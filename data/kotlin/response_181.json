[{"tags": ["kotlin", "rx-kotlin", "rx-kotlin2"], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 1988515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a88ebacb433f7009e8bdb5df0eccc0?s=128&d=identicon&r=PG", "display_name": "Ananth Raghuraman", "link": "https://stackoverflow.com/users/1988515/ananth-raghuraman"}, "is_accepted": false, "score": 0, "last_activity_date": 1530144856, "creation_date": 1530144856, "answer_id": 51073046, "question_id": 51072877, "link": "https://stackoverflow.com/questions/51072877/rxkotlin-repo-gradle-build-compilation-fails-with-gradle-4-7-jdk-1-8/51073046#51073046", "title": "RxKotlin repo gradle build compilation fails with gradle 4.7 (JDK 1.8)", "body": "<p>Looks like I have to use the gradle 2.14 version that came as part of the repo instead of the one I have installed locally. It builds successfully now</p>\n"}], "owner": {"reputation": 43, "user_id": 1988515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a88ebacb433f7009e8bdb5df0eccc0?s=128&d=identicon&r=PG", "display_name": "Ananth Raghuraman", "link": "https://stackoverflow.com/users/1988515/ananth-raghuraman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530144856, "creation_date": 1530143385, "question_id": 51072877, "link": "https://stackoverflow.com/questions/51072877/rxkotlin-repo-gradle-build-compilation-fails-with-gradle-4-7-jdk-1-8", "title": "RxKotlin repo gradle build compilation fails with gradle 4.7 (JDK 1.8)", "body": "<p>I tried the following:</p>\n\n<pre><code>$ git clone https://github.com/ReactiveX/RxKotlin.git    \n$ cd RxKotlin/    \n$ gradle build\n</code></pre>\n\n<p>It fails with:</p>\n\n<blockquote>\n  <p>...FAILURE: Build failed with an exception.</p>\n  \n  <ul>\n  <li><p>Where: Build file '/home/myuser/RxKotlin/build.gradle' line: 13</p></li>\n  <li><p>What went wrong: A problem occurred evaluating root project 'rxkotlin'.</p>\n  \n  <blockquote>\n    <p>org/gradle/api/internal/project/AbstractProject</p>\n  </blockquote></li>\n  </ul>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "kotlin-delegate"], "answers": [{"comments": [{"owner": {"reputation": 11721, "user_id": 758458, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3fa01cb646a69392d911bfd876ff884e?s=128&d=identicon&r=PG", "display_name": "howettl", "link": "https://stackoverflow.com/users/758458/howettl"}, "edited": false, "score": 0, "creation_date": 1530208372, "post_id": 51073011, "comment_id": 89166173, "body": "Can you qualify what you mean by it will generate a lot of trash code?"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 11721, "user_id": 758458, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3fa01cb646a69392d911bfd876ff884e?s=128&d=identicon&r=PG", "display_name": "howettl", "link": "https://stackoverflow.com/users/758458/howettl"}, "edited": false, "score": 1, "creation_date": 1530227433, "post_id": 51073011, "comment_id": 89172828, "body": "@howettl it&#39;s an inline function so entire block is copied into calling place. If you check bytecode of your class A, you will find that generated functions <code>getaNumber()</code> and <code>getanotherNumber()</code> are not calling <code>instanceOfB</code> <code>getValue</code> method at all. Instead you will see there&#39;s entire body of <code>getValue</code> copied inside each getter function."}, {"owner": {"reputation": 11721, "user_id": 758458, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3fa01cb646a69392d911bfd876ff884e?s=128&d=identicon&r=PG", "display_name": "howettl", "link": "https://stackoverflow.com/users/758458/howettl"}, "edited": false, "score": 0, "creation_date": 1530292730, "post_id": 51073011, "comment_id": 89200312, "body": "Another thing to watch out for with this approach is if you have multiple delegated properties of the same type, you&#39;ll need to ensure you identify them a secondary way (such as with <code>property.name</code>) to avoid returning the wrong property."}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 1, "last_activity_date": 1530144585, "creation_date": 1530144585, "answer_id": 51073011, "question_id": 51072178, "link": "https://stackoverflow.com/questions/51072178/is-it-possible-to-provide-multiple-delegate-types-with-a-single-class/51073011#51073011", "title": "Is it possible to provide multiple delegate types with a single class?", "body": "<p>Only way I got it to compile and run, albeit I highly advise against using it aside from proof of concept since inline will generate a lot of trash code, and each <code>getValue</code> call will run through entire <code>when</code> statement:</p>\n\n<pre><code>class B {\n  inline operator fun &lt;reified T : Any&gt;getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T {\n    return when(T::class.java){\n        SomeType::class.java -&gt; SomeType() as T\n        SomeOtherType::class.java-&gt; SomeOtherType() as T\n        else -&gt; Unit as T\n    }\n  }\n}\n</code></pre>\n\n<p>There's also <code>operator fun provideDelegate</code> that generates the delegates, but it's limited to 1 return value as well. I don't think there's elegant / supported way to doing what you need right now.</p>\n"}], "owner": {"reputation": 11721, "user_id": 758458, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3fa01cb646a69392d911bfd876ff884e?s=128&d=identicon&r=PG", "display_name": "howettl", "link": "https://stackoverflow.com/users/758458/howettl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 51073011, "answer_count": 1, "score": 1, "last_activity_date": 1530144585, "creation_date": 1530137832, "question_id": 51072178, "link": "https://stackoverflow.com/questions/51072178/is-it-possible-to-provide-multiple-delegate-types-with-a-single-class", "title": "Is it possible to provide multiple delegate types with a single class?", "body": "<p>I'd like to provide multiple different delegates from a single class, with differing types.  For example:</p>\n\n<pre><code>class A {\n  val instanceOfB = B()\n\n  val aNumber: SomeType by instanceOfB\n  val anotherNumber: SomeOtherType by instanceOfB\n}\n\nclass B {\n  operator fun &lt;T1: SomeType&gt; getValue(thisRef: Any?, property: KProperty&lt;T1&gt;): T1 {\n    return SomeType()\n  }\n\n  operator fun &lt;T2: SomeOtherType&gt; getValue(thisRef: Any?, property: KProperty&lt;T2&gt;): T2 {\n    return SomeOtherType()\n  }\n}\n\nopen class SomeType {}\nopen class SomeOtherType {}\n</code></pre>\n\n<p>This example gives the following compiler error:\n<code>'operator' modifier is inapplicable on this function: second parameter must be of type KProperty&lt;*&gt; or its supertype</code></p>\n\n<p>Is there some way to specify the generic type arguments such that I can achieve this?</p>\n"}, {"tags": ["json", "kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1530182550, "last_edit_date": 1530182550, "creation_date": 1530134587, "answer_id": 51071614, "question_id": 51069786, "link": "https://stackoverflow.com/questions/51069786/get-serializedname-param-from-child-class-in-kotlin/51071614#51071614", "title": "Get SerializedName param from child class in Kotlin", "body": "<p>An annotation like <code>SerializedData</code> requires its arguments to be compile-time constants. Having a look at what \"compile-time constant\" means in Kotlin reveals:</p>\n\n<blockquote>\n  <p>Properties the value of which is known at compile time can be marked as compile time constants using the const modifier. Such properties need to fulfil the following requirements:</p>\n  \n  <ul>\n  <li>Top-level or member of an object</li>\n  <li>Initialized with a value of type String or a primitive type</li>\n  <li>No custom getter</li>\n  </ul>\n  \n  <p>Such properties can be used in annotations:</p>\n\n<pre><code>const val SUBSYSTEM_DEPRECATED: String = \"This subsystem is deprecated\"\n\n@Deprecated(SUBSYSTEM_DEPRECATED) fun foo() { ... }\n</code></pre>\n</blockquote>\n\n<p>I believe the first requirement \"Top-level or member of an object\" cannot be fulfilled for your use case.</p>\n"}], "owner": {"reputation": 972, "user_id": 1663135, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/2gGyJ.jpg?s=128&g=1", "display_name": "Ali Yucel Akgul", "link": "https://stackoverflow.com/users/1663135/ali-yucel-akgul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530182550, "creation_date": 1530126265, "question_id": 51069786, "link": "https://stackoverflow.com/questions/51069786/get-serializedname-param-from-child-class-in-kotlin", "title": "Get SerializedName param from child class in Kotlin", "body": "<p>I am trying to parse an API response mainly constructured like this:</p>\n\n<pre><code>{\n    \"ApiFunc1\":{\n        \"SomeData1\":\"SomeValue1\",\n        \"SomeData2\":\"SomeValue2\",\n        \"SomeData3\":\"SomeValue3\"\n    }\n}\n\n\n{\n    \"ApiFunc2\":{\n        \"SomeData4\":\"SomeValue4\",\n        \"SomeData5\":\"SomeValue5\",\n        \"SomeData6\":\"SomeValue6\"\n    }\n}\n.\n.\n.\n</code></pre>\n\n<p>I created a base class as follows:</p>\n\n<pre><code>class Model_BaseResponse&lt;TResponse&gt; : Serializable {\n\n    @SerializedName(\"ErrorMessage\")\n    var errorMessage: String? = null\n\n    @SerializedName(\"value\")\n    var data: TResponse? = null\n\n}\n</code></pre>\n\n<p>Each ApiFunc returns different data. I want to create a base class where <code>data: TResponse</code>'s @SerializedName(\"ApiFunc1\") or @SerializedName(\"ApiFunc2\") can be set in child class. Is there any way to that? I do it in regular way, defining the </p>\n\n<pre><code>@SerializedName(\"value\")\nvar data: TResponse? = null\n</code></pre>\n\n<p>in every child class. Just been curious about that. Thanks in advance for any idea.</p>\n"}, {"tags": ["kotlin", "kotlin-lateinit"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1530122745, "post_id": 51068942, "comment_id": 89127772, "body": "Looks like a duplicate of this: <a href=\"https://stackoverflow.com/q/51007975/4465208\">stackoverflow.com/q/51007975/4465208</a>"}, {"owner": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1530122848, "post_id": 51068942, "comment_id": 89127818, "body": "right. it&#39;s definitely duplicate. thx!"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1593640216, "post_id": 51068942, "comment_id": 110855381, "body": "Did you find a solution?  I am facing the same issue."}], "owner": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1448, "favorite_count": 0, "closed_date": 1530123880, "answer_count": 0, "score": 2, "last_activity_date": 1530122639, "creation_date": 1530122639, "question_id": 51068942, "link": "https://stackoverflow.com/questions/51068942/access-lateinit-variable-in-companion-class", "closed_reason": "Duplicate", "title": "Access lateinit variable in Companion class", "body": "<p>I have the following code:</p>\n\n<pre><code>abstract class Database : RoomDatabase() {\n\n    companion object {\n        @Volatile\n        lateinit var INSTANCE: Database\n            private set\n\n        fun init(context: Context) {\n            val initialized = ::INSTANCE.isInitialized\n            if (!initialized) {\n                INSTANCE = Room.databaseBuilder(...\n</code></pre>\n\n<p>which compiles just fine for some reason. At run-time, when the application started on device this exception is thrown:</p>\n\n<blockquote>\n  <p>java.lang.NoSuchFieldError: No static field INSTANCE of type\n  Lpersistance/Database; in class Lpersistance/Database$Companion; or\n  its superclasses (declaration of 'persistance.Database$Companion'\n  appears in /data/app/split_lib_slice_1_apk.apk) at\n  persistance.Database$Companion.init(Database.kt:22)</p>\n</blockquote>\n\n<p>Checking decompiled version of the class, I found that <code>INSTANCE</code> variable defined in Database class:</p>\n\n<pre><code>public abstract class Database extends RoomDatabase {\n   private static volatile Database INSTANCE;\n</code></pre>\n\n<p><code>.IsInitialised</code> code actually represented in Java version that way:</p>\n\n<pre><code>public static final class Companion {\n   public final Database getINSTANCE() {\n      return Database.access$getINSTANCE$cp();\n   }\n   private final void setINSTANCE(Database var1) {\n      Database.INSTANCE = var1;\n   }\n\n   public final void init(Context context) {\n      boolean initialized = INSTANCE != null;  // error here\n      if (!initialized) { ...\n</code></pre>\n\n<p>It's clear that the issue is that the <code>INSTANCE</code> variable must be referenced as <code>Database.INSTANCE</code>.</p>\n\n<p>Cannot understand, why the code compiles but throws run-time exception and how can I check if <code>lateinit</code> variable is initialized?</p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 3, "last_activity_date": 1530123020, "creation_date": 1530123020, "answer_id": 51069016, "question_id": 51068730, "link": "https://stackoverflow.com/questions/51068730/kotlin-typecastexception-null-cannot-be-cast-to-non-null-type-error/51069016#51069016", "title": "kotlin.TypeCastException: null cannot be cast to non-null type error", "body": "<p>Your <code>findfragmentById</code> is returning <code>null</code> (which indicates that your fragment does not exist).</p>\n\n<p>If you're absolutely sure that fragment cannot be <code>null</code> at this point, you need to review your code. Maybe your fragment is not attached to <code>supportFragmentManager</code>?</p>\n\n<p>If you want to handle a case where this fragment might not exist, You can use nullable cast <code>as?</code>:</p>\n\n<pre><code>val mapInfoWindowFragment = supportFragmentManager.findFragmentById(R.id.infoWindowMap) as? MapInfoWindowFragment\n</code></pre>\n\n<p>Then you can check conditionally <code>if(mapInfoWindowFragment == null)</code> and handle the null case.</p>\n"}], "owner": {"reputation": 39, "user_id": 10001366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Cd8w5Sib57U/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0iiO6cDTpQFsfs5u9beQtp6A1x4g/mo/photo.jpg?sz=128", "display_name": "Sampo Kaarenmaa", "link": "https://stackoverflow.com/users/10001366/sampo-kaarenmaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1644, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530123020, "creation_date": 1530121738, "question_id": 51068730, "link": "https://stackoverflow.com/questions/51068730/kotlin-typecastexception-null-cannot-be-cast-to-non-null-type-error", "title": "kotlin.TypeCastException: null cannot be cast to non-null type error", "body": "<p>I'm trying to get a info box working with Google Maps API. When trying to run the application, and adding a marker with custom info box it crashes.\nHere is my code:</p>\n\n<p>class MainMapsActivity : AppCompatActivity(), OnMapReadyCallback {</p>\n\n<pre><code>private lateinit var mMap: GoogleMap\nprivate val test: ArrayList&lt;String&gt; = arrayListOf()\n\nprivate var mLocationPermissionGranted: Boolean = false\nprivate val PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION: Int = 1234\n// ^Number isnt definitive, as long as its unique inside the application\nprivate val DEFAULT_ZOOM: Float = 15.0F\n\nprivate var mLastKnownLocation: Location? = null\n\nprivate val mDefaultLocation = LatLng(60.312491, 24.484248)\n\nprivate lateinit var mFusedLocationProviderClient: FusedLocationProviderClient\n\n\n\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main_maps)\n\n\n    // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n    val mapFragment = supportFragmentManager\n            .findFragmentById(R.id.map) as SupportMapFragment\n    mapFragment.getMapAsync(this)\n\n    mFusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this)\n}\n\n\noverride fun onMapReady(googleMap: GoogleMap) {\n    mMap = googleMap\n\n    getDeviceLocation()\n\n    //PRESSING WILL ADD MARKER\n    mMap.setOnMapClickListener(GoogleMap.OnMapClickListener { point -&gt;\n        val builder: AlertDialog.Builder\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            builder = AlertDialog.Builder(this, android.R.style.Theme_Material_Dialog_Alert)\n        } else {\n            builder = AlertDialog.Builder(this)\n        }\n        val marker = MarkerOptions().position(point)\n        builder.setTitle(\"Are you sure you want to add a map location here?\")\n                .setMessage(\"Are you sure you want to add a map location here?\")\n                .setPositiveButton(android.R.string.yes, DialogInterface.OnClickListener { dialog, which -&gt;\n                    mMap.addMarker(marker)\n                            //CUSTOM MARKER\n                            .setIcon(BitmapDescriptorFactory.fromResource(R.mipmap.pinetree_foreground))\n                })\n\n                .setNegativeButton(android.R.string.no, DialogInterface.OnClickListener { dialog, which -&gt;\n                    // do nothing\n                })\n                .show()\n\n        true\n       val mapInfoWindowFragment = supportFragmentManager.findFragmentById(R.id.infoWindowMap) as MapInfoWindowFragment\n\n        //Set Custom InfoWindow\n         val infoWindow = InfoWindow(point, InfoWindow.MarkerSpecification(0, 0), mapInfoWindowFragment)\n        // Shows the InfoWindow or hides it if it is already opened.\n        mapInfoWindowFragment.infoWindowManager()?.toggle(infoWindow, true);\n\n\n    })\n</code></pre>\n\n<p>And here is the error Logcat gives me:</p>\n\n<pre><code>kotlin.TypeCastException: null cannot be cast to non-null type com.example.sampo.luontoalueet.MapInfoWindowFragment\n    at com.example.sampo.luontoalueet.MainMapsActivity$onMapReady$1.onMapClick(MainMapsActivity.kt:123)\n</code></pre>\n\n<p>My question is how to change change this statement into non-null type?</p>\n\n<pre><code>val mapInfoWindowFragment = supportFragmentManager.findFragmentById(R.id.infoWindowMap) as MapInfoWindowFragment\n</code></pre>\n"}, {"tags": ["android", "arrays", "string", "kotlin", "sharedpreferences"], "comments": [{"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "edited": false, "score": 0, "creation_date": 1530120354, "post_id": 51068381, "comment_id": 89126582, "body": "I said hello guys but stackOverflow deleted it , so Hello :)"}, {"owner": {"reputation": 175, "user_id": 2397822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b5decadfa867fc8a52068e5c35a0d5a?s=128&d=identicon&r=PG&f=1", "display_name": "aruh", "link": "https://stackoverflow.com/users/2397822/aruh"}, "edited": false, "score": 0, "creation_date": 1530122267, "post_id": 51068381, "comment_id": 89127526, "body": "Heyho :) <code>SharedPreferences</code> doesn&#39;t keep multiple values for a key. <code>putString(key, value)</code> with the same key will replace the previous value. That&#39;s why it only shows the last key.  To use the same key, all <code>String</code> values have to be added up to one <code>String</code> and that can be saved with the key. The answers show ways to do that."}], "answers": [{"tags": [], "owner": {"reputation": 13821, "user_id": 5137352, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/852863871429825/picture?type=large", "display_name": "Nabin Bhandari", "link": "https://stackoverflow.com/users/5137352/nabin-bhandari"}, "is_accepted": false, "score": 1, "last_activity_date": 1530120826, "creation_date": 1530120826, "answer_id": 51068504, "question_id": 51068381, "link": "https://stackoverflow.com/questions/51068381/android-sharedprefences-multiple-values-for-one-key/51068504#51068504", "title": "Android SharedPrefences multiple values for one key", "body": "<p>You cannot simply loop values in an <code>ArrayList</code> put them in the preferences using same key for all values and expect to retrieve the <code>ArrayList</code> back.</p>\n\n<p>You can convert the 'ArrayList' in <code>JSON</code> format and store it in <code>SharedPreferences</code>. Then to parse the <code>JSON</code> string to get the <code>ArrayList</code>.</p>\n\n<p>You can make this process easier with the help of a library called <code>Gson</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2778, "user_id": 6139031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012469378aeb9c6bbb7fc54c08fec6b4?s=128&d=identicon&r=PG", "display_name": "Rizwan Atta", "link": "https://stackoverflow.com/users/6139031/rizwan-atta"}, "is_accepted": false, "score": 3, "last_activity_date": 1530121282, "last_edit_date": 1530121282, "creation_date": 1530120957, "answer_id": 51068532, "question_id": 51068381, "link": "https://stackoverflow.com/questions/51068381/android-sharedprefences-multiple-values-for-one-key/51068532#51068532", "title": "Android SharedPrefences multiple values for one key", "body": "<p>ok here how it is! If you want multiple data against one key in share pref editor then  <strong>SET</strong> is your solution as After API 11 the SharedPreferences Editor accept Sets. You could convert your List into a HashSet or something similar and store it like that When your read it back, convert it into an ArrayList, sort it if needed and you're good to go.</p>\n\n<pre><code>        //Set the values\n        val yourSet = HashSet&lt;String&gt;()\n        set.addAll(listOfExistingScores)\n        yourPrefEditor.putStringSet(\"key\", yourSet)\n        yourPrefEditor.commit()\n\n        //Retrieve the values\n        val yourSet = yourPref.getStringSet(\"key\", null)\n</code></pre>\n\n<p><strong>SOLUTION NUMBER 2</strong> </p>\n\n<p>would be like serializing the ArrayList and passing it! but there can be a catch if any value in your array does posses any rule that can't be Parced it will <strong>crash</strong>!</p>\n\n<p>For More check this <a href=\"https://stackoverflow.com/questions/7057845/save-arraylist-to-sharedpreferences\"><strong>Thread</strong></a> this is in java but it will help tell you more! </p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1530121322, "last_edit_date": 1530121322, "creation_date": 1530120973, "answer_id": 51068537, "question_id": 51068381, "link": "https://stackoverflow.com/questions/51068381/android-sharedprefences-multiple-values-for-one-key/51068537#51068537", "title": "Android SharedPrefences multiple values for one key", "body": "<p>Try this:</p>\n\n<pre><code>    with(preferences.edit()) {\n        var s = \"\" \n        for (value in array) {\n            s = s + value + \",\"\n        }\n        putString(key, value)\n        commit()\n    }\n</code></pre>\n\n<p>your array will be saved like comma separated values which when read back in a string, by using the split function will become an array.</p>\n"}, {"comments": [{"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "edited": false, "score": 0, "creation_date": 1530123813, "post_id": 51069076, "comment_id": 89128253, "body": "Thanks for this very nice example ! The &quot;ArrayList&lt;String&gt;()::class.java)&quot; part helped me so much because I was lost"}], "tags": [], "owner": {"reputation": 1157, "user_id": 7894911, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zE7ZYx-bfsw/AAAAAAAAAAI/AAAAAAAAIas/HMikXw-ONKc/photo.jpg?sz=128", "display_name": "Yaswant Narayan", "link": "https://stackoverflow.com/users/7894911/yaswant-narayan"}, "is_accepted": true, "score": 3, "last_activity_date": 1530158556, "last_edit_date": 1530158556, "creation_date": 1530123276, "answer_id": 51069076, "question_id": 51068381, "link": "https://stackoverflow.com/questions/51068381/android-sharedprefences-multiple-values-for-one-key/51069076#51069076", "title": "Android SharedPrefences multiple values for one key", "body": "<p>This is a quick example based on <strong>Nabin Bhandari</strong>'s answer</p>\n\n<pre><code>fun writeArrayOnPreferences(key: String, array: ArrayList&lt;String&gt;, c:Context) {\n    val jsonString = Gson().toJson(array)\n    pref.edit().putString(key, jsonString).commit()\n}\n\nfun readArrayFromPreferences(key: String, c: Context): ArrayList&lt;String&gt; {\n    val jsonString = pref.getString(key)\n    val array = Gson().fromJson(jsonString, ArrayList&lt;String&gt;()::class.java)\n    return array\n}\n</code></pre>\n"}], "owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 965, "favorite_count": 0, "accepted_answer_id": 51069076, "answer_count": 4, "score": 1, "last_activity_date": 1530158556, "creation_date": 1530120304, "last_edit_date": 1530120835, "question_id": 51068381, "link": "https://stackoverflow.com/questions/51068381/android-sharedprefences-multiple-values-for-one-key", "title": "Android SharedPrefences multiple values for one key", "body": "<p>I have a probleme here.</p>\n\n<p>I don't know how to read all values of a SharedPreferences for one particular key.\nActually I'm trying to write an Arraylist in preferences , then read it.</p>\n\n<p>Let me explain with some code, Here is my methods for write in preferences :</p>\n\n<pre><code>fun writeArrayOnPreferences(key: String?, array: ArrayList&lt;String&gt;, c:Context) {\n        val preferences = c.getSharedPreferences(\n                c.getString(key), Context.MODE_PRIVATE)\n        with(preferences.edit()) {\n            for (value in array) {\n                putString(key, value)\n            }\n            commit()\n        }\n    }\n</code></pre>\n\n<p>My writing code works , it's persistent , but I don't really understand how to READ this Arraylist from preferences.</p>\n\n<p>I tried a lot of things to read this but it show me only the last element wrote in preferences</p>\n\n<p>I really want you to understand that I want multiple values for a specific key</p>\n"}, {"tags": ["android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 762, "user_id": 8572503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/97zqG.jpg?s=128&g=1", "display_name": "exploitr", "link": "https://stackoverflow.com/users/8572503/exploitr"}, "edited": false, "score": 0, "creation_date": 1530118674, "post_id": 51067968, "comment_id": 89125800, "body": "Use the view returned from <code>View.inflate</code> | <code>View x = View.inflate()</code> | <code>x.findViewById()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1320, "user_id": 1779222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a0f8a29a51d47bf7066267a9d3e0b20?s=128&d=identicon&r=PG", "display_name": "egoldx", "link": "https://stackoverflow.com/users/1779222/egoldx"}, "is_accepted": true, "score": 6, "last_activity_date": 1530118954, "last_edit_date": 1530118954, "creation_date": 1530118718, "answer_id": 51067997, "question_id": 51067968, "link": "https://stackoverflow.com/questions/51067968/kotlin-custom-view-referencing-textview-returns-null/51067997#51067997", "title": "Kotlin Custom View referencing textview returns null", "body": "<p>You have to add parent layout as parameter to 'inflate' method.</p>\n\n<pre><code>class CustomerView(context: Context, attrs: AttributeSet) : LinearLayout(context, attrs) {\n\n    private var txtName: TextView\n    private var txtAge: TextView\n\n    init {\n\n        View.inflate(context, R.layout.view_customer, this)\n\n        txtName = findViewById(R.id.txtTestName)\n        txtAge = findViewById(R.id.txtTestAge)\n\n        txtName.text = \"Derek\"\n        txtAge.text = \"23\"\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2812, "favorite_count": 2, "accepted_answer_id": 51067997, "answer_count": 1, "score": 6, "last_activity_date": 1542037686, "creation_date": 1530118596, "last_edit_date": 1542037686, "question_id": 51067968, "link": "https://stackoverflow.com/questions/51067968/kotlin-custom-view-referencing-textview-returns-null", "title": "Kotlin Custom View referencing textview returns null", "body": "<p>I have a Custom view:</p>\n\n<pre><code>class CustomerView(context: Context, attrs: AttributeSet) : LinearLayout(context, attrs) {\n\n    private var txtName: TextView\n    private var txtAge: TextView\n\n    init {\n\n        View.inflate(context, R.layout.view_customer, null)\n\n        txtName = findViewById(R.id.txtTestName)\n        txtAge = findViewById(R.id.txtTestAge)\n\n        txtName.text = \"Person\"\n        txtAge.text = \"61\"\n\n    }\n}\n</code></pre>\n\n<p>My Layout <code>view_customer</code> looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/txtTestName\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"name\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/txtTestAge\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"age\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>however when I call it in my other page, the app crashes saying </p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalStateException:\n  findViewById(R.id.txtTestName) must not be null\n          at com.helcim.helcimcommercemobile.customviews.CustomerView.(CustomerView.kt:19)</p>\n</blockquote>\n\n<p>which is when I am trying to assign <code>txtName</code></p>\n\n<p>I don't really understand how it is null when I have it in the layout view. and it is named the same.</p>\n\n<p>Am I creating a custom view incorrectly?</p>\n"}, {"tags": ["testing", "kotlin", "spek", "testcontainers"], "answers": [{"tags": [], "owner": {"reputation": 402, "user_id": 72305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aecd1b505a962a92abf992d10bd4818f?s=128&d=identicon&r=PG", "display_name": "Richard North", "link": "https://stackoverflow.com/users/72305/richard-north"}, "is_accepted": false, "score": 0, "last_activity_date": 1542102160, "creation_date": 1542102160, "answer_id": 53278039, "question_id": 51067702, "link": "https://stackoverflow.com/questions/51067702/run-database-once-per-spek-suite/53278039#53278039", "title": "Run database once per Spek suite", "body": "<p>This answer is not Spek-specific, but Testcontainers objects expose a simple <code>start()</code> and <code>stop()</code> method, meaning that you don't have to rely on the test framework to control your container lifecycle if you don't want to. You can create a container in a static object that is separate from your test classes, and then access it across all tests if you like.</p>\n\n<p>Please see an example <a href=\"https://testcontainers.gitbook.io/workshop/step-6-adding-redis#rules-no-thanks\" rel=\"nofollow noreferrer\">here</a> (<em>Java</em> example snippet below):</p>\n\n<pre><code>static {\n    GenericContainer redis = new GenericContainer(\"redis:3-alpine\")\n            .withExposedPorts(6379);\n    redis.start();\n}\n</code></pre>\n\n<p>I would imagine an equivalent in Kotlin should be quite easy as an <code>object</code> (or similar).</p>\n"}], "owner": {"reputation": 1879, "user_id": 1130975, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/3682a919cff609aa82c72a2d3549eccf?s=128&d=identicon&r=PG&f=1", "display_name": "kboom", "link": "https://stackoverflow.com/users/1130975/kboom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542102160, "creation_date": 1530117553, "question_id": 51067702, "link": "https://stackoverflow.com/questions/51067702/run-database-once-per-spek-suite", "title": "Run database once per Spek suite", "body": "<p>Some tests require running a database, for instance, using Test Containers Library. It obviously takes time to boot it up.</p>\n\n<p>Is there a way to do this only once per entire Spek suite which spans across multiple files? The docs don't say anything about this.</p>\n\n<p>Anyone knows why this has not been implemented?</p>\n"}, {"tags": ["android-studio", "kotlin", "android-room", "android-glide"], "answers": [{"tags": [], "owner": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "is_accepted": true, "score": 7, "last_activity_date": 1530115857, "creation_date": 1530115857, "answer_id": 51067251, "question_id": 51066583, "link": "https://stackoverflow.com/questions/51066583/should-i-change-all-annotationprocessor-to-kapt-in-kotlin-project/51067251#51067251", "title": "Should I change all annotationProcessor to kapt in Kotlin project", "body": "<p>Yes, it is recommended to do so. The documentation stated:</p>\n\n<blockquote>\n  <p>If you previously used the Android support for annotation processors, replace usages of the <code>annotationProcessor</code> configuration with <code>kapt</code>. If your project contains Java classes, <code>kapt</code> will also take care of them.</p>\n</blockquote>\n\n<p><a href=\"http://kotlinlang.org/docs/reference/kapt.html\" rel=\"noreferrer\">Read more on Using kapt</a></p>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "accepted_answer_id": 51067251, "answer_count": 1, "score": 0, "last_activity_date": 1530115857, "creation_date": 1530113539, "question_id": 51066583, "link": "https://stackoverflow.com/questions/51066583/should-i-change-all-annotationprocessor-to-kapt-in-kotlin-project", "title": "Should I change all annotationProcessor to kapt in Kotlin project", "body": "<p>I noticed that I have to use <code>kapt</code> instead of <code>annotationProcessor</code> to make <code>Dagger 2</code> work properly in my Kotlin project. Do I have to do the same to all the libraries (specifically <code>Glide</code> and <code>Room</code>)?</p>\n"}, {"tags": ["java", "spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 3316, "user_id": 4536841, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wnlcctodR6E/AAAAAAAAAAI/AAAAAAAAAEI/AknmyOx-TqU/photo.jpg?sz=128", "display_name": "Nikolay Rusev", "link": "https://stackoverflow.com/users/4536841/nikolay-rusev"}, "edited": false, "score": 0, "creation_date": 1530523417, "post_id": 51066238, "comment_id": 89250150, "body": "what server you are using ? Tomcat ?"}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 3316, "user_id": 4536841, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wnlcctodR6E/AAAAAAAAAAI/AAAAAAAAAEI/AknmyOx-TqU/photo.jpg?sz=128", "display_name": "Nikolay Rusev", "link": "https://stackoverflow.com/users/4536841/nikolay-rusev"}, "edited": false, "score": 0, "creation_date": 1530523454, "post_id": 51066238, "comment_id": 89250175, "body": "@NikolayRusev - Yes, Tomcat."}, {"owner": {"reputation": 544, "user_id": 1922011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f81d5bcb027915d8021ab4dbdbefd6?s=128&d=identicon&r=PG", "display_name": "Mukhtiar Ahmed", "link": "https://stackoverflow.com/users/1922011/mukhtiar-ahmed"}, "edited": false, "score": 0, "creation_date": 1530524253, "post_id": 51066238, "comment_id": 89250676, "body": "which spring-boot version are you using?"}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 544, "user_id": 1922011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f81d5bcb027915d8021ab4dbdbefd6?s=128&d=identicon&r=PG", "display_name": "Mukhtiar Ahmed", "link": "https://stackoverflow.com/users/1922011/mukhtiar-ahmed"}, "edited": false, "score": 0, "creation_date": 1530524292, "post_id": 51066238, "comment_id": 89250700, "body": "@MukhtiarAhmed 1.5.3-RELEASE"}, {"owner": {"reputation": 544, "user_id": 1922011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f81d5bcb027915d8021ab4dbdbefd6?s=128&d=identicon&r=PG", "display_name": "Mukhtiar Ahmed", "link": "https://stackoverflow.com/users/1922011/mukhtiar-ahmed"}, "edited": false, "score": 0, "creation_date": 1530524525, "post_id": 51066238, "comment_id": 89250828, "body": "You can find solution from following link <a href=\"https://stackoverflow.com/questions/31461444/how-do-i-configure-this-property-with-spring-boot-and-an-embedded-tomcat\" title=\"how do i configure this property with spring boot and an embedded tomcat\">stackoverflow.com/questions/31461444/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12238, "user_id": 820410, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/caf1b9677751f09d6073bc0ad20fd5a3?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Singhal", "link": "https://stackoverflow.com/users/820410/pankaj-singhal"}, "is_accepted": false, "score": 2, "last_activity_date": 1530522693, "creation_date": 1530522693, "answer_id": 51132616, "question_id": 51066238, "link": "https://stackoverflow.com/questions/51066238/spring-server-connection-timeout-not-working/51132616#51132616", "title": "Spring - server.connection-timeout not working", "body": "<p>From the official <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>server.connection-timeout= # Time that connectors wait for another HTTP request before closing the connection. When not set, the connector's container-specific default is used. Use a value of -1 to indicate no (that is, an infinite) timeout.</p>\n</blockquote>\n\n<p>Another <a href=\"https://stackoverflow.com/a/31461882/820410\">ref</a>, also mentions the same. It should work for you. </p>\n"}, {"comments": [{"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 1, "creation_date": 1530601055, "post_id": 51148315, "comment_id": 89280614, "body": "So what <i>is</i> a request timeout?"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1582842962, "post_id": 51148315, "comment_id": 106926603, "body": "@MatthewLayton A request timeout is a timer you set at the client to timeout the receipt of the first part of the response."}], "tags": [], "owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "is_accepted": false, "score": 2, "last_activity_date": 1530600986, "creation_date": 1530600986, "answer_id": 51148315, "question_id": 51066238, "link": "https://stackoverflow.com/questions/51066238/spring-server-connection-timeout-not-working/51148315#51148315", "title": "Spring - server.connection-timeout not working", "body": "<blockquote>\n  <p>When I call the endpoint, the request never times out, it just hangs indefinitely.</p>\n</blockquote>\n\n<p><code>server.connection-timeout</code> isn't a request timeout. It is a timeout for idle connections, i.e. those that have already had a request/response pair and on which the server is now awaiting a second request. It is essentially a server-side read timeout.</p>\n"}, {"tags": [], "owner": {"reputation": 1488, "user_id": 479159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820fae10e8ad13e4ea72ce6d5afd2f1f?s=128&d=identicon&r=PG", "display_name": "Andrei Damian-Fekete", "link": "https://stackoverflow.com/users/479159/andrei-damian-fekete"}, "is_accepted": true, "score": 16, "last_activity_date": 1530606232, "creation_date": 1530606232, "answer_id": 51149846, "question_id": 51066238, "link": "https://stackoverflow.com/questions/51066238/spring-server-connection-timeout-not-working/51149846#51149846", "title": "Spring - server.connection-timeout not working", "body": "<p><code>connection-timeout</code> does not apply to long running requests. It does apply to the initial connection, when the server waits for the client to say something.</p>\n\n<p>Tomcat docs (not Spring Boot) define it as <em>The number of milliseconds this Connector will wait, after accepting a connection, for the request URI line to be presented [...]</em></p>\n\n<p>To test the setting <code>server.connection-timeout=4000</code> I connect using <code>netcat</code> and I don't send any HTTP request/headers. I get:</p>\n\n<pre><code>$ time nc -vv localhost 1234\nConnection to localhost 1234 port [tcp/*] succeeded!\n\nreal    0m4.015s\nuser    0m0.000s\nsys     0m0.000s\n</code></pre>\n\n<hr>\n\n<p><strong>Alternatives</strong></p>\n\n<p><strong>1) Async</strong></p>\n\n<p>From <a href=\"https://brightinventions.pl/blog/spring-mvc-thread-pool-timeouts/\" rel=\"noreferrer\">brightinventions.pl - Spring MVC Thread Pool Timeouts</a>:</p>\n\n<blockquote>\n  <p>In Spring MVC there is no way to configure a timeout unless you use async method. With async method one can use spring.mvc.async.request-timeout= to set amount of time (in milliseconds) before asynchronous request handling times out.</p>\n</blockquote>\n\n<p>I've set <code>spring.mvc.async.request-timeout=4000</code> and I get a timeout in the browser with this:</p>\n\n<pre><code>@GetMapping(\"/test-async\")\npublic Callable&lt;String&gt; getFoobar() {\n   return () -&gt; {\n      Thread.sleep(12000); //this will cause a timeout\n      return \"foobar\";\n   };\n}\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/34852236/spring-boot-rest-api-request-timeout\">Spring Boot REST API - request timeout?</a></p>\n\n<p><strong>2) Servlet filter</strong></p>\n\n<p>Another solution would be to use a servlet filter <a href=\"https://brightinventions.pl/blog/spring-mvc-request-timeout/\" rel=\"noreferrer\">brightinventions.pl - Request timeouts in Spring MVC</a> (Kotlin):</p>\n\n<pre><code>override fun doFilterInternal(request: HttpServletRequest, response: HttpServletResponse, filterChain: FilterChain) {\n    val completed = AtomicBoolean(false)\n    val requestHandlingThread = Thread.currentThread()\n    val timeout = timeoutsPool.schedule({\n        if (completed.compareAndSet(false, true)) {\n            requestHandlingThread.interrupt()\n        }\n    }, 5, TimeUnit.SECONDS)\n\n    try {\n        filterChain.doFilter(request, response)\n        timeout.cancel(false)\n    } finally {\n        completed.set(true)\n    }\n}\n</code></pre>\n\n<p><strong>3) Tomcat Stuck Thread Detection Valve?</strong></p>\n\n<p>Tomcat has a <a href=\"http://tomcat.apache.org/tomcat-8.5-doc/config/valve.html#Stuck_Thread_Detection_Valve\" rel=\"noreferrer\">Stuck Thread Detection Valve</a> but I don't know if this can be configured programmatically using Spring Boot.</p>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30960, "favorite_count": 3, "accepted_answer_id": 51149846, "answer_count": 3, "score": 17, "last_activity_date": 1572486988, "creation_date": 1530112317, "last_edit_date": 1530523626, "question_id": 51066238, "link": "https://stackoverflow.com/questions/51066238/spring-server-connection-timeout-not-working", "title": "Spring - server.connection-timeout not working", "body": "<p>In my <code>application.properties</code> file I have...</p>\n\n<pre><code>server.port=8086\nserver.connection-timeout=15000\n</code></pre>\n\n<p>I know that the file is being loaded correctly because the server is running on port 8086.</p>\n\n<p>In the application I have a <code>RestController</code></p>\n\n<pre><code>@RestController\nclass TestController {\n    @GetMapping()\n    fun getValues(): ResponseEntity&lt;*&gt; {\n        return someLongRunningProcessPossiblyHanging()\n    }\n}\n</code></pre>\n\n<p>When I call the endpoint, the request never times out, it just hangs indefinitely.</p>\n\n<p>Am I missing something?</p>\n\n<p><strong>NOTE:</strong> I've also been informed that Tomcat uses this field in minutes, not milliseconds (rather unusual choice IMO). I've tried setting this to <code>server.connection-timeout=1</code> denoting 1 minute, but this didn't work either.</p>\n\n<p><strong>NOTE:</strong> I don't want <em>another</em> HTTP request to cause the previous request to time out, I want each HTTP request to timeout of it's own accord, should too much time elapse to serve the request.</p>\n"}, {"tags": ["generics", "kotlin", "delegation"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1530112382, "creation_date": 1530112382, "answer_id": 51066257, "question_id": 51065694, "link": "https://stackoverflow.com/questions/51065694/how-to-combine-multiple-upper-bounds-syntax-with-delegation-syntax-in-kotlin/51066257#51066257", "title": "How to combine multiple Upper Bounds syntax with delegation syntax in Kotlin", "body": "<p>The order of these two things can be figured out pretty quickly by looking at the <a href=\"http://kotlinlang.org/docs/reference/grammar.html#classes\" rel=\"nofollow noreferrer\">grammar for classes</a>, you'll see that delegation specifiers come before type constraints:</p>\n\n<pre><code>class \n  : modifiers (\"class\" | \"interface\") SimpleName\n      typeParameters?\n      primaryConstructor?\n      (\":\" annotations delegationSpecifier{\",\"})?\n      typeConstraints\n      (classBody? | enumClassBody)\n  ;\n</code></pre>\n\n<p>Then it's just a matter of figuring out how to make these work in that order - it turns out that things get parsed correctly if you put the type constraints on a new line (as seen in the <a href=\"https://kotlinlang.org/docs/reference/generics.html#upper-bounds\" rel=\"nofollow noreferrer\">documentation</a> here and there):</p>\n\n<pre><code>class Third&lt;T&gt;(val t: T, val c: C) : C by c\n        where T : A, T : B\n</code></pre>\n"}], "owner": {"reputation": 1641, "user_id": 1743253, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/46c00090b117c658142ef9235d005c4e?s=128&d=identicon&r=PG", "display_name": "Oleksandr.Bezhan", "link": "https://stackoverflow.com/users/1743253/oleksandr-bezhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "accepted_answer_id": 51066257, "answer_count": 1, "score": 4, "last_activity_date": 1530112382, "creation_date": 1530110640, "question_id": 51065694, "link": "https://stackoverflow.com/questions/51065694/how-to-combine-multiple-upper-bounds-syntax-with-delegation-syntax-in-kotlin", "title": "How to combine multiple Upper Bounds syntax with delegation syntax in Kotlin", "body": "<p>Let's say I have the following interfaces:</p>\n\n<pre><code>interface A\ninterface B\ninterface C\n</code></pre>\n\n<p>I want to create class with multiple upper bounds for types A and B:</p>\n\n<pre><code>class First&lt;T&gt;(val t: T) where T : A, T : B\n</code></pre>\n\n<p>I also want to use delegation for type C:</p>\n\n<pre><code>class Second(val c: C) : C by c\n</code></pre>\n\n<p>My question is how do I combine both in one class declaration ?</p>\n\n<p>I tried this:</p>\n\n<pre><code>class Third&lt;T&gt;(val t: T, val c: C) where T : A, T : B, C by c // syntax error: \"Expecting : before the upper bound\"\n</code></pre>\n\n<p>And this:</p>\n\n<pre><code>class Third&lt;T&gt;(val t: T, val c: C) : C by c where T : A, T : B // unresolved reference where\n</code></pre>\n"}, {"tags": ["list", "kotlin", "immutability", "idioms"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1530119280, "post_id": 51065644, "comment_id": 89126075, "body": "FWIW: there&#39;s nothing inefficient about your current solution."}, {"owner": {"reputation": 1433, "user_id": 3813188, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8f00a75b89f2346ba7cb9c339d9858b3?s=128&d=identicon&r=PG&f=1", "display_name": "Bassinator", "link": "https://stackoverflow.com/users/3813188/bassinator"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1530200810, "post_id": 51065644, "comment_id": 89162321, "body": "I guess so, since the first list is never actually initialized - it is merely assigned later. It just feels dirty to use two lists, even though I suppose I&#39;m technically not."}], "answers": [{"comments": [{"owner": {"reputation": 1433, "user_id": 3813188, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8f00a75b89f2346ba7cb9c339d9858b3?s=128&d=identicon&r=PG&f=1", "display_name": "Bassinator", "link": "https://stackoverflow.com/users/3813188/bassinator"}, "edited": false, "score": 0, "creation_date": 1530111839, "post_id": 51065999, "comment_id": 89121993, "body": "D&#39;oh! I knew that! It&#39;s hard to get myself to think functionally."}], "tags": [], "owner": {"reputation": 1062, "user_id": 9629698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8kTsS.png?s=128&g=1", "display_name": "DAA", "link": "https://stackoverflow.com/users/9629698/daa"}, "is_accepted": true, "score": 3, "last_activity_date": 1530111612, "creation_date": 1530111612, "answer_id": 51065999, "question_id": 51065644, "link": "https://stackoverflow.com/questions/51065644/more-idiomatic-way-to-initialize-this-kotlin-list/51065999#51065999", "title": "More idiomatic way to initialize this kotlin list?", "body": "<p>If you want to make a new list processing some data in another collection, try this:</p>\n\n<pre><code>this.list = someOtherCollection.map {\n    doSomeProcessing()\n}\n</code></pre>\n\n<p>Give this a read for a better understanding: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html</a></p>\n"}], "owner": {"reputation": 1433, "user_id": 3813188, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8f00a75b89f2346ba7cb9c339d9858b3?s=128&d=identicon&r=PG&f=1", "display_name": "Bassinator", "link": "https://stackoverflow.com/users/3813188/bassinator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 51065999, "answer_count": 1, "score": 0, "last_activity_date": 1551013340, "creation_date": 1530110474, "last_edit_date": 1551013340, "question_id": 51065644, "link": "https://stackoverflow.com/questions/51065644/more-idiomatic-way-to-initialize-this-kotlin-list", "title": "More idiomatic way to initialize this kotlin list?", "body": "<p>I want to have an immutable list, since I don't really need the mutability so it likely to just cause bugs. However, the list is a <code>lateinit var</code> declared at the class level.</p>\n\n<p>I want to initially populate the list with values from a loop somewhat like this:</p>\n\n<pre><code>for (items in someOtherCollection) {\n    val itemToAdd = doSomeProcessingOnThisData()\n    list.add(itemToAdd)\n}\n</code></pre>\n\n<p>However, since the list is immutable, I can't call <code>add()</code>. Is there a better way to init a list such as this without simply adding all the values to a second, mutable list and then assigning it to an immutable list?</p>\n\n<p>My current solution is this, but it just seems inefficient:</p>\n\n<pre><code>val tmpList = mutableListOf&lt;Data&gt;()\nfoos.forEach() {\n    val itemToAdd = doSomeProcessing()\n    foos.add(itemToAdd)\n}\nthis.list = tmpList\n</code></pre>\n"}, {"tags": ["android", "kotlin", "parse-android-sdk"], "owner": {"reputation": 143, "user_id": 3192077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97b172d00108f1e0578975dfadb1e264?s=128&d=identicon&r=PG", "display_name": "Mr Smith", "link": "https://stackoverflow.com/users/3192077/mr-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1598051233, "creation_date": 1530110081, "last_edit_date": 1598051233, "question_id": 51065510, "link": "https://stackoverflow.com/questions/51065510/using-parse-android-sdk-throw-an-exception", "title": "Using parse android sdk throw an exception", "body": "<p>I tried initializing Parse Android SDK in my app but anytime I try to save an object parse throws a NullPointerException</p>\n\n<pre><code>06-27 15:22:54.643 25869-25869/glassstones.net.creche E/APP: java.lang.NullPointerException: value for name X-Parse-App-Display-Version == null\n</code></pre>\n\n<p>I have used parse on several other projects and have never seen this exception thrown. This is how I'm initializing Parse:</p>\n\n<pre><code>ParseObject.registerSubclass(ParseMessage::class.java)\n        val config = Parse.Configuration.Builder(context)\n                .clientKey(\"\")\n                .applicationId(appId)\n                .server(baseUrl)\n                .build()\n        Parse.setLogLevel(Parse.LOG_LEVEL_DEBUG)\n        Parse.initialize(config)\n</code></pre>\n\n<p>And this is how I'm saving the object:</p>\n\n<pre><code>val message = ParseMessage()\n        message.content = \"Blah blah\"\n        message.saveInBackground {\n            if (it == null) {\n                Log.e(\"APP\", \"Good\")\n            } else {\n                Log.e(\"APP\", it.message)\n            }\n        }\n</code></pre>\n\n<p>Dependencies:</p>\n\n<pre><code>parseVersion = \"1.17.3\"\nandroidBuildToolsVersion = \"27.0.3\"\nandroidMinSdkVersion = 21\nandroidTargetSdkVersion = 27\nandroidCompileSdkVersion = 27\n</code></pre>\n"}, {"tags": ["java", "kotlin", "websphere", "ibm-mq"], "comments": [{"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1530113176, "post_id": 51062840, "comment_id": 89122843, "body": "You should have the MQ admin review the queue manager&#39;s <code>AMQERR01.LOG</code> to determine why you are receiving the <code>2035</code> error.  There are be a few different causes and the resolution depends on what the causes is.  Both answers provide possible solutions for two common causes.  If you can update your question with what is found in the queue manager&#39;s log then it will be helpful for someone to provide you a more specific answer."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 8178827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07dba1bcd82dedf3e101c75a2f0cd3f8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8178827/alex"}, "edited": false, "score": 0, "creation_date": 1530107250, "post_id": 51064023, "comment_id": 89118858, "body": "Do you mean that these actions need to be done on the server side? If this should be done by me in Java code or IBM MQ client side, then I don&#39;t know    how do it"}, {"owner": {"reputation": 821, "user_id": 5822120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eff5b8d1f0c06306580ca347d5576e51?s=128&d=identicon&r=PG&f=1", "display_name": "subbaraoc", "link": "https://stackoverflow.com/users/5822120/subbaraoc"}, "reply_to_user": {"reputation": 35, "user_id": 8178827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07dba1bcd82dedf3e101c75a2f0cd3f8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8178827/alex"}, "edited": false, "score": 0, "creation_date": 1530107882, "post_id": 51064023, "comment_id": 89119313, "body": "These have to be done on the queue manager side and not on the client side"}, {"owner": {"reputation": 35, "user_id": 8178827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07dba1bcd82dedf3e101c75a2f0cd3f8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8178827/alex"}, "edited": false, "score": 0, "creation_date": 1530108251, "post_id": 51064023, "comment_id": 89119580, "body": "Thanks for the advice. I&#39;ll try to figure it out!"}], "tags": [], "owner": {"reputation": 821, "user_id": 5822120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eff5b8d1f0c06306580ca347d5576e51?s=128&d=identicon&r=PG&f=1", "display_name": "subbaraoc", "link": "https://stackoverflow.com/users/5822120/subbaraoc"}, "is_accepted": true, "score": 1, "last_activity_date": 1530113011, "last_edit_date": 1530113011, "creation_date": 1530105991, "answer_id": 51064023, "question_id": 51062840, "link": "https://stackoverflow.com/questions/51062840/work-with-ibm-mq-from-java/51064023#51064023", "title": "work with IBM MQ from Java", "body": "<p>MQRC 2035 means the user doesn't have the appropriate authorities to connect to the queue manager. The reason can be found in the <code>AMQERR*.log</code> in the queue manager <code>errors</code> directory. <code>CHLAUTH</code> is enabled by default. You need to add <code>CHLAUTH</code>  rules. Following link provides details on create/modify <code>CHLAUTH</code></p>\n\n<p><a href=\"https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_7.5.0/com.ibm.mq.ref.adm.doc/q086630_.htm\" rel=\"nofollow noreferrer\">IBM MQ 7.5.0 > WebSphere MQ > Reference > Administration reference > MQSC reference > The MQSC commands > <code>SET CHLAUTH</code></a></p>\n\n<p>If you want more details on CHLAUTH then go through the following link:</p>\n\n<p><a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg27041997&amp;aid=1\" rel=\"nofollow noreferrer\">CHLAUTH Made Simple: Common Scenarios and Examples and How to Verify them with RUNCHECK</a></p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 8178827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07dba1bcd82dedf3e101c75a2f0cd3f8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8178827/alex"}, "edited": false, "score": 0, "creation_date": 1530110555, "post_id": 51065270, "comment_id": 89121146, "body": "it&#39;s ok, but \u0435he owner of the service(IBM MQ) says that access to the queue is done without a password and login"}], "tags": [], "owner": {"reputation": 6263, "user_id": 1431734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ex16s.gif?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/1431734/roger"}, "is_accepted": false, "score": 0, "last_activity_date": 1530109363, "creation_date": 1530109363, "answer_id": 51065270, "question_id": 51062840, "link": "https://stackoverflow.com/questions/51062840/work-with-ibm-mq-from-java/51065270#51065270", "title": "work with IBM MQ from Java", "body": "<blockquote>\n  <p>mqConnection = cf.createQueueConnection()</p>\n</blockquote>\n\n<p>You should/need to pass the UserId and Password for the connection.</p>\n\n<p>i.e.</p>\n\n<pre><code>mqConnection = cf.createQueueConnection(\"myUserId\", \"mypwd\");\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 8178827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07dba1bcd82dedf3e101c75a2f0cd3f8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8178827/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 51064023, "answer_count": 2, "score": 1, "last_activity_date": 1530113011, "creation_date": 1530102579, "last_edit_date": 1530103293, "question_id": 51062840, "link": "https://stackoverflow.com/questions/51062840/work-with-ibm-mq-from-java", "title": "work with IBM MQ from Java", "body": "<p>I have a problem with connection in IBM MQ from java<br>\nthis code</p>\n\n<pre><code> val cf: MQQueueConnectionFactory?\n    var mqConnection: QueueConnection? = null\n    var session: QueueSession? = null\n    var sender: QueueSender? = null\n    var value = \"\"\n    try {\n        cf = MQQueueConnectionFactory()\n        cf.hostName = host\n        cf.port = port\n        cf.queueManager = queueManager\n        cf.transportType = transport\n        cf.channel = channelName\n        cf.clientReconnectOptions = WMQConstants.WMQ_CLIENT_RECONNECT_Q_MGR\n        cf.clientReconnectTimeout = 3600\n\n        mqConnection = cf.createQueueConnection()\n</code></pre>\n\n<blockquote>\n  <p>drops exception \"JMSCMQ0001: WebSphere MQ call failed with compcode\n  '2' ('MQCC_FAILED') reason '2035' ('MQRC_NOT_AUTHORIZED')\"</p>\n</blockquote>\n\n<p>when I try create connection  <code>cf.createQueueConnection()</code></p>\n\n<p>I don't understand what is a problem.<br>\nI use   ibmmq lib <strong>9.0.2.0</strong> version, but this code doesn't work with   7.5.0.1 version too</p>\n"}, {"tags": ["android", "kotlin", "mixpanel"], "answers": [{"tags": [], "owner": {"reputation": 9333, "user_id": 277021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Tc2PH.jpg?s=128&g=1", "display_name": "Cyprian", "link": "https://stackoverflow.com/users/277021/cyprian"}, "is_accepted": true, "score": 2, "last_activity_date": 1530178499, "creation_date": 1530178499, "answer_id": 51079450, "question_id": 51062102, "link": "https://stackoverflow.com/questions/51062102/mixpanel-people-tracking-not-working/51079450#51079450", "title": "Mixpanel people tracking not working", "body": "<p>Try calling <strong>identify()</strong> method on the people object. It should create a user in Mixpanel.</p>\n\n<pre><code>mixpanel.people.identify(mixpanel.getDistinctId());\n</code></pre>\n\n<p>after</p>\n\n<pre><code>mixpanel.alias(\"1\", mixpanel.distinctId)\n</code></pre>\n\n<p>in your fun <code>initCustomer()</code> method.</p>\n\n<p>Example:</p>\n\n<pre><code>fun initCustomer() {\n    mixpanel.alias(\"1\", mixpanel.distinctId)\n    mixpanel.people.identify(mixpanel.getDistinctId());\n    val map = listOfNotNull(\n            \"\\$name\" to \"Nikola\",\n            \"Gender\" to \"Male\",\n            \"Attraction\" to \"Girls\",\n            \"Account type\" to \"WTF\",\n            \"\\$email\" to \"mail@mail.com\"\n    ).toMap()\n    mixpanel.people.setMap(map)\n    mixpanel.flush()\n}\n</code></pre>\n\n<p>More info in the android documentation in the section: Managing user identity</p>\n\n<p><a href=\"https://mixpanel.com/help/reference/android\" rel=\"nofollow noreferrer\">https://mixpanel.com/help/reference/android</a></p>\n"}], "owner": {"reputation": 152, "user_id": 2235478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lnzuh.jpg?s=128&g=1", "display_name": "Nikola Velimirovic", "link": "https://stackoverflow.com/users/2235478/nikola-velimirovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 823, "favorite_count": 0, "accepted_answer_id": 51079450, "answer_count": 1, "score": 0, "last_activity_date": 1530180459, "creation_date": 1530100288, "last_edit_date": 1530180459, "question_id": 51062102, "link": "https://stackoverflow.com/questions/51062102/mixpanel-people-tracking-not-working", "title": "Mixpanel people tracking not working", "body": "<p>I am trying to make Mixpanel people tracking to work but with no success. I see in the logs, that a <code>create alias event</code> is sent but in the Mixpanel console no user profile is created. </p>\n\n<p>Also this is code from the demo app in which I managed to replicate the issue, I can't share code from original app due to confidentiality reasons.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nlateinit var mixpanel: MixpanelAPI\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    mixpanel = MixpanelAPI.getInstance(this, \"mytoken\")\n    mixpanel.people.set(\"open date\", Date())\n    mixpanel.identify(mixpanel.distinctId)\n    setContentView(R.layout.activity_main)\n    initCustomer()\n    postToMixpanel(\"TEST EVENT\")\n    MPLog.setLevel(MPLog.VERBOSE)\n}\n\nfun initCustomer() {\n    mixpanel.alias(\"1\", mixpanel.distinctId)\n    val map = listOfNotNull(\n            \"\\$name\" to \"Nikola\",\n            \"Gender\" to \"Male\",\n            \"Attraction\" to \"Girls\",\n            \"Account type\" to \"WTF\",\n            \"\\$email\" to \"mail@mail.com\"\n    ).toMap()\n    mixpanel.people.setMap(map)\n    mixpanel.flush()\n}\n\nfun postToMixpanel(eventId: String, additionalProps: Map&lt;String, Any&gt;? = null) {\n    val props = JSONObject()\n    additionalProps?.let {\n        for ((key, value) in it) {\n            props.put(key, value)\n        }\n    }\n    mixpanel.track(eventId, props)\n}\n}\n</code></pre>\n\n<p>These are mixpanel logs from create alias event, I can not see any special property in there such as <code>$name</code> and <code>$email</code>.</p>\n\n<blockquote>\n<pre><code> [{\n\"event\": \"$create_alias\",\n\"properties\": {\n    \"mp_lib\": \"android\",\n    \"$lib_version\": \"5.4.1\",\n    \"$os\": \"Android\",\n    \"$os_version\": \"8.1.0\",\n    \"$manufacturer\": \"UMIDIGI\",\n    \"$brand\": \"UMIDIGI\",\n    \"$model\": \"A1_PRO\",\n    \"$google_play_services\": \"available\",\n    \"$screen_dpi\": 320,\n    \"$screen_height\": 1344,\n    \"$screen_width\": 720,\n    \"$app_version\": \"1.007-staging\",\n    \"$app_version_string\": \"1.007-staging\",\n    \"$app_release\": 15,\n    \"$app_build_number\": 15,\n    \"$has_nfc\": false,\n    \"$has_telephone\": true,\n    \"$carrier\": \"m:tel\",\n    \"$wifi\": true,\n    \"$bluetooth_enabled\": false,\n    \"$bluetooth_version\": \"ble\",\n    \"token\": \"\",\n    \"Has Credit\": \"False\",\n    \"Amount of Credits\": \"0\",\n    \"time\": 1530099794,\n    \"distinct_id\": \"b8769eeb-6a3b-4692-8973-261f9933537e\",\n    \"alias\": \"260\",\n    \"original\": \"b8769eeb-6a3b-4692-8973-261f9933537e\"\n},\n\"$mp_metadata\": {\n    \"$mp_event_id\": \"43f9c3402ffa6f4c\",\n    \"$mp_session_id\": \"c35a49a17d3b9de6\",\n    \"$mp_session_seq_id\": 0,\n    \"$mp_session_start_sec\": 1530099793\n}\n}]\n</code></pre>\n</blockquote>\n"}, {"tags": ["android", "menu", "kotlin", "toolbar"], "comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1530108598, "post_id": 51061796, "comment_id": 89119809, "body": "Have you followed the normal way of inflating the menu, like provided in this accepted answer? <a href=\"https://stackoverflow.com/a/42805455/4232337\">stackoverflow.com/a/42805455/4232337</a>"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8274362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1607228619308870/picture?type=large", "display_name": "Akshra Gupta", "link": "https://stackoverflow.com/users/8274362/akshra-gupta"}, "edited": false, "score": 0, "creation_date": 1530111971, "post_id": 51065628, "comment_id": 89122072, "body": "my mSelectedItems list is changing dynamically and I want to change menu accordingly"}, {"owner": {"reputation": 101, "user_id": 8182352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GR5Fk.jpg?s=128&g=1", "display_name": "ZeGerm4n", "link": "https://stackoverflow.com/users/8182352/zegerm4n"}, "reply_to_user": {"reputation": 31, "user_id": 8274362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1607228619308870/picture?type=large", "display_name": "Akshra Gupta", "link": "https://stackoverflow.com/users/8274362/akshra-gupta"}, "edited": false, "score": 0, "creation_date": 1530113757, "post_id": 51065628, "comment_id": 89123138, "body": "Do you need the menu to look and behave differently when the list changes? If not I see no easier way than than just displaying/hiding the menu items that are currently needed whenever a certain condition is met instead of inflating a whole other menu every time."}, {"owner": {"reputation": 101, "user_id": 8182352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GR5Fk.jpg?s=128&g=1", "display_name": "ZeGerm4n", "link": "https://stackoverflow.com/users/8182352/zegerm4n"}, "reply_to_user": {"reputation": 31, "user_id": 8274362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1607228619308870/picture?type=large", "display_name": "Akshra Gupta", "link": "https://stackoverflow.com/users/8274362/akshra-gupta"}, "edited": false, "score": 0, "creation_date": 1530114246, "post_id": 51065628, "comment_id": 89123403, "body": "I added a GIF to my my answer, please tell me if the shown behavior is comparable to what you want to achieve, because I may have understood you incorrectly."}, {"owner": {"reputation": 31, "user_id": 8274362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1607228619308870/picture?type=large", "display_name": "Akshra Gupta", "link": "https://stackoverflow.com/users/8274362/akshra-gupta"}, "edited": false, "score": 0, "creation_date": 1530119573, "post_id": 51065628, "comment_id": 89126197, "body": "Yes this is what I want to achieve. Can you send me the complete code for this including the recyclerView. I tried making it without the checkbox but couldn&#39;t"}, {"owner": {"reputation": 101, "user_id": 8182352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GR5Fk.jpg?s=128&g=1", "display_name": "ZeGerm4n", "link": "https://stackoverflow.com/users/8182352/zegerm4n"}, "reply_to_user": {"reputation": 31, "user_id": 8274362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1607228619308870/picture?type=large", "display_name": "Akshra Gupta", "link": "https://stackoverflow.com/users/8274362/akshra-gupta"}, "edited": false, "score": 0, "creation_date": 1530124706, "post_id": 51065628, "comment_id": 89128715, "body": "I created a new github repo where I might upload my future training/experimental projects. <a href=\"https://github.com/ZeGerm4n/android-basics-kotlin\" rel=\"nofollow noreferrer\">github.com/ZeGerm4n/android-basics-kotlin</a> the ToDoApp is what you have seen on the GIF. If this ultimately helps you somehow to solve your problem please mark this answer as accepted. Good Day"}], "tags": [], "owner": {"reputation": 101, "user_id": 8182352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GR5Fk.jpg?s=128&g=1", "display_name": "ZeGerm4n", "link": "https://stackoverflow.com/users/8182352/zegerm4n"}, "is_accepted": false, "score": 0, "last_activity_date": 1530114505, "last_edit_date": 1530114505, "creation_date": 1530110445, "answer_id": 51065628, "question_id": 51061796, "link": "https://stackoverflow.com/questions/51061796/toolbar-menu-not-inflating/51065628#51065628", "title": "Toolbar menu not inflating", "body": "<p>Instead of trying to inflate different menus in one Activity did you try to create one menu that contains all items and set them to invisible by default? You could then override onPrepareOptionsMenu, for example like below, to change what items are to be displayed based on your defined conditions: </p>\n\n<pre><code>override fun onPrepareOptionsMenu(menu: Menu): Boolean {\n    invalidateOptionsMenu()\n    when {\n        // more than one item selected\n        mSelectedItems.isNotEmpty() &amp;&amp; mSelectedItems.size &gt; 1 -&gt; {\n            menu.findItem(R.id.action_edit).isVisible = false\n            menu.findItem(R.id.action_delete).isVisible = true\n        }\n        // one item selected\n        mSelectedItems.isNotEmpty() -&gt; {\n            menu.findItem(R.id.action_edit).isVisible = true\n            menu.findItem(R.id.action_delete).isVisible = true\n        }\n        // none selected\n        else -&gt; {\n            menu.findItem(R.id.action_edit).isVisible = false\n            menu.findItem(R.id.action_delete).isVisible = false\n        }\n    }\n    return super.onPrepareOptionsMenu(menu)\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/MjVl5.gif\" rel=\"nofollow noreferrer\">obove code produces following result</a></p>\n"}], "owner": {"reputation": 31, "user_id": 8274362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1607228619308870/picture?type=large", "display_name": "Akshra Gupta", "link": "https://stackoverflow.com/users/8274362/akshra-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1530114505, "creation_date": 1530099355, "last_edit_date": 1530099414, "question_id": 51061796, "link": "https://stackoverflow.com/questions/51061796/toolbar-menu-not-inflating", "title": "Toolbar menu not inflating", "body": "<p>I am making a contexual action bar by modifying the toolbar on long click of recyclerView which contains edit and delete. It works okay if I select / deselect the views, however if I click on edit, the menu doesn't appear until I focus on one of the edit texts. When I edit any entry, it works again. the toolbar textView is being updated but menu is not inflating</p>\n\n<p>//Activity Expense_list</p>\n\n<pre><code>class Expenses_list : AppCompatActivity(), View.OnLongClickListener{\n\n\nlateinit var expenses_recycler : RecyclerView\nvar expense_list_items :MutableList&lt;expense_input&gt; = ArrayList()\nvar selection_list_items :MutableList&lt;expense_input&gt; = ArrayList()\nvar db = DataBaseHandler(this)\nvar categ:String = \"\"\nvar is_in_action_mode = false\nvar edit_mode = false\nprivate var counter = 0\nlateinit var toolbar: android.support.v7.widget.Toolbar\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_expenses_list)\n\n    toolbar = findViewById(R.id.toolbar)\n    setSupportActionBar(toolbar)\n\n    supportActionBar?.setDisplayHomeAsUpEnabled(true)\n\n    categ= intent.getStringExtra(\"cat\")\n    textView.text = categ.capitalize()\n\n    loadData()\n\n    expenses_recycler = findViewById(R.id.expense_list_item)\n    expenses_recycler.layoutManager = LinearLayoutManager(this)\n    expenses_recycler.adapter = \n    Expense_Adapter(expense_list_items,this,this@Expenses_list)\n\n    }\n\nfun addObject(i:Int) {\n    selection_list_items.add(expense_list_items[i])\n    counter=counter+1\n    changeMenu()\n    updateCounter(counter)\n}\n\nprivate fun updateCounter(counter:Int) {\n    if(counter==0)\n    {\n        textToolbar.text = \"0 item selected\"\n    }\n    else\n    {\n        textToolbar.text = \"\" + counter + \"item selected\"\n    }\n}\n\nprivate fun removeObject(adapterPosition: Int) {\n    selection_list_items.remove(expense_list_items[adapterPosition])\n    counter=counter-1\n    changeMenu()\n    updateCounter(counter)\n}\n\nfun loadData() {\n    expense_list_items.clear()\n\n    var data = db.readDataExpense(categ)\n\n    for (i in 0..(data.size - 1))\n    {\n        expense_list_items.add(data[i])\n    }\n}\n\noverride fun onLongClick(p0: View?): Boolean {\n    toolbar.menu.clear()\n    textToolbar.visibility = View.VISIBLE\n    is_in_action_mode = true\n    expenses_recycler.adapter.notifyDataSetChanged()\n    return true\n}\n\nfun changeMenu() {\n    when (counter) {\n        0 -&gt; {\n            Toast.makeText(this,\"counter=0\",Toast.LENGTH_SHORT).show()\n            toolbar.menu.clear()\n        }\n        1 -&gt; {\n            Toast.makeText(this,\"counter=1\",Toast.LENGTH_SHORT).show()\n            toolbar.menu.clear()\n            toolbar.inflateMenu(R.menu.menu_toolbar_edit)\n        }\n        else -&gt; {\n            toolbar.menu.clear()\n            toolbar.inflateMenu(R.menu.menu_toolbar)\n        }\n    }\n}\n\noverride fun onOptionsItemSelected(item: MenuItem?): Boolean {\n    when(item?.itemId)\n    {\n        R.id.edit-&gt;{\n            edit_mode=true\n            expenses_recycler.adapter.notifyDataSetChanged()\n        }\n\n        R.id.delete-&gt;{\n            db.deleteExpense(selection_list_items)\n            loadData()\n           clearActionMode()\n        }\n    }\n    return super.onOptionsItemSelected(item)\n}\n\nprivate fun clearActionMode() {\n    is_in_action_mode=false\n    edit_mode=false\n    selection_list_items.clear()\n    toolbar.menu.clear()\n    textToolbar.visibility = View.GONE\n    textToolbar.text = \"0 item selected\"\n    expenses_recycler.adapter.notifyDataSetChanged()\n}\n\noverride fun onBackPressed() {\n    if(is_in_action_mode==true)\n    {\n        clearActionMode()\n    }\n    else\n        super.onBackPressed()\n}\n\n\n    }\n</code></pre>\n\n<p>//Adapter</p>\n\n<pre><code>     class Expense_Adapter(items \n:List&lt;expense_input&gt;,ctx:Context,el:Expenses_list) : \nRecyclerView.Adapter&lt;Expense_Adapter.ViewHolder&gt;() {\n\n    var expl = el\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        return ViewHolder(context,expl,LayoutInflater.from(context).inflate(R.layout.expense_list,parent,false))\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n        holder.bindTo(list[position])\n    }\n\n    var list = items\n    var context = ctx\n\n    override fun getItemCount(): Int {\n        return list.size\n    }\n\n\n    class ViewHolder(v:View) :RecyclerView.ViewHolder(v)\n    {\n        var mex :Expenses_list? = null\n        var context : Context?= null\n        var exp :expense_input ?= null\n\n        constructor(ctx: Context,ex: Expenses_list,v: View):this(v){\n            mex = ex\n            context = ctx\n            bl.setOnLongClickListener(mex)\n            cb?.setOnCheckedChangeListener { buttonView, isChecked -&gt;\n                if (isChecked) {\n                    mex!!.addObject(adapterPosition)\n                }\n                else {\n                    mex!!.removeObject(adapterPosition)\n                }\n            }\n}\n\n        fun bindTo(l: expense_input)\n        {\n            exp = l\n            name?.setText(l.item)\n            //name?.text = l.item\n            am.setText(l.amount.toString())\n            //am.text = l.amount.toString()\n            d.text = l.date\n\n\n            if(mex?.is_in_action_mode==false) {\n                cb.visibility = View.GONE\n            }\n            else {\n                cb.visibility = View.VISIBLE\n                cb.isChecked = false\n            }\n\n\n            if(mex?.edit_mode==false)\n            {\n                if(vs.displayedChild == 1)\n                {\n                    Log.d(\"action\",\"here\")\n                    im.setImageResource(R.drawable.ic_expnote)\n                    vs.showPrevious()\n                }\n            }\n            if(mex!!.edit_mode)\n            {\n                Log.d(\"action\",\"Edit\")\n                vs.showNext()\n                cb.visibility = View.GONE\n                ename.setText(exp?.item)\n                eam.setText(exp?.amount.toString())\n                im.setImageResource(R.drawable.ic_list)\n            }\n\n            im.setOnClickListener {\n                val db = DataBaseHandler(context!!)\n                if(vs.displayedChild==1)\n                {\n                    if(eam.text.toString().isNotEmpty() &amp;&amp; ename.text.toString().isNotEmpty())\n                    {\n                        var ex = l\n                        ex.amount = eam.text.toString().toFloat()\n                        ex.item = ename.text.toString()\n                        db.UpdateDataExpense(ex)\n                        mex?.clearActionMode()\n                    }\n                    else\n                    {\n                        Toast.makeText(context,\"Item is invalid\",Toast.LENGTH_SHORT).show()\n                    }\n                }\n                else\n                {\n                    val detailIntent = Intent(context, Exp_note::class.java)\n                    detailIntent.putExtra(\"Note\",l.id)\n                    context!!.startActivity(detailIntent)\n                }\n            }\n        }\n\n        val name = v.textItem\n        val am = v.textAmount\n        val d = v.textDate\n        val im = v.openNote\n        val cb = v.cb\n        val bl = v.biglinear\n        val vs = v.viewSwitcher\n        val ename = v.editItem\n        val eam = v.EditAmount\n\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530283314, "post_id": 51061639, "comment_id": 89195628, "body": "shouldn&#39;t be <code>data:Intent?</code> because then you would&#39;ve to check for nullability of <code>data</code>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9423034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1PqaQXvuAiI/AAAAAAAAAAI/AAAAAAAABtY/FrXAqLnV0T8/photo.jpg?sz=128", "display_name": "manoj gundapaneni", "link": "https://stackoverflow.com/users/9423034/manoj-gundapaneni"}, "edited": false, "score": 0, "creation_date": 1530099171, "post_id": 51061676, "comment_id": 89113191, "body": "Thanks A lot sir.You Solved My Issue in seconds.so GreatFul to you"}, {"owner": {"reputation": 241, "user_id": 1892364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/509a9b5c52bf83f7696322af0be2f7e9?s=128&d=identicon&r=PG", "display_name": "user1892364", "link": "https://stackoverflow.com/users/1892364/user1892364"}, "edited": false, "score": 1, "creation_date": 1530184367, "post_id": 51061676, "comment_id": 89151174, "body": "Note that &#39;?&#39; doesn&#39;t make the intent null safe. On the contrary: It is now nullable."}], "tags": [], "owner": {"reputation": 366, "user_id": 5131831, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LMDBpbCN4wE/AAAAAAAAAAI/AAAAAAAAAME/Gxitlawv0lI/photo.jpg?sz=128", "display_name": "Atendra Singh", "link": "https://stackoverflow.com/users/5131831/atendra-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1530245243, "last_edit_date": 1530245243, "creation_date": 1530098961, "answer_id": 51061676, "question_id": 51061639, "link": "https://stackoverflow.com/questions/51061639/while-using-the-camera-or-gallery-in-app-it-crashes-on-backbutton-press/51061676#51061676", "title": "While using the camera or gallery in app, it crashes on backButton press", "body": "<p>Make your onActivityResult Nullable by putting ? for intent like this-</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9423034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1PqaQXvuAiI/AAAAAAAAAAI/AAAAAAAABtY/FrXAqLnV0T8/photo.jpg?sz=128", "display_name": "manoj gundapaneni", "link": "https://stackoverflow.com/users/9423034/manoj-gundapaneni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530245243, "creation_date": 1530098843, "last_edit_date": 1530185877, "question_id": 51061639, "link": "https://stackoverflow.com/questions/51061639/while-using-the-camera-or-gallery-in-app-it-crashes-on-backbutton-press", "title": "While using the camera or gallery in app, it crashes on backButton press", "body": "<p>I am trying to use the camera or gallery (as an alert) in an application for uploading documents. The app crashes if the back button is pressed and no image was selected.</p>\n\n<pre><code>  private fun getImageFromCamera() {\n    val takePicture = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n    if (takePicture.resolveActivity(packageManager) != null) {\n        startActivityForResult(takePicture, TAKE_PICTURE)\n    }\n  }\n\nprivate fun getImageFromGallery() {\n    val intent = Intent()\n    intent.type = \"image/*\"\n    intent.action = Intent.ACTION_GET_CONTENT\n    if (intent.resolveActivity(packageManager) != null) {\n        startActivityForResult(Intent.createChooser(intent, \"Select \n                                                  Picture\"), PICK_IMAGE)\n    }\n}\n</code></pre>\n\n<p>There is no issue regarding the permission for the camera. I didn't post all the code.</p>\n\n<p><strong>onActivityResult:</strong></p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (requestCode == PICK_IMAGE) {\n        if (resultCode == Activity.RESULT_OK) {\n            try {\n                val inputStream1 = contentResolver.openInputStream(data.data!!)\n                bitmap = BitmapFactory.decodeStream(inputStream1)\n                mUploadPanCardImageButton!!.setImageBitmap(bitmap)\n                mUploadPanCardTextView?.visibility = View.GONE\n            } catch (e: FileNotFoundException) {\n                e.printStackTrace()\n            }\n        }\n    }else if (requestCode == TAKE_PICTURE) {\n        if (resultCode == Activity.RESULT_OK) {\n            val extras1 = data.extras\n            bitmap = extras1!!.get(\"data\") as Bitmap\n            mUploadPanCardImageButton!!.setImageBitmap(bitmap)\n            mUploadPanCardTextView?.visibility = View.GONE\n        }\n    }\n}\n</code></pre>\n\n<p>Here is the Exception that I am getting:</p>\n\n<pre><code>java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=12345, result=0, data=null} to activity {in.inspiringwave.firstapp/in.inspiringwave.firstapp.UploadDocsActivity}: \njava.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter data at\nandroid.app.ActivityThread.deliverResults(ActivityThread.java:4173) at\nandroid.app.ActivityThread.handleSendResult(ActivityThread.java:4216) at\nandroid.app.ActivityThread.-wrap20(ActivityThread.java)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-architecture-navigation", "android-navigation", "android-jetpack-navigation"], "comments": [{"owner": {"reputation": 7305, "user_id": 1268507, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/pW5el.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1268507/alex"}, "edited": false, "score": 0, "creation_date": 1530125677, "post_id": 51060762, "comment_id": 89129190, "body": "Please provide some code for better understanding."}, {"owner": {"reputation": 2955, "user_id": 5702219, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-1zLfRUnt41I/AAAAAAAAAAI/AAAAAAAAAJY/HH_azbQaDZM/photo.jpg=k-s128", "display_name": "Jerry Okafor", "link": "https://stackoverflow.com/users/5702219/jerry-okafor"}, "edited": false, "score": 0, "creation_date": 1537515886, "post_id": 51060762, "comment_id": 91820753, "body": "So far the rate of occurrence of this bug has been reduced with newer releases of the library, but I think the library is not well documented yet."}], "answers": [{"comments": [{"owner": {"reputation": 2955, "user_id": 5702219, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-1zLfRUnt41I/AAAAAAAAAAI/AAAAAAAAAJY/HH_azbQaDZM/photo.jpg=k-s128", "display_name": "Jerry Okafor", "link": "https://stackoverflow.com/users/5702219/jerry-okafor"}, "edited": false, "score": 2, "creation_date": 1537515795, "post_id": 51073055, "comment_id": 91820721, "body": "But clearTask  is deprecated, you should use popUpTo() instead."}, {"owner": {"reputation": 1722, "user_id": 5294761, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/GFxzd.jpg?s=128&g=1", "display_name": "Eury P&#233;rez Beltr&#233;", "link": "https://stackoverflow.com/users/5294761/eury-p%c3%a9rez-beltr%c3%a9"}, "reply_to_user": {"reputation": 2955, "user_id": 5702219, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-1zLfRUnt41I/AAAAAAAAAAI/AAAAAAAAAJY/HH_azbQaDZM/photo.jpg=k-s128", "display_name": "Jerry Okafor", "link": "https://stackoverflow.com/users/5702219/jerry-okafor"}, "edited": false, "score": 0, "creation_date": 1537793049, "post_id": 51073055, "comment_id": 91900379, "body": "@Po10cio None of those flags were neeeded, I just removed it and it was fixed."}], "tags": [], "owner": {"reputation": 1722, "user_id": 5294761, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/GFxzd.jpg?s=128&g=1", "display_name": "Eury P&#233;rez Beltr&#233;", "link": "https://stackoverflow.com/users/5294761/eury-p%c3%a9rez-beltr%c3%a9"}, "is_accepted": false, "score": 3, "last_activity_date": 1530145002, "creation_date": 1530145002, "answer_id": 51073055, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/51073055#51073055", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>In my case the bug ocurred because I had a navigation action with the <code>Single Top</code> and the <code>Clear Task</code> options enabled after a splash screen.</p>\n"}, {"tags": [], "owner": {"reputation": 1266, "user_id": 6124910, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-iHD_ce7khhA/AAAAAAAAAAI/AAAAAAAAAKY/sfa9lEsRxvM/photo.jpg?sz=128", "display_name": "Patrick", "link": "https://stackoverflow.com/users/6124910/patrick"}, "is_accepted": false, "score": 1, "last_activity_date": 1531725394, "last_edit_date": 1531725394, "creation_date": 1530262773, "answer_id": 51097999, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/51097999#51097999", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>It seems like you are clearing task. An app might have a one-time setup or series of login screens. These conditional screens should not be considered the starting destination of your app.</p>\n\n<p><a href=\"https://developer.android.com/topic/libraries/architecture/navigation/navigation-conditional\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/navigation/navigation-conditional</a></p>\n"}, {"comments": [{"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1549286567, "post_id": 51512932, "comment_id": 95836878, "body": "I don&#39;t get what the difference is between onBackPressed and this, still stuck with the system back button and overriding it and replacing with this seems crazy"}, {"owner": {"reputation": 6735, "user_id": 1326425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/011de6f12a9889a42923a83b3ff83562?s=128&d=identicon&r=PG&f=1", "display_name": "the-ginger-geek", "link": "https://stackoverflow.com/users/1326425/the-ginger-geek"}, "reply_to_user": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 2, "creation_date": 1549359082, "post_id": 51512932, "comment_id": 95864039, "body": "I agree it does seem crazy. Many of the things I&#39;ve encountered in the android navigation architecture component feels a bit crazy, it&#39;s set up too rigidly IMO. Thinking about doing my own implementation for our project as it&#39;s just creating too many headaches"}, {"owner": {"reputation": 1977, "user_id": 3301138, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OifFE.jpg?s=128&g=1", "display_name": "Otziii", "link": "https://stackoverflow.com/users/3301138/otziii"}, "edited": false, "score": 0, "creation_date": 1557235714, "post_id": 51512932, "comment_id": 98691139, "body": "Does not work for me... Still getting the same error."}], "tags": [], "owner": {"reputation": 6735, "user_id": 1326425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/011de6f12a9889a42923a83b3ff83562?s=128&d=identicon&r=PG&f=1", "display_name": "the-ginger-geek", "link": "https://stackoverflow.com/users/1326425/the-ginger-geek"}, "is_accepted": false, "score": 12, "last_activity_date": 1532502937, "creation_date": 1532502937, "answer_id": 51512932, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/51512932#51512932", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>In my case I was using a custom back button for navigating up. I called <code>onBackPressed()</code> in stead of the following code</p>\n\n<pre><code>findNavController(R.id.navigation_host_fragment).navigateUp()\n</code></pre>\n\n<p>This caused the <code>IllegalArgumentException</code> to occur. After I changed it to use the <code>navigateUp()</code> method in stead, I didn't have a crash again.</p>\n"}, {"comments": [{"owner": {"reputation": 27882, "user_id": 383414, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a0252c97758708e419523490aa848ded?s=128&d=identicon&r=PG", "display_name": "Richard Le Mesurier", "link": "https://stackoverflow.com/users/383414/richard-le-mesurier"}, "edited": false, "score": 29, "creation_date": 1554999565, "post_id": 52415792, "comment_id": 97965297, "body": "The edit about using 2 fingers and clicking 2 views at the same time! That&#39;s the key for me and helped me to replicate the issue easily. Great updating with that information."}, {"owner": {"reputation": 265, "user_id": 1095610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/920d9d381959b61019fc406df74b6f4d?s=128&d=identicon&r=PG", "display_name": "marcolav", "link": "https://stackoverflow.com/users/1095610/marcolav"}, "edited": false, "score": 0, "creation_date": 1566507298, "post_id": 52415792, "comment_id": 101688728, "body": "During the debug phase I happened to click while the app was stuck waiting for continue the execution. Seems like another case of two subsequent clicks in a row to the IDE"}, {"owner": {"reputation": 448, "user_id": 2672052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5054dde9434047e22d3ab83e3ef2ddfe?s=128&d=identicon&r=PG", "display_name": "user2672052", "link": "https://stackoverflow.com/users/2672052/user2672052"}, "edited": false, "score": 1, "creation_date": 1587989344, "post_id": 52415792, "comment_id": 108717403, "body": "Thanks for this. Saved me a few crashes and some head scratching :)"}, {"owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "edited": false, "score": 2, "creation_date": 1597612559, "post_id": 52415792, "comment_id": 112182974, "body": "This solution is hack to get around the real problem: the navigation component. It&#39;s also prone to fail on slower devices. Creating and inflating a new fragment can definitively take over 200ms. After that delay, a second click event could be sent before the fragment is shown and we&#39;re back to the same problem."}, {"owner": {"reputation": 460, "user_id": 2523899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a66076a12ef7f9cd9833f3d1ea15fcd?s=128&d=identicon&r=PG", "display_name": "The incredible Jan", "link": "https://stackoverflow.com/users/2523899/the-incredible-jan"}, "edited": false, "score": 0, "creation_date": 1603874739, "post_id": 52415792, "comment_id": 114171376, "body": "Doesn&#39;t really work in my app. I still can click fast enough to produce the crash at least with a debug build. Looks like a problem with thread safety although there should actually only be one ui thread. Strange."}], "tags": [], "owner": {"reputation": 6182, "user_id": 823952, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/2f1t7.png?s=128&g=1", "display_name": "Charles Madere", "link": "https://stackoverflow.com/users/823952/charles-madere"}, "is_accepted": false, "score": 94, "last_activity_date": 1587057237, "last_edit_date": 1587057237, "creation_date": 1537402638, "answer_id": 52415792, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/52415792#52415792", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>In my case, if the user clicks the same view twice very very quickly, this crash will occur. So you need to implement some sort of logic to prevent multiple quick clicks... Which is very annoying, but it appears to be necessary.</p>\n\n<p>You can read up more on preventing this here: <a href=\"https://stackoverflow.com/questions/5608720/android-preventing-double-click-on-a-button/9950832\">Android Preventing Double Click On A Button</a></p>\n\n<p><strong>Edit 3/19/2019</strong>: Just to clarify a bit further, this crash is not exclusively reproducible by just \"clicking the same view twice very very quickly\". Alternatively, you can just use two fingers and click two (or more) views at the same time, where each view has their own navigation that they would perform. This is <em>especially</em> easy to do when you have a list of items. The above info on multiple click prevention will handle this case.</p>\n\n<p><strong>Edit 4/16/2020</strong>: Just in case you're not terribly interested in reading through that Stack Overflow post above, I'm including my own (Kotlin) solution that I've been using for a long time now.</p>\n\n<h3>OnSingleClickListener.kt</h3>\n\n<pre><code>class OnSingleClickListener : View.OnClickListener {\n\n    private val onClickListener: View.OnClickListener\n\n    constructor(listener: View.OnClickListener) {\n        onClickListener = listener\n    }\n\n    constructor(listener: (View) -&gt; Unit) {\n        onClickListener = View.OnClickListener { listener.invoke(it) }\n    }\n\n    override fun onClick(v: View) {\n        val currentTimeMillis = System.currentTimeMillis()\n\n        if (currentTimeMillis &gt;= previousClickTimeMillis + DELAY_MILLIS) {\n            previousClickTimeMillis = currentTimeMillis\n            onClickListener.onClick(v)\n        }\n    }\n\n    companion object {\n        // Tweak this value as you see fit. In my personal testing this\n        // seems to be good, but you may want to try on some different\n        // devices and make sure you can't produce any crashes.\n        private const val DELAY_MILLIS = 200L\n\n        private var previousClickTimeMillis = 0L\n    }\n\n}\n</code></pre>\n\n<h3>ViewExt.kt</h3>\n\n<pre><code>fun View.setOnSingleClickListener(l: View.OnClickListener) {\n    setOnClickListener(OnSingleClickListener(l))\n}\n\nfun View.setOnSingleClickListener(l: (View) -&gt; Unit) {\n    setOnClickListener(OnSingleClickListener(l))\n}\n</code></pre>\n\n<h3>HomeFragment.kt</h3>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    settingsButton.setOnSingleClickListener {\n        // navigation call here\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 58, "user_id": 1849800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7987467dda299a476422239039d34fb1?s=128&d=identicon&r=PG", "display_name": "Shawn Maybush", "link": "https://stackoverflow.com/users/1849800/shawn-maybush"}, "edited": false, "score": 3, "creation_date": 1546507354, "post_id": 53737537, "comment_id": 94874844, "body": "I have a search app that navigates with an action with arguments. Thus it could navigate from the currentDestination to itself.  I ended up doing the same except navController.currentDestination == navController.graph.node . It felt kinda dirty though and I feel like I shouldn&#39;t have to do this."}, {"owner": {"reputation": 402, "user_id": 4202641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e046c043067ae8ecb97a08d94ebc4a1?s=128&d=identicon&r=PG&f=1", "display_name": "DaniloDeQueiroz", "link": "https://stackoverflow.com/users/4202641/danilodequeiroz"}, "edited": false, "score": 122, "creation_date": 1554491263, "post_id": 53737537, "comment_id": 97787052, "body": "The library shouldn&#39;t force us to make this check, it is indeed ridiculous."}, {"owner": {"reputation": 371, "user_id": 4473883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab3e76df8e24d1502bdbec25c662e1c5?s=128&d=identicon&r=PG&f=1", "display_name": "The Fox", "link": "https://stackoverflow.com/users/4473883/the-fox"}, "edited": false, "score": 0, "creation_date": 1571308447, "post_id": 53737537, "comment_id": 103201772, "body": "I had the same issue. I had an EditText, and a &#39;save&#39; button to store the content of the EditText in the database. It always crashed on pressing the &#39;save&#39; button. I suspect that the reason has to do with the fact that, in order to be able to press the &#39;save&#39; button, I need to get rid of the on-screen keyboard by tapping the back button."}, {"owner": {"reputation": 689, "user_id": 5179352, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/2096cca3192a3882c68a731ab645a524?s=128&d=identicon&r=PG&f=1", "display_name": "Mike76", "link": "https://stackoverflow.com/users/5179352/mike76"}, "edited": false, "score": 0, "creation_date": 1574700227, "post_id": 53737537, "comment_id": 104315790, "body": "This checks for an error condition, but it does not solve the issue. Interestingly, this condition is true if the navigation backstack becomes empty for unwanted reasons."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1590613812, "post_id": 53737537, "comment_id": 109750150, "body": "How do you pass arguments??"}, {"owner": {"reputation": 3062, "user_id": 1402301, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4d707d5976280a9126299cce9507b44d?s=128&d=identicon&r=PG", "display_name": "coolcool1994", "link": "https://stackoverflow.com/users/1402301/coolcool1994"}, "edited": false, "score": 2, "creation_date": 1591984539, "post_id": 53737537, "comment_id": 110271556, "body": "even in iOS though sometimes multiple ViewController gets pushed when you press the button multiple times. Guess both Android and iOS have this problem."}, {"owner": {"reputation": 267, "user_id": 1797806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bGEr1.png?s=128&g=1", "display_name": "CanonicalBear", "link": "https://stackoverflow.com/users/1797806/canonicalbear"}, "edited": false, "score": 0, "creation_date": 1605592577, "post_id": 53737537, "comment_id": 114690381, "body": "I was doing a navigation based on a live data value. Adding this fixed my problem."}, {"owner": {"reputation": 5596, "user_id": 7365866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNhGH.png?s=128&g=1", "display_name": "Ben Butterworth", "link": "https://stackoverflow.com/users/7365866/ben-butterworth"}, "edited": false, "score": 0, "creation_date": 1614857139, "post_id": 53737537, "comment_id": 117515933, "body": "<b>Q:</b> How do you get the correct fragment id? <b>A:</b> It is available in the nav_graph.xml, in the fragment tag: <code>&lt;fragment android:id=&quot;@+id&#47;theIdOfTheFragment&quot; ...&#47;&gt;</code>"}, {"owner": {"reputation": 169, "user_id": 5424676, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203531352723737/picture?type=large", "display_name": "Omar Beshary", "link": "https://stackoverflow.com/users/5424676/omar-beshary"}, "edited": false, "score": 0, "creation_date": 1615821847, "post_id": 53737537, "comment_id": 117803734, "body": "how i can use this solution from a fragment inside a view-pager as i don&#39;t have the destination id ?"}], "tags": [], "owner": {"reputation": 2314, "user_id": 4675927, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/285ad1cf46c6c64e7a204b8a9d14cb98?s=128&d=identicon&r=PG", "display_name": "theJian", "link": "https://stackoverflow.com/users/4675927/thejian"}, "is_accepted": false, "score": 79, "last_activity_date": 1544597553, "creation_date": 1544597553, "answer_id": 53737537, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/53737537#53737537", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>Check <code>currentDestination</code> before calling navigate might be helpful.</p>\n\n<p>For example, if you have two fragment destinations on the navigation graph <code>fragmentA</code> and <code>fragmentB</code>, and there is only one action from <code>fragmentA</code> to <code>fragmentB</code>. calling <code>navigate(R.id.action_fragmentA_to_fragmentB)</code> will result in <code>IllegalArgumentException</code> when you were already on <code>fragmentB</code>. Therefor you should always check the <code>currentDestination</code> before navigating.</p>\n\n<pre><code>if (navController.currentDestination?.id == R.id.fragmentA) {\n    navController.navigate(R.id.action_fragmentA_to_fragmentB)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 406, "user_id": 1234752, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7a60ae89b537d67999405156467166d1?s=128&d=identicon&r=PG", "display_name": "wchristiansen", "link": "https://stackoverflow.com/users/1234752/wchristiansen"}, "edited": false, "score": 1, "creation_date": 1570044162, "post_id": 54146679, "comment_id": 102794028, "body": "This solution won&#39;t work for any actions defined outside of the <code>currentDestination</code>&#39;s action list. Say you have a global action defined and use that action to navigate. This will fail because the action isn&#39;t defined in the currentDestination&#39;s &lt;action&gt; list. Adding a check like <code>currentDestination?.getAction(resId) != null || currentDestination?.id != resId</code> should resolve it but also might not cover every case."}, {"owner": {"reputation": 843, "user_id": 5506386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ece3cdf187473930b523401aa74ca514?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Nuts", "link": "https://stackoverflow.com/users/5506386/alex-nuts"}, "reply_to_user": {"reputation": 406, "user_id": 1234752, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7a60ae89b537d67999405156467166d1?s=128&d=identicon&r=PG", "display_name": "wchristiansen", "link": "https://stackoverflow.com/users/1234752/wchristiansen"}, "edited": false, "score": 0, "creation_date": 1571132019, "post_id": 54146679, "comment_id": 103129468, "body": "@wchristiansen, thank you for notes. I&#39;ve updated code with usage of global actions"}, {"owner": {"reputation": 686, "user_id": 2933028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9b7e442f436f6bff504442b211470f?s=128&d=identicon&r=PG&f=1", "display_name": "Wess", "link": "https://stackoverflow.com/users/2933028/wess"}, "edited": false, "score": 1, "creation_date": 1583235687, "post_id": 54146679, "comment_id": 107040573, "body": "@AlexNuts great answer. I think you can remove <code>?: graph.getAction(resId)</code> -&gt; <code>currentDestination?.getAction(resId)</code> will return an action for both Global or non-Global actions (I&#39;ve tested it). Also, would be better if you made use of Safe Args -&gt; rather pass in <code>navDirections: NavDirections</code> than <code>resId</code> and <code>args</code> separately."}, {"owner": {"reputation": 686, "user_id": 2933028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9b7e442f436f6bff504442b211470f?s=128&d=identicon&r=PG&f=1", "display_name": "Wess", "link": "https://stackoverflow.com/users/2933028/wess"}, "edited": false, "score": 1, "creation_date": 1583236372, "post_id": 54146679, "comment_id": 107040874, "body": "@AlexNuts Note this solution does not support navigating to the same destination as the current destination. I.o.w. navigating from destination X with Bundle Y to destination X with Bundle Z is not possible."}, {"owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "edited": false, "score": 0, "creation_date": 1597612727, "post_id": 54146679, "comment_id": 112183001, "body": "This will fail if the action navigates to a nested graph. In this case, the action destination ID will be that of the nested graph and not that of its start destination, bypassing the check."}], "tags": [], "owner": {"reputation": 843, "user_id": 5506386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ece3cdf187473930b523401aa74ca514?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Nuts", "link": "https://stackoverflow.com/users/5506386/alex-nuts"}, "is_accepted": false, "score": 54, "last_activity_date": 1571131941, "last_edit_date": 1571131941, "creation_date": 1547210073, "answer_id": 54146679, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/54146679#54146679", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>You can check requested action in current destination of navigation controller.</p>\n\n<p><strong>UPDATE</strong>\nadded usage of global actions for safe navigation.</p>\n\n<pre><code>fun NavController.navigateSafe(\n        @IdRes resId: Int,\n        args: Bundle? = null,\n        navOptions: NavOptions? = null,\n        navExtras: Navigator.Extras? = null\n) {\n    val action = currentDestination?.getAction(resId) ?: graph.getAction(resId)\n    if (action != null &amp;&amp; currentDestination?.id != action.destinationId) {\n        navigate(resId, args, navOptions, navExtras)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1602, "user_id": 2927901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/362367621070baf16a548e54e833106a?s=128&d=identicon&r=PG&f=1", "display_name": "VasyaFromRussia", "link": "https://stackoverflow.com/users/2927901/vasyafromrussia"}, "is_accepted": false, "score": 1, "last_activity_date": 1548863556, "creation_date": 1548863556, "answer_id": 54444488, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/54444488#54444488", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>I caught this exception after some renames of classes. For example:\nI had classes called <code>FragmentA</code> with <code>@+is/fragment_a</code> in navigation graph and <code>FragmentB</code> with <code>@+id/fragment_b</code>. Then I deleted <code>FragmentA</code> and renamed <code>FragmentB</code> to <code>FragmentA</code>. So after that node of <code>FragmentA</code> still stayed in navigation graph, and <code>android:name</code> of <code>FragmentB</code>'s node was renamed <code>path.to.FragmentA</code>. I had two nodes with the same <code>android:name</code> and different <code>android:id</code>, and the action I needed were defined on node of removed class.</p>\n"}, {"comments": [{"owner": {"reputation": 3110, "user_id": 4402462, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh3.googleusercontent.com/-_tLZ6wVqNwM/AAAAAAAAAAI/AAAAAAAABbQ/1vpw--DOl7A/photo.jpg?sz=128", "display_name": "Srikar Reddy", "link": "https://stackoverflow.com/users/4402462/srikar-reddy"}, "edited": false, "score": 0, "creation_date": 1557842857, "post_id": 55705293, "comment_id": 98895700, "body": "In this case, the crash doesn&#39;t happen every time but only happens rare. How to solve it?"}, {"owner": {"reputation": 1185, "user_id": 8601451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HRP38.jpg?s=128&g=1", "display_name": "Abraham Mathew", "link": "https://stackoverflow.com/users/8601451/abraham-mathew"}, "edited": false, "score": 0, "creation_date": 1562324373, "post_id": 55705293, "comment_id": 100348369, "body": "You can add a global action inside the navGraph and use it to navigate"}, {"owner": {"reputation": 222, "user_id": 4034143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf8b9624c3b5e085309e53567fcbf7fb?s=128&d=identicon&r=PG&f=1", "display_name": "hmac", "link": "https://stackoverflow.com/users/4034143/hmac"}, "edited": false, "score": 1, "creation_date": 1568706653, "post_id": 55705293, "comment_id": 102349516, "body": "As B shouldn&#39;t need to be aware of its exact parent, it would be better to use ADirections via an interface like <code>(parentFragment as? XActionListener)?.Xaction()</code> and note you could hold this function as a local variable if that is helpful"}, {"owner": {"reputation": 145, "user_id": 7962905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZzKY.jpg?s=128&g=1", "display_name": "Ikhiloya Imokhai", "link": "https://stackoverflow.com/users/7962905/ikhiloya-imokhai"}, "edited": false, "score": 0, "creation_date": 1576071688, "post_id": 55705293, "comment_id": 104779404, "body": "can you please share a sample code to illustrate this as I have same issue"}, {"owner": {"reputation": 1007, "user_id": 7303915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5aFAo.jpg?s=128&g=1", "display_name": "Usman Zafer", "link": "https://stackoverflow.com/users/7303915/usman-zafer"}, "edited": false, "score": 0, "creation_date": 1585070738, "post_id": 55705293, "comment_id": 107635013, "body": "anybody could plz a sample code, i am stuck at the same issue. Have a fragment and then a tabfragment"}], "tags": [], "owner": {"reputation": 1084, "user_id": 763085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b19949d6d9cb4cb04635f8349824f65?s=128&d=identicon&r=PG", "display_name": "AntPachon", "link": "https://stackoverflow.com/users/763085/antpachon"}, "is_accepted": false, "score": 21, "last_activity_date": 1555408179, "creation_date": 1555408179, "answer_id": 55705293, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/55705293#55705293", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>It could also happen if you have \na Fragment A with a ViewPager of Fragments B \nAnd you try to navigate from B to C</p>\n\n<p>Since in the ViewPager the fragments are not a destination of A, your graph wouldn't know you are on B.</p>\n\n<p>A solution can be to use ADirections in B to navigate to C</p>\n"}, {"tags": [], "owner": {"reputation": 3492, "user_id": 7210237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XWFIV.jpg?s=128&g=1", "display_name": "Jenea Vranceanu", "link": "https://stackoverflow.com/users/7210237/jenea-vranceanu"}, "is_accepted": false, "score": 7, "last_activity_date": 1559644818, "last_edit_date": 1559644818, "creation_date": 1559423053, "answer_id": 56410391, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/56410391#56410391", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p><strong>TL;DR</strong> Wrap your <code>navigate</code> calls with <code>try-catch</code> (simple way), or make sure there will be only one call of <code>navigate</code> in short period of time. This issue likely won't go away. Copy bigger code snippet in your app and try out.</p>\n\n<p>Hello. Based on a couple of useful responses above, I would like to share my solution that can be extended.</p>\n\n<p>Here is the code that caused this crash in my application:</p>\n\n<pre><code>@Override\npublic void onListItemClicked(ListItem item) {\n    Bundle bundle = new Bundle();\n    bundle.putParcelable(SomeFragment.LIST_KEY, item);\n    Navigation.findNavController(recyclerView).navigate(R.id.action_listFragment_to_listItemInfoFragment, bundle);\n}\n</code></pre>\n\n<p>A way to easily reproduce the bug is to tap with multiple fingers on the list of items where click on each item resolves in the navigation to the new screen (basically the same as people noted - two or more clicks in a very short period of time). I noticed that:</p>\n\n<ol>\n<li>First <code>navigate</code> invocation always works fine;</li>\n<li>Second and all other invocations of the <code>navigate</code> method resolve in <code>IllegalArgumentException</code>.</li>\n</ol>\n\n<p>From my point of view, this situation may appear very often. Since the repeating of code is a bad practice and it is always good to have one point of influence I thought of the next solution:</p>\n\n<pre><code>public class NavigationHandler {\n\npublic static void navigate(View view, @IdRes int destination) {\n    navigate(view, destination, /* args */null);\n}\n\n/**\n * Performs a navigation to given destination using {@link androidx.navigation.NavController}\n * found via {@param view}. Catches {@link IllegalArgumentException} that may occur due to\n * multiple invocations of {@link androidx.navigation.NavController#navigate} in short period of time.\n * The navigation must work as intended.\n *\n * @param view        the view to search from\n * @param destination destination id\n * @param args        arguments to pass to the destination\n */\npublic static void navigate(View view, @IdRes int destination, @Nullable Bundle args) {\n    try {\n        Navigation.findNavController(view).navigate(destination, args);\n    } catch (IllegalArgumentException e) {\n        Log.e(NavigationHandler.class.getSimpleName(), \"Multiple navigation attempts handled.\");\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And thus the code above changes only in one line from this:</p>\n\n<pre><code>Navigation.findNavController(recyclerView).navigate(R.id.action_listFragment_to_listItemInfoFragment, bundle);\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>NavigationHandler.navigate(recyclerView, R.id.action_listFragment_to_listItemInfoFragment, bundle);\n</code></pre>\n\n<p>It even became a little bit shorter. The code was tested in the exact place where the crash occurred. Did not experience it anymore, and will use the same solution for other navigations to avoid the same mistake further. </p>\n\n<p>Any thoughts are welcome!</p>\n\n<p><strong>What exactly causes the crash</strong></p>\n\n<p>Remember that here we work with the same navigation graph, navigation controller and back-stack when we use method <code>Navigation.findNavController</code>.</p>\n\n<p>We always get the same controller and graph here. When <code>navigate(R.id.my_next_destination)</code> is called graph and back-stack changes <strong>almost instantly</strong> while UI is not updated yet. Just not fast enough, but that is ok. After back-stack has changed the navigation system receives the second <code>navigate(R.id.my_next_destination)</code> call. Since back-stack has changed we now operate relative to the top fragment in the stack. The top fragment is the fragment you navigate to by using <code>R.id.my_next_destination</code>, but it does not contain next any further destinations with ID <code>R.id.my_next_destination</code>. Thus you get <code>IllegalArgumentException</code> because of the ID that the fragment knows nothing about. </p>\n\n<p>This exact error can be found in <code>NavController.java</code> method <code>findDestination</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 177, "user_id": 2757937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1589966600/picture?type=large", "display_name": "Marek Teuchner", "link": "https://stackoverflow.com/users/2757937/marek-teuchner"}, "edited": false, "score": 1, "creation_date": 1613614273, "post_id": 56676874, "comment_id": 117131900, "body": "This should be the accepted answer. Accepted answer does not support navigation to a dialog"}], "tags": [], "owner": {"reputation": 914, "user_id": 4266287, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RlDob41Dh4I/AAAAAAAAAAI/AAAAAAAAGJ0/02d7vjk_Nfs/photo.jpg?sz=128", "display_name": "Douglas Kazumi", "link": "https://stackoverflow.com/users/4266287/douglas-kazumi"}, "is_accepted": false, "score": 25, "last_activity_date": 1560984741, "creation_date": 1560984741, "answer_id": 56676874, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/56676874#56676874", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>What I did to prevent the crash is the following:</p>\n\n<p>I have a BaseFragment, in there I've added this <code>fun</code> to ensure that the <code>destination</code> is known by the <code>currentDestination</code>:</p>\n\n<pre><code>fun navigate(destination: NavDirections) = with(findNavController()) {\n    currentDestination?.getAction(destination.actionId)\n        ?.let { navigate(destination) }\n}\n</code></pre>\n\n<p>Worth noting that I'm using the <a href=\"https://developer.android.com/jetpack/androidx/releases/navigation#safeargs\" rel=\"noreferrer\">SafeArgs</a> plugin.</p>\n"}, {"tags": [], "owner": {"reputation": 9526, "user_id": 7356355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed89399fa941467104efb9930687aaa?s=128&d=identicon&r=PG&f=1", "display_name": "user158", "link": "https://stackoverflow.com/users/7356355/user158"}, "is_accepted": false, "score": 0, "last_activity_date": 1562043526, "creation_date": 1562043526, "answer_id": 56845594, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/56845594#56845594", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>This happened to me, my issue was I was clicking a FAB on <code>tab item fragment</code>. I was trying to navigate from one of tab item fragment to <code>another fragment</code>. </p>\n\n<p>But according to <a href=\"https://stackoverflow.com/users/1676363/ianhanniballake\">Ian Lake</a> in <a href=\"https://stackoverflow.com/a/54298808/7356355\">this answer</a> we have to use <code>tablayout</code> and <code>viewpager</code>, <strong>no navigation component support</strong>. Because of this, there is no navigation path from tablayout containing fragment to tab item fragment.</p>\n\n<p>ex:</p>\n\n<pre><code>containing fragment -&gt; tab layout fragment -&gt; tab item fragment -&gt; another fragment\n</code></pre>\n\n<p>Solution was to create a path from tab layout containing fragment to intended fragment\nex: path: <code>container fragment -&gt; another fragment</code></p>\n\n<p><strong>Disadvantage:</strong></p>\n\n<ul>\n<li>Nav graph no longer represent user flow accurately.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 11475332, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XH_zqXQzCsw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcJsOLshkXOZEsTbbW_66JeVcn5hQ/mo/photo.jpg?sz=128", "display_name": "\u5510\u5fb7\u5764", "link": "https://stackoverflow.com/users/11475332/%e5%94%90%e5%be%b7%e5%9d%a4"}, "is_accepted": false, "score": 1, "last_activity_date": 1567070725, "last_edit_date": 1567070725, "creation_date": 1567068700, "answer_id": 57706481, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/57706481#57706481", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>It occurs to me when I press the back button two times. At first, I intercept <code>KeyListener</code> and override <code>KeyEvent.KEYCODE_BACK</code>. I added the code below in the function named <code>OnResume</code> for the Fragment, and then this question/issue is solved.</p>\n\n<pre><code>  override fun onResume() {\n        super.onResume()\n        view?.isFocusableInTouchMode = true\n        view?.requestFocus()\n        view?.setOnKeyListener { v, keyCode, event -&gt;\n            if (event.action == KeyEvent.ACTION_DOWN &amp;&amp; keyCode == KeyEvent.KEYCODE_BACK) {\n                activity!!.finish()\n                true\n            }\n            false\n        }\n    }\n</code></pre>\n\n<p>When it happens to me for a second time, and it's status is the same as the first one, I find that I maybe use the <code>adsurd</code> function. Let\u2019s analyze these situations.</p>\n\n<ol>\n<li><p>Firstly, FragmentA navigates to FragmentB ,then FragmentB navigates to FragmentA, then press back button... the crash appears.</p></li>\n<li><p>Secondly, FragmentA navigates to FragmentB, then FragmentB navigates to FragmentC, FragmentC navigates to FragmentA, then press back button... the crash appears.</p></li>\n</ol>\n\n<p>So I think when pressing back button, FragmentA will return to FragmentB  or FragmentC, then it causes the login mess. Finally I find that the function named <code>popBackStack</code> can be used for back rather than navigate.</p>\n\n<pre><code>  NavHostFragment.findNavController(this@TeacherCloudResourcesFragment).\n                        .popBackStack(\n                            R.id.teacher_prepare_lesson_main_fragment,false\n                        )\n</code></pre>\n\n<p>So far, the problem is really solved.</p>\n"}, {"tags": [], "owner": {"reputation": 1776, "user_id": 6341943, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wqhTp.png?s=128&g=1", "display_name": "hushed_voice", "link": "https://stackoverflow.com/users/6341943/hushed-voice"}, "is_accepted": false, "score": 5, "last_activity_date": 1570907419, "creation_date": 1570907419, "answer_id": 58357577, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/58357577#58357577", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>In my case, the issue occurred when I had re-used one of my Fragments inside a <code>viewpager</code> fragment as a child of the <code>viewpager</code>.\nThe <code>viewpager</code> Fragment(which was the parent fragment) was added in the Navigation xml, but the action was not added in the <code>viewpager</code> parent fragment.</p>\n\n<pre><code>nav.xml\n//reused fragment\n&lt;fragment\n    android:id=\"@+id/navigation_to\"\n    android:name=\"com.package.to_Fragment\"\n    android:label=\"To Frag\"\n    tools:layout=\"@layout/fragment_to\" &gt;\n    //issue got fixed when i added this action to the viewpager parent also\n    &lt;action android:id=\"@+id/action_to_to_viewall\"\n        app:destination=\"@+id/toViewAll\"/&gt;\n&lt;/fragment&gt;\n....\n// viewpager parent fragment\n&lt;fragment\n    android:id=\"@+id/toViewAll\"\n    android:name=\"com.package.ViewAllFragment\"\n    android:label=\"to_viewall_fragment\"\n    tools:layout=\"@layout/fragment_view_all\"&gt;\n</code></pre>\n\n<p>Fixed the issue by adding the action to the parent viewpager fragment also as shown below:</p>\n\n<pre><code>nav.xml\n//reused fragment\n&lt;fragment\n    android:id=\"@+id/navigation_to\"\n    android:name=\"com.package.to_Fragment\"\n    android:label=\"To Frag\"\n    tools:layout=\"@layout/fragment_to\" &gt;\n    //issue got fixed when i added this action to the viewpager parent also\n    &lt;action android:id=\"@+id/action_to_to_viewall\"\n        app:destination=\"@+id/toViewAll\"/&gt;\n&lt;/fragment&gt;\n....\n// viewpager parent fragment\n&lt;fragment\n    android:id=\"@+id/toViewAll\"\n    android:name=\"com.package.ViewAllFragment\"\n    android:label=\"to_viewall_fragment\"\n    tools:layout=\"@layout/fragment_view_all\"/&gt;\n    &lt;action android:id=\"@+id/action_to_to_viewall\"\n        app:destination=\"@+id/toViewAll\"/&gt;\n&lt;/fragment&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1776, "user_id": 6341943, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wqhTp.png?s=128&g=1", "display_name": "hushed_voice", "link": "https://stackoverflow.com/users/6341943/hushed-voice"}, "is_accepted": false, "score": 4, "last_activity_date": 1575967283, "creation_date": 1575967283, "answer_id": 59263183, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/59263183#59263183", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>In my case, I had multiple nav graph files and I was trying to move from 1 nav graph location to a destination in another nav graph. </p>\n\n<p>For this we have to include the 2nd nav graph in the 1st one like this </p>\n\n<pre><code>&lt;include app:graph=\"@navigation/included_graph\" /&gt;\n</code></pre>\n\n<p>and add this to your action:</p>\n\n<pre><code>&lt;action\n        android:id=\"@+id/action_fragment_to_second_graph\"\n        app:destination=\"@id/second_graph\" /&gt;\n</code></pre>\n\n<p>where <code>second_graph</code> is :</p>\n\n<pre><code>&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/second_graph\"\n    app:startDestination=\"@id/includedStart\"&gt;\n</code></pre>\n\n<p>in the second graph.</p>\n\n<p>More info <a href=\"https://developer.android.com/guide/navigation/navigation-nested-graphs\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 2955, "user_id": 5702219, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-1zLfRUnt41I/AAAAAAAAAAI/AAAAAAAAAJY/HH_azbQaDZM/photo.jpg=k-s128", "display_name": "Jerry Okafor", "link": "https://stackoverflow.com/users/5702219/jerry-okafor"}, "edited": false, "score": 0, "creation_date": 1588764206, "post_id": 59544963, "comment_id": 109022212, "body": "This sounds plausible, I will investigate further. Has anyone been able to verify or substantiate this claim?"}, {"owner": {"reputation": 19152, "user_id": 334402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/476b932160cd12fa0e4515a313427679?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/334402/mick"}, "reply_to_user": {"reputation": 2955, "user_id": 5702219, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-1zLfRUnt41I/AAAAAAAAAAI/AAAAAAAAAJY/HH_azbQaDZM/photo.jpg=k-s128", "display_name": "Jerry Okafor", "link": "https://stackoverflow.com/users/5702219/jerry-okafor"}, "edited": false, "score": 0, "creation_date": 1588764804, "post_id": 59544963, "comment_id": 109022553, "body": "@JerryOkafor - I have tested it in an app I was working on based on CameraX Sample and verified it but it would be good to see if someone else has seen this also. I actually missed a &#39;back navigation&#39; in one place in the same app so just fixed it again recently also."}], "tags": [], "owner": {"reputation": 19152, "user_id": 334402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/476b932160cd12fa0e4515a313427679?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/334402/mick"}, "is_accepted": false, "score": 2, "last_activity_date": 1577801519, "last_edit_date": 1592644375, "creation_date": 1577800391, "answer_id": 59544963, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/59544963#59544963", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>It seems that mixing fragmentManager control of the backstack and Navigation Architecture control of the backstack can cause this issue also.</p>\n<p>For example the original CameraX basic sample used fragmentManager backstack navigation as below and it appears as if it did not correctly interact with Navigation:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// Handle back button press\n        view.findViewById&lt;ImageButton&gt;(R.id.back_button).setOnClickListener {\n            fragmentManager?.popBackStack()\n        }\n</code></pre>\n<p>If you log the 'current destination' with this version before moving from the main fragment (the camera fragment in this case) and then log it again when you return to the main fragment, you can see from the id in the logs that the id is not the same. At a guess, the Navigation updated it when moving to the fragment and the fragmntManager did not then update it again when moving back. From the logs:</p>\n<blockquote>\n<p><strong>Before</strong>: D/CameraXBasic: currentDest?: androidx.navigation.fragment.FragmentNavigator$Destination@b713195</p>\n<p><strong>After</strong>: D/CameraXBasic: currentDest?: androidx.navigation.fragment.FragmentNavigator$Destination@9807d8f</p>\n</blockquote>\n<p>The updated version of CameraX basic sample uses Navigation to return like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code> // Handle back button press\n        view.findViewById&lt;ImageButton&gt;(R.id.back_button).setOnClickListener {\n            Navigation.findNavController(requireActivity(), R.id.fragment_container).navigateUp()\n        }\n</code></pre>\n<p>This works correctly and the logs show the same id when back at the main fragment.</p>\n<blockquote>\n<p><strong>Before</strong>: D/CameraXBasic: currentDest?: androidx.navigation.fragment.FragmentNavigator$Destination@b713195</p>\n<p><strong>After</strong>: D/CameraXBasic: currentDest?: androidx.navigation.fragment.FragmentNavigator$Destination@b713195</p>\n</blockquote>\n<p>I suspect the moral of the story, at least at this time, is to be very careful mixing Navigation with fragmentManager navigation.</p>\n"}, {"tags": [], "owner": {"reputation": 822, "user_id": 2685454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58256e1f48b11fbde7c1b3ab62fcdf7?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit", "link": "https://stackoverflow.com/users/2685454/sumit"}, "is_accepted": false, "score": 0, "last_activity_date": 1579061749, "creation_date": 1579061749, "answer_id": 59745051, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/59745051#59745051", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>Updated @Alex Nuts solution</p>\n\n<p>If there is no action for particular fragment and want to navigate to fragment </p>\n\n<pre><code>fun NavController.navigateSafe(\n@IdRes actionId: Int, @IdRes fragmentId: Int, args: Bundle? = null,\nnavOptions: NavOptions? = null, navExtras: Navigator.Extras? = null) \n{\n  if (actionId != 0) {\n      val action = currentDestination?.getAction(actionId) ?: graph.getAction(actionId)\n      if (action != null &amp;&amp; currentDestination?.id != action.destinationId) {\n          navigate(actionId, args, navOptions, navExtras)\n    }\n    } else if (fragmentId != 0 &amp;&amp; fragmentId != currentDestination?.id)\n        navigate(fragmentId, args, navOptions, navExtras)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 499, "user_id": 7223184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf114d17904e480e5e74448d2cf4faf2?s=128&d=identicon&r=PG", "display_name": "Aness", "link": "https://stackoverflow.com/users/7223184/aness"}, "is_accepted": false, "score": 2, "last_activity_date": 1594412735, "last_edit_date": 1594412735, "creation_date": 1580433933, "answer_id": 59996824, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/59996824#59996824", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>I got this same error because I used a Navigation Drawer and <code>getSupportFragmentManager().beginTransaction().replace( )</code> at the same time somewhere in my code .</p>\n<p>I got rid of the error by using this condition(testing if the destination) :</p>\n<pre><code>if (Navigation.findNavController(v).getCurrentDestination().getId() == R.id.your_destination_fragment_id)\nNavigation.findNavController(v).navigate(R.id.your_action);\n</code></pre>\n<p>In my case the previous error was triggered when I was clicking on the navigation drawer options. Basically the code above did hide the error , because in my code somewhere I used navigation using <code>getSupportFragmentManager().beginTransaction().replace( )</code> The condition -</p>\n<pre><code> if (Navigation.findNavController(v).getCurrentDestination().getId() ==\n  R.id.your_destination_fragment_id) \n</code></pre>\n<p>was never reached because <code>(Navigation.findNavController(v).getCurrentDestination().getId()</code> was always poiting to home fragment. You must only use <code>Navigation.findNavController(v).navigate(R.id.your_action)</code> or nav graph controller functions for all your navigation actions.</p>\n"}, {"comments": [{"owner": {"reputation": 650, "user_id": 3316842, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/27a97d409966980c6c4799dbf12d1903?s=128&d=identicon&r=PG&f=1", "display_name": "baskInEminence", "link": "https://stackoverflow.com/users/3316842/baskineminence"}, "edited": false, "score": 0, "creation_date": 1599891564, "post_id": 60343663, "comment_id": 112921223, "body": "Thank you for this simple to understand yet powerful example. No need to mess around with click listeners and we can still use all of the APIs =D"}], "tags": [], "owner": {"reputation": 7324, "user_id": 2652368, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/22TKg.jpg?s=128&g=1", "display_name": "Amir Hossein Ghasemi", "link": "https://stackoverflow.com/users/2652368/amir-hossein-ghasemi"}, "is_accepted": false, "score": 2, "last_activity_date": 1582306246, "creation_date": 1582306246, "answer_id": 60343663, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/60343663#60343663", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>A Ridiculous way but very powerful is:\nSimply call this:</p>\n\n<pre><code>view?.findNavController()?.navigateSafe(action)\n</code></pre>\n\n<p>Just Create this Extention:</p>\n\n<pre><code>fun NavController.navigateSafe(\n    navDirections: NavDirections? = null\n) {\n    try {\n        navDirections?.let {\n            this.navigate(navDirections)\n        }\n    }\n    catch (e:Exception)\n    {\n        e.printStackTrace()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12918002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD9_bW67zo8Bfx38pA6B_fGCXNTl651B1howurkGw=k-s128", "display_name": "Manoj Chouhan", "link": "https://stackoverflow.com/users/12918002/manoj-chouhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1584079911, "creation_date": 1584079911, "answer_id": 60665650, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/60665650#60665650", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>There could be many reasons for this problem.\nIn my case i was using the MVVM model and i was observing a boolean for navigation\nwhen the boolean is true -> navigate\n else don't do anything \nand this was working fine but there was one mistake here</p>\n\n<p>when pressing back button from the destination fragment i was encountering the same problem .And problem was the boolean object as I forgot to change the boolean value to false this created the mess.I just created a function in viewModel to change its value to false and called it just after the findNavController()</p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 10956001, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HaVQvB1bNio/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM7VV0RYovJCzMg8ytdpaosT3rkjA/mo/photo.jpg?sz=128", "display_name": "Gergely Hegedus", "link": "https://stackoverflow.com/users/10956001/gergely-hegedus"}, "is_accepted": false, "score": 1, "last_activity_date": 1584106658, "creation_date": 1584106658, "answer_id": 60671520, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/60671520#60671520", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>Usually when this happens to me, I had the issue described by Charles Madere: Two navigation events triggered on the same ui, one changing the currentDestination and the other failing because the currentDestination is changed. \nThis can happen if you double-tap, or click on two views with a click listener calling findNavController.navigate.</p>\n\n<p>So to resolve this you can either use if-checks, try-catch or if you are interested there is a findSafeNavController() which does this checks for you before navigating. It also has a lint-check to make sure you don't forget about this issue.</p>\n\n<p><a href=\"https://github.com/halcyonmobile/android-common-extensions\" rel=\"nofollow noreferrer\">GitHub</a></p>\n\n<p><a href=\"https://medium.com/halcyon-mobile/tackling-the-illegalargumentexception-navigation-destination-foo-is-unknown-to-this-89091d955c3c\" rel=\"nofollow noreferrer\">Article detailing the issue</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9244431, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FFF6vygDC-k/AAAAAAAAAAI/AAAAAAAAADo/88gqOji9zYw/photo.jpg?sz=128", "display_name": "Oleksandr Yahnenko", "link": "https://stackoverflow.com/users/9244431/oleksandr-yahnenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1584360464, "creation_date": 1584360464, "answer_id": 60705718, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/60705718#60705718", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>I wrote this extensions </p>\n\n<pre><code>fun Fragment.navigateAction(action: NavDirections) {\n    val navController = this.findNavController()\n    if (navController.currentDestination?.getAction(action.actionId) == null) {\n        return\n    } else {\n        navController.navigate(action)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "edited": false, "score": 0, "creation_date": 1597612932, "post_id": 60780088, "comment_id": 112183052, "body": "Kotlin has extension functions exactly for that purpose, no need for a wrapper."}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "reply_to_user": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "edited": false, "score": 0, "creation_date": 1597652682, "post_id": 60780088, "comment_id": 112192234, "body": "You cannot perform unit testing when you are using extension functions here and there. Alternatively, when you are using wrapper, you are introducing a seam in the component hence you are able to mock out components per your needs and perform pure unit testing."}], "tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": false, "score": 1, "last_activity_date": 1592926240, "last_edit_date": 1592926240, "creation_date": 1584730426, "answer_id": 60780088, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/60780088#60780088", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>After thinking over Ian Lake's advice in <a href=\"https://twitter.com/averdesh/status/1241032712280068096\" rel=\"nofollow noreferrer\">this twitter thread</a> I've came up with following approach. Having <code>NavControllerWrapper</code> defined as such:</p>\n<pre><code>class NavControllerWrapper constructor(\n  private val navController: NavController\n) {\n\n  fun navigate(\n    @IdRes from: Int,\n    @IdRes to: Int\n  ) = navigate(\n    from = from,\n    to = to,\n    bundle = null\n  )\n\n  fun navigate(\n    @IdRes from: Int,\n    @IdRes to: Int,\n    bundle: Bundle?\n  ) = navigate(\n    from = from,\n    to = to,\n    bundle = bundle,\n    navOptions = null,\n    navigatorExtras = null\n  )\n\n  fun navigate(\n    @IdRes from: Int,\n    @IdRes to: Int,\n    bundle: Bundle?,\n    navOptions: NavOptions?,\n    navigatorExtras: Navigator.Extras?\n  ) {\n    if (navController.currentDestination?.id == from) {\n      navController.navigate(\n        to,\n        bundle,\n        navOptions,\n        navigatorExtras\n      )\n    }\n  }\n\n  fun navigate(\n    @IdRes from: Int,\n    directions: NavDirections\n  ) {\n    if (navController.currentDestination?.id == from) {\n      navController.navigate(directions)\n    }\n  }\n\n  fun navigateUp() = navController.navigateUp()\n\n  fun popBackStack() = navController.popBackStack()\n}\n\n</code></pre>\n<p>Then in navigation code:</p>\n<pre><code>val navController = navControllerProvider.getNavController()\nnavController.navigate(from = R.id.main, to = R.id.action_to_detail)\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2530, "user_id": 876267, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0961701cb2a8116d88f10e04130b3e5b?s=128&d=identicon&r=PG", "display_name": "Mehmed", "link": "https://stackoverflow.com/users/876267/mehmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1585704793, "creation_date": 1585704793, "answer_id": 60962352, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/60962352#60962352", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>I created this extension function for Fragment:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Fragment.safeNavigate(\n    @IdRes actionId: Int,\n    @Nullable args: Bundle? = null,\n    @Nullable navOptions: NavOptions? = null,\n    @Nullable navigatorExtras: Navigator.Extras? = null\n) {\n    NavHostFragment.findNavController(this).apply {\n        if (currentDestination?.label == this@safeNavigate::class.java.simpleName) {\n            navigate(actionId, args, navOptions, navigatorExtras)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "is_accepted": false, "score": 5, "last_activity_date": 1586781863, "creation_date": 1586781863, "answer_id": 61188167, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/61188167#61188167", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>Today </p>\n\n<blockquote>\n  <p>def navigationVersion = \"2.2.1\"</p>\n</blockquote>\n\n<p>The issue still exists. My approach on Kotlin is:</p>\n\n<pre><code>// To avoid \"java.lang.IllegalArgumentException: navigation destination is unknown to this NavController\", se more https://stackoverflow.com/q/51060762/6352712\nfun NavController.navigateSafe(\n    @IdRes destinationId: Int,\n    navDirection: NavDirections,\n    callBeforeNavigate: () -&gt; Unit\n) {\n    if (currentDestination?.id == destinationId) {\n        callBeforeNavigate()\n        navigate(navDirection)\n    }\n}\n\nfun NavController.navigateSafe(@IdRes destinationId: Int, navDirection: NavDirections) {\n    if (currentDestination?.id == destinationId) {\n        navigate(navDirection)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 4247933, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f9267e2940cb0d7e4b7191994c66b1d3?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/4247933/joshua"}, "is_accepted": false, "score": 1, "last_activity_date": 1587149839, "last_edit_date": 1587149839, "creation_date": 1587139469, "answer_id": 61275877, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/61275877#61275877", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>If you click on too quickly , it will cause null and crash. </p>\n\n<p>We can use RxBinding lib to help on this. You can add throttle and duration on the click before it happens.</p>\n\n<pre><code> RxView.clicks(view).throttleFirst(duration, TimeUnit.MILLISECONDS)\n            .subscribe(__ -&gt; {\n            });\n</code></pre>\n\n<p>These <a href=\"https://medium.com/prolific-interactive/throttling-all-clicks-on-android-1533c066bc7c\" rel=\"nofollow noreferrer\">articles</a> on throttling on Android might help. Cheers!</p>\n"}, {"comments": [{"owner": {"reputation": 179, "user_id": 7742361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JdTNG.png?s=128&g=1", "display_name": "Crazy", "link": "https://stackoverflow.com/users/7742361/crazy"}, "reply_to_user": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "edited": false, "score": 1, "creation_date": 1587929199, "post_id": 61289318, "comment_id": 108697080, "body": "Look at the answers below mine"}], "tags": [], "owner": {"reputation": 179, "user_id": 7742361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JdTNG.png?s=128&g=1", "display_name": "Crazy", "link": "https://stackoverflow.com/users/7742361/crazy"}, "is_accepted": false, "score": 1, "last_activity_date": 1587213948, "creation_date": 1587213948, "answer_id": 61289318, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/61289318#61289318", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>If you're using a recyclerview just add a click listener cooldown on your click and also in your recyclerview xml file use <code>android:splitMotionEvents=\"false\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 7055259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ql4IR.jpg?s=128&g=1", "display_name": "mohammad", "link": "https://stackoverflow.com/users/7055259/mohammad"}, "is_accepted": false, "score": 4, "last_activity_date": 1594429330, "last_edit_date": 1594429330, "creation_date": 1588582060, "answer_id": 61588333, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/61588333#61588333", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>I have resolved the same problem by putting check before navigate instead of boilerplate code for clicking instantly control</p>\n<pre><code> if (findNavController().currentDestination?.id == R.id.currentFragment) {\n        findNavController().navigate(R.id.action_current_next)}\n/* Here R.id.currentFragment is the id of current fragment in navigation graph */\n</code></pre>\n<p>according to this answer</p>\n<p><a href=\"https://stackoverflow.com/a/56168225/7055259\">https://stackoverflow.com/a/56168225/7055259</a></p>\n"}, {"comments": [{"owner": {"reputation": 1666, "user_id": 6007104, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bc074e0985a2e9388569b5d030bbda19?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/6007104/luke"}, "edited": false, "score": 0, "creation_date": 1588872090, "post_id": 61609489, "comment_id": 109074454, "body": "I&#39;ve studied a few different solutions to this problem, and yours is definitely the nicest. Makes me sad to see so little love for it"}, {"owner": {"reputation": 1252, "user_id": 1572848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e6ec603f9ab7b02948a22118f2c656c?s=128&d=identicon&r=PG", "display_name": "William Reed", "link": "https://stackoverflow.com/users/1572848/william-reed"}, "edited": false, "score": 1, "creation_date": 1588950992, "post_id": 61609489, "comment_id": 109106131, "body": "it may be useful to create a unique identifier in place of <code>NAV_DESTINATION_ID</code> with something like this <a href=\"https://stackoverflow.com/a/15021758/1572848\">stackoverflow.com/a/15021758/1572848</a>"}, {"owner": {"reputation": 1776, "user_id": 129269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a468ef152efa56e57af8765b3f7fa1ea?s=128&d=identicon&r=PG", "display_name": "riezebosch", "link": "https://stackoverflow.com/users/129269/riezebosch"}, "edited": false, "score": 0, "creation_date": 1593091196, "post_id": 61609489, "comment_id": 110662533, "body": "Where&#39;s the tag coming from and why is it needed? I&#39;ve problems where the actual id&#39;s on the navigation component don&#39;t match these from <code>R.id</code>."}, {"owner": {"reputation": 11194, "user_id": 1310343, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c743a0c302249430bfa7c164c43b38d?s=128&d=identicon&r=PG&f=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/1310343/frank"}, "edited": false, "score": 0, "creation_date": 1593093493, "post_id": 61609489, "comment_id": 110663976, "body": "<code>R.id.tag_navigation_destination_id</code> is just an id you&#39;ll have to add to your ids.xml, to make sure it&#39;s unique. <code>&lt;item name=&quot;tag_navigation_destination_id&quot; type=&quot;id&quot; &#47;&gt;</code>"}, {"owner": {"reputation": 1666, "user_id": 6007104, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bc074e0985a2e9388569b5d030bbda19?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/6007104/luke"}, "edited": false, "score": 0, "creation_date": 1600698843, "post_id": 61609489, "comment_id": 113161959, "body": "Even with this solution, it is possible that the original crash still occurs when popping the backstack. You may wish to add <code>fun Fragment.popBackStackSafe() { if (mayNavigate()) findNavController().popBackStack() }</code>"}], "tags": [], "owner": {"reputation": 11194, "user_id": 1310343, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c743a0c302249430bfa7c164c43b38d?s=128&d=identicon&r=PG&f=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/1310343/frank"}, "is_accepted": false, "score": 4, "last_activity_date": 1593093543, "last_edit_date": 1593093543, "creation_date": 1588669386, "answer_id": 61609489, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/61609489#61609489", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>You can check before navigating if the Fragment requesting the navigation is still the current destination, <a href=\"https://gist.github.com/Frank1234/9981697e8c3520807883e2530e5ab894#file-fragmentextensions-kt\" rel=\"nofollow noreferrer\">taken from this gist</a>.</p>\n<p>It basically sets a tag on the fragment for later lookup.</p>\n<pre><code>/**\n * Returns true if the navigation controller is still pointing at 'this' fragment, or false if it already navigated away.\n */\nfun Fragment.mayNavigate(): Boolean {\n\n    val navController = findNavController()\n    val destinationIdInNavController = navController.currentDestination?.id\n    val destinationIdOfThisFragment = view?.getTag(R.id.tag_navigation_destination_id) ?: destinationIdInNavController\n\n    // check that the navigation graph is still in 'this' fragment, if not then the app already navigated:\n    if (destinationIdInNavController == destinationIdOfThisFragment) {\n        view?.setTag(R.id.tag_navigation_destination_id, destinationIdOfThisFragment)\n        return true\n    } else {\n        Log.d(&quot;FragmentExtensions&quot;, &quot;May not navigate: current destination is not the current fragment.&quot;)\n        return false\n    }\n}\n</code></pre>\n<p><code>R.id.tag_navigation_destination_id</code> is just an id you'll have to add to your ids.xml, to make sure it's unique. <code>&lt;item name=&quot;tag_navigation_destination_id&quot; type=&quot;id&quot; /&gt;</code></p>\n<p>More info on the bug and the solution, and <code>navigateSafe(...)</code> extention methods in <a href=\"https://medium.com/@ffvanderlaan/fixing-the-dreaded-is-unknown-to-this-navcontroller-68c4003824ce\" rel=\"nofollow noreferrer\">&quot;Fixing the dreaded \u201c\u2026 is unknown to this NavController\u201d</a></p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1594578807, "post_id": 62145922, "comment_id": 111168409, "body": "What is the solution?"}, {"owner": {"reputation": 844, "user_id": 7041761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93el7.jpg?s=128&g=1", "display_name": "Max Zonov", "link": "https://stackoverflow.com/users/7041761/max-zonov"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1595352750, "post_id": 62145922, "comment_id": 111443029, "body": "@IgorGanapolsky just replace your <code>navigation</code> screen to the right graph"}], "tags": [], "owner": {"reputation": 844, "user_id": 7041761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93el7.jpg?s=128&g=1", "display_name": "Max Zonov", "link": "https://stackoverflow.com/users/7041761/max-zonov"}, "is_accepted": false, "score": -1, "last_activity_date": 1591078487, "creation_date": 1591078487, "answer_id": 62145922, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/62145922#62145922", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>This error may have occured because you may have assigned the target screen to the wrong graph</p>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 13172802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a34069f71aba93875ec48368c9ce8dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Dhrumil Shah", "link": "https://stackoverflow.com/users/13172802/dhrumil-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1591511777, "creation_date": 1591511777, "answer_id": 62241767, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/62241767#62241767", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>To prevent crash, I recommend to use safeargs plugin otherwise you need to check everytime destination id exists or not. Other thing is in your menu file for bottomnavigationview, each item id has to same as fragment id which is added in navigation graph xml file.</p>\n\n<p>If you use kotlin, you need to add some dependencies in your build.gradle.</p>\n\n<pre><code>android{\ncompileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = JavaVersion.VERSION_1_8.toString()\n    }\n}\n\ndependencies {\nimplementation 'androidx.navigation:navigation-fragment-ktx:2.2.1'\nimplementation 'androidx.navigation:navigation-ui-ktx:2.2.1'\n}\n</code></pre>\n\n<p>For SafeArgs</p>\n\n<pre><code>dependencies {\nclasspath  'android.arch.navigation:navigation-safe-args-gradle-plugin:1.0.0'\n}\n</code></pre>\n\n<p>To navigate to destination, First you have to connect them through action in your navigation graph xml file.</p>\n\n<pre><code>&lt;fragment\n        android:id=\"@+id/employeesListFragment\"\n        android:name=\"com.example.navigationjetpacksample.fragments.EmployeesListFragment\"\n        android:label=\"EmployeesListFragment\"\n        tools:layout=\"@layout/frag_employees_list\"&gt;\n        &lt;action\n            android:id=\"@+id/action_employeesListFragment_to_addEmployeeFragment\"\n            app:destination=\"@id/addEmployeeFragment\" /&gt;\n    &lt;/fragment&gt;\n</code></pre>\n\n<p>After build/clean your project,</p>\n\n<pre><code> fab_add.setOnClickListener {   it.findNavController().navigate(EmployeesListFragmentDirections.actionEmployeesListFragmentToAddEmployeeFragment())\n }\n</code></pre>\n\n<p>For more reference: <a href=\"https://www.codingwithdhrumil.com/2020/03/android-getting-started-with-jetpack.html\" rel=\"nofollow noreferrer\">Jetpack Navigation Example</a></p>\n"}, {"tags": [], "owner": {"reputation": 1196, "user_id": 4974176, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5b6e0b173066b4df6c70f9c7188efa3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vodet", "link": "https://stackoverflow.com/users/4974176/vodet"}, "is_accepted": false, "score": 3, "last_activity_date": 1597228572, "creation_date": 1597228572, "answer_id": 63374743, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/63374743#63374743", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>I resolve this issue by checking if the next action exist in the current destination</p>\n<pre><code>public static void launchFragment(BaseFragment fragment, int action) {\n    if (fragment != null &amp;&amp; NavHostFragment.findNavController(fragment).getCurrentDestination().getAction(action) != null) {       \n        NavHostFragment.findNavController(fragment).navigate(action);\n    }\n}\n\npublic static void launchFragment(BaseFragment fragment, NavDirections directions) {\n    if (fragment != null &amp;&amp; NavHostFragment.findNavController(fragment).getCurrentDestination().getAction(directions.getActionId()) != null) {       \n        NavHostFragment.findNavController(fragment).navigate(directions);\n    }\n}\n</code></pre>\n<p>This resolve a problem if the user click fast on 2 differents button</p>\n"}, {"tags": [], "owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "is_accepted": false, "score": 1, "last_activity_date": 1597613939, "creation_date": 1597613939, "answer_id": 63442183, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/63442183#63442183", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>Update to <a href=\"https://stackoverflow.com/a/54146679/5288316\">@AlexNuts answer</a> to support navigating to a nested graph. When an action uses a nested graph as a destination like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action\n    android:id=&quot;@+id/action_foo&quot;\n    android:destination=&quot;@id/nested_graph&quot;/&gt;\n</code></pre>\n<p>The destination ID of this action cannot be compared with the current destination because the current destination cannot be a graph. The start destination of the nested graph must be resolved.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun NavController.navigateSafe(directions: NavDirections) {\n    // Get action by ID. If action doesn't exist on current node, return.\n    val action = (currentDestination ?: graph).getAction(directions.actionId) ?: return\n    var destId = action.destinationId\n    val dest = graph.findNode(destId)\n    if (dest is NavGraph) {\n        // Action destination is a nested graph, which isn't a real destination.\n        // The real destination is the start destination of that graph so resolve it.\n        destId = dest.startDestination\n    }\n    if (currentDestination?.id != destId) {\n        navigate(directions)\n    }\n}\n</code></pre>\n<p>However this will prevent navigating to the same destination twice, which is sometimes needed. To allow that, you can add a check to <code>action.navOptions?.shouldLaunchSingleTop()</code> and add <code>app:launchSingleTop=&quot;true&quot;</code> to the actions for which you don't want duplicated destinations.</p>\n"}, {"tags": [], "owner": {"reputation": 2632, "user_id": 12313157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BXTvJ.jpg?s=128&g=1", "display_name": "Keyser S&#246;ze", "link": "https://stackoverflow.com/users/12313157/keyser-s%c3%b6ze"}, "is_accepted": false, "score": 1, "last_activity_date": 1598363221, "creation_date": 1598363221, "answer_id": 63580277, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/63580277#63580277", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>As mentioned in other answers, this exception generally occurs when a user</p>\n<ol>\n<li>clicks on multiple views at the same time that handle navigation</li>\n<li>clicks multiple times on a view that handles navigation.</li>\n</ol>\n<p>Using a timer to disable clicks is not an appropriate way to handle this issue. If the user has not been navigated to the destination after the timer expires the app will crash anyways and in many cases where navigation is not the action to be performed quick clicks are necessary.</p>\n<p>In case 1, <code>android:splitMotionEvents=&quot;false&quot;</code> in xml or <code>setMotionEventSplittingEnabled(false)</code> in source file should help. Setting this attribute to false will allow only one view to take the click. You can read about it <a href=\"https://developer.android.com/reference/android/view/ViewGroup#setMotionEventSplittingEnabled(boolean)\" rel=\"nofollow noreferrer\">here</a></p>\n<p>In case 2, there would be something delaying the navigation process allowing the user to click on a view multiple times(API calls, animations, etc). The root issue should be resolved if possible so that navigation happens instantaneously, not allowing the user to click the view twice. If the delay is inevitable, like in the case of an API call, disabling the view or making it unclickable would be the appropriate solution.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6018758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d58241e00b31a1c362f6ab04c7169d12?s=128&d=identicon&r=PG", "display_name": "Nagy Arthur", "link": "https://stackoverflow.com/users/6018758/nagy-arthur"}, "is_accepted": false, "score": 3, "last_activity_date": 1599747863, "last_edit_date": 1599747863, "creation_date": 1599747554, "answer_id": 63831693, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/63831693#63831693", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>In order to avoid this crash one of my colleagues wrote a small library which exposes a <code>SafeNavController</code>, a wrapper around the <code>NavController</code> and handles the cases when this crash occurs because of multiple navigate commands at the same time.</p>\n<p>Here is a short <a href=\"https://medium.com/halcyon-mobile/tackling-the-illegalargumentexception-navigation-destination-foo-is-unknown-to-this-89091d955c3c\" rel=\"nofollow noreferrer\">article</a> about the whole issue and the solution.</p>\n<p>You can find the library <a href=\"https://github.com/halcyonmobile/android-common-extensions\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7748536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a94a980a8fb5b9f288fde5398f436f4?s=128&d=identicon&r=PG&f=1", "display_name": "wangke", "link": "https://stackoverflow.com/users/7748536/wangke"}, "is_accepted": false, "score": 1, "last_activity_date": 1606724642, "last_edit_date": 1606724642, "creation_date": 1606632834, "answer_id": 65057746, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/65057746#65057746", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>I am calling the 2.3.1 Navigation and the same error occurs when the application configuration changes. When the cause of the problem was found through Debug, the <code>GaphId</code> in <code>NavHostFragment</code> did not take effect as the ID currently set by calling <code>navController.setGraph()</code>. The <code>GraphId</code> of <code>NavHostFragment</code> can only be obtained from the <code>&lt;androidx.fragment.app.FragmentContainerView/&gt;</code> tag. At this time, this problem will occur if there are multiple <code>GraphId</code>s dynamically set in your code. When the interface is restored, the Destination cannot be found in the cached <code>GraphId</code>. You can solve this problem by manually specifying the value of <code>mGraphId</code> in <code>NavHostFragment</code> through reflection when switching Graph.</p>\n<pre><code>navController.setGraph(R.navigation.home_book_navigation);\ntry {\n    Field graphIdField = hostFragment.getClass().getDeclaredField(&quot;mGraphId&quot;);\n    graphIdField.setAccessible(true);\n    graphIdField.set(navHostFragment, R.navigation.home_book_navigation);\n} catch (NoSuchFieldException | IllegalAccessException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1289, "user_id": 4982218, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rZHdYOsDJ1g/AAAAAAAAAAI/AAAAAAAAM6I/-aKT9X24C9o/photo.jpg?sz=128", "display_name": "Mardann", "link": "https://stackoverflow.com/users/4982218/mardann"}, "is_accepted": false, "score": 0, "last_activity_date": 1608047245, "last_edit_date": 1608047245, "creation_date": 1608046861, "answer_id": 65309068, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/65309068#65309068", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>Yet another solution to the same quick-click-navigation-crash problem:</p>\n<pre><code>fun NavController.doIfCurrentDestination(@IdRes destination: Int, action: NavController.()-&gt; Unit){\n    if(this.currentDestination?.id == destination){action()}\n}\n</code></pre>\n<p>and then use like this:</p>\n<pre><code>findNavController().doIfCurrentDestination(R.id.my_destination){ navigate(...) }\n</code></pre>\n<p>benefits of this solutions is that you can easily wrap any existing call to <code>naviagte()</code> with whatever signature you already use, no need to make a million overloads</p>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 11836178, "user_type": "registered", "profile_image": "https://graph.facebook.com/1591902074279285/picture?type=large", "display_name": "Alex  Shevchyshen", "link": "https://stackoverflow.com/users/11836178/alex-shevchyshen"}, "edited": false, "score": 0, "creation_date": 1612713420, "post_id": 65959445, "comment_id": 116846906, "body": "This works great, thanks!"}, {"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "reply_to_user": {"reputation": 101, "user_id": 11836178, "user_type": "registered", "profile_image": "https://graph.facebook.com/1591902074279285/picture?type=large", "display_name": "Alex  Shevchyshen", "link": "https://stackoverflow.com/users/11836178/alex-shevchyshen"}, "edited": false, "score": 1, "creation_date": 1612721963, "post_id": 65959445, "comment_id": 116849570, "body": "@AlexShevchyshen I published an update without reflection and more readable."}, {"owner": {"reputation": 958, "user_id": 7500631, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/31688fc3e44002dac435935693200ea9?s=128&d=identicon&r=PG&f=1", "display_name": "Daniyal Javaid", "link": "https://stackoverflow.com/users/7500631/daniyal-javaid"}, "edited": false, "score": 0, "creation_date": 1613351548, "post_id": 65959445, "comment_id": 117041138, "body": "+1 but you have to pass navDirections object in this extension function, not the action safeNavigateFromNavController(navDirection)"}], "tags": [], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "is_accepted": false, "score": 5, "last_activity_date": 1613405847, "last_edit_date": 1613405847, "creation_date": 1611942850, "answer_id": 65959445, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr/65959445#65959445", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>Try that</p>\n<ol>\n<li>Create this extension function (or normal function):</li>\n</ol>\n<p><strong>UPDATED (without reflection and more readable)</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import androidx.fragment.app.Fragment\nimport androidx.navigation.NavController\nimport androidx.navigation.NavDirections\nimport androidx.navigation.fragment.FragmentNavigator\n\nfun Fragment.safeNavigateFromNavController(directions: NavDirections) {\n    val navController = findNavController()\n    val destination = navController.currentDestination as FragmentNavigator.Destination\n    if (javaClass.name == destination.className) {\n        navController.navigate(directions)\n    }\n}\n</code></pre>\n<p><strong>OLD (with reflection)</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import androidx.fragment.app.Fragment\nimport androidx.navigation.NavController\nimport androidx.navigation.NavDirections\nimport androidx.navigation.fragment.FragmentNavigator\n\ninline fun &lt;reified T : Fragment&gt; NavController.safeNavigate(directions: NavDirections) {\n    val destination = this.currentDestination as FragmentNavigator.Destination\n    if (T::class.java.name == destination.className) {\n        navigate(directions)\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>And use like this from your Fragment:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val direction = FragmentOneDirections.actionFragmentOneToFragmentTwo()\n// new usage\nsafeNavigateFromNavController(direction)\n\n// old usage\n// findNavController().safeNavigate&lt;FragmentOne&gt;(action)\n</code></pre>\n<p><strong>My problem was</strong></p>\n<p>I have a fragment (FragmentOne) that goes to two others fragments (FragmentTwo and FragmentThree). In some low devices, the user press button that redirects to FragmentTwo but in few milliseconds after the user press button that redirects to FragmentThree. The results is:</p>\n<blockquote>\n<p>Fatal Exception: java.lang.IllegalArgumentException Navigation\naction/destination action_fragmentOne_to_fragmentTwo cannot be found\nfrom the current destination Destination(fragmentThree)\nclass=FragmentThree</p>\n</blockquote>\n<p><strong>My solve was:</strong></p>\n<p>I check if the <strong>current destination belongs to the current fragment</strong>. If true, I execute the navigation acion.</p>\n<p>That is all!</p>\n"}], "owner": {"reputation": 2955, "user_id": 5702219, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-1zLfRUnt41I/AAAAAAAAAAI/AAAAAAAAAJY/HH_azbQaDZM/photo.jpg=k-s128", "display_name": "Jerry Okafor", "link": "https://stackoverflow.com/users/5702219/jerry-okafor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64024, "favorite_count": 30, "answer_count": 37, "score": 182, "last_activity_date": 1615657477, "creation_date": 1530096157, "last_edit_date": 1614839287, "question_id": 51060762, "link": "https://stackoverflow.com/questions/51060762/illegalargumentexception-navigation-destination-xxx-is-unknown-to-this-navcontr", "title": "IllegalArgumentException: navigation destination xxx is unknown to this NavController", "body": "<p>I am having an issue with the new Android Navigation Architecture component when I try to navigate from <strong>one Fragment to another</strong>, I get this weird error:</p>\n<pre><code>java.lang.IllegalArgumentException: navigation destination XXX\nis unknown to this NavController\n</code></pre>\n<p>Every other navigation works fine except this particular one.</p>\n<p>I use <code>findNavController()</code> function of Fragment to get access to the <code>NavController</code>.</p>\n<p>Any help will be appreciated.</p>\n"}, {"tags": ["java", "spring-boot", "kotlin", "apache-kafka"], "comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 2, "creation_date": 1530094172, "post_id": 51060002, "comment_id": 89110046, "body": "The main advantage of Kotlin is improved expressiveness and &quot;time to market&quot;; not necessarily runtime performance. From that point of view, your question doesnt really fit this community."}, {"owner": {"reputation": 187, "user_id": 5798856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YVHvCyyRk4w/AAAAAAAAAAI/AAAAAAAAABU/G4rsT56_f8M/photo.jpg?sz=128", "display_name": "Efthimis_28", "link": "https://stackoverflow.com/users/5798856/efthimis-28"}, "edited": false, "score": 0, "creation_date": 1530094297, "post_id": 51060002, "comment_id": 89110123, "body": "I don&#39;t think that Kotlin can really cut on any expenses on time performance as its resources are fixed. So, eventhough stackoverflow might not suit that type of question, readabiltity is the answer to your question."}, {"owner": {"reputation": 744, "user_id": 662073, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/39bc000ba01201c25fc0619df35788de?s=128&d=identicon&r=PG", "display_name": "Jakob", "link": "https://stackoverflow.com/users/662073/jakob"}, "edited": false, "score": 1, "creation_date": 1530094328, "post_id": 51060002, "comment_id": 89110145, "body": "it all compiles down to java bytecode anyway so it shouldn&#39;t be any performance improvements."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1530094455, "post_id": 51060002, "comment_id": 89110244, "body": "Well yeah if you have a recursive method and you use <code>tailrec</code> keyword for example"}], "answers": [{"comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 1, "creation_date": 1530155375, "post_id": 51060100, "comment_id": 89137686, "body": "But that evaluation is from 2 years ago. Both Gradle and Kotlin have made many improvements, so I&#39;d be surprised if there&#39;s much difference anymore.  I certainly wouldn&#39;t discount Kotlin even if it&#39;s a bit slower, as the compiler does more, and I find the language helps nudge devs in the right direction more often than not.  Really like static analysis directly as part of build using Detekt as opposed to after fact like Sonarqube."}], "tags": [], "owner": {"reputation": 3946, "user_id": 1261166, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vL1Ud.jpg?s=128&g=1", "display_name": "Viktor Mellgren", "link": "https://stackoverflow.com/users/1261166/viktor-mellgren"}, "is_accepted": true, "score": 2, "last_activity_date": 1530094283, "creation_date": 1530094283, "answer_id": 51060100, "question_id": 51060002, "link": "https://stackoverflow.com/questions/51060002/refactoring-to-kotlin/51060100#51060100", "title": "Refactoring to Kotlin", "body": "<p>Compilation of Kotlin seems slower: <a href=\"https://medium.com/keepsafe-engineering/kotlin-vs-java-compilation-speed-e6c174b39b5d\" rel=\"nofollow noreferrer\">https://medium.com/keepsafe-engineering/kotlin-vs-java-compilation-speed-e6c174b39b5d</a></p>\n\n<p>Other than that it is bytecode in both places. So the only difference is if there are faster implementations of functions in Kotlin. (probably not). </p>\n\n<p>However if you can make more readable code (subjective) in Kotlin, then you have a higher chance of finding places to optimize.</p>\n\n<p>TLDR: do not port language for performance reasons in the language alone. </p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 9404648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqIV8.png?s=128&g=1", "display_name": "Gabby", "link": "https://stackoverflow.com/users/9404648/gabby"}, "edited": false, "score": 0, "creation_date": 1530178294, "post_id": 51064775, "comment_id": 89147325, "body": "Hmm so use Kotlin if I think another abstraction layer would be useful?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 23, "user_id": 9404648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqIV8.png?s=128&g=1", "display_name": "Gabby", "link": "https://stackoverflow.com/users/9404648/gabby"}, "edited": false, "score": 0, "creation_date": 1530180835, "post_id": 51064775, "comment_id": 89148976, "body": "I wouldn&#39;t say so. Use it for readability and productivity. Where performance is concerned, you <i>can</i> still do pretty much everything you do in Java in Kotlin, you just need to understand how it works."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1530108304, "last_edit_date": 1530108304, "creation_date": 1530108003, "answer_id": 51064775, "question_id": 51060002, "link": "https://stackoverflow.com/questions/51060002/refactoring-to-kotlin/51064775#51064775", "title": "Refactoring to Kotlin", "body": "<p>Java is closer to the way JVM works than Kotlin (methods can't look like field accesses, you can better see where primitives are used compared to classes, etc.). Any performance differences when trying to write equivalent code (i.e. without algorithmic improvements) are likely to be the other way around. But they are also likely to be trivial, especially when considered as a part of the complete application. </p>\n"}], "owner": {"reputation": 23, "user_id": 9404648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqIV8.png?s=128&g=1", "display_name": "Gabby", "link": "https://stackoverflow.com/users/9404648/gabby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 51060100, "answer_count": 2, "score": -2, "last_activity_date": 1530108304, "creation_date": 1530093957, "last_edit_date": 1530097309, "question_id": 51060002, "link": "https://stackoverflow.com/questions/51060002/refactoring-to-kotlin", "title": "Refactoring to Kotlin", "body": "<p>I am working on a small project using SpringBoot to retrieve data from Kafka and pass it to third party supplier. My project is not dependent upon our other micro-services.</p>\n\n<p>I am wondering if there would be any performance improvement if refactored to Kotlin or if it is purely for readability? </p>\n"}, {"tags": ["ios", "gradle", "kotlin", "kotlin-native"], "comments": [{"owner": {"reputation": 186, "user_id": 7519508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKlmo.jpg?s=128&g=1", "display_name": "Pedro Gomes", "link": "https://stackoverflow.com/users/7519508/pedro-gomes"}, "edited": false, "score": 0, "creation_date": 1546679300, "post_id": 51059256, "comment_id": 94935564, "body": "Does khttp support iOS ? I read that in order to run native kotlin code in both iOS, android or other platforms, the libraries used in the code must support it."}, {"owner": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "reply_to_user": {"reputation": 186, "user_id": 7519508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKlmo.jpg?s=128&g=1", "display_name": "Pedro Gomes", "link": "https://stackoverflow.com/users/7519508/pedro-gomes"}, "edited": false, "score": 0, "creation_date": 1547133751, "post_id": 51059256, "comment_id": 95094856, "body": "@PedroGomes I was not able to make it run 6 months ago"}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 9993688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/361fc36cc7387ecae550152e49a2cdfb?s=128&d=identicon&r=PG&f=1", "display_name": "kon", "link": "https://stackoverflow.com/users/9993688/kon"}, "is_accepted": false, "score": 3, "last_activity_date": 1530109668, "creation_date": 1530109668, "answer_id": 51065376, "question_id": 51059256, "link": "https://stackoverflow.com/questions/51059256/kotlin-native-cannot-import-khttp/51065376#51065376", "title": "kotlin native cannot import khttp", "body": "<p>Try using this:</p>\n\n<pre><code>compile \"com.github.jkcclemens:khttp:0.1.0\"\n</code></pre>\n\n<p>And add <a href=\"https://jitpack.io/\" rel=\"nofollow noreferrer\">https://jitpack.io/</a> as a repository</p>\n"}, {"tags": [], "owner": {"reputation": 707, "user_id": 6123297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-KXgs140Qp_0/AAAAAAAAAAI/AAAAAAAAANM/fM_-QxoxFIw/photo.jpg?sz=128", "display_name": "MG lolenstine", "link": "https://stackoverflow.com/users/6123297/mg-lolenstine"}, "is_accepted": false, "score": 1, "last_activity_date": 1562339623, "creation_date": 1562339623, "answer_id": 56905636, "question_id": 51059256, "link": "https://stackoverflow.com/questions/51059256/kotlin-native-cannot-import-khttp/56905636#56905636", "title": "kotlin native cannot import khttp", "body": "<p>I know that I might be necrobumping, but if anyone is looking for an answer, they wouldn't be able to get it from the above.</p>\n\n<p>Khttp library is build for kotlin JVM and not native. If you take a look at the source code, you'll be able to notice that it's using Java's libraries for it to function, <a href=\"https://github.com/jkcclemens/khttp/blob/master/src/main/kotlin/khttp/responses/Response.kt#L12\" rel=\"nofollow noreferrer\">this</a> for example.</p>\n\n<p>That means that sadly you can't run it on iOS and any platform that doesn't run JVM, as khttp will only run on the JVM platform and won't be able to run on native because of missing libraries.</p>\n"}], "owner": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1919, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1562339623, "creation_date": 1530092001, "last_edit_date": 1530109861, "question_id": 51059256, "link": "https://stackoverflow.com/questions/51059256/kotlin-native-cannot-import-khttp", "title": "kotlin native cannot import khttp", "body": "<p>I'm having a problem with usage of khttp library (which is supposed to work in Kotlin and provides equal to python's request's library features)</p>\n\n<p>My build.gradle contains those strings:</p>\n\n<pre><code>repositories {\nmavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib\"\n    compile \"com.github.jkcclemens:khttp:-SNAPSHOT\"\n}\n</code></pre>\n\n<p>Project builds with success, but importing with <code>import khttp</code> doesn't work</p>\n\n<p>In general, I'm using kotlin as framework to IOS project, and <code>khttp</code> is needed to connect to longpoll server. If <code>khttp</code> isn't supposed to work in my case so what are my options? Using it's sources aint good idea i think</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": 0, "last_activity_date": 1530087570, "creation_date": 1530087570, "answer_id": 51057904, "question_id": 51057679, "link": "https://stackoverflow.com/questions/51057679/custom-typesafe-int-types/51057904#51057904", "title": "Custom &#39;typesafe&#39; Int Types", "body": "<p>From kotlin <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">doc</a>:</p>\n\n<blockquote>\n  <p>Type aliases do not introduce new types. They are equivalent to the corresponding underlying types. When you add typealias Predicate and use Predicate in your code, the Kotlin compiler always expand it to (Int) -> Boolean. Thus you can pass a variable of your type whenever a general function type is required and vice versa</p>\n</blockquote>\n\n<p>This means that there isn't possible check over your typealias, and you are rally declaring your extensions functions as:</p>\n\n<pre><code>fun Int.toPixel() = this * 100\nfun Int.toMeter() = this / 100\n\nfun calcSquareMeters(width: Int, height: Int) = width * height\nfun calcSquarePixels(width: Int, height: Int) = width * height\n</code></pre>\n\n<p>I fear the only way to achieve that you want is implementing an extra class for each type.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1530087599, "creation_date": 1530087599, "answer_id": 51057914, "question_id": 51057679, "link": "https://stackoverflow.com/questions/51057679/custom-typesafe-int-types/51057914#51057914", "title": "Custom &#39;typesafe&#39; Int Types", "body": "<p>Indeed, typealiases don't guarantee this sort of type safety. You'll have to create wrapper classes around an <code>Int</code> value instead to achieve this - it's a good idea to make these data classes so that equality comparisons work on them:</p>\n\n<pre><code>data class Meter(val value: Int)\ndata class Pixel(val value: Int)\n</code></pre>\n\n<p>Creation of instances of these classes can be solved with extension properties:</p>\n\n<pre><code>val Int.px\n    get() = Pixel(this)\n\nval pixelWidth: Pixel = 50.px\n</code></pre>\n\n<p>The only problematic thing is that you can no longer directly perform arithmetic operations on <code>Pixel</code> and <code>Meter</code> instances, for example, the conversion functions would now look like this:</p>\n\n<pre><code>fun Meter.toPixel() = this.value * 100\n</code></pre>\n\n<p>Or the square calculations like this:</p>\n\n<pre><code>fun calcSquareMeters(width: Meter, height: Meter) = width.value * height.value\n</code></pre>\n\n<p>If you really need direct operator use, you can still define those, but it will be quite tedious:</p>\n\n<pre><code>class Meter(val value: Int) {\n    operator fun times(that: Meter) = this.value * that.value\n}\n\nfun calcSquareMeters(width: Meter, height: Meter) = width * height\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1530091661, "creation_date": 1530091661, "answer_id": 51059138, "question_id": 51057679, "link": "https://stackoverflow.com/questions/51057679/custom-typesafe-int-types/51059138#51059138", "title": "Custom &#39;typesafe&#39; Int Types", "body": "<p>There is a proposal (not yet guaranteed to be accepted) to add <code>inline class</code>es for this purpose. I.e.</p>\n\n<pre><code>@InlineOnly inline class Meter(val value: Int)\n</code></pre>\n\n<p>will really be an <code>Int</code> at runtime.</p>\n\n<p>See <a href=\"https://github.com/zarechenskiy/KEEP/blob/28f7fdbe9ca22db5cfc0faeb8c2647949c9fd61b/proposals/inline-classes.md\" rel=\"nofollow noreferrer\">https://github.com/zarechenskiy/KEEP/blob/28f7fdbe9ca22db5cfc0faeb8c2647949c9fd61b/proposals/inline-classes.md</a> and <a href=\"https://github.com/Kotlin/KEEP/issues/104\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/KEEP/issues/104</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1530092829, "post_id": 51059224, "comment_id": 89109135, "body": "I was trying to define those operators in a common way... Extensions on generics are the solution I somehow missed. Good job with those!"}], "tags": [], "owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "is_accepted": true, "score": 5, "last_activity_date": 1530094684, "last_edit_date": 1530094684, "creation_date": 1530091903, "answer_id": 51059224, "question_id": 51057679, "link": "https://stackoverflow.com/questions/51057679/custom-typesafe-int-types/51059224#51059224", "title": "Custom &#39;typesafe&#39; Int Types", "body": "<p>In addition to the existing <a href=\"https://stackoverflow.com/a/51057914/5427663\">answer</a>: If you have a lot of common functionality between the two types and don't want to duplicate it, you can work with an interface:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface MetricType&lt;T&gt; {\n    val value: Int\n\n    fun new(value: Int): T\n}\n\ndata class Meter(override val value: Int) : MetricType&lt;Meter&gt; {\n    override fun new(value: Int) = Meter(value)\n}\n\ndata class Pixel(override val value: Int) : MetricType&lt;Pixel&gt; {\n    override fun new(value: Int) = Pixel(value)\n}\n</code></pre>\n\n<p>Like this, you can easily define operations on the base interface, such as addition, subtraction and scaling:</p>\n\n<pre><code>operator fun &lt;T : MetricType&lt;T&gt;&gt; T.plus(rhs: T) = new(this.value + rhs.value)\noperator fun &lt;T : MetricType&lt;T&gt;&gt; T.minus(rhs: T) = new(this.value + rhs.value)\noperator fun &lt;T : MetricType&lt;T&gt;&gt; T.times(rhs: Int) = new(this.value * rhs)\n</code></pre>\n\n<p>The combination of interface and generics ensures type safety, so you do not accidentally mix types:</p>\n\n<pre><code>fun test() {\n    val m = Meter(3)\n    val p = Pixel(7)\n\n    val mm = m + m // OK\n    val pp = p + p // OK\n    val mp = m + p // does not compile\n}\n</code></pre>\n\n<p>Keep in mind that this solution comes at a runtime cost due to the virtual functions (compared to rewriting the operators for each type separately). This in addition to the overhead of object creation.</p>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 9346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6c4693d73197e0a3cf570524b66262?s=128&d=identicon&r=PG&f=1", "display_name": "anfark", "link": "https://stackoverflow.com/users/9346583/anfark"}, "is_accepted": false, "score": 0, "last_activity_date": 1530099502, "creation_date": 1530099502, "answer_id": 51061856, "question_id": 51057679, "link": "https://stackoverflow.com/questions/51057679/custom-typesafe-int-types/51061856#51061856", "title": "Custom &#39;typesafe&#39; Int Types", "body": "\n\n<p>I would also go with the solution from <a href=\"https://stackoverflow.com/a/51059224/9346583\">TheOperator</a>. But I would like to add the <code>inline</code> keyword to the operator functions. By doing so you could avoid a virtual function call when ever you use this operators.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>inline operator fun &lt;T : MetricType&lt;T&gt;&gt; T.plus(rhs: T) = new(this.value + rhs.value)\ninline operator fun &lt;T : MetricType&lt;T&gt;&gt; T.minus(rhs: T) = new(this.value + rhs.value)\ninline operator fun &lt;T : MetricType&lt;T&gt;&gt; T.times(rhs: Int) = new(this.value * rhs)\n</code></pre>\n"}], "owner": {"reputation": 1512, "user_id": 3095014, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/6eaf72bce7bb5edf03e599c8dd1a889a?s=128&d=identicon&r=PG&f=1", "display_name": "avb", "link": "https://stackoverflow.com/users/3095014/avb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 51059224, "answer_count": 5, "score": 1, "last_activity_date": 1530099502, "creation_date": 1530086893, "question_id": 51057679, "link": "https://stackoverflow.com/questions/51057679/custom-typesafe-int-types", "title": "Custom &#39;typesafe&#39; Int Types", "body": "<p>What I would like to have is two different integer types which are semantically distinguishable.</p>\n\n<p>E.g. in this code a 'Meter' type and a 'Pixel' int type</p>\n\n<pre><code>typealias Meter = Int\ntypealias Pixel = Int\n\nfun Meter.toPixel() = this * 100\nfun Pixel.toMeter() = this / 100\n\nfun calcSquareMeters(width: Meter, height: Meter) = width * height\nfun calcSquarePixels(width: Pixel, height: Pixel) = width * height\n\nfun main(args: Array&lt;String&gt;) {\n    val pixelWidth: Pixel = 50\n    val pixelHeight: Pixel = 50\n\n    val meterWidth: Meter = 50\n    val meterHeight: Meter = 50\n\n    calcSquareMeters(pixelWidth, pixelHeight) // (a) this should not work\n\n    pixelWidth.toPixel() // (b) this should not work\n}\n</code></pre>\n\n<p>The problem with this solution is </p>\n\n<p>(a) that I can call calcSquareMeters with my 'Pixel' type which I don't want to be possible and </p>\n\n<p>(b) that I can call the toPixel() extension function which I only want to have for my 'Meter' type on my 'Pixel' type which I don't want to be possible.</p>\n\n<p>I guess this is the intended behaviour of typealias, so I guess to achieve my goal I have to use something different than typealias...</p>\n\n<p>So how can I achieve this?</p>\n"}, {"tags": ["android", "kotlin", "android-service"], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1530087950, "post_id": 51057521, "comment_id": 89106185, "body": "I registered !!"}, {"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1530089876, "post_id": 51057521, "comment_id": 89107283, "body": "Right. it working. But when i pass context: HomeService(val context: Context) : Service() , i get the same error in manifest:  &lt;service             android:name=&quot;com.example.duc25.modules.HomeService&quot;             android:exported=&quot;false&quot;&gt;         &lt;/service&gt; with error: &quot;..has no zero argument constructor&quot;"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530091200, "post_id": 51057521, "comment_id": 89108070, "body": "It&#39;s because Service is having a zero argument constructor and You are applying a one value constructor to your HomeService. So you will require two constructors in your HomeService one with the primary constructor and one with the argument you want. Please check <a href=\"https://stackoverflow.com/a/51058986/9734616\">stackoverflow.com/a/51058986/9734616</a>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1530088293, "last_edit_date": 1530088293, "creation_date": 1530086380, "answer_id": 51057521, "question_id": 51057471, "link": "https://stackoverflow.com/questions/51057471/service-error-has-no-zero-argument-constructor/51057521#51057521", "title": "Service error &quot;... has no zero argument constructor&quot;", "body": "<p>You're creating an instance by hand by writing down <code>HomeService()</code> inside your <code>Intent</code> creation code. Creating the service is the task of the framework, and you can pass its class without creating an instance:</p>\n\n<pre><code>val i = Intent(this@Main3Activity, HomeService::class.java)\nstartService(i)\n</code></pre>\n\n<hr>\n\n<p>Update: </p>\n\n<p>In addition to the above, your class also can't be an inner class. It can be nested, but it can't be an inner class, because those hold a reference to the class that they're inside. This means that the system can't create an instance of your service on its own - it has no way of providing an outer class for it to reference.</p>\n"}, {"tags": [], "owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "is_accepted": false, "score": 2, "last_activity_date": 1530091255, "creation_date": 1530091255, "answer_id": 51058986, "question_id": 51057471, "link": "https://stackoverflow.com/questions/51057471/service-error-has-no-zero-argument-constructor/51058986#51058986", "title": "Service error &quot;... has no zero argument constructor&quot;", "body": "<pre><code>class HomeService() : Service() {\n    constructor(context: Context) : this() {\n        Log.d(\"TAG\",\"ANOTHER CONSTRUCTOR\")\n    }\n}\n</code></pre>\n\n<p>Now you can use this service by two ways </p>\n\n<ol>\n<li><code>val intent =  Intent(this@Main3Activity, HomeService::class.java)</code></li>\n<li><code>val intent =  Intent(this@Main3Activity, HomeService(context)::class.java)</code></li>\n</ol>\n"}], "owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4830, "favorite_count": 1, "accepted_answer_id": 51057521, "answer_count": 2, "score": 0, "last_activity_date": 1546086134, "creation_date": 1530086228, "last_edit_date": 1546086134, "question_id": 51057471, "link": "https://stackoverflow.com/questions/51057471/service-error-has-no-zero-argument-constructor", "title": "Service error &quot;... has no zero argument constructor&quot;", "body": "<p>I want start a service, I use:</p>\n\n<pre><code>inner class HomeService : Service() {\n    override fun onBind(intent: Intent?): IBinder? {\n        return null\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n    }\n\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n        notification(light.toString())\n        return START_STICKY\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n    }\n}\n</code></pre>\n\n<p>start it:</p>\n\n<pre><code>val i = Intent(this@Main3Activity, HomeService()::class.java)\nstartService(i)\n</code></pre>\n\n<p>after my app crashed, logcat return:</p>\n\n<blockquote>\n  <p>java.lang.Class\n  has no zero argument constructor\n          at android.app.ActivityThread.handleCreateService(ActivityThread.java:3201)\n          at android.app.ActivityThread.-wrap5(ActivityThread.java)\n          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1586)\n          at android.os.Handler.dispatchMessage(Handler.java:102)\n          at android.os.Looper.loop(Looper.java:154)\n          at android.app.ActivityThread.main(ActivityThread.java:6186)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\n       Caused by: java.lang.InstantiationException: java.lang.Class\n  has no zero argument constructor\n          at java.lang.Class.newInstance(Native Method)\n          at android.app.ActivityThread.handleCreateService(ActivityThread.java:3198)\n          at android.app.ActivityThread.-wrap5(ActivityThread.java)\u00a0\n          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1586)\u00a0\n          at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n          at android.os.Looper.loop(Looper.java:154)\u00a0\n          at android.app.ActivityThread.main(ActivityThread.java:6186)\u00a0\n          at java.lang.reflect.Method.invoke(Native Method)\u00a0\n          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\u00a0\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)</p>\n</blockquote>\n\n<p>what should I do?</p>\n"}, {"tags": ["kotlin", "kotlin-android-extensions", "kotlin-interop"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1530082989, "post_id": 51056376, "comment_id": 89103376, "body": "I think only <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">destructuring declarations</a> are currently supported"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530085090, "post_id": 51056376, "comment_id": 89104505, "body": "You are getting error as you haven&#39;t assigned any variable. so  <code>(size,length) = folderSizeInBytes(file)</code> change it to <code>val (l,s) = folderSizeInBytes(file)</code> and than you&#39;ll be able to use the l and s variables and perform the operations in it."}], "owner": {"user_type": "does_not_exist", "display_name": "user9858113"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "closed_date": 1530083749, "answer_count": 0, "score": 0, "last_activity_date": 1530082627, "creation_date": 1530082627, "question_id": 51056376, "link": "https://stackoverflow.com/questions/51056376/cannot-return-and-assign-multiple-values-in-kotlin", "closed_reason": "Duplicate", "title": "Cannot return and assign multiple values in kotlin", "body": "<p>I am new to Kotlin and I wanted to return multiple values from a function.</p>\n\n<p>I checked this post: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/47307782/how-do-we-return-multiple-values-from-a-function-in-kotlin-like-we-do-in-swift\">How do we return multiple values from a function in Kotlin like we do in swift?</a>\nI am using a recursion function where I don't have to use var or val when getting return values.</p>\n\n<p>My Code:</p>\n\n<pre><code>   private fun folderSizeInBytes(directory: File): Pair&lt;Long, Int&gt;  {\n    var length: Long = 0\n    var size : Int = 0\n    for (file in directory.listFiles().orEmpty()) {\n        if (file.isFile) {\n            length += file.length()\n            size++\n        }\n        else\n            (size,length) = folderSizeInBytes(file)\n    }\n    return Pair(length, size)\n}\n</code></pre>\n\n<p>But at <code>(size,length) = folderSizeInBytes(file)</code> there is an error, saying there is unexpected tokens. Is it possible to do this without recreating size and length or a Pair object?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9423034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1PqaQXvuAiI/AAAAAAAAAAI/AAAAAAAABtY/FrXAqLnV0T8/photo.jpg?sz=128", "display_name": "manoj gundapaneni", "link": "https://stackoverflow.com/users/9423034/manoj-gundapaneni"}, "edited": false, "score": 0, "creation_date": 1530086801, "post_id": 51056723, "comment_id": 89105519, "body": "hello sir, i am new to android development.i have used                                                                                       val actionBar = supportActionBar          actionBar!!.setDisplayHomeAsUpEnabled(true) for backButton.How can i assign above code to that button.please help me with this"}, {"owner": {"reputation": 1663, "user_id": 6997819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNXp1.jpg?s=128&g=1", "display_name": "Vir Rajpurohit", "link": "https://stackoverflow.com/users/6997819/vir-rajpurohit"}, "reply_to_user": {"reputation": 11, "user_id": 9423034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1PqaQXvuAiI/AAAAAAAAAAI/AAAAAAAABtY/FrXAqLnV0T8/photo.jpg?sz=128", "display_name": "manoj gundapaneni", "link": "https://stackoverflow.com/users/9423034/manoj-gundapaneni"}, "edited": false, "score": 0, "creation_date": 1530089909, "post_id": 51056723, "comment_id": 89107306, "body": "<a href=\"https://stackoverflow.com/questions/11079718/action-bars-onclick-listener-for-the-home-button\" title=\"action bars onclick listener for the home button\">stackoverflow.com/questions/11079718/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 9423034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1PqaQXvuAiI/AAAAAAAAAAI/AAAAAAAABtY/FrXAqLnV0T8/photo.jpg?sz=128", "display_name": "manoj gundapaneni", "link": "https://stackoverflow.com/users/9423034/manoj-gundapaneni"}, "edited": false, "score": 0, "creation_date": 1530097139, "post_id": 51056723, "comment_id": 89112006, "body": "the above link is related to activity. my issue is when those activity contains three fragments and backButton redirection will be to specific Fragment.The Above Link Didn&#39;t help me sir."}], "tags": [], "owner": {"reputation": 1663, "user_id": 6997819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNXp1.jpg?s=128&g=1", "display_name": "Vir Rajpurohit", "link": "https://stackoverflow.com/users/6997819/vir-rajpurohit"}, "is_accepted": false, "score": 0, "last_activity_date": 1530083868, "creation_date": 1530083868, "answer_id": 51056723, "question_id": 51056263, "link": "https://stackoverflow.com/questions/51056263/on-up-back-button-click-navigate-to-particular-fragment-from-activity/51056723#51056723", "title": "On Up back button click navigate to particular fragment from activity", "body": "<blockquote>\n  <p>On Clicking Up back button from Second Activity pass an Intent Flag.</p>\n</blockquote>\n\n<p>like below</p>\n\n<pre><code>Intent mIntent=new Intent(SecondActivity.this,FirstActivity.class);\nmIntent.putExtra(\"IS_FROM_SECOND\",true);\nstartActivity(mIntent);\n</code></pre>\n\n<p>Now in First Activity in <code>onCreate()</code></p>\n\n<p>check intent</p>\n\n<pre><code>boolean isFromSecond=getIntent().hasExtra(\"IS_FROM_SECOND\");\n</code></pre>\n\n<blockquote>\n  <p>Note:- Do not use key \"IS_FROM_SECOND\" in any other intent.</p>\n</blockquote>\n\n<p>so if it is the case then\n check </p>\n\n<pre><code>if(isFromSecond)\n  var ft: FragmentTransaction = supportFragmentManager.beginTransaction()\n    ft.replace(R.id.fragment_container, 3rdFragment.newInstance())\n    ft.commit()\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9423034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1PqaQXvuAiI/AAAAAAAAAAI/AAAAAAAABtY/FrXAqLnV0T8/photo.jpg?sz=128", "display_name": "manoj gundapaneni", "link": "https://stackoverflow.com/users/9423034/manoj-gundapaneni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530083868, "creation_date": 1530082177, "question_id": 51056263, "link": "https://stackoverflow.com/questions/51056263/on-up-back-button-click-navigate-to-particular-fragment-from-activity", "title": "On Up back button click navigate to particular fragment from activity", "body": "<p>I am trying to navigate from an <strong>second activity</strong> to specific fragment  in <strong>Bottom Navigation View</strong> in <strong>first activity</strong> by using Up(&lt;-) back Button.\ni have tried code</p>\n\n<pre><code>         val actionBar = supportActionBar\n         actionBar!!.setDisplayHomeAsUpEnabled(true)\n</code></pre>\n\n<p>but,while placing parent activity in Manifest File,it wont show the fragment which is required by me.it is going to Home fragment in the 1st activity.</p>\n\n<p>This is my fragment code in First Activity</p>\n\n<pre><code>      btm = findViewById(R.id.navigation) as BottomNavigationView\n         btm.setOnNavigationItemSelectedListener { item -&gt;\n        var selectedFragment: Fragment? = null\n        when (item.itemId) {\n            R.id.navigation_home -&gt;\n                selectedFragment = ReferFragment.newInstance()\n            R.id.navigation_dashboard -&gt;\n                selectedFragment = AccountFragment.newInstance()\n            R.id.navigation_notifications -&gt;\n                selectedFragment = ProfileFragment.newInstance()\n        }\n\n        var ft: FragmentTransaction = \n                    supportFragmentManager.beginTransaction()\n        ft.replace(R.id.fragment_container, selectedFragment)\n        ft.commit()\n        true\n    }\n    var ft: FragmentTransaction = supportFragmentManager.beginTransaction()\n    ft.replace(R.id.fragment_container, ReferFragment.newInstance())\n    ft.commit()\n</code></pre>\n\n<p>i want to goto 3rd fragment while clicking on UP backButton in second activity.\nTHANK YOU</p>\n"}, {"tags": ["android", "asynchronous", "kotlin", "rx-java", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 2596, "user_id": 7409774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDIOj.png?s=128&g=1", "display_name": "Milind Mevada", "link": "https://stackoverflow.com/users/7409774/milind-mevada"}, "is_accepted": false, "score": 1, "last_activity_date": 1530080835, "creation_date": 1530080835, "answer_id": 51055905, "question_id": 51055806, "link": "https://stackoverflow.com/questions/51055806/rxjava-using-combinelatest-with-3-different-streams-in-kotlin/51055905#51055905", "title": "RxJava: Using combineLatest with 3 different streams in Kotlin", "body": "<p>You can achieve this using <a href=\"http://reactivex.io/documentation/operators/zip.html\" rel=\"nofollow noreferrer\">Rx Zip</a> Operator</p>\n\n<p>Wrap them using zip, and write zipper method for how you want those combined data.</p>\n\n<p><strong>Note: If any of observable throws error then, it will be treated as an error of whole chain.</strong> </p>\n"}, {"tags": [], "owner": {"reputation": 849, "user_id": 7749832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AyjOD.png?s=128&g=1", "display_name": "Caspar Geerlings", "link": "https://stackoverflow.com/users/7749832/caspar-geerlings"}, "is_accepted": true, "score": 0, "last_activity_date": 1530908222, "creation_date": 1530908222, "answer_id": 51217083, "question_id": 51055806, "link": "https://stackoverflow.com/questions/51055806/rxjava-using-combinelatest-with-3-different-streams-in-kotlin/51217083#51217083", "title": "RxJava: Using combineLatest with 3 different streams in Kotlin", "body": "<p>Function3 can be used to combine 3 observables.</p>\n"}], "owner": {"reputation": 849, "user_id": 7749832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AyjOD.png?s=128&g=1", "display_name": "Caspar Geerlings", "link": "https://stackoverflow.com/users/7749832/caspar-geerlings"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 51217083, "answer_count": 2, "score": 0, "last_activity_date": 1530908222, "creation_date": 1530080448, "last_edit_date": 1530111094, "question_id": 51055806, "link": "https://stackoverflow.com/questions/51055806/rxjava-using-combinelatest-with-3-different-streams-in-kotlin", "title": "RxJava: Using combineLatest with 3 different streams in Kotlin", "body": "<p>I have 3 calls that I want to combine so that I can stop my loading animation after fetching all the data. Do I need to put 3 observables into some kind of wrapper?</p>\n\n<p><strong>EDIT:</strong> The emphasis of this question is that I'm not sure about the combine function. Although I'd like to thank you kindly for your answers, I was not asking what operator I have to use.</p>\n"}, {"tags": ["android", "csv", "kotlin", "export-to-csv", "android-room"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 2, "creation_date": 1530078012, "post_id": 51055184, "comment_id": 89101085, "body": "room database is sqlite database - there is no difference"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1530078105, "post_id": 51055184, "comment_id": 89101113, "body": "You could use Jackson CSV library to map Room classes into files"}], "answers": [{"tags": [], "owner": {"reputation": 163, "user_id": 9994604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X24aW.jpg?s=128&g=1", "display_name": "GreenFlash", "link": "https://stackoverflow.com/users/9994604/greenflash"}, "is_accepted": false, "score": 4, "last_activity_date": 1530078538, "creation_date": 1530078538, "answer_id": 51055355, "question_id": 51055184, "link": "https://stackoverflow.com/questions/51055184/exporting-room-database-to-csv-file-in-android/51055355#51055355", "title": "Exporting Room Database to csv file in android", "body": "<p>This might be Answer that you are searching. </p>\n\n<p>Link: <a href=\"https://stackoverflow.com/a/49133574/9994604\">https://stackoverflow.com/a/49133574/9994604</a></p>\n\n<p>There is also a Manual way to do it.\nExport Database, </p>\n\n<p>Link: <a href=\"https://stackoverflow.com/a/6542214/9994604\">https://stackoverflow.com/a/6542214/9994604</a></p>\n\n<p>Open in Sqlite Browser: <a href=\"https://sqlitebrowser.org\" rel=\"nofollow noreferrer\">https://sqlitebrowser.org</a>  (Free)</p>\n\n<p>Export in CSV/JSON,SQL whichever you like.</p>\n"}, {"comments": [{"owner": {"reputation": 1356, "user_id": 6016830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LZpUJ.jpg?s=128&g=1", "display_name": "buzzingsilently", "link": "https://stackoverflow.com/users/6016830/buzzingsilently"}, "edited": false, "score": 1, "creation_date": 1547911435, "post_id": 52232498, "comment_id": 95359942, "body": "Question is about exporting database and not about HOW TO USE PAGING LIBRARY!"}, {"owner": {"reputation": 7289, "user_id": 3736955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1647d5d7348d070ae95df49253385ee1?s=128&d=identicon&r=PG", "display_name": "Jemshit Iskenderov", "link": "https://stackoverflow.com/users/3736955/jemshit-iskenderov"}, "reply_to_user": {"reputation": 1356, "user_id": 6016830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LZpUJ.jpg?s=128&g=1", "display_name": "buzzingsilently", "link": "https://stackoverflow.com/users/6016830/buzzingsilently"}, "edited": false, "score": 0, "creation_date": 1547911741, "post_id": 52232498, "comment_id": 95360037, "body": "It is about exorting db by iterating overvrows of tables. Because you might one to transform data while exporting. Exporting does not only mean dumping db and creating file from it with everything inside"}], "tags": [], "owner": {"reputation": 7289, "user_id": 3736955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1647d5d7348d070ae95df49253385ee1?s=128&d=identicon&r=PG", "display_name": "Jemshit Iskenderov", "link": "https://stackoverflow.com/users/3736955/jemshit-iskenderov"}, "is_accepted": false, "score": 0, "last_activity_date": 1536386393, "creation_date": 1536386393, "answer_id": 52232498, "question_id": 51055184, "link": "https://stackoverflow.com/questions/51055184/exporting-room-database-to-csv-file-in-android/52232498#52232498", "title": "Exporting Room Database to csv file in android", "body": "<p>There are two ways i have tried to iterate over large Room database:</p>\n\n<p>1- Get <code>Cursor</code> and iterate over that:</p>\n\n<pre><code>import android.database.Cursor\n...\n@Query(\"SELECT * FROM Category\")\nfun getAllCategory(): Cursor&lt;Category&gt;\n...\nval success = cursor.moveToFirst()\nif (success) {\n     while (!cursor.isAfterLast) {\n         // Process items\n         cursor.moveToNext()\n     }\n} else {\n    // Empty\n}\ncursor.close()\n</code></pre>\n\n<p>2- Use <code>PagedList</code> to get pageSize amount of items at once and process. Then query another page and process:</p>\n\n<pre><code>@Query(\"SELECT * FROM Category\")\nfun getAllCategory(): DataSource.Factory&lt;Int, Category&gt;\n\n// Here i will return Flowable. You can return LiveData with 'LivePagedListBuilder'\nfun getCategories(pageSize: Int): Flowable&lt;PagedList&lt;Category&gt;&gt; {\n        val config = PagedList.Config.Builder()\n                .setPageSize(pageSize)\n                .setPrefetchDistance(pageSize / 4)\n                .setEnablePlaceholders(true)\n                .setInitialLoadSizeHint(pageSize)\n                .build()\n        return RxPagedListBuilder(categoryDao.getAllCategory(), config)\n                .buildFlowable(BackpressureStrategy.BUFFER)\n}\n</code></pre>\n\n<p>Now above <code>getCategories()</code> function will return <code>pagedList</code> inside <code>Flowable</code> or <code>LiveData</code>. Since we have set <code>setEnablePlaceholders(true)</code>, <code>pagedList.size</code> will show the whole size even if it is not in memory. So, if <code>pageSize</code> is 50 and all data size is 1000, <code>pagedList.size</code> will return 1000, but most of them will be null. To query next page and process:</p>\n\n<pre><code>// Callback is triggered when next page is loaded\npagedList.addWeakCallback(pagedList.snapshot(), object : PagedList.Callback() {\n    override fun onChanged(position: Int, count: Int) {\n        for (index in position until (position + count)) {\n            if (index == (position + count - 1)) {\n                if (index &lt; (pagedList.size - 1)) \n                    pagedList.loadAround(index + 1)\n                else{ \n                    // Last item is processed.\n                }\n            } else\n                processCurrentValue(index, pagedList[index]!!)\n        }\n    }\n    override fun onInserted(position: Int, count: Int) {\n        // You better not change database while iterating over it \n    }    \n    override fun onRemoved(position: Int, count: Int) {\n        // You better not change database while iterating over it\n    }\n})\n\n// Start to iterate and query next page when item is null.\nfor (index in 0 until pagedList.size) {\n     if (pagedList[index] != null) {\n            processCurrentValue(index, pagedList[index]!!)\n     } else {\n            // Query next page\n            pagedList.loadAround(index)\n            break\n     }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Conclusion</strong>: In <code>PagedList</code> approach, you can get thousands of rows at once and process, while in <code>Cursor</code> approach you iterate row by row. I found <code>PagedList</code> unstable when pageSize > 3000. It does not return the page sometimes. So i used <code>Cursor</code>. It takes roughly about 5 minutes to iterate over (and process) 900k rows on both approaches on Android 8 phone.</p>\n"}, {"tags": [], "owner": {"reputation": 2728, "user_id": 5453198, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/XlbTz.jpg?s=128&g=1", "display_name": "Sackurise", "link": "https://stackoverflow.com/users/5453198/sackurise"}, "is_accepted": false, "score": 1, "last_activity_date": 1563341922, "creation_date": 1563341922, "answer_id": 57069135, "question_id": 51055184, "link": "https://stackoverflow.com/questions/51055184/exporting-room-database-to-csv-file-in-android/57069135#57069135", "title": "Exporting Room Database to csv file in android", "body": "<p>To Export the Room Database data into <code>mydb.sqlite</code> file and store into External storage, follow the steps. </p>\n\n<pre><code>  fun exportDatabase(){\n      val sd = Environment.getExternalStorageDirectory()\n\n      // Get the Room database storage path using SupportSQLiteOpenHelper \n      AppDatabase.getDatabase(applicationContext)!!.openHelper.writableDatabase.path\n\n            if (sd.canWrite()) {\n                val currentDBPath = AppDatabase.getDatabase(applicationContext)!!.openHelper.writableDatabase.path\n                val backupDBPath = \"mydb.sqlite\"      //you can modify the file type you need to export\n                val currentDB = File(currentDBPath)\n                val backupDB = File(sd, backupDBPath)\n                if (currentDB.exists()) {\n                    try {\n                        val src = FileInputStream(currentDB).channel\n                        val dst = FileOutputStream(backupDB).channel\n                        dst.transferFrom(src, 0, src.size())\n                        src.close()\n                        dst.close()\n                    } catch (e: IOException) {\n                        e.printStackTrace()\n                    }\n                }\n            }\n       }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1431, "user_id": 2941375, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/58b1e0322aa7c40bdc1b2b9b8324521f?s=128&d=identicon&r=PG&f=1", "display_name": "Om Infowave Developers", "link": "https://stackoverflow.com/users/2941375/om-infowave-developers"}, "is_accepted": false, "score": 3, "last_activity_date": 1563345830, "creation_date": 1563345830, "answer_id": 57069964, "question_id": 51055184, "link": "https://stackoverflow.com/questions/51055184/exporting-room-database-to-csv-file-in-android/57069964#57069964", "title": "Exporting Room Database to csv file in android", "body": "<p><strong>Try this</strong><br>\n    get Column data from Cursor</p>\n\n<pre><code>@Query(\"SELECT * FROM Category\")\nCursor getAllCategory();\n</code></pre>\n"}], "owner": {"reputation": 435, "user_id": 7591349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d5a747015de5269d84bdbc8ad029b32?s=128&d=identicon&r=PG&f=1", "display_name": "kinjal patel", "link": "https://stackoverflow.com/users/7591349/kinjal-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9846, "favorite_count": 1, "answer_count": 4, "score": 7, "last_activity_date": 1595585604, "creation_date": 1530077821, "last_edit_date": 1530078025, "question_id": 51055184, "link": "https://stackoverflow.com/questions/51055184/exporting-room-database-to-csv-file-in-android", "title": "Exporting Room Database to csv file in android", "body": "<p>There are many tutorials available for exporting SQLite database to csv file but not enough stuff for exporting from room database. </p>\n\n<p>Using sqlite export reference <a href=\"https://stackoverflow.com/questions/31367270/exporting-sqlite-database-to-csv-file-in-android\">Exporting SQLite Database to csv file in android</a> parsing each column of row manually for room. Following is my code:</p>\n\n<pre><code>     @Dao\n     interface CategoryDao {\n         @Query(\"SELECT * FROM Category\")\n         fun getAllCategory(): List&lt;Category&gt;\n     }\n\n//   Export csv logic\n\n      val categoryList = categoryDao.getAllCategory()\n      val csvWrite = CSVWriter(FileWriter(file))\n\n      for (item in categoryList) {\n         val arrStr = arrayOf&lt;String&gt;(item.categoryId, item.categoryName)\n         csvWrite.writeNext(arrStr)\n      }\n</code></pre>\n\n<p>Is there any other way to export csv. Even in room not getting  columns name of table pragmatically so not able to create dynamically common logic for all table. </p>\n"}, {"tags": ["class", "kotlin", "sealed"], "comments": [{"owner": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "edited": false, "score": 0, "creation_date": 1530088267, "post_id": 51054789, "comment_id": 89106362, "body": "Think it&#39;s just the compiler restriction. From technical perspective, I don&#39;t see why sealed classes cannot be nested"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1530092082, "post_id": 51054789, "comment_id": 89108664, "body": "Looks more like a bug than a restriction to me. If it&#39;s intended for some reason, at least the message should be fixed."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1531571753, "post_id": 51054789, "comment_id": 89651579, "body": "Not a bug after all."}], "answers": [{"comments": [{"owner": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "edited": false, "score": 0, "creation_date": 1530088108, "post_id": 51057881, "comment_id": 89106263, "body": "Interesting thing is how this <code>Const(...) : Expr()</code> works if non-private constructors not allowed"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "edited": false, "score": 0, "creation_date": 1530088381, "post_id": 51057881, "comment_id": 89106434, "body": "There you use Const&#39;s constructor. The limitation does not apply to classes that extend sealed classes."}, {"owner": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "edited": false, "score": 0, "creation_date": 1530088840, "post_id": 51057881, "comment_id": 89106677, "body": "Yeah. For top-level sealed classes the compiler creates public constructor which is used internally, but for nested ones is not."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "edited": false, "score": 0, "creation_date": 1531658764, "post_id": 51057881, "comment_id": 89669556, "body": "@Maxim Wait, public? Not protected?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 2, "last_activity_date": 1530087510, "creation_date": 1530087510, "answer_id": 51057881, "question_id": 51054789, "link": "https://stackoverflow.com/questions/51054789/sealed-classes-inside-another-class-in-kotlin-cant-be-compiled-cannot-access/51057881#51057881", "title": "Sealed classes inside another class in Kotlin can&#39;t be compiled: cannot access &#39;&lt;init&gt;&#39; it is private", "body": "<p>From the documentation:</p>\n\n<blockquote>\n  <p>A sealed class is abstract by itself, it cannot be instantiated\n  directly and can have abstract members.</p>\n  \n  <p>Sealed classes are not allowed to have non-private constructors (their\n  constructors are private by default).</p>\n</blockquote>\n\n<p>I guess the way you should use the example is like:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val c = Const(5.0)\n    val s = Sum(Const(1.0), Const(3.0))\n\n    println(eval(c))\n    println(eval(s))\n}\n\nsealed class Expr\ndata class Const(val number: Double) : Expr()\ndata class Sum(val e1: Expr, val e2: Expr) : Expr()\nobject NotANumber : Expr()\n\nfun eval(expr: Expr): Double = when(expr) {\n    is Const -&gt; expr.number\n    is Sum -&gt; eval(expr.e1) + eval(expr.e2)\n    NotANumber -&gt; Double.NaN\n    // the `else` clause is not required because we've covered all the cases\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 538, "user_id": 4129661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3edf4f82816b29a89c7c102f1939c97?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/4129661/abhay-agarwal"}, "is_accepted": false, "score": 2, "last_activity_date": 1531570416, "creation_date": 1531570416, "answer_id": 51338393, "question_id": 51054789, "link": "https://stackoverflow.com/questions/51054789/sealed-classes-inside-another-class-in-kotlin-cant-be-compiled-cannot-access/51338393#51338393", "title": "Sealed classes inside another class in Kotlin can&#39;t be compiled: cannot access &#39;&lt;init&gt;&#39; it is private", "body": "<p>In Kotlin 1.0, the sealed functionality is rather restricted. For\ninstance, all the subclasses must be nested, and a subclass can\u2019t be made a\ndata class ( data classes are covered later in this chapter). Kotlin 1.1 relaxes\nthe restrictions and lets you define subclasses of sealed classes anywhere in\nthe same file.\nIn the given example, it is not allowed up until now. May be, in later release versions, they will relax this restriction. \nHowever, you can do this:</p>\n\n<pre><code>`class SomeActivity {\n    sealed class Expr {\n        data class Const(val number: Double) : Expr()\n        data class Sum(val e1: Expr, val e2: Expr) : Expr()\n        object NotANumber : Expr()\n    }\n}`\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 12, "last_activity_date": 1531571588, "last_edit_date": 1592644375, "creation_date": 1531571588, "answer_id": 51338530, "question_id": 51054789, "link": "https://stackoverflow.com/questions/51054789/sealed-classes-inside-another-class-in-kotlin-cant-be-compiled-cannot-access/51338530#51338530", "title": "Sealed classes inside another class in Kotlin can&#39;t be compiled: cannot access &#39;&lt;init&gt;&#39; it is private", "body": "<p>Yes, it turns out to be intended behavior. According to <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/sealed-class-inheritance.md\" rel=\"noreferrer\">the proposal allowing non-nested subclasses</a>:</p>\n<blockquote>\n<p>Proposal: allow top-level subclasses <strong>for a top-level sealed class</strong> in the same file.</p>\n<p>For a non top-level sealed class all subclasses should be declared inside it. So, for such classes nothing changes.</p>\n</blockquote>\n<p>The scenario you want is listed as an open question. There is a ticket for it at <a href=\"https://youtrack.jetbrains.com/issue/KT-13495\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-13495</a>. Nobody seems to be working on it at the moment. In the discussion of the proposal, the developer says:</p>\n<blockquote>\n<p><a href=\"https://github.com/Kotlin/KEEP/issues/29#issuecomment-233646928\" rel=\"noreferrer\">Well, there is some not-trivial implementations details(about generation synthetic constructors) which was solved for top-level classes but how do it in general is not clear.</a></p>\n</blockquote>\n"}], "owner": {"reputation": 64215, "user_id": 11238, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/BGDex.png?s=128&g=1", "display_name": "Randy Sugianto &#39;Yuku&#39;", "link": "https://stackoverflow.com/users/11238/randy-sugianto-yuku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7638, "favorite_count": 0, "accepted_answer_id": 51338530, "answer_count": 3, "score": 19, "last_activity_date": 1531571588, "creation_date": 1530075445, "question_id": 51054789, "link": "https://stackoverflow.com/questions/51054789/sealed-classes-inside-another-class-in-kotlin-cant-be-compiled-cannot-access", "title": "Sealed classes inside another class in Kotlin can&#39;t be compiled: cannot access &#39;&lt;init&gt;&#39; it is private", "body": "<p>If I used the example from the <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"noreferrer\">docs</a>, </p>\n\n<pre><code>class SomeActivity : AppCompatActivity() {\n    sealed class Expr\n    data class Const(val number: Double) : Expr()\n    data class Sum(val e1: Expr, val e2: Expr) : Expr()\n    object NotANumber : Expr()\n}\n</code></pre>\n\n<p>it does not compile, with the error:</p>\n\n<pre><code>Cannot access '&lt;init&gt;', it is private in 'Expr'.\n</code></pre>\n\n<p>However, moving it outside the enclosing class makes it compile:</p>\n\n<pre><code>sealed class Expr\ndata class Const(val number: Double) : Expr()\ndata class Sum(val e1: Expr, val e2: Expr) : Expr()\nobject NotANumber : Expr()\n\nclass SomeActivity : AppCompatActivity() {\n}\n</code></pre>\n\n<p>Why is this so? Is this an intended behavior? The docs does not seem to mention this.</p>\n"}, {"tags": ["android", "android-intent", "kotlin", "uri", "mediastore"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9737689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2019887311611223/picture?type=large", "display_name": "Adrian Pang", "link": "https://stackoverflow.com/users/9737689/adrian-pang"}, "edited": false, "score": 0, "creation_date": 1530074485, "post_id": 51054502, "comment_id": 89099996, "body": "and now after that how can i could do a method for getPath(uri:Uri):String"}, {"owner": {"reputation": 15, "user_id": 9737689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2019887311611223/picture?type=large", "display_name": "Adrian Pang", "link": "https://stackoverflow.com/users/9737689/adrian-pang"}, "edited": false, "score": 0, "creation_date": 1530074794, "post_id": 51054502, "comment_id": 89100078, "body": "i have a method like this when i do val projection = arrayOf(MediaStore.Images.Media.DATA)"}, {"owner": {"reputation": 15, "user_id": 9737689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2019887311611223/picture?type=large", "display_name": "Adrian Pang", "link": "https://stackoverflow.com/users/9737689/adrian-pang"}, "edited": false, "score": 0, "creation_date": 1530075739, "post_id": 51054502, "comment_id": 89100333, "body": "val colimn_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA)"}, {"owner": {"reputation": 15, "user_id": 9737689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2019887311611223/picture?type=large", "display_name": "Adrian Pang", "link": "https://stackoverflow.com/users/9737689/adrian-pang"}, "edited": false, "score": 0, "creation_date": 1530075773, "post_id": 51054502, "comment_id": 89100341, "body": "cursor.moveToFirtst()"}, {"owner": {"reputation": 15, "user_id": 9737689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2019887311611223/picture?type=large", "display_name": "Adrian Pang", "link": "https://stackoverflow.com/users/9737689/adrian-pang"}, "edited": false, "score": 0, "creation_date": 1530075814, "post_id": 51054502, "comment_id": 89100360, "body": "and finally return cursor.getString(column_index)"}, {"owner": {"reputation": 173, "user_id": 9832307, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0IULlBoX_JM/AAAAAAAAAAI/AAAAAAAAAGk/o1P9ilXuMdQ/photo.jpg?sz=128", "display_name": "Sree...", "link": "https://stackoverflow.com/users/9832307/sree"}, "reply_to_user": {"reputation": 15, "user_id": 9737689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2019887311611223/picture?type=large", "display_name": "Adrian Pang", "link": "https://stackoverflow.com/users/9737689/adrian-pang"}, "edited": false, "score": 0, "creation_date": 1530076486, "post_id": 51054502, "comment_id": 89100546, "body": "I have added a method. Try it."}, {"owner": {"reputation": 15, "user_id": 9737689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2019887311611223/picture?type=large", "display_name": "Adrian Pang", "link": "https://stackoverflow.com/users/9737689/adrian-pang"}, "edited": false, "score": 0, "creation_date": 1530077396, "post_id": 51054502, "comment_id": 89100877, "body": "what value does the PICKFILE_RESULT_CODE have  ?"}, {"owner": {"reputation": 173, "user_id": 9832307, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0IULlBoX_JM/AAAAAAAAAAI/AAAAAAAAAGk/o1P9ilXuMdQ/photo.jpg?sz=128", "display_name": "Sree...", "link": "https://stackoverflow.com/users/9832307/sree"}, "reply_to_user": {"reputation": 15, "user_id": 9737689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2019887311611223/picture?type=large", "display_name": "Adrian Pang", "link": "https://stackoverflow.com/users/9737689/adrian-pang"}, "edited": false, "score": 0, "creation_date": 1530160443, "post_id": 51054502, "comment_id": 89138781, "body": "It&#39;s just RequestCode (an integer constant)."}], "tags": [], "owner": {"reputation": 173, "user_id": 9832307, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0IULlBoX_JM/AAAAAAAAAAI/AAAAAAAAAGk/o1P9ilXuMdQ/photo.jpg?sz=128", "display_name": "Sree...", "link": "https://stackoverflow.com/users/9832307/sree"}, "is_accepted": true, "score": 1, "last_activity_date": 1530160671, "last_edit_date": 1530160671, "creation_date": 1530073354, "answer_id": 51054502, "question_id": 51054458, "link": "https://stackoverflow.com/questions/51054458/how-can-i-get-uri-from-a-text-file/51054502#51054502", "title": "How can I get URI from a text file?", "body": "<p>I think you could try </p>\n\n<pre><code> Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n intent.setType(\"text/*\");\n startActivityForResult(intent,PICKFILE_RESULT_CODE);\n</code></pre>\n\n<p>following to get the uri </p>\n\n<pre><code> @Override\n protected void onActivityResult(..., Intent data) {\n //do your validation\n\n switch (requestCode) {\n        case PICKFILE_RESULT_CODE:\n        ...\n        Uri uri = data.getData();\n        Log.d(TAG, \"File Uri: \" + uri.toString());\n        try {\n              Log.d(TAG, \"File path: \" + getPath(this, uri));\n          } catch (URISyntaxException e) {\n              e.printStackTrace();\n          }\n        //do your work\n        ...\n        break;\n    }\n}\n</code></pre>\n\n<p>Add in utils</p>\n\n<pre><code>public static String getPath(Context context, Uri uri) throws URISyntaxException {\nif (\"content\".equalsIgnoreCase(uri.getScheme())) {\n    String[] projection = {\"_data\"};\n    Cursor cursor = null;\n\n    try {\n        cursor = context.getContentResolver().query(uri, projection, null, null, null);\n        int column_index = cursor.getColumnIndexOrThrow(\"_data\");\n        if (cursor.moveToFirst()) {\n            return cursor.getString(column_index);\n        }\n    } catch (Exception e) {\n        // Eat it\n    }\n} else if (\"file\".equalsIgnoreCase(uri.getScheme())) {\n    return uri.getPath();\n}\n\nreturn null;\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9737689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2019887311611223/picture?type=large", "display_name": "Adrian Pang", "link": "https://stackoverflow.com/users/9737689/adrian-pang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "accepted_answer_id": 51054502, "answer_count": 1, "score": 2, "last_activity_date": 1530168758, "creation_date": 1530072892, "last_edit_date": 1530168758, "question_id": 51054458, "link": "https://stackoverflow.com/questions/51054458/how-can-i-get-uri-from-a-text-file", "title": "How can I get URI from a text file?", "body": "<p>I do this to get and show the path of an image, but I would like to know how I could do the same with a text file.</p>\n\n<pre><code>val intent = Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI)\nintent.type = \"image/*\"\nstartActivityForResult(intent, SELECT_IMAGE)\n</code></pre>\n"}, {"tags": ["java", "maven", "kotlin"], "comments": [{"owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "edited": false, "score": 0, "creation_date": 1530070169, "post_id": 51053919, "comment_id": 89099083, "body": "can you share a trimmed down version of the POMs to reproduce the issue?"}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 9997650, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/0fcc44a6d689dc54db7dd18194b37177?s=128&d=identicon&r=PG", "display_name": "Revanth", "link": "https://stackoverflow.com/users/9997650/revanth"}, "is_accepted": false, "score": 1, "last_activity_date": 1530071583, "creation_date": 1530071583, "answer_id": 51054312, "question_id": 51053919, "link": "https://stackoverflow.com/questions/51053919/unable-to-pull-kotlin-jar-as-a-dependency-in-another-project/51054312#51054312", "title": "Unable to pull kotlin jar as a dependency in another project", "body": "<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.esrx.services&lt;/groupId&gt;\n&lt;artifactId&gt;projectB &lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;Project B&lt;/name&gt;\n&lt;description&gt;Generic desc&lt;/description&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;com.esrx&lt;/groupId&gt;\n    &lt;artifactId&gt;java-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.esrx.services&lt;/groupId&gt;\n        &lt;artifactId&gt;Project A&lt;/artifactId&gt;\n        &lt;version&gt;Project A Version&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>As you can see above the project A has the interfaces, I am pulling them as a dependency and trying to implement them as concrete classes in project B. </p>\n\n<p>This is the interface I have in Project A that I am trying to implement in project B</p>\n\n<pre><code>interface Transformer {\nfun transform(\n        fieldName2FieldNameMap: Map&lt;String, String&gt;,\n        json: String): Map&lt;String, Any?&gt;\n }\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 4044538, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1702217608/picture?type=large", "display_name": "Revanth", "link": "https://stackoverflow.com/users/4044538/revanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1530071583, "creation_date": 1530068252, "question_id": 51053919, "link": "https://stackoverflow.com/questions/51053919/unable-to-pull-kotlin-jar-as-a-dependency-in-another-project", "title": "Unable to pull kotlin jar as a dependency in another project", "body": "<p>I am currently working on a project, where I have a Kotlin project[A]. The project has different utility classes as well as interfaces. I have another Kotlin project [B]. I have published the artifact for project A, and I have added project A as a dependency on the POM file for project B. Now, I want to implement the interfaces in project A in Project B. When I try to import, I am unable to find the package from project A. Also, I have added the .jar file of project A manually in project B. I am unable to import the interfaces. I can see the jar file for project A in the external dependencies.</p>\n\n<p>Summary:</p>\n\n<p>Kotlin project A with Interfaces published as an Artifact\nKotlin project B has a pom file, in which project A's dependency is added.</p>\n\n<p>Problem: Unable to find the classes, interfaces of project A in project B.</p>\n"}, {"tags": ["java", "android", "sorting", "kotlin"], "comments": [{"owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "edited": false, "score": 1, "creation_date": 1530174460, "post_id": 51053246, "comment_id": 89144893, "body": "maybe need try to check correct package name on top of you kotlin class"}, {"owner": {"reputation": 190, "user_id": 7377234, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10207297040896733/picture?type=large", "display_name": "Wellington Yogui", "link": "https://stackoverflow.com/users/7377234/wellington-yogui"}, "reply_to_user": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "edited": false, "score": 0, "creation_date": 1530667031, "post_id": 51053246, "comment_id": 89312445, "body": "The package was wrong, thanks :)"}], "owner": {"reputation": 190, "user_id": 7377234, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10207297040896733/picture?type=large", "display_name": "Wellington Yogui", "link": "https://stackoverflow.com/users/7377234/wellington-yogui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1530062018, "creation_date": 1530062018, "question_id": 51053246, "link": "https://stackoverflow.com/questions/51053246/didnt-find-class-package-generated-for-debugger-class", "title": "Didn&#39;t find class &quot;package.Generated_for_debugger_class...&quot;", "body": "<p>I'm trying to use:</p>\n\n<pre><code>cards.sortedWith(compareBy(String.CASE_INSENSITIVE_ORDER) { it.rarity })\n</code></pre>\n\n<p>and it's throwing a:</p>\n\n<pre><code>java.lang.ClassNotFoundException: Didn't find class \nfile \"/data/app/com.example.well.clashroyaleguide-s3TV3daRKxWLNuuDx9eeoA==/base.apk\", zip file \"/data/app/\ncom.example.well.clashroyaleguide-s3TV3daRKxWLNuuDx9eeoA==/split_lib_dependencies_apk.apk\", zip file \"/data/app/\ncom.example.well.clashroyaleguide-s3TV3daRKxWLNuuDx9eeoA==/split_lib_resources_apk.apk\", zip file \"/data/app/\ncom.example.well.clashroyaleguide-s3TV3daRKxWLNuuDx9eeoA==/split_lib_slice_0_apk.apk\", zip file \"/data/app/\ncom.example.well.clashroyaleguide-s3TV3daRKxWLNuuDx9eeoA==/split_lib_slice_1_apk.apk\", zip file \"/data/app/\ncom.example.well.clashroyaleguide-s3TV3daRKxWLNuuDx9eeoA==/split_lib_slice_...9_apk.apk\", zip file \"/data/app/\n,nativeLibraryDirectories=[/data/app/com.example.well.clashroyaleguide-s3TV3daRKxWLNuuDx9eeoA==/lib/x86, /system/lib, /vendor/lib]]\n</code></pre>\n\n<p>It's happening with any method of sorting and comparing.\nI try to search similar problems, but nothing really help.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "edited": false, "score": 0, "creation_date": 1530060289, "post_id": 51052952, "comment_id": 89097196, "body": "Please explain your question further."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9523730"}, "reply_to_user": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "edited": false, "score": 0, "creation_date": 1530060563, "post_id": 51052952, "comment_id": 89097259, "body": "imean what relationship between array and arrayof ,hashmap and hashmap of"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9523730"}, "reply_to_user": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "edited": false, "score": 0, "creation_date": 1530062413, "post_id": 51052952, "comment_id": 89097593, "body": "thanks you very much .i mean what purpose use it .are anthor way to write Arraylist and array"}, {"owner": {"reputation": 4394, "user_id": 534238, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nZVSf.jpg?s=128&g=1", "display_name": "Mike Williamson", "link": "https://stackoverflow.com/users/534238/mike-williamson"}, "edited": false, "score": 0, "creation_date": 1540786058, "post_id": 51052952, "comment_id": 92976938, "body": "This is not a duplicate: as I understand it, the OP is asking, &quot;why do we have both Array and ArrayOf&quot;? The linked &quot;duplicate&quot; is explaining differences between Array, List, MutableList, etc."}], "answers": [{"tags": [], "owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "is_accepted": false, "score": 0, "last_activity_date": 1530063203, "last_edit_date": 1530063203, "creation_date": 1530060233, "answer_id": 51053072, "question_id": 51052952, "link": "https://stackoverflow.com/questions/51052952/what-is-difference-between-array-and-arrayof-hashmap-and-hashmapof/51053072#51053072", "title": "What is difference between array and arrayOf ,hashmap and hashmapOf?", "body": "<p>Kotlin collections have three types <code>List</code>, <code>Set</code> and <code>Map</code>. These collections are mutable and immutable. Maps are Hashmap which is key-value pairs.</p>\n\n<p>The following are definitions from Kotlin documentation:</p>\n\n<p><strong>List:</strong> </p>\n\n<blockquote>\n  <p>A generic ordered collection of elements. Methods in this interface\n  support only read-only access to the list; read/write access are\n  supported through the MutableList interface.</p>\n</blockquote>\n\n<pre><code>val numbers: MutableList&lt;Int&gt; = mutableListOf(1, 2, 3)\n</code></pre>\n\n<p><strong>Set:</strong></p>\n\n<blockquote>\n  <p>A generic unordered collection of elements that does not support\n  duplicate elements. Methods in this interface support only read-only\n  access to the set; read/write access is supported through the\n  MutableSet interface.</p>\n</blockquote>\n\n<pre><code>val animals = mutableSetOf(\"Lion\", \"Dog\", \"Cat\")\n</code></pre>\n\n<p><strong>Map:</strong></p>\n\n<blockquote>\n  <p>A collection that holds pairs of objects (keys and values) and\n  supports efficiently retrieving the value corresponding to each key.\n  Map keys are unique; the map holds only one value for each key.\n  Methods in this interface support only read-only access to the map;\n  read-write access is supported through the MutableMap interface.</p>\n</blockquote>\n\n<pre><code>val populations = mutableMapOf(\n        Pair(\"Toronto\", 3000),\n        Pair(\"Windsor\", 400)\n)\n</code></pre>\n\n<p>Now the difference between <code>mutableListOf</code>, <code>mutableSetOf</code> and <code>mutableMapOf</code>, and <code>listOf</code>, <code>setOf</code> and <code>mapOf</code> is changeability. You can add value(s) to collections which have <code>mutable</code> keyword in front and you cannot add values(s) to collections which do not have <code>mutable</code> keyword in front.</p>\n\n<p>The following are examples of immutable collections:</p>\n\n<pre><code>var nums = listOf(1, 2, 3, 4)\n\nvar names = setOf(\"Bob\", \"John\", \"Elizabeth\")\n\nvar population = mapOf(\n        Pair(\"Windsor\", 2000),\n        Pair(\"Toronto\", 50000)\n)\n</code></pre>\n\n<p><strong>HashMap:</strong></p>\n\n<p>HashMap is a Kotlin class of collection based on MutableMap interface. It stores the data in the form of key-value pairs.</p>\n\n<pre><code>val hashMap:HashMap&lt;Int,String&gt; = HashMap&lt;Int,String&gt;()\n</code></pre>\n\n<p>The <strong>Array</strong> </p>\n\n<blockquote>\n  <p>represents an array (specifically, a Java array when targeting the JVM\n  platform)\n  * Array instances can be created using the [arrayOf], [arrayOfNulls] and [emptyArray]</p>\n</blockquote>\n\n<p>.</p>\n\n<p>Reference: <a href=\"https://kotlinlang.org\" rel=\"nofollow noreferrer\">https://kotlinlang.org</a></p>\n"}, {"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1530085645, "post_id": 51053783, "comment_id": 89104837, "body": "I would add that <code>listOf</code> and <code>mapOf</code> return <i>some implementation</i> of <code>List</code> and <code>Map</code> respectively"}], "tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": false, "score": 2, "last_activity_date": 1530067429, "last_edit_date": 1530067429, "creation_date": 1530067091, "answer_id": 51053783, "question_id": 51052952, "link": "https://stackoverflow.com/questions/51052952/what-is-difference-between-array-and-arrayof-hashmap-and-hashmapof/51053783#51053783", "title": "What is difference between array and arrayOf ,hashmap and hashmapOf?", "body": "<p><code>Array</code> and <code>Hashmap</code> are constructors of the classes <code>Array</code> and <code>Hashmap</code>.</p>\n\n<pre><code>Array(size: Int, init: (Int) -&gt; T)\nHashMap(initialCapacity: Int, loadFactor: Float = 0.0f)\nHashMap(initialCapacity: Int)\n</code></pre>\n\n<p>They are used to make a collection with specific size setting. You will NOT need them in usual situations.</p>\n\n<pre><code>// same as val arr = arrayOf(0, 2, 4, 8)\nval arr = Array(4, index -&gt; index * 2)\n\n// map with initial capacity 8, which means that the map will prepare memory for 8 elements at the beginning.\nval map = HashMap(8)\n</code></pre>\n\n<hr/>\n\n<p><code>arrayOf</code> and <code>mapOf</code> are functions that returns a new collection which has elements same as the parameters</p>\n\n<pre><code>inline fun &lt;reified T&gt; arrayOf(vararg elements: T): Array&lt;T&gt; (source)\nfun &lt;K, V&gt; hashMapOf(vararg pairs: Pair&lt;K, V&gt;): HashMap&lt;K, V&gt; (source)\n\nval arr1 = arrayOf(1, 2, 3, 4, 5, 6)\nval arr2 = arrayOf(\"D\", \"E\", \"FG\", \"H\")\nval map1 = mapOf(\"a\" to 2, \"b\" to 3)\nval map2 = mapOf(4 to \"SDF\", 7 to \"E\", 8 to \"T\")\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9523730"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 0, "closed_date": 1530133931, "answer_count": 2, "score": 0, "last_activity_date": 1530067429, "creation_date": 1530058954, "last_edit_date": 1530061474, "question_id": 51052952, "link": "https://stackoverflow.com/questions/51052952/what-is-difference-between-array-and-arrayof-hashmap-and-hashmapof", "closed_reason": "Duplicate", "title": "What is difference between array and arrayOf ,hashmap and hashmapOf?", "body": "<p>What is a difference among different way of collections declaration?</p>\n\n<p>I want to know the difference between:</p>\n\n<ul>\n<li><code>array</code> and <code>arrayOf</code></li>\n<li><code>hashmap</code> and <code>hashmapOf</code></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/Edcbf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Edcbf.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1530051026, "post_id": 51051923, "comment_id": 89095101, "body": "It matters when you are calling the method from Java. It&#39;s in the docs."}], "answers": [{"tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": false, "score": 2, "last_activity_date": 1530051439, "last_edit_date": 1530051439, "creation_date": 1530051137, "answer_id": 51052040, "question_id": 51051923, "link": "https://stackoverflow.com/questions/51051923/return-fragment-instance-in-kotlin-jvmstatic/51052040#51052040", "title": "Return Fragment Instance in Kotlin @JvmStatic", "body": "<p>It \"doesn't matter\" for Kotlin, but if you're using this from Java then it will be \"translated\" into a static method. There are no equivalents of static methods in kotlin so this is the way to tell the JVM that when used from java this will translate to a static method.</p>\n\n<p>From the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-static/index.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Specifies that an additional static method needs to be generated from\n  this element if it's a function.</p>\n</blockquote>\n"}], "owner": {"reputation": 259, "user_id": 8050497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aec1cc7eb7b5d4f42c0c2e26c7ab1688?s=128&d=identicon&r=PG&f=1", "display_name": "androidmanifest", "link": "https://stackoverflow.com/users/8050497/androidmanifest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1530051439, "creation_date": 1530050476, "question_id": 51051923, "link": "https://stackoverflow.com/questions/51051923/return-fragment-instance-in-kotlin-jvmstatic", "title": "Return Fragment Instance in Kotlin @JvmStatic", "body": "<p>Kotlin in standard generate something like this</p>\n\n<pre><code>   @JvmStatic\n        fun newInstance(param1: String, param2: String) =\n                MyFragment().apply {\n                    arguments = Bundle().apply {\n                        putString(ARG_PARAM1, param1)\n                        putString(ARG_PARAM2, param2)\n                    }\n                }\n</code></pre>\n\n<p>What do @JvmStatic ? </p>\n\n<p>We can do something like:</p>\n\n<pre><code>fun getInstance() = MyFragment()\n</code></pre>\n\n<p>and this funcion doing this same (except params)</p>\n\n<p>So @JvmStatic is useless ?</p>\n"}, {"tags": ["java", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 2937, "user_id": 3926930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/GWPlO.jpg?s=128&g=1", "display_name": "Shafin Mahmud", "link": "https://stackoverflow.com/users/3926930/shafin-mahmud"}, "edited": false, "score": 1, "creation_date": 1530087471, "post_id": 51051329, "comment_id": 89105907, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4871656/using-gradle-to-build-a-jar-with-dependencies\">Using Gradle to build a jar with dependencies</a>"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 2937, "user_id": 3926930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/GWPlO.jpg?s=128&g=1", "display_name": "Shafin Mahmud", "link": "https://stackoverflow.com/users/3926930/shafin-mahmud"}, "edited": false, "score": 0, "creation_date": 1530087503, "post_id": 51051329, "comment_id": 89105931, "body": "@ShafinMahmud read the question. It doesn&#39;t work with the implementation keyword"}, {"owner": {"reputation": 2937, "user_id": 3926930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/GWPlO.jpg?s=128&g=1", "display_name": "Shafin Mahmud", "link": "https://stackoverflow.com/users/3926930/shafin-mahmud"}, "edited": false, "score": 0, "creation_date": 1530087847, "post_id": 51051329, "comment_id": 89106138, "body": "It would be nice if you reword your question title that describes the problem more specifically"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 2937, "user_id": 3926930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/GWPlO.jpg?s=128&g=1", "display_name": "Shafin Mahmud", "link": "https://stackoverflow.com/users/3926930/shafin-mahmud"}, "edited": false, "score": 0, "creation_date": 1530087912, "post_id": 51051329, "comment_id": 89106175, "body": "@ShafinMahmud Did you flag as a duplicate because of the title? The content of the post covers the entire problem, including why the linked one doesn&#39;t work"}, {"owner": {"reputation": 2937, "user_id": 3926930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/GWPlO.jpg?s=128&g=1", "display_name": "Shafin Mahmud", "link": "https://stackoverflow.com/users/3926930/shafin-mahmud"}, "edited": false, "score": 0, "creation_date": 1530088294, "post_id": 51051329, "comment_id": 89106370, "body": "But your question title should be distingusible with existing ones. No offense, there should be  a clear title that summaries your problem, not something generic if there is already something about that. That will lead people help you more"}], "answers": [{"comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1530091731, "post_id": 51058320, "comment_id": 89108412, "body": "It works when I remove <code>configurations</code> and add <code>with jar</code>. Otherwise it still crashes with the missing library. Isn&#39;t there a way to do it without the plugin?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1530096920, "post_id": 51058320, "comment_id": 89111845, "body": "Found something (posting it as a comment since you already have an answer). I found <a href=\"https://github.com/gradle/gradle/blob/1ce4a51e0bb9cb474bec16bf41032d5351551355/subprojects/plugins/src/test/groovy/org/gradle/api/plugins/JavaLibraryPluginTest.groovy#L101\" rel=\"nofollow noreferrer\">this</a>. Your edit reminded me that the configurations are defined somewhere, and I also saw a graph for the java-library plugin (I don&#39;t use it though) that reminded me there might be inheritance."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1530096986, "post_id": 51058320, "comment_id": 89111888, "body": "The link contains the definition of implementation and some of the other configurations, but the line itself is to runtimeClasspath. Using <code>runtimeClasspath</code> in the fatJar fixed it. Using a plugin is of course an option too, but I&#39;d prefer not to"}], "tags": [], "owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "is_accepted": true, "score": 15, "last_activity_date": 1530097671, "last_edit_date": 1530097671, "creation_date": 1530089031, "answer_id": 51058320, "question_id": 51051329, "link": "https://stackoverflow.com/questions/51051329/how-do-i-create-a-jar-with-all-dependencies-using-gradle-4-4/51058320#51058320", "title": "How do I create a jar with all dependencies using Gradle 4.4?", "body": "<p>Have you tried the <a href=\"http://imperceptiblethoughts.com/shadow/\" rel=\"noreferrer\">Shadow Plugin</a> like:</p>\n\n<pre><code>shadowJar {\n  manifest {\n     attributes 'Implementation-Title': 'rpi-sense-hat-lib',\n            'Implementation-Version': version,\n            'Main-Class': 'io.github.lunarwatcher.pi.sensehat.Tests'\n  }\n  configurations = [project.configurations.compile, project.configurations.runtime]\n}\n</code></pre>\n\n<p>Edit:</p>\n\n<p>You can also do this (as described in an answer for this <a href=\"https://stackoverflow.com/questions/47910578/not-able-to-copy-configurations-dependencies-after-upgrading-gradle-plugin-for-a\">question</a>):</p>\n\n<pre><code>configurations {\n    fatJar\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    testImplementation group: 'junit', name: 'junit', version: '4.12'\n\n    fatJar \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n}\n\ntask fatJar(type: Jar) {\n    manifest {\n        attributes 'Implementation-Title': 'rpi-sense-hat-lib',\n                'Implementation-Version': version,\n                'Main-Class': 'io.github.lunarwatcher.pi.sensehat.Tests'\n    }\n    baseName = project.name\n    from {\n        configurations.fatJar.collect {\n            it.isDirectory() ? it : zipTree(it)\n        }\n    }\n    with jar\n}\n</code></pre>\n\n<p>but then you have to repeat all implementation dependencies as fatJar dependencies. For your current project it's fine since you have only one dependency, but for anything bigger it will become a mess...</p>\n\n<p>Edit 2:</p>\n\n<p>As @Zoe pointed out in the comments this is also an acceptable solution:</p>\n\n<pre><code>task fatJar(type: Jar) {\n    manifest {\n        attributes 'Implementation-Title': 'rpi-sense-hat-lib',\n                   'Implementation-Version': version,\n                   'Main-Class': 'io.github.lunarwatcher.pi.sensehat.Tests'\n    }\n    baseName = project.name\n    from {\n        configurations.runtimeClasspath.collect {\n            it.isDirectory() ? it : zipTree(it)\n        }\n    }\n    with jar\n}\n</code></pre>\n\n<p>however make notice as per <a href=\"https://github.com/gradle/gradle/blob/0abdea078047b12df42e7750ccba34d69b516a22/subprojects/plugins/src/test/groovy/org/gradle/api/plugins/JavaLibraryPluginTest.groovy#L91\" rel=\"noreferrer\">source code</a> that <code>runtimeClasspath</code> is a combination of <code>runtimeOnly</code>, <code>runtime</code> and <code>implementation</code>, which may or may not be desirable depending on the situation - for instance you may not want to include <code>runtime</code> dependencies because they are provided by the container.</p>\n"}], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6528, "favorite_count": 3, "protected_date": 1608837922, "accepted_answer_id": 51058320, "answer_count": 1, "score": 7, "last_activity_date": 1608837786, "creation_date": 1530046961, "last_edit_date": 1592644375, "question_id": 51051329, "link": "https://stackoverflow.com/questions/51051329/how-do-i-create-a-jar-with-all-dependencies-using-gradle-4-4", "title": "How do I create a jar with all dependencies using Gradle 4.4?", "body": "<p>This question is related to <a href=\"https://stackoverflow.com/a/4894308/6296561\">this one</a>.</p>\n<p>I got this Gradle task:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>task fatJar(type: Jar) {\n    manifest {\n        attributes 'Implementation-Title': 'rpi-sense-hat-lib',\n                'Implementation-Version': version,\n                'Main-Class': 'io.github.lunarwatcher.pi.sensehat.Tests'\n    }\n    baseName = project.name\n    from { \n        configurations.compile.collect {\n            it.isDirectory() ? it : zipTree(it)\n        }\n    }\n    with jar\n}\n</code></pre>\n<p>And there's just one dependency, looking aside test dependencies:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>dependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n    testImplementation group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n<p>Running from the IDE works fine. However, when I deploy to my Raspberry Pi (or use the jar <code>gradlew fatJar</code> results in locally), I get this exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ java -jar java-sense-hat-1.0a.jar\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n    at io.github.lunarwatcher.pi.sensehat.UtilsKt.getSenseHat(Utils.kt:18)\n    at io.github.lunarwatcher.pi.sensehat.SenseHat.&lt;init&gt;(SenseHat.java:12)\n    at io.github.lunarwatcher.pi.sensehat.Tests.main(Tests.java:9)\nCaused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\n    at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 3 more\n</code></pre>\n<p>Which is triggered by this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Optional.empty()\n</code></pre>\n<p>in a Kotlin method returning an <code>Optional&lt;File&gt;</code>. <a href=\"https://stackoverflow.com/a/44734211/6296561\">Answer on related question</a>:</p>\n<blockquote>\n<p>Either kotlin-runtime has to be in classpath and verify with $ echo $CLASSPATH.</p>\n<p>Or you have to add kotlin-runtime to maven and then assemble inside the jar itself with mvn compile assembly:single,</p>\n</blockquote>\n<p>Which means the kotlin-runtime isn't included in the classpath. Before you go ahead and answer &quot;add kotlin-runtime to your dependencies&quot;, it's a part of the <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-runtime\" rel=\"nofollow noreferrer\">stdlib</a>:</p>\n<blockquote>\n<p>Kotlin Runtime (deprecated, use kotlin-stdlib artifact instead)</p>\n</blockquote>\n<p>I use <code>kotlin-stdlib-jdk8</code> and it works in the IDE. Just for testing purposes, using <code>kotlin-stdlib</code> instead does not change anything.</p>\n<p>In addition, replacing <code>implementation</code> with <code>compile</code> fixes it.</p>\n<p>In the post I linked at the top of the question, there's a suggestion to use <code>runtime</code> in the fatJar task. So:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>task fatJar(type: Jar) {\n    manifest {\n        attributes 'Implementation-Title': 'rpi-sense-hat-lib',\n                'Implementation-Version': version,\n                'Main-Class': 'io.github.lunarwatcher.pi.sensehat.Tests'\n    }\n    baseName = project.name\n    from {\n        configurations.compile.collect {\n            it.isDirectory() ? it : zipTree(it)\n        }\n        configurations.runtime.collect {\n            it.isDirectory() ? it : zipTree(it)\n        }\n    }\n    with jar\n}\n</code></pre>\n<p>The dependency is still not included, and the program crashes.</p>\n<p>So why not add implementation as a configuration to copy from?</p>\n<p>I tried. I ended up with this:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>task fatJar(type: Jar) {\n    manifest {\n        attributes 'Implementation-Title': 'rpi-sense-hat-lib',\n                'Implementation-Version': version,\n                'Main-Class': 'io.github.lunarwatcher.pi.sensehat.Tests'\n    }\n    baseName = project.name\n    from {\n        configurations.compile.collect {\n            it.isDirectory() ? it : zipTree(it)\n        }\n        configurations.runtime.collect {\n            it.isDirectory() ? it : zipTree(it)\n        }\n        configurations.implementation.collect {\n            it.isDirectory() ? it : zipTree(it)\n        }\n    }\n    with jar\n}\n</code></pre>\n<p>And an exception:</p>\n<blockquote>\n<p>Resolving configuration 'implementation' directly is not allowed</p>\n</blockquote>\n<p>So, considering:</p>\n<ul>\n<li><code>compile</code> instead of <code>implementation</code> works</li>\n<li>The runtime exception is from Kotlin not being in the classpath</li>\n<li>It works in the IDE</li>\n<li>Adding an <code>implementation</code> clause to the <code>fatJar</code> task crashes the compiling with a separate exception</li>\n</ul>\n<p>How do I generate a jar with all dependencies in Gradle 4.4 when using the <code>implementation</code> keyword?</p>\n<hr />\n<p>Addressing the proposed duplicate: it only works with the compile keyword, not <code>implementation</code>. Also, <code>compile</code> has been deprecated in favor of <code>implementation</code> and <code>api</code>, which is why using <code>compile</code> instead of <code>implementation</code> when declaring the dependency isn't an option.</p>\n"}, {"tags": ["spring", "kotlin", "spring-data-jpa", "spring-data"], "answers": [{"comments": [{"owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 0, "creation_date": 1530046840, "post_id": 51051135, "comment_id": 89093581, "body": "I know that, but still <code>findById</code> would expose different API with <code>Optional</code> - I am looking for a unified way of querying by id and name"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1530047629, "post_id": 51051135, "comment_id": 89093929, "body": "Using nullable types isn&#39;t the same as an Optional. It&#39;s similar, but Optional is a wrapper, where as nullable is either a class, or not. Also, you can still access Optional in Kotlin."}, {"owner": {"reputation": 3029, "user_id": 957286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad69d8c583da522e4d1f3877dadaf69?s=128&d=identicon&r=PG", "display_name": "Ena", "link": "https://stackoverflow.com/users/957286/ena"}, "edited": false, "score": 0, "creation_date": 1541675674, "post_id": 51051135, "comment_id": 93301134, "body": "The accepted answer in this question has a workaround <a href=\"https://stackoverflow.com/questions/47143127/spring-data-jpa-how-to-use-kotlin-nulls-instead-of-optional\" title=\"spring data jpa how to use kotlin nulls instead of optional\">stackoverflow.com/questions/47143127/&hellip;</a>"}, {"owner": {"reputation": 832, "user_id": 5009459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f726d0f8972102c15733fff4a01d61dc?s=128&d=identicon&r=PG", "display_name": "JBarros35", "link": "https://stackoverflow.com/users/5009459/jbarros35"}, "edited": false, "score": 0, "creation_date": 1601051254, "post_id": 51051135, "comment_id": 113293951, "body": "no you cannot use like this. it will fail for sure."}], "tags": [], "owner": {"reputation": 20034, "user_id": 5380322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-6cs1r0Ov08I/AAAAAAAAAAI/AAAAAAAACBI/rQyZyFwtZmE/photo.jpg?sz=128", "display_name": "Cepr0", "link": "https://stackoverflow.com/users/5380322/cepr0"}, "is_accepted": false, "score": 2, "last_activity_date": 1552911036, "last_edit_date": 1552911036, "creation_date": 1530046018, "answer_id": 51051135, "question_id": 51050269, "link": "https://stackoverflow.com/questions/51050269/how-to-properly-query-entities-in-spring-jpa-with-kotlin/51051135#51051135", "title": "How to properly query entities in Spring JPA with Kotlin", "body": "<p>You should use <strong>question mark</strong> with returned type of your query method as 'equivalent' to <strong>Optional</strong>:</p>\n\n<pre><code>interface FooRepository : JpaRepository&lt;Foo, Long&gt; {\n   fun findByName(name: String): Foo?\n}\n</code></pre>\n\n<p>Then you can use your method with <a href=\"http://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\">elvis-operator</a>:</p>\n\n<pre><code>val foo = repo.findByName(\"bar\") ?: Foo(\"bar\")\nrepo.findByName(\"bar\") ?: throw IllegalArgumentException(\"foo not found\")\n</code></pre>\n\n<p>More info: <a href=\"http://4comprehension.com/kotlins-java-util-optional-equivalents/\" rel=\"nofollow noreferrer\">Kotlin\u2019s java.util.Optional API Equivalents</a> </p>\n"}], "owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1911, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1552911036, "creation_date": 1530041837, "question_id": 51050269, "link": "https://stackoverflow.com/questions/51050269/how-to-properly-query-entities-in-spring-jpa-with-kotlin", "title": "How to properly query entities in Spring JPA with Kotlin", "body": "<p>I am migrating my application to the latest Spring Data and I am struggling to do it properly.</p>\n\n<p>Imagine I have a repository with just one method, in order to additionally query my entities by name: </p>\n\n<pre><code>@Repository\ninterface FooRepository : JpaRepository&lt;Foo, Long&gt; {\n   fun findByName(name: String): Foo\n}\n</code></pre>\n\n<p>According to the docs, in such situation - if entity is not found - an <code>EmptyResultDataAccessException</code> will be thrown.</p>\n\n<p>However, I also want to be able to query entities by id. If I use <code>findById</code>, the result will be <code>Optional&lt;Foo&gt;</code>. Another option is to use <code>getOne</code>, which on the other hand will result in <code>EntityNotFoundException</code> if not found.</p>\n\n<p>So, is there any way other than moving everything to <code>Optional</code>, to have uniform API in Kotlin?</p>\n"}, {"tags": ["android", "xml", "android-recyclerview", "kotlin", "navigation-drawer"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6152092, "user_type": "registered", "profile_image": "https://graph.facebook.com/1142780082428430/picture?type=large", "display_name": "Tyler Messenger-Lehmann", "link": "https://stackoverflow.com/users/6152092/tyler-messenger-lehmann"}, "edited": false, "score": 0, "creation_date": 1530042800, "post_id": 51050210, "comment_id": 89091915, "body": "Setting the elevation of the recyclerview to 0 did nothing visible, and setting the elevation of the drawerlayout to more than that of the recyclerview causes the recyclerview to be immobile again. I was setting the elevations using android:elevation=&quot;4dp&quot;. Also setting the elevation to 0dp works but -1dp stops movement so I&#39;m not sure the cardviews actually are raised?"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 3, "user_id": 6152092, "user_type": "registered", "profile_image": "https://graph.facebook.com/1142780082428430/picture?type=large", "display_name": "Tyler Messenger-Lehmann", "link": "https://stackoverflow.com/users/6152092/tyler-messenger-lehmann"}, "edited": false, "score": 0, "creation_date": 1530042955, "post_id": 51050210, "comment_id": 89091978, "body": "I didn&#39;t mean elevation of recyclerView itself, I meant elevation of cards that are within <code>viewHolder</code> layout. See if anything changes if you use <code>app:cardElevation=0dp</code>."}, {"owner": {"reputation": 3, "user_id": 6152092, "user_type": "registered", "profile_image": "https://graph.facebook.com/1142780082428430/picture?type=large", "display_name": "Tyler Messenger-Lehmann", "link": "https://stackoverflow.com/users/6152092/tyler-messenger-lehmann"}, "edited": false, "score": 0, "creation_date": 1530044404, "post_id": 51050210, "comment_id": 89092599, "body": "The drawer is behind images at the bottom of the screen as well as the recyclerview, so I think I need to elevate the nav? Also changing the card elevation didn&#39;t help."}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 0, "last_activity_date": 1530041576, "creation_date": 1530041576, "answer_id": 51050210, "question_id": 51050152, "link": "https://stackoverflow.com/questions/51050152/how-to-make-navigation-drawers-play-nicely-with-recyclerviews/51050210#51050210", "title": "How to make navigation drawers play nicely with recyclerviews?", "body": "<p>You need to check <code>elevation</code> attribute of views. This allows views to change their <code>z</code> position so they are drawn above other views and drop shadow despite being below in view hierarchy.</p>\n\n<p>It seems Your recyclerView items use <code>cardView</code> with default elevation of <code>4dp</code> while navigationDrawer has less (I think <code>2dp</code>?).</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 6152092, "user_type": "registered", "profile_image": "https://graph.facebook.com/1142780082428430/picture?type=large", "display_name": "Tyler Messenger-Lehmann", "link": "https://stackoverflow.com/users/6152092/tyler-messenger-lehmann"}, "is_accepted": true, "score": 0, "last_activity_date": 1530193865, "creation_date": 1530193865, "answer_id": 51084658, "question_id": 51050152, "link": "https://stackoverflow.com/questions/51050152/how-to-make-navigation-drawers-play-nicely-with-recyclerviews/51084658#51084658", "title": "How to make navigation drawers play nicely with recyclerviews?", "body": "<p>So I've figured out the issue, when you add a drawer_layout to your project you need to put everything that was previously in the activity into the content_frame or it will just treat the drawer as a normal element eating inputs behind it.</p>\n\n<p><a href=\"https://developer.android.com/training/implementing-navigation/nav-drawer\" rel=\"nofollow noreferrer\">https://developer.android.com/training/implementing-navigation/nav-drawer</a></p>\n"}], "owner": {"reputation": 3, "user_id": 6152092, "user_type": "registered", "profile_image": "https://graph.facebook.com/1142780082428430/picture?type=large", "display_name": "Tyler Messenger-Lehmann", "link": "https://stackoverflow.com/users/6152092/tyler-messenger-lehmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 51084658, "answer_count": 2, "score": 0, "last_activity_date": 1530193865, "creation_date": 1530041313, "last_edit_date": 1530044732, "question_id": 51050152, "link": "https://stackoverflow.com/questions/51050152/how-to-make-navigation-drawers-play-nicely-with-recyclerviews", "title": "How to make navigation drawers play nicely with recyclerviews?", "body": "<p>I've got an activity with a recyclerview and a navigation drawer.</p>\n\n<p>When the drawer is in front the recyclerview and I open it it still appears behind everything.</p>\n\n<p>but when the drawer is behind the recyclerview the recyclerview doesn't get any inputs and the drawer works perfectly.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9297Y.png\" rel=\"nofollow noreferrer\">Broken Layering</a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p>\n\n<pre><code>xmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"\nandroid:fitsSystemWindows=\"true\"&gt;\n\n&lt;android.support.v4.widget.DrawerLayout\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/content_frame\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;android.support.design.widget.NavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:fitsSystemWindows=\"true\" /&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n\n&lt;RelativeLayout\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:layout_above=\"@id/footer\"\n    android:layout_below=\"@id/header\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/recycler\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_centerHorizontal=\"true\" /&gt;\n&lt;/RelativeLayout&gt;\n\n&lt;RelativeLayout\n    android:id=\"@+id/header\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;include\n        android:id=\"@+id/toolbar\"\n        layout=\"@layout/toolbar\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["java", "spring", "kotlin", "spring-web"], "answers": [{"comments": [{"owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "edited": false, "score": 0, "creation_date": 1530041218, "post_id": 51050117, "comment_id": 89091256, "body": "I got compiler errors when I used <code>(method=RequestMethod.GET)</code>."}], "tags": [], "owner": {"reputation": 11, "user_id": 4844894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KcKTq.jpg?s=128&g=1", "display_name": "Sudarshan Deshmukh", "link": "https://stackoverflow.com/users/4844894/sudarshan-deshmukh"}, "is_accepted": false, "score": 0, "last_activity_date": 1530041145, "creation_date": 1530041145, "answer_id": 51050117, "question_id": 51050050, "link": "https://stackoverflow.com/questions/51050050/spring-server-is-not-responding-to-a-get-request/51050117#51050117", "title": "Spring server is not responding to a GET request", "body": "<p>Why are you using \"(method=arrayOf(RequestMethod.GET))\"?\ntry using \"(method=RequestMethod.GET)\" and it should work.\not you can use @GET annotation on method itself</p>\n"}, {"tags": [], "owner": {"reputation": 30583, "user_id": 605153, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/771f1c4e90ceeec0060c62ff0dbb762e?s=128&d=identicon&r=PG", "display_name": "Mark Bramnik", "link": "https://stackoverflow.com/users/605153/mark-bramnik"}, "is_accepted": false, "score": 1, "last_activity_date": 1530443936, "last_edit_date": 1530443936, "creation_date": 1530041934, "answer_id": 51050283, "question_id": 51050050, "link": "https://stackoverflow.com/questions/51050050/spring-server-is-not-responding-to-a-get-request/51050283#51050283", "title": "Spring server is not responding to a GET request", "body": "<p>While I've never used kotlin, I can say that in general there can be many reasons for getting 404 here, to name a few:</p>\n\n<ol>\n<li><p>You have some kind of context path so that all the endpoints will appear under this context path, like <code>http://localhost:8080/my-app/version</code></p></li>\n<li><p>Your rest controller wasn't found ( I don't see it in <code>@Configuration</code> class so it depends on where you did you place it (relatively to spring boot application)</p></li>\n</ol>\n\n<p>In any case, I suggest using spring boot actuator project (just add a dependency in your build tool).\nIf it's plugged in, its possible to see all the mappings that were found by spring boot application (see \"mappings\" endpoint):\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html</a></p>\n\n<p>Another thing you can do is to create a no-op constructor inside the \nversion controller and to place a breakpoint/log something just to see that it gets loaded by spring boot engine at all.</p>\n\n<p>Yet another option is to take a look at startup logs of spring boot application - it should inform you about the registered rest controllers and their paths. </p>\n"}, {"tags": [], "owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "is_accepted": true, "score": 0, "last_activity_date": 1530346548, "creation_date": 1530346548, "answer_id": 51113086, "question_id": 51050050, "link": "https://stackoverflow.com/questions/51050050/spring-server-is-not-responding-to-a-get-request/51113086#51113086", "title": "Spring server is not responding to a GET request", "body": "<p>This code started to work, after I added the <code>@RestController</code> annotation to <code>VersionController</code>.</p>\n"}], "owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2557, "favorite_count": 0, "accepted_answer_id": 51113086, "answer_count": 3, "score": 0, "last_activity_date": 1530443936, "creation_date": 1530040800, "last_edit_date": 1530048051, "question_id": 51050050, "link": "https://stackoverflow.com/questions/51050050/spring-server-is-not-responding-to-a-get-request", "title": "Spring server is not responding to a GET request", "body": "<p>I want to create a Spring service that would return a text upon a GET request at <code>http://localhost/version</code>.</p>\n\n<p>For this purpose, I wrote <a href=\"https://github.com/dpisarenko/spring-server\" rel=\"nofollow noreferrer\">this code</a>:</p>\n\n<p><a href=\"https://github.com/dpisarenko/spring-server/blob/master/src/main/kotlin/test/VersionController.kt\" rel=\"nofollow noreferrer\">Controller</a></p>\n\n<pre><code>@Controller\n@RequestMapping(\"/version\")\nclass VersionController {\n  @RequestMapping(method=arrayOf(RequestMethod.GET))\n  fun version():String {\n      return \"1.0\"\n  }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/dpisarenko/spring-server/blob/master/src/main/kotlin/test/SecurityConfiguration.kt\" rel=\"nofollow noreferrer\">Security configuration</a></p>\n\n<pre><code>@Configuration\nopen class SecurityConfiguration : WebSecurityConfigurerAdapter() {\n  override fun configure(http:HttpSecurity) {\n   http\n                .authorizeRequests()\n                .antMatchers(\"/version\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .csrf()\n                .csrfTokenRepository(CookieCsrfTokenRepository\n                        .withHttpOnlyFalse());\n  }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/dpisarenko/spring-server/blob/master/src/main/kotlin/test/App.kt\" rel=\"nofollow noreferrer\">App</a></p>\n\n<pre><code>@SpringBootApplication\nopen class App {\n  fun run() {\n      SpringApplication.run(App::class.java)\n  }\n}\n\nfun main(args: Array&lt;String&gt;) {\n  App().run()\n}\n</code></pre>\n\n<p>When I compile (<code>mvn compile</code>), run (<code>mvn exec:java -Dexec.mainClass=test.AppKt</code>), and try to access <code>http://localhost:8080/version</code>) I get the 404 response.</p>\n\n<p>Why? What part of the code do I need to change?</p>\n"}, {"tags": ["android", "kotlin", "bottom-sheet"], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 0, "last_activity_date": 1530043195, "creation_date": 1530043195, "answer_id": 51050558, "question_id": 51049423, "link": "https://stackoverflow.com/questions/51049423/how-to-get-fragment-view-holder-object/51050558#51050558", "title": "How to get Fragment view holder Object", "body": "<p>So, technically it is a <code>fragment</code> inside <code>fragment</code> situation. I think there is several solutions here:</p>\n\n<ol>\n<li>Call <code>Activity</code> from your child <code>fragment</code>. <code>BottomSheetDialogFragment</code> will subscribe to <code>Activity</code> for such events and react on them.</li>\n<li>Get the instance of a <code>BottomSheetDialogFragment</code> by calling proper <code>FragmentManager</code> (which possible is an <code>Activity</code> one). You can get an instance of a fragment <code>byTag</code> for example.</li>\n<li>Or you can call <code>getParentFragment</code> from a child <code>Fragment</code>.</li>\n</ol>\n"}], "owner": {"reputation": 1480, "user_id": 1956906, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/QqZy0.jpg?s=128&g=1", "display_name": "fanjavaid", "link": "https://stackoverflow.com/users/1956906/fanjavaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530043195, "creation_date": 1530037944, "question_id": 51049423, "link": "https://stackoverflow.com/questions/51049423/how-to-get-fragment-view-holder-object", "title": "How to get Fragment view holder Object", "body": "<p>Hello i create class that implement <code>BottomSheetDialogFragment</code> with dynamic content. The content is a <code>Fragment</code>. So when initialize the <code>BottomSheet</code> i passing fragment object, and attach it to specific Container ID inside this <code>BottomSheetDialogFragment</code>. Looks like this :</p>\n\n<pre><code>private fun attachContentFragment() {\n        val transaction = childFragmentManager.beginTransaction()\n        transaction.apply {\n            replace(R.id.flContent, state.layoutContent)\n            commit()\n        }\n}\n</code></pre>\n\n<p><code>state.layoutContent</code> is my attached Fragment</p>\n\n<p>I need to dismiss the <code>BottomSheet</code> if every action called in that fragment.\nAs far as i know, i need to get the object of BottomSheet that hold me(Fragment) and dismiss it.</p>\n\n<p>But how i can get that BottomSheet object?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1739, "user_id": 7488868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/L6p89.png?s=128&g=1", "display_name": "Heinz Schilling", "link": "https://stackoverflow.com/users/7488868/heinz-schilling"}, "edited": false, "score": 0, "creation_date": 1530037613, "post_id": 51049241, "comment_id": 89089746, "body": "Please use kotlin-stdlib-jdk7."}, {"owner": {"reputation": 13, "user_id": 9996112, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ufYbtlxLvgk/AAAAAAAAAAI/AAAAAAAAAIg/NzBOunR23WA/photo.jpg?sz=128", "display_name": "Sharvari", "link": "https://stackoverflow.com/users/9996112/sharvari"}, "reply_to_user": {"reputation": 1739, "user_id": 7488868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/L6p89.png?s=128&g=1", "display_name": "Heinz Schilling", "link": "https://stackoverflow.com/users/7488868/heinz-schilling"}, "edited": false, "score": 0, "creation_date": 1530038094, "post_id": 51049241, "comment_id": 89089920, "body": "how to do that?"}], "answers": [{"tags": [], "owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "is_accepted": true, "score": 1, "last_activity_date": 1530048356, "last_edit_date": 1530048356, "creation_date": 1530041677, "answer_id": 51050232, "question_id": 51049241, "link": "https://stackoverflow.com/questions/51049241/about-android-studio/51050232#51050232", "title": "About Android Studio", "body": "<p>The error itself told you to use kotlin-stdlib-jdk7. If you don't know how to do that see this <a href=\"https://stackoverflow.com/questions/50344635/kotlin-stdlib-jre7-is-deprecated-please-use-kotlin-stdlib-jdk7-instead\">question</a></p>\n"}], "owner": {"reputation": 13, "user_id": 9996112, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ufYbtlxLvgk/AAAAAAAAAAI/AAAAAAAAAIg/NzBOunR23WA/photo.jpg?sz=128", "display_name": "Sharvari", "link": "https://stackoverflow.com/users/9996112/sharvari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "closed_date": 1530051647, "accepted_answer_id": 51050232, "answer_count": 1, "score": -4, "last_activity_date": 1530048356, "creation_date": 1530037149, "last_edit_date": 1530048337, "question_id": 51049241, "link": "https://stackoverflow.com/questions/51049241/about-android-studio", "closed_reason": "Duplicate", "title": "About Android Studio", "body": "<p>I just started learning Android studio and I'm in the middle of making a My Profile app.\nI've used a relative layout and I can see it in design section but when I install that in my phone it doesn't change, I tried reinstalling.\nAnd also it says this</p>\n\n<blockquote>\n  <p>C:\\Users\\SHARVARI.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-jre7\\1.2.50\\ba99c630feafe4570da49277ca8bf3c7f71cb6aa\\kotlin-stdlib-jre7-1.2.50.jar: kotlin-stdlib-jre7 is deprecated. Please use kotlin-stdlib-jdk7 instead</p>\n</blockquote>\n\n<p>After rebuilding and I don't know what to do.</p>\n"}, {"tags": ["android", "generics", "kotlin"], "comments": [{"owner": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 0, "creation_date": 1530036966, "post_id": 51049049, "comment_id": 89089467, "body": "I&#39;ve also dealt with Kotlin generic complexities, the feel-dirty / hacky way is to write the logic in java, then convert it to Kotlin :grimacing: . Otherwise, it&#39;s a matter of digging through Kotlin docs"}, {"owner": {"reputation": 271, "user_id": 2666634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a386cacea94446be356df2ac246cd3d9?s=128&d=identicon&r=PG", "display_name": "mitenko", "link": "https://stackoverflow.com/users/2666634/mitenko"}, "reply_to_user": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 1, "creation_date": 1530291025, "post_id": 51049049, "comment_id": 89199580, "body": "Thanks for the suggestion @ElliotM. I tried your technique- it didn&#39;t work and now I feel dirty ;). The kotlin conversion produces the following: <code>class MyAdapter(): RecyclerView.Adapter&lt;*&gt;()</code> and Android Studio warns me <code>projections are not allowed for immediate arguments of a supertype</code>. So I&#39;m checking out <a href=\"https://stackoverflow.com/questions/44058972/projections-are-not-allowed-for-immediate-arguments-of-a-supertype-kotlin-andr\">here</a> and I&#39;ll get back to you."}], "answers": [{"tags": [], "owner": {"reputation": 271, "user_id": 2666634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a386cacea94446be356df2ac246cd3d9?s=128&d=identicon&r=PG", "display_name": "mitenko", "link": "https://stackoverflow.com/users/2666634/mitenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1530314745, "creation_date": 1530314745, "answer_id": 51110484, "question_id": 51049049, "link": "https://stackoverflow.com/questions/51049049/out-projected-type-prohibits-the-use-of-method/51110484#51110484", "title": "Out-projected type prohibits the use of method", "body": "<p>It looks like the answer to this issue is that you <strong>can't implement a ViewHolder class that specifies a generic for binding.</strong> My guess is this arises from the fact that the RecyclerView.Adapter is written in Java and any Kotlin extension is too restrictive to implement it properly. </p>\n\n<p>If you can contradict this conclusion, let me know!</p>\n\n<p>I found <a href=\"https://typealias.com/concepts/type-projection/\" rel=\"nofollow noreferrer\">this</a> post which explains the whole projection concept in a way that I could understand.</p>\n\n<p>In the end I abandoned my attempt to control the Type for the ViewHolder:</p>\n\n<pre><code>abstract class BaseFieldVH\n  (itemView: View) : RecyclerView.ViewHolder(itemView) {\n  ...\n  abstract fun bind(formField: Any)\n}\n</code></pre>\n\n<p>This means each child class of BaseFieldVH has to do some a type check in its bind function. For instance:</p>\n\n<pre><code>class HeaderVH\n  (itemView: View) : BaseFieldVH(itemView) {\n...\n  override fun bind(headerField: Any) {\n    if (headerField is HeaderField) {\n      // do something\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>But now at least I'm not getting any errors.</p>\n"}, {"tags": [], "owner": {"reputation": 1267, "user_id": 6026222, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/uvycL.jpg?s=128&g=1", "display_name": "aleksandrbel", "link": "https://stackoverflow.com/users/6026222/aleksandrbel"}, "is_accepted": false, "score": 0, "last_activity_date": 1608147686, "creation_date": 1608147686, "answer_id": 65330089, "question_id": 51049049, "link": "https://stackoverflow.com/questions/51049049/out-projected-type-prohibits-the-use-of-method/65330089#65330089", "title": "Out-projected type prohibits the use of method", "body": "<p>If you have multiple complex objects in data list (in order to show different items in the recycler view) you also need to specify you holder.</p>\n<p>The idea here is that you provide Adapter, not a Holder to decide how you need to handle each object type.</p>\n<pre><code>class MyAdapter() : RecyclerView.Adapter&lt;BaseFieldVH&lt;*&gt;&gt;() {\n    ... \n\n    override fun onBindViewHolder(holder: BaseFieldVH&lt;*&gt;, position: Int) {\n        val item = data[position]\n\n        holder as BaseFieldVH&lt;DATA_ITEM_TYPE&gt;\n        item as DATA_ITEM_TYPE\n\n        holder.bind(item)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 271, "user_id": 2666634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a386cacea94446be356df2ac246cd3d9?s=128&d=identicon&r=PG", "display_name": "mitenko", "link": "https://stackoverflow.com/users/2666634/mitenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1757, "favorite_count": 1, "accepted_answer_id": 51110484, "answer_count": 2, "score": 4, "last_activity_date": 1608147686, "creation_date": 1530036298, "last_edit_date": 1530037082, "question_id": 51049049, "link": "https://stackoverflow.com/questions/51049049/out-projected-type-prohibits-the-use-of-method", "title": "Out-projected type prohibits the use of method", "body": "<p>I can't seem to wrap my head around Kotlin generics, please help</p>\n\n<p>I read <a href=\"https://stackoverflow.com/questions/40519921/out-projected-type-arraylist-prohibits-the-use-of-public-open-fun-addinde/40520344\">here</a> and <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">here</a> and I still can't determine how to make this work. I have a RecyclerView adapter that uses an abstracted parent BaseFieldVH as the ViewHolder class.</p>\n\n<p>So the Adapter class looks like this:</p>\n\n<pre><code>class MyAdapter() : RecyclerView.Adapter&lt;BaseFieldVH&lt;*&gt;&gt;() {\n... \n    override fun onBindViewHolder(holder: BaseFieldVH&lt;*&gt;, position: Int) {\n        holder.bind(data[position])\n    }\n}\n</code></pre>\n\n<p>And the ViewHolder implementation looks like this:</p>\n\n<pre><code>abstract class BaseFieldVH&lt;in FF : BaseFormField&gt;\n    (itemView: View) : RecyclerView.ViewHolder(itemView) {\n    ...\n    abstract fun bind(formField: FF)\n}\n</code></pre>\n\n<p>But the actual call to <code>holder.bind(data[position])</code> is displaying the error: </p>\n\n<pre><code>Out-projected type 'BaseFieldVH&lt;*&gt;' prohibits the use of 'public \nabstract fun bind(formField: FF): Unit defined in ...\n</code></pre>\n\n<p><strong>use in Nothing?</strong></p>\n\n<p>I've also tried defining the Adapter with <code>BaseFieldVH&lt;in Nothing&gt;</code> but then I get a Type Mismatch error for attempting to put Nothing into a function that requires a BaseFormField.</p>\n\n<p><strong>use BaseFormField</strong></p>\n\n<p>Defining the Adapter with <code>BaseFieldVH&lt;iBaseFormField&gt;</code> actually resolves the binding issue, but then in the onCreateViewHolder there is a type mismatch for the view holders:</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BaseFieldVH&lt;BaseFormField&gt; {\n    val itemView: View\n    when (viewType) {\n        HEADER_TYPE -&gt; {\n            itemView = LayoutInflater.from(parent.context)\n                    .inflate(R.layout.item_header, parent, false)\n            return HeaderVH(itemView)\n        }\n</code></pre>\n\n<p>HeaderVH is an extension of BaseFieldVH, and so there's a type mismatch</p>\n"}, {"tags": ["android", "bitmap", "kotlin", "drawable"], "comments": [{"owner": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 0, "creation_date": 1530036583, "post_id": 51048712, "comment_id": 89089319, "body": "<a href=\"https://stackoverflow.com/questions/27394016/how-does-one-use-glide-to-download-an-image-into-a-bitmap\" title=\"how does one use glide to download an image into a bitmap\">stackoverflow.com/questions/27394016/&hellip;</a> this thread shows how you could accomplish what you&#39;re describing... but if you&#39;re looking for a simple caching mechanism, Glide / Picasso will do that for you behind the scenes."}], "answers": [{"tags": [], "owner": {"reputation": 1545, "user_id": 1578222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c24d237a81ffa1fec81b8dad44d86fef?s=128&d=identicon&r=PG", "display_name": "CodeSmith", "link": "https://stackoverflow.com/users/1578222/codesmith"}, "is_accepted": true, "score": 2, "last_activity_date": 1530035357, "creation_date": 1530035357, "answer_id": 51048831, "question_id": 51048712, "link": "https://stackoverflow.com/questions/51048712/copy-drawable-from-imageview/51048831#51048831", "title": "Copy Drawable From ImageView", "body": "<p>Don't store an array of the drawables, it's too much data to try to do it that way.  Just store an array of the ref Strings you're using to load that image and reload the image using the ref string anywhere you need to. The Glide package already caches images so you just pass it your ref String and it only downloads the image again if necessary.</p>\n"}], "owner": {"reputation": 133, "user_id": 5176158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8edf99eeaa9004cac3c066918e3680fa?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel N.", "link": "https://stackoverflow.com/users/5176158/daniel-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 51048831, "answer_count": 1, "score": 1, "last_activity_date": 1530047934, "creation_date": 1530034852, "last_edit_date": 1530047934, "question_id": 51048712, "link": "https://stackoverflow.com/questions/51048712/copy-drawable-from-imageview", "title": "Copy Drawable From ImageView", "body": "<p>I'm making an Android application and part of the application calls a Google API for photos for specific locations. These photos will be part of a list and I want to make it so once I call the API and download the photo, I can save it locally and resuse that later rather than recall the API. My code is pasted below</p>\n\n<pre><code>fun placePhotoCall(ref : String, view : ImageView, index : Int) {\n    if(places[index].image == null) {\n        Glide.with(this).load(createPhotosRequestURL(ref)).into(view)\n        places[index].image = view.image\n    }\n    else {\n        view.setImageDrawable(places[index].image)\n    }\n}\n</code></pre>\n\n<p>This function calls the API, downloads the photo, and stores it in the ImageView. I want to take the drawable image out of said ImageView and store it in an object I created however no matter what I try the image property remains null.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 4106759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da3939876aa770ab5ad4a929e8f83942?s=128&d=identicon&r=PG&f=1", "display_name": "SpyisSandvich", "link": "https://stackoverflow.com/users/4106759/spyissandvich"}, "edited": false, "score": 0, "creation_date": 1530120059, "post_id": 51048806, "comment_id": 89126432, "body": "Apologies for the <code>onGuidelinesLinkClicked</code> calls, the intention was that the functions would each call their respective lambda, but you are correct in assuming that the signature was the same."}, {"owner": {"reputation": 7, "user_id": 4106759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da3939876aa770ab5ad4a929e8f83942?s=128&d=identicon&r=PG&f=1", "display_name": "SpyisSandvich", "link": "https://stackoverflow.com/users/4106759/spyissandvich"}, "edited": false, "score": 0, "creation_date": 1530120387, "post_id": 51048806, "comment_id": 89126604, "body": "Interesting though.  I&#39;m aware that the <code>Unit</code> type was Kotlin for <code>void</code>, but the possibility of a return type of <code>Unit?</code> had not crossed my mind.  Perhaps this can be fixed by appending <code>?: Unit</code> to the end to ensure that the return is not optional?  I&#39;ll try it regardless."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 7, "user_id": 4106759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da3939876aa770ab5ad4a929e8f83942?s=128&d=identicon&r=PG&f=1", "display_name": "SpyisSandvich", "link": "https://stackoverflow.com/users/4106759/spyissandvich"}, "edited": false, "score": 0, "creation_date": 1530122165, "post_id": 51048806, "comment_id": 89127470, "body": "@SpyisSandvich <code>Unit</code> is used in place of <code>void</code>, but it&#39;s <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html\" rel=\"nofollow noreferrer\">actually an object</a>, so nullable type  <code>Unit?</code> is valid. Appending <code>?: Unit</code> should be a valid solution, but personally I think using braces is more readable."}, {"owner": {"reputation": 7, "user_id": 4106759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da3939876aa770ab5ad4a929e8f83942?s=128&d=identicon&r=PG&f=1", "display_name": "SpyisSandvich", "link": "https://stackoverflow.com/users/4106759/spyissandvich"}, "edited": false, "score": 0, "creation_date": 1530125813, "post_id": 51048806, "comment_id": 89129256, "body": "Appending <code>?:</code> does work in this case.  I&#39;m opting to use this since the whole idea is to connect an onClick entirely to the functionality passed into the ViewModel, which may or may not be present, in as few lines as necessary.  If I was to do anything else with the functionality in the ViewModel though, then I would definitely favor the curly brace version."}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 0, "last_activity_date": 1530126346, "last_edit_date": 1530126346, "creation_date": 1530035257, "answer_id": 51048806, "question_id": 51048406, "link": "https://stackoverflow.com/questions/51048406/differences-between-normal-and-single-expression-function-definitions/51048806#51048806", "title": "Differences between Normal and Single Expression function definitions", "body": "<p>If you use curly braces without specifying a return type, Your function is implicitly retuning <code>Unit</code> (this is Kotlin for <code>void</code>), so your method:</p>\n\n<pre><code>fun choosePhotoButtonClick(v: View) {\n    onChoosePhotoButtonClicked?.invoke(v)\n}\n</code></pre>\n\n<p>Has signature of:</p>\n\n<pre><code>fun choosePhotoButtonClick(v: View) : Unit\n</code></pre>\n\n<p>(IDE will hint that return type \"Unit\" is redundant and can be ommited).</p>\n\n<p>However using equals sign to shorthand a function infers the return type of expression on right hand side, for example:</p>\n\n<pre><code>fun itemCount() = items.size\n</code></pre>\n\n<p>Will infer return type of <code>Int</code>, so its signature is:</p>\n\n<pre><code>fun itemCount() : Int\n</code></pre>\n\n<p>In your case of :</p>\n\n<pre><code>fun takePhotoButtonClick(v: View) = onTakePhotoButtonClicked?.invoke(v)\n</code></pre>\n\n<p>Function can either return a <code>null</code> when <code>onTakePhotoButtonClicked</code> is null or return value of that method (<code>Unit</code>), which means your <code>takePhotoButtonClick</code> signature is:</p>\n\n<pre><code>fun takePhotoButtonClick(v: View) : Unit?\n</code></pre>\n\n<p><strong>(OP) direct solution to question:</strong></p>\n\n<pre><code>fun takePhotoButtonClick(v: View) = onTakePhotoButtonClicked?.invoke(v) ?: Unit\n</code></pre>\n\n<p>Can be considered less readable than the curly brace version, but this implies a return type of Unit instead of Unit? and will be picked up correctly by databinding.</p>\n"}], "owner": {"reputation": 7, "user_id": 4106759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da3939876aa770ab5ad4a929e8f83942?s=128&d=identicon&r=PG&f=1", "display_name": "SpyisSandvich", "link": "https://stackoverflow.com/users/4106759/spyissandvich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 51048806, "answer_count": 1, "score": 0, "last_activity_date": 1530126346, "creation_date": 1530033653, "last_edit_date": 1530120134, "question_id": 51048406, "link": "https://stackoverflow.com/questions/51048406/differences-between-normal-and-single-expression-function-definitions", "title": "Differences between Normal and Single Expression function definitions", "body": "<p>Assume an Android project in which I have this XML for two buttons:</p>\n\n<pre><code>&lt;layout&gt;\n    &lt;data&gt;\n        &lt;variable name=\"viewModel\" type=\"com.package.package.UploadPhotoViewModel\" /&gt;\n    &lt;/data&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"center_horizontal\"\n        android:orientation=\"vertical\"\n        android:padding=\"10dp\"&gt;\n\n        &lt;com.zoosk.zoosk.ui.widgets.ProgressButton\n            android:id=\"@+id/progressButtonChooseFromLibrary\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@{viewModel.choosePhotoText}\"\n            android:onClick=\"@{viewModel::choosePhotoButtonClick}\"\n            android:visibility=\"@{viewModel.choosePhotoVisibility}\" /&gt;\n\n        &lt;com.zoosk.zoosk.ui.widgets.ProgressButton\n            android:id=\"@+id/progressButtonTakePhoto\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@{viewModel.takePhotoText}\"\n            android:onClick=\"@{viewModel::takePhotoButtonClick}\"\n            android:visibility=\"@{viewModel.takePhotoVisibility}\" /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>And an accompanying ViewModel:</p>\n\n<pre><code>class UploadPhotoViewModel(resources: Resources) {\n    var onChoosePhotoButtonClicked: ((View) -&gt; Unit)? = null\n    var onTakePhotoButtonClicked: ((View) -&gt; Unit)? = null\n\n    fun choosePhotoButtonClick(v: View) {\n        onChoosePhotoButtonClicked?.invoke(v)\n    }\n    fun takePhotoButtonClick(v: View) = onTakePhotoButtonClicked?.invoke(v)\n}\n</code></pre>\n\n<p>Noting particularly the difference between how <code>choosePhotoButtonClick</code> and <code>takePhotoButtonClick</code> are declared.</p>\n\n<p>When building this project, Android's databinding will work properly for <code>choosePhotoButtonClick</code>, but throws an error with <code>takePhotoButtonClick</code>, saying that there's no method that matches the expected reference signature.  Assuming these methods are created the same way under the hood, this should not happen, alas there must be some difference.</p>\n\n<p>What exactly is the difference to these two declaration syntaxes?  The <a href=\"https://kotlinlang.org/docs/reference/functions.html#single-expression-functions\" rel=\"nofollow noreferrer\">official Kotlin documentation</a> doesn't mention anything functional, only that it can serve as an additional way to declare that method.</p>\n"}, {"tags": ["android", "listview", "kotlin", "selector", "toast"], "comments": [{"owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "edited": false, "score": 0, "creation_date": 1530047426, "post_id": 51048354, "comment_id": 89093849, "body": "Did my answer provide a solution?"}, {"owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "reply_to_user": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "edited": false, "score": 0, "creation_date": 1530123842, "post_id": 51048354, "comment_id": 89128267, "body": "No, it keeps showing the toast message. I kinda solved it by using the websiite url instead of the list view, since once you select an item it loads an specific url, so if my webviewer has no url loaded, it shows the toast, if it does, it changes the visibility. I just couldn&#180;t find a way to make it work from the lisview, thank you anyway Derek!"}], "answers": [{"tags": [], "owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "is_accepted": false, "score": 0, "last_activity_date": 1530040699, "creation_date": 1530040699, "answer_id": 51050036, "question_id": 51048354, "link": "https://stackoverflow.com/questions/51048354/button-to-toast-when-listview-selector-isn%c2%b4t-there-android/51050036#51050036", "title": "Button to toast when listView selector isn&#180;t there. Android", "body": "<p>I would create an <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\"><strong><code>Extension</code></strong></a>:</p>\n\n<pre><code>fun ListView.hasSelector(): Boolean {\n    for (i in 0 until this.count) {\n        if (this.isItemChecked(i))\n            return true\n    }\n\n    return false\n}\n</code></pre>\n\n<p>Then call it in the <code>clickEvent</code>:</p>\n\n<pre><code>button1.setOnClickListener {\n    If (!list1.hasSelector){\n        toast(\"no item selected in list1\")\n    } else {\n        website.visibility = View.VISIBLE\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530040699, "creation_date": 1530033514, "last_edit_date": 1530038161, "question_id": 51048354, "link": "https://stackoverflow.com/questions/51048354/button-to-toast-when-listview-selector-isn%c2%b4t-there-android", "title": "Button to toast when listView selector isn&#180;t there. Android", "body": "<p>I think I have not made myself clear on what I\u00b4m trying to achieve.</p>\n\n<p>I have a listView:</p>\n\n<pre><code>    &lt;ListView\n    android:id=\"@+id/list1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1\"\n    android:choiceMode=\"singleChoice\"\n    android:focusable=\"true\"\n    android:focusableInTouchMode=\"true\"\n    android:listSelector=\"@android:color/darker_gray\"\n    android:textSize=\"10dp\"\n    &lt;/ListView&gt;\n</code></pre>\n\n<p>As you can see, this list view includes a listSelector that highlights the item selected on the list once clicked.</p>\n\n<p>Now, Im trying to program a button to display a toast message when this list1 has no selector on it, (when no item in there has been selected and highlighted in gray) and to set the visibility of a website layout to visible when it does.</p>\n\n<p>something like:</p>\n\n<pre><code>button1.setOnClickListener {\n    If (list1.selector == null){\n    toast(\"no item selected in list1\")\n    } else {\n    website.visibility = View.VISIBLE\n    }\n}\n</code></pre>\n\n<p>For reference here are my codes:</p>\n\n<pre><code>val nameofanimals = arrayOf(\"cat\",\"dog\",\"parrot\")\n\ninternal lateinit var adapteranimals: ArrayAdapter&lt;String&gt;\n</code></pre>\n\n<p>my adapter:</p>\n\n<pre><code>adapteranimals = ArrayAdapter(\n    this@MainActivity,\n    R.layout.list1layout,\n    nameofanimals)\nlist1.adapter = adapteranimals\n</code></pre>\n\n<p>thank you in advance for your support</p>\n\n<p>Regards</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 3, "creation_date": 1530033562, "post_id": 51048302, "comment_id": 89087797, "body": "get() is asynchronous.  It returns immediately, and the results of the query are delivered to your callback some time later.  You should do all your subsequent processing after the callback is invoked.  You can read more about why all Firebase APIs are async in this blog: <a href=\"https://medium.com/@CodingDoug/why-are-firebase-apis-asynchronous-callbacks-promises-tasks-e037a6654a93\" rel=\"nofollow noreferrer\">medium.com/@CodingDoug/&hellip;</a>"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1530084409, "post_id": 51048302, "comment_id": 89104125, "body": "Check <b><a href=\"https://stackoverflow.com/questions/51042961/how-does-firebase-completion-callbacks-work-in-kotlin/51045463\">this</a></b> out."}], "owner": {"reputation": 1, "user_id": 9995800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d1605c83a39325b32e62df1593261c?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/9995800/luca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530033574, "creation_date": 1530033339, "last_edit_date": 1530033574, "question_id": 51048302, "link": "https://stackoverflow.com/questions/51048302/how-to-make-sure-the-listener-is-finished-before-returning-a-value-in-android", "title": "How to make sure the listener is finished before returning a value in Android", "body": "<p>I want to write a function that returns a list that contains the ids of documents.\nFor reading the data out of the databse (Cloud Firestore) I use an OnCompleteListener.\nThis is my Code so far:</p>\n\n<pre><code>private fun getInvolvedChannels(): MutableList&lt;String&gt; {\n    var involvedList = mutableListOf&lt;String&gt;()\n    val currentUserId = FirebaseAuth.getInstance().currentUser?.uid\n    firestoreInstance.collection(\"users\").document(currentUserId!!).collection(\"engagedChatChannels\").get()\n            .addOnCompleteListener ( object : OnCompleteListener&lt;QuerySnapshot&gt; {\n                override fun onComplete(task: Task&lt;QuerySnapshot&gt;) {\n                    task.result.documents.forEach {\n                        val currentChannelId = it.id.toString()\n                        involvedList.add(currentChannelId)\n                    }\n                }\n            })\n   involvedList = buildChatChannelString(involvedList)\n    return involvedList\n}\n</code></pre>\n\n<p>The reading part already works fine. The problem is that the list gets returned before the Listener even red one Id. So it always returns an empty list. Where is my Error? How can I make sure the Listener finished before I return the List?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 0, "creation_date": 1550672578, "post_id": 51050817, "comment_id": 96355425, "body": "Work for me! Thakns!"}, {"owner": {"reputation": 285, "user_id": 5821291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2b4557deb00af07d565a6e1eca8bf?s=128&d=identicon&r=PG&f=1", "display_name": "SmartAndroidian", "link": "https://stackoverflow.com/users/5821291/smartandroidian"}, "edited": false, "score": 0, "creation_date": 1591520125, "post_id": 51050817, "comment_id": 110081691, "body": "Thanks, I was missing AndroidInjectionModule"}], "tags": [], "owner": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "is_accepted": false, "score": 18, "last_activity_date": 1530044401, "creation_date": 1530044401, "answer_id": 51050817, "question_id": 51047755, "link": "https://stackoverflow.com/questions/51047755/android-dagger-cannot-be-provided-without-an-provides-annotated-method/51050817#51050817", "title": "Android dagger cannot be provided without an Provides-annotated method", "body": "<p>Add AndroidInjectionModule.class and ActivityBuilder.class to your AppComponent</p>\n\n<pre><code>@Singleton\n@Component(modules = [AndroidInjectionModule::class, AppModule::class, ActivityBuilder::class ])\n\ninterface AppComponent : AndroidInjector&lt;App&gt; {\n\n  @Component.Builder\n  interface Builder {\n    @BindsInstance\n    fun application(application: Application): Builder\n    fun build(): AppComponent\n  }\n override fun inject(app: App)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11723, "user_id": 3356777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c7bee1f2c7ba7f81ddb902b83626558?s=128&d=identicon&r=PG&f=1", "display_name": "attdona", "link": "https://stackoverflow.com/users/3356777/attdona"}, "is_accepted": false, "score": 5, "last_activity_date": 1530094635, "creation_date": 1530094635, "answer_id": 51060242, "question_id": 51047755, "link": "https://stackoverflow.com/questions/51047755/android-dagger-cannot-be-provided-without-an-provides-annotated-method/51060242#51060242", "title": "Android dagger cannot be provided without an Provides-annotated method", "body": "<p>You have two problems.</p>\n\n<p>To get rid of the compiler error add <code>AndroidInjectionModule::class</code> to Component modules:</p>\n\n<pre><code>@Singleton\n@Component(modules = [AndroidInjectionModule::class, AppModule::class])\ninterface AppComponent : AndroidInjector&lt;App&gt; {\n\n\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(application: Application): Builder\n        fun build(): AppComponent\n    }\n\n    override fun inject(app: App)\n}\n</code></pre>\n\n<p>With <code>@Component.Builder</code> annotated interface you define the builder interface with an annotated <code>@BindsInstance</code> method <code>application()</code> (note that there is not an <code>appModule</code> method declared in the Builder).</p>\n\n<p>With such declaration you can build your component using <code>application(this)</code>:</p>\n\n<pre><code>    appComponent = DaggerAppComponent\n            .builder()\n            .application(this)\n            .build()\n</code></pre>\n\n<p>In this way <code>this</code> application instance is bound inside the component.</p>\n\n<p>Just as a side note: Binding Instances are documented <a href=\"https://google.github.io/dagger/users-guide\" rel=\"noreferrer\">here</a>, but personally I found the explanation quite hard to grasp for someone learning dagger, like me.</p>\n"}, {"tags": [], "owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "is_accepted": false, "score": 1, "last_activity_date": 1574426364, "creation_date": 1574426364, "answer_id": 58994492, "question_id": 51047755, "link": "https://stackoverflow.com/questions/51047755/android-dagger-cannot-be-provided-without-an-provides-annotated-method/58994492#58994492", "title": "Android dagger cannot be provided without an Provides-annotated method", "body": "<blockquote>\n  <p>Detail answer with explanation</p>\n</blockquote>\n\n<p><strong>Component - ></strong>\nComponent is a graph. Component will provide injected instances by using modules.</p>\n\n<pre><code>@Component(\n    modules = [\n        AndroidInjectionModule::class, //We didn\u2019t create this. It is an internal class in Dagger 2.10. Provides our activities and fragments with given module\n        ActivityModule::class,\n    ]\n)\n@Singleton\ninterface AppComponent : AndroidInjector&lt;App&gt; {\n\n    @Component.Builder\n    interface Builder {\n        fun addContext(@BindsInstance context: Context): Builder\n        fun build(): AppComponent\n    }\n}\n</code></pre>\n\n<p>We created <strong>ActivityModule</strong> module. This is a given <code>module</code> to <strong>dagger</strong>. We map all our <code>activities</code> here. And <strong>Dagger</strong> know our <code>activities</code> in <code>compile time</code>. In our app we have <strong>MainActivity</strong>. So we map it here.</p>\n\n<pre><code>@Module\nabstract class ActivityModule {\n\n    @ContributesAndroidInjector\n    public abstract MainActivity bindMainActivity();\n}\n</code></pre>\n\n<p>AndroidManifest.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest&gt;\n    &lt;application\n        android:name=\".App\"\n</code></pre>\n\n<p><strong>App.kt</strong></p>\n\n<pre><code>class App : DaggerApplication() {\n\n    override fun applicationInjector(): AndroidInjector&lt;out DaggerApplication&gt; {\n        return DaggerAppComponent.builder().addContext(this).build()\n    }\n}\n</code></pre>\n\n<p>And Make sure to extend your activity with <strong>DaggerAppCompatActivity</strong> that will auto inject before onCreate</p>\n"}], "owner": {"reputation": 2802, "user_id": 3334375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7ea497db44ae233839e211fdcf141f10?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3334375/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6221, "favorite_count": 5, "answer_count": 3, "score": 10, "last_activity_date": 1574426364, "creation_date": 1530031224, "last_edit_date": 1530031589, "question_id": 51047755, "link": "https://stackoverflow.com/questions/51047755/android-dagger-cannot-be-provided-without-an-provides-annotated-method", "title": "Android dagger cannot be provided without an Provides-annotated method", "body": "<p>I decided to learn <code>dagger</code> dependency injection framework. After some tutorials I try to implement dagger into my project. However I got this error</p>\n\n<pre><code>com\\assigment\\di\\component\\AppComponent.java:11: error: [Dagger/MissingBinding] java.util.Map&lt;java.lang.Class&lt;? extends android.app.Activity&gt;,javax.inject.Provider&lt;dagger.android.AndroidInjector.Factory&lt;? extends android.app.Activity&gt;&gt;&gt; cannot be provided without an @Provides-annotated method.\n    public abstract void inject(@org.jetbrains.annotations.NotNull()\n                         ^\n      java.util.Map&lt;java.lang.Class&lt;? extends android.app.Activity&gt;,javax.inject.Provider&lt;dagger.android.AndroidInjector.Factory&lt;? extends android.app.Activity&gt;&gt;&gt; is injected at\n          dagger.android.DispatchingAndroidInjector.&lt;init&gt;(injectorFactories)\n      dagger.android.DispatchingAndroidInjector&lt;android.app.Activity&gt; is injected at\n          assigment.com.assigment.App.activityInjector\n      assigment.com.assigment.App is injected at\n          assigment.com.assigment.di.component.AppComponent.inject(assigment.com.assigment.App)\n</code></pre>\n\n<p>I try to solve this for 2 days but with no luck. So here's how I set up my project </p>\n\n<pre><code>class App : Application(), HasActivityInjector  {\n    @Inject\n    lateinit var activityInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    lateinit var appComponent: AppComponent\n\n    override fun onCreate() {\n        super.onCreate()\n\n        appComponent = DaggerAppComponent\n                .builder()\n                .appModule(AppModule())\n                .build()\n    }\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt; {\n        return activityInjector\n    }\n}\n</code></pre>\n\n<p>Here's my app component</p>\n\n<pre><code>@Singleton\n@Component(modules = [AppModule::class])\n\ninterface AppComponent : AndroidInjector&lt;App&gt; {\n\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(application: Application): Builder\n        fun build(): AppComponent\n    }\n    override fun inject(app: App)\n}\n</code></pre>\n\n<p>and here's my appModule class</p>\n\n<p>AppModule</p>\n\n<pre><code>@Module\nclass AppModule {\n    private val url = \"http://test.lt/v1/\"\n\n    @Provides\n    @Singleton\n    fun provideApplication(app: Application): Context = app\n}\n</code></pre>\n\n<p>So what I'm missing with this implementation?</p>\n"}, {"tags": ["kotlin", "localization", "internationalization", "tornadofx"], "comments": [{"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1530026824, "post_id": 51045986, "comment_id": 89084083, "body": "Why can&#39;t you specify <code>FX.locale = Locale(&quot;es_ES&quot;)</code>?"}, {"owner": {"reputation": 7, "user_id": 9991090, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bwHc0sH1NGE/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq16T9ZGRDZ0NQwRAj5zYM4pU1BQ0A/mo/photo.jpg?sz=128", "display_name": "Joy S", "link": "https://stackoverflow.com/users/9991090/joy-s"}, "reply_to_user": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1530041242, "post_id": 51045986, "comment_id": 89091262, "body": "Ah! I didn&#39;t know Locale(arg) was a function. Thank you!"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1530170231, "post_id": 51045986, "comment_id": 89142538, "body": "Great :) I&#39;ll add an answer :)"}], "answers": [{"tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 1, "last_activity_date": 1530170308, "creation_date": 1530170308, "answer_id": 51076895, "question_id": 51045986, "link": "https://stackoverflow.com/questions/51045986/tornadofx-internationalization-to-country-not-available-in-fx-locale/51076895#51076895", "title": "tornadofx internationalization to country not available in FX.locale", "body": "<p>Since not all locales have a constant in <code>java.lang.Locale</code>, you can create a locale instance manually and assign it to <code>FX.locale</code>:</p>\n\n<p><code>FX.locale = Locale(\"es_ES\")</code></p>\n"}], "owner": {"reputation": 7, "user_id": 9991090, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bwHc0sH1NGE/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq16T9ZGRDZ0NQwRAj5zYM4pU1BQ0A/mo/photo.jpg?sz=128", "display_name": "Joy S", "link": "https://stackoverflow.com/users/9991090/joy-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 51076895, "answer_count": 1, "score": 0, "last_activity_date": 1530170308, "creation_date": 1530025222, "question_id": 51045986, "link": "https://stackoverflow.com/questions/51045986/tornadofx-internationalization-to-country-not-available-in-fx-locale", "title": "tornadofx internationalization to country not available in FX.locale", "body": "<p>I'm trying to write an fxml file with a variable in it that I pull from a resource bundle. I want the value of this variable to be pulled in from a different file in my bundle in different locales. This works for the locales that you can specify like this:</p>\n\n\n\n<pre><code>FX.locale = Locale.FRENCH\n</code></pre>\n\n\n\n<p>However, Spanish is not an available locale and I have a Spanish language file that I would like to use.</p>\n\n<p>I have heard that, by default, tornadofx gets the locale of your computer and chooses the file in the resource bundle that it thinks is in the language you most likely speak. However, this does not work when I set my locale to Spain; actually, it does not work at all. If I do not specify my locale in my program, it does not pull the variable in from any of my files.</p>\n\n<p>Does anyone know how I could get a foothold into this problem? I have read the documentation located <a href=\"https://github.com/edvin/tornadofx/wiki/i18n\" rel=\"nofollow noreferrer\">here</a>, but I did not understand what messages were or how to access them. I can make <a href=\"https://edvin.gitbooks.io/tornadofx-guide/content/part2/Internationalization.html\" rel=\"nofollow noreferrer\">this code</a> work, but only for French and other FX.locale options.</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "pagersnaphelper"], "comments": [{"owner": {"reputation": 12820, "user_id": 1031556, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b46c5b92c22c681b79a1e91825ee757b?s=128&d=identicon&r=PG", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1031556/stephan"}, "edited": false, "score": 0, "creation_date": 1530025987, "post_id": 51045964, "comment_id": 89083542, "body": "Depending where you want to snap it might be that the last and first item offset is too small to snap it to the desired position."}, {"owner": {"reputation": 6647, "user_id": 709671, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e2589f597920174d08abc0cc4ba5f183?s=128&d=identicon&r=PG", "display_name": "axierjhtjz", "link": "https://stackoverflow.com/users/709671/axierjhtjz"}, "reply_to_user": {"reputation": 12820, "user_id": 1031556, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b46c5b92c22c681b79a1e91825ee757b?s=128&d=identicon&r=PG", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1031556/stephan"}, "edited": false, "score": 0, "creation_date": 1530026368, "post_id": 51045964, "comment_id": 89083791, "body": "@EarlOfEgo the Recyclers height is 250dp and the item is 48dp, so 250/2 - 48/2 is the current offset. The snapping I&#180;m looking for is the one looking like a ViewPager so &quot;center&quot; I supose. Should I make the list larger so it can have more snapping space?"}, {"owner": {"reputation": 12820, "user_id": 1031556, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b46c5b92c22c681b79a1e91825ee757b?s=128&d=identicon&r=PG", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1031556/stephan"}, "edited": false, "score": 0, "creation_date": 1530026540, "post_id": 51045964, "comment_id": 89083894, "body": "Yes give it a try, the offset should at least be the space from the snapped item until the end."}, {"owner": {"reputation": 6647, "user_id": 709671, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e2589f597920174d08abc0cc4ba5f183?s=128&d=identicon&r=PG", "display_name": "axierjhtjz", "link": "https://stackoverflow.com/users/709671/axierjhtjz"}, "reply_to_user": {"reputation": 12820, "user_id": 1031556, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b46c5b92c22c681b79a1e91825ee757b?s=128&d=identicon&r=PG", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1031556/stephan"}, "edited": false, "score": 0, "creation_date": 1530027443, "post_id": 51045964, "comment_id": 89084466, "body": "Update my question, added a gif on about how it behaves."}], "owner": {"reputation": 6647, "user_id": 709671, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e2589f597920174d08abc0cc4ba5f183?s=128&d=identicon&r=PG", "display_name": "axierjhtjz", "link": "https://stackoverflow.com/users/709671/axierjhtjz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 516, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530166267, "creation_date": 1530025170, "last_edit_date": 1530166267, "question_id": 51045964, "link": "https://stackoverflow.com/questions/51045964/recyclerview-with-offsets-and-pagersnaphelper-not-clipping-correctly", "title": "RecyclerView with offsets and PagerSnapHelper not clipping correctly", "body": "<p>I\u00b4ve two <code>RecyclerViews</code> with two <code>ItemDecoration</code> each that adds a fixed offset to the first and last items.</p>\n\n<p><strong>StartOffsetItemDecoration.kt</strong></p>\n\n<pre><code>class StartOffsetItemDecoration : RecyclerView.ItemDecoration {\n\n    private var mOffsetPx: Int = 0\n    private var mOffsetDrawable: Drawable? = null\n    private var mOrientation: Int = 0\n\n    /**\n     * Constructor that takes in the size of the offset to be added to the\n     * start of the RecyclerView.\n     *\n     * @param offsetPx The size of the offset to be added to the start of the\n     * RecyclerView in pixels\n     */\n    constructor(offsetPx: Int) {\n        mOffsetPx = offsetPx\n    }\n\n    /**\n     * Constructor that takes in a {@link Drawable} to be drawn at the start of\n     * the RecyclerView.\n     *\n     * @param offsetDrawable The {@code Drawable} to be added to the start of\n     *                       the RecyclerView\n     */\n    constructor(offsetDrawable: Drawable) {\n        mOffsetDrawable = offsetDrawable\n    }\n\n    /**\n     * Determines the size and location of the offset to be added to the start\n     * of the RecyclerView.\n     *\n     * @param outRect The [Rect] of offsets to be added around the child view\n     * @param view The child view to be decorated with an offset\n     * @param parent The RecyclerView onto which dividers are being added\n     * @param state The current RecyclerView.State of the RecyclerView\n     */\n    override fun getItemOffsets(outRect: Rect, view: View, parent: RecyclerView, state: RecyclerView.State) {\n        super.getItemOffsets(outRect, view, parent, state)\n        if (parent.getChildAdapterPosition(view) &gt; 0) {\n            return\n        }\n\n        mOrientation = (parent.layoutManager as LinearLayoutManager).orientation\n        if (mOrientation == LinearLayoutManager.HORIZONTAL) {\n            if (mOffsetPx &gt; 0) {\n                outRect.left = mOffsetPx\n            } else if (mOffsetDrawable != null) {\n                outRect.left = mOffsetDrawable!!.intrinsicWidth\n            }\n        } else if (mOrientation == LinearLayoutManager.VERTICAL) {\n            if (mOffsetPx &gt; 0) {\n                outRect.top = mOffsetPx\n            } else if (mOffsetDrawable != null) {\n                outRect.top = mOffsetDrawable!!.intrinsicHeight\n            }\n        }\n    }\n\n    /**\n     * Draws horizontal or vertical offset onto the start of the parent\n     * RecyclerView.\n     *\n     * @param c The [Canvas] onto which an offset will be drawn\n     * @param parent The RecyclerView onto which an offset is being added\n     * @param state The current RecyclerView.State of the RecyclerView\n     */\n    override fun onDraw(c: Canvas, parent: RecyclerView, state: RecyclerView.State) {\n        super.onDraw(c, parent, state)\n        if (mOffsetDrawable == null) {\n            return\n        }\n\n        if (mOrientation == LinearLayoutManager.HORIZONTAL) {\n            drawOffsetHorizontal(c, parent)\n        } else if (mOrientation == LinearLayoutManager.VERTICAL) {\n            drawOffsetVertical(c, parent)\n        }\n    }\n\n\n    private fun drawOffsetHorizontal(canvas: Canvas, parent: RecyclerView) {\n        val parentTop = parent.paddingTop\n        val parentBottom = parent.height - parent.paddingBottom\n        val parentLeft = parent.paddingLeft\n        val offsetDrawableRight = parentLeft + mOffsetDrawable!!.intrinsicWidth\n\n        mOffsetDrawable?.setBounds(parentLeft, parentTop, offsetDrawableRight, parentBottom)\n        mOffsetDrawable?.draw(canvas)\n    }\n\n    private fun drawOffsetVertical(canvas: Canvas, parent: RecyclerView) {\n        val parentLeft = parent.paddingLeft\n        val parentRight = parent.width - parent.paddingRight\n        val parentTop = parent.paddingTop\n        val offsetDrawableBottom = parentTop + mOffsetDrawable!!.intrinsicHeight\n\n        mOffsetDrawable?.setBounds(parentLeft, parentTop, parentRight, offsetDrawableBottom)\n        mOffsetDrawable?.draw(canvas)\n    }\n\n}\n</code></pre>\n\n<p><strong>EndOffsetItemDecoration.kt</strong></p>\n\n<pre><code>class EndOffsetItemDecoration: RecyclerView.ItemDecoration {\n\n    private var mOffsetPx: Int = 0\n    private var mOffsetDrawable: Drawable? = null\n    private var mOrientation: Int = 0\n\n    /**\n     * Constructor that takes in the size of the offset to be added to the\n     * start of the RecyclerView.\n     *\n     * @param offsetPx The size of the offset to be added to the start of the\n     * RecyclerView in pixels\n     */\n    constructor(offsetPx: Int) {\n        mOffsetPx = offsetPx\n    }\n\n    /**\n     * Constructor that takes in a {@link Drawable} to be drawn at the start of\n     * the RecyclerView.\n     *\n     * @param offsetDrawable The {@code Drawable} to be added to the start of\n     *                       the RecyclerView\n     */\n    constructor(offsetDrawable: Drawable) {\n        mOffsetDrawable = offsetDrawable\n    }\n\n    /**\n     * Determines the size and location of the offset to be added to the end\n     * of the RecyclerView.\n     *\n     * @param outRect The [Rect] of offsets to be added around the child view\n     * @param view The child view to be decorated with an offset\n     * @param parent The RecyclerView onto which dividers are being added\n     * @param state The current RecyclerView.State of the RecyclerView\n     */\n    override fun getItemOffsets(outRect: Rect, view: View, parent: RecyclerView, state: RecyclerView.State) {\n        super.getItemOffsets(outRect, view, parent, state)\n\n        val itemCount = state.itemCount\n        if (parent.getChildAdapterPosition(view) != itemCount - 1) {\n            return\n        }\n\n        mOrientation = (parent.layoutManager as LinearLayoutManager).orientation\n        if (mOrientation == LinearLayoutManager.HORIZONTAL) {\n            if (mOffsetPx &gt; 0) {\n                outRect.right = mOffsetPx\n            } else if (mOffsetDrawable != null) {\n                outRect.right = mOffsetDrawable!!.intrinsicWidth\n            }\n        } else if (mOrientation == LinearLayoutManager.VERTICAL) {\n            if (mOffsetPx &gt; 0) {\n                outRect.bottom = mOffsetPx\n            } else if (mOffsetDrawable != null) {\n                outRect.bottom = mOffsetDrawable!!.intrinsicHeight\n            }\n        }\n    }\n\n    /**\n     * Draws horizontal or vertical offset onto the end of the parent\n     * RecyclerView.\n     *\n     * @param c The [Canvas] onto which an offset will be drawn\n     * @param parent The RecyclerView onto which an offset is being added\n     * @param state The current RecyclerView.State of the RecyclerView\n     */\n    override fun onDraw(c: Canvas, parent: RecyclerView, state: RecyclerView.State) {\n        super.onDraw(c, parent, state)\n        if (mOffsetDrawable == null) {\n            return\n        }\n\n        if (mOrientation == LinearLayoutManager.HORIZONTAL) {\n            drawOffsetHorizontal(c, parent)\n        } else if (mOrientation == LinearLayoutManager.VERTICAL) {\n            drawOffsetVertical(c, parent)\n        }\n    }\n\n    private fun drawOffsetHorizontal(canvas: Canvas, parent: RecyclerView) {\n        val parentTop = parent.paddingTop\n        val parentBottom = parent.height - parent.paddingBottom\n\n        val lastChild = parent.getChildAt(parent.childCount - 1)\n        val lastChildLayoutParams = lastChild.layoutParams as RecyclerView.LayoutParams\n        val offsetDrawableLeft = lastChild.right + lastChildLayoutParams.rightMargin\n        val offsetDrawableRight = offsetDrawableLeft + mOffsetDrawable!!.intrinsicWidth\n\n        mOffsetDrawable?.setBounds(offsetDrawableLeft, parentTop, offsetDrawableRight, parentBottom)\n        mOffsetDrawable?.draw(canvas)\n    }\n\n    private fun drawOffsetVertical(canvas: Canvas, parent: RecyclerView) {\n        val parentLeft = parent.paddingLeft\n        val parentRight = parent.width - parent.paddingRight\n\n        val lastChild = parent.getChildAt(parent.childCount - 1)\n        val lastChildLayoutParams = lastChild.layoutParams as RecyclerView.LayoutParams\n        val offsetDrawableTop = lastChild.bottom + lastChildLayoutParams.bottomMargin\n        val offsetDrawableBottom = offsetDrawableTop + mOffsetDrawable!!.intrinsicHeight\n\n        mOffsetDrawable?.setBounds(parentLeft, offsetDrawableTop, parentRight, offsetDrawableBottom)\n        mOffsetDrawable?.draw(canvas)\n    }\n}\n</code></pre>\n\n<p>I\u00b4ve also added a <code>PagerSnapHelper</code> on both <code>RecyclerViews</code> but they don't seem to work well with the offset given. I think I may be missing some configuration or maybe making the <code>PageSnapHelper</code> aware of the offset so it can calculate the right snapping for the first and the last elements.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_anomaly_solution_hours)\n\n        hours.layoutManager = LinearLayoutManager(\n                this@AnomalySolutionHoursActivity, LinearLayoutManager.VERTICAL, false\n        )\n        minutes.layoutManager = LinearLayoutManager(\n                this@AnomalySolutionHoursActivity, LinearLayoutManager.VERTICAL, false\n        )\n\n        hours.setHasFixedSize(true)\n        minutes.setHasFixedSize(true)\n\n        hours.addItemDecoration(StartOffsetItemDecoration(calculateOffset().toInt()))\n        hours.addItemDecoration(EndOffsetItemDecoration(calculateOffset().toInt()))\n\n        minutes.addItemDecoration(StartOffsetItemDecoration(calculateOffset().toInt()))\n        minutes.addItemDecoration(EndOffsetItemDecoration(calculateOffset().toInt()))\n\n        val hoursSnapHelper = PagerSnapHelper()\n        val minutesSnapHelper = PagerSnapHelper()\n\n        hours.adapter = TimeAdapter((0..10).toList().toTypedArray(), this@AnomalySolutionHoursActivity,\n                object: TimeAdapter.OnItemClickListener {\n                    override fun onItemClick(unit: Int) {\n\n                    }\n                })\n        hoursSnapHelper.attachToRecyclerView(hours)\n\n\n        minutes.adapter = TimeAdapter((0..60).toList().toTypedArray(), this@AnomalySolutionHoursActivity,\n                object: TimeAdapter.OnItemClickListener {\n                    override fun onItemClick(unit: Int) {\n\n                    }\n                })\n        minutesSnapHelper.attachToRecyclerView(minutes)\n\n    }\n\n    private fun calculateOffset(): Float {\n        val listHalfHeight = (TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 250f, resources.displayMetrics)) / 2\n        val listItemHalfHeight = (TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 48f, resources.displayMetrics)) / 2\n        return listHalfHeight - listItemHalfHeight\n    }\n}\n</code></pre>\n\n<p>Has someone been able to make a PagerSnapHelper work with a RecyclerView containing offsets? LinearSnapHelper seems to work better than PagerSnapHelper but still can't snap the first and the last items.</p>\n\n<p>Thanks!</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Made both list height up to 500dp but nothing changed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/K44s4.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K44s4.gif\" alt=\"enter image description here\"></a></p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>Added an empty item to the first and last positions and now it work pretty good. Just have to keep on mind those items when calculating positions with sizes.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0IZfy.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0IZfy.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "inheritance", "kotlin"], "comments": [{"owner": {"reputation": 110, "user_id": 2765258, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fc1290b537855361914c5c6fcf3c959e?s=128&d=identicon&r=PG&f=1", "display_name": "Sreeram Sunkara", "link": "https://stackoverflow.com/users/2765258/sreeram-sunkara"}, "edited": false, "score": 0, "creation_date": 1530024272, "post_id": 51045350, "comment_id": 89082425, "body": "I can think of two ways - you can create a secondary constructor and that doesnt do any fetch on the Dao and Name or add a additional boolean parameter in the ArticlePagerAdapter and if the boolean is false do not go inside the Dao and Name."}], "answers": [{"comments": [{"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 1, "creation_date": 1530085208, "post_id": 51051954, "comment_id": 89104576, "body": "While I completely agree with your approach there, you missed one detail. <code>selectedArticleName</code> (or rather the value thereof) can&#39;t be used in <code>initBundles</code> if it&#39;s called from the constructor or init block of a parent class. This is one of the rare cases, where kotlin is not <code>null</code> safe (see <a href=\"https://kotlinlang.org/docs/reference/classes.html#derived-class-initialization-order\" rel=\"nofollow noreferrer\">here</a>)."}, {"owner": {"reputation": 519, "user_id": 4929939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TZ9u.jpg?s=128&g=1", "display_name": "LPeteR90", "link": "https://stackoverflow.com/users/4929939/lpeter90"}, "reply_to_user": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1530187888, "post_id": 51051954, "comment_id": 89153567, "body": "You got me here. Just tried it and the value of a property passed in a subclass is indeed null during constructor initialization. I&#39;ll update my answer."}, {"owner": {"reputation": 2435, "user_id": 4611801, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dJcaH_BvDDI/AAAAAAAAAAI/AAAAAAAAAAw/j-m82OEAceA/photo.jpg?sz=128", "display_name": "aholt", "link": "https://stackoverflow.com/users/4611801/aholt"}, "edited": false, "score": 0, "creation_date": 1530811778, "post_id": 51051954, "comment_id": 89375659, "body": "design choices aside, this answer doesn&#39;t actually answer the original question.  At all."}, {"owner": {"reputation": 519, "user_id": 4929939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TZ9u.jpg?s=128&g=1", "display_name": "LPeteR90", "link": "https://stackoverflow.com/users/4929939/lpeter90"}, "edited": false, "score": 0, "creation_date": 1530904078, "post_id": 51051954, "comment_id": 89413916, "body": "well, unfortunately you are right to some extent. this is because of the edits I had to make (see other comments). However, I do think that I proposed a valid alternative for the provided code (move <code>init</code> block to <code>initBundles</code>). Further, I wouldn&#39;t want to encourage trying to avoid calling the super constructor in Kotlin, this seems not to be intended by the language design."}], "tags": [], "owner": {"reputation": 519, "user_id": 4929939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TZ9u.jpg?s=128&g=1", "display_name": "LPeteR90", "link": "https://stackoverflow.com/users/4929939/lpeter90"}, "is_accepted": true, "score": 2, "last_activity_date": 1530191595, "last_edit_date": 1592644375, "creation_date": 1530050689, "answer_id": 51051954, "question_id": 51045350, "link": "https://stackoverflow.com/questions/51045350/kotlin-do-not-call-super/51051954#51051954", "title": "Kotlin do not call super", "body": "<h2><em>TL;DR</em></h2>\n<p>I'd advise you to move the code from the <code>init</code> block to the <code>initBundles</code> function and use your variables there after initialization. Then there would be no need to avoid calling the superclasses constructor.</p>\n<h2>Extensive Answer</h2>\n<p>I think you should think about what you want to do with your design. Working around the idioms of a language is not very often a good idea or a sign of good design - at least when kotlin is your language :)</p>\n<p>What you did with your code (overriding a - possibly abstract - method, <code>initBundles</code> from your superclass is pretty much the <a href=\"https://en.wikipedia.org/wiki/Template_method_pattern\" rel=\"nofollow noreferrer\">template method pattern</a>. So it seems to me the purpose of <code>initBundles</code> is to let subclasses customize parts of the initialization... What basically is what you do in your init block.</p>\n<p><em>EDIT</em>: As Paul pointed out in the comments, you can't use the member <code>selectedArticleName</code> before your base classes initialization has finished. So if the base class calls <code>initBundles</code> during its initialization, then properties in the subclass won't be initialized as also stated at <a href=\"https://kotlinlang.org/docs/reference/classes.html#derived-class-initialization-order\" rel=\"nofollow noreferrer\">Paul's link</a>.</p>\n<p>Since in the snippet you don't use <code>selectedArticleName</code>, you could just move your initialization stuff to the <code>initBundles</code> function and init your <code>subarticleDao</code> there.</p>\n<p>However, if you <em>need</em> to use your subclasses properties at that point, I'd really advise you to rethink your design. There should be several ways to solve this, but to decide what would suits your requirements best one would need further insight into the intentions you have with your design.</p>\n"}], "owner": {"reputation": 581, "user_id": 3057944, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1256694091/picture?type=large", "display_name": "user3057944", "link": "https://stackoverflow.com/users/3057944/user3057944"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 910, "favorite_count": 0, "accepted_answer_id": 51051954, "answer_count": 1, "score": 2, "last_activity_date": 1530191595, "creation_date": 1530023291, "question_id": 51045350, "link": "https://stackoverflow.com/questions/51045350/kotlin-do-not-call-super", "title": "Kotlin do not call super", "body": "<p>I have a class that extends another, but in this class I do not want to call the super constructor.\nHow can I solve it?</p>\n\n<p>Here is a snipet of my code</p>\n\n<pre><code>class SubarticlePagerAdapter(fragmentManager: FragmentManager, context: Context, var selectedArticleName: String) : ArticlePagerAdapter(fragmentManager, context) {\n\n    var subarticleDao: ArticleDao\n    var itemCount = 0\n\n    init {\n        ApplicationHelper().getApplication(context).appComponent.inject(this)\n        subarticleDao = ApplicationHelper().getApplication(context).subarticleDaoSession.articleDao\n        initBundles(context)\n    }\n\n    override fun initBundles(context: Context?) {\n        }\n    }\n</code></pre>\n\n<p>My problem, when this constructor is called, parent class constructor run first, and initBundles() will be called from there, but at that time subarticleDao and selectedArticleName are not set and I get exception.</p>\n"}, {"tags": ["elasticsearch", "intellij-idea", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "is_accepted": false, "score": 2, "last_activity_date": 1530023057, "creation_date": 1530023057, "answer_id": 51045272, "question_id": 51045201, "link": "https://stackoverflow.com/questions/51045201/using-the-elasticsearch-test-framework-in-intellij-how-to-resolve-the-jar-hell/51045272#51045272", "title": "Using the Elasticsearch test framework in IntelliJ, how to resolve the jar hell regarding idea_rt.jar?", "body": "<p>Since I was surprised by how long my classpath was, I tried to use the <code>shorten command line</code> option, which worked. </p>\n\n<p>Edit your run configuration and set the <code>Shorten command line</code> field to <code>JAR manifest</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "edited": false, "score": 0, "creation_date": 1550650360, "post_id": 53892026, "comment_id": 96341825, "body": "Thanks for your answer, I cannot verify this at the moment, but will accept it for now."}], "tags": [], "owner": {"reputation": 1191, "user_id": 6518514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jfjCMpOEc64/AAAAAAAAAAI/AAAAAAAAAAs/7iJK5lNOANA/photo.jpg?sz=128", "display_name": "Daniel Treiber", "link": "https://stackoverflow.com/users/6518514/daniel-treiber"}, "is_accepted": true, "score": 6, "last_activity_date": 1545436795, "creation_date": 1545436795, "answer_id": 53892026, "question_id": 51045201, "link": "https://stackoverflow.com/questions/51045201/using-the-elasticsearch-test-framework-in-intellij-how-to-resolve-the-jar-hell/53892026#53892026", "title": "Using the Elasticsearch test framework in IntelliJ, how to resolve the jar hell regarding idea_rt.jar?", "body": "<p>I had the same problem when I stumbled across: <a href=\"https://github.com/elastic/elasticsearch/blob/master/CONTRIBUTING.md#configuring-ides-and-running-tests\" rel=\"noreferrer\">https://github.com/elastic/elasticsearch/blob/master/CONTRIBUTING.md#configuring-ides-and-running-tests</a></p>\n\n<p>In particular, I had to set <code>idea.no.launcher=true</code> and restart my IntelliJ.</p>\n\n<blockquote>\n  <p>In order to run tests directly from IDEA 2017.2 and above, it is required to disable the IDEA run launcher in order to avoid idea_rt.jar causing \"jar hell\". This can be achieved by adding the -Didea.no.launcher=true JVM option. Alternatively, idea.no.launcher=true can be set in the idea.properties</p>\n</blockquote>\n\n<p>Also, you may need to:</p>\n\n<blockquote>\n  <p>For IDEA 2017.3 and above, in addition to the JVM option, you will need to go to Run->Edit Configurations->...->Defaults->JUnit and verify that the Shorten command line setting is set to user-local default: none. You may also need to remove ant-javafx.jar from your classpath if that is reported as a source of jar hell.</p>\n</blockquote>\n\n<p>Finally, make sure you have asserts on:</p>\n\n<blockquote>\n  <p>The Elasticsearch codebase makes heavy use of Java asserts and the test runner requires that assertions be enabled within the JVM. This can be accomplished by passing the flag -ea to the JVM on startup.</p>\n</blockquote>\n"}], "owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 1, "accepted_answer_id": 53892026, "answer_count": 2, "score": 3, "last_activity_date": 1611483062, "creation_date": 1530022860, "last_edit_date": 1611483062, "question_id": 51045201, "link": "https://stackoverflow.com/questions/51045201/using-the-elasticsearch-test-framework-in-intellij-how-to-resolve-the-jar-hell", "title": "Using the Elasticsearch test framework in IntelliJ, how to resolve the jar hell regarding idea_rt.jar?", "body": "<p>I am trying to use the provided Elasticsearch java test framework to do some integration testing on my es project.\nI have a very simple test setup in IntelliJ:</p>\n<pre><code>class FormTest : ESIntegTestCase() {\n\n    override fun nodeSettings(nodeOrdinal: Int): Settings = Settings.builder()\n        .put(super.nodeSettings(nodeOrdinal))\n        //.put(&quot;node.mode&quot;, &quot;network&quot;)\n        .build()\n\n    @org.junit.Test fun start() {\n        ensureGreen()\n    }\n}\n</code></pre>\n<p>However, when I run this, I get the following exception:</p>\n<pre><code>java.lang.RuntimeException: found jar hell in test classpath\n\n    at org.elasticsearch.bootstrap.BootstrapForTesting.&lt;clinit&gt;(BootstrapForTesting.java:92)\n    at org.elasticsearch.test.ESTestCase.&lt;clinit&gt;(ESTestCase.java:190)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$2.run(RandomizedRunner.java:592)\nCaused by: java.lang.IllegalStateException: jar hell!\nduplicate jar [C:\\Users\\user\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\181.5281.24\\lib\\idea_rt.jar] on classpath: ...\n    at org.elasticsearch.bootstrap.JarHell.parseClassPath(JarHell.java:142)\n    at org.elasticsearch.bootstrap.JarHell.parseClassPath(JarHell.java:98)\n    at org.elasticsearch.bootstrap.JarHell.checkJarHell(JarHell.java:89)\n    at org.elasticsearch.bootstrap.BootstrapForTesting.&lt;clinit&gt;(BootstrapForTesting.java:90)\n    ... 4 more\n</code></pre>\n<p>I found some ways to bypass the jar hell check, but how to solve the issue?</p>\n"}, {"tags": ["spring", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 2, "last_activity_date": 1530023183, "creation_date": 1530023183, "answer_id": 51045310, "question_id": 51045103, "link": "https://stackoverflow.com/questions/51045103/kotlin-spring-boot-default-value-for-int-field-from-json/51045310#51045310", "title": "Kotlin + Spring Boot default value for Int field from JSON", "body": "<p>I think that a bigger problem is that you are using the same class (your entity) for multiple purposes. This makes this class very unflexible since you can't adapt it to the needs of your REST endpoint and to the needs of Hibernate as well.</p>\n\n<p>What I'd do instead is having a boundary between the two (something like <a href=\"https://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html\" rel=\"nofollow noreferrer\">Clean Architecture</a> would suggest to do):</p>\n\n<pre><code>data class UserDTO(val id: Long?,\n        var username: String?,\n        var firstName: String?,\n        var lastName: String?,\n        var age: Int?) {\n\n    fun toUser() = User(\n        id = id ?: signalError(),\n        username = username ?: signalError(),\n        firstName = firstName ?: signalError(),\n        lastName = lastName ?: signalError(),\n        age = age ?: signalError())\n\n    private fun signalError() : Nothing = throw IllegalArgumentException(\n        \"Missing parameter in UserDTO.\")\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 697, "user_id": 3002444, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Sx6Ce.gif?s=128&g=1", "display_name": "8bra1nz", "link": "https://stackoverflow.com/users/3002444/8bra1nz"}, "edited": false, "score": 0, "creation_date": 1530094706, "post_id": 51045516, "comment_id": 89110386, "body": "It&#39;s not working and can&#39;t figure out why. Do I need some configurations of dependencies ?"}, {"owner": {"reputation": 1215, "user_id": 4481541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe7030cf38c1eacc3ce817ef07242e77?s=128&d=identicon&r=PG&f=1", "display_name": "LenglBoy", "link": "https://stackoverflow.com/users/4481541/lenglboy"}, "reply_to_user": {"reputation": 697, "user_id": 3002444, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Sx6Ce.gif?s=128&g=1", "display_name": "8bra1nz", "link": "https://stackoverflow.com/users/3002444/8bra1nz"}, "edited": false, "score": 0, "creation_date": 1530095014, "post_id": 51045516, "comment_id": 89110574, "body": "Kotlins type <code>Int</code> can&#180;t be null so if it isn&#180;t present but getting filled when parsing the body it is allways 0. So it is valid with <code>NotNull</code>. But if you use <code>@min @max</code> it should work.... I got no more idea, sry. It worked for me like this."}], "tags": [], "owner": {"reputation": 1215, "user_id": 4481541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe7030cf38c1eacc3ce817ef07242e77?s=128&d=identicon&r=PG&f=1", "display_name": "LenglBoy", "link": "https://stackoverflow.com/users/4481541/lenglboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1530023746, "creation_date": 1530023746, "answer_id": 51045516, "question_id": 51045103, "link": "https://stackoverflow.com/questions/51045103/kotlin-spring-boot-default-value-for-int-field-from-json/51045516#51045516", "title": "Kotlin + Spring Boot default value for Int field from JSON", "body": "<p>You should use <code>@Valid @RequestBody user: User</code> for the method parameter so spring is going to validate the given body. This should be done by default but just in case write it down and it\u00b4s better for new workers etc.</p>\n\n<p>Also @<code>Size</code> annotation does not support primitives or numeric vars. It just verifies a length of <code>String</code>, <code>Array</code>, <code>Map</code>, <code>List</code>... So just annotate it with <code>@Min</code> and <code>@Max</code>. So the default Value of 0 would not be valid anymore.</p>\n\n<p>Also for a nullable object to validate you can use <code>Integer</code> instead of <code>Int</code> so you can check just <code>@NotNull</code> if you want negatives or 0 be valid, too without getting default value 0.</p>\n"}, {"tags": [], "owner": {"reputation": 697, "user_id": 3002444, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Sx6Ce.gif?s=128&g=1", "display_name": "8bra1nz", "link": "https://stackoverflow.com/users/3002444/8bra1nz"}, "is_accepted": true, "score": 1, "last_activity_date": 1530096957, "creation_date": 1530096957, "answer_id": 51061016, "question_id": 51045103, "link": "https://stackoverflow.com/questions/51045103/kotlin-spring-boot-default-value-for-int-field-from-json/51061016#51061016", "title": "Kotlin + Spring Boot default value for Int field from JSON", "body": "<p>I solved the issue thanks to this <a href=\"https://stackoverflow.com/questions/36515094/kotlin-and-valid-spring-annotation\">post</a>,\nalso thanks to @Adam Arold for showing best practices.</p>\n\n<p>I created new <code>UserDTO</code> class:</p>\n\n<pre><code>import ai.leavingstone.flywayspringdemo.domain.User\nimport javax.validation.constraints.*\n\ndata class UserDTO(\n        private val id: Long = -1,\n\n        @field:NotBlank\n        @field:Size(min = 1, max = 100)\n        private val username: String,\n\n        @field:NotBlank\n        @field:Size(max = 50)\n        private val firstName: String,\n\n        @field:Size(max = 50)\n        private val lastName: String?,\n\n        @field:NotNull\n        private val age: Int?\n) {\n\n    fun toUser(): User = User(\n            id,\n            username,\n            firstName,\n            lastName,\n            age!!\n    )\n\n}\n</code></pre>\n\n<p>Before none of data validation annotations worked, after adding <code>@field</code> prefix it's working fine. <code>@NotNull</code> on <code>Int</code> is also working and default value for <code>id</code> field as well.</p>\n"}], "owner": {"reputation": 697, "user_id": 3002444, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Sx6Ce.gif?s=128&g=1", "display_name": "8bra1nz", "link": "https://stackoverflow.com/users/3002444/8bra1nz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1622, "favorite_count": 0, "accepted_answer_id": 51061016, "answer_count": 3, "score": 1, "last_activity_date": 1530096957, "creation_date": 1530022544, "last_edit_date": 1530022849, "question_id": 51045103, "link": "https://stackoverflow.com/questions/51045103/kotlin-spring-boot-default-value-for-int-field-from-json", "title": "Kotlin + Spring Boot default value for Int field from JSON", "body": "<p>I am writing simple CRUD with Kotlin + Spring Boot + Hibernate and came up with the issue:</p>\n\n<p>I have a field in <code>User</code> class called <code>age</code> and type <code>Int</code></p>\n\n<pre><code>import javax.persistence.*\nimport javax.validation.constraints.NotBlank\nimport javax.validation.constraints.Size\n\n@Entity\n@Table(name = \"users\")\ndata class User(\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        val id: Long,\n\n        @NotBlank\n        @Column(unique = true)\n        @Size(min = 1, max = 100)\n        val username: String,\n\n        @NotBlank\n        @Size(max = 50)\n        val firstName: String,\n\n        @Size(max = 50)\n        val lastName: String?,\n\n        @Size(min = 1, max = 100)\n        val age: Int\n)\n</code></pre>\n\n<p>Then I have post request which creates a user</p>\n\n<pre><code>@PostMapping\nfun post(@RequestBody user: User): User {\n    log.debug(\"POST: {}\", user)\n    return userRepository.save(user)\n}\n</code></pre>\n\n<p>The problem is that when I miss <code>age</code> field in JSON it doesn't respond with 400 error, but defaults to <code>0</code> instead.</p>\n\n<p>How do I make this field required ?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1530021088, "post_id": 51044493, "comment_id": 89080228, "body": "the best approach is to study the behavior of that system and implement logic that does the exact same thing"}], "answers": [{"tags": [], "owner": {"reputation": 7207, "user_id": 676427, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/5026f5975606c389bbb6831d20826cb0?s=128&d=identicon&r=PG", "display_name": "Robert Jack Will", "link": "https://stackoverflow.com/users/676427/robert-jack-will"}, "is_accepted": false, "score": 1, "last_activity_date": 1530023811, "creation_date": 1530023811, "answer_id": 51045535, "question_id": 51044493, "link": "https://stackoverflow.com/questions/51044493/boat-seat-arrangement-and-booking-like-redbus-using-kotlin/51045535#51045535", "title": "Boat Seat arrangement and booking like Redbus using Kotlin", "body": "<p>What I usually do when starting with a new language or framework is to follow the tutorial (which in this case would be <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-android.html\" rel=\"nofollow noreferrer\">that one</a>) and once I get the hang of it, just modify the tutorial app by adding my own features one by one.</p>\n\n<p>If there is a backend (planned or existing) to which you will send booking requests, also make sure to talk to the backend developers early and test some requests as soon as possible, so you have a working app from the start and can sell tickets even if seats can't yet be selected and all that fancy stuff.</p>\n\n<p>Sorry for the high-level answer that might better fit for software engineering or programmers stack exchange, but here we are.</p>\n"}], "owner": {"reputation": 2485, "user_id": 4083237, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3VloV2uI0_Y/AAAAAAAAAAI/AAAAAAAAAnI/PaERGCtqYvQ/photo.jpg?sz=128", "display_name": "AaRiF", "link": "https://stackoverflow.com/users/4083237/aarif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1530023811, "creation_date": 1530020874, "question_id": 51044493, "link": "https://stackoverflow.com/questions/51044493/boat-seat-arrangement-and-booking-like-redbus-using-kotlin", "title": "Boat Seat arrangement and booking like Redbus using Kotlin", "body": "<p>I am working on an android application for ferry boat seat booking, in which I need to implement the seat booking like Redbus. Please suggest me what is the best approach to implement the same.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 634, "user_id": 4273971, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yD7-VAHCPj0/AAAAAAAAAAI/AAAAAAAAAHs/ViQcsoD7ehI/photo.jpg?sz=128", "display_name": "kundan kamal", "link": "https://stackoverflow.com/users/4273971/kundan-kamal"}, "edited": false, "score": 0, "creation_date": 1530081650, "post_id": 51044135, "comment_id": 89102685, "body": "val ad:AlertDialog= builder.show()         btnStart.setOnClickListener(View.OnClickListener {           /*           * I want close dialog box from here.           *           * */             ad.dismiss()         }) Now its working for me."}], "answers": [{"tags": [], "owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "is_accepted": false, "score": 0, "last_activity_date": 1530020528, "creation_date": 1530020528, "answer_id": 51044380, "question_id": 51044135, "link": "https://stackoverflow.com/questions/51044135/custom-dialog-in-kotlin/51044380#51044380", "title": "Custom Dialog in Kotlin?", "body": "<p>Just set it to <code>null</code> if you want to hide it.</p>\n\n<pre><code>builder.setPositiveButton(null,null)\nbuilder.setNegativeButton(null,null)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 634, "user_id": 4273971, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yD7-VAHCPj0/AAAAAAAAAAI/AAAAAAAAAHs/ViQcsoD7ehI/photo.jpg?sz=128", "display_name": "kundan kamal", "link": "https://stackoverflow.com/users/4273971/kundan-kamal"}, "edited": false, "score": 0, "creation_date": 1530021971, "post_id": 51044385, "comment_id": 89080890, "body": "Indentation in Kotlin is crucial (I never keep the builder reference in my code). If You don&#39;t want to one line your Builder call and want to use reference, you can use <code>builder.create()</code> to obtain the dialog."}, {"owner": {"reputation": 634, "user_id": 4273971, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yD7-VAHCPj0/AAAAAAAAAAI/AAAAAAAAAHs/ViQcsoD7ehI/photo.jpg?sz=128", "display_name": "kundan kamal", "link": "https://stackoverflow.com/users/4273971/kundan-kamal"}, "edited": false, "score": 0, "creation_date": 1530075389, "post_id": 51044385, "comment_id": 89100237, "body": "val dialog : AlertDialog= builder.create()         btnStart.setOnClickListener(View.OnClickListener {           /*           * I want close dialog box from here.           *           * */             dialog.dismiss()          })  I have tried this one but its not working."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 634, "user_id": 4273971, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yD7-VAHCPj0/AAAAAAAAAAI/AAAAAAAAAHs/ViQcsoD7ehI/photo.jpg?sz=128", "display_name": "kundan kamal", "link": "https://stackoverflow.com/users/4273971/kundan-kamal"}, "edited": false, "score": 0, "creation_date": 1530091260, "post_id": 51044385, "comment_id": 89108116, "body": "did you replace last line with <code>dialog.show()</code> or created another dialog without listener with <code>builder.show()</code>"}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 2, "last_activity_date": 1530020534, "creation_date": 1530020534, "answer_id": 51044385, "question_id": 51044135, "link": "https://stackoverflow.com/questions/51044135/custom-dialog-in-kotlin/51044385#51044385", "title": "Custom Dialog in Kotlin?", "body": "<p>You need to use <code>create</code> to obtain dialog reference before showing it. That way it's easy to attach callback for dismissal:</p>\n\n<pre><code>// first create the dialog\nval dialog = AlertDialog.Builder(context)\n        .setView(view)\n        .create()\n// now we have a reference to dismiss it\nbtnStart.setOnClickListener {\n    dialog.dismiss()\n}\ndialog.show()\n</code></pre>\n"}], "owner": {"reputation": 634, "user_id": 4273971, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yD7-VAHCPj0/AAAAAAAAAAI/AAAAAAAAAHs/ViQcsoD7ehI/photo.jpg?sz=128", "display_name": "kundan kamal", "link": "https://stackoverflow.com/users/4273971/kundan-kamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5677, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1530020687, "creation_date": 1530019774, "last_edit_date": 1530020687, "question_id": 51044135, "link": "https://stackoverflow.com/questions/51044135/custom-dialog-in-kotlin", "title": "Custom Dialog in Kotlin?", "body": "<p>I want to close a dialog box after click on btnStart button. I don\u2019t want to apply negative and positive button on dialog.?</p>\n\n<pre><code>  val context = this\n        val builder = AlertDialog.Builder(context)\n        // Seems ok to inflate view with null rootView\n        val view = layoutInflater.inflate(R.layout.activity_dialog, null)\n        builder.setView(view)\n        val btnStart=view.findViewById(R.id.btn_start_progress_dialog) as Button\n\n        btnStart.setOnClickListener(View.OnClickListener {\n          /*\n          * I want close dialog box from here.\n          *\n          * */\n\n        })\n\n\n        builder.setNegativeButton(android.R.string.cancel) { dialog, p1 -&gt;\n            dialog.cancel()\n        }\n\n\n\n        builder.show()\n</code></pre>\n"}, {"tags": ["java", "kotlin", "garbage-collection", "rx-java2"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 2, "creation_date": 1530017284, "post_id": 51043221, "comment_id": 89077525, "body": "I don&#39;t know the specific implementation details, but in order for the <code>Observable</code> to receive emitted items, the emitter needs to keep a reference to it, so as long as the emitter is not garbage collected, the <code>Observable</code> won&#39;t be garbage collected as well."}, {"owner": {"reputation": 768, "user_id": 8204374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0yuoc.png?s=128&g=1", "display_name": "AnEnigmaticBug", "link": "https://stackoverflow.com/users/8204374/anenigmaticbug"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1530017661, "post_id": 51043221, "comment_id": 89077799, "body": "@user2340612 Thank you. It makes sense now. I&#39;ll wait for more answers just to be sure. But thank you very much. BTW I have mostly used C++ till 6-8 months ago. I&#39;m a bit experienced with Java and Kotlin. I am productive in them but once in a while, I find myself stumped about these things. I don&#39;t have a solid knowledge about GC. Can you recommend any sources to help me give more clarity in this matter?"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1530017834, "post_id": 51043221, "comment_id": 89077939, "body": "I read <a href=\"https://www.dynatrace.com/resources/ebooks/javabook/how-garbage-collection-works/\" rel=\"nofollow noreferrer\">this blog post</a> that was really interesting for me"}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 1, "creation_date": 1530024573, "post_id": 51043221, "comment_id": 89082629, "body": "Yet another \u201cwill the garbage collector break this program\u201d question\u2026 <b>No</b> the garbage collector is there, so the programmer can stop worrying about memory, not to have new worries about the garbage collector. There wouldn\u2019t be the slightest sense in adding a garbage collector that breaks programs by collecting objects which are still in use. Unless the documentation of <code>subscribe</code> says explicitly to use some kind of <i>weak</i> references to allow the object to get collected (which wouldn\u2019t make much sense either, but there are APIs doing such nonsensical things)."}, {"owner": {"reputation": 768, "user_id": 8204374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0yuoc.png?s=128&g=1", "display_name": "AnEnigmaticBug", "link": "https://stackoverflow.com/users/8204374/anenigmaticbug"}, "reply_to_user": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1530026392, "post_id": 51043221, "comment_id": 89083805, "body": "@Holger I had this doubt because as I mentioned, I&#39;m relatively new to garbage collected languages. I understand that an ideal GC shouldn&#39;t get in the way of a programmer but I didn&#39;t know that in real life also, such issues don&#39;t happen. I was just trying to look out for cases in which issues might occur. Just to be safe. Your comment made me see the point though. Thanks for your help."}, {"owner": {"reputation": 768, "user_id": 8204374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0yuoc.png?s=128&g=1", "display_name": "AnEnigmaticBug", "link": "https://stackoverflow.com/users/8204374/anenigmaticbug"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1530026471, "post_id": 51043221, "comment_id": 89083853, "body": "@user2340612 A big thanks for the blog post! Now, things are clearer for me :)"}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1530083616, "post_id": 51043221, "comment_id": 89103700, "body": "@NightMare well, all garbage collectors are conservative in that, if in doubt, they will keep an object if they can\u2019t prove whether it is unused. Even simple or naive gc algorithms like reference counting fulfill this property. In fact, even JVMs without a garbage collector fulfill this requirement. A garbage collector which reclaims an object that is still in use must be considered broken, as preventing precisely such scenarios is the very purpose of garbage collectors. In that regard it\u2019s funny that almost every day, a new \u201cwill gc break the following code\u201d question arrives at Stackoverflow\u2026"}], "answers": [{"comments": [{"owner": {"reputation": 768, "user_id": 8204374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0yuoc.png?s=128&g=1", "display_name": "AnEnigmaticBug", "link": "https://stackoverflow.com/users/8204374/anenigmaticbug"}, "edited": false, "score": 0, "creation_date": 1530023278, "post_id": 51043947, "comment_id": 89081789, "body": "Thanks for your reply. The way I see it is that calling <code>subscribe()</code> doesn&#39;t wait for the thread used by the <code>Observable</code> to finish while calling <code>blockingSubscribe()</code> waits for it. In my situation, the <code>Observable</code> will last for a significant chunk of time of my application. The issue is not whether the <code>Observable</code> will get to finish. It is whether it will be garbage collected before my application finishes with the application still depending on it. So, for the purposes of this question assume that the program will run for a long time(such that GC may run)."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 768, "user_id": 8204374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0yuoc.png?s=128&g=1", "display_name": "AnEnigmaticBug", "link": "https://stackoverflow.com/users/8204374/anenigmaticbug"}, "edited": false, "score": 0, "creation_date": 1530023566, "post_id": 51043947, "comment_id": 89081991, "body": "How do they depend on your <code>Observable</code>? Can you show us some more code?"}, {"owner": {"reputation": 768, "user_id": 8204374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0yuoc.png?s=128&g=1", "display_name": "AnEnigmaticBug", "link": "https://stackoverflow.com/users/8204374/anenigmaticbug"}, "edited": false, "score": 0, "creation_date": 1530023924, "post_id": 51043947, "comment_id": 89082213, "body": "I edited the question to add the details. If they&#39;re insufficient, please tell me."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 768, "user_id": 8204374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0yuoc.png?s=128&g=1", "display_name": "AnEnigmaticBug", "link": "https://stackoverflow.com/users/8204374/anenigmaticbug"}, "edited": false, "score": 1, "creation_date": 1530026570, "post_id": 51043947, "comment_id": 89083917, "body": "Cool, now I understand your problem. I fixed the answer."}, {"owner": {"reputation": 768, "user_id": 8204374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0yuoc.png?s=128&g=1", "display_name": "AnEnigmaticBug", "link": "https://stackoverflow.com/users/8204374/anenigmaticbug"}, "edited": false, "score": 1, "creation_date": 1530027391, "post_id": 51043947, "comment_id": 89084425, "body": "Thank you! This explanation is simply brilliant!! This makes it all crystal clear. I really hope you&#39;ve a nice day ahead. Cheers :)"}, {"owner": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "edited": false, "score": 2, "creation_date": 1530045889, "post_id": 51043947, "comment_id": 89093177, "body": "The sentence &quot;The Java garbage collector is intelligent enough to reclaim resources which have references to each other but not to the so called &quot;root reference&quot;:&quot; is wrong. It does not matter what the to be reclaimed resource refers <i>to</i>; what matter is what they&#39;re referred <i>from</i>. Kept are all objects transitively referred from a root reference (= reachable from root)."}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 3, "last_activity_date": 1530092548, "last_edit_date": 1530092548, "creation_date": 1530019205, "answer_id": 51043947, "question_id": 51043221, "link": "https://stackoverflow.com/questions/51043221/will-the-observable-stop-emitting-midway-in-this-scenario-due-to-being-garbage-c/51043947#51043947", "title": "Will the Observable stop emitting midway in this scenario due to being garbage collected?", "body": "<p>So after the <code>sleep</code> <code>main</code> exits and the emitting stops. If you try it with <code>Thread.sleep(1000)</code> you'll see that it only outputs</p>\n\n<pre><code>0\n1\n</code></pre>\n\n<p>The reason for this is that your program terminates.</p>\n\n<p>What you want here might be <code>blockingSubscribe</code>:</p>\n\n<pre><code>getObservable().blockingSubscribe { println(it) }\n</code></pre>\n\n<p>which will only return once the <code>Observable</code> is finished.</p>\n\n<p>Note that you can subscribe on 3 types of events: <code>onNext</code>, <code>onError</code> and <code>onComplete</code>:</p>\n\n<pre><code>getObservable().blockingSubscribe({\n    println(it)\n}, {\n    throw it\n}, {\n    println(\"finished\")\n})\n</code></pre>\n\n<p>Subscribing to all 3 will not change the fact that the subscriber runs out of scope so you'll still need to use <code>blockingSubscribe</code>. If you want to offload work between threads you can use <code>subscribeOn</code> and <code>observeOn</code>:</p>\n\n<pre><code>getObservable()\n        .subscribeOn(Schedulers.computation())\n        .observeOn(Schedulers.single())\n        .blockingSubscribe {\n            println(it)\n        }\n</code></pre>\n\n<p>You can read more about these <a href=\"https://stackoverflow.com/questions/44984730/rxandroid-whats-the-difference-between-subscribeon-and-observeon\">in this question</a>.</p>\n\n<p><strong>About garbage collection</strong>:</p>\n\n<p>The Java garbage collector is intelligent enough to reclaim resources which have references to each other but are not referenced by the so called \"root reference\":</p>\n\n<pre><code> (Root reference)\n\n (obj0) --&gt; (obj1)\n  \\          /\n   \\        /\n    \\      /\n    (obj2)\n\n^^^--- obj0, 1 and 2 are eligible for garbage collection\n</code></pre>\n\n<p>So why does your <code>Observable</code> keep running despite it being detached from other objects? The answer is that there are multiple types of \"root\" references in Java:</p>\n\n<ul>\n<li>Local variables</li>\n<li>Active Java threads</li>\n<li>Static variables</li>\n<li>JNI References </li>\n</ul>\n\n<p>In your case when you call <code>subscribe</code> on your <code>Observable</code> it offloads work to RxJava-s threads which are \"root\" references in themselves so even if you don't have a reference of any of those objects they will still keep running ad infinitum or until the <code>Thread</code>s terminate.</p>\n"}], "owner": {"reputation": 768, "user_id": 8204374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0yuoc.png?s=128&g=1", "display_name": "AnEnigmaticBug", "link": "https://stackoverflow.com/users/8204374/anenigmaticbug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 51043947, "answer_count": 1, "score": 1, "last_activity_date": 1530092548, "creation_date": 1530016958, "last_edit_date": 1530023892, "question_id": 51043221, "link": "https://stackoverflow.com/questions/51043221/will-the-observable-stop-emitting-midway-in-this-scenario-due-to-being-garbage-c", "title": "Will the Observable stop emitting midway in this scenario due to being garbage collected?", "body": "<p>I was wondering if the observable is eligible to be garbage collected in this scenario:</p>\n\n<pre><code>fun getObservable() = Observable.interval(500, TimeUnit.Milliseconds)\n\nfun main(args: Array&lt;String&gt;) {\n    getObservable().subscribe { println(it) }\n\n    //Just to be able to observe the output.\n    Thread.sleep(20*1000)\n}\n</code></pre>\n\n<p>It doesn't stop emitting. But I can't use it to be sure that it will not be GC'd after some time since it may just be that GC isn't triggering in this short span.</p>\n\n<p>My guess is that it should be GC'd. We don't have a reference to the <code>Observable</code> returned from the <code>getObservable()</code> function since we can't access it anymore. Calling the function again will give a different new <code>Observable</code>. Since we can't reach the <code>Observable</code> itself, the rest of the objects are also unreachable. So, I think all of this can be garbage collected at any random time.</p>\n\n<p>Some of my code in an Android App uses somewhat similar code. And it is an <code>Observable</code> that I hope will last as long as the <code>Application</code>. Since, GC will collect any garbage, I don't want my <code>Observable</code> to be GC'd in the middle of my app. So, please keep that in mind that I'm not looking for answers telling me whether it will be GC'd or not. What I care about is whether it can be GC'd.</p>\n\n<p>Thank you for taking out your time to help me.</p>\n\n<p>EDIT: To make the context clearer, here's the basic idea of the concerned code as I use it in my app.</p>\n\n<p>Repository.kt:</p>\n\n<pre><code>interface Repository {\n\n    //Other code.\n\n    fun getUserPrefs(): Flowable&lt;UserPreference&gt;\n}\n</code></pre>\n\n<p>MyViewModel.kt:</p>\n\n<pre><code>class MyViewModel(private val repository: Repository): ViewModel() {\n\n    init {\n        repository.getUserPrefs()\n            .subscribe { //Code with UI state side effects }\n    }\n}\n</code></pre>\n\n<p>In my app, Repository's implementation will be a singleton.For those not familiar with Android, just know that ViewModel's can last for pretty long time. It's work is basically to be responsible for managing UI state.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 1, "last_activity_date": 1530023622, "creation_date": 1530023622, "answer_id": 51045463, "question_id": 51042961, "link": "https://stackoverflow.com/questions/51042961/how-does-firebase-completion-callbacks-work-in-kotlin/51045463#51045463", "title": "How does Firebase completion callbacks work in Kotlin", "body": "<p>To solve this, you need to create your own callback to wait for Firebase to return you the data. To achieve this, first you need to create an <code>interface</code> like this:</p>\n\n<pre><code>interface FirebaseCallback {\n    fun onCallback(list: MutableList&lt;RecipeTemplate&gt;)\n}\n</code></pre>\n\n<p>Then you need to create a function that is actually getting the data from the database. This function should look like this:</p>\n\n<pre><code>fun readFirebaseData(firebaseCallback: FirebaseCallback) {\n    ref.addListenerForSingleValueEvent(object : ValueEventListener {\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n            val list = ArrayList&lt;RecipeTemplate&gt;()\n            for (ds in dataSnapshot.getChildren()) {\n                val recipeTemplate = ds.getValue(RecipeTemplate::class.java!!)\n                list.add(recipeTemplate)\n            }\n            firebaseCallback.onCallback(list)\n        }\n\n        override fun onCancelled(databaseError: DatabaseError) {}\n    })\n}\n</code></pre>\n\n<p>In the end just simply call <code>readData()</code> function and pass an instance of the <code>FirebaseCallback</code> interface as an argument wherever you need it like this:</p>\n\n<pre><code>readFirebaseData(object : FirebaseCallback {\n    override fun onCallback(list: MutableList&lt;RecipeTemplate&gt;) {\n        //Do what you need to do with your list\n    }\n})\n</code></pre>\n\n<p>This is the only way in which you can use that value outside <code>onDataChange()</code> function. </p>\n"}], "owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1530023622, "creation_date": 1530016120, "last_edit_date": 1530019575, "question_id": 51042961, "link": "https://stackoverflow.com/questions/51042961/how-does-firebase-completion-callbacks-work-in-kotlin", "title": "How does Firebase completion callbacks work in Kotlin", "body": "<p>I have successfully read data from <code>Firebase</code> and displayed it in an <code>imageView</code> asynchronously using a completion callback. Being new to programming, I'm still having a hard time understanding some of the mechanisms around callbacks and hope someone would be kind to shed some light to some of my questions. I have already read and watched multiple tutorials and explanations, but still struggle understanding some concepts. Here is my <code>Firebase</code> code:</p>\n\n<p>Part 1: </p>\n\n<pre><code>readFirebaseData(object: FirebaseCallback{\n        override fun onCallback(list: MutableList&lt;RecipeTemplate&gt;) {\n\n            glideVariable?.loadImageUrl(recipeArray[1].recipeImage) //WORKS!!\n        }\n})\n</code></pre>\n\n<p>Part 2: </p>\n\n<pre><code>fun readFirebaseData(firebaseCallback: FirebaseCallback) {\n    ref!!.addValueEventListener(object: ValueEventListener {\n        override fun onDataChange(snapshot: DataSnapshot?) {\n\n            for (item in snapshot!!.children) {\n                var tempRecipe = RecipeTemplate()\n                val image = item.child(\"recipeImageFirebase\")\n\n                tempRecipe.recipeImage = image.value.toString()\n                recipeArray.add(tempRecipe)\n            }\n            //INSERTING CODE HERE AT LATER STAGE... SEE LATER IN POST\n            firebaseCallback.onCallback(recipeArray)\n\n        }//END ON DATA CHANGE METHOD\n    }) //END FB\n}//END READ DATA\n</code></pre>\n\n<p>Part 3: </p>\n\n<pre><code>interface FirebaseCallback {\n    fun onCallback(list: MutableList&lt;RecipeTemplate&gt;)\n}\n</code></pre>\n\n<p>The main thing is that I don't understand the point of the interface, and the whole override function-part (PART 1). Thing is, I successfully did the very same thing just using a function call at the end of the <code>Firebase</code> code. It requires way less code and is easier to follow and understand, and from what I can tell, it does the same thing. It looks like this:</p>\n\n<p>Inside PART 2: </p>\n\n<pre><code>test(recipeArray) //SIMPLY CALLING A FUNCTION INSTEAD OF THE CODE PREVIOUSLY USED.\n//firebaseCallback.onCallback(recipeArray)\n</code></pre>\n\n<p>Then the test function itself:</p>\n\n<pre><code> fun test(list: MutableList&lt;RecipeTemplate&gt;) {\n    Log.d(\"TAGM\", \"DONE WITH FB\")\n    glideVariable?.loadImageUrl(recipeArray[3].recipeImage)    \n}\n</code></pre>\n\n<p>So, what am I missing here? Why use the whole interface callback thing?</p>\n"}, {"tags": ["java", "arraylist", "linked-list", "kotlin"], "comments": [{"owner": {"reputation": 517, "user_id": 2608485, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f04275422ac4d0ab952260cbde3c8167?s=128&d=identicon&r=PG", "display_name": "gokhan", "link": "https://stackoverflow.com/users/2608485/gokhan"}, "edited": false, "score": 0, "creation_date": 1530014840, "post_id": 51042337, "comment_id": 89075980, "body": "It is not obvious,  It inherited from the abstract list but implementation . You can see java version of Kotlin code If you use intellij (tools -&gt; Kotlin -&gt; show byte code )"}], "answers": [{"comments": [{"owner": {"reputation": 20514, "user_id": 2411243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jC999.png?s=128&g=1", "display_name": "Zabuzard", "link": "https://stackoverflow.com/users/2411243/zabuzard"}, "edited": false, "score": 0, "creation_date": 1530014910, "post_id": 51042450, "comment_id": 89076022, "body": "... which is not what is generally known as <code>ArrayList</code> (<i>dynamic array</i>). It&#39;s a fixed-size wrapper around an array."}], "tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 7, "last_activity_date": 1530015049, "last_edit_date": 1530015049, "creation_date": 1530014503, "answer_id": 51042450, "question_id": 51042337, "link": "https://stackoverflow.com/questions/51042337/is-list-in-kotlin-a-linkedlist/51042450#51042450", "title": "Is List in Kotlin a LinkedList?", "body": "<p>It's neither a <code>LinkedList</code> nor an <code>ArrayList</code>. Based on the <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.50/libraries/stdlib/jvm/src/kotlin/collections/CollectionsJVM.kt#L18\" rel=\"noreferrer\">source code</a>:</p>\n\n<pre><code>public fun &lt;T&gt; listOf(element: T): List&lt;T&gt; = java.util.Collections.singletonList(element)\n</code></pre>\n\n<p>or, for multiple elements:</p>\n\n<pre><code>public fun &lt;T&gt; listOf(vararg elements: T): List&lt;T&gt; = if (elements.size &gt; 0) elements.asList() else emptyList()\n</code></pre>\n\n<p>This last piece of code calls <code>ArraysUtilJVM</code>, which in turn calls <code>Arrays.asList()</code>, which returns an <code>Arrays.ArrayList</code> instance. However, that's an implementation detail and it might change in the future. The important thing is that the resulting object implements the <code>List</code> interface (i.e., it's immutable).</p>\n"}, {"comments": [{"owner": {"reputation": 20514, "user_id": 2411243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jC999.png?s=128&g=1", "display_name": "Zabuzard", "link": "https://stackoverflow.com/users/2411243/zabuzard"}, "edited": false, "score": 2, "creation_date": 1530015010, "post_id": 51042579, "comment_id": 89076088, "body": "I think it&#39;s important to highlight that <code>Arrays#ArrayList</code> is not what is generally known as <code>ArrayList</code> (<code>java.util.ArrayList</code>). It&#39;s just a fixed-size wrapper around an array. Which throws exceptions for methods like <code>add</code>."}, {"owner": {"reputation": 3559, "user_id": 3111877, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aJpSK.jpg?s=128&g=1", "display_name": "D_Alpha", "link": "https://stackoverflow.com/users/3111877/d-alpha"}, "reply_to_user": {"reputation": 20514, "user_id": 2411243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jC999.png?s=128&g=1", "display_name": "Zabuzard", "link": "https://stackoverflow.com/users/2411243/zabuzard"}, "edited": false, "score": 0, "creation_date": 1530015304, "post_id": 51042579, "comment_id": 89076274, "body": "@Zabuza you are right it throws exception but the official docs says &quot;Currently, the listOf method is implemented using an array list, but in future more memory-efficient fully immutable collection types could be returned that exploit the fact that they know they can&#39;t change.&quot;"}], "tags": [], "owner": {"reputation": 3559, "user_id": 3111877, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aJpSK.jpg?s=128&g=1", "display_name": "D_Alpha", "link": "https://stackoverflow.com/users/3111877/d-alpha"}, "is_accepted": false, "score": 4, "last_activity_date": 1530017050, "last_edit_date": 1530017050, "creation_date": 1530014920, "answer_id": 51042579, "question_id": 51042337, "link": "https://stackoverflow.com/questions/51042337/is-list-in-kotlin-a-linkedlist/51042579#51042579", "title": "Is List in Kotlin a LinkedList?", "body": "<blockquote>\n  <p>List in kotlin is not a LinkedList</p>\n  \n  <p>According to official docs- The Kotlin List type is an\n  interface that provides read-only operations like size, get and so on.\n  Like in Java, it inherits from Collection and that in turn inherits\n  from Iterable.</p>\n</blockquote>\n\n<p><strong>listOf()</strong> is a methods from the standard Kotlin library to create an <strong>immutable list</strong>. The <strong>listOf()</strong> method is implemented using an <strong>array list</strong> in kotlin.</p>\n\n<p>Follow this <a href=\"https://kotlinlang.org/docs/reference/collections.html\" rel=\"nofollow noreferrer\">official document link</a> for more details.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 12, "last_activity_date": 1530015400, "last_edit_date": 1530015400, "creation_date": 1530014978, "answer_id": 51042596, "question_id": 51042337, "link": "https://stackoverflow.com/questions/51042337/is-list-in-kotlin-a-linkedlist/51042596#51042596", "title": "Is List in Kotlin a LinkedList?", "body": "<p>If you use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/list-of.html\" rel=\"noreferrer\"><code>listOf</code></a>, you'll get some sort of <code>List</code> implementation, with the read-only <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html\" rel=\"noreferrer\"><code>List</code></a> interface, containing the elements you've provided as arguments. By using this function you're implying that you don't care about how it's implemented. <strike>In reality, this will probably still be a <code>java.util.ArrayList</code> under the hood if you're on the JVM.</strike> As @Zabuza pointed out in comments here, it's actually backed by an <code>Arrays.ArrayList</code>, which is a slightly different class.</p>\n\n<p>If you use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/mutable-list-of.html\" rel=\"noreferrer\"><code>mutableListOf</code></a>, again, you're only saying you want <em>something</em> containing your elements that implements <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html\" rel=\"noreferrer\"><code>MutableList</code></a>, but the implementation is up to the standard library. Again, this is currently backed by an <code>ArrayList</code>, but this is an implementation detail.</p>\n\n<p>There are a couple functions that explicitly return a more specific type, if you do need them. There's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/array-list-of.html\" rel=\"noreferrer\"><code>arrayListOf</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted-set-of.html\" rel=\"noreferrer\"><code>sortedSetOf</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/linked-map-of.html\" rel=\"noreferrer\"><code>linkedMapOf</code></a>, and a couple more - there doesn't happen to be a <code>linkedListOf</code>, but you could probably implement it yourself if you need one and don't want to use the <code>LinkedList</code> constructor.</p>\n\n<p>The more general <code>listOf</code> and <code>mutableListOf</code> are preferrable if there's a change you'll share your code between platforms later - as these are parts of the standard library, they can return an <code>ArrayList</code> on the JVM, but different platform specific implementations if you compile to JavaScript or Native.</p>\n"}, {"tags": [], "owner": {"reputation": 3453, "user_id": 838355, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/AIvqN.png?s=128&g=1", "display_name": "ir2pid", "link": "https://stackoverflow.com/users/838355/ir2pid"}, "is_accepted": false, "score": 1, "last_activity_date": 1530021794, "creation_date": 1530021794, "answer_id": 51044834, "question_id": 51042337, "link": "https://stackoverflow.com/questions/51042337/is-list-in-kotlin-a-linkedlist/51044834#51044834", "title": "Is List in Kotlin a LinkedList?", "body": "<p>Just tried printing the type,</p>\n\n<h2> *  for one element it's a SingletonList</h2>\n\n<pre><code>val list = listOf(\"a\")\nprintln(list.javaClass)\n</code></pre>\n\n<blockquote>\n  <p>output: class java.util.Collections$SingletonList</p>\n</blockquote>\n\n<h2> *  for more than one element it's an ArrayList</h2>\n\n<pre><code>val list = listOf(\"a\", \"b\", \"c\")\nprintln(list.javaClass)\n</code></pre>\n\n<blockquote>\n  <p>output: class java.util.Arrays$ArrayList</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 10567, "user_id": 541624, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uyz2B.jpg?s=128&g=1", "display_name": "ericn", "link": "https://stackoverflow.com/users/541624/ericn"}, "is_accepted": false, "score": 0, "last_activity_date": 1571454757, "last_edit_date": 1571454757, "creation_date": 1570005769, "answer_id": 58198101, "question_id": 51042337, "link": "https://stackoverflow.com/questions/51042337/is-list-in-kotlin-a-linkedlist/58198101#58198101", "title": "Is List in Kotlin a LinkedList?", "body": "<p>If you trace the source code</p>\n\n<p><strong>Collections.kt</strong></p>\n\n<pre><code>/**\n * Returns a new read-only list of given elements.  The returned list is serializable (JVM).\n * @sample samples.collections.Collections.Lists.readOnlyList\n */\npublic fun &lt;T&gt; listOf(vararg elements: T): List&lt;T&gt; = if (elements.size &gt; 0) elements.asList() else emptyList()\n</code></pre>\n\n<p>Then\n<strong>_Arrays.kt</strong></p>\n\n<pre><code>/**\n * Returns a [List] that wraps the original array.\n */\npublic expect fun &lt;T&gt; Array&lt;out T&gt;.asList(): List&lt;T&gt;\n</code></pre>\n\n<p>Then you'll find that it's Kotlin's Array, wrapped around by Kotlin's List interface, let's call it \"Kotlin's Array List\"</p>\n\n<p>\"Kotlin's Array List\" may or may not be the same as Java's array - I guess it is in a Java (JVM) or Android environment (Dalvik or ART)</p>\n"}], "owner": {"reputation": 259, "user_id": 8050497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aec1cc7eb7b5d4f42c0c2e26c7ab1688?s=128&d=identicon&r=PG&f=1", "display_name": "androidmanifest", "link": "https://stackoverflow.com/users/8050497/androidmanifest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11540, "favorite_count": 1, "answer_count": 5, "score": 12, "last_activity_date": 1571454757, "creation_date": 1530014190, "last_edit_date": 1530014797, "question_id": 51042337, "link": "https://stackoverflow.com/questions/51042337/is-list-in-kotlin-a-linkedlist", "title": "Is List in Kotlin a LinkedList?", "body": "<p>The most popular lists in Java are <code>ArrayList</code> and <code>LinkedList</code>.</p>\n\n<p>In Kotlin I see <code>ArrayList</code> and <code>List</code>. Is <code>List</code> actually a <code>LinkedList</code>? For example</p>\n\n<pre><code>val list = listof(\"1st\", \"2nd\")\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1399, "user_id": 3559908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d9d858e2647cbf007d4bcb9b151eec?s=128&d=identicon&r=PG&f=1", "display_name": "Vall0n", "link": "https://stackoverflow.com/users/3559908/vall0n"}, "edited": false, "score": 0, "creation_date": 1530013005, "post_id": 51041914, "comment_id": 89074830, "body": "In your layout <code>activity_main.xml</code> is no item with the id <code>fab</code>, and you get a null pointer at <code>val fab = findViewById&lt;View&gt;(R.id.fab) as FloatingActionButton</code> because fab is null."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1530013523, "post_id": 51041914, "comment_id": 89075127, "body": "If you&#39;re new to android/kotlin, you might want to learn <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">kotlin android extension plugin</a> to get rid of findViewById calls."}, {"owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1530013812, "post_id": 51041914, "comment_id": 89075339, "body": "@Pawel: Added your suggestion to OP in my answer."}, {"owner": {"reputation": 1, "user_id": 9601832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaed372b1cb43807248896d2dd8a380?s=128&d=identicon&r=PG&f=1", "display_name": "AshS", "link": "https://stackoverflow.com/users/9601832/ashs"}, "edited": false, "score": 0, "creation_date": 1530014075, "post_id": 51041914, "comment_id": 89075479, "body": "Sorry..I missed to mention that I need to add Floating Action button to only one fragment &#39;fragment_one&#39;. Adding &#39;fragment_one.xml&#39;"}, {"owner": {"reputation": 1399, "user_id": 3559908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d9d858e2647cbf007d4bcb9b151eec?s=128&d=identicon&r=PG&f=1", "display_name": "Vall0n", "link": "https://stackoverflow.com/users/3559908/vall0n"}, "edited": false, "score": 0, "creation_date": 1530018632, "post_id": 51041914, "comment_id": 89078468, "body": "@AshS Then you should bind the <code>fragment_one.xml</code> to your fragment class and instantiate the fab button and its function there."}, {"owner": {"reputation": 1, "user_id": 9601832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaed372b1cb43807248896d2dd8a380?s=128&d=identicon&r=PG&f=1", "display_name": "AshS", "link": "https://stackoverflow.com/users/9601832/ashs"}, "edited": false, "score": 0, "creation_date": 1530031359, "post_id": 51041914, "comment_id": 89086666, "body": "Tried to initiate fab button in fragment class but its giving errror &#39;Unresolved reference &#39;findViewById&#39; ."}, {"owner": {"reputation": 1399, "user_id": 3559908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d9d858e2647cbf007d4bcb9b151eec?s=128&d=identicon&r=PG&f=1", "display_name": "Vall0n", "link": "https://stackoverflow.com/users/3559908/vall0n"}, "edited": false, "score": 0, "creation_date": 1530080704, "post_id": 51041914, "comment_id": 89102274, "body": "@AshS Have a look at <a href=\"https://stackoverflow.com/questions/44181485/unresolved-reference-findviewbyid-in-kotlin\">this question</a> regarding the <code>Unresolved reference &#39;findViewById</code>."}], "answers": [{"tags": [], "owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "is_accepted": false, "score": 4, "last_activity_date": 1530013704, "last_edit_date": 1530013704, "creation_date": 1530013122, "answer_id": 51042002, "question_id": 51041914, "link": "https://stackoverflow.com/questions/51041914/kotlin-typecastexception-null-cannot-be-cast-to-non-null-type-android-support-d/51042002#51042002", "title": "kotlin.TypeCastException: null cannot be cast to non-null type android.support.design.widget.FloatingActionButton", "body": "<p>You need to add a <code>FloatingActionButton</code> in your xml with id <code>fab</code> which is causing it to be null.</p>\n\n<p>Also, when casting something that could be null to a type which is non-null (here FloatingActionButton) you need to use <code>?</code></p>\n\n<p>Try </p>\n\n<pre><code>val fab = findViewById&lt;View&gt;(R.id.fab) as? FloatingActionButton\n</code></pre>\n\n<p>For more information read <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#safe-nullable-cast-operator\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/typecasts.html#safe-nullable-cast-operator</a></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>@Pawel's comment is really helpful. Read <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html</a> to get rid of <code>findViewById</code> calls which is the main reason of NPE.</p>\n"}], "owner": {"reputation": 1, "user_id": 9601832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaed372b1cb43807248896d2dd8a380?s=128&d=identicon&r=PG&f=1", "display_name": "AshS", "link": "https://stackoverflow.com/users/9601832/ashs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3264, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530014196, "creation_date": 1530012813, "last_edit_date": 1530014196, "question_id": 51041914, "link": "https://stackoverflow.com/questions/51041914/kotlin-typecastexception-null-cannot-be-cast-to-non-null-type-android-support-d", "title": "kotlin.TypeCastException: null cannot be cast to non-null type android.support.design.widget.FloatingActionButton", "body": "<p>I know this has been asked many times but i am really not able to understand why I am not able to add Floating Action Button in one of the fragments of TabLayout.</p>\n\n<p>It is giving me error as 'kotlin.TypeCastException: null cannot be cast to non-null type android.support.design.widget.FloatingActionButton' in my logcat.</p>\n\n<p>I am new to android and app development and really appreciate help here as I have already wasted my 3 days</p>\n\n<p>MainActivity Code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val fab = findViewById&lt;View&gt;(R.id.fab) as FloatingActionButton\n\n    fab.setOnClickListener { view -&gt;\n        Snackbar.make(view, \"Replace with your own action\",\n                Snackbar.LENGTH_LONG)\n                .setAction(\"Action\", null).show()\n    }\n    initToolbar()\n\n\n    val tabLayout: TabLayout = findViewById(R.id.tab_layout)\n\n    val viewPager: ViewPager = findViewById(R.id.view_pager)\n\n    val adapter = SampleAdapter(supportFragmentManager)\n\n\n    viewPager.adapter = adapter\n\n\n\n    tabLayout.setupWithViewPager(viewPager)\n\n    tabLayout.addOnTabSelectedListener(object : \n TabLayout.OnTabSelectedListener {\n        override fun onTabSelected(tab: TabLayout.Tab) {\n\n        }\n\n        override fun onTabUnselected(tab: TabLayout.Tab) {\n\n        }\n\n        override fun onTabReselected(tab: TabLayout.Tab) {\n\n        }\n    })\n\n\n    }\n\n  private fun initToolbar() {\n    val toolbar: Toolbar = findViewById(R.id.toolbar)\n    setSupportActionBar(toolbar)\n    supportActionBar!!.title = \"Don't Forget\"\n  }\n  }\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:id=\"@+id/main_content\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:fitsSystemWindows=\"true\"&gt;\n\n&lt;android.support.design.widget.AppBarLayout\n    android:id=\"@+id/appbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n\n    android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        android:background=\"?attr/colorPrimary\"\n        app:contentInsetStartWithNavigation=\"0dp\"\n        app:layout_scrollFlags=\"scroll|enterAlways\"\n        app:popupTheme=\"@style/AppTheme.PopupOverlay\"/&gt;\n\n    &lt;android.support.design.widget.TabLayout\n        android:id=\"@+id/tab_layout\"\n        style=\"@style/CustomTabLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        android:layout_gravity=\"left\"\n        android:background=\"@color/colorPrimary\"\n        app:tabGravity=\"fill\"\n        app:tabMode=\"fixed\"\n        app:tabTextAppearance=\"@style/TextAppearance.AppCompat\" /&gt;\n\n&lt;/android.support.design.widget.AppBarLayout&gt;\n\n&lt;android.support.v4.view.ViewPager\n    android:id=\"@+id/view_pager\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"/&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>logcat:</p>\n\n<pre><code>  java.lang.RuntimeException: Unable to start activity \n  ComponentInfo{com.ashwinis.mylistapp/com.ashwinis.mylistapp.MainActivity}: \n  kotlin.TypeCastException: null cannot be cast to non-null type \n  android.support.design.widget.FloatingActionButton\n at \n android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n at android.app.ActivityThread.-wrap11(Unknown Source:0)\n at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n at android.os.Handler.dispatchMessage(Handler.java:105)\n at android.os.Looper.loop(Looper.java:164)\n at android.app.ActivityThread.main(ActivityThread.java:6541)\n at java.lang.reflect.Method.invoke(Native Method)\n at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n Caused by: kotlin.TypeCastException: null cannot be cast to non-null type \n android.support.design.widget.FloatingActionButton\n at com.ashwinis.mylistapp.MainActivity.onCreate(MainActivity.kt:25)\n at android.app.Activity.performCreate(Activity.java:6975)\n at \nandroid.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\u00a0\nat android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\u00a0\nat android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\nat android.os.Looper.loop(Looper.java:164)\u00a0\nat android.app.ActivityThread.main(ActivityThread.java:6541)\u00a0\nat java.lang.reflect.Method.invoke(Native Method)\u00a0\nat com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0 \n</code></pre>\n\n<p>fragment_one.xml</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;TextView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"500dp\"\n    android:gravity=\"center_vertical|center_horizontal\"\n    android:text=\"FragmentOne\" /&gt;\n\n&lt;android.support.design.widget.FloatingActionButton\n    android:id=\"@+id/fab\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"bottom|end\"\n    android:layout_marginBottom=\"16dp\"\n    android:layout_marginEnd=\"16dp\"\n    app:backgroundTint=\"@color/colorAccent\"\n    app:fabSize=\"mini\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:srcCompat=\"@android:drawable/ic_input_add\" /&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["java", "spring", "kotlin"], "comments": [{"owner": {"reputation": 189, "user_id": 1355081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35113b8fd81975f3e4e4a3b931f9323e?s=128&d=identicon&r=PG", "display_name": "wholenewstrain", "link": "https://stackoverflow.com/users/1355081/wholenewstrain"}, "edited": false, "score": 0, "creation_date": 1545183043, "post_id": 51041339, "comment_id": 94534819, "body": "org.springframework.lang.NonNullApi Should be used at package level in association with org.springframework.lang.Nullable annotations at parameter and return value level.  org.springframework.lang.Nullable Should be used at parameters, return values and optionally field level in association with NonNullApi package-level annotations."}, {"owner": {"reputation": 22111, "user_id": 472109, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=128&d=identicon&r=PG", "display_name": "Geoffrey De Smet", "link": "https://stackoverflow.com/users/472109/geoffrey-de-smet"}, "reply_to_user": {"reputation": 189, "user_id": 1355081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35113b8fd81975f3e4e4a3b931f9323e?s=128&d=identicon&r=PG", "display_name": "wholenewstrain", "link": "https://stackoverflow.com/users/1355081/wholenewstrain"}, "edited": false, "score": 0, "creation_date": 1588061076, "post_id": 51041339, "comment_id": 108747283, "body": "I need a neutral jar. I am not going to drag in spring from <code>optaplanner-core</code> (only in <code>optaplanner-spring-boot-starter</code> which provides seamless integration)"}, {"owner": {"reputation": 343, "user_id": 6794063, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Pu8XWYwITes/AAAAAAAAAAI/AAAAAAAAABI/rMGKOXE-33k/photo.jpg?sz=128", "display_name": "Luk&#225;\u0161 Petrovick&#253;", "link": "https://stackoverflow.com/users/6794063/luk%c3%a1%c5%a1-petrovick%c3%bd"}, "edited": false, "score": 0, "creation_date": 1593774534, "post_id": 51041339, "comment_id": 110903585, "body": "The following answer suggests that JSR 305 is not the way to go, as it is &quot;Dormant&quot;: <a href=\"https://stackoverflow.com/questions/2289694/what-is-the-status-of-jsr-305\" title=\"what is the status of jsr 305\">stackoverflow.com/questions/2289694/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 22111, "user_id": 472109, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=128&d=identicon&r=PG", "display_name": "Geoffrey De Smet", "link": "https://stackoverflow.com/users/472109/geoffrey-de-smet"}, "edited": false, "score": 2, "creation_date": 1530615759, "post_id": 51041607, "comment_id": 89289221, "body": "Looks like findbugs in dead, replaced by spotbugs (by the community), which decided to no longer include those annotations: <a href=\"https://github.com/spotbugs/spotbugs/pull/180\" rel=\"nofollow noreferrer\">github.com/spotbugs/spotbugs/pull/180</a>"}, {"owner": {"reputation": 818, "user_id": 1531945, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/423066350bace86d606e2050f6a871ac?s=128&d=identicon&r=PG", "display_name": "Konstantin Pelepelin", "link": "https://stackoverflow.com/users/1531945/konstantin-pelepelin"}, "edited": false, "score": 2, "creation_date": 1537971410, "post_id": 51041607, "comment_id": 91979282, "body": "I would disagree that findbugs is properly maintained"}, {"owner": {"reputation": 676, "user_id": 2028853, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Dyj38.png?s=128&g=1", "display_name": "Liggliluff", "link": "https://stackoverflow.com/users/2028853/liggliluff"}, "edited": false, "score": 1, "creation_date": 1540467008, "post_id": 51041607, "comment_id": 92881499, "body": "I would like to have a guide to how to install it. What to download, where to put it, how to make it work."}], "tags": [], "owner": {"reputation": 3218, "user_id": 6650970, "user_type": "registered", "profile_image": "https://graph.facebook.com/638903801/picture?type=large", "display_name": "Piotr Wilkin", "link": "https://stackoverflow.com/users/6650970/piotr-wilkin"}, "is_accepted": false, "score": 3, "last_activity_date": 1530011836, "creation_date": 1530011836, "answer_id": 51041607, "question_id": 51041339, "link": "https://stackoverflow.com/questions/51041339/using-javax-annotation-nonnull-which-java-jar-dependency-to-get-it-from/51041607#51041607", "title": "Using javax.annotation.Nonnull: which java jar dependency to get it from?", "body": "<p>I would say that <a href=\"https://mvnrepository.com/artifact/com.google.code.findbugs/jsr305\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.code.findbugs/jsr305</a> should be your artifact of choice for this, as it's probably the most commonly used and properly maintained.</p>\n"}], "owner": {"reputation": 22111, "user_id": 472109, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=128&d=identicon&r=PG", "display_name": "Geoffrey De Smet", "link": "https://stackoverflow.com/users/472109/geoffrey-de-smet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13072, "favorite_count": 0, "closed_date": 1530294328, "answer_count": 1, "score": 8, "last_activity_date": 1530011836, "creation_date": 1530011038, "question_id": 51041339, "link": "https://stackoverflow.com/questions/51041339/using-javax-annotation-nonnull-which-java-jar-dependency-to-get-it-from", "closed_reason": "Duplicate", "title": "Using javax.annotation.Nonnull: which java jar dependency to get it from?", "body": "<p>In our open source constraint solver (<a href=\"https://www.optaplanner.org/\" rel=\"noreferrer\">OptaPlanner</a>), I want to use <code>@NonNull</code> to make it more Kotlin friendly and clearer to use from Java, too.</p>\n\n<p><code>spring-core</code> already uses <code>@NonNull</code>, <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-core/src/main/java/org/springframework/lang/NonNull.java#L25\" rel=\"noreferrer\">for example in this code</a>. They effectively state for every method parameter if it's nullable or not, <a href=\"https://youtu.be/fBHVYWxCnmA?t=44m8s\" rel=\"noreferrer\">as explained here</a>.</p>\n\n<p><strong>Which maven/gradle dependency should I use to have the class <code>javax.annotation.Nonnull</code> in my classpath?</strong> Which one do the spring guys use? For example, I don't see the findbugs JSR-305 jar <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-core/spring-core.gradle#L65\" rel=\"noreferrer\">in their dependency list</a>.</p>\n\n<p>(And can I have it as an optional dependency to avoid bloating my user's classpath?)</p>\n"}, {"tags": ["android", "testing", "intellij-idea", "kotlin", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 2886, "user_id": 2960034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2155e960e7c2119d24d00cffcfa03368?s=128&d=identicon&r=PG&f=1", "display_name": "y.bedrov", "link": "https://stackoverflow.com/users/2960034/y-bedrov"}, "edited": false, "score": 0, "creation_date": 1530013192, "post_id": 51041195, "comment_id": 89074926, "body": "Issue is reported on YouTrack: <a href=\"https://youtrack.jetbrains.com/issue/KT-23884\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-23884</a>"}, {"owner": {"reputation": 893, "user_id": 5326737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/q2bl9.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/5326737/andy"}, "reply_to_user": {"reputation": 2886, "user_id": 2960034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2155e960e7c2119d24d00cffcfa03368?s=128&d=identicon&r=PG&f=1", "display_name": "y.bedrov", "link": "https://stackoverflow.com/users/2960034/y-bedrov"}, "edited": false, "score": 0, "creation_date": 1530014470, "post_id": 51041195, "comment_id": 89075744, "body": "@y.bedrov Thank you for the link, I have however found another solution which I believe should be the correct approach. Further explanation is in the answer I have posted."}], "answers": [{"tags": [], "owner": {"reputation": 893, "user_id": 5326737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/q2bl9.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/5326737/andy"}, "is_accepted": true, "score": 1, "last_activity_date": 1530014388, "creation_date": 1530014388, "answer_id": 51042408, "question_id": 51041195, "link": "https://stackoverflow.com/questions/51041195/running-multi-platform-kotlin-test-in-intellij-produces-no-jdk-specified-error/51042408#51042408", "title": "Running multi platform Kotlin test in IntelliJ produces No JDK specified error", "body": "<p>Found the solution.</p>\n\n<p>Just like it does not make sense to execute tests using Gradle in the common module alone, e.g. <code>./gradlew :common:test</code> and the tests need to be executed for a specific platform <code>./gradlew :android:test</code>, because the common module might contain <code>expect</code>ed declarations which are supposed to be implemented per platform using the <code>actual</code> keyword, it also does not make sense to debug in the common module directly.</p>\n\n<p>Instead, for such purposes, the test to be debugged must be placed in a specific platform module, for my purpose I have chosen the Android module, and then it can be executed and debugged.</p>\n\n<p>As I have mentioned, this approach is necessary because in the Android module the <code>expect</code>ed structures are actually replaced by the <code>actual</code> implementations.</p>\n"}], "owner": {"reputation": 893, "user_id": 5326737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/q2bl9.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/5326737/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 559, "favorite_count": 0, "accepted_answer_id": 51042408, "answer_count": 1, "score": 0, "last_activity_date": 1530019737, "creation_date": 1530010608, "last_edit_date": 1530019737, "question_id": 51041195, "link": "https://stackoverflow.com/questions/51041195/running-multi-platform-kotlin-test-in-intellij-produces-no-jdk-specified-error", "title": "Running multi platform Kotlin test in IntelliJ produces No JDK specified error", "body": "<p>I have several tests in common module for multi platform Kotlin project. When I execute those tests using gradle, e.g. <code>./gradlew :android:test</code>, they all go through and the tests run.</p>\n\n<p>I have now encountered a more complicated problem where I would like to debug an actual test in IntelliJ. Unfortunately, upon selecting the debug option in IntelliJ, I get an <em>No JDK specified</em> error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rEInz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rEInz.png\" alt=\"No JDK specified\"></a></p>\n\n<p>I am using the following dependencies for testing:</p>\n\n<pre><code>testImplementation \"org.jetbrains.kotlin:kotlin-test-annotations-common:$kotlin_version\"\ntestImplementation \"org.jetbrains.kotlin:kotlin-test-common:$kotlin_version\"\n</code></pre>\n\n<p>with <code>$kotlin_version</code> being <strong>1.2.41</strong>.</p>\n\n<p>The common module settings looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hho42.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hho42.png\" alt=\"Common module settings\"></a></p>\n\n<p>SDKs section also correctly recognises JDKs:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6qQnZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6qQnZ.png\" alt=\"SDKs\"></a></p>\n\n<p>I have tried changing the Module SDK from Kotlin SDK to java, however IntelliJ then wants me to require jUnit for test execution, which I would prefer not to, if possible.</p>\n\n<p>Is there a way how to make the debugger run in IntelliJ for the Kotlin code?</p>\n"}, {"tags": ["android", "notifications", "kotlin", "alarmmanager", "android-pendingintent"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1530013946, "post_id": 51040693, "comment_id": 89075405, "body": "I don&#39;t understand your broadcast receiver, is intent passed to <code>onReceive</code> useless since you never read it?"}, {"owner": {"reputation": 1448, "user_id": 4727468, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/964118d14cfb0328d9c6138981461e21?s=128&d=identicon&r=PG&f=1", "display_name": "richc", "link": "https://stackoverflow.com/users/4727468/richc"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1530014564, "post_id": 51040693, "comment_id": 89075804, "body": "if i can work out which pendingIntent caused onReceive then I can get the correct extras from the intent."}], "owner": {"reputation": 1448, "user_id": 4727468, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/964118d14cfb0328d9c6138981461e21?s=128&d=identicon&r=PG&f=1", "display_name": "richc", "link": "https://stackoverflow.com/users/4727468/richc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530009092, "creation_date": 1530009092, "question_id": 51040693, "link": "https://stackoverflow.com/questions/51040693/how-to-handle-multiple-alarms-in-broadcast-receiver-android-kotlin", "title": "How to handle multiple alarms in Broadcast receiver Android Kotlin", "body": "<p>My exercise app allows the user to create multiple notification alerts to prompt them to exercise. I am using a TimePickerDialog to set the alarms. I am adding the details of the alarms to the AlarmReceivers Intent using a bundle. After researching this on StackO I think I have to use different Pending intents with different request codes in order to have multiple alarms.</p>\n\n<p>My question is how do I know in AlarmReceiver which pending intent has caused onReceive? Can I use the request code of the pending intent to determine which one it was? Having an id in the intent bundle doesn't help because it could contain both alarm extras.</p>\n\n<p>Thanks in advance if you can explain how this should work.... </p>\n\n<pre><code>class TimePickerFragment : DialogFragment(), TimePickerDialog.OnTimeSetListener {\n\nlateinit var alarmManager: AlarmManager\nval intent = Intent(activity, AlarmReceiver::class.java)\nval bundle = Bundle()\n\noverride fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n\n    // use the current time as default values for the picker\n    val c = Calendar.getInstance()\n    val hour = c.get(Calendar.HOUR_OF_DAY)\n    val minute = c.get(Calendar.MINUTE)\n\n    // create a new instance of the TimePicker dialogue and return it\n    return TimePickerDialog(getActivity(), this, hour, minute,\n            DateFormat.is24HourFormat(getActivity())\n            )\noverride fun onTimeSet(view: TimePicker, hourOfDay: Int, minute: Int) {\n\n    val mTag = tag\n    if (mTag == \"time1\") {\n\n        // add alarm to the intent bundle\n        bundle.putString(\"Alarm1\", \"This is the ${hourOfDay}:${minute} alert\")\n        intent.putExtras(bundle)\n        setAlarm(hourOfDay,minute,intent, 1) //request code 1\n    }\n\n   if (mTag == \"time2\") {\n        // add alarm to the intent bundle\n        bundle.putString(\"Alarm2\", \"This is the ${hourOfDay}:${minute} alert\")\n        intent.putExtras(bundle)\n        setAlarm(hourOfDay,minute,intent, 2) //request code 2\n    }\n}\n\nfun setAlarm(hourOfDay: Int, minute: Int, intent: Intent, requestCode: Int) {\n\n    alarmManager = activity.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n    val pendingIntent = PendingIntent.getBroadcast(this.activity, requestCode, intent,PendingIntent.FLAG_UPDATE_CURRENT)\n\n    val calendar = Calendar.getInstance()\n    calendar.set(Calendar.HOUR_OF_DAY, hourOfDay)\n    calendar.set(Calendar.MINUTE, minute)\n    calendar.set(Calendar.SECOND, 0)\n    alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.timeInMillis, AlarmManager.INTERVAL_DAY, pendingIntent)\n}\n</code></pre>\n\n<p>And in AlarmReceiver class:</p>\n\n<pre><code>class AlarmReceiver : BroadcastReceiver() \n\n{override fun onReceive(context: Context, intent: Intent) {\n\n        val intent = Intent(context, AlarmReceiver::class.java)\n        intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOP\n\n        val pendingIntent = val pendingIntent = PendingIntent.getBroadcast(context, 0, intent,PendingIntent.FLAG_UPDATE_CURRENT) \n// HOW TO TEST WHICH PENDING INTENT THIS IS?\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "kotlin", "spring-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 9618213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c316470e708f06bca6774905d19c0b01?s=128&d=identicon&r=PG&f=1", "display_name": "chattambigeek", "link": "https://stackoverflow.com/users/9618213/chattambigeek"}, "edited": false, "score": 0, "creation_date": 1530009265, "post_id": 51040620, "comment_id": 89072513, "body": "curly braces are optional in Kotlin"}, {"owner": {"reputation": 356, "user_id": 1990624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134a2c09df6f6394667e71cc3fb4a133?s=128&d=identicon&r=PG", "display_name": "Vi&#231;", "link": "https://stackoverflow.com/users/1990624/vi%c3%a7"}, "reply_to_user": {"reputation": 101, "user_id": 9618213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c316470e708f06bca6774905d19c0b01?s=128&d=identicon&r=PG&f=1", "display_name": "chattambigeek", "link": "https://stackoverflow.com/users/9618213/chattambigeek"}, "edited": false, "score": 1, "creation_date": 1530009827, "post_id": 51040620, "comment_id": 89072860, "body": "@chattambigeek from the <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">Kotlin reference documentation</a>: <i>&quot;if the class <b>has no body</b>, curly braces can be omitted.&quot;</i>"}], "tags": [], "owner": {"reputation": 20034, "user_id": 5380322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-6cs1r0Ov08I/AAAAAAAAAAI/AAAAAAAACBI/rQyZyFwtZmE/photo.jpg?sz=128", "display_name": "Cepr0", "link": "https://stackoverflow.com/users/5380322/cepr0"}, "is_accepted": true, "score": 6, "last_activity_date": 1530008861, "creation_date": 1530008861, "answer_id": 51040620, "question_id": 51040399, "link": "https://stackoverflow.com/questions/51040399/spring-restcontroller-is-not-mapping-url-with-kotlin/51040620#51040620", "title": "Spring @RestController is not mapping URL with Kotlin", "body": "<p>You have to include your function into the controller class:</p>\n\n<pre><code>@RestController\nclass IslandController {\n\n    @GetMapping(\"/greeting\")\n    fun getMessage() = \"hello world\"\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 9618213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c316470e708f06bca6774905d19c0b01?s=128&d=identicon&r=PG&f=1", "display_name": "chattambigeek", "link": "https://stackoverflow.com/users/9618213/chattambigeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 1, "accepted_answer_id": 51040620, "answer_count": 1, "score": 1, "last_activity_date": 1530015592, "creation_date": 1530008185, "last_edit_date": 1530015592, "question_id": 51040399, "link": "https://stackoverflow.com/questions/51040399/spring-restcontroller-is-not-mapping-url-with-kotlin", "title": "Spring @RestController is not mapping URL with Kotlin", "body": "<p>I've created a <strong>Kotlin gradle</strong> project using <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring IO</a>. </p>\n\n<p>Created a <code>Controller</code> class with a method to return a <code>String</code>. </p>\n\n<p>When I build and run the project I'm getting 404 error. Looking at the logs I don't see the URL mapping to the method. </p>\n\n<p>If I use Java instead of Kotlin it works fine. I am using JDK 10.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>@RestController\nclass IslandController\n\n@GetMapping(\"/greeting\")\nfun getMessage() =\n\n        \"hello world\"\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "owner": {"reputation": 21, "user_id": 9736095, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SlQiJ9XEczg/AAAAAAAAAAI/AAAAAAAAAEI/xqZjgt2lm-g/photo.jpg?sz=128", "display_name": "John Nakulov", "link": "https://stackoverflow.com/users/9736095/john-nakulov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1530007815, "creation_date": 1530007815, "question_id": 51040274, "link": "https://stackoverflow.com/questions/51040274/drag-and-drop-from-recycle-to-another-view", "title": "Drag and drop from recycle to another view", "body": "<p>I need a help. I have a case such at <a href=\"https://i.stack.imgur.com/5KnUR.png\" rel=\"nofollow noreferrer\">pic</a></p>\n\n<p>I need to release drag and drop function from recycler to my custom view. My custom view is a container with four another views inside. This views have two types: empty and view that contains item from recycle. And when user dragging item from recycler I need change background color of some view in my container when view which I dragging moving inside bounds of view. So I know that OnDragListener handling events only inside parent view. Then I wrote two OnDragListeners for items in recycler and for my container view like: </p>\n\n<pre><code>interface DragItemListener {\n        fun onDragItem(item: item?)\n}\n\n\nclass DragController(val item: Item) : OnDragListener {\n\n        override fun onDrag(v: View, event: DragEvent): Boolean {\n\n            val action = event.action\n\n            when (action) {\n                DragEvent.ACTION_DRAG_STARTED -&gt; {\n                    dragItemListener?.onDragItem(item)\n                }\n                DragEvent.ACTION_DROP -&gt; {\n                    dragItemListener?.onDragItem(null)\n                }\n            }\n\n            return true\n        }\n\n    }\n\n\nclass MyCustomContainer(context: Context) : LinearLayout(context) {\n\ninit {\n   this.setOnDragListener(DraggingItemListener())\n}\n\nfun setDraggableElement(item: Item?) {\n   this.draggedItem = item\n}\n\nprivate fun findItemView(x: Float, y: Float) : View?{\n\n        (0 until childCount).map { getChildAt(it) }.forEach { \n            if (it is EmptyView || it is ItemView) {\n                val bounds = getViewBounds(it)\n\n                if (x &gt; bounds.left &amp;&amp; x &lt; bounds.right &amp;&amp; y &gt; bounds.top &amp;&amp; y &lt; bounds.bottom){\n                    it.setBackgroundResource(R.color.selected_background)\n                    return it\n                }else {\n                    it.setBackgroundResource(R.color.background)\n                }\n            }\n        }\n        return null\n} \n\nprivate fun getViewBounds(view: View) : Rect{\n        return Rect(view.left, view.top, view.left + view.width, view.top + view.height)\n}\n\ninner class DraggingItemListener : OnDragListener {\n\n        private var currentView: View? = null\n\n        override fun onDrag(v: View?, event: DragEvent): Boolean {\n            if (draggedItem != null) {\n\n                when(event.action) {\n\n                    DragEvent.ACTION_DRAG_LOCATION -&gt; {\n                        currentView = findItemView(event.x, event.y)\n                    }\n                    DragEvent.ACTION_DROP -&gt; {\n                        when(currentView) {\n                            is EmptyView -&gt; {\n\n                            }\n                            is ItemView -&gt; {\n\n                            }\n                        }\n                    currentView?.setBackgroundResource(R.color.background)\n                    currentView = null\n                    }\n            }else{\n                currentView = null\n            }\n            return true\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Is it correct way to resolve my issue or Im wrong? However it works fine</p>\n"}, {"tags": ["java", "android", "kotlin", "rss", "simple-framework"], "answers": [{"tags": [], "owner": {"reputation": 1861, "user_id": 2793036, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/aiInx.jpg?s=128&g=1", "display_name": "Rishabh876", "link": "https://stackoverflow.com/users/2793036/rishabh876"}, "is_accepted": true, "score": 0, "last_activity_date": 1531786331, "last_edit_date": 1531786331, "creation_date": 1531785967, "answer_id": 51371515, "question_id": 51040272, "link": "https://stackoverflow.com/questions/51040272/simplexml-constructorexception/51371515#51371515", "title": "SimpleXML : ConstructorException", "body": "<p>I got the right progaurd configuration from <a href=\"https://github.com/ngallagher/simplexml/blob/master/proguard.pro\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code># SimpleXML\n# Save the obfuscation mapping to a file, so we can de-obfuscate any stack\n# traces later on. Keep a fixed source file attribute and all line number\n# tables to get line numbers in the stack traces.\n# You can comment this out if you're not interested in stack traces.\n\n-printmapping out.map\n-keepparameternames\n-renamesourcefileattribute SourceFile\n-keepattributes Exceptions,InnerClasses,Signature,Deprecated,SourceFile,LineNumberTable,EnclosingMethod\n\n# Preserve all annotations.\n\n-keepattributes *Annotation*\n\n# Add optimizations\n\n-allowaccessmodification\n-optimizationpasses 3\n\n# Preserve all public classes, and their public and protected fields and\n# methods.\n\n-keep public class * {\n    public protected *;\n}\n\n# Preserve all .class method names.\n\n-keepclassmembernames class * {\n    java.lang.Class class$(java.lang.String);\n    java.lang.Class class$(java.lang.String, boolean);\n}\n\n# Preserve all native method names and the names of their classes.\n\n-keepclasseswithmembernames class * {\n    native &lt;methods&gt;;\n}\n\n# Preserve the special static methods that are required in all enumeration\n# classes.\n\n-keepclassmembers class * extends java.lang.Enum {\n    public static **[] values();\n    public static ** valueOf(java.lang.String);\n}\n\n# Explicitly preserve all serialization members. The Serializable interface\n# is only a marker interface, so it wouldn't save them.\n# You can comment this out if your library doesn't use serialization.\n# If your code contains serializable classes that have to be backward\n# compatible, please refer to the manual.\n\n-keepclassmembers class * implements java.io.Serializable {\n    static final long serialVersionUID;\n    static final java.io.ObjectStreamField[] serialPersistentFields;\n    private void writeObject(java.io.ObjectOutputStream);\n    private void readObject(java.io.ObjectInputStream);\n    java.lang.Object writeReplace();\n    java.lang.Object readResolve();\n}\n\n# Your library may contain more items that need to be preserved;\n# typically classes that are dynamically created using Class.forName:\n\n-keep interface org.simpleframework.xml.core.Label {\n   public *;\n}\n-keep class * implements org.simpleframework.xml.core.Label {\n   public *;\n}\n-keep interface org.simpleframework.xml.core.Parameter {\n   public *;\n}\n-keep class * implements org.simpleframework.xml.core.Parameter {\n   public *;\n}\n-keep interface org.simpleframework.xml.core.Extractor {\n   public *;\n}\n-keep class * implements org.simpleframework.xml.core.Extractor {\n   public *;\n}\n\n-dontwarn com.bea.xml.stream.**\n-dontwarn org.simpleframework.xml.stream.**\n-keep class org.simpleframework.xml.**{ *; }\n-keepclassmembers,allowobfuscation class * {\n    @org.simpleframework.xml.* &lt;fields&gt;;\n    @org.simpleframework.xml.* &lt;init&gt;(...);\n}\n</code></pre>\n"}], "owner": {"reputation": 1861, "user_id": 2793036, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/aiInx.jpg?s=128&g=1", "display_name": "Rishabh876", "link": "https://stackoverflow.com/users/2793036/rishabh876"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 51371515, "answer_count": 1, "score": 1, "last_activity_date": 1531786331, "creation_date": 1530007799, "last_edit_date": 1530024874, "question_id": 51040272, "link": "https://stackoverflow.com/questions/51040272/simplexml-constructorexception", "title": "SimpleXML : ConstructorException", "body": "<p>I am trying to parse some RSS 2.0 feeds like this one: \n<a href=\"https://audioboom.com/channels/4682117.rss\" rel=\"nofollow noreferrer\">https://audioboom.com/channels/4682117.rss</a></p>\n\n<p>My Model Looks like this</p>\n\n<p>Rss Class(Java file, Kotlin was also giving me troubles)</p>\n\n<pre><code>@Root(name = \"rss\", strict = false)\n@Namespace(prefix = \"itunes\", reference = \"http://www.itunes.com/dtds/podcast-1.0.dtd\")\npublic class RSSFeed {\n\n    @Element(name = \"title\", required = false)\n    @Path(\"channel\")\n    public String channelTitle = null;\n\n    @Element(name = \"description\", required = false)\n    @Path(\"channel\")\n    public String description = null;\n\n    @Element(name = \"url\", required = false)\n    @Path(\"channel/image\")\n    String imageUrl = null;\n\n    @ElementList(name = \"item\", inline = true, required = false)\n    @Path(\"channel\")\n    public List&lt;Article&gt; articleList = null;\n}\n</code></pre>\n\n<p>Item Class (Kotlin file)</p>\n\n<pre><code>@Root(name = \"item\", strict = false)\n@Namespace(prefix = \"itunes\", reference = \"http://www.itunes.com/dtds/podcast-1.0.dtd\")\nclass Article{\n\n    @set:Path(\"title\")\n    @get:Path(\"title\")\n    @set:Text(required = false)\n    @get:Text(required = false)\n    var title: String? = null\n\n    @set:Element(name = \"link\", required = false)\n    @get:Element(name = \"link\", required = false)\n    var url: String? = null\n\n    @set:Element(name = \"enclosure\", required = false)\n    @get:Element(name = \"enclosure\", required = false)\n    var enclosure: Enclosure? = null\n\n    @set:Element(name = \"guid\", required = false, data = true)\n    @get:Element(name = \"guid\", required = false, data = true)\n    var id: String? = null\n\n    @set:Namespace(reference = \"http://www.itunes.com/dtds/podcast-1.0.dtd\")\n    @get:Namespace(reference = \"http://www.itunes.com/dtds/podcast-1.0.dtd\")\n    @set:Element(name = \"image\", required = false)\n    @get:Element(name = \"image\", required = false)\n    var image: Image? = null\n\n    @set:Namespace(reference = \"http://www.itunes.com/dtds/podcast-1.0.dtd\")\n    @get:Namespace(reference = \"http://www.itunes.com/dtds/podcast-1.0.dtd\")\n    @set:Element(name = \"duration\", required = false)\n    @get:Element(name = \"duration\", required = false)\n    var duration: String? = null\n\n    fun getEpisodeUrl(): String? = enclosure?.url ?: url\n}\n</code></pre>\n\n<p>Ever since I have enabled Progaurd. I started to getting this error :</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException:\n  org.simpleframework.xml.core.ConstructorException: Default constructor\n  can not accept read only @org.simpleframework.xml.Element(data=false,\n  name=duration, required=false, type=void) on method 'duration' in\n  class com.myapp.model.rss.Article</p>\n</blockquote>\n"}, {"tags": ["android", "string", "url", "kotlin", "android-glide"], "answers": [{"tags": [], "owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "is_accepted": false, "score": 0, "last_activity_date": 1530034363, "creation_date": 1530034363, "answer_id": 51048599, "question_id": 51039724, "link": "https://stackoverflow.com/questions/51039724/why-do-glide-only-work-on-raw-string-url-data-android-studio/51048599#51048599", "title": "Why do Glide only work on raw string url data? (Android Studio)", "body": "<p>OK, got it now. The <code>recipeArray[1].recipeImage.toString()</code> was a data snapshot containing both a key and a string. I went back to when I stored the variable:</p>\n\n<pre><code>val image = item.child(\"recipeImageFirebase\")\n\ntempRecipe.recipeImage = image.toString()\n</code></pre>\n\n<p>and changed the last part to</p>\n\n<pre><code>tempRecipe.recipeImage = image.value.toString()\n</code></pre>\n\n<p>Now it only contains the string value and not the key \"recipeImageFirebase\" as well!</p>\n"}], "owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553440179, "creation_date": 1530006193, "last_edit_date": 1553440179, "question_id": 51039724, "link": "https://stackoverflow.com/questions/51039724/why-do-glide-only-work-on-raw-string-url-data-android-studio", "title": "Why do Glide only work on raw string url data? (Android Studio)", "body": "<p>I can successfully use a string url with glide to get the image I want:</p>\n\n<pre><code>glideVariable!!.loadImageUrl(\"https://firebasestorage.googleapis.com/v0/b/healthandchocolate-46f3d.appspot.com/o/cookies%2FcookiesImg1.jpg?alt=media&amp;token=63721d7d-207e-441c-9387-14dced13d3c8\")\n</code></pre>\n\n<p>but when I try to use the very same url, stored in a variable, the image doesn't load:</p>\n\n<pre><code>glideVariable!!.loadImageUrl(recipeArray[1].recipeImage.toString())\n</code></pre>\n\n<p>I have done a <code>Log.d</code> on <code>recipeArray[1].recipeImage.toString()</code> and it does indeed contain the very same url that worked on my first example, using raw string data.</p>\n\n<p>I have used escape commands to encapsulate the variable in quotation marks like this: </p>\n\n<pre><code>glideVariable!!.loadImageUrl(\"${recipeArray[1].recipeImage.toString()}\")\n</code></pre>\n\n<p>but it still doesn't work. I have also tried to cast it as <code>URL</code> and <code>URI</code>, but still nothing. Any ideas? Can glide only use raw string data?</p>\n\n<p><strong><em>UPDATE</em></strong>\nI noted that <code>recipeArray[1].recipeImage</code> contain both a <code>key</code> and a <code>value</code>. Perhaps this is the problem. It doesn't access the url string directly. How do I make sure just to use the string value? It looks like this:</p>\n\n<pre><code>DataSnapshot { key = recipeImageFirebase, value = https://firebasestorage.googleapis.com/v0/b/healthandchocolate-46f3d.appspot.com/o/cookies%2FcookiesImg1.jpg?alt=media&amp;token=63721d7d-207e-441c-9387-14dced13d3c8 }\n</code></pre>\n"}, {"tags": ["kotlin", "subtyping"], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1530005622, "post_id": 51039390, "comment_id": 89070309, "body": "... and <code>null</code> is the only instance of <code>Nothing?</code>, which is why it can be assigned to all (nullable) types and which is why in <code>var a = null</code>, the inferred type for <code>a</code> is <code>Nothing?</code>"}, {"owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 0, "creation_date": 1530005737, "post_id": 51039390, "comment_id": 89070385, "body": "Well, actually, you can :-) Try toString()."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1530006056, "post_id": 51039390, "comment_id": 89070576, "body": "You can call <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-string.html\" rel=\"nofollow noreferrer\">this <code>toString</code></a> on it, because it&#39;s an extension on <code>Any?</code>."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1530015943, "post_id": 51039390, "comment_id": 89076661, "body": "There are no instances of <code>Nothing</code> because it is nothing. It is only there to indicate nothingness. Like an exception."}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 4, "last_activity_date": 1530016555, "last_edit_date": 1530016555, "creation_date": 1530005221, "answer_id": 51039390, "question_id": 51039255, "link": "https://stackoverflow.com/questions/51039255/calling-any-method-on-nothing/51039390#51039390", "title": "Calling any method on Nothing", "body": "<p><code>Nothing</code> is <code>Nothing</code> for a reason. You can't call any functions on it. Besides <code>not()</code> is only applicable for <code>Boolean</code> so it is not present on <code>Nothing</code>. In fact there are no methods on <code>Nothing</code>:</p>\n\n<pre><code>/**\n * Nothing has no instances. You can use Nothing to represent \"a value that never exists\": for example,\n * if a function has the return type of Nothing, it means that it never returns (always throws an exception).\n */\npublic class Nothing private constructor()\n</code></pre>\n\n<p>The documentation pretty much explains its existence.</p>\n\n<p>There is one loophole though. What happens if you return <code>Nothing?</code> from a function?</p>\n\n<pre><code>fun dead(): Nothing? {\n    return null\n}\n</code></pre>\n\n<p>That's right. It can only return <code>null</code>:</p>\n\n<pre><code>@JvmStatic\nfun main(args: Array&lt;String&gt;) {\n    dead() // will be null\n}\n</code></pre>\n\n<p>I wouldn't say that there is a valid use case to do this but it is possible.</p>\n\n<p>An example for <code>Nothing</code> to indicate nothingness in trees:</p>\n\n<pre><code>sealed class Tree&lt;out T&gt;() {\n    data class Node&lt;out T&gt;(val value: T,\n                           val left: Tree&lt;T&gt; = None,\n                           val right: Tree&lt;T&gt; = None): Tree&lt;T&gt;()\n    object None: Tree&lt;Nothing&gt;()\n}\n</code></pre>\n\n<p>Here <code>Nothing</code> denotes a leaf node with no children.</p>\n"}, {"comments": [{"owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 0, "creation_date": 1530006405, "post_id": 51039735, "comment_id": 89070788, "body": "The function is dead code, agreed. However, inside some calls generates errors others don&#39;t."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 0, "creation_date": 1530006511, "post_id": 51039735, "comment_id": 89070858, "body": "I believe my last paragraph addresses this. You can&#39;t call anything on it, because that&#39;s nonsense. You can still pass it into any function because it&#39;s convenient sometimes and it doesn&#39;t break type safety, because that call will never happen."}, {"owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 0, "creation_date": 1530006627, "post_id": 51039735, "comment_id": 89070924, "body": "Then why not allow using it as receiver for anything ? It is harmless as well :-)"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 0, "creation_date": 1530006746, "post_id": 51039735, "comment_id": 89070994, "body": "Yes, but nobody actually needs that in practice, while being able to pass <code>Nothing</code> as a parameter is useful, for example it lets you use <code>throw</code> and <code>return</code> expressions on the right hand side of the Elvis operator without affecting the return type of the expression (which is the first common supertype of the left and right sides of the operator, that being the type on the left if the right one is <code>Nothing</code>)."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1530006229, "creation_date": 1530006229, "answer_id": 51039735, "question_id": 51039255, "link": "https://stackoverflow.com/questions/51039255/calling-any-method-on-nothing/51039735#51039735", "title": "Calling any method on Nothing", "body": "<p>The premise itself doesn't make sense. <code>Nothing</code> is a class which can not be instantiated. You'll never have a variable that holds a <code>Nothing</code> instance.</p>\n\n<p>This means that a function that takes <code>Nothing</code> as a parameter can never be invoked, because you can't get a <code>Nothing</code> instance to pass to it. Anything you write inside it is irrelevant, as is a function like this existing in the first place.</p>\n\n<p><code>Nothing</code> is made to act like a subtype to all types so that certain uses of language features like <code>throw</code> and <code>return</code> work nicely with the type system. In essence, the compiler lets you pass a <code>Nothing</code> in places where some other type is required, because it knows that you'll never actually reach that code (because again, you can't get a <code>Nothing</code> instance), so it doesn't matter what you're passing in.</p>\n"}], "owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1530018739, "creation_date": 1530004837, "last_edit_date": 1530018739, "question_id": 51039255, "link": "https://stackoverflow.com/questions/51039255/calling-any-method-on-nothing", "title": "Calling any method on Nothing", "body": "<p>Although it <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-nothing.html\" rel=\"nofollow noreferrer\">is not explicitly stated</a> that Nothing is the subtype of all types, this (among others) suggests it:</p>\n\n<pre><code>fun f(x:Float) { }\nfun g(x:Char) { }\n\nfun dead(q: Nothing) {\n    f(q)\n    g(q)\n}\n</code></pre>\n\n<p>However, this fails with \u201cunresolved reference\u201d:</p>\n\n<pre><code>fun dead(q: Nothing) {\n    q.not()\n}\n</code></pre>\n\n<p>Is this a bug or a feature?</p>\n\n<p>Notes: </p>\n\n<ol>\n<li>First piece of code compiles (with warnings), second does not</li>\n<li>It's possible to use a <code>Nothing</code> typed receiver, for instance calling <code>toString()</code></li>\n<li>This is legal: <code>{b:Boolean -&gt; b.not()}(q)</code></li>\n<li>Upcast too: <code>(q as Boolean).not()</code></li>\n<li><a href=\"https://stackoverflow.com/questions/51042663/when-is-nothing-a-legal-receiver\">Equivalent question</a> for Scala</li>\n</ol>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1530004293, "post_id": 51038941, "comment_id": 89069482, "body": "does it consider &lt;br/&gt; as a comment too or it is completely ignored ?"}, {"owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "reply_to_user": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 1, "creation_date": 1530005685, "post_id": 51038941, "comment_id": 89070346, "body": "@Umair It&#39;s completely ignored. I am using markdown in now for my comment now"}, {"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1530005851, "post_id": 51038941, "comment_id": 89070454, "body": "ah yes thank you for pointing this out .. :)"}], "answers": [{"comments": [{"owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "edited": false, "score": 2, "creation_date": 1530005412, "post_id": 51039096, "comment_id": 89070177, "body": "Markdown working in comment. I will use it instead of html tag. Thank you so much"}], "tags": [], "owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "is_accepted": true, "score": 6, "last_activity_date": 1530004769, "last_edit_date": 1530004769, "creation_date": 1530004347, "answer_id": 51039096, "question_id": 51038941, "link": "https://stackoverflow.com/questions/51038941/kotlin-breakline-in-comment-not-working/51039096#51039096", "title": "Kotlin breakline in comment not working", "body": "<p>Kotlin docs doesn't support HTML tag but Markdown syntax. As per it </p>\n\n<blockquote>\n  <p>When you do want to insert <code>&lt;br /&gt;</code> break tag using Markdown, you end a line with two or more spaces, then type return.</p>\n</blockquote>\n\n<p>See more information at <a href=\"https://daringfireball.net/projects/markdown/syntax#p\" rel=\"nofollow noreferrer\">https://daringfireball.net/projects/markdown/syntax#p</a> and <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html#kdoc-syntax\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/kotlin-doc.html#kdoc-syntax</a></p>\n"}], "owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 51039096, "answer_count": 1, "score": 3, "last_activity_date": 1530005558, "creation_date": 1530003845, "question_id": 51038941, "link": "https://stackoverflow.com/questions/51038941/kotlin-breakline-in-comment-not-working", "title": "Kotlin breakline in comment not working", "body": "<p>In <code>Java</code> I often use <code>&lt;br/&gt;</code> (or another html tag) in commend like this to make comment easy to read</p>\n\n<pre><code>/**\n * Line 1 &lt;br/&gt;\n * Line 2\n */\n</code></pre>\n\n<p>In Kotlin, I write comment like this but it not working (\"Line 2\" don't break to new line). Is there any way to achieve it (any Settings or Plugin)?</p>\n"}, {"tags": ["arrays", "dictionary", "collections", "filter", "kotlin"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1530003327, "post_id": 51038498, "comment_id": 89068887, "body": "most of the operators return a filtered (or, in general, a transformed) copy of the object because it&#39;s more &quot;functional&quot; than altering the initial collection (which is a side effect)"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1530002913, "last_edit_date": 1530002913, "creation_date": 1530002547, "answer_id": 51038535, "question_id": 51038498, "link": "https://stackoverflow.com/questions/51038498/how-to-perform-collection-operators-on-the-collection-itself-in-kotlin/51038535#51038535", "title": "How to perform collection operators on the collection itself in Kotlin?", "body": "<p>There are separate operators for doing certain operations in place, for <code>filter</code>, there's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/retain-all.html\" rel=\"nofollow noreferrer\"><code>retainAll</code></a>:</p>\n\n<pre><code>val array = MutableList(10) { it }\narray.retainAll { it % 2 == 0 }\nprintln(array) // [0, 2, 4, 6, 8]\n</code></pre>\n\n<p>Note that you need to use a <code>MutableList</code> instead of an <code>Array</code>, because arrays are fixed size, so you can't remove items from them.</p>\n\n<p>There are a couple other similar solutions, like <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sort.html\" rel=\"nofollow noreferrer\"><code>sort</code></a> which works in place and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted.html\" rel=\"nofollow noreferrer\"><code>sorted</code></a> which returns a new collection.</p>\n"}], "owner": {"reputation": 31, "user_id": 9188955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d587bce91b824fcc4a0e7743e775852b?s=128&d=identicon&r=PG&f=1", "display_name": "yahelck", "link": "https://stackoverflow.com/users/9188955/yahelck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 51038535, "answer_count": 1, "score": 0, "last_activity_date": 1530002913, "creation_date": 1530002387, "question_id": 51038498, "link": "https://stackoverflow.com/questions/51038498/how-to-perform-collection-operators-on-the-collection-itself-in-kotlin", "title": "How to perform collection operators on the collection itself in Kotlin?", "body": "<p>Is there a way to perform a collection operator, such as 'filter', on the collection itself rather then receiving a new filtered collection?\nIn Ruby most array iterators have a version with an exclamation mark at the end, which means the operation will be performed on the object itself, rather then return a new object.</p>\n\n<p>For example, Instead of doing:</p>\n\n<pre><code>var array = IntArray(10) { it }\narray = array.filter { it % 2 == 0 }.toIntArray()\n</code></pre>\n\n<p>is there a way to do:</p>\n\n<pre><code>val array = IntArray(10) { it }\narray.filter! { it % 2 == 0 }\n</code></pre>\n\n<p>or something similar in Kotlin? </p>\n"}, {"tags": ["java", "algorithm", "data-structures", "kotlin", "hashmap"], "comments": [{"owner": {"reputation": 6021, "user_id": 3688648, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/migGL.jpg?s=128&g=1", "display_name": "Felk", "link": "https://stackoverflow.com/users/3688648/felk"}, "edited": false, "score": 2, "creation_date": 1530001971, "post_id": 51038315, "comment_id": 89068086, "body": "How about a <code>Map&lt;String, int&gt;</code> from <code>sessionId</code> to <code>userId</code> and a second <code>Map&lt;int, User&gt;</code> from <code>userId</code> to <code>User</code>?"}, {"owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 1, "creation_date": 1530002121, "post_id": 51038315, "comment_id": 89068179, "body": "&quot;search by User isn&#39;t O(1) since I need to cast User to userId first.&quot; That doesn&#39;t make sense. The complexity of a cast is O(1). And having two O(1) operations still makes the entire algorithm O(1) as well."}, {"owner": {"reputation": 1654, "user_id": 2138356, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b5cfbdd95128b8feefe8c49299022af9?s=128&d=identicon&r=PG", "display_name": "fasth", "link": "https://stackoverflow.com/users/2138356/fasth"}, "reply_to_user": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 0, "creation_date": 1530002270, "post_id": 51038315, "comment_id": 89068272, "body": "@ErwinBolwidt I need to iterate all elements, cast them (N) and then make a search (1), or am I wrong? Can you elaborate?"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 0, "creation_date": 1530002486, "post_id": 51038315, "comment_id": 89068387, "body": "what @ErwinBolwidt said is that what makes your algorithm not constant is not the cast operation, but rather the search itself. I think you were saying the same thing, there was just a misunderstanding"}, {"owner": {"reputation": 1654, "user_id": 2138356, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b5cfbdd95128b8feefe8c49299022af9?s=128&d=identicon&r=PG", "display_name": "fasth", "link": "https://stackoverflow.com/users/2138356/fasth"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1530002591, "post_id": 51038315, "comment_id": 89068443, "body": "@user2340612 anyway it&#39;s not O(1), isn&#39;t it? I think that using two maps is the only way to solve."}, {"owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 1, "creation_date": 1530002851, "post_id": 51038315, "comment_id": 89068589, "body": "You need to learn more about complexity. Even if you combine one thousand steps sequentially that are each O(1), the resulting algorithm is still O(1)."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1530002863, "post_id": 51038315, "comment_id": 89068598, "body": "Uhm with <code>BiMap</code> I think you&#39;ll get what you&#39;re asking for, since it &quot;maintain two separate maps and keep them both in sync&quot; (from <a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained#bimap\" rel=\"nofollow noreferrer\">here</a>). Since it uses 2 <code>Map</code>s, both search by key and by value will be constant (<code>O(1)</code>)"}, {"owner": {"reputation": 1654, "user_id": 2138356, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b5cfbdd95128b8feefe8c49299022af9?s=128&d=identicon&r=PG", "display_name": "fasth", "link": "https://stackoverflow.com/users/2138356/fasth"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1530003516, "post_id": 51038315, "comment_id": 89069008, "body": "@user2340612 it would work if I won&#39;t have object with two fields, can someone of you write it as answer? I don&#39;t get how are you going to search by object&#39;s field."}, {"owner": {"reputation": 7207, "user_id": 676427, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/5026f5975606c389bbb6831d20826cb0?s=128&d=identicon&r=PG", "display_name": "Robert Jack Will", "link": "https://stackoverflow.com/users/676427/robert-jack-will"}, "edited": false, "score": 1, "creation_date": 1530004206, "post_id": 51038315, "comment_id": 89069427, "body": "What exactly are your inputs when you want to &quot;search by User&quot; to get a session-id? Is the list of roles a necessary part of the search input? If no, then having a second map from UserId to SessionID is a valid solution. If you like, you can wrap both maps in a facade class which keeps them synchronized. Alternatively, using equals() as you suggested would also be good if it fits the rest of your business logic."}], "answers": [{"comments": [{"owner": {"reputation": 1654, "user_id": 2138356, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b5cfbdd95128b8feefe8c49299022af9?s=128&d=identicon&r=PG", "display_name": "fasth", "link": "https://stackoverflow.com/users/2138356/fasth"}, "edited": false, "score": 0, "creation_date": 1530003600, "post_id": 51038826, "comment_id": 89069062, "body": "Indeed, but now problem of synchronization of both map appears, doesn&#39;t it?"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 1654, "user_id": 2138356, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b5cfbdd95128b8feefe8c49299022af9?s=128&d=identicon&r=PG", "display_name": "fasth", "link": "https://stackoverflow.com/users/2138356/fasth"}, "edited": false, "score": 0, "creation_date": 1530003743, "post_id": 51038826, "comment_id": 89069143, "body": "This is always a tradeoff. You either do a search <code>O(n)</code> or a lookup <code>O(1)</code>. Since you already maintain a list of <code>Users</code> (I presume) it is not that hard to maintain two <code>Map</code>s as well."}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 1, "last_activity_date": 1530003679, "last_edit_date": 1530003679, "creation_date": 1530003501, "answer_id": 51038826, "question_id": 51038315, "link": "https://stackoverflow.com/questions/51038315/map-for-o1-search-for-both-key-and-value/51038826#51038826", "title": "Map for O(1) search for both key and value", "body": "<p>Casting the <code>User</code> to <code>userId</code> is <code>O(1)</code>. If you are doing complexity analysis you only have to take the term with the largest exponent and drop the rest.</p>\n\n<p>If you perform the same operation 1000 times it will still be <code>O(1)</code> if you always do exactly 1000 operations. If the number of operations is constant and does not depend on the size of the input you are having <code>O(1)</code> complexity but you have <strong>high constant factors</strong>.</p>\n\n<p>As for your problem:</p>\n\n<p>You can have any number of <code>Map</code>s to use as a lookup for your <code>User</code>s it will still be <code>O(1)</code>:</p>\n\n<pre><code>val sessionLookup = mapOf&lt;String, User&gt;()\nval userIdLookup = mapOf&lt;String, User&gt;()\n</code></pre>\n\n<p>Here you have two <code>Map</code>s which map session ids and user ids to the <code>User</code> itself.</p>\n\n<p>What's important here is that you create lookups (eg: a mapping between <code>userId</code> - <code>User</code> and <code>sessionId</code> - <code>User</code>) for your <code>User</code>s and the operation to <strong>fetch an user by its sessionId or userId</strong> is <code>O(1)</code> because you don't have to search. You trade space complexity (the size of the <code>Map</code>s) to time complexity (transforming an <code>O(n)</code> search to an <code>O(1)</code> lookup.</p>\n\n<p>If you really want to get into asymptotic complexity analysis I would suggest <a href=\"https://mitpress.mit.edu/books/introduction-algorithms-third-edition\" rel=\"nofollow noreferrer\">this book</a>.</p>\n"}], "owner": {"reputation": 1654, "user_id": 2138356, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b5cfbdd95128b8feefe8c49299022af9?s=128&d=identicon&r=PG", "display_name": "fasth", "link": "https://stackoverflow.com/users/2138356/fasth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "accepted_answer_id": 51038826, "answer_count": 1, "score": 1, "last_activity_date": 1530003679, "creation_date": 1530001783, "question_id": 51038315, "link": "https://stackoverflow.com/questions/51038315/map-for-o1-search-for-both-key-and-value", "title": "Map for O(1) search for both key and value", "body": "<p>Consider I have a class:</p>\n\n<pre><code>data class User(val userId: String, val roles: List&lt;String&gt;)\n</code></pre>\n\n<p>Also, I have some string <code>sessionId</code> and I need <code>O(1)</code> time to retrieve data by both <code>sessionId</code> and <code>userId</code>.</p>\n\n<p>I thought that <code>BiMap&lt;String, User&gt;</code> will solve my problem but search by User isn't <code>O(1)</code> since I need to cast <code>User</code> to <code>userId</code> first. </p>\n\n<p>Another solution is to override hashcode/equals for <code>User</code> which will take only <code>userId</code> into account but it's a dirty hack.</p>\n"}, {"tags": ["kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 2, "creation_date": 1529999620, "post_id": 51036765, "comment_id": 89066791, "body": "Note that <code>startWith { }</code>  won&#39;t work, use <code>startWith()</code> with regular parenthesis."}, {"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1530000153, "post_id": 51036765, "comment_id": 89067100, "body": "You should add the rxjava tag."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 13442292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27a8f46006d1c7702119c6f106b48776?s=128&d=identicon&r=PG&f=1", "display_name": "pratclot", "link": "https://stackoverflow.com/users/13442292/pratclot"}, "edited": false, "score": 0, "creation_date": 1611561627, "post_id": 51038775, "comment_id": 116481260, "body": "The last tip helped me, thanks!"}], "tags": [], "owner": {"reputation": 5543, "user_id": 1304164, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/9e230ecdacef6fdfea22103b67ffa88f?s=128&d=identicon&r=PG", "display_name": "Bruce Lowe", "link": "https://stackoverflow.com/users/1304164/bruce-lowe"}, "is_accepted": false, "score": 15, "last_activity_date": 1555501171, "last_edit_date": 1555501171, "creation_date": 1530003348, "answer_id": 51038775, "question_id": 51036765, "link": "https://stackoverflow.com/questions/51036765/getting-type-mismatch-when-using-sealed-class-with-rxjava-in-kotlin/51038775#51038775", "title": "Getting type mismatch when using sealed class with rxjava in kotlin", "body": "<p>in your code </p>\n\n<pre><code>.map { AddressLoadedState(it) }\n</code></pre>\n\n<p>gives a </p>\n\n<pre><code>Observable&lt;AddressLoadedState&gt;\n</code></pre>\n\n<p>The onError function expects a Function that takes an exception and returns something that extends T. </p>\n\n<pre><code>Observable&lt;T&gt; onErrorReturn(Func1&lt;? super Throwable, ? extends T&gt; resumeFunction)\n</code></pre>\n\n<p>In this case, T is AddressLoadedState.  AddressErrorState does not extend this, so the compiler will complain.</p>\n\n<p>You could split the statements into more than one line to help the compiler though, to show it T is actually a AddressUiState.  Or you can also tell the compiler on the map function itself like this:</p>\n\n<pre><code>    return service.getAddresses(id)\n            .map&lt;AddressUiState&gt; { AddressLoadedState(it) }\n            .startWith(AddressLoading)\n            .onErrorReturn { AddressErrorState }\n            .subscribeOn(Schedulers.io())\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 7772361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90417a73241b114225da955f51d12b7b?s=128&d=identicon&r=PG&f=1", "display_name": "Veeresh Kalmath", "link": "https://stackoverflow.com/users/7772361/veeresh-kalmath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1250, "favorite_count": 1, "answer_count": 1, "score": 9, "last_activity_date": 1555501171, "creation_date": 1529996616, "last_edit_date": 1530029200, "question_id": 51036765, "link": "https://stackoverflow.com/questions/51036765/getting-type-mismatch-when-using-sealed-class-with-rxjava-in-kotlin", "title": "Getting type mismatch when using sealed class with rxjava in kotlin", "body": "<p>I have following code</p>\n\n<pre><code>sealed class AddressUiState\nobject AddressLoading : AddressUiState()\nclass AddressLoadedState(val addressResponse: AddressBookResponse) : AddressUiState()\nclass AddressErrorState(val error: Throwable) : AddressUiState()\n</code></pre>\n\n<p>and I have ViewModel like below</p>\n\n<pre><code>class AddressViewModel constructor(private val service: SingleProfileService) : ViewModel() {\n\n    fun getDisplayableAddressState(id: String): Observable&lt;out AddressUiState&gt; {\n        return service.getAddresses(id)\n                .map { AddressLoadedState(it) }\n                .startWith(AddressLoading)\n                .onErrorReturn { AddressErrorState(it) }\n                .subscribeOn(Schedulers.io())\n\n    }\n}\n</code></pre>\n\n<p>I'm seeing the compilation error and onErrorReturn with error\n<strong>Type mismatch. Required: AddressLoadedState! found: AddressErrorState</strong>\nWhat is wrong with above code? </p>\n"}, {"tags": ["android", "kotlin", "android-graphview"], "comments": [{"owner": {"reputation": 2757, "user_id": 5308259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5628c03fe452a8420fc130408101e057?s=128&d=identicon&r=PG&f=1", "display_name": "Psytho", "link": "https://stackoverflow.com/users/5308259/psytho"}, "edited": false, "score": 0, "creation_date": 1530002742, "post_id": 51036167, "comment_id": 89068526, "body": "Do you have a specific question? It is not a code writing service."}, {"owner": {"reputation": 29, "user_id": 5453672, "user_type": "registered", "profile_image": "https://graph.facebook.com/969264689783052/picture?type=large", "display_name": "Tushar Chawla", "link": "https://stackoverflow.com/users/5453672/tushar-chawla"}, "reply_to_user": {"reputation": 2757, "user_id": 5308259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5628c03fe452a8420fc130408101e057?s=128&d=identicon&r=PG&f=1", "display_name": "Psytho", "link": "https://stackoverflow.com/users/5308259/psytho"}, "edited": false, "score": 0, "creation_date": 1530003071, "post_id": 51036167, "comment_id": 89068732, "body": "First of all, thanks for being rude. And yeah, I have a question. I want to know how to increment the value of x coordinate while plotting a graph in Android using GraphView. I have values for y coordinates which I am stroring in an ArrayList but there is no value of x-axis. It just have to increment wirh each value of x coordinate. I can&#39;t post my code here due to some boundations."}], "owner": {"reputation": 29, "user_id": 5453672, "user_type": "registered", "profile_image": "https://graph.facebook.com/969264689783052/picture?type=large", "display_name": "Tushar Chawla", "link": "https://stackoverflow.com/users/5453672/tushar-chawla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1529994412, "creation_date": 1529994412, "question_id": 51036167, "link": "https://stackoverflow.com/questions/51036167/android-kotlin-graphview-auto-increment-the-value-of-x-coordinate-and-also-not", "title": "Android/Kotlin/GraphView - auto increment the value of x coordinate and also,not showing the labels on X Axis", "body": "<p>I am creating an app using Kotlin in which I have to plot a graph using certain value which are gathered at different points of time. Now, I want my code to automatically increase the value of x-coordinate of the graphview while I pass ony the value of the y coordinate. Also, i do not want to show the labels on the X-axis of the graphView.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 977, "user_id": 6096415, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-KgecYKT5-sY/AAAAAAAAAAI/AAAAAAAAFvA/7BCaRSEYk7w/photo.jpg?sz=128", "display_name": "Mario Burga", "link": "https://stackoverflow.com/users/6096415/mario-burga"}, "edited": false, "score": 0, "creation_date": 1529995633, "post_id": 51036347, "comment_id": 89064606, "body": "Thanks for your reply If I use the name of the variable without the colon, when I want to get the value of <code>source_url</code> it does not recognize me. Sample: <code>val thumbnailImageView = homeOfertas[position]._embedded.wpfeaturedmedia.source_url</code>"}, {"owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "reply_to_user": {"reputation": 977, "user_id": 6096415, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-KgecYKT5-sY/AAAAAAAAAAI/AAAAAAAAFvA/7BCaRSEYk7w/photo.jpg?sz=128", "display_name": "Mario Burga", "link": "https://stackoverflow.com/users/6096415/mario-burga"}, "edited": false, "score": 0, "creation_date": 1529996472, "post_id": 51036347, "comment_id": 89065092, "body": "<code>wpfeaturemedia</code> is a list, so your code should be: <code>val thumbnailImageView = homeOfertas[position]._embedded.wpfeaturedmedia[0].source_ur&zwnj;&#8203;l</code>"}, {"owner": {"reputation": 977, "user_id": 6096415, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-KgecYKT5-sY/AAAAAAAAAAI/AAAAAAAAFvA/7BCaRSEYk7w/photo.jpg?sz=128", "display_name": "Mario Burga", "link": "https://stackoverflow.com/users/6096415/mario-burga"}, "edited": false, "score": 0, "creation_date": 1530024822, "post_id": 51036347, "comment_id": 89082804, "body": "Thanks friend, now he works with me <code>@SerializedName(&quot;wp:featuredmedia&quot;) val wpfeaturedmedia: List&lt;Wpfeaturedmedia&gt;</code>"}], "tags": [], "owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "is_accepted": true, "score": 0, "last_activity_date": 1529996899, "last_edit_date": 1529996899, "creation_date": 1529995099, "answer_id": 51036347, "question_id": 51035304, "link": "https://stackoverflow.com/questions/51035304/how-to-use-the-class-data-of-a-json-element-that-have-colon-in-name-kotlin/51036347#51036347", "title": "How to use the class data of a json element that have colon in name - Kotlin", "body": "<p>It's simple - name your field <code>wpfeaturedmedia</code> (without the colon) and it will be mapped correctly.</p>\n\n<p>Edit:\nIt seems I was wrong - Gson simply skips <code>wp:featuredmedia</code> during deserialization unless field <code>wpfeaturedmedia</code> is annotated with <code>@SerializedName(\"wp:featuredmedia\")</code> </p>\n"}], "owner": {"reputation": 977, "user_id": 6096415, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-KgecYKT5-sY/AAAAAAAAAAI/AAAAAAAAFvA/7BCaRSEYk7w/photo.jpg?sz=128", "display_name": "Mario Burga", "link": "https://stackoverflow.com/users/6096415/mario-burga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 51036347, "answer_count": 1, "score": 1, "last_activity_date": 1530024751, "creation_date": 1529990059, "last_edit_date": 1530024751, "question_id": 51035304, "link": "https://stackoverflow.com/questions/51035304/how-to-use-the-class-data-of-a-json-element-that-have-colon-in-name-kotlin", "title": "How to use the class data of a json element that have colon in name - Kotlin", "body": "<p>I have the following Json:</p>\n\n<pre><code>_embedded: {\n  wp:featuredmedia: [\n    {\n      id: 9060,\n      date: \"2018-05-28T17:41:21\",\n      author: 2,\n      caption: {\n        rendered: \"\"\n      },\n      source_url: \"h.t.t.p.s://mydomain_com/myimage.jpg\",\n    }\n  ]\n}\n</code></pre>\n\n<p>I am using httpOk and Gson to deserialize, I have the following data classes.</p>\n\n<pre><code>data class Embedded(\n    val wp:featuredmedia: List&lt;Wpfeaturedmedia&gt;\n)\n\ndata class Wpfeaturedmedia(\n    val source_url: String\n)\n</code></pre>\n\n<p>Everything works correctly, but my problem is when it comes to obtaining the image of <code>source_url</code>, because the name <code>wp:featuredmedia</code> has two points (colon). \n<strong>How do I make the class work correctly?</strong>\n<a href=\"https://i.stack.imgur.com/AFU2P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AFU2P.png\" alt=\"Image with the error\"></a></p>\n\n<p><strong>UPDATE: WORK NOW WITH</strong></p>\n\n<pre><code>data class Embedded(\n        @SerializedName(\"wp:featuredmedia\") val wpfeaturedmedia: List&lt;Wpfeaturedmedia&gt;\n)\n</code></pre>\n"}, {"tags": ["android", "json", "arraylist", "kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 4551037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09bd206ccd34e832407ed4a7031beac2?s=128&d=identicon&r=PG&f=1", "display_name": "user4551037", "link": "https://stackoverflow.com/users/4551037/user4551037"}, "is_accepted": false, "score": -1, "last_activity_date": 1529988632, "creation_date": 1529988632, "answer_id": 51035093, "question_id": 51034752, "link": "https://stackoverflow.com/questions/51034752/gson-parses-to-linkedtreemap-when-serializing-arraylist-of-generic-type/51035093#51035093", "title": "Gson parses to LinkedTreeMap when serializing ArrayList of Generic Type", "body": "<p>try this<code>val customFields = new Gson().fromJson(food.customFields,  CustomField.class);</code></p>\n"}], "owner": {"reputation": 1428, "user_id": 6243778, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/agD7O.png?s=128&g=1", "display_name": "Dale Julian", "link": "https://stackoverflow.com/users/6243778/dale-julian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "closed_date": 1529988795, "answer_count": 1, "score": 0, "last_activity_date": 1529988632, "creation_date": 1529986111, "question_id": 51034752, "link": "https://stackoverflow.com/questions/51034752/gson-parses-to-linkedtreemap-when-serializing-arraylist-of-generic-type", "closed_reason": "Duplicate", "title": "Gson parses to LinkedTreeMap when serializing ArrayList of Generic Type", "body": "<p>I have this JSON string:</p>\n\n<pre><code>[  \n   {  \n      \"k\":\"number\",\n      \"v\":\"055 543 8679\\n\"\n   },\n   {  \n      \"k\":\"hours\",\n      \"v\":\"8:00AM - 9:00PM\"\n   }\n]\n</code></pre>\n\n<p>And I'm trying to parse it using Gson:</p>\n\n<pre><code>    val customFields = Gson().fromJson(food.customFields, ArrayList&lt;CustomField&gt;()::class.java)\n</code></pre>\n\n<p>But somehow when I view it in breakpoint mode, it is parsed as a <code>LinkedTreeMap</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/MlmYH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MlmYH.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1530004145, "post_id": 51034732, "comment_id": 89069386, "body": "Why would this be useful to you? What is your use case?"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1530022789, "post_id": 51034732, "comment_id": 89081433, "body": "The use case is very specific. I&#39;m doing it for a testing library, in which I capture values passed as arguments in a Matcher, for example an EqualityMatcher. But for the function to keep being valid, it must return the type it&#39;s capturing. I&#39;ll update the question to include this use case"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1530023169, "post_id": 51034732, "comment_id": 89081709, "body": "I don&#39;t believe it&#39;s possible to make the class behave as it&#39;s generic supertype, but maybe there&#39;s an alternative I&#39;m not seeing"}], "answers": [{"comments": [{"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1532689095, "post_id": 51515693, "comment_id": 90079641, "body": "Thanks for the answer, but this isn&#39;t exactly what I&#39;m going for. I need a class to actually be T, and I think this isn&#39;t possible currently"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1532689650, "post_id": 51515693, "comment_id": 90079956, "body": "hmm... do you know Mockito? They already implemented something similar, where you can call <code>when(yourObj.yourMethod(ArgumentMatcher.any() &#47;* or the specific one!! *&#47;))</code>. Maybe that is what you are looking for? If so, here are the sources: <a href=\"https://github.com/mockito/mockito\" rel=\"nofollow noreferrer\">github.com/mockito/mockito</a>"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1532689705, "post_id": 51515693, "comment_id": 90079987, "body": "It&#39;s something very similar I&#39;m going for, it&#39;s actually to add it to <a href=\"http://mockk.io\" rel=\"nofollow noreferrer\">mockk</a>"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1532689763, "post_id": 51515693, "comment_id": 90080011, "body": "I need the class to be T, because I want the possibility to have <code>eq(X)</code> and <code>!eq(X)</code>. This would be possible overloading the <code>not</code> operator, but only if I can create a class that&#39;s both T and itself"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1532689791, "post_id": 51515693, "comment_id": 90080028, "body": "Currently, the only possible way is having <code>eq(X, inverse = true)</code> or <code>neq(X)</code>"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 1, "creation_date": 1532690922, "post_id": 51515693, "comment_id": 90080643, "body": "but to be honest... what&#39;s the problem with <code>eq</code> vs <code>neq</code>? Which class would you want to adapt to accomplish that functionality? I am not sure whether it will work with the <code>mockk</code>-code as it is today. The <code>match</code>-method takes care to transform any matcher to the <code>T</code> (internally using recorder, etc.), so the <code>match</code>-method would need to be the one to get the negated matcher. The <code>.not()</code>-operator however would apply to the <code>T</code> which is not what you want, you rather want the <code>not()</code> to apply to the matcher. So: currently that will not work as you desire."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 1, "creation_date": 1532691379, "post_id": 51515693, "comment_id": 90080881, "body": "And to summarize, I think you are right. There is no such language feature to have class that is the <code>Matcher&lt;T&gt;</code> and at the same time <code>T</code>, but you may need to build something around to handle that (which in my opinion is not worth the feature ;-))."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1532693826, "post_id": 51515693, "comment_id": 90082253, "body": "I just played around with the Matcher a bit and the main problems are either that you are missing a <code>reified T</code> when using the <code>operator</code> and that you need to supply the method in <code>MockKMatcherScope</code> to be of most value, but there is already a <code>not(t : T)</code>. So the best is: either use <code>not(eq(</code> or <code>neq</code> ;-)"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1532695115, "post_id": 51515693, "comment_id": 90083003, "body": "Indeed, for the time being, it&#39;s impossible. My goal was to actually implement a matcher that would have the <code>!eq</code> possibility. Thanks for the comments :)"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 1, "last_activity_date": 1532511641, "creation_date": 1532511641, "answer_id": 51515693, "question_id": 51034732, "link": "https://stackoverflow.com/questions/51034732/extending-a-t-type-delegating-to-t-whatever-behavior-is-need-for-its-class/51515693#51515693", "title": "Extending a T type, delegating to T whatever behavior is need for its class", "body": "<p>I don't think that I really got what you are trying to accomplish. </p>\n\n<p>But maybe the following may help you solve your problem?</p>\n\n<p>If you use</p>\n\n<pre><code>fun &lt;T&gt; foo(b: T) {\n  //...\n</code></pre>\n\n<p>and</p>\n\n<pre><code>fun &lt;T&gt; doWithFoo(s: T) {\n  //...\n</code></pre>\n\n<p>at least the call will not be invalid anymore.</p>\n"}], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1532511641, "creation_date": 1529985968, "last_edit_date": 1530023049, "question_id": 51034732, "link": "https://stackoverflow.com/questions/51034732/extending-a-t-type-delegating-to-t-whatever-behavior-is-need-for-its-class", "title": "Extending a T type, delegating to T whatever behavior is need for its class", "body": "<p>I want to add some behavior to the T generic type of my class, but I still want my class to exist. I want a class to be both itself and the T type. For instance:</p>\n\n<pre><code>open class Foo(val bar: String)\n\nclass Bar(val baz: String) : Foo(\"bar\") {\n\n}\n</code></pre>\n\n<p>This is an easy case, because I know Foo type in advance. If I make Foo an interface, I can delegate it's methods to a parameter:</p>\n\n<pre><code>interface Foo {\n    fun bar() = \"bar\"\n}  \n\nclass Bar(val foo: Foo) : Foo by foo {\n\n}\n</code></pre>\n\n<p>And <code>Bar</code> is still a <code>Foo</code>.</p>\n\n<p>But what if I don't know what type it is at this time? I want Bar to be T aswell as Bar, and I thought of something like this:</p>\n\n<pre><code>class Bar&lt;T&gt;(val t: T) : T by t\n</code></pre>\n\n<p>But it doesn't compile. I wanted to use it in this fashion:</p>\n\n<pre><code>fun doWithFoo(s: String) {\n    print(s)\n}\n\nfun unknownFoo() {\n    val bar = Bar(\"baz\")\n    doWithFoo(bar)\n}\n</code></pre>\n\n<p>This might be a bizarre use case, but it's necessary. I need it to capture arguments passed to a function, and make assertions over it, but I need the function to still be valid, so:</p>\n\n<pre><code>fun foo(b: Bar){\n    print(b.toString())\n}\n</code></pre>\n\n<p>If I want to create an argument capturer for the function <code>foo</code>, I could create something that captures it</p>\n\n<pre><code>class Capturer&lt;T&gt;(t: T) {\n    //code that captures the value and make assertions over it\n}\n</code></pre>\n\n<p>But then the function would become invalid:</p>\n\n<pre><code>val capturer = Capturer&lt;Bar&gt;(Bar(\"X\"))\nfoo(capturer) //Invalid\n</code></pre>\n\n<p>So I need capturer to also be a Bar. This way the function <code>foo</code> is still valid.</p>\n\n<p>How could I make the Bar class to be both a Bar and the generic type T?</p>\n"}, {"tags": ["android", "listview", "if-statement", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1529991898, "post_id": 51035112, "comment_id": 89063002, "body": "Hi and tyvm, where should I add these lines in my code, I&#180;m working with Kotlin in Android btw."}, {"owner": {"reputation": 68, "user_id": 4548949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63d0a2337e9250c95abfabb738904f31?s=128&d=identicon&r=PG&f=1", "display_name": "Lakshmi", "link": "https://stackoverflow.com/users/4548949/lakshmi"}, "reply_to_user": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1529992379, "post_id": 51035112, "comment_id": 89063191, "body": "add this in your button click handler"}, {"owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1529993567, "post_id": 51035112, "comment_id": 89063653, "body": "I&#39;m totally lost, coz it seems I can not import what is needed since I&#39;m not working in java but in Kotlin, I&#39;m getting the unsolved reference message"}], "tags": [], "owner": {"reputation": 68, "user_id": 4548949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63d0a2337e9250c95abfabb738904f31?s=128&d=identicon&r=PG&f=1", "display_name": "Lakshmi", "link": "https://stackoverflow.com/users/4548949/lakshmi"}, "is_accepted": false, "score": 0, "last_activity_date": 1529999579, "last_edit_date": 1529999579, "creation_date": 1529988773, "answer_id": 51035112, "question_id": 51034712, "link": "https://stackoverflow.com/questions/51034712/conditional-button-actions-depending-on-selected-item-in-a-listview/51035112#51035112", "title": "Conditional button actions depending on selected item in a ListView", "body": "<p>ListView does not store selectedItem position when you set choice mode. It stores the checked item position. </p>\n\n<p>Check this out </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\nprivate lateinit var listView:ListView\ninternal lateinit var adapteranimals: ArrayAdapter&lt;String&gt;\nval nameofanimals = arrayOf(\"cat\",\"dog\",\"parrot\")\nprivate lateinit var btn1:Button\nprivate lateinit var myobject:String\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n\n    listView = findViewById&lt;ListView&gt;(R.id.list1)\n    btn1 = findViewById&lt;Button&gt;(R.id.btn1)\n    adapteranimals = ArrayAdapter(\n            this@MainActivity,\n            R.layout.list1layout,\n            nameofanimals)\n    listView.adapter = adapteranimals\n    btn1.setOnClickListener {\n        val pos = listView.getCheckedItemPosition()\n        myobject  = listView.getAdapter().getItem(pos) as String\n        Log.d(\"Selected item\",myobject);\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 6551160, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1487196251296809/picture?type=large", "display_name": "Sh&#225;il&#232;ndra Wregmi", "link": "https://stackoverflow.com/users/6551160/sh%c3%a1il%c3%a8ndra-wregmi"}, "is_accepted": false, "score": 0, "last_activity_date": 1530001071, "creation_date": 1530001071, "answer_id": 51038109, "question_id": 51034712, "link": "https://stackoverflow.com/questions/51034712/conditional-button-actions-depending-on-selected-item-in-a-listview/51038109#51038109", "title": "Conditional button actions depending on selected item in a ListView", "body": "<p>You are trying to access the variable from list and you expect the list to store that variable position. But unfortunately list does not save the click item position. Use this code and the item that is clicked is in position.  </p>\n\n<pre><code> ListView list = (ListView) findViewById(R.id.listview);\n    list.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n       @Override\n       public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n         // Object listItem = list.getItemAtPosition(position);\n            ListView.visibility = View.GONE\n            website.visibility = View.VISIBLE\n            //you can get the list item clicked in position variable\n\n\n       } \n    });\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1530001071, "creation_date": 1529985834, "question_id": 51034712, "link": "https://stackoverflow.com/questions/51034712/conditional-button-actions-depending-on-selected-item-in-a-listview", "title": "Conditional button actions depending on selected item in a ListView", "body": "<p>I\u00b4m trying to display a message when pressing a button but nothing has been selected in list1. And if an item is selected, I want it to get the listView layout visibility set to gone and the website layout visibility set to visible.</p>\n\n<p>All I get when pressing the button is the toast message no matter what.</p>\n\n<p>Here is the code:</p>\n\n<p>My button:</p>\n\n<pre><code>        button1.setOnClickListener {\n            var selectedObj = list1.getSelectedItem()\n            if (selectedObj == null) {\n                toast(\"You need to choose an item form the list first\")\n            }\n            else {\n                val builder = AlertDialog.Builder(this)\n                builder.setTitle(\"Warning\")\n                builder.setMessage(\"This service requires data\")\n                builder.setPositiveButton(\"Yes\", { dialogInterface: DialogInterface, i: Int -&gt;\n                    ListView.visibility = View.GONE\n                    website.visibility = View.VISIBLE\n                })\n                builder.setNegativeButton(\"No\", { dialogInterface: DialogInterface, i: Int -&gt; })\n                builder.show()\n            }\n\n        }\n</code></pre>\n\n<p>here is my listView:</p>\n\n<pre><code> &lt;ListView\n    android:id=\"@+id/list1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1\"\n    android:choiceMode=\"singleChoice\"\n    android:focusable=\"true\"\n    android:focusableInTouchMode=\"true\"\n    android:listSelector=\"@android:color/darker_gray\"\n    android:textSize=\"10dp\"\n\n&lt;/ListView&gt;\n</code></pre>\n\n<p>my code:</p>\n\n<pre><code>    val nameofanimals = arrayOf(\"cat\",\"dog\",\"parrot\")\n\nval list1 = findViewById(R.id.list1) as ListView\n\ninternal lateinit var adapteranimals: ArrayAdapter&lt;String&gt;\n</code></pre>\n\n<p>my adapter:</p>\n\n<pre><code>adapteranimals = ArrayAdapter(\n    this@MainActivity,\n    R.layout.list1layout,\n    nameofanimals)\nlist1.adapter = adapteranimals\n</code></pre>\n\n<p>Tyvm in advance for yout support</p>\n\n<p>Regards.</p>\n"}, {"tags": ["android", "kotlin", "paging"], "answers": [{"comments": [{"owner": {"reputation": 2719, "user_id": 1947601, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OkoEH.jpg?s=128&g=1", "display_name": "0xMatthewGroves", "link": "https://stackoverflow.com/users/1947601/0xmatthewgroves"}, "edited": false, "score": 0, "creation_date": 1530832279, "post_id": 51185155, "comment_id": 89383514, "body": "Thanks for your answer. Can you provide an example of approach number 2? Specifically the invalidation logic? The data is timestamped, so it&#39;s easy enough to do a comparison."}, {"owner": {"reputation": 1082, "user_id": 6600637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09f64c301e5e72394921766d624d9ec?s=128&d=identicon&r=PG&f=1", "display_name": "Shynline", "link": "https://stackoverflow.com/users/6600637/shynline"}, "reply_to_user": {"reputation": 2719, "user_id": 1947601, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OkoEH.jpg?s=128&g=1", "display_name": "0xMatthewGroves", "link": "https://stackoverflow.com/users/1947601/0xmatthewgroves"}, "edited": false, "score": 0, "creation_date": 1530852082, "post_id": 51185155, "comment_id": 89387344, "body": "That works too. You just need to see if the record is new or not. If not, send a network fetch request in onItemAtFront method. There&#39;s no special logic. Do the thing that fit your project."}, {"owner": {"reputation": 1082, "user_id": 6600637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09f64c301e5e72394921766d624d9ec?s=128&d=identicon&r=PG&f=1", "display_name": "Shynline", "link": "https://stackoverflow.com/users/6600637/shynline"}, "reply_to_user": {"reputation": 2719, "user_id": 1947601, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OkoEH.jpg?s=128&g=1", "display_name": "0xMatthewGroves", "link": "https://stackoverflow.com/users/1947601/0xmatthewgroves"}, "edited": false, "score": 2, "creation_date": 1530852276, "post_id": 51185155, "comment_id": 89387384, "body": "If you&#39;re looking for a more advance technique you can put a hash field in your server database and everytime you change the field calculate the new hash. In your client everytime user open the listView compare all the local hashes with server&#39;s with a network request. And update the one with diffrent hashes."}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 1, "creation_date": 1591199987, "post_id": 51185155, "comment_id": 109967219, "body": "This is pretty ridiculous and not well explained in the docs. What kind of crazy app has conditions where you <i>don&#39;t</i> need to &quot;refresh&quot; data every launch. There is this whole convoluted live data mechanism to get the swipe-to-refresh to work as expected, and no way to call it manually because it is tied to the initial load which will always just fetch from the db."}, {"owner": {"reputation": 1082, "user_id": 6600637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09f64c301e5e72394921766d624d9ec?s=128&d=identicon&r=PG&f=1", "display_name": "Shynline", "link": "https://stackoverflow.com/users/6600637/shynline"}, "reply_to_user": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1591275216, "post_id": 51185155, "comment_id": 109998119, "body": "@DanielWilson The question is not about updating our database with new entries, It&#39;s about updating the ones we already have. For example, updating likes &amp; comments for a post in social media. You have the posts in the database and you will receive new ones either with polling the new posts on-demand ( pull to refresh case ) or by pushing posts from the server. what you need is to figure out which posts(those you already have) need to update their likes or comments."}, {"owner": {"reputation": 1082, "user_id": 6600637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09f64c301e5e72394921766d624d9ec?s=128&d=identicon&r=PG&f=1", "display_name": "Shynline", "link": "https://stackoverflow.com/users/6600637/shynline"}, "reply_to_user": {"reputation": 2719, "user_id": 1947601, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OkoEH.jpg?s=128&g=1", "display_name": "0xMatthewGroves", "link": "https://stackoverflow.com/users/1947601/0xmatthewgroves"}, "edited": false, "score": 0, "creation_date": 1591275384, "post_id": 51185155, "comment_id": 109998235, "body": "@FrostRocket btw why didn&#39;t you mark this as an accepted answer? is there anything else you wish to know?"}], "tags": [], "owner": {"reputation": 1082, "user_id": 6600637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09f64c301e5e72394921766d624d9ec?s=128&d=identicon&r=PG&f=1", "display_name": "Shynline", "link": "https://stackoverflow.com/users/6600637/shynline"}, "is_accepted": false, "score": 4, "last_activity_date": 1530774154, "creation_date": 1530774154, "answer_id": 51185155, "question_id": 51034596, "link": "https://stackoverflow.com/questions/51034596/updating-pagedlistadapter-after-initial-load-to-show-latest-network-data/51185155#51185155", "title": "Updating PagedListAdapter after initial load to show latest network data", "body": "<p>The whole point of using this technique ( database and rest) is caching data and preventing to load them again.\nBut if your data is not static and it may be changed or invalidated.\nyou can have two approaches:</p>\n\n<p>1 - Remove every record in the database after closing the app (or when starting the app. destroy callbacks are not viable), in this case, you will get fresh data after next start.</p>\n\n<p>2 - Make a field in your database as \"Expiration\" date or something similar. keep checking the field on <code>onItemAtFrontLoaded</code> in <code>boundaryCallback</code> if they're expired you can invalidate and fetch it again from web service.</p>\n"}], "owner": {"reputation": 2719, "user_id": 1947601, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OkoEH.jpg?s=128&g=1", "display_name": "0xMatthewGroves", "link": "https://stackoverflow.com/users/1947601/0xmatthewgroves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2103, "favorite_count": 0, "answer_count": 1, "score": 11, "last_activity_date": 1530774154, "creation_date": 1529984961, "last_edit_date": 1529985420, "question_id": 51034596, "link": "https://stackoverflow.com/questions/51034596/updating-pagedlistadapter-after-initial-load-to-show-latest-network-data", "title": "Updating PagedListAdapter after initial load to show latest network data", "body": "<p>I'm utilizing the new Paging library to load paginated data from a rest API, but I'm having trouble understanding how to continue loading fresh data after it's cached in Room. Currently, I have a PagedListAdapter that's updated by using a boundary callback to load items from API, which are then stored in the local DB (Room), which are emitted to the UI via a flowable.</p>\n\n<p>onZeroItemsLoaded and onItemAtEndLoaded calls from the BoundaryCallback are all functioning as expected, but only for the initial load. Once the data is retrieved once and stored in cache (Room), I'll never get fresh data from the network service--there's already data in the cache and the boundary callbacks are not triggered.</p>\n\n<p>How do you mark items stale using the paging library so that every time the app opens my data is fresh?</p>\n\n<p>ItemCallback.kt:</p>\n\n<pre><code>class ItemBoundaryCallback : PagedList.BoundaryCallback&lt;Item&gt;() {\n        override fun onZeroItemsLoaded() {\n            itemsFromNetwork(0)\n        }\n\n        override fun onItemAtEndLoaded(itemAtEnd: Item) {\n            itemsFromNetwork(itemAtEnd.rank)\n        }\n    }\n</code></pre>\n\n<p>ItemRepository.kt:</p>\n\n<pre><code>fun items(): Flowable&lt;PagedList&lt;Item&gt;&gt; {\n    return RxPagedListBuilder(database.itemDao().items(), pageSize)\n            .setBoundaryCallback(boundaryCallback)\n            .buildFlowable(BackpressureStrategy.LATEST)\n}\n</code></pre>\n\n<p>ItemDao.kt</p>\n\n<pre><code>@Query(\"SELECT * FROM item ORDER BY rank ASC\")\nfun items(): DataSource.Factory&lt;Int, Item&gt;\n</code></pre>\n\n<p>ItemAdapter.kt</p>\n\n<pre><code>class ItemAdapter() : PagedListAdapter&lt;Item, ItemViewHolder&gt;(diffCallback) {\n    companion object {\n        private val diffCallback = object : DiffUtil.ItemCallback&lt;Item&gt;() {\n            override fun areItemsTheSame(old: Item, new: Item): Boolean = old.id == new.id\n            override fun areContentsTheSame(old: Item, new: Item): Boolean = old == new\n        }\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemViewHolder {\n        return ItemViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.r_item, parent, false))\n    }\n\n    override fun onBindViewHolder(viewHolder: ItemViewHolder, position: Int) {\n        viewHolder.bind(getItem(position), clickListener)\n    }\n}\n</code></pre>\n\n<p>ItemFragment.kt</p>\n\n<pre><code>override fun onStart() {\n    super.onStart()\n\n    itemRepository.items()\n            .subscribe(itemAdapter::submitList)\n            .addTo(disposables)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "draw", "geometry", "shadow"], "comments": [{"owner": {"reputation": 633, "user_id": 3861421, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fa6128837c33056ccb608b267f74679c?s=128&d=identicon&r=PG&f=1", "display_name": "amit", "link": "https://stackoverflow.com/users/3861421/amit"}, "edited": false, "score": 1, "creation_date": 1529979256, "post_id": 51033899, "comment_id": 89060059, "body": "See this link <a href=\"https://stackoverflow.com/questions/17655264/how-to-add-a-shadow-and-a-border-on-circular-imageview-android\" title=\"how to add a shadow and a border on circular imageview android\">stackoverflow.com/questions/17655264/&hellip;</a>"}, {"owner": {"reputation": 678, "user_id": 8039540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZolZ.jpg?s=128&g=1", "display_name": "pistolcaffe", "link": "https://stackoverflow.com/users/8039540/pistolcaffe"}, "reply_to_user": {"reputation": 633, "user_id": 3861421, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fa6128837c33056ccb608b267f74679c?s=128&d=identicon&r=PG&f=1", "display_name": "amit", "link": "https://stackoverflow.com/users/3861421/amit"}, "edited": false, "score": 0, "creation_date": 1529979458, "post_id": 51033899, "comment_id": 89060097, "body": "thanks. I think reducing the size of the circle and adding a shadow is a way I can try. But I wonder if there is a way to keep the size of the circle and add only the shadow."}], "owner": {"reputation": 678, "user_id": 8039540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZolZ.jpg?s=128&g=1", "display_name": "pistolcaffe", "link": "https://stackoverflow.com/users/8039540/pistolcaffe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1867, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1529978333, "creation_date": 1529978333, "question_id": 51033899, "link": "https://stackoverflow.com/questions/51033899/how-to-correctly-draw-a-shadow-on-a-circle-in-android", "title": "How to correctly draw a shadow on a circle in Android", "body": "<p>I have a circle in the custom view, and I need to add a shadow. View is always a fixed size, and the circle should be drawn to that size. I added a shadowlayer. However, the value added to the shadowlayer is truncated. I am wondering if there is a way to draw a circle to a given view size and add a shadow.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qLjYS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qLjYS.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>CODE</strong></p>\n\n<pre><code>class MockupOval(context: Context) : ConstraintLayout(context){\n\n    private val paint: Paint\n    private val rect = RectF(0f, 0f, 0f, 0f)\n\n    init {\n        setWillNotDraw(false)\n        paint = Paint().apply {\n            color = ContextCompat.getColor(context, \n                R.color.mockup_rectangle_default_bg)\n            style = Paint.Style.FILL\n            isAntiAlias = true\n            setShadowLayer(10f, 10f, 10f, 0x80000000.toInt())\n            setLayerType(View.LAYER_TYPE_SOFTWARE, this)\n        }\n    }\n\n    override fun onLayout(changed: Boolean, left: Int, top: Int, right: \n                          Int, bottom: Int) {\n        super.onLayout(changed, left, top, right, bottom)\n        rect.set(0.0f, 0.0f, width.toFloat(), height.toFloat())\n        invalidate()\n    }\n\n    override fun onDraw(canvas: Canvas?) {\n        super.onDraw(canvas)\n        canvas?.run {\n            drawOval(rect, paint)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["class", "object", "kotlin", "instance"], "answers": [{"tags": [], "owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "is_accepted": true, "score": 2, "last_activity_date": 1529983081, "last_edit_date": 1529983081, "creation_date": 1529975547, "answer_id": 51033635, "question_id": 51033586, "link": "https://stackoverflow.com/questions/51033586/objects-and-instances-in-kotlin/51033635#51033635", "title": "Objects and Instances in Kotlin", "body": "<p>Your code is not a valid Kotlin code. It has syntax errors. The following is the correct version:</p>\n\n<pre><code>class A (var string: String) {\n\n}\n\nclass B {\n    var a : A = A (\"string\")\n\n}\n\nfun main (args: Array&lt;String&gt;){\n    var b = B ()\n    println(b.a)\n\n}\n</code></pre>\n\n<p>Here is the explanation:</p>\n\n<ul>\n<li>The class keyword starts with lowercase <code>c</code> as <code>class</code> not <code>Class</code>.</li>\n<li>The arguments require the identifier and then type: <code>var param: String</code></li>\n<li>The print method is misspelled. It is <code>println</code> not <code>prinln</code>.</li>\n</ul>\n\n<p><strong>Regarding your question:</strong></p>\n\n<blockquote>\n  <p>In Java, we have two types of type\u2014primitive (e.g. int, long, boolean,\n  byte, char, etc.) and reference types (e.g. array, String). Java uses\n  wrappers (like java.lang.Integer) to make primitive types behave like\n  objects. But in Kotlin, there is no such distinction. Instead, all\n  types are objects.</p>\n</blockquote>\n\n<p>More here: <a href=\"https://code.tutsplus.com/tutorials/kotlin-from-scratch-variables-basic-types-arrays-type-inference-and-comments--cms-29328\" rel=\"nofollow noreferrer\">Kotlin From Scratch: Variables, Basic Types, and Arrays</a></p>\n\n<p>You can define your own objects using class. Here is a complete reference to understand: <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/classes.html</a> </p>\n\n<p>In class B you are instantiating class A and assign it to a variable <code>a</code>. In this case, the variable <code>a</code> is a member/ property of class B.</p>\n"}, {"tags": [], "owner": {"reputation": 3342, "user_id": 4380236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTHoX.jpg?s=128&g=1", "display_name": "urgentx", "link": "https://stackoverflow.com/users/4380236/urgentx"}, "is_accepted": false, "score": 0, "last_activity_date": 1529976051, "creation_date": 1529976051, "answer_id": 51033688, "question_id": 51033586, "link": "https://stackoverflow.com/questions/51033586/objects-and-instances-in-kotlin/51033688#51033688", "title": "Objects and Instances in Kotlin", "body": "<p>There are no primitive types in Kotlin (only in Java); every type derives from nullable object type <code>Any?</code>. Class B receives the fields and methods of class A via the common OO mechanism of <a href=\"https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)\" rel=\"nofollow noreferrer\">inheritance</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 9991638, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zh_bp7TMK-k/AAAAAAAAAAI/AAAAAAAAAA0/iXEZovaltpk/photo.jpg?sz=128", "display_name": "OB Wanda", "link": "https://stackoverflow.com/users/9991638/ob-wanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "accepted_answer_id": 51033635, "answer_count": 2, "score": -1, "last_activity_date": 1529983081, "creation_date": 1529975076, "last_edit_date": 1529976145, "question_id": 51033586, "link": "https://stackoverflow.com/questions/51033586/objects-and-instances-in-kotlin", "title": "Objects and Instances in Kotlin", "body": "<p>Can anybody explain how variable \"<strong><em>a</em></strong>\" gets to be given a <strong><em>type</em></strong> of a <em>class name</em> \"<strong>A</strong>\" and not the traditional \"<strong><em>primitive</em></strong> <strong><em>types</em></strong>\"?</p>\n\n<p>for example: </p>\n\n<pre><code>Class A (var: string) {\n\n}\n\nClass B {\nvar a : A = A (\"string\")\n\n}\n\nfun main (args: Array&lt;String&gt;){\nvar b = B ()\nprinln(b.a)\n\n}\n</code></pre>\n\n<p>The goal here is to give the instance of \"<strong><em>Class B</em></strong>\" the properties of \"<strong><em>Class A</em></strong>\". I need to understand why it has to be done this way, and how does a \"<strong><em>class</em></strong>\" gets to be <em>acting</em> as a variable \"<strong><em>type</em></strong>\". </p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 26640, "user_id": 13163, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67f7ed4d56aafb0563abfe2c74697a3d?s=128&d=identicon&r=PG", "display_name": "Krzysztof Kozmic", "link": "https://stackoverflow.com/users/13163/krzysztof-kozmic"}, "edited": false, "score": 2, "creation_date": 1529974116, "post_id": 51031477, "comment_id": 89059154, "body": "Sounds like a bug in the Kotlin extension perhaps? Have you checked the issue tracker if it&#39;s been logger as a bug there?"}], "answers": [{"comments": [{"owner": {"reputation": 1120, "user_id": 3308320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ODaye.jpg?s=128&g=1", "display_name": "Aidan Laing", "link": "https://stackoverflow.com/users/3308320/aidan-laing"}, "edited": false, "score": 1, "creation_date": 1530207190, "post_id": 51036340, "comment_id": 89165631, "body": "I still seem to be experiencing this in 1.2.50"}, {"owner": {"reputation": 1672, "user_id": 4878968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee48067a9d435eab1991fec2baece3c?s=128&d=identicon&r=PG", "display_name": "Jacques.S", "link": "https://stackoverflow.com/users/4878968/jacques-s"}, "reply_to_user": {"reputation": 1120, "user_id": 3308320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ODaye.jpg?s=128&g=1", "display_name": "Aidan Laing", "link": "https://stackoverflow.com/users/3308320/aidan-laing"}, "edited": false, "score": 1, "creation_date": 1530691370, "post_id": 51036340, "comment_id": 89320167, "body": "Did you make sure to invalidate caches and clean your project after the update, as well as make sure your Kotlin version is up to date everywhere?"}, {"owner": {"reputation": 1120, "user_id": 3308320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ODaye.jpg?s=128&g=1", "display_name": "Aidan Laing", "link": "https://stackoverflow.com/users/3308320/aidan-laing"}, "edited": false, "score": 0, "creation_date": 1530730343, "post_id": 51036340, "comment_id": 89341513, "body": "I&#39;ll go ahead and try that. Thanks Jaques. I&#39;ll make sure to mark it as the solution if it does work."}], "tags": [], "owner": {"reputation": 1672, "user_id": 4878968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee48067a9d435eab1991fec2baece3c?s=128&d=identicon&r=PG", "display_name": "Jacques.S", "link": "https://stackoverflow.com/users/4878968/jacques-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1529995060, "creation_date": 1529995060, "answer_id": 51036340, "question_id": 51031477, "link": "https://stackoverflow.com/questions/51031477/how-do-i-stop-optimize-imports-from-removing-kotlin-android-extensions-imports/51036340#51036340", "title": "How do I stop optimize imports from removing Kotlin Android Extensions imports?", "body": "<p>If you are running Kotlin version 1.2.40, you will likely experience this issue.</p>\n\n<p>Upgrade your Kotlin and Kotlin-android-extensions version in your build.gradle files to 1.2.50</p>\n\n<pre><code>classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.50\"\nclasspath \"org.jetbrains.kotlin:kotlin-android-extensions:1.2.50\"\n</code></pre>\n"}], "owner": {"reputation": 1120, "user_id": 3308320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ODaye.jpg?s=128&g=1", "display_name": "Aidan Laing", "link": "https://stackoverflow.com/users/3308320/aidan-laing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1529995060, "creation_date": 1529959169, "question_id": 51031477, "link": "https://stackoverflow.com/questions/51031477/how-do-i-stop-optimize-imports-from-removing-kotlin-android-extensions-imports", "title": "How do I stop optimize imports from removing Kotlin Android Extensions imports?", "body": "<p>Running optimize imports on Android Studio 3.1.3 is causing my kotlin android extension imports to be removed even when they're being used. Anyone know how to resolve this issue or exclude kotlinx imports from being removed by optimize imports?</p>\n"}, {"tags": ["android", "listview", "if-statement", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1529962223, "post_id": 51031974, "comment_id": 89056444, "body": "Thank you very much for your answer, all that i need is to display a toast message when a user press a button without having selected an item from the list. and if they have then perform an action. I&#180;m trying to perform a conditional action here."}, {"owner": {"reputation": 1920, "user_id": 1610459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rRAtI.jpg?s=128&g=1", "display_name": "droidchef", "link": "https://stackoverflow.com/users/1610459/droidchef"}, "reply_to_user": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1529962388, "post_id": 51031974, "comment_id": 89056517, "body": "@GaboWalker are you using a ListView?"}, {"owner": {"reputation": 1920, "user_id": 1610459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rRAtI.jpg?s=128&g=1", "display_name": "droidchef", "link": "https://stackoverflow.com/users/1610459/droidchef"}, "reply_to_user": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1529963274, "post_id": 51031974, "comment_id": 89056800, "body": "Try using the code I suggested and see if it works for you."}, {"owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1529968667, "post_id": 51031974, "comment_id": 89058109, "body": "same thing happens, it only displays the toast message no matters what. ty anyways for your help"}], "tags": [], "owner": {"reputation": 1920, "user_id": 1610459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rRAtI.jpg?s=128&g=1", "display_name": "droidchef", "link": "https://stackoverflow.com/users/1610459/droidchef"}, "is_accepted": false, "score": 0, "last_activity_date": 1529963125, "last_edit_date": 1529963125, "creation_date": 1529961758, "answer_id": 51031974, "question_id": 51030977, "link": "https://stackoverflow.com/questions/51030977/toast-when-no-item-is-selected-in-listview/51031974#51031974", "title": "Toast when no item is selected in listView", "body": "<p>In order to make your items selectable in a list there are two key methods that you need to call on the listview.</p>\n\n<p>Before <code>button.setOnClickListener</code> add these two lines</p>\n\n<pre><code>        list1.setItemsCanFocus(false);\n        list1.setChoiceMode(ListView.CHOICE_MODE_SINGLE);\n</code></pre>\n\n<p>Then inside your <code>onClickListener</code> do this:</p>\n\n<pre><code>Object selectedObj = list1.getSelectedItem(); \n\nif (selectedObj == null) {\n showToast();\n} else {\n doSomethingElse();\n}\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529963125, "creation_date": 1529956497, "last_edit_date": 1529962928, "question_id": 51030977, "link": "https://stackoverflow.com/questions/51030977/toast-when-no-item-is-selected-in-listview", "title": "Toast when no item is selected in listView", "body": "<p>Hi guys I\u00b4m trying to make this work:</p>\n\n<pre><code>         button.setOnClickListener {\n            if (list1.choiceMode == android.widget.ListView.CHOICE_MODE_NONE){\n                toast(\"You need to choose an item first\")\n            }\n            else {\n                val builder = AlertDialog.Builder(this)\n                builder.setTitle(\"Alert\")\n                builder.setMessage(\"This service requires data?\")\n                builder.setPositiveButton(\"Yes\", { dialogInterface: DialogInterface, i: Int -&gt;\n                    ListView.visibility = View.GONE\n                    website.visibility = View.VISIBLE\n                })\n                builder.setNegativeButton(\"No\", { dialogInterface: DialogInterface, i: Int -&gt; })\n                builder.show()\n            }\n\n        }\n</code></pre>\n\n<p>I\u00b4m trying to display a message when the user press the button but he hasn\u00b4t selected any item from the list1. And if everything is ok, I want it to get the listView visibility set to gone and  the website visibility set to visible.</p>\n\n<p>All i get when pressing the button is the toast message.</p>\n\n<p>EDITED:</p>\n\n<pre><code>    val nameofanimals = arrayOf(\"cat\",\"dog\",\"parrot\")\n\ninternal lateinit var adapteranimals: ArrayAdapter&lt;String&gt;\n</code></pre>\n\n<p>here is my list:</p>\n\n<pre><code>val list1 = findViewById(R.id.list1) as ListView\n\n\n    &lt;ListView\n        android:id=\"@+id/list1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:layout_weight=\"1\"\n        android:choiceMode=\"singleChoice\"\n        android:focusable=\"true\"\n        android:focusableInTouchMode=\"true\"\n        android:listSelector=\"@android:color/darker_gray\"\n        android:textSize=\"10dp\"\n        android:visibility=\"gone\"&gt;\n\n\n    &lt;/ListView&gt;\n</code></pre>\n\n<p>my adapter:</p>\n\n<pre><code>adapteranimals = ArrayAdapter(\n        this@MainActivity,\n        R.layout.list1layout,\n        nameofanimals)\nlist1.adapter = adapteranimals\n</code></pre>\n\n<p>Now I need to display a toast message when none of cat, dog or parrot is selected, and want to set the visibility of a webviewer and a listview layout to visible and to gone when the user actually select one of the options in my list</p>\n"}, {"tags": ["java", "android", "kotlin", "android-room", "android-architecture-components"], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 7762972, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D0G_w8i2W5U/AAAAAAAAAAI/AAAAAAAAAGA/SoWzOiLZ9w4/photo.jpg?sz=128", "display_name": "Nikita Shavrin", "link": "https://stackoverflow.com/users/7762972/nikita-shavrin"}, "is_accepted": true, "score": 0, "last_activity_date": 1531317861, "last_edit_date": 1531317861, "creation_date": 1531316410, "answer_id": 51287004, "question_id": 51030255, "link": "https://stackoverflow.com/questions/51030255/room-compare-lists-in-entity/51287004#51287004", "title": "Room - Compare lists in Entity", "body": "<p>Solve it with @RawQuery:</p>\n\n<pre><code>\" WHERE recipients LIKE ${recipients.joinToString(\",\", \"\\\"\", \"\\\"\")}\"\n</code></pre>\n\n<p>end editing TypeConvertor:</p>\n\n<pre><code>@TypeConverter\nfun getListOfLongs(data: String?): List&lt;Long&gt; {\n    if (data == null) {\n        return Collections.emptyList()\n    }\n    val listType = object : TypeToken&lt;List&lt;Long&gt;&gt;() {}.type\n\n    return gson.fromJson(\"[$data]\", listType)\n}\n\n@TypeConverter\nfun convertListToString(ids: List&lt;Long&gt;?): String? {\n    if (ids == null) return null\n    var idsString = gson.toJson(ids)\n    idsString = idsString.replace(\"]\", \"\")\n    idsString = idsString.replace(\"[\", \"\")\n    return idsString\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 7762972, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D0G_w8i2W5U/AAAAAAAAAAI/AAAAAAAAAGA/SoWzOiLZ9w4/photo.jpg?sz=128", "display_name": "Nikita Shavrin", "link": "https://stackoverflow.com/users/7762972/nikita-shavrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 51287004, "answer_count": 1, "score": 4, "last_activity_date": 1536108544, "creation_date": 1529953213, "last_edit_date": 1536108544, "question_id": 51030255, "link": "https://stackoverflow.com/questions/51030255/room-compare-lists-in-entity", "title": "Room - Compare lists in Entity", "body": "<p>I have a problem with Room.\nI have an Entity:</p>\n\n<pre><code>@Entity(tableName = \"Entity\")\ndata class Entity(val recipients: List&lt;ID&gt;?) {\n    @ColumnInfo(name = \"id\")\n    @PrimaryKey(autoGenerate = true) var id: Long = 0\n}\n</code></pre>\n\n<p>As you can see it holds List of ID's (typealias ID = Long)\nAnd so, I made TypeConverter:   </p>\n\n<pre><code>@TypeConverter\nfun getListOfLongs(data: String?): List&lt;ID&gt; {\n    if (data == null) {\n        return Collections.emptyList()\n    }\n    val listType = object : TypeToken&lt;List&lt;Long&gt;&gt;() {}.type\n\n    return gson.fromJson(data, listType)\n}\n\n@TypeConverter\nfun convertListToString(ids: List&lt;ID&gt;): String = gson.toJson(ids)\n</code></pre>\n\n<p>But I have a problem, I can't make right Query for this list:</p>\n\n<pre><code>@Query(\"select count(*) from Message where recipients in (:recipients)\")\nfun count(recipients: List&lt;ID&gt;?): Int\n</code></pre>\n\n<p>As you see, I need to compare two lists (list in entity and list from method) and get all entities which contains Id's from method's list, but this Query returns always 0. I read that with TypeConverter's lists may be problems, but I can't find any solution.</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9950367"}, "edited": false, "score": 0, "creation_date": 1530046388, "post_id": 51031749, "comment_id": 89093382, "body": "Thank you very much for your answer! I will use picasso now!"}, {"owner": {"reputation": 1073, "user_id": 4127441, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7pi4r.png?s=128&g=1", "display_name": "rgv", "link": "https://stackoverflow.com/users/4127441/rgv"}, "edited": false, "score": 0, "creation_date": 1530047123, "post_id": 51031749, "comment_id": 89093728, "body": "I recommend Picasso over Glide, if your app doesn&#39;t do too much with images, as Picasso is lighter in size and their usage is similar"}], "tags": [], "owner": {"reputation": 1073, "user_id": 4127441, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7pi4r.png?s=128&g=1", "display_name": "rgv", "link": "https://stackoverflow.com/users/4127441/rgv"}, "is_accepted": false, "score": 0, "last_activity_date": 1529960625, "creation_date": 1529960625, "answer_id": 51031749, "question_id": 51030168, "link": "https://stackoverflow.com/questions/51030168/scale-an-image-in-kotlin-android-studio/51031749#51031749", "title": "Scale an image in Kotlin Android Studio", "body": "<p>This solution might be overkill for your current question, but if you have to show images in your app, I recommend using an image handling library such as Picasso or Glide.</p>\n\n<p>If you are to use Picasso, add it to your dependencies by adding the following line to your gradle files : </p>\n\n<pre><code>dependencies {\n    implementation 'com.squareup.picasso:picasso:2.71828'\n}\n</code></pre>\n\n<p>Then in your Kotlin file, when you are about to load the picture onto an ImageView,\ndo it using Picasso using the following lines :</p>\n\n<pre><code>Picasso\n            .get()\n            .load(imageUrl)\n            .fit()\n            .centerInside()\n            .into(imageView)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 5453672, "user_type": "registered", "profile_image": "https://graph.facebook.com/969264689783052/picture?type=large", "display_name": "Tushar Chawla", "link": "https://stackoverflow.com/users/5453672/tushar-chawla"}, "is_accepted": false, "score": 0, "last_activity_date": 1529995538, "creation_date": 1529995538, "answer_id": 51036455, "question_id": 51030168, "link": "https://stackoverflow.com/questions/51030168/scale-an-image-in-kotlin-android-studio/51036455#51036455", "title": "Scale an image in Kotlin Android Studio", "body": "<p>Yes, I agree with rgv. Use an image handling library, preferably Picasso. It can reduce a lot of hardwork and also, the result is better than what you would have got by scaling image manually.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9950367"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 716, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1529995538, "creation_date": 1529952890, "last_edit_date": 1529959625, "question_id": 51030168, "link": "https://stackoverflow.com/questions/51030168/scale-an-image-in-kotlin-android-studio", "title": "Scale an image in Kotlin Android Studio", "body": "<p>I'm new to Kotlin and Java and don't know how to scale an image in an image view. \nI want something like this: <code>MyImageView.setHeight(300)</code>\nI don't want to distort the image.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-gradle-plugin", "android-databinding"], "comments": [{"owner": {"reputation": 2915, "user_id": 1686989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9b0e6b2a412cdb1a8b549c1ebfaef3?s=128&d=identicon&r=PG", "display_name": "yogurtearl", "link": "https://stackoverflow.com/users/1686989/yogurtearl"}, "edited": false, "score": 1, "creation_date": 1529965567, "post_id": 51029882, "comment_id": 89057380, "body": "I suggest filing an issue: <a href=\"https://issuetracker.google.com/issues/new?component=192721&amp;template=1096850\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/&hellip;</a>"}, {"owner": {"reputation": 11015, "user_id": 4583267, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DcEqh.jpg?s=128&g=1", "display_name": "Thomas Vos", "link": "https://stackoverflow.com/users/4583267/thomas-vos"}, "reply_to_user": {"reputation": 2915, "user_id": 1686989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9b0e6b2a412cdb1a8b549c1ebfaef3?s=128&d=identicon&r=PG", "display_name": "yogurtearl", "link": "https://stackoverflow.com/users/1686989/yogurtearl"}, "edited": false, "score": 0, "creation_date": 1530284495, "post_id": 51029882, "comment_id": 89196285, "body": "@yogurtearl Thanks for your reply. I just found the issue and don&#39;t think I need to add this to the issue tracker as it was my fault. I forgot to add a dependency to the project level build gradle. Somehow it always worked before without the dependency but now it looks like it is required."}], "answers": [{"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1535645310, "post_id": 51104575, "comment_id": 91153448, "body": "This causes an error: <b>:shared:kaptDebugKotlin FAILED</b>"}], "tags": [], "owner": {"reputation": 11015, "user_id": 4583267, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DcEqh.jpg?s=128&g=1", "display_name": "Thomas Vos", "link": "https://stackoverflow.com/users/4583267/thomas-vos"}, "is_accepted": true, "score": 0, "last_activity_date": 1530284419, "creation_date": 1530284419, "answer_id": 51104575, "question_id": 51029882, "link": "https://stackoverflow.com/questions/51029882/databinding-compile-error-after-upgrading-from-android-studio-3-2-canary-16-to/51104575#51104575", "title": "Databinding compile error after upgrading from Android Studio &#39;3.2 Canary 16&#39; to &#39;3.2 Beta 1&#39;", "body": "<p>Found the issue after some testing in another project. I did not have the following line in the project level dependencies:</p>\n\n<pre><code>classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n</code></pre>\n\n<p>This never was an issue before but it looks like this is required in the newer Android Studio versions if you use Kotlin and Databinding.</p>\n"}], "owner": {"reputation": 11015, "user_id": 4583267, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DcEqh.jpg?s=128&g=1", "display_name": "Thomas Vos", "link": "https://stackoverflow.com/users/4583267/thomas-vos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1892, "favorite_count": 0, "accepted_answer_id": 51104575, "answer_count": 1, "score": 2, "last_activity_date": 1530284419, "creation_date": 1529951669, "last_edit_date": 1529954072, "question_id": 51029882, "link": "https://stackoverflow.com/questions/51029882/databinding-compile-error-after-upgrading-from-android-studio-3-2-canary-16-to", "title": "Databinding compile error after upgrading from Android Studio &#39;3.2 Canary 16&#39; to &#39;3.2 Beta 1&#39;", "body": "<p>I just upgraded Android Studio from 3.2 Canary 16' to '3.2 Beta 1'. Now my project no longer compiles. I'm using Kotlin + Databinding which I think is the issue.\nThis is the build stacktrace:</p>\n\n<pre><code>e: [kapt] An exception occurred: java.lang.RuntimeException: Failed to parse data binding compiler options. Params:\n    null : null\n    kapt.kotlin.generated : /home/thomas/Android/Projects/MyProject/app/build/generated/source/kaptKotlin/debug\n    at android.databinding.annotationprocessor.ProcessDataBinding.readArguments(ProcessDataBinding.java:184)\n    at android.databinding.annotationprocessor.ProcessDataBinding.doProcess(ProcessDataBinding.java:83)\n    at android.databinding.annotationprocessor.ProcessDataBinding.process(ProcessDataBinding.java:73)\n    at org.jetbrains.kotlin.kapt3.base.ProcessorWrapper.process(annotationProcessing.kt:99)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:705)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800(JavacProcessingEnvironment.java:91)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1035)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1176)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1068)\n    at org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:55)\n    at org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:27)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:216)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:164)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:93)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:98)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:108)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:85)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:370)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:61)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:101)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:361)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:126)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:154)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:51)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:95)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:50)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:88)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:405)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:98)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:927)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:957)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:926)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:404)\n    at sun.reflect.GeneratedMethodAccessor164.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: kotlin.KotlinNullPointerException\n    at android.databinding.tool.CompilerArguments$Companion.readFromOptions(CompilerArguments.kt:172)\n    at android.databinding.tool.CompilerArguments.readFromOptions(CompilerArguments.kt)\n    at android.databinding.annotationprocessor.ProcessDataBinding.readArguments(ProcessDataBinding.java:177)\n    ... 52 more\n\n&gt; Task :app:kaptDebugKotlin FAILED\n</code></pre>\n\n<ul>\n<li>Gradle plugin version: <code>3.2.0-beta01</code>  </li>\n<li>Kotlin version: <code>1.2.50</code> (jdk8)</li>\n</ul>\n\n<p>I also tried adding <code>kapt \"androidx.databinding:databinding-compiler:3.2.0-beta01\"</code> to the app gradle but it did not make any difference.</p>\n\n<p><strong>Edit:</strong></p>\n\n<ul>\n<li>Downgrading to Kotlin <code>1.2.41</code> did not solve the issue.</li>\n<li>After some more testing it looks like this bug appeared in Gradle plugin version <code>3.2.0-alpha17</code>. (alpha16 works fine)</li>\n</ul>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 1812, "user_id": 1737624, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d0377166164201a8f3040e464e729dfa?s=128&d=identicon&r=PG", "display_name": "Minas Mina", "link": "https://stackoverflow.com/users/1737624/minas-mina"}, "edited": false, "score": 1, "creation_date": 1570833925, "post_id": 51041980, "comment_id": 103053472, "body": "<code>ConflatedChannel</code> seems to be <code>internal</code>, so we cannot use it..."}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 3, "last_activity_date": 1530013055, "creation_date": 1530013055, "answer_id": 51041980, "question_id": 51029737, "link": "https://stackoverflow.com/questions/51029737/handle-cancelation-inside-kotlin-coroutines-producer/51041980#51041980", "title": "Handle cancelation inside Kotlin Coroutines producer", "body": "<p>First of all, you should not use <code>produce</code> builder to adapt API with listeners in this way, because on the exist from the <code>produce</code> builder body the channel is immediately closed and would cease to serve its function. Instead, you should just create a <code>Channel()</code> and create the corresponding connections. </p>\n\n<p>Unfortunately, channels do not currently provide an out-of-the-box way to install cancellation listeners (see <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/341\" rel=\"nofollow noreferrer\">issue #341</a>). The only way to get immediately notified on the channel close is to extend the corresponding channel class, which leads to the following code:</p>\n\n<pre><code>private fun changes(key: String): ReceiveChannel&lt;Unit&gt; = object : ConflatedChannel&lt;Unit&gt;() {\n    val listener = OnSharedPreferenceChangeListener { _, changedKey -&gt;\n        if (key == changedKey) offer(Unit)\n    }\n\n    init {\n        prefs.registerOnSharedPreferenceChangeListener(listener)\n    }\n\n    override fun afterClose(cause: Throwable?) {\n        prefs.unregisterOnSharedPreferenceChangeListener(listener)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 4288733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef311050d79a50bad7e6325d0750a778?s=128&d=identicon&r=PG&f=1", "display_name": "Miraslau Rachkouski", "link": "https://stackoverflow.com/users/4288733/miraslau-rachkouski"}, "edited": false, "score": 0, "creation_date": 1530021241, "post_id": 51042375, "comment_id": 89080343, "body": "It&#39;s workable solution, but It looks like using <code>produce</code> in this case isn&#39;t semantically correct. It just a lot of overhead which doesn&#39;t help in any way."}, {"owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "reply_to_user": {"reputation": 103, "user_id": 4288733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef311050d79a50bad7e6325d0750a778?s=128&d=identicon&r=PG&f=1", "display_name": "Miraslau Rachkouski", "link": "https://stackoverflow.com/users/4288733/miraslau-rachkouski"}, "edited": false, "score": 0, "creation_date": 1530022188, "post_id": 51042375, "comment_id": 89081021, "body": "I can tell you that the code above works the way you want it, <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/341#issuecomment-384660210\" rel=\"nofollow noreferrer\">I used the same approach for a BLE scanning channel</a>.  The overhead is not much there, you use one additional channel, and that&#39;s it. If you&#39;re really concerned about this, I&#39;d encourage you to profile your project and see if this poses a significant performance/efficiency issue over other things that could be optimized in the codebase. ;-)  Anyway, the upcoming <code>invokeOnClose { ... }</code> method will be the best solution."}, {"owner": {"reputation": 6340, "user_id": 775894, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/20eefa46efacbb8718dec81fd7db7baa?s=128&d=identicon&r=PG", "display_name": "Marc Plano-Lesay", "link": "https://stackoverflow.com/users/775894/marc-plano-lesay"}, "edited": false, "score": 0, "creation_date": 1583137049, "post_id": 51042375, "comment_id": 107001125, "body": "Although you do end up listening to your SharedPreferences potentially for a while after your channel as been closed, if nothing changes, don&#39;t you? If nothing is pushed on the inside channel (by the listener), nothing is sent on the outer one, so you never detect that it has been closed."}], "tags": [], "owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "is_accepted": false, "score": 2, "last_activity_date": 1530015140, "last_edit_date": 1530015140, "creation_date": 1530014309, "answer_id": 51042375, "question_id": 51029737, "link": "https://stackoverflow.com/questions/51029737/handle-cancelation-inside-kotlin-coroutines-producer/51042375#51042375", "title": "Handle cancelation inside Kotlin Coroutines producer", "body": "<p>An upcoming version of the kotlinx.coroutines library <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/341#issuecomment-400274888\" rel=\"nofollow noreferrer\">should expose a <code>Channel.invokeOnClose { ... }</code> method</a> to satisfy such use cases.</p>\n\n<p>However, there are solutions to have this behavior in the meantime.\nOne solution is to <a href=\"https://stackoverflow.com/a/51041980/4433326\">subclass the channel you're looking for, as Roman Elizarov suggested.</a></p>\n\n<p>Another solution is to use produce the following way:</p>\n\n<pre><code>fun SharedPreferences.changes(key: String) = produce {\n    val changesChannel = ConflatedChannel&lt;Unit&gt;()\n    val listener = SharedPreferences.OnSharedPreferenceChangeListener { _, changedKey -&gt;\n        if (key == changedKey) changesChannel.offer(Unit)\n    }\n    registerOnSharedPreferenceChangeListener(listener)\n    try {\n        for (change in changesChannel) {\n            send(change)\n        }\n    } finally {\n        unregisterOnSharedPreferenceChangeListener(listener)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 4288733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef311050d79a50bad7e6325d0750a778?s=128&d=identicon&r=PG&f=1", "display_name": "Miraslau Rachkouski", "link": "https://stackoverflow.com/users/4288733/miraslau-rachkouski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1108, "favorite_count": 1, "accepted_answer_id": 51041980, "answer_count": 2, "score": 4, "last_activity_date": 1552981926, "creation_date": 1529950979, "last_edit_date": 1552981926, "question_id": 51029737, "link": "https://stackoverflow.com/questions/51029737/handle-cancelation-inside-kotlin-coroutines-producer", "title": "Handle cancelation inside Kotlin Coroutines producer", "body": "<p>Is it possible to handle producer cancelation inside producer builder itself? It could be useful to unsubscribe from callback:</p>\n\n<pre><code>private fun changes(key: String) = produce&lt;Unit&gt;(UI, CONFLATED) {\n        val listener = OnSharedPreferenceChangeListener { _, changedKey -&gt;\n             if (key == changedKey) offer(Unit)\n        }\n        prefs.registerOnSharedPreferenceChangeListener(listener)\n        ???.onCancel { \n                 prefs.unregisterOnSharedPreferenceChangeListener(listener)\n        }\n}\n</code></pre>\n\n<p>Or may be exists another way to implement this case?</p>\n"}, {"tags": ["android", "generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1529950299, "last_edit_date": 1529950299, "creation_date": 1529949917, "answer_id": 51029468, "question_id": 51029418, "link": "https://stackoverflow.com/questions/51029418/findviewbuid-as-t-in-kotlin/51029468#51029468", "title": "findviewbuid as T in kotlin", "body": "<p>From API level 26, the <a href=\"https://developer.android.com/reference/android/app/Activity#findViewById(int)\" rel=\"nofollow noreferrer\"><code>findViewById</code></a> methods themselves (the Java methods in <code>AppCompatActivity</code>, <code>Fragment</code>, <code>View</code>) are generic - you no longer need to wrap them. You can see usage examples in <a href=\"https://stackoverflow.com/a/44950543/4465208\">this answer</a>.</p>\n\n<hr>\n\n<p>If for some reason you'd still want to wrap it (say you're making a library and you need to keep your public API or something), you'd need to:</p>\n\n<ul>\n<li>pass on the generic parameter </li>\n<li>which means you could now avoid the cast</li>\n<li>and finally, constraint <code>T</code> to satisfy the generic constraint on <code>findViewById</code> that its type parameter can only be a <code>View</code></li>\n</ul>\n\n<p><b></b></p>\n\n<pre><code>fun &lt;T: View&gt; View.findViewByIdCast(id: Int): T {\n    return findViewById&lt;T&gt;(id)\n}\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 4652659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4cbf96af93f0d369d41d65772456b1c?s=128&d=identicon&r=PG&f=1", "display_name": "NeilLin", "link": "https://stackoverflow.com/users/4652659/neillin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 51029468, "answer_count": 1, "score": 1, "last_activity_date": 1529950299, "creation_date": 1529949769, "question_id": 51029418, "link": "https://stackoverflow.com/questions/51029418/findviewbuid-as-t-in-kotlin", "title": "findviewbuid as T in kotlin", "body": "<p>My kotlin extension</p>\n\n<pre><code>fun &lt;T&gt; View.findViewByIdCast(id : Int): T {\nreturn findViewById(id) as T}\n</code></pre>\n\n<p>my viewholder</p>\n\n<pre><code>var llImage: LinearLayout = itemView.findViewByIdCast(R.id.llImg)\n</code></pre>\n\n<p>I use this fun to get all of view item in my project,\nbut, in androidVersion 26\nit show me \"findviewbyid is not satisfied:inferred type T! is not a subtype of view\"\n how could I Fix my extension fun in androidVersion 26? </p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-livedata"], "comments": [{"owner": {"reputation": 1132, "user_id": 4057688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3sHT1.jpg?s=128&g=1", "display_name": "Mirjalal", "link": "https://stackoverflow.com/users/4057688/mirjalal"}, "edited": false, "score": 0, "creation_date": 1533889614, "post_id": 51029028, "comment_id": 90521812, "body": "did you solve the problem? I have same issue."}, {"owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "reply_to_user": {"reputation": 1132, "user_id": 4057688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3sHT1.jpg?s=128&g=1", "display_name": "Mirjalal", "link": "https://stackoverflow.com/users/4057688/mirjalal"}, "edited": false, "score": 0, "creation_date": 1534076898, "post_id": 51029028, "comment_id": 90572690, "body": "@MirjalalTalishinski unfortunately no, I  just added common List to Room, but I still wonder why it doesn&#39;t work with LiveData. So, if you find an answer please share"}, {"owner": {"reputation": 1132, "user_id": 4057688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3sHT1.jpg?s=128&g=1", "display_name": "Mirjalal", "link": "https://stackoverflow.com/users/4057688/mirjalal"}, "edited": false, "score": 0, "creation_date": 1534077337, "post_id": 51029028, "comment_id": 90572829, "body": "actually I also posted a question with the same problem. I posted it here. <a href=\"https://stackoverflow.com/q/51801379/\">stackoverflow.com/q/51801379</a>"}, {"owner": {"reputation": 1132, "user_id": 4057688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3sHT1.jpg?s=128&g=1", "display_name": "Mirjalal", "link": "https://stackoverflow.com/users/4057688/mirjalal"}, "edited": false, "score": 0, "creation_date": 1534077395, "post_id": 51029028, "comment_id": 90572844, "body": "I think I know the problem where happens, well it is all about the insert section. If you want we can get into the deep about that."}, {"owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "reply_to_user": {"reputation": 1132, "user_id": 4057688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3sHT1.jpg?s=128&g=1", "display_name": "Mirjalal", "link": "https://stackoverflow.com/users/4057688/mirjalal"}, "edited": false, "score": 0, "creation_date": 1534077457, "post_id": 51029028, "comment_id": 90572868, "body": "@MirjalalTalishinski I am on another task currently, but I will get back to you as soon as I can"}, {"owner": {"reputation": 1132, "user_id": 4057688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3sHT1.jpg?s=128&g=1", "display_name": "Mirjalal", "link": "https://stackoverflow.com/users/4057688/mirjalal"}, "edited": false, "score": 0, "creation_date": 1534077624, "post_id": 51029028, "comment_id": 90572920, "body": "Sure, at this time I will try to solve the problem.Then I will return to you."}, {"owner": {"reputation": 1132, "user_id": 4057688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3sHT1.jpg?s=128&g=1", "display_name": "Mirjalal", "link": "https://stackoverflow.com/users/4057688/mirjalal"}, "edited": false, "score": 0, "creation_date": 1534328455, "post_id": 51029028, "comment_id": 90666086, "body": "Well, I solved my problem. The problem was about the AsyncTask execution. I&#39;m using Java so I will try to explain the solution in Java. There is a special executor dor AsyncTask, which named as <i>*THREAD_POOL_EXECUTOR</i>. I changed my code from <code>new MyAsyncTask().execute();</code> to <code>new MyAsyncTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUT&zwnj;&#8203;OR);</code>. That <i>piece of code</i> solved my problem."}], "answers": [{"comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1562837745, "post_id": 56986074, "comment_id": 100506812, "body": "he is talking in java"}, {"owner": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 6, "creation_date": 1562837923, "post_id": 56986074, "comment_id": 100506922, "body": "@coroutineDispatcher : language don&#39;t matter i am providing way."}], "tags": [], "owner": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "is_accepted": false, "score": 3, "last_activity_date": 1562837534, "creation_date": 1562837534, "answer_id": 56986074, "question_id": 51029028, "link": "https://stackoverflow.com/questions/51029028/why-this-android-room-insert-does-not-work/56986074#56986074", "title": "Why this Android Room insert does not work?", "body": "<p>First verify that insert is working or not. You can get list of all inserted row by below DAO method</p>\n\n<p>Add below method in your DAO</p>\n\n<pre><code>@Insert\nfun insertAll(articleList : List&lt;Article&gt;) : List&lt;Long&gt;\n</code></pre>\n\n<p>this method will return list of uid (primarykey).</p>\n\n<p>That way you can verify data are inserted or not.</p>\n\n<p>Once it is working let me know i will help you out with getAllData()</p>\n"}], "owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9259, "favorite_count": 1, "answer_count": 1, "score": 10, "last_activity_date": 1562837534, "creation_date": 1529948166, "last_edit_date": 1557094658, "question_id": 51029028, "link": "https://stackoverflow.com/questions/51029028/why-this-android-room-insert-does-not-work", "title": "Why this Android Room insert does not work?", "body": "<p>I implemented caching with room but for some reason it got spoiled, either it does not insert or does not get the data, I've done lot of debugging though, but still no any clue... Can someone help with this? So, the picture is following:</p>\n\n<p>MainActivity:</p>\n\n<pre><code>mArticleViewModel = ViewModelProviders.of(this).get(ArticleViewModel.class);\nmArticleViewModel.getArticleList(mPageNumber).observe(this, articles \n-&gt; { /* doesn't matter */ });\n</code></pre>\n\n<p>ViewModel:</p>\n\n<pre><code>public class ArticleViewModel extends AndroidViewModel {\n\n    public static final String TAG = \"ArticleViewModel\";\n    private LiveData&lt;List&lt;Article&gt;&gt; articleList;\n    private ArticleRepository articleRepository;\n\n    public ArticleViewModel(@NonNull Application application) {\n        super(application);\n        Log.d(TAG, \"ArticleViewModel\");\n        if (articleRepository == null) {\n            articleRepository = new ArticleRepository(application);\n        }\n    }\n\n\n    public LiveData&lt;List&lt;Article&gt;&gt; getArticleList(int pageNumber) {\n        Log.d(TAG, \"getArticleList\");\n        articleList = articleRepository.getArticles();\n        return articleList;\n    }\n}\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>public class ArticleRepository {\n        public static final String TAG = \"ArticleRepository\";\n        public static final int PAGE_SIZE = 20;\n\n        private ArticleDao mArticleDao;\n\n\n    public ArticleRepository(Application application) {\n        ArticleRoomDatabase db = \n    ArticleRoomDatabase.getInstance(application);\n        mArticleDao = db.articleDao();\n        loadArticles(1);\n    }\n\n    public void loadArticles(int page) {\n        Log.d(TAG, \"getArticles\");\n\n\n\n    //        ApiService.getService().getArticles(\"test\", \"thumbnail\", page, \n        PAGE_SIZE).enqueue(new Callback&lt;Example&gt;() {\n    //            @Override\n    //            public void onResponse(Call&lt;Example&gt; call, \n        Response&lt;Example&gt; response) {\n    //                Log.d(TAG, \"onResponse\");\n    //                if (response.isSuccessful()) {\n    //                    Log.d(TAG, \"isSuccessful\");\n    //                    List&lt;Article&gt; articles = \n        pojoToEntity(response.body().getResponse().getResults());\n    //                    populateDb(articles);\n    //                }\n    //            }\n    //\n    //            @Override\n    //            public void onFailure(Call&lt;Example&gt; call, Throwable t) {\n    //                Log.d(TAG, \"onFailure: \" + t.getStackTrace());\n    //            }\n    //        });\n\n    //My web service is not available currently, so I use dummy data\n        populateDb(DummyData.populateData());\n    }\n\n    public LiveData&lt;List&lt;Article&gt;&gt; getArticles() {\n        LiveData&lt;List&lt;Article&gt;&gt; articles  =  mArticleDao.getAllArticles();\n        return articles;\n    }\n\n    public void populateDb(List&lt;Article&gt; articles) {\n        Log.d(TAG, \"populateDb\");\n        Article[] articleArray = new Article[articles.size()];\n        for (int i = 0; i &lt; articles.size(); i++) {\n            articleArray[i] = articles.get(i);\n        }\n\n        new insertAsyncTask(mArticleDao).execute(articleArray);\n    }\n\n\n    public List&lt;Article&gt; pojoToEntity(List&lt;Result&gt; resultList) {\n        List&lt;Article&gt; articles = new ArrayList&lt;&gt;();\n        for (Result result : resultList) {\n            Article article = new Article();\n            article.setSectionName(result.getSectionName());\n            article.setWebTitle(result.getWebTitle());\n            article.setThumbnail(result.getFields().getThumbnail());\n            articles.add(article);\n        }\n        return articles;\n    }\n\n\n    private static class insertAsyncTask extends AsyncTask&lt;Article, Void, Void&gt; {\n\n        private ArticleDao articleDao;\n\n        public insertAsyncTask(ArticleDao articleDao) {\n            this.articleDao = articleDao;\n        }\n\n        @Override\n        protected Void doInBackground(Article... articles) {\n            Log.d(TAG, \"doInBackground\");\n            articleDao.insertAll(articles);\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>Entity with getter setter methods which I didn't copy of course:</p>\n\n<pre><code>@Parcel(Parcel.Serialization.BEAN)\n@Entity(tableName = \"articles\")\npublic class Article {\n\n@NonNull\n@PrimaryKey(autoGenerate = true)\n@ColumnInfo(name = \"uid\")\nprivate int uid;\n\n@ColumnInfo(name = \"section_name\")\nprivate String sectionName;\n\n@ColumnInfo(name = \"title\")\nprivate String webTitle;\n\n@ColumnInfo(name = \"image_url\")\nprivate String thumbnail;\n</code></pre>\n\n<p>DAO:</p>\n\n<pre><code>@Dao\npublic interface ArticleDao {\n\n    @Insert\n    void insertAll(Article... articles);\n\n    @Query(\"DELETE FROM articles\")\n    void deleteAll();\n\n    @Query(\"SELECT * FROM articles\")\n    LiveData&lt;List&lt;Article&gt;&gt; getAllArticles();\n}    \n</code></pre>\n\n<p>RoomDatabase:</p>\n\n<pre><code>@Database(entities = {Article.class}, version = 1, exportSchema = false)\npublic abstract class ArticleRoomDatabase extends RoomDatabase {\n\n    public static String TAG = \"ArticleRoomDatabase\";\n\n    private static ArticleRoomDatabase INSTANCE;\n\n    public static ArticleRoomDatabase getInstance(final Context context) {\n        if (INSTANCE == null) {\n            synchronized (ArticleRoomDatabase.class) {\n                if (INSTANCE == null) {\n                    INSTANCE = Room.databaseBuilder(context.getApplicationContext(),\n                            ArticleRoomDatabase.class, \"photo_database\")\n                            .build();\n                }\n            }\n        }\n        return INSTANCE;\n    }\n\n    public abstract ArticleDao articleDao();\n}\n</code></pre>\n\n<p>As far as Logging shows, getting articles from DB fails, the list is returned null, however, in real I can't get if inserting fails or getting... tried to debug but could not get anything.</p>\n"}, {"tags": ["android", "service", "kotlin", "android-mediarecorder"], "comments": [{"owner": {"reputation": 119, "user_id": 5305978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BD7ii.jpg?s=128&g=1", "display_name": "novecento88", "link": "https://stackoverflow.com/users/5305978/novecento88"}, "edited": false, "score": 0, "creation_date": 1529953571, "post_id": 51029008, "comment_id": 89052824, "body": "Ok, I think I&#39;ve found the first part of the problem: I changed the date format in the Recorder class from &quot;dd.MMM.yyyy-HH:mm:ss&quot; to &quot;dd.MMM.yyyy&quot;. It seems that android doesn&#39;t like the colon in the file name. Now it still crashes, but the stack trace gives &quot;FATAL EXCEPTION&quot; about the IntentService."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 2, "creation_date": 1529967688, "post_id": 51029008, "comment_id": 89057880, "body": "Don&#39;t use an <code>IntentService</code> for this, as it will stop itself pretty much immediately after <code>onHandleIntent()</code> finishes each time. Use a regular <code>Service</code> instead."}, {"owner": {"reputation": 119, "user_id": 5305978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BD7ii.jpg?s=128&g=1", "display_name": "novecento88", "link": "https://stackoverflow.com/users/5305978/novecento88"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1530023474, "post_id": 51029008, "comment_id": 89081935, "body": "Thank you, Mike M. It worked. I&#39;ll update and mark as resolved."}], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 5305978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BD7ii.jpg?s=128&g=1", "display_name": "novecento88", "link": "https://stackoverflow.com/users/5305978/novecento88"}, "is_accepted": true, "score": 1, "last_activity_date": 1530023902, "creation_date": 1530023902, "answer_id": 51045561, "question_id": 51029008, "link": "https://stackoverflow.com/questions/51029008/android-intentservice-fatal-exception/51045561#51045561", "title": "Android: IntentService FATAL EXCEPTION", "body": "<p>As suggested by Mike M. in the comments, I resolved by implementing Service instead of IntentService. I quote what Mike M. said: \"IntentService... will stop itself pretty much immediately after onHandleIntent() finishes each time.\".\nI suppose that MediaRecorder instance was disappearing as soon as the system lost its reference to onHandleIntent().</p>\n\n<p>My app doesn't work as desired yet, but it's not because of that error. Actually it compiles and runs without any error right now.</p>\n\n<p>This is the updated RecordService class, implementing Service:</p>\n\n<pre><code>class RecordService : Service() {\n\nprivate val PHONE_STATE : String = \"PHONE_STATE\"\nprivate val START_RECORDING : String = \"START_RECORDING\"\nprivate val STOP_RECORDING : String = \"STOP_RECORDING\"\nprivate var mRecorder : Recorder? = null\n\nprivate lateinit var mServiceLooper : Looper\n\n\n\noverride fun onCreate() {\n\n    mRecorder = Recorder()\n\n    super.onCreate()\n}\n\noverride fun onBind(intent: Intent?): IBinder {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n}\n\n\noverride fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n\n    when(intent?.getStringExtra(PHONE_STATE)){\n\n        START_RECORDING -&gt; thread { Runnable { kotlin.run { mRecorder!!.stopRecording() } } }\n\n        STOP_RECORDING -&gt; thread { Runnable { kotlin.run { mRecorder!!.stopRecording() } } }\n    }\n\n    return super.onStartCommand(intent, flags, startId)\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 119, "user_id": 5305978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BD7ii.jpg?s=128&g=1", "display_name": "novecento88", "link": "https://stackoverflow.com/users/5305978/novecento88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "accepted_answer_id": 51045561, "answer_count": 1, "score": 1, "last_activity_date": 1530023944, "creation_date": 1529948092, "last_edit_date": 1530023944, "question_id": 51029008, "link": "https://stackoverflow.com/questions/51029008/android-intentservice-fatal-exception", "title": "Android: IntentService FATAL EXCEPTION", "body": "<p>I'm trying to write a CallRecorder app in Kotlin. What I'm trying to do is to start recording the audio with a Service that is launched by a BroadcastReceiver. I think I'm doing something wrong with the MediaRecorder initialization, but I can't figure what.</p>\n\n<p>EDIT:\nFound and resolved the MediaRecorder problem (changing the file name from \"dd.MMM.yyyy-HH:mm:ss\" to \"dd.MMM.yyyy\". Android didn't like the colon in the file name).\nNow it gives me a \"FATAL EXCEPTION\" about the IntentService. Look in the updated stack-trace below.</p>\n\n<p>Manifest:</p>\n\n<p></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;service android:name=\".RecordService\"\n             android:exported=\"false\"/&gt;\n    &lt;receiver android:name=\".CallReceiver\"  android:exported=\"true\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.PHONE_STATE\"/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>Main Activity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener, ActivityCompat.OnRequestPermissionsResultCallback {\n\nprivate val READ_PHONE_STATE : String = Manifest.permission.READ_PHONE_STATE\nprivate val RECORD_AUDIO : String = Manifest.permission.RECORD_AUDIO\nprivate val WRITE_EXTERNAL_STORAGE : String = Manifest.permission.WRITE_EXTERNAL_STORAGE\nprivate val PERMISSION_LIST = arrayOf(READ_PHONE_STATE, RECORD_AUDIO, WRITE_EXTERNAL_STORAGE)\nprivate val REQUEST_CODE : Int = 101\nprivate val PERMISSION_GRANTED : Int = PackageManager.PERMISSION_GRANTED\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    setSupportActionBar(toolbar)\n\n    /*fab.setOnClickListener { view -&gt;\n        Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                .setAction(\"Action\", null).show()\n    }*/\n\n    checkPermissions()\n\n    val toggle = ActionBarDrawerToggle(\n            this, drawer_layout, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close)\n    drawer_layout.addDrawerListener(toggle)\n    toggle.syncState()\n\n    nav_view.setNavigationItemSelectedListener(this)\n}\n\nfun checkPermissions(){\n    var tempPermissionList : Array&lt;String?&gt; = arrayOfNulls(3)\n    var position : Int = 0\n    for(permission in PERMISSION_LIST){\n        if(ContextCompat.checkSelfPermission(this, permission) != PERMISSION_GRANTED) tempPermissionList.set(position, permission)\n        position++\n    }\n    if(!tempPermissionList.isEmpty()){\n        ActivityCompat.requestPermissions(this, tempPermissionList, REQUEST_CODE)\n    }\n}\n\n\n\noverride fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n    if(requestCode == REQUEST_CODE) super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n}\n\noverride fun onBackPressed() {\n    if (drawer_layout.isDrawerOpen(GravityCompat.START)) {\n        drawer_layout.closeDrawer(GravityCompat.START)\n    } else {\n        super.onBackPressed()\n    }\n}\n\noverride fun onCreateOptionsMenu(menu: Menu): Boolean {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    menuInflater.inflate(R.menu.main, menu)\n    return true\n}\n\noverride fun onOptionsItemSelected(item: MenuItem): Boolean {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    when (item.itemId) {\n        R.id.action_settings -&gt; return true\n        else -&gt; return super.onOptionsItemSelected(item)\n    }\n}\n\noverride fun onNavigationItemSelected(item: MenuItem): Boolean {\n    // Handle navigation view item clicks here.\n    when (item.itemId) {\n        R.id.nav_camera -&gt; {\n            // Handle the camera action\n        }\n        R.id.nav_gallery -&gt; {\n\n        }\n        R.id.nav_slideshow -&gt; {\n\n        }\n        R.id.nav_manage -&gt; {\n\n        }\n        R.id.nav_share -&gt; {\n\n        }\n        R.id.nav_send -&gt; {\n\n        }\n    }\n\n    drawer_layout.closeDrawer(GravityCompat.START)\n    return true\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Recorder:</p>\n\n<pre><code>class Recorder {\n\nval TAG : String = \"RECORDER\"\n\nvar mediaRecorder : MediaRecorder? = null\n\nfun startRecording(){\n    if(mediaRecorder != null){\n        mediaRecorder!!.stop()\n        mediaRecorder!!.reset()\n        mediaRecorder!!.release()\n        mediaRecorder = null\n    }\n    mediaRecorder = MediaRecorder()\n    mediaRecorder!!.setAudioSource(MediaRecorder.AudioSource.VOICE_CALL)\n    mediaRecorder!!.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP)\n    mediaRecorder!!.setOutputFile(generateFilePath())\n    mediaRecorder!!.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_WB)\n\n    try {\n        mediaRecorder!!.prepare()\n    } catch (e:Exception){\n        Log.e(TAG, \"prepare() failed\")\n    }\n\n    mediaRecorder!!.start()\n}\n\nfun stopRecording(){\n    if(mediaRecorder != null){\n        mediaRecorder!!.stop()\n        mediaRecorder!!.release()\n        mediaRecorder = null\n    }\n}\n\nprivate fun getCurrentDate() : String{\n    val calendar = java.util.Calendar.getInstance()\n    val dateFormat = SimpleDateFormat(\"dd.MMM.yyyy\")\n    val date : String = dateFormat.format(calendar.time)\n    return date\n}\n\nprivate fun generateFilePath() : String{\n    return Environment.getExternalStorageDirectory().absolutePath + \"/\" + getCurrentDate() + \".3gp\"\n}\n</code></pre>\n\n<p>}</p>\n\n<p>CallReceiver:</p>\n\n<pre><code>class CallReceiver : BroadcastReceiver() {\n\nprivate val TAG = \"CALL_RECEIVER\"\nprivate val PHONE_STATE : String = \"PHONE_STATE\"\nprivate val START_RECORDING : String = \"START_RECORDING\"\nprivate val STOP_RECORDING : String = \"STOP_RECORDING\"\n//private lateinit var mRecorder : Recorder\n\noverride fun onReceive(context: Context?, intent: Intent?) {\n    val phoneState : String? = intent?.getStringExtra(TelephonyManager.EXTRA_STATE)\n    if(phoneState.equals(TelephonyManager.EXTRA_STATE_OFFHOOK)){\n        Toast.makeText(context, \"REGISTRAZIONE INIZIATA\", Toast.LENGTH_SHORT).show()\n        Log.d(TAG, \"START RECORDING\")\n        var intent2 = Intent(context, RecordService::class.java)\n        intent2.putExtra(PHONE_STATE, START_RECORDING)\n        context?.startService(intent2)\n        //if(mRecorder == null) mRecorder = Recorder()\n        //mRecorder.startRecording()\n    } else if (phoneState.equals(TelephonyManager.EXTRA_STATE_IDLE)){\n        Toast.makeText(context, \"REGISTRAZIONE TERMINATA\", Toast.LENGTH_SHORT).show()\n        Log.d(TAG, \"STOP RECORDING\")\n        var intent3 = Intent(context, RecordService::class.java)\n        intent3.putExtra(PHONE_STATE, STOP_RECORDING)\n        context?.startService(intent3)\n        //mRecorder.stopRecording()\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>RecordService:</p>\n\n<pre><code>class RecordService : IntentService(\"RecordService\") {\n\nprivate val PHONE_STATE : String = \"PHONE_STATE\"\nprivate val START_RECORDING : String = \"START_RECORDING\"\nprivate val STOP_RECORDING : String = \"STOP_RECORDING\"\nprivate lateinit var mRecorder : Recorder\n\noverride fun onCreate() {\n\n    mRecorder = Recorder()\n\n    super.onCreate()\n}\n\noverride fun onHandleIntent(intent: Intent?) {\n    when(intent?.getStringExtra(PHONE_STATE)){\n\n        START_RECORDING -&gt; mRecorder.startRecording()\n\n        STOP_RECORDING -&gt; mRecorder.stopRecording()\n    }\n}\n\noverride fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n    return super.onStartCommand(intent, flags, startId)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Stack trace:</p>\n\n<pre><code>06-25 19:11:12.889 9104-9104/com.example.luca.kallrecorder D/CALL_RECEIVER: START RECORDING\n06-25 19:11:12.897 9104-9104/com.example.luca.kallrecorder D/CALL_RECEIVER: START RECORDING\n06-25 19:11:12.928 9104-9123/com.example.luca.kallrecorder D/EGL_emulation: eglMakeCurrent: 0xae834c40: ver 2 0\n06-25 19:11:12.930 9104-9139/com.example.luca.kallrecorder E/MediaRecorder: start failed: -2147483648\n06-25 19:11:12.931 9104-9139/com.example.luca.kallrecorder E/AndroidRuntime: FATAL EXCEPTION: IntentService[RecordService]\n    Process: com.example.luca.kallrecorder, PID: 9104\n    java.lang.RuntimeException: start failed.\n        at android.media.MediaRecorder.start(Native Method)\n        at com.example.luca.kallrecorder.Recorder.startRecording(Recorder.kt:33)\n        at com.example.luca.kallrecorder.RecordService.onHandleIntent(RecordService.kt:25)\n        at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.os.HandlerThread.run(HandlerThread.java:61)\n06-25 19:11:12.952 9104-9123/com.example.luca.kallrecorder V/RenderScript: 0xae8eb800 Launching thread(s), CPUs 4\n06-25 19:11:14.891 9104-9123/com.example.luca.kallrecorder D/EGL_emulation: eglMakeCurrent: 0xae834c40: ver 2 0\n06-25 19:11:14.929 9104-9123/com.example.luca.kallrecorder D/EGL_emulation: eglMakeCurrent: 0xae834c40: ver 2 0\n</code></pre>\n"}, {"tags": ["android", "api", "object", "kotlin", "formatting"], "comments": [{"owner": {"reputation": 3071, "user_id": 3166697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGEWy.jpg?s=128&g=1", "display_name": "Dima Kozhevin", "link": "https://stackoverflow.com/users/3166697/dima-kozhevin"}, "edited": false, "score": 0, "creation_date": 1529946800, "post_id": 51028533, "comment_id": 89049750, "body": "Could you post your code? What you tried to do?"}, {"owner": {"reputation": 1, "user_id": 9419100, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Duncan", "link": "https://stackoverflow.com/users/9419100/duncan"}, "reply_to_user": {"reputation": 3071, "user_id": 3166697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGEWy.jpg?s=128&g=1", "display_name": "Dima Kozhevin", "link": "https://stackoverflow.com/users/3166697/dima-kozhevin"}, "edited": false, "score": 0, "creation_date": 1529947159, "post_id": 51028533, "comment_id": 89049934, "body": "I have tried parseInt and other methods similar to getDate();. But I suspect there is a similar way to break it down or I used those functions in the wrong spot."}, {"owner": {"reputation": 1, "user_id": 9419100, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Duncan", "link": "https://stackoverflow.com/users/9419100/duncan"}, "reply_to_user": {"reputation": 3071, "user_id": 3166697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGEWy.jpg?s=128&g=1", "display_name": "Dima Kozhevin", "link": "https://stackoverflow.com/users/3166697/dima-kozhevin"}, "edited": false, "score": 0, "creation_date": 1529947170, "post_id": 51028533, "comment_id": 89049940, "body": "&#39;if (events.length &gt; 0) {             for (i = 0; i &lt; events.length; i++) {               var event = events[i];               var when = event.start.dateTime;                            if (!when) {                 when = event.start.date;               }               appendPre(event.summary + &#39; (&#39; + startTime + &#39; to &#39; + endTime + &#39;)&#39;)               console.log();&#39;"}, {"owner": {"reputation": 3071, "user_id": 3166697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGEWy.jpg?s=128&g=1", "display_name": "Dima Kozhevin", "link": "https://stackoverflow.com/users/3166697/dima-kozhevin"}, "edited": false, "score": 0, "creation_date": 1529948557, "post_id": 51028533, "comment_id": 89050601, "body": "is it Kotlin? and you can add code in your post next time"}, {"owner": {"reputation": 1, "user_id": 9419100, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Duncan", "link": "https://stackoverflow.com/users/9419100/duncan"}, "reply_to_user": {"reputation": 3071, "user_id": 3166697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGEWy.jpg?s=128&g=1", "display_name": "Dima Kozhevin", "link": "https://stackoverflow.com/users/3166697/dima-kozhevin"}, "edited": false, "score": 0, "creation_date": 1529949157, "post_id": 51028533, "comment_id": 89050865, "body": "I don&#39;t believe so. It is coming from the Google Calendars API. Seemingly the T in the middle of the date/time is messing things up. When I try things like getDate(); there are errors that pop up. Is there a way to break the string down by multiple parameters? I was able to break down the information but again the T is causing issues."}], "owner": {"reputation": 1, "user_id": 9419100, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Duncan", "link": "https://stackoverflow.com/users/9419100/duncan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1529959665, "creation_date": 1529946168, "last_edit_date": 1529959665, "question_id": 51028533, "link": "https://stackoverflow.com/questions/51028533/changing-date-format-from-google-api", "title": "Changing Date Format from Google API", "body": "<p>I am currently trying to convert Google Calendars API DateTime to be in a standard (Month Day, Year Hours:Minutes format) but am still getting the original format 2018-06-26T10:30:00-05:00. Any suggestions on how to convert this? Ideally I would want to break it up into Month, Day, Year, Hours, Minutes. </p>\n\n<pre><code>if (events.length &gt; 0) {\n   for (i = 0; i &lt; events.length; i++) {\n      var event = events[i];\n      var when = event.start.dateTime; \n      if (!when) { \n         when = event.start.date; \n      } \n      appendPre(event.summary + ' (' + startTime + ' to ' + endTime + ')') \n      console.log(); \n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin", "teamcity"], "comments": [{"owner": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 1, "creation_date": 1529945874, "post_id": 51028401, "comment_id": 89049306, "body": "not clear why do you need to duplicate library dependencies. if you put dependency into <code>gradle.build</code> then on teamcity you have to run gradle build step..."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1529959713, "post_id": 51028401, "comment_id": 89055548, "body": "Gradle pretty much works for all platforms. What have you tried?"}, {"owner": {"reputation": 1967, "user_id": 151153, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/21394188a4a5788bc81a2c5fe9013fe9?s=128&d=identicon&r=PG", "display_name": "Richard Green", "link": "https://stackoverflow.com/users/151153/richard-green"}, "edited": false, "score": 0, "creation_date": 1530096852, "post_id": 51028401, "comment_id": 89111797, "body": "The issue is when you start expanding the DSL to do some clever stuff on teamcity - hence the reason to use the DSL in the first place. I am thinking that in order to keep the two in sync, then the majority of the task/ dependency creation should be done in gradle"}], "owner": {"reputation": 1967, "user_id": 151153, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/21394188a4a5788bc81a2c5fe9013fe9?s=128&d=identicon&r=PG", "display_name": "Richard Green", "link": "https://stackoverflow.com/users/151153/richard-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1529945653, "creation_date": 1529945653, "question_id": 51028401, "link": "https://stackoverflow.com/questions/51028401/how-to-configure-a-build-mechanism-that-works-with-both-intellij-and-team-city", "title": "How to configure a build mechanism that works with both IntelliJ and Team City", "body": "<p>So I don't have a code example for you here (as it really doesn't make sense) but I am trying to figure out how one would write or engineer a building and deployment mechanism such that it is understandable by both IntelliJ (for development purposes) and then Team City (for CI and deployment purposes).</p>\n\n<p>I have experimented with the TeamCity Kotlin DSL - which is pretty powerful - but can't see a way of being able to define my builds just once. If I add something to an IntelliJ gradle file, I need to duplicate these library dependencies on TeamCity and vice versa.</p>\n\n<p>Am I missing something obvious ?!</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1530105178, "post_id": 51062294, "comment_id": 89117301, "body": "Thanks, this answer is spot-on! However, it lacks any authoritative references and your current profile doesn&#39;t reveal whether you are a person that can assert such an authoritative answer. Are you a member of the JetBrains team working on this?"}, {"owner": {"reputation": 2679, "user_id": 4465354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/peiDQ.png?s=128&g=1", "display_name": "qwwdfsad", "link": "https://stackoverflow.com/users/4465354/qwwdfsad"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1530111359, "post_id": 51062294, "comment_id": 89121674, "body": "Yes, I&#39;m the member of JetBrains team working on kotlinx.coroutines as well: <a href=\"https://github.com/qwwdfsad\" rel=\"nofollow noreferrer\">github.com/qwwdfsad</a>"}], "tags": [], "owner": {"reputation": 2679, "user_id": 4465354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/peiDQ.png?s=128&g=1", "display_name": "qwwdfsad", "link": "https://stackoverflow.com/users/4465354/qwwdfsad"}, "is_accepted": true, "score": 2, "last_activity_date": 1530101790, "last_edit_date": 1530101790, "creation_date": 1530100880, "answer_id": 51062294, "question_id": 51028384, "link": "https://stackoverflow.com/questions/51028384/whats-the-difference-between-a-job-ui-context-and-using-parent-job/51062294#51062294", "title": "What&#39;s the difference between a &quot;job + UI&quot; context and using &quot;parent = job&quot;?", "body": "<p>There is no semantic difference, neither there will be in the future.</p>\n\n<p>Ability to use <code>+</code> operator comes naturally from <code>coroutineContext</code> machinery: <code>Job</code> is context element, thus it can be appended to the context.</p>\n\n<p>But writing <code>launch(UI + job)</code> seems unnatural, because an intention is not clear. What does it even mean to have a concatenation of UI dispatcher and some job?\nTo make such pattern readable, <code>parent</code> parameter was added, <code>launch(UI, parent = job)</code> is a more natural way to expose intention to launch job as a child of given parent.\nUnder the hood, it still concatenates context and parent, but now API looks prettier for users.</p>\n\n<p>Note that same approach could be used for other library's elements, e.g. for <code>CoroutineExceptionHandler</code>, but it's a tradeoff: either you have a method with dozen of default parameters, of you sacrifice a readability and write <code>launch(ctx + myExceptionHandler)</code>, so it was decided to introduce only <code>parent</code> parameter as a most common one.</p>\n"}], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 51062294, "answer_count": 1, "score": 2, "last_activity_date": 1530101790, "creation_date": 1529945605, "last_edit_date": 1530087108, "question_id": 51028384, "link": "https://stackoverflow.com/questions/51028384/whats-the-difference-between-a-job-ui-context-and-using-parent-job", "title": "What&#39;s the difference between a &quot;job + UI&quot; context and using &quot;parent = job&quot;?", "body": "<p>The UI Coroutines Guide contains a <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/ui/coroutines-guide-ui.md#lifecycle-and-coroutine-parent-child-hierarchy\" rel=\"nofollow noreferrer\">section</a> on how to manage the lifecycle of UI coroutines. It explains we should create a top-level <code>Job</code> instance and pass a composite coroutine context, <code>contextJob + UI</code> to all coroutines we launch:</p>\n\n<pre><code>launch(contextJob + UI, block = block)\n</code></pre>\n\n<p>While implementing this pattern in my project it came natural to me to use <code>contextJob</code> as the <em>parent</em> instead: </p>\n\n<pre><code>launch(UI, parent = contextJob, block = block)\n</code></pre>\n\n<p>I haven't yet tested the difference in behavior, but I'm interested in the semantic difference between these two options. They look very similar to me, but I'd prefer to use the <code>parent = contextJob</code> since it's more obvious what it does. Specifically, I note that <code>parent</code> is allowed to be <code>null</code>, but if I use <code>+</code>, I would probably have to use <code>NonCancellable</code> as the null-object.</p>\n\n<p>Is there anything wrong with using <code>contextJob</code> as the <code>parent</code> argument to <code>launch</code> or <code>actor</code>?</p>\n"}, {"tags": ["android", "database", "kotlin", "android-room", "android-architecture-components"], "answers": [{"tags": [], "owner": {"reputation": 37, "user_id": 3305852, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/81687424c24d9b38bb7fdd12aa8d12d8?s=128&d=identicon&r=PG&f=1", "display_name": "VladoS24", "link": "https://stackoverflow.com/users/3305852/vlados24"}, "is_accepted": false, "score": 0, "last_activity_date": 1530552851, "creation_date": 1530552851, "answer_id": 51141151, "question_id": 51027110, "link": "https://stackoverflow.com/questions/51027110/how-to-access-object-joined-with-sql-using-room-on-android/51141151#51141151", "title": "How to access object joined with SQL using Room on Android", "body": "<p>Ok, as official documentation said <a href=\"https://developer.android.com/training/data-storage/room/accessing-data\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/room/accessing-data</a></p>\n\n<blockquote>\n  <p>\"It's highly discouraged to work with the Cursor API because it doesn't guarantee whether the rows exist or what values the rows contain.\" </p>\n</blockquote>\n\n<p>so I tried to create another <code>data class named ExampleDetail</code> with all fields I need and in <code>DAO</code> object I'm returning List instead of Cursor.</p>\n\n<p>Thank you. </p>\n"}], "owner": {"reputation": 37, "user_id": 3305852, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/81687424c24d9b38bb7fdd12aa8d12d8?s=128&d=identicon&r=PG&f=1", "display_name": "VladoS24", "link": "https://stackoverflow.com/users/3305852/vlados24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530552851, "creation_date": 1529940759, "last_edit_date": 1529957077, "question_id": 51027110, "link": "https://stackoverflow.com/questions/51027110/how-to-access-object-joined-with-sql-using-room-on-android", "title": "How to access object joined with SQL using Room on Android", "body": "<p>I want to ask you for advice, how can I access object after using <code>LEFT JOIN</code> on two tables. I've got tables defined in external file File.db and I'm loading it to Room database on Android. I've got two tables defined:</p>\n\n<pre><code>CREATE TABLE Example (\n`id`    INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\n`name`  TEXT NOT NULL,\n`description`   TEXT,\n`source_url`    TEXT\n);\n\nCREATE TABLE Example_dates (\n`id`    INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\n`example_id`    INTEGER NOT NULL,\n`color` INTEGER NOT NULL,\n`date_from` TEXT,\n`date_to`   TEXT,\nFOREIGN KEY(`example_id`) REFERENCES `Example`(`id`)\n);\n</code></pre>\n\n<p>My entities are:</p>\n\n<pre><code>@Entity(\n  tableName = \"Example\"\n)\ndata class Example constructor(\n  @PrimaryKey @ColumnInfo(name = \"id\") var id: Int,\n  @ColumnInfo(name = \"name\") var name: String,\n  @ColumnInfo(name = \"description\") var description: String?,\n  @ColumnInfo(name = \"source_url\") var sourceUrl: String?\n)\n\n@Entity(\n  tableName = \"Example_dates\",\n  foreignKeys = arrayOf(\n    ForeignKey(entity = Example::class, parentColumns = [\"id\"], \n     childColumns = [\"example_id\"]))\n)\ndata class Example_dates constructor(\n  @PrimaryKey @ColumnInfo(name = \"id\") var id: Int,\n  @ColumnInfo(name = \"example_id\") var exampleId: Int,\n  @ColumnInfo(name = \"color\") var color: Int,\n  @ColumnInfo(name = \"date_from\") var dateFrom: String?,\n  @ColumnInfo(name = \"date_to\") var dateTo: String?\n)\n</code></pre>\n\n<p>Dao object: </p>\n\n<pre><code>@Dao\ninterface AnimalDao {\n  @Query(\n    \"SELECT * FROM example_dates LEFT JOIN example ON example_dates.example_id = example.id\")\n  fun loadAll(): Cursor\n}\n</code></pre>\n\n<p>And I'm building DB like this:</p>\n\n<pre><code>RoomAsset\n  .databaseBuilder(context, AppDatabase::class.java, \"File.db\")\n  .build()\n</code></pre>\n\n<p>Is there any way, how to get merged data from SQL statement in different way then Cursor? I've tried to add more fields to <code>data class Example</code> constructor annotated with <code>@Ignore</code> but I got error with differences in table - \"Expected/Found\". Or is solution based on cursor the right way of implementation?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["android", "database", "sqlite", "listview", "kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1529942253, "post_id": 51026953, "comment_id": 89047435, "body": "Do you see &quot;Error&quot; or &quot;Note was saved!&quot; toast?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9978028"}, "edited": false, "score": 0, "creation_date": 1529942573, "post_id": 51026953, "comment_id": 89047603, "body": "@mTak No I don&#39;t"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1529942732, "post_id": 51026953, "comment_id": 89047691, "body": "So maybe nothing is saved in the db. Can you post your logcat?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9978028"}, "edited": false, "score": 0, "creation_date": 1529943697, "post_id": 51026953, "comment_id": 89048170, "body": "@mTak <a href=\"https://www.uplooder.net/img/image/48/b39c413c445583203c8d009e68cf29bc/Logcat.PNG\" rel=\"nofollow noreferrer\">uplooder.net/img/image/48/b39c413c445583203c8d009e68cf29bc/&hellip;</a>"}, {"owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "edited": false, "score": 0, "creation_date": 1529957406, "post_id": 51026953, "comment_id": 89054483, "body": "Try changing <code>val BMP = BitmapFactory.decodeByteArray(Pic,cursor.getColumnIndex(&quot;Pic&zwnj;&#8203;&quot;),Pic!!.size)</code> to <code>val BMP = BitmapFactory.decodeByteArray(Pic,0,Pic!!.size)</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9978028"}, "edited": false, "score": 0, "creation_date": 1529959282, "post_id": 51026953, "comment_id": 89055346, "body": "@mTak OMG it worked! Thanks a lot."}, {"owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "edited": false, "score": 0, "creation_date": 1529959501, "post_id": 51026953, "comment_id": 89055448, "body": "I&#39;ll write answer."}], "answers": [{"tags": [], "owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "is_accepted": true, "score": 0, "last_activity_date": 1529959990, "creation_date": 1529959990, "answer_id": 51031630, "question_id": 51026953, "link": "https://stackoverflow.com/questions/51026953/get-photo-from-database-and-show-it-in-list-view/51031630#51031630", "title": "Get photo from database and show it in list view", "body": "<p>From the log it shows that the error is due to an out of bounds array and that the latest call from your code was from LoadData. The only array in LoadData is the byte array which is converted to a bitmap. </p>\n\n<p>The decode/convert takes theree parameters a byte array, an offset and the length. It converts the byte array, starting at the offset for the number of bytes given as the last parameter. So say you had a 100 byte array and the column index was 1 then you are saying convert bytes 1-100 byte 100 is out of bounds (you only have 0 - 99). </p>\n\n<p>As such you just need to code 0 as the offset. So change :-</p>\n\n<pre><code>BitmapFactory.decodeByteArray(Pic,cursor.getColumnIndex(\"Pic\"),Pic!!.size)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>BitmapFactory.decodeByteArray(Pic,0,Pic!!.size)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9978028"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 51031630, "answer_count": 1, "score": 0, "last_activity_date": 1531041492, "creation_date": 1529940234, "last_edit_date": 1531041492, "question_id": 51026953, "link": "https://stackoverflow.com/questions/51026953/get-photo-from-database-and-show-it-in-list-view", "title": "Get photo from database and show it in list view", "body": "<p>I'm working on a Note App in android studio with Kotlin. The app has a Main Activity with a list view and a floating action button and an Add Note Activity with a title edit text, note edit text, an insert picture button, a save button and an image view. </p>\n\n<p>When you touch the floating button it gets you to the App Note Activity. There, you can write your note, insert your picture and see it in the image view and finally save them in the SQLite database. When you go back to Main Activity it supposed to show the title with its picture in the list view. \nThe last part is my problem! Instead of creating list view, the app crashes out.</p>\n\n<p><strong>Android Manifest:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"soroush.l.noteproject\"&gt;\n\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=\"android.permission.CAMERA\"&gt;&lt;/uses-permission&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\".AddNoteActivity\"&gt;&lt;/activity&gt;\n&lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p><strong>Add Note Activity:</strong></p>\n\n<pre><code>class AddNoteActivity : AppCompatActivity() {\n\nprivate val GALLERY = 1\nprivate val CAMERA = 2\nvar path = myPath()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_add_note)\n\n    buttonAddPic.setOnClickListener {\n        if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_DENIED) {\n            val array = Array&lt;String&gt;(1) { Manifest.permission.WRITE_EXTERNAL_STORAGE }\n            ActivityCompat.requestPermissions(this, array, 1)\n        }\n        if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_DENIED) {\n            val array = Array&lt;String&gt;(1) { Manifest.permission.READ_EXTERNAL_STORAGE }\n            ActivityCompat.requestPermissions(this, array, 1)\n        }\n        if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.CAMERA) == PackageManager.PERMISSION_DENIED) {\n            val array = Array&lt;String&gt;(1) { Manifest.permission.CAMERA }\n            ActivityCompat.requestPermissions(this, array, 1)\n        } else\n            showPictureDialog()\n\n    }\n\n    buttonSave.setOnClickListener {\n        var dbManager = DBManager(this)\n\n        var values = ContentValues()\n        values.put(\"Title\",editTextTitle.text.toString())\n        values.put(\"Note\", editTextNote.text.toString())\n\n        val fis = FileInputStream(path.picPath)\n        val image = ByteArray(fis.available())\n        fis.read(image)\n\n        values.put(\"Pic\", image)\n\n        val ID = dbManager.insert(values)\n\n        fis.close()\n\n        if (ID &gt; 0)\n        {\n            Toast.makeText(this,\"Note was saved!\",Toast.LENGTH_SHORT).show()\n        }\n        else\n            Toast.makeText(this,\"Error\",Toast.LENGTH_SHORT).show()\n\n        finish()\n\n    }\n}\n\noverride fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n    if (requestCode == 1) {\n        if (grantResults.size &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            showPictureDialog()\n        }\n    }\n}\n\nprivate fun showPictureDialog() {\n    val pictureDialog = AlertDialog.Builder(this)\n    pictureDialog.setTitle(\"\")\n    val pictureDialogItems = arrayOf(\"Select photo from gallery\", \"Take photo with camera\")\n    pictureDialog.setItems(pictureDialogItems\n    ) { dialog, which -&gt;\n        when (which) {\n            0 -&gt; choosePhotoFromGallary()\n            1 -&gt; takePhotoFromCamera()\n        }\n    }\n    pictureDialog.show()\n}\n\nfun choosePhotoFromGallary() {\n    val galleryIntent = Intent(Intent.ACTION_PICK,\n            MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n\n    startActivityForResult(galleryIntent, GALLERY)\n}\n\nprivate fun takePhotoFromCamera() {\n    val intent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n    startActivityForResult(intent, CAMERA)\n}\n\npublic override fun onActivityResult(requestCode:Int, resultCode:Int, data: Intent?) {\n\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (requestCode == GALLERY)\n    {\n        if (data != null)\n        {\n            val contentURI = data!!.data\n            try\n            {\n                val bitmap = MediaStore.Images.Media.getBitmap(this.contentResolver, contentURI)\n                val path = saveImage(bitmap)\n                Toast.makeText(this, \"Photo was saved!\", Toast.LENGTH_SHORT).show()\n                imageViewShowPic!!.setImageBitmap(bitmap)\n\n            }\n            catch (e: IOException) {\n                e.printStackTrace()\n                Toast.makeText(this, \"Error!\", Toast.LENGTH_SHORT).show()\n            }\n\n        }\n\n    }\n    else if (requestCode == CAMERA)\n    {\n        val thumbnail = data!!.extras!!.get(\"data\") as Bitmap\n        imageViewShowPic!!.setImageBitmap(thumbnail)\n        saveImage(thumbnail)\n        Toast.makeText(this, \"Photo was saved!\", Toast.LENGTH_SHORT).show()\n    }\n}\n\nfun saveImage(myBitmap: Bitmap):String {\n    val bytes = ByteArrayOutputStream()\n    myBitmap.compress(Bitmap.CompressFormat.JPEG, 90, bytes)\n    val wallpaperDirectory = File(\n            (Environment.getExternalStorageDirectory()).toString() + IMAGE_DIRECTORY)\n\n    Log.d(\"fee\",wallpaperDirectory.toString())\n    if (!wallpaperDirectory.exists())\n    {\n\n        wallpaperDirectory.mkdirs()\n    }\n\n    try\n    {\n        Log.d(\"heel\",wallpaperDirectory.toString())\n        val f = File(wallpaperDirectory, ((Calendar.getInstance()\n                .getTimeInMillis()).toString() + \".jpg\"))\n        f.createNewFile()\n        val fo = FileOutputStream(f)\n        fo.write(bytes.toByteArray())\n        MediaScannerConnection.scanFile(this,\n                arrayOf(f.getPath()),\n                arrayOf(\"image/jpeg\"), null)\n        fo.close()\n        Log.d(\"TAG\", \"File Saved::---&gt;\" + f.getAbsolutePath())\n\n        path.picPath=f.absolutePath\n\n        return f.getAbsolutePath()\n\n    }\n    catch (e1: IOException) {\n        e1.printStackTrace()\n    }\n\n    return \"\"\n}\n\ncompanion object {\n    private val IMAGE_DIRECTORY = \"/demonuts\"\n}}\n</code></pre>\n\n<p><strong>Class myPath:</strong></p>\n\n<pre><code>class myPath {\nvar picPath:String? = null}\n</code></pre>\n\n<p><strong>SQLite Database:</strong></p>\n\n<pre><code>class DBManager {\n\nval dbName = \"NotesDB\"\nval dbTable = \"tblNotes\"\nval colID = \"ID\"\nval colTitle = \"Title\"\nval colNote = \"Note\"\nval colPic = \"Pic\"\nval dbVersion = 1\n\nval sqlCreateTable = \"CREATE TABLE IF NOT EXISTS \" + dbTable + \" \" +\n        \"(\" + colID + \" INTEGER PRIMARY KEY, \" + colTitle + \" TEXT, \" + colNote + \" TEXT, \" + colPic + \" BLOB);\"\n\nvar sqlDB: SQLiteDatabase? = null\n\nconstructor(context: Context)\n{\n    val db = DatabaseHelper(context)\n    sqlDB = db.writableDatabase\n}\n\ninner class DatabaseHelper : SQLiteOpenHelper\n{\n    var context: Context? = null\n\n    constructor(context: Context): super(context, dbName, null, dbVersion)\n    {\n        this.context = context\n    }\n\n    override fun onCreate(db: SQLiteDatabase?) {\n\n        db!!.execSQL(sqlCreateTable)\n\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase?, p1: Int, p2: Int) {\n\n        db!!.execSQL(\"DROP TABLE IF EXISTS \" + dbTable)\n\n    }\n\n}\n\nfun insert (values: ContentValues) : Long\n{\n    val ID = sqlDB!!.insert(dbTable,\"\",values)\n    return ID\n}\n\nfun RunQuery(columns:Array&lt;String&gt;, selection: String, selectionArgs:Array&lt;String&gt;, sortOrder: String): Cursor\n{\n    val qb = SQLiteQueryBuilder()\n    qb.tables = dbTable\n    val cursor = qb.query(sqlDB, columns, selection, selectionArgs, null, null, sortOrder)\n    return cursor\n}}\n</code></pre>\n\n<p><strong>Main Activity:</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nvar listOfNotes = ArrayList&lt;Note&gt;()\n\noverride fun onResume() {\n    LoadData(\"%\")\n    super.onResume()\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    LoadData(\"%\")\n\n    floatingActionButton.setOnClickListener {\n        var intent = Intent(this,AddNoteActivity::class.java)\n        startActivity(intent)\n    }\n\n}\n\nfun LoadData(title:String)\n{\n    var dbManager = DBManager(this)\n\n    val columns = arrayOf(\"ID\", \"Title\", \"Note\", \"Pic\")\n    val selectionArgs = arrayOf(title)\n\n    val cursor = dbManager.RunQuery(columns,\"Title like ?\", selectionArgs,\"Title\")\n\n    listOfNotes.clear()\n\n    if (cursor.moveToFirst() == true)\n    {\n        do\n        {\n            val ID = cursor.getInt(cursor.getColumnIndex(\"ID\"))\n            val Title = cursor.getString(cursor.getColumnIndex(\"Title\"))\n            val Note = cursor.getString(cursor.getColumnIndex(\"Note\"))\n            val Pic = cursor.getBlob(cursor.getColumnIndex(\"Pic\"))\n            val BMP = BitmapFactory.decodeByteArray(Pic,cursor.getColumnIndex(\"Pic\"),Pic!!.size)\n\n            listOfNotes.add(Note(ID,Title,Note,BMP))\n\n        }\n        while (cursor.moveToNext())\n    }\n\n\n    var noteAdapter = NoteAdapter(this, listOfNotes)\n    listViewNotes.adapter = noteAdapter\n\n}\n\ninner class NoteAdapter : BaseAdapter {\n\n    var notesList = ArrayList&lt;Note&gt;()\n    var context: Context? = null\n\n    constructor(context: Context, notesList:ArrayList&lt;Note&gt;){\n        this.notesList=notesList\n        this.context = context\n    }\n\n    override fun getView(position: Int, p1: View?, p2: ViewGroup?): View {\n\n        var view = layoutInflater.inflate(R.layout.list_view_pattern,null)\n        var note = notesList[position]\n\n        view.textViewTitle.text = note.Title\n        view.imageViewPic.setImageBitmap(note.BMP)\n\n        return view\n    }\n\n    override fun getItem(position: Int): Any {\n        return notesList[position]\n    }\n\n    override fun getItemId(position: Int): Long {\n        return position.toLong()\n    }\n\n    override fun getCount(): Int {\n        return notesList.size\n    }\n}}\n</code></pre>\n\n<p><strong>Class Note:</strong></p>\n\n<pre><code>class Note {\n\nvar ID:Int? = null\nvar Title:String? = null\nvar Note:String? = null\nvar BMP:Bitmap? = null\n\nconstructor(id:Int,title:String,note:String,bmp:Bitmap)\n{\n    ID = id\n    Title = title\n    Note = note\n    BMP = bmp\n}}\n</code></pre>\n\n<p><em>layout add note</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".AddNoteActivity\"&gt;\r\n\r\n    &lt;EditText\r\n        android:id=\"@+id/editTextNote\"\r\n        android:layout_width=\"311dp\"\r\n        android:layout_height=\"141dp\"\r\n        android:layout_marginBottom=\"64dp\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:layout_marginLeft=\"8dp\"\r\n        android:layout_marginRight=\"8dp\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:ems=\"10\"\r\n        android:hint=\"Your Note ...\"\r\n        android:inputType=\"textMultiLine\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.508\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" /&gt;\r\n\r\n    &lt;Button\r\n        android:id=\"@+id/buttonAddPic\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:layout_marginLeft=\"8dp\"\r\n        android:layout_marginRight=\"8dp\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"Add Picture\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/editTextNote\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/imageViewShowPic\"\r\n        app:layout_constraintVertical_bias=\"0.913\" /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=\"@+id/imageViewShowPic\"\r\n        android:layout_width=\"145dp\"\r\n        android:layout_height=\"149dp\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:layout_marginLeft=\"8dp\"\r\n        android:layout_marginRight=\"8dp\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"84dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.502\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:srcCompat=\"@mipmap/ic_launcher\" /&gt;\r\n\r\n    &lt;Button\r\n        android:id=\"@+id/buttonSave\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:layout_marginLeft=\"8dp\"\r\n        android:layout_marginRight=\"8dp\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"Save\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/editTextNote\"\r\n        app:layout_constraintVertical_bias=\"1.0\" /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=\"@+id/editTextTitle\"\r\n        android:layout_width=\"309dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:layout_marginLeft=\"8dp\"\r\n        android:layout_marginRight=\"8dp\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:ems=\"10\"\r\n        android:hint=\"Title\"\r\n        android:inputType=\"textMultiLine\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/imageViewShowPic\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\r\n&lt;/android.support.constraint.ConstraintLayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><em>layout main:</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".MainActivity\"&gt;\r\n\r\n    &lt;ListView\r\n        android:id=\"@+id/listViewNotes\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:layout_marginLeft=\"8dp\"\r\n        android:layout_marginRight=\"8dp\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\r\n\r\n    &lt;android.support.design.widget.FloatingActionButton\r\n        android:id=\"@+id/floatingActionButton\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginBottom=\"16dp\"\r\n        android:layout_marginEnd=\"16dp\"\r\n        android:layout_marginRight=\"16dp\"\r\n        android:clickable=\"true\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:srcCompat=\"@android:drawable/ic_input_add\" /&gt;\r\n&lt;/android.support.constraint.ConstraintLayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><em>layout list_view_pattern:</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:layout_margin=\"10dp\"\r\n    android:background=\"#fff\"\r\n    android:paddingBottom=\"5dp\"\r\n    android:paddingLeft=\"10dp\"\r\n    android:paddingRight=\"10dp\"\r\n    android:paddingTop=\"10dp\"&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"horizontal\"&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_weight=\"1\"\r\n            android:orientation=\"vertical\"&gt;\r\n\r\n            &lt;TextView\r\n                android:id=\"@+id/textViewTitle\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginRight=\"8dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:textColor=\"#000\"\r\n                android:textSize=\"23sp\" /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=\"@+id/imageViewPic\"\r\n            android:layout_width=\"90dp\"\r\n            android:layout_height=\"90dp\"\r\n            tools:srcCompat=\"@mipmap/ic_launcher\" /&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/LinearLayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 7265, "user_id": 568898, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e6393f15a54d471a1586d34518676d5?s=128&d=identicon&r=PG", "display_name": "Jahnold", "link": "https://stackoverflow.com/users/568898/jahnold"}, "edited": false, "score": 4, "creation_date": 1529938656, "post_id": 51026402, "comment_id": 89045270, "body": "<a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/multi-declarations.html</a>"}, {"owner": {"reputation": 2287, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 0, "creation_date": 1529939063, "post_id": 51026402, "comment_id": 89045484, "body": "You should <a href=\"https://meta.stackoverflow.com/q/251361\">format your code block</a>. Personally I would not recommend using bold, just mention it below like you already did is fine."}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1529941261, "post_id": 51026402, "comment_id": 89046836, "body": "Apparently some function time takes lambda as a parameter and returns two values, one of them is not used and replaces with <code>_</code>"}, {"owner": {"reputation": 43, "user_id": 1988515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a88ebacb433f7009e8bdb5df0eccc0?s=128&d=identicon&r=PG", "display_name": "Ananth Raghuraman", "link": "https://stackoverflow.com/users/1988515/ananth-raghuraman"}, "edited": false, "score": 0, "creation_date": 1529945434, "post_id": 51026402, "comment_id": 89049058, "body": "Thanks to your replies!"}], "answers": [{"tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 4, "last_activity_date": 1529941871, "creation_date": 1529941871, "answer_id": 51027438, "question_id": 51026402, "link": "https://stackoverflow.com/questions/51026402/what-is-this-syntax-in-kotlin/51027438#51027438", "title": "What is this syntax in Kotlin", "body": "<p>The left hand side is called <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\"><strong>destructuring</strong></a>.</p>\n\n<p>If you try to assign an instance of a data class (or any <code>class</code> which has <code>componentN</code> functions) to a variable you can desturcture it. This means that you can assign its internals to variables. The <code>_</code> syntax indicates that you don't care about the first item.</p>\n\n<p>Example:</p>\n\n<pre><code>class Foo(val first: String, val second: String) {\n\n    operator fun component1() = first\n\n    operator fun component2() = second\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>val (first, second) = Foo(\"first\", \"second\")\n</code></pre>\n\n<p>If you use <code>data class</code>es you don't need to create the <code>componentN</code> functions, they are generated for you.</p>\n\n<p>Equivalent <code>data class</code>:</p>\n\n<pre><code>data class Foo(val first: String, val second: String)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 1988515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a88ebacb433f7009e8bdb5df0eccc0?s=128&d=identicon&r=PG", "display_name": "Ananth Raghuraman", "link": "https://stackoverflow.com/users/1988515/ananth-raghuraman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 51027438, "answer_count": 1, "score": 2, "last_activity_date": 1529941871, "creation_date": 1529938522, "last_edit_date": 1529939168, "question_id": 51026402, "link": "https://stackoverflow.com/questions/51026402/what-is-this-syntax-in-kotlin", "title": "What is this syntax in Kotlin", "body": "<pre><code>val (_,time) = time { Thread.sleep(1000) }\n</code></pre>\n\n<p>I see the Left Hand Side (LHS) has a val, so its declaring a variable. LHS also has some kind of a function syntax which does not look like a lambda declaration. What is <code>(_,time)</code>? Don\u2019t you have to give a type to the time on the LHS? I understand the RHS perfectly well: it is a function which accepts a lambda as parameter and is named \u2018time\u2019. <a href=\"https://discuss.kotlinlang.org/t/what-is-this-syntax/8278?u=araghuraman1\" rel=\"nofollow noreferrer\">Original code</a></p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "owner": {"reputation": 1915, "user_id": 2141889, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b0115b5da14ba1cd0a8ed1185463b11c?s=128&d=identicon&r=PG", "display_name": "user2141889", "link": "https://stackoverflow.com/users/2141889/user2141889"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 335, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1529934671, "creation_date": 1529934671, "question_id": 51025126, "link": "https://stackoverflow.com/questions/51025126/dagger-2-kotlin-and-generics", "title": "Dagger 2 kotlin and generics", "body": "<p>I am trying to add multibinding to my fragment subcomponents, but I have problem with kotlin and generics. Basically I have 2 interfaces, \nOne for modules:</p>\n\n<p><code>@Module\ninterface SbModule\n</code></p>\n\n<p>And one for subcomponents\n<code>interface SbSubcomponent</code>\nThen I have subcomponent builder</p>\n\n<p><code>interface SbBuilder&lt;in A, out B&gt; {\n    fun module(module: A)\n    fun build(): B\n}</code></p>\n\n<p>My fragment subcomponent extends <code>SbSubcomponent</code> and its module extends <code>SbModule</code> obviously. then I have builder as:</p>\n\n<p><code>@dagger.Subcomponent.Builder\ninterface Builder: SbBuilder&lt;Module, Subcomponent&gt; {}</code></p>\n\n<p>And the problem starts in activity, lets omit map binding to make the problem more clear, I am biding my <code>Subcomponent.Builder</code> to <code>SbBuilder</code> but I have to specify the types exactly, so as follows:</p>\n\n<p><code>@Binds\nabstract fun fragmentBuilder(impl: Fragment.Subcomponent.Builder): SbBuilder&lt;Fragment.Subcomponent.Module, Fragment.Subcomponent&gt;</code></p>\n\n<p>If I try with generics so <code>SbModule</code> and <code>SbSubcomponent</code>\nthen I am getting</p>\n\n<p><code>@Binds methods must have only one parameter whose type is assignable to the return type</code></p>\n\n<p>And after I specify the types exactly I cant inject it as generic ones.. however I can cast them to generic ones after injection and this is fine but thats not the point, I have been also messing with <code>@JvmSuppressWildcards</code> but no matter where I put them there is always problem. I must have missed something, but currently I have no idea what</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530190321, "post_id": 51024741, "comment_id": 89155112, "body": "Is the real mobile device is rooted?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1530195210, "post_id": 51024741, "comment_id": 89158593, "body": "No, the real mobile phone isn&#39;t rooted"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1530195317, "post_id": 51024741, "comment_id": 89158678, "body": "The real phone is  Samsung SM-J5008 with Android 5.1"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530254974, "post_id": 51024741, "comment_id": 89179378, "body": "<a href=\"https://groups.google.com/d/msg/tasker/C5ZgPA2J7aM/bH7j85buAAAJ\" rel=\"nofollow noreferrer\">groups.google.com/d/msg/tasker/C5ZgPA2J7aM/bH7j85buAAAJ</a> Can you check this once. If it helps"}, {"owner": {"reputation": 2443, "user_id": 5954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VExH.jpg?s=128&g=1", "display_name": "Man", "link": "https://stackoverflow.com/users/5954635/man"}, "edited": false, "score": 0, "creation_date": 1530283881, "post_id": 51024741, "comment_id": 89195935, "body": "I tried, Everything seems fine, As mentioned in that discussion can you check is there any specific setting there which asks before turning on/off wifi by app?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1530322123, "post_id": 51024741, "comment_id": 89209046, "body": "Thanks! If I change the bluetooth  status programmatically in Samsung SM-J5008 with Android 5.1 ,  the prompt window is displayed too !"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530600127, "post_id": 51024741, "comment_id": 89280134, "body": "@HelloCW So you got the solution?"}], "answers": [{"tags": [], "owner": {"reputation": 1074, "user_id": 8065149, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4df1fa1ac3db8323a92a114f88955c8?s=128&d=identicon&r=PG&f=1", "display_name": "cjnash", "link": "https://stackoverflow.com/users/8065149/cjnash"}, "is_accepted": false, "score": 0, "last_activity_date": 1530627228, "last_edit_date": 1530627228, "creation_date": 1530621899, "answer_id": 51154983, "question_id": 51024741, "link": "https://stackoverflow.com/questions/51024741/why-do-i-get-requesting-permission-to-use-wlan-allow-prompt-window-in-real-m/51154983#51154983", "title": "Why do I get &quot;requesting permission to use WLAN. Allow?&quot; prompt window in real mobile phone?", "body": "<p>You also need to add this to your manifest: </p>\n\n<p><code>&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;</code></p>\n\n<p>According to the website below: <code>*App on Marshmallow needs ACCESS_COARSE_LOCATION or ACCESS_FINE_LOCATION permission and Location services should be enabled to get wifi scan results</code>. Google probably sees scanning for wifi as a security concern, and wanted to add the location permissions as well. </p>\n\n<p>I would recommend following the blog post below if you are having trouble <strong>after</strong> adding the <code>ACCESS_COARSE_LOCATION</code> permission to your manifest.</p>\n\n<p><a href=\"https://www.intentfilter.com/2016/08/programatically-connecting-to-wifi.html\" rel=\"nofollow noreferrer\">https://www.intentfilter.com/2016/08/programatically-connecting-to-wifi.html</a></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>For the people down voting, please include a comment explaining why. Was my answer flat out wrong? Did I overlook somthing?</p>\n\n<p>Some more information on google's geolocation service:</p>\n\n<ul>\n<li>Google maintains a huge database for its geolocation service (\"Access coarse location\" permission). It consists of:\n\n<ul>\n<li>Wifi access point mappings: Wifi MAC address resolve to a geolocation</li>\n<li>Cell tower mapping: Cell tower ID's resolve to a geolocation</li>\n</ul></li>\n</ul>\n\n<p>So it is very possible that this user didn't include this permission and is getting this dialog box.</p>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1530750396, "post_id": 51179554, "comment_id": 89346326, "body": "Thanks! Would you please have a look at <a href=\"https://stackoverflow.com/questions/51128198/how-can-set-ask-to-use-wlan-off-programmatically-in-android\" title=\"how can set ask to use wlan off programmatically in android\">stackoverflow.com/questions/51128198/&hellip;</a>"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1530750474, "post_id": 51179554, "comment_id": 89346339, "body": "It seems that  Samsung SM-J5008  customize the permission, but I&#39;m not sure"}, {"owner": {"reputation": 2042, "user_id": 798406, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d92c9d66ab13f3da053f7635565660f1?s=128&d=identicon&r=PG", "display_name": "Denis Loh", "link": "https://stackoverflow.com/users/798406/denis-loh"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1530772567, "post_id": 51179554, "comment_id": 89351247, "body": "So this problem is Samsung related and it is very likely that you can&#39;t change that programmatically, because a) there is no public API for it as runtime permissions where added in Android 6.0 and b) you can&#39;t use reflection as you don&#39;t have access to the Samsung implementation. Unfortunatelly, Samsung is one of the most annoying players on the Android market, because they tend to implement non-AOSP functionalities hindering public API. We often have to implement work-a-rounds which are focused solely on Samsung devices. But in this case, I can&#39;t see any change to fix it."}], "tags": [], "owner": {"reputation": 2042, "user_id": 798406, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d92c9d66ab13f3da053f7635565660f1?s=128&d=identicon&r=PG", "display_name": "Denis Loh", "link": "https://stackoverflow.com/users/798406/denis-loh"}, "is_accepted": true, "score": 2, "last_activity_date": 1530730415, "creation_date": 1530730415, "answer_id": 51179554, "question_id": 51024741, "link": "https://stackoverflow.com/questions/51024741/why-do-i-get-requesting-permission-to-use-wlan-allow-prompt-window-in-real-m/51179554#51179554", "title": "Why do I get &quot;requesting permission to use WLAN. Allow?&quot; prompt window in real mobile phone?", "body": "<p>Android 5.1 does not have such runtime permission, so I assume, that this is a wrongly implemented permission request rational, which is shown even though the app does not need to. You wrote, that you tested with API level 26 and 23, which is Android 6.0 and higher, so these versions already have runtime permissions. Maybe you haven't seen this issue, because you haven't tested on devices below Android 6.0...</p>\n\n<p>Please check if you somewhere call <code>AppCompat.shouldShowRequestPermissionRationale()</code> and if it is surrounded by SDK level checks or at least with a <code>checkSelfPermission</code> as described here: <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">https://developer.android.com/training/permissions/requesting</a>. Test your code in an emulator with Android 5.1 and Android 6.0. Then you should be able to reproduce that issue also on real phones.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "accepted_answer_id": 51179554, "answer_count": 2, "score": 6, "last_activity_date": 1530730415, "creation_date": 1529933501, "last_edit_date": 1530195375, "question_id": 51024741, "link": "https://stackoverflow.com/questions/51024741/why-do-i-get-requesting-permission-to-use-wlan-allow-prompt-window-in-real-m", "title": "Why do I get &quot;requesting permission to use WLAN. Allow?&quot; prompt window in real mobile phone?", "body": "<p>I use the Code A to set the enabled status of WiFi, it works well when I use Android Emulator with both API 26 and API 23 in Android Studio 3.1.3 , and none of prompt window display!</p>\n\n<p>But I get a prompt window \"An App is requesting permission to use WLAN. Allow?\" in real mobile phone with Android 5.1 when I run the code A.</p>\n\n<p>How can I make the prompt window not to display in real mobile phone? Thanks!</p>\n\n<p>BTW,the real mobile phone is Samsung SM-J5008 with Android 5.1</p>\n\n<p><strong>Prompt Window</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/fx0jE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fx0jE.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have set the permissions</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" /&gt;\n</code></pre>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>fun setWiFi(aWiFiDef: WiFiDef): Unit{\n    val wifiManager =mContext.applicationContext.getSystemService(WIFI_SERVICE) as WifiManager\n    wifiManager.isWifiEnabled=aWiFiDef.status        \n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "encode"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 2, "creation_date": 1529932627, "post_id": 51024413, "comment_id": 89041230, "body": "What is the value of <code>Chars</code>? Your code shows <code>CHARS</code> and it contains neither <code>[</code> nor <code>]</code>."}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1529932711, "post_id": 51024413, "comment_id": 89041303, "body": "Sorry. <code>Chars</code> are the ones that shouldn&#39;t be <code>encoded</code>."}], "answers": [{"tags": [], "owner": {"reputation": 413, "user_id": 2021595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe6c1b2baf9acb860808d369c022c881?s=128&d=identicon&r=PG", "display_name": "Chinmay", "link": "https://stackoverflow.com/users/2021595/chinmay"}, "is_accepted": false, "score": 0, "last_activity_date": 1529933313, "creation_date": 1529933313, "answer_id": 51024668, "question_id": 51024413, "link": "https://stackoverflow.com/questions/51024413/uri-encode-encodes-wrong/51024668#51024668", "title": "Uri.encode() encodes wrong", "body": "<p>URLEncoder.encode(query, \"UTF-8\");</p>\n\n<p>The URL encoding is can be <a href=\"https://en.wikipedia.org/wiki/Percent-encoding\" rel=\"nofollow noreferrer\">Percent-encoding</a> which encodes with %. Provide \"UTF-8\" in chars it will work. Hope this will work for you.</p>\n"}, {"tags": [], "owner": {"reputation": 6743, "user_id": 3647002, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/raqLI.png?s=128&g=1", "display_name": "Gayan Weerakutti", "link": "https://stackoverflow.com/users/3647002/gayan-weerakutti"}, "is_accepted": false, "score": 0, "last_activity_date": 1529934485, "creation_date": 1529934485, "answer_id": 51025060, "question_id": 51024413, "link": "https://stackoverflow.com/questions/51024413/uri-encode-encodes-wrong/51025060#51025060", "title": "Uri.encode() encodes wrong", "body": "<p>You seems to be calling android.net.Uri's:</p>\n\n<pre><code>public static String encode (String s, String allow)\n</code></pre>\n\n<p>From the documentation, this:</p>\n\n<blockquote>\n  <p>Encodes characters in the given string as '%'-escaped octets using the\n  UTF-8 scheme. Leaves letters (\"A-Z\", \"a-z\"), numbers (\"0-9\"), and\n  unreserved characters (\"_-!.~'()*\") intact. Encodes all other\n  characters with the exception of those specified in the allow\n  argument.</p>\n</blockquote>\n\n<p>So you need pass the URL string  as the s parameter. And it will return an encoded version of the url suitable for use as a URI component.</p>\n"}], "owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1110, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1529934485, "creation_date": 1529932540, "last_edit_date": 1529933872, "question_id": 51024413, "link": "https://stackoverflow.com/questions/51024413/uri-encode-encodes-wrong", "title": "Uri.encode() encodes wrong", "body": "<p>So, I need to encode my url. \nFor that I use <code>Uri.encode()</code>:   </p>\n\n<pre><code>private const val CHARS= \"@#&amp;=*+-_.,:!?()/~'%\"\n\nif (query != null) {\n     query = Uri.encode(query, Chars)\n}\n</code></pre>\n\n<p>But, it encodes weirdly... <code>[</code> is <code>%255B</code>, when it should be  and <code>]</code> is <code>%255D</code>, when it should be <code>%5D</code></p>\n\n<p>Update: Turns out <code>Uri.encode()</code> works just fine. The problem is how I build the url. I do it by using <code>HttpUrl</code> and after I encode <code>query</code> I do <code>HttpUrl.build()</code> which encodes the url second time?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1529930836, "post_id": 51023658, "comment_id": 89040110, "body": "This is not the error you should be looking at, filter for your own app&#39;s package name"}, {"owner": {"reputation": 1, "user_id": 9989128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6275d9d5fe4adefd8d6a3ad5ec8008a4?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyGand012", "link": "https://stackoverflow.com/users/9989128/joeygand012"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1529931076, "post_id": 51023658, "comment_id": 89040258, "body": "how do I do that?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9989128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6275d9d5fe4adefd8d6a3ad5ec8008a4?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyGand012", "link": "https://stackoverflow.com/users/9989128/joeygand012"}, "edited": false, "score": 0, "creation_date": 1529931042, "post_id": 51023861, "comment_id": 89040233, "body": "everything is using implementation... still nothing, This is so weird. I read somewhere I had to add this to my manifest: &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;  and now I have an error for java.lang.NumberFormatException: for Input stain: &quot;0:010&quot;. never had problems until this update :/"}, {"owner": {"reputation": 21, "user_id": 9894726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa276e3f26acaa6969ef641adb8c53dd?s=128&d=identicon&r=PG", "display_name": "ueminiscan", "link": "https://stackoverflow.com/users/9894726/ueminiscan"}, "reply_to_user": {"reputation": 1, "user_id": 9989128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6275d9d5fe4adefd8d6a3ad5ec8008a4?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyGand012", "link": "https://stackoverflow.com/users/9989128/joeygand012"}, "edited": false, "score": 0, "creation_date": 1529931271, "post_id": 51023861, "comment_id": 89040374, "body": "Record Audio API 16 and above versions should be allowed in dialogue. Do you do this?"}, {"owner": {"reputation": 1, "user_id": 9989128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6275d9d5fe4adefd8d6a3ad5ec8008a4?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyGand012", "link": "https://stackoverflow.com/users/9989128/joeygand012"}, "edited": false, "score": 0, "creation_date": 1529931437, "post_id": 51023861, "comment_id": 89040473, "body": "I just added that based on someone else&#39;s problem I saw on Stack. and my min SDK is 20 so it should be good"}, {"owner": {"reputation": 21, "user_id": 9894726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa276e3f26acaa6969ef641adb8c53dd?s=128&d=identicon&r=PG", "display_name": "ueminiscan", "link": "https://stackoverflow.com/users/9894726/ueminiscan"}, "reply_to_user": {"reputation": 1, "user_id": 9989128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6275d9d5fe4adefd8d6a3ad5ec8008a4?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyGand012", "link": "https://stackoverflow.com/users/9989128/joeygand012"}, "edited": false, "score": 0, "creation_date": 1529931809, "post_id": 51023861, "comment_id": 89040701, "body": "Can you chehk your app permission on your phone?"}, {"owner": {"reputation": 1, "user_id": 9989128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6275d9d5fe4adefd8d6a3ad5ec8008a4?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyGand012", "link": "https://stackoverflow.com/users/9989128/joeygand012"}, "edited": false, "score": 0, "creation_date": 1529931979, "post_id": 51023861, "comment_id": 89040813, "body": "what do you mean? what permissions are we talking about? I am using an emulator. I think right now the problem is what I put on my edit: the java.lang.NumberFormatException"}], "tags": [], "owner": {"reputation": 21, "user_id": 9894726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa276e3f26acaa6969ef641adb8c53dd?s=128&d=identicon&r=PG", "display_name": "ueminiscan", "link": "https://stackoverflow.com/users/9894726/ueminiscan"}, "is_accepted": false, "score": 0, "last_activity_date": 1529930885, "creation_date": 1529930885, "answer_id": 51023861, "question_id": 51023658, "link": "https://stackoverflow.com/questions/51023658/updated-android-studio-now-my-app-crashes-with-errors-i-have-never-seen/51023861#51023861", "title": "Updated Android Studio now my app crashes with errors I have never seen", "body": "<p>Android made some changes. The gradle file will no longer use compile terminology. Implementation will be used instead of compile. I suggest you change compile terms with implemention. Finally, if the problem is not solved, you can update your libraries. I hope I could help...</p>\n"}], "owner": {"reputation": 1, "user_id": 9989128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6275d9d5fe4adefd8d6a3ad5ec8008a4?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyGand012", "link": "https://stackoverflow.com/users/9989128/joeygand012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 545, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529931110, "creation_date": 1529930203, "last_edit_date": 1529931110, "question_id": 51023658, "link": "https://stackoverflow.com/questions/51023658/updated-android-studio-now-my-app-crashes-with-errors-i-have-never-seen", "title": "Updated Android Studio now my app crashes with errors I have never seen", "body": "<p>I recently updated Android Studio but after updating the app crashes when trying to open it.</p>\n\n<p>Could someone please help me fix the app?</p>\n\n<p>Here are the error messages:</p>\n\n<pre><code>    1412-1412/? E/AudioFlinger: createRecordTrack_l() initCheck failed -12; no control block?\n06-25 13:31:09.047 2428-2720/com.google.android.googlequicksearchbox:search E/AudioRecord: AudioFlinger could not create record track, status: -12\n06-25 13:31:09.049 1412-5345/? I/AudioFlinger: AudioFlinger\u2019s thread 0xa4303d40 ready to run\n06-25 13:31:09.050 2428-2720/com.google.android.googlequicksearchbox:search E/AudioRecord-JNI: Error creating AudioRecord instance: initialization check failed with status -12.\n06-25 13:31:09.050 2428-2720/com.google.android.googlequicksearchbox:search E/android.media.AudioRecord: Error code -20 when initializing native AudioRecord object.\n06-25 13:31:09.050 2428-2720/com.google.android.googlequicksearchbox:search I/MicrophoneInputStream: mic_started com.google.android.apps.gsa.staticplugins.z.c@a2292b5\n06-25 13:31:09.053 2428-2720/com.google.android.googlequicksearchbox:search E/ActivityThread: Failed to find provider info for com.google.android.apps.gsa.testing.ui.audio.recorded\n</code></pre>\n\n<p>Thanks in advance.</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>I read somewhere I had to add this to my manifest: <code>&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;</code> and now I have an error for java.lang.NumberFormatException: for Input stain: \"0:010\". never had problems until this update :/</p>\n"}, {"tags": ["kotlin", "collections", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 1893, "user_id": 1029483, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dcc92a6b64a180e700511e672a930bdc?s=128&d=identicon&r=PG", "display_name": "Khashayar", "link": "https://stackoverflow.com/users/1029483/khashayar"}, "edited": false, "score": 0, "creation_date": 1529926702, "post_id": 51022533, "comment_id": 89037545, "body": "I have been searching around but I couldn&#39;t find any related questions. If you know anything related a link will be appreciated alot."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 3, "creation_date": 1529927026, "post_id": 51022533, "comment_id": 89037720, "body": "Kotlin Sequences don&#39;t generally deal with the concept of time, there&#39;s not a single operator on them that does delay or anything of the sort. This is more in the realm of coroutines which might have something like this, or you could implement your own operator as an extension function that does what you need, however you&#39;d like."}, {"owner": {"reputation": 1893, "user_id": 1029483, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dcc92a6b64a180e700511e672a930bdc?s=128&d=identicon&r=PG", "display_name": "Khashayar", "link": "https://stackoverflow.com/users/1029483/khashayar"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1529927092, "post_id": 51022533, "comment_id": 89037750, "body": "I just have a hard time believing I am the first one to look into this problem but at the same time cant find anything suitable"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1529927185, "post_id": 51022533, "comment_id": 89037798, "body": "You&#39;re surely not the first - Rx probably has this covered, it&#39;s just Sequences that don&#39;t support these operations yet."}, {"owner": {"reputation": 1893, "user_id": 1029483, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dcc92a6b64a180e700511e672a930bdc?s=128&d=identicon&r=PG", "display_name": "Khashayar", "link": "https://stackoverflow.com/users/1029483/khashayar"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1529927396, "post_id": 51022533, "comment_id": 89037931, "body": "Thanks. if there is a solution with coroutines that will work as well for me."}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 5387568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uh4e9.jpg?s=128&g=1", "display_name": "Jishin Dev", "link": "https://stackoverflow.com/users/5387568/jishin-dev"}, "edited": false, "score": 0, "creation_date": 1610457897, "post_id": 51048783, "comment_id": 116134439, "body": "Hey @Roman Elizarov, is there a flow based solution for this that you could point me to?"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 6, "last_activity_date": 1530035188, "creation_date": 1530035188, "answer_id": 51048783, "question_id": 51022533, "link": "https://stackoverflow.com/questions/51022533/kotlin-chunk-sequence-based-on-size-and-time/51048783#51048783", "title": "Kotlin - Chunk sequence based on size and time", "body": "<p>Kotlin <code>Sequence</code> is a synchronous concept and is not supposed to be used in any kind of time-limited fashion. If you ask the sequence for the next element then it blocks invoker thread until it produces the next element and there is no way to cancel it. </p>\n\n<p>However, <code>kotlinx.coroutines</code> library introduces the concept of <code>Channel</code> which is a rough analogue of a sequence for an asynchronous world, where operation may take some time to complete and they don't block threads while doing so. You can read more in <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"noreferrer\">this guide</a>.</p>\n\n<p>It does not provide a ready-to-use <code>chunked</code> operator, but makes it straightforward to write one. You can use the following code:</p>\n\n<pre><code>import kotlinx.coroutines.experimental.channels.*\nimport kotlinx.coroutines.experimental.selects.*\n\nfun &lt;T&gt; ReceiveChannel&lt;T&gt;.chunked(size: Int, time: Long) =\n    produce&lt;List&lt;T&gt;&gt;(onCompletion = consumes()) {\n        while (true) { // this loop goes over each chunk\n            val chunk = mutableListOf&lt;T&gt;() // current chunk\n            val ticker = ticker(time) // time-limit for this chunk\n            try {\n                whileSelect {\n                    ticker.onReceive {\n                        false  // done with chunk when timer ticks, takes priority over received elements\n                    }\n                    this@chunked.onReceive {\n                        chunk += it\n                        chunk.size &lt; size // continue whileSelect if chunk is not full\n                    }\n                }\n            } catch (e: ClosedReceiveChannelException) {\n                return@produce // that is normal exception when the source channel is over -- just stop\n            } finally {\n                ticker.cancel() // release ticker (we don't need it anymore as we wait for the first tick only)\n                if (chunk.isNotEmpty()) send(chunk) // send non-empty chunk on exit from whileSelect\n            }\n        }\n    }\n</code></pre>\n\n<p>As you can see from this code, it embeds some non-trivial decisions on what to do in corner cases. What should we do if timer expires but current chunk is still empty? This code start new time interval and does not send the previous (empty) chunk. Do we finish current chunk on timeout after last element, measure time from the first element, or measure time from the beginning of chunk? This code does the later.</p>\n\n<p>This code is completely <em>sequential</em> -- its logic is easy to follow in a step-by-step way (there is not concurrency inside the code). One can adjust it to any project-speicfic requirements.</p>\n"}], "owner": {"reputation": 1893, "user_id": 1029483, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dcc92a6b64a180e700511e672a930bdc?s=128&d=identicon&r=PG", "display_name": "Khashayar", "link": "https://stackoverflow.com/users/1029483/khashayar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 1, "accepted_answer_id": 51048783, "answer_count": 1, "score": 1, "last_activity_date": 1552981578, "creation_date": 1529926516, "last_edit_date": 1552981578, "question_id": 51022533, "link": "https://stackoverflow.com/questions/51022533/kotlin-chunk-sequence-based-on-size-and-time", "title": "Kotlin - Chunk sequence based on size and time", "body": "<p>I have a never ending stream as a sequence.\nWhat I am aiming for is to take a batch from the sequence both based on time and size.</p>\n\n<p>What I mean is if my sequence has 2250 messages right now I want to send 3 batches ( 1000, 1000, 250).</p>\n\n<p>Also if till the next 5 minute I still have not accumulated a 1000 messages I will send it anyway with whatever has accumulated so far.</p>\n\n<pre><code>        sequence\n        .chunked(1000)\n        .map { chunk -&gt;\n            // do something with chunk\n        }\n</code></pre>\n\n<p>What I was expecting to have is something like .chunked(1000, 300) which 300 is second for when I want to send every 5 minutes.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["kotlin", "hashmap"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1529923496, "post_id": 51021580, "comment_id": 89035667, "body": "Your expected result seems to also be in descending order? Also, the <code>toSortedMap</code> call you have there works perfectly for me, and I get the elements in ascending order (20, 21, 22)."}, {"owner": {"reputation": 2916, "user_id": 2543013, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dc4d80d710ca9ca798bb374e0d1064fd?s=128&d=identicon&r=PG", "display_name": "kosas", "link": "https://stackoverflow.com/users/2543013/kosas"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1529923585, "post_id": 51021580, "comment_id": 89035724, "body": "my mistake, updated question"}], "answers": [{"comments": [{"owner": {"reputation": 2916, "user_id": 2543013, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dc4d80d710ca9ca798bb374e0d1064fd?s=128&d=identicon&r=PG", "display_name": "kosas", "link": "https://stackoverflow.com/users/2543013/kosas"}, "edited": false, "score": 1, "creation_date": 1529923751, "post_id": 51021672, "comment_id": 89035821, "body": "Thank you! Kotlin is awesome"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 2916, "user_id": 2543013, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dc4d80d710ca9ca798bb374e0d1064fd?s=128&d=identicon&r=PG", "display_name": "kosas", "link": "https://stackoverflow.com/users/2543013/kosas"}, "edited": false, "score": 0, "creation_date": 1529923781, "post_id": 51021672, "comment_id": 89035843, "body": "Indeed, almost everything is already there in the standard library :)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 20, "last_activity_date": 1529923635, "creation_date": 1529923635, "answer_id": 51021672, "question_id": 51021580, "link": "https://stackoverflow.com/questions/51021580/kotlin-sort-hashmap-in-descending-order/51021672#51021672", "title": "Kotlin sort hashmap in descending order", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/compare-by-descending.html\" rel=\"noreferrer\"><code>compareByDescending</code></a>:</p>\n\n<pre><code>val sortedMap = myHashMap.toSortedMap(compareByDescending { it })\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 2, "last_activity_date": 1529960199, "last_edit_date": 1529960199, "creation_date": 1529924507, "answer_id": 51021937, "question_id": 51021580, "link": "https://stackoverflow.com/questions/51021580/kotlin-sort-hashmap-in-descending-order/51021937#51021937", "title": "Kotlin sort hashmap in descending order", "body": "<p>The reason you get the result in ascending order is because (from the values you presented) all dates have month=6 and year=2018. <br/>If there are various dates then if you simply do <code>compareByDescending</code> the result will be wrong. <br/>Consider these dates:\n21-05-2018, 22-4-2018. <br/>If you sort descending you will get 1st 22-04-2018!  <br/>\nWhat you need to do is convert the dates in yyyy-MM-dd and then sort descending:</p>\n\n<pre><code>fun convertDate(d: String): String {\n    val array = d.split(\"-\")\n    return array[2] + array[1] + array[0]\n}\n\nval sortedMap =  myHashMap.toSortedMap(compareByDescending { convertDate(it) })\n</code></pre>\n\n<p>One more thing: your dates must have 2 digits for month and day and 4 digits for year, dates like 2-5-2018 will give wrong result.\n  <br/><strong>Last edit</strong>: no need for <code>-</code> in the concatenation.</p>\n"}, {"tags": [], "owner": {"reputation": 1747, "user_id": 3647974, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5620d06433cbaf1075e743f8da7d9573?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Saruulo", "link": "https://stackoverflow.com/users/3647974/jason-saruulo"}, "is_accepted": false, "score": 1, "last_activity_date": 1615210739, "last_edit_date": 1615210739, "creation_date": 1588967108, "answer_id": 61686914, "question_id": 51021580, "link": "https://stackoverflow.com/questions/51021580/kotlin-sort-hashmap-in-descending-order/61686914#61686914", "title": "Kotlin sort hashmap in descending order", "body": "<p>This worked for me.</p>\n<pre><code>val sortedMap = myHashMap.toSortedMap(reverseOrder())\n</code></pre>\n<p>Reference: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/reverse-order.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/reverse-order.html</a>.</p>\n"}], "owner": {"reputation": 2916, "user_id": 2543013, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dc4d80d710ca9ca798bb374e0d1064fd?s=128&d=identicon&r=PG", "display_name": "kosas", "link": "https://stackoverflow.com/users/2543013/kosas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6169, "favorite_count": 0, "accepted_answer_id": 51021672, "answer_count": 3, "score": 13, "last_activity_date": 1615210739, "creation_date": 1529923349, "last_edit_date": 1530031666, "question_id": 51021580, "link": "https://stackoverflow.com/questions/51021580/kotlin-sort-hashmap-in-descending-order", "title": "Kotlin sort hashmap in descending order", "body": "<p>I have <code>val myHashMap = HashMap&lt;String, MutableList&lt;TestItem&gt;&gt;()</code>, hashmap key value is formatted date as a string for example <code>20-06-2018</code> how can I sort this hashMap in descending order?</p>\n\n<p>expected result:</p>\n\n<pre><code>22-06-2018 : []\n21-06-2018 : []\n20-06-2018 : []\n</code></pre>\n\n<p>I use this code to sort it, but result is in ascending order:</p>\n\n<pre><code>val sortedMap = myHashMap.toSortedMap(compareBy { it })\n</code></pre>\n"}, {"tags": ["android", "android-studio", "compiler-errors", "kotlin"], "comments": [{"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1535962216, "post_id": 51021332, "comment_id": 91240951, "body": "Please report such bugs to our issue tracker: <a href=\"https://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>"}, {"owner": {"reputation": 662, "user_id": 1619467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da28a73e736a2c4f3a897786eec1d563?s=128&d=identicon&r=PG", "display_name": "Grzegorz Matyszczak", "link": "https://stackoverflow.com/users/1619467/grzegorz-matyszczak"}, "reply_to_user": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1535978809, "post_id": 51021332, "comment_id": 91250074, "body": "Thanks @AndreyBreslav, I haven&#39;t looked into Kotlin issue tracker before posting this question but I see that this problem is already reported here <a href=\"https://youtrack.jetbrains.com/issue/KT-23580\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-23580</a>"}], "owner": {"reputation": 662, "user_id": 1619467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da28a73e736a2c4f3a897786eec1d563?s=128&d=identicon&r=PG", "display_name": "Grzegorz Matyszczak", "link": "https://stackoverflow.com/users/1619467/grzegorz-matyszczak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1529922531, "creation_date": 1529922531, "question_id": 51021332, "link": "https://stackoverflow.com/questions/51021332/cannot-serialize-error-type-error-loop-in-supertypes", "title": "Cannot serialize error type: [ERROR : &lt;LOOP IN SUPERTYPES&gt;]", "body": "<p>I'm getting this error when compiling my project in Android Studio and Bitrise:</p>\n\n<pre><code>java.lang.IllegalStateException: Cannot serialize error type: [ERROR : &lt;LOOP IN SUPERTYPES&gt;]\nat org.jetbrains.kotlin.serialization.SerializerExtension.serializeErrorType(SerializerExtension.kt:72)\nat org.jetbrains.kotlin.serialization.DescriptorSerializer.type$serialization(DescriptorSerializer.kt:485)\nat org.jetbrains.kotlin.serialization.DescriptorSerializer.typeArgument(DescriptorSerializer.kt:588)\nat org.jetbrains.kotlin.serialization.DescriptorSerializer.fillFromPossiblyInnerType(DescriptorSerializer.kt:556)\nat org.jetbrains.kotlin.serialization.DescriptorSerializer.type$serialization(DescriptorSerializer.kt:514)\nat org.jetbrains.kotlin.serialization.DescriptorSerializer.type$serialization(DescriptorSerializer.kt:492)\nat org.jetbrains.kotlin.serialization.DescriptorSerializer.typeParameter(DescriptorSerializer.kt:472)\nat org.jetbrains.kotlin.serialization.DescriptorSerializer.classProto(DescriptorSerializer.kt:78)\nat org.jetbrains.kotlin.incremental.JavaClassesTrackerImplKt.convertToProto(JavaClassesTrackerImpl.kt:98)\nat org.jetbrains.kotlin.incremental.JavaClassesTrackerImpl$onCompletedAnalysis$2.invoke(JavaClassesTrackerImpl.kt:78)\nat org.jetbrains.kotlin.incremental.JavaClassesTrackerImpl$onCompletedAnalysis$2.invoke(JavaClassesTrackerImpl.kt:45)\nat org.jetbrains.kotlin.util.PerformanceCounter.time(PerformanceCounter.kt:91)\nat org.jetbrains.kotlin.incremental.JavaClassesTrackerImpl.onCompletedAnalysis(JavaClassesTrackerImpl.kt:77)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:113)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:84)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:374)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:64)\nat org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:101)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:365)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:130)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)\nat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)\nat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\nat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:96)\nat org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:463)\nat org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:98)\nat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:228)\nat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:38)\nat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:90)\nat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:102)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:538)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:98)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:418)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:920)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)\nat org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:950)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:919)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:417)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\nat sun.rmi.transport.Transport$1.run(Transport.java:200)\nat sun.rmi.transport.Transport$1.run(Transport.java:197)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\nat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>Currently, I'm using Kotlin version <code>1.2.41</code>. </p>\n\n<p>As a workaround I disabled incremental build in gradle.properties with this line: <code>kotlin.incremental=false</code>.</p>\n\n<p>Did anyone have that issue? I'm just wondering what is causing it.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 1332, "user_id": 3996270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8439da5d9619c83ff8025321fe101f38?s=128&d=identicon&r=PG&f=1", "display_name": "Matteo", "link": "https://stackoverflow.com/users/3996270/matteo"}, "edited": false, "score": 0, "creation_date": 1529923502, "post_id": 51021390, "comment_id": 89035670, "body": "Thank you, this is exactly what I was looking for!"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1529922743, "creation_date": 1529922743, "answer_id": 51021390, "question_id": 51021324, "link": "https://stackoverflow.com/questions/51021324/kotlin-replace-a-single-two-methods-interface-with-two-different-one-method-in/51021390#51021390", "title": "Kotlin - Replace a single two-methods interface with two different one-method interfaces", "body": "<p>This should be a fairly trivial extension to write, you can just take two lambda parameters immediately, and then create a <code>Callback</code> instance inside that delegates calls to those lambdas:</p>\n\n<pre><code>fun Client.executeCustom(onResponse: (Response) -&gt; Unit, onError: (Error) -&gt; Unit) {\n    execute(object : Callback() {\n        override fun onResponse(response: Response) = onResponse(response)\n        override fun onError(error: Error) = onError(error)\n    })\n}\n</code></pre>\n\n<p>This way, you don't even need to introduce new interfaces.</p>\n"}], "owner": {"reputation": 1332, "user_id": 3996270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8439da5d9619c83ff8025321fe101f38?s=128&d=identicon&r=PG&f=1", "display_name": "Matteo", "link": "https://stackoverflow.com/users/3996270/matteo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 51021390, "answer_count": 1, "score": 0, "last_activity_date": 1529922743, "creation_date": 1529922515, "question_id": 51021324, "link": "https://stackoverflow.com/questions/51021324/kotlin-replace-a-single-two-methods-interface-with-two-different-one-method-in", "title": "Kotlin - Replace a single two-methods interface with two different one-method interfaces", "body": "<p>First of all, I want to clarify that my questions is for a personal code-style preference.</p>\n\n<p>Let's say I have a method which takes an interface as parameter, and the said interface has two methods in it.</p>\n\n<p>In kotlin, implementing the interface anonymously, we would have something like</p>\n\n<pre><code>client.execute(object : Callback() {\n    override fun onResponse(response: Response) {/*...*/}\n    override fun onError(error: Error) {/*...*/}\n})\n</code></pre>\n\n<p>What I would like to do is to create an extensions for the <code>client</code> object that would take two different interfaces such as</p>\n\n<pre><code>interface ClientResponse{fun onResponse(response: Response)}\ninterface ClientError{fun onError(error: Error)}\n</code></pre>\n\n<p>and then the new <code>execute</code> method would look like</p>\n\n<pre><code>client.executeCustom(\n    {response -&gt; /*...*/},\n    {error -&gt; /*...*/}\n})\n</code></pre>\n\n<p>so kind of a SAM solution.</p>\n\n<p>Is it possible in any way?</p>\n"}, {"tags": ["arrays", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1529922036, "post_id": 51021053, "comment_id": 89034815, "body": "note though that it won&#39;t preserve duplicate elements"}, {"owner": {"reputation": 23, "user_id": 9988371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g7bNH.jpg?s=128&g=1", "display_name": "Jerry Liao", "link": "https://stackoverflow.com/users/9988371/jerry-liao"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 2, "creation_date": 1529922246, "post_id": 51021053, "comment_id": 89034932, "body": "@user2340612 I actually was going to remove duplicates anyway so this saves me a step :)"}, {"owner": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "edited": false, "score": 0, "creation_date": 1529968604, "post_id": 51021053, "comment_id": 89058086, "body": "Whats with the downvote? Its basically the same as the other set answer?"}], "tags": [], "owner": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "is_accepted": true, "score": 2, "last_activity_date": 1529922327, "last_edit_date": 1529922327, "creation_date": 1529921731, "answer_id": 51021053, "question_id": 51021018, "link": "https://stackoverflow.com/questions/51021018/from-two-arrays-get-all-elements-that-are-in-either-array-but-not-both-using-ko/51021053#51021053", "title": "From two arrays, get all elements that are in either array but not both using Kotlin", "body": "<p>If you converted your <strong>arrays</strong> to <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html\" rel=\"nofollow noreferrer\"><strong>sets</strong></a> you could do something like this to get the disjunctive union, provided you do not need to preserve duplicate elements: </p>\n\n<pre><code>val a = arrayOf(1, 2, 3, 4)\nval b = arrayOf(5, 3, 1, 2)\nval aSet = a.toSet()\nval bSet = b.toSet()\nprint((aSet - bSet).union(bSet - aSet)) // [4, 5]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1529922428, "last_edit_date": 1529922428, "creation_date": 1529922062, "answer_id": 51021162, "question_id": 51021018, "link": "https://stackoverflow.com/questions/51021018/from-two-arrays-get-all-elements-that-are-in-either-array-but-not-both-using-ko/51021162#51021162", "title": "From two arrays, get all elements that are in either array but not both using Kotlin", "body": "<p>Based on what you currently have, this is a quick improvement:</p>\n\n<pre><code>val list = a.filter { it !in b } + b.filter { it !in a }\n</code></pre>\n\n<p>For better performance though, introducing sets that you make the lookups in is a good idea:</p>\n\n<pre><code>val aSet = a.toSet()\nval bSet = b.toSet()\nval list = a.filter { it !in bSet } + b.filter { it !in aSet }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 1, "last_activity_date": 1529942666, "creation_date": 1529942666, "answer_id": 51027665, "question_id": 51021018, "link": "https://stackoverflow.com/questions/51021018/from-two-arrays-get-all-elements-that-are-in-either-array-but-not-both-using-ko/51027665#51027665", "title": "From two arrays, get all elements that are in either array but not both using Kotlin", "body": "<p>What you are looking for is two <em>subtract</em> operations:</p>\n\n<pre><code>a.subtract(b.toSet()) + b.subtract(a.toSet())\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9988371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g7bNH.jpg?s=128&g=1", "display_name": "Jerry Liao", "link": "https://stackoverflow.com/users/9988371/jerry-liao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 1, "accepted_answer_id": 51021053, "answer_count": 3, "score": 2, "last_activity_date": 1529942666, "creation_date": 1529921626, "question_id": 51021018, "link": "https://stackoverflow.com/questions/51021018/from-two-arrays-get-all-elements-that-are-in-either-array-but-not-both-using-ko", "title": "From two arrays, get all elements that are in either array but not both using Kotlin", "body": "<p>I have two arrays for example <code>[1, 2, 3, 4]</code> and <code>[5, 3, 2, 1]</code>.</p>\n\n<p>How can I get all elements that are in either array but not both? (<code>[4, 5]</code>)</p>\n\n<p>This is my code so far it works but I think there must be a better way...</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val a = arrayOf(1, 2, 3, 4)\n    val b = arrayOf(5, 3, 1, 2)\n\n    val list = arrayListOf&lt;Int&gt;() \n    for (item in a) {\n        if(item !in b){\n            list.add(item)\n        }\n    }\n    for (item in b) {\n        if(item !in a){\n            list.add(item)\n        }\n    }\n\n    print(list)\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "dto"], "comments": [{"owner": {"reputation": 316, "user_id": 2982468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b3981c97883c8fa5323d9c62e1b53d?s=128&d=identicon&r=PG&f=1", "display_name": "chris922", "link": "https://stackoverflow.com/users/2982468/chris922"}, "edited": false, "score": 2, "creation_date": 1529920871, "post_id": 51020722, "comment_id": 89034169, "body": "Do you use the <code>jackson-module-kotlin</code> extension? See <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-module-kotlin</a>"}, {"owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "edited": false, "score": 0, "creation_date": 1529920944, "post_id": 51020722, "comment_id": 89034203, "body": "Seems we had the same idea :)"}, {"owner": {"reputation": 5887, "user_id": 1145792, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1E9L4.jpg?s=128&g=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/1145792/gleb"}, "edited": false, "score": 0, "creation_date": 1529921119, "post_id": 51020722, "comment_id": 89034332, "body": "I use io.vertx.core.json.Json class, which use Jackson as I see in debug. I&#39;ll update a bit the question."}], "answers": [{"comments": [{"owner": {"reputation": 5887, "user_id": 1145792, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1E9L4.jpg?s=128&g=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/1145792/gleb"}, "edited": false, "score": 0, "creation_date": 1529920972, "post_id": 51020797, "comment_id": 89034222, "body": "For generating parameterless constructor I added default values to Kotlin class fields."}, {"owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "reply_to_user": {"reputation": 5887, "user_id": 1145792, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1E9L4.jpg?s=128&g=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/1145792/gleb"}, "edited": false, "score": 0, "creation_date": 1529921116, "post_id": 51020797, "comment_id": 89034328, "body": "I&#39;m assuming there are other issues with serialisation of Kotlin data classes by Jackson, otherwise they would not have bothered with creating a separate module just for this."}, {"owner": {"reputation": 5887, "user_id": 1145792, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1E9L4.jpg?s=128&g=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/1145792/gleb"}, "edited": false, "score": 0, "creation_date": 1529921615, "post_id": 51020797, "comment_id": 89034587, "body": "But how can I say to Json.decodeValue() that it should use &#39;jackson-module-kotlin&#39;?"}, {"owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "reply_to_user": {"reputation": 5887, "user_id": 1145792, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1E9L4.jpg?s=128&g=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/1145792/gleb"}, "edited": false, "score": 0, "creation_date": 1529921717, "post_id": 51020797, "comment_id": 89034640, "body": "@GlebKosteiko i&#39;m not sure what you mean by &quot;generating parameterless constructor&quot;, but be careful not to confuse a constructor with default-able parameters with a default constructor. they&#39;re not the same."}, {"owner": {"reputation": 5887, "user_id": 1145792, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1E9L4.jpg?s=128&g=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/1145792/gleb"}, "reply_to_user": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "edited": false, "score": 0, "creation_date": 1529921840, "post_id": 51020797, "comment_id": 89034710, "body": "@hsl hm, looks like I just confused these two concepts, as you cautioned."}, {"owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "reply_to_user": {"reputation": 5887, "user_id": 1145792, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1E9L4.jpg?s=128&g=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/1145792/gleb"}, "edited": false, "score": 0, "creation_date": 1529921850, "post_id": 51020797, "comment_id": 89034716, "body": "@GlebKosteiko follow the link Konrad posted in his answer and read the section titled <code>Usage</code>. you can find details there on how to associate the library with your application&#39;s <code>ObjectMapper</code> instance."}, {"owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "edited": false, "score": 0, "creation_date": 1529924010, "post_id": 51020797, "comment_id": 89035978, "body": "I added code for configuring Jackson mappers used by Json class"}, {"owner": {"reputation": 5887, "user_id": 1145792, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1E9L4.jpg?s=128&g=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/1145792/gleb"}, "edited": false, "score": 0, "creation_date": 1529936102, "post_id": 51020797, "comment_id": 89043597, "body": "Thank you all for help:)"}], "tags": [], "owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "is_accepted": true, "score": 10, "last_activity_date": 1529923968, "last_edit_date": 1529923968, "creation_date": 1529920894, "answer_id": 51020797, "question_id": 51020722, "link": "https://stackoverflow.com/questions/51020722/issue-with-replacing-java-dto-classes-with-kotlin-data-classes/51020797#51020797", "title": "Issue with replacing Java DTO classes with Kotlin Data classes", "body": "<p>By default Jackson needs a parameterless constructor to deserialize JSON to a class - Kotlin data classes do not have one, so you need to add a Jackson module to handle this:</p>\n\n<p><a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"noreferrer\">jackson-module-kotlin</a></p>\n\n<p>Edit:\nI've read the <a href=\"https://github.com/eclipse/vert.x/blob/master/src/main/java/io/vertx/core/json/Json.java\" rel=\"noreferrer\">source for io.vertx.core.json.Json class</a> and it seems that both object mappers used by the class are stored in public static fields.</p>\n\n<p>So to register <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"noreferrer\">jackson-module-kotlin</a> you need to include this snippet in your application initialization code (or anywhere else really as long as it is executed before you attempt to deserialize any Kotlin data classes):</p>\n\n<pre><code>Json.mapper.registerModule(new KotlinModule())\nJson.prettyMapper.registerModule(new KotlinModule()) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 164, "user_id": 11608101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XZtOO.png?s=128&g=1", "display_name": "zichen.L", "link": "https://stackoverflow.com/users/11608101/zichen-l"}, "is_accepted": false, "score": 3, "last_activity_date": 1560949738, "creation_date": 1560949738, "answer_id": 56668442, "question_id": 51020722, "link": "https://stackoverflow.com/questions/51020722/issue-with-replacing-java-dto-classes-with-kotlin-data-classes/56668442#56668442", "title": "Issue with replacing Java DTO classes with Kotlin Data classes", "body": "<p>In my case, I create kotlin class DTO instance in java for consuming RESTful Api. \nNow I have 2 solutions tested:</p>\n\n<ol>\n<li>Use parameterless constructor in data class.</li>\n</ol>\n\n<p>The <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">reference</a> kotlin says:</p>\n\n<blockquote>\n  <p>On the JVM, if all of the parameters of the primary constructor have\n  default values, the compiler will generate an additional parameterless\n  constructor which will use the default values. This makes it easier to\n  use Kotlin with libraries such as Jackson or JPA that create class\n  instances through parameterless constructors.</p>\n</blockquote>\n\n<p>So I have a DTO in kotlin like this:</p>\n\n<pre><code>    data class Dto (\n        var id: Int?=null,\n        var version: Int?=null, \n        var title: String?=null,\n        var firstname: String?=null,\n        var lastname: String?=null,\n        var birthdate: String?=null\n\n)\n</code></pre>\n\n<p>Then, I create class instance DTO in java:</p>\n\n<pre><code>Dto dto = new Dto();\ndto.setId(javadto.getId());\n...\n</code></pre>\n\n<ol start=\"2\">\n<li>Use plugin <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">jackson-module-kotlin</a> </li>\n</ol>\n\n<p><code>import com.fasterxml.jackson.annotation.JsonProperty</code></p>\n\n<pre><code>    data class Dto (\n            @JsonProperty(\"id\") var id: Int?,\n            @JsonProperty(\"version\") var version: Int?, \n            @JsonProperty(\"title\") var title: String?,\n            @JsonProperty(\"firstname\") var firstname: String?,\n            @JsonProperty(\"lastname\") var lastname: String?,\n            @JsonProperty(\"birthdate\") var birthdate: String?,\n\n    )\n</code></pre>\n\n<p>Then, I create class instance DTO in java:</p>\n\n<pre><code>Dto dto = new Dto(null, null, null, null, null, null);\ndto.setId(javadto.getId());\n...\n</code></pre>\n"}], "owner": {"reputation": 5887, "user_id": 1145792, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1E9L4.jpg?s=128&g=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/1145792/gleb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5083, "favorite_count": 2, "accepted_answer_id": 51020797, "answer_count": 2, "score": 7, "last_activity_date": 1560949738, "creation_date": 1529920591, "last_edit_date": 1529921176, "question_id": 51020722, "link": "https://stackoverflow.com/questions/51020722/issue-with-replacing-java-dto-classes-with-kotlin-data-classes", "title": "Issue with replacing Java DTO classes with Kotlin Data classes", "body": "<p>I read about Kotlin data classes and thought that they could be pretty useful in cases with describing data transfer objects (DTOs). In my Java project I already has DTO classes written on Java, something like:</p>\n\n<pre><code>public class Tweet {\n    private String id;\n    private String profileId;\n    private String message;\n\n    public Tweet() {}\n\n    public String getId() {\n        return id;\n    }\n\n    public String getProfileId() {\n        return profileId;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public void setProfileId(String profileId) {\n        this.profileId = profileId;\n    }\n\n    public Tweet setMessage(String message) {\n        this.message = message;\n        return this;\n    }\n}\n</code></pre>\n\n<p>These DTO classes are stored in separate artifact which I add as a dependency to other artifacts. So, I decided to replace it with Kotlin classes and rewrote mentioned Tweet class on Kotlin, so it started to looks like:</p>\n\n<pre><code>data class Tweet(var id: String? = null,\n                 var profileId: String? = null,\n                 var message: String? = null)\n</code></pre>\n\n<p>It's my first experience with Kotlin, so possibly there are something that can looks ugly, but my main issue is - when I try to rebuild artifacts which use my DTOs as dependencies, I get such exception:</p>\n\n<blockquote>\n  <p>at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2992)\n  at io.vertx.core.json.Json.decodeValue(Json.java:117)\n  at gk.tweetsched.api.repository.TweetRepository.get(TweetRepository.java:51)\n  at gk.tweetsched.api.repository.TweetRepositoryTest.testGet(TweetRepositoryTest.java:68)\n  Caused by: java.lang.ClassNotFoundException:\n  kotlin.jvm.internal.DefaultConstructorMarker\n  at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n  at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n  ... 67 more</p>\n</blockquote>\n\n<p>As I see according that stacktrace Jackson couldn't deserialize JSON to Tweet Kotlin class. </p>\n\n<p>Here is my Java method where I get that exception:</p>\n\n<pre><code>public Tweet get(String id) {\n    try (Jedis jedis = pool.getResource()) {\n        return Json.decodeValue(jedis.hget(TWEETS_HASH, id), Tweet.class);\n    } catch (Exception e) {\n        LOGGER.error(e);\n    }\n    return null;\n}\n</code></pre>\n\n<p>Where Json class is from 'io.vertx.core.json' package.</p>\n\n<p>How can I fix that issue? Which additional configurations should I make in my Java projects to use Kotlin classes?</p>\n"}]