[{"tags": ["intellij-idea", "kotlin"], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1546472684, "creation_date": 1546472684, "question_id": 54014636, "link": "https://stackoverflow.com/questions/54014636/kotlin-force-explicit-type-declarations-in-intellij-idea", "title": "Kotlin - Force explicit type declarations in IntelliJ IDEA", "body": "<p>For readability purposes, I prefer to write...</p>\n\n<pre><code>val value: Int = 0\n</code></pre>\n\n<p>...rather than...</p>\n\n<pre><code>val value = 0\n</code></pre>\n\n<p>...but sometimes, I forget to add the type declaration, which leads to inconsistent code style.</p>\n\n<p>Is there an option to enforce explicit type declarations?</p>\n"}, {"tags": ["sqlite", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546467934, "post_id": 54013900, "comment_id": 94865043, "body": "Are you talking about... a desktop application, a server (?? why use sqlite in a server??) or a mobile client?"}, {"owner": {"reputation": 23, "user_id": 9743413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1e48cf35253a105d8e55192b4dc075?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/9743413/bob"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546468069, "post_id": 54013900, "comment_id": 94865092, "body": "I&#39;m talking about a server."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546468122, "post_id": 54013900, "comment_id": 94865107, "body": "Then you can use something more reasonable like MySQL or PostgreSQL. Then if you want to use pure-Kotlin (and not Spring Boot for example) server then you can refer to <a href=\"https://ryanharrison.co.uk/2018/04/14/kotlin-ktor-exposed-starter.html\" rel=\"nofollow noreferrer\">ryanharrison.co.uk/2018/04/14/kotlin-ktor-exposed-starter.ht&zwnj;&#8203;ml</a> hopefully (Ktor is a kotlin server and Exposed is an ORM for kotlin over SQL DBs). You can also check KotlinConf 2018 for some backend-related videos and talks."}], "answers": [{"tags": [], "owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "is_accepted": false, "score": 0, "last_activity_date": 1546469391, "creation_date": 1546469391, "answer_id": 54014190, "question_id": 54013900, "link": "https://stackoverflow.com/questions/54013900/how-to-setup-sqlite-in-kotlin/54014190#54014190", "title": "How to setup SQLite in Kotlin?", "body": "<p>As soon as you mention <strong>server</strong> then you are perhaps looking in the wrong direction. SQLite is intended as an embedded database, each device having it's unique database. Synchronisation between server and clients would have to be written and can be problematic, whilst there are many RDBMS's that cater for better for client-server solutions. </p>\n\n<p>Have a look at <a href=\"https://sqlite.org/whentouse.html\" rel=\"nofollow noreferrer\">Appropriate Uses For SQLite</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10860074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8027dc39f001517b7032f18fe2dd672a?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/10860074/will"}, "is_accepted": false, "score": 0, "last_activity_date": 1546481525, "creation_date": 1546481525, "answer_id": 54015500, "question_id": 54013900, "link": "https://stackoverflow.com/questions/54013900/how-to-setup-sqlite-in-kotlin/54015500#54015500", "title": "How to setup SQLite in Kotlin?", "body": "<p>Sqlite doesn't work with a client-server model. The datas are stored in file of your choice, so there is no installation to do.</p>\n\n<p>Maybe you can look <a href=\"https://github.com/JetBrains/Exposed\" rel=\"nofollow noreferrer\">Exposed</a>. It is a kotlin library for sql database (sqlite included).\nThere is a documentation <a href=\"https://github.com/JetBrains/Exposed/wiki\" rel=\"nofollow noreferrer\">here</a>.\nYou just need to add the 'org.jetbrains.exposed:exposed' depedency to gradle or maven (+ the jdbc library depedency, for SQLlite it is 'org.xerial:sqlite-jdbc').</p>\n"}, {"tags": [], "owner": {"reputation": 369, "user_id": 8464862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l43bQ.jpg?s=128&g=1", "display_name": "Umar", "link": "https://stackoverflow.com/users/8464862/umar"}, "is_accepted": false, "score": 0, "last_activity_date": 1599187070, "creation_date": 1599187070, "answer_id": 63734056, "question_id": 54013900, "link": "https://stackoverflow.com/questions/54013900/how-to-setup-sqlite-in-kotlin/63734056#63734056", "title": "How to setup SQLite in Kotlin?", "body": "<pre><code>import com.sun.net.httpserver.HttpServer\nimport java.io.PrintWriter\nimport java.net.InetSocketAddress\n\nimport java.sql.* // Connection, DriverManager, SQLException\nimport java.util.Properties\n\n/**\n    https://www.tutorialkart.com/kotlin/connect-to-mysql-database-from-kotlin-using-jdbc/\n    $ wget https://repo1.maven.org/maven2/org/xerial/sqlite-jdbc/3.27.2.1/sqlite-jdbc-3.27.2.1.jar\n    $ kotlinc sqws.kt; kotlin -cp &quot;.:./sqlite-jdbc-3.27.2.1.jar&quot; SqwsKt\n    Minimal embedded HTTP server in Kotlin using Java built in HttpServer\n**/\n\nfun main(args: Array&lt;String&gt;) {\n    val conn = DriverManager.getConnection( &quot;jdbc:sqlite:./sampledb.db&quot;)\n    var stmt: Statement? = null\n    var resultset: ResultSet? = null\n    try {\n        stmt = conn.createStatement()\n        resultset = stmt!!.executeQuery(&quot;SELECT * FROM items;&quot;)\n        if (stmt.execute(&quot;SELECT * FROM items;&quot;)) {\n            resultset = stmt.resultSet\n        }\n    } catch (ex: SQLException) {\n        // handle any errors\n        ex.printStackTrace()\n    }\n\n    HttpServer.create(InetSocketAddress(8080), 0).apply {\n        println(&quot;browse http://localhost:8080/hello&quot;)\n        createContext(&quot;/hello&quot;) { http -&gt;\n            http.responseHeaders.add(&quot;Content-type&quot;, &quot;text/plain&quot;)\n            http.sendResponseHeaders(200, 0);\n            PrintWriter(http.responseBody).use { out -&gt;\n                out.println( &quot;ok&quot;)\n                while (resultset!!.next()) {\n                    out.println(resultset.getString(&quot;name&quot;))\n                }\n            }\n        }\n        start()\n    }\n}\n</code></pre>\n<p>Please check the full documentation on <a href=\"https://github.com/umarudy/simple-kotlin-webserver-sqlite\" rel=\"nofollow noreferrer\">Github</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 10858, "user_id": 788700, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f02925eef8f737905a8702b9cc21ff07?s=128&d=identicon&r=PG", "display_name": "Adobe", "link": "https://stackoverflow.com/users/788700/adobe"}, "is_accepted": false, "score": 0, "last_activity_date": 1611662037, "last_edit_date": 1611662037, "creation_date": 1611661639, "answer_id": 65900784, "question_id": 54013900, "link": "https://stackoverflow.com/questions/54013900/how-to-setup-sqlite-in-kotlin/65900784#65900784", "title": "How to setup SQLite in Kotlin?", "body": "<p>Here's an MWE using JDBC API on Ubuntu 20.04:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>sudo apt install sqlite3\nSQLITE_VERSION=`sqlite3 --version | cut -d ' ' -f 1` # 3.31.1 on Ubuntu 20.04\n\ncurl -s https://get.sdkman.io | bash\n\nsdk i java  # for JDBC\nsdk i maven # for JDBC interface to SQLite (see later)\nsdk i kotlin 1.4.10 # later versions are currently affected by:\n# https://youtrack.jetbrains.com/issue/KT-43520\n\ncat &gt; demo.main.kts &lt;&lt;EOF\n#!/usr/bin/env kotlin\n\n# uses maven to install the dependency from maven central:\n# reference: https://github.com/Kotlin/KEEP/blob/master/proposals/scripting-support.md#kotlin-main-kts\n@file:DependsOn(&quot;org.xerial:sqlite-jdbc:$SQLITE_VERSION&quot;)\n\nimport java.sql.DriverManager\nimport java.sql.Connection\nimport java.sql.Statement\nimport java.sql.ResultSet\n\n# creates or connects to database.sqlite3 file in the current directory:\nvar connection = DriverManager.getConnection(&quot;jdbc:sqlite:database.sqlite3&quot;)\n\nvar statement = connection.createStatement()\nstatement.executeUpdate(&quot;drop   table if exists people&quot;)\nstatement.executeUpdate(&quot;create table           people (id integer, name string)&quot;)\n\nstatement.executeUpdate(&quot;insert into people values(1, 'leo')&quot;)\nstatement.executeUpdate(&quot;insert into people values(2, 'yui')&quot;)\n\nvar resultSet = statement.executeQuery(&quot;select * from people&quot;)\nwhile ( resultSet.next() ) {\n  println( &quot;id = &quot;   + resultSet.getInt(&quot;id&quot;)      )\n  println( &quot;name = &quot; + resultSet.getString(&quot;name&quot;) )\n  println()\n}\nconnection.close()\nEOF\n\nchmod +x demo.main.kts\n./demo.main.kts\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9743413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1e48cf35253a105d8e55192b4dc075?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/9743413/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1693, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1611662037, "creation_date": 1546467489, "last_edit_date": 1546467900, "question_id": 54013900, "link": "https://stackoverflow.com/questions/54013900/how-to-setup-sqlite-in-kotlin", "title": "How to setup SQLite in Kotlin?", "body": "<p>I'm currently writing a chat application in Kotlin and want to implement authentication, by storing hashed passwords on my server in a database.</p>\n\n<p>I don't have any experience with Databases, so I chose the most simple looking one I found after about 30 minutes of google search. SQLite.</p>\n\n<p>Unfortunatly there isn't any real setup guide for SQLite in Kotlin.</p>\n\n<p>Could someone please write a small step by step guide on how to : </p>\n\n<ul>\n<li>install SQLite </li>\n<li>connect to it</li>\n<li>use it in source code(e.g. create a table with one or two values)</li>\n<li>all in Kotlin if possible</li>\n</ul>\n\n<p>I'm grateful for any help!</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-storage", "rx-java2"], "comments": [{"owner": {"reputation": 4917, "user_id": 1320616, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/261c1beb82385bb3489fc898a3e5d6e2?s=128&d=identicon&r=PG", "display_name": "Ankit Aggarwal", "link": "https://stackoverflow.com/users/1320616/ankit-aggarwal"}, "edited": false, "score": 0, "creation_date": 1546498949, "post_id": 54013206, "comment_id": 94871731, "body": "What do you mean by &quot;How do I make 1 method out of those 2&quot;?"}, {"owner": {"reputation": 3105, "user_id": 1829281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b211518f35a1640f992b6b44e738594?s=128&d=identicon&r=PG", "display_name": "Andrii Kovalchuk", "link": "https://stackoverflow.com/users/1829281/andrii-kovalchuk"}, "reply_to_user": {"reputation": 4917, "user_id": 1320616, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/261c1beb82385bb3489fc898a3e5d6e2?s=128&d=identicon&r=PG", "display_name": "Ankit Aggarwal", "link": "https://stackoverflow.com/users/1320616/ankit-aggarwal"}, "edited": false, "score": 0, "creation_date": 1546598169, "post_id": 54013206, "comment_id": 94909679, "body": "Ankit, I mean &quot;request concatination&quot;"}, {"owner": {"reputation": 4917, "user_id": 1320616, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/261c1beb82385bb3489fc898a3e5d6e2?s=128&d=identicon&r=PG", "display_name": "Ankit Aggarwal", "link": "https://stackoverflow.com/users/1320616/ankit-aggarwal"}, "edited": false, "score": 1, "creation_date": 1546608334, "post_id": 54013206, "comment_id": 94914627, "body": "Check this answer <a href=\"https://stackoverflow.com/a/51261975/1320616\">stackoverflow.com/a/51261975/1320616</a>"}, {"owner": {"reputation": 3105, "user_id": 1829281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b211518f35a1640f992b6b44e738594?s=128&d=identicon&r=PG", "display_name": "Andrii Kovalchuk", "link": "https://stackoverflow.com/users/1829281/andrii-kovalchuk"}, "reply_to_user": {"reputation": 4917, "user_id": 1320616, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/261c1beb82385bb3489fc898a3e5d6e2?s=128&d=identicon&r=PG", "display_name": "Ankit Aggarwal", "link": "https://stackoverflow.com/users/1320616/ankit-aggarwal"}, "edited": false, "score": 0, "creation_date": 1546629487, "post_id": 54013206, "comment_id": 94925262, "body": "Looks like an answer <a href=\"https://stackoverflow.com/a/47868628/1829281\">stackoverflow.com/a/47868628/1829281</a>"}], "owner": {"reputation": 3105, "user_id": 1829281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b211518f35a1640f992b6b44e738594?s=128&d=identicon&r=PG", "display_name": "Andrii Kovalchuk", "link": "https://stackoverflow.com/users/1829281/andrii-kovalchuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546629631, "creation_date": 1546463279, "last_edit_date": 1546629631, "question_id": 54013206, "link": "https://stackoverflow.com/questions/54013206/upload-files-to-firebase-storage-rxjava2", "title": "Upload files to Firebase Storage RxJava2", "body": "<p>I'm trying to upload files to Firebase Storage with RxJava2.\nHow do I make 1 method out of those 2?\nI mean how do I concatenate those 2 requests? </p>\n\n<p>Not able to do flatMap. Anyone can help to refactor it?</p>\n\n<pre><code> private fun uploadPhotos() {\n    val urisList = globalStorageViewModel.urisList\n\n    storageRepository.uploadFiles(urisList)\n            .subscribeBy(\n                    onNext = { downloadFileUrl(it) },\n                    onError = { onError(it) }\n            ).apply {\n                disposables.add(this)\n            }\n}\nprivate fun downloadFileUrl(it: Pair&lt;UploadTask.TaskSnapshot, String&gt;) {\n    storageRepository.getDownloadUrl(it.first.storage)\n            .subscribeBy(\n                    onSuccess = { onFileUploaded(it) }\n            ).apply {\n                disposables.add(this)\n            }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "android-fragments", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 3891, "user_id": 3166846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoxDC.jpg?s=128&g=1", "display_name": "Dan Harms", "link": "https://stackoverflow.com/users/3166846/dan-harms"}, "edited": false, "score": 2, "creation_date": 1546463916, "post_id": 54013008, "comment_id": 94863527, "body": "You need to add the items to your list, and then call <code>adapter.notifyDataSetChanged()</code>"}, {"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "reply_to_user": {"reputation": 3891, "user_id": 3166846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoxDC.jpg?s=128&g=1", "display_name": "Dan Harms", "link": "https://stackoverflow.com/users/3166846/dan-harms"}, "edited": false, "score": 0, "creation_date": 1546464390, "post_id": 54013008, "comment_id": 94863719, "body": "@dharms Thanks and it worked but I have one questions. 1)If I clicked HomeFragmetTwo and its not going back to HomeFragmentOne."}, {"owner": {"reputation": 3891, "user_id": 3166846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoxDC.jpg?s=128&g=1", "display_name": "Dan Harms", "link": "https://stackoverflow.com/users/3166846/dan-harms"}, "edited": false, "score": 0, "creation_date": 1546474409, "post_id": 54013008, "comment_id": 94866737, "body": "Since that is a separate issue, I&#39;d suggest asking a separate question with the relevant code so it is usable by others in the future."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "is_accepted": true, "score": 0, "last_activity_date": 1546470176, "creation_date": 1546470176, "answer_id": 54014315, "question_id": 54013008, "link": "https://stackoverflow.com/questions/54013008/recyclerview-is-not-displaying-any-items/54014315#54014315", "title": "RecyclerView is not Displaying any Items", "body": "<p>adapter!!.notifyDataSetChanged() will resolve this issue.</p>\n"}], "owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "accepted_answer_id": 54014315, "answer_count": 1, "score": 0, "last_activity_date": 1546470176, "creation_date": 1546462247, "last_edit_date": 1546464670, "question_id": 54013008, "link": "https://stackoverflow.com/questions/54013008/recyclerview-is-not-displaying-any-items", "title": "RecyclerView is not Displaying any Items", "body": "<p>I am using Fragments in my code. Fragment One and Fragment two contains Recycleview and MainActivity attaches this two Fragments. I am not seeing any error in the code or in the error log. I can see JSON output in the log as well. Any help is appreciated.</p>\n\n<p>I am running this program in Kotlin. I created this code and no error in the code.</p>\n\n<p><strong>Fragment One</strong></p>\n\n<pre><code>class HomeFragmentOne : Fragment()\n            {\n    private var adapter: CandyOneAdapter?=null\n    private var candyList: ArrayList&lt;Food&gt;?=null\n    private var layoutManager: RecyclerView.LayoutManager?=null\n\n                var volleyRequest:RequestQueue?=null\n                var candyOneLink=\"http://abc.app\"\n\n\n                companion object\n                {\n                    val TAG=HomeFragmentOne::class.java.simpleName\n                    @JvmStatic\n                    fun newInstance()=HomeFragmentOne()\n                }\n            }\n</code></pre>\n\n<p>My desired output is If I click the Home by default it should show FragmentOne Item and If click that FragmentOne then it should show Fragment Two and If I click FragmentTwo Item then It should show FragmentOne Item. Follwing is the workflow. Home--->FragmentOne---->FragmentTwo---->FragmentOne.  </p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-gradle-plugin", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546455730, "post_id": 54011436, "comment_id": 94860211, "body": "have you tried invalidate caches / restart?"}, {"owner": {"reputation": 539, "user_id": 351316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9904145db476b6658d75fff27b1929ed?s=128&d=identicon&r=PG", "display_name": "Elliott", "link": "https://stackoverflow.com/users/351316/elliott"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546456145, "post_id": 54011436, "comment_id": 94860387, "body": "Yup. Also it&#39;s worth noting, I have since moved my development of the scripts to using command line to remove Android Studio from the equation."}, {"owner": {"reputation": 539, "user_id": 351316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9904145db476b6658d75fff27b1929ed?s=128&d=identicon&r=PG", "display_name": "Elliott", "link": "https://stackoverflow.com/users/351316/elliott"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546466194, "post_id": 54011436, "comment_id": 94864430, "body": "I am hesitant to accept my own answer cause I still don&#39;t fully understand why this works although I intend on digging into this more but I found the culprit through a painstaking process of elimination.  It looks as though you are not able to set <i>buildConfigField</i> in your build types but you can in your product flavors"}, {"owner": {"reputation": 539, "user_id": 351316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9904145db476b6658d75fff27b1929ed?s=128&d=identicon&r=PG", "display_name": "Elliott", "link": "https://stackoverflow.com/users/351316/elliott"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546467462, "post_id": 54011436, "comment_id": 94864890, "body": "Ok my hunch was close by wrong. It is actually the following code which causes the problem:  applicationVariants.all(object : Action&lt;ApplicationVariant&gt; {         override fun execute(variant: ApplicationVariant) {          }     })"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546467532, "post_id": 54011436, "comment_id": 94864912, "body": "It would be really nice if you could share your findings as answer, once you are finished."}, {"owner": {"reputation": 539, "user_id": 351316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9904145db476b6658d75fff27b1929ed?s=128&d=identicon&r=PG", "display_name": "Elliott", "link": "https://stackoverflow.com/users/351316/elliott"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546467740, "post_id": 54011436, "comment_id": 94864986, "body": "@leonardkraemer totally!"}], "answers": [{"tags": [], "owner": {"reputation": 539, "user_id": 351316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9904145db476b6658d75fff27b1929ed?s=128&d=identicon&r=PG", "display_name": "Elliott", "link": "https://stackoverflow.com/users/351316/elliott"}, "is_accepted": false, "score": 1, "last_activity_date": 1546551128, "last_edit_date": 1546551128, "creation_date": 1546550199, "answer_id": 54029918, "question_id": 54011436, "link": "https://stackoverflow.com/questions/54011436/android-lint-failing-for-kotlin-based-gradle-scripts/54029918#54029918", "title": "Android Lint Failing for Kotlin Based Gradle Scripts", "body": "<p>In order to fix my lint task I had to remove the following code that was inside the <code>android</code> block: </p>\n\n<pre><code>android {\n    applicationVariants.all(object : Action&lt;ApplicationVariant&gt; {\n        override fun execute(variant: ApplicationVariant) {\n        }\n    })\n}\n</code></pre>\n\n<p>I am still not sure why this code is breaking lint but I have a repo posted with an example on how to reproduce.</p>\n\n<p><a href=\"https://github.com/erchenger/Lint-Bug-Migrating-to-KTS-Gradle-Scripts\" rel=\"nofollow noreferrer\">https://github.com/erchenger/Lint-Bug-Migrating-to-KTS-Gradle-Scripts</a></p>\n\n<p>The open google issue is: <a href=\"https://issuetracker.google.com/issues/122301469\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/122301469</a></p>\n"}, {"tags": [], "owner": {"reputation": 501, "user_id": 1957276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/974bc8755db1e2b229e0e426dbc31c83?s=128&d=identicon&r=PG", "display_name": "da_berni", "link": "https://stackoverflow.com/users/1957276/da-berni"}, "is_accepted": false, "score": 0, "last_activity_date": 1558683386, "creation_date": 1558683386, "answer_id": 56287879, "question_id": 54011436, "link": "https://stackoverflow.com/questions/54011436/android-lint-failing-for-kotlin-based-gradle-scripts/56287879#56287879", "title": "Android Lint Failing for Kotlin Based Gradle Scripts", "body": "<p>As you already mentioned in your previous answer the problem is the <code>applicationVariants.all</code> statement in your gradle file:</p>\n\n<pre><code>android {\n    applicationVariants.all(object : Action&lt;ApplicationVariant&gt; {\n        override fun execute(variant: ApplicationVariant) {\n            // whatever you do here\n        }\n    })\n}\n</code></pre>\n\n<p>This worked fine in groovy-script gradle files but the way how it should get called changed with kotlin-script files to <code>configureEach</code>. So when you need to configure your applicationVariants dynamically you have to use a snippet like the following:</p>\n\n<pre><code>android {\n    applicationVariants.configureEach {\n        // this = ApplicationVariant\n        // whatever you do here\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 539, "user_id": 351316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9904145db476b6658d75fff27b1929ed?s=128&d=identicon&r=PG", "display_name": "Elliott", "link": "https://stackoverflow.com/users/351316/elliott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1558683386, "creation_date": 1546454015, "question_id": 54011436, "link": "https://stackoverflow.com/questions/54011436/android-lint-failing-for-kotlin-based-gradle-scripts", "title": "Android Lint Failing for Kotlin Based Gradle Scripts", "body": "<p>After migrating my <em>build.gradle</em> scripts to <em>build.gradle.kts</em> I am now seeing that lint is failing for me. I have create a temporary project where I attempted to reproduce the problem to no avail (the project runs lint perfectly). Being that I am not super knowledgable about how lint is operating, while I dig in more I wanted to see if anyone else had run into this issue and knew what was possibly going on. </p>\n\n<p>I suspect that it is something that is being added to the build process that is causing the problem but until I pinpoint the issue would love some feedback. </p>\n\n<p><strong>Kotlin Version:</strong> 1.2.60</p>\n\n<p><strong>AGP Version:</strong> 3.2.1</p>\n\n<p><strong>KGP Version:</strong> 1.2.60</p>\n\n<pre><code>org.jetbrains.kotlin.utils.KotlinExceptionWithAttachments: Couldn't get delegate for class\n    at org.jetbrains.kotlin.asJava.builder.LightClassDataHolderKt.findDelegate(LightClassDataHolder.kt:100)\n    at org.jetbrains.kotlin.asJava.builder.LightClassDataHolder$ForClass$findDataForClassOrObject$1.invoke(LightClassDataHolder.kt:40)\n    at org.jetbrains.kotlin.asJava.builder.LightClassDataHolder$ForClass$findDataForClassOrObject$1.invoke(LightClassDataHolder.kt:34)\n    at org.jetbrains.kotlin.asJava.builder.LightClassDataHolderImpl.findData(LightClassDataHolder.kt:83)\n    at org.jetbrains.kotlin.asJava.builder.LightClassDataHolderImpl.findData(LightClassDataHolder.kt:79)\n    at org.jetbrains.kotlin.asJava.builder.LightClassDataHolder$ForClass$DefaultImpls.findDataForClassOrObject(LightClassDataHolder.kt:40)\n    at org.jetbrains.kotlin.asJava.builder.LightClassDataHolderImpl.findDataForClassOrObject(LightClassDataHolder.kt:79)\n    at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.findLightClassData(KtLightClassForSourceDeclaration.kt:95)\n    at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getLightClassData(KtLightClassForSourceDeclaration.kt:93)\n    at org.jetbrains.kotlin.asJava.classes.KtLazyLightClass.getOwnFields(KtLazyLightClass.kt:28)\n    at com.intellij.psi.impl.source.ClassInnerStuffCache.getAllFields(ClassInnerStuffCache.java:104)\n    at com.intellij.psi.impl.source.ClassInnerStuffCache.lambda$getFields$1(ClassInnerStuffCache.java:41)\n    at com.intellij.psi.util.CachedValuesManager.lambda$getCachedValue$0(CachedValuesManager.java:140)\n    at com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:49)\n    at com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:222)\n    at com.intellij.psi.impl.PsiCachedValue.getValueWithLock(PsiCachedValue.java:60)\n    at com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:38)\n    at com.intellij.util.CachedValuesManagerImpl.getCachedValue(CachedValuesManagerImpl.java:87)\n    at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:139)\n    at com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:126)\n    at com.intellij.psi.impl.source.ClassInnerStuffCache.getFields(ClassInnerStuffCache.java:41)\n    at org.jetbrains.kotlin.asJava.classes.KtLightClassBase.getFields(KtLightClassBase.kt:36)\n    at org.jetbrains.uast.UClass$DefaultImpls.getFields(UClass.kt:53)\n    at org.jetbrains.uast.UClassTypeSpecific$DefaultImpls.getFields(UClass.kt)\n    at org.jetbrains.uast.kotlin.AbstractKotlinUClass.getFields(KotlinUClass.kt:33)\n    at org.jetbrains.uast.kotlin.KotlinUAnonymousClass.getFields(KotlinUClass.kt:221)\n    at org.jetbrains.uast.kotlin.AbstractKotlinUClass$uastDeclarations$2.invoke(KotlinUClass.kt:38)\n    at org.jetbrains.uast.kotlin.AbstractKotlinUClass$uastDeclarations$2.invoke(KotlinUClass.kt:33)\n    at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\n    at org.jetbrains.uast.kotlin.AbstractKotlinUClass.getUastDeclarations(KotlinUClass.kt)\n    at org.jetbrains.uast.UClass$DefaultImpls.accept(UClass.kt:69)\n    at org.jetbrains.uast.UClassTypeSpecific$DefaultImpls.accept(UClass.kt)\n    at org.jetbrains.uast.kotlin.AbstractKotlinUClass.accept(KotlinUClass.kt:33)\n    at org.jetbrains.uast.UObjectLiteralExpression$DefaultImpls.accept(UObjectLiteralExpression.kt:56)\n    at org.jetbrains.uast.kotlin.KotlinUObjectLiteralExpression.accept(KotlinUObjectLiteralExpression.kt:31)\n    at org.jetbrains.uast.internal.ImplementationUtilsKt.acceptList(implementationUtils.kt:23)\n    at org.jetbrains.uast.kotlin.KotlinUFunctionCallExpression.accept(KotlinUFunctionCallExpression.kt:135)\n    at org.jetbrains.uast.UQualifiedReferenceExpression$DefaultImpls.accept(UQualifiedReferenceExpression.kt:48)\n    at org.jetbrains.uast.kotlin.KotlinUQualifiedReferenceExpression.accept(KotlinUQualifiedReferenceExpression.kt:29)\n    at org.jetbrains.uast.internal.ImplementationUtilsKt.acceptList(implementationUtils.kt:23)\n    at org.jetbrains.uast.UBlockExpression$DefaultImpls.accept(UBlockExpression.kt:35)\n    at org.jetbrains.uast.kotlin.KotlinUBlockExpression.accept(KotlinUBlockExpression.kt:24)\n    at org.jetbrains.uast.ULambdaExpression$DefaultImpls.accept(ULambdaExpression.kt:47)\n    at org.jetbrains.uast.kotlin.KotlinULambdaExpression.accept(KotlinULambdaExpression.kt:27)\n    at org.jetbrains.uast.internal.ImplementationUtilsKt.acceptList(implementationUtils.kt:23)\n    at org.jetbrains.uast.kotlin.KotlinUFunctionCallExpression.accept(KotlinUFunctionCallExpression.kt:135)\n    at org.jetbrains.uast.internal.ImplementationUtilsKt.acceptList(implementationUtils.kt:23)\n    at org.jetbrains.uast.UBlockExpression$DefaultImpls.accept(UBlockExpression.kt:35)\n    at org.jetbrains.uast.kotlin.KotlinUBlockExpression$KotlinLazyUBlockExpression.accept(KotlinUBlockExpression.kt:30)\n    at org.jetbrains.uast.UAnnotationMethod$DefaultImpls.accept(UMethod.kt:109)\n    at org.jetbrains.uast.kotlin.declarations.KotlinUMethod.accept(KotlinUMethod.kt:32)\n    at org.jetbrains.uast.internal.ImplementationUtilsKt.acceptList(implementationUtils.kt:23)\n    at org.jetbrains.uast.UClass$DefaultImpls.accept(UClass.kt:69)\n    at org.jetbrains.uast.UClassTypeSpecific$DefaultImpls.accept(UClass.kt)\n    at org.jetbrains.uast.kotlin.AbstractKotlinUClass.accept(KotlinUClass.kt:33)\n    at org.jetbrains.uast.internal.ImplementationUtilsKt.acceptList(implementationUtils.kt:23)\n    at org.jetbrains.uast.UFile$DefaultImpls.accept(UFile.kt:91)\n    at org.jetbrains.uast.kotlin.KotlinUFile.accept(KotlinUFile.kt:30)\n    at com.android.tools.lint.client.api.UastGradleVisitor.visitBuildScript(UastGradleVisitor.kt:36)\n    at com.android.tools.lint.client.api.LintDriver$checkBuildScripts$1.run(LintDriver.kt:1127)\n    at com.android.tools.lint.client.api.LintClient.runReadAction(LintClient.kt:1510)\n    at com.android.tools.lint.client.api.LintDriver$LintClientWrapper.runReadAction(LintDriver.kt:2115)\n    at com.android.tools.lint.client.api.LintDriver.checkBuildScripts(LintDriver.kt:1111)\n    at com.android.tools.lint.client.api.LintDriver.runFileDetectors(LintDriver.kt:1052)\n    at com.android.tools.lint.client.api.LintDriver.checkProject(LintDriver.kt:850)\n    at com.android.tools.lint.client.api.LintDriver.analyze(LintDriver.kt:378)\n    at com.android.tools.lint.LintCliClient.run(LintCliClient.java:238)\n    at com.android.tools.lint.gradle.LintGradleClient.run(LintGradleClient.java:230)\n    at com.android.tools.lint.gradle.LintGradleExecution.runLint(LintGradleExecution.java:291)\n    at com.android.tools.lint.gradle.LintGradleExecution.lintSingleVariant(LintGradleExecution.java:368)\n    at com.android.tools.lint.gradle.LintGradleExecution.analyze(LintGradleExecution.java:91)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.android.tools.lint.gradle.api.ReflectiveLintRunner.runLint(ReflectiveLintRunner.kt:38)\n    at com.android.build.gradle.tasks.LintBaseTask.runLint(LintBaseTask.java:88)\n    at com.android.build.gradle.tasks.LintPerVariantTask.lint(LintPerVariantTask.java:41)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:801)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:768)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:131)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:120)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:99)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipCachedTaskExecuter.execute(SkipCachedTaskExecuter.java:105)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ResolveBuildCacheKeyExecuter.execute(ResolveBuildCacheKeyExecuter.java:79)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n    at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)\n    at org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:277)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:262)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 4684896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c52i1.jpg?s=128&g=1", "display_name": "hamid ghasemi", "link": "https://stackoverflow.com/users/4684896/hamid-ghasemi"}, "edited": false, "score": 0, "creation_date": 1546458015, "post_id": 54011619, "comment_id": 94861165, "body": "Thanks for response, but there are 2 problems with this solution. First of all, long running tasks will not terminate and they can allocate Ram and processor. Secondly, the long running tasks may manipulate data during the execution and therefore it changes the result of other tasks. Ao it is important to terminate other running tasks."}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1546458169, "post_id": 54011619, "comment_id": 94861235, "body": "I suggest testing as that article is incorrect if this Spring feature is actually wrapping <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a>. That doc says a late running task causes subsequent runs to wait, not allowing concurrent runs."}, {"owner": {"reputation": 789, "user_id": 4684896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c52i1.jpg?s=128&g=1", "display_name": "hamid ghasemi", "link": "https://stackoverflow.com/users/4684896/hamid-ghasemi"}, "reply_to_user": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1546498451, "post_id": 54011619, "comment_id": 94871574, "body": "@BasilBourque you&#39;re right and in this situation again I can not get the next run&#39;s results on time."}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "reply_to_user": {"reputation": 789, "user_id": 4684896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c52i1.jpg?s=128&g=1", "display_name": "hamid ghasemi", "link": "https://stackoverflow.com/users/4684896/hamid-ghasemi"}, "edited": false, "score": 1, "creation_date": 1546499968, "post_id": 54011619, "comment_id": 94872076, "body": "@hamidghasemi As I understand <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a> neither <code>scheduleAtFixedRate\u200b</code> nor <code>scheduleWithFixedDelay\u200b</code> supports runs of the task being concurrent. Both are designed to execute runs of the task only in succession, the next one starting only <i>after</i> the previous one completes. The only difference is in how long to wait after completion. I avoid Spring, so I am merely guessing/assuming that this Spring feature wraps a <code>ScheduledExecutorService</code>, but I do not know."}], "tags": [], "owner": {"reputation": 11, "user_id": 9071159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa5rF.jpg?s=128&g=1", "display_name": "bachkilan", "link": "https://stackoverflow.com/users/9071159/bachkilan"}, "is_accepted": false, "score": 1, "last_activity_date": 1546454906, "creation_date": 1546454906, "answer_id": 54011619, "question_id": 54011385, "link": "https://stackoverflow.com/questions/54011385/java-stop-scheduled-task-if-it-takes-more-than-a-specific-time/54011619#54011619", "title": "Java stop scheduled task if it takes more than a specific time", "body": "<p><strong>Try using Fixed Rate instead of Fixed Delay</strong></p>\n\n<p>Here is the article from \nParaschiv.E. The @Scheduled Annotation in Spring. Referred from <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-scheduled-tasks</a></p>\n\n<hr>\n\n<ol start=\"4\">\n<li><p>Schedule a Task at a Fixed Rate</p>\n\n<p>@Scheduled(fixedRate = 1000)\npublic void scheduleFixedRateTask() {\n    System.out.println(\n      \"Fixed rate task - \" + System.currentTimeMillis() / 1000);\n}</p></li>\n</ol>\n\n<p>Note that the beginning of the <strong>task execution doesn\u2019t wait for the completion of the previous execution</strong>.</p>\n\n<p>This option should be used when each execution of the task is independent.</p>\n"}, {"tags": [], "owner": {"reputation": 858, "user_id": 1096193, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9ba1c3a75692db66c6b97667a53571a5?s=128&d=identicon&r=PG", "display_name": "aravindaM", "link": "https://stackoverflow.com/users/1096193/aravindam"}, "is_accepted": false, "score": 0, "last_activity_date": 1546497155, "creation_date": 1546497155, "answer_id": 54017372, "question_id": 54011385, "link": "https://stackoverflow.com/questions/54011385/java-stop-scheduled-task-if-it-takes-more-than-a-specific-time/54017372#54017372", "title": "Java stop scheduled task if it takes more than a specific time", "body": "<p>You can implement a custom Task scheduler using, <code>org.springframework.scheduling.TaskScheduler</code>  instead of Annotation based method. </p>\n\n<pre><code>private final TaskScheduler scheduler;\n\n@Autowired\npublic SchedulingManager(TaskScheduler scheduler) {\n    this.scheduler = scheduler;\n}\n</code></pre>\n\n<p>In this case,</p>\n\n<pre><code>ScheduledFuture scheduledeFuture =  scheduler.schedule(()-&gt;{\n  ....You job goes here..\n\n}, new CronTrigger(\"*/100 * * * * *\"));\n</code></pre>\n\n<p>You can keep track of the scheduled future to make sure it runs max time intended. </p>\n\n<pre><code>scheduledeFuture.get(100,TimeUnit.SECONDS)\n</code></pre>\n"}], "owner": {"reputation": 789, "user_id": 4684896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c52i1.jpg?s=128&g=1", "display_name": "hamid ghasemi", "link": "https://stackoverflow.com/users/4684896/hamid-ghasemi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1546497155, "creation_date": 1546453797, "question_id": 54011385, "link": "https://stackoverflow.com/questions/54011385/java-stop-scheduled-task-if-it-takes-more-than-a-specific-time", "title": "Java stop scheduled task if it takes more than a specific time", "body": "<p>I have a scheduled job which runs every 100 seconds. Sometimes the execution of this method takes a lot of time (which is ok and there is no problem with that). In this situation, the result of the running method is not important to me and I want to re-schedule the job for next 100 second.</p>\n\n<p>What is the best way to force the running job to terminate (<code>return</code>) after a specific time?</p>\n\n<p>My scheduled code is like below:</p>\n\n<pre><code>@Scheduled(fixedDelay = 100*1000)\nfun calculateLastDaysStatistics() {\n    logger.info(\"affiliate statistics thread Started Successfully\")\n    val processStartDate = Date()\n\n    for (i in 1..prevDaysToConsider) {\n        logger.info(\"AdZone-Stats prev days $i\")\n\n        val yesterday = DateUtility.addDay(Date(), -i)\n\n        val startDate = DateUtility.getZeroDayTime(yesterday.time)\n        val endDate = DateUtility.addDay(startDate, 1)\n\n        /* This method is probable to take a lot of time */\n        calculateStatistics(startDate, endDate)\n    }\n\n    val processLength = (Date().time - processStartDate.time) / 1000\n    logger.info(\"affiliate statistics thread finished in \" + processLength + \"s\")\n}\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-architecture-components"], "comments": [{"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1546451671, "post_id": 54010816, "comment_id": 94858608, "body": "Your question is mostly code, please <a href=\"https://stackoverflow.com/help/how-to-ask\">explain better</a> what you&#39;re asking."}, {"owner": {"reputation": 31, "user_id": 8460994, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oBTJw9z1Ftk/AAAAAAAAAAI/AAAAAAAAACU/96ujSWexZqo/photo.jpg?sz=128", "display_name": "Ayman Hamdan", "link": "https://stackoverflow.com/users/8460994/ayman-hamdan"}, "reply_to_user": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1546452706, "post_id": 54010816, "comment_id": 94859037, "body": "i am using the navigation architecture component and in drawer some item are for navigation between fragment and other items for action like share app"}, {"owner": {"reputation": 31, "user_id": 8460994, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oBTJw9z1Ftk/AAAAAAAAAAI/AAAAAAAAACU/96ujSWexZqo/photo.jpg?sz=128", "display_name": "Ayman Hamdan", "link": "https://stackoverflow.com/users/8460994/ayman-hamdan"}, "reply_to_user": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1546452774, "post_id": 54010816, "comment_id": 94859064, "body": "when i select share app it is not enter in setNavigationItemSelectedListener"}], "owner": {"reputation": 31, "user_id": 8460994, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oBTJw9z1Ftk/AAAAAAAAAAI/AAAAAAAAACU/96ujSWexZqo/photo.jpg?sz=128", "display_name": "Ayman Hamdan", "link": "https://stackoverflow.com/users/8460994/ayman-hamdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 434, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1573496336, "creation_date": 1546450954, "last_edit_date": 1573496336, "question_id": 54010816, "link": "https://stackoverflow.com/questions/54010816/navigation-architecture-component-with-android-intent-action-send", "title": "Navigation Architecture Component with android.intent.action.SEND", "body": "<p>I'm using a navigation architecture component and from drawer, I want to open share intent?</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n   override fun onNavigationItemSelected(item: MenuItem): Boolean {\n       when (item.itemId) {\n           R.id.action_share_app -&gt; {\n\n               val sendIntent: Intent = Intent().apply {\n                   action = Intent.ACTION_SEND\n                   putExtra(Intent.EXTRA_TEXT, \"This is my text to send.\")\n                   type = \"text/plain\"\n               }\n               startActivity(sendIntent)\n               return true\n           }\n\n       }\n\n       return true\n   }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n    setTheme(R.style.AppTheme_NoActionBar)\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    setSupportActionBar(toolbar)\n//        navigationView.setNavigationItemSelectedListener(this)\n    setupNavigation()\n\n}\n\nprivate fun setupNavigation() {\n    val navController = findNavController(this, R.id.nav_host_fragment)\n\n    // Update action bar to reflect navigation\n    setupActionBarWithNavController(this, navController, drawerLayout)\n\n\n    // Handle nav drawer item clicks\n    ActivityNavigator(this)\n        .createDestination().intent = Intent().apply {\n        action = Intent.ACTION_SEND\n        putExtra(Intent.EXTRA_TEXT, \"This is my text to send.\")\n        type = \"text/plain\"\n    }\n\n    navigationView.setNavigationItemSelectedListener { menuItem -&gt;\n        when (menuItem.itemId) {\n            R.id.action_share_app -&gt; {\n                val sendIntent: Intent = Intent().apply {\n                    action = Intent.ACTION_SEND\n                    putExtra(Intent.EXTRA_TEXT, \"This is my text to send.\")\n                    type = \"text/plain\"\n                }\n                startActivity(sendIntent)\n            }\n        }\n\n        menuItem.isChecked = true\n        drawerLayout.closeDrawers()\n        false\n    }\n\n    // Tie nav graph to items in nav drawer\n    setupWithNavController(navigationView, navController)\n}\n\noverride fun onSupportNavigateUp(): Boolean {\n    return navigateUp(findNavController(this, R.id.nav_host_fragment), drawerLayout)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "apk", "signed", "android-lint"], "answers": [{"comments": [{"owner": {"reputation": 926, "user_id": 843001, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c3b3f16ea2f7025bcb5d51bc54a9ee55?s=128&d=identicon&r=PG", "display_name": "Duna", "link": "https://stackoverflow.com/users/843001/duna"}, "edited": false, "score": 0, "creation_date": 1546451621, "post_id": 54010923, "comment_id": 94858591, "body": "Add google() first and then jcenter() to repositories"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546452473, "post_id": 54010923, "comment_id": 94858945, "body": "Add mavenCentral() before jcenter(), see: <a href=\"https://blog.autsoft.hu/a-confusing-dependency/amp/?__twitter_impression=true\" rel=\"nofollow noreferrer\">blog.autsoft.hu/a-confusing-dependency/amp/&hellip;</a>"}], "tags": [], "owner": {"reputation": 10450, "user_id": 4265103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3i5oh_ORJuM/AAAAAAAAAAI/AAAAAAAAQcw/sme6yvNLT1c/photo.jpg?sz=128", "display_name": "Pierre", "link": "https://stackoverflow.com/users/4265103/pierre"}, "is_accepted": false, "score": 0, "last_activity_date": 1546451483, "creation_date": 1546451483, "answer_id": 54010923, "question_id": 54010712, "link": "https://stackoverflow.com/questions/54010712/cant-generate-signed-apk-kotlin/54010923#54010923", "title": "Cant generate signed apk,kotlin", "body": "<p>Add <code>jcenter()</code> in your list of repositories, e.g.</p>\n\n<pre><code>repositories {\n    google()\n    jcenter() \n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10858968, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-efNtCldb_5M/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbhqONeVH9c6txwdOYkBfiN0omY0g/mo/photo.jpg?sz=128", "display_name": "Majid Hosseini", "link": "https://stackoverflow.com/users/10858968/majid-hosseini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546458492, "creation_date": 1546450412, "last_edit_date": 1546458492, "question_id": 54010712, "link": "https://stackoverflow.com/questions/54010712/cant-generate-signed-apk-kotlin", "title": "Cant generate signed apk,kotlin", "body": "<p>After upgrading my Android Studio to 3.2.1,\nI encountered the following problem when creating Generate signed APK:</p>\n\n<blockquote>\n  <p>Could not find lint-kotlin.jar\n  (com.android.tools.lint:lint-kotlin:26.2.1). Searched in the following\n  locations:\n      <a href=\"https://dl.google.com/dl/android/maven2/com/android/tools/lint/lint-kotlin/26.2.1/lint-kotlin-26.2.1.jar\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/android/tools/lint/lint-kotlin/26.2.1/lint-kotlin-26.2.1.jar</a></p>\n</blockquote>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546448115, "post_id": 54009730, "comment_id": 94857134, "body": "<code>context</code> is null, just make sure to set a value before casting it to <code>MainActivity </code>"}, {"owner": {"reputation": 14654, "user_id": 1061944, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/4lEdK.jpg?s=128&g=1", "display_name": "Murtaza Khursheed Hussain", "link": "https://stackoverflow.com/users/1061944/murtaza-khursheed-hussain"}, "edited": false, "score": 0, "creation_date": 1546508172, "post_id": 54009730, "comment_id": 94875213, "body": "It is a <code>Typecast Exception</code> and it is saying <code>can not be cast to non-null type</code> something which does not allow null you are passing null to it. In Kotlin you need to add <code>?</code> to make in nullable"}], "answers": [{"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": true, "score": 1, "last_activity_date": 1546450011, "creation_date": 1546450011, "answer_id": 54010633, "question_id": 54009730, "link": "https://stackoverflow.com/questions/54009730/kotlin-how-to-call-getsupportfragmentmanager-in-recyclerview-adapter/54010633#54010633", "title": "Kotlin: How to call getSupportFragmentManager() in RecyclerView.Adapter", "body": "<p>This is because your <code>Context</code> instance in the adapter is not guaranteed to be an <code>Activity</code>. It could potentially be a <code>ContextWrapper</code> holding the <code>Activity</code> as a base <code>Context</code>. Attempting to unwrap this would be fragile. </p>\n\n<p>Instead, I would recommend that you define an interface in your adapter. From your <code>Activity</code>, provide an implementation of this interface to your adapter that will perform the <code>FragmentTransaction</code>. For example:</p>\n\n<pre><code>class MyAdapter : RecyclerView.Adapter&lt;MyType&gt; {\n    private var listener: (() -&gt; Unit)? = null\n\n    fun setListener(listener: (() -&gt; Unit)?) {\n        this.listener = listener\n    }\n\n    // wherever your onClick is handled:\n    listener?.invoke()\n}\n</code></pre>\n\n<p>Then, in the <code>Activity</code> that's initializing <code>MyAdapter</code>:</p>\n\n<pre><code>myAdapter.setListener {\n    supportFragmentManager\n        .beginTransaction()\n        .replace(MainActivity.FRAGMENT_CONTAINER, TextScreen())\n        .commit()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1417, "user_id": 5230682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NwmEI.jpg?s=128&g=1", "display_name": "Ehsan Mashhadi", "link": "https://stackoverflow.com/users/5230682/ehsan-mashhadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1546508000, "creation_date": 1546508000, "answer_id": 54019530, "question_id": 54009730, "link": "https://stackoverflow.com/questions/54009730/kotlin-how-to-call-getsupportfragmentmanager-in-recyclerview-adapter/54019530#54019530", "title": "Kotlin: How to call getSupportFragmentManager() in RecyclerView.Adapter", "body": "<p>I suggest you handle your fragment transaction in your <code>fragment/activity</code>. This would help you to have cleaner code and using context in <code>fragment/activity</code> is much easier. Try to define the interface between your adapter and fragment and call your interface method in the adapter and implement the interface in <code>activity/fragment</code>. There you can access context easily.</p>\n"}, {"tags": [], "owner": {"reputation": 3538, "user_id": 8940630, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KzSlVZ-KfYw/AAAAAAAAAAI/AAAAAAAAAA8/8pxiVFVU9mo/photo.jpg?sz=128", "display_name": "SinaMN75", "link": "https://stackoverflow.com/users/8940630/sinamn75"}, "is_accepted": false, "score": 0, "last_activity_date": 1546509423, "creation_date": 1546509423, "answer_id": 54019916, "question_id": 54009730, "link": "https://stackoverflow.com/questions/54009730/kotlin-how-to-call-getsupportfragmentmanager-in-recyclerview-adapter/54019916#54019916", "title": "Kotlin: How to call getSupportFragmentManager() in RecyclerView.Adapter", "body": "<p>get the activity or fragment as argument in your adapter.</p>\n\n<pre><code>class ArticleAdapter(private val articleActivity: ArticleActivity, private val docs: List&lt;ArticleResult.ArticleDoc&gt;) : RecyclerView.Adapter&lt;ArticleAdapter.Holder&gt;() {\n    override fun onCreateViewHolder(p0: ViewGroup, p1: Int): Holder = Holder(LayoutInflater.from(p0.context).inflate(R.layout.row_general2, p0, false))\n    override fun getItemCount(): Int = docs.size\n\n    override fun onBindViewHolder(holder: Holder, position: Int) {\n        articleActivity.supportFragmentManager\n    }\n\n    class Holder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        val textViewTitleRow = itemView.findViewById&lt;TextView&gt;(R.id.textViewTitleRow)!!\n        val textView1Row = itemView.findViewById&lt;TextView&gt;(R.id.textView1Row)!!\n        val textView2Row = itemView.findViewById&lt;TextView&gt;(R.id.textView2Row)!!\n        val imageViewDownloadRow = itemView.findViewById&lt;ImageView&gt;(R.id.imageViewDownloadRow)!!\n        val textViewMoreRow = itemView.findViewById&lt;TextView&gt;(R.id.textViewMoreRow)!!\n        val imageViewBookRow = itemView.findViewById&lt;ImageView&gt;(R.id.imageViewBookRow)!!\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1992, "user_id": 8471798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WiHS.jpg?s=128&g=1", "display_name": "canerkaseler", "link": "https://stackoverflow.com/users/8471798/canerkaseler"}, "is_accepted": false, "score": 1, "last_activity_date": 1592248368, "creation_date": 1592248368, "answer_id": 62395293, "question_id": 54009730, "link": "https://stackoverflow.com/questions/54009730/kotlin-how-to-call-getsupportfragmentmanager-in-recyclerview-adapter/62395293#62395293", "title": "Kotlin: How to call getSupportFragmentManager() in RecyclerView.Adapter", "body": "<p>15 June 2020 - <strong><em>Kotlin Answer</em></strong></p>\n\n<blockquote>\n  <p>If you want to call <em>\"supportFragmentManager\"</em> in <strong>Fragment</strong>:</p>\n</blockquote>\n\n<pre><code>activity.supportFragmentManager\n</code></pre>\n\n<p>@canerkaseler</p>\n"}], "owner": {"reputation": 57, "user_id": 7307194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e05ace6b0ece26695912fbd31e2e43?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Giesen", "link": "https://stackoverflow.com/users/7307194/simon-giesen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8976, "favorite_count": 0, "accepted_answer_id": 54010633, "answer_count": 4, "score": 0, "last_activity_date": 1592248368, "creation_date": 1546446108, "last_edit_date": 1546507763, "question_id": 54009730, "link": "https://stackoverflow.com/questions/54009730/kotlin-how-to-call-getsupportfragmentmanager-in-recyclerview-adapter", "title": "Kotlin: How to call getSupportFragmentManager() in RecyclerView.Adapter", "body": "<p>I would like to call the Support Fragment Manager in my RecyclerView.Adapter after the click event in order to move to a different fragment. My approach:</p>\n\n<pre><code>(context as MainActivity).supportFragmentManager\n                            .beginTransaction()\n                            .replace(MainActivity.FRAGMENT_CONTAINER, TextScreen())\n                            .commit()\n</code></pre>\n\n<p>But I get the following error:</p>\n\n<blockquote>\n  <p>kotlin.TypeCastException: null cannot be cast to non-null type</p>\n</blockquote>\n\n<p>Can you help me?</p>\n"}, {"tags": ["android-studio", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 1, "creation_date": 1546444973, "post_id": 54009335, "comment_id": 94855591, "body": "Put the breakpoint at the line the calls the method: <code>val x = getSomething()</code> or if possible at the return line of <code>ctreate()</code>."}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1546445434, "post_id": 54009335, "comment_id": 94855822, "body": "There&#39;s a similar question asked <a href=\"https://stackoverflow.com/questions/5010362/can-i-find-out-the-return-value-before-returning-while-debugging-in-intellij\">here</a>"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546446040, "post_id": 54009335, "comment_id": 94856106, "body": "You should write an unit test for it, or at least <code>check(getSomething() == create()</code>"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1590792370, "post_id": 54009335, "comment_id": 109825345, "body": "Did my answer help?"}, {"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1590826154, "post_id": 54009335, "comment_id": 109831974, "body": "@WilliMentzel I appreciate your help, but it doesn&#39;t answer my question."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1590849367, "post_id": 54009335, "comment_id": 109839427, "body": "@anber But you can use &quot;evaluate expression&quot; as described in the second part of my answer. Use a break point at the line where you define getSomething, then evaluate it. The temp variable was just meant to illustrate the point. Pls clarify."}, {"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1590866714, "post_id": 54009335, "comment_id": 109846044, "body": "@WilliMentzel evaluate expression is not that what I want cause method call could take some time and may cause some side effects, but looks like no other solution, so I&#39;ll accept your answer"}], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 0, "last_activity_date": 1590792552, "last_edit_date": 1590792552, "creation_date": 1546462913, "answer_id": 54013138, "question_id": 54009335, "link": "https://stackoverflow.com/questions/54009335/how-to-check-expression-body-result-on-debug/54013138#54013138", "title": "How to check expression body result on debug", "body": "<p>Put the breakpoint after the line which calls the function / assigns the return value like this: </p>\n\n<pre><code>fun getSomething(i: Int) = 5 * i\n\nfun main(args: Array&lt;String&gt;) {\n    val x = getSomething(5) // (1)\n\n    println(x) // (2)\n}\n</code></pre>\n\n<p>(1) If you put the breakpoint here, x won't be assigned yet</p>\n\n<p>(2) if you want to know the value of x, put the breakpoint on a line after the assignment (println is just used as an example here)</p>\n\n<p>If you want to test what <code>getSomething</code> returns for different values of <code>i</code>,</p>\n\n<p>highlight it and right-click in the editor window when the debugger stops at the breakpoint and choose \"Evaluate Expression\" (or hit <kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>8</kbd> on Windows or Linux)</p>\n\n<p>In the window that opens you can evaluate any code which is in scope.</p>\n"}], "owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 54013138, "answer_count": 1, "score": 1, "last_activity_date": 1590826277, "creation_date": 1546444548, "last_edit_date": 1590826277, "question_id": 54009335, "link": "https://stackoverflow.com/questions/54009335/how-to-check-expression-body-result-on-debug", "title": "How to check expression body result on debug", "body": "<p>I have expression like this in Kotlin:\n<code>fun getSomething() = create()</code></p>\n\n<p>How to check in IntelliJ IDEA (Android Studio) during debug what value does function return?\nIf I just put breakpoint it does not show expression result.</p>\n\n<p>UPD. I understand that if I rewrite code using a temporary variable I could debug it:</p>\n\n<pre><code>fun getSomething() { \n  var tmp = create()\n  return tmp\n}\n</code></pre>\n\n<p>But how to do it without rewriting code?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "wait"], "comments": [{"owner": {"reputation": 938, "user_id": 7311269, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wPxgt.png?s=128&g=1", "display_name": "Nero", "link": "https://stackoverflow.com/users/7311269/nero"}, "edited": false, "score": 0, "creation_date": 1546440878, "post_id": 54008312, "comment_id": 94853434, "body": "If I understand your requirements correctly, you want to put a delay in the while loop before it goes back and runs the code again?"}, {"owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "reply_to_user": {"reputation": 938, "user_id": 7311269, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wPxgt.png?s=128&g=1", "display_name": "Nero", "link": "https://stackoverflow.com/users/7311269/nero"}, "edited": false, "score": 0, "creation_date": 1546441606, "post_id": 54008312, "comment_id": 94853848, "body": "Yes, that would be it. Just that it&#180;s not a delay with a fixed time but one that is over when a button is pressed."}, {"owner": {"reputation": 938, "user_id": 7311269, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wPxgt.png?s=128&g=1", "display_name": "Nero", "link": "https://stackoverflow.com/users/7311269/nero"}, "edited": false, "score": 0, "creation_date": 1546442783, "post_id": 54008312, "comment_id": 94854426, "body": "Wouldn&#39;t it make more sense to run the piece of code once the button it clicked? You can accumulate the int + 1 every time the button is clicked?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546443182, "post_id": 54008312, "comment_id": 94854623, "body": "<code>var mediaPlayer: MediaPlayer?</code> why not <code>val mediaPlayer : MediaPlayer</code>?"}, {"owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "edited": false, "score": 0, "creation_date": 1546443649, "post_id": 54008312, "comment_id": 94854874, "body": "@ EpicPandaForce: to be honest, I don&#180;t know. I just googled for a line i could use to start playing the sounds. It worked, so I kept it. Android Studio told me I could use val instead of var, but I couldn&#180;t see a benefit from that."}, {"owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "edited": false, "score": 0, "creation_date": 1546443872, "post_id": 54008312, "comment_id": 94854975, "body": "@ Nero : That would be possible, but wouldn&#180;t that just delay my problem until the code has run the first time?"}, {"owner": {"reputation": 938, "user_id": 7311269, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wPxgt.png?s=128&g=1", "display_name": "Nero", "link": "https://stackoverflow.com/users/7311269/nero"}, "edited": false, "score": 0, "creation_date": 1546445368, "post_id": 54008312, "comment_id": 94855793, "body": "@BraveSentry you can put the code within onCreate method so it only gets triggered once. Then it will get triggered every time when the user hits the button."}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "edited": false, "score": 0, "creation_date": 1546457497, "post_id": 54008730, "comment_id": 94860954, "body": "Hey, thanks a lot! Turns out using a while loop was the wrong approach altogether and using CountDownTimer and onClickListener seems to get the job done."}], "tags": [], "owner": {"reputation": 559, "user_id": 6033533, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07f80ebfd3631439dceb91dd4525debc?s=128&d=identicon&r=PG&f=1", "display_name": "Mercato", "link": "https://stackoverflow.com/users/6033533/mercato"}, "is_accepted": true, "score": 1, "last_activity_date": 1546443340, "last_edit_date": 1546443340, "creation_date": 1546441919, "answer_id": 54008730, "question_id": 54008312, "link": "https://stackoverflow.com/questions/54008312/kotlin-android-studio-wait-for-button-to-be-pressed/54008730#54008730", "title": "kotlin/android studio: wait for button to be pressed", "body": "<p>If you simply intend to continuously wait until a user has clicked a button before playing the next sound, then honestly on each of your onClick listeners just add a new call to your function that generates the next media play (let's call it <code>playNextSound()</code>) and immediately compare the result, for example:</p>\n\n<pre><code>dobutton.setOnClickListener {\n    val mediaPlayer: MediaPlayer = MediaPlayer.create(this, R.raw.cping)\n    mediaPlayer.start()\n\n    index += 1\n    if(setAnswer == thisButton){\n        score += 1\n    }\n\n    if(index &lt; 11){\n        playNextSound()\n    } else {\n        showResults()\n    }\n}\n</code></pre>\n\n<p>Otherwise, if you intend to have some sort of a timeout, then that's a slightly different story. You may want to take advantage of a few asynchronous solutions to get around your conundrum: <a href=\"https://developer.android.com/reference/android/os/CountDownTimer\" rel=\"nofollow noreferrer\">CountDownTimer</a> or more advanced <a href=\"https://developer.android.com/reference/android/os/Handler\" rel=\"nofollow noreferrer\">Handler</a> &amp; Runnable solution.</p>\n\n<p>For the former, you can declare a timer that countdown to a specific time after the music is played, like so:</p>\n\n<pre><code>var timeoutCountdown: CountDownTimer = object: CountdownTimer(timeInMills, timeInMills) {\n\n    override fun onFinish() {\n        //Do something to inform the user he has run out of time. For example:\n        showErrorDialog()\n        index += 1\n        if(index &lt; 11){\n            playNextSound()\n        } else {\n            showResults()\n        }\n    }\n\n    override fun onTick(p0: Long) {\n        //Ignore, unless you want to do something here.   \n    }\n}\n</code></pre>\n\n<p>and then in <code>playNextSound()</code> itself, after playing the sound, call <code>timeoutCountdown.start()</code>. Then, in each of the <code>onClickListener</code>s, do the same thing as the simpler implementation above and just add one line:</p>\n\n<pre><code>dobutton.setOnClickListener {\n    //ADD THIS LINE TO STOP THE COUNTDOWN\n    try { timeoutCountdown.cancel() } catch(ignored: Exception){}\n\n    val mediaPlayer: MediaPlayer = MediaPlayer.create(this, R.raw.cping)\n    mediaPlayer.start()\n\n    index += 1\n    if(setAnswer == thisButton){\n        score += 1\n    }\n\n    if(index &lt; 11){\n        playNextSound()\n    } else {\n        showResults()\n    }\n}\n</code></pre>\n\n<p>If you are keen to use a <code>Handler</code>/Runnable situation instead which is really overkill if just for this use, do let me know and I'll add it in. </p>\n\n<p>EDIT: Using this implementation there is no need for a <code>while</code> loop anymore; you're using the functions and the event trigger (<code>onClickListener</code> or <code>CountDownTimer</code>) as the control flow.</p>\n"}], "owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 0, "accepted_answer_id": 54008730, "answer_count": 1, "score": 1, "last_activity_date": 1546443340, "creation_date": 1546440189, "question_id": 54008312, "link": "https://stackoverflow.com/questions/54008312/kotlin-android-studio-wait-for-button-to-be-pressed", "title": "kotlin/android studio: wait for button to be pressed", "body": "<p>so i am writing an app that asks the user to identify different notes that are being played to them. i imagine that to be done by playing one random note from a set of notes, then waiting for the user to press a button with the corresponding note, telling the user whether they put in the correct note, and, after a short delay, start the whole thing anew.</p>\n\n<p>now my problem is the part with \"waiting for the user to press the button\". </p>\n\n<p>Heres what i have done so far:</p>\n\n<p>I have 12 buttons, one for each note of the chromatic scale, each with a corresponding onClickListener looking like this</p>\n\n<pre><code>        dobutton.setOnClickListener {\n            var mediaPlayer: MediaPlayer? = MediaPlayer.create(this, R.raw.cping)\n            mediaPlayer?.start()\n            givenAnswer = 4 // etc. for all the other notes.\n</code></pre>\n\n<p>I then introduce some variables:</p>\n\n<pre><code>        var score = 0\n        var index = 0\n        var setAnswer = 0\n        var givenAnswer = 0\n</code></pre>\n\n<p>I then have this while loop that ends after a number of rounds played and includes firstly this section that randomly selects one of the notes for playback and sets a correct answer, with corresponding files for playback and values for setAnswer for each note of the chromatic scale...</p>\n\n<pre><code>while (index != 11) {\n\n    val randomGenerator = Random()\n    val randomInt = randomGenerator.nextInt(11)\n\n    when (randomInt) {\n        0 -&gt;{\n            var mediaPlayer: MediaPlayer? = MediaPlayer.create(this, R.raw.abping)\n            mediaPlayer?.start()\n            println(pingsArray[0])\n            setAnswer = 0\n        }\n        1 -&gt; {\n            var mediaPlayer: MediaPlayer? = MediaPlayer.create(this, R.raw.aping)\n            mediaPlayer?.start()\n            println(pingsArray[1])\n            setAnswer = 1\n        } // etc. for all the other notes...\n</code></pre>\n\n<p>...and then this block that compares the correct answer and the one given and increments the values accordingly. </p>\n\n<pre><code>run {\n        if (setAnswer == givenAnswer) {\n            index = index + 1\n            score = score + 1\n        }\n        else {\n            index = index + 1\n        }\n    }\n}\n</code></pre>\n\n<p>After this, the while loop should begin anew. Then the whole thing presents the score.</p>\n\n<p>Now my problem is that the whole while loop executes in one go, without giving the user any time to respond to anything. After spending a whole day googling and finding nothing useful, I finally decided to ask here. In case that it shows all too much: I just started coding a few days ago so please have mercy if my questions are a bit stupid and my code does not comply to the standards. It\u00b4s just a whole bunch of complicated stuff when you\u00b4re new to it...</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["android", "serialization", "kotlin", "gson"], "comments": [{"owner": {"reputation": 9602, "user_id": 7462031, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/APfLb.jpg?s=128&g=1", "display_name": "FreakyAli", "link": "https://stackoverflow.com/users/7462031/freakyali"}, "edited": false, "score": 0, "creation_date": 1546439154, "post_id": 54007758, "comment_id": 94852644, "body": "Your question does not describe your problem statement, can you try being more elaborative as to what you want"}, {"owner": {"reputation": 526, "user_id": 1885415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lEaOM.jpg?s=128&g=1", "display_name": "Srishti Roy", "link": "https://stackoverflow.com/users/1885415/srishti-roy"}, "reply_to_user": {"reputation": 9602, "user_id": 7462031, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/APfLb.jpg?s=128&g=1", "display_name": "FreakyAli", "link": "https://stackoverflow.com/users/7462031/freakyali"}, "edited": false, "score": 0, "creation_date": 1546439304, "post_id": 54007758, "comment_id": 94852719, "body": "my json tree is nested as above  mentioned ,i want the arraylist of screenshots"}, {"owner": {"reputation": 9602, "user_id": 7462031, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/APfLb.jpg?s=128&g=1", "display_name": "FreakyAli", "link": "https://stackoverflow.com/users/7462031/freakyali"}, "edited": false, "score": 1, "creation_date": 1546439397, "post_id": 54007758, "comment_id": 94852761, "body": "And where is your json?"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1546853591, "post_id": 54007758, "comment_id": 94976081, "body": "Kindly share your json."}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 7099284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c7e6662676b90282cd8ec4346263788?s=128&d=identicon&r=PG&f=1", "display_name": "vinay kant", "link": "https://stackoverflow.com/users/7099284/vinay-kant"}, "is_accepted": false, "score": 1, "last_activity_date": 1546444616, "creation_date": 1546444616, "answer_id": 54009348, "question_id": 54007758, "link": "https://stackoverflow.com/questions/54007758/how-to-parse-custom-json-array-list-in-kotlin-using-gson/54009348#54009348", "title": "how to parse custom json array list in kotlin using GSON", "body": "<p>What you have done is correct. Now you just have to use Gson to convert this JSON to object</p>\n\n<pre><code>val gson = Gson()\nval detailResponse = gson.fromJson(resp,DetailedResponse::class.java)\n</code></pre>\n\n<p>where \"resp\" is your json string.</p>\n"}], "owner": {"reputation": 526, "user_id": 1885415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lEaOM.jpg?s=128&g=1", "display_name": "Srishti Roy", "link": "https://stackoverflow.com/users/1885415/srishti-roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1546453014, "creation_date": 1546437973, "last_edit_date": 1546453014, "question_id": 54007758, "link": "https://stackoverflow.com/questions/54007758/how-to-parse-custom-json-array-list-in-kotlin-using-gson", "title": "how to parse custom json array list in kotlin using GSON", "body": "<p>this is my data class, need to parse the arraylist of type link</p>\n\n<pre><code>class DetailResponse {\n    data class BasicInfo (\n        @SerializedName(\"favorite\") val isFavorite: Boolean,\n        @SerializedName(\"screenshots\") val screenshots: ArrayList&lt;Link&gt;\n    )\n\n    data class Link (\n        @SerializedName(\"href\") val href: String\n    )\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "keyboard"], "owner": {"reputation": 11, "user_id": 10857976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa34d36e1f62d9756d2f0128ebb847f9?s=128&d=identicon&r=PG&f=1", "display_name": "A q", "link": "https://stackoverflow.com/users/10857976/a-q"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546522059, "creation_date": 1546436088, "last_edit_date": 1546522059, "question_id": 54007340, "link": "https://stackoverflow.com/questions/54007340/how-working-with-the-adjustpan-on-android-keyboard", "title": "how working with the adJustPan on android keyboard?", "body": "<p>I having trouble using the <code>adJustPan</code> :</p>\n\n<p>move the whole page instead of the app, I just want to move the scroll side of the program, such as <code>recyclerView</code> and <code>scrollView</code>.</p>\n\n<p>Is this possible on the Android platform?</p>\n"}, {"tags": ["unit-testing", "junit", "kotlin", "mockito", "rx-java2"], "comments": [{"owner": {"reputation": 305, "user_id": 10066169, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6hmLsdcSAMc/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oit-3hlyBT7a__eViHT2T7mIAoyw/mo/photo.jpg?sz=128", "display_name": "Denis Babochenko", "link": "https://stackoverflow.com/users/10066169/denis-babochenko"}, "edited": false, "score": 0, "creation_date": 1546435365, "post_id": 54007087, "comment_id": 94850791, "body": "Is completable supposed to hit completion stage on any of those chained method calls?"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546443513, "post_id": 54007087, "comment_id": 94854790, "body": "Where does <code>startWith</code> come from? From what I can see, you are converting the <code>Completable</code> to <code>Single</code> (<code>.toSingleDefault(\u2026)</code>) but <code>Single</code> doesn&#39;t have <code>startWith</code> (because it does make sense since it only emits one value)"}, {"owner": {"reputation": 2286, "user_id": 2870138, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GKw2N.png?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/2870138/luke"}, "edited": false, "score": 0, "creation_date": 1546447075, "post_id": 54007087, "comment_id": 94856607, "body": "My bad, <code>startWith</code> comes from observable after calling <code>toObservable</code>. I updated the question. The completable is a network call (Retrofit with Rx), but it&#39;s mocked in unit test."}], "answers": [{"comments": [{"owner": {"reputation": 2286, "user_id": 2870138, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GKw2N.png?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/2870138/luke"}, "edited": false, "score": 0, "creation_date": 1546505187, "post_id": 54016851, "comment_id": 94873933, "body": "You&#39;re right, the code is running fine in the app. Did you try to run it with JUnit?"}, {"owner": {"reputation": 2286, "user_id": 2870138, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GKw2N.png?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/2870138/luke"}, "edited": false, "score": 0, "creation_date": 1547024994, "post_id": 54016851, "comment_id": 95045315, "body": "So in your example <code>assertComplete</code> and <code>verify</code> are successful. In mine there is only <code>assertComplete</code>.  Can you mock <code>doSomething</code> to do nothing on interaction and see the result? I&#39;ll try to look around my mocks - maybe there is something wrong with them."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "reply_to_user": {"reputation": 2286, "user_id": 2870138, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GKw2N.png?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/2870138/luke"}, "edited": false, "score": 0, "creation_date": 1547046233, "post_id": 54016851, "comment_id": 95058308, "body": "@Luke Actually it&#39;s mocked (<code>every { doSomething() } returns Unit</code>), if not it would have thrown an Exception"}, {"owner": {"reputation": 2286, "user_id": 2870138, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GKw2N.png?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/2870138/luke"}, "edited": false, "score": 0, "creation_date": 1547117451, "post_id": 54016851, "comment_id": 95085391, "body": "I know. I mean to use exactly &quot;do nothing&quot; mock (just like in my code). I&#39;m trying to reflect my code in yours but I&#39;m almost out of ideas."}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": false, "score": 4, "last_activity_date": 1546530712, "last_edit_date": 1546530712, "creation_date": 1546493780, "answer_id": 54016851, "question_id": 54007087, "link": "https://stackoverflow.com/questions/54007087/rxjava-observable-completed-but-dooncomplete-callback-not-triggered-in-unit-test/54016851#54016851", "title": "RxJava observable completed but doOnComplete callback not triggered in unit test", "body": "<p><strong>Update</strong></p>\n\n<p>Testing the code using Unit Test and Mocks. I use <strong>kolin.test</strong> and <strong>mockk</strong> for personal preferences.</p>\n\n<pre><code>interface CompletableSrc {\n    fun getCompletable(): Completable\n}\n\ninterface Client {\n    fun doSomething()\n    fun doSomethingElse()\n}\n\nclass CompletableTest {\n\n    @Test\n    fun `functions doOnComplete and doOnSuccess should work as expected`() {\n        val completableSrc: CompletableSrc = mockk {\n            every { getCompletable() } returns Completable.complete()\n        }\n\n        val client: Client = mockk {\n            every { doSomething() } returns Unit\n            every { doSomethingElse() } returns Unit\n        }\n\n        val observable = completableSrc.getCompletable()\n            .doOnComplete { client.doSomething() }\n            .toSingleDefault(0)\n            .map { it + 1 }\n            .doOnSuccess { client.doSomethingElse() }\n            .toObservable()\n            .startWith(-1)\n\n        val test = observable.test()\n        test.assertComplete()\n        test.assertValues(-1, 1)\n\n        verify(exactly = 1) {\n            completableSrc.getCompletable()\n            client.doSomething()\n            client.doSomethingElse()\n        }\n    }\n}\n</code></pre>\n\n<p>As you can see, both the assertions and the mock verifications succeeded.</p>\n\n<p><strong>Previous</strong></p>\n\n<p>Your code should be working fine, for me is really hard to tell what's wrong because I can't run it, but I create a snippet which is doing pretty much the same thing and it works as expected.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var sideEffect = 0\n\n    val observable = Completable.complete()\n        .doOnComplete { sideEffect += 1 }\n        .toSingleDefault(sideEffect)\n        .map { sideEffect + 1 }\n        .doOnSuccess(::println)\n        .toObservable()\n        .startWith(-1)\n\n    val test = observable.test()\n    test.assertComplete()\n    test.assertValues(-1, 2)\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>2\n</code></pre>\n\n<p>Both side-effect functions <code>Completable.doOnComplete</code> and <code>Single.doOnSuccess</code> are executed, updating the variable <code>sideEffect</code> and printing to the console.</p>\n"}], "owner": {"reputation": 2286, "user_id": 2870138, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GKw2N.png?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/2870138/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1195, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546530712, "creation_date": 1546435045, "last_edit_date": 1546446969, "question_id": 54007087, "link": "https://stackoverflow.com/questions/54007087/rxjava-observable-completed-but-dooncomplete-callback-not-triggered-in-unit-test", "title": "RxJava observable completed but doOnComplete callback not triggered in unit test", "body": "<p>I have following logic for creating an observable data from completable (with <code>doOnComplete</code> callback), which is unit tested:</p>\n\n<pre><code>class ObservableSrc(val completableSrc: CompletableSrc) {\n\n    fun getObservable(client: Client): Observable&lt;State&gt; {\n        return client.getResults()\n            .concatMap { processResult(client, it.values) }\n    }\n\n    private fun processResult(Client: Client, values: Values): Observable&lt;State&gt; =\n        completableSrc.getCompletable(client.type, values)\n            .doOnComplete { client.doSomething(values)}\n            .toSingleDefault(\u2026)\n            .map { \u2026 }\n            .toObservable()\n            .startWith(State.InProgress)\n}\n\n@Test\nfun test() {\n    whenever(client.type).doReturn(Type.SOME_TYPE)\n    whenever(client.getResults()).doReturn(Observable.just&lt;Result&gt;(Result(mock())))\n    whenever(completableSrc.getCompletable(any(), any())).doReturn(Completable.complete())\n    doNothing().whenever(client).doSomething(any())\n\n    val observer = tested.getObservable(client).test()\n\n    observer.assertComplete()\n    verify(completableSrc, times(1)).getCompletable(any(), any())\n    verify(client, times(1)).doSomething(any())\n}\n</code></pre>\n\n<p>The problem is that verifying <code>doSomething</code> gives that there were 2 interaction with mock <code>client</code> but desired method was not called. I found that if I change chaining a little bit like that:</p>\n\n<pre><code>completableSrc.getCompletable(client.type, values)\n                .toSingleDefault(\u2026)\n                .map { \u2026 }\n                .doOnSuccess { client.doSomething(values)}\n                .toObservable()\n                .startWith(State.InProgress)\n</code></pre>\n\n<p>then it works. I just don't know why the previous version with <code>doOnComplete</code> is failing (<code>observer.assertComplete()</code> is executed successfully).  It seems like it's disposed too soon so the callback is not called but why?</p>\n"}, {"tags": ["android", "kotlin", "android-camera"], "comments": [{"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1546435627, "post_id": 54007058, "comment_id": 94850927, "body": "have you tried using <code>findViewById(R.id.camerakit) as CameraKitView</code>"}, {"owner": {"reputation": 591, "user_id": 4590962, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41c97d7502152c2291f7a27bf6b35ad2?s=128&d=identicon&r=PG&f=1", "display_name": "codeme", "link": "https://stackoverflow.com/users/4590962/codeme"}, "reply_to_user": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1546435809, "post_id": 54007058, "comment_id": 94851017, "body": "I have just tried. It is the same error."}], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 4590962, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41c97d7502152c2291f7a27bf6b35ad2?s=128&d=identicon&r=PG&f=1", "display_name": "codeme", "link": "https://stackoverflow.com/users/4590962/codeme"}, "is_accepted": true, "score": 0, "last_activity_date": 1546441461, "creation_date": 1546441461, "answer_id": 54008611, "question_id": 54007058, "link": "https://stackoverflow.com/questions/54007058/camerakitview-library-is-not-getting-initialized-with-kotlin/54008611#54008611", "title": "CameraKitView library is not getting initialized with Kotlin", "body": "<p>The problem was that I used the method:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?)\n</code></pre>\n\n<p>Instead of: </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?)\n</code></pre>\n"}], "owner": {"reputation": 591, "user_id": 4590962, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41c97d7502152c2291f7a27bf6b35ad2?s=128&d=identicon&r=PG&f=1", "display_name": "codeme", "link": "https://stackoverflow.com/users/4590962/codeme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "accepted_answer_id": 54008611, "answer_count": 1, "score": 1, "last_activity_date": 1546441461, "creation_date": 1546434938, "last_edit_date": 1546435954, "question_id": 54007058, "link": "https://stackoverflow.com/questions/54007058/camerakitview-library-is-not-getting-initialized-with-kotlin", "title": "CameraKitView library is not getting initialized with Kotlin", "body": "<p>I am trying to setup <code>CameraKitView</code>. I followed the docs, but my <code>CameraKitView</code> in my Activity is not getting initialized. I have tried to initialize the <code>CameraKitView</code> in different ways without any luck.\nMy XML looks like the following:      </p>\n\n<pre><code>&lt;com.camerakit.CameraKitView\n   android:id=\"@+id/camerakit\"\n   android:layout_width=\"match_parent\"\n   android:layout_height=\"400dp\"\n   android:adjustViewBounds=\"true\"\n   android:keepScreenOn=\"true\"\n   app:camera_flash=\"auto\"\n   app:camera_facing=\"back\"\n   app:camera_focus=\"continuous\"\n   app:camera_permissions=\"camera\"/&gt;\n</code></pre>\n\n<p>My activity looks like that:</p>\n\n<pre><code>class CameraActivity: AppCompatActivity() {\n\n    lateinit var camerakitview: CameraKitView\n\n    override fun onCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {\n        super.onCreate(savedInstanceState, persistentState)\n        setContentView(R.layout.activity_camera)\n        camerakitview = findViewById&lt;CameraKitView&gt;(R.id.camerakit)\n    }\n\n    override fun onStart() {\n        super.onStart()\n        camerakitview.onStart()\n    }\n\n    override fun onResume() {\n        super.onResume()\n        camerakitview.onResume()\n    }\n\n    override fun onPause() {\n        camerakitview.onPause()\n        super.onPause()\n    }\n\n    override fun onStop() {\n        camerakitview.onStop()\n        super.onStop()\n\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n        camerakitview.onRequestPermissionsResult(requestCode, permissions, grantResults)\n    }\n}\n</code></pre>\n\n<p>The error looks like the following:</p>\n\n<blockquote>\n  <p>UninitializedPropertyAccessException: lateinit property camerakitview has not been initialized</p>\n</blockquote>\n\n<p>What did I overlook?</p>\n\n<p>EDIT: I tried the same code in a Java Class instead of Kotlin. That way the camera works. </p>\n"}, {"tags": ["android", "kotlin", "android-jetpack"], "comments": [{"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "edited": false, "score": 0, "creation_date": 1560583144, "post_id": 54007051, "comment_id": 99791827, "body": "Can you put your solution? Even I am stuck on the same issue."}, {"owner": {"reputation": 440, "user_id": 7679183, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZKFom.jpg?s=128&g=1", "display_name": "Ghimpu Lucian Eduard", "link": "https://stackoverflow.com/users/7679183/ghimpu-lucian-eduard"}, "reply_to_user": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "edited": false, "score": 1, "creation_date": 1560617272, "post_id": 54007051, "comment_id": 99799448, "body": "What I ended up doing was using a single nav host fragment in the main activity with a bottom navigation bar. Then I would hide the bar based on the fragment I was in. To decide where to navigate when the app is launched, I used a simple if statement. Check this: <a href=\"https://stackoverflow.com/questions/51929290/is-it-possible-to-set-startdestination-conditionally-using-android-navigation-ar\">this</a>, it&#39;s somehow related. Here&#39;s a <a href=\"https://github.com/GhimpuLucianEduard/Mobile/tree/master/App\" rel=\"nofollow noreferrer\">link</a> to the project, it&#39;s a school project so you might find other small issues"}, {"owner": {"reputation": 858, "user_id": 7045328, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hEpUUIPIkE4/AAAAAAAAAAI/AAAAAAAAABo/ZrjWIgZqeAY/photo.jpg?sz=128", "display_name": "Insane Developer", "link": "https://stackoverflow.com/users/7045328/insane-developer"}, "edited": false, "score": 0, "creation_date": 1562845347, "post_id": 54007051, "comment_id": 100511298, "body": "When you have such cases, where you have NavHost inside another, like bottom navigation, and on click of any item inside bottomnvaigation item, show a new screen without bottom nav, create  new graph with top level destinations, and use activity with nav controller to set the destinations. if it is not clear, let me know, i will share a detailed answer as comment."}], "answers": [{"comments": [{"owner": {"reputation": 440, "user_id": 7679183, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZKFom.jpg?s=128&g=1", "display_name": "Ghimpu Lucian Eduard", "link": "https://stackoverflow.com/users/7679183/ghimpu-lucian-eduard"}, "edited": false, "score": 0, "creation_date": 1546513284, "post_id": 54007348, "comment_id": 94877896, "body": "In addition to this, I would like to link <a href=\"https://stackoverflow.com/questions/51929290/is-it-possible-to-set-startdestination-conditionally-using-android-navigation-ar\">this</a>, In particular, Danish Khan&#39;s answer"}], "tags": [], "owner": {"reputation": 96, "user_id": 6472393, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m1L-DkD6OzA/AAAAAAAAAAI/AAAAAAAAABA/glSbXG_ylZo/photo.jpg?sz=128", "display_name": "Aaron Dishman", "link": "https://stackoverflow.com/users/6472393/aaron-dishman"}, "is_accepted": true, "score": 1, "last_activity_date": 1546436124, "creation_date": 1546436124, "answer_id": 54007348, "question_id": 54007051, "link": "https://stackoverflow.com/questions/54007051/android-jetpack-navigation-host-fragment-inside-another-host-fragment/54007348#54007348", "title": "Android Jetpack navigation, host fragment inside another host fragment", "body": "<p>Imho, it sounds fine to me to have your single activity be the source of truth as to which fragment shows and hides the navigation bar. </p>\n"}], "owner": {"reputation": 440, "user_id": 7679183, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZKFom.jpg?s=128&g=1", "display_name": "Ghimpu Lucian Eduard", "link": "https://stackoverflow.com/users/7679183/ghimpu-lucian-eduard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5267, "favorite_count": 5, "accepted_answer_id": 54007348, "answer_count": 1, "score": 12, "last_activity_date": 1590154094, "creation_date": 1546434921, "question_id": 54007051, "link": "https://stackoverflow.com/questions/54007051/android-jetpack-navigation-host-fragment-inside-another-host-fragment", "title": "Android Jetpack navigation, host fragment inside another host fragment", "body": "<p>I'm trying to achieve a simple design. One activity with a host fragment.</p>\n\n<p>The thing is, one of the destinations has a bottom navigation bar.</p>\n\n<p>Here's a paint sketch \n<a href=\"https://i.stack.imgur.com/VyZSl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VyZSl.png\" alt=\"enter image description here\"></a></p>\n\n<p>After a little bit of research, I discovered that the best practice is to have a single Activity with a host fragment. </p>\n\n<p>In my particular case, the bottom navigation bar should not be visible in the login and register fragments and just hiding it doesn't seem right to me.</p>\n\n<p>I managed to create an activity with a bottom navigation bar connecting <strong>main fragment</strong> to <strong>frag 1</strong>, <strong>frag 2</strong> or <strong>frag 3</strong>, but now I need to add the <strong>login fragment</strong> and <strong>register fragment</strong> and I'm not sure how to handle the navigation.</p>\n\n<p>Here's the code for the app without the authentication fragments.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".Presentation.MainActivity\"&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        app:title=\"Glucose Entries\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"?colorPrimary\"\n        android:theme=\"@style/ToolbarTheme\"/&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/bottom_nav\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        app:menu=\"@menu/bottom_navigation_bar\"/&gt;\n\n    &lt;fragment\n        android:id=\"@+id/nav_host_fragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:layout_weight=\"1\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        app:navGraph=\"@navigation/mobile_navigation\"\n        app:defaultNavHost=\"true\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Also:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var navController: NavController\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n\n        navController = Navigation.findNavController(this, R.id.nav_host_fragment)\n        bottom_nav.setupWithNavController(navController)\n        NavigationUI.setupActionBarWithNavController(this, navController)\n    }\n\n    // stuff\n}\n</code></pre>\n\n<p>And the navigation file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/mobile_navigation\"\n    app:startDestination=\"@id/mainListFragment\"&gt;\n\n    &lt;!--frag 1 --&gt;\n    &lt;fragment\n        android:id=\"@+id/mainListFragment\"\n        android:name=\"com.gluco.Presentation.MainList.MainListFragment\"\n        android:label=\"Glucose Entries\"\n        tools:layout=\"@layout/main_list_fragment\"&gt;\n    &lt;/fragment&gt;\n\n    &lt;!--frag 2 --&gt;\n    &lt;fragment\n        android:id=\"@+id/statisticsFragment\"\n        android:name=\"com.gluco.Presentation.Statistics.StatisticsFragment\"\n        android:label=\"statistics_fragment\"\n        tools:layout=\"@layout/statistics_fragment\" /&gt;\n\n    &lt;!--frag 3 --&gt;\n    &lt;fragment\n        android:id=\"@+id/settingsFragment\"\n        android:name=\"com.gluco.Presentation.Settings.SettingsFragment\"\n        android:label=\"SettingsFragment\" /&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n\n<p>Should I just hide the navigation bar on fragments where is not supposed to be?</p>\n\n<p>Also, I'm thinking another solution could be to not use the automatic navigation provided from the bottom navigation bar and create my own actions to navigate from <strong>main fragment</strong> to <strong>frag 1</strong>, <strong>frag 2</strong> or <strong>frag 3</strong></p>\n"}, {"tags": ["android", "kotlin", "sharedpreferences", "uri"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1546434716, "post_id": 54006675, "comment_id": 94850492, "body": "What does &quot;it doesn&#39;t work&quot; mean? What is the behavior? If &quot;it doesn&#39;t work&quot; means &quot;I cannot load the image&quot;, bear in mind that you may have no rights to view that image from anything other than the activity instance that received the <code>Uri</code> in <code>onActivityResult()</code>. For something like a profile, you should make a copy of the image in your own app&#39;s portion of <a href=\"https://commonsware.com/blog/2017/11/13/storage-situation-internal-storage.html\" rel=\"nofollow noreferrer\">internal storage</a> and use that local copy going forward."}, {"owner": {"reputation": 24, "user_id": 10857778, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-j2mudJAOTJg/AAAAAAAAAAI/AAAAAAAAFCk/kYMSgzRzUjk/photo.jpg?sz=128", "display_name": "Arno van Liere", "link": "https://stackoverflow.com/users/10857778/arno-van-liere"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1546435009, "post_id": 54006675, "comment_id": 94850630, "body": "it doesn&#39;t work does mean that the image doesn&#39;t load. The image simply doesn&#39;t show up. I retrieve the image-URI in the same activity as <code>onActivityResult()</code>."}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1546435866, "post_id": 54006675, "comment_id": 94851044, "body": "Have you inspected <code>profileImgUri</code>? Is it valid?"}, {"owner": {"reputation": 24, "user_id": 10857778, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-j2mudJAOTJg/AAAAAAAAAAI/AAAAAAAAFCk/kYMSgzRzUjk/photo.jpg?sz=128", "display_name": "Arno van Liere", "link": "https://stackoverflow.com/users/10857778/arno-van-liere"}, "edited": false, "score": 0, "creation_date": 1546435914, "post_id": 54006675, "comment_id": 94851068, "body": "How could I do that?"}], "owner": {"reputation": 24, "user_id": 10857778, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-j2mudJAOTJg/AAAAAAAAAAI/AAAAAAAAFCk/kYMSgzRzUjk/photo.jpg?sz=128", "display_name": "Arno van Liere", "link": "https://stackoverflow.com/users/10857778/arno-van-liere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 348, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546438336, "creation_date": 1546433276, "last_edit_date": 1546438336, "question_id": 54006675, "link": "https://stackoverflow.com/questions/54006675/uri-parse-kotlin-for-image-seems-to-be-not-working", "title": "URI parse Kotlin for image seems to be not working", "body": "<p>I'm making an app with Android Studio and I managed to let the user open the gallery and get the URI from the picture. The URI is then used to set the background in the XML like this:</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    val uri = data?.data\n    settings_profile_image.setImageURI(uri)\n    profile_img_drawer.setImageURI(uri)\n</code></pre>\n\n<p>But I want to save the image so if the user closes the app and re-opens it, the picture is showed again. So I've added this to the onActivityResult:</p>\n\n<pre><code>Prefs(this).changeProfileUri(uri = uri.toString())\n</code></pre>\n\n<p>And in <strong>Prefs.kt</strong>:</p>\n\n<pre><code>fun changeProfileUri(uri: String) {\n    editor.putString(\"profileImgUri\", uri)\n    editor.apply()\n}\n\nfun changeProfileUri(uri: String) {\n    editor.putString(\"profileImgUri\", uri)\n    editor.apply()\n}\n</code></pre>\n\n<p>And when I want to retrieve the image: </p>\n\n<pre><code>val profileImgUriSaved = Prefs(this).getProfileImgUri()\nval profileImgUri = Uri.parse(profileImgUriSaved)\nsettings_profile_image.setImageURI(profileImgUri)\n</code></pre>\n\n<p>But it doesn't work. So does anyone has an idea why?</p>\n"}, {"tags": ["unit-testing", "kotlin", "kotlin-native", "kotlin-multiplatform"], "answers": [{"comments": [{"owner": {"reputation": 6697, "user_id": 1368721, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ty2vb.png?s=128&g=1", "display_name": "Diego Palomar", "link": "https://stackoverflow.com/users/1368721/diego-palomar"}, "edited": false, "score": 0, "creation_date": 1546543207, "post_id": 54016875, "comment_id": 94893349, "body": "Awesome, @IlyaMatveev this is what I was looking for. Thanks! :D"}, {"owner": {"reputation": 1068, "user_id": 1769428, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qxxD1.jpg?s=128&g=1", "display_name": "mkkrolik", "link": "https://stackoverflow.com/users/1769428/mkkrolik"}, "edited": false, "score": 0, "creation_date": 1552598145, "post_id": 54016875, "comment_id": 97083490, "body": "Does it open ios simulator and run a tests? In my case it doesn&#39;t open ios simulator as it do when i run a tests in xcode project."}, {"owner": {"reputation": 6697, "user_id": 1368721, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ty2vb.png?s=128&g=1", "display_name": "Diego Palomar", "link": "https://stackoverflow.com/users/1368721/diego-palomar"}, "reply_to_user": {"reputation": 1068, "user_id": 1769428, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qxxD1.jpg?s=128&g=1", "display_name": "mkkrolik", "link": "https://stackoverflow.com/users/1769428/mkkrolik"}, "edited": false, "score": 0, "creation_date": 1552644814, "post_id": 54016875, "comment_id": 97098305, "body": "@mkkrolik, no, it does not open the device simulator but tests are executed in the simulator&#39;s process."}], "tags": [], "owner": {"reputation": 161, "user_id": 9422800, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ilya Matveev", "link": "https://stackoverflow.com/users/9422800/ilya-matveev"}, "is_accepted": true, "score": 4, "last_activity_date": 1552626588, "last_edit_date": 1552626588, "creation_date": 1546493920, "answer_id": 54016875, "question_id": 54006533, "link": "https://stackoverflow.com/questions/54006533/kotlin-multiplatform-how-to-execute-ios-unit-tests/54016875#54016875", "title": "Kotlin-multiplatform: How to execute iOS unit tests", "body": "<p>Currently the <code>kotlin-multiplatform</code> plugin supports only running tests for host platforms (e.g. macOS or Windows). But you can manually add a task for executing iOS tests on a simualtor:</p>\n\n<pre><code>task iosTest {\n    def device = project.findProperty(\"iosDevice\")?.toString() ?: \"iPhone 8\"\n    dependsOn 'linkTestDebugExecutableIos'\n    group = JavaBasePlugin.VERIFICATION_GROUP\n    description = \"Runs tests for target 'ios' on an iOS simulator\"\n\n    doLast {\n        def binary = kotlin.targets.ios.binaries.getExecutable('test', 'DEBUG').outputFile\n        exec {\n            commandLine 'xcrun', 'simctl', 'spawn', device, binary.absolutePath\n        }\n    }\n}\n</code></pre>\n\n<p>See the full build script <a href=\"https://github.com/JetBrains/kotlin-mpp-example/blob/0ace750ffd2ccb8dd4adf40f26b4d6ecc462c06a/greeting/build.gradle#L87\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6055268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5ff6b21e4691a535a596f2b305ab31?s=128&d=identicon&r=PG&f=1", "display_name": "r_mosimann", "link": "https://stackoverflow.com/users/6055268/r-mosimann"}, "is_accepted": false, "score": 2, "last_activity_date": 1564581198, "creation_date": 1564581198, "answer_id": 57292446, "question_id": 54006533, "link": "https://stackoverflow.com/questions/54006533/kotlin-multiplatform-how-to-execute-ios-unit-tests/57292446#57292446", "title": "Kotlin-multiplatform: How to execute iOS unit tests", "body": "<p>The answer from @IlyaMatveev works perfect for me. But I had to updates two lines  using Kotlin Version 1.3.41:</p>\n\n<p><code>dependsOn 'linkTestDebugExecutableIos'</code>\nis now\n<code>dependsOn 'linkDebugTestIos'</code></p>\n\n<p><code>def binary = kotlin.targets.ios.binaries.getExecutable('test', 'DEBUG').outputFile</code>\nis now <code>def binary = kotlin.targets.ios.binaries.getTest(\"DEBUG\").outputFile</code></p>\n"}, {"comments": [{"owner": {"reputation": 970, "user_id": 7651178, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MkuThciXtPw/AAAAAAAAAAI/AAAAAAAAADM/Hibs-MeakZM/photo.jpg?sz=128", "display_name": "Ken Zira", "link": "https://stackoverflow.com/users/7651178/ken-zira"}, "edited": false, "score": 0, "creation_date": 1572669908, "post_id": 58624464, "comment_id": 103639211, "body": "this should be marked as answer for latest version of kotlin and xcode"}], "tags": [], "owner": {"reputation": 484, "user_id": 8107664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fluUj.jpg?s=128&g=1", "display_name": "romainbsl", "link": "https://stackoverflow.com/users/8107664/romainbsl"}, "is_accepted": false, "score": 3, "last_activity_date": 1572435197, "creation_date": 1572435197, "answer_id": 58624464, "question_id": 54006533, "link": "https://stackoverflow.com/questions/54006533/kotlin-multiplatform-how-to-execute-ios-unit-tests/58624464#58624464", "title": "Kotlin-multiplatform: How to execute iOS unit tests", "body": "<p>As I ran into some issues, I'll post my solution here.</p>\n\n<p>With Kotlin <code>1.3.50</code> and XCode <code>11</code> I had to change my command line arguments:</p>\n\n<pre><code>val iosTest: Task by tasks.creating {\n    val device = project.findProperty(\"iosDevice\")?.toString() ?: \"iPhone 8\"\n    val testExecutable = kotlin.targets.getByName&lt;KotlinNativeTarget&gt;(\"iosX64\").binaries.getTest(\"DEBUG\")\n    dependsOn(testExecutable.linkTaskName)\n    group = JavaBasePlugin.VERIFICATION_GROUP\n    description = \"Runs tests for target 'ios' on an iOS simulator\"\n\n    doLast {\n        exec {\n            println(testExecutable.outputFile.absolutePath)\n            commandLine( \"xcrun\", \"simctl\", \"spawn\", \"--standalone\", device, testExecutable.outputFile.absolutePath)\n        }\n    }\n}\n\ntasks.getByName(\"allTests\").dependsOn(iosTest)\n</code></pre>\n"}], "owner": {"reputation": 6697, "user_id": 1368721, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ty2vb.png?s=128&g=1", "display_name": "Diego Palomar", "link": "https://stackoverflow.com/users/1368721/diego-palomar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1769, "favorite_count": 2, "accepted_answer_id": 54016875, "answer_count": 3, "score": 6, "last_activity_date": 1572435197, "creation_date": 1546432614, "question_id": 54006533, "link": "https://stackoverflow.com/questions/54006533/kotlin-multiplatform-how-to-execute-ios-unit-tests", "title": "Kotlin-multiplatform: How to execute iOS unit tests", "body": "<p>I'm working on a Kotlin-multiplatform library for Android and iOS. I want to write some platform-specific unit test. The tests run as expected for the shared code and Android but not for iOS.</p>\n\n<p>Below the <code>build.gradle</code> file of the shared code module.</p>\n\n<pre><code>apply plugin: \"kotlin-multiplatform\"\n\nkotlin {\n    targets {\n        final def iOSTarget = System.getenv('SDK_NAME')?.startsWith(\"iphoneos\") \\\n                              ? presets.iosArm64 : presets.iosX64\n\n        fromPreset(iOSTarget, 'iOS') {\n            compilations.main.outputKinds('FRAMEWORK')\n        }\n\n        fromPreset(presets.jvm, 'android')\n    }\n\n    sourceSets {\n        commonMain.dependencies {\n            implementation \"org.jetbrains.kotlin:kotlin-stdlib-common\"\n        }\n        commonTest.dependencies {\n            implementation 'org.jetbrains.kotlin:kotlin-test'\n            implementation 'org.jetbrains.kotlin:kotlin-test-junit'\n        }\n        androidMain.dependencies {\n            implementation \"org.jetbrains.kotlin:kotlin-stdlib\"\n        }\n        androidTest {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-test'\n                implementation 'org.jetbrains.kotlin:kotlin-test-junit'\n            }\n        }\n        iOSMain.dependencies {\n        }\n        iOSTest.dependencies {\n            implementation 'org.jetbrains.kotlin:kotlin-test'\n            implementation 'org.jetbrains.kotlin:kotlin-test-junit'\n        }\n    }\n}\n\n// workaround for https://youtrack.jetbrains.com/issue/KT-27170\nconfigurations {\n    compileClasspath\n}\n\ntask packForXCode(type: Sync) {\n    final File frameworkDir = new File(buildDir, \"xcode-frameworks\")\n    final String mode = project.findProperty(\"XCODE_CONFIGURATION\")?.toUpperCase() ?: 'DEBUG'\n\n    inputs.property \"mode\", mode\n    dependsOn kotlin.targets.iOS.compilations.main.linkTaskName(\"FRAMEWORK\", mode)\n\n    from { kotlin.targets.iOS.compilations.main.getBinary(\"FRAMEWORK\", mode).parentFile }\n    into frameworkDir\n\n    doLast {\n        new File(frameworkDir, 'gradlew').with {\n            text = \"#!/bin/bash\\nexport 'JAVA_HOME=${System.getProperty(\"java.home\")}'\\ncd '${rootProject.rootDir}'\\n./gradlew \\$@\\n\"\n            setExecutable(true)\n        }\n    }\n}\n\ntasks.build.dependsOn packForXCode\n</code></pre>\n\n<p>and the structure of the <code>SharedCode</code> module is:</p>\n\n<pre><code>\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 commonMain\n    \u2502   \u2514\u2500\u2500 kotlin\n    \u251c\u2500\u2500 commonTest\n    \u2502   \u2514\u2500\u2500 kotlin\n    \u251c\u2500\u2500 androidMain\n    \u2502   \u2514\u2500\u2500 kotlin\n    \u251c\u2500\u2500 androidTest\n    \u2502   \u2514\u2500\u2500 kotlin\n    \u251c\u2500\u2500 iOSMain\n    \u2502   \u2514\u2500\u2500 kotlin\n    \u2514\u2500\u2500 iOSTest\n        \u2514\u2500\u2500 kotlin\n</code></pre>\n\n<p>The tests added in the <code>androidTest</code> and <code>commonTest</code> folders do run as expected but the ones added in the <code>iOSTest</code> do not run.</p>\n\n<p>However, if I replace the the line <code>fromPreset(iOSTarget, 'iOS') { compilations.main.outputKinds('FRAMEWORK') }</code> for <code>fromPreset(presets.macosX64, 'macos')</code> and update the directory names accordly, the tests in the <code>macosTest</code> folder do run as expected.</p>\n\n<p>Why it is not possible to run iOS test when building iOS frameworks? Any idea about what I'm doing wrong or how I can make this works? :)</p>\n"}, {"tags": ["android", "android-intent", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1546438469, "post_id": 54006440, "comment_id": 94852307, "body": "What is the implementation of <code>List&lt;TradingPosition&gt;</code>? Is this an <code>ArrayList</code> or something else? Android already knows how to deal with certain types when you add them as &quot;extras&quot;. It is likely that the method <code>getSerializableExtra()</code> returns <code>null</code> because the <code>List</code> is being added as an &quot;extra&quot; with a different type than the one you expect."}, {"owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "edited": false, "score": 0, "creation_date": 1546450406, "post_id": 54006440, "comment_id": 94858108, "body": "Is <code>TradingPositionDetailsActivity</code> marked as <code>exported=&quot;true&quot;</code> in the manifest? If so, it&#39;s possible that the <code>Activity</code> was launched by some other process, without providing the required <code>Intent</code> extras as you do in your code."}, {"owner": {"reputation": 1749, "user_id": 4365688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/poWWs.jpg?s=128&g=1", "display_name": "Nokuap", "link": "https://stackoverflow.com/users/4365688/nokuap"}, "reply_to_user": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1546499932, "post_id": 54006440, "comment_id": 94872063, "body": "@David Wasser The list come from 3 places and it&#39;s always <code>ArrayList</code>, and i think if the list wouldn&#39;t be <code>Serializable</code> I get exception in <code>startActivity</code>, isn&#39;t it?  @kcoppock There is no such thing as <code>exported=&#39;true</code> and i think the default is <code>false</code>."}, {"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1546518429, "post_id": 54006440, "comment_id": 94880512, "body": "You should add debug logging. Before you call <code>startActivity()</code>, examine all the extras in the <code>Intent</code> and log them. Do the same in <code>onCreate()</code> of the target <code>Activity</code>. Post the results in your question."}, {"owner": {"reputation": 1749, "user_id": 4365688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/poWWs.jpg?s=128&g=1", "display_name": "Nokuap", "link": "https://stackoverflow.com/users/4365688/nokuap"}, "reply_to_user": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1546587899, "post_id": 54006440, "comment_id": 94905115, "body": "@DavidWasser But how it can help? If there was nulls before startActivity() it would crash because it&#39;s Kotlin"}, {"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1546605289, "post_id": 54006440, "comment_id": 94913199, "body": "No, you don&#39;t understand. I assume that you are not adding a <code>null</code> &quot;extra&quot; to the <code>Intent</code>. The problem is that you are calling <code>getSerializableExtra()</code> on the <code>Intent</code>. If the extra you are looking for is not there, or it was not stored as a <code>Serializable</code>, or the deserialization fails, this method will return <code>null</code>. And that is probably what is happening."}, {"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1546605484, "post_id": 54006440, "comment_id": 94913295, "body": "For example, if you call <code>putBooleanExtra(&quot;foo&quot;, true) and then call </code>getSerializableExtra(&quot;foo&quot;)` this will return <code>null</code> because the extra was not stored as a <code>Serializable</code>, it was stored as a <code>Boolean</code>."}, {"owner": {"reputation": 1749, "user_id": 4365688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/poWWs.jpg?s=128&g=1", "display_name": "Nokuap", "link": "https://stackoverflow.com/users/4365688/nokuap"}, "reply_to_user": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1546606958, "post_id": 54006440, "comment_id": 94913986, "body": "@DavidWasser I don&#39;t understand your example because i will always call <code>Intent putExtra(String name, Serializable value) </code>, so the only thing i can imagine is object wasn&#39;t serialized while activity cleared by Android and after restoration it have null, but i thought Android somehow guarantee this won&#39;t happen."}, {"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1546610761, "post_id": 54006440, "comment_id": 94915864, "body": "Did you add the debug logging like I suggested?"}, {"owner": {"reputation": 1749, "user_id": 4365688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/poWWs.jpg?s=128&g=1", "display_name": "Nokuap", "link": "https://stackoverflow.com/users/4365688/nokuap"}, "edited": false, "score": 0, "creation_date": 1546935392, "post_id": 54006440, "comment_id": 95007777, "body": "Not yet, this problem occurred on user&#39;s device and we didn&#39;t upload new release to google play"}], "owner": {"reputation": 1749, "user_id": 4365688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/poWWs.jpg?s=128&g=1", "display_name": "Nokuap", "link": "https://stackoverflow.com/users/4365688/nokuap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546436078, "creation_date": 1546432207, "question_id": 54006440, "link": "https://stackoverflow.com/questions/54006440/activity-intent-serializableextra-became-null-any-ideas", "title": "Activity Intent SerializableExtra became null, any ideas?", "body": "<p>First of all this crash reproduced <strong>once</strong> on <strong>user</strong> device, so it's not misspelling or another ease to find mistake.\nSo my code looks something like this:</p>\n\n<pre><code>class TradingPositionDetailsActivity : BaseToolbarActivity() {\n...\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    ...\n    tradingPositions =\n        intent.getSerializableExtra(TRADING_POSITIONS) as List&lt;TradingPosition&gt;\n    ...\n}\n\n...\n\ncompanion object {\n\n    private const val SELECTED_POSITION = \"selected_position\"\n    private const val TRADING_POSITIONS = \"trading_positions\"\n\n    fun startActivity(\n        activity: Activity,\n        data: List&lt;TradingPosition&gt;,\n        tradingPosition: TradingPosition\n    ) {\n        val intent = Intent(activity, TradingPositionDetailsActivity::class.java)\n        intent.putExtra(SELECTED_POSITION, tradingPosition)\n        intent.putExtra(TRADING_POSITIONS, data as Serializable)\n\n        val activityOptionsCompat = ActivityOptionsCompat.makeSceneTransitionAnimation(activity)\n        activity.startActivity(intent, activityOptionsCompat.toBundle())\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>So <strong>Kotlin ensures we pass non-null value</strong> at startActivity method, but when I try to get extra from intent it throw</p>\n\n<pre><code>Caused by kotlin.TypeCastException: null cannot be cast to non-null type kotlin.collections.List&lt;com.myapp.business.models.TradingPosition&gt;\n   at com.myapp.activities.TradingPositionDetailsActivity.onCreate(SourceFile:98)\n   at android.app.Activity.performCreate(Activity.java:7144)\n   at android.app.Activity.performCreate(Activity.java:7135)\n   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\n   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2894)\n   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3049)\n   at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n   at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n   at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)\n   at android.os.Handler.dispatchMessage(Handler.java:106)\n   at android.os.Looper.loop(Looper.java:193)\n   at android.app.ActivityThread.main(ActivityThread.java:6680)\n   at java.lang.reflect.Method.invoke(Method.java)\n   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2571, "user_id": 1533670, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/3zPUY.jpg?s=128&g=1", "display_name": "Yohanes AI", "link": "https://stackoverflow.com/users/1533670/yohanes-ai"}, "edited": false, "score": 0, "creation_date": 1546431976, "post_id": 54006205, "comment_id": 94849150, "body": "What difference with <code>country1TextView.setTypeface(Typeface.createFromAsset(contex&zwnj;&#8203;t?.assets, &quot;open-sans-extrabold.ttf&quot;))</code> ?"}], "tags": [], "owner": {"reputation": 8266, "user_id": 5305430, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hxqD2.jpg?s=128&g=1", "display_name": "sushildlh", "link": "https://stackoverflow.com/users/5305430/sushildlh"}, "is_accepted": false, "score": 0, "last_activity_date": 1546434890, "last_edit_date": 1546434890, "creation_date": 1546431312, "answer_id": 54006205, "question_id": 54006135, "link": "https://stackoverflow.com/questions/54006135/kotlin-accessing-asset-from-fragment-to-set-typeface/54006205#54006205", "title": "Kotlin accessing asset from Fragment to set typeface", "body": "<p>Try this</p>\n\n<pre><code> country2TextView?.typeface = Typeface.createFromAsset(context?.assets, \"open-sans-extrabold.ttf\")\n</code></pre>\n\n<p>instead of this </p>\n\n<pre><code>country2TextView.setTypeface(Typeface.createFromAsset(getAssets(), \"open-sans-extrabold.ttf\"));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 731, "user_id": 9130759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Jm9w.png?s=128&g=1", "display_name": "Mini Chip", "link": "https://stackoverflow.com/users/9130759/mini-chip"}, "is_accepted": false, "score": 0, "last_activity_date": 1546431483, "creation_date": 1546431483, "answer_id": 54006244, "question_id": 54006135, "link": "https://stackoverflow.com/questions/54006135/kotlin-accessing-asset-from-fragment-to-set-typeface/54006244#54006244", "title": "Kotlin accessing asset from Fragment to set typeface", "body": "<pre><code>    In Fragment always try to give context with respect to view\n</code></pre>\n\n<p><code>\ncountry1TextView.setTypeface(Typeface.createFromAsset(country1TextView.context.assets, \"open-sans-extrabold.ttf\")</code>)</p>\n\n<p>or </p>\n\n<pre><code>        country1TextView.typeface = Typeface.createFromAsset(country1TextView.context.assets, \"open-sans-extrabold.ttf\"))\n</code></pre>\n\n<p>`</p>\n"}, {"comments": [{"owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "edited": false, "score": 1, "creation_date": 1546450491, "post_id": 54007216, "comment_id": 94858141, "body": "Note that <code>requireContext()</code> as a method is already defined on <code>Fragment</code> so there&#39;s no need to define the extension yourself."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "edited": false, "score": 0, "creation_date": 1546455722, "post_id": 54007216, "comment_id": 94860207, "body": "Ah. I always define a <code>requireActivity</code> and always mix them up. Thanks."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 1, "last_activity_date": 1546455757, "last_edit_date": 1546455757, "creation_date": 1546435610, "answer_id": 54007216, "question_id": 54006135, "link": "https://stackoverflow.com/questions/54006135/kotlin-accessing-asset-from-fragment-to-set-typeface/54007216#54007216", "title": "Kotlin accessing asset from Fragment to set typeface", "body": "<p>Two solutions </p>\n\n<p>1.)</p>\n\n<pre><code>country1TextView.setTypeface(\n    Typeface.createFromAsset(country1TextView.context.assets, \"open-sans-extrabold.ttf\")))\n</code></pre>\n\n<p>2.)</p>\n\n<pre><code>val Fragment.requireContext get() = context!! \n\ncountry1TextView.setTypeface(\n    Typeface.createFromAsset(requireContext.assets, \"open-sans-extrabold.ttf\")))\n</code></pre>\n\n<p>+1.) (technically same as 1.)</p>\n\n<pre><code>fun TextView.updateTypeface(typefaceName: String) {\n    setTypeface(Typeface.createFromAsset(context.assets, typefaceName)) \n} \n\ncountry1TextView.updateTypeface(\"open-sans-extrabold.ttf\")\n</code></pre>\n\n<p>Please note that <code>createTypeface</code> is NOT a free operation below Android 6.0, so you should create typeface once and then use that. </p>\n"}, {"tags": [], "owner": {"reputation": 725, "user_id": 9205277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DDrNg.jpg?s=128&g=1", "display_name": "Dimitri de Jesus", "link": "https://stackoverflow.com/users/9205277/dimitri-de-jesus"}, "is_accepted": false, "score": 1, "last_activity_date": 1596043580, "creation_date": 1596043580, "answer_id": 63159182, "question_id": 54006135, "link": "https://stackoverflow.com/questions/54006135/kotlin-accessing-asset-from-fragment-to-set-typeface/63159182#63159182", "title": "Kotlin accessing asset from Fragment to set typeface", "body": "<p>There is a new way to doing this:</p>\n<ol>\n<li>Put your_font.tff under <strong>app/src/main/res/font</strong></li>\n<li>Create Typefaces using:</li>\n</ol>\n<pre><code>    Typeface font = ResourcesCompat.getFont(requireContext(), R.font.your_font)\n    yourTextView.setTypeface(font)\n</code></pre>\n<ol start=\"3\">\n<li>And to access font from XML layouts with:</li>\n</ol>\n<pre><code>    android:fontFamily=&quot;@font/your_font&quot;\n</code></pre>\n"}], "owner": {"reputation": 2571, "user_id": 1533670, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/3zPUY.jpg?s=128&g=1", "display_name": "Yohanes AI", "link": "https://stackoverflow.com/users/1533670/yohanes-ai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 585, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1596043580, "creation_date": 1546431048, "question_id": 54006135, "link": "https://stackoverflow.com/questions/54006135/kotlin-accessing-asset-from-fragment-to-set-typeface", "title": "Kotlin accessing asset from Fragment to set typeface", "body": "<p>I'm trying to set typeface with custom font from my assets. In java is it simple as bellow </p>\n\n<pre><code>country2TextView.setTypeface(Typeface.createFromAsset(getAssets(), \"open-sans-extrabold.ttf\"));\n</code></pre>\n\n<p>I want to access <code>assets</code> from Fragment with this code bellow</p>\n\n<pre><code>country1TextView.setTypeface(Typeface.createFromAsset(context.assets, \"open-sans-extrabold.ttf\")`)\n</code></pre>\n\n<p>But I got compiler error\n<code>Only safe or non null assserted calls are allowed on a nullable receiver type of context</code></p>\n\n<p>How to access asset from fragment? Is it <code>good practice</code> if I just add safe call operator? or it is just workaround solution? What the best practice to access asset from fragment in Kotlin? </p>\n"}, {"tags": ["java", "android", "kotlin", "android-wifi", "wifimanager"], "comments": [{"owner": {"reputation": 938, "user_id": 7311269, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wPxgt.png?s=128&g=1", "display_name": "Nero", "link": "https://stackoverflow.com/users/7311269/nero"}, "edited": false, "score": 0, "creation_date": 1546429800, "post_id": 54005755, "comment_id": 94848232, "body": "Don&#39;t think there is a built in method to determine the number of devices connected to your hotspot. However, this might be helpful - <a href=\"https://github.com/nickrussler/Android-Wifi-Hotspot-Manager-Class\" rel=\"nofollow noreferrer\">Android Wifi Hotspot Manager</a>, let me know if that helps"}, {"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "reply_to_user": {"reputation": 938, "user_id": 7311269, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wPxgt.png?s=128&g=1", "display_name": "Nero", "link": "https://stackoverflow.com/users/7311269/nero"}, "edited": false, "score": 0, "creation_date": 1546430208, "post_id": 54005755, "comment_id": 94848393, "body": "@Nero Thanks, But I don&#39;t want to get numbers of connected device. I want to show a toast msg when a device connects to hotspot."}, {"owner": {"reputation": 938, "user_id": 7311269, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wPxgt.png?s=128&g=1", "display_name": "Nero", "link": "https://stackoverflow.com/users/7311269/nero"}, "edited": false, "score": 0, "creation_date": 1546430399, "post_id": 54005755, "comment_id": 94848475, "body": "but you might be able to use that around your logic? It might not be a future proof answer but you can run the method every 10 seconds or so to determine if the number of connected devices has increased. If it has, that means a new device has been connected. I am still searching for correct answer which is more robust."}, {"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "reply_to_user": {"reputation": 938, "user_id": 7311269, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wPxgt.png?s=128&g=1", "display_name": "Nero", "link": "https://stackoverflow.com/users/7311269/nero"}, "edited": false, "score": 0, "creation_date": 1546432715, "post_id": 54005755, "comment_id": 94849522, "body": "@Nero Thank for your help, but my project is in kotlin and the link you shared is in java."}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1546436525, "post_id": 54005755, "comment_id": 94851371, "body": "I&#39;m not sure what&#39;s wrong. Check permissions and try to expose the BroadcastReceiver inside the manifest (see <a href=\"https://stackoverflow.com/a/33983335/603270\">stackoverflow.com/a/33983335/603270</a>)"}], "owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 590, "favorite_count": 3, "answer_count": 0, "score": 4, "last_activity_date": 1546429499, "creation_date": 1546429499, "question_id": 54005755, "link": "https://stackoverflow.com/questions/54005755/how-to-get-wi-fi-hotspot-clients-connectivity-status-in-android", "title": "How to get Wi-Fi hotspot clients connectivity status in android?", "body": "<p>I have created a WI-FI Hotspot in my app and then I try to show a toast message when a device connects to my hotspot.</p>\n\n<p>I have tried this :</p>\n\n<pre><code>private var onClientConnected = object : BroadcastReceiver(){\n    override fun onReceive(context: Context?, intent: Intent?) {\n         Toast.makeText(applicationContext,\"Client Connected!\",Toast.LENGTH_LONG).show()\n    }\n}\n</code></pre>\n\n<p>and register it using this:</p>\n\n<pre><code>registerReceiver(onClientConnected, IntentFilter(\"android.net.wifi.WIFI_HOTSPOT_CLIENTS_CHANGED\"))\n</code></pre>\n\n<p>But at run time when a device connects to hotspot. I get no Toast message.\nIs there anything that I have missed or doing wrong?</p>\n"}, {"tags": ["kotlin", "kotlin-interop", "kotlin-native", "kotlin-multiplatform"], "answers": [{"comments": [{"owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "edited": false, "score": 0, "creation_date": 1546529723, "post_id": 54017020, "comment_id": 94887007, "body": "yes, that&#39;s cocoapods. There is nothing special in my project so I did not push it to github. It is just a default multiplatform project created by IDEA where I added firebase lib as described here: <a href=\"https://firebase.google.com/docs/ios/setup\" rel=\"nofollow noreferrer\">firebase.google.com/docs/ios/setup</a> If gradle plugin does not support cocoapods out of the box is it possible to do it manually ? For example by creating .def file and running cinterop tool ? BTW I&#39;ve been trying to do this as well and it did not work. My terminal does not recognize cinterop command."}, {"owner": {"reputation": 161, "user_id": 9422800, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ilya Matveev", "link": "https://stackoverflow.com/users/9422800/ilya-matveev"}, "reply_to_user": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "edited": false, "score": 0, "creation_date": 1546583621, "post_id": 54017020, "comment_id": 94903882, "body": "I guess yes, it can be done manualy but I cannot check it right now. I&#39;ll check it when it&#39;s possible and answer you."}], "tags": [], "owner": {"reputation": 161, "user_id": 9422800, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ilya Matveev", "link": "https://stackoverflow.com/users/9422800/ilya-matveev"}, "is_accepted": false, "score": 0, "last_activity_date": 1546494946, "creation_date": 1546494946, "answer_id": 54017020, "question_id": 54005467, "link": "https://stackoverflow.com/questions/54005467/kotlin-multiplatform-native-interoperability-with-objective-c-framework/54017020#54017020", "title": "Kotlin multiplatform/native interoperability with Objective-C framework", "body": "<p>It looks like you are going to use a cocoapods library. Currently the Gradle plugin has no support for cocapods out of the box. But may be a dependency on your library can be configured \"manully\". Could you please share a link to your project?</p>\n"}, {"comments": [{"owner": {"reputation": 170, "user_id": 4159909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-rVrKFrM8hWc/AAAAAAAAAAI/AAAAAAAAABE/zGUUmYLn-qo/photo.jpg?sz=128", "display_name": "Jo&#227;o Z&#227;o", "link": "https://stackoverflow.com/users/4159909/jo%c3%a3o-z%c3%a3o"}, "edited": false, "score": 1, "creation_date": 1553006747, "post_id": 54254105, "comment_id": 97220374, "body": "Consuming objectiv-c static methods directly from kotlin native is leading me to this error <b>Undefined symbols for architecture x86_64</b>.  Examples: <code>FIRAnalytics.logEventWithName(&quot;value&quot;, null)</code> or <code>FIRApp.configure()</code> or <code>FIRDatabase.database()</code>  Running the above examples from the iOS actual kotlin classes will fail with <b>Undefined symbols for architecture x86_64</b>  Have you faced this error? How can I call &quot;cinteroped&quot; objective-c static methods from kotlin?"}, {"owner": {"reputation": 11015, "user_id": 4583267, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DcEqh.jpg?s=128&g=1", "display_name": "Thomas Vos", "link": "https://stackoverflow.com/users/4583267/thomas-vos"}, "reply_to_user": {"reputation": 170, "user_id": 4159909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-rVrKFrM8hWc/AAAAAAAAAAI/AAAAAAAAABE/zGUUmYLn-qo/photo.jpg?sz=128", "display_name": "Jo&#227;o Z&#227;o", "link": "https://stackoverflow.com/users/4159909/jo%c3%a3o-z%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1553271524, "post_id": 54254105, "comment_id": 97336081, "body": "I&#39;m getting the same error as @Jo&#227;oZ&#227;o. Does anyone have a solution?"}, {"owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "reply_to_user": {"reputation": 170, "user_id": 4159909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-rVrKFrM8hWc/AAAAAAAAAAI/AAAAAAAAABE/zGUUmYLn-qo/photo.jpg?sz=128", "display_name": "Jo&#227;o Z&#227;o", "link": "https://stackoverflow.com/users/4159909/jo%c3%a3o-z%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1553600049, "post_id": 54254105, "comment_id": 97435822, "body": "@Jo&#227;oZ&#227;o did you add <code>FirebaseAnalytics</code> to your <code>.def</code> file, <code>includeDirs</code> and compiler/linker Opts ? In my example Database only is available..."}, {"owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "edited": false, "score": 0, "creation_date": 1553600096, "post_id": 54254105, "comment_id": 97435851, "body": "Firebase consists of many parts, you have to specify each one you want to use."}, {"owner": {"reputation": 170, "user_id": 4159909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-rVrKFrM8hWc/AAAAAAAAAAI/AAAAAAAAABE/zGUUmYLn-qo/photo.jpg?sz=128", "display_name": "Jo&#227;o Z&#227;o", "link": "https://stackoverflow.com/users/4159909/jo%c3%a3o-z%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1553608492, "post_id": 54254105, "comment_id": 97441549, "body": "That happens with <code>FIRDatabase.database()</code>.. I found that in the linkerOpts we need to pass the Path to the framework through the <code>-F</code> option(like you are doing) and we also have to pass the framework file itself through <code>-framework</code> option Example with def file:  <code>language = Objective-C</code>  <code>headers = FirebaseCore.h FirebaseDatabase.h</code>  <code>linkerOpts = &#47;Applications&#47;Xcode.app&#47;Contents&#47;Developer&#47;Toolchains&#47;XcodeD&zwnj;&#8203;efault.xctoolchain&#47;u&zwnj;&#8203;sr&#47;lib&#47;clang&#47;10.0.0&#47;&zwnj;&#8203;lib&#47;darwin&#47;libclang_&zwnj;&#8203;rt.osx.a -F ${fullpath-to-frameworks-dir} -framework FirebaseDatabase</code>  Sorry for the bad format."}, {"owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "reply_to_user": {"reputation": 170, "user_id": 4159909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-rVrKFrM8hWc/AAAAAAAAAAI/AAAAAAAAABE/zGUUmYLn-qo/photo.jpg?sz=128", "display_name": "Jo&#227;o Z&#227;o", "link": "https://stackoverflow.com/users/4159909/jo%c3%a3o-z%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1553779545, "post_id": 54254105, "comment_id": 97517731, "body": "@Jo&#227;oZ&#227;o you probably made some mistake in gradle file but done it right in <code>.def</code> file. So that&#39;s why it works. As Nikolay Igotti mentioned in another my question <code>Linker options from .def and Gradle pluginare concatenated essentially.</code>  see last comment <a href=\"https://stackoverflow.com/questions/54047711/kotlin-native-interop-linker-could-not-find-framework?noredirect=1#comment97505184_54047711\" title=\"kotlin native interop linker could not find framework\">stackoverflow.com/questions/54047711/&hellip;</a>"}, {"owner": {"reputation": 170, "user_id": 4159909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-rVrKFrM8hWc/AAAAAAAAAAI/AAAAAAAAABE/zGUUmYLn-qo/photo.jpg?sz=128", "display_name": "Jo&#227;o Z&#227;o", "link": "https://stackoverflow.com/users/4159909/jo%c3%a3o-z%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1553781178, "post_id": 54254105, "comment_id": 97518921, "body": "That is correct, I know that. I just gave the def file example since it is less verbose than the equivalent in the gradle file."}, {"owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "edited": false, "score": 0, "creation_date": 1553787600, "post_id": 54254105, "comment_id": 97523869, "body": "I see. In fact gradle file might be less verbose as you can use variables there."}, {"owner": {"reputation": 170, "user_id": 4159909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-rVrKFrM8hWc/AAAAAAAAAAI/AAAAAAAAABE/zGUUmYLn-qo/photo.jpg?sz=128", "display_name": "Jo&#227;o Z&#227;o", "link": "https://stackoverflow.com/users/4159909/jo%c3%a3o-z%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1553855539, "post_id": 54254105, "comment_id": 97549762, "body": "Ok I didn&#39;t want to mean verbose, I was actually referring to indentation and how it seemed to be easier to represent the .def file instead of the gradle equivalent here in comments. Anyway this is pointless to the question itself :) and BTW thanks for your answer as it was a really nice starting point for me."}, {"owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "edited": false, "score": 0, "creation_date": 1553887154, "post_id": 54254105, "comment_id": 97567532, "body": "You are Wellcome"}, {"owner": {"reputation": 188, "user_id": 2064420, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002690272834/picture?type=large", "display_name": "Olexandr  Stepanov", "link": "https://stackoverflow.com/users/2064420/olexandr-stepanov"}, "edited": false, "score": 0, "creation_date": 1556120661, "post_id": 54254105, "comment_id": 98332394, "body": "Hello @oleg.semen. Could you, please, share the sample project with Firebase connected to Kotlin Native from CocoaPods? I have tried the project from <a href=\"https://github.com/RubyLichtenstein/Kotlin-Multiplatform-Firebase\" rel=\"nofollow noreferrer\">github.com/RubyLichtenstein/Kotlin-Multiplatform-Firebase</a>, but linking fails with an error: <i>ld: framework not found FirebaseFirestore</i>. I have already tried different combinations of placing linkerOpts in .def file and in build.gradle, but nothing works for me. Perhaps sample of build.gradle and .def file which has worked for you would be enough. Thank you in advance."}, {"owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "reply_to_user": {"reputation": 188, "user_id": 2064420, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002690272834/picture?type=large", "display_name": "Olexandr  Stepanov", "link": "https://stackoverflow.com/users/2064420/olexandr-stepanov"}, "edited": false, "score": 0, "creation_date": 1556307101, "post_id": 54254105, "comment_id": 98407598, "body": "hi @OlexandrStepanov, it&#39;s dangerous to share firebase token, so here is my project but you have to register a project in firebase, download json and plist files and add them to the projects. <a href=\"https://github.com/semenoh/SlicedButWhole?files=1\" rel=\"nofollow noreferrer\">github.com/semenoh/SlicedButWhole?files=1</a>"}, {"owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "edited": false, "score": 0, "creation_date": 1556307209, "post_id": 54254105, "comment_id": 98407633, "body": "also you can watch a video of my talk at local kotlin usergroup <a href=\"https://youtu.be/hA9M92TZTU8\" rel=\"nofollow noreferrer\">youtu.be/hA9M92TZTU8</a>"}, {"owner": {"reputation": 188, "user_id": 2064420, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002690272834/picture?type=large", "display_name": "Olexandr  Stepanov", "link": "https://stackoverflow.com/users/2064420/olexandr-stepanov"}, "edited": false, "score": 0, "creation_date": 1556536870, "post_id": 54254105, "comment_id": 98460233, "body": "Hello @oleg.semen, thank you very much for sharing this project. I believe my fail from the same approach was because I didn&#39;t add linking to the pods of the <code>app</code> framework target in Xcode. That is crucial."}], "tags": [], "owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "is_accepted": true, "score": 6, "last_activity_date": 1565188686, "last_edit_date": 1565188686, "creation_date": 1547814706, "answer_id": 54254105, "question_id": 54005467, "link": "https://stackoverflow.com/questions/54005467/kotlin-multiplatform-native-interoperability-with-objective-c-framework/54254105#54254105", "title": "Kotlin multiplatform/native interoperability with Objective-C framework", "body": "<p>I ended up with this <code>cinterops</code> section in build.gradle</p>\n\n<pre><code>    fromPreset(presets.iosX64, 'ios') {\n        // This preset is for iPhone emulator\n        // Switch here to presets.iosArm64 (or iosArm32) to build library for iPhone device\n        compilations.main {\n            outputKinds('FRAMEWORK')\n            cinterops {\n                firebase {\n                    defFile \"$projectDir/src/iosMain/cinterop/firebase.def\"\n                    includeDirs {\n                        allHeaders \"$projectDir/../iosApp/Pods/FirebaseCore/Firebase/Core/Public\",\n                                   \"$projectDir/../iosApp/Pods/FirebaseDatabase/Firebase/Database/Public\"\n                    }\n\n                    compilerOpts \"-F$projectDir/../iosApp/Pods/Firebase -F$projectDir/../iosApp/Pods/FirebaseCore -F$projectDir/../iosApp/Pods/FirebaseDatabase\"\n                    linkerOpts \"-F$projectDir/../iosApp/Pods/Firebase -F$projectDir/../iosApp/Pods/FirebaseCore -F$projectDir/../iosApp/Pods/FirebaseDatabase\"\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>end this <code>.def</code> file:</p>\n\n<pre><code>language = Objective-C\nheaders = FirebaseCore.h FirebaseDatabase.h\n</code></pre>\n\n<p>What's going on here? Cocopods frameworks are placed in <code>Pods</code> directory in your Xcode project. Navigating this folder a bit, you'll find what you need. I'm not sure if there is some standard but firebase place main header file in <code>Public</code> folder. And it contains references to other header files it needs... So you specify these file names in your <code>.def</code> file in the headers section.</p>\n\n<p>Next, you need to specify where to look for these files and others referenced by them. You can do it in the <code>.def</code> file in <code>includeDirs</code> or in <code>build.gradle</code> file. I prefer to use the build.gradle file as it can use variables. So you specify the path to these <code>Public</code> folders. (This is enough for kotlin to see library API, but in order to be able to run the app you need to compile and link this library...)</p>\n\n<p>Then the compiler and linker need to know where library/framework is. So you specify path to root folder of the framework in <code>compilerOpts</code> and <code>linkerOpts</code> prefixing them with <code>-F</code> if it is a framework or <code>-L</code> if it is a library.</p>\n"}], "owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1781, "favorite_count": 5, "accepted_answer_id": 54254105, "answer_count": 2, "score": 9, "last_activity_date": 1565188686, "creation_date": 1546428270, "last_edit_date": 1547736150, "question_id": 54005467, "link": "https://stackoverflow.com/questions/54005467/kotlin-multiplatform-native-interoperability-with-objective-c-framework", "title": "Kotlin multiplatform/native interoperability with Objective-C framework", "body": "<p>I'm trying to call Swift/Objective-C code from Kotlin in a multiplatform project. There are no problems with calls to platform code. But when I'm trying to call some library (or framework, not sure how it is properly called as I'm not an iOS dev) it fails. <a href=\"https://kotlinlang.org/docs/reference/native/objc_interop.html\" rel=\"noreferrer\">Docs</a> states that it is possible to call Objective-C code and Swift if it is properly exported:</p>\n\n<blockquote>\n  <p>Kotlin/Native provides bidirectional interoperability with Objective-C. Objective-C frameworks and libraries can be used in Kotlin code if properly imported to the build (system frameworks are imported by default). See e.g. \"Using cinterop\" in Gradle plugin documentation. A Swift library can be used in Kotlin code if its API is exported to Objective-C with @objc. Pure Swift modules are not yet supported.</p>\n</blockquote>\n\n<p>But it does not say anything about how can I import them properly. It only point to <a href=\"https://kotlinlang.org/docs/reference/native/gradle_plugin.html#using-cinterop\" rel=\"noreferrer\">gradle plugin description</a> that describes old version of gradle plugin. So it does not work for me. Finally I figured out something might be the way to import Objective-C code:</p>\n\n<pre><code>fromPreset(presets.iosX64, 'ios') {\n        compilations.main.outputKinds('FRAMEWORK')\n        compilations.main {\n            cinterops {\n                firebase {\n                    def pods = '${System.getProperty(\"user.home\")}/Projects/kmpp/iosApp/Pods/'\n                    includeDirs '${pods}Firebase/CoreOnly/Sources',\n                            '${pods}FirebaseAnalytics/Frameworks/FirebaseAnalytics.framework/Headers'\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Build runs without failures, but it does not import anything. What am I doing wrong? Is it possible to import such a lib at all?</p>\n\n<p>UPD:</p>\n\n<p><a href=\"https://github.com/JetBrains/kotlin-native/blob/master/INTEROP.md\" rel=\"noreferrer\">here</a> I found an example of usage <code>cinterop</code> tool like this:</p>\n\n<pre><code>cd samples/gitchurn\n../../dist/bin/cinterop -def src/main/c_interop/libgit2.def \\\n -compilerOpts -I/usr/local/include -o libgit2\n</code></pre>\n\n<p>It looks like <code>cinterop</code> tool should be in <code>/dist/bin/</code> folder in my projects but there is no such folder. Where do I get <code>cinterop</code> tool ?</p>\n"}, {"tags": ["android", "kotlin", "view", "scrollview", "visible"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1546425864, "post_id": 54004828, "comment_id": 94846458, "body": "Have you tried <code>DisplayMetrics</code> and then substracting the status bar, navigation bar, and your bottom navigation views&#39; heights?"}, {"owner": {"reputation": 6818, "user_id": 1282166, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Hd0XQ.jpg?s=128&g=1", "display_name": "Shudy", "link": "https://stackoverflow.com/users/1282166/shudy"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1546426230, "post_id": 54004828, "comment_id": 94846616, "body": "Is there any way to get the size of this views? Or usually are same size, for example... 48dp? because If I&#39;m not wrong, I have transform to dp -&gt; px to set the layout params,no?"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1546428988, "post_id": 54004828, "comment_id": 94847918, "body": "You don&#39;t need to guess the size (48dp most of the time) of those views. Just run the calculations I pointed to at runtime. And yes you&#39;ll need them in PX."}], "answers": [{"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 1, "last_activity_date": 1546446303, "creation_date": 1546446303, "answer_id": 54009783, "question_id": 54004828, "link": "https://stackoverflow.com/questions/54004828/get-usable-screen-area-in-android/54009783#54009783", "title": "Get &quot;usable&quot; screen area in Android", "body": "<p>From you sketch it looks like the tooltip is not situated on the scroll plane, but a top of the bottom action bar. Therefore I propose a layout structured like this:</p>\n\n<pre><code>&lt;ScrollView&gt;\n    &lt;ConstraintLayout&gt;\n        ....\n    &lt;/ConstraintLayout&gt;\n&lt;/ScrollView&gt;\n&lt;ConstraintLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n        &lt;PutYourToolTipHere        \n             android:layout_width=\"match_parent\"\n             android:layout_height=\"match_parent\"/&gt;\n\n        &lt;YourMenuBar\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\" /&gt;\n&lt;/ConstraintLayout&gt;\n</code></pre>\n\n<p>The point of it is to overlay the tooltip instead of showing it in the scrollview.</p>\n"}], "owner": {"reputation": 6818, "user_id": 1282166, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Hd0XQ.jpg?s=128&g=1", "display_name": "Shudy", "link": "https://stackoverflow.com/users/1282166/shudy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546446303, "creation_date": 1546425509, "last_edit_date": 1546431007, "question_id": 54004828, "link": "https://stackoverflow.com/questions/54004828/get-usable-screen-area-in-android", "title": "Get &quot;usable&quot; screen area in Android", "body": "<p>Actually I have a screen that the root is a a <code>ScrollableView</code>, but when the user enters for the first time I have to show a \"tooltip\". The problem is that I have to show an image \"anchored\" to the bottom of the view with a gradient int the background.</p>\n\n<p>So here is the problem. I need to know where to put this view, because it will depend on the size of the screen.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RpXmC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RpXmC.png\" alt=\"enter image description here\"></a></p>\n\n<p>To achieve this I have the view as:</p>\n\n<p><strong>xml file</strong></p>\n\n<pre><code>&lt;ScrollView&gt;\n    &lt;ConstraintLayout&gt;\n        ....\n\n        &lt;FrameLayout\n            android:id=\"@+id/first_open_tooltip\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:background=\"@drawable/gradient_white_transp\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n            &lt;android.support.constraint.ConstraintLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"&gt;\n\n                &lt;ImageView\n                    android:id=\"@+id/mini_marker\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginEnd=\"100dp\"\n                    android:layout_marginBottom=\"16dp\"\n                    android:src=\"@drawable/ic_bg_tooltip_marker\"\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\n                    app:layout_constraintEnd_toEndOf=\"parent\" /&gt;\n\n                &lt;ImageView\n                    android:id=\"@+id/discover_new_tooltip\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:src=\"@drawable/bg_tooltip\"\n                    app:layout_constraintBottom_toTopOf=\"@id/mini_marker\"\n                    app:layout_constraintEnd_toEndOf=\"parent\"\n                    app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n\n                &lt;TextView\n                    android:layout_width=\"224dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginBottom=\"32dp\"\n                    android:fontFamily=\"@font/montserrat_bold\"\n                    android:gravity=\"center_horizontal\"\n                    android:maxLines=\"2\"\n                    android:text=\"@string/firstopen_tooltip\"\n                    android:textColor=\"#ffffff\"\n                    android:textSize=\"18sp\"\n                    app:layout_constraintBottom_toBottomOf=\"@id/tooltip\"\n                    app:layout_constraintEnd_toEndOf=\"@id/tooltip\"\n                    app:layout_constraintStart_toStartOf=\"@id/tooltip\" /&gt;\n\n            &lt;/android.support.constraint.ConstraintLayout&gt;\n        &lt;/FrameLayout&gt;\n    &lt;/ConstraintLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p>With that, in the Fragment I verify if is the first time of the user. </p>\n\n<p>If it is, then I change the LayoutParams of the FrameLayout to make it fit on the screen:</p>\n\n<pre><code>val display = activity!!.windowManager.defaultDisplay\nval size = Point()\ndisplay.getSize(size)\nval height = size.y\n\nvar lp = discover_first_open_tooltip.layoutParams\nlp.height = height //&lt;--problem\nfirst_open_tooltip.layoutParams = lp\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>So here is where I have the problem, because I'm getting the full screen height, and then the tooltip hides because in the bottom.</p>\n\n<p>Is there any way to just get the \"Visible Area\" (in the image)?</p>\n"}, {"tags": ["android", "kotlin", "google-maps-android-api-2"], "comments": [{"owner": {"reputation": 2177, "user_id": 3475831, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/YPLCe.jpg?s=128&g=1", "display_name": "Kavin Prabhu", "link": "https://stackoverflow.com/users/3475831/kavin-prabhu"}, "edited": false, "score": 0, "creation_date": 1546430658, "post_id": 54004673, "comment_id": 94848579, "body": "Then I suspect something may be wrong with <code>BottomSheet</code> itself. Kindly make sure there is no heavy running operations on <code>BottomSheet</code>. I would say, just trying displaying empty bottom sheet or some static UI and try the same."}, {"owner": {"reputation": 1560, "user_id": 4758618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f04c304d3c41dcc6f9b721cbe22d4f0?s=128&d=identicon&r=PG&f=1", "display_name": "V-master", "link": "https://stackoverflow.com/users/4758618/v-master"}, "edited": false, "score": 1, "creation_date": 1546431977, "post_id": 54004673, "comment_id": 94849152, "body": "make sure you do not run setPaddings from repeatedly running callback like onGlobalLayout"}], "owner": {"reputation": 13, "user_id": 10854611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad1cbb4d0d26e8b2e0b9418ec8ceb1db?s=128&d=identicon&r=PG&f=1", "display_name": "JJ52", "link": "https://stackoverflow.com/users/10854611/jj52"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546425110, "creation_date": 1546424846, "question_id": 54004673, "link": "https://stackoverflow.com/questions/54004673/why-google-map-with-padding-set-lags", "title": "Why Google Map with padding set lags?", "body": "<p>I've set a padding to my Google Map instance to fit the screen with bottom sheet opened:</p>\n\n<p><code>map.setPadding(0, 0, 0, sheetViewHeight)</code></p>\n\n<p>and it's works great. But when I move or animate the map camera everything is lagging as hell. Map rendering in a few seconds. But when I close the sheet and remove the padding: </p>\n\n<p><code>map.setPadding(0, 0, 0, 0)</code></p>\n\n<p>and then move the camera everything is fine. What I'm doing wrong?</p>\n"}, {"tags": ["java", "inheritance", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1546415835, "post_id": 54002900, "comment_id": 94842516, "body": "The static constants defined on a super type won&#39;t be accessible on the sub type in Kotlin (as opposed to Java). In your case, you could access <code>DEFAULT_PERIOD</code> only via <code>TimedRobot</code>"}, {"owner": {"reputation": 3, "user_id": 5275010, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vI-0zkMqN6w/AAAAAAAAAAI/AAAAAAAAEpA/J-lW7HwakS0/photo.jpg?sz=128", "display_name": "Mahim Arib", "link": "https://stackoverflow.com/users/5275010/mahim-arib"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1546416260, "post_id": 54002900, "comment_id": 94842630, "body": "@s1m0nw1 thats a bummer to hear, but thank you for the clarification!"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 0, "last_activity_date": 1546419468, "creation_date": 1546419468, "answer_id": 54003547, "question_id": 54002900, "link": "https://stackoverflow.com/questions/54002900/unable-to-access-member-from-inherited-java-class-outside-in-kotlin/54003547#54003547", "title": "Unable to access member from inherited java class outside in kotlin", "body": "<p>You can either use the actual <code>TimedRobot.DEFAULT_PERIOD</code> constant or redefine it via a companion object:</p>\n\n<pre><code>class Robot : TimedRobot() {\n    companion object {\n        const val DEFAULT_PERIOD = TimedRobot.DEFAULT_PERIOD\n    }\n}\n</code></pre>\n\n<p>Another possibility is to represent these values as top level fields.</p>\n"}], "owner": {"reputation": 3, "user_id": 5275010, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vI-0zkMqN6w/AAAAAAAAAAI/AAAAAAAAEpA/J-lW7HwakS0/photo.jpg?sz=128", "display_name": "Mahim Arib", "link": "https://stackoverflow.com/users/5275010/mahim-arib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 54003547, "answer_count": 1, "score": 0, "last_activity_date": 1546419468, "creation_date": 1546415323, "question_id": 54002900, "link": "https://stackoverflow.com/questions/54002900/unable-to-access-member-from-inherited-java-class-outside-in-kotlin", "title": "Unable to access member from inherited java class outside in kotlin", "body": "<p>I am very new to Kotlin, I was trying to migrate my java project to kotlin and I ran into a problem where I can't access implicit inherited members from my class.</p>\n\n<p>In java I had a class called <code>Robot.java</code> which extends from <code>TimedRobot.java</code> and inside the <code>TimedRobot.java</code> there is a static member which is a double type</p>\n\n<pre><code>public class Robot extends TimedRobot {\n}\n</code></pre>\n\n<p><code>TimedRobot.java</code> from the library:</p>\n\n<pre><code>public class TimedRobot extends IterativeRobotBase {\n    public static final double DEFAULT_PERIOD = 0.02;\n    private double m_period = DEFAULT_PERIOD;\n    ...\n}\n</code></pre>\n\n<p>In the same package as the <code>Robot.java</code> I have a class called <code>RobotConstants.java</code> which holds some numbers. Even though there was no variable called <code>DEFAULT_PERIOD</code> in my Robot class I was still able to call it from outside like this:</p>\n\n<pre><code>public class RobotConstants {\n    public static final int PERIOD_IN_MS = (int)(Robot.DEFAULT_PERIOD * 1000);\n    ...\n}\n</code></pre>\n\n<p>However I am not able to do that in kotlin.</p>\n\n<p>My robot class in kotlin:</p>\n\n<pre><code>class Robot : TimedRobot() {\n}\n</code></pre>\n\n<p>And I am unable to get the default period in my constants object in kotlin, it gives me a compile time error. Here is what I am trying to do:</p>\n\n<pre><code>object RobotConstants {\n    const val PERIOD_Ms = (Robot.DEFAULT_PERIOD * 1000).toInt()\n    ...\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "reactive-programming", "project-reactor"], "comments": [{"owner": {"reputation": 1203, "user_id": 560870, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/53ec30132debacb38d9c2d26bfda8bc9?s=128&d=identicon&r=PG", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/560870/mahesh"}, "edited": false, "score": 1, "creation_date": 1546413084, "post_id": 54002509, "comment_id": 94841765, "body": "I think it will help if you list the types returned by each of the variables. At some point an observable is not being returned and that could be the problem."}, {"owner": {"reputation": 63, "user_id": 3655257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-vtzgfyuuSH0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaM2z0RbhhYQWYhltmZv2R_ZGCIp3w/mo/photo.jpg?sz=128", "display_name": "pargrng", "link": "https://stackoverflow.com/users/3655257/pargrng"}, "reply_to_user": {"reputation": 1203, "user_id": 560870, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/53ec30132debacb38d9c2d26bfda8bc9?s=128&d=identicon&r=PG", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/560870/mahesh"}, "edited": false, "score": 0, "creation_date": 1546413649, "post_id": 54002509, "comment_id": 94841928, "body": "@Mahesh edited the code snippet with comment for each line return type,  assuming you are asking for this only"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1546415951, "post_id": 54002509, "comment_id": 94842550, "body": "This is Kotlin, right? RxJS, as its name indicates, is a JavaScript library. Not a Kotlin or Java library. What you&#39;re using (Mono, Flux, etc.) are types from the Reactor library. Not from RxJS. Edit your question, change its title and text and remove the RxJS tag: RxJS has nothing to do with your code."}, {"owner": {"reputation": 63, "user_id": 3655257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-vtzgfyuuSH0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaM2z0RbhhYQWYhltmZv2R_ZGCIp3w/mo/photo.jpg?sz=128", "display_name": "pargrng", "link": "https://stackoverflow.com/users/3655257/pargrng"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1546418057, "post_id": 54002509, "comment_id": 94843243, "body": "Thanks @JBNizet for correcting me !! Do you have any suggestions/advice for the above questions, Please share your expertise!!"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 3655257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-vtzgfyuuSH0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaM2z0RbhhYQWYhltmZv2R_ZGCIp3w/mo/photo.jpg?sz=128", "display_name": "pargrng", "link": "https://stackoverflow.com/users/3655257/pargrng"}, "edited": false, "score": 0, "creation_date": 1546509962, "post_id": 54003775, "comment_id": 94876117, "body": "I have resolved this issue by adding Pair only but not in subscribe block but before that, I have updated the question with solution under UPDATE section. Thanks much !!"}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": false, "score": 0, "last_activity_date": 1546421157, "last_edit_date": 1546421157, "creation_date": 1546420539, "answer_id": 54003775, "question_id": 54002509, "link": "https://stackoverflow.com/questions/54002509/kotlin-reactive-programming-how-to-consume-the-value-of-one-function-output-t/54003775#54003775", "title": "Kotlin, Reactive programming : How to consume the value of one function output to another one", "body": "<p>It's a bit hard to know for sure from the information supplied above, but I think it looks like the call to <code>employerService.getUsersById</code> isn't returning a <code>Publisher</code>. From your comments I'm guessing it's returning an actual value, <code>GetUserResult</code>, rather than a <code>Mono</code>. Below is a mocked up set of classes which show the desired result, I believe. Maybe compare the below to what you've got and see if you can spot a difference?</p>\n\n<pre><code>data class Employee(val userId: String)\ndata class GetEmployeeStatusListResult(val emps: List&lt;Employee&gt;)\ndata class GetUserResult(val employee: Employee)\n\nclass EmployerService {\n    fun getEmployee(status: String) = Mono.just(GetEmployeeStatusListResult(listOf(Employee(\"a\"))))\n    fun getUsersById(userId: String) = Mono.just(GetUserResult(Employee(\"a\")))\n}\n\nfun test() {\n    val employerService = EmployerService()\n    employerService\n            .getEmployee(\"Active\")\n            .flatMapIterable(GetEmployeeStatusListResult::emps)\n            .flatMap {\n                employerService.getUsersById(it.userId)\n            }.subscribe {\n                // Here \"it\" is a GetUserResult object\n            }\n}\n</code></pre>\n\n<p>If, in the <code>subscribe</code>, you need both the initial value retrieved from the call to <code>getEmployee</code> and also the result of the call to <code>getUsersById</code> then you could wrap those two values in a <code>Pair</code> as shown below:</p>\n\n<pre><code>employerService\n        .getEmployee(\"Active\")\n        .flatMapIterable(GetEmployeeStatusListResult::emps)\n        .flatMap { emp -&gt;\n            employerService.getUsersById(emp.userId).map { emp to it }\n        }.subscribe {\n            // Here \"it\" is a Pair&lt;Employee, GetUserResult&gt;\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 3655257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-vtzgfyuuSH0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaM2z0RbhhYQWYhltmZv2R_ZGCIp3w/mo/photo.jpg?sz=128", "display_name": "pargrng", "link": "https://stackoverflow.com/users/3655257/pargrng"}, "is_accepted": false, "score": 0, "last_activity_date": 1546510541, "creation_date": 1546510541, "answer_id": 54020231, "question_id": 54002509, "link": "https://stackoverflow.com/questions/54002509/kotlin-reactive-programming-how-to-consume-the-value-of-one-function-output-t/54020231#54020231", "title": "Kotlin, Reactive programming : How to consume the value of one function output to another one", "body": "<pre><code>employerService.getEmployee(\"Active\") // return value is Mono&lt;GetEmployeeStatusListResult&gt;\n.flatMapIterable(GetEmployeeStatusListResult::emps)\n          .flatMap {\n              employerService.getUsersById(it.userId).map{x-&gt;Pair(it,x)} // it is of type GetEmployeeStatusListResult.emps and  value returned from employerService.getUsersById(it.userId) is of type GetUserResult class created \n          }.subscribe {\n              aService.createContact(it.first, it.second)    \n          }\n</code></pre>\n\n<p>Adding pair function to fetch both the values and use it in subscribe block !!\nThanks everyone !!</p>\n"}], "owner": {"reputation": 63, "user_id": 3655257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-vtzgfyuuSH0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaM2z0RbhhYQWYhltmZv2R_ZGCIp3w/mo/photo.jpg?sz=128", "display_name": "pargrng", "link": "https://stackoverflow.com/users/3655257/pargrng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1435, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1546510541, "creation_date": 1546412843, "last_edit_date": 1546509902, "question_id": 54002509, "link": "https://stackoverflow.com/questions/54002509/kotlin-reactive-programming-how-to-consume-the-value-of-one-function-output-t", "title": "Kotlin, Reactive programming : How to consume the value of one function output to another one", "body": "<p>I am very new to Project reactor library and reactive programming with Kotlin, and trying to implement functions like <code>flatmap</code>, <code>flatMapIterable</code>, <code>subscribe</code> etc.\nNow issue is I am trying to use the o/p of one function into another one using <code>flatMapIterable</code>, and after using I am trying to subscribe this, by passing the output of fist function and second one to another function of new class.\nNow when I try to use the o/p of function 1, I am unable to see the value, I only see <code>Mono&lt;&gt;</code> or <code>Flux&lt;&gt;</code>.</p>\n\n<p>Below is code snippet for more explanation </p>\n\n<pre><code>var result = employerService.getEmployee(\"Active\") // return value is Mono&lt;GetEmployeeStatusListResult&gt;\nresult.flatMapIterable(GetEmployeeStatusListResult::emps)\n      .flatMap {\n          employerService.getUsersById(it.userId) // it is of type GetEmployeeStatusListResult.emps and  value returned from employerService.getUsersById(it.userId) is of type GetUserResult class created \n      }.subscribe {\n          aService.createContact(result, it)    \n      }\n</code></pre>\n\n<p>Now at line 4 I am getting expected <code>userId</code> out of <code>it.userId</code>, but when I inspect result at line 6, then I do not get the expected list of values, it just provides me <code>MonomapFuesable</code>, with mapper and source.</p>\n\n<p>Can anyone please help me to understand what should I do, as my whole agenda is to pass the calculated value from line 1 and line 4 to line 6 function.\nPlease ask more question, if I haven't provided the required information, I am very new to this.\nThanks in advance !!</p>\n\n<p>[UPDATE] : I have resolved the issue with the following way : \n```</p>\n\n<pre><code>employerService.getEmployee(\"Active\") // return value is Mono&lt;GetEmployeeStatusListResult&gt;\n.flatMapIterable(GetEmployeeStatusListResult::emps)\n          .flatMap {\n              employerService.getUsersById(it.userId).map{x-&gt;Pair(it,x)} // it is of type GetEmployeeStatusListResult.emps and  value returned from employerService.getUsersById(it.userId) is of type GetUserResult class created \n          }.subscribe {\n              aService.createContact(it.first, it.second)    \n          }\n</code></pre>\n\n<p>```</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 516, "user_id": 2016500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGdlW.jpg?s=128&g=1", "display_name": "Mahmoud Elshamy", "link": "https://stackoverflow.com/users/2016500/mahmoud-elshamy"}, "edited": false, "score": 0, "creation_date": 1546413776, "post_id": 54002477, "comment_id": 94841967, "body": "What is the response of this api &quot;driver/getAvailableTripList&quot; ?"}, {"owner": {"reputation": 221, "user_id": 6065825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86be7074d133a3abf62b9a6972076f73?s=128&d=identicon&r=PG&f=1", "display_name": "DemiDust", "link": "https://stackoverflow.com/users/6065825/demidust"}, "edited": false, "score": 0, "creation_date": 1546414902, "post_id": 54002477, "comment_id": 94842253, "body": "have u tried to print out your data when you processed an json object type value"}, {"owner": {"reputation": 84, "user_id": 8391709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55de3cdbfffa73b728823eebc3a884c7?s=128&d=identicon&r=PG&f=1", "display_name": "Mavisa9", "link": "https://stackoverflow.com/users/8391709/mavisa9"}, "reply_to_user": {"reputation": 221, "user_id": 6065825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86be7074d133a3abf62b9a6972076f73?s=128&d=identicon&r=PG&f=1", "display_name": "DemiDust", "link": "https://stackoverflow.com/users/6065825/demidust"}, "edited": false, "score": 0, "creation_date": 1546415308, "post_id": 54002477, "comment_id": 94842371, "body": "yes, i print the data on Logcat @DemiDust"}, {"owner": {"reputation": 221, "user_id": 6065825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86be7074d133a3abf62b9a6972076f73?s=128&d=identicon&r=PG&f=1", "display_name": "DemiDust", "link": "https://stackoverflow.com/users/6065825/demidust"}, "edited": false, "score": 0, "creation_date": 1546416861, "post_id": 54002477, "comment_id": 94842840, "body": "what is the log? it might help in finding your issue @Mavisa9"}, {"owner": {"reputation": 84, "user_id": 8391709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55de3cdbfffa73b728823eebc3a884c7?s=128&d=identicon&r=PG&f=1", "display_name": "Mavisa9", "link": "https://stackoverflow.com/users/8391709/mavisa9"}, "reply_to_user": {"reputation": 221, "user_id": 6065825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86be7074d133a3abf62b9a6972076f73?s=128&d=identicon&r=PG&f=1", "display_name": "DemiDust", "link": "https://stackoverflow.com/users/6065825/demidust"}, "edited": false, "score": 0, "creation_date": 1546417449, "post_id": 54002477, "comment_id": 94843028, "body": "the log is the JsonArray of the api. i already my Question and put the data on it @DemiDust"}, {"owner": {"reputation": 221, "user_id": 6065825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86be7074d133a3abf62b9a6972076f73?s=128&d=identicon&r=PG&f=1", "display_name": "DemiDust", "link": "https://stackoverflow.com/users/6065825/demidust"}, "edited": false, "score": 0, "creation_date": 1546417958, "post_id": 54002477, "comment_id": 94843209, "body": "try this, it might help <a href=\"https://stackoverflow.com/questions/40103987/parse-json-android-convert-jsonobject\" title=\"parse json android convert jsonobject\">stackoverflow.com/questions/40103987/&hellip;</a>"}, {"owner": {"reputation": 221, "user_id": 6065825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86be7074d133a3abf62b9a6972076f73?s=128&d=identicon&r=PG&f=1", "display_name": "DemiDust", "link": "https://stackoverflow.com/users/6065825/demidust"}, "edited": false, "score": 0, "creation_date": 1546418193, "post_id": 54002477, "comment_id": 94843286, "body": "or this <a href=\"https://stackoverflow.com/questions/6079505/converting-json-string-to-java-object\" title=\"converting json string to java object\">stackoverflow.com/questions/6079505/&hellip;</a>"}, {"owner": {"reputation": 84, "user_id": 8391709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55de3cdbfffa73b728823eebc3a884c7?s=128&d=identicon&r=PG&f=1", "display_name": "Mavisa9", "link": "https://stackoverflow.com/users/8391709/mavisa9"}, "reply_to_user": {"reputation": 221, "user_id": 6065825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86be7074d133a3abf62b9a6972076f73?s=128&d=identicon&r=PG&f=1", "display_name": "DemiDust", "link": "https://stackoverflow.com/users/6065825/demidust"}, "edited": false, "score": 0, "creation_date": 1546464981, "post_id": 54002477, "comment_id": 94863949, "body": "Hi @DemiDust i&#39;ve tried that. but i still confuse. can you help me?"}, {"owner": {"reputation": 84, "user_id": 8391709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55de3cdbfffa73b728823eebc3a884c7?s=128&d=identicon&r=PG&f=1", "display_name": "Mavisa9", "link": "https://stackoverflow.com/users/8391709/mavisa9"}, "reply_to_user": {"reputation": 221, "user_id": 6065825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86be7074d133a3abf62b9a6972076f73?s=128&d=identicon&r=PG&f=1", "display_name": "DemiDust", "link": "https://stackoverflow.com/users/6065825/demidust"}, "edited": false, "score": 0, "creation_date": 1546489371, "post_id": 54002477, "comment_id": 94869347, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/186079/discussion-between-mavisa9-and-demidust\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 221, "user_id": 6065825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86be7074d133a3abf62b9a6972076f73?s=128&d=identicon&r=PG&f=1", "display_name": "DemiDust", "link": "https://stackoverflow.com/users/6065825/demidust"}, "is_accepted": false, "score": 1, "last_activity_date": 1546486024, "creation_date": 1546486024, "answer_id": 54015947, "question_id": 54002477, "link": "https://stackoverflow.com/questions/54002477/how-to-get-data-from-jsonobject-and-set-as-array-on-recyclerview-in-kotlin/54015947#54015947", "title": "How to get data from JsonObject and set as Array on RecyclerView in Kotlin?", "body": "<p>As I have seen, your data should be a JSONobject type value already and since you are using serialized name i assume you are using Gson library for it. </p>\n\n<p>First, make another model beforehand to contain your List (since it passed in rows)</p>\n\n<pre><code>data class TripList:Serializeable{\n    @(\"rows\")\n    myList:List&lt;Trip&gt; = ArrayList()\n}\n</code></pre>\n\n<p>Then, you can try this </p>\n\n<pre><code>val tripList = gson.fromJson(data, TripList::class.java)\n</code></pre>\n\n<p>Your tripList will then be TripList type of class, access your list with tripList.myList. Hope it will work for your solution</p>\n"}], "owner": {"reputation": 84, "user_id": 8391709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55de3cdbfffa73b728823eebc3a884c7?s=128&d=identicon&r=PG&f=1", "display_name": "Mavisa9", "link": "https://stackoverflow.com/users/8391709/mavisa9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546486024, "creation_date": 1546412663, "last_edit_date": 1546417488, "question_id": 54002477, "link": "https://stackoverflow.com/questions/54002477/how-to-get-data-from-jsonobject-and-set-as-array-on-recyclerview-in-kotlin", "title": "How to get data from JsonObject and set as Array on RecyclerView in Kotlin?", "body": "<p>I'm working on a project that was previously done by another developer. I continue to call API for the project. I've followed his way. But, I get stuck when I want to retrieve <code>JsonArray</code> and show it into <code>RecyclerView</code>.\nHow I can to get the data from <code>JSONArray</code>.</p>\n\n<p><strong>Interface:</strong></p>\n\n<pre><code>interface TripService {\n    @FormUrlEncoded\n    @POST(\"driver/getAvailableTripList\")\n    fun availableTripList(@Field(\"page\") page : String): Call&lt;JsonObject&gt;\n}\n</code></pre>\n\n<p><strong>TripServiceHandler:</strong></p>\n\n<pre><code>class TripServiceHandler {\n    private var instance: TripService? = null\n    // Singleton instance to access through the application\n\n    init {\n        if(instance == null) {\n            instance = TripFactory().createJourney(TripService::class.java)\n        }\n    }\n\n\n    // Method for Driver Balance Service\n    fun availableTripList(page: String, listener: ServerCallbackListener) =\n            this.instance?.let {this.instance!!.availableTripList(page).enqueue(RetrofitCallBackHandler.getHandler(listener)) \n}\n</code></pre>\n\n<p><strong>Fragment:</strong></p>\n\n<pre><code>private fun getAvailableTrip(){\n    showLoading()\n    TripServiceHandler().availableTripList(\"1\", availableTripHandler)\n}\n\nprivate var availableTripHandler: ServerCallbackListener = object : ServerCallbackListener {\n    override fun onSuccess(baseResponse: JsonObject?) {\n        hideLoading()\n        val data = baseResponse!!.getAsJsonObject(AppConstants.KEY_DATA)\n\n    }\n\n    override fun onFailure(message: String?) {\n        showMessageBar(message, SnackBarUtility.MessageType.ERROR)\n    }\n\n}\n</code></pre>\n\n<p><strong>Data Model:</strong></p>\n\n<pre><code>class Trip : Serializable {\n\n    @SerializedName(\"tid\")\n    var tripId: String? = null\n\n    @SerializedName(\"max_passengers\")\n    var maxPass: String? = null\n\n    @SerializedName(\"driver_revenue\")\n    var priceTrip: String? = null\n\n    @SerializedName(\"origin_coordinate\")\n    var originCoordinate: List&lt;Coordinate&gt;? = null\n\n    @SerializedName(\"destination_coordinate\")\n    var destCoordinate: List&lt;Coordinate&gt;? = null\n}\n</code></pre>\n\n<p>the jsonArray </p>\n\n<pre><code>\"rows\": [\n            {\n                \"tid\": \"44551\",\n                \"did\": null,\n                \"status\": 1,\n                \"leaving_time\": \"1547093186\",\n                \"max_passengers\": 12,\n                \"total_revenue\": 0,\n                \"driver_revenue\": 0,\n                \"origin_coordinate\": {\n                    \"x\": 1.43762623,\n                    \"y\": 103.80153311\n                },\n                \"destination_coordinate\": {\n                    \"x\": 1.29481854,\n                    \"y\": 103.78735487\n                },\n                \"total_requests\": 12,\n                \"destination_geom\": \"0101000020E610000048F0284063F25940854F5F1901BFF43F\",\n                \"origin_geom\": \"0101000020E61000002AB6CC40C7F25940032A19ECF7E4F63F\",\n                \"stops\": [\n                    {\n                        \"sid\": \"46969\",\n                        \"count\": \"4\",\n                        \"order_seq\": 1,\n                        \"mode\": 0,\n                        \"name\": \"Woodlands Ave 4\",\n                        \"description\": \"Blk 532\",\n                        \"coordinate\": {\n                            \"x\": 1.43059181782,\n                            \"y\": 103.792699721\n                        },\n                        \"eta_time\": \"1547093186\",\n                        \"leaving_time\": \"1547093366\"\n                    },\n</code></pre>\n"}, {"tags": ["android", "generics", "kotlin"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1546468193, "post_id": 54001737, "comment_id": 94865129, "body": "What you have in Java isn&#39;t type-safe, FWIW."}, {"owner": {"reputation": 913, "user_id": 4801470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7ca491e6527482ff79784e7a52c626?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary Sweigart", "link": "https://stackoverflow.com/users/4801470/zachary-sweigart"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1546487353, "post_id": 54001737, "comment_id": 94868964, "body": "How could I make it type safe in Java? Maybe that would fix the kotlin issue"}], "owner": {"reputation": 913, "user_id": 4801470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7ca491e6527482ff79784e7a52c626?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary Sweigart", "link": "https://stackoverflow.com/users/4801470/zachary-sweigart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546407733, "creation_date": 1546407733, "question_id": 54001737, "link": "https://stackoverflow.com/questions/54001737/kotlin-cyclic-generics", "title": "Kotlin Cyclic Generics", "body": "<p>I have 3 classes Router, Interactor and Component and in java I have</p>\n\n<pre><code>Interactor&lt;R extends Router&gt;\nRouter&lt;C extends InteractorComponent, I extends Interactor&gt;\nComponent&lt;I extends Interactor&gt;\n</code></pre>\n\n<p>When I convert to Kotlin I get </p>\n\n<pre><code>Interactor&lt;Self : Interactor&lt;Self, R&gt;, R&gt; :\nLifecycleScopeProvider&lt;InteractorEvent&gt; where R : Router&lt;R, *, Self&gt;\n\nRouter&lt;Self : Router&lt;Self, C, I&gt;, in C, I&gt;(\ncomponent: C,\nprivate val interactor: I) where C : Component&lt;I&gt;, I : Interactor&lt;I, Self&gt;\n\nComponent&lt;I : Interactor&lt;I, *&gt;&gt;\n</code></pre>\n\n<p>However further down with some subclasses Router -> ViewRouter (which just adds a view) -> PagerViewRouter I run into this</p>\n\n<pre><code>PagerViewRouter&lt;V, C, I&gt;(\nview: V,\ncomponent: C,\ninteractor: I) : ViewRouter&lt;PagerViewRouter&lt;V, C, I&gt;, V, C, I&gt;(\nview,\ncomponent,\ninteractor) where V : View, C : Component&lt;I&gt;, I : ViewInteractor&lt;I, PagerViewRouter&lt;V, C, I&gt;, *&gt;\n</code></pre>\n\n<p>When I try to declare a list of these PagerViewRouters, which can each be different concrete types, I get the error that the ViewInteractor type is not within bounds</p>\n\n<pre><code>MutableList&lt;PagerViewRouter&lt;\n        out View,\n        out InteractorComponent&lt;out ViewInteractor&lt;*, *, *&gt;&gt;,\n        out ViewInteractor&lt;*, *, *&gt;&gt;&gt;\n</code></pre>\n\n<p>Updating to the error basically causes infinite updates since ViewInteractor, like Interactor, references Self as the first generic</p>\n\n<p>How can I reduce this complexity and avoid the cyclic references while still maintaining the type safety?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2285, "user_id": 6190043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d37Oy.jpg?s=128&g=1", "display_name": "Saurabh Bhandari", "link": "https://stackoverflow.com/users/6190043/saurabh-bhandari"}, "edited": false, "score": 0, "creation_date": 1546404526, "post_id": 54001258, "comment_id": 94839480, "body": "instead of print use Log.d() to view your result."}], "answers": [{"tags": [], "owner": {"reputation": 960, "user_id": 9024123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HvSzW.jpg?s=128&g=1", "display_name": "Rj_Innocent_Coder", "link": "https://stackoverflow.com/users/9024123/rj-innocent-coder"}, "is_accepted": false, "score": 1, "last_activity_date": 1546408596, "last_edit_date": 1546408596, "creation_date": 1546406161, "answer_id": 54001533, "question_id": 54001258, "link": "https://stackoverflow.com/questions/54001258/why-does-trying-to-change-a-textview-or-show-a-toast-within-a-timertask-freeze-m/54001533#54001533", "title": "Why does trying to change a TextView or show a toast within a timerTask freeze my app?", "body": "<p><code>Toast</code> is a UI element so it needs to run on the <code>UI Thread</code>, not in a <code>background Thread</code></p>\n\n<p><strong>use <a href=\"http://developer.android.com/reference/android/app/Activity.html#runOnUiThread%28java.lang.Runnable%29\" rel=\"nofollow noreferrer\"><code>runOnUiThread</code></a></strong></p>\n\n<pre><code>runOnUiThread(new Runnable() {\n        public void run()\n        {\n            Toast.makeText(yourContext, \"Your Message\", Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 422, "user_id": 4853188, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U_HKdeNtqtI/AAAAAAAAAAI/AAAAAAAAAEA/s-mZYwbdLNY/photo.jpg?sz=128", "display_name": "Anu Bhalla", "link": "https://stackoverflow.com/users/4853188/anu-bhalla"}, "is_accepted": false, "score": 2, "last_activity_date": 1546407708, "creation_date": 1546407708, "answer_id": 54001729, "question_id": 54001258, "link": "https://stackoverflow.com/questions/54001258/why-does-trying-to-change-a-textview-or-show-a-toast-within-a-timertask-freeze-m/54001729#54001729", "title": "Why does trying to change a TextView or show a toast within a timerTask freeze my app?", "body": "<p>Timer object is a single background thread So it cannot access UI elements (like toast, textview) directly.\n<a href=\"https://developer.android.com/reference/java/util/Timer\" rel=\"nofollow noreferrer\">reference</a></p>\n\n<blockquote>\n  <p>Why your app is freezing out?</p>\n</blockquote>\n\n<p>Timer tasks should complete quickly. If a timer task takes excessive time to complete, it \"hogs\" the timer's task execution thread. This can, in turn, delay the execution of subsequent tasks, which may \"bunch up\" and execute in rapid succession when (and if) the offending task finally completes.</p>\n\n<p>Best approach for above would be using a <code>handler</code>, after timer completes. Like,</p>\n\n<pre><code>    private Handler handler = new Handler();\n</code></pre>\n\n<p>and define it </p>\n\n<pre><code>handler = new Handler(getLooper()) {\n        @Override\n        public void handleMessage(Message msg) {\n                Toast.makeText(this, \"Its toast!\", Toast.LENGTH_SHORT).show();\n        }\n    };\n</code></pre>\n\n<p>invoke it from your timer :</p>\n\n<blockquote>\n<pre><code>handler.sendMessage(messageObject);\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 313, "user_id": 6132416, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/700ed0edf93046d4108c451b8e71f742?s=128&d=identicon&r=PG&f=1", "display_name": "okmanl", "link": "https://stackoverflow.com/users/6132416/okmanl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1546408596, "creation_date": 1546403928, "last_edit_date": 1546404164, "question_id": 54001258, "link": "https://stackoverflow.com/questions/54001258/why-does-trying-to-change-a-textview-or-show-a-toast-within-a-timertask-freeze-m", "title": "Why does trying to change a TextView or show a toast within a timerTask freeze my app?", "body": "<pre><code>import android.annotation.SuppressLint\nimport android.os.Bundle\nimport android.support.design.widget.Snackbar\nimport android.support.v7.app.AppCompatActivity;\nimport android.widget.TextView\nimport android.widget.Toast\nimport kotlinx.android.synthetic.main.activity_track_income.*\nimport java.util.*\nimport kotlin.concurrent.timerTask\n\nclass TrackIncome : AppCompatActivity() {\n\n    @SuppressLint(\"SetTextI18n\")\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_track_income)\n\n        val time: TextView = findViewById(R.id.time)\n        val money: TextView = findViewById(R.id.money)\n        val timer: Timer = Timer()  \n        val calculateTime = timerTask {\n            val milliseconds = System.currentTimeMillis()\n            var seconds: Int = (milliseconds / 1000).toInt()\n            val minutes = 1\n            seconds %= 60\n            print(\"seconds are \" + seconds.toString()) \n            time.text = String.format(\"%d.%d\", minutes,seconds)\n\n        }\n        Timer(\"timer\", false).schedule(calculateTime,1000, 1000)\n\n    }\n    fun showToast(){\n    Toast.makeText(this, \"Its toast!\", Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n\n<p>I noticed that if I write time.text within the <code>timerTask</code> object, or try to call <code>showToast()</code>, my app  will crash. </p>\n\n<p>Furthermore when I try to comment out \n<code>\"time.text = String.format(\"%d.%d\", minutes,seconds)\"</code> and run the app just using the print statement and examine <code>logcat</code>, the print statement doesn't show up either. I've already read other examples of people using the Timer object, so why doesn't my method work?</p>\n"}, {"tags": ["filter", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 94, "user_id": 10043766, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ec12JC6lvkQ/AAAAAAAAAAI/AAAAAAAAEAU/HW00kjni72Q/photo.jpg?sz=128", "display_name": "olatunji oniyide", "link": "https://stackoverflow.com/users/10043766/olatunji-oniyide"}, "edited": false, "score": 0, "creation_date": 1546413544, "post_id": 54001440, "comment_id": 94841901, "body": "Thanks Omar for the response and the links."}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": true, "score": 2, "last_activity_date": 1546426374, "last_edit_date": 1546426374, "creation_date": 1546405374, "answer_id": 54001440, "question_id": 54000218, "link": "https://stackoverflow.com/questions/54000218/using-the-filter-function-in-kotlin/54001440#54001440", "title": "Using the filter function in kotlin", "body": "<p>The <code>filter</code> function in <strong>Kotlin Collections</strong> has the same principle as other frameworks/libraries, including <strong>Java Streams</strong>. Given a <em>predicate</em> (a function from the type of the collection to <code>Boolean</code>) it will return a new collection with the elements matching the predicate. You can find more information and examples of other functions and operators in the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html\" rel=\"nofollow noreferrer\">official documentation</a> and <a href=\"https://www.baeldung.com/kotlin-collections-api\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Your code was almost there, I translate the Java <code>Stream</code> operation to Kotlin <code>List</code> and rewrite the return statements to remove the redundant <code>if</code></p>\n\n<pre><code>private fun findFilteredOrder(courier: Courier) : List&lt;Order&gt; {\n    val glovoBoxKeyWords = glovoBoxWords.toLowerCase().split(\",\")\n    val allowedVehicles = listOf(Vehicle.ELECTRIC_SCOOTER, Vehicle.MOTORCYCLE)\n\n    orderList.filter { order -&gt;\n        val description = order.getDescription().toLowerCase()\n        courier.getBox() || glovoBoxKeywords.none { it in description }\n    }.filter { order -&gt;\n        val pickupLocation = order.getPickup()\n        val deliveryLocation = order.getDelivery()\n        val distance = calculateDistance(deliveryLocation, pickupLocation)\n\n        distance &lt;= longDeliveryDistance || courier.getVehicle() in allowedVehicles\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 94, "user_id": 10043766, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ec12JC6lvkQ/AAAAAAAAAAI/AAAAAAAAEAU/HW00kjni72Q/photo.jpg?sz=128", "display_name": "olatunji oniyide", "link": "https://stackoverflow.com/users/10043766/olatunji-oniyide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1280, "favorite_count": 0, "accepted_answer_id": 54001440, "answer_count": 1, "score": 1, "last_activity_date": 1546426374, "creation_date": 1546391644, "question_id": 54000218, "link": "https://stackoverflow.com/questions/54000218/using-the-filter-function-in-kotlin", "title": "Using the filter function in kotlin", "body": "<p>so the past couple of hours, i have been trying to understand how the filter function works in kotlin and if it has any correlation with that of Java. \nbasically, i have a code that's written in java and i would love to have it transcribed to kotlin </p>\n\n<pre><code>private List&lt;Order&gt; getFilteredOrders(Courier courier) {\n        String[] glovoBoxKeywords = glovoBoxWords.toLowerCase().split(\",\");\n        List&lt;Vehicle&gt; allowedVehicles = Arrays.asList(MOTORCYCLE, ELECTRIC_SCOOTER);\n\n        return orders.stream()\n                .filter(order -&gt; {\n                    String description = order.getDescription().toLowerCase();\n                    if (!courier.getBox()) {\n                        return Arrays.stream(glovoBoxKeywords).noneMatch(description::contains);\n                    }\n\n                    return true;\n                })\n                .filter(order -&gt; {\n                    Location pickupLocation = order.getPickup();\n                    Location deliveryLocation = order.getDelivery();\n                    Double distance = calculateDistance(pickupLocation, deliveryLocation);\n\n                    if (distance &gt; longDeliveryDistance) {\n                        return allowedVehicles.contains(courier.getVehicle());\n                    }\n\n                    return true;\n                })\n                .collect(Collectors.toList());\n    }\n</code></pre>\n\n<p>i tried this but i got at this, and was literally stuck :(  </p>\n\n<pre><code> private fun findFilteredOrder(courier: Courier) : List&lt;Order&gt; {\n        val glovoBoxKeyWords = glovoBoxWords.toLowerCase().split(\",\")\n        val allowedVehicles = listOf(Vehicle.ELECTRIC_SCOOTER, Vehicle.MOTORCYCLE)\n\n        orderList.filter { order -&gt;\n            val description = order.getDescription().toLowerCase()\n            if(!courier.getBox()) {\n\n            }\n            true\n        }.filter {\n            val pickupLocation = it.getPickup()\n            val deliveryLocation = it.getDelivery()\n            val distance = calculateDistance(deliveryLocation, pickupLocation)\n\n            if(distance &gt; longDeliveryDistance) {\n                courier.getVehicle() in allowedVehicles\n            }\n            true\n        }\n    }\n</code></pre>\n\n<p>Please this is my first attempt and doing something with kotlin, so please go easy guys. thanks, also i'd be appreciative if anyone could help me with informative stuff as to how to understand these kotlin functions better. let, apply, associateBy... etc.. THANKS</p>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore", "google-tasks-api"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1546381051, "post_id": 53999351, "comment_id": 94835728, "body": "I think you might be helped with <a href=\"https://firebase.googleblog.com/2016/09/become-a-firebase-taskmaster-part-1.html\" rel=\"nofollow noreferrer\">this blog series</a> about the task API, in particular, the <a href=\"https://firebase.googleblog.com/2016/09/become-a-firebase-taskmaster-part-3_29.html\" rel=\"nofollow noreferrer\">third installation</a> that shows how to chain together Continuation objects."}, {"owner": {"reputation": 632, "user_id": 4768517, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9b38a1de232894c35ff541b355c19869?s=128&d=identicon&r=PG&f=1", "display_name": "GroovyP", "link": "https://stackoverflow.com/users/4768517/groovyp"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1546382519, "post_id": 53999351, "comment_id": 94836006, "body": "Thank you! I will read this."}], "answers": [{"tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": true, "score": 2, "last_activity_date": 1546406959, "last_edit_date": 1546406959, "creation_date": 1546406382, "answer_id": 54001564, "question_id": 53999351, "link": "https://stackoverflow.com/questions/53999351/getting-rid-of-nested-task-type/54001564#54001564", "title": "Getting rid of nested Task type", "body": "<p>For composing multiple <code>Task</code> you should use <code>continueWithTask</code> instead of <code>continueWith</code>. It accepts a <code>Continuation&lt;TResult, Task&lt;TContinuationResult&gt;</code> as a parameter, which essentially flattens the returning <code>Task</code> and avoids nesting. You should think of it as <code>map</code> vs <code>flatMap</code> operation in Monads (i.e. <code>List</code>), in this case, <code>continueWithTask</code> would be the equivalent of <code>flatMap</code> if you use <code>List</code> as the container instead of <code>Task</code> (Remember, with <code>flatMap</code> you transform every element of the <code>List</code> to a new <code>List</code>, and flatten the resulting <code>List</code>)</p>\n"}], "owner": {"reputation": 632, "user_id": 4768517, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9b38a1de232894c35ff541b355c19869?s=128&d=identicon&r=PG&f=1", "display_name": "GroovyP", "link": "https://stackoverflow.com/users/4768517/groovyp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 54001564, "answer_count": 1, "score": 1, "last_activity_date": 1546406959, "creation_date": 1546380793, "question_id": 53999351, "link": "https://stackoverflow.com/questions/53999351/getting-rid-of-nested-task-type", "title": "Getting rid of nested Task type", "body": "<p>Is it possible to get rid of nested Task generics? </p>\n\n<p>For every <code>continueWith</code> statement, a new <code>Task</code> is added within the type. Every continuation is part of the type. Ideally I would return one Task which consecutively executes every single task and succeeds or fails as one.   </p>\n\n<h1>Example</h1>\n\n<p>The first operations queries the groups of a user</p>\n\n<pre><code>private fun getGroupsSnapshot(): Task&lt;QuerySnapshot&gt; {\n    val userId = Auth.currentUser()!!.uid\n    val query = userGroupsQuery(groupsCollection, userId)\n    return query.get()\n}\n</code></pre>\n\n<p>The second operation queries albums within those groups. </p>\n\n<pre><code>fun getAlbums(): Task&lt;Task&lt;List&lt;Album&gt;&gt;&gt; {\n    return getGroupsSnapshot().continueWith { task -&gt;\n        val documentSnapshots = TaskUtils.getResult(task)\n        val albums = mutableListOf&lt;Album&gt;()\n        val fetchAlbumTasks = documentSnapshots.documents.map { document -&gt;\n            Log.d(TAG, document[\"name\"].toString())\n            document.reference.collection(\"albums\").get().addOnCompleteListener { queryTask -&gt;\n                albums.addAll(toObjects(Album::class.java, queryTask))\n            }\n        }\n        return@continueWith Tasks.whenAll(fetchAlbumTasks).continueWith allTasks@ {\n            return@allTasks albums as List&lt;Album&gt;\n        }\n    }\n}\n</code></pre>\n\n<p>However I would like this operation to return type <code>Task&lt;List&lt;Album&gt;&gt;</code> to keep the interface clean.</p>\n"}, {"tags": ["android", "kotlin", "android-constraintlayout"], "answers": [{"tags": [], "owner": {"reputation": 4400, "user_id": 4499576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45d95ed1c2ceaa7c7f0a487795cd9b8?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel Laskowski", "link": "https://stackoverflow.com/users/4499576/pawel-laskowski"}, "is_accepted": true, "score": 3, "last_activity_date": 1546385076, "creation_date": 1546385076, "answer_id": 53999731, "question_id": 53999327, "link": "https://stackoverflow.com/questions/53999327/constraintlayout-weighted-chain-wont-budge/53999731#53999731", "title": "ConstraintLayout weighted chain won&#39;t budge", "body": "<p>The constraints only apply to <code>Views</code> that are direct children of the parent <code>ConstraintLayout</code>. In your case, <code>my_constraintLayout</code> only has one child, which is a <code>CardView</code>. The <code>ImageView</code> and the <code>TextView</code> that you add using <code>addView()</code> are children of the <code>CardView</code> and not the <code>ConstraintLayout</code>, so the constraints you are trying to set have no effect on them.</p>\n\n<p>You need to have a <code>ConstraintLayout</code> inside the <code>CardView</code> to add the <code>Views</code> and set the constraints.</p>\n"}], "owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 53999731, "answer_count": 1, "score": 0, "last_activity_date": 1546436679, "creation_date": 1546380571, "last_edit_date": 1546436679, "question_id": 53999327, "link": "https://stackoverflow.com/questions/53999327/constraintlayout-weighted-chain-wont-budge", "title": "ConstraintLayout weighted chain won&#39;t budge", "body": "<p>For some reason, the weights for my ConstraintLayout items are not being applied. I've looked through the several times but I'm not sure where I've gone wrong.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UbQXQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UbQXQ.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>XML</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ScrollView\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/my_scrollView_LL\"\n    android:fillViewport=\"true\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingStart=\"@dimen/activity_horizontal_margin\"\n    android:paddingEnd=\"@dimen/activity_horizontal_margin\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:id=\"@+id/my_constraintLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"/&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p><strong>Kotlin</strong></p>\n\n<pre><code>class MyFragment : androidx.fragment.app.Fragment() {\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_sv, container, false)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        val v = view\n        val myCL = v!!.findViewById&lt;ConstraintLayout&gt;(R.id.my_constraintLayout)\n\n\n        val rlp1 = ConstraintLayout.LayoutParams(ConstraintLayout.LayoutParams.WRAP_CONTENT, ConstraintLayout.LayoutParams.WRAP_CONTENT)\n\n\n        val r = context!!.resources\n        val fourDp = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 4f, r.displayMetrics).toInt()\n        val tenDp = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10f, r.displayMetrics).toInt()\n\n\n        /*\n         * CardView items\n         */\n        val ivIcon = ImageView(context)\n        ivIcon.setImageResource(R.drawable.ic_warning)\n        ivIcon.setColorFilter((colorFTC), android.graphics.PorterDuff.Mode.SRC_IN)\n        ivIcon.layoutParams = rlp1\n\n        val tvText = TextView(context)\n        tvText.text = \"Lorem ipsum dolor sit amet, eos aliquam vulputate percipitur ei.\"\n        TextViewCompat.setTextAppearance(tvText, android.R.style.TextAppearance_Medium)\n        tvText.layoutParams = rlp1\n\n        val cvMain = context?.let { CardView(it) }\n        when {\n            cvMain != null -&gt; {\n                cvMain.radius = fourDp.toFloat()\n                cvMain.setContentPadding(tenDp, tenDp, tenDp, tenDp)\n                cvMain.useCompatPadding = true\n                cvMain.cardElevation = fourDp.toFloat()\n            }\n        }\n\n        cvMain!!.id = View.generateViewId()\n        ivIcon.id = View.generateViewId()\n        tvText.id = View.generateViewId()\n\n        myCL.addView(cvMain)\n        cvMain.addView(ivIcon)\n        cvMain.addView(tvText)\n\n        // Constraint Set\n        val set = ConstraintSet()\n        set.clone(myCL)\n        set.connect(cvMain.id, ConstraintSet.TOP, myCL.id, ConstraintSet.TOP, 0)\n        set.connect(ivIcon.id, ConstraintSet.START, myCL.id, ConstraintSet.START, 0)\n        set.connect(ivIcon.id, ConstraintSet.END, tvText.id, ConstraintSet.START, tenDp)\n        set.connect(tvText.id, ConstraintSet.START, ivIcon.id, ConstraintSet.END, tenDp)\n        set.connect(tvText.id, ConstraintSet.END, myCL.id, ConstraintSet.END, 0)\n        set.setHorizontalChainStyle(ivIcon.id, ConstraintSet.CHAIN_PACKED)\n        set.setHorizontalChainStyle(tvText.id, ConstraintSet.CHAIN_PACKED)\n        set.setHorizontalWeight(ivIcon.id, 10f)\n        set.setHorizontalWeight(ivIcon.id, 90f)\n        set.applyTo(myCL)\n\n        super.onActivityCreated(savedInstanceState)\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "gson", "mutablelist"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10760483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd039d9d0c47e7c4945f14b2be71be64?s=128&d=identicon&r=PG&f=1", "display_name": "AncBug", "link": "https://stackoverflow.com/users/10760483/ancbug"}, "edited": false, "score": 0, "creation_date": 1546425751, "post_id": 53999309, "comment_id": 94846403, "body": "Thank you so much! But why is it the case, that I&#39;ve seen several tutorials declaring for example an edittext in the beginning this way and then initializing it with content in the &quot;onCreate&quot; Function?"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 1, "last_activity_date": 1546380402, "creation_date": 1546380402, "answer_id": 53999309, "question_id": 53999081, "link": "https://stackoverflow.com/questions/53999081/add-function-of-my-mutablelist-doesnt-work/53999309#53999309", "title": "Add Function of my MutableList doesn&#39;t work", "body": "<p>Your <code>MutableList?</code> is always going to be null because of this line: </p>\n\n<pre><code>val permits_modulated : MutableList&lt;Schueler&gt;? = null\n</code></pre>\n\n<p>This says \"create a val (which cannot be changed) called permits_modulated, of type nullable MutableList, and set its value to null\".</p>\n\n<p>In order to get around this, you can declare this as having a non-null value, and dropping the nullability from the type:</p>\n\n<pre><code>val permits_modulated = mutableListOf&lt;Scheduler&gt;()\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>val permits_modulated: MutableList&lt;Scheduler&gt; = mutableListOf()\n</code></pre>\n\n<p>And then, when you add you can ignore the nullability because <code>permits_modulated</code> will always have a value that is not null:</p>\n\n<pre><code> permits_modulated.add(permit)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10760483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd039d9d0c47e7c4945f14b2be71be64?s=128&d=identicon&r=PG&f=1", "display_name": "AncBug", "link": "https://stackoverflow.com/users/10760483/ancbug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 53999309, "answer_count": 1, "score": 0, "last_activity_date": 1546408569, "creation_date": 1546378186, "last_edit_date": 1546408569, "question_id": 53999081, "link": "https://stackoverflow.com/questions/53999081/add-function-of-my-mutablelist-doesnt-work", "title": "Add Function of my MutableList doesn&#39;t work", "body": "<p>So I got this piece of code but somehow the \"add\" function doesn't work. The \"permits\" list is alright and the if-case is also triggered. But the last \"Log\" still shows \"null\" for permits_modulated. Any idea?</p>\n\n<pre><code>val permits: List&lt;Schueler&gt; = gson.fromJson(body, Array&lt;Schueler&gt;::class.java).toList()\nval permits_modulated: MutableList&lt;Schueler&gt;? = null\nfor (permit in permits) {\n    Log.d(\"permit in permits\", permit.toString() + \" \" + permit.vorname)\n    if (permit.vorname == name) {\n        permits_modulated?.add(permit)\n        Log.d(\"permit.vorname == name\", permit.toString() + \" \" + permit.vorname)\n        Log.d(\"permit_modulated in if\", permits_modulated.toString())\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin", "classpath", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 0, "creation_date": 1546375677, "post_id": 53998773, "comment_id": 94834642, "body": "Thanks.  Excellent.  I&#39;m looking up how to adapt to Kotlin DSL syntax."}, {"owner": {"reputation": 1917, "user_id": 593768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c8f9b4386eef5fab37022a36bd04828?s=128&d=identicon&r=PG", "display_name": "Siggen", "link": "https://stackoverflow.com/users/593768/siggen"}, "edited": false, "score": 0, "creation_date": 1618571468, "post_id": 53998773, "comment_id": 118647669, "body": "Hosting repository has moved to <a href=\"http://xqj.net/maven\" rel=\"nofollow noreferrer\">xqj.net/maven</a>."}], "tags": [], "owner": {"reputation": 7954, "user_id": 6899896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kxVjz.jpg?s=128&g=1", "display_name": "M.Ricciuti", "link": "https://stackoverflow.com/users/6899896/m-ricciuti"}, "is_accepted": true, "score": 1, "last_activity_date": 1546376181, "last_edit_date": 1546376181, "creation_date": 1546375187, "answer_id": 53998773, "question_id": 53998702, "link": "https://stackoverflow.com/questions/53998702/could-not-find-javax-xml-xqueryxqj-api1-0/53998773#53998773", "title": "Could not find javax.xml.xquery:xqj-api:1.0", "body": "<p>See here : <a href=\"https://mvnrepository.com/artifact/javax.xml.xquery/xqj-api/1.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.xml.xquery/xqj-api/1.0</a></p>\n\n<p>This module is not hosted on Maven central nor JCenter repositories, but it can be found in some other repositories like: <a href=\"https://mvnrepository.com/repos/springio-plugins-release\" rel=\"nofollow noreferrer\">https://mvnrepository.com/repos/springio-plugins-release</a>.</p>\n\n<p>If you want to add dependency to this module, just declare one the available hosting repositories, for example: </p>\n\n<p>In Groovy DSL:</p>\n\n<pre><code>repositories {\n    jcenter()\n    mavenCentral()\n    maven{            \n        url \"http://repo.spring.io/plugins-release/\"\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong> (from comment below)</p>\n\n<p>Kotlin DSL</p>\n\n<pre><code>repositories {\n    mavenCentral()\n    jcenter()\n    maven {\n        setUrl(\"http://repo.spring.io/plugins-release/\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 807, "favorite_count": 0, "accepted_answer_id": 53998773, "answer_count": 1, "score": 0, "last_activity_date": 1546376181, "creation_date": 1546374419, "question_id": 53998702, "link": "https://stackoverflow.com/questions/53998702/could-not-find-javax-xml-xqueryxqj-api1-0", "title": "Could not find javax.xml.xquery:xqj-api:1.0", "body": "<p>The maven repo is <a href=\"https://stackoverflow.com/q/48242437/262852\">added</a> correctly, and is required?</p>\n\n<p>If so, what's the syntax to add <code>xqj</code>?</p>\n\n<p>exception:</p>\n\n<pre><code>thufir@dur:~/NetBeansProjects/helloWorldBaseX$ \nthufir@dur:~/NetBeansProjects/helloWorldBaseX$ gradle clean run\n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not find javax.xml.xquery:xqj-api:1.0.\n     Searched in the following locations:\n       - https://jcenter.bintray.com/javax/xml/xquery/xqj-api/1.0/xqj-api-1.0.pom\n       - https://jcenter.bintray.com/javax/xml/xquery/xqj-api/1.0/xqj-api-1.0.jar\n       - https://repo.maven.apache.org/maven2/javax/xml/xquery/xqj-api/1.0/xqj-api-1.0.pom\n       - https://repo.maven.apache.org/maven2/javax/xml/xquery/xqj-api/1.0/xqj-api-1.0.jar\n     Required by:\n         project :\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\n2 actionable tasks: 1 executed, 1 up-to-date\nthufir@dur:~/NetBeansProjects/helloWorldBaseX$ \n</code></pre>\n\n<p>build file:    </p>\n\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java project to get you started.\n * For more details take a look at the Java Quickstart chapter in the Gradle\n * user guide available at https://docs.gradle.org/5.0/userguide/tutorial_java_projects.html\n */\n\nplugins {\n    // Apply the java plugin to add support for Java\n    java\n\n    // Apply the application plugin to add support for building an application\n    application\n}\n\nrepositories {\n    // Use jcenter for resolving your dependencies.\n    // You can declare any Maven/Ivy/file repository here.\n    jcenter()\n    mavenCentral()\n}\n\ndependencies {\n    // This dependency is found on compile classpath of this component and consumers.\n    implementation(\"com.google.guava:guava:26.0-jre\")\n\n// https://mvnrepository.com/artifact/org.basex/basex\ncompile (group= \"org.basex\", name = \"basex\" , version = \"7.3.1\")\n\ncompile (group = \"javax.xml.xquery\" , name = \"xqj-api\" , version = \"1.0\")\n\n\n\n    // Use TestNG framework, also requires calling test.useTestNG() below\n    testImplementation(\"org.testng:testng:6.14.3\")\n}\n\napplication {\n    // Define the main class for the application\n    mainClassName = \"org.basex.examples.local.App\"\n}\n\nval test by tasks.getting(Test::class) {\n    // Use TestNG for unit tests\n    useTestNG()\n}\n</code></pre>\n"}, {"tags": ["android", "if-statement", "kotlin", "textview", "declaration"], "answers": [{"comments": [{"owner": {"reputation": 36, "user_id": 8468538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08afc6b618e7f179cec9f65985f39439?s=128&d=identicon&r=PG&f=1", "display_name": "randbo", "link": "https://stackoverflow.com/users/8468538/randbo"}, "edited": false, "score": 0, "creation_date": 1546376821, "post_id": 53998212, "comment_id": 94834871, "body": "Thanks for commenting. I am fairly new to this. Could you elaborate a little more? For the (1..9).forEach what if i have no determined amount? The textView#Price example was for easy reference. The ID&#39;s of each only have Price as the commonfactor. Sorry for the inconvenience."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 36, "user_id": 8468538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08afc6b618e7f179cec9f65985f39439?s=128&d=identicon&r=PG&f=1", "display_name": "randbo", "link": "https://stackoverflow.com/users/8468538/randbo"}, "edited": false, "score": 0, "creation_date": 1546377016, "post_id": 53998212, "comment_id": 94834929, "body": "I assume that you have textviews like <code>textView1Price</code>, <code>textView2Price</code>,.. if the last one&#39;s id is textView1000Price, you just have to change the range to (<code>1..1000</code>). If the ids have not such a similarity then this code won&#39;t work."}, {"owner": {"reputation": 36, "user_id": 8468538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08afc6b618e7f179cec9f65985f39439?s=128&d=identicon&r=PG&f=1", "display_name": "randbo", "link": "https://stackoverflow.com/users/8468538/randbo"}, "edited": false, "score": 0, "creation_date": 1546377550, "post_id": 53998212, "comment_id": 94835053, "body": "i think i can make this work. ill just have to comment over all the entries so i can keep track of the values. example NewYorkPrice =. will be changed to textView1Price with a comment above stating New York. Thanks for your help i apprciate it."}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1546437427, "post_id": 53998212, "comment_id": 94851809, "body": "As a sidenote, I tend to use <code>with(tv) { when { text.startsWith() -&gt; ... } }</code> for Kotlin"}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 3, "last_activity_date": 1546369890, "creation_date": 1546369890, "answer_id": 53998212, "question_id": 53998118, "link": "https://stackoverflow.com/questions/53998118/how-to-connect-declarations-and-if-statements/53998212#53998212", "title": "How to connect declarations and If statements?", "body": "<p>For the TextViews that have ids like <code>textView?Price</code> you can use the <code>getIdentifier()</code> method to get their integer ids in a loop and then apply the conditions, like this (for 9 TextViews):</p>\n\n<pre><code>(1..9).forEach {\n    val id = resources.getIdentifier(\"textView${it}Price\", \"id\", packageName)\n    val tv = findViewById&lt;TextView&gt;(id)\n    if (tv.text.startsWith(\"-\")) {\n        tv.setTextColor(Color.RED)\n    } else if (tv.text.startsWith(\"+\")) {\n        tv.setTextColor(Color.GREEN)\n    } else if (tv.text.startsWith(\"0.00\")) {\n        tv.text = \"_\"\n        tv.setTextColor(Color.DKGRAY)\n    }\n}\n</code></pre>\n\n<p>For <code>resources</code> and <code>packageName</code> you may need to supply a valid <code>Context</code> like:</p>\n\n<pre><code>val id = context.resources.getIdentifier(\"textView${it}Price\", \"id\", context.packageName)\n</code></pre>\n\n<p>if your code is not inside an activity. <br/>\nFor the other TextViews, if their ids have such a similarity, you can use the same method.</p>\n"}], "owner": {"reputation": 36, "user_id": 8468538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08afc6b618e7f179cec9f65985f39439?s=128&d=identicon&r=PG&f=1", "display_name": "randbo", "link": "https://stackoverflow.com/users/8468538/randbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 53998212, "answer_count": 1, "score": 0, "last_activity_date": 1546466330, "creation_date": 1546369143, "last_edit_date": 1546466330, "question_id": 53998118, "link": "https://stackoverflow.com/questions/53998118/how-to-connect-declarations-and-if-statements", "title": "How to connect declarations and If statements?", "body": "<p>I want to change multiple textView colors through a couple if statements. All of them have different ID's except for the last part of them that ends with \"....Price\". I have tried just pasting the if statements on all of them but the build fails. </p>\n\n<p>i have made declarations like this.</p>\n\n<p><code>textView1Price = (\"+10.00\")\n textView2Price = (\"-10.00\")\n textView3Price = (\"0.00\")</code></p>\n\n<p>and the if statements like so.</p>\n\n<pre><code> if (colorID.text.startsWith(\"-\")) {\n        colorID.setTextColor(Color.RED)\n    }\n if (colorID.text.startsWith(\"+\")) {\n        colorID.setTextColor(Color.GREEN)\n    }\n if (colorID.text.startsWith(\"0.00\")) {\n        colorID.text = \"_\"\n        colorID.setTextColor(Color.DKGRAY)\n</code></pre>\n\n<p>I am having trouble figuring out how to connect the declarations to the If statements. I have tried something like this with partial success but can't list more that one declaration.</p>\n\n<pre><code>val colorID = textView1Price\n</code></pre>\n\n<p>i have also tried to find a way to reference the</p>\n\n<pre><code>text.contains(\"Price\")\n</code></pre>\n\n<p>but have not been able to. Any help is appreciated. Thanks for your time.</p>\n\n<p>EDIT: Solution Follow up</p>\n\n<pre><code>//Declarations\n//metal location A price\nPrice1 = (\"+10.00\")\n//metal location B price\nPrice2 = (\"-10.00\")\n//metal location C price\nPrice3 = (\"0.00\")\n</code></pre>\n\n<p>Android Studio suggested when statement over if</p>\n\n<pre><code>(1..912).forEach {\n        val id = resources.getIdentifier(\"Price$it\", \"id\", packageName)\n        val tv = findViewById&lt;TextView&gt;(id)\n        when {\n            tv.text.startsWith(\"-\") -&gt; tv.setTextColor(Color.RED)\n            tv.text.startsWith(\"+\") -&gt; tv.setTextColor(Color.GREEN)\n            tv.text.startsWith(\"0.00\") -&gt; {\n                tv.text = \"_\"\n                tv.setTextColor(Color.DKGRAY)\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "paging"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546378017, "post_id": 53998075, "comment_id": 94835147, "body": "What&#39;s the point of using the Paging library for this if you already have the whole list in memory anyway?"}, {"owner": {"reputation": 83, "user_id": 7781604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54c2cc46d70c277b882b71a869e5744a?s=128&d=identicon&r=PG&f=1", "display_name": "peyman", "link": "https://stackoverflow.com/users/7781604/peyman"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546417652, "post_id": 53998075, "comment_id": 94843086, "body": "i read list from local file then create list of <code>HomeEntity</code> and finally show them"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546417714, "post_id": 53998075, "comment_id": 94843122, "body": "In which case I ask the exact same question as I asked above. The reason why Paging works with Room is because SQLite supports SKIP+TAKE (limit/offset), and has every other item on disk but not in memory"}, {"owner": {"reputation": 83, "user_id": 7781604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54c2cc46d70c277b882b71a869e5744a?s=128&d=identicon&r=PG&f=1", "display_name": "peyman", "link": "https://stackoverflow.com/users/7781604/peyman"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546419419, "post_id": 53998075, "comment_id": 94843732, "body": "correct :) , thanks"}], "owner": {"reputation": 83, "user_id": 7781604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54c2cc46d70c277b882b71a869e5744a?s=128&d=identicon&r=PG&f=1", "display_name": "peyman", "link": "https://stackoverflow.com/users/7781604/peyman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546368858, "creation_date": 1546368858, "question_id": 53998075, "link": "https://stackoverflow.com/questions/53998075/use-array-as-datasource-in-paging-library", "title": "use array as datasource in paging library", "body": "<p>i have arrayList of <code>HomeEntity</code>, can i able to use it on Paging Library?</p>\n\n<pre><code>// this is HomeDataSource class \nvar dataSource: List&lt;HomeEntity&gt; =\n     arrayListOf(\n        HomeEntity(\n            R.string.home_divide_title,\n            R.string.home_divide_name,\n            R.string.home_divide_story,\n            R.drawable.ic_home_divide,\n            R.color.common_red\n        ),\n        HomeEntity(\n            R.string.home_report_title,\n            R.string.home_report_name,\n            R.string.home_report_story,\n            R.drawable.ic_home_report,\n            R.color.common_pink\n        ))\n\n// this is HomeEntity class\ndata class HomeEntity(\n    var title: Int,\n    var name: Int,\n    var story: Int,\n    var icon: Int,\n    var iconColor: Int\n)\n</code></pre>\n\n<p>i read some article on web, most of them use paging library with Retrofit or Room which provide data source(LiveData) automatically</p>\n\n<p>my problem is i can't figure how to pass this array to paging library</p>\n"}, {"tags": ["android", "button", "kotlin", "onclicklistener", "layout-inflater"], "comments": [{"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1546409117, "post_id": 53998060, "comment_id": 94840540, "body": "Instead of maintaining views directly. Maintain the data set. Take arrayList which holds all items which you want to display. Now when user click add button just add new item to that list and notify your adapter."}, {"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "reply_to_user": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1546433700, "post_id": 53998060, "comment_id": 94850029, "body": "@Moinkhan can you give that example in code? I&#39;m confused about it. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "edited": false, "score": 0, "creation_date": 1546438828, "post_id": 54007557, "comment_id": 94852492, "body": "yes, the removeField remove the view, it&#39;s not relevant for my question. I&#39;ve inspected and it is, is the view I think, unfortunately. Yes, the id is multiplicated... but it need to be, to do the action, right? Thank you for your atention."}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "reply_to_user": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "edited": false, "score": 0, "creation_date": 1546439138, "post_id": 54007557, "comment_id": 94852641, "body": "Do not duplicate the view. Use a good-old <code>findViewById</code> for such cases. Also, if you remove the view using <code>removeField()</code> then how would a listener respond to it?"}, {"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "edited": false, "score": 0, "creation_date": 1546439352, "post_id": 54007557, "comment_id": 94852738, "body": "The remove the view is optional, you don&#39;t need to click it. But how am I supose to use the findViewById? I need that all the next &quot;btn_add_field_din&quot; to do the action, the inflate... and onyl the first works."}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "reply_to_user": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "edited": false, "score": 0, "creation_date": 1546439655, "post_id": 54007557, "comment_id": 94852891, "body": "Ok. <code>rowView.findViewById(R.id.btn_add_field_din).setOnClickListe&zwnj;&#8203;ner</code> should be more specific. You got the idea."}, {"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "edited": false, "score": 0, "creation_date": 1546440037, "post_id": 54007557, "comment_id": 94853061, "body": "All the buttons got the same id (&quot;btn_add_field_din&quot;), except the first. And only the first &quot;btn_add_field_din&quot; works."}], "tags": [], "owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "is_accepted": false, "score": 0, "last_activity_date": 1546437104, "creation_date": 1546437104, "answer_id": 54007557, "question_id": 53998060, "link": "https://stackoverflow.com/questions/53998060/kotlin-android-setonclicklistener-only-works-in-one-button/54007557#54007557", "title": "Kotlin/Android - setOnClickListener only works in one button", "body": "<p>The way you inflate the view yet using synthetic references to inner views.. I'm not sure it works this way because <code>R</code> is created on compilation, not runtime. And I suppose you use multiple ViewHolder of this kind inside the RecyclerView. In which case, the same ID would be set to multiple Views, which is not possible.</p>\n\n<p>My guess is that <code>btn_add_field_din</code> does not reference the view you think. Inspect it. Try to set a background <code>Color.RED</code> see if that's the right view.</p>\n\n<p>Also, <code>removeField(btn_add_field_din, holder.parent_linear_layout)</code> seems to remove the view, does it?</p>\n"}], "owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 441, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1546437104, "creation_date": 1546368713, "question_id": 53998060, "link": "https://stackoverflow.com/questions/53998060/kotlin-android-setonclicklistener-only-works-in-one-button", "title": "Kotlin/Android - setOnClickListener only works in one button", "body": "<p>I got a <code>recyclerView</code> with multiple items (<code>ViewHolders</code>). In one (ViewHolderItemTratamentos) of these I got the following elements:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tUF9Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tUF9Z.png\" alt=\"enter image description here\"></a></p>\n\n<p>When the first \"add button\" is clicked, through an inflator layout, the same elements (<code>editText</code> and <code>button</code>) are created beneath the previous ones. Just like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RDRVM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RDRVM.png\" alt=\"enter image description here\"></a></p>\n\n<p>Till here, everything is ok. Another row is created with a equal <code>editText</code> and a equal <code>button</code> which got a different id, <code>R.id.btn_add_field_din</code> (from the layout inflated). This <code>button</code> right here got the same logic behind it. It inflates the same layout (same row). But then, this third button won't work, and it got the same id (<code>R.id.btn_add_field_din</code>). I also tried by <code>tag</code>, but it gave me the same problem. </p>\n\n<p><strong>The problem is that I want to have many rows as I want it, but from the third button the <code>setClickOnListener</code> lost action</strong>. Do you know what might be? Here's the code:</p>\n\n<p><strong>ADAPTER:</strong></p>\n\n<pre><code>holder.add_field_button.setOnClickListener {\n\n    holder.parent_linear_layout.apply {\n        val inflater = LayoutInflater.from(context)\n        val rowView = inflater.inflate(R.layout.used_products_field, this, false)\n        holder.parent_linear_layout.addView(rowView, holder.parent_linear_layout.childCount!! - 0)\n        holder.add_field_button.text = \"-\"\n\n        //remove row\n        removeField(holder.add_field_button, holder.parent_linear_layout)\n\n        btn_add_field_din.setOnClickListener {\n            val inflater = LayoutInflater.from(context)\n            val rowView = inflater.inflate(R.layout.used_products_field, this, false)\n             holder.parent_linear_layout.addView(rowView, holder.parent_linear_layout.childCount!! - 0)\n             btn_add_field_din.text = \"-\"\n\n        //remove row\n        removeField(btn_add_field_din, holder.parent_linear_layout)\n        }\n     }\n  }\n</code></pre>\n\n<p><strong>LAYOUT INFLATED (R.layout.used_products_field):</strong></p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:orientation=\"horizontal\" &gt;\n    &lt;EditText\n        android:id=\"@+id/number_edit_text\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"5\"\n        android:focusedByDefault=\"true\"\n        android:inputType=\"phone\"/&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_add_field_din\"\n        android:layout_width=\"50dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center\"\n        style=\"@style/botaoCard\"\n        android:textSize=\"24dp\"\n        android:text=\"+\"\n        android:padding=\"5dp\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1546366088, "post_id": 53997728, "comment_id": 94832674, "body": "What is your expected result?"}, {"owner": {"reputation": 475, "user_id": 7392346, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/3ynQT.jpg?s=128&g=1", "display_name": "luca ditrimma", "link": "https://stackoverflow.com/users/7392346/luca-ditrimma"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1546366172, "post_id": 53997728, "comment_id": 94832695, "body": "&quot;Subject 1, Subject 2, Subject 3&quot;"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1546366647, "post_id": 53997728, "comment_id": 94832797, "body": "Isn&#39;t the delimeter <code>&quot;</code> in this case?"}], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546366982, "post_id": 53997839, "comment_id": 94832878, "body": "This only works if the fields don&#39;t contain the separator though"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546367089, "post_id": 53997839, "comment_id": 94832907, "body": "Which separator?"}, {"owner": {"reputation": 475, "user_id": 7392346, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/3ynQT.jpg?s=128&g=1", "display_name": "luca ditrimma", "link": "https://stackoverflow.com/users/7392346/luca-ditrimma"}, "edited": false, "score": 0, "creation_date": 1546367634, "post_id": 53997839, "comment_id": 94833035, "body": "thanks forpas, how to get John Doe at 0, 13 at 1 and Subjects at 2? I assume the field is separated by comma."}, {"owner": {"reputation": 475, "user_id": 7392346, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/3ynQT.jpg?s=128&g=1", "display_name": "luca ditrimma", "link": "https://stackoverflow.com/users/7392346/luca-ditrimma"}, "edited": false, "score": 0, "creation_date": 1546368675, "post_id": 53997839, "comment_id": 94833259, "body": "Your solution worked. But, is there any other solution which use comma as separator and consider double quote as one grouped value?"}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 1, "last_activity_date": 1546372622, "last_edit_date": 1546372622, "creation_date": 1546366840, "answer_id": 53997839, "question_id": 53997728, "link": "https://stackoverflow.com/questions/53997728/parse-csv-to-kotlin-list/53997839#53997839", "title": "Parse CSV to Kotlin List", "body": "<p>Split by <code>\"</code> and you get a list with <code>size = 3</code><br/> \nand what you need is at <code>index = 1</code>. <br/>\nThen you need to split the item <code>index = 0</code> by <code>,</code> for the name and the number:</p>\n\n<pre><code>val s = \"John Doe, 13, \\\"Subject 1, Subject 2, Subject 3\\\"\"\nval list: List&lt;String&gt; = s.split(\"\\\"\")\nval listStart = list[0].split(\",\")\nval subjects = list[1].trim()\nval name = listStart[0].trim()\nval number = listStart[1].trim()\n</code></pre>\n\n<p>Another way if you don't really need the list but only the values:</p>\n\n<pre><code>val s = \"John Doe, 13, \\\"Subject 1, Subject 2, Subject 3\\\"\"\nval subjects = s.substringAfter(\"\\\"\").substringBefore(\"\\\"\").trim()\nval name = s.substringBefore(\",\").trim()\nval number = s.substringAfter(\",\").substringBefore(\",\").trim()\n\nprintln(\"name: \" + name)\nprintln(\"number: \" + number)\nprintln(\"subjects: \" + subjects)\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>name: John Doe\nnumber: 13\nsubjects:Subject 1, Subject 2, Subject 3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2025, "user_id": 2317875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6574420d716cf1436cc2f9a1b2f0ac3?s=128&d=identicon&r=PG", "display_name": "unigeek", "link": "https://stackoverflow.com/users/2317875/unigeek"}, "is_accepted": false, "score": 1, "last_activity_date": 1546380677, "last_edit_date": 1546380677, "creation_date": 1546370712, "answer_id": 53998293, "question_id": 53997728, "link": "https://stackoverflow.com/questions/53997728/parse-csv-to-kotlin-list/53998293#53998293", "title": "Parse CSV to Kotlin List", "body": "<p>Is this helpful? Not much of a test since I make no actual assertions, but maybe enough to put you onto the idea.</p>\n\n<pre><code>@Test\nfun should_tolerate_quoted_commas_in_third_column() {\n    val s = \"John Doe, 13, \\\"Subject 1, Subject 2, Subject 3\\\"\"\n    val pattern = Pattern.compile(\",\")\n    s.split(regex=pattern, limit=3).forEach( System.out::println )\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>John Doe\n 13\n \"Subject 1, Subject 2, Subject 3\"\n</code></pre>\n\n<p>EDIT 1:</p>\n\n<p>Similarly...</p>\n\n<pre><code>@Test\nfun should_make_list_from_quoted_string_in_third_column() {\n    val s = \"John Doe, 13, \\\"Subject 1, Subject 2, Subject 3\\\"\"\n    val outerList = s.split(regex = Pattern.compile(\",\"), limit = 3)\n    outerList[2].replace(\"\\\"\",\"\").split(\",\").forEach( System.out::println )\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "is_accepted": true, "score": 2, "last_activity_date": 1546376196, "creation_date": 1546376196, "answer_id": 53998880, "question_id": 53997728, "link": "https://stackoverflow.com/questions/53997728/parse-csv-to-kotlin-list/53998880#53998880", "title": "Parse CSV to Kotlin List", "body": "<p>The given regex just works fine. Currently you try to split the string <code>s</code> at the raw regex as delimeter, which does not exists in <code>s</code>. Simply add <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-regex.html\" rel=\"nofollow noreferrer\"><code>.toRegex()</code></a> to the regex.</p>\n\n<pre><code>val s = \"John Doe, 13, \\\"Subject 1, Subject 2, Subject 3\\\"\"\nvar list: List&lt;String&gt; = s.split(\",(?=([^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)\".toRegex())\nLog.d(\"size:\", list.size.toString() + \" - subjects:\" + list[2])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 475, "user_id": 7392346, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/3ynQT.jpg?s=128&g=1", "display_name": "luca ditrimma", "link": "https://stackoverflow.com/users/7392346/luca-ditrimma"}, "edited": false, "score": 0, "creation_date": 1546387144, "post_id": 53999170, "comment_id": 94836701, "body": "this csv is created by me from another app. :-) Btw, I will give a look on your suggestion for future upgrade."}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 2, "last_activity_date": 1546378882, "creation_date": 1546378882, "answer_id": 53999170, "question_id": 53997728, "link": "https://stackoverflow.com/questions/53997728/parse-csv-to-kotlin-list/53999170#53999170", "title": "Parse CSV to Kotlin List", "body": "<p>I'd recommend <em>not</em> doing the parsing yourself, but using an existing library.\u00a0 (For example, I found <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">Apache Commons CSV</a> easy to use from Kotlin.)</p>\n\n<p>Although writing parsing code can be fun, and CSV seems simple enough, it has enough complications and variations that unless you created it yourself, you're likely to miss some cases.\u00a0 (Not just escaped quotes, but other escaped characters, nested quotes, fields which include newlines, comment lines\u2026\u00a0 And my favourite gotcha: MS Excel uses the machine's list separator, which can be semicolon or another character instead of comma to separate fields!)</p>\n\n<p>Trust me, I've been there\u2026</p>\n"}], "owner": {"reputation": 475, "user_id": 7392346, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/3ynQT.jpg?s=128&g=1", "display_name": "luca ditrimma", "link": "https://stackoverflow.com/users/7392346/luca-ditrimma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3921, "favorite_count": 0, "accepted_answer_id": 53998880, "answer_count": 4, "score": 1, "last_activity_date": 1546380677, "creation_date": 1546365860, "question_id": 53997728, "link": "https://stackoverflow.com/questions/53997728/parse-csv-to-kotlin-list", "title": "Parse CSV to Kotlin List", "body": "<p>I'm a bit confused.\nI have this csv line with double quote(\"\") as grouped strings, and want to convert to Kotlin List.\nHowever it produces a single array with size 1.\nI want to be able to get the group, assumes at position 2.</p>\n\n<pre><code>val s = \"John Doe, 13, \\\"Subject 1, Subject 2, Subject 3\\\"\"\nvar list: List&lt;String&gt; = s.split(\",(?=([^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)\")\nLog.d(\"size:\", list.size.toString() + \" - subjects:\" + list[2])\n</code></pre>\n\n<p>This gives me error</p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 2, Size: 1\n</code></pre>\n"}, {"tags": ["android", "kotlin", "bottom-sheet"], "comments": [{"owner": {"reputation": 1655, "user_id": 3659361, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9433ec83ef3295ecff4ba703c441b9f2?s=128&d=identicon&r=PG&f=1", "display_name": "May Rest in Peace", "link": "https://stackoverflow.com/users/3659361/may-rest-in-peace"}, "edited": false, "score": 0, "creation_date": 1546369475, "post_id": 53997134, "comment_id": 94833423, "body": "Can you put a breakpoint to check if execution is reaching <code>bottomSheetTaskRepeat.show..</code>? Because I ran your code and it was working perfecly."}], "answers": [{"tags": [], "owner": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "is_accepted": false, "score": 1, "last_activity_date": 1593263409, "last_edit_date": 1593263409, "creation_date": 1593240867, "answer_id": 62606912, "question_id": 53997134, "link": "https://stackoverflow.com/questions/53997134/bottomsheetdialogfragment-is-not-showing-up/62606912#62606912", "title": "BottomSheetDialogFragment is not showing up", "body": "<p>This is a late Answer, I am writing for anyone who will face the same problem, This is what I found:</p>\n<p>For some reasons non-constrained views heights do not work in <code>BottomSheetDialogFragment</code>. A view whose height is like <code>wrap_content</code> will not show.<em>(But the shadow will be there)</em>, but when you specify its height like <code>80dp</code> it works.</p>\n<p>For this question go and change your <code>RadioGroup</code> height and specify it like to:</p>\n<pre><code>android:layout_height=&quot;200dp&quot;\n</code></pre>\n<p>Hope that is helpful.</p>\n<p>UPDATE:\nSince the default container of <code>BottomSheetDailogFragment</code> is <code>FrameLayout</code> and is set to <code>WRAP_CONTENT</code>, You can override that on your Fragment <code>onStart</code> method like this (Kotlin):</p>\n<pre><code>override fun onStart() {\n    super.onStart()\n    val containerID = com.google.android.material.R.id.design_bottom_sheet\n    val bottomSheet: FrameLayout? = dialog?.findViewById(containerID)\n    bottomSheet?.let {\n        BottomSheetBehavior.from&lt;FrameLayout?&gt;(it).state =\n            BottomSheetBehavior.STATE_HALF_EXPANDED\n        bottomSheet.layoutParams.height = FrameLayout.LayoutParams.MATCH_PARENT\n    }\n\n    view?.post {\n        val params = (view?.parent as View).layoutParams as (CoordinatorLayout.LayoutParams)\n        val behavior = params.behavior\n        val bottomSheetBehavior = behavior as (BottomSheetBehavior)\n        bottomSheetBehavior.peekHeight = view?.measuredHeight ?: 0\n        (bottomSheet?.parent as? View)?.setBackgroundColor(Color.TRANSPARENT)\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10854648, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ELHjkTVoVM8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaLYqX5SNS9TikNiQMtuQZAhXIucQ/mo/photo.jpg?sz=128", "display_name": "Soroush Lotfi", "link": "https://stackoverflow.com/users/10854648/soroush-lotfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1357, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1593263409, "creation_date": 1546360557, "question_id": 53997134, "link": "https://stackoverflow.com/questions/53997134/bottomsheetdialogfragment-is-not-showing-up", "title": "BottomSheetDialogFragment is not showing up", "body": "<p>I've followed <a href=\"https://medium.com/@kosta.palash/using-bottomsheetdialogfragment-with-material-design-guideline-f9814c39b9fc\" rel=\"nofollow noreferrer\">this tutorial</a> to implement BottomSheetDiaogFragment in my android application.</p>\n\n<p>this is my bottom sheet layout (bottom_sheet.xml):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;android.support.constraint.ConstraintLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n&lt;RadioGroup\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"16dp\"\n    android:layout_marginTop=\"16dp\"\n    android:layout_marginEnd=\"16dp\"\n    android:layout_marginBottom=\"16dp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n    &lt;RadioButton\n        android:id=\"@+id/rb1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_weight=\"1\"\n        android:text=\"@string/rb1\" /&gt;\n\n    &lt;RadioButton\n        android:id=\"@+id/rb2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_weight=\"1\"\n        android:text=\"@string/rb2\" /&gt;\n\n&lt;/RadioGroup&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>BottomSheetDialogFragment class:</p>\n\n<pre><code>class BottomSheetTaskRepeat : BottomSheetDialogFragment() {\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.bottom_sheet, container, false)\n    }\n}\n</code></pre>\n\n<p>activity:</p>\n\n<pre><code>private val bottomSheetTaskRepeat = BottomSheetTaskRepeat()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    bottomSheetTaskRepeat.show(supportFragmentManager, \"my_bottom_sheet\")\n}\n</code></pre>\n\n<p>The problem is that the bottom sheet is not showing up! Any help is appreciated.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "radio-button", "radio-group"], "comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1546358437, "post_id": 53996723, "comment_id": 94830932, "body": "try using Hashmap its similar to key value pair it will help you to set each question as key"}, {"owner": {"reputation": 2445, "user_id": 2389923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a9332842a945234c71e89f9b9780447?s=128&d=identicon&r=PG", "display_name": "beigirad", "link": "https://stackoverflow.com/users/2389923/beigirad"}, "edited": false, "score": 0, "creation_date": 1546360124, "post_id": 53996723, "comment_id": 94831349, "body": "Do you want to know which radioButton in a radioGroup isChecked?"}], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 2784348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3910168e08de4f6f9b718e14695acf0e?s=128&d=identicon&r=PG&f=1", "display_name": "Shalu Gupta", "link": "https://stackoverflow.com/users/2784348/shalu-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1546439129, "creation_date": 1546439129, "answer_id": 54008059, "question_id": 53996723, "link": "https://stackoverflow.com/questions/53996723/in-a-recyclerview-how-to-determine-the-radio-button-clicked-is-from-the-same-rad/54008059#54008059", "title": "In a recyclerview how to determine the radio button clicked is from the same radio group in Android", "body": "<p>you have to use hash map on the behalf of every click of radio button in the same radio group \nThis problem is mainly because of your Adapter object reusing.</p>\n\n<p>So what you should do is, You should store the selected item some how and you should check and update when ever it called getView method in the view.</p>\n\n<p>here is some code for refrence:please follow and let me know :</p>\n\n<p>public class CustomArrayAdapter extends BaseAdapter{</p>\n\n<pre><code>private Context context;\nprivate ArrayList&lt;HashMap&lt;String, String&gt;&gt; data;\n\npublic CustomArrayAdapter(Context context,ArrayList&lt;HashMap&lt;String, String&gt;&gt; data) {\n    super();\n    this.context = context;\n    this.data = data;\n\n}\n\npublic View getView(int position, View convertView, ViewGroup parent) {\n    ViewHolder holder;\n    if(convertView==null){\n        holder = new ViewHolder();\n        convertView = LayoutInflater.from(context).inflate(R.layout.custom_questions, parent,false);\n        holder.textView1 = (TextView) convertView.findViewById(R.id.textView1);\n        holder.radioGroup1 = (RadioGroup) convertView.findViewById(R.id.radioGroup1);\n        holder.radio0 = (RadioButton) convertView.findViewById(R.id.radio0);\n        holder.radio1 = (RadioButton) convertView.findViewById(R.id.radio1);\n        holder.radio2 = (RadioButton) convertView.findViewById(R.id.radio2);\n        holder.radio3 = (RadioButton) convertView.findViewById(R.id.radio3);\n\n        convertView.setTag(holder);\n    }else{\n        holder =(ViewHolder) convertView.getTag();\n    }\n\n    holder.textView1.setText(data.get(position).get(\"questions\"));\n    holder.radio0.setText(data.get(position).get(\"op1\"));\n    holder.radio1.setText(data.get(position).get(\"op2\"));\n    holder.radio2.setText(data.get(position).get(\"op3\"));\n    holder.radio3.setText(data.get(position).get(\"op4\"));\n\n    HashMap&lt;Integer,String&gt; radioMap = new HashMap&lt;Integer, String&gt;();\n    radioMap.put(holder.radio0.getId(),holder.radio0.getText().toString());\n    radioMap.put(holder.radio1.getId(),holder.radio1.getText().toString());\n    radioMap.put(holder.radio2.getId(),holder.radio2.getText().toString());\n    radioMap.put(holder.radio3.getId(),holder.radio3.getText().toString());\n\n    holder.radioGroup1.setTag(radioMap);\n    holder.radioGroup1.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(RadioGroup group, int checkedId) {\n            HashMap&lt;Integer,String&gt; data = (HashMap&lt;Integer,String&gt;) group.getTag();\n            Toast.makeText(context,data.get(checkedId),Toast.LENGTH_SHORT).show();\n        }\n    });\n\n    return convertView;\n}\n\n@Override\npublic int getCount() {\n    return data.size();\n}\n\n@Override\npublic Object getItem(int position) {\n    return data.get(position);\n}\n\n@Override\npublic long getItemId(int position) {\n    return position;\n}\n\nclass ViewHolder{\n    TextView textView1;\n    RadioGroup radioGroup1;\n    RadioButton radio0;\n    RadioButton radio1;\n    RadioButton radio2;\n    RadioButton radio3;\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 2810, "user_id": 2325929, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f8057b78c5e5665878dd52fc5b1f00e5?s=128&d=identicon&r=PG", "display_name": "theanilpaudel", "link": "https://stackoverflow.com/users/2325929/theanilpaudel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546439129, "creation_date": 1546356995, "question_id": 53996723, "link": "https://stackoverflow.com/questions/53996723/in-a-recyclerview-how-to-determine-the-radio-button-clicked-is-from-the-same-rad", "title": "In a recyclerview how to determine the radio button clicked is from the same radio group in Android", "body": "<p>I have a <code>RadioGroup</code> with 4 <code>RadioButtons</code> inside a <code>RecyclerView</code>.\nRecyclerView adapter goes like this</p>\n\n<pre><code>    class QuestionRecyclerAdapter(var number:Int, val context: Context, val quesions: List&lt;Question&gt;,val qnADao: QnADao) : RecyclerView.Adapter&lt;QuestionRecyclerAdapter.ViewHolder&gt;() {\n        lateinit var question:Question\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n\n            return ViewHolder(LayoutInflater.from(context).inflate(R.layout.question_single_item, parent, false));\n        }\n\n        override fun getItemCount(): Int {\n\n            return quesions.size;\n        }\n         fun updateNumber(number: Int){\n            this.number = number\n        }\n\n        override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n            question = quesions[position]\n            holder.textTestQuestion.text = \"\"+(number+position)+\" \"+ question.question;\n            holder.answerFirst.text = \"a. \"+ question.answers?.get(0).toString()\n            holder.answerSecond.text = \"b. \"+ question.answers?.get(1).toString()\n            holder.answerThird.text = \"c. \"+ question.answers?.get(2).toString()\n            holder.answerFourth.text = \"d. \"+ question.answers?.get(3).toString()   \n\n            holder.radio_group.setOnCheckedChangeListener(object : RadioGroup.OnCheckedChangeListener{\n                override fun onCheckedChanged(group: RadioGroup?, checkedId: Int) {\n                    when(checkedId){\n                        R.id.answerFirst -&gt; {\n                            question.rightAnswer=0\n                        }\n                        R.id.answerSecond -&gt; {\n                            question.rightAnswer=1\n                        }\n                        R.id.answerThird -&gt; {\n                            question.rightAnswer=2\n                        }\n                        R.id.answerFourth -&gt; {\n                            question.rightAnswer=3\n                        }\n                    }\n\n        }\n\n\n        class ViewHolder(view: View) : RecyclerView.ViewHolder(view)  {\n            val textTestQuestion = view.test_text_question\n            val answerFirst = view.answerFirst\n            val answerSecond = view.answerSecond\n            val answerThird = view.answerThird\n            val answerFourth = view.answerFourth\n            val radio_group = view.radioGrp\n\n\n        }\n    }\n</code></pre>\n\n<p><code>question_single_item.xml</code> is like this\n    \n        </p>\n\n<pre><code>        &lt;RadioButton\n            android:id=\"@+id/first\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:button=\"@null\"\n            android:checked=\"false\"\n            android:drawableRight=\"@android:drawable/btn_radio\"\n            android:textSize=\"14dp\" /&gt;\n\n        &lt;RadioButton\n            android:id=\"@+id/second\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:button=\"@null\"\n            android:checked=\"false\"\n            android:drawableRight=\"@android:drawable/btn_radio\"\n            android:textSize=\"14dp\" /&gt;\n\n        &lt;RadioButton\n            android:id=\"@+id/third\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:button=\"@null\"\n            android:checked=\"false\"\n            android:drawableRight=\"@android:drawable/btn_radio\"\n            android:textSize=\"14dp\" /&gt;\n\n        &lt;RadioButton\n            android:id=\"@+id/fourth\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:button=\"@null\"\n            android:checked=\"false\"\n            android:drawableRight=\"@android:drawable/btn_radio\"\n            android:textSize=\"14dp\" /&gt;\n    &lt;/RadioGroup&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>In the recyclerview I am populating almost 100s of data and so there are 100 radio groups with 100*4 radio buttons. So I need to find out if the same radio buttons in a same radio group is selected or not. In other words, I need to find out if the radio button(4 in a group) selected is from the same group or not. Any help would be appreciated. Thanks</p>\n"}, {"tags": ["android", "android-studio", "layout", "kotlin"], "comments": [{"owner": {"reputation": 3547, "user_id": 2289835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/0MQ72.jpg?s=128&g=1", "display_name": "Rumit Patel", "link": "https://stackoverflow.com/users/2289835/rumit-patel"}, "edited": false, "score": 0, "creation_date": 1546349675, "post_id": 53995820, "comment_id": 94829056, "body": "post code for <b>przycisk</b> also. or is there any image?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546350081, "post_id": 53995820, "comment_id": 94829152, "body": "You might need to put <code>android:clipToPadding=&quot;false&quot;</code> on all of  them and also set <code>android:clipChildren=&quot;false&quot;, android:clipToPadding=&quot;false&quot;</code> on the parent container"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10044428, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oi6SjItE-cM/AAAAAAAAAAI/AAAAAAAAAC4/VuYT_m09gxg/photo.jpg?sz=128", "display_name": "DEEEP 1029", "link": "https://stackoverflow.com/users/10044428/deeep-1029"}, "edited": false, "score": 0, "creation_date": 1546354508, "post_id": 53995941, "comment_id": 94830149, "body": "It&#39;s working, but when I use <code>android:background=&quot;@drawable&#47;przycisk&quot;</code> in my Button,  I haven&#39;t shadow"}, {"owner": {"reputation": 13, "user_id": 10044428, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oi6SjItE-cM/AAAAAAAAAAI/AAAAAAAAAC4/VuYT_m09gxg/photo.jpg?sz=128", "display_name": "DEEEP 1029", "link": "https://stackoverflow.com/users/10044428/deeep-1029"}, "edited": false, "score": 0, "creation_date": 1546354528, "post_id": 53995941, "comment_id": 94830154, "body": "przycisk is a image"}], "tags": [], "owner": {"reputation": 3547, "user_id": 2289835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/0MQ72.jpg?s=128&g=1", "display_name": "Rumit Patel", "link": "https://stackoverflow.com/users/2289835/rumit-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1546350193, "creation_date": 1546350193, "answer_id": 53995941, "question_id": 53995820, "link": "https://stackoverflow.com/questions/53995820/androidelevation-doesnt-show-shadows/53995941#53995941", "title": "android:elevation doesn&#39;t show shadows", "body": "<blockquote>\n  <p>The default <code>Button</code> style under <code>Material</code> has a <code>StateListAnimator</code>\n  that controls the <code>android:elevation</code> and <code>android:translationZ</code>\n  properties.</p>\n</blockquote>\n\n<p><sub><a href=\"https://stackoverflow.com/a/27112143/1843331\">copied from here</a></sub></p>\n\n<p>just add this property to your <code>Button</code>. you can set your own using the <code>android:stateListAnimator</code> property.</p>\n\n<pre><code>android:stateListAnimator=\"@null\"\n</code></pre>\n\n<p><strong>full code :</strong></p>\n\n<pre><code>        &lt;Button\n                android:id=\"@+id/my_button\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_centerHorizontal=\"true\"\n                android:layout_marginLeft=\"20dp\"\n                android:elevation=\"2dp\"\n                android:translationZ=\"2dp\"\n                android:stateListAnimator=\"@null\"\n                android:background=\"@android:color/holo_green_light\"\n                android:text=\"BUTTON\"&gt;\n</code></pre>\n\n<p><strong>UpDate :</strong> </p>\n\n<p>for Understanding I set it 10dp..</p>\n\n<p><strong>xml code :</strong></p>\n\n<pre><code>&lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"20dp\"&gt;\n\n        &lt;Button\n            android:id=\"@+id/my_button\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_marginLeft=\"20dp\"\n            android:elevation=\"10dp\"\n            android:translationZ=\"10dp\"\n            android:stateListAnimator=\"@null\"\n            android:background=\"@android:color/holo_green_light\"\n            android:text=\"BUTTON\"/&gt;\n\n    &lt;/RelativeLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10044428, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oi6SjItE-cM/AAAAAAAAAAI/AAAAAAAAAC4/VuYT_m09gxg/photo.jpg?sz=128", "display_name": "DEEEP 1029", "link": "https://stackoverflow.com/users/10044428/deeep-1029"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546397239, "creation_date": 1546349261, "last_edit_date": 1546397239, "question_id": 53995820, "link": "https://stackoverflow.com/questions/53995820/androidelevation-doesnt-show-shadows", "title": "android:elevation doesn&#39;t show shadows", "body": "<p>I have a question. \nWhy <code>android:elevation</code> doesn't show shadows? I am making shadows first time</p>\n\n<p>Only used in <code>ImageButton</code> it's working (when I use with android:background it isn't working)</p>\n\n<p><a href=\"https://i.stack.imgur.com/zuktN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zuktN.png\" alt=\"my_image\"></a></p>\n\n<p>This is my code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n\n&lt;Button\n        android:text=\"TestBTT\"\n        android:layout_width=\"295dp\"\n        android:layout_height=\"41dp\"\n        android:padding=\"10dp\"\n        android:elevation=\"30dp\"\n        android:outlineProvider=\"bounds\"\n        android:background=\"@drawable/przycisk\"\n        android:id=\"@+id/button2\" android:layout_marginTop=\"60dp\"\n        app:layout_constraintTop_toTopOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\"\n        android:layout_marginStart=\"72dp\"/&gt;\n&lt;ImageButton\n        android:layout_width=\"247dp\"\n        android:layout_height=\"61dp\"\n        android:id=\"@+id/imageButton\" android:layout_marginTop=\"188dp\"\n        android:elevation=\"20dp\"\n        app:layout_constraintTop_toTopOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\"\n        android:layout_marginStart=\"72dp\" android:cropToPadding=\"true\" android:adjustViewBounds=\"true\"/&gt;\n&lt;TextView\n        android:text=\"TextView\"\n        android:elevation=\"40dp\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/textView\" android:textSize=\"24sp\"\n        android:layout_marginTop=\"360dp\" app:layout_constraintTop_toTopOf=\"parent\"\n        android:layout_marginStart=\"196dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>What to do to make the shadows appear under the button?\nAnd what to do to show up under the button where is android: background?</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 1063, "user_id": 9188790, "user_type": "registered", "profile_image": "https://graph.facebook.com/1960869044240152/picture?type=large", "display_name": "Angelina", "link": "https://stackoverflow.com/users/9188790/angelina"}, "edited": false, "score": 0, "creation_date": 1546347828, "post_id": 53995572, "comment_id": 94828646, "body": "what if I have more layers between the <code>Repository</code> and the lifecycle-aware class?"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 1063, "user_id": 9188790, "user_type": "registered", "profile_image": "https://graph.facebook.com/1960869044240152/picture?type=large", "display_name": "Angelina", "link": "https://stackoverflow.com/users/9188790/angelina"}, "edited": false, "score": 0, "creation_date": 1546348024, "post_id": 53995572, "comment_id": 94828691, "body": "I would create additional cancellation method in each layer, propagating call to the repository."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 3, "last_activity_date": 1546347883, "last_edit_date": 1546347883, "creation_date": 1546346959, "answer_id": 53995572, "question_id": 53995389, "link": "https://stackoverflow.com/questions/53995389/kotlin-coroutine-scope-job-cancellation-in-non-lifecycle-classes/53995572#53995572", "title": "Kotlin coroutine scope &amp; job cancellation in non-lifecycle classes", "body": "<p>You can create some cancelation method in the repository and call it from class which has lifecycle (Activity, Presenter or ViewModel), for example:</p>\n\n<pre><code>class NotesRepositoryImpl @Inject constructor(\n     private val cache: CacheDataSource,\n     private val remote: RemoteDataSource\n) : NotesRepository, CoroutineScope {\n\n    private val job = Job()\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.IO + job\n\n    fun cancel() {\n        job.cancel()\n    }\n\n    //...\n\n}\n\nclass SomePresenter(val repo: NotesRepository) {\n\n    fun detachView() {\n        repo.cancel()\n    }\n}\n</code></pre>\n\n<p>Or move launching coroutine to some class with lifecycle.</p>\n"}], "owner": {"reputation": 1063, "user_id": 9188790, "user_type": "registered", "profile_image": "https://graph.facebook.com/1960869044240152/picture?type=large", "display_name": "Angelina", "link": "https://stackoverflow.com/users/9188790/angelina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1122, "favorite_count": 1, "accepted_answer_id": 53995572, "answer_count": 1, "score": 1, "last_activity_date": 1546347883, "creation_date": 1546345293, "question_id": 53995389, "link": "https://stackoverflow.com/questions/53995389/kotlin-coroutine-scope-job-cancellation-in-non-lifecycle-classes", "title": "Kotlin coroutine scope &amp; job cancellation in non-lifecycle classes", "body": "<p>How to use new Kotlin v1.3 coroutines in classes which do not have lifecycles, like repositories?\nI have a class where I check if the cache is expired and then decide whether I fetch the data from the remote API or local database. I need to start the <code>launch</code> and <code>async</code> from there. But then how do I cancel the job?</p>\n\n<p>Example code:</p>\n\n<pre><code>class NotesRepositoryImpl @Inject constructor(\n     private val cache: CacheDataSource,\n     private val remote: RemoteDataSource\n ) : NotesRepository, CoroutineScope {\n\nprivate val expirationInterval = 60 * 10 * 1000L /* 10 mins */\nprivate val job = Job()\noverride val coroutineContext: CoroutineContext\n    get() = Dispatchers.IO + job\n\noverride fun getNotes(): LiveData&lt;List&lt;Note&gt;&gt; {\n    if (isOnline() &amp;&amp; isCacheExpired()) {\n        remote.getNotes(object : GetNotesCallback {\n            override fun onGetNotes(data: List&lt;Note&gt;?) {\n                data?.let {\n                    launch {\n                        cache.saveAllNotes(it)\n                        cache.setLastCacheTime(System.currentTimeMillis())\n                    }\n                }\n            }\n        })\n    }\n    return cache.getNotes()\n}\n\noverride fun addNote(note: Note) {\n    if (isOnline()) {\n        remote.createNote(note, object : CreateNoteCallback {\n            override fun onCreateNote(note: Note?) {\n                note?.let { launch { cache.addNote(it) } }\n            }\n        })\n    } else {\n        launch { cache.addNote(note) }\n    }\n}\n\noverride fun getSingleNote(id: Int): LiveData&lt;Note&gt; {\n    if (isOnline()) {\n        val liveData: MutableLiveData&lt;Note&gt; = MutableLiveData()\n        remote.getNote(id, object : GetSingleNoteCallback {\n            override fun onGetSingleNote(note: Note?) {\n                note?.let {\n                    liveData.value = it\n                }\n            }\n        })\n        return liveData\n    }\n    return cache.getSingleNote(id)\n}\n\noverride fun editNote(note: Note) {\n    if (isOnline()) {\n        remote.updateNote(note, object : UpdateNoteCallback {\n            override fun onUpdateNote(note: Note?) {\n                note?.let { launch { cache.editNote(note) } }\n            }\n        })\n    } else {\n        cache.editNote(note)\n    }\n}\n\noverride fun delete(note: Note) {\n    if (isOnline()) {\n        remote.deleteNote(note.id!!, object : DeleteNoteCallback {\n            override fun onDeleteNote(noteId: Int?) {\n                noteId?.let { launch { cache.delete(note) } }\n            }\n        })\n    } else {\n        cache.delete(note)\n    }\n}\n\nprivate fun isCacheExpired(): Boolean {\n    var delta = 0L\n    runBlocking(Dispatchers.IO) {\n        val currentTime = System.currentTimeMillis()\n        val lastCacheTime = async { cache.getLastCacheTime() }\n        delta = currentTime - lastCacheTime.await()\n    }\n    Timber.d(\"delta: $delta\")\n    return delta &gt; expirationInterval\n}\n\nprivate fun isOnline(): Boolean {\n    val runtime = Runtime.getRuntime()\n    try {\n        val ipProcess = runtime.exec(\"/system/bin/ping -c 1 8.8.8.8\")\n        val exitValue = ipProcess.waitFor()\n        return exitValue == 0\n    } catch (e: IOException) {\n        e.printStackTrace()\n    } catch (e: InterruptedException) {\n        e.printStackTrace()\n    }\n    return false\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "kotlin", "constructor", "android-view", "android-context"], "comments": [{"owner": {"reputation": 1849, "user_id": 2692102, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/irlFR.gif?s=128&g=1", "display_name": "Hanzala", "link": "https://stackoverflow.com/users/2692102/hanzala"}, "edited": false, "score": 1, "creation_date": 1546347260, "post_id": 53995306, "comment_id": 94828506, "body": "we have to add context as parameter because we can&#39;t generate view for that classes which don&#39;t have context so it&#39;s like a verification ...."}], "answers": [{"tags": [], "owner": {"reputation": 2310, "user_id": 9819031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7eM6.jpg?s=128&g=1", "display_name": "Gourav", "link": "https://stackoverflow.com/users/9819031/gourav"}, "is_accepted": false, "score": 1, "last_activity_date": 1547483669, "last_edit_date": 1547483669, "creation_date": 1546345229, "answer_id": 53995382, "question_id": 53995306, "link": "https://stackoverflow.com/questions/53995306/manually-setting-context-in-android/53995382#53995382", "title": "Manually setting context in Android", "body": "<p>This is because there can many other parameters for this. </p>\n\n<p>We set the <code>context</code> because we let the <code>Button</code> base class(or any other you're using) that the declared variable is instance of Button but not the other classes available all over!</p>\n"}, {"tags": [], "owner": {"reputation": 189, "user_id": 8577077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ee7e89036612852ee003ee76c929e3?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Perdomo", "link": "https://stackoverflow.com/users/8577077/diego-perdomo"}, "is_accepted": true, "score": 1, "last_activity_date": 1546362621, "last_edit_date": 1546362621, "creation_date": 1546351236, "answer_id": 53996076, "question_id": 53995306, "link": "https://stackoverflow.com/questions/53995306/manually-setting-context-in-android/53996076#53996076", "title": "Manually setting context in Android", "body": "<p>I found this article: <a href=\"https://www.101apps.co.za/index.php/articles/all-about-using-android-s-context-class.html\" rel=\"nofollow noreferrer\">https://www.101apps.co.za/index.php/articles/all-about-using-android-s-context-class.html</a></p>\n\n<p>I think that explains very well why do we need to pass context manually to view instances.</p>\n\n<blockquote>\n  <p>\"Passing the context to the view when it is being constructed, gives\n  you the flexibility to use a different context to construct the view,\n  as the one used by the activity, for example. This gives the view\n  access to resources other than those used by the activity.\"</p>\n</blockquote>\n\n<p>Android could set context automatically but it gives you freedom to choose another one. That could be useful.</p>\n"}, {"tags": [], "owner": {"reputation": 809, "user_id": 7919219, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-C8xr-YTkr4k/AAAAAAAAAAI/AAAAAAAAAIs/ptkHBHbSR1A/photo.jpg?sz=128", "display_name": "Maneki Neko", "link": "https://stackoverflow.com/users/7919219/maneki-neko"}, "is_accepted": false, "score": 2, "last_activity_date": 1546352952, "last_edit_date": 1546352952, "creation_date": 1546352620, "answer_id": 53996238, "question_id": 53995306, "link": "https://stackoverflow.com/questions/53995306/manually-setting-context-in-android/53996238#53996238", "title": "Manually setting context in Android", "body": "<p>True, theoretically, that could have been done only when attaching the view to a parent, and then if the parent is attached to the activity root it has context, if not - when attaching a view, Android could have gone over its descendants and set their Context.</p>\n\n<p>However: </p>\n\n<ol>\n<li>It is inconvenient to implement. It's easy to have autonomous views with each already set to its context.</li>\n<li>There are some things that are in the context and are necessary for manipulating the view. E.g. constraint system, metrics... many bits and bolts. Views also listen to events and can provide some services that require Context before they are attached to another view.</li>\n<li>What if you have several contexts. You want to be able to choose which context to refer to. Say, you got an always-on-too floating button that is managed by some service and views managed by the activity.</li>\n</ol>\n\n<p>It is highly recommended to peek in Android sources. You will find cool facts inside, and it's an excellent way to learn.</p>\n"}], "owner": {"reputation": 189, "user_id": 8577077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ee7e89036612852ee003ee76c929e3?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Perdomo", "link": "https://stackoverflow.com/users/8577077/diego-perdomo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "accepted_answer_id": 53996076, "answer_count": 3, "score": 2, "last_activity_date": 1547646741, "creation_date": 1546344517, "last_edit_date": 1547646741, "question_id": 53995306, "link": "https://stackoverflow.com/questions/53995306/manually-setting-context-in-android", "title": "Manually setting context in Android", "body": "<p>I am new to Android development and I made a research about Context. I understand what it is and why is usefull. But I see that android handles context for me in activities for example, I have to extends a class that inherits from context and thats it. However in some situations I have to manually add context to a thing. For example when creating a new instance of a view from kotlin. I have to pass a context to the view constructor, for example: Button(this)</p>\n\n<p>Why do I have to tell a view instance that it is part of an activity explicitly?</p>\n\n<p>I am defining it inside the activity after all.</p>\n\n<p>I understand that context it's like a bridge between my app and external resources and system tools but setting it manually sometimes confuses me.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1001, "user_id": 1588876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c88adc0540e95fbf0a4f9ccc7708dda?s=128&d=identicon&r=PG", "display_name": "ibad ur rahman", "link": "https://stackoverflow.com/users/1588876/ibad-ur-rahman"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1546343178, "post_id": 53995053, "comment_id": 94827672, "body": "the above code is for image to set as wallpaper. what will i do to set Video as wallpaper"}, {"owner": {"reputation": 1001, "user_id": 1588876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c88adc0540e95fbf0a4f9ccc7708dda?s=128&d=identicon&r=PG", "display_name": "ibad ur rahman", "link": "https://stackoverflow.com/users/1588876/ibad-ur-rahman"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1546344149, "post_id": 53995053, "comment_id": 94827867, "body": "it Say &quot;not supported&quot;"}, {"owner": {"reputation": 224, "user_id": 9172041, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hH-91RLOjU8/AAAAAAAAAAI/AAAAAAAAADQ/G8cPWgU-Gr4/photo.jpg?sz=128", "display_name": "mitesh makwana", "link": "https://stackoverflow.com/users/9172041/mitesh-makwana"}, "edited": false, "score": 0, "creation_date": 1546345145, "post_id": 53995053, "comment_id": 94828061, "body": "check this tutorial <a href=\"http://www.vogella.com/tutorials/AndroidLiveWallpaper/article.html\" rel=\"nofollow noreferrer\">vogella.com/tutorials/AndroidLiveWallpaper/article.html</a>"}, {"owner": {"reputation": 1001, "user_id": 1588876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c88adc0540e95fbf0a4f9ccc7708dda?s=128&d=identicon&r=PG", "display_name": "ibad ur rahman", "link": "https://stackoverflow.com/users/1588876/ibad-ur-rahman"}, "edited": false, "score": 0, "creation_date": 1546402727, "post_id": 53995053, "comment_id": 94839167, "body": "this one is for images. not for video"}, {"owner": {"reputation": 101, "user_id": 5187940, "user_type": "registered", "profile_image": "https://graph.facebook.com/866171970144214/picture?type=large", "display_name": "PhongBM", "link": "https://stackoverflow.com/users/5187940/phongbm"}, "edited": false, "score": 0, "creation_date": 1589555464, "post_id": 53995053, "comment_id": 109349649, "body": "I want to set image as wallpaper too, I use your code for my project, but &quot;No apps can perform this action.&quot; I think the <code>Intent(Intent.ACTION_ATTACH_DATA)</code> is not supported."}], "answers": [{"comments": [{"owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 1, "creation_date": 1546425343, "post_id": 54004724, "comment_id": 94846239, "body": "Nice &amp; polyglot, but a battery hungry application. Accept your own answer, so others may skip visiting."}, {"owner": {"reputation": 1001, "user_id": 1588876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c88adc0540e95fbf0a4f9ccc7708dda?s=128&d=identicon&r=PG", "display_name": "ibad ur rahman", "link": "https://stackoverflow.com/users/1588876/ibad-ur-rahman"}, "reply_to_user": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 0, "creation_date": 1546428117, "post_id": 54004724, "comment_id": 94847459, "body": "i cannot today. because Stackoverflow accept answer on own questions 2 days later. so it will take time. thanks"}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 1, "creation_date": 1546435907, "post_id": 54004724, "comment_id": 94851064, "body": "Nice answer! You should fix the minor formatting issues for your code examples though (like using correct indenting all over the place)!"}], "tags": [], "owner": {"reputation": 1001, "user_id": 1588876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c88adc0540e95fbf0a4f9ccc7708dda?s=128&d=identicon&r=PG", "display_name": "ibad ur rahman", "link": "https://stackoverflow.com/users/1588876/ibad-ur-rahman"}, "is_accepted": true, "score": 1, "last_activity_date": 1582108411, "last_edit_date": 1582108411, "creation_date": 1546425078, "answer_id": 54004724, "question_id": 53995053, "link": "https://stackoverflow.com/questions/53995053/set-video-as-set-wallpaper-in-android/54004724#54004724", "title": "set video as SET WALLPAPER in android?", "body": "<p>Hello i found solution for my problem: </p>\n\n<p>in Kotlin Android: </p>\n\n<pre><code>    class VideoLiveWallpaperService : WallpaperService() {\n\n    override fun onCreateEngine(): WallpaperService.Engine {\n        return VideoEngine()\n    }\n\n    internal inner class VideoEngine : WallpaperService.Engine() {\n\n        private val TAG = javaClass.simpleName\n        private val mediaPlayer: MediaPlayer\n\n        init {\n            Log.i(TAG, \"( VideoEngine )\")\n            mediaPlayer = MediaPlayer.create(baseContext, R.raw.video1)\n            mediaPlayer.isLooping = true\n        }\n\n        override fun onSurfaceCreated(holder: SurfaceHolder) {\n            Log.i(TAG, \"onSurfaceCreated\")\n            mediaPlayer.setSurface(holder.surface)\n            mediaPlayer.start()\n        }\n\n        override fun onSurfaceDestroyed(holder: SurfaceHolder) {\n            Log.i(TAG, \"( INativeWallpaperEngine ): onSurfaceDestroyed\")\n            playheadTime = mediaPlayer.currentPosition\n            mediaPlayer.reset()\n            mediaPlayer.release()\n        }\n    }\n\n    companion object {\n        protected var playheadTime = 0\n    }\n\n}\n</code></pre>\n\n<p>in Java:</p>\n\n<pre><code>public class VideoWallpaperService extends WallpaperService\n{\n    protected static int                playheadTime = 0;\n\n    @Override\n    public Engine onCreateEngine()\n        {\n            return new VideoEngine();\n        }\n\n    class VideoEngine extends Engine\n        {\n\n            private final String        TAG     = getClass().getSimpleName();\n            private final MediaPlayer   mediaPlayer;\n            public VideoEngine()\n                {\n                    super();\n                    Log.i( TAG, \"( VideoEngine )\");\n                    mediaPlayer = MediaPlayer.create(getBaseContext(), R.raw.wallpapervideo);\n                    mediaPlayer.setLooping(true);\n                }\n\n            @Override\n            public void onSurfaceCreated( SurfaceHolder holder )\n                {\n                    Log.i( TAG, \"onSurfaceCreated\" );\n                    mediaPlayer.setSurface(holder.getSurface());\n                    mediaPlayer.start();\n                }\n\n            @Override\n            public void onSurfaceDestroyed( SurfaceHolder holder )\n                {\n                    Log.i( TAG, \"( INativeWallpaperEngine ): onSurfaceDestroyed\" );\n                    playheadTime = mediaPlayer.getCurrentPosition();\n                    mediaPlayer.reset();\n                    mediaPlayer.release();\n                }\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>in Manifest: <code>&lt;service android:name=\".VideoLiveWallpaperService\"\n            android:label=\"Video live wallpaper\" android:permission=\"android.permission.BIND_WALLPAPER\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.service.wallpaper.WallpaperService\" /&gt;\n        &lt;/intent-filter&gt;\n        &lt;meta-data android:name=\"android.service.wallpaper\"\n            android:resource=\"@xml/wallpaper\" /&gt;\n        &lt;/service&gt;</code></p>\n\n<p>in res/xml/wallpaper.xml:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;wallpaper xmlns:android=\"http://schemas.android.com/apk/res/android\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1001, "user_id": 1588876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c88adc0540e95fbf0a4f9ccc7708dda?s=128&d=identicon&r=PG", "display_name": "ibad ur rahman", "link": "https://stackoverflow.com/users/1588876/ibad-ur-rahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1214, "favorite_count": 0, "accepted_answer_id": 54004724, "answer_count": 1, "score": 1, "last_activity_date": 1582108411, "creation_date": 1546342066, "last_edit_date": 1546345117, "question_id": 53995053, "link": "https://stackoverflow.com/questions/53995053/set-video-as-set-wallpaper-in-android", "title": "set video as SET WALLPAPER in android?", "body": "<p>i want to set video as Wallpaper just like ZEDGE Wallpaper and others wallpaper application do in play store. following is screen shot of ZEDGE Wallpaper app that set video As a Wallpaper in android.\n<a href=\"https://i.stack.imgur.com/zBWfh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zBWfh.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>i use below code for image as wallpaper:</p>\n\n<pre><code>  val intentt = Intent(Intent.ACTION_ATTACH_DATA)\n                    .setDataAndType(uri, \"image/*\")\n                    .putExtra(\"mimeType\", \"image/*\")\n                    .addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n\n\n            startActivityForResult(Intent.createChooser(intentt, getString(R.string.setas)), 1)\n</code></pre>\n\n<p>what can i do for Video to Set As Wallpaper?</p>\n"}, {"tags": ["android", "kotlin", "android-livedata"], "answers": [{"comments": [{"owner": {"reputation": 2150, "user_id": 4406995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ca41e4b14541c74143bf0972083236d?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/4406995/hayden"}, "edited": false, "score": 1, "creation_date": 1546422252, "post_id": 53999441, "comment_id": 94844940, "body": "The solution works, thanks. Are you able to if you can explain in more detail on why you need to use two switchMaps for it to work?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 2150, "user_id": 4406995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ca41e4b14541c74143bf0972083236d?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/4406995/hayden"}, "edited": false, "score": 0, "creation_date": 1546425035, "post_id": 53999441, "comment_id": 94846097, "body": "Technically I only need the second switchMap because your repository doesn&#39;t seem to be able to provide a <code>repository.getAllPlayersForTeam(team)</code> LiveData. If it did, I wouldn&#39;t filter the LiveData and map it over to a new LiveData (with the filtered data set), because I could get that LiveData directly."}, {"owner": {"reputation": 2150, "user_id": 4406995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ca41e4b14541c74143bf0972083236d?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/4406995/hayden"}, "edited": false, "score": 1, "creation_date": 1546425372, "post_id": 53999441, "comment_id": 94846250, "body": "I&#39;ll look further into adding a function into the repository to do just that, thanks."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 2150, "user_id": 4406995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ca41e4b14541c74143bf0972083236d?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/4406995/hayden"}, "edited": false, "score": 1, "creation_date": 1546426274, "post_id": 53999441, "comment_id": 94846642, "body": "One thing to note is that as you are using Kotlin, you might want to consider something like, <code>fun &lt;T, R&gt; LiveData&lt;T&gt;.switchMap(func: (T) -&gt; LiveData&lt;R&gt;) = Transformations.switchMap(this, func)</code> just for better chaining."}, {"owner": {"reputation": 2150, "user_id": 4406995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ca41e4b14541c74143bf0972083236d?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/4406995/hayden"}, "edited": false, "score": 0, "creation_date": 1546427717, "post_id": 53999441, "comment_id": 94847319, "body": "Good idea, I&#39;ve made the necessary changes (including the extension method), and is really clean now. Thanks for your time :)"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 12, "last_activity_date": 1546381706, "creation_date": 1546381706, "answer_id": 53999441, "question_id": 53994960, "link": "https://stackoverflow.com/questions/53994960/android-filter-livedata-list-based-on-selected-item-change-in-viewmodel/53999441#53999441", "title": "Android - Filter LiveData List based on Selected Item change in ViewModel", "body": "<p>You need to <code>switchMap</code> over the <code>selectedTeam</code>, and possibly renamed \"allPlayers\" because that's a lie. :P</p>\n\n<pre><code>val selectedTeam = MutableLiveData&lt;Team&gt;()\n\nval allTeams: LiveData&lt;List&lt;Team&gt;&gt;\n    get() = repository.getAllTeams().toLiveData()\n\nval playersOfSelectedTeam: LiveData&lt;List&lt;Player&gt;&gt;\n    get() = Transformations.switchMap(selectedTeam) { team -&gt;\n         val allPlayers = repository.getAllPlayers().toLiveData()\n         val players = when {\n             team == null -&gt; allPlayers\n             else -&gt; {\n                 Transformations.switchMap(allPlayers) { playerList -&gt;\n                     val filteredPlayers = MutableLiveData&lt;List&lt;Player&gt;&gt;()\n                     val filteredList = playerList.filter { player -&gt; player.team == team }\n                     filteredPlayers.value = filteredList\n                     filteredPlayers\n                 }\n             }\n         }\n         players \n    }\n</code></pre>\n\n<p>Which I really hope it works as I wrote it here directly.</p>\n"}], "owner": {"reputation": 2150, "user_id": 4406995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ca41e4b14541c74143bf0972083236d?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/4406995/hayden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5534, "favorite_count": 5, "accepted_answer_id": 53999441, "answer_count": 1, "score": 9, "last_activity_date": 1601089011, "creation_date": 1546340960, "last_edit_date": 1601089011, "question_id": 53994960, "link": "https://stackoverflow.com/questions/53994960/android-filter-livedata-list-based-on-selected-item-change-in-viewmodel", "title": "Android - Filter LiveData List based on Selected Item change in ViewModel", "body": "<p>I have a AndroidViewModel for one of my fragments which contains a LiveData List, and I have another property for selected item of another LiveData List. Below is an example of what I am talking about:</p>\n<pre><code>class TeamViewModel(app: Application): AndroidViewMode(app) {\n    ...\n\n    val selectedTeam = MutableLiveData&lt;Team&gt;()\n\n    val allTeams: LiveData&lt;List&lt;Team&gt;&gt;\n        get() = repository.getAllTeams().toLiveData()\n\n    val allPlayers: LiveData&lt;List&lt;Player&gt;&gt;\n        get() = repository.getAllPlayers().toLiveData()\n\n    ...\n}\n</code></pre>\n<p><em><strong>Note:</strong> <code>getAllTeams</code> and <code>getAllPlayers</code> returns a RxJava Flowable List, which I then convert to LiveData List via <code>.toLiveData</code></em></p>\n<p>Currently, <code>allPlayers</code> represents all the players from all teams. I'd like to make it so that whenever the value of <code>selectedTeam</code> changes, that <code>allPlayers</code> gets filtered down to only display players from the <code>selectedTeam</code>.</p>\n<p>What I've tried is to filter <code>allPlayers</code> directly like so:</p>\n<pre><code>val allPlayers: LiveData&lt;List&lt;Player&gt;&gt;\n    get() = repository.getAllPlayers()\n                .flatMap { list -&gt; Flowable.fromIterable(list)\n                    .filter {\n                        player -&gt; player.team == selectedTeam.value?.team\n                    }\n                }\n                .toList()\n                .toFlowable()\n                .toLiveData()\n</code></pre>\n<p>But as you may or may not guess, it doesn't update the filter for <code>allPlayers</code> whenever <code>selectedTeam</code> changes.</p>\n<p>Is there anyway to dynamically change the filter for <code>allPlayers</code> whenever <code>selectedTeam</code> changes?</p>\n<p><strong>EDIT</strong></p>\n<p>Thanks to @EpicPandaForce, the final solution I came up with is as followed:</p>\n<p>I created this extension method:</p>\n<pre><code>fun &lt;T, R&gt; LiveData&lt;T&gt;.switchMap(func: (T) -&gt; LiveData&lt;R&gt;) = Transformations.switchMap(this, func)\n</code></pre>\n<p>to make the code more readable.</p>\n<p>I've also created a function in my repository called <code>getAllPlayersFromTeam(team: Team)</code> which, as the function specifies, gets all the players from a team.</p>\n<p>Finally this is the end result of my property:</p>\n<pre><code>val allPlayersFromSelectedTeam: LiveData&lt;List&lt;Player&gt;&gt;\n    get() = selectedTeam.switchMap { \n        repository\n            .getAllPlayersFromTeam(it)\n            .toLiveData()\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 443, "user_id": 554508, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/73701a0ca2e1d0ed915e98e9f93776dc?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/554508/dre"}, "edited": false, "score": 0, "creation_date": 1546608147, "post_id": 53994884, "comment_id": 94914533, "body": "Is there anyway to do this without depending on Android? I&#39;m looking into multiplatform projects so would be ideal. Also the below method worked however it&#39;s received 2 downvotes so I&#39;m hesitant to accept it"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 443, "user_id": 554508, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/73701a0ca2e1d0ed915e98e9f93776dc?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/554508/dre"}, "edited": false, "score": 0, "creation_date": 1547632716, "post_id": 53994884, "comment_id": 95254662, "body": "Didn&#39;t try it on multiplatform projects. Maybe these links would be helpful: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/644\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/issues/644</a>, <a href=\"https://github.com/JetBrains/kotlinconf-app\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlinconf-app</a>. It would be great if you share your experience using coroutines in multiplatform projects."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 3, "last_activity_date": 1546340562, "last_edit_date": 1546340562, "creation_date": 1546340245, "answer_id": 53994884, "question_id": 53994410, "link": "https://stackoverflow.com/questions/53994410/use-coroutines-to-update-ui-while-making-network-call/53994884#53994884", "title": "Use coroutines to update UI while making network call", "body": "<p>The best practice is to use local scope to handle coroutines:</p>\n\n<pre><code>class ViewModel : CoroutineScope {\n    private var job: Job = Job()\n\n    // To use Dispatchers.Main (CoroutineDispatcher - runs and schedules coroutines) in Android add\n    // implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.0.1'\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.Main + job\n\n    enum class State { LOADING_ITEMS, SELECTING_ITEM } \n\n    var state = ObservableField&lt;State&gt;()   \n    var items = ObservableField&lt;List&lt;String&gt;&gt;()\n\n\n    fun detachView() {\n        job.cancel()\n    }\n\n    private fun loadItems() {\n        state.set(State.LOADING_ITEMS)\n        items.set(emptyList())\n        launch {\n            val itemsFromRepo = apiRepo.getItems()\n            items.set(itemsFromRepo)\n            state.set(State.SELECTING_ITEM)\n        }\n    }\n}\n</code></pre>\n\n<p>And regarding your question:</p>\n\n<blockquote>\n  <p>Is this the correct way of using Coroutines?</p>\n</blockquote>\n\n<p>Yes it is correct way. If you have network call inside a <code>suspend</code> function (that is in your case), then this function will suspend coroutine execution until you call <code>continuation.resume()</code> or other related methods to resume coroutine. And suspending the coroutine will not block the <code>main</code> thread.</p>\n"}], "owner": {"reputation": 443, "user_id": 554508, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/73701a0ca2e1d0ed915e98e9f93776dc?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/554508/dre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1168, "favorite_count": 0, "accepted_answer_id": 53994884, "answer_count": 1, "score": 3, "last_activity_date": 1546340562, "creation_date": 1546335567, "question_id": 53994410, "link": "https://stackoverflow.com/questions/53994410/use-coroutines-to-update-ui-while-making-network-call", "title": "Use coroutines to update UI while making network call", "body": "<p>I am trying to show a spinner while making a network call using coroutines. The UI seems to not show the LOADING_ITEMS state (a spinner) until the itemsFromRepo call returns, then the spinner shows for a split second, then the items display. I was under the impression that as it was in a coroutine, the state would be set to LOADING_ITEMS, the items would be cleared, the network call would be made in the background while the spinner is showing on the UI. Then when the network call has finished, the coroutine would continue running and set the items then state.</p>\n\n<p>Is this the correct way of using Coroutines? And scope, I think that's new from the experimental coroutines I played with months ago.</p>\n\n<pre><code>// ViewModel.kt\nenum class State { LOADING_ITEMS, SELECTING_ITEM } \n\nvar state = ObservableField&lt;State&gt;()   \nvar items = ObservableField&lt;List&lt;String&gt;&gt;()    \n\nprivate fun loadItems() {\n    state.set(State.LOADING_ITEMS)\n    items.set(emptyList())\n    GlobalScope.launch(Dispatchers.Main) {\n        val itemsFromRepo = apiRepo.getItems() // a network call\n        items.set(itemsFromRepo)\n        state.set(State.SELECTING_ITEM)\n    }\n}\n\n\n// Repo.kt\nsuspend fun getItems() = suspendCoroutine&lt;List&lt;String&gt;&gt; { cont -&gt;\n    FirebaseDatabase.getInstance().getReference(\"Items\")\n            .addListenerForSingleValueEvent(\n            object : ValueEventListener {\n                override fun onCancelled(error: DatabaseError?) {\n                    cont.resume(listOf(error?.message ?: \"Unknown error\"))\n                }\n\n                override fun onDataChange(snap: DataSnapshot?) {\n                    cont.resume(snap?.children?.map { it.key } ?: emptyList())\n                }\n            })\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 1, "last_activity_date": 1546367949, "creation_date": 1546367949, "answer_id": 53997982, "question_id": 53994146, "link": "https://stackoverflow.com/questions/53994146/how-to-get-a-document-contents-from-firestore-by-custom-object-android-kotli/53997982#53997982", "title": "How to get a document contents from Firestore by custom object? (Android - Kotlin)", "body": "<p>If you want to use a Kotlin data class with <code>documentSnapshot.toObject</code>, you're going to have to make each field a nullable <code>var</code> instead of <code>val</code>.  The Firestore SDK doesn't know how to map document fields into data class constructor argument.</p>\n\n<p>If you want a proper immutable data class with <code>val</code> fields, you're going to have to manually read each field out of the document, and call the data class constructor yourself.</p>\n"}], "owner": {"reputation": 65, "user_id": 9798529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lky50.png?s=128&g=1", "display_name": "Ali Almesbah", "link": "https://stackoverflow.com/users/9798529/ali-almesbah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2881, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1546367949, "creation_date": 1546332553, "last_edit_date": 1546344209, "question_id": 53994146, "link": "https://stackoverflow.com/questions/53994146/how-to-get-a-document-contents-from-firestore-by-custom-object-android-kotli", "title": "How to get a document contents from Firestore by custom object? (Android - Kotlin)", "body": "<p>I'm trying to get a document contents from Firestore. The following image link shows the database structure <a href=\"https://i.stack.imgur.com/zBoO9.png\" rel=\"nofollow noreferrer\">Firestore database structure</a></p>\n\n<p><strong>What I want:</strong> I want to get a document contents by a custom object and add the contents to a list.</p>\n\n<p><strong>The problem:</strong> I'm getting this error: \n<strong>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.aalmesbah.turoodpilot, PID: 12160\n    java.lang.RuntimeException: Could not deserialize object. Class com.google.firebase.auth.UserInfo does not define a no-argument constructor. If you are using ProGuard, make sure these constructors are not stripped</strong></p>\n\n<p>I tried to get the document content by <strong>get() and getString()</strong> methods and it worked fine the problem is only with the <strong>toObject()</strong>? </p>\n\n<p>I've searched and tried some suggested solutions from other questions here like add default values for the data class, but it didn't work, unfortunately. </p>\n\n<p><strong>data class code:</strong></p>\n\n<pre><code>data class UserInfo (val name: String? = \"\",\n                 val email: String? = \"\",\n                 val phoneNum: String? = \"\",\n                 val address: String? = \"\") {\n    constructor(): this(\"\",\"\",\"\", \"\" )\n</code></pre>\n\n<p>}    </p>\n\n<p><strong>Profile Fragment code:</strong> (where the document contents suppose to be shown) </p>\n\n<pre><code>class ProfileFragment : Fragment() {\n\nprivate lateinit var auth: FirebaseAuth\nprivate lateinit var db: FirebaseFirestore\n\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n    val view = inflater.inflate(R.layout.fragment_profile, container, false)\n\n    auth = FirebaseAuth.getInstance()\n    db = FirebaseFirestore.getInstance()\n\n    return view\n}\n\noverride fun onStart() {\n    super.onStart()\n\n    val userID = auth.currentUser?.uid\n    val docRef = db.collection(\"users\").document(userID!!)\n\n    docRef.addSnapshotListener(EventListener&lt;DocumentSnapshot&gt; { documentSnapshot, e -&gt;\n\n    if (e != null) {\n            Log.w(TAG, \"Listen failed.\", e)\n            return@EventListener\n        }\n\n        if (documentSnapshot != null &amp;&amp; documentSnapshot.exists()) {\n\n            docRef.get().addOnSuccessListener { documentSnapshot -&gt;\n                val userInfo = documentSnapshot.toObject(UserInfo::class.java)\n\n                emailTV.text = userInfo?.email\n            }\n        } else {\n\n                Log.d(TAG, \"Current data: null\")\n            }\n\n        })\n\n\n}\n</code></pre>\n\n<p>}    </p>\n\n<p><strong>sendUserData() method code at Registration activity</strong> </p>\n\n<pre><code>private fun sendUserData() {\n\n    val name = userN.text.toString()\n    val email = userEm.text.toString()\n    val phone = userPhone.text.toString()\n    val addressName = addressName.text.toString()\n    val area = area.text.toString()\n    val block = block.text.toString()\n    val street = strees.text.toString()\n    val avenue = avenue.text.toString()\n    val house = house.text.toString()\n    val floor = floor.text.toString()\n    val apartment = apartment.text.toString()\n    val additionalInfo = additional.text.toString()\n\n    val address = \"Addres Name: $addressName \\n Area: $area \\n B: $block ST: $street Av: $avenue H: $house\\n \" +\n            \"Floor: $floor Apartment: $apartment \\n Notes: $additionalInfo\"\n\n    val userID = auth.currentUser?.uid\n\n    val userData = UserInfo(name, email, phone, address)\n\n    db.collection(\"users\").document(userID!!).set(userData).addOnSuccessListener {\n            Toast.makeText(this, \"Successfully Registered\", Toast.LENGTH_SHORT).show()\n        }.addOnFailureListener{\n        Toast.makeText(this, \"Data Upload error!\", Toast.LENGTH_SHORT).show()\n        }\n\n\n}    \n</code></pre>\n"}, {"tags": ["android", "generics", "methods", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 9292927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15350c0a7517af2f0e5a99ee1caebd5e?s=128&d=identicon&r=PG&f=1", "display_name": "Yavuz", "link": "https://stackoverflow.com/users/9292927/yavuz"}, "edited": false, "score": 0, "creation_date": 1546330674, "post_id": 53993923, "comment_id": 94825510, "body": "what should I write instead of someview?"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 61, "user_id": 9292927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15350c0a7517af2f0e5a99ee1caebd5e?s=128&d=identicon&r=PG&f=1", "display_name": "Yavuz", "link": "https://stackoverflow.com/users/9292927/yavuz"}, "edited": false, "score": 0, "creation_date": 1546339503, "post_id": 53993923, "comment_id": 94826980, "body": "it is reference to any view, for example EditText."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 0, "last_activity_date": 1546329580, "creation_date": 1546329580, "answer_id": 53993923, "question_id": 53993821, "link": "https://stackoverflow.com/questions/53993821/how-to-do-generic-ontouchevent-method-for-kotlin/53993923#53993923", "title": "How to do generic onTouchEvent method for kotlin?", "body": "<p>You have a couple of options:</p>\n\n<ul>\n<li>Create a basic class for Activities, for example <code>BaseActivity</code> and override <code>onTouchEvent</code> method there. Inherit from that activity other activities.</li>\n<li><p>Create some util file, for example <code>UiUtils.kt</code> and define method of hiding keyboard there, e.g.:</p>\n\n<pre><code>fun hideKeyboard(view: View) {\n    val imm = view.context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n    imm.hideSoftInputFromWindow(view.windowToken, 0)\n}\n</code></pre>\n\n<p>Call it from your activities' <code>onTouchEvent()</code> method:</p>\n\n<pre><code>override fun onTouchEvent(event: MotionEvent?): Boolean {        \n    hideKeyboard(someView)\n    return super.onTouchEvent(event)\n}\n</code></pre></li>\n<li><p>Create extension function on <code>View</code> in your <code>CommonExtensions.kt</code> file:</p>\n\n<pre><code>fun View.hideKeyboard() {\n    val imm = context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n    imm.hideSoftInputFromWindow(windowToken, 0)\n}\n</code></pre>\n\n<p>And call it from <code>onTouchEvent()</code> method:</p>\n\n<pre><code>override fun onTouchEvent(event: MotionEvent?): Boolean {        \n    someView.hideKeyboard()\n    return super.onTouchEvent(event)\n}\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 61, "user_id": 9292927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15350c0a7517af2f0e5a99ee1caebd5e?s=128&d=identicon&r=PG&f=1", "display_name": "Yavuz", "link": "https://stackoverflow.com/users/9292927/yavuz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 53993923, "answer_count": 1, "score": 0, "last_activity_date": 1546329580, "creation_date": 1546328369, "question_id": 53993821, "link": "https://stackoverflow.com/questions/53993821/how-to-do-generic-ontouchevent-method-for-kotlin", "title": "How to do generic onTouchEvent method for kotlin?", "body": "<p>I have such a method. In loginactivity.kt. What I want to do is make this method generic and use it everywhere. I want to write a method in CommonExtensions.kt, but I can't write it right and I get an error. How can I make Generic become</p>\n\n<p>LoginActivity.kt</p>\n\n<pre><code>override fun onTouchEvent(event: MotionEvent?): Boolean {\n\n    val imm = this.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n    imm.hideSoftInputFromWindow(this.currentFocus?.windowToken, 0)\n\n    return super.onTouchEvent(event)\n}\n</code></pre>\n\n<p>CommonExtensions.kt</p>\n\n<pre><code>fun Context.onTouchEvent(event: MotionEvent?): Boolean {\n\nval imm = this.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\nimm.hideSoftInputFromWindow(this.onTouchEvent()?.windowToken, 0)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 796, "user_id": 1679571, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4fc5b62084b8f18f4e6579191a74be19?s=128&d=identicon&r=PG", "display_name": "Randy", "link": "https://stackoverflow.com/users/1679571/randy"}, "edited": false, "score": 0, "creation_date": 1546309527, "post_id": 53992611, "comment_id": 94823102, "body": "Similar question: <a href=\"https://stackoverflow.com/questions/31712046/kotlin-unresolved-reference-in-intellij\" title=\"kotlin unresolved reference in intellij\">stackoverflow.com/questions/31712046/&hellip;</a>"}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 2, "creation_date": 1546310956, "post_id": 53992611, "comment_id": 94823238, "body": "until is a function in Kotlin&#39;s stdlib, not a keyword. Do you have the stdlib on your classpath?"}, {"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 0, "creation_date": 1546345155, "post_id": 53992611, "comment_id": 94828063, "body": "well actually there is a similar question, and also the reply I received basically says what was in the original response. Should we mark it as duplicate? Should I accept the answer or not? Thank you to let me know that <code>until</code>is a function and not a keyword, interesting. Problem solved anyway."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1568871657, "post_id": 53992611, "comment_id": 102413561, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31712046/kotlin-unresolved-reference-in-intellij\">Kotlin unresolved reference in IntelliJ</a>"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1568871773, "post_id": 53992611, "comment_id": 102413597, "body": "@Drocchio you can accept an answer if you want, it might help s.o. who stumbles across your question. I will vote to close it as duplicate though, because it makes the link to the site with more answers more visible."}, {"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1569010086, "post_id": 53992611, "comment_id": 102471166, "body": "ok @leonardkraemer I am going to accept one answer or the duplicate"}], "answers": [{"tags": [], "owner": {"reputation": 64, "user_id": 6462799, "user_type": "registered", "profile_image": "https://graph.facebook.com/809397359161478/picture?type=large", "display_name": "Niyati Mehta", "link": "https://stackoverflow.com/users/6462799/niyati-mehta"}, "is_accepted": true, "score": 1, "last_activity_date": 1546324985, "creation_date": 1546324985, "answer_id": 53993528, "question_id": 53992611, "link": "https://stackoverflow.com/questions/53992611/unresolved-reference-in-kotlin-for-the-function-until/53993528#53993528", "title": "Unresolved reference in Kotlin for the function &#39;until&#39;", "body": "<p>Your Intellij IDEA plugin and the Kotlin runtime/compiler that you use in the project need to match.Your android studio must be upgraded with kotlin support. Check all these things and restart your android studio.</p>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 1152134, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/17d493585d5c8c9383e4be2197deae74?s=128&d=identicon&r=PG", "display_name": "DuckN&#39;Bear", "link": "https://stackoverflow.com/users/1152134/ducknbear"}, "is_accepted": false, "score": 2, "last_activity_date": 1568871265, "creation_date": 1568871265, "answer_id": 58004298, "question_id": 53992611, "link": "https://stackoverflow.com/questions/53992611/unresolved-reference-in-kotlin-for-the-function-until/58004298#58004298", "title": "Unresolved reference in Kotlin for the function &#39;until&#39;", "body": "<p>The answer from @Niyati Mehta is right. The issue is caused by project vs IDE kotlin plugin versions mismatching, but I think I should add a bit more:</p>\n\n<p>The only way I could get the IDE to acknowledge this (You should get a yellow warning on your gradle file) was reinstalling the whole IDE, since apparently updating it version 3.4 to 3.5 messed something up (I also removed .android and .android-studio folders, not sure if also needed). Only then I got the warning on the gradle file of the project.</p>\n\n<p>Once I got it, I looked up and updated the IDE version to match project by doing this:\n<code>Tools</code> -> <code>Kotlin</code> -> <code>Configure Kotlin Plugin Updates</code> -> <code>Check for updates now</code> (<a href=\"https://stackoverflow.com/a/48169695\">Source</a>)</p>\n\n<p>Hope this can help somebody else too.</p>\n"}, {"comments": [{"owner": {"reputation": 549, "user_id": 5627584, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/zXrut.jpg?s=128&g=1", "display_name": "Robert Ruxandrescu", "link": "https://stackoverflow.com/users/5627584/robert-ruxandrescu"}, "edited": false, "score": 0, "creation_date": 1606773251, "post_id": 59582985, "comment_id": 115058703, "body": "Thanks, that worked for me."}], "tags": [], "owner": {"reputation": 352, "user_id": 11029770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc6892344c56d03c0abc524a4928ba36?s=128&d=identicon&r=PG&f=1", "display_name": "ConcernedHobbit", "link": "https://stackoverflow.com/users/11029770/concernedhobbit"}, "is_accepted": false, "score": 1, "last_activity_date": 1578073226, "creation_date": 1578073226, "answer_id": 59582985, "question_id": 53992611, "link": "https://stackoverflow.com/questions/53992611/unresolved-reference-in-kotlin-for-the-function-until/59582985#59582985", "title": "Unresolved reference in Kotlin for the function &#39;until&#39;", "body": "<p>I specifically had this issue with the latest version of Kotlin at the time: 1.3.61</p>\n\n<p>I downgraded my code to 1.3.60, and the issue went away. Maybe the release isn't as stable as it should be! I still kept my IDE at 1.3.61, and it gives me the warning in my build.gradle file that they aren't the same version, but the warnings have gone away. Hopefully Google will fix the issue in the next version soon.</p>\n"}], "owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2120, "favorite_count": 0, "accepted_answer_id": 53993528, "answer_count": 3, "score": 1, "last_activity_date": 1578073226, "creation_date": 1546308152, "last_edit_date": 1546350137, "question_id": 53992611, "link": "https://stackoverflow.com/questions/53992611/unresolved-reference-in-kotlin-for-the-function-until", "title": "Unresolved reference in Kotlin for the function &#39;until&#39;", "body": "<p>I am trying to convert a Java project to Kotlin. I get a really strange compile time error the function <strong>until</strong> is an \"Unsolved Reference\", how come this function <strong>until</strong> is not recognized?</p>\n\n<pre><code> fun renderChildrenToRight(canvas: Canvas, startIndex: Int, stopIndex: Int) {\n    val itemRight = nodePosition!!.x + nodeRectLimits.right\n    val itemExternalPaddingWidth = getRenderAttribute(AttributeExternalPaddingWidth, AttributeDefaultExternalPadding)\n    val itemTop = nodePosition!!.y + nodeRectLimits.top\n    val itemExternalPaddingHeight = getRenderAttribute(AttributeExternalPaddingHeight, AttributeDefaultExternalPadding)\n    val childItemsSize = getChildItemsSize(startIndex, stopIndex)\n    var nextItemTop = itemTop + childItemsSize / 2\n    val x = itemRight + itemExternalPaddingWidth\n\n\n    for (i in startIndex until stopIndex) {\n        val currentNode = _children[i]\n        val bulletDesiredHeight = currentNode.desiredHeightWithChildren\n        val y = nextItemTop - bulletDesiredHeight / 2\n        currentNode.setNodePosition(x, y)\n\n\n        currentNode.renderWithChildren(canvas, BulletRenderStyle.ToTheRight)\n        nextItemTop -= bulletDesiredHeight + itemExternalPaddingHeight\n    }\n}\n</code></pre>\n\n<p>This is my old Java method:</p>\n\n<pre><code> public void renderChildrenToRight(Canvas canvas, int startIndex, int stopIndex) {\n        int itemRight = getNodePosition().x + getNodeRectLimits().right;\n        int itemExternalPaddingWidth = getRenderAttribute(AttributeExternalPaddingWidth, AttributeDefaultExternalPadding);\n        int itemTop = getNodePosition().y + getNodeRectLimits().top;\n        int itemExternalPaddingHeight = getRenderAttribute(AttributeExternalPaddingHeight, AttributeDefaultExternalPadding);\n        int childItemsSize = getChildItemsSize(startIndex, stopIndex);\n        int nextItemTop = itemTop + childItemsSize / 2;\n        int x = itemRight + itemExternalPaddingWidth;\n\n\n        for (int i = startIndex; i &lt; stopIndex; i++) {\n            Node currentNode = _children.get(i);\n            int bulletDesiredHeight = currentNode.getDesiredHeightWithChildren();\n            int y = nextItemTop - bulletDesiredHeight / 2;\n            currentNode.setNodePosition(x, y);\n\n\n            currentNode.renderWithChildren(canvas, BulletRenderStyle.ToTheRight);\n            nextItemTop -= bulletDesiredHeight + itemExternalPaddingHeight;\n        }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 27252, "user_id": 673664, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/H1KgI.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/673664/dave"}, "edited": false, "score": 1, "creation_date": 1546320536, "post_id": 53993113, "comment_id": 94824139, "body": "In Android Studio 3.2.1, there is no &quot;Build-&gt;clean project&quot; nor an option to &quot;Rebuild project&quot;. Unless it&#39;s in another menu and I just don&#39;t see it?"}], "tags": [], "owner": {"reputation": 1163, "user_id": 8775432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/61fhB.png?s=128&g=1", "display_name": "Yogesh kataria", "link": "https://stackoverflow.com/users/8775432/yogesh-kataria"}, "is_accepted": false, "score": 1, "last_activity_date": 1568473011, "last_edit_date": 1568473011, "creation_date": 1546319001, "answer_id": 53993113, "question_id": 53992118, "link": "https://stackoverflow.com/questions/53992118/unresolved-reference-android-on-new-flutter-project/53993113#53993113", "title": "`Unresolved reference: android` on new Flutter project", "body": "<p>There are a few things you can try:</p>\n\n<p>open <strong>Android</strong> directory of your flutter project in android studio(new window). Then</p>\n\n<ol>\n<li>go to Build and select <strong>clean project</strong>. Then after this select <strong>Rebuild project</strong>.</li>\n<li>If above step doesn't solves your problem then go to <strong>file -> open -></strong> select <strong>build.gradle</strong> to reopen and get the dependencies of project.</li>\n<li>go to project root directory and try <strong>flutter clean</strong> command this would clean the build/ and then try running your project by <strong>flutter run</strong> command.</li>\n</ol>\n\n<p>Hope it helps:)</p>\n"}, {"comments": [{"owner": {"reputation": 329, "user_id": 8340638, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6e62e0c65e658c45a5ee8bb0d8dc26d?s=128&d=identicon&r=PG&f=1", "display_name": "alex_z", "link": "https://stackoverflow.com/users/8340638/alex-z"}, "edited": false, "score": 5, "creation_date": 1560178521, "post_id": 53993217, "comment_id": 99640846, "body": "after &#39;Invalidate Caches / Restart&#39; application started to build, but android studio is still complaining about the &#39;Unresolved reference: android&#39;"}], "tags": [], "owner": {"reputation": 27252, "user_id": 673664, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/H1KgI.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/673664/dave"}, "is_accepted": true, "score": 8, "last_activity_date": 1546320827, "creation_date": 1546320827, "answer_id": 53993217, "question_id": 53992118, "link": "https://stackoverflow.com/questions/53992118/unresolved-reference-android-on-new-flutter-project/53993217#53993217", "title": "`Unresolved reference: android` on new Flutter project", "body": "<p>In my case, <code>File -&gt; Invalidate Caches / Restart</code> worked. When Android Studio started back up, the issue was gone. Doesn't really answer the \"why\", but... it worked.</p>\n"}, {"tags": [], "owner": {"reputation": 407, "user_id": 5989044, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1702709289942079/picture?type=large", "display_name": "Rohit Gurjar", "link": "https://stackoverflow.com/users/5989044/rohit-gurjar"}, "is_accepted": false, "score": 7, "last_activity_date": 1548516330, "creation_date": 1548516330, "answer_id": 54379769, "question_id": 53992118, "link": "https://stackoverflow.com/questions/53992118/unresolved-reference-android-on-new-flutter-project/54379769#54379769", "title": "`Unresolved reference: android` on new Flutter project", "body": "<p>Configure to the project SDK to the appropriate API level as per your project will solve your issue(shown in the dialog after clicking Setup SDK at right corner).</p>\n\n<p><a href=\"https://i.stack.imgur.com/durUH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/durUH.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6928413, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5kHYYbcxhqc/AAAAAAAAAAI/AAAAAAAABGE/BwLXV_F_9E8/photo.jpg?sz=128", "display_name": "technouber", "link": "https://stackoverflow.com/users/6928413/technouber"}, "is_accepted": false, "score": 1, "last_activity_date": 1564125543, "creation_date": 1564125543, "answer_id": 57214981, "question_id": 53992118, "link": "https://stackoverflow.com/questions/53992118/unresolved-reference-android-on-new-flutter-project/57214981#57214981", "title": "`Unresolved reference: android` on new Flutter project", "body": "<p>I managed to solve the problem by <strong>updating my Gradle version</strong> to the latest one (via Andorid studio), changing the <strong>ext.kotlin_version to 1.3.11</strong> at build.grade(Project: android), and <strong>updating the SDK</strong> at Tools/SDK Manager/Edit</p>\n"}, {"tags": [], "owner": {"reputation": 606, "user_id": 5222029, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cnMwpXQkt2M/AAAAAAAAAAI/AAAAAAAAAX8/FrkCxpxSJlo/photo.jpg?sz=128", "display_name": "Sujith Royal", "link": "https://stackoverflow.com/users/5222029/sujith-royal"}, "is_accepted": false, "score": 4, "last_activity_date": 1572525513, "creation_date": 1572525513, "answer_id": 58643532, "question_id": 53992118, "link": "https://stackoverflow.com/questions/53992118/unresolved-reference-android-on-new-flutter-project/58643532#58643532", "title": "`Unresolved reference: android` on new Flutter project", "body": "<p>For the \"Unresolved reference: android\u201d Issue. </p>\n\n<p>It occurs because the project is not able to configure the Android SDK. </p>\n\n<pre><code>Go to File-&gt; Project Structure -&gt; Project SDK [Set the correct SDK as per your project]\n</code></pre>\n\n<p>And then,</p>\n\n<p>ReSync the project. (Invalidate caches and restart, if required)</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8254021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fefc5413ff311e3bdf966b2226e6de3?s=128&d=identicon&r=PG&f=1", "display_name": "Ananthakrishnan", "link": "https://stackoverflow.com/users/8254021/ananthakrishnan"}, "is_accepted": false, "score": 1, "last_activity_date": 1589026547, "last_edit_date": 1589026547, "creation_date": 1589012876, "answer_id": 61693846, "question_id": 53992118, "link": "https://stackoverflow.com/questions/53992118/unresolved-reference-android-on-new-flutter-project/61693846#61693846", "title": "`Unresolved reference: android` on new Flutter project", "body": "<p>If you are  still facing Issues like </p>\n\n<blockquote>\n  <p>Unresolved reference: NonNull\n  or \n  Unresolved reference: annotation\n  then you should add a dependency to have access to the classes inside <code>android.support.annotation</code>\n  Inside your <code>dependencies</code> in your <code>build.gradle</code>, you should add <code>com.android.support:support-annotations:28.0.0</code>, something like this:</p>\n</blockquote>\n\n<pre><code>dependencies {\n    implementation 'com.android.support:support-annotations:28.0.0'\n}\n</code></pre>\n"}], "owner": {"reputation": 27252, "user_id": 673664, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/H1KgI.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/673664/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10997, "favorite_count": 4, "accepted_answer_id": 53993217, "answer_count": 6, "score": 14, "last_activity_date": 1589026547, "creation_date": 1546298873, "question_id": 53992118, "link": "https://stackoverflow.com/questions/53992118/unresolved-reference-android-on-new-flutter-project", "title": "`Unresolved reference: android` on new Flutter project", "body": "<p>My first Flutter app seems to be debugging okay so far on my phone, but all of a sudden I'm seeing this error in my <code>android/app/src/main/kotlin/my.appname.whatever/MainActivity</code> file (screenshot below).</p>\n\n<p>And when I rollover the <code>onCreate</code>, it shows this:\n<code>Cannot access class 'android.Os.Bundle'. Check your module classpath for missing or conflicting dependencies.</code></p>\n\n<p>I'm using AndroidStudio 3.2.1</p>\n\n<p>While trying to get Firebase going, I changed the version of this (it was 1.2.17 I think, but had a warning about it being different than the IDE, so I changed it to what it suggested and the warning went away). Even after trying to change it back, I'm still getting the warning below.</p>\n\n<p><code>buildscript {\n    ext.kotlin_version = '1.3.11'</code></p>\n\n<p>I assume this is something simple, but for someone very new to Android/Flutter...etc, I just don't have a clue where to look for the <code>Unresolved reference: android</code>, nor have any idea what I did to make it show up.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nu4EV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nu4EV.png\" alt=\"error\"></a></p>\n"}, {"tags": ["java", "kotlin", "spring-data-jpa", "spring-data"], "answers": [{"tags": [], "owner": {"reputation": 487, "user_id": 8222921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F4vhZ.jpg?s=128&g=1", "display_name": "Artyom Karnov", "link": "https://stackoverflow.com/users/8222921/artyom-karnov"}, "is_accepted": true, "score": 2, "last_activity_date": 1546497875, "creation_date": 1546497875, "answer_id": 54017501, "question_id": 53991693, "link": "https://stackoverflow.com/questions/53991693/how-to-use-custom-data-base-dialect-in-spring-data/54017501#54017501", "title": "How to use custom data base dialect in spring data?", "body": "<p>So, i solved problem by my own, but i still don't know why behavior is different.</p>\n\n<p>I set</p>\n\n<pre><code>spring.jpa.database = default\n</code></pre>\n\n<p>and added</p>\n\n<pre><code>spring.jpa.properties.hibernate.dialect_resolvers = com.my.config.CustomDialectResolver\n</code></pre>\n\n<p>And wrote simple resolver</p>\n\n<pre><code>class CustomDialectResolver : DialectResolver {\n\n    override fun resolveDialect(info: DialectResolutionInfo?): Dialect {\n        return DB2zOSDialect()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 487, "user_id": 8222921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F4vhZ.jpg?s=128&g=1", "display_name": "Artyom Karnov", "link": "https://stackoverflow.com/users/8222921/artyom-karnov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1108, "favorite_count": 0, "accepted_answer_id": 54017501, "answer_count": 1, "score": 0, "last_activity_date": 1546497875, "creation_date": 1546293174, "question_id": 53991693, "link": "https://stackoverflow.com/questions/53991693/how-to-use-custom-data-base-dialect-in-spring-data", "title": "How to use custom data base dialect in spring data?", "body": "<p>I need to avoid some bug in db2 dialect in hibernate.\nI use spring data + gradle (several modules) + kotlin\nI  created my custom dialect</p>\n\n<pre><code>DB2zOSDialect : DB2Dialect() \n</code></pre>\n\n<p>And try to add it to application.properties</p>\n\n<pre><code>spring:\n  jpa:\n    properties:\n      hibernate:\n        dialect: com.my.config.DB2zOSDialect \n</code></pre>\n\n<p>But spring data continuous using DB2Dialect</p>\n\n<p>I tried the same code but using java + maven + the same spring data and it's works.</p>\n\n<p>So, i have no ideas why my custom dialect isn't being use by spring data.</p>\n\n<p>Are there ways how to add dialect to spring data?</p>\n"}, {"tags": ["java", "android", "dictionary", "kotlin", "sharedpreferences"], "comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1546558410, "post_id": 53991585, "comment_id": 94898816, "body": "this data-structure has the problem, that one cannot differ the days - and <code>SharedPreferences</code> are rather meant to keep application settings (simple data); not to be abused as a database."}], "answers": [{"comments": [{"owner": {"reputation": 1564, "user_id": 8377123, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e4a6c7142a3db401a0901eb611fb96e?s=128&d=identicon&r=PG&f=1", "display_name": "Slaknation", "link": "https://stackoverflow.com/users/8377123/slaknation"}, "edited": false, "score": 0, "creation_date": 1546534396, "post_id": 53991649, "comment_id": 94889426, "body": "Just a question. Does this mean that anytime I want to add a value to the object I will first convert the json to an object then add the value then convert it back to json then save over the previous preferences?"}, {"owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "reply_to_user": {"reputation": 1564, "user_id": 8377123, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e4a6c7142a3db401a0901eb611fb96e?s=128&d=identicon&r=PG&f=1", "display_name": "Slaknation", "link": "https://stackoverflow.com/users/8377123/slaknation"}, "edited": false, "score": 0, "creation_date": 1546539303, "post_id": 53991649, "comment_id": 94891669, "body": "@BUInvent Yes. That may sound wasteful, but it&#39;s perfectly okay. GSON is very fast, and so is SharedPreferences. You could also keep a local copy, update it, and save it out. So you&#39;re not constantly reading it back out, but depends on your usage."}], "tags": [], "owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "is_accepted": true, "score": 6, "last_activity_date": 1546292697, "creation_date": 1546292697, "answer_id": 53991649, "question_id": 53991585, "link": "https://stackoverflow.com/questions/53991585/android-save-map-to-sharedpreferences/53991649#53991649", "title": "Android: Save map to SharedPreferences?", "body": "<p>When saving more complex types in Android, I would suggest using <code>gson</code>. Gson is Google's JSON parsing library, and even if you're not using JSON, you can convert your <code>Objects</code> into a JSON String, and store that easily.</p>\n\n<p>For example, you can convert your list of <code>Objects</code> into a <code>String</code> like this.</p>\n\n<pre><code>val list : List&lt;MyObject&gt;  // ... add items to your list\n\n// Convert to JSON\n\nval string = gson.toJson(list)\n\n// Store it into Shared Preferences\npreferences.putString(\"list\", string).apply()\n</code></pre>\n\n<p>And then you can easily get it back into a list like this.</p>\n\n<pre><code>// Fetch the JSON \n\nval string = preferences.getString(\"list\", \"\")\n\n// Convert it back into a List\n\nval list: List&lt;MyObject&gt; = gson.fromJson(string, object : TypeToken&lt;List&lt;MyObject&gt;&gt;() {}.type)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2792, "user_id": 4853835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pDbHU.jpg?s=128&g=1", "display_name": "ygngy", "link": "https://stackoverflow.com/users/4853835/ygngy"}, "is_accepted": false, "score": 1, "last_activity_date": 1546557454, "last_edit_date": 1546557454, "creation_date": 1546556983, "answer_id": 54031047, "question_id": 53991585, "link": "https://stackoverflow.com/questions/53991585/android-save-map-to-sharedpreferences/54031047#54031047", "title": "Android: Save map to SharedPreferences?", "body": "<p>Using JSON is the best solution but here is another solution (just to add another way to solve a problem):</p>\n\n<p>you can use shared preferences keys like this:</p>\n\n<pre><code>for((dayIndex, day) in days.withIndex)\n    for((exeIndex, exe) in day)\n       for((key, value) in exe)\n          addExercise(day = dayIndex, exercise = exeIndex, key = key, value = value)\n\n\nfun addExercise(day: String, exercise: String, key: String, value: String) = \n     preferences.putString(\"day${day}_exe${exercise}_${key}\", value).apply()           \n</code></pre>\n\n<p>then you can get <em>first exercise name</em> from <em>second day</em> like this:</p>\n\n<pre><code>val first_exercise_second_day = preferences.getString(\"day2_exe1_name\")\n</code></pre>\n\n<p>and you can add a exercise to third day like this:</p>\n\n<pre><code> addExercise(day = \"3\", exercise = \"1\", key = \"name\", value = \"Flys\")\n addExercise(day = \"3\", exercise = \"1\", key = \"sets\", value = \"5\")\n addExercise(day = \"3\", exercise = \"1\", key = \"reps\", value = \"3\")\n</code></pre>\n\n<p>But to find empty day or empty exercise number you have to get all keys of shared preference and use regular expression or loops</p>\n"}, {"tags": [], "owner": {"reputation": 925, "user_id": 3731900, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/100003027163533/picture?type=large", "display_name": "yousef", "link": "https://stackoverflow.com/users/3731900/yousef"}, "is_accepted": false, "score": 1, "last_activity_date": 1546948713, "last_edit_date": 1546948713, "creation_date": 1546773988, "answer_id": 54061027, "question_id": 53991585, "link": "https://stackoverflow.com/questions/53991585/android-save-map-to-sharedpreferences/54061027#54061027", "title": "Android: Save map to SharedPreferences?", "body": "<p>you can use library for google ==> Gson \nadd this in dependencies in gradle </p>\n\n<pre><code> implementation 'com.google.code.gson:gson:2.8.0' \n</code></pre>\n\n<p>you can this library convert object to json as String then you can save it in shared Pref As String \nwhen you get it String from Pref you can convert String to object </p>\n\n<p>convert json to model</p>\n\n<pre><code>    /*type of model*/=new Gson().fromJson(/*json string*/,/*type of model*/)\n</code></pre>\n\n<p>convert model to json as String</p>\n\n<pre><code> new Gson().toJson(/*model you want to convert */)===&gt; return String\n</code></pre>\n\n<p>must model the same hierarchy for json where make problem during converting</p>\n\n<p>Model for you json must be like this model </p>\n\n<pre><code>  public class JSONModel implements Serializable {\n\n\n    @SerializedName(\"days\")\n    private List&lt;Day&gt; mDays;\n\n    public List&lt;Day&gt; getDays() {\n        return mDays;\n    }\n\n    public void setDays(List&lt;Day&gt; days) {\n        mDays = days;\n    }\n\n    public class Day {\n\n        @SerializedName(\"exercises\")\n        private List&lt;Exercise&gt; mExercises;\n\n        public List&lt;Exercise&gt; getExercises() {\n            return mExercises;\n        }\n\n        public void setExercises(List&lt;Exercise&gt; exercises) {\n            mExercises = exercises;\n        }\n\n    }\n    public class Exercise {\n\n        @SerializedName(\"name\")\n        private String mName;\n        @SerializedName(\"reps\")\n        private Long mReps;\n        @SerializedName(\"sets\")\n        private Long mSets;\n\n        public String getName() {\n            return mName;\n        }\n\n        public void setName(String name) {\n            mName = name;\n        }\n\n        public Long getReps() {\n            return mReps;\n        }\n\n        public void setReps(Long reps) {\n            mReps = reps;\n        }\n\n        public Long getSets() {\n            return mSets;\n        }\n\n        public void setSets(Long sets) {\n            mSets = sets;\n        }\n\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1564, "user_id": 8377123, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e4a6c7142a3db401a0901eb611fb96e?s=128&d=identicon&r=PG&f=1", "display_name": "Slaknation", "link": "https://stackoverflow.com/users/8377123/slaknation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1839, "favorite_count": 0, "accepted_answer_id": 53991649, "answer_count": 3, "score": 2, "last_activity_date": 1546948713, "creation_date": 1546292187, "last_edit_date": 1546534860, "question_id": 53991585, "link": "https://stackoverflow.com/questions/53991585/android-save-map-to-sharedpreferences", "title": "Android: Save map to SharedPreferences?", "body": "<p>I need to save data to <code>SharedPreferences</code> in such a way where I have an object like this:</p>\n\n<pre><code>{\n    \"days\": [\n        {\n            \"exercises\": [\n                {\n                    \"name\": \"Bench Press\",\n                    \"sets\": 3,\n                    \"reps\": 8\n                },\n                {\n                    \"name\": \"Skull Crushers\",\n                    \"sets\": 3,\n                    \"reps\": 8\n                },\n                {\n                    \"name\": \"Flys\",\n                    \"sets\": 3,\n                    \"reps\": 8\n                }\n            ]\n        },\n        {\n            \"exercises\": [\n                {\n                    \"name\": \"Bench Press\",\n                    \"sets\": 3,\n                    \"reps\": 8\n                },\n                {\n                    \"name\": \"Skull Crushers\",\n                    \"sets\": 3,\n                    \"reps\": 8\n                },\n                {\n                    \"name\": \"Flys\",\n                    \"sets\": 3,\n                    \"reps\": 8\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n\n<p>I will need to pull from the object and add to the object. I know that you can't save maps to <code>SharedPreferences</code>. I am starting to think that my best bet is to use <code>ObjectOutputStream</code> but I am not sure if that is the best bet to use internal memory. I guess I am just looking for guidance as to what my best options are.</p>\n\n<p>edit: from what <code>Advice-Dog</code> said, I am thinking my best bet is to use <code>gson</code>. So does that mean that when I want to (for example) add another exercise to the second index of \"days\" that I will first grab the object from preferences, convert it from <code>gson</code> to an object, then add the exercise, then convert it back to <code>gson</code>, then overwrite the preferences? I am not saying this is bad I just want to know if this is what should be done and if it is advisable.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": false, "score": 1, "last_activity_date": 1546293488, "creation_date": 1546293488, "answer_id": 53991721, "question_id": 53991270, "link": "https://stackoverflow.com/questions/53991270/mapping-set-of-keys-to-a-matching-list-of-lists/53991721#53991721", "title": "Mapping set of keys to a matching list of lists", "body": "<p><strong>Update</strong> </p>\n\n<p>You just need to <code>flatten</code> the values of the result <code>Map</code>.</p>\n\n<pre><code>val w = s.groupBy({ it }, { x -&gt; u.filter { it.contains(x) } })\n            .mapValues { it.value.flatten() }\n</code></pre>\n\n<p>My solution <code>map</code> the first collection to pairs from each element to the list where it appears, and then <code>groupBy</code> the result list.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>val w = s.map { elem -&gt; Pair(elem, u.filter { list -&gt; elem in list }) }\n    .groupBy ({ it.first }, { it.second })\n    .mapValues { it.value.flatten() }\n\ncheck(w[1] == listOf(listOf(1, 2, 3), listOf(1, 4, 7), listOf(1, 5, 9)))\ncheck(w[9] == listOf(listOf(1, 5, 9)))\n\nprintln(w)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>{1=[[1, 2, 3], [1, 4, 7], [1, 5, 9]], 9=[[1, 5, 9]]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "is_accepted": true, "score": 0, "last_activity_date": 1546370919, "last_edit_date": 1546370919, "creation_date": 1546349209, "answer_id": 53995815, "question_id": 53991270, "link": "https://stackoverflow.com/questions/53991270/mapping-set-of-keys-to-a-matching-list-of-lists/53995815#53995815", "title": "Mapping set of keys to a matching list of lists", "body": "<p>Idiomatic to me would be <code>s.groupBy(....)</code> The answer by @Omar Mainegra  - <code>s.groupBy(...).mapValues( flatten )</code> absolutely works but it looks like a hack where the initial result needs some extra massaging. </p>\n\n<p>The issue is with the implementation of <code>groupBy</code> and more specifically with <code>groupByTo</code>:</p>\n\n<pre><code>public inline fun &lt;T, K, V, M : MutableMap&lt;in K, MutableList&lt;V&gt;&gt;&gt; Iterable&lt;T&gt;.groupByTo(destination: M, keySelector: (T) -&gt; K, valueTransform: (T) -&gt; V): M {\n    for (element in this) {\n        val key = keySelector(element)\n        val list = destination.getOrPut(key) { ArrayList&lt;V&gt;() }\n        list.add(valueTransform(element))\n    }\n    return destination\n}\n</code></pre>\n\n<p>The implementation wraps the values associated with a key in a list because in general multiple values can be associated with a key which is not the case here\nwhere values in <code>s</code> are unique which means that <code>groupBy</code> is the wrong function to use. The right function is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate-with.html\" rel=\"nofollow noreferrer\"><code>associateWith</code></a>:</p>\n\n<pre><code>s.associateWith { x -&gt; u.filter { it.contains(x) } }      \n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>{1=[[1, 2, 3], [1, 4, 7], [1, 5, 9]], 9=[[1, 5, 9]]}    \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 538, "user_id": 4129661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3edf4f82816b29a89c7c102f1939c97?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/4129661/abhay-agarwal"}, "edited": false, "score": 1, "creation_date": 1546411477, "post_id": 53996166, "comment_id": 94841244, "body": "Your solution is nice but, I&#39;ve further improved it.   <code>s.associateWith { num -&gt; u.filter { it.contains(num) } }</code>"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 538, "user_id": 4129661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3edf4f82816b29a89c7c102f1939c97?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/4129661/abhay-agarwal"}, "edited": false, "score": 0, "creation_date": 1546419860, "post_id": 53996166, "comment_id": 94843899, "body": "@Abhay Agarwal good idea! But it needs at least kotlin 1.3 . Should I incorporate it in my answer and mention you?"}, {"owner": {"reputation": 538, "user_id": 4129661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3edf4f82816b29a89c7c102f1939c97?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/4129661/abhay-agarwal"}, "edited": false, "score": 1, "creation_date": 1546419970, "post_id": 53996166, "comment_id": 94843952, "body": "Yes. Please add this and you can mention me."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 538, "user_id": 4129661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3edf4f82816b29a89c7c102f1939c97?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/4129661/abhay-agarwal"}, "edited": false, "score": 0, "creation_date": 1546421194, "post_id": 53996166, "comment_id": 94844473, "body": "@AbhayAgarwal thank you for your comment! I edited my answer! i would still recommend to use <code>in</code> (infix function) instead of <code>contains</code> because it increases readability."}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 2, "last_activity_date": 1546421106, "last_edit_date": 1546421106, "creation_date": 1546352028, "answer_id": 53996166, "question_id": 53991270, "link": "https://stackoverflow.com/questions/53991270/mapping-set-of-keys-to-a-matching-list-of-lists/53996166#53996166", "title": "Mapping set of keys to a matching list of lists", "body": "<p>I would recommend <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate-with.html\" rel=\"nofollow noreferrer\"><code>associateWith</code></a> and use it like this:</p>\n\n<pre><code>s.associateWith { num -&gt; u.filter { list -&gt; num in list } }\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>{1=[[1, 2, 3], [1, 4, 7], [1, 5, 9]], 9=[[1, 5, 9]]}</p>\n</blockquote>\n\n<p><sub>I recommended <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate.html\" rel=\"nofollow noreferrer\"><code>associate</code></a> at first, but you can shorten the code even further if you use <code>associateWith</code>. Thanks to <a href=\"https://stackoverflow.com/users/4129661/abhay-agarwal\">Abhay Agarwal</a> who recommended it.</sub></p>\n"}], "owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 53995815, "answer_count": 3, "score": 2, "last_activity_date": 1546421106, "creation_date": 1546288963, "last_edit_date": 1546352039, "question_id": 53991270, "link": "https://stackoverflow.com/questions/53991270/mapping-set-of-keys-to-a-matching-list-of-lists", "title": "Mapping set of keys to a matching list of lists", "body": "<p>What is an idiomatic way to map keys to a matching list of lists? An example - given:</p>\n\n<pre><code>val s = listOf(1, 9)\nval u = listOf(listOf(1, 2, 3), listOf(1, 4, 7), listOf(1, 5, 9))\n</code></pre>\n\n<p>I would like to have a <code>Map&lt;Int, List&lt;List&lt;Int&gt;&gt;&gt;</code> such that every key in <code>s</code> is mapped to a list of lists containing that key: </p>\n\n<pre><code>{1=[ [1, 2, 3], [1, 4, 7], [1, 5, 9] ], 9=[ [1, 5, 9] ]}   \n</code></pre>\n\n<p>The following:</p>\n\n<pre><code>s.groupBy({ it }, { x -&gt; u.filter { it.contains(x) } })\n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>{1=[[[1, 2, 3], [1, 4, 7], [1, 5, 9]]], 9=[[[1, 5, 9]]]}         \n</code></pre>\n\n<p>which is not quite right and it isn't clear how to flatten the result to the expected shape.  </p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 3801, "user_id": 105589, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4f325e95feb5cc5077c8dbcdca22a373?s=128&d=identicon&r=PG", "display_name": "xrd", "link": "https://stackoverflow.com/users/105589/xrd"}, "edited": false, "score": 0, "creation_date": 1546288791, "post_id": 53991076, "comment_id": 94820222, "body": "Ok. That makes sense. Is there a way I could refactor my viewmodel to prevent this accidental update to the object instead of the method which goes through the correct observable chain? I wish kotlin and the interface prevented me from doing the wrong thing as I did here."}, {"owner": {"reputation": 3801, "user_id": 105589, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4f325e95feb5cc5077c8dbcdca22a373?s=128&d=identicon&r=PG", "display_name": "xrd", "link": "https://stackoverflow.com/users/105589/xrd"}, "edited": false, "score": 0, "creation_date": 1546288898, "post_id": 53991076, "comment_id": 94820248, "body": "I don&#39;t see <code>setValue</code> in your sample code. Did you intend to do enter different code?"}, {"owner": {"reputation": 3801, "user_id": 105589, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4f325e95feb5cc5077c8dbcdca22a373?s=128&d=identicon&r=PG", "display_name": "xrd", "link": "https://stackoverflow.com/users/105589/xrd"}, "edited": false, "score": 0, "creation_date": 1546289178, "post_id": 53991076, "comment_id": 94820305, "body": "Add, it is a getter/setter and kotlin looks slightly different. Got it, thanks!"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 3801, "user_id": 105589, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4f325e95feb5cc5077c8dbcdca22a373?s=128&d=identicon&r=PG", "display_name": "xrd", "link": "https://stackoverflow.com/users/105589/xrd"}, "edited": false, "score": 0, "creation_date": 1546290119, "post_id": 53991076, "comment_id": 94820476, "body": "Edited my answer"}, {"owner": {"reputation": 3801, "user_id": 105589, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4f325e95feb5cc5077c8dbcdca22a373?s=128&d=identicon&r=PG", "display_name": "xrd", "link": "https://stackoverflow.com/users/105589/xrd"}, "edited": false, "score": 0, "creation_date": 1546292367, "post_id": 53991076, "comment_id": 94820933, "body": "To motivate you to explain the difference between your suggestion and what the code said. It worked, so I accepted your answer!"}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 1, "last_activity_date": 1546290110, "last_edit_date": 1546290110, "creation_date": 1546286974, "answer_id": 53991076, "question_id": 53990915, "link": "https://stackoverflow.com/questions/53990915/why-is-my-observable-never-seeing-the-update-to-my-list-within-a-kotlin-android/53991076#53991076", "title": "Why is my observable never seeing the update to my list within a kotlin android coroutine?", "body": "<p>In this case breakpoint is not reached because <code>setValue(T)</code> method of <code>LiveData</code> object is not called. Calling <code>setValue(T)</code> results in the observers calling their <code>onChanged()</code> method. Try to change your code to call <code>setValue(T)</code> method, i.e.:</p>\n\n<pre><code>val list = _status.value ?: arrayListOf&lt;VideoAsset&gt;()\nlist.add(VideoAsset(filename))\n_status.value = list\n</code></pre>\n\n<p>Note: <code>setValue(T)</code> in Kotlin is replaced with property assigning: <code>_status.value = list</code> instead of <code>_status.setValue(list)</code></p>\n"}], "owner": {"reputation": 3801, "user_id": 105589, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4f325e95feb5cc5077c8dbcdca22a373?s=128&d=identicon&r=PG", "display_name": "xrd", "link": "https://stackoverflow.com/users/105589/xrd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 53991076, "answer_count": 1, "score": 0, "last_activity_date": 1546290110, "creation_date": 1546285293, "question_id": 53990915, "link": "https://stackoverflow.com/questions/53990915/why-is-my-observable-never-seeing-the-update-to-my-list-within-a-kotlin-android", "title": "Why is my observable never seeing the update to my list within a kotlin android coroutine?", "body": "<p>I'm trying to build an upload application modeled off this tutorial: <a href=\"https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#4\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#4</a></p>\n\n<p>I'm setting a breakpoint on line 29 (where I've commented \"I never reach this breakpoint. Why not?\"). Why don't I reach this breakpoint when I click on the button?</p>\n\n<p><code>MainActivity.kt</code></p>\n\n<pre><code>package com.example.uploadwithprogresssimple\n\nimport android.arch.lifecycle.*\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.support.constraint.ConstraintLayout\nimport android.support.design.widget.Snackbar\nimport android.widget.TextView\nimport kotlinx.coroutines.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val viewModel = ViewModelProviders.of(this)\n            .get(MainViewModel::class.java)\n\n        val scheduler: TextView = findViewById(R.id.scheduleUpload)\n        val rootLayout: ConstraintLayout = findViewById(R.id.rootLayout)\n\n        scheduler.setOnClickListener {\n            viewModel.uploadVideo(\"/foobar/abc/def\")\n        }\n\n        viewModel.status.observe( this, Observer {\n            // I never reach this breakpoint. Why not?\n            if (it != null) {\n                var size = it.size\n                Snackbar.make(rootLayout, \"Size of video upload: ${size}\", Snackbar.LENGTH_SHORT).show()\n            }\n        })\n    }\n}\n\ndata class VideoAsset(private val filename: String)\n\nclass MainViewModel : ViewModel() {\n\n    private val viewModelJob = Job()\n\n    private val uiScope = CoroutineScope(Dispatchers.Main + viewModelJob)\n\n    private val _status = MutableLiveData&lt;ArrayList&lt;VideoAsset&gt;&gt;()\n\n    val status: LiveData&lt;ArrayList&lt;VideoAsset&gt;&gt;\n        get() = _status\n\n    override fun onCleared() {\n        super.onCleared()\n        uiScope.cancel()\n    }\n\n    fun uploadVideo(filename: String) {\n        uiScope.launch {\n            delay(1_000)\n            _status.value?.add( VideoAsset( filename) )\n        }\n    }\n}\n</code></pre>\n\n<p><code>activity_main.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/rootLayout\"\n        tools:context=\".MainActivity\"&gt;\n\n    &lt;Button\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Schedule upload\"\n            android:id=\"@+id/scheduleUpload\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>The <code>app/build.gradle</code> file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.example.uploadwithprogresssimple\"\n        minSdkVersion 23\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndef kotlinCoroutines = \"1.1.0\"\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n    implementation 'android.arch.lifecycle:extensions:1.1.1'\n\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlinCoroutines\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:$kotlinCoroutines\"\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 628, "user_id": 4568679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47a3061a5209488e3c6a7078ff5398ca?s=128&d=identicon&r=PG", "display_name": "Slav", "link": "https://stackoverflow.com/users/4568679/slav"}, "edited": false, "score": 1, "creation_date": 1548155035, "post_id": 53990778, "comment_id": 95433450, "body": "There&#39;s another issue in Google issue tracker, related to this stacktrace: <a href=\"https://issuetracker.google.com/issues/121304903\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/121304903</a>"}, {"owner": {"reputation": 159, "user_id": 2496187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc1f5339cfad2e61e77e022795b17aa?s=128&d=identicon&r=PG", "display_name": "Alexandre", "link": "https://stackoverflow.com/users/2496187/alexandre"}, "edited": false, "score": 0, "creation_date": 1549383332, "post_id": 53990778, "comment_id": 95878605, "body": "Updating navigation to 1.0.0-beta01 fixed this issue for me. It was the same exception."}], "answers": [{"comments": [{"owner": {"reputation": 418, "user_id": 1607293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1OBE.png?s=128&g=1", "display_name": "ulcica", "link": "https://stackoverflow.com/users/1607293/ulcica"}, "edited": false, "score": 0, "creation_date": 1548682454, "post_id": 54348789, "comment_id": 95616707, "body": "Unfortunately the bug is still there in <code>alpha11</code>. At the moment the safe args library can not be used in a feature module."}, {"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "reply_to_user": {"reputation": 418, "user_id": 1607293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1OBE.png?s=128&g=1", "display_name": "ulcica", "link": "https://stackoverflow.com/users/1607293/ulcica"}, "edited": false, "score": 0, "creation_date": 1548686015, "post_id": 54348789, "comment_id": 95618820, "body": "hmm, not sure why it seems ok for me now....I&#39;ll double check in case anything else changed in project (I&#39;ve marked answer as not accepted in meantime)"}, {"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "reply_to_user": {"reputation": 418, "user_id": 1607293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1OBE.png?s=128&g=1", "display_name": "ulcica", "link": "https://stackoverflow.com/users/1607293/ulcica"}, "edited": false, "score": 0, "creation_date": 1548686133, "post_id": 54348789, "comment_id": 95618901, "body": "@ulcica what version of Android Studio and also gradle plugin are you using?"}, {"owner": {"reputation": 418, "user_id": 1607293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1OBE.png?s=128&g=1", "display_name": "ulcica", "link": "https://stackoverflow.com/users/1607293/ulcica"}, "edited": false, "score": 0, "creation_date": 1548696036, "post_id": 54348789, "comment_id": 95625182, "body": "I am using <code>Android Studio 3.3</code>, <code>com.android.tools.build:gradle:3.3.0</code>, <code>org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.20</code>. I think the problem is related to <code>applicationId</code> that can not be defined in feature modules. Because it works fine in the app module that has the applicationId."}, {"owner": {"reputation": 159, "user_id": 2496187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc1f5339cfad2e61e77e022795b17aa?s=128&d=identicon&r=PG", "display_name": "Alexandre", "link": "https://stackoverflow.com/users/2496187/alexandre"}, "edited": false, "score": 1, "creation_date": 1549383245, "post_id": 54348789, "comment_id": 95878561, "body": "For me updating to Alpha11 didn&#39;t solve the issue, but updating to Beta01 released this week did the trick."}, {"owner": {"reputation": 2429, "user_id": 2487124, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b1c8041cadd95166f2382c0019b0d51e?s=128&d=identicon&r=PG", "display_name": "Gak2", "link": "https://stackoverflow.com/users/2487124/gak2"}, "edited": false, "score": 0, "creation_date": 1558708267, "post_id": 54348789, "comment_id": 99201883, "body": "anyone getting this problem with navigation 2.0.0 ?"}], "tags": [], "owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "is_accepted": false, "score": 0, "last_activity_date": 1549385285, "last_edit_date": 1549385285, "creation_date": 1548339704, "answer_id": 54348789, "question_id": 53990778, "link": "https://stackoverflow.com/questions/53990778/gradle-sync-error-using-navigation-component-in-base-module/54348789#54348789", "title": "Gradle sync error using Navigation Component in base module", "body": "<p>Just updated to alpha11 and not seeing this issue any more. (<a href=\"https://developer.android.com/jetpack/androidx/releases/navigation#1.0.0-alpha11\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/navigation#1.0.0-alpha11</a>)</p>\n\n<p><strong>UPDATE</strong>\nFrom comments below it looks like alpha11 didn't resolve issue for some people but beta1 did</p>\n"}], "owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 671, "favorite_count": 3, "answer_count": 1, "score": 10, "last_activity_date": 1549385285, "creation_date": 1546284051, "last_edit_date": 1546286585, "question_id": 53990778, "link": "https://stackoverflow.com/questions/53990778/gradle-sync-error-using-navigation-component-in-base-module", "title": "Gradle sync error using Navigation Component in base module", "body": "<p>Using Navigation component alpha09 and have added <code>apply plugin: \"androidx.navigation.safeargs\"</code> to top of base module <code>build.gradle</code> but getting following error when doing gradle sync.  I'm using Android Studio 3.4 Canary 9 (but also had same problem using 3.3 RC3)</p>\n\n<p>It looks like a related fix was included in alpha09 - <a href=\"https://issuetracker.google.com/issues/119662045\" rel=\"noreferrer\">https://issuetracker.google.com/issues/119662045</a></p>\n\n<pre><code>Caused by: kotlin.TypeCastException: null cannot be cast to non-null type org.gradle.api.resources.TextResource\n    at androidx.navigation.safeargs.gradle.SafeArgsPlugin.setApplicationId(SafeArgsPlugin.kt:87)\n    at androidx.navigation.safeargs.gradle.SafeArgsPlugin.access$setApplicationId(SafeArgsPlugin.kt:39)\n    at androidx.navigation.safeargs.gradle.SafeArgsPlugin$apply$1$task$1.execute(SafeArgsPlugin.kt:63)\n    at androidx.navigation.safeargs.gradle.SafeArgsPlugin$apply$1$task$1.execute(SafeArgsPlugin.kt:39)\n    at org.gradle.api.internal.tasks.DefaultTaskContainer.create(DefaultTaskContainer.java:360)\n    at androidx.navigation.safeargs.gradle.SafeArgsPlugin$apply$1.invoke(SafeArgsPlugin.kt:59)\n    at androidx.navigation.safeargs.gradle.SafeArgsPlugin$apply$1.invoke(SafeArgsPlugin.kt:39)\n    at androidx.navigation.safeargs.gradle.SafeArgsPluginKt$sam$org_gradle_api_Action$0.execute(SafeArgsPlugin.kt)\n    at org.gradle.internal.ImmutableActionSet$SingletonSet.execute(ImmutableActionSet.java:225)\n    at org.gradle.api.internal.DefaultDomainObjectCollection.doAdd(DefaultDomainObjectCollection.java:247)\n    at org.gradle.api.internal.DefaultDomainObjectCollection.add(DefaultDomainObjectCollection.java:236)\n    at com.android.build.gradle.LibraryExtension.addVariant(LibraryExtension.java:93)\n    at com.android.build.gradle.FeatureExtension.addVariant(FeatureExtension.java:121)\n    at com.android.build.gradle.internal.ApiObjectFactory.create(ApiObjectFactory.java:134)\n</code></pre>\n"}, {"tags": ["kotlin", "gradle-kotlin-dsl"], "owner": {"reputation": 113, "user_id": 1139397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32018c62accb6edf57251e04308d4216?s=128&d=identicon&r=PG", "display_name": "cdsap", "link": "https://stackoverflow.com/users/1139397/cdsap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 807, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1546282880, "creation_date": 1546282880, "question_id": 53990624, "link": "https://stackoverflow.com/questions/53990624/coroutines-dependency-in-kotlin-gradle-plugin", "title": "Coroutines Dependency in Kotlin Gradle Plugin", "body": "<p>I\u2019m building a Gradle Plugin with Kotlin, in one of the features I\u2019m using Ktor and Coroutines. The plugin must to be included as classpath in third part projects.</p>\n\n<p>Problem comes when I\u2019m trying to use the Plugin in another project, I'm getting:</p>\n\n<p><code>Caused by: java.lang.NoClassDefFoundError: kotlin/coroutines/Continuation</code> on the consumer project. </p>\n\n<p>I tried to isolate the Coroutines dependencies and apply transitive dependencies for Ktor but no success.</p>\n\n<p>I have seen too different solutions(<a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/430\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/issues/430</a>) like applying ShadowJar to build a FatJar but maybe I\u2019m missing something in the configuration. Once I apply the Shadow Plugin the jar is about 62Mb, even applying <code>minimize</code> size of the jar is 12MB.</p>\n\n<p>The basic conf(based on the samples of Kotlin-DSL) of the plugin would be: </p>\n\n<pre><code>    plugins {\n        `kotlin-dsl`\n        `maven-publish`\n        kotlin(\"jvm\") version \"1.3.10\"\n        id(\"com.github.johnrengelman.shadow\") version \"4.0.3\"\n    }\n\n    gradlePlugin {\n       plugins {\n          register(\"greet-plugin\") {\n             id = \"greet\"\n             implementationClass = \"GreetPlugin\"\n          }\n       }\n\n      dependencies {\n         api(\"io.ktor:ktor-client-okhttp:1.0.1\")\n      }\n    }\n\n    val sourcesJar by tasks.registering(Jar::class) {\n       classifier = \"sources\"\n       from(sourceSets.main.get().allSource)\n    }\n\n    val shadowJar: ShadowJar by tasks\n        shadowJar.apply {\n           baseName = \"test\"\n           classifier = \"\"\n           minimize()\n    }\n</code></pre>\n\n<p>The complete example is here:\n<a href=\"https://github.com/cdsap/testPluginCoroutinesProblem\" rel=\"nofollow noreferrer\">https://github.com/cdsap/testPluginCoroutinesProblem</a></p>\n\n<p>A more detailed error </p>\n\n<pre><code>    java.lang.NoClassDefFoundError: kotlin/coroutines/Continuation\n            at io.ktor.client.engine.okhttp.OkHttp.create(OkHttp.kt:8)\n            at io.ktor.client.HttpClientKt.HttpClient(HttpClient.kt:36)\n            at io.ktor.client.HttpClientKt.HttpClient$default(HttpClient.kt:33)\n            at GreetPlugin.apply(GreetPlugin.kt:26)\n            at GreetPlugin.apply(GreetPlugin.kt:12)\n</code></pre>\n\n<p>I expect the plugin will build properly the coroutines dependency within Ktor and don't have big jar as dependency.</p>\n"}, {"tags": ["android", "android-studio", "email", "kotlin", "jakarta-mail"], "comments": [{"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546279278, "post_id": 53989965, "comment_id": 94817960, "body": "This won&#39;t send an email, it opens the default email app installed with pre-filled data and the user is the one who sends the email."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546279506, "post_id": 53989965, "comment_id": 94818030, "body": "And it is asking for Gmail credentials because probably Gmail app is installed without a configured account, try setting the credentials and report back the behavior."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546279878, "post_id": 53989965, "comment_id": 94818124, "body": "Is there any way to send email without gmail app like mailx in unix commands"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546280012, "post_id": 53989965, "comment_id": 94818152, "body": "You can use <a href=\"https://www.oracle.com/technetwork/java/javamail/index.html\" rel=\"nofollow noreferrer\">JavaMail</a>, but you won&#39;t be able to impersonate the user, you&#39;ll need to use your own SMPT server"}, {"owner": {"reputation": 27744, "user_id": 1040885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXgVZ.jpg?s=128&g=1", "display_name": "Bill Shannon", "link": "https://stackoverflow.com/users/1040885/bill-shannon"}, "edited": false, "score": 0, "creation_date": 1546373123, "post_id": 53989965, "comment_id": 94834139, "body": "mailx can&#39;t send directly to Gmail.  mailx only works without a password if it sends to your local mail server, which trusts you because you&#39;re on your private intranet.  If there was a mail server on the public internet that allowed people to send email without a password, can you imagine how spammers would abuse that?  Including your password for your Gmail account in your application is risky because someone could discover it and abuse your account."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "edited": false, "score": 0, "creation_date": 1546280405, "post_id": 53990305, "comment_id": 94818263, "body": "Thanks @Oussema Aroua for your comment. Do I need to enter password here? I am working on contact us page that need to send email once the form data has been submitted. If I enter credentials then its not secured."}, {"owner": {"reputation": 4818, "user_id": 4063532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ycJy2.jpg?s=128&g=1", "display_name": "Oussema Aroua", "link": "https://stackoverflow.com/users/4063532/oussema-aroua"}, "edited": false, "score": 0, "creation_date": 1546283121, "post_id": 53990305, "comment_id": 94818956, "body": "you need to type the email, I was putting the encrypted password inside the gradle file then decryption it at run type"}, {"owner": {"reputation": 4818, "user_id": 4063532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ycJy2.jpg?s=128&g=1", "display_name": "Oussema Aroua", "link": "https://stackoverflow.com/users/4063532/oussema-aroua"}, "edited": false, "score": 0, "creation_date": 1546283164, "post_id": 53990305, "comment_id": 94818969, "body": "At an other application I made the mail send through the Api"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "edited": false, "score": 0, "creation_date": 1546291183, "post_id": 53990305, "comment_id": 94820680, "body": "I am not getting any error in my log but at the same time, I am not getting any email too. Below is the code outline. class MainActivity : AppCompatActivity() { override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) val sender = GMailSender( &quot;contact@gmail.com&quot;, &quot;Hello&quot;) val subject=&quot;Test&quot; val message=&quot;Test Message&quot; val recipients=&quot;test@gmail.com&quot; val button: Button = findViewById(R.id.button) button.setOnClickListener(View.OnClickListener { sender.sendMail(subject, message, sender.toString(), recipients) }) }}"}], "tags": [], "owner": {"reputation": 4818, "user_id": 4063532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ycJy2.jpg?s=128&g=1", "display_name": "Oussema Aroua", "link": "https://stackoverflow.com/users/4063532/oussema-aroua"}, "is_accepted": false, "score": 0, "last_activity_date": 1546280156, "creation_date": 1546280156, "answer_id": 53990305, "question_id": 53989965, "link": "https://stackoverflow.com/questions/53989965/sending-email-via-kotlin/53990305#53990305", "title": "Sending Email Via Kotlin", "body": "<p>There is a java solution try to make your kotlin one(sorry I'm not into Kotlin).</p>\n\n<p>Add this to your gradle</p>\n\n<pre><code>implementation 'com.sun.mail:android-mail:1.6.0'\nimplementation 'com.sun.mail:android-activation:1.6.0'\n</code></pre>\n\n<p>and add those two <a href=\"https://gist.github.com/oussemaAr/50b6189955f6036ebfdb0bacdc433bf4\" rel=\"nofollow noreferrer\">classes</a> one for creating the SMTP server and the other for security purpose and call it like this:</p>\n\n<pre><code>GMailSender sender = new GMailSender(\n                        \"you_email@gmail.com\",\n                        \"password\");\n\nsender.sendMail(subject, message,sender,recipients);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 9756, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1610881420, "creation_date": 1546277528, "last_edit_date": 1588618938, "question_id": 53989965, "link": "https://stackoverflow.com/questions/53989965/sending-email-via-kotlin", "title": "Sending Email Via Kotlin", "body": "<p>I am using the code below to send an email but it is asking for gmail credentials. I am looking for a command, something similar to mailx, to send emails to a particular address without asking for any credentials. Any help is appreciated.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val button: Button = findViewById(R.id.button)\n        val editTextTo: EditText = findViewById(R.id.editTextTo)\n\n        button.setOnClickListener(View.OnClickListener {\n            val to = editTextTo.getText().toString()\n            val subject = \"Test\"\n            val message = \"Test\"\n\n            val intent = Intent(Intent.ACTION_SEND)\n            val addressees = arrayOf(to)\n            intent.putExtra(Intent.EXTRA_EMAIL, addressees)\n            intent.putExtra(Intent.EXTRA_SUBJECT, subject)\n            intent.putExtra(Intent.EXTRA_TEXT, message)\n            intent.setType(\"message/rfc822\")\n            startActivity(Intent.createChooser(intent, \"Send Email using:\"));\n        })\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1546274030, "post_id": 53989520, "comment_id": 94816649, "body": "I think you need to put it inside a companion object with the @JvmStatic annotation."}, {"owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1546274140, "post_id": 53989520, "comment_id": 94816681, "body": "It works. Thank you @TheWanderer."}], "answers": [{"comments": [{"owner": {"reputation": 1095, "user_id": 4262073, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x87GMxRn5os/AAAAAAAAAAI/AAAAAAAABYY/EFzRyxu9ez4/photo.jpg?sz=128", "display_name": "ssasi", "link": "https://stackoverflow.com/users/4262073/ssasi"}, "edited": false, "score": 3, "creation_date": 1553248813, "post_id": 53989578, "comment_id": 97322474, "body": "or even simple  <code>object Test {         @JvmStatic         fun main(args: Array&lt;String&gt;) {}     }</code>"}], "tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": false, "score": 20, "last_activity_date": 1546274418, "creation_date": 1546274418, "answer_id": 53989578, "question_id": 53989520, "link": "https://stackoverflow.com/questions/53989520/public-static-void-main-in-kotlin/53989578#53989578", "title": "public static void main in Kotlin", "body": "<p>Put it inside a companion object with the <code>@JvmStatic</code> annotation:</p>\n\n<pre><code>class Test {\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {}\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": true, "score": 22, "last_activity_date": 1546275588, "last_edit_date": 1546275588, "creation_date": 1546274492, "answer_id": 53989588, "question_id": 53989520, "link": "https://stackoverflow.com/questions/53989520/public-static-void-main-in-kotlin/53989588#53989588", "title": "public static void main in Kotlin", "body": "<p>You can just put the main function outside of any class.</p>\n\n<p>In anyFile.kt do:</p>\n\n<pre><code>package foo\n\nfun main(args: Array&lt;String&gt;) {\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4dhx7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4dhx7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Either <code>main + tab</code> or <code>psvm + tab</code> work if you have your cursor outside of a class.</p>\n"}, {"comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546275208, "post_id": 53989642, "comment_id": 94816964, "body": "This does not work inside of a class. (And that was the confusion)"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546275340, "post_id": 53989642, "comment_id": 94817002, "body": "@leonardkraemer, The question was about how to generate <code>main</code> function quickly"}, {"owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "edited": false, "score": 0, "creation_date": 1546275681, "post_id": 53989642, "comment_id": 94817097, "body": "Thanks @OmarMainegra, main + tab works, so does psvm + tab (outside the class). But @ leonardkraemer&#39;s answer looks good to me."}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": false, "score": -1, "last_activity_date": 1578049543, "last_edit_date": 1578049543, "creation_date": 1546274833, "answer_id": 53989642, "question_id": 53989520, "link": "https://stackoverflow.com/questions/53989520/public-static-void-main-in-kotlin/53989642#53989642", "title": "public static void main in Kotlin", "body": "<p>Yes, shortkey: <em>main + <kbd>tab</kbd></em> in any <em>kotlin</em> file</p>\n\n<p>It will generate</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9755, "favorite_count": 0, "accepted_answer_id": 53989588, "answer_count": 3, "score": 15, "last_activity_date": 1578049543, "creation_date": 1546273974, "question_id": 53989520, "link": "https://stackoverflow.com/questions/53989520/public-static-void-main-in-kotlin", "title": "public static void main in Kotlin", "body": "<p>In <code>Java</code>, especially in <code>Android studio</code>, every time that I want to run or test some <code>Java</code> source code quickly, I will create <code>public static void main</code> (shortkey: <em><code>psvm + tab</code></em>) and the IDE will show \"Play\" button to run it immediately. </p>\n\n<p><a href=\"https://i.stack.imgur.com/HnMUc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HnMUc.png\" alt=\"enter image description here\"></a></p>\n\n<p>Do we have some kind of <code>psvm</code> in <code>Kotlin</code> - an entry point or something in order to run or test anything that quickly? Did try with this function but it wasn't working. (Even try with <code>@JvmStatic</code>). Can we config somewhere in <code>Android studio</code>?</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "adapter", "android-viewholder"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546273838, "post_id": 53989496, "comment_id": 94816582, "body": "I think if you had the button always there just <code>visibility=&quot;GONE&quot;</code> then you wouldn&#39;t be having these problems"}, {"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546274202, "post_id": 53989496, "comment_id": 94816698, "body": "@epicPandaForce Maybe You don&#39;t get the point. My problem is that I can&#39;t get the id of the second button, which is inside of a different layout from the first one."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 1, "creation_date": 1546274597, "post_id": 53989496, "comment_id": 94816813, "body": "@PedroRelvas You have another question without accepting the answer even you clearly are using it in this new question, and I mean the the part <code>val inflater = LayoutInflater.from(context)</code>, see <a href=\"https://stackoverflow.com/questions/53981684/unresolved-reference-layout-inflater-service-inside-onbindviewholder/53983759#53983759\" title=\"unresolved reference layout inflater service inside onbindviewholder\">stackoverflow.com/questions/53981684/&hellip;</a>"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546277528, "post_id": 53989496, "comment_id": 94817532, "body": "Just specify the <code>id</code> in <code>R.layout.used_products_field</code> as you usually do, later in you click listener call <code>holder.parent_linear_layout.findViewById(R.id.button)</code>"}, {"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546277676, "post_id": 53989496, "comment_id": 94817570, "body": "@OmarMainegra Hi! Sorry, you&#39;re right! Ii was not intended! Thank you for calling me to the attention."}, {"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546277742, "post_id": 53989496, "comment_id": 94817584, "body": "@OmarMainegra I&#39;ve tried that. Doesn&#39;t work it all. It can&#39;t reach the button."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546277902, "post_id": 53989496, "comment_id": 94817621, "body": "NP, Post the content of <code>R.layout.used_products_field</code> to see what you are trying"}, {"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546278126, "post_id": 53989496, "comment_id": 94817681, "body": "@OmarMainegra Done. I&#39;ve also tried an different id name in relation with the static one."}], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "edited": false, "score": 0, "creation_date": 1546346201, "post_id": 53990099, "comment_id": 94828264, "body": "Hey @OmarMainegra. The problem is that I can get the id in that way, but the next generated buttons don&#39;t got the action of the setOnClickListener. Do you know why? Thank you."}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": false, "score": 0, "last_activity_date": 1546278609, "creation_date": 1546278609, "answer_id": 53990099, "question_id": 53989496, "link": "https://stackoverflow.com/questions/53989496/kotlin-android-get-the-id-of-generated-button-inside-onbindviewholder-item/53990099#53990099", "title": "Kotlin/Android - Get the id of generated button inside onBindViewHolder Item", "body": "<p>You should fetch the button after adding it to the parent <code>ViewGroup</code>, in your case is the row click listener block.</p>\n\n<pre><code>holder.add_field_button.setOnClickListener {\n    holder.parent_linear_layout.apply {\n        val inflater = LayoutInflater.from(context)\n        val rowView = inflater.inflate(R.layout.used_products_field, this, false)\n        addView(rowView, childCount!! - 0) // addView and childCount are available in the scope\n        holder.add_field_button.text = \"-\"\n\n        val button = findViewById&lt;Button&gt;(R.id.add_field_button) // findViewById is available in the scope\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "edited": false, "score": 0, "creation_date": 1546297576, "post_id": 53990106, "comment_id": 94821679, "body": "yes, but only works for the first button. If I have 16 buttons the other 15 won&#39;t work..."}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 0, "last_activity_date": 1546278650, "creation_date": 1546278650, "answer_id": 53990106, "question_id": 53989496, "link": "https://stackoverflow.com/questions/53989496/kotlin-android-get-the-id-of-generated-button-inside-onbindviewholder-item/53990106#53990106", "title": "Kotlin/Android - Get the id of generated button inside onBindViewHolder Item", "body": "<p>You can get the views inside the inflated layout (<code>used_products_field</code>)</p>\n\n<pre><code>val inflater = LayoutInflater.from(context)\nval rowView = inflater.inflate(R.layout.used_products_field, this, false)\nval button = rowView.findViewById&lt;Button&gt;(R.id.add_field_button)\nval edittext = rowView.findViewById&lt;EditText&gt;(R.id.number_edit_text)\n</code></pre>\n"}], "owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1892, "favorite_count": 1, "accepted_answer_id": 53990106, "answer_count": 2, "score": 1, "last_activity_date": 1546278650, "creation_date": 1546273738, "last_edit_date": 1546278062, "question_id": 53989496, "link": "https://stackoverflow.com/questions/53989496/kotlin-android-get-the-id-of-generated-button-inside-onbindviewholder-item", "title": "Kotlin/Android - Get the id of generated button inside onBindViewHolder Item", "body": "<p>I got a <code>recyclerView</code> with multiple items (<code>ViewHolders</code>). In one (<strong>ViewHolderItemTratamentos</strong>) of these I got the following elements:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4LECA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4LECA.png\" alt=\"enter image description here\"></a></p>\n\n<p>When the first \"add <code>button</code>\" is clicked, through an <code>inflator</code> layout, the same elements (<code>editText</code> and <code>button</code>) are created beneath the previous ones. Just like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VBMsl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VBMsl.png\" alt=\"enter image description here\"></a>\nThe code from my <code>adapter</code> (which got the logic of the set click) which create the new line:</p>\n\n<pre><code>holder.add_field_button.setOnClickListener {\n    holder.parent_linear_layout.apply {\n        val inflater = LayoutInflater.from(context)\n        val rowView = inflater.inflate(R.layout.used_products_field, this, false)\n        holder.parent_linear_layout.addView(rowView, holder.parent_linear_layout.childCount!! - 0)\n        holder.add_field_button.text = \"-\"\n     }\n  }\n</code></pre>\n\n<p>So, <strong>the problem</strong> is that I can't get the <code>id</code> from the <code>button</code> of the <code>layout.used_products_field</code> to generate another new line. Should I inflate this layout (It does make any sense?)? And should I give the same <code>id</code> to every <code>button</code> (static and the generated one)?</p>\n\n<p>Content of the R.layout.used_products_field:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:orientation=\"horizontal\" &gt;\n&lt;EditText\n    android:id=\"@+id/number_edit_text\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"match_parent\"\n    android:layout_weight=\"5\"\n    android:inputType=\"phone\"/&gt;\n\n&lt;Button\n    android:id=\"@+id/add_field_button\"\n    android:layout_width=\"50dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    style=\"@style/botaoCard\"\n    android:textSize=\"24dp\"\n    android:text=\"+\"\n    android:padding=\"5dp\"/&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "mobile", "dependency-injection", "kotlin", "koin"], "comments": [{"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546272071, "post_id": 53988902, "comment_id": 94816062, "body": "This looks more like an issue (i.e. feature request) you can open in <b>Koin</b> repository"}, {"owner": {"reputation": 179, "user_id": 1485424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2oecy.jpg?s=128&g=1", "display_name": "Eslam Hussein", "link": "https://stackoverflow.com/users/1485424/eslam-hussein"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 1, "creation_date": 1546283156, "post_id": 53988902, "comment_id": 94818964, "body": "@OmarMainegra I added it. <a href=\"https://github.com/InsertKoinIO/koin/issues/322\" rel=\"nofollow noreferrer\">github.com/InsertKoinIO/koin/issues/322</a>"}, {"owner": {"reputation": 2879, "user_id": 1856562, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/73aac0cf3773eb9f6627265c407e0ecc?s=128&d=identicon&r=PG", "display_name": "FarshidABZ", "link": "https://stackoverflow.com/users/1856562/farshidabz"}, "edited": false, "score": 0, "creation_date": 1546426941, "post_id": 53988902, "comment_id": 94846967, "body": "<a href=\"https://medium.com/@farshidabazari/android-koin-with-mvvm-and-retrofit-e040e4e15f9d\" rel=\"nofollow noreferrer\">medium.com/@farshidabazari/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1642, "user_id": 2996867, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/da45ae3cdfb19a8a7403655b5785e53b?s=128&d=identicon&r=PG", "display_name": "maslick", "link": "https://stackoverflow.com/users/2996867/maslick"}, "is_accepted": true, "score": 2, "last_activity_date": 1546564690, "creation_date": 1546564690, "answer_id": 54031987, "question_id": 53988902, "link": "https://stackoverflow.com/questions/53988902/koin-default-implementation-without-name-reference/54031987#54031987", "title": "koin default implementation without name reference", "body": "<p>You are right @Eslam. Current behavior (as of <code>koin:1.0.2</code>) is when you don't specify the dependency name, it is <a href=\"https://github.com/InsertKoinIO/koin/blob/master/koin-projects/koin-core/src/main/kotlin/org/koin/dsl/context/ModuleDefinition.kt#L185\" rel=\"nofollow noreferrer\">treated</a> as an empty string. And <a href=\"https://github.com/InsertKoinIO/koin/blob/master/koin-projects/koin-core/src/main/kotlin/org/koin/core/instance/InstanceRegistry.kt#L58\" rel=\"nofollow noreferrer\">then</a> the definitions get <a href=\"https://github.com/InsertKoinIO/koin/blob/master/koin-projects/koin-core/src/main/kotlin/org/koin/core/bean/BeanRegistry.kt#L60\" rel=\"nofollow noreferrer\">filtered</a> by class name:</p>\n\n<pre><code>fun searchByClass(clazz: KClass&lt;*&gt;): List&lt;BeanDefinition&lt;*&gt;&gt; {\n    return definitions.filter { clazz in it.classes }\n}\n</code></pre>\n\n<p>As a result you get both of your definitions, which results in the above mentioned error: <code>Multiple definitions for class ...</code>.</p>\n"}], "owner": {"reputation": 179, "user_id": 1485424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2oecy.jpg?s=128&g=1", "display_name": "Eslam Hussein", "link": "https://stackoverflow.com/users/1485424/eslam-hussein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 1, "accepted_answer_id": 54031987, "answer_count": 1, "score": 5, "last_activity_date": 1546564690, "creation_date": 1546269274, "question_id": 53988902, "link": "https://stackoverflow.com/questions/53988902/koin-default-implementation-without-name-reference", "title": "koin default implementation without name reference", "body": "<p>I have 2 Retrofit Clients one of them default and second one has different implementation like (base URL, interceptors etc... ) </p>\n\n<p>i need to inject default client without using name reference</p>\n\n<p>first client :- </p>\n\n<pre><code>single&lt;Retrofit&gt; {\nRetrofit.Builder()\n        .baseUrl(RemoteConstants.BASE_URL)\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        .addConverterFactory(APIResponseConverter())\n        .addConverterFactory(GsonConverterFactory.create(get()))\n        .client(get())\n        .build()\n    }\n</code></pre>\n\n<p>Second Client:- </p>\n\n<pre><code>single&lt;Retrofit&gt;(\"retrofit_second\") {\n        Retrofit.Builder()\n                .baseUrl(\"diffrent url\")\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create(get()))\n                .client(get(\"SecondOkHttpClient\"))\n                .build()\n}\n</code></pre>\n\n<p>My way to inject</p>\n\n<pre><code>val myModule = module {\n    factory { get&lt;Retrofit&gt;().create(FirstAPI::class.java) } // Why Koin did not figure it without providing its default name !?\n    factory { get&lt;Retrofit&gt;(\"retrofit_second\").create(SecondAPI::class.java) }\n    factory&lt;IMyRemoteDataSource&gt; { MyRemoteDataSource(get(), get()) }\n    factory&lt;IMyRepository&gt; { MyRepository(get()) }\n    factory { MyUseCase(get()) }\n}\n</code></pre>\n\n<p>the result is :</p>\n\n<pre><code>        Multiple definitions found for type 'class retrofit2.Retrofit' - Koin can't choose between :\n    Single [name='retrofit_second',class='retrofit2.Retrofit']\n    Single [name='Retrofit',class='retrofit2.Retrofit']\n</code></pre>\n\n<p>Why Koin did not get the default Retrofit instance without providing its default name (Retrofit ) !?</p>\n\n<pre><code>factory { get&lt;Retrofit&gt;().create(FirstAPI::class.java) }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "textview", "android-framelayout"], "answers": [{"comments": [{"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1546268883, "post_id": 53988768, "comment_id": 94815106, "body": "Not yet because I&#39;ve never done one dynamically + I&#39;ve no clue if this will actually work. Are you suggesting to put the affected TextView inside a <code>ConstraintLayout</code>?"}, {"owner": {"reputation": 96, "user_id": 6472393, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m1L-DkD6OzA/AAAAAAAAAAI/AAAAAAAAABA/glSbXG_ylZo/photo.jpg?sz=128", "display_name": "Aaron Dishman", "link": "https://stackoverflow.com/users/6472393/aaron-dishman"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1546269395, "post_id": 53988768, "comment_id": 94815246, "body": "Yeah, instead of your parent layout being a FrameLayout or RelativeLayout  <a href=\"https://android-developers.googleblog.com/2017/08/understanding-performance-benefits-of.html\" rel=\"nofollow noreferrer\">which Android suggests migrating away from</a> use a ConstraintLayout and see if that solves your view measurement woes..."}], "tags": [], "owner": {"reputation": 96, "user_id": 6472393, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m1L-DkD6OzA/AAAAAAAAAAI/AAAAAAAAABA/glSbXG_ylZo/photo.jpg?sz=128", "display_name": "Aaron Dishman", "link": "https://stackoverflow.com/users/6472393/aaron-dishman"}, "is_accepted": false, "score": 0, "last_activity_date": 1546268172, "creation_date": 1546268172, "answer_id": 53988768, "question_id": 53988486, "link": "https://stackoverflow.com/questions/53988486/framelayout-gravity-in-dynamic-relativelayout-not-working/53988768#53988768", "title": "FrameLayout gravity in dynamic RelativeLayout not working", "body": "<p>I know this doesn't really answer your question, but have you considered using <a href=\"https://developer.android.com/reference/android/support/constraint/ConstraintLayout\" rel=\"nofollow noreferrer\">ConstraintLayout</a>?</p>\n"}], "owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546268172, "creation_date": 1546266112, "last_edit_date": 1546267379, "question_id": 53988486, "link": "https://stackoverflow.com/questions/53988486/framelayout-gravity-in-dynamic-relativelayout-not-working", "title": "FrameLayout gravity in dynamic RelativeLayout not working", "body": "<p>Why does FrameLayout never adjust its height to fit the text inside a TextView? I've already set the height of the <code>FrameLayout</code> and <code>TextView</code> to <code>match_parent</code> but this didn't work. </p>\n\n<p><a href=\"https://i.stack.imgur.com/SLZ9N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SLZ9N.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>class MyFragment : androidx.fragment.app.Fragment() {\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_rl, container, false)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        val v = view\n        val mainRelativeLayout = v!!.findViewById(R.id.myRelativeLayout) as RelativeLayout\n\n        val rlpCVWarning = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpIVWarningIcon = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpTVWarningText = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpTVTitle = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpCVTimes = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpLLOpeningTime = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpIVBoardIcon = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpTVOpeningTime = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpTVInformation = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpLLClosingTime = RelativeLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,\n                FrameLayout.LayoutParams.MATCH_PARENT)\n        val rlpIVIconExit = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpFLClosingTime = FrameLayout.LayoutParams(FrameLayout.LayoutParams.WRAP_CONTENT,\n                FrameLayout.LayoutParams.MATCH_PARENT)\n        val rlpTVClosingTime = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,\n                FrameLayout.LayoutParams.MATCH_PARENT)\n\n        val r = context!!.resources\n        val fourDp = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 4f, r.displayMetrics).toInt()\n        val fiveDp = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 5f, r.displayMetrics).toInt()\n        val tenDp = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10f, r.displayMetrics).toInt()\n        val thirtyDp = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 30f, r.displayMetrics).toInt()\n\n        val cvRLWarning = RelativeLayout(context)\n        val cvRLTimes = RelativeLayout(context)\n        val cvLLOpeningTime = LinearLayout(context)\n        val cvLLClosingTime = LinearLayout(context)\n        val cvFLClosingTime = FrameLayout(context)\n        cvLLClosingTime.orientation = LinearLayout.HORIZONTAL\n\n        val cvWarning = context?.let { CardView(it) }\n        when {\n            cvWarning != null -&gt; {\n                cvWarning.radius = fourDp.toFloat()\n                cvWarning.setContentPadding(tenDp,tenDp,tenDp,tenDp)\n                cvWarning.useCompatPadding = true\n                cvWarning.cardElevation = fourDp.toFloat()\n                cvWarning.layoutParams = rlpCVWarning\n            }\n        }\n        rlpCVWarning.setMargins(0, 0, 0, thirtyDp)\n\n        val cvTimes = context?.let { CardView(it) }\n        when {\n            cvTimes != null -&gt; {\n                cvTimes.radius = fourDp.toFloat()\n                cvTimes.setContentPadding(tenDp,tenDp,tenDp,tenDp)\n                cvTimes.useCompatPadding = true\n                cvTimes.cardElevation = fourDp.toFloat()\n                cvTimes.layoutParams = rlpCVTimes\n            }\n        }\n        rlpCVTimes.setMargins(0, 0, 0, thirtyDp)\n\n\n\n        /*\n         * Creating 'Warning' CardView items\n         */\n        val ivWarningIcon = ImageView(context)\n        ivWarningIcon.setImageResource(R.drawable.ic_warning)\n        rlpIVWarningIcon.setMargins(0, 0, tenDp, 0)\n\n        val tvWarningText = TextView(context)\n        tvWarningText.text = \"Lorem ipsum dolor sit amet, eos aliquam vulputate percipitur ei. Ut sea viderer epicurei. Solet placerat voluptatibus mea an, pro ei perfecto mediocritatem. Ne lucilius legendos qualisque sea, usu te iriure deleniti.\"\n        TextViewCompat.setTextAppearance(tvWarningText, android.R.style.TextAppearance_Medium)\n\n        val tvTitle = TextView(context)\n        tvTitle.text = \"Lorem ipsum dolor sit amet, eos aliquam vulputate percipitur ei.\"\n        tvTitle.gravity = Gravity.CENTER\n        TextViewCompat.setTextAppearance(tvTitle, android.R.style.TextAppearance_Medium)\n        rlpTVTitle.setMargins(0, tenDp, 0, tenDp)\n\n        /*\n         * Creating 'Times' CardView items\n         */\n        val ivOpeningClock = ImageView(context)\n        ivOpeningClock.setImageResource(R.drawable.ic_time)\n        ivOpeningClock.setColorFilter((colorFTC), android.graphics.PorterDuff.Mode.SRC_IN)\n        rlpIVBoardIcon.setMargins(0, 0, fiveDp, 0)\n\n        val tvOpeningTime = TextView(context)\n        tvOpeningTime.text = \"TextView A\"\n        TextViewCompat.setTextAppearance(tvOpeningTime, android.R.style.TextAppearance_Large)\n        tvOpeningTime.gravity = Gravity.CENTER_VERTICAL\n\n        val tvInformation = TextView(context)\n        tvInformation.text = \"TextView B\"\n        TextViewCompat.setTextAppearance(tvInformation, android.R.style.TextAppearance_Medium)\n        rlpTVInformation.setMargins(0, 0,0, fiveDp)\n\n        val ivClosingClock = ImageView(context)\n        ivClosingClock.setImageResource(R.drawable.ic_time)\n        ivClosingClock.setColorFilter((colorFTC), android.graphics.PorterDuff.Mode.SRC_IN)\n        rlpIVIconExit.setMargins(0, 0, fiveDp, 0)\n\n        val tvClosingTime = TextView(context)\n        tvClosingTime.text = \"TextView C - Lorem ipsum dolor sit amet, eos aliquam vulputate percipitur ei.\"\n        TextViewCompat.setTextAppearance(tvClosingTime, android.R.style.TextAppearance_Medium)\n        tvClosingTime.gravity = Gravity.CENTER_VERTICAL\n\n\n        // Set IDs\n        mainRelativeLayout.id = View.generateViewId()\n        cvWarning!!.id = View.generateViewId()\n        cvRLWarning.id = View.generateViewId()\n        ivWarningIcon.id = View.generateViewId()\n        tvWarningText.id = View.generateViewId()\n        tvTitle.id = View.generateViewId()\n        cvTimes!!.id = View.generateViewId()\n        cvRLTimes.id = View.generateViewId()\n        cvLLOpeningTime.id = View.generateViewId()\n        ivOpeningClock.id = View.generateViewId()\n        tvOpeningTime.id = View.generateViewId()\n        tvInformation.id = View.generateViewId()\n        cvLLClosingTime.id = View.generateViewId()\n        ivClosingClock.id = View.generateViewId()\n        cvFLClosingTime.id = View.generateViewId()\n        tvClosingTime.id = View.generateViewId()\n\n        // Set Layout Parameters\n        ivWarningIcon.layoutParams = rlpIVWarningIcon\n        tvWarningText.layoutParams = rlpTVWarningText\n        tvTitle.layoutParams = rlpTVTitle\n        cvLLOpeningTime.layoutParams = rlpLLOpeningTime\n        ivOpeningClock.layoutParams = rlpIVBoardIcon\n        tvOpeningTime.layoutParams = rlpTVOpeningTime\n        tvInformation.layoutParams = rlpTVInformation\n        cvLLClosingTime.layoutParams = rlpLLClosingTime\n        ivClosingClock.layoutParams = rlpIVIconExit\n        cvFLClosingTime.layoutParams = rlpFLClosingTime\n        tvClosingTime.layoutParams = rlpTVClosingTime\n\n        // Set RelativeLayout rules\n        rlpTVWarningText.addRule(RelativeLayout.END_OF, ivWarningIcon.id)\n        rlpTVTitle.addRule(RelativeLayout.BELOW, cvWarning.id)\n        rlpCVTimes.addRule(RelativeLayout.BELOW, tvTitle.id)\n        rlpTVOpeningTime.addRule(RelativeLayout.END_OF, ivOpeningClock.id)\n        rlpTVInformation.addRule(RelativeLayout.BELOW, cvLLOpeningTime.id)\n        rlpLLClosingTime.addRule(RelativeLayout.BELOW, tvInformation.id)\n\n        // Adding items to root layout\n        mainRelativeLayout.addView(cvWarning)\n        cvWarning.addView(cvRLWarning)\n        cvRLWarning.addView(ivWarningIcon)\n        cvRLWarning.addView(tvWarningText)\n        mainRelativeLayout.addView(tvTitle)\n        mainRelativeLayout.addView(cvTimes)\n        cvTimes.addView(cvRLTimes)\n        cvRLTimes.addView(cvLLOpeningTime)\n        cvLLOpeningTime.addView(ivOpeningClock)\n        cvLLOpeningTime.addView(tvOpeningTime)\n        cvRLTimes.addView(tvInformation)\n        cvRLTimes.addView(cvLLClosingTime)\n        cvLLClosingTime.addView(ivClosingClock)\n        cvLLClosingTime.addView(cvFLClosingTime)\n        cvFLClosingTime.addView(tvClosingTime)\n\n        super.onActivityCreated(savedInstanceState)\n    }\n}\n</code></pre>\n"}, {"tags": ["windows", "gradle", "kotlin", "compilation", "daemon"], "answers": [{"comments": [{"owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "reply_to_user": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1564815102, "post_id": 54084016, "comment_id": 101161421, "body": "@ArchieG.Qui&#241;ones; Hi, I don&#39;t know."}], "tags": [], "owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "is_accepted": true, "score": 15, "last_activity_date": 1546911828, "last_edit_date": 1546911828, "creation_date": 1546909753, "answer_id": 54084016, "question_id": 53987359, "link": "https://stackoverflow.com/questions/53987359/gradle-couldnt-connect-to-kotlin-daemon-on-windows/54084016#54084016", "title": "Gradle: Couldn&#39;t connect to Kotlin daemon on Windows", "body": "<p>Finally, I found the source of the issue ... After some days!</p>\n\n<p>I found out the issue is from my user account. So decided to revert any user-dependent thing to its first state. During clearing <code>Temp</code> folder (in <code>AppData\\local\\</code>) accidentally I saw these files:</p>\n\n<pre><code>kotlin-daemon.\u00db\u00b2\u00db\u00b0\u00db\u00b1\u00db\u00b9-\u00db\u00b0\u00db\u00b1-\u00db\u00b0\u00db\u00b8.\u00db\u00b0\u00db\u00b3-\u00db\u00b5\u00db\u00b4-\u00db\u00b1\u00db\u00b2-\u00db\u00b6\u00db\u00b4\u00db\u00b8.00.log\nkotlin-daemon.\u00db\u00b2\u00db\u00b0\u00db\u00b1\u00db\u00b9-\u00db\u00b0\u00db\u00b1-\u00db\u00b0\u00db\u00b8.\u00db\u00b0\u00db\u00b3-\u00db\u00b5\u00db\u00b4-\u00db\u00b1\u00db\u00b2-\u00db\u00b6\u00db\u00b4\u00db\u00b8.00.log\n</code></pre>\n\n<p>Yes! The problem has come from <strong><em>unicode encoding issues</em></strong> (probably between <code>NTFS</code> and <code>UTF-8</code>)! Although these are <code>log</code> files and maybe not important their names, this issue can exist somewhere else!</p>\n\n<p>As you can guess, damaged part of file names are <strong><code>date</code> &amp; <code>time</code></strong>. So (unfortunately) I forced to revert my personalizations of <em>Windows user account's date &amp; time formats</em> from my favorite (<code>Persian (Iran)</code>) to <code>English (United States)</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LuFmK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LuFmK.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>And the problem solved immediately:</em></p>\n\n<pre><code>&gt; wmic process where \"name='java.exe'\" get processId, executablePath, commandLine /format:list\n\nCommandLine=D:\\Devel\\JDK\\openjdk-11.0.1\\bin\\java.exe -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xmx1536m -Dfile.encoding=UTF-8 -Duser.country=US -Duser.language=en -Duser.variant -cp D:\\Devel\\.gradle\\wrapper\\dists\\gradle-5.0-all\\4mxuau4c77thx8zlvtz4xiez7\\gradle-5.0\\lib\\gradle-launcher-5.0.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 5.0\nExecutablePath=D:\\Devel\\JDK\\openjdk-11.0.1\\bin\\java.exe\nProcessId=9168\n\nCommandLine=D:\\Devel\\JDK\\openjdk-11.0.1\\bin\\java -cp D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-compiler-embeddable\\1.3.10\\adc9e577de39fba3db6d60662892118afedd713\\kotlin-compiler-embeddable-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-reflect\\1.3.10\\dd02865be0351707554b16a896b766b2396cdafa\\kotlin-reflect-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib\\1.3.10\\b178c1501609c6e4ee8be635513cb023a466457d\\kotlin-stdlib-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-script-runtime\\1.3.10\\1d2bac36f99b84e1493244f12629bc0756a3ff90\\kotlin-script-runtime-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-common\\1.3.10\\1b19d99229dcedad7caf50534dce38fe82845269\\kotlin-stdlib-common-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains\\annotations\\13.0\\919f0dfe192fb4e063e7dacadee7f8bb9a2672a9\\annotations-13.0.jar -Djava.awt.headless=true -Djava.rmi.server.hostname=127.0.0.1 -Xmx1536m -XX:MaxPermSize=512m -Dkotlin.environment.keepalive org.jetbrains.kotlin.daemon.KotlinCompileDaemon --daemon-runFilesPath C:\\Users\\I\\AppData\\Local\\kotlin\\daemon --daemon-autoshutdownIdleSeconds=7200 --daemon-compilerClasspath D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-compiler-embeddable\\1.3.10\\adc9e577de39fba3db6d60662892118afedd713\\kotlin-compiler-embeddable-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-reflect\\1.3.10\\dd02865be0351707554b16a896b766b2396cdafa\\kotlin-reflect-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib\\1.3.10\\b178c1501609c6e4ee8be635513cb023a466457d\\kotlin-stdlib-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-script-runtime\\1.3.10\\1d2bac36f99b84e1493244f12629bc0756a3ff90\\kotlin-script-runtime-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-common\\1.3.10\\1b19d99229dcedad7caf50534dce38fe82845269\\kotlin-stdlib-common-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains\\annotations\\13.0\\919f0dfe192fb4e063e7dacadee7f8bb9a2672a9\\annotations-13.0.jar\nExecutablePath=D:\\Devel\\JDK\\openjdk-11.0.1\\bin\\java.exe\nProcessId=12088\n</code></pre>\n\n<p>The second process is <strong><em>Kotlin compile daemon</em></strong>.</p>\n\n<hr>\n\n<p>Also <code>log</code> files: </p>\n\n<pre><code>kotlin-daemon.2019-01-08.03-51-11-111.00.log\nkotlin-daemon.2019-01-08.03-51-11-111.00.log.lck\n</code></pre>\n\n<p><sup><em>(Note that <code>.log.lck</code> file didn't exist in previous state!)</em></sup></p>\n"}, {"comments": [{"owner": {"reputation": 559, "user_id": 3438172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UdUM2.png?s=128&g=1", "display_name": "Ace", "link": "https://stackoverflow.com/users/3438172/ace"}, "edited": false, "score": 0, "creation_date": 1611335149, "post_id": 63742462, "comment_id": 116427305, "body": "didn&#39;t help. prolly unrelated."}], "tags": [], "owner": {"reputation": 78861, "user_id": 561309, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/6d833d9f0ffa2265a01359ccecd26d54?s=128&d=identicon&r=PG&f=1", "display_name": "laurent", "link": "https://stackoverflow.com/users/561309/laurent"}, "is_accepted": false, "score": 0, "last_activity_date": 1605655294, "last_edit_date": 1605655294, "creation_date": 1599227312, "answer_id": 63742462, "question_id": 53987359, "link": "https://stackoverflow.com/questions/53987359/gradle-couldnt-connect-to-kotlin-daemon-on-windows/63742462#63742462", "title": "Gradle: Couldn&#39;t connect to Kotlin daemon on Windows", "body": "<p>In my case I've fixed by clearing some cache in Users folders, in particular:</p>\n<pre><code>C:\\Users\\user\\.android\\build-cache\\\nC:\\Users\\user\\.android\\cache\\\nC:\\Users\\user\\.gradle\\caches\\\n</code></pre>\n<p>Not sure which one made a difference but after clearing all this, the error went away.</p>\n"}], "owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8802, "favorite_count": 0, "accepted_answer_id": 54084016, "answer_count": 2, "score": 11, "last_activity_date": 1605655294, "creation_date": 1546258218, "last_edit_date": 1546907983, "question_id": 53987359, "link": "https://stackoverflow.com/questions/53987359/gradle-couldnt-connect-to-kotlin-daemon-on-windows", "title": "Gradle: Couldn&#39;t connect to Kotlin daemon on Windows", "body": "<p>When I try a task that involves a <code>compileKotlin</code> (or <code>compileTestKotlin</code>), then I receive this warning and the result is <em>unpleasant long duration of the build process</em>:</p>\n\n<blockquote>\n  <p>Could not perform incremental compilation: Could not connect to Kotlin compile daemon</p>\n  \n  <p>Could not connect to kotlin daemon. Using fallback strategy.</p>\n</blockquote>\n\n<hr>\n\n<p>I'm not sure the issue is related to my OS (Windows) or not, but I have the same project (with synchronized files) on a remote machine with Linux OS and the issue doesn't exist there. See below comparison:</p>\n\n<ol>\n<li><p>The project on my remote machine (<strong>Linux</strong>) with a little change in Kotlin sources (in one module):</p>\n\n<pre><code>$ ./gradlew build\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/5.0/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD SUCCESSFUL in 5s\n46 actionable tasks: 17 executed, 29 up-to-date\n</code></pre></li>\n<li><p>Same project on my local machine (<strong>Windows</strong>) with same change:</p>\n\n<pre><code>&gt; gradlew build                                                                                       \n\n&gt; Task :backend:compileKotlin                                                                         \nCould not perform incremental compilation: Could not connect to Kotlin compile daemon                 \nCould not connect to kotlin daemon. Using fallback strategy.                                          \n\nwarning: the '-d' option with a directory destination is ignored because '-Xbuild-file' is specified  \n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.           \nUse '--warning-mode all' to show the individual deprecation warnings.                                 \nSee https://docs.gradle.org/5.0/userguide/command_line_interface.html#sec:command_line_warnings       \n\nBUILD SUCCESSFUL in 14s                                                                               \n46 actionable tasks: 17 executed, 29 up-to-date\n</code></pre></li>\n</ol>\n\n<p>Especially see build duration time in above two samples (and <em>the warning after <code>compileKotlin</code> task on Windows machine</em>). Even though my local machine (Windows) has more powerful hardware, but the result is the opposite (Gradle daemon is running on both).</p>\n\n<hr>\n\n<p>In order to further analyzability I also publish the output of <code>gradle -v</code>  and <code>java -version</code> on both machines:</p>\n\n<ol>\n<li><p><strong>Linux</strong>:</p>\n\n<pre><code>$ ./gradlew -v\n\n------------------------------------------------------------\nGradle 5.0\n------------------------------------------------------------\n\nBuild time:   2018-11-26 11:48:43 UTC\nRevision:     7fc6e5abf2fc5fe0824aec8a0f5462664dbcd987\n\nKotlin DSL:   1.0.4\nKotlin:       1.3.10\nGroovy:       2.5.4\nAnt:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018\nJVM:          11.0.1 (Oracle Corporation 11.0.1+13)\nOS:           Linux 3.10.0-862.11.6.el7.x86_64 amd64\n\n\n$ java -version\nopenjdk version \"1.8.0_191\"\nOpenJDK Runtime Environment (build 1.8.0_191-b12)\nOpenJDK 64-Bit Server VM (build 25.191-b12, mixed mode)\n</code></pre></li>\n<li><p><strong>Windows</strong>:</p>\n\n<pre><code>&gt; gradlew -v                                                           \n\n------------------------------------------------------------           \nGradle 5.0                                                             \n------------------------------------------------------------           \n\nBuild time:   2018-11-26 11:48:43 UTC                                  \nRevision:     7fc6e5abf2fc5fe0824aec8a0f5462664dbcd987                 \n\nKotlin DSL:   1.0.4                                                    \nKotlin:       1.3.10                                                   \nGroovy:       2.5.4                                                    \nAnt:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018   \nJVM:          11.0.1 (Oracle Corporation 11.0.1+13)                    \nOS:           Windows 10 10.0 amd64\n\n\n&gt; java -version                                                     \nopenjdk version \"11.0.1\" 2018-10-16                          \nOpenJDK Runtime Environment 18.9 (build 11.0.1+13)           \nOpenJDK 64-Bit Server VM 18.9 (build 11.0.1+13, mixed mode)  \n</code></pre></li>\n</ol>\n\n<hr>\n\n<p>Global <code>gradle.properties</code> files on two machines are exactly same (and there is no poject-local <code>gradle.properties</code> file for none):</p>\n\n<pre><code>org.gradle.daemon=true\norg.gradle.jvmargs=-Xmx1536m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\norg.gradle.parallel=true\n</code></pre>\n\n<p>(without comments)</p>\n\n<hr>\n\n<p>UPDATE 1:</p>\n\n<p>There is no problem when Gradle JVM has been set to <code>JDK 8</code>. But with <code>JDK 9+</code> you can see the issue. </p>\n\n<hr>\n\n<p>UPDATE 2:</p>\n\n<p>I updated my Kotlin plugin from <code>1.3.10</code> to <code>1.3.11</code>. Also, tested <code>1.3.20-eap-52</code>. But the issue persists.</p>\n\n<hr>\n\n<p>UPDATE 3:</p>\n\n<p>I ran Gradle's <code>compileKotlin</code> task with <code>--debug</code> option to get more information. The most important parts of the output are: </p>\n\n<p><em><sup>Note: Below tasks have been run when Gradle daemon was running, Kotlin compile daemon was stopped (if already running) and a little change has been made in a Kotlin source.</sup></em></p>\n\n<p><strong>I.</strong> When using <strong>JDK 8</strong> as Gradle's JVM (<em>OK</em>):</p>\n\n<pre><code>11:01:44 PM: Executing task 'compileKotlin --debug'...\n...\n22:58:20.512 [DEBUG] [org.gradle.api.Project] [KOTLIN] Kotlin compiler args: -Xadd-compiler-builtins -Xbuild-file=C:\\Users\\I\\AppData\\Local\\Temp\\kjps3085207010700515672GradleKotlinJVM.script.xml -classpath D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-jdk8\\1.3.10\\71d0fa967493eb76648b575edf1762cb2d0c7f10\\kotlin-stdlib-jdk8-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-jdk7\\1.3.10\\4d147bf43060dc43d61b096e24da1e67dfe0c032\\kotlin-stdlib-jdk7-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib\\1.3.10\\b178c1501609c6e4ee8be635513cb023a466457d\\kotlin-stdlib-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-common\\1.3.10\\1b19d99229dcedad7caf50534dce38fe82845269\\kotlin-stdlib-common-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains\\annotations\\13.0\\919f0dfe192fb4e063e7dacadee7f8bb9a2672a9\\annotations-13.0.jar -d D:\\Devel\\IdeaProjects\\GradleKotlinJVM\\build\\classes\\kotlin\\main -jvm-target 1.8 -Xload-builtins-from-dependencies -module-name GradleKotlinJVM -no-reflect -no-stdlib -Xplugin=D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-scripting-compiler-embeddable\\1.3.10\\e96a6125793c4ab0258119fcdce9d182f42d32b0\\kotlin-scripting-compiler-embeddable-1.3.10.jar -verbose\n...\n22:58:33.515 [INFO] [org.gradle.api.Task] i: found daemon on port 17519 (270393 ms old), trying to connect\n22:58:33.515 [INFO] [org.gradle.api.Task] i: cannot connect to registry: Connection refused: connect\n22:58:33.515 [INFO] [org.gradle.api.Task] i: found fresh run file 'C:\\Users\\I\\AppData\\Local\\kotlin\\daemon\\kotlin-daemon.2019-01-06T19-23-50.118Z.ef9f56f7564e12d191d0ba8e50b581f8.17519.run' (270393 ms old), but no daemon, ignoring it\n22:58:33.515 [INFO] [org.gradle.api.Task] i: found daemon on port 17502 (63606 ms old), trying to connect\n22:58:33.515 [INFO] [org.gradle.api.Task] i: cannot connect to registry: Connection refused: connect\n22:58:33.515 [INFO] [org.gradle.api.Task] i: found fresh run file 'C:\\Users\\I\\AppData\\Local\\kotlin\\daemon\\kotlin-daemon.2019-01-06T19-27-16.900Z.ef9f56f7564e12d191d0ba8e50b581f8.17502.run' (63606 ms old), but no daemon, ignoring it\n22:58:33.515 [INFO] [org.gradle.api.Task] i: starting the daemon as: C:\\Program Files\\Java\\openjdk1.8.0_202\\jre\\bin\\java -cp D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-compiler-embeddable\\1.3.10\\adc9e577de39fba3db6d60662892118afedd713\\kotlin-compiler-embeddable-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-reflect\\1.3.10\\dd02865be0351707554b16a896b766b2396cdafa\\kotlin-reflect-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib\\1.3.10\\b178c1501609c6e4ee8be635513cb023a466457d\\kotlin-stdlib-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-script-runtime\\1.3.10\\1d2bac36f99b84e1493244f12629bc0756a3ff90\\kotlin-script-runtime-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-common\\1.3.10\\1b19d99229dcedad7caf50534dce38fe82845269\\kotlin-stdlib-common-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains\\annotations\\13.0\\919f0dfe192fb4e063e7dacadee7f8bb9a2672a9\\annotations-13.0.jar;C:\\Program Files\\Java\\openjdk1.8.0_202\\lib\\tools.jar -Djava.awt.headless=true -Djava.rmi.server.hostname=127.0.0.1 -Xmx1536m -XX:MaxPermSize=512m -Dkotlin.environment.keepalive org.jetbrains.kotlin.daemon.KotlinCompileDaemon --daemon-runFilesPath C:\\Users\\I\\AppData\\Local\\kotlin\\daemon --daemon-autoshutdownIdleSeconds=7200 --daemon-compilerClasspath D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-compiler-embeddable\\1.3.10\\adc9e577de39fba3db6d60662892118afedd713\\kotlin-compiler-embeddable-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-reflect\\1.3.10\\dd02865be0351707554b16a896b766b2396cdafa\\kotlin-reflect-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib\\1.3.10\\b178c1501609c6e4ee8be635513cb023a466457d\\kotlin-stdlib-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-script-runtime\\1.3.10\\1d2bac36f99b84e1493244f12629bc0756a3ff90\\kotlin-script-runtime-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-common\\1.3.10\\1b19d99229dcedad7caf50534dce38fe82845269\\kotlin-stdlib-common-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains\\annotations\\13.0\\919f0dfe192fb4e063e7dacadee7f8bb9a2672a9\\annotations-13.0.jar;C:\\Program Files\\Java\\openjdk1.8.0_202\\lib\\tools.jar\n22:58:33.515 [INFO] [org.gradle.api.Task] i: Received the message signalling that the daemon is ready\n22:58:33.516 [INFO] [org.gradle.api.Task] i: new daemon started, trying to find it\n22:58:33.516 [INFO] [org.gradle.api.Task] i: found daemon on port 17519 (277256 ms old), trying to connect\n22:58:33.516 [INFO] [org.gradle.api.Task] i: cannot connect to registry: Connection refused: connect\n22:58:33.516 [INFO] [org.gradle.api.Task] i: found fresh run file 'C:\\Users\\I\\AppData\\Local\\kotlin\\daemon\\kotlin-daemon.2019-01-06T19-23-50.118Z.ef9f56f7564e12d191d0ba8e50b581f8.17519.run' (277256 ms old), but no daemon, ignoring it\n22:58:33.516 [INFO] [org.gradle.api.Task] i: found daemon on port 17502 (70469 ms old), trying to connect\n22:58:33.516 [INFO] [org.gradle.api.Task] i: cannot connect to registry: Connection refused: connect\n22:58:33.516 [INFO] [org.gradle.api.Task] i: found fresh run file 'C:\\Users\\I\\AppData\\Local\\kotlin\\daemon\\kotlin-daemon.2019-01-06T19-27-16.900Z.ef9f56f7564e12d191d0ba8e50b581f8.17502.run' (70469 ms old), but no daemon, ignoring it\n22:58:33.516 [INFO] [org.gradle.api.Task] i: found daemon on port 17507 (70 ms old), trying to connect\n22:58:33.516 [INFO] [org.gradle.api.Task] i: connected to the daemon\n22:58:33.518 [INFO] [org.gradle.api.Project] Options for KOTLIN DAEMON: IncrementalCompilationOptions(super=CompilationOptions(compilerMode=INCREMENTAL_COMPILER, targetPlatform=JVM, reportCategories=[0, 1, 2, 3, 4], reportSeverity=3, requestedCompilationResults=[0]), areFileChangesKnown=true, modifiedFiles=[D:\\Devel\\IdeaProjects\\GradleKotlinJVM\\src\\main\\kotlin\\Main.kt], deletedFiles=[], workingDir=D:\\Devel\\IdeaProjects\\GradleKotlinJVM\\build\\kotlin\\compileKotlin, customCacheVersionFileName='gradle-format-version.txt', customCacheVersion=4, multiModuleICSettings=MultiModuleICSettings(buildHistoryFile=D:\\Devel\\IdeaProjects\\GradleKotlinJVM\\build\\kotlin\\compileKotlin\\build-history.bin, useModuleDetection=false), usePreciseJavaTracking=truelocalStateDirs=[D:\\Devel\\IdeaProjects\\GradleKotlinJVM\\build\\classes\\kotlin\\main])\n22:58:33.524 [DEBUG] [sun.rmi.transport.tcp] Daemon worker: reuse connection\n...\n22:58:35.428 [DEBUG] [org.gradle.api.Project] [KOTLIN] [IC] compiling with args: [-Xadd-compiler-builtins, -Xbuild-file=C:\\Users\\I\\AppData\\Local\\Temp\\kjps6683894818132820708GradleKotlinJVM.script.xml, -classpath, D:\\Devel\\IdeaProjects\\GradleKotlinJVM\\build\\classes\\kotlin\\main;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-jdk8\\1.3.10\\71d0fa967493eb76648b575edf1762cb2d0c7f10\\kotlin-stdlib-jdk8-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-jdk7\\1.3.10\\4d147bf43060dc43d61b096e24da1e67dfe0c032\\kotlin-stdlib-jdk7-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib\\1.3.10\\b178c1501609c6e4ee8be635513cb023a466457d\\kotlin-stdlib-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-common\\1.3.10\\1b19d99229dcedad7caf50534dce38fe82845269\\kotlin-stdlib-common-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains\\annotations\\13.0\\919f0dfe192fb4e063e7dacadee7f8bb9a2672a9\\annotations-13.0.jar, -jvm-target, 1.8, -Xload-builtins-from-dependencies, -module-name, GradleKotlinJVM, -no-reflect, -no-stdlib, -Xplugin=D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-scripting-compiler-embeddable\\1.3.10\\e96a6125793c4ab0258119fcdce9d182f42d32b0\\kotlin-scripting-compiler-embeddable-1.3.10.jar, -Xreport-output-files, -verbose]\n...\n11:01:53 PM: Task execution finished 'compileKotlin --debug'.\n</code></pre>\n\n<p><strong>II.</strong> When using <strong>JDK 11</strong> as Gradle's JVM (<strong><em>Problem here</em></strong>):</p>\n\n<pre><code>11:01:44 PM: Executing task 'compileKotlin --debug'...\n...\n23:01:45.888 [DEBUG] [org.gradle.api.Project] [KOTLIN] Kotlin compiler args: -Xadd-compiler-builtins -Xbuild-file=C:\\Users\\I\\AppData\\Local\\Temp\\kjps11452575260818015211GradleKotlinJVM.script.xml -classpath D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-jdk8\\1.3.10\\71d0fa967493eb76648b575edf1762cb2d0c7f10\\kotlin-stdlib-jdk8-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-jdk7\\1.3.10\\4d147bf43060dc43d61b096e24da1e67dfe0c032\\kotlin-stdlib-jdk7-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib\\1.3.10\\b178c1501609c6e4ee8be635513cb023a466457d\\kotlin-stdlib-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-common\\1.3.10\\1b19d99229dcedad7caf50534dce38fe82845269\\kotlin-stdlib-common-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains\\annotations\\13.0\\919f0dfe192fb4e063e7dacadee7f8bb9a2672a9\\annotations-13.0.jar -d D:\\Devel\\IdeaProjects\\GradleKotlinJVM\\build\\classes\\kotlin\\main -jvm-target 1.8 -Xload-builtins-from-dependencies -module-name GradleKotlinJVM -no-reflect -no-stdlib -Xplugin=D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-scripting-compiler-embeddable\\1.3.10\\e96a6125793c4ab0258119fcdce9d182f42d32b0\\kotlin-scripting-compiler-embeddable-1.3.10.jar -verbose\n...\n23:01:48.134 [INFO] [org.gradle.api.Task] i: starting the daemon as: C:\\Program Files\\Java\\openjdk-11.0.1\\bin\\java -cp D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-compiler-embeddable\\1.3.10\\adc9e577de39fba3db6d60662892118afedd713\\kotlin-compiler-embeddable-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-reflect\\1.3.10\\dd02865be0351707554b16a896b766b2396cdafa\\kotlin-reflect-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib\\1.3.10\\b178c1501609c6e4ee8be635513cb023a466457d\\kotlin-stdlib-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-script-runtime\\1.3.10\\1d2bac36f99b84e1493244f12629bc0756a3ff90\\kotlin-script-runtime-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-common\\1.3.10\\1b19d99229dcedad7caf50534dce38fe82845269\\kotlin-stdlib-common-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains\\annotations\\13.0\\919f0dfe192fb4e063e7dacadee7f8bb9a2672a9\\annotations-13.0.jar -Djava.awt.headless=true -Djava.rmi.server.hostname=127.0.0.1 -Xmx1536m -XX:MaxPermSize=512m -Dkotlin.environment.keepalive org.jetbrains.kotlin.daemon.KotlinCompileDaemon --daemon-runFilesPath C:\\Users\\I\\AppData\\Local\\kotlin\\daemon --daemon-autoshutdownIdleSeconds=7200 --daemon-compilerClasspath D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-compiler-embeddable\\1.3.10\\adc9e577de39fba3db6d60662892118afedd713\\kotlin-compiler-embeddable-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-reflect\\1.3.10\\dd02865be0351707554b16a896b766b2396cdafa\\kotlin-reflect-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib\\1.3.10\\b178c1501609c6e4ee8be635513cb023a466457d\\kotlin-stdlib-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-script-runtime\\1.3.10\\1d2bac36f99b84e1493244f12629bc0756a3ff90\\kotlin-script-runtime-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-common\\1.3.10\\1b19d99229dcedad7caf50534dce38fe82845269\\kotlin-stdlib-common-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains\\annotations\\13.0\\919f0dfe192fb4e063e7dacadee7f8bb9a2672a9\\annotations-13.0.jar\n23:01:48.134 [INFO] [org.gradle.api.Task] i: [daemon] OpenJDK 64-Bit Server VM warning: Ignoring option MaxPermSize; support was removed in 8.0\n23:01:48.134 [INFO] [org.gradle.api.Task] i: Received the message signalling that the daemon is ready\n23:01:48.134 [INFO] [org.gradle.api.Task] i: new daemon started, trying to find it\n23:01:48.134 [INFO] [org.gradle.api.Task] i: starting the daemon as: C:\\Program Files\\Java\\openjdk-11.0.1\\bin\\java -cp D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-compiler-embeddable\\1.3.10\\adc9e577de39fba3db6d60662892118afedd713\\kotlin-compiler-embeddable-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-reflect\\1.3.10\\dd02865be0351707554b16a896b766b2396cdafa\\kotlin-reflect-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib\\1.3.10\\b178c1501609c6e4ee8be635513cb023a466457d\\kotlin-stdlib-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-script-runtime\\1.3.10\\1d2bac36f99b84e1493244f12629bc0756a3ff90\\kotlin-script-runtime-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-common\\1.3.10\\1b19d99229dcedad7caf50534dce38fe82845269\\kotlin-stdlib-common-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains\\annotations\\13.0\\919f0dfe192fb4e063e7dacadee7f8bb9a2672a9\\annotations-13.0.jar -Djava.awt.headless=true -Djava.rmi.server.hostname=127.0.0.1 -Xmx1536m -XX:MaxPermSize=512m -Dkotlin.environment.keepalive org.jetbrains.kotlin.daemon.KotlinCompileDaemon --daemon-runFilesPath C:\\Users\\I\\AppData\\Local\\kotlin\\daemon --daemon-autoshutdownIdleSeconds=7200 --daemon-compilerClasspath D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-compiler-embeddable\\1.3.10\\adc9e577de39fba3db6d60662892118afedd713\\kotlin-compiler-embeddable-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-reflect\\1.3.10\\dd02865be0351707554b16a896b766b2396cdafa\\kotlin-reflect-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib\\1.3.10\\b178c1501609c6e4ee8be635513cb023a466457d\\kotlin-stdlib-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-script-runtime\\1.3.10\\1d2bac36f99b84e1493244f12629bc0756a3ff90\\kotlin-script-runtime-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-common\\1.3.10\\1b19d99229dcedad7caf50534dce38fe82845269\\kotlin-stdlib-common-1.3.10.jar;D:\\Devel\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains\\annotations\\13.0\\919f0dfe192fb4e063e7dacadee7f8bb9a2672a9\\annotations-13.0.jar\n23:01:48.134 [INFO] [org.gradle.api.Task] i: [daemon] OpenJDK 64-Bit Server VM warning: Ignoring option MaxPermSize; support was removed in 8.0\n23:01:48.134 [INFO] [org.gradle.api.Task] i: Received the message signalling that the daemon is ready\n23:01:48.134 [INFO] [org.gradle.api.Task] i: new daemon started, trying to find it\n23:01:48.137 [WARN] [org.gradle.api.Project] Could not perform incremental compilation: Could not connect to Kotlin compile daemon\n23:01:48.137 [WARN] [org.gradle.api.Project] Could not connect to kotlin daemon. Using fallback strategy.\n23:01:49.486 [LIFECYCLE] [system.err] \n23:01:49.486 [ERROR] [system.err] logging: using Kotlin home directory &lt;no_path&gt;\n23:01:49.521 [ERROR] [system.err] logging: configuring the compilation environment\n23:01:50.538 [ERROR] [system.err] logging: loading modules: [java.se, jdk.accessibility, jdk.attach, jdk.compiler, jdk.dynalink, jdk.httpserver, jdk.jartool, jdk.javadoc, jdk.jconsole, jdk.jdi, jdk.jfr, jdk.jshell, jdk.jsobject, jdk.management, jdk.management.jfr, jdk.net, jdk.scripting.nashorn, jdk.sctp, jdk.security.auth, jdk.security.jgss, jdk.unsupported, jdk.unsupported.desktop, jdk.xml.dom, java.base, java.compiler, java.datatransfer, java.desktop, java.xml, java.instrument, java.logging, java.management, java.management.rmi, java.rmi, java.naming, java.net.http, java.prefs, java.scripting, java.security.jgss, java.security.sasl, java.sql, java.transaction.xa, java.sql.rowset, java.xml.crypto, jdk.internal.jvmstat, jdk.management.agent, jdk.jdwp.agent, jdk.internal.ed, jdk.internal.le, jdk.internal.opt]\n23:01:53.459 [ERROR] [system.err] warning: the '-d' option with a directory destination is ignored because '-Xbuild-file' is specified\n...\n11:01:53 PM: Task execution finished 'compileKotlin --debug'.\n</code></pre>\n\n<p><strong>III.</strong> When using <strong>JDK 11</strong> as Gradle's JVM, but on <strong>Linux</strong> (<em>OK</em>):</p>\n\n<pre><code>$ ./gradlew compileKotlin --debug\n...\n01:33:20.145 [INFO] [org.gradle.api.Task] i: starting the daemon as: /usr/local/jdk-11.0.1/bin/java -cp /usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-compiler-embeddable/1.3.10/adc9e577de39fba3db6d60662892118afedd713/kotlin-compiler-embeddable-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-reflect/1.3.10/dd02865be0351707554b16a896b766b2396cdafa/kotlin-reflect-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.3.10/b178c1501609c6e4ee8be635513cb023a466457d/kotlin-stdlib-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-script-runtime/1.3.10/1d2bac36f99b84e1493244f12629bc0756a3ff90/kotlin-script-runtime-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.3.10/1b19d99229dcedad7caf50534dce38fe82845269/kotlin-stdlib-common-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar -Djava.awt.headless=true -Djava.rmi.server.hostname=127.0.0.1 -Xmx1536m -XX:MaxPermSize=512m -Dkotlin.environment.keepalive org.jetbrains.kotlin.daemon.KotlinCompileDaemon --daemon-runFilesPath /usr/share/nginx/html/0xy/.kotlin/daemon --daemon-autoshutdownIdleSeconds=7200 --daemon-compilerClasspath /usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-compiler-embeddable/1.3.10/adc9e577de39fba3db6d60662892118afedd713/kotlin-compiler-embeddable-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-reflect/1.3.10/dd02865be0351707554b16a896b766b2396cdafa/kotlin-reflect-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.3.10/b178c1501609c6e4ee8be635513cb023a466457d/kotlin-stdlib-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-script-runtime/1.3.10/1d2bac36f99b84e1493244f12629bc0756a3ff90/kotlin-script-runtime-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.3.10/1b19d99229dcedad7caf50534dce38fe82845269/kotlin-stdlib-common-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar\n01:33:20.145 [INFO] [org.gradle.api.Task] i: [daemon] OpenJDK 64-Bit Server VM warning: Ignoring option MaxPermSize; support was removed in 8.0\n01:33:20.145 [INFO] [org.gradle.api.Task] i: Received the message signalling that the daemon is ready\n01:33:20.145 [INFO] [org.gradle.api.Task] i: new daemon started, trying to find it\n01:33:20.145 [INFO] [org.gradle.api.Task] i: found daemon on port 17613 (56 ms old), trying to connect\n01:33:20.145 [INFO] [org.gradle.api.Task] i: connected to the daemon\n01:33:20.145 [INFO] [org.gradle.api.Project] Options for KOTLIN DAEMON: IncrementalCompilationOptions(super=CompilationOptions(compilerMode=INCREMENTAL_COMPILER, targetPlatform=JVM, reportCategories=[0, 1, 2, 3, 4], reportSeverity=3, requestedCompilationResults=[0]), areFileChangesKnown=false, modifiedFiles=null, deletedFiles=null, workingDir=/usr/share/nginx/html/0xy/test/build/kotlin/compileKotlin, customCacheVersionFileName='gradle-format-version.txt', customCacheVersion=4, multiModuleICSettings=MultiModuleICSettings(buildHistoryFile=/usr/share/nginx/html/0xy/test/build/kotlin/compileKotlin/build-history.bin, useModuleDetection=false), usePreciseJavaTracking=truelocalStateDirs=[/usr/share/nginx/html/0xy/test/build/classes/kotlin/main])\n...\n01:33:21.920 [DEBUG] [org.gradle.api.Project] [KOTLIN] [IC] compiling with args: [-Xadd-compiler-builtins, -Xbuild-file=/tmp/kjps15100965302804914597GradleKotlinJVM.script.xml, -classpath, /usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.3.10/71d0fa967493eb76648b575edf1762cb2d0c7f10/kotlin-stdlib-jdk8-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.3.10/4d147bf43060dc43d61b096e24da1e67dfe0c032/kotlin-stdlib-jdk7-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.3.10/b178c1501609c6e4ee8be635513cb023a466457d/kotlin-stdlib-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.3.10/1b19d99229dcedad7caf50534dce38fe82845269/kotlin-stdlib-common-1.3.10.jar:/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar, -jvm-target, 1.8, -Xload-builtins-from-dependencies, -module-name, GradleKotlinJVM, -no-reflect, -no-stdlib, -Xplugin=/usr/share/nginx/html/0xy/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-scripting-compiler-embeddable/1.3.10/e96a6125793c4ab0258119fcdce9d182f42d32b0/kotlin-scripting-compiler-embeddable-1.3.10.jar, -Xreport-output-files, -verbose]\n...\n</code></pre>\n\n<p>There are some suspected events in the above logs (second), but I can't exactly understand the meaning of them and that they are related to my problem or not: </p>\n\n<ol>\n<li>Why two (exactly equal) tries has occurred to start <em>Kotlin compile daemon</em>?</li>\n<li>There are some errors. But they are all after warnings about Kotlin's daemon problem.</li>\n<li><p>The latest error/warning:</p>\n\n<pre><code>[ERROR] [system.err] warning: the '-d' option with a directory destination is ignored because '-Xbuild-file' is specified\n</code></pre>\n\n<p>is the most suspected thing! Because it's the only message you can't find in other logs. Also see <a href=\"https://github.com/arturbosch/detekt/issues/1230\" rel=\"noreferrer\">here</a>. I asked about it in <a href=\"https://stackoverflow.com/questions/54067016/gradle-compilekotlin-task-warning-the-d-option-with-a-directory-destinatio\">another post</a>.</p></li>\n</ol>\n"}, {"tags": ["android", "kotlin", "navigationview"], "answers": [{"tags": [], "owner": {"reputation": 252, "user_id": 7063947, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sJj4zJ4UZCQ/AAAAAAAAAAI/AAAAAAAAF7A/tKBhMTQB2e4/photo.jpg?sz=128", "display_name": "Manoj Patidar", "link": "https://stackoverflow.com/users/7063947/manoj-patidar"}, "is_accepted": false, "score": 0, "last_activity_date": 1546257732, "creation_date": 1546257732, "answer_id": 53987281, "question_id": 53987212, "link": "https://stackoverflow.com/questions/53987212/onclicklistener-on-navigationview-isnt-working/53987281#53987281", "title": "OnClickListener on NavigationView isn&#39;t working", "body": "<p>Use Navigation View Like This</p>\n\n<pre><code>private void setupNavigationView() {\n    BottomNavigationViewHelper.disableShiftMode(bottomNavigation);\n\n    menu = bottomNavigation.getMenu();\n    selectFragment(menu.getItem(0));\n\n    bottomNavigation.setOnNavigationItemSelectedListener(\n            item -&gt; {\n                selectFragment(item);\n                return false;\n            });\n}\n\nprotected void selectFragment(MenuItem item) {\n    item.setChecked(true);\n    FragmentManager fm = getSupportFragmentManager();\n    switch (item.getItemId()) {\n        case R.id.galleryBTT:\n            //Put your Code here\n            break;\n        case R.id.exitBTT:\n            //Put your Code \n            break;\n        case R.id.creditCardBTT :\n           //Put your Code \n            break;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 10547458, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VXyeasXMXzc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAoekKugpbUSF921-pfCV1xhWKVjQ/mo/photo.jpg?sz=128", "display_name": "Adrian27045", "link": "https://stackoverflow.com/users/10547458/adrian27045"}, "is_accepted": false, "score": 0, "last_activity_date": 1546258798, "creation_date": 1546258798, "answer_id": 53987457, "question_id": 53987212, "link": "https://stackoverflow.com/questions/53987212/onclicklistener-on-navigationview-isnt-working/53987457#53987457", "title": "OnClickListener on NavigationView isn&#39;t working", "body": "<p>This is my xml file: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v4.widget.DrawerLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n\n\n&lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n\n\n\n    &lt;Button\n            android:text=\"Button\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/button\" android:layout_marginTop=\"228dp\"\n            app:layout_constraintTop_toTopOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\"\n            android:layout_marginStart=\"192dp\"/&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"?attr/colorPrimary\"\n            android:theme=\"?attr/actionBarTheme\"\n            android:minHeight=\"?attr/actionBarSize\" android:id=\"@+id/toolbar3\"/&gt;\n\n\n    &lt;Button\n            android:layout_width=\"36dp\"\n            android:layout_height=\"46dp\" android:id=\"@+id/phoneBTT\"\n            app:layout_constraintEnd_toEndOf=\"@+id/toolbar3\" app:layout_constraintStart_toStartOf=\"@+id/toolbar3\"\n            android:layout_marginStart=\"8dp\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/toolbar3\" android:layout_marginTop=\"8dp\"\n            app:layout_constraintTop_toTopOf=\"@+id/toolbar3\" app:layout_constraintHorizontal_bias=\"0.023\"\n            app:layout_constraintVertical_bias=\"0.0\"\n            android:background=\"@drawable/ic_phone_black_24dp\"/&gt;\n\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;android.support.design.widget.NavigationView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        app:menu=\"@menu/nav_menu\" android:id=\"@+id/navigationView\"&gt;\n\n&lt;/android.support.design.widget.NavigationView&gt;\n</code></pre>\n\n<p></p>\n\n<p>Previous a NavigationView was at the top in this script ( in DrawerLayout ).\nWhen I put this into bottom, this started working !</p>\n"}], "owner": {"reputation": 35, "user_id": 10547458, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VXyeasXMXzc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAoekKugpbUSF921-pfCV1xhWKVjQ/mo/photo.jpg?sz=128", "display_name": "Adrian27045", "link": "https://stackoverflow.com/users/10547458/adrian27045"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559238393, "creation_date": 1546257393, "last_edit_date": 1546258778, "question_id": 53987212, "link": "https://stackoverflow.com/questions/53987212/onclicklistener-on-navigationview-isnt-working", "title": "OnClickListener on NavigationView isn&#39;t working", "body": "<p>I am using NavigationView for the first time and I have a problem.</p>\n\n<p>When I click on the item in the NavigationView, this goes to the start position without showing the toast.</p>\n\n<p>This is my code: </p>\n\n<pre><code>class MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val navigationView = findViewById&lt;NavigationView&gt;(R.id.navigationView)\n    navigationView.setNavigationItemSelectedListener(this)\n\n    phoneBTT.setOnClickListener {\n        Toast.makeText(this, \"Phone BTT is clicked\", Toast.LENGTH_LONG).show()\n    }\n}\n\noverride fun onNavigationItemSelected(item: MenuItem): Boolean {\n\n    when(item.itemId)\n    {\n        R.id.galleryBTT -&gt; {\n            Toast.makeText(this, \"Gallery BTT is clicked\", Toast.LENGTH_LONG).show()\n        }\n\n        R.id.exitBTT -&gt; {\n            Toast.makeText(this, \"Exit BTT is clicked\", Toast.LENGTH_LONG).show()\n        }\n\n        R.id.alarmBTT -&gt; {\n            Toast.makeText(this, \"Alarm BTT is clicked\", Toast.LENGTH_LONG).show()\n        }\n\n        R.id.creditCardBTT -&gt; {\n            Toast.makeText(this, \"CreditCard BTT is clicked\", Toast.LENGTH_LONG).show()\n        }\n    }\n\n    return true\n}\n</code></pre>\n"}, {"tags": ["android", "data-binding", "kotlin"], "comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1546258906, "post_id": 53987203, "comment_id": 94812031, "body": "you have which view your using RecyclerView / Listview"}, {"owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "reply_to_user": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1546258957, "post_id": 53987203, "comment_id": 94812051, "body": "I have a custom view that will be used in RecycleView"}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1546259017, "post_id": 53987203, "comment_id": 94812078, "body": "can you provide your xml files ?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3926519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fefcc60961eb11eee69013dbb727fb6?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Bajaj", "link": "https://stackoverflow.com/users/3926519/deepak-bajaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1558087695, "creation_date": 1558087695, "answer_id": 56184204, "question_id": 53987203, "link": "https://stackoverflow.com/questions/53987203/databinding-in-android-kotlin-in-the-same-view/56184204#56184204", "title": "databinding in android kotlin in the same view", "body": "<p>yes you can do this using data binding for that you need to DataBinding Obserable and make your own @Binder for your model and the change the value of this observed property on the change of status of your checkbox status</p>\n"}], "owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558087695, "creation_date": 1546257346, "last_edit_date": 1546259865, "question_id": 53987203, "link": "https://stackoverflow.com/questions/53987203/databinding-in-android-kotlin-in-the-same-view", "title": "databinding in android kotlin in the same view", "body": "<p>I have a checkbox and textview and I want to set the visibility of textview based on isChecked of the checkbox, can that be done using databinding in xml file directly ?</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>class SquareCheckBox @JvmOverloads constructor(\n    context: Context,\n    attrs: AttributeSet? = null,\n    defStyle: Int = 0) : ConstraintLayout (context, attrs, defStyle){\n\n    private var layout: ConstraintLayout\n    private var checkImageView : ImageView\n    private var iconImageView : ImageView\n    private var titleTextView : TextView\n\n    var isChecked : Boolean  = (false)\n    var iconImage : Int = -1\n    var title : String = \"\"\n\n    init {\n\n        val inflater = context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        val view = inflater.inflate(R.layout.item_square_checkbox, this, true)\n\n        layout = view.layout\n        checkImageView = view.checkImageView\n        iconImageView = view.iconImageView\n        titleTextView = view.titleTextView\n\n        initAttributes(attrs)\n        applyUIChanges()\n    }\n\n    fun initAttributes(attrs: AttributeSet?){\n\n        attrs?.let {\n            val typedArray = context.obtainStyledAttributes(it, R.styleable.square_checkbox_attributes, 0, 0)\n            isChecked = typedArray.getBoolean(R.styleable.square_checkbox_attributes_isChecked, false)\n            iconImage = typedArray.getResourceId(R.styleable.square_checkbox_attributes_iconImage, -1)\n            title = typedArray.getString(R.styleable.square_checkbox_attributes_title)\n\n            typedArray.recycle()\n        }\n    }\n\n    fun applyUIChanges () {\n\n        if (isChecked) {\n            checkImageView.visibility = View.VISIBLE\n            titleTextView.setTextColor(resources.getColor(android.R.color.black))\n            layout.setBackgroundResource(R.drawable.xml_square_checkbox_selected)\n        } else {\n            checkImageView.visibility = View.INVISIBLE\n            titleTextView.setTextColor(resources.getColor(R.color.lightGray))\n            layout.setBackgroundResource(R.drawable.xml_square_checkbox_unselected)\n        }\n\n        if (iconImage != -1) {\n            iconImageView.setImageResource(iconImage)\n        }\n\n        titleTextView.setText(title)\n    }\n\n    fun performOnClick () {\n        isChecked = !isChecked\n        applyUIChanges()\n    }\n\n    companion object {\n\n        @JvmStatic\n        @BindingAdapter(\"app:isChecked\")\n        fun setIsChecked(view: SquareCheckBox, checked: Boolean) {\n\n            view.isChecked = checked\n            view.applyUIChanges()\n        }\n\n        @InverseBindingAdapter(attribute = \"app:isChecked\")\n        @JvmStatic fun getIsChecked(view: SquareCheckBox) : Boolean {\n            return view.isChecked\n        }\n\n        @BindingAdapter(\"app:isCheckedAttrChanged\")\n        @JvmStatic fun setListeners(\n            view: SquareCheckBox,\n            attrChange: InverseBindingListener) {\n        }\n    }\n}\n</code></pre>\n\n<p>and this is the xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;merge xmlns:android=\"http://schemas.android.com/apk/res/android\"\n       xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n       android:layout_width=\"wrap_content\"\n       android:layout_height=\"wrap_content\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=\"@+id/layout\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@drawable/xml_square_checkbox_unselected\"&gt;\n\n        &lt;ImageView\n                android:id=\"@+id/checkImageView\"\n                android:layout_width=\"20dp\"\n                android:layout_height=\"20dp\"\n                android:src=\"@drawable/ic_ckeck\"\n                android:tint=\"@color/colorPrimary\"\n                android:visibility=\"visible\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                android:layout_marginTop=\"4dp\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                android:layout_marginEnd=\"4dp\"\n                android:layout_marginRight=\"4dp\"/&gt;\n\n        &lt;ImageView\n                android:id=\"@+id/iconImageView\"\n                android:layout_width=\"35dp\"\n                android:layout_height=\"35dp\"\n                android:layout_centerHorizontal=\"true\"\n                android:src=\"@drawable/ic_placeholder_squre\" app:layout_constraintTop_toBottomOf=\"@+id/checkImageView\"\n                app:layout_constraintBottom_toTopOf=\"@+id/titleTextView\"\n                app:layout_constraintEnd_toEndOf=\"parent\" android:layout_marginEnd=\"8dp\"\n                android:layout_marginRight=\"8dp\" app:layout_constraintStart_toStartOf=\"parent\"\n                android:layout_marginLeft=\"8dp\" android:layout_marginStart=\"8dp\"/&gt;\n\n        &lt;TextView\n                android:id=\"@+id/titleTextView\"\n                android:layout_width=\"90dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@id/iconImageView\"\n                android:ellipsize=\"end\"\n                android:gravity=\"center\"\n                android:lines=\"2\"\n                android:text=\"@string/text\"\n                android:maxLines=\"2\"\n                android:textColor=\"@android:color/black\"\n                android:textSize=\"12sp\"\n                android:layout_marginBottom=\"4dp\"\n                android:layout_marginStart=\"4dp\"\n                android:layout_marginEnd=\"4dp\"\n                android:layout_marginRight=\"4dp\"\n                android:layout_marginTop=\"8dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toBottomOf=\"@+id/iconImageView\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/merge&gt;\n</code></pre>\n\n<p><strong>EDIT2</strong></p>\n\n<p>I have also added a variable in view model and try to set the visibility based on it </p>\n\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n                android:visibility=\"@{viewModel.doNotDisturbEnabled ? View.GONE : View.VISIBLE}\"\n                android:id=\"@+id/from_textinput\"\n                style=\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_margin=\"8dp\"\n                android:fontFamily=\"sans-serif\"\n                android:hint=\"@string/from\"\n                android:textColor=\"@color/colorDarkGrey\"\n                android:textColorHint=\"@color/colorDarkGrey\"\n                android:textSize=\"12sp\"\n                android:textStyle=\"normal\"\n                app:boxCornerRadiusBottomEnd=\"5dp\"\n                app:boxCornerRadiusBottomStart=\"5dp\"\n                app:boxCornerRadiusTopEnd=\"5dp\"\n                app:boxCornerRadiusTopStart=\"5dp\"\n                app:boxStrokeColor=\"@color/colorPrimary\"\n                app:boxStrokeWidth=\"3dp\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toBottomOf=\"@+id/doNotDisturbCheckBox\"\n                app:layout_constraintHorizontal_bias=\"0.5\"\n                app:layout_constraintEnd_toStartOf=\"@+id/to_textinput\"&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                    android:id=\"@+id/from_textedit\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"/&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n\n<p>but it still not working</p>\n"}, {"tags": ["android", "kotlin", "android-databinding", "android-livedata"], "answers": [{"tags": [], "owner": {"reputation": 2150, "user_id": 4406995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ca41e4b14541c74143bf0972083236d?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/4406995/hayden"}, "is_accepted": true, "score": 2, "last_activity_date": 1546334062, "last_edit_date": 1546334062, "creation_date": 1546300884, "answer_id": 53992218, "question_id": 53987100, "link": "https://stackoverflow.com/questions/53987100/unable-to-bind-livedata-list-to-spinner-entries/53992218#53992218", "title": "Unable to bind LiveData List to Spinner entries", "body": "<p>After reading <a href=\"https://stackoverflow.com/a/50246793/4406995\">this answer</a>, I've modified <code>my_fragment.xml</code> to the following:</p>\n\n<pre><code>...\n&lt;data&gt;\n    &lt;import type=\"java.util.List\" /&gt;\n    &lt;import type=\"com.example.app.data.room.entities.MyEntity\" /&gt;\n    &lt;import type=\"androidx.lifecycle.LiveData\" /&gt;\n    &lt;variable name=\"viewmodel\"\n              type=\"com.example.app.ui.viewmodels.MyViewModel\" /&gt;\n\n    &lt;variable name=\"myTestList\"\n              type=\"LiveData&amp;lt;List&amp;lt;MyEntity&amp;gt;&amp;gt;\" /&gt;\n&lt;/data&gt;\n...\n&lt;Spinner\n    android:id=\"@+id/my_spinner\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"100dp\"\n    app:entries=\"@{myTestList}\"/&gt;\n...\n</code></pre>\n\n<p>I've also removed the contents of <code>MyFragment.onActivityCreated</code> and modified <code>MyFragment.onCreateView</code> as followed:</p>\n\n<pre><code>override fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    viewModel = ViewModelProviders.of(this).get(MyViewModel::class.java)\n    val binding = MyFragmentBinding.inflate(inflater, container, false)\n    binding.setLifecycleOwner(this)\n    binding.viewmodel = viewModel\n    binding.myTestList = viewModel.myLiveDataList\n\n    return binding.root\n}\n</code></pre>\n\n<p>Not a perfect solution, and I still don't know why my original bout at this problem didn't yield the desired results, but it will do. If there is a better way of binding a Spinner to LiveData in this fashion, please let me know.</p>\n"}], "owner": {"reputation": 2150, "user_id": 4406995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ca41e4b14541c74143bf0972083236d?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/4406995/hayden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1664, "favorite_count": 0, "accepted_answer_id": 53992218, "answer_count": 1, "score": 0, "last_activity_date": 1546334062, "creation_date": 1546256736, "last_edit_date": 1546259845, "question_id": 53987100, "link": "https://stackoverflow.com/questions/53987100/unable-to-bind-livedata-list-to-spinner-entries", "title": "Unable to bind LiveData List to Spinner entries", "body": "<p>I have a Fragment <code>MyFragment</code> currently which has a Spinner <code>my_spinner</code>. For testing my app, I originally populated the contents of <code>my_spinner</code> manually by observing the property <code>myLiveDataList</code> in the AndroidViewModel <code>MyViewModel</code> as below:</p>\n\n<p><strong>my_fragment.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".ui.fragments.MyFragment\"&gt;\n\n    &lt;Spinner\n            android:id=\"@+id/my_spinner\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"100dp\" /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p><strong>MyFragment.kt</strong></p>\n\n<pre><code>import androidx.lifecycle.ViewModelProviders\nimport android.os.Bundle\nimport androidx.fragment.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.ArrayAdapter\nimport androidx.lifecycle.Observer\n\nimport com.example.app.R\nimport com.example.app.data.room.entities.MyEntity\nimport com.example.app.ui.viewmodels.MyViewModel\nimport kotlinx.android.synthetic.main.my_fragment.*\n\nclass MyFragment : Fragment() {\n\n    companion object {\n        fun newInstance() = MyFragment()\n    }\n\n    private lateinit var viewModel: MyViewModel\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        return inflater.inflate(R.layout.my_fragment, container, false)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n        viewModel = ViewModelProviders.of(this).get(MyViewModel::class.java)\n\n        val myAdapter = ArrayAdapter&lt;MyEntity&gt;(this.context!!, android.R.layout.simple_spinner_item)\n\n        // This is where I populate my_spinner\n        viewModel.myLiveDataList.observe(this, Observer&lt;List&lt;MyEntity&gt;&gt; { data -&gt;\n            data?.forEach {\n                myAdapter.add(it)\n            }\n        })\n\n        my_spinner.adapter = myAdapter\n    }\n}\n</code></pre>\n\n<p><strong>MyViewModel.kt</strong></p>\n\n<pre><code>import android.app.Application\nimport androidx.lifecycle.AndroidViewModel\nimport androidx.lifecycle.LiveData\nimport androidx.lifecycle.toLiveData\nimport com.example.app.data.repositories.MyRepository\nimport com.example.app.data.room.entities.MyEntity\n\nclass MyViewModel(application: Application) : AndroidViewModel(application) {\n    private val myRepository = MyRepository(application)\n\n    val myLiveDataList: LiveData&lt;List&lt;MyEntity&gt;&gt;\n        get() = myRepository.getAllData().toLiveData()\n}\n</code></pre>\n\n<p>This fills <code>my_spinner</code> successfully when I navigate to <code>MyFragment</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/B5Qvu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5Qvu.jpg\" alt=\"App before making data-binding changes\"></a></p>\n\n<p>Since it populates as expected, I went ahead to make the following changes to <code>my_fragment.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;data&gt;\n        &lt;variable name=\"viewmodel\"\n                  type=\"com.example.app.ui.viewmodels.MyViewModel\" /&gt;\n    &lt;/data&gt;\n\n    &lt;FrameLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            tools:context=\".ui.fragments.MyFragment\"&gt;\n\n        &lt;Spinner\n                android:id=\"@+id/my_spinner\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"100dp\"\n                app:entries=\"@{viewmodel.myLiveDataList}\"/&gt;\n    &lt;/FrameLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>I've added in a Binding Adapter file <code>BindingAdapterUtil</code> (following code was copied from <a href=\"https://medium.com/fueled-engineering/binding-spinner-in-android-c5fa8c084480\" rel=\"nofollow noreferrer\">this article</a>):</p>\n\n<pre><code>import android.R\nimport android.view.View\nimport android.widget.AdapterView\nimport android.widget.ArrayAdapter\nimport android.widget.Spinner\nimport androidx.databinding.BindingAdapter\nimport androidx.databinding.InverseBindingAdapter\nimport androidx.databinding.InverseBindingListener\nimport com.example.app.ui.adapter.SpinnerExtensions.getSpinnerValue\nimport com.example.app.ui.adapter.SpinnerExtensions.setSpinnerEntries\nimport com.example.app.ui.adapter.SpinnerExtensions.setSpinnerInverseBindingListener\nimport com.example.app.ui.adapter.SpinnerExtensions.setSpinnerItemSelectedListener\nimport com.example.app.ui.adapter.SpinnerExtensions.setSpinnerValue\n\n@BindingAdapter(\"entries\")\nfun Spinner.setEntries(entries: List&lt;Any&gt;?) {\n    setSpinnerEntries(entries)\n}\n\n@BindingAdapter(\"onItemSelected\")\nfun Spinner.setItemSelectedListener(itemSelectedListener: SpinnerExtensions.ItemSelectedListener?) {\n    setSpinnerItemSelectedListener(itemSelectedListener)\n}\n\n@BindingAdapter(\"newValue\")\nfun Spinner.setNewValue(newValue: Any?) {\n    setSpinnerValue(newValue)\n}\n\n@BindingAdapter(\"selectedValue\")\nfun Spinner.setSelectedValue(selectedValue: Any?) {\n    setSpinnerValue(selectedValue)\n}\n\n@BindingAdapter(\"selectedValueAttrChanged\")\nfun Spinner.setInverseBindingListener(inverseBindingListener: InverseBindingListener?) {\n    setSpinnerInverseBindingListener(inverseBindingListener)\n}\n\n@InverseBindingAdapter(attribute = \"selectedValue\", event = \"selectedValueAttrChanged\")\nfun Spinner.getSelectedValue(): Any? {\n    return getSpinnerValue()\n}\n\nobject SpinnerExtensions {\n\n    fun Spinner.setSpinnerEntries(entries: List&lt;Any&gt;?) {\n        if (entries != null) {\n            val arrayAdapter = ArrayAdapter(context, R.layout.simple_spinner_item, entries)\n            arrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n            adapter = arrayAdapter\n        }\n    }\n\n    fun Spinner.setSpinnerItemSelectedListener(listener: ItemSelectedListener?) {\n        if (listener == null) {\n            onItemSelectedListener = null\n        } else {\n            onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n                override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {\n                    if (tag != position) {\n                        listener.onItemSelected(parent.getItemAtPosition(position))\n                    }\n                }\n\n                override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {}\n            }\n        }\n    }\n\n    fun Spinner.setSpinnerInverseBindingListener(listener: InverseBindingListener?) {\n        if (listener == null) {\n            onItemSelectedListener = null\n        } else {\n            onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n                override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {\n                    if (tag != position) {\n                        listener.onChange()\n                    }\n                }\n\n                override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {}\n            }\n        }\n    }\n\n    fun Spinner.setSpinnerValue(value: Any?) {\n        if (adapter != null ) {\n            val position = (adapter as ArrayAdapter&lt;Any&gt;).getPosition(value)\n            setSelection(position, false)\n            tag = position\n        }\n    }\n\n    fun Spinner.getSpinnerValue(): Any? {\n        return selectedItem\n    }\n\n    interface ItemSelectedListener {\n        fun onItemSelected(item: Any)\n    }\n}\n</code></pre>\n\n<p>And I've modified the <code>onActivityCreated</code> in <code>MyFragment</code> like so:</p>\n\n<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n    viewModel = ViewModelProviders.of(this).get(MyViewModel::class.java)\n\n    DataBindingUtil.setContentView&lt;MyFragmentBinding&gt;(\n        this.activity!!, R.layout.my_fragment\n    ).apply {\n        this.setLifecycleOwner(this@MyFragment)\n        this.viewmodel = viewModel\n    }\n}\n</code></pre>\n\n<p>The result of this is that <code>my_spinner</code> is no longer populating with the contents of <code>MyViewModel.myLiveDataList</code>. To try to ascertain if the property  was at fault, I created a new property in <code>MyViewModel</code> like so:</p>\n\n<pre><code>val myList: List&lt;String&gt;?\n    get() = listOf(\"First\", \"Second\", \"Third\")\n</code></pre>\n\n<p>And I have bound this property to <code>my_spinner</code> just like <code>MyViewModel.myLiveDataList</code> above with success this time. </p>\n\n<p>The function in <code>MyRepository.getAllData()</code> (which <code>myLiveDataList</code> returns) returns a <code>Flowable&lt;List&lt;MyEntity&gt;&gt;</code> (RxJava), which calls a Room DAO to get the data. My assumption here is that <code>myLiveDataList</code> doesn't have anything to serve when it tries to bind the values for the first time, and never tries again.</p>\n\n<p>Am I missing something when trying to bind a LiveData datasource to a Spinner?</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines", "android-viewmodel", "android-paging"], "comments": [{"owner": {"reputation": 953, "user_id": 6117611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QvwSk.png?s=128&g=1", "display_name": "Manzur Alahi", "link": "https://stackoverflow.com/users/6117611/manzur-alahi"}, "edited": false, "score": 0, "creation_date": 1559926932, "post_id": 53987012, "comment_id": 99586113, "body": "have you found any solution to that? i am not satisfied with my current one"}, {"owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "reply_to_user": {"reputation": 953, "user_id": 6117611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QvwSk.png?s=128&g=1", "display_name": "Manzur Alahi", "link": "https://stackoverflow.com/users/6117611/manzur-alahi"}, "edited": false, "score": 0, "creation_date": 1559972741, "post_id": 53987012, "comment_id": 99595870, "body": "@NoushadHasan not till now, need to pass the scope via method/constructor injection"}, {"owner": {"reputation": 2693, "user_id": 450356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SOCF1.png?s=128&g=1", "display_name": "Adib Faramarzi", "link": "https://stackoverflow.com/users/450356/adib-faramarzi"}, "edited": false, "score": 0, "creation_date": 1598770142, "post_id": 53987012, "comment_id": 112562430, "body": "Your repository should not get the coroutine scope to do its work (since it&#39;s someone else&#39;s scope, why would it?).  I think your problem arises because you are using different paradigms to fetch your data: cooroutines and callback. I recommend using suspendCoroutine (or <code>suspendCancelableCoroutine</code> to convert your callback provider to provide a suspend function, so you can easily use it in your view model."}, {"owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "reply_to_user": {"reputation": 2693, "user_id": 450356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SOCF1.png?s=128&g=1", "display_name": "Adib Faramarzi", "link": "https://stackoverflow.com/users/450356/adib-faramarzi"}, "edited": false, "score": 0, "creation_date": 1598799798, "post_id": 53987012, "comment_id": 112569417, "body": "@AdibFaramarzi can u explain more? I didn&#39;t get it"}], "answers": [{"tags": [], "owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "is_accepted": true, "score": 0, "last_activity_date": 1600524402, "creation_date": 1600524402, "answer_id": 63969656, "question_id": 53987012, "link": "https://stackoverflow.com/questions/53987012/boundary-callback-android-paging-library-with-coroutinescope/63969656#63969656", "title": "Boundary Callback (Android Paging Library) with CoroutineScope", "body": "<p><strong>Paging library</strong> <em><strong>version 3</strong></em> is now available and supports <code>Coroutine</code>.\n<code>PagedList.BoundaryCallback</code> is now <code>Deprecated</code> and for this case we need to use <code>RemoteMediator</code> and it has a <code>suspend fun load</code> for handling <code>Remote+Local</code> pagination</p>\n"}], "owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 893, "favorite_count": 3, "accepted_answer_id": 63969656, "answer_count": 1, "score": 6, "last_activity_date": 1600524402, "creation_date": 1546256204, "question_id": 53987012, "link": "https://stackoverflow.com/questions/53987012/boundary-callback-android-paging-library-with-coroutinescope", "title": "Boundary Callback (Android Paging Library) with CoroutineScope", "body": "<p>I'm trying to implement <code>Android Paging library</code> with <code>ViewModel</code> and <code>Kotlin Coroutines</code></p>\n\n<p>I have a <code>ViewModel</code> that implements <code>CoroutineScope</code>. It depends on <code>Repository</code>:</p>\n\n<pre><code>class MovieListViewModel(\n    private val movieRepository: MovieRepository\n) : ViewModel(), CoroutineScope {\n\n    private val job = Job()\n    override val coroutineContext: CoroutineContext\n        get() = job + Dispatchers.IO\n\n    private lateinit var _movies: LiveData&lt;PagedList&lt;MovieBrief&gt;&gt;\n\n    val movies: LiveData&lt;PagedList&lt;MovieBrief&gt;&gt;\n        get() = _movies\n\n    init {\n        launch {\n            _movies = LivePagedListBuilder(movieRepository.getMovies(), DATABASE_PER_PAGE)\n                .setBoundaryCallback(movieRepository.movieBoundaryCallback)\n                .build()\n        }\n    }\n\n}\n</code></pre>\n\n<p>And This is my <code>Repository</code>. I inject the <code>BoundaryCallback</code> with <code>Kodein</code> Dependecy Injector.</p>\n\n<pre><code>class MovieRepositoryImpl(\n    private val movieDao: MovieDao,\n    boundaryCallback: MovieBoundaryCallback\n) : MovieRepository {\n\n    override suspend fun getMovies(): DataSource.Factory&lt;Int, MovieBrief&gt; {\n        return movieDao.getMovies()\n    }\n\n    override val movieBoundaryCallback = boundaryCallback\n\n}\n</code></pre>\n\n<p>Inside <code>BoundaryCallback</code> class The <code>onItemAtEndLoaded</code> calls the RESTAPI and then saves the data to Room database (both are suspending functions). So I have to access my ViewModel's coroutine scope. What is the best practice to achieve this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin", "mockk"], "answers": [{"comments": [{"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1601318782, "post_id": 53989034, "comment_id": 113364680, "body": "Can we mock Android <code>Activities</code>?"}], "tags": [], "owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "is_accepted": false, "score": 1, "last_activity_date": 1546270127, "creation_date": 1546270127, "answer_id": 53989034, "question_id": 53986955, "link": "https://stackoverflow.com/questions/53986955/how-to-mock-string-extension/53989034#53989034", "title": "How to mock String extension?", "body": "<p>It is a question to your extension function. Where it resides? There is no general approach to all extension functions.</p>\n\n<p>I found a lot of <code>String</code> related functions in <code>kotlin.text.StringsKt</code>. How I found it? I just went to the definition(source codes) of one String extension functions in IDEA and found <code>@JvmName</code> annotation to know exact class name.</p>\n\n<p>Please try following thing:</p>\n\n<pre><code>mockkStatic(\"kotlin.text.StringsKt\") {\n    ...\n}\n</code></pre>\n\n<p>If this doesn't help you basically need to find out what class you need. Just comment what extension function you need.</p>\n"}], "owner": {"reputation": 490, "user_id": 1270978, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0a8fef1b880f9159ed448f1f7d2fc03b?s=128&d=identicon&r=PG", "display_name": "tomhier", "link": "https://stackoverflow.com/users/1270978/tomhier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2201, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1546270127, "creation_date": 1546255899, "question_id": 53986955, "link": "https://stackoverflow.com/questions/53986955/how-to-mock-string-extension", "title": "How to mock String extension?", "body": "<p>I'd like to mock a string extension.<br>\nI've read the instructions how this should be done, by using</p>\n\n<pre><code>mockStatic(\"kotlin.String\")\n</code></pre>\n\n<p>or </p>\n\n<pre><code>mockkStatic(\"kotlin.kotlin_builtins\")\n</code></pre>\n\n<p>but it keeps saying</p>\n\n<pre><code>Caused by: io.mockk.MockKException: Can't instantiate proxy for class kotlin.String\nat io.mockk.impl.instantiation.JvmMockFactory.newProxy(JvmMockFactory.kt:64)\nat io.mockk.impl.instantiation.AbstractMockFactory.newProxy$default(AbstractMockFactory.kt:29)\nat io.mockk.impl.instantiation.AbstractMockFactory.spyk(AbstractMockFactory.kt:92)\nat io.floriday.pdfgeneratorapi.integration.TradeItemListenerTest.&lt;init&gt;(TradeItemListenerTest.kt:131)\n... 18 more\nCaused by: io.mockk.proxy.MockKAgentException: Failed to create proxy for class java.lang.String.\nclass java.lang.String is one of excluded classes\nat io.mockk.proxy.jvm.ProxyMaker.throwIfNotPossibleToProxy(ProxyMaker.kt:128)\nat io.mockk.proxy.jvm.ProxyMaker.proxy(ProxyMaker.kt:28)\nat io.mockk.impl.instantiation.JvmMockFactory.newProxy(JvmMockFactory.kt:34)\n... 21 more\n</code></pre>\n\n<p>Probably I'm mocking the wrong file, but I can't seems to get the filename right to mock. Any help is appreciated :-D</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1546247812, "post_id": 53985639, "comment_id": 94808381, "body": "Why would they <i>not</i> have that behaviour? You&#39;ve explicitly built a list containing three references to the <i>same mutable list</i>."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1546250717, "creation_date": 1546250717, "answer_id": 53986139, "question_id": 53985639, "link": "https://stackoverflow.com/questions/53985639/why-does-kotlin-nested-lists-have-this-behavior/53986139#53986139", "title": "Why does Kotlin Nested Lists have this behavior", "body": "<p><em>Java</em> handles variables as references and therefore <em>Kotlin</em> as well. Thus all references change after updating one. You'd have to work with copies of the list to ensure these update independently:</p>\n\n<pre><code>val list = listOf(\"1\", \"2\", \"3\")\nval listOfLists = mutableListOf(\n            list.toMutableList(),\n            list.toMutableList(),\n            list.toMutableList())\n\nval firstList = listOfLists[0]\nfirstList[0] = \"Hello\"\nprint(listOfLists)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "is_accepted": false, "score": 4, "last_activity_date": 1546251774, "creation_date": 1546251774, "answer_id": 53986288, "question_id": 53985639, "link": "https://stackoverflow.com/questions/53985639/why-does-kotlin-nested-lists-have-this-behavior/53986288#53986288", "title": "Why does Kotlin Nested Lists have this behavior", "body": "<p>It's OOP's object behavior man. It affects all the references...</p>\n\n<p><a href=\"https://i.stack.imgur.com/W5DuM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W5DuM.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 2, "last_activity_date": 1546253614, "last_edit_date": 1546253614, "creation_date": 1546253174, "answer_id": 53986525, "question_id": 53985639, "link": "https://stackoverflow.com/questions/53985639/why-does-kotlin-nested-lists-have-this-behavior/53986525#53986525", "title": "Why does Kotlin Nested Lists have this behavior", "body": "<p><strong>Problem</strong></p>\n\n<p>You are putting three references to the same list in another list. Changing the list via one of those references changes the data to which all references point.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>If you don't want that you need to create three independent copies of <code>list</code> for example using the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-mutable-list.html\" rel=\"nofollow noreferrer\"><code>toMutableList()</code></a> extension function:</p>\n\n<pre><code>val list = mutableListOf(\"1\", \"2\", \"3\")\n\nval listOfLists = mutableListOf(\n    list.toMutableList(),\n    list.toMutableList(),\n    list.toMutableList()\n)\n\nlistOfLists.first()[0] = \"Hello\"\n\nprint(listOfLists)\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>[[Hello, 2, 3], [1, 2, 3], [1, 2, 3]]</p>\n</blockquote>\n"}], "owner": {"reputation": 342, "user_id": 7338759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lJu9K.png?s=128&g=1", "display_name": "Ememobong AkpanEkpo", "link": "https://stackoverflow.com/users/7338759/ememobong-akpanekpo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 726, "favorite_count": 1, "accepted_answer_id": 53986139, "answer_count": 3, "score": 1, "last_activity_date": 1546253614, "creation_date": 1546247746, "last_edit_date": 1546247859, "question_id": 53985639, "link": "https://stackoverflow.com/questions/53985639/why-does-kotlin-nested-lists-have-this-behavior", "title": "Why does Kotlin Nested Lists have this behavior", "body": "<p>Take a look at this code example</p>\n\n<pre><code>val list = mutableListOf(\"1\", \"2\", \"3\")\n\nval listOfLists = mutableListOf(list, list, list)\n\nval firstList = listOfLists[0]     //get reference to *list* variable\n\nfirstList[0] = \"Hello\"            // replace \"1\" in firstList with \"Hello\"\n\nprint(listOfLists)\n</code></pre>\n\n<p>This is the printed output</p>\n\n<pre><code>[[Hello, 2, 3], [Hello, 2, 3], [Hello, 2, 3]]\n</code></pre>\n\n<p>If you notice <code>listOfLists</code> variable is never called again in the <strong>but it is not being updated</strong>. And the update is not just at the first position it is updated at all the position.</p>\n\n<p>My intention is just to update the <code>firstList</code> variable alone. </p>\n\n<p>Why does this happen and how do I go around it?</p>\n"}, {"tags": ["kotlin", "kotlin-native", "kotlin-multiplatform"], "answers": [{"comments": [{"owner": {"reputation": 610, "user_id": 7149385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BK1tL.jpg?s=128&g=1", "display_name": "ImanX", "link": "https://stackoverflow.com/users/7149385/imanx"}, "edited": false, "score": 0, "creation_date": 1546589285, "post_id": 54006136, "comment_id": 94905631, "body": "no error message for this. just don&#39;t any exports for iOS."}, {"owner": {"reputation": 6697, "user_id": 1368721, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ty2vb.png?s=128&g=1", "display_name": "Diego Palomar", "link": "https://stackoverflow.com/users/1368721/diego-palomar"}, "reply_to_user": {"reputation": 610, "user_id": 7149385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BK1tL.jpg?s=128&g=1", "display_name": "ImanX", "link": "https://stackoverflow.com/users/7149385/imanx"}, "edited": false, "score": 0, "creation_date": 1546600736, "post_id": 54006136, "comment_id": 94910979, "body": "@AlirezaTarazani. No error message? I doubt it but make sure the task is actually executed."}, {"owner": {"reputation": 6727, "user_id": 797767, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kRz46.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/797767/mark"}, "edited": false, "score": 0, "creation_date": 1547735655, "post_id": 54006136, "comment_id": 95300834, "body": "After adding <code>packForXCode</code>, are you running <code>.&#47;gradlew :common:packForXCode</code> (assuming your <code>build.gradle</code> is in a directory called <code>common</code>). I&#39;m able to get it working using the code posted here and running this command."}, {"owner": {"reputation": 815, "user_id": 2240423, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c62af0343a46c0e7526a0a3605ba156f?s=128&d=identicon&r=PG", "display_name": "Arnie Schwarzvogel", "link": "https://stackoverflow.com/users/2240423/arnie-schwarzvogel"}, "edited": false, "score": 0, "creation_date": 1554126598, "post_id": 54006136, "comment_id": 97626572, "body": "I&#39;m getting &quot;Task with path &#39;linkMainDebugFrameworkIOS&#39; not found in project&quot; when running ./gradlew :shared:packForXCode. Any hints?"}, {"owner": {"reputation": 815, "user_id": 2240423, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c62af0343a46c0e7526a0a3605ba156f?s=128&d=identicon&r=PG", "display_name": "Arnie Schwarzvogel", "link": "https://stackoverflow.com/users/2240423/arnie-schwarzvogel"}, "edited": false, "score": 0, "creation_date": 1554126863, "post_id": 54006136, "comment_id": 97626728, "body": "Solved my own problem!: Framework name was different in packForXCode and gradle."}], "tags": [], "owner": {"reputation": 6697, "user_id": 1368721, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ty2vb.png?s=128&g=1", "display_name": "Diego Palomar", "link": "https://stackoverflow.com/users/1368721/diego-palomar"}, "is_accepted": false, "score": 1, "last_activity_date": 1546431065, "creation_date": 1546431065, "answer_id": 54006136, "question_id": 53985241, "link": "https://stackoverflow.com/questions/53985241/why-kotlin-multiplatform-dont-execute-and-export-ios-framework/54006136#54006136", "title": "why kotlin multiplatform don&#39;t execute and export iOS framework?", "body": "<p>Have you added the task to build the actual framework? If not, try adding this code at the end of your <code>build.gradle</code> file:</p>\n\n<pre><code>task packForXCode(type: Sync) {\n    final File frameworkDir = new File(buildDir, \"xcode-frameworks\")\n    final String mode = project.findProperty(\"XCODE_CONFIGURATION\")?.toUpperCase() ?: 'DEBUG'\n\n    inputs.property \"mode\", mode\n    dependsOn kotlin.targets.iOS.compilations.main.linkTaskName(\"FRAMEWORK\", mode)\n\n    from { kotlin.targets.iOS.compilations.main.getBinary(\"FRAMEWORK\", mode).parentFile }\n    into frameworkDir\n\n    doLast {\n        new File(frameworkDir, 'gradlew').with {\n            text = \"#!/bin/bash\\nexport 'JAVA_HOME=${System.getProperty(\"java.home\")}'\\ncd '${rootProject.rootDir}'\\n./gradlew \\$@\\n\"\n            setExecutable(true)\n        }\n    }\n}\n\ntasks.build.dependsOn packForXCode\n</code></pre>\n\n<p>The iOS framework will be available on the <code>build/xcode-frameworks</code> directory of your library.</p>\n\n<p>You'll have to configure also your Xcode project to use the framework. For further details you can read <a href=\"https://kotlinlang.org/docs/tutorials/native/mpp-ios-android.html#setting-up-framework-dependency-in-xcode\" rel=\"nofollow noreferrer\">Setting up Framework Dependency in Xcode</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 9422800, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ilya Matveev", "link": "https://stackoverflow.com/users/9422800/ilya-matveev"}, "is_accepted": false, "score": 0, "last_activity_date": 1546494598, "creation_date": 1546494598, "answer_id": 54016972, "question_id": 53985241, "link": "https://stackoverflow.com/questions/53985241/why-kotlin-multiplatform-dont-execute-and-export-ios-framework/54016972#54016972", "title": "why kotlin multiplatform don&#39;t execute and export iOS framework?", "body": "<p>What do you mean by \"exporting a framework\"? Are you going to use it from another Gradle project or from XCode or from something else?</p>\n\n<p>P.S. Sorry for asking in answers: just have no enough reputation to leave a comment. So I think it would be more convenient to discuss you problem in issues at <a href=\"https://github.com/JetBrains/kotlin-native\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n"}], "owner": {"reputation": 610, "user_id": 7149385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BK1tL.jpg?s=128&g=1", "display_name": "ImanX", "link": "https://stackoverflow.com/users/7149385/imanx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1086, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551259265, "creation_date": 1546244973, "question_id": 53985241, "link": "https://stackoverflow.com/questions/53985241/why-kotlin-multiplatform-dont-execute-and-export-ios-framework", "title": "why kotlin multiplatform don&#39;t execute and export iOS framework?", "body": "<p>I started develop kotlin multiplatform and I developed a simple lib for test. I can exported <code>.jar</code> file for android but I can't export <code>.framework</code> file for iOS.\nI reviewed other project but I didn't find my issue.</p>\n\n<p>my <code>Gradle</code> script for lib is:</p>\n\n<pre><code>apply plugin: 'kotlin-multiplatform'\n\nkotlin {\ntargets {\n    final def iOSTarget = \n    System.getenv('SDK_NAME')?.startsWith(\"iphoneos\") \\\n                          ? presets.iosArm64 : presets.iosX64\n\n    fromPreset(iOSTarget, 'iOS') {\n        compilations.main.outputKinds('FRAMEWORK')\n    }\n\n    fromPreset(presets.jvm, 'android')\n}\n\nsourceSets {\n    core.dependencies {\n        api 'org.jetbrains.kotlin:kotlin-stdlib-common'\n    }\n\n    android.dependencies {\n        api 'org.jetbrains.kotlin:kotlin-stdlib'\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "fastjson"], "comments": [{"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546225904, "post_id": 53983174, "comment_id": 94803853, "body": "I run your code and it works fine, what lib version are you using and what JSON string are you parsing??"}, {"owner": {"reputation": 21, "user_id": 10850666, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dtDv_2YjvuQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaf8ku2jo0rl90rq6uok1EXE1zkEQ/mo/photo.jpg?sz=128", "display_name": "Forest Yang", "link": "https://stackoverflow.com/users/10850666/forest-yang"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546226443, "post_id": 53983174, "comment_id": 94803931, "body": "fastjson version is 1.2.49, kotlin version is 1.3.11, json string is in StartupRunner.kt. all code is located in github link."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546228216, "post_id": 53983174, "comment_id": 94804184, "body": "fastjson latest version is <code>1.2.54</code>, I tested your String and got this output: <code>StatesMessage(command=states, states=States(x=5.0, y=5.0))</code>"}, {"owner": {"reputation": 21, "user_id": 10850666, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dtDv_2YjvuQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaf8ku2jo0rl90rq6uok1EXE1zkEQ/mo/photo.jpg?sz=128", "display_name": "Forest Yang", "link": "https://stackoverflow.com/users/10850666/forest-yang"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546232355, "post_id": 53983174, "comment_id": 94804851, "body": "it&#39;s does not work. would you describe your environment?"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546232522, "post_id": 53983174, "comment_id": 94804880, "body": "Kotlin 1.3.11, fastjson 1.2.54 and your code copied/pasted"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10850666, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dtDv_2YjvuQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaf8ku2jo0rl90rq6uok1EXE1zkEQ/mo/photo.jpg?sz=128", "display_name": "Forest Yang", "link": "https://stackoverflow.com/users/10850666/forest-yang"}, "is_accepted": false, "score": 1, "last_activity_date": 1546264237, "creation_date": 1546264237, "answer_id": 53988224, "question_id": 53983174, "link": "https://stackoverflow.com/questions/53983174/kotlin-with-fastjson-parse-object-error-default-constructor-not-found/53988224#53988224", "title": "kotlin with fastjson parse object error: default constructor not found", "body": "<p>I think it's a fastjson (till 1.2.54) bug.\nWhen I change to gson, it's work.</p>\n\n<pre><code>    /* it will throw exception\n    val state = JSON.parseObject(s, StatesMessage::class.java)\n    */\n    val state = Gson().fromJson(s, StatesMessage::class.java)\n    logger.info(state.states.x)\n    logger.info(state.states.y)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10850666, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dtDv_2YjvuQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaf8ku2jo0rl90rq6uok1EXE1zkEQ/mo/photo.jpg?sz=128", "display_name": "Forest Yang", "link": "https://stackoverflow.com/users/10850666/forest-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546264237, "creation_date": 1546225280, "question_id": 53983174, "link": "https://stackoverflow.com/questions/53983174/kotlin-with-fastjson-parse-object-error-default-constructor-not-found", "title": "kotlin with fastjson parse object error: default constructor not found", "body": "<p>I am trying use fastjson parse object in Kotlin code. but exception happened when I use JSON.parseObject, here are detail:</p>\n\n<p>My data class:</p>\n\n<pre><code>    import com.alibaba.fastjson.JSONObject\n\n    data class StatesMessage @JvmOverloads constructor(val command: String = \n        \"states\", var states: States = States()) {\n\n      fun toJsonString(): String {\n          return JSONObject.toJSONString(this)\n      }\n\n      data class States(var x: Double = 0.0, var y: Double = 0.0)\n    }\n</code></pre>\n\n<p>Then I try to get object from string:</p>\n\n<pre><code>val state = JSON.parseObject(s, StatesMessage::class.java)\n</code></pre>\n\n<p>But exception throw from fastjson:</p>\n\n<pre><code>Caused by: com.alibaba.fastjson.JSONException: default constructor not found. \n    class com.example.demo.StatesMessage\n   at com.alibaba.fastjson.util.JavaBeanInfo.build(JavaBeanInfo.java:475)\n   at com.alibaba.fastjson.util.JavaBeanInfo.build(JavaBeanInfo.java:221)\n   at com.alibaba.fastjson.parser.ParserConfig.createJavaBeanDeserializer(ParserConfig.java:670)\n   at com.alibaba.fastjson.parser.ParserConfig.getDeserializer(ParserConfig.java:587)\n   at com.alibaba.fastjson.parser.ParserConfig.getDeserializer(ParserConfig.java:398)\n   at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:665)\n   at com.alibaba.fastjson.JSON.parseObject(JSON.java:365)\n   at com.alibaba.fastjson.JSON.parseObject(JSON.java:269)\n   at com.alibaba.fastjson.JSON.parseObject(JSON.java:488)\n   at com.example.demo.StartupRunner.run(StartupRunner.kt:25)\n   at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)\n... 5 more\n</code></pre>\n\n<p>all code refer to <a href=\"https://github.com/forest-yang/koltinjson\" rel=\"nofollow noreferrer\">https://github.com/forest-yang/koltinjson</a></p>\n"}, {"tags": ["java", "android", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546226065, "post_id": 53983160, "comment_id": 94803878, "body": "<a href=\"https://stackoverflow.com/a/51499019/4265739\">stackoverflow.com/a/51499019/4265739</a>"}, {"owner": {"reputation": 2990, "user_id": 3828004, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GKdRN.jpg?s=128&g=1", "display_name": "Michael Vescovo", "link": "https://stackoverflow.com/users/3828004/michael-vescovo"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546227410, "post_id": 53983160, "comment_id": 94804076, "body": "Thanks. I already looked at that post actually and I think they are referring to private fields within the person class. Not the person mock itself. I&#39;m talking about setting private on the actual mock value in the test class (not the mocked object)."}], "answers": [{"comments": [{"owner": {"reputation": 2990, "user_id": 3828004, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GKdRN.jpg?s=128&g=1", "display_name": "Michael Vescovo", "link": "https://stackoverflow.com/users/3828004/michael-vescovo"}, "edited": false, "score": 0, "creation_date": 1546230881, "post_id": 53983483, "comment_id": 94804602, "body": "I don&#39;t think it would be a good idea to use getters and setters in a test class; that would be unnecessarily complicated. I agree that they should be private but wanting some confirmation. E.g. if you have some documentation somewhere you can reference that at least confirms it indirectly."}], "tags": [], "owner": {"reputation": 197, "user_id": 1008197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d3db9e81db98574d8762f67eaa88432?s=128&d=identicon&r=PG", "display_name": "Richard Stokes", "link": "https://stackoverflow.com/users/1008197/richard-stokes"}, "is_accepted": false, "score": 0, "last_activity_date": 1546229193, "creation_date": 1546229193, "answer_id": 53983483, "question_id": 53983160, "link": "https://stackoverflow.com/questions/53983160/does-mockito-need-to-use-reflection-if-i-make-the-mock-values-private/53983483#53983483", "title": "Does Mockito need to use reflection if I make the Mock values private?", "body": "<p>You can make the fields private if you want, reflection can make use of private fields as well.</p>\n\n<p>I would personally think about best practices and have the variables as private with getter and setter methods if needed.</p>\n"}, {"comments": [{"owner": {"reputation": 2990, "user_id": 3828004, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GKdRN.jpg?s=128&g=1", "display_name": "Michael Vescovo", "link": "https://stackoverflow.com/users/3828004/michael-vescovo"}, "edited": false, "score": 0, "creation_date": 1546230958, "post_id": 53983530, "comment_id": 94804617, "body": "I agree that they should be private but as with my comment on the other answer I was wanting some confirmation. E.g. if you have some documentation somewhere you can reference that at least confirms it indirectly. I also have not run into an issue with it (except this strange comment on my PR when I went to make them private)."}], "tags": [], "owner": {"reputation": 47, "user_id": 923229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9a96908ee0c3ecf8ab073c6aa38cec36?s=128&d=identicon&r=PG", "display_name": "DanielO", "link": "https://stackoverflow.com/users/923229/danielo"}, "is_accepted": false, "score": 0, "last_activity_date": 1546331169, "last_edit_date": 1546331169, "creation_date": 1546229826, "answer_id": 53983530, "question_id": 53983160, "link": "https://stackoverflow.com/questions/53983160/does-mockito-need-to-use-reflection-if-i-make-the-mock-values-private/53983530#53983530", "title": "Does Mockito need to use reflection if I make the Mock values private?", "body": "<p>The \"restriction\" on reflection in Android only applies to code that runs on device in your application. Unit tests do not have to adhere to this principle as they are run on a computer and do not appear in your application.</p>\n\n<p>I always use private properties in my test classes and have never run into any issues.</p>\n\n<p>Update:\nAfter looking at the <a href=\"https://github.com/mockito/mockito/blob/release/2.x/src/main/java/org/mockito/internal/configuration/IndependentAnnotationEngine.java\" rel=\"nofollow noreferrer\">source code</a> it seems that Mockito uses reflection to instantiate @mock properties whether they are private or public. </p>\n"}], "owner": {"reputation": 2990, "user_id": 3828004, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GKdRN.jpg?s=128&g=1", "display_name": "Michael Vescovo", "link": "https://stackoverflow.com/users/3828004/michael-vescovo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1546331169, "creation_date": 1546225140, "last_edit_date": 1546230625, "question_id": 53983160, "link": "https://stackoverflow.com/questions/53983160/does-mockito-need-to-use-reflection-if-i-make-the-mock-values-private", "title": "Does Mockito need to use reflection if I make the Mock values private?", "body": "<p>Let's say I have a test class with some mocks in it. Lint suggests that the fields can be private. I'm wondering, is there any problem in making them private? One of my colleagues thinks that perhaps it will cause Mockito to use reflection. Is this true or can I safely mark them as private?</p>\n\n<pre><code>@Mock private Context context;\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>@Mock Context context;\n</code></pre>\n\n<p>The official Android documentation has private on the Kotlin version but not on the Java version (at the time of writing this question).\n<a href=\"https://developer.android.com/training/testing/unit-testing/local-unit-tests#kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/training/testing/unit-testing/local-unit-tests#kotlin</a></p>\n\n<p>I've looked around and Googled but I'm not sure since it's not mentioned explicitly anywhere that I could find, and some references have private while others don't.</p>\n\n<p>The tests run fine in both cases and take around the same time (10 seconds). So for that reason I think it's better to mark as private and remove the lint error. What could possibly be the downside?</p>\n\n<p>As far as I can tell, reflection has nothing to do with the value being private or not. It seems that it's more about whether it can see the methods inside the mock class. If those methods inside the class are private then it will need to use reflection.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "edited": false, "score": 0, "creation_date": 1546229640, "post_id": 53983049, "comment_id": 94804386, "body": "Kindly check my answer :)"}], "answers": [{"comments": [{"owner": {"reputation": 298, "user_id": 2807211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/156b286ca5e8cfef3d2e6376ae0207cd?s=128&d=identicon&r=PG&f=1", "display_name": "Amardeep", "link": "https://stackoverflow.com/users/2807211/amardeep"}, "edited": false, "score": 0, "creation_date": 1546228238, "post_id": 53983065, "comment_id": 94804190, "body": "This is an alternative way of doing it, but my question is for nested run blocks."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "reply_to_user": {"reputation": 298, "user_id": 2807211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/156b286ca5e8cfef3d2e6376ae0207cd?s=128&d=identicon&r=PG&f=1", "display_name": "Amardeep", "link": "https://stackoverflow.com/users/2807211/amardeep"}, "edited": false, "score": 0, "creation_date": 1546228412, "post_id": 53983065, "comment_id": 94804215, "body": "@Amardeep I answer with an alternative way because what you want can&#39;t be done"}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": false, "score": 1, "last_activity_date": 1546228898, "last_edit_date": 1546228898, "creation_date": 1546223727, "answer_id": 53983065, "question_id": 53983049, "link": "https://stackoverflow.com/questions/53983049/nested-run-blocks-in-kotlin/53983065#53983065", "title": "Nested run blocks in Kotlin", "body": "<p><strong>EDIT</strong> </p>\n\n<p>You are getting <code>java.lang.ClassCastException</code> because <code>this@run</code> references value <code>1.0</code> (the closest one in the scope), which then you are trying to convert to String. If you want to use <em>receiver</em> instead of <em>argument</em> you can use the alternative <code>apply</code> function for one of yours lambdas</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    \"\".run  {\n        1.0.apply {\n            println(this@run == \"\")\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Previous</strong></p>\n\n<p>Use <code>also</code> instead of <code>run</code>, this way you have the variable passed as a <em>parameter</em> of the lambda instead of a lambda with <em>receiver</em>.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    \"\".also  { text -&gt;\n        1.0.run {\n            println(this@run == \"\")\n        }\n    }\n}\n</code></pre>\n\n<p>Alternatively, you could use <code>apply</code> instead of run</p>\n"}, {"comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1552347957, "post_id": 53983506, "comment_id": 96966581, "body": "Casting <code>this@run1 as String</code> is no longer required here."}], "tags": [], "owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "is_accepted": true, "score": 5, "last_activity_date": 1546229498, "creation_date": 1546229498, "answer_id": 53983506, "question_id": 53983049, "link": "https://stackoverflow.com/questions/53983049/nested-run-blocks-in-kotlin/53983506#53983506", "title": "Nested run blocks in Kotlin", "body": "<p>Because there is more than one label with such a name <code>run</code> in that scope.</p>\n\n<p>In order to access outer run block, just simply label it as anything that you want. For example, <code>run1@</code> and <code>run2@</code></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    \"\".run run1@ {\n        1.0.run run2@ {\n            (this@run1 as String).equals(\"\")\n        }\n    }\n}\n</code></pre>\n\n<p>Btw, in Kotlin, <code>equals(\"\")</code> is replaceable with <code>== \"\"</code></p>\n"}], "owner": {"reputation": 298, "user_id": 2807211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/156b286ca5e8cfef3d2e6376ae0207cd?s=128&d=identicon&r=PG&f=1", "display_name": "Amardeep", "link": "https://stackoverflow.com/users/2807211/amardeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 599, "favorite_count": 0, "accepted_answer_id": 53983506, "answer_count": 2, "score": 2, "last_activity_date": 1546229498, "creation_date": 1546223457, "question_id": 53983049, "link": "https://stackoverflow.com/questions/53983049/nested-run-blocks-in-kotlin", "title": "Nested run blocks in Kotlin", "body": "<p>I have a situation where I have nested run blocks. And I want to access outer run block <code>this</code> from inner run block. I tried this following IntelliJ hints but getting a ClassCastException on <code>(this@run as String).equals(\"\")</code>.\nIs there a way to achieve this?</p>\n\n<p>Sample code:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    \"\".run  {\n        1.0.run {\n            (this@run as String).equals(\"\")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "android-fragments", "kotlin", "android-fragmentactivity"], "comments": [{"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1546224427, "post_id": 53982139, "comment_id": 94803687, "body": "It&#39;s better if you omit the parts not related to the question from the code snippet, like all the empty lifecycle methods"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1546232041, "post_id": 53982139, "comment_id": 94804796, "body": "best use viewmodel concepts"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "edited": false, "score": 0, "creation_date": 1546237949, "post_id": 53983939, "comment_id": 94805896, "body": "Thanks @ankuranurag2 for your comment and you are right but I am getting error while using the above code. Can we have a chat? please let me know."}, {"owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "edited": false, "score": 0, "creation_date": 1546238182, "post_id": 53983939, "comment_id": 94805946, "body": "sure lets have a chat."}, {"owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "edited": false, "score": 0, "creation_date": 1546238573, "post_id": 53983939, "comment_id": 94806034, "body": "Also you can provide the code snippet  where you are facing the issue."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "edited": false, "score": 0, "creation_date": 1546238914, "post_id": 53983939, "comment_id": 94806110, "body": "I have added rough diagram in my question. Please let me know if you have any questions."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "edited": false, "score": 0, "creation_date": 1546239024, "post_id": 53983939, "comment_id": 94806145, "body": "If I add frag.onItemSelected(item) in my fragment then I am getting error because this method doesn&#39;t exist."}, {"owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "edited": false, "score": 0, "creation_date": 1546239132, "post_id": 53983939, "comment_id": 94806170, "body": "The FragmnetOne and Fragmenttwo in the diagram&#39;s bottom are buttons, right?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "edited": false, "score": 0, "creation_date": 1546239218, "post_id": 53983939, "comment_id": 94806198, "body": "This is I am getting from menu"}, {"owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "edited": false, "score": 0, "creation_date": 1546239219, "post_id": 53983939, "comment_id": 94806199, "body": "frag.onItemSelected(item) has to be written in Adapter class. Please see the answer."}, {"owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "edited": false, "score": 0, "creation_date": 1546239315, "post_id": 53983939, "comment_id": 94806218, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/185964/discussion-between-ankuranurag2-and-josh-jo\">continue this discussion in chat</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "edited": false, "score": 0, "creation_date": 1546241959, "post_id": 53983939, "comment_id": 94806818, "body": "Code used in my project is something similar to this one.  <a href=\"https://github.com/skooltch84/bottomNavigationWithFragmentsKotlin\" rel=\"nofollow noreferrer\">github.com/skooltch84/bottomNavigationWithFragmentsKotlin</a>"}, {"owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "edited": false, "score": 0, "creation_date": 1546243223, "post_id": 53983939, "comment_id": 94807144, "body": "Write the &#39;onItemSelected()&#39; method in your FragmentOne and call this method from Adapter&#39;s ` itemView.setOnClickListener{}`."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "edited": false, "score": 0, "creation_date": 1546245745, "post_id": 53983939, "comment_id": 94807792, "body": "I have uploaded the code in <a href=\"https://github.com/joshvapeter/KotlinBottomNavigationNew\" rel=\"nofollow noreferrer\">github.com/joshvapeter/KotlinBottomNavigationNew</a>"}], "tags": [], "owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "is_accepted": true, "score": 1, "last_activity_date": 1546238945, "last_edit_date": 1546238945, "creation_date": 1546234392, "answer_id": 53983939, "question_id": 53982139, "link": "https://stackoverflow.com/questions/53982139/fragment-onclick-listener/53983939#53983939", "title": "Fragment Onclick Listener", "body": "<p>I don't have enough reputation to add a comment. So on the basis of my understanding, i am writing this answer. If my understanding is wrong, please comment.</p>\n\n<p>From what i can understand you want to move to FragmentTwo when an item is clicked in RecyclerView in FragmentOne. You can achieve it in following way:</p>\n\n<p><strong>FragmentOne</strong>:</p>\n\n<pre><code>fun onItemSelected(item:MyModel){\n    (activity as MainActivity).showFragmentTwo(item)\n}\n</code></pre>\n\n<p><strong>FragmentOneAdapter</strong>:</p>\n\n<pre><code>class FragmentOneAdapter(val fragment:FragmentOne,val myList:ArrayList&lt;MyModel&gt;):RecyclerView.Adapter&lt;MyViewHolder&gt;(){\noverride fun onCreateViewHolder(p0: ViewGroup, p1: Int): MyViewHolder {\n    //your code to create view holder\n}\n\noverride fun onBindViewHolder(p0: MyViewHolder, p1: Int) {\n    p0.bindItem(myList[p1], fragment)\n}\n\noverride fun getItemCount(): Int {\n    return myList.size\n}\n\nclass MyViewHolder(view:View):RecyclerView.ViewHolder(view){\n    fun bindItem(item:MyModel,frag:FragmentOne)=with(itemView){\n        setOnClickListener{\n            frag.onItemSelected(item)\n         }\n      }\n   }\n} \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 1, "accepted_answer_id": 53983939, "answer_count": 1, "score": 0, "last_activity_date": 1546248048, "creation_date": 1546210964, "last_edit_date": 1546248048, "question_id": 53982139, "link": "https://stackoverflow.com/questions/53982139/fragment-onclick-listener", "title": "Fragment Onclick Listener", "body": "<p>I am using Bottom Navigation Activity in my project. Which contains following activities. I am using kotlin Language. I am not sure how to route from one fragment to another fragment in bottom navigation activity. Any help is appreciated.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>https://github.com/joshvapeter/KotlinBottomNavigationNew\n</code></pre>\n\n<p><strong>Activies</strong></p>\n\n<pre><code>1)One Main Activity \n2)Two Fragments\n3)Two Adapter Class\n4)Two Layout files\n</code></pre>\n\n<p><strong>Expectation</strong></p>\n\n<p>When I click the Fragment One Recycler View Item then It need to automatically route it to Fragment two Recycler View Item in the next bottom tab. Below is the code, I am using in my project.</p>\n\n<p><strong>Code</strong></p>\n\n<p><strong>Fragment One Adapter</strong></p>\n\n<pre><code>        itemView.setOnClickListener {\n\n           Log.d(\"Fragment One Clicked\",\"Fragment One Clicked\")\n            //FragmentTwo()\n\n            }\n</code></pre>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>fun ShowFragmentOne() {\n    val transaction = manager.beginTransaction()\n    val fragment = FragmentOne()\n    transaction.replace(R.id.one, fragment)\n    transaction.addToBackStack(null)\n    transaction.commit()\n    isFragmentOneLoaded = true\n}\n\nfun ShowFragmentTwo() {\n    val transaction = manager.beginTransaction()\n    val fragment = FragmentTwo()\n    transaction.replace(R.id.two, fragment)\n    transaction.addToBackStack(null)\n    transaction.commit()\n    isFragmentOneLoaded = false\n}\n</code></pre>\n"}, {"tags": ["kotlin", "casting", "dynamic-cast"], "comments": [{"owner": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 1, "creation_date": 1546206805, "post_id": 53981693, "comment_id": 94800795, "body": "Welcome to Stack Overflow! Please be mindful about how you tag your question. As your question is about Kotlin, there is no reason to attract Java experts to your question with the <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3579366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/096a778f50a301a94ea02ecd155b76e4?s=128&d=identicon&r=PG&f=1", "display_name": "Jrbaca", "link": "https://stackoverflow.com/users/3579366/jrbaca"}, "edited": false, "score": 0, "creation_date": 1546210446, "post_id": 53982049, "comment_id": 94801618, "body": "It seems you need to access the implementation under the interface, then store it in the token. Unsure how to code that though."}], "tags": [], "owner": {"reputation": 1, "user_id": 3579366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/096a778f50a301a94ea02ecd155b76e4?s=128&d=identicon&r=PG&f=1", "display_name": "Jrbaca", "link": "https://stackoverflow.com/users/3579366/jrbaca"}, "is_accepted": false, "score": 0, "last_activity_date": 1546210001, "creation_date": 1546210001, "answer_id": 53982049, "question_id": 53981693, "link": "https://stackoverflow.com/questions/53981693/how-can-i-dynamically-cast-an-array-to-match-a-functions-arguments-using-reflec/53982049#53982049", "title": "How can I dynamically cast an array to match a function&#39;s arguments using reflection?", "body": "<p>I believe this can be accomplished by either storing or retrieving the underlying implementation enum into the token itself. In this line, the class is stored, but I'm not sure if it refers to any Color or to a specific Color.Red or Color.Green.</p>\n\n<pre><code>tokenPatterns.filter { it.pattern.matches(input) }.map { Token(it::class) }\n</code></pre>\n\n<p>This can possibly be recovered something like this, but I'm not sure exactly how to write it.</p>\n\n<pre><code>val castedArgs: Array&lt;Any&gt; = tokens.map { it.type.cast(it) }.toTypedArray()\n</code></pre>\n\n<p>Perhaps instead of casting I could recreate the enum somehow?</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3579366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/096a778f50a301a94ea02ecd155b76e4?s=128&d=identicon&r=PG&f=1", "display_name": "Jrbaca", "link": "https://stackoverflow.com/users/3579366/jrbaca"}, "is_accepted": true, "score": 0, "last_activity_date": 1546300018, "creation_date": 1546300018, "answer_id": 53992176, "question_id": 53981693, "link": "https://stackoverflow.com/questions/53981693/how-can-i-dynamically-cast-an-array-to-match-a-functions-arguments-using-reflec/53992176#53992176", "title": "How can I dynamically cast an array to match a function&#39;s arguments using reflection?", "body": "<p>Just store the tokenPattern into the token, pass those tokenPatterns as args, and reflection will be able to cast it appropriately.</p>\n\n<p>You can make the token like this:</p>\n\n<pre><code>class Token(val original: TokenPattern)\n</code></pre>\n\n<p>Then call the function like this:</p>\n\n<pre><code>private fun runIt(func: KFunction&lt;String&gt;, tokens: List&lt;Token&gt;): String {\n    val args: Array&lt;Any&gt; = tokens.map { it.original }.toTypedArray()\n    return func.call(*args)\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3579366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/096a778f50a301a94ea02ecd155b76e4?s=128&d=identicon&r=PG&f=1", "display_name": "Jrbaca", "link": "https://stackoverflow.com/users/3579366/jrbaca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 53992176, "answer_count": 2, "score": 0, "last_activity_date": 1546300018, "creation_date": 1546206463, "last_edit_date": 1546208991, "question_id": 53981693, "link": "https://stackoverflow.com/questions/53981693/how-can-i-dynamically-cast-an-array-to-match-a-functions-arguments-using-reflec", "title": "How can I dynamically cast an array to match a function&#39;s arguments using reflection?", "body": "<p>I'm working on a project in which I want to parse some input and use it to call a function. The input is a string that is processed at runtime, and the function to be called is specified by the developer. The tokenized input will be passed to the specified function.</p>\n\n<p>This demonstrates how the code might be used. You pass in a function, something to parse, and a set of tokenPatterns that can be matched against to generate tokens.</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;) {\n\n    val f = Funcs()\n\n    val myColor: String = f.whatColor(Color.GREEN) // Expected\n    val theirColor: String = Processor.process(f::whatColor, \"green\", Color.values().toSet())\n\n    println(myColor == theirColor) // Should be true\n}\n\nclass Funcs {\n    fun whatColor(color: Color): String {\n        return when (color) {\n            Color.RED -&gt; \"nice red\"\n            Color.GREEN -&gt; \"cool green\"\n        }\n    }\n}\n\nenum class Color(override val pattern: Regex) : TokenPattern {\n    RED(Regex(\"red\")),\n    GREEN(Regex(\"green\"))\n}\n</code></pre>\n\n<p>The code below shows a basic version of how it currently works (or rather doesn't). Essentially, I tokenize the input based on the set of tokenPatterns, and then call the specified function using those tokens. The issue is I need to cast them back to the original implementation of the pattern (in this case the Color enum) so I can call the original function with them.</p>\n\n<pre><code>/**\n * Extend to define custom tokens.\n */\ninterface TokenPattern {\n    val pattern: Regex\n}\n\nclass Token&lt;T: Any&gt;(val type: KClass&lt;out T&gt;)\n\n/**\n * Tokenizes and runs functions\n */\nobject Processor {\n\nfun process(func: KFunction&lt;String&gt;, input: String, tokenPatterns: Set&lt;TokenPattern&gt;): String {\n    val tokens = tokenize(input, tokenPatterns)\n    return runIt(func, tokens)\n}\n\nprivate fun tokenize(input: String, tokenPatterns: Set&lt;TokenPattern&gt;): List&lt;Token&lt;*&gt;&gt; {\n    return tokenPatterns.filter { it.pattern.matches(input) }.map { Token(it::class) }\n}\n\nprivate fun runIt(func: KFunction&lt;String&gt;, tokens: List&lt;Token&lt;*&gt;&gt;): String {\n    val args: Array&lt;Any&gt; = tokens.toTypedArray()\n    // Some casting needs to be done\n    return func.call(*args)\n}\n</code></pre>\n\n<p>The actual code is more complicated than this, but this more or less illustrates how it works together. The main issue I'm having is I'm not sure how I can dynamically cast back to the Color implementation so I can pass it to the function using reflection. I'm also open to other ways of accomplishing this task, and any help would be greatly appreciated! Thanks!</p>\n"}, {"tags": ["android", "kotlin", "adapter", "layout-inflater"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1546206733, "post_id": 53981684, "comment_id": 94800780, "body": "<code>getSystemService()</code> is not a <code>static</code> method on <code>Context</code>. It is a regular (instance) method. You need to call it on a <code>Context</code> instance, not on the <code>Context</code> class.  IMHO, the best solution is for you to call <code>getLayoutInflater()</code> on your activity, then pass that <code>LayoutInflater</code> into the <code>RecyclerView.Adapter</code> via its constructor."}, {"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1546207167, "post_id": 53981684, "comment_id": 94800884, "body": "How can I call the getLayoutInflater in my activity? @CommonsWare"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1546207409, "post_id": 53981684, "comment_id": 94800938, "body": "I am assuming that you are creating your <code>RecyclerView.Adapter</code> in an activity function somewhere. So, in that function, call <code>getLayoutInflater()</code>, and pass that value into your adapter&#39;s constructor."}, {"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1546208083, "post_id": 53981684, "comment_id": 94801081, "body": "Like this? : adapter= AdapterCaracterization( this, listSectionType = listSectionType)         recyclerView.adapter = adapter         layoutInflater.inflate(R.layout.used_products_field, null)     It doesn&#39;t make any sense to me. So what about the getSystemService? @CommonsWare"}, {"owner": {"reputation": 1462, "user_id": 1041383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d276ec281841276894cff57721d07f?s=128&d=identicon&r=PG", "display_name": "civic.LiLister", "link": "https://stackoverflow.com/users/1041383/civic-lilister"}, "edited": false, "score": 0, "creation_date": 1588106735, "post_id": 53981684, "comment_id": 108772612, "body": "I think here you just lack of an instance of context. It could be passed here in some way, or you could write a method somewhere that you could get the global application context."}], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 0, "last_activity_date": 1546210350, "creation_date": 1546210350, "answer_id": 53982076, "question_id": 53981684, "link": "https://stackoverflow.com/questions/53981684/unresolved-reference-layout-inflater-service-inside-onbindviewholder/53982076#53982076", "title": "Unresolved reference: LAYOUT_INFLATER_SERVICE inside onBindViewHolder", "body": "<p>Step #1: Add a <code>LayoutInflater</code> parameter to the constructor of your <code>RecyclerView.Adapter</code> subclass.</p>\n\n<p>Step #2: When you create the <code>RecyclerView.Adapter</code>, pass in a <code>LayoutInflater</code>, obtained from <code>getLayoutInflater()</code> on your activity.</p>\n\n<p>For example, here is a <code>RecyclerView.Adapter</code> named <code>ColorAdapter</code>:</p>\n\n<pre><code>/*\n  Copyright (c) 2018 CommonsWare, LLC\n\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n  use this file except in compliance with the License. You may obtain   a copy\n  of the License at http://www.apache.org/licenses/LICENSE-2.0. Unless required\n  by applicable law or agreed to in writing, software distributed under the\n  License is distributed on an \"AS IS\" BASIS,   WITHOUT WARRANTIES OR CONDITIONS\n  OF ANY KIND, either express or implied. See the License for the specific\n  language governing permissions and limitations under the License.\n\n  Covered in detail in the book _Elements of Android Jetpack_\n\n  https://commonsware.com/Jetpack\n*/\n\npackage com.commonsware.jetpack.sampler.recyclerview\n\nimport android.view.LayoutInflater\nimport android.view.ViewGroup\nimport androidx.recyclerview.widget.DiffUtil\nimport androidx.recyclerview.widget.ListAdapter\n\nclass ColorAdapter(private val inflater: LayoutInflater) :\n  ListAdapter&lt;Int, ColorViewHolder&gt;(ColorDiffer) {\n\n  override fun onCreateViewHolder(\n    parent: ViewGroup,\n    viewType: Int\n  ): ColorViewHolder {\n    return ColorViewHolder(inflater.inflate(R.layout.row, parent, false))\n  }\n\n  override fun onBindViewHolder(holder: ColorViewHolder, position: Int) {\n    holder.bindTo(getItem(position))\n  }\n\n  private object ColorDiffer : DiffUtil.ItemCallback&lt;Int&gt;() {\n    override fun areItemsTheSame(oldColor: Int, newColor: Int): Boolean {\n      return oldColor == newColor\n    }\n\n    override fun areContentsTheSame(oldColor: Int, newColor: Int): Boolean {\n      return areItemsTheSame(oldColor, newColor)\n    }\n  }\n}\n</code></pre>\n\n<p>Notice that my <code>ColorAdapter</code> constructor has <code>private val inflater: LayoutInflater</code> as a parameter.</p>\n\n<p>Here is the activity that uses that <code>ColorAdapter</code>:</p>\n\n<pre><code>/*\n  Copyright (c) 2018 CommonsWare, LLC\n\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n  use this file except in compliance with the License. You may obtain   a copy\n  of the License at http://www.apache.org/licenses/LICENSE-2.0. Unless required\n  by applicable law or agreed to in writing, software distributed under the\n  License is distributed on an \"AS IS\" BASIS,   WITHOUT WARRANTIES OR CONDITIONS\n  OF ANY KIND, either express or implied. See the License for the specific\n  language governing permissions and limitations under the License.\n\n  Covered in detail in the book _Elements of Android Jetpack_\n\n  https://commonsware.com/Jetpack\n*/\n\npackage com.commonsware.jetpack.sampler.recyclerview\n\nimport android.os.Bundle\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.recyclerview.widget.DividerItemDecoration\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.util.*\n\nclass MainActivity : AppCompatActivity() {\n  private val random = Random()\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    items.apply {\n      layoutManager = LinearLayoutManager(this@MainActivity)\n      addItemDecoration(\n        DividerItemDecoration(this@MainActivity, DividerItemDecoration.HORIZONTAL)\n      )\n      adapter = ColorAdapter(layoutInflater).apply {\n        submitList(buildItems())\n      }\n    }\n  }\n\n  private fun buildItems() = generateSequence { random.nextInt() }\n    .take(25)\n    .toList()\n}\n</code></pre>\n\n<p>Since you and I are both writing in Kotlin, the <code>getLayoutInflater()</code> call turns into a reference to the <code>layoutInflater</code> property on the activity. So, when I create my <code>ColorAdapter</code>, I use <code>ColorAdapter(layoutInflater)</code>, to pass in an instance of <code>LayoutInflater</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": true, "score": 1, "last_activity_date": 1546271959, "last_edit_date": 1546271959, "creation_date": 1546232361, "answer_id": 53983759, "question_id": 53981684, "link": "https://stackoverflow.com/questions/53981684/unresolved-reference-layout-inflater-service-inside-onbindviewholder/53983759#53983759", "title": "Unresolved reference: LAYOUT_INFLATER_SERVICE inside onBindViewHolder", "body": "<p>An alternative solution is to get the <code>LayoutInflater</code> from <code>parentLinearLayout</code> ViewGroup.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>parentLinearLayout?.apply { \n    val inflater = LayoutInflater.from(context) // context is now available in the receiver scope\n    val rowView = inflater.inflate(R.layout.used_products_field, this, false)\n    addView(rowView) // Add the view to the last position\n}\n</code></pre>\n\n<p>Also, be aware of the consequences of adding too many views without recycling them. Probably you'd need another <code>RecyclerView</code> if the number is big enough.</p>\n"}], "owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2157, "favorite_count": 0, "accepted_answer_id": 53983759, "answer_count": 2, "score": 0, "last_activity_date": 1546271959, "creation_date": 1546206402, "last_edit_date": 1546257173, "question_id": 53981684, "link": "https://stackoverflow.com/questions/53981684/unresolved-reference-layout-inflater-service-inside-onbindviewholder", "title": "Unresolved reference: LAYOUT_INFLATER_SERVICE inside onBindViewHolder", "body": "<p>Inside <code>OnBindViewHolder</code> of my <code>RecyclerView</code> <code>Adapter</code>, I got multiple items. One of those (ITEM_TRATAMENTOS) got a setOnClickListener which has the purpose of create an <code>LinearLayout</code> when I click in an button (add_field_btn). The problem is that the only argument of <code>getSystemService</code> is unresolved (<strong>Context.LAYOUT_INFLATER_SERVICE</strong>).</p>\n\n<p>In <code>ViewPagers</code> it works fine, but inside OnBindViewHolder, it's not the case.</p>\n\n<pre><code> ITEM_TRATAMENTOS -&gt;{\n      val viewHolderTratamentos = holder as ViewHolderItemTratamentos\n      holder.add_field_btn.setOnClickListener {\n                    inflater = Context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n                    val rowView = inflater.inflate(R.layout.used_products_field, null)\n                    // Add the new row.\n                    parentLinearLayout?.addView(rowView, parentLinearLayout?.childCount!! - 1)\n            }\n  }\n</code></pre>\n\n<p>The expected result is to create the new line, which it works if it was on an normal activity. </p>\n"}, {"tags": ["java", "android", "mobile", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 4818, "user_id": 4063532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ycJy2.jpg?s=128&g=1", "display_name": "Oussema Aroua", "link": "https://stackoverflow.com/users/4063532/oussema-aroua"}, "edited": false, "score": 0, "creation_date": 1546205433, "post_id": 53981253, "comment_id": 94800498, "body": "did you try to disable the recycling of the view holder ? <code>holder.setIsRecyclable(false);</code>"}, {"owner": {"reputation": 55, "user_id": 10094737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYtsX.png?s=128&g=1", "display_name": "llambdaa", "link": "https://stackoverflow.com/users/10094737/llambdaa"}, "reply_to_user": {"reputation": 4818, "user_id": 4063532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ycJy2.jpg?s=128&g=1", "display_name": "Oussema Aroua", "link": "https://stackoverflow.com/users/4063532/oussema-aroua"}, "edited": false, "score": 0, "creation_date": 1546208940, "post_id": 53981253, "comment_id": 94801252, "body": "If I call this while the View is being created, problems will arise later because it will be recreated as soon as it has to be reloaded, and then it will want to pull a value from the queue but it no longer exists. When I call this method in &#39;remove&#39;, a delete animation for the previous element will appear and the element actually to be deleted will remain as a static overlay over the RecyclerView."}], "answers": [{"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": true, "score": 0, "last_activity_date": 1546231376, "last_edit_date": 1546231376, "creation_date": 1546230274, "answer_id": 53983557, "question_id": 53981253, "link": "https://stackoverflow.com/questions/53981253/recyclerview-showing-actually-deleted-items/53983557#53983557", "title": "RecyclerView showing actually deleted items", "body": "<p>There is no need to store the view holders yourself.<br>\nIt should look something like this:</p>\n\n<pre><code>private var stockpile = MutableList&lt; String &gt;()\n\nfun push( identification: String ) {\n    stockpile.add( identification )\n    notifyItemInserted( itemCount - 1 )\n}\n\nfun remove( position: Int ) {\n    stockpile.removeAt( position )\n    notifyItemRemoved( position )\n}\n\noverride fun onCreateViewHolder( parent: ViewGroup , type: Int ): ConsoleViewHolder {\n    val view: ConsoleViewHolder = ConsoleViewHolder( LayoutInflater.from( parent.context ).inflate( R.layout.console , parent , false ) , this.stockpile.poll() )\n    return view\n}\n\noverride fun onBindViewHolder( holder: ConsoleViewHolder , position: Int ) {\n    //replace with something sensible you want to show in your view\n    view.someTextView.text = stockpile[position].name\n    return\n\n}\n\noverride fun getItemCount(): Int {\n    return this.stockpile.size\n}\n</code></pre>\n\n<p>I think you have a bad understanding of what the view holder does. Remove <code>private var holder: MutableList&lt; ConsoleViewHolder &gt; = ArrayList()</code>and all references to it. Do <strong>not</strong> edit viewholders outside of <code>onBindViewHolder</code>. The weird behaviour you experience is because you do not actually remove the item from the underlying <code>stockpile</code> and then the recyclerview is confused when you tell it that there is a new item, because your count is way off.</p>\n\n<p>see the example at <a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/layout/recyclerview</a> for a reference implementation.</p>\n"}], "owner": {"reputation": 55, "user_id": 10094737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYtsX.png?s=128&g=1", "display_name": "llambdaa", "link": "https://stackoverflow.com/users/10094737/llambdaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 53983557, "answer_count": 1, "score": 0, "last_activity_date": 1546231376, "creation_date": 1546202431, "question_id": 53981253, "link": "https://stackoverflow.com/questions/53981253/recyclerview-showing-actually-deleted-items", "title": "RecyclerView showing actually deleted items", "body": "<h3>Problem</h3>\n\n<p>I am writing an android application that has to handle a variable amount of elements in a RecyclerView. When I add an element, some data gets saved into a configuration file along with an UUID.</p>\n\n<p>Either when the application starts or when the element gets created or removed by the user during runtime, the RecyclerView gets updated and shows all currently existing elements.</p>\n\n<p>Each of these elements has a button to remove it and its additional data from the configuration. When I press this button, the elements data successfully gets removed from the configuration and it turns invisible leading the RecyclerView only to show the remaining elements.</p>\n\n<p>However, when I try to insert a new element, it doesn't get shown but rather the element that has been removed previously during this session.</p>\n\n<h3>Tries</h3>\n\n<p>I have been looking for a solution for a while now.\nFirst of all, I startet reading the documentation over and over again, thinking that I missed something. I also viewed some online examples on how to remove an item from a RecyclerView properly but I can't get it working.</p>\n\n<h3>Code</h3>\n\n<pre><code>package com.rappee.protectiveparking.ui\n\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.ViewGroup\nimport com.rappee.protectiveparking.R\nimport com.rappee.protectiveparking.core.Resources\nimport java.util.*\n\nclass ScrollerAdapter : RecyclerView.Adapter&lt; ConsoleViewHolder &gt;() , \nDragItemTouchHelperAdapter {\n\nprivate var stockpile: Queue&lt; String &gt; = LinkedList&lt; String &gt;()\nprivate var holder: MutableList&lt; ConsoleViewHolder &gt; = ArrayList()\n\nfun push( identification: String ) {\n\n    this.stockpile.add( identification )\n    this.notifyItemInserted( this.itemCount - 1 )\n\n}\n\nfun remove( position: Int ) {\n\n    this.holder.removeAt( position )\n    this.notifyItemRemoved( position )\n\n}\n\noverride fun onCreateViewHolder( parent: ViewGroup , type: Int ): ConsoleViewHolder {\n\n    val view: ConsoleViewHolder = ConsoleViewHolder( LayoutInflater.from( parent.context ).inflate( R.layout.console , parent , false ) , this.stockpile.poll() )\n    this.holder.add( view )\n\n    return view\n\n}\n\noverride fun onBindViewHolder( holder: ConsoleViewHolder , position: Int ) {\n\n    return\n\n}\n\noverride fun getItemCount(): Int {\n\n    return this.holder.size + this.stockpile.size\n\n}\n\noverride fun onItemMove( from: Int , to: Int ): Boolean {\n\n    Collections.swap( this.holder , to , from )\n\n    for ( i in 0 until this.holder.size ) {\n\n        Resources.CONFIGURATION.push( \"${this.holder.get( i ).identification}.${Resources.KEY_POSITION}\" , \"$i\" )\n\n    }\n\n    this.notifyItemMoved( from , to )\n    return true\n\n}\n\n}\n</code></pre>\n\n<h3>Behaviour</h3>\n\n<p>When I try to insert a new element, I actually put the UUID into 'stockpile' and call 'notifyItemInserted', so that 'onCreateViewHolder' gets activated. When this happens, I fetch the foremost UUID from 'stockpile' in form of a String to give it to the constructor of 'ConsoleViewHolder' as a parameter.\nOnly when this method gets called, an actual View gets pushed into the RecyclerView ( not my decision! ).</p>\n\n<p>However, when I insert a new UUID and update the RecyclerView after an item got deleted, this method doesn't get called so that no new View can be shown.\nThe only thing that changes is that the previously deleted View pops back up.</p>\n\n<p><strong>MY QUESTION: How can I fix this behaviour of my RecyclerView showing deleted items instead of newly pushed ones?</strong></p>\n"}, {"tags": ["java", "json", "kotlin"], "comments": [{"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 0, "creation_date": 1546196392, "post_id": 53980502, "comment_id": 94798229, "body": "Thanks for confirming @ElliottFrisch. I will reach out to the maker of the API EventRegistry to see about a workaround."}, {"owner": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1546196427, "post_id": 53980502, "comment_id": 94798239, "body": "I just double checked. <code>int $q = 1;</code> is legal. What&#39;s the problem again? Which language and which lint?"}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1546199375, "post_id": 53980502, "comment_id": 94799030, "body": "@forpas, awesome! I will give this a try and report back. Do you want to create an answer for your solution? Also, please vote if you think this is useful to others."}, {"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 0, "creation_date": 1546213846, "post_id": 53980502, "comment_id": 94802124, "body": "In Java, $ is not a special character. A variable name can include any currency symbol in any position."}, {"owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1574499523, "post_id": 53980502, "comment_id": 104261230, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44149474/why-does-this-kotlin-method-have-enclosing-backticks\">Why does this Kotlin method have enclosing backticks?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 3, "last_activity_date": 1546199559, "creation_date": 1546199559, "answer_id": 53980930, "question_id": 53980502, "link": "https://stackoverflow.com/questions/53980502/use-special-character-in-kotlin-java-variable-name/53980930#53980930", "title": "Use Special Character &quot;$&quot; in Kotlin/Java Variable Name", "body": "<p><strong>For Kotlin</strong> <br/>\nsurround the name with backticks (ascii code 96): <br/>\n<strong>`$query`</strong></p>\n"}], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 671, "favorite_count": 0, "accepted_answer_id": 53980930, "answer_count": 1, "score": 1, "last_activity_date": 1546199559, "creation_date": 1546196129, "question_id": 53980502, "link": "https://stackoverflow.com/questions/53980502/use-special-character-in-kotlin-java-variable-name", "title": "Use Special Character &quot;$&quot; in Kotlin/Java Variable Name", "body": "<h1>Expected</h1>\n\n<p>The ability to use the special character \"$\" in the  naming of a Kotlin or Java variable name. The API for <a href=\"http://eventregistry.org/documentation/examples#event-registry-api-examples-articles-get-articles\" rel=\"nofollow noreferrer\">EventRegistry (Example 4)</a> requires the naming of the sub query as \"$query\". <strong>Is there a Kotlin or Java workaround in order to use \"$\" in a variable name?</strong></p>\n\n<h1>Documentation</h1>\n\n<p>Example 4 - Request Body</p>\n\n<pre><code>{\n    \"action\": \"getArticles\",\n    \"query\": {\n        \"$query\": {\n            \"$and\": [\n                {\n                    \"dateStart\":\"2017-04-22\",\n                    \"dateEnd\":\"2017-04-22\"\n                },\n                {\n                    \"$or\":[\n                        {\n                            \"conceptUri\":{\n                                \"$or\":    [\"http://en.wikipedia.org/wiki/Barack_Obama\"]\n                            }\n                        },\n                        {\n                            \"keyword\":\"Trump\"\n                        }\n                    ]\n                },\n                {\n                    \"categoryUri\":\"dmoz/Business\"\n                }\n            ]\n        }\n    },\n    \"articlesPage\": 1,\n    \"articlesCount\": 100,\n    \"articlesSortBy\": \"socialScore\",\n    \"articlesSortByAsc\": false,\n    \"articlesArticleBodyLen\": -1,\n    \"includeArticleSocialScore\": true,\n    \"resultType\": \"articles\",\n    \"apiKey\": \"YOUR_API_KEY\"\n}\n</code></pre>\n\n<h1>Result</h1>\n\n<p>Lint error is thrown when attempting the following:</p>\n\n<p><code>data class Query(val $query: SubQuery)</code></p>\n"}, {"tags": ["java", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1546195297, "post_id": 53979729, "comment_id": 94797969, "body": "We just have everything in <code>src&#47;main&#47;java&#47;...</code> and it works O_o?"}, {"owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546198992, "post_id": 53979729, "comment_id": 94798931, "body": "@EpicPandaForce thank you! i had it in <code>kotlin</code> folder and it didn&#39;t. i had no reason to try &#39;java&#39; folder :) i&#39;m still surprised by some conventions"}], "answers": [{"tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 1, "last_activity_date": 1546194840, "last_edit_date": 1546194840, "creation_date": 1546194169, "answer_id": 53980264, "question_id": 53979729, "link": "https://stackoverflow.com/questions/53979729/gradle-how-to-keep-kotlin-and-java-in-the-same-source-folder/53980264#53980264", "title": "Gradle: how to keep kotlin and java in the same source folder?", "body": "<p><code>=</code> is the wrong operator; <code>+=</code> can be used to extend the class-path.</p>\n\n<pre><code>sourceSets {\n    main.java.srcDirs += \"src/main/kotlin\"\n}\n</code></pre>\n\n<p>referencing a separate module is still more solid than within the same module:</p>\n\n<p>a) because some Gradle DSL is Java or Kotlin specific.</p>\n\n<p>b) the test-runners do not care about other technologies.</p>\n\n<p>adding more complexity (a library module) barely solves a problem; but in this case, it circumvents it - because it permits another one <code>build.gradle</code> &amp; test-runner. which otherwise would not be possible.</p>\n"}, {"comments": [{"owner": {"reputation": 2066, "user_id": 216294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/549de5cc2c15903b94d417d494084448?s=128&d=identicon&r=PG", "display_name": "Andreas Rehm", "link": "https://stackoverflow.com/users/216294/andreas-rehm"}, "edited": false, "score": 0, "creation_date": 1546194898, "post_id": 53980297, "comment_id": 94797880, "body": "Please be a bit more specific."}], "tags": [], "owner": {"reputation": 343, "user_id": 9401943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oVPqk.png?s=128&g=1", "display_name": "birneee", "link": "https://stackoverflow.com/users/9401943/birneee"}, "is_accepted": false, "score": 1, "last_activity_date": 1546194406, "creation_date": 1546194406, "answer_id": 53980297, "question_id": 53979729, "link": "https://stackoverflow.com/questions/53979729/gradle-how-to-keep-kotlin-and-java-in-the-same-source-folder/53980297#53980297", "title": "Gradle: how to keep kotlin and java in the same source folder?", "body": "<p>this should work</p>\n\n<pre><code>sourceSets {\n    main.java.srcDirs = ['src/main/xxx']\n    main.kotlin.srcDirs = ['src/main/xxx']\n    test.java.srcDirs = ['src/test/xxx']\n    test.kotlin.srcDirs = ['src/test/xxx']\n}\n</code></pre>\n"}], "owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1546194840, "creation_date": 1546189938, "last_edit_date": 1546190456, "question_id": 53979729, "link": "https://stackoverflow.com/questions/53979729/gradle-how-to-keep-kotlin-and-java-in-the-same-source-folder", "title": "Gradle: how to keep kotlin and java in the same source folder?", "body": "<p>I would like to have kotlin and java files in the same folder like:</p>\n\n<pre><code>src/main/xxx/JavaClass.java\nsrc/main/xxx/KotlinClass.kt\n\nsrc/test/xxx/JavaTestClass.java\nsrc/test/xxx/KotlinTestClass.kt\n</code></pre>\n\n<p>i don't care if <code>xxx</code> is <code>kotlin</code>, <code>java</code>, <code>whatever</code>. i just want to have all the files providing a single functionality in one place with working cross-references / cross-compilation.</p>\n\n<p>how can i configure it in gradle?</p>\n"}, {"tags": ["java", "gradle", "kotlin", "junit5"], "answers": [{"comments": [{"owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "edited": false, "score": 0, "creation_date": 1546189523, "post_id": 53979645, "comment_id": 94796620, "body": "that&#39;s what i&#39;m trying to avoid. i want to separate my code by functionality, not by technology"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "edited": false, "score": 0, "creation_date": 1546190727, "post_id": 53979645, "comment_id": 94796894, "body": "@piotrek mixing two technologies within one module is probably to root issue. when <code>Util.java</code> would be converted to <code>Util.kt</code>, it would in general be less complicated. when both technologies rely on it, consider putting it into a library module (which then can be tested independently)."}, {"owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1546191017, "post_id": 53979645, "comment_id": 94796960, "body": "@MartinZeitler yes, unless it&#39;s an existing project with thousands of java classes or part where kotlin can&#39;t cooperate with spring like <a href=\"https://stackoverflow.com/a/53908207/1100135\">stackoverflow.com/a/53908207/1100135</a>"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "edited": false, "score": 0, "creation_date": 1546191643, "post_id": 53979645, "comment_id": 94797141, "body": "@piotrek moving <code>Java</code> code without proper <code>Kotlin</code> inter-operability into it&#39;s own module still would make it easier to handle... and even provide better overview, where the conversion stalls."}], "tags": [], "owner": {"reputation": 2998, "user_id": 5708266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6cbb3b938678c97e2fa0b16ef020c2a?s=128&d=identicon&r=PG", "display_name": "Konstantin Labun", "link": "https://stackoverflow.com/users/5708266/konstantin-labun"}, "is_accepted": false, "score": 1, "last_activity_date": 1546190470, "last_edit_date": 1546190470, "creation_date": 1546189197, "answer_id": 53979645, "question_id": 53979504, "link": "https://stackoverflow.com/questions/53979504/gradle-kotlin-tests-cant-see-java-files-in-test/53979645#53979645", "title": "Gradle: kotlin tests can&#39;t see java files in test", "body": "<p>You have to put your java files in <code>java</code> dir or else they will not be compiled.</p>\n\n<pre><code>\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 main\n    \u2502   \u251c\u2500\u2500 kotlin\n    \u2502   \u2502   \u2514\u2500 ...\n    \u2502   \u251c\u2500\u2500 java\n    \u2502   \u2502   \u2514\u2500 ...\n    \u2502   \u2514\u2500\u2500 resources\n    \u2502       \u2514\u2500\u2500 application.yml\n   \u2514\u2500\u2500 test\n        \u2514\u2500\u2500 kotlin\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500 xxx\n                    \u2514\u2500\u2500 shop\n                        \u2514\u2500\u2500 order\n                            \u251c\u2500\u2500 Junit5Kotlin.kt\n                            \u251c\u2500\u2500 OrderITest.kt\n                            \u251c\u2500\u2500 ProductITest.kt\n                            \u2514\u2500\u2500 Util.java\n            java\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500 xxx\n                    \u2514\u2500\u2500 shop\n                        \u2514\u2500\u2500 order\n                            \u251c\u2500\u2500 Junit5Test.java\n</code></pre>\n\n<p>And add java plugin to gradle</p>\n\n<pre><code>apply plugin: 'java'\n</code></pre>\n\n<p><strong>EDIT:</strong>\nOK, if you want it all to be in kotlin dir, try to add this to you build.gradle:</p>\n\n<pre><code>apply plugin: 'java'\nsourceSets.main.java.srcDirs = ['src/main/kotlin']\nsourceSets.test.java.srcDirs = ['src/test/kotlin']\n</code></pre>\n\n<p>This way it will run java compiler before kotlin one so you will have this <code>.class</code> files.</p>\n"}], "owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1546190470, "creation_date": 1546188277, "last_edit_date": 1546189580, "question_id": 53979504, "link": "https://stackoverflow.com/questions/53979504/gradle-kotlin-tests-cant-see-java-files-in-test", "title": "Gradle: kotlin tests can&#39;t see java files in test", "body": "<p>java 8, gradle 5, kotlin 1.2.71, junit 5.3.2, intellij 2018.03 december 17, keeping kotlin and java files in the same src dir\nthe file structure is:</p>\n\n<pre><code>.\n\u251c\u2500\u2500 build.gradle\n\u251c\u2500\u2500 gradle\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 wrapper...\n\u2502\u00a0\u00a0     \n\u251c\u2500\u2500 gradlew\n\u251c\u2500\u2500 gradlew.bat\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 main\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 kotlin\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500 ...\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 resources\n    \u2502\u00a0\u00a0     \u2514\u2500\u2500 application.yml\n    \u2514\u2500\u2500 test\n        \u2514\u2500\u2500 kotlin\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500 xxx\n                    \u2514\u2500\u2500 shop\n                        \u2514\u2500\u2500 order\n                            \u251c\u2500\u2500 Junit5Kotlin.kt\n                            \u251c\u2500\u2500 Junit5Test.java\n                            \u251c\u2500\u2500 OrderITest.kt\n                            \u251c\u2500\u2500 ProductITest.kt\n                            \u2514\u2500\u2500 Util.java\n</code></pre>\n\n<p>from intellij ('run all tests' clicked on 'test' dir) all works correctly. from <code>./gradlew test</code> test kotlin classes don't see java test util classes:</p>\n\n<pre><code>xxx.shop.order.Manual &gt; should return client error on bad input FAILED\n    java.lang.NoClassDefFoundError: xxx/shop/order/Util\n        at xxx.shop.order.Manual.before(ProductITest.kt:229)\n\n        Caused by:\n        java.lang.ClassNotFoundException: xxx.shop.order.Util\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\n            ... 1 more\n</code></pre>\n\n<p>and it's not a compile time error but runtime error as other tests finished successfully</p>\n\n<p>potentially important parts of my build.gradle:</p>\n\n<pre><code>apply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\napply plugin: 'kotlin-jpa'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'xxx.shop'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = 1.8\ncompileKotlin {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xjsr305=strict\"]\n        jvmTarget = \"1.8\"\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xjsr305=strict\"]\n        jvmTarget = \"1.8\"\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"}, {"tags": ["android", "serialization", "kotlin", "gson", "retrofit2"], "comments": [{"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1546187587, "post_id": 53979351, "comment_id": 94796111, "body": "<code>override var isAsNeeded: Boolean,</code> why are you doing this ??  you can simply use  <code>isAsNeeded: Boolean</code> and pass it to <code>Prescription</code> constructor"}, {"owner": {"reputation": 4729, "user_id": 1107755, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4IHql.jpg?s=128&g=1", "display_name": "Abhishek Bansal", "link": "https://stackoverflow.com/users/1107755/abhishek-bansal"}, "reply_to_user": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1546187804, "post_id": 53979351, "comment_id": 94796187, "body": "okay, whats the point of inheriting <code>Prescription</code> then? I can simply create a different model as well!"}, {"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1546188032, "post_id": 53979351, "comment_id": 94796238, "body": "that is your use case you might need the same variable&#39;s in multiple class.  you can override later on while using the variable not while parsing."}], "answers": [{"comments": [{"owner": {"reputation": 4729, "user_id": 1107755, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4IHql.jpg?s=128&g=1", "display_name": "Abhishek Bansal", "link": "https://stackoverflow.com/users/1107755/abhishek-bansal"}, "edited": false, "score": 1, "creation_date": 1546233062, "post_id": 53979451, "comment_id": 94804941, "body": "my bad i was using <code>val</code> in child class"}], "tags": [], "owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "is_accepted": true, "score": 2, "last_activity_date": 1546188743, "last_edit_date": 1546188743, "creation_date": 1546187881, "answer_id": 53979451, "question_id": 53979351, "link": "https://stackoverflow.com/questions/53979351/kotlin-field-overriding-and-gson-deserialization-unable-to-create-converter-clas/53979451#53979451", "title": "Kotlin field overriding and GSON deserialization Unable to create converter class exception", "body": "<pre><code>class Medication(\n     name: String,\n     dose: JsonElement?,\n     schedule: JsonElement?,\n     isAsNeeded: Boolean,\n     notes: String?,\n     id: String,\n     val other: String?,\n) : Topic, Prescription(\n    name,\n    dose,\n    schedule,\n    isAsNeeded,\n    notes\n)\n</code></pre>\n\n<p><em>try above... in <code>Medication</code> class there is no need of overriding the variable.</em></p>\n\n<p>As name,\n    dose,\n    schedule,\n    isAsNeeded,\n    notes\nare already declared in the super class there is no need of overriding you can directly use them.</p>\n\n<pre><code>open class Prescription(\nprotected var name: String,\nprotected val id: String,\nprotected var dose: JsonElement?,\nprotected var schedule: JsonElement?,\nprotected var notes: String?,\n@SerializedName(\"as_needed\")\nprotected var isAsNeeded: Boolean,\nprotected var archiveDate: Long?) {\nconstructor(name: String, dose: JsonElement?, schedule: JsonElement?, isAsNeeded: Boolean, notes: String?)\n    : this(\n    id = name.toLowerCase() + \"-\" + UUID.randomUUID().toString().subSequence(0, 6),\n    name = name,\n    dose = dose,\n    schedule = schedule,\n    isAsNeeded = isAsNeeded,\n    archiveDate = null,\n    notes = notes\n)\n}\n</code></pre>\n\n<p>And i believe keeping your var/val protected in your super class is more preferable. </p>\n"}], "owner": {"reputation": 4729, "user_id": 1107755, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4IHql.jpg?s=128&g=1", "display_name": "Abhishek Bansal", "link": "https://stackoverflow.com/users/1107755/abhishek-bansal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "accepted_answer_id": 53979451, "answer_count": 1, "score": 1, "last_activity_date": 1546188743, "creation_date": 1546187163, "question_id": 53979351, "link": "https://stackoverflow.com/questions/53979351/kotlin-field-overriding-and-gson-deserialization-unable-to-create-converter-clas", "title": "Kotlin field overriding and GSON deserialization Unable to create converter class exception", "body": "<p>I have a parent class in <code>Kotlin</code> like this</p>\n\n<pre><code>open class Prescription(\nopen var name: String,\nopen val id: String,\nopen var dose: JsonElement?,\nopen var schedule: JsonElement?,\nopen var notes: String?,\n@SerializedName(\"as_needed\")\nopen var isAsNeeded: Boolean,\nopen var archiveDate: Long?) {\nconstructor(name: String, dose: JsonElement?, schedule: JsonElement?, isAsNeeded: Boolean, notes: String?)\n    : this(\n    id = name.toLowerCase() + \"-\" + UUID.randomUUID().toString().subSequence(0, 6),\n    name = name,\n    dose = dose,\n    schedule = schedule,\n    isAsNeeded = isAsNeeded,\n    archiveDate = null,\n    notes = notes\n)\n}\n</code></pre>\n\n<p>And a child class like this</p>\n\n<pre><code>class Medication(\n    override var name: String,\n    override var dose: JsonElement?,\n    override var schedule: JsonElement?,\n    override var isAsNeeded: Boolean,\n    override var notes: String?,\n    override var id: String,\n    val other: String?,\n) : Topic, Prescription(\n    name = name,\n    dose = dose,\n    schedule = schedule,\n    isAsNeeded = isAsNeeded,\n    notes = notes\n)\n</code></pre>\n\n<p>when I am trying to deserialize <code>Medication</code> class with <code>GSON</code> I get <code>IllegalArgumentException</code> saying that <code>Medication</code> class <code>declares multiple JSON fields named dose.</code> I am not sure how fields are duplicating when <code>override</code> is added to fields. What would be correct way of doing this in <code>Kotlin</code> + <code>GSON</code></p>\n"}, {"tags": ["android", "kotlin", "android-mvp"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546195522, "post_id": 53979000, "comment_id": 94798023, "body": "WeakReference is a hack for this case. One should <b><i>never</i></b> use <code>WeakReference&lt;Context&#47;Activity&#47;Fragment&gt;</code>, because it is not the right solution, ever, really ever. Even in AsyncTask, it was just a hack. You can read about it here: <a href=\"https://proandroiddev.com/a-quick-story-about-async-callbacks-memory-leaks-weakreferences-and-misconceptions-78003b3d6b26\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1179, "user_id": 4570081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G286h.png?s=128&g=1", "display_name": "Dmytro Ivanov", "link": "https://stackoverflow.com/users/4570081/dmytro-ivanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1546185319, "creation_date": 1546185319, "answer_id": 53979096, "question_id": 53979000, "link": "https://stackoverflow.com/questions/53979000/android-mvp-pattern-on-memory-leak/53979096#53979096", "title": "android MVP pattern on memory leak", "body": "<p>You could make method <code>attach</code> and <code>detach</code>. In attach you could initialize something, in detach you could finilize something. For example you could set null to your activity contract interface variable and inside all your callbacks before call method check if not null.</p>\n\n<p>Case with AsyncTask is not similar to your case. With AsyncTask we passed inside View or Activity link, it means after rotate previous activity/view destroyed, but out async task has old link and GC cannot clear memory.</p>\n"}], "owner": {"reputation": 221, "user_id": 6065825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86be7074d133a3abf62b9a6972076f73?s=128&d=identicon&r=PG&f=1", "display_name": "DemiDust", "link": "https://stackoverflow.com/users/6065825/demidust"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "accepted_answer_id": 53979096, "answer_count": 1, "score": 0, "last_activity_date": 1546195422, "creation_date": 1546184617, "last_edit_date": 1546195422, "question_id": 53979000, "link": "https://stackoverflow.com/questions/53979000/android-mvp-pattern-on-memory-leak", "title": "android MVP pattern on memory leak", "body": "<p>Currently i am using MVP pattern on android with Contract. \nSo in example my interactor is like this: </p>\n\n<pre><code>interface MainInteractor {\n    interface Activity {\n        //function here\n    }\n\n    interface Presenter {\n        //function here\n    }\n}\n</code></pre>\n\n<p>and my Presenter class contains something like this</p>\n\n<pre><code>class MainPresenter(\n    var activity : MainInteractor.Activity\n) : MainInteractor.Presenter {\n\n    //interface function that calls API (async)\n    fun callNetwork() {\n        //code here \n    }\n}\n</code></pre>\n\n<p>In sense i want to know if this kind of pattern will cause memory leak if calling network hasn't finished but the activity has already been destroyed. I know for AsyncTask, weak reference will be used to avoid memory leak. Is it the same case here? And if it does cause memory leak are there any way to fix it aside from weak reference.</p>\n"}, {"tags": ["java", "android", "multithreading", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 4563960, "user_type": "registered", "profile_image": "https://graph.facebook.com/884033211659120/picture?type=large", "display_name": "Lucas Sousa", "link": "https://stackoverflow.com/users/4563960/lucas-sousa"}, "edited": false, "score": 0, "creation_date": 1546183245, "post_id": 53978568, "comment_id": 94795002, "body": "Navigating through answers I noticed that is not good use AsyncTask to long operations, like operations that took 2 or more seconds to finish. In my case is not fixed but sometimes I can get long operations like that. How to proceed, then?"}, {"owner": {"reputation": 1179, "user_id": 4570081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G286h.png?s=128&g=1", "display_name": "Dmytro Ivanov", "link": "https://stackoverflow.com/users/4570081/dmytro-ivanov"}, "reply_to_user": {"reputation": 109, "user_id": 4563960, "user_type": "registered", "profile_image": "https://graph.facebook.com/884033211659120/picture?type=large", "display_name": "Lucas Sousa", "link": "https://stackoverflow.com/users/4563960/lucas-sousa"}, "edited": false, "score": 0, "creation_date": 1546183796, "post_id": 53978568, "comment_id": 94795153, "body": "For sure good approuch is ReactiveX. Read this article <a href=\"https://stackoverflow.com/questions/22933762/service-vs-thread-in-android\" title=\"service vs thread in android\">stackoverflow.com/questions/22933762/&hellip;</a>"}, {"owner": {"reputation": 109, "user_id": 4563960, "user_type": "registered", "profile_image": "https://graph.facebook.com/884033211659120/picture?type=large", "display_name": "Lucas Sousa", "link": "https://stackoverflow.com/users/4563960/lucas-sousa"}, "edited": false, "score": 0, "creation_date": 1546188498, "post_id": 53978568, "comment_id": 94796375, "body": "Ohh services... Nice to know that it can be used. Anyway I tested my work using <code>AsycTask</code> ans it worked good! Thanks for pointing it out. :)"}], "tags": [], "owner": {"reputation": 1179, "user_id": 4570081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G286h.png?s=128&g=1", "display_name": "Dmytro Ivanov", "link": "https://stackoverflow.com/users/4570081/dmytro-ivanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1546181115, "creation_date": 1546181115, "answer_id": 53978568, "question_id": 53978503, "link": "https://stackoverflow.com/questions/53978503/application-freezes-when-setting-textview-text/53978568#53978568", "title": "Application freezes when setting TextView text", "body": "<p>Do not do heavy operation inside MainThread (UI) in Android. For your case take a look to <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">AsyncTask</a>. It give you a method <code>doInBackground</code> where you should make some background stuff (http request, file i/o) then you will get call <code>onPostExecute</code>, that method will called on UI Thread with the results of <code>doInBackground</code> method. <a href=\"https://stackoverflow.com/questions/9671546/asynctask-android-example\">Another example</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 4563960, "user_type": "registered", "profile_image": "https://graph.facebook.com/884033211659120/picture?type=large", "display_name": "Lucas Sousa", "link": "https://stackoverflow.com/users/4563960/lucas-sousa"}, "edited": false, "score": 0, "creation_date": 1546182157, "post_id": 53978609, "comment_id": 94794749, "body": "Thank you for explanation about uiThread use. However, as I said, I&#39;m not inside a activity to call <code>runOnUiThread()</code> directly like that, for example. If I find some way to call it in my custom class your approach is still valid to this situation?"}, {"owner": {"reputation": 197, "user_id": 1008197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d3db9e81db98574d8762f67eaa88432?s=128&d=identicon&r=PG", "display_name": "Richard Stokes", "link": "https://stackoverflow.com/users/1008197/richard-stokes"}, "reply_to_user": {"reputation": 109, "user_id": 4563960, "user_type": "registered", "profile_image": "https://graph.facebook.com/884033211659120/picture?type=large", "display_name": "Lucas Sousa", "link": "https://stackoverflow.com/users/4563960/lucas-sousa"}, "edited": false, "score": 0, "creation_date": 1546182476, "post_id": 53978609, "comment_id": 94794804, "body": "All UI changes in Android must run on the UI Thread. If it doesn&#39;t then Android will throw an exception. If your code is running without any exceptions that means it already is running on the UI Thread in which case you need to run the search on a different thread, ideally via an AsyncTask. The onPostExecute method called in an AsyncTask runs on the UI Thread and you can update the text again there. Please note that there is a difference between Threads and Classes."}], "tags": [], "owner": {"reputation": 197, "user_id": 1008197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d3db9e81db98574d8762f67eaa88432?s=128&d=identicon&r=PG", "display_name": "Richard Stokes", "link": "https://stackoverflow.com/users/1008197/richard-stokes"}, "is_accepted": false, "score": 0, "last_activity_date": 1546181466, "creation_date": 1546181466, "answer_id": 53978609, "question_id": 53978503, "link": "https://stackoverflow.com/questions/53978503/application-freezes-when-setting-textview-text/53978609#53978609", "title": "Application freezes when setting TextView text", "body": "<p>I think the main thing to understand is that only UI specific tasks should run on the UI thread. If it is not UI related then it should run on another thread ideally as an AsyncTask.</p>\n\n<p>Performing a search, generally speaking, is very performance heavy as you have pointed out. This will block the UI thread from updating the UI which will lead to unresponsive UIs and users may perceive this a crash or a slow app.</p>\n\n<p>So firstly, to run the updating on the UI Thread.</p>\n\n<p><code>runOnUiThread(() -&gt;{textView.setText(\"loading...\");});</code> </p>\n\n<p>then perform the search on a different thread</p>\n\n<p>then once the search is finished update the UI using the same method as above</p>\n"}], "owner": {"reputation": 109, "user_id": 4563960, "user_type": "registered", "profile_image": "https://graph.facebook.com/884033211659120/picture?type=large", "display_name": "Lucas Sousa", "link": "https://stackoverflow.com/users/4563960/lucas-sousa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 0, "accepted_answer_id": 53978568, "answer_count": 2, "score": 0, "last_activity_date": 1546181466, "creation_date": 1546180568, "question_id": 53978503, "link": "https://stackoverflow.com/questions/53978503/application-freezes-when-setting-textview-text", "title": "Application freezes when setting TextView text", "body": "<p>I have to update a <code>TextView</code> from another class (not a activity) with the result from a method which can be slow to finish its search. While the method don't finish I thought set the <code>TextView</code> text to something like \"loading...\" and finally, after method result is ok, set the text to that result. Currently I'm doing something like this:</p>\n\n<pre><code>textView.setText(\"loading...\");\nSearch s = searcher.search();\ntextView.setText(s.result);\n</code></pre>\n\n<p>Firstly, this still freezes the application until result is ok, once didn't not used new <code>Threads</code>. I know that to set content to Android widgets we have to do it inside the <code>uiThread</code>, but I don't know how to do it in my case, once I'm not inside a <code>Activity</code>. </p>\n\n<p>In second place, that approach are not showing the \"loading...\" text. When I call that code the application just freezes and back with the final text.  </p>\n\n<p>Then, how to avoid that freeze/breaking until content is ok?</p>\n"}, {"tags": ["class", "kotlin"], "comments": [{"owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "edited": false, "score": 0, "creation_date": 1546178840, "post_id": 53978211, "comment_id": 94793991, "body": "Can you provide content (screenshot, text) of <code>newS8OOPSimpleClass.kt</code> file?"}, {"owner": {"reputation": 43, "user_id": 9602523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b77b59fbae7c33057931ff29814f7b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nourdine Dali", "link": "https://stackoverflow.com/users/9602523/nourdine-dali"}, "reply_to_user": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "edited": false, "score": 0, "creation_date": 1546179351, "post_id": 53978211, "comment_id": 94794131, "body": "i updated the question you could see it."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9602523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b77b59fbae7c33057931ff29814f7b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nourdine Dali", "link": "https://stackoverflow.com/users/9602523/nourdine-dali"}, "edited": false, "score": 0, "creation_date": 1546179806, "post_id": 53978371, "comment_id": 94794236, "body": "Thank you so much appreciated."}], "tags": [], "owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "is_accepted": true, "score": 1, "last_activity_date": 1546179579, "creation_date": 1546179579, "answer_id": 53978371, "question_id": 53978211, "link": "https://stackoverflow.com/questions/53978211/problems-when-running-a-class-in-kotlin/53978371#53978371", "title": "Problems when running a class in kotlin", "body": "<p>As per screenshots, you have declared <code>Car</code> class in 2 separate files:\n<code>newS8OOPSimpleClass.kt</code> and <code>newS8Constructor.kt</code>. You cannot do that in Kotlin. You have to remove one of them - probably one in <code>newS8Constructor.kt</code> is unnecessary.</p>\n"}], "owner": {"reputation": 43, "user_id": 9602523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b77b59fbae7c33057931ff29814f7b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nourdine Dali", "link": "https://stackoverflow.com/users/9602523/nourdine-dali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 53978371, "answer_count": 1, "score": -1, "last_activity_date": 1546179579, "creation_date": 1546178288, "last_edit_date": 1546179325, "question_id": 53978211, "link": "https://stackoverflow.com/questions/53978211/problems-when-running-a-class-in-kotlin", "title": "Problems when running a class in kotlin", "body": "<p><a href=\"https://i.stack.imgur.com/1f3qm.png\" rel=\"nofollow noreferrer\">newS8OOPSimpleClass.kt</a><a href=\"https://i.stack.imgur.com/LJhmL.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/7QJcr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>When I run this an error will be yelled at me \"Redeclaration\".</p>\n"}, {"tags": ["android", "data-binding", "kotlin", "android-databinding"], "answers": [{"tags": [], "owner": {"reputation": 14629, "user_id": 919219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c48c5b21920970c6f19c0d9a0595c613?s=128&d=identicon&r=PG", "display_name": "Zielony", "link": "https://stackoverflow.com/users/919219/zielony"}, "is_accepted": true, "score": 2, "last_activity_date": 1546178222, "last_edit_date": 1546178222, "creation_date": 1546178083, "answer_id": 53978187, "question_id": 53978102, "link": "https://stackoverflow.com/questions/53978102/custom-view-generate-data-binding-error-when-use-it/53978187#53978187", "title": "custom view generate data binding error when use it", "body": "<p>Seems like it should work, but maybe there's a problem with setter's name/parameter resolving. The docs state that:</p>\n\n<blockquote>\n  <p>For an attribute named example, the library automatically tries to\n  find the method setExample(arg) that accepts compatible types as the\n  argument. The namespace of the attribute isn't considered, only the\n  attribute name and type are used when searching for a method.</p>\n</blockquote>\n\n<p>You can work this issue around easily with a custom binding adapter. See: <a href=\"https://developer.android.com/topic/libraries/data-binding/binding-adapters\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/data-binding/binding-adapters</a></p>\n\n<p>Like this:</p>\n\n<pre><code>@BindingAdapter(\"isChecked\")\nfun setIsChecked(view: SquareCheckBox, checked: Boolean) {\n    view.setChecked(checked)\n}\n</code></pre>\n"}], "owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "accepted_answer_id": 53978187, "answer_count": 1, "score": 0, "last_activity_date": 1546178222, "creation_date": 1546177336, "question_id": 53978102, "link": "https://stackoverflow.com/questions/53978102/custom-view-generate-data-binding-error-when-use-it", "title": "custom view generate data binding error when use it", "body": "<p>I have created a custom view as following</p>\n\n<pre><code>class SquareCheckBox @JvmOverloads constructor(\n    context: Context,\n    attrs: AttributeSet? = null,\n    defStyle: Int = 0) : ConstraintLayout (context, attrs, defStyle){\n\n    private var layout: ConstraintLayout\n    private var checkImageView : ImageView\n    private var iconImageView : ImageView\n    private var titleTextView : TextView\n\n    var isChecked : Boolean = false\n    var iconImage : Int = -1\n    var title : String = \"\"\n\n    init {\n\n        val inflater = context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        val view = inflater.inflate(R.layout.item_square_checkbox, this, true)\n\n        layout = view.layout\n        checkImageView = view.checkImageView\n        iconImageView = view.iconImageView\n        titleTextView = view.titleTextView\n\n        initAttributes(attrs)\n        applyUIChanges()\n        addAction()\n\n    }\n\n    fun initAttributes(attrs: AttributeSet?){\n\n        attrs?.let {\n            val typedArray = context.obtainStyledAttributes(it, R.styleable.square_checkbox_attributes, 0, 0)\n            isChecked = typedArray.getBoolean(R.styleable.square_checkbox_attributes_isChecked, false)\n            iconImage = typedArray.getResourceId(R.styleable.square_checkbox_attributes_iconImage, -1)\n            title = typedArray.getString(R.styleable.square_checkbox_attributes_title)\n\n            typedArray.recycle()\n        }\n    }\n\n    fun applyUIChanges () {\n\n        if (isChecked) {\n            checkImageView.visibility = View.VISIBLE\n            titleTextView.setTextColor(resources.getColor(android.R.color.black))\n            layout.setBackgroundResource(R.drawable.xml_square_checkbox_selected)\n        } else {\n            checkImageView.visibility = View.INVISIBLE\n            titleTextView.setTextColor(resources.getColor(R.color.lightGray))\n            layout.setBackgroundResource(R.drawable.xml_square_checkbox_unselected)\n        }\n\n        if (iconImage != -1) {\n            iconImageView.setImageResource(iconImage)\n        }\n\n        titleTextView.setText(title)\n    }\n\n    fun addAction () {\n\n        layout.setOnClickListener(object : View.OnClickListener {\n            override fun onClick(v: View?) {\n                isChecked = !isChecked\n                applyUIChanges()\n            }\n        })\n    }\n}\n</code></pre>\n\n<p>and this is the xml </p>\n\n<pre><code>&lt;merge xmlns:android=\"http://schemas.android.com/apk/res/android\"\n       xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n       android:layout_width=\"wrap_content\"\n       android:layout_height=\"wrap_content\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=\"@+id/layout\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@drawable/xml_square_checkbox_unselected\"&gt;\n\n        &lt;ImageView\n                android:id=\"@+id/checkImageView\"\n                android:layout_width=\"20dp\"\n                android:layout_height=\"20dp\"\n                android:src=\"@drawable/ic_ckeck\"\n                android:tint=\"@color/colorPrimary\"\n                android:visibility=\"visible\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                android:layout_marginTop=\"4dp\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                android:layout_marginEnd=\"4dp\"\n                android:layout_marginRight=\"4dp\"/&gt;\n\n        &lt;ImageView\n                android:id=\"@+id/iconImageView\"\n                android:layout_width=\"35dp\"\n                android:layout_height=\"35dp\"\n                android:layout_centerHorizontal=\"true\"\n                android:src=\"@drawable/ic_placeholder_squre\" app:layout_constraintTop_toBottomOf=\"@+id/checkImageView\"\n                app:layout_constraintBottom_toTopOf=\"@+id/titleTextView\"\n                app:layout_constraintEnd_toEndOf=\"parent\" android:layout_marginEnd=\"8dp\"\n                android:layout_marginRight=\"8dp\" app:layout_constraintStart_toStartOf=\"parent\"\n                android:layout_marginLeft=\"8dp\" android:layout_marginStart=\"8dp\"/&gt;\n\n        &lt;TextView\n                android:id=\"@+id/titleTextView\"\n                android:layout_width=\"90dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@id/iconImageView\"\n                android:ellipsize=\"end\"\n                android:gravity=\"center\"\n                android:lines=\"2\"\n                android:text=\"@string/text\"\n                android:maxLines=\"2\"\n                android:textColor=\"@android:color/black\"\n                android:textSize=\"12sp\"\n                android:layout_marginBottom=\"4dp\"\n                android:layout_marginStart=\"4dp\"\n                android:layout_marginEnd=\"4dp\"\n                android:layout_marginRight=\"4dp\"\n                android:layout_marginTop=\"8dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toBottomOf=\"@+id/iconImageView\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/merge&gt;\n</code></pre>\n\n<p>and now when i try to use my custom view in my MVVM like this</p>\n\n<pre><code>&lt;com.playground.components.SquareCheckBox\n                android:id=\"@+id/inAppMessageCheckBox\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                app:isChecked=\"@{viewModel.inAppEnabled}\"\n                app:iconImage=\"@drawable/ic_allow_inapp\"\n                app:title=\"@string/post_listing_settings_in_app_message\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintEnd_toStartOf=\"@+id/voipCheckBox\" android:layout_marginStart=\"8dp\"\n                android:layout_marginEnd=\"8dp\"&gt;\n</code></pre>\n\n<p>it gives me the following error </p>\n\n<pre><code>****/ data binding error ****msg:Cannot find the setter for attribute 'app:isChecked' with parameter type boolean on com.playground.components.SquareCheckBox. file:/Volumes/Data/Work/Amira_Playground/Playground/app/src/main/res/layout/recycler_view_basic_information_settings_item.xml loc:20:33 - 20:54 ****\\ data binding error ****\n</code></pre>\n\n<p>can anyone please advice ?</p>\n"}, {"tags": ["kotlin", "openapi", "annotation-processing", "mapstruct"], "comments": [{"owner": {"reputation": 11309, "user_id": 1115491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c0a45613a3f7614e668bdba9cb1b5e?s=128&d=identicon&r=PG&f=1", "display_name": "Filip", "link": "https://stackoverflow.com/users/1115491/filip"}, "edited": false, "score": 0, "creation_date": 1546507959, "post_id": 53977366, "comment_id": 94875112, "body": "When is the OpenApi3 running? During which part of the Maven lifecycle it is getting triggered?"}, {"owner": {"reputation": 1761, "user_id": 910411, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e2d7842c10d758778b30493314ad3e0?s=128&d=identicon&r=PG", "display_name": "Tobi", "link": "https://stackoverflow.com/users/910411/tobi"}, "reply_to_user": {"reputation": 11309, "user_id": 1115491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c0a45613a3f7614e668bdba9cb1b5e?s=128&d=identicon&r=PG&f=1", "display_name": "Filip", "link": "https://stackoverflow.com/users/1115491/filip"}, "edited": false, "score": 0, "creation_date": 1546511911, "post_id": 53977366, "comment_id": 94877175, "body": "In the logs I can see, that the OpenApi plugin is running before the kapt - it seems the sources are there but in the mapstruct execution they are not found.    I also tried adding a <code>&lt;phase&gt;generate-sources&lt;&#47;phase&gt;</code> tag to the OpenApi plugin, but as expected it did not fix the error.    My solution for now is to move the api generation to a different module and have my project depend on that module. This way everything works..."}, {"owner": {"reputation": 11309, "user_id": 1115491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c0a45613a3f7614e668bdba9cb1b5e?s=128&d=identicon&r=PG&f=1", "display_name": "Filip", "link": "https://stackoverflow.com/users/1115491/filip"}, "edited": false, "score": 0, "creation_date": 1546521708, "post_id": 53977366, "comment_id": 94882346, "body": "I&#39;m not sure exactly how the kotlin plugin works. Also check the location of the sources for the OpenApi plugin. As from what I see the sources are in your main, which means that it (kapt) would not see them. It should be in generate phase as well, to make sure that it runs before kapt"}, {"owner": {"reputation": 1761, "user_id": 910411, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e2d7842c10d758778b30493314ad3e0?s=128&d=identicon&r=PG", "display_name": "Tobi", "link": "https://stackoverflow.com/users/910411/tobi"}, "reply_to_user": {"reputation": 11309, "user_id": 1115491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c0a45613a3f7614e668bdba9cb1b5e?s=128&d=identicon&r=PG&f=1", "display_name": "Filip", "link": "https://stackoverflow.com/users/1115491/filip"}, "edited": false, "score": 0, "creation_date": 1546522205, "post_id": 53977366, "comment_id": 94882644, "body": "I also figured, that kapt is not able to find the sources and tried adding a source path directly to the <code>target&#47;generated-sources&#47;...</code> folder where the sources generated by OpenApi reside but even that did not help..."}, {"owner": {"reputation": 11309, "user_id": 1115491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c0a45613a3f7614e668bdba9cb1b5e?s=128&d=identicon&r=PG&f=1", "display_name": "Filip", "link": "https://stackoverflow.com/users/1115491/filip"}, "edited": false, "score": 0, "creation_date": 1546526064, "post_id": 53977366, "comment_id": 94884907, "body": "OK that&#39;s weird. If you can provide some reproducal repo, I might be able to look into it"}, {"owner": {"reputation": 1761, "user_id": 910411, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e2d7842c10d758778b30493314ad3e0?s=128&d=identicon&r=PG", "display_name": "Tobi", "link": "https://stackoverflow.com/users/910411/tobi"}, "reply_to_user": {"reputation": 11309, "user_id": 1115491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c0a45613a3f7614e668bdba9cb1b5e?s=128&d=identicon&r=PG&f=1", "display_name": "Filip", "link": "https://stackoverflow.com/users/1115491/filip"}, "edited": false, "score": 0, "creation_date": 1546556006, "post_id": 53977366, "comment_id": 94898189, "body": "Sorry for the late reply, was afk. I created the most simple failing case I could think of: <a href=\"https://github.com/tobisinghania/kotlin-openapi3-mapstruct-failure\" rel=\"nofollow noreferrer\">github.com/tobisinghania/kotlin-openapi3-mapstruct-failure</a> Thank you for your help!"}], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 3348858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4164226bd058e5e5e7bae00f835ca5c9?s=128&d=identicon&r=PG", "display_name": "Lautre", "link": "https://stackoverflow.com/users/3348858/lautre"}, "is_accepted": true, "score": 2, "last_activity_date": 1571414843, "creation_date": 1571414843, "answer_id": 58454548, "question_id": 53977366, "link": "https://stackoverflow.com/questions/53977366/nonexistentclass-error-when-using-mapstruct-with-kotlin-for-generated-sources/58454548#58454548", "title": "NonExistentClass error when using Mapstruct with Kotlin for generated sources", "body": "<p>The issue is due to the missing <code>&lt;sourceDir&gt;target/generated-sources/openapi/src/main/java&lt;/sourceDir&gt;</code> in the kotlin maven plugin configuration</p>\n\n<p>I've made a <a href=\"https://github.com/tobisinghania/kotlin-openapi3-mapstruct-failure/pull/1\" rel=\"nofollow noreferrer\">Pull Request</a> on your repo,  </p>\n"}], "owner": {"reputation": 1761, "user_id": 910411, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e2d7842c10d758778b30493314ad3e0?s=128&d=identicon&r=PG", "display_name": "Tobi", "link": "https://stackoverflow.com/users/910411/tobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 0, "accepted_answer_id": 58454548, "answer_count": 1, "score": 3, "last_activity_date": 1571414843, "creation_date": 1546170958, "last_edit_date": 1546556138, "question_id": 53977366, "link": "https://stackoverflow.com/questions/53977366/nonexistentclass-error-when-using-mapstruct-with-kotlin-for-generated-sources", "title": "NonExistentClass error when using Mapstruct with Kotlin for generated sources", "body": "<p>I want to use Mapstruct to map internal models to models generated by OpenApi3 codegen in a Kotlin project.  </p>\n\n<p>When I compile the project, it seems that the Mapstruct is not able to find the sources generated by the OpenApi3 codegen plugin, as the resulting implementation contains a <code>NonExistentClass</code> instead of my OpenApi model.</p>\n\n<p>My plugin configuration is</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;args&gt;\n            &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n        &lt;/args&gt;\n        &lt;compilerPlugins&gt;\n            &lt;plugin&gt;spring&lt;/plugin&gt;\n            &lt;plugin&gt;jpa&lt;/plugin&gt;\n        &lt;/compilerPlugins&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;kapt&lt;/id&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;kapt&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sourceDirs&gt;\n                    &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\n                    &lt;sourceDir&gt;src/main/java&lt;/sourceDir&gt;\n                &lt;/sourceDirs&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;annotationProcessorPath&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/annotationProcessorPath&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n\n        &lt;execution&gt;\n            &lt;id&gt;compile&lt;/id&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;test-compile&lt;/id&gt;\n            &lt;phase&gt;process-test-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;test-compile&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>It seems that the problem is related to <code>kapt</code> finding the generated Java sources.</p>\n\n<p>Is my configuration broken or am I encountering a limitation of the kotlin annotation processor?  </p>\n\n<p><strong>EDIT:</strong> A simple example to reproduce this can be found here: <a href=\"https://github.com/tobisinghania/kotlin-openapi3-mapstruct-failure\" rel=\"nofollow noreferrer\">https://github.com/tobisinghania/kotlin-openapi3-mapstruct-failure</a></p>\n"}, {"tags": ["kotlin", "jsoup"], "answers": [{"tags": [], "owner": {"reputation": 4103, "user_id": 928276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/W1qgn.jpg?s=128&g=1", "display_name": "soorapadman", "link": "https://stackoverflow.com/users/928276/soorapadman"}, "is_accepted": true, "score": 3, "last_activity_date": 1546246593, "creation_date": 1546246593, "answer_id": 53985445, "question_id": 53976528, "link": "https://stackoverflow.com/questions/53976528/how-to-select-specific-text-to-scrape/53985445#53985445", "title": "How to select specific text to scrape", "body": "<p>You are almost near to the solution .You are probably looking for calling <a href=\"http://jsoup.org/apidocs/org/jsoup/nodes/Element.html#ownText()\" rel=\"nofollow noreferrer\">ownText</a>:</p>\n\n<pre><code>String s = \"&lt;li class=\\\"media\\\"&gt; \\n\" +\n        \"     &lt;div class=\\\"media-body\\\"&gt; \\n\" +\n        \"      &lt;a href=\\\"url.html\\\"&gt; &lt;h4&gt; Some Header &lt;span class=\\\"label label-info\\\"&gt; additional Info &lt;/span&gt; &lt;/h4&gt; &lt;/a&gt; Address info\\n\" +\n        \"      &lt;br&gt; \\n\" +\n        \"     &lt;/div&gt; &lt;/li&gt;\";\n\n        Document document = Jsoup.parse(s);\n        Elements element = document.select(\"li\");\n\n        Elements elements = element.select(\"a\");\n        System.out.println(elements.select(\"h4\").first().ownText()); ;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Some Header\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5618407, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6ae8da953d68bf936876299a8bde17be?s=128&d=identicon&r=PG&f=1", "display_name": "Worthy Null", "link": "https://stackoverflow.com/users/5618407/worthy-null"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 53985445, "answer_count": 1, "score": 0, "last_activity_date": 1546246593, "creation_date": 1546162449, "last_edit_date": 1546245638, "question_id": 53976528, "link": "https://stackoverflow.com/questions/53976528/how-to-select-specific-text-to-scrape", "title": "How to select specific text to scrape", "body": "<p>I'm trying to scrape the following HTML, I want just to get the <code>Some Header</code> part and not the <code>additional info</code>.</p>\n\n<pre><code>&lt;li class=\"media\"&gt; \n     &lt;div class=\"media-body\"&gt; \n      &lt;a href=\"url.html\"&gt; &lt;h4&gt; Some Header &lt;span class=\"label label-info\"&gt; additional Info &lt;/span&gt; &lt;/h4&gt; &lt;/a&gt; Address info\n      &lt;br&gt; \n     &lt;/div&gt; &lt;/li&gt;`\n</code></pre>\n\n<p>I'm trying the following:</p>\n\n<pre><code>   val li: Elements = ul.select(\"li\") \n    val list: Elements = li.select(\"a\") \n    val headers: Elements = list.select(\"h4\")\n</code></pre>\n\n<p>`</p>\n\n<p>and then when I try to get the inner text via, <code>headers.text()</code> I'm getting both <code>Some Header</code> and <code>additional Info</code></p>\n\n<p>How can I only scrape the <code>Some Header</code> part?</p>\n"}, {"tags": ["android", "firebase", "android-studio", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "edited": false, "score": 1, "creation_date": 1546160883, "post_id": 53976390, "comment_id": 94790394, "body": "share your row.xml as text please"}, {"owner": {"reputation": 3, "user_id": 10848558, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ITzM2FkK3Tg/AAAAAAAAAAI/AAAAAAAAAA4/qGq2LXvN6F0/photo.jpg?sz=128", "display_name": "Mpuy", "link": "https://stackoverflow.com/users/10848558/mpuy"}, "reply_to_user": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "edited": false, "score": 0, "creation_date": 1546160979, "post_id": 53976390, "comment_id": 94790413, "body": "<a href=\"https://i.stack.imgur.com/A6Jxg.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/A6Jxg.png</a>"}, {"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "edited": false, "score": 1, "creation_date": 1546161089, "post_id": 53976390, "comment_id": 94790437, "body": "row.xml it&#39;s activtiy_post_list.xml share row.xml as code not image"}, {"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "edited": false, "score": 0, "creation_date": 1546161175, "post_id": 53976390, "comment_id": 94790446, "body": "please read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>"}, {"owner": {"reputation": 3, "user_id": 10848558, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ITzM2FkK3Tg/AAAAAAAAAAI/AAAAAAAAAA4/qGq2LXvN6F0/photo.jpg?sz=128", "display_name": "Mpuy", "link": "https://stackoverflow.com/users/10848558/mpuy"}, "reply_to_user": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "edited": false, "score": 0, "creation_date": 1546161228, "post_id": 53976390, "comment_id": 94790454, "body": "oke im sorry im first using stack overflow"}, {"owner": {"reputation": 1007, "user_id": 4016922, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5288061fa88e05ef349c0e25accc961b?s=128&d=identicon&r=PG", "display_name": "sam nikzad", "link": "https://stackoverflow.com/users/4016922/sam-nikzad"}, "edited": false, "score": 0, "creation_date": 1546161326, "post_id": 53976390, "comment_id": 94790472, "body": "after reading this <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> please edit your question ."}, {"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "edited": false, "score": 0, "creation_date": 1546161700, "post_id": 53976390, "comment_id": 94790527, "body": "@Mpuy no problem. but if you want your post not being close edit your image with codes"}, {"owner": {"reputation": 3, "user_id": 10848558, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ITzM2FkK3Tg/AAAAAAAAAAI/AAAAAAAAAA4/qGq2LXvN6F0/photo.jpg?sz=128", "display_name": "Mpuy", "link": "https://stackoverflow.com/users/10848558/mpuy"}, "edited": false, "score": 0, "creation_date": 1546164030, "post_id": 53976390, "comment_id": 94790964, "body": "<a href=\"https://i.stack.imgur.com/5yesK.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/5yesK.png</a>    help how to post source code"}, {"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "edited": false, "score": 0, "creation_date": 1546177556, "post_id": 53976390, "comment_id": 94793660, "body": "@Mpuy select all source codes and press Ctrl + K , if steel don,t work check you code that not contain any text or image"}], "answers": [{"tags": [], "owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "is_accepted": true, "score": 0, "last_activity_date": 1546161342, "creation_date": 1546161342, "answer_id": 53976441, "question_id": 53976390, "link": "https://stackoverflow.com/questions/53976390/android-studio-not-found-firebaserecycleradapter/53976441#53976441", "title": "Android Studio Not found FirebaseRecyclerAdapter", "body": "<p>ok change TextView with id rDescriptionTv like this </p>\n\n<p>all attribute of android in xml is lower case so just change <code>android:Text</code> to <code>android:text</code></p>\n\n<p>change</p>\n\n<pre><code> &lt;TextView\n       android:id=\"@+id/rDescriptionTv\"\n       android:layout_width=\"wrap_content\"\n       android:layout_height=\"wrap_content\"\n       android:Text=\"ini adalaha itu\"\n</code></pre>\n\n<p>To </p>\n\n<pre><code> &lt;TextView\n       android:id=\"@+id/rDescriptionTv\"\n       android:layout_width=\"wrap_content\"\n       android:layout_height=\"wrap_content\"\n       android:text=\"ini adalaha itu\"\n</code></pre>\n\n<p>after you change try to rebuild your project </p>\n"}], "owner": {"reputation": 3, "user_id": 10848558, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ITzM2FkK3Tg/AAAAAAAAAAI/AAAAAAAAAA4/qGq2LXvN6F0/photo.jpg?sz=128", "display_name": "Mpuy", "link": "https://stackoverflow.com/users/10848558/mpuy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "closed_date": 1546180684, "accepted_answer_id": 53976441, "answer_count": 1, "score": -8, "last_activity_date": 1546164010, "creation_date": 1546160813, "last_edit_date": 1546164010, "question_id": 53976390, "link": "https://stackoverflow.com/questions/53976390/android-studio-not-found-firebaserecycleradapter", "closed_reason": "Needs details or clarity", "title": "Android Studio Not found FirebaseRecyclerAdapter", "body": "<p><a href=\"https://i.stack.imgur.com/8XggC.png\" rel=\"nofollow noreferrer\">im need help not found FirebaseRecyclerAdapter </a></p>\n\n<p><a href=\"https://i.stack.imgur.com/A6Jxg.png\" rel=\"nofollow noreferrer\">xml post List</a>\n<a href=\"https://i.stack.imgur.com/ZSAMi.png\" rel=\"nofollow noreferrer\">XML ROW</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/5yesK.png\" rel=\"nofollow noreferrer\">Why error im post source code</a></p>\n"}, {"tags": ["api", "kotlin", "retrofit", "github-api"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1546171970, "post_id": 53976363, "comment_id": 94792507, "body": "How does <code>Users</code> look like? Might be an issue with <i>Gson</i>."}, {"owner": {"reputation": 177, "user_id": 10319081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JS2HZya3P_8/AAAAAAAAAAI/AAAAAAAAAAs/UR5BLyZG0gQ/photo.jpg?sz=128", "display_name": "yehezkiel yehezkiel", "link": "https://stackoverflow.com/users/10319081/yehezkiel-yehezkiel"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1546239847, "post_id": 53976363, "comment_id": 94806354, "body": "only searilazation of username, email, and id"}, {"owner": {"reputation": 1159, "user_id": 6329985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c26042e2e619f77144b8d947e3d2b671?s=128&d=identicon&r=PG&f=1", "display_name": "DawidJ", "link": "https://stackoverflow.com/users/6329985/dawidj"}, "edited": false, "score": 0, "creation_date": 1546240614, "post_id": 53976363, "comment_id": 94806524, "body": "paste log cat stacktrace here"}, {"owner": {"reputation": 177, "user_id": 10319081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JS2HZya3P_8/AAAAAAAAAAI/AAAAAAAAAAs/UR5BLyZG0gQ/photo.jpg?sz=128", "display_name": "yehezkiel yehezkiel", "link": "https://stackoverflow.com/users/10319081/yehezkiel-yehezkiel"}, "edited": false, "score": 0, "creation_date": 1546241323, "post_id": 53976363, "comment_id": 94806670, "body": "Theres no logg sir, its just returning null from here  Log.e(&quot;retrofitnya&quot;,&quot;berhasil ${data?.name}&quot;)"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1546249408, "post_id": 53976363, "comment_id": 94808902, "body": "If you state the <code>Users</code> class only contains <code>username</code> and it actually has a <code>name</code> property, this might be missconfigured. Also another question: Is <code>data</code> null as well?"}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 10319081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JS2HZya3P_8/AAAAAAAAAAI/AAAAAAAAAAs/UR5BLyZG0gQ/photo.jpg?sz=128", "display_name": "yehezkiel yehezkiel", "link": "https://stackoverflow.com/users/10319081/yehezkiel-yehezkiel"}, "edited": false, "score": 0, "creation_date": 1546250203, "post_id": 53985612, "comment_id": 94809164, "body": "You can see my users class"}, {"owner": {"reputation": 177, "user_id": 10319081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JS2HZya3P_8/AAAAAAAAAAI/AAAAAAAAAAs/UR5BLyZG0gQ/photo.jpg?sz=128", "display_name": "yehezkiel yehezkiel", "link": "https://stackoverflow.com/users/10319081/yehezkiel-yehezkiel"}, "edited": false, "score": 0, "creation_date": 1546251501, "post_id": 53985612, "comment_id": 94809619, "body": "Then, I tried your solution but its still give me null. This my log 12-31 17:17:35.193 3564-3564/com.example.yehezkiel.retrofitboilerplate E/retrofitnya: berhasil 12-31 17:17:35.194 3564-3564/com.example.yehezkiel.retrofitboilerplate E/retrofitnya: response body as string = null  one thing, I also tried to catch response code. its shows me 404"}, {"owner": {"reputation": 62, "user_id": 8918749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0769b7076fa4f29a213c92491054e7d5?s=128&d=identicon&r=PG&f=1", "display_name": "MyrmidonXIIV", "link": "https://stackoverflow.com/users/8918749/myrmidonxiiv"}, "reply_to_user": {"reputation": 177, "user_id": 10319081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JS2HZya3P_8/AAAAAAAAAAI/AAAAAAAAAAs/UR5BLyZG0gQ/photo.jpg?sz=128", "display_name": "yehezkiel yehezkiel", "link": "https://stackoverflow.com/users/10319081/yehezkiel-yehezkiel"}, "edited": false, "score": 0, "creation_date": 1546253008, "post_id": 53985612, "comment_id": 94810160, "body": "Oh...  After taking a close look to our &quot;URL&quot;, I guess that you are trying to get something from GitHub REST API instead of Html data from github [dot] com.   ~I will show you in next comment.~"}, {"owner": {"reputation": 62, "user_id": 8918749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0769b7076fa4f29a213c92491054e7d5?s=128&d=identicon&r=PG&f=1", "display_name": "MyrmidonXIIV", "link": "https://stackoverflow.com/users/8918749/myrmidonxiiv"}, "reply_to_user": {"reputation": 177, "user_id": 10319081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JS2HZya3P_8/AAAAAAAAAAI/AAAAAAAAAAs/UR5BLyZG0gQ/photo.jpg?sz=128", "display_name": "yehezkiel yehezkiel", "link": "https://stackoverflow.com/users/10319081/yehezkiel-yehezkiel"}, "edited": false, "score": 0, "creation_date": 1546253296, "post_id": 53985612, "comment_id": 94810275, "body": "Ok, there are no need to show anymore cuz you found that point :)."}], "tags": [], "owner": {"reputation": 62, "user_id": 8918749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0769b7076fa4f29a213c92491054e7d5?s=128&d=identicon&r=PG&f=1", "display_name": "MyrmidonXIIV", "link": "https://stackoverflow.com/users/8918749/myrmidonxiiv"}, "is_accepted": false, "score": 1, "last_activity_date": 1546247531, "creation_date": 1546247531, "answer_id": 53985612, "question_id": 53976363, "link": "https://stackoverflow.com/questions/53976363/retrofit-2-get-github-users-api-always-returning-null/53985612#53985612", "title": "Retrofit 2 Get Github Users API always returning null", "body": "<p>For debugging process, instead of de-serialization to <code>Users</code> object immediately after response, should we do somethings like these? :</p>\n\n<ol>\n<li>De-serialize it to plain string first.</li>\n</ol>\n\n<pre><code>interface RetrofitInstance {\n\n    @GET(\"users/{username}\")\n    fun getUser(@Path(\"username\") username: String): Call&lt;String&gt;\n\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Just log that string to show what we really get.</li>\n</ol>\n\n<pre><code>override fun onResponse(call: Call&lt;String&gt;?, response: Response&lt;String&gt;?) {\n    val responseBody = response?.body() ?: \"\"\n    Log.e(\"retrofitnya\",\"response body as string = ${responseBody}\")\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>(If we want to use it as <code>Users</code> after that) do manually de-serialize it.</li>\n</ol>\n\n<pre><code>val user: Users = Gson().fromJson(responseBody, Users::class.java)\n</code></pre>\n\n<p>If it is not too confidential, plz give us how you declare that <code>Users</code> data object like, for example, this Foo and Bar.</p>\n\n<pre><code>data class Foo(\n    @SerializedName(\"bar\") val bar: Bar?\n)\n\ndata class Bar(\n    @SerializedName(\"name\") val name: String?\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 177, "user_id": 10319081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JS2HZya3P_8/AAAAAAAAAAI/AAAAAAAAAAs/UR5BLyZG0gQ/photo.jpg?sz=128", "display_name": "yehezkiel yehezkiel", "link": "https://stackoverflow.com/users/10319081/yehezkiel-yehezkiel"}, "is_accepted": false, "score": 0, "last_activity_date": 1546252879, "creation_date": 1546252879, "answer_id": 53986480, "question_id": 53976363, "link": "https://stackoverflow.com/questions/53976363/retrofit-2-get-github-users-api-always-returning-null/53986480#53986480", "title": "Retrofit 2 Get Github Users API always returning null", "body": "<p>I solved this by myself, actually its my silly miss understanding which is that end point is wrong. </p>\n\n<pre><code>In my wrong code\n   object DataRepository {\n    fun create(): RetrofitInstance {\n        val retrofit = Retrofit.Builder()\n                .addConverterFactory(GsonConverterFactory.create())\n                .baseUrl(\"https://github.com\")\n                .build()\n        return retrofit.create(RetrofitInstance::class.java)\n    }\n}\n</code></pre>\n\n<p>That wrong end point is </p>\n\n<pre><code>https://github.com \n</code></pre>\n\n<p>The true one is </p>\n\n<pre><code>https://api.github.com/\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 10319081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JS2HZya3P_8/AAAAAAAAAAI/AAAAAAAAAAs/UR5BLyZG0gQ/photo.jpg?sz=128", "display_name": "yehezkiel yehezkiel", "link": "https://stackoverflow.com/users/10319081/yehezkiel-yehezkiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1546252879, "creation_date": 1546160426, "last_edit_date": 1546250188, "question_id": 53976363, "link": "https://stackoverflow.com/questions/53976363/retrofit-2-get-github-users-api-always-returning-null", "title": "Retrofit 2 Get Github Users API always returning null", "body": "<p>I tried to get json from the <a href=\"https://github.com/users\" rel=\"nofollow noreferrer\">https://github.com/users</a>.\nI want to show username : yehezkiell like <a href=\"https://github.com/yehezkiell\" rel=\"nofollow noreferrer\">https://github.com/yehezkiell</a>.\nThe retrofit showing success result, but its always return null. I'm new in this retrofit, please help</p>\n\n<p>this my code</p>\n\n<pre><code> val postService = DataRepository.create()\n\n    postService.getUser(\"yehezkiell\").enqueue(object : Callback&lt;Users&gt;{\n        override fun onFailure(call: Call&lt;Users&gt;?, t: Throwable?) {\n            Log.e(\"retrofitnya\",\"gagal ${t}\")\n        }\n\n        override fun onResponse(call: Call&lt;Users&gt;?, response: Response&lt;Users&gt;?) {\n            Log.e(\"retrofitnya\",\"berhasil\")\n\n            val data = response?.body()\n            Log.e(\"retrofitnya\",\"berhasil ${data?.name}\")\n\n\n        }\n\n    })\n</code></pre>\n\n<p>Retrofit Instance</p>\n\n<pre><code>interface RetrofitInstance {\n\n    @GET(\"users/{username}\")\n    fun getUser(@Path(\"username\") username:String ): Call&lt;Users&gt;\n\n}\n</code></pre>\n\n<p>Data repo</p>\n\n<pre><code>   object DataRepository {\n    fun create(): RetrofitInstance {\n        val retrofit = Retrofit.Builder()\n                .addConverterFactory(GsonConverterFactory.create())\n                .baseUrl(\"https://github.com\")\n                .build()\n        return retrofit.create(RetrofitInstance::class.java)\n    }\n}\n</code></pre>\n\n<p>Users.kt</p>\n\n<pre><code>open class Users {\n\n\n    @SerializedName(\"name\")\n    @Expose\n    open var name: String? = null\n\n    @SerializedName(\"username\")\n    @Expose\n    open var username: String? = null\n\n    @SerializedName(\"email\")\n    @Expose\n    open var email: String? = null\n}\n</code></pre>\n"}, {"tags": ["android", "xml", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 4, "last_activity_date": 1546164685, "last_edit_date": 1546164685, "creation_date": 1546164215, "answer_id": 53976712, "question_id": 53976171, "link": "https://stackoverflow.com/questions/53976171/oncreateviewholder-overrides-nothing/53976712#53976712", "title": "onCreateViewHolder overrides nothing", "body": "<p>The signature of <code>onCreateViewHolder()</code> is wrong:</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int)\n</code></pre>\n\n<p>remove <code>?</code> after <code>ViewGroup</code>:</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int)\n</code></pre>\n\n<hr>\n\n<p>From <code>RecyclerView.class</code>, the signature of <code>onCreateViewHolder()</code> <br/>\nwhich you must override is this: </p>\n\n<pre><code>@NonNull\npublic abstract VH onCreateViewHolder(@NonNull ViewGroup var1, int var2);\n</code></pre>\n\n<p>as you can see the 1st parameter <code>ViewGroup var1</code> is not nullable.</p>\n"}], "owner": {"reputation": 339, "user_id": 10848423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aD2dapUSl1c/AAAAAAAAAAI/AAAAAAAAAA0/GDk1bXvyl_8/photo.jpg?sz=128", "display_name": "Lenin Bakhara", "link": "https://stackoverflow.com/users/10848423/lenin-bakhara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1614, "favorite_count": 0, "closed_date": 1546183125, "accepted_answer_id": 53976712, "answer_count": 1, "score": 0, "last_activity_date": 1546184505, "creation_date": 1546158231, "last_edit_date": 1546184505, "question_id": 53976171, "link": "https://stackoverflow.com/questions/53976171/oncreateviewholder-overrides-nothing", "closed_reason": "Not suitable for this site", "title": "onCreateViewHolder overrides nothing", "body": "<pre><code>class MainScreenAdapter(_songDetails: ArrayList&lt;Songs&gt;, _context: Context) :\nRecyclerView.Adapter&lt;MainScreenAdapter.MyViewHolder&gt;() {\nvar songDetails: ArrayList&lt;Songs&gt;? = null\nvar mContext: Context? = null\ninit {\n    this.songDetails = _songDetails\n    this.mContext = _context\n}\noverride fun onBindViewHolder(holder: MyViewHolder, position: Int) {\nval songObject = songDetails?.get(position)\n    holder.trackTitle?.text = songObject?.songTitle\n    holder.trackArtist?.text = songObject?.artist\n    holder.contentHolder?.setOnClickListener({\n        val songPlayingFragment = SongPlayingFragment()\n        var args = Bundle()\n        args.putString(\"songArtist\", songObject?.artist)\n        args.putString(\"path\", songObject?.songData)\n        args.putString(\"songTitle\", songObject?.songTitle)\n        args.putInt(\"SongId\", songObject?.songID?.toInt() as Int)\n        args.putInt(\"songPosition\", position)\n        args.putParcelableArrayList(\"songData\", songDetails)\n        (mContext as FragmentActivity).supportFragmentManager\n            .beginTransaction()\n            .replace(R.id.details_fragment, songPlayingFragment)\n            .commit()\n    })}  override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): MyViewHolder {\n    val itemView = LayoutInflater.from(parent?.context)\n        .inflate(R.layout.row_custom_mainscreen_adapter, parent, false)\n    return MyViewHolder(itemView)\n}\n  override fun getItemCount(): Int {\n    if (songDetails == null) {\n        return 0\n    } else {\n        return (songDetails as ArrayList&lt;Songs&gt;).size\n    }}class MyViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n    var trackTitle: TextView? = null\n    var trackArtist: TextView? = null\n    var contentHolder: RelativeLayout? = null\n     init {\n        trackTitle = view.findViewById&lt;TextView&gt;(R.id.trackTitle)\n        trackArtist = view.findViewById&lt;TextView&gt;(R.id.trackArtist)\n        contentHolder = view.findViewById&lt;RelativeLayout&gt;(R.id.contentRow)\n   }}}\n</code></pre>\n\n<p>For:<br/></p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): MyViewHolder\n</code></pre>\n\n<p>why it is showing <strong>override nothing</strong>?</p>\n\n<p>also for: <br/></p>\n\n<pre><code>class MainScreenAdapter(_songDetails: ArrayList, _context: Context) \n</code></pre>\n\n<p>It says <strong>its not abstract and does not implement abstract base class members</strong></p>\n"}, {"tags": ["arraylist", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 792, "user_id": 8106859, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/SF7s2.png?s=128&g=1", "display_name": "Polymer", "link": "https://stackoverflow.com/users/8106859/polymer"}, "is_accepted": false, "score": 1, "last_activity_date": 1546154991, "creation_date": 1546154991, "answer_id": 53975940, "question_id": 53975858, "link": "https://stackoverflow.com/questions/53975858/the-implementation-of-the-arraylists/53975940#53975940", "title": "the implementation of the arraylists", "body": "<p>Because if you don't add the -1, it will iterate through 0 to the size of the list. Which means, if we have a list of size 5, it will iterate:\n<code>0, 1, 2, 3, 4, 5</code></p>\n\n<p>And obviously index 5 is not a valid index here, so we need to make sure we don't iterate too far.</p>\n"}, {"comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1546155604, "post_id": 53975968, "comment_id": 94789540, "body": "This is the more idiomatic solution."}, {"owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "edited": false, "score": 0, "creation_date": 1546175262, "post_id": 53975968, "comment_id": 94793182, "body": "Additionally there is <code>for(index in array.indices)</code>, <code>array.forEach</code> and <code>array.forEachIndexed</code>"}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 1, "last_activity_date": 1546155805, "last_edit_date": 1546155805, "creation_date": 1546155379, "answer_id": 53975968, "question_id": 53975858, "link": "https://stackoverflow.com/questions/53975858/the-implementation-of-the-arraylists/53975968#53975968", "title": "the implementation of the arraylists", "body": "<p><strong>strong text</strong>Arrays in Kotlin have <strong>zero-based</strong> index. To iterate through the whole array we need to use indexes from <strong>0</strong> to <strong>array.size()-1</strong>. Operator <code>..</code> means including both ranges, so to iterate through the whole array:</p>\n\n<pre><code>for (index in 0..arraylist.size - 1) {\n   // ...\n}\n</code></pre>\n\n<p>We can use function <code>until</code> to avoid using <code>arraylist.size-1</code>, it includes left range but excludes right range:</p>\n\n<pre><code>for (index in 0 until arraylist.size) {\n   // ...\n}\n</code></pre>\n\n<p>Also we can use shorter version of <strong>for</strong> loop just to iterate through the all elements of array:</p>\n\n<pre><code>for (item in arraylist) {\n   // ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 9602523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b77b59fbae7c33057931ff29814f7b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nourdine Dali", "link": "https://stackoverflow.com/users/9602523/nourdine-dali"}, "edited": false, "score": 0, "creation_date": 1546177675, "post_id": 53977339, "comment_id": 94793685, "body": "Thank for explaining."}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 0, "last_activity_date": 1546170614, "creation_date": 1546170614, "answer_id": 53977339, "question_id": 53975858, "link": "https://stackoverflow.com/questions/53975858/the-implementation-of-the-arraylists/53977339#53977339", "title": "the implementation of the arraylists", "body": "<p>The indices of the array are zero based. This means that in <code>arrayOf(\"A\", \"B\", \"C\")</code></p>\n\n<p><em>A</em> has index 0, <em>B</em> has index 1 and <em>C</em> has index 2. So the last valid index is the array's size - 1 which is <code>3 - 1 = 2</code></p>\n\n<p>If you don't want to worry about that you can use <code>indices</code> extension property which is an <code>IntRange</code> of all valid indices.</p>\n\n<pre><code>for(index in arraylist.indices) {\n   println(arraylist[index])\n}\n</code></pre>\n\n<p>Notice the replacment of <code>get</code> with the operator notation <code>[]</code> which makes the code more concise.</p>\n\n<p>If you don't care for the index, avoid the headache alltogether and use forEach</p>\n\n<pre><code>arraylist.forEach {\n   println(it)\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9602523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b77b59fbae7c33057931ff29814f7b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nourdine Dali", "link": "https://stackoverflow.com/users/9602523/nourdine-dali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 53977339, "answer_count": 3, "score": 2, "last_activity_date": 1546170614, "creation_date": 1546153814, "last_edit_date": 1546154841, "question_id": 53975858, "link": "https://stackoverflow.com/questions/53975858/the-implementation-of-the-arraylists", "title": "the implementation of the arraylists", "body": "<pre><code>fun main(args:Array&lt;String&gt;){\n\n    var arraylist= ArrayList&lt;String&gt;()\n    arraylist.add(\"jena\")\n    arraylist.add(\"Laya\")\n    arraylist.add(\"Hussein\")\n    arraylist.add(\"Ahmed\")\n\n    println(\"First name:\"+ arraylist.get(0))\n    arraylist.set(0,\" Laya Hussein\")\n\n    println(\" all element by object\")\n    for ( item in arraylist){\n        println(item)\n    }\n\n    println(\" all element by index\")\n    for( index in 0..arraylist.size-1){\n       println(arraylist.get(index))\n    }\n}\n</code></pre>\n\n<p>My question why we add -1 for iterating?\nit is not clicking with me.</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1546159487, "post_id": 53976237, "comment_id": 94790152, "body": "That&#39;s sad.. :("}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 2, "last_activity_date": 1546159044, "creation_date": 1546159044, "answer_id": 53976237, "question_id": 53975552, "link": "https://stackoverflow.com/questions/53975552/kotlin-generics-return-type-to-match-with-receiver/53976237#53976237", "title": "Kotlin Generics return type to match with receiver", "body": "<p>In your first case, <code>orDefault()</code> is expecting the same type (<code>T</code>) for both receiver and parameter.  So when you call it with a <code>Double</code> receiver and an <code>Int</code> parameter, the compiler infers their closest common superclass (<code>Number</code>) for the type parameter <code>T</code>.  It then returns the given <code>Int</code> directly, as you see.</p>\n\n<p>And although your second case looks more like what you want, I think it's still inferring <code>Number</code> for <code>T</code>, so the cast doesn't have any effect.</p>\n\n<p>Ultimately, I don't think you'll be able to do what you want with only one extension function.  You can't cast an <code>Int</code> to a <code>Double</code> in Kotlin (unlike Java); you'd need to call its <code>toDouble()</code> method.  And you'd need to code that up separately for each receiver type.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1546172091, "last_edit_date": 1546172091, "creation_date": 1546171286, "answer_id": 53977405, "question_id": 53975552, "link": "https://stackoverflow.com/questions/53975552/kotlin-generics-return-type-to-match-with-receiver/53977405#53977405", "title": "Kotlin Generics return type to match with receiver", "body": "<p>Generics are not the optimal solution here. Since <code>Number</code> only has 7 subclasses you are better of overloading your extension function like this:</p>\n\n<p><strong>1st way:</strong></p>\n\n<pre><code>fun Int?.orDefault(value: Int) = this ?: value\nfun Double?.orDefault(value: Double) = this ?: value\n// do the same for Float, Long, Char, Short and Byte \n</code></pre>\n\n<p>This will yield exactly the desired behaviour.</p>\n\n<pre><code>val default : Int = -1\nval orDefault = b.orDefault(default.toDouble()) \n</code></pre>\n\n<p>Note: You need to cast <code>default</code> to <code>Double</code>, since the receiver is <code>Double</code> it expects a <code>Double</code> as default. </p>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>-1.0<br>\n  double</p>\n</blockquote>\n\n<p><strong>2nd way</strong></p>\n\n<p>If you want to accept any <code>Number</code> and return it casted to the receiver's type do this:</p>\n\n<pre><code>fun Int?.orDefault(value: Number) = this ?: value.toInt()\nfun Double?.orDefault(value: Number) = this ?: value.toDouble()\n// do the same for Float, Long, Char, Short and Byte \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "is_accepted": true, "score": 1, "last_activity_date": 1546672131, "creation_date": 1546672131, "answer_id": 54049806, "question_id": 53975552, "link": "https://stackoverflow.com/questions/53975552/kotlin-generics-return-type-to-match-with-receiver/54049806#54049806", "title": "Kotlin Generics return type to match with receiver", "body": "<p>Finally, did something like this:</p>\n\n<pre><code>fun &lt;T : Number, J : Number&gt; T?.orDefault(value: J): T = this ?: (value as T)\n</code></pre>\n\n<p>This works without overriding all the number types and returns the correct type.</p>\n\n<p>The only thing is it can aceept any default value from Number type. Like for Int, it can accept the double value as the default one and return it's int representation.</p>\n"}], "owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 54049806, "answer_count": 3, "score": 2, "last_activity_date": 1546672131, "creation_date": 1546148774, "last_edit_date": 1546159630, "question_id": 53975552, "link": "https://stackoverflow.com/questions/53975552/kotlin-generics-return-type-to-match-with-receiver", "title": "Kotlin Generics return type to match with receiver", "body": "<p>I am trying to create a function that returns the default value if the receiver is null for the numbers. However, when I am checking the type of the received value, it is not matching with the receiver, instead it is matching with the default value I have passed as the argument.</p>\n\n<pre><code>fun &lt;T : Number&gt; T?.orDefault(value: T): T = this ?: value\n</code></pre>\n\n<p>Testing on above function with below code:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val b: Double? = null\n    val default : Int = -1\n    val orDefault = b.orDefault(default)\n    println(orDefault)\n    println(orDefault.javaClass.name)\n}\n</code></pre>\n\n<p>The output is something like this:</p>\n\n<pre><code>// Output:\n-1\njava.lang.Integer\n</code></pre>\n\n<p>When I tried it by introducing another <code>J</code> that extends <code>T</code>, this still fails. Running with above mentioned main method still fails.</p>\n\n<pre><code>fun &lt;T : Number, J : T&gt; T?.orDefault(value: J): T = this ?: (value as T)\n\n// Output:\n-1\njava.lang.Integer\n</code></pre>\n\n<p>In none of the cases it returns the double. What is wrong here?</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>I ended up doing something like this:</p>\n\n<pre><code>fun &lt;T : Number, J : Number&gt; T?.orDefault(value: J): T = this ?: (value as T)\n</code></pre>\n\n<p>This way, it make sure the return type is same as the receiver type. However, only downfall is for Null <code>Int</code> receiver it will accept <code>Double</code> as default and cast to <code>Int</code> to return.</p>\n"}, {"tags": ["android", "file", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "edited": false, "score": 0, "creation_date": 1546409297, "post_id": 53974627, "comment_id": 94840579, "body": "Have you added the permission ` &lt; uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt; ` in Manifest.xml?"}, {"owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "edited": false, "score": 0, "creation_date": 1546409407, "post_id": 53974627, "comment_id": 94840606, "body": "Also do writer.flush() before write.close()"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "edited": false, "score": 0, "creation_date": 1546153412, "post_id": 53975147, "comment_id": 94789246, "body": "Thanks @Omar for your comment but still I am getting the same error. I am using windows so, Do I need to change / to \\ in my path ?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1546175056, "post_id": 53975147, "comment_id": 94793145, "body": "<code>java.nio.Files</code> is a better option though; see <a href=\"http://java7fs.wikia.com/wiki/Why_File_sucks\" rel=\"nofollow noreferrer\">java7fs.wikia.com/wiki/Why_File_sucks</a>"}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": true, "score": 0, "last_activity_date": 1546141827, "creation_date": 1546141827, "answer_id": 53975147, "question_id": 53974627, "link": "https://stackoverflow.com/questions/53974627/not-able-to-write-message-into-file-using-kotlin/53975147#53975147", "title": "Not able to write Message into file using Kotlin", "body": "<p>Your code works fine, maybe it doesn't have permissions to create the file in the current directory, you can specify an absolute location you know for sure it'll work. Also as a suggestion, if you are targeting the <strong>JVM</strong>, you could utilize the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/use.html%5C\" rel=\"nofollow noreferrer\"><code>use</code></a> function.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>fun main() = runBlocking {\n    writeToFile(\"Hello, World!!!\")\n}\n\nfun writeToFile(message: String) {\n    FileWriter(\"/Users/omainegra/Desktop/message.txt\").use { writer -&gt;\n        try {\n            writer.write(message)\n        }\n        catch (ex: Exception) {\n            ex.printStackTrace()\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/vuzod.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vuzod.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also, I'd like to mention that if you only need to write an <code>String</code> to the <strong>File</strong>, it can be easily done with <code>File(\"message.txt\").writeText(message)</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 1, "accepted_answer_id": 53975147, "answer_count": 1, "score": 0, "last_activity_date": 1546141827, "creation_date": 1546132893, "question_id": 53974627, "link": "https://stackoverflow.com/questions/53974627/not-able-to-write-message-into-file-using-kotlin", "title": "Not able to write Message into file using Kotlin", "body": "<p>I am using kotlin language in my project. I used below code and code throws me no error but I am getting file not found exception in the log message.</p>\n\n<pre><code>var a=\"Hello\"\n\nWriteToFile(a)\n\n    fun WriteToFile(message: String)\n    {\n        try {\n            var writer=FileWriter(\"message.txt\")\n            writer.write(message)\n            writer.close()\n        }\n        catch (ex: Exception)\n        {\n            println(\"Exception $ex\")\n        }\n    }\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<pre><code> Caused by: java.io.FileNotFoundException: message.txt (No such file or directory)\n</code></pre>\n"}, {"tags": ["kotlin", "androidx"], "comments": [{"owner": {"reputation": 1088, "user_id": 6024687, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8914d8e39cb5baa95f5074a0ff1987aa?s=128&d=identicon&r=PG&f=1", "display_name": "jL4", "link": "https://stackoverflow.com/users/6024687/jl4"}, "edited": false, "score": 0, "creation_date": 1546189579, "post_id": 53974342, "comment_id": 94796633, "body": "How did you do it?"}, {"owner": {"reputation": 429, "user_id": 6743102, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3132616331344b85019b5edece3a2e01?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Sims", "link": "https://stackoverflow.com/users/6743102/daniel-sims"}, "reply_to_user": {"reputation": 1088, "user_id": 6024687, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8914d8e39cb5baa95f5074a0ff1987aa?s=128&d=identicon&r=PG&f=1", "display_name": "jL4", "link": "https://stackoverflow.com/users/6024687/jl4"}, "edited": false, "score": 0, "creation_date": 1546208316, "post_id": 53974342, "comment_id": 94801116, "body": "@jL4 I updated my question with the answer."}], "answers": [{"comments": [{"owner": {"reputation": 2605, "user_id": 1784299, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/acb8c985ddf8a03c218569e471cc7322?s=128&d=identicon&r=PG", "display_name": "John Shelley", "link": "https://stackoverflow.com/users/1784299/john-shelley"}, "edited": false, "score": 5, "creation_date": 1554494663, "post_id": 53975251, "comment_id": 97788496, "body": "When wiring this up to a BottomNav or DrawerLayout as the user pointed out, we don&#39;t manually call <code>navigate</code> but its called via the wiring of the NavController to the Menu in question. So this won&#39;t work."}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": false, "score": -1, "last_activity_date": 1546143567, "creation_date": 1546143567, "answer_id": 53975251, "question_id": 53974342, "link": "https://stackoverflow.com/questions/53974342/passing-arguments-in-bottomnavigationview-with-navigation-component/53975251#53975251", "title": "Passing arguments in BottomNavigationView with navigation Component", "body": "<p>The <strong>Navigation Architecture Component</strong> <a href=\"https://developer.android.com/topic/libraries/architecture/navigation/navigation-pass-data\" rel=\"nofollow noreferrer\">documentation</a> shows how to define destination arguments, in your concrete case you should create a custom <code>Parcelable</code> class (i.e. <code>Client</code>) and include it as an argument of the corresponding fragment.</p>\n\n<pre><code>&lt;fragment\n    android:id=\"@+id/clientCustomersFragment\"\n    android:name=\"com.management.engineering.alarm.alarmengineermanagement.features.client.ClientCustomersFragment\"\n    android:label=\"ClientCustomersFragment\"\n    tools:layout=\"@layout/fragment_client_customers\" &gt;\n\n    &lt;action\n        android:id=\"@+id/client_to_details\"\n        app:destination=\"@+id/clientDetailsFragment\" /&gt;\n\n&lt;/fragment&gt;\n\n&lt;fragment\n    android:id=\"@+id/clientDetailsFragment\"\n    android:name=\"com.management.engineering.alarm.alarmengineermanagement.features.client.ClientDetailsFragment\"\n    android:label=\"ClientDetailsFragment\"\n    tools:layout=\"@layout/fragment_client_details\"&gt;\n\n    &lt;argument\n        android:name=\"client\"\n        app:argType=\"com.management.engineering.alarm.alarmengineermanagement.features.client.Client\" /&gt;\n\n&lt;/fragment&gt;\n</code></pre>\n\n<p>The <code>'androidx.navigation.safeargs'</code> gradle plugin will generate the classes  <code>ClientToDetails</code> and <code>ClientDetailsFragmentArgs</code> which can be used to pass.retrieve the parameter <code>client</code>.</p>\n\n<p><strong>Source</strong></p>\n\n<pre><code>val client: Client = TODO()\nval navController: NavController = TODO()\nnavController.navigate(ClientToDetails(client))\n</code></pre>\n\n<p><strong>Destination</strong></p>\n\n<pre><code>val client =  ClientDetailsFragmentArgs.fromBundle(arguments).client\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2392, "user_id": 411520, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3e533885016585f8589423aadce297c2?s=128&d=identicon&r=PG", "display_name": "Marcus Wolschon", "link": "https://stackoverflow.com/users/411520/marcus-wolschon"}, "edited": false, "score": 3, "creation_date": 1594808490, "post_id": 53977050, "comment_id": 111254168, "body": "In &quot;9. Navigating using menus, drawers and bottom navigation&quot; I don&#39;t see ANY mention of setting argument values to the destinations that are in the bottom navigation menu."}], "tags": [], "owner": {"reputation": 100, "user_id": 5371139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hDGd1.jpg?s=128&g=1", "display_name": "GRimmjow", "link": "https://stackoverflow.com/users/5371139/grimmjow"}, "is_accepted": true, "score": -1, "last_activity_date": 1546167336, "creation_date": 1546167336, "answer_id": 53977050, "question_id": 53974342, "link": "https://stackoverflow.com/questions/53974342/passing-arguments-in-bottomnavigationview-with-navigation-component/53977050#53977050", "title": "Passing arguments in BottomNavigationView with navigation Component", "body": "<p>This codelabs exactly what you want to do :\n<a href=\"https://codelabs.developers.google.com/codelabs/android-navigation/index.html?index=..%2F..index#0\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/android-navigation/index.html?index=..%2F..index#0</a></p>\n\n<p>Docs : <a href=\"https://developer.android.com/topic/libraries/architecture/navigation/\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/navigation/</a></p>\n"}, {"tags": [], "owner": {"reputation": 814, "user_id": 4706541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37304d87d90492a92de380038d5ea506?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Stoker", "link": "https://stackoverflow.com/users/4706541/bram-stoker"}, "is_accepted": false, "score": 5, "last_activity_date": 1591874276, "creation_date": 1591874276, "answer_id": 62323170, "question_id": 53974342, "link": "https://stackoverflow.com/questions/53974342/passing-arguments-in-bottomnavigationview-with-navigation-component/62323170#62323170", "title": "Passing arguments in BottomNavigationView with navigation Component", "body": "<p>The Codelabs referred to in the accepted answer don't mention passing arguments to fragments in the BottomNavigationView.</p>\n\n<p>Override the OnNavigationItemSelectedListener set by the setupWithNavController() with a custom one:</p>\n\n<pre><code>val args = Bundle()\n\nbottomNavigationView.setupWithNavController(navController)\nbottomNavigationView.setOnNavigationItemSelectedListener { item -&gt;\n    navController.navigate(item.itemId, args)\n    true\n}\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 6743102, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3132616331344b85019b5edece3a2e01?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Sims", "link": "https://stackoverflow.com/users/6743102/daniel-sims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3708, "favorite_count": 0, "accepted_answer_id": 53977050, "answer_count": 3, "score": 9, "last_activity_date": 1591874276, "creation_date": 1546128939, "last_edit_date": 1546208288, "question_id": 53974342, "link": "https://stackoverflow.com/questions/53974342/passing-arguments-in-bottomnavigationview-with-navigation-component", "title": "Passing arguments in BottomNavigationView with navigation Component", "body": "<p>I'm currently writing an app with the new (to me) navigation component. I've got the basics down with a single navigation graph to navigate around my app, I've got a fragment with a BottomNavigationView in which has 3 seperate fragments, I've managed to update this to use the navigation component (as far as my problem) using the menu with ids that match the navigation items. My fragments which all previously used newInstance methods to pass a bundle to the onCreate are obviously now not used but I still need to pass a bundle to my fragments.</p>\n\n<p>I haven't been able to find any examples of this being done, as the fragments are implicitly created.</p>\n\n<p>My code is structured as ClientFragment which is the host fragment for the navigation drawer etc which is;</p>\n\n<pre><code>class ClientFragment : Fragment() {\n\n    private val viewModel: ClientViewModel by viewModel()\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_client, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n       viewModel.client = arguments?.getParcelable(ARG_CLIENT)!!\n\n        toolbar_client.title = viewModel.client.name\n        toolbar_client.setNavigationOnClickListener { Navigation.findNavController(view).navigateUp() }\n    }\n}\n</code></pre>\n\n<p>This class previously held on onclick listener to my fragments, with a newInstance method which tool viewModel.client.</p>\n\n<p>My fragments in the nav_graph are all similar. The first fragment;</p>\n\n<pre><code>class ClientDetailsFragment : Fragment() {\n\n    private val viewModel: ClientViewModel by viewModel()\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_client_details, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n       // viewModel.client = arguments?.getParcelable(ARG_CLIENT)!!\n\n        initClientDetails()\n    }\n\n    private fun initClientDetails() {\n//        text_client_details_name.text = viewModel.client.name\n//        text_client_details_account_number.text = viewModel.client.accountNumber\n//        text_client_details_mobile_number.text = viewModel.client.mobileNumber\n//        text_client_details_landline_number.text = viewModel.client.landlineNumber\n//        text_client_details_email.text = viewModel.client.email\n//        text_client_details_address.text = \"NOT YET IMPLEMENTED\"\n//\n//        text_client_description_body.text = viewModel.client.description\n//        text_client_system_details_body.text = viewModel.client.systemDetails\n    }\n}\n</code></pre>\n\n<p>The app crashes on the commented out line;</p>\n\n<pre><code>// viewModel.client = arguments?.getParcelable(ARG_CLIENT)!! \n</code></pre>\n\n<p>My navigation graph and menu are;</p>\n\n<p>nav graph;</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/client_nav_graph\"\n    app:startDestination=\"@id/clientDetailsFragment\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/clientCustomersFragment\"\n        android:name=\"com.management.engineering.alarm.alarmengineermanagement.features.client.ClientCustomersFragment\"\n        android:label=\"ClientCustomersFragment\"\n        tools:layout=\"@layout/fragment_client_customers\" /&gt;\n\n    &lt;fragment\n        android:id=\"@+id/clientDetailsFragment\"\n        android:name=\"com.management.engineering.alarm.alarmengineermanagement.features.client.ClientDetailsFragment\"\n        android:label=\"ClientDetailsFragment\"\n        tools:layout=\"@layout/fragment_client_details\"/&gt;\n\n    &lt;fragment\n        android:id=\"@+id/clientJobHistoryFragment\"\n        android:name=\"com.management.engineering.alarm.alarmengineermanagement.features.client.ClientJobHistoryFragment\"\n        android:label=\"ClientJobHistoryFragment\"\n        tools:layout=\"@layout/fragment_client_job_history\" /&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n\n<p>menu;</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item\n        android:id=\"@+id/clientDetailsFragment\"\n        android:icon=\"@drawable/ic_launcher_foreground\"\n        android:title=\"Details\"/&gt;\n    &lt;item\n        android:id=\"@+id/clientJobHistoryFragment\"\n        android:icon=\"@drawable/ic_launcher_foreground\"\n        android:title=\"Job History\"/&gt;\n    &lt;item\n        android:id=\"@+id/clientCustomersFragment\"\n        android:icon=\"@drawable/ic_launcher_foreground\"\n        android:title=\"Customers\"/&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>I have found that you can add arguments to the navigation graph, but have found nothing about where to put them for this specific scenario, I'm also aware of being able to manual add bundles when navigating using .navigate.</p>\n\n<p>Is there a way for me to set in my ClientFragment the arguments for each of these fragments to be</p>\n\n<pre><code>viewModel.client\n</code></pre>\n\n<p>Update:</p>\n\n<p>My argument issue was solved by using a view model that's shared between all of the fragments in the BottomNavigationView (I realised this as I was typing the issue out to my friend) and the navigation itself I added this to the ClientFragment;</p>\n\n<pre><code>bottom_nav_client.setupWithNavController(\n            Navigation.findNavController(\n                    view.findViewById&lt;View&gt;(R.id.fl_client_nav_container)\n            )\n    )\n</code></pre>\n\n<p>and my xml for fragment_client;</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout  xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=\"@+id/toolbar_client\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/colorPrimary\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:navigationIcon=\"?attr/NavigationBackIconLight\"\n        app:titleTextColor=\"@color/white\" /&gt;\n\n    &lt;fragment\n        android:id=\"@+id/fl_client_nav_container\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toTopOf=\"@id/bottom_nav_client\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/toolbar_client\"\n        app:navGraph=\"@navigation/client_nav_graph\" /&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/bottom_nav_client\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"56dp\"\n        android:background=\"?android:attr/windowBackground\"\n        app:itemBackground=\"@color/colorPrimary\"\n        app:itemIconTint=\"@drawable/bottom_nav_color\"\n        app:itemTextColor=\"@color/white\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:menu=\"@menu/client_menu\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>This is combined with the same navigation graph and menu as shown above.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 938, "user_id": 7311269, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wPxgt.png?s=128&g=1", "display_name": "Nero", "link": "https://stackoverflow.com/users/7311269/nero"}, "edited": false, "score": 1, "creation_date": 1546123178, "post_id": 53973820, "comment_id": 94785354, "body": "Can you also provide the structure of the database? I believe that data field &#39;names&#39; is somewhere further in the structure. From what I&#39;ve been taught, in order to access something at the bottom or middle of the structure, you have to start from the top."}, {"owner": {"reputation": 2206, "user_id": 7967164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fZY-EicPiTM/AAAAAAAAAAI/AAAAAAABvGI/Bb7G8qimGZY/photo.jpg?sz=128", "display_name": "Dennis Alund", "link": "https://stackoverflow.com/users/7967164/dennis-alund"}, "edited": false, "score": 1, "creation_date": 1546123578, "post_id": 53973820, "comment_id": 94785420, "body": "Please provide code sample in your question as text, not as a screenshot. And also, provide full details of your data structure to clarify what you want to do and what to expect."}], "answers": [{"tags": [], "owner": {"reputation": 2206, "user_id": 7967164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fZY-EicPiTM/AAAAAAAAAAI/AAAAAAABvGI/Bb7G8qimGZY/photo.jpg?sz=128", "display_name": "Dennis Alund", "link": "https://stackoverflow.com/users/7967164/dennis-alund"}, "is_accepted": false, "score": 3, "last_activity_date": 1546124415, "creation_date": 1546124415, "answer_id": 53973978, "question_id": 53973820, "link": "https://stackoverflow.com/questions/53973820/snapshot-value-tostring-shows-null-android-studio-firebase/53973978#53973978", "title": "snapshot.value.toString() shows null /Android Studio / Firebase", "body": "<p>There is no attribute <code>value</code> on the <code>DataSnapshot</code> object (<a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot\" rel=\"nofollow noreferrer\">see documentation</a>)\nPlease refer to the documentation on <a href=\"https://firebase.google.com/docs/database/android/start#read_from_your_database\" rel=\"nofollow noreferrer\">how to read values</a>. You should use the function <code>getValue()</code>. </p>\n\n<pre><code>myDatabase.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        String name = dataSnapshot.getValue(String.class);\n    }\n\n    @Override\n    public void onCancelled(DatabaseError error) {\n        // TODO...\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 10847662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b9bd982b8a709da487ecaa76876f311?s=128&d=identicon&r=PG&f=1", "display_name": "mert ozyilmaz", "link": "https://stackoverflow.com/users/10847662/mert-ozyilmaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546164062, "creation_date": 1546122488, "last_edit_date": 1546164062, "question_id": 53973820, "link": "https://stackoverflow.com/questions/53973820/snapshot-value-tostring-shows-null-android-studio-firebase", "title": "snapshot.value.toString() shows null /Android Studio / Firebase", "body": "<p>I`m new around here and i have a question about my little project.</p>\n\n<p>I set the database reference (mDatabase) for this activity pointed to the name child and attached an addValueEventListener() to listen to the datasnapshot from the firebase database console to fetch the name value from the database, but when i run to app , it displays like the following - <br><a href=\"https://i.stack.imgur.com/Nkawf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nkawf.png\" alt=\"error image\"></a></p>\n\n<p>Thanks you all,</p>\n\n<p>register activity</p>\n\n<pre><code>class RegisterScreenActivity : AppCompatActivity() {\n\nval mAuth = FirebaseAuth.getInstance()\nlateinit var mDatabase : DatabaseReference\n\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.register_page)\n\n    val regBtn = findViewById&lt;View&gt;(R.id.regBtn)as Button\n\n    mDatabase = FirebaseDatabase.getInstance().getReference(\"Names\")\n\n    regBtn.setOnClickListener { view -&gt; register()\n    }\n\n}\n</code></pre>\n\n<p>private fun register(){</p>\n\n<pre><code>val emailTxt = findViewById&lt;View&gt;(R.id.emailTxt) as EditText\nval nameTxt = findViewById&lt;View&gt;(R.id.nameTxt) as EditText\nval passwordTxt = findViewById&lt;View&gt;(R.id.passwordTxt) as EditText\n\nvar email = emailTxt.text.toString()\nvar name = nameTxt.text.toString()\nvar password = passwordTxt.text.toString()\n\nif (!name.isEmpty() &amp;&amp; !password.isEmpty() &amp;&amp; !email.isEmpty()){\n    mAuth.createUserWithEmailAndPassword(email,password).addOnCompleteListener(this) { task -&gt;\n        if (task.isSuccessful){\n            val user = mAuth.currentUser\n            val uid = user!!.uid\n            mDatabase.child(uid).child(\"Name\").setValue(name)\n            Toast.makeText(this,\"xxxxx\",Toast.LENGTH_LONG).show()\n            startActivity(Intent(this, LoginPage::class.java))\n\n        }else{\n            Toast.makeText(this,\"xxxx\",Toast.LENGTH_LONG).show()\n        }\n    }\n\n}else{\n    Toast.makeText(this,\"xxxxx!\",Toast.LENGTH_LONG).show()\n}\n</code></pre>\n\n<p>}</p>\n\n<p>i hold user info and after that comes login activity</p>\n\n<pre><code>class LoginPage : AppCompatActivity() {\nval mAuth = FirebaseAuth.getInstance()\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.login_page)\n\n    val loginBtn = findViewById&lt;View&gt;(R.id.loginBtn) as Button\n    val regTxt = findViewById&lt;View&gt;(R.id.regTxt)as Button\n\n    loginBtn.setOnClickListener { view -&gt; login()\n    }\n\n    regTxt.setOnClickListener { view -&gt; register()\n    }\n\n\n}\n\nprivate fun login() {\n    val emailTxt = findViewById&lt;View&gt;(R.id.emailTxt) as EditText\n    val passwordTxt = findViewById&lt;View&gt;(R.id.passwordTxt) as EditText\n\n    var email = emailTxt.text.toString()\n    var password = passwordTxt.text.toString()\n\n    if (!email.isEmpty() &amp;&amp; !password.isEmpty()) {\n\n        mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(this) { task -&gt;\n            if (task.isSuccessful) {\n                startActivity(Intent(this, Timeline::class.java))\n                Toast.makeText(this, \"xxxxx\", Toast.LENGTH_LONG).show()\n                startActivity(Intent(this,Timeline::class.java))\n            } else {\n                Toast.makeText(this, \"xxxx\",Toast.LENGTH_LONG).show()\n\n            }\n\n        }\n\n    } else {\n        Toast.makeText(this, \"xxxxx\", Toast.LENGTH_LONG).show()\n    }\n\n}\n\nprivate fun register (){\n\n\n    startActivity(Intent(this,RegisterScreenActivity::class.java))\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and if info is correct next activity timeline </p>\n\n<pre><code>class Timeline : AppCompatActivity() {\n\nlateinit var mDatabase: DatabaseReference\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.time_line)\n\n    val dspTxt = findViewById&lt;View&gt;(R.id.dispTxt) as TextView\n\n    mDatabase = FirebaseDatabase.getInstance().getReference(\"Names\")\n\n    mDatabase.addValueEventListener(object : ValueEventListener {\n        override fun onCancelled(p0: DatabaseError) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n        override fun onDataChange(snapshot: DataSnapshot) {\n             snapshot.child(\"Name\").toString()\n            dspTxt.text =\"Welcome \" + snapshot.value.toString()\n        }\n    })\n\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["kotlin", "aop", "aspectj", "kotlin-coroutines", "micrometer"], "owner": {"reputation": 1372, "user_id": 3929917, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b49fc1a1f89e276d98919474fb8d431?s=128&d=identicon&r=PG&f=1", "display_name": "silent-box", "link": "https://stackoverflow.com/users/3929917/silent-box"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 338, "favorite_count": 2, "answer_count": 0, "score": 6, "last_activity_date": 1579063732, "creation_date": 1546121509, "last_edit_date": 1579063732, "question_id": 53973729, "link": "https://stackoverflow.com/questions/53973729/aspect-around-kotlin-suspended-function", "title": "Aspect around Kotlin suspended function", "body": "<p>What is the right way to create an aspect around Kotlin suspended function?</p>\n\n<p>From my observation, Micrometer's @Timed aspect does work with them, but shows incorrect result - looks like it measures time between method invocation and suspension, not the full time spent in the method (which should include post-suspension period)</p>\n\n<p>Example of what I'd like to achieve:</p>\n\n<pre><code>@CoroutineTimer\nsuspend fun dbCall() {\n    repository.someQuery().awaitFirst() // suspension point\n}\n</code></pre>\n\n<p>In this case I'd like to know the full time spent on <code>dbCall</code> function, marked with a custom <code>@CoroutineTimer</code> annotation. Is there a way do so?</p>\n"}, {"tags": ["android", "android-fragments", "android-intent", "kotlin", "onclicklistener"], "comments": [{"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1546149225, "post_id": 53973556, "comment_id": 94788753, "body": "is fragment transaction not working for you what is the problem explain that?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "reply_to_user": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1546151282, "post_id": 53973556, "comment_id": 94788998, "body": "Its not working and getting null pointer exception."}, {"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1546157187, "post_id": 53973556, "comment_id": 94789787, "body": "Null pointer at what line share the error log"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "reply_to_user": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1546158432, "post_id": 53973556, "comment_id": 94789970, "body": "If you look into my question, I asked suggestion from people. I mentioned that I am not sure about forwarding one fragment to another."}, {"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1546158732, "post_id": 53973556, "comment_id": 94790017, "body": "<code>it need to move to another next fragment</code> this means u need fragment transaction"}], "answers": [{"comments": [{"owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "edited": false, "score": 0, "creation_date": 1546236927, "post_id": 53984139, "comment_id": 94805688, "body": "For further info you can refer to my answer on your other post <a href=\"https://stackoverflow.com/questions/53982139/fragment-onclick-listener/53983939#53983939\">HERE</a>"}], "tags": [], "owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "is_accepted": false, "score": 0, "last_activity_date": 1546236408, "creation_date": 1546236408, "answer_id": 53984139, "question_id": 53973556, "link": "https://stackoverflow.com/questions/53973556/forward-one-fragment-to-another-fragment-in-kotlin/53984139#53984139", "title": "Forward one Fragment to another Fragment in Kotlin", "body": "<p>In <strong>MainActivity</strong></p>\n\n<pre><code>fun replaceFragment(fragment: Fragment, tag: String) {\n    supportFragmentManager.beginTransaction()\n        .replace(R.id.container, fragment, tag).addToBackStack(\"\").commit()\n}\n</code></pre>\n\n<p>In <strong>FragmentTwo</strong></p>\n\n<pre><code>class FragmentTwo:Fragment(){\n\n override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n   //your  code\n}\n companion object {\n    val TAG = FragmentTwo::class.java.simpleName\n    @JvmStatic\n    fun newInstance() = FragmentTwo()\n  }\n}\n</code></pre>\n\n<p>In <strong>FragmentOne</strong></p>\n\n<pre><code>class FragmentOne:Fragment(){\n\n override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n   //your  code\n}\n\nfun onItemSelected(){\n    val frag=FragmentTwo.newInstance()\n    (activity as MainActivity).replaceFragment(frag,FragmentTwo.TAG)\n}\n companion object {\n    val TAG = FragmentOne::class.java.simpleName\n    @JvmStatic\n    fun newInstance() = FragmentOne()\n  }\n}\n</code></pre>\n\n<p><strong>In AdapterClass</strong>:</p>\n\n<pre><code>itemView.setOnClickListener{\n    frag.onItemSelected()\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3903, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1546236408, "creation_date": 1546119790, "last_edit_date": 1546130703, "question_id": 53973556, "link": "https://stackoverflow.com/questions/53973556/forward-one-fragment-to-another-fragment-in-kotlin", "title": "Forward one Fragment to another Fragment in Kotlin", "body": "<p>I have Two Fragments in my main activity. If I click one Fragment item then it need to move to another next fragment. If Its activity to activity then I can use intent and if it is related to fragment then I am not sure. Any help is appreciated.</p>\n\n<p><strong>Language Used</strong></p>\n\n<pre><code>Kotlin\n</code></pre>\n\n<p><strong>Fragments</strong></p>\n\n<pre><code>OneFragement-----&gt;SecondFragment\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<p><strong>Adapter Class</strong></p>\n\n<pre><code>itemView.setOnClickListener {\n\n            Log.d(\"Test Clicked\",\"Test Clicked\")\n        }\n</code></pre>\n\n<p><strong>FragmentOne</strong></p>\n\n<pre><code>val ft = fragmentManager!!.beginTransaction()\n    ft.replace(R.id.Two, SecondFragment(), \"NewFragmentTag\")\n    ft.commit()\n</code></pre>\n"}, {"tags": ["maven", "gradle", "intellij-idea", "kotlin", "multiplatform"], "answers": [{"tags": [], "owner": {"reputation": 1312, "user_id": 1102322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LiRfT.png?s=128&g=1", "display_name": "PiotrK", "link": "https://stackoverflow.com/users/1102322/piotrk"}, "is_accepted": true, "score": 0, "last_activity_date": 1548360363, "creation_date": 1548360363, "answer_id": 54354525, "question_id": 53973367, "link": "https://stackoverflow.com/questions/53973367/gradle-doesnt-see-kotlin-dependency-from-mavenlocal/54354525#54354525", "title": "Gradle doesn&#39;t see Kotlin dependency from mavenLocal", "body": "<p>It turned out that I had</p>\n\n<pre><code>enableFeaturePreview('GRADLE_METADATA')\n</code></pre>\n\n<p>in the library project, but didn't have it in the consumer project. Adding it and bumping Gradle wrapper version to 4.9 solved the issue.</p>\n"}], "owner": {"reputation": 1312, "user_id": 1102322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LiRfT.png?s=128&g=1", "display_name": "PiotrK", "link": "https://stackoverflow.com/users/1102322/piotrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 1, "accepted_answer_id": 54354525, "answer_count": 1, "score": 2, "last_activity_date": 1548360363, "creation_date": 1546117861, "question_id": 53973367, "link": "https://stackoverflow.com/questions/53973367/gradle-doesnt-see-kotlin-dependency-from-mavenlocal", "title": "Gradle doesn&#39;t see Kotlin dependency from mavenLocal", "body": "<p>I'm trying to extract a part of my Kotlin Gradle project to a separate repository. It's a Kotlin multiplatform project (<a href=\"https://github.com/krzema12/fsynth\" rel=\"nofollow noreferrer\">https://github.com/krzema12/fsynth</a>) and I want to extract <a href=\"https://github.com/krzema12/fsynth/tree/master/core/src/main/kotlin/it/krzeminski/testutils/plotassert\" rel=\"nofollow noreferrer\">whatever sits in 'plotassert' package</a>.</p>\n\n<p>I followed <a href=\"https://kotlinlang.org/docs/tutorials/multiplatform-library.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/multiplatform-library.html</a>. To test it locally, I published the newly extracted project to the local Maven repository by executing <code>publishToMavenLocal</code> Gradle's task, and then put <code>mavenLocal()</code> in the main project's <code>repositories</code> section (<a href=\"https://github.com/krzema12/fsynth/blob/master/build.gradle#L14\" rel=\"nofollow noreferrer\">here</a>, as the first item). In <code>core</code> project's dependencies (<a href=\"https://github.com/krzema12/fsynth/blob/master/core/build.gradle#L4\" rel=\"nofollow noreferrer\">here</a>) I put</p>\n\n<pre><code>compile \"it.krzeminski.plotassert:PlotAssert:0.0.1\"\n</code></pre>\n\n<p>The problem is that IntelliJ/Gradle don't see this dependency, also when trying to use some class from the code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xJe7x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xJe7x.png\" alt=\"not visible\"></a></p>\n\n<p>If I deliberately use some wrong dependency name, Gradle notices it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VinHB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VinHB.png\" alt=\"wrong name\"></a></p>\n\n<p>so it means that it somehow sees that the dependency exists in the local repo. I also see in <code>~/.m2/repository</code> that the local publication produced some files:</p>\n\n<pre><code>:~/.m2/repository$ tree\n.\n\u2514\u2500\u2500 it\n    \u2514\u2500\u2500 krzeminski\n        \u2514\u2500\u2500 plotassert\n            \u251c\u2500\u2500 PlotAssert\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 0.0.1\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-0.0.1.module\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 PlotAssert-0.0.1.pom\n            \u2502\u00a0\u00a0 \u2514\u2500\u2500 maven-metadata-local.xml\n            \u251c\u2500\u2500 PlotAssert-js\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 0.0.1\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-js-0.0.1.jar\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-js-0.0.1.module\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-js-0.0.1.pom\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 PlotAssert-js-0.0.1-sources.jar\n            \u2502\u00a0\u00a0 \u2514\u2500\u2500 maven-metadata-local.xml\n            \u251c\u2500\u2500 PlotAssert-jvm\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 0.0.1\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-jvm-0.0.1.jar\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-jvm-0.0.1.module\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-jvm-0.0.1.pom\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 PlotAssert-jvm-0.0.1-sources.jar\n            \u2502\u00a0\u00a0 \u2514\u2500\u2500 maven-metadata-local.xml\n            \u251c\u2500\u2500 PlotAssert-linux\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 0.0.1\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-linux-0.0.1.klib\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-linux-0.0.1.module\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-linux-0.0.1.pom\n            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 PlotAssert-linux-0.0.1-sources.jar\n            \u2502\u00a0\u00a0 \u2514\u2500\u2500 maven-metadata-local.xml\n            \u2514\u2500\u2500 PlotAssert-metadata\n                \u251c\u2500\u2500 0.0.1\n                \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-metadata-0.0.1.jar\n                \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-metadata-0.0.1.module\n                \u2502\u00a0\u00a0 \u251c\u2500\u2500 PlotAssert-metadata-0.0.1.pom\n                \u2502\u00a0\u00a0 \u2514\u2500\u2500 PlotAssert-metadata-0.0.1-sources.jar\n                \u2514\u2500\u2500 maven-metadata-local.xml\n</code></pre>\n\n<p>Isn't this behavior of Gradle or IntelliJ incorrect? My understanding is that it should list this dependency under \"Source Sets\", like it did in case of the incorrect name.</p>\n\n<p>I haven't tried yet to publish the newly extracted project to some online repo because I'd like to have a chance to iterate locally instead of publishing each change.</p>\n\n<p>Could you give me a pointer what I'm missing here?</p>\n"}, {"tags": ["arrays", "arraylist", "kotlin", "comparison", "equality"], "answers": [{"tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": true, "score": 2, "last_activity_date": 1546118239, "creation_date": 1546118239, "answer_id": 53973399, "question_id": 53973164, "link": "https://stackoverflow.com/questions/53973164/how-to-check-value-exist-inside-2d-array-with-kotlin/53973399#53973399", "title": "How to check value exist inside 2D array with Kotlin?", "body": "<p><code>obs.contains(arrayOf(2,3))</code> will only yield true if the reference of <code>arrayOf(2,3)</code> is equal to any of the references in <code>obs</code>. in other words, it's resorting to <em>reference</em> equality <strong>for arrays</strong> instead of <em>content</em> equality.</p>\n\n<p>You can get the result you require by using <em>contentEquals</em>:</p>\n\n<pre><code>println(obs.any { it.contentEquals(arrayOf(2,3)) }) // true\n</code></pre>\n\n<p>The second version prints as expected because collections are compared <em>structurally</em>.</p>\n\n<hr>\n\n<p>You may find <a href=\"https://medium.com/asos-techblog/what-you-didnt-know-about-arrays-in-kotlin-d3b20337e4\" rel=\"nofollow noreferrer\">What you didn\u2019t know about arrays in Kotlin</a> of interest.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1546124920, "creation_date": 1546124920, "answer_id": 53974033, "question_id": 53973164, "link": "https://stackoverflow.com/questions/53973164/how-to-check-value-exist-inside-2d-array-with-kotlin/53974033#53974033", "title": "How to check value exist inside 2D array with Kotlin?", "body": "<p>Let's break the loop down to an individual comparison. What basically happens is a comparison like this:</p>\n\n<pre><code>arrayOf(2, 3) == arrayOf(2, 3) // yields false\n\narrayListOf(2, 3) == arrayListOf(2, 3) // yields true\n</code></pre>\n\n<p><code>arrayOf(...)</code> creates an <code>kotlin.Array</code> and <code>arrayListOf(...)</code> an <code>kotlin.collections.ArrayList</code>.</p>\n\n<p>When you call <code>contains(...)</code> of <code>Array</code> it will check for the reference of its values, which is obviously different, since the constructor is called twice yielding a new reference each time.</p>\n\n<p>When you call <code>contains(...)</code> of <code>ArrayList</code> it will check for the contents of its values, which is indeed the same.</p>\n\n<p><strong>Side note:</strong></p>\n\n<p>If you type <code>arrayOf(2, 3) == arrayOf(2, 3)</code> in IntelliJ it will even warn you</p>\n\n<blockquote>\n  <p>Dangerous array comparison</p>\n</blockquote>\n\n<p>and the tip to fix it is to replace <code>==</code> with <code>contentEquals</code>. Since you want to do it for multiple elements in your array you have to do this for each element (at least until there is a match) for example using <code>any</code>.</p>\n\n<p>So, we arrive at what <a href=\"https://stackoverflow.com/users/5862071/aomine\">Aomine</a> already concluded:</p>\n\n<pre><code>obs.any { it.contentEquals(arrayOf(2,3)) }\n</code></pre>\n"}], "owner": {"reputation": 3707, "user_id": 8875063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UOmQ6.png?s=128&g=1", "display_name": "murgupluoglu", "link": "https://stackoverflow.com/users/8875063/murgupluoglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "accepted_answer_id": 53973399, "answer_count": 2, "score": 1, "last_activity_date": 1546125158, "creation_date": 1546115807, "last_edit_date": 1546125158, "question_id": 53973164, "link": "https://stackoverflow.com/questions/53973164/how-to-check-value-exist-inside-2d-array-with-kotlin", "title": "How to check value exist inside 2D array with Kotlin?", "body": "<p>I'm trying to find if an array exists inside a 2D array using <code>contains(...)</code> but even though it is in the array the return value is <code>false</code>. Why and how can I make it work?</p>\n\n<pre><code>val obs = arrayOf (arrayOf(5, 5),arrayOf(4, 2),arrayOf(2, 3))\nprintln(obs.contains(arrayOf(2, 3))) // false\n\nval obs1 = arrayListOf (arrayListOf(5, 5), arrayListOf(4, 2), arrayListOf(2, 3))\nprintln(obs1.contains(arrayListOf(2, 3))) // true\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1546127319, "post_id": 53972382, "comment_id": 94786109, "body": "you can&#39;t instantiate abstract classes :p"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1546128761, "post_id": 53972382, "comment_id": 94786375, "body": "Note: just because you can do this (as per Sergey&#39;s answer), doesn&#39;t mean it&#39;s a good idea.  For one thing, it&#39;s likely to confuse most people who read your code; and (as per the issue with semicolons that Sergey mentioned) it&#39;s likely to have some unexpected effects."}], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 2, "last_activity_date": 1546111534, "last_edit_date": 1546111534, "creation_date": 1546109479, "answer_id": 53972436, "question_id": 53972382, "link": "https://stackoverflow.com/questions/53972382/does-kotlin-permit-extension-methods-on-lambdas/53972436#53972436", "title": "Does Kotlin permit extension methods on lambdas?", "body": "<p>Yes it is possible. The sample code is:</p>\n\n<pre><code>// extension function on lambda with generic parameter\nfun &lt;T&gt; ((T) -&gt; Unit).my_extension_function() {\n    // ...\n}\n\n// extension function on lambda without generic parameter\nfun (() -&gt; Unit).my_extension_function() {\n    // ...\n}\n</code></pre>\n\n<p>And use it, for example, like this:</p>\n\n<pre><code>// lambda variable with generic parameter\nval lambda: (Int) -&gt; Unit = {\n    // 'it' contains Int value\n    //...\n}\n\n// lambda variable without generic parameter\nval lambda: () -&gt; Unit = {\n    //...\n}\n\nlambda.my_extension_function()\n\n// also we can call extension function on lambda without generic parameter like this\n{\n    //...\n}.my_extension_function()\n\n// or with generic parameter\n{ i: Int -&gt;\n        //...\n}.my_extension_function()\n</code></pre>\n\n<p><strong>Note:</strong> if you call extension function on lambda without creating a variable and there is a function call before it you need to add <strong>semicolon</strong> after function call, e.g.:</p>\n\n<pre><code>someFunction();\n\n{\n    //...\n}.my_extension_function()\n</code></pre>\n"}], "owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546128828, "creation_date": 1546109049, "last_edit_date": 1546128828, "question_id": 53972382, "link": "https://stackoverflow.com/questions/53972382/does-kotlin-permit-extension-methods-on-lambdas", "title": "Does Kotlin permit extension methods on lambdas?", "body": "<p>I'm trying to make a nice SAM-like API for instantiating abstract classes because I don't like object expressions. I'm trying to do something like:</p>\n\n<pre><code>{my lambda code here}.my_extension_function()\n</code></pre>\n\n<p>Is this possible with Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546111240, "post_id": 53972096, "comment_id": 94782837, "body": "What&#39;s the point of MVP pattern if the model or presenter directly communicates to <code>Context</code>? What exactly are you trying to solve with the pattern?"}, {"owner": {"reputation": 7, "user_id": 7483161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fb7Tb.jpg?s=128&g=1", "display_name": "gypsy0ne", "link": "https://stackoverflow.com/users/7483161/gypsy0ne"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546125784, "post_id": 53972096, "comment_id": 94785814, "body": "I need an access to read/save data using shared preferences. Is it better to inject shared preferences to SettingsModel?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546175290, "post_id": 53972096, "comment_id": 94793192, "body": "If you want to talk to SharedPreferences, then why are you providing Context instead of SharedPreferences? :p"}, {"owner": {"reputation": 7, "user_id": 7483161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fb7Tb.jpg?s=128&g=1", "display_name": "gypsy0ne", "link": "https://stackoverflow.com/users/7483161/gypsy0ne"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546176410, "post_id": 53972096, "comment_id": 94793421, "body": "I am going to need context for using database, shared preferences and probably something more. Yesterday I tried to inject SharedPreferences but I still don&#39;t know how to do it directly in Model not in View(Activity) :/"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546177574, "post_id": 53972096, "comment_id": 94793666, "body": "Then why not provide the Database, and the SharedPreferences? Or something that wraps the SharedPreferences so that you don&#39;t see it, technically. Also, you can use ApplicationContext for these"}, {"owner": {"reputation": 7, "user_id": 7483161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fb7Tb.jpg?s=128&g=1", "display_name": "gypsy0ne", "link": "https://stackoverflow.com/users/7483161/gypsy0ne"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546179024, "post_id": 53972096, "comment_id": 94794041, "body": "But all of these things are context dependent so how can I inject them inside Model? According to this example <a href=\"https://github.com/codepath/android_guides/wiki/Dependency-Injection-with-Dagger-2\" rel=\"nofollow noreferrer\">github.com/codepath/android_guides/wiki/&hellip;</a> in the end there is an injection in activity. Am I wrong thinking that I cannot inject these fields inside Model because ComponentBuilder has its place inside Activity?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546184449, "post_id": 53972096, "comment_id": 94795317, "body": "Pass the <code>Context</code> (<code>MyApplication as Context</code>) into the singleton component via <code>@BindsInstance</code>. Then you can use it in modules like <code>@Provides fun sharedPref(context: Context): SharedPreferences = context.getDefaultSharedPreferences()</code>. Now you can use shared pref as <code>class MyManagerImpl @Inject constructor(private val sharedPref: SharedPreferences): MyManager</code>, for which you can create a <code>@Binds abstract fun myManager(impl: MyManagerImpl)</code>. Voila, you talk to <code>MyManager</code>, but internally it uses <code>SharedPreferences</code> as part of its implementation details, resolved auto by Dagger. Good job!"}, {"owner": {"reputation": 7, "user_id": 7483161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fb7Tb.jpg?s=128&g=1", "display_name": "gypsy0ne", "link": "https://stackoverflow.com/users/7483161/gypsy0ne"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546186796, "post_id": 53972096, "comment_id": 94795900, "body": "Thank you Master for a piece of good advice!"}], "owner": {"reputation": 7, "user_id": 7483161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fb7Tb.jpg?s=128&g=1", "display_name": "gypsy0ne", "link": "https://stackoverflow.com/users/7483161/gypsy0ne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546106824, "creation_date": 1546106824, "question_id": 53972096, "link": "https://stackoverflow.com/questions/53972096/how-to-inject-context-to-model-class-in-mvp-android", "title": "How to inject context to Model class in MVP Android?", "body": "<p>I am learning how to use MVP pattern and Dagger 2. I have injected presenters to views, and models to presenters based on tutorials but I cannot figure out how to inject \"external\" things like application/context to one of my model classes.I have read something about creating ContextModule but I still don't know how to make it work with my classes.\nSo i have:</p>\n\n<p><strong>SettingsActivity</strong> - view class</p>\n\n<pre><code>class SettingsActivity : AppCompatActivity() {\n\n@Inject\nlateinit var settingsPresenter: SettingsPresenter\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_settings)\n\n    var component: SettingsComponent = DaggerSettingsComponent.create()\n    component.inject(this)\n}\n\n}\n</code></pre>\n\n<p><strong>SettingsPresenter</strong> - presenter class with mvp interfaces</p>\n\n<pre><code>class SettingsPresenter : BasePresenter&lt;SettingsContract.View&gt;, SettingsContract.Presenter{\n\n     var settings: SettingsModel\n\n    @Inject\n    constructor(settings: SettingsModel) : super() {\n        this.settings = settings\n    }\n}\n\ninterface SettingsContract {\n    interface View\n    interface Presenter\n}\n\n@Component\ninterface SettingsComponent {\n    fun inject(settingsActivity: SettingsActivity)\n}\n</code></pre>\n\n<p><strong>SettingsModel</strong> - model class</p>\n\n<pre><code>class SettingsModel {\n\n    @Inject\n    constructor() {\n    }\n//I'd like to have my context field here\n    @Inject\n    lateinit var context: Context\n}\n</code></pre>\n\n<p><strong>AppModule</strong> - class I wanted to use to provide context</p>\n\n<pre><code>@Module\nclass AppModule {\n    var context: Context\n\n    constructor(context: Context) {\n        this.context = context\n    }\n\n    @Provides\n    fun getAppContext() : Context {\n        return context.applicationContext\n    }\n}\n</code></pre>\n\n<p>How am I suppose to inject context to SettingsModel and where to start it?</p>\n"}]