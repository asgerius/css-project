[{"tags": ["java", "gradle", "kotlin", "build", "build.gradle"], "comments": [{"owner": {"reputation": 459, "user_id": 1823476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d73cbbfd5b03884ffa9b83035cc0cd80?s=128&d=identicon&r=PG", "display_name": "chrset", "link": "https://stackoverflow.com/users/1823476/chrset"}, "edited": false, "score": 0, "creation_date": 1573196788, "post_id": 55737119, "comment_id": 103810396, "body": "Using a <i>composite build</i> to get rid of the &quot;Plugin request for plugin already on the classpath must not include a version&quot; error message seems to be the right solution, for me it worked. For others having the same problem, you have to add <code>includeBuild &lt;pathName&gt;</code>to your toplevel <i>settings.gradle</i> file. Then the two builds will be completely separate and versions of plugins won&#39;t clash."}], "owner": {"reputation": 3186, "user_id": 1359765, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/93d9426daa2f5701f61125d2cfeb493d?s=128&d=identicon&r=PG", "display_name": "j will", "link": "https://stackoverflow.com/users/1359765/j-will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 415, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1555542489, "creation_date": 1555542489, "question_id": 55737119, "link": "https://stackoverflow.com/questions/55737119/gradle-errors-when-setting-up-multi-project-composite-build", "title": "Gradle Errors When Setting Up Multi Project / Composite Build", "body": "<p>I'm trying to setup a multi-project/composite gradle build for a kotlin project I'm working on and am running into some errors. I have this in my settings.gradle file: </p>\n\n<pre><code>def projects = [\n    'shared-library'\n]\n\nfor (String relativeProject : projects) {\n    File file = new File(settingsDir, \"../$relativeProject\")\n\n    if (file.exists()) {\n        include(relativeProject) \n        project(\":$relativeProject\").projectDir = new File(settingsDir, \"../$relativeProject\")\n    }\n} \n</code></pre>\n\n<p>When the project builds  I get this error:</p>\n\n<pre><code>org.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':shared-library'.\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.gradle.internal.exceptions.LocationAwareException: Build file '/home/stormblessed/Soft/ApiGateway/build.gradle' line: 3\nError resolving plugin [id: 'org.jetbrains.kotlin.jvm', version: '1.3.21']\nCaused by: org.gradle.api.GradleException: Error resolving plugin [id: 'org.jetbrains.kotlin.jvm', version: '1.3.21']\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:256)\n... 135 more\nCaused by: org.gradle.plugin.management.internal.InvalidPluginRequestException: Plugin request for plugin already on the classpath must not include a version\n</code></pre>\n\n<p>What is weird is that I have this exact same setup for a Java project and the java plugin doesn't have a version associated with so that might have something to do with it not failing for java projects.</p>\n\n<p>I read a github issue that described my same problem and the resolution suggested I use <code>includeBuild</code> instead of <code>include</code> and that worked except I now get a new error:</p>\n\n<pre><code>org.gradle.api.GradleScriptException: A problem occurred evaluating settings 'api-gateway'.\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nCaused by: org.gradle.api.UnknownProjectException: Project with path ':shared-library' could not be found.\n    at jdk.internal.reflect.GeneratedMethodAccessor426.invoke(Unknown Source)\n    at settings_eft3sns2cik3i85f9zhag0eho.run(/home/stormblessed/Soft/Personal/api-gateway/settings.gradle:13)\n</code></pre>\n\n<p>I'm not sure really how to keep my projects independent while also grouping them together for sharing dependencies and compilation. How would I go about resolving this issue?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "push-notification", "firebase-cloud-messaging"], "answers": [{"comments": [{"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1555563150, "post_id": 55738616, "comment_id": 98155888, "body": "<code>builder</code> is not an option but <code>Builder</code> is. The problem is that when I use it I get a different error saying &quot; <code>expected RemoreMessage but found RemoteMessage.Builder</code>"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1555566703, "post_id": 55738616, "comment_id": 98156931, "body": "My bad, it says so until I add <code>build</code> at the end, though I still can&#39;t send it. I am attaching my current code can you please tell me what ti is I am missing? *edit: my browser just refreshed and I saw you&#39;ve edited your answer, going through it now."}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1555567406, "post_id": 55738616, "comment_id": 98157148, "body": "I&#39;ve looked at your updated sample, and compared it to mine. I couldn&#39;t find a reason why mine wouldn&#39;t work. Would you mind taking a look at my edited question please?  Also, in your answer, I didn&#39;t quite get this part <code>for (Map.Entry&lt;String, Object&gt; entry : mapData.entrySet()) {     RMBuilder.addData(entry.getKey(), entry.getValue().toString()); }</code>"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1555568619, "post_id": 55738616, "comment_id": 98157569, "body": "OK, so I understand now that sender id is actually my project&#39;s id in Firebase which brings me back to my first question : Where do I specify what user this message is intended to?"}, {"owner": {"reputation": 4910, "user_id": 4896784, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7D2Mdu6NAdk/AAAAAAAAAAI/AAAAAAAAAQg/OgEfBdpBgXg/photo.jpg?sz=128", "display_name": "ismail alaoui", "link": "https://stackoverflow.com/users/4896784/ismail-alaoui"}, "reply_to_user": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1555589412, "post_id": 55738616, "comment_id": 98168232, "body": "no , sender id is the token destination , and the map is data builder"}], "tags": [], "owner": {"reputation": 4910, "user_id": 4896784, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7D2Mdu6NAdk/AAAAAAAAAAI/AAAAAAAAAQg/OgEfBdpBgXg/photo.jpg?sz=128", "display_name": "ismail alaoui", "link": "https://stackoverflow.com/users/4896784/ismail-alaoui"}, "is_accepted": false, "score": 0, "last_activity_date": 1555563830, "last_edit_date": 1555563830, "creation_date": 1555557120, "answer_id": 55738616, "question_id": 55736684, "link": "https://stackoverflow.com/questions/55736684/how-do-i-specify-the-recipient-token-when-using-remotemessage-of-firebase-cloud/55738616#55738616", "title": "How do I specify the recipient token when using RemoteMessage of Firebase Cloud Messaging?", "body": "<p>Set the sender id in your <code>RemoteMessage</code> builder constructor, it  should look like this : </p>\n\n<p><code>RemoteMessage.Builder(token)</code>;</p>\n\n<p><strong>edit</strong></p>\n\n<p>here is the method im using :</p>\n\n<pre><code>public void sendMessage (final String data) {\nFirebaseMessaging fm = FirebaseMessaging.getInstance();\n\nString token = FirebaseInstanceId.getInstance().getToken();\nString msgID = DigestUtils.sha1Hex(token + System.currentTimeMillis());\nString SENDER_ID = \"someID\";\n\nRemoteMessage.Builder RMBuilder =\nnew RemoteMessage.Builder(SENDER_ID + \"@gcm.googleapis.com\");\nRMBuilder.setMessageId(msgID);\n\nMap&lt;String, Object&gt; mapData = Utils.jsonToMap(data);\n\nfor (Map.Entry&lt;String, Object&gt; entry : mapData.entrySet()) {\n    RMBuilder.addData(entry.getKey(), entry.getValue().toString());\n}\n\nfm.send(RMBuilder.build());\n}\n</code></pre>\n"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 418, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576781463, "creation_date": 1555539354, "last_edit_date": 1555567222, "question_id": 55736684, "link": "https://stackoverflow.com/questions/55736684/how-do-i-specify-the-recipient-token-when-using-remotemessage-of-firebase-cloud", "title": "How do I specify the recipient token when using RemoteMessage of Firebase Cloud Messaging?", "body": "<p>I am trying to establish push notifications in my app for certain actions (\"someone liked your this\", \"someone commented on that\" etc).</p>\n\n<p>I tried to follow google's guide <a href=\"https://firebase.google.com/docs/cloud-messaging/send-message\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>But when I copied the code, this part of it</p>\n\n<pre><code>String response = FirebaseMessaging.getInstance().send(message);\n</code></pre>\n\n<p>Gave an error saying it is expecting a <code>RemoteMessage</code> and not <code>Message</code>.\nI am trying to change it to RemoteMessage, but I can't understand:</p>\n\n<ol>\n<li>Where do I specify the token of the recipient? I cant find an equivalent to <code>.setToken</code>.</li>\n<li>What to put inside the brackets of <code>RemoteMessage.Builder()</code></li>\n</ol>\n\n<p>I've been going through a lot of manuals but I can't find any that address it. Is it a new change in the API?</p>\n\n<p>The best way to help me would be an example with Kotlin of a new generated message - one that in response would trigger a new push notification for the recipient, based on the token (I'm pretty sure I can handle the receiving by myself).</p>\n\n<p>Thank you!</p>\n\n<p>Edit:</p>\n\n<p>I was able to make it fit the pattern it would be happy with, but I can't get the notifications to show up.</p>\n\n<p>This is the function I am using to send the notification:</p>\n\n<pre><code> fun sendCloudMessage(userId: String) {\n\n        val receiverRef = FirebaseDatabase.getInstance().getReference(\"/users/$userId/services/firebase-token\")\n\n        receiverRef.addListenerForSingleValueEvent(object : ValueEventListener {\n            override fun onCancelled(p0: DatabaseError) {\n\n            }\n\n            override fun onDataChange(p0: DataSnapshot) {\n\n                val registrationToken = p0.getValue(String::class.java)\n\n                Log.d(\"tokencomplete\", p0.toString())\n                Log.d(\"tokenonly\", registrationToken)\n\n                val fm = FirebaseMessaging.getInstance()\n\n                fm.send(\n                    RemoteMessage.Builder(\"$registrationToken@gcm.googleapis.com\")\n                        .setMessageId(Integer.toString(0))\n                        .addData(\"my_message\", \"Hello World\")\n                        .addData(\"my_action\", \"SAY_HELLO\")\n                        .build()\n                )\n            }\n\n        })\n\n    }\n</code></pre>\n\n<p>The <code>userId</code> the I pass to this function is the firebase uid, and using that I fetch the most recent token of the app the user is using. I've checked and that part works and I get in return the token in a format similar to this</p>\n\n<pre><code>ecK86WRoAh4:APA91bGQWSesCptPF_nzfkmgDe-zOYYo2Cj4XT_NeNTVaBxQakbvauOpkVFd7DCRIugMCfso5SadEUtyTRvrhdCiBpKxGGMRgUYNsUhA24f9IkmxjL5dWD\n</code></pre>\n\n<p>But the function itself doesn't spark any notification in the other device (I am using two devices trying to get one to spark a notification with the other).</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 3103052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1bea12a5d66ef0ac7ea4a588b8dc952d?s=128&d=identicon&r=PG&f=1", "display_name": "David Eastwick", "link": "https://stackoverflow.com/users/3103052/david-eastwick"}, "edited": false, "score": 0, "creation_date": 1555540928, "post_id": 55736903, "comment_id": 98151716, "body": "I am aware that the code can be streamlined...a lot. this was just a quick way to test"}], "tags": [], "owner": {"reputation": 47, "user_id": 3103052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1bea12a5d66ef0ac7ea4a588b8dc952d?s=128&d=identicon&r=PG&f=1", "display_name": "David Eastwick", "link": "https://stackoverflow.com/users/3103052/david-eastwick"}, "is_accepted": false, "score": 0, "last_activity_date": 1555540873, "creation_date": 1555540873, "answer_id": 55736903, "question_id": 55736301, "link": "https://stackoverflow.com/questions/55736301/how-do-i-switch-to-strings-xml-while-using-dynamic-arrays/55736903#55736903", "title": "How do I switch to strings.xml while using dynamic arrays?", "body": "<p>well i sussed it!</p>\n\n<pre><code>fun pick( list :Array&lt;String&gt;):String{\n    val tempResult = list.random()\n    //val result= keyword(tempResult)\n    return tempResult\n}\n\nfun colour():String {\n    val list = arrayOf(\"blue\",\"red\",\"green\",\"#size blue\")\n    val tresult=pick(list)\n    val result = tresult.replace(\"#size\",size())\n    return result\n}\n\nfun size():String {\n    val list = arrayOf(\"big\",\"small\",\"medium\")\n    val result=pick(list)\n    return result\n}\n\nfun example():String{\n    val list = arrayOf(\"#size #colour whale\")\n    val tresult=pick(list)\n    val result = tresult.replace(\"#size\",size()).replace(\"#colour\",colour())\n    return result\n}\n</code></pre>\n\n<p>since not every generator will use every generator I can choose to be specific... the answer suddenly came to me as I often use a string in an array to replace multiple calls of the same function.... for example if an array had multiple different items each with a chance of a colour but only one item would be picked I chose a random colour assigned it to a string and then reference it in each item that needed a colour...no sense randomly picking multiple colours if just one would be used (may be bad at explaining)</p>\n"}], "owner": {"reputation": 47, "user_id": 3103052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1bea12a5d66ef0ac7ea4a588b8dc952d?s=128&d=identicon&r=PG&f=1", "display_name": "David Eastwick", "link": "https://stackoverflow.com/users/3103052/david-eastwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555540873, "creation_date": 1555536886, "last_edit_date": 1555538152, "question_id": 55736301, "link": "https://stackoverflow.com/questions/55736301/how-do-i-switch-to-strings-xml-while-using-dynamic-arrays", "title": "How do I switch to strings.xml while using dynamic arrays?", "body": "<p>I want to switch to strings.xml to allow for multiple languages.\nI know how to load a string array from the strings.xml and for simple arrays that is not a problem, but most of my arrays are not simple! The whole idea is to spider them.</p>\n\n<pre><code>fun pick( list :Array&lt;String&gt;):String{\n    return list.random()\n}\n\nfun colour():String {\n    val list = arrayOf(\"blue\",\"red\",\"green\",size()+\"\")\n    return pick(list)\n}\n\nfun size():String {\n    val list = arrayOf(\"big\",\"small\",\"medium\")\n    return pick(list)\n}\n</code></pre>\n\n<p>above is a quick example \nthe size function would work fine from strings.xml but the colour function would not as part of the array is dynamically chosen when the function is hit</p>\n\n<p>The reason it all goes through pick() is to allow me to add modifiers to the strings (changing the colour, counting how many times the function is called etc) </p>\n\n<p>Some of the arrays in my actual code (which is c# at the moment) have 10 or 20 dynamic entries </p>\n\n<p>So how do we use strings.xml for this? is there a way to perhaps add keywords I can then change in pick()....though then pick would essentially be calling itself? </p>\n\n<p>I have been stuck on this for days maybe I am missing something obvious?</p>\n\n<p>EDIT</p>\n\n<p>Tried using keywords but it causes a stack overflow, example code:</p>\n\n<pre><code>fun keyword(input:String):String{\n    val result = input.replace(\n        \"#colour\", colour()\n    ).replace(\n        \"#size\", size()\n    )\n    return result\n}\n\nfun pick( list :Array&lt;String&gt;):String{\n    val tempResult = list.random()\n    val result= keyword(tempResult)\n    return result\n}\n\nfun colour():String {\n    val list = arrayOf(\"blue\",\"red\",\"green\",\"#size blue\")\n    return pick(list)\n}\n\nfun size():String {\n    val list = arrayOf(\"big\",\"small\",\"medium\")\n    return pick(list)\n}\n\nfun example():String{\n    val list = arrayOf(\"#size #colour whale\")\n    return pick(list)\n}\n</code></pre>\n\n<p>this was called with\n    val result = example()\n(well essentially that, the calling is being done async so that wen the arrays get large they will not hang up the program, tested with out the keywords and it works fine)</p>\n\n<p>error is:</p>\n\n<blockquote>\n  <p>2019-04-17 22:48:41.433 9010-9665/com.mrgreaper2004.dmslittlehelper\n  W/System.err: java.lang.StackOverflowError: stack size 1041KB\n  2019-04-17 22:48:41.436 9010-9665/com.mrgreaper2004.dmslittlehelper\n  W/System.err:     at java.util.Random.next(Random.java:202) 2019-04-17\n  22:48:41.436 9010-9665/com.mrgreaper2004.dmslittlehelper W/System.err:\n  at java.util.Random.nextInt(Random.java:390) 2019-04-17 22:48:41.436\n  9010-9665/com.mrgreaper2004.dmslittlehelper W/System.err:     at\n  kotlin.random.AbstractPlatformRandom.nextInt(PlatformRandom.kt:45)\n  2019-04-17 22:48:41.436 9010-9665/com.mrgreaper2004.dmslittlehelper\n  W/System.err:     at\n  kotlin.random.Random$Default.nextInt(Random.kt:246) 2019-04-17\n  22:48:41.436 9010-9665/com.mrgreaper2004.dmslittlehelper W/System.err:\n  at kotlin.collections.ArraysKt___ArraysKt.random(_Arrays.kt:2212)\n  2019-04-17 22:48:41.437 9010-9665/com.mrgreaper2004.dmslittlehelper\n  W/System.err:     at\n  com.mrgreaper2004.dmslittlehelper.GeneratorFragment.pick(GeneratorFragment.kt:129)\n  2019-04-17 22:48:41.437 9010-9665/com.mrgreaper2004.dmslittlehelper\n  W/System.err:     at\n  com.mrgreaper2004.dmslittlehelper.GeneratorFragment.colour(GeneratorFragment.kt:136) 2019-04-17 22:48:41.437 9010-9665/com.mrgreaper2004.dmslittlehelper\n  W/System.err:     at\n  com.mrgreaper2004.dmslittlehelper.GeneratorFragment.keyword(GeneratorFragment.kt:121)</p>\n</blockquote>\n\n<p>the last parts of the error just repeat</p>\n"}, {"tags": ["android", "kotlin", "android-asynctask", "android-viewholder"], "comments": [{"owner": {"reputation": 2606, "user_id": 3940133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ndv13.jpg?s=128&g=1", "display_name": "HendraWD", "link": "https://stackoverflow.com/users/3940133/hendrawd"}, "edited": false, "score": 0, "creation_date": 1555541978, "post_id": 55736132, "comment_id": 98151999, "body": "Have many data you load at once? Have you tried using paging?"}], "answers": [{"comments": [{"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1555587546, "post_id": 55740698, "comment_id": 98167190, "body": "I&#39;m sorry, I forgot to show this code too, i just edited my question. I&#39;m getting keys inside this method callCip directly on cipher.init, calling getSecrekKey() as an parameter. I&#39;m not generating a lot of keys because I&#39;m checking if it already exists on generateKey() method"}, {"owner": {"reputation": 1244, "user_id": 1296641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwXEQ.png?s=128&g=1", "display_name": "Laurence", "link": "https://stackoverflow.com/users/1296641/laurence"}, "reply_to_user": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1555588225, "post_id": 55740698, "comment_id": 98167546, "body": "Ya, my advice remains the same... I think that those methods are not synchronized on the same lock, and there could easily be race conditions where state is inconsistent. I would put both of these methods on a kotlin object/singleton, and cache keys there. To confirm, call generateKey before you do any of your async parallel work, and then try."}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1555592457, "post_id": 55740698, "comment_id": 98170024, "body": "Thank you very much Laurence, i did the changes and didn&#39;t got any exceptions yet, really thanks!! Do you mind help me in one more thing? My RecyclerView that shows these data keeps freezing especially when I try to scroll down/up faster, i thougt that async decrypting inside viewholder would solve the problem, any thoughts to make my recyclerview scroll smothier?"}, {"owner": {"reputation": 1244, "user_id": 1296641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwXEQ.png?s=128&g=1", "display_name": "Laurence", "link": "https://stackoverflow.com/users/1296641/laurence"}, "reply_to_user": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1555593716, "post_id": 55740698, "comment_id": 98170738, "body": "Hey @Shermano - no problem. I am afraid I am not much of an Android dev tbh :D mainly working python, kotlin backends and vuejs :D"}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1555594121, "post_id": 55740698, "comment_id": 98170959, "body": "no problem @Laurence, really thanks for helping me!!"}, {"owner": {"reputation": 1244, "user_id": 1296641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwXEQ.png?s=128&g=1", "display_name": "Laurence", "link": "https://stackoverflow.com/users/1296641/laurence"}, "reply_to_user": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1555598514, "post_id": 55740698, "comment_id": 98173705, "body": "@Shermano check that you are using <code>Dispatchers.IO</code> for your async loads of data. Not the UI dispatcher/thread."}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1555604055, "post_id": 55740698, "comment_id": 98176757, "body": "i don&#39;t know if I understood but I&#39;m currently using Anko lib for async call! I just found the solution, the problem is that i was calling getKey inside the viewholder, so it was slowing down loading all stuff. Now I&#39;m passing the key as a parameter adapter instead!"}], "tags": [], "owner": {"reputation": 1244, "user_id": 1296641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwXEQ.png?s=128&g=1", "display_name": "Laurence", "link": "https://stackoverflow.com/users/1296641/laurence"}, "is_accepted": true, "score": 1, "last_activity_date": 1555570900, "creation_date": 1555570900, "answer_id": 55740698, "question_id": 55736132, "link": "https://stackoverflow.com/questions/55736132/async-loading-on-recyclerview-viewholder-not-working-properly/55740698#55740698", "title": "Async loading on recyclerview viewholder not working properly", "body": "<p>Here are the problems I see:</p>\n\n<p>I am not sure what the implementation is of <code>generateKey()</code> but if it does what it says on the tin then don't generate your key every time you encrypt. As I believe you are doing here:</p>\n\n<pre><code>private fun encript(plain: String): String? {\n    return try {\n        generateKey() // &lt;- why are you doing this every time? are you storing a unique key with everything you encrypt?\n        encData(plain)\n    } catch (e: Throwable) {\n        if (!BuildConfig.DEBUG) {\n            Crashlytics.logException(e)\n        }\n        null\n    }\n}\n</code></pre>\n\n<p>This will mean you have a new key every time you encrypt something? Rather, this should be initialized and ready before you try to encrypt/decrypt.</p>\n\n<p>And, if this is the only place you do generate your key, then how do you know that when you call this:</p>\n\n<pre><code>private fun callCip(cipText: ByteArray, iv: ByteArray): String {\n    val cipher = Cipher.getInstance(\"AES/GCM/NoPadding\")\n    cipher.init(Cipher.DECRYPT_MODE, getSecretKey(), GCMParameterSpec(128, iv)) // &lt;- Are you sure you have called encrypt before callin this?\n    val plainText = cipher.doFinal(cipText)\n    return String(plainText)\n}\n</code></pre>\n\n<p>That you have a key generated to be fetched? Pulling out <code>generateKey()</code> and making sure you have called it before you do any encrypt/decrypt actions should fix your problem I think.</p>\n"}], "owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 55740698, "answer_count": 1, "score": 0, "last_activity_date": 1555587491, "creation_date": 1555536008, "last_edit_date": 1555587491, "question_id": 55736132, "link": "https://stackoverflow.com/questions/55736132/async-loading-on-recyclerview-viewholder-not-working-properly", "title": "Async loading on recyclerview viewholder not working properly", "body": "<p>I'm developing an app that shows sensible information so I have to \nencrypt all informations stored on Room Database.\nAfter a lot of research, I choosed to encypt using AES, generating a random key\nand storing on KeyStore (minSdk: 24 btw).</p>\n\n<pre><code>private fun encript(plain: String): String? {\n    return try {\n        generateKey()\n        encData(plain)\n    } catch (e: Throwable) {\n        if (!BuildConfig.DEBUG){\n            Crashlytics.logException(e)\n        }\n        null\n    }\n}\n\nprivate fun encData(plain: String): String? {\n    val sKey = getSecretKey()\n    iv = ByteArray(12)\n    secRng = SecureRandom()\n    secRng.nextBytes(iv)\n    val cipher = Cipher.getInstance(AES_MODE)\n    val parameterSpec = GCMParameterSpec(128, iv)\n    cipher.init(Cipher.ENCRYPT_MODE, sKey, parameterSpec)\n    cipText = cipher.doFinal(plain.toByteArray())\n    return encBuffer()\n}\n\nprivate fun encBuffer(): String? {\n    val byteBuffer = ByteBuffer.allocate(4 + iv.size + cipText.size)\n    byteBuffer.putInt(iv.size)\n    byteBuffer.put(iv)\n    byteBuffer.put(cipText)\n    val cipherMessage = byteBuffer.array()\n    //clean()\n    return Base64.encodeToString(cipherMessage, Base64.DEFAULT)\n}\n</code></pre>\n\n<p>So i must show all these informations on a list, so Im decrypting all information\non viewholder. the problem is that is too slow when it shows a lot of items, \nso i decided to try an async descrypt inside the viewholder and for my surprise\ni got a lot of \"Unitialized keystore\" exception, letting y data encrypted,\nit's weird because when i scroll down and up, some viewholders decrypt successfull\nand others not, it's pretty random, an it seems that viewholder try to decrypt more \nthan once. PS: I can't cache decrypted data on SharedPrerences for security reasons</p>\n\n<pre><code>fun decription(encStr: String): String? {\n    return try {\n        dec(encStr)\n    } catch (e: Throwable) {\n        Log.d(\"cripto\", \"Here, Trowing Unitialized Keystore\")\n        if (!BuildConfig.DEBUG){\n            Crashlytics.logException(e)\n        }\n        null\n    }\n}\n\nprivate fun dec(encStr: String): String {\n    val byteBuffer = ByteBuffer.wrap(Base64.decode(encStr, Base64.DEFAULT))\n    val ivLength = byteBuffer.int\n    if (ivLength &lt; 12 || ivLength &gt;= 16) { // check input parameter\n        throw IllegalArgumentException(\"invalid iv length\")\n    }\n    val iv = ByteArray(ivLength)\n    byteBuffer.get(iv)\n    val cipherText = ByteArray(byteBuffer.remaining())\n    byteBuffer.get(cipherText)\n    return callCip(cipherText, iv)\n\n}\n\nprivate fun callCip(cipText: ByteArray, iv: ByteArray): String {\n    val cipher = Cipher.getInstance(\"AES/GCM/NoPadding\")\n    cipher.init(Cipher.DECRYPT_MODE, getSecretKey(), GCMParameterSpec(128, iv))\n    val plainText = cipher.doFinal(cipText)\n    return String(plainText)\n}\n</code></pre>\n\n<p>And my viewholder code:</p>\n\n<pre><code>    doAsync {\n\n            var name = \"\"\n            var lname = \"\"\n            var patRecord = \"\"\n\n            if (value?.patient != null){\n                name = PatSecHelper.nToPat(value.patient?.name?.trim() ?: \"\")\n                lname = PatSecHelper.nToPat(value.patient?.lastName?.trim() ?: \"\")\n                patRecord = PatSecHelper.nToPat(value.patient?.patientRecord?.trim() ?: \"\")\n\n            }\n\n            onComplete {\n                if (value?.patient == null){\n                    view.textViewPatientId.visibility = View.GONE\n                }else{\n                    if (name == \"\" || lname == \"\") {\n                        view.textViewPatient.text = \"Error...\"\n                    }else{\n                        view.textViewPatient.text = \"$name $lname\"\n                    }\n                    if (patRecord == \"\"){\n                        view.textViewPatientId.text = \"Error...\"\n                    }else{\n                        view.textViewPatientId.text = patRecord\n                    }\n\n                }\n\n            }\n        }\n</code></pre>\n\n<p>**EDIT:</p>\n\n<p>Here is the code that i'm using to genarete and get keys</p>\n\n<pre><code>    private fun generateKey(){\n    keyStore = KeyStore.getInstance(AndroidKeyStore)\n    keyStore.load(null)\n\n    if (!keyStore.containsAlias(KEY_ALIAS)) {\n        val keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, AndroidKeyStore)\n        keyGenerator.init(\n                KeyGenParameterSpec.Builder(KEY_ALIAS,\n                        KeyProperties.PURPOSE_ENCRYPT or KeyProperties.PURPOSE_DECRYPT)\n                        .setBlockModes(KeyProperties.BLOCK_MODE_GCM).setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\n                        .setRandomizedEncryptionRequired(false)\n                        .build())\n        keyGenerator.generateKey()\n    }\n}\n\n@Throws(Exception::class)\nprivate fun getSecretKey(): java.security.Key {\n    keyStore = KeyStore.getInstance(AndroidKeyStore)\n    keyStore.load(null)\n    return keyStore.getKey(KEY_ALIAS, null)\n}\n</code></pre>\n"}, {"tags": ["kotlin", "ktor"], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 5066424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7210868eead6b6ee2b112738721da988?s=128&d=identicon&r=PG&f=1", "display_name": "Henrique", "link": "https://stackoverflow.com/users/5066424/henrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1555535247, "creation_date": 1555535247, "answer_id": 55735984, "question_id": 55735909, "link": "https://stackoverflow.com/questions/55735909/why-is-lazy-variable-initialised-multiple-times-per-thread/55735984#55735984", "title": "Why is lazy variable initialised multiple times per thread", "body": "<p>Well, I think I just answered my own question...</p>\n\n<p>The main module that access the dataSource object is a ktor server that was configured for hot reload..\nAs soon as I disabled the hotreload and tried again, the variable was not initialized twice.</p>\n\n<p>I guess ktor is doing some stuff with the classloader for hot reload that causes this thing to happen.</p>\n"}], "owner": {"reputation": 43, "user_id": 5066424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7210868eead6b6ee2b112738721da988?s=128&d=identicon&r=PG&f=1", "display_name": "Henrique", "link": "https://stackoverflow.com/users/5066424/henrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1555535491, "creation_date": 1555534921, "last_edit_date": 1555535491, "question_id": 55735909, "link": "https://stackoverflow.com/questions/55735909/why-is-lazy-variable-initialised-multiple-times-per-thread", "title": "Why is lazy variable initialised multiple times per thread", "body": "<p>I am working on some code where I create a HikariDataSource as a by lazy value. I did apply the mode LazyThreadSafetyMode.SYNCHRONIZED, so I am confused as to why the initialization is done twice when I spin up a new thread that reads that value</p>\n\n<pre><code>// in module database\nval dataSource: HikariDataSource by lazy(LazyThreadSafetyMode.SYNCHRONIZED) {\n    HikariDataSource(dataSourceConfig(databaseConfig))\n}\n\nfun initDatabase() {\n  dataSource.connect().let { //do stuff}\n}\n\n// in main module\nfun main() {\n  initDatabase()\n  thread {\n    dataSource.connect().let { // initializes a new data source... }\n  }\n}\n</code></pre>\n\n<p>I would expect the HikariDataSource to be initialized once, but for some reason its called twice...\nI think the fact that I am exposing that variable to another gradle project might affect it, but not sure why..</p>\n"}, {"tags": ["android", "kotlin", "mpandroidchart"], "comments": [{"owner": {"reputation": 21, "user_id": 10750973, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y46PASv0yf8/AAAAAAAAAAI/AAAAAAAAAWY/t8JFvXQzzho/photo.jpg?sz=128", "display_name": "Mateus Fiereck", "link": "https://stackoverflow.com/users/10750973/mateus-fiereck"}, "edited": false, "score": 0, "creation_date": 1555535721, "post_id": 55735501, "comment_id": 98150218, "body": "SOLVED:  Just change &quot;implementation&quot; to &quot;api&quot; in import. api &quot;com.github.PhilJay:MPAndroidChart:v${versions.mpandroidchar&zwnj;&#8203;t}&quot;"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1555580947, "post_id": 55735501, "comment_id": 98163679, "body": "Hi. Glad you sorted this out. Please answer your own question and accept it. This will help others and close this issue, which is solved now. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10750973, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y46PASv0yf8/AAAAAAAAAAI/AAAAAAAAAWY/t8JFvXQzzho/photo.jpg?sz=128", "display_name": "Mateus Fiereck", "link": "https://stackoverflow.com/users/10750973/mateus-fiereck"}, "is_accepted": true, "score": 0, "last_activity_date": 1555590195, "creation_date": 1555590195, "answer_id": 55745969, "question_id": 55735501, "link": "https://stackoverflow.com/questions/55735501/can-i-extend-piechart-in-mpandroidchart/55745969#55745969", "title": "Can I extend PieChart in MPAndroidChart?", "body": "<p>SOLVED: \nJust change \"implementation\" to \"api\" in import. api \"<strong>com</strong>.github.PhilJay:MPAndroidChart:v${versions.mpandroidchart}\"</p>\n"}], "owner": {"reputation": 21, "user_id": 10750973, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y46PASv0yf8/AAAAAAAAAAI/AAAAAAAAAWY/t8JFvXQzzho/photo.jpg?sz=128", "display_name": "Mateus Fiereck", "link": "https://stackoverflow.com/users/10750973/mateus-fiereck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 55745969, "answer_count": 1, "score": 2, "last_activity_date": 1555590195, "creation_date": 1555532893, "question_id": 55735501, "link": "https://stackoverflow.com/questions/55735501/can-i-extend-piechart-in-mpandroidchart", "title": "Can I extend PieChart in MPAndroidChart?", "body": "<p>The idea is to have a class that extends PieChart, to use only it as abstract.</p>\n\n<p>This class is in a separate project, for components used in another app.</p>\n\n<p>I'm trying to do this:</p>\n\n<pre><code>class DiamondPieChart @JvmOverloads constructor(\n        context: Context,\n        attrs: AttributeSet? = null,\n        defStyleAttr: Int = 0\n) : PieChart(context, attrs, defStyleAttr) {\n\n    ...\n\n}\n</code></pre>\n\n<p>To be able to use in another module only this in the layout:</p>\n\n<pre><code>&lt;DiamondPieChart\n    android:layout_width=\"300dp\"\n    android:layout_height=\"300dp\" /&gt;\n</code></pre>\n\n<p>Error return:</p>\n\n<p>Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\nDiamondPieChart, unresolved supertypes: com.github.mikephil.charting.charts.PieChart</p>\n"}, {"tags": ["kotlin", "delegation"], "comments": [{"owner": {"reputation": 18378, "user_id": 409279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6mDB9.png?s=128&g=1", "display_name": "Dan Lugg", "link": "https://stackoverflow.com/users/409279/dan-lugg"}, "edited": false, "score": 0, "creation_date": 1573673514, "post_id": 55735489, "comment_id": 103962310, "body": "I always appreciate downvotes as an opportunity to improve, but leave a comment?"}], "answers": [{"tags": [], "owner": {"reputation": 812, "user_id": 8572174, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x3-QYhk4xzE/AAAAAAAAAAI/AAAAAAAAAV0/9t5osXfRmAo/photo.jpg?sz=128", "display_name": "glisu", "link": "https://stackoverflow.com/users/8572174/glisu"}, "is_accepted": true, "score": 2, "last_activity_date": 1555538308, "creation_date": 1555538308, "answer_id": 55736536, "question_id": 55735489, "link": "https://stackoverflow.com/questions/55735489/accessing-the-delegating-receiver-with-by-delegation-in-kotlin/55736536#55736536", "title": "Accessing the delegating receiver with by delegation in Kotlin", "body": "<p>No it can't, delegate objects are just objects they don't even know if they're going to be used to implement an interface through delegation. However, you can consider using <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">delegated properties</a> which are used to delegate properties setters and getters implementations:</p>\n\n<pre><code>class Example {\n    var p: String by Delegate()\n}\n\nclass Delegate {\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String {\n        return \"$thisRef, thank you for delegating '${property.name}' to me!\"\n    }\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) {\n        println(\"$value has been assigned to '${property.name}' in $thisRef.\")\n    }\n}\n</code></pre>\n\n<p>then you can use</p>\n\n<pre><code>val e = Example()\nprintln(e.p)\n</code></pre>\n\n<p>which prints:</p>\n\n<pre><code>Example@33a17727, thank you for delegating \u2018p\u2019 to me!\n</code></pre>\n\n<p>As you can see, in your delegate implementation you can use <code>thisRef</code> which is a reference to the object whose property is been delegated. </p>\n"}], "owner": {"reputation": 18378, "user_id": 409279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6mDB9.png?s=128&g=1", "display_name": "Dan Lugg", "link": "https://stackoverflow.com/users/409279/dan-lugg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 55736536, "answer_count": 1, "score": 0, "last_activity_date": 1555538308, "creation_date": 1555532853, "last_edit_date": 1555533172, "question_id": 55735489, "link": "https://stackoverflow.com/questions/55735489/accessing-the-delegating-receiver-with-by-delegation-in-kotlin", "title": "Accessing the delegating receiver with by delegation in Kotlin", "body": "<p>Given an interface:</p>\n\n<pre><code>interface Countable\n{\n    val count: Int\n}\n</code></pre>\n\n<p>And an implementation/factory:</p>\n\n<pre><code>fun countable(counter: () -&gt; Int): Countable = object : Countable\n{\n    override val count: Int\n        get() = counter()\n}\n</code></pre>\n\n<p>I can implement this using the class <code>by</code> delegation feature:</p>\n\n<pre><code>class CountableThing : Countable by countable({ 123 })\n</code></pre>\n\n<p>So that this snippet predictably outputs <code>123</code>:</p>\n\n<pre><code>fun main()\n{\n    val countableThing = CountableThing()\n    println(countableThing.count)\n}\n</code></pre>\n\n<p>My question is, in the context of the delegate class, is there any way to get an instance of the delegating receiver?</p>\n\n<p>In other words, can my delegate <code>Countable</code> implementation (the anonymous object defined in <code>fun countable</code>) see/access the receiver instance of the <code>CountableThing</code> class?</p>\n\n<p>I tried this:</p>\n\n<pre><code>fun &lt;T&gt; countable(receiver: T, counter: () -&gt; Int): Countable = object : Countable\n{\n    // ...\n}\n\nclass CountableThing : Countable by countable&lt;CountableThing&gt;(this, { 123 })\n</code></pre>\n\n<p>But that's not valid, because expectedly:</p>\n\n<pre><code>class CountableThing : Countable by countable&lt;CountableThing&gt;(this, { 123 })\n                                                             /^^^^\n                        'this' is not defined in this context\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin", "lambda"], "answers": [{"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 2, "creation_date": 1555542129, "post_id": 55735586, "comment_id": 98152029, "body": "While the kotlinlang link is interesting, most of the discussion was 5 years ago, before Kotlin 1.0 was released; it seems unlikely that JetBrains ever seriously considered removing <code>it</code>, and they almost certainly aren&#39;t doing so now."}], "tags": [], "owner": {"reputation": 812, "user_id": 8572174, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x3-QYhk4xzE/AAAAAAAAAAI/AAAAAAAAAV0/9t5osXfRmAo/photo.jpg?sz=128", "display_name": "glisu", "link": "https://stackoverflow.com/users/8572174/glisu"}, "is_accepted": true, "score": 22, "last_activity_date": 1555533820, "last_edit_date": 1555533820, "creation_date": 1555533228, "answer_id": 55735586, "question_id": 55735274, "link": "https://stackoverflow.com/questions/55735274/implicit-parameter-of-enclosing-lambda-is-shadowed/55735586#55735586", "title": "implicit parameter of enclosing lambda is shadowed", "body": "<p>You have nested lambdas, so \"it\" will represent the implicit parameter of the innermost lambda. This warning is mainly for readability purposes and avoiding confusion because the meaning of \"it\" gets more unclear as you nest more lambdas. I recommend you to specify lambda parameters explicitly for nested lambdas:</p>\n\n<pre><code>val listPlans: List&lt;Plan&gt; = newPlans.mapTry { plan -&gt;\n        plan.data.map {\n            Plan(it.id, it.name, it.phone, it.desc, it.email)\n        }.toList()\n    }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val listPlans: List&lt;Plan&gt; = newPlans.mapTry {\n        it.data.map { planData -&gt;\n            Plan(planData.id, planData.name, planData.phone, planData.desc, planData.email)\n        }.toList()\n    }\n</code></pre>\n\n<p>or both:</p>\n\n<pre><code>    val listPlans: List&lt;Plan&gt; = newPlans.mapTry { plan -&gt;\n        plan.data.map { planData -&gt;\n            Plan(planData.id, planData.name, planData.phone, planData.desc, planData.email)\n        }.toList()\n    }\n</code></pre>\n\n<p>It is worth to point out that this is one of the reasons why <a href=\"https://discuss.kotlinlang.org/t/will-it-variable-stay-or-go/522\" rel=\"noreferrer\">JetBrains team is planning to remove \"it\" functionality</a></p>\n"}], "owner": {"reputation": 2090, "user_id": 8588359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiqvE.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/8588359/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3621, "favorite_count": 2, "accepted_answer_id": 55735586, "answer_count": 1, "score": 12, "last_activity_date": 1555533820, "creation_date": 1555531814, "question_id": 55735274, "link": "https://stackoverflow.com/questions/55735274/implicit-parameter-of-enclosing-lambda-is-shadowed", "title": "implicit parameter of enclosing lambda is shadowed", "body": "<pre><code>val listPlans: List&lt;Plan&gt; = newPlans.mapTry {\n            it.data.map {\n                Plan(it.id, it.name, it.phone, it.desc, it.email)\n            }.toList()\n        }\n</code></pre>\n\n<p>Kotlin newbie writing code and IntelliJ highglights it in the <code>Plan(it.id, it.name, it.phone, it.desc, it.email)</code> and says that implicit parameter of enclosing lambda is shadowed.</p>\n\n<p>Is it ok to leave this as it is? If not, what can I replace it with?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 393, "user_id": 477227, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3RSQd.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/477227/shawn"}, "edited": false, "score": 0, "creation_date": 1555528060, "post_id": 55734195, "comment_id": 98147254, "body": "How big is the resource?  If it is really big I would try shrinking it to match the DPI of the devices you would be running on."}, {"owner": {"reputation": 47, "user_id": 11083013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72699827904a24abc759c46a5ef3e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "sansiad", "link": "https://stackoverflow.com/users/11083013/sansiad"}, "reply_to_user": {"reputation": 393, "user_id": 477227, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3RSQd.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/477227/shawn"}, "edited": false, "score": 0, "creation_date": 1555528450, "post_id": 55734195, "comment_id": 98147427, "body": "@Shawn I have updated my code above with drawable file codes.Please check and let me know what is to be done?"}, {"owner": {"reputation": 393, "user_id": 477227, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3RSQd.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/477227/shawn"}, "edited": false, "score": 0, "creation_date": 1555529122, "post_id": 55734195, "comment_id": 98147734, "body": "I was going on the assumption that they were images so I don&#39;t think my previous suggestion is applicable."}, {"owner": {"reputation": 393, "user_id": 477227, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3RSQd.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/477227/shawn"}, "edited": false, "score": 0, "creation_date": 1555531490, "post_id": 55734195, "comment_id": 98148706, "body": "This can be challenging to debug.  Hopefully someone who has more experience than me can chime in and point out a specific issue.  If it were me I would start diving into how setBackgroundResource works and figure out where the delay is coming from. A few helpful resources: <a href=\"https://developer.android.com/studio/profile/android-profiler\" rel=\"nofollow noreferrer\">developer.android.com/studio/profile/android-profiler</a> - shows how long methods take  <a href=\"http://androidxref.com/9.0.0_r3/xref/frameworks/base/core/java/android/view/View.java#21444\" rel=\"nofollow noreferrer\">androidxref.com/9.0.0_r3/xref/frameworks/base/core/java/andr&zwnj;&#8203;oid/&hellip;</a> - look at the actual implementation of the android framework.  And finally just android studio debug."}, {"owner": {"reputation": 47, "user_id": 11083013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72699827904a24abc759c46a5ef3e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "sansiad", "link": "https://stackoverflow.com/users/11083013/sansiad"}, "reply_to_user": {"reputation": 393, "user_id": 477227, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3RSQd.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/477227/shawn"}, "edited": false, "score": 0, "creation_date": 1555590138, "post_id": 55734195, "comment_id": 98168621, "body": "ok,no problem!!"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 11083013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72699827904a24abc759c46a5ef3e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "sansiad", "link": "https://stackoverflow.com/users/11083013/sansiad"}, "edited": false, "score": 0, "creation_date": 1555595698, "post_id": 55746026, "comment_id": 98172025, "body": "My drawables are very small in size.Actually i am not sure but this error happens only on genymotion,i tried on android cell and emulator but did not come across this error.Is this a genymotion error?"}, {"owner": {"reputation": 1004, "user_id": 5437363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Bz3VZ.png?s=128&g=1", "display_name": "Ahmad Sattout", "link": "https://stackoverflow.com/users/5437363/ahmad-sattout"}, "reply_to_user": {"reputation": 47, "user_id": 11083013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72699827904a24abc759c46a5ef3e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "sansiad", "link": "https://stackoverflow.com/users/11083013/sansiad"}, "edited": false, "score": 1, "creation_date": 1555597286, "post_id": 55746026, "comment_id": 98172975, "body": "Genymotion isn&#39;t a reference for testing. The Android AVD is a far better reference. But if the issue doesn&#39;t appear on a physical device, then yes, assume that Genymotion has an issue."}], "tags": [], "owner": {"reputation": 1004, "user_id": 5437363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Bz3VZ.png?s=128&g=1", "display_name": "Ahmad Sattout", "link": "https://stackoverflow.com/users/5437363/ahmad-sattout"}, "is_accepted": false, "score": 0, "last_activity_date": 1555590396, "creation_date": 1555590396, "answer_id": 55746026, "question_id": 55734195, "link": "https://stackoverflow.com/questions/55734195/setbackgroundresource-takes-a-lot-of-time-to-show-in-kotlin-android/55746026#55746026", "title": "setBackgroundResource() takes a lot of time to show in kotlin/android", "body": "<p>It might be just an assumption, but it might be the Gradient.</p>\n\n<p>However, from your code, I'd suggest you use a Selector rather than 2 different Drawables. That will at least make the code smaller and less confusing.</p>\n\n<p>And what is your view? The view itself might have a hard time drawing backgrounds since background are very heavy compared to Images.</p>\n"}], "owner": {"reputation": 47, "user_id": 11083013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72699827904a24abc759c46a5ef3e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "sansiad", "link": "https://stackoverflow.com/users/11083013/sansiad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 468, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576677155, "creation_date": 1555526987, "last_edit_date": 1576677155, "question_id": 55734195, "link": "https://stackoverflow.com/questions/55734195/setbackgroundresource-takes-a-lot-of-time-to-show-in-kotlin-android", "title": "setBackgroundResource() takes a lot of time to show in kotlin/android", "body": "<p>I am using setBackgroundResource to set the background of each cell in a layout on click.Depending on the condition different background drawables are set for the cells.</p>\n\n<p>But this takes a lot of time,sometimes when I click cell4 nothing happens and then when I click cell6,cell4 background is changed,and sometimes it changes after a long time. How can I fix this?</p>\n\n<p>I have attached part of my code below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>if(cell.getTag()==11){\r\n            cell.isSelected=false\r\n            cell.setTag(0xFFFFFFFF.toInt())\r\n            textView.setTextColor(0xFF87CEEB.toInt())\r\n            cell.setBackgroundResource(R.drawable.bordered_rectangle)\r\n}\r\nelse if(isChecked || cell.getTag()==22) {\r\n            cell.isSelected=true\r\n            cell.setTag(11.toInt())\r\n            textView.setTextColor(0xFF000000.toInt())                                      \r\n            cell.setBackgroundResource(R.drawable.border_boardselect)\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>R.drawable.bordered_rectangle</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\" android:id=\"@+id/listview_background_shape\"&gt;\r\n&lt;stroke android:width=\"3dp\" android:color=\"#ff444444\" /&gt;\r\n&lt;padding android:left=\"2dp\"\r\n    android:top=\"2dp\"\r\n    android:right=\"2dp\"\r\n    android:bottom=\"2dp\" /&gt;\r\n&lt;!--&lt;solid android:color=\"#ffffff\" /&gt;--&gt;\r\n\r\n    &lt;gradient\r\n        android:angle=\"45\"\r\n        android:endColor=\"#87CEEB\"\r\n        android:centerColor=\"#768087\"\r\n        android:startColor=\"#000\"\r\n        android:type=\"linear\" /&gt;\r\n&lt;/shape&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have tried putting the drawable in drawable-nodpi folder.I don't know what else to do.</p>\n\n<p>Really need some help here.</p>\n"}, {"tags": ["android", "kotlin", "sharedpreferences"], "comments": [{"owner": {"reputation": 1165, "user_id": 4145397, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/NP13i.jpg?s=128&g=1", "display_name": "92AlanC", "link": "https://stackoverflow.com/users/4145397/92alanc"}, "edited": false, "score": 0, "creation_date": 1555526659, "post_id": 55733884, "comment_id": 98146685, "body": "What exactly is the error you&#39;re getting?"}, {"owner": {"reputation": 65, "user_id": 10980547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a22c040c280eb1801973d356edd3977?s=128&d=identicon&r=PG&f=1", "display_name": "WIKOSO", "link": "https://stackoverflow.com/users/10980547/wikoso"}, "reply_to_user": {"reputation": 1165, "user_id": 4145397, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/NP13i.jpg?s=128&g=1", "display_name": "92AlanC", "link": "https://stackoverflow.com/users/4145397/92alanc"}, "edited": false, "score": 0, "creation_date": 1555527233, "post_id": 55733884, "comment_id": 98146910, "body": "that code is not saving anything it&#39;s just example i want the way ( code ) to store a mutable List"}], "answers": [{"tags": [], "owner": {"reputation": 6835, "user_id": 6305235, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/kEy0G.jpg?s=128&g=1", "display_name": "David Miguel", "link": "https://stackoverflow.com/users/6305235/david-miguel"}, "is_accepted": true, "score": 4, "last_activity_date": 1555528218, "last_edit_date": 1555528218, "creation_date": 1555527275, "answer_id": 55734259, "question_id": 55733884, "link": "https://stackoverflow.com/questions/55733884/how-to-save-a-mutablelist-with-sharedpreferences/55734259#55734259", "title": "How to save a MutableList with SharedPreferences?", "body": "<p><code>putStringSet()</code> receives a <code>Set&lt;String&gt;</code>, you can convert your <code>MutableList&lt;String&gt;</code> to set doing:</p>\n\n<pre><code>putStringSet(\"lastFavorite\", saveFavorite.toSet())\n</code></pre>\n\n<p>And then, you can convert it back to a <code>MutableList&lt;String&gt;</code> when you retrieve it:</p>\n\n<pre><code>getStringSet(\"lastFavorite\", setOf&lt;String&gt;()).toMutableList()\n</code></pre>\n\n<p>Be aware that using StringSet <strong>won't preserve the order</strong> of the elements when reading them back in, as SharedPreferences uses a HashSet. Also, <strong>it does not support duplicate elements</strong>.</p>\n\n<p>If your use case requires to store an ordered list that supports duplicate elements, consider marshalling the list and save it as a single string.</p>\n\n<p>For example, concatenating all the strings together using a character that won't be contained in your strings as a delimiter (e.g., <code>|</code>). Then you can <code>split()</code> them apart when reading them back in.</p>\n\n<p>If the list is too long, then you should consider a different data store.</p>\n"}], "owner": {"reputation": 65, "user_id": 10980547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a22c040c280eb1801973d356edd3977?s=128&d=identicon&r=PG&f=1", "display_name": "WIKOSO", "link": "https://stackoverflow.com/users/10980547/wikoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 909, "favorite_count": 0, "accepted_answer_id": 55734259, "answer_count": 1, "score": 0, "last_activity_date": 1555545339, "creation_date": 1555525659, "last_edit_date": 1555545339, "question_id": 55733884, "link": "https://stackoverflow.com/questions/55733884/how-to-save-a-mutablelist-with-sharedpreferences", "title": "How to save a MutableList with SharedPreferences?", "body": "<p>I want to save and get a <code>MutableList</code> using <code>SharedPreferences</code> in my Android app.</p>\n\n<p>I tried this, but it's not correct:</p>\n\n<pre><code>private fun saveFavorite(saveFavorite : MutableList&lt;String&gt;) {\n    val sharedPref = this.getPreferences(Context.MODE_PRIVATE) ?: return\n    with(sharedPref.edit()) {\n        putStringSet(\"lastFavorite\",saveFavorite)\n        apply()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-geofence", "doze"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 1, "creation_date": 1555525556, "post_id": 55733449, "comment_id": 98146199, "body": "What geofence events do you expect while dozing? The device is, by definition, not moving."}, {"owner": {"reputation": 11, "user_id": 9968232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23a122828d0b347dc47dfcb0e4446ad?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/9968232/filippo"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1555569520, "post_id": 55733449, "comment_id": 98157912, "body": "The device is actually moving in my pocket, but because of doze it cannot detect the movement. My goal would be to avoid entering the doze mode (I would explain my users why I need to keep the device awake and then they can decide if they are interested in the functionality I&#39;m offering)"}, {"owner": {"reputation": 2511, "user_id": 1580500, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/fd636dcbdbb986e43fb4df6b3cac0957?s=128&d=identicon&r=PG", "display_name": "fernandospr", "link": "https://stackoverflow.com/users/1580500/fernandospr"}, "edited": false, "score": 0, "creation_date": 1562854621, "post_id": 55733449, "comment_id": 100517132, "body": "@Filippo Where you able to solve this issue? I&#39;m on a similar situation, the ENTER geofences sometimes don&#39;t trigger or I have experimented the trigger after 2 hours of being inside the geofence. Using Android 8.0 here."}, {"owner": {"reputation": 11, "user_id": 9968232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23a122828d0b347dc47dfcb0e4446ad?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/9968232/filippo"}, "reply_to_user": {"reputation": 2511, "user_id": 1580500, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/fd636dcbdbb986e43fb4df6b3cac0957?s=128&d=identicon&r=PG", "display_name": "fernandospr", "link": "https://stackoverflow.com/users/1580500/fernandospr"}, "edited": false, "score": 0, "creation_date": 1562936607, "post_id": 55733449, "comment_id": 100547774, "body": "@fernandospr unfortunately not"}], "owner": {"reputation": 11, "user_id": 9968232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23a122828d0b347dc47dfcb0e4446ad?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/9968232/filippo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555523750, "creation_date": 1555523750, "question_id": 55733449, "link": "https://stackoverflow.com/questions/55733449/how-to-use-correctly-in-android-the-permission-request-ignore-battery-optimizati", "title": "How to use correctly in Android the permission REQUEST_IGNORE_BATTERY_OPTIMIZATIONS to allow the GeofenceAPI working also during doze?", "body": "<p>I have an Android App using the Geofence API</p>\n\n<pre><code>val intent = Intent(contextProvider.context, GeofenceReceiver::class.java)\nval pendingIntent= PendingIntent.getBroadcast(contextProvider.context,0,intent,PendingIntent.FLAG_UPDATE_CURRENT)\nval builder = GeofencingRequest.Builder()  \nbuilder.setInitialTrigger(initialTrigger)\naddGeofences(builder) // in this function I have the code to add one or more geofences\ngeofencingRequest = builder.build()\n</code></pre>\n\n<p>The code works fine and I get the method onReceive called in my broadcast receiver, if the device is not idle. During idle periods, the device doesn't react at all.</p>\n\n<p>I tried to add in the manifest the permission <code>REQUEST_IGNORE_BATTERY_OPTIMIZATIONS</code> and in another place I call the code </p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n    val powerManager = context.getSystemService(POWER_SERVICE) as PowerManager\n    val packageName = context.applicationContext.packageName\n    val ignoringOptimizations = powerManager.isIgnoringBatteryOptimizations(packageName)\n\n    if (!ignoringOptimizations) {\n        val intent = Intent(ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS)\n        intent.setData(Uri.parse(\"package:$packageName\"))\n        context.startActivity(intent)\n    } \n}\n</code></pre>\n\n<p>and if I didn't already allowed to ignore the battery optimization I can see the dialog asking for that. I don't see any difference in the behaviour of the app.\nIn order to check if the new permission works, I have a background thread logging every second the value of a counter:</p>\n\n<pre><code>Single.fromCallable {\n    var counter = 0\n    do {\n        Timber.i(\"#$counter\")\n        Thread.sleep(1000)\n    } while (counter++ &lt; 120)\n}.subscribeOn(Schedulers.io()).subscribe({\n    Timber.i(\"onSuccess\")\n},\n    {\n        Timber.e(\"onError: $it\")\n\n    })\n</code></pre>\n\n<p>This is the kind of logging that I get:</p>\n\n<pre><code>Mi. Apr. 17 2019 at 13:47:27:662 :\u00a0\u00a0\u00a0\u00a0- #1\nMi. Apr. 17 2019 at 13:47:28:674 :\u00a0\u00a0\u00a0\u00a0- #2\nMi. Apr. 17 2019 at 13:47:29:683 :\u00a0\u00a0\u00a0\u00a0- #3\nMi. Apr. 17 2019 at 13:47:30:693 :\u00a0\u00a0\u00a0\u00a0- #4\nMi. Apr. 17 2019 at 13:47:31:700 :\u00a0\u00a0\u00a0\u00a0- #5\nMi. Apr. 17 2019 at 13:47:32:707 :\u00a0\u00a0\u00a0\u00a0- #6\nMi. Apr. 17 2019 at 13:47:33:719 :\u00a0\u00a0\u00a0\u00a0- #7\nMi. Apr. 17 2019 at 13:47:40:008 :\u00a0\u00a0\u00a0\u00a0- #8\nMi. Apr. 17 2019 at 13:47:41:018 :\u00a0\u00a0\u00a0\u00a0- #9\nMi. Apr. 17 2019 at 13:47:42:036 :\u00a0\u00a0\u00a0\u00a0- #10\nMi. Apr. 17 2019 at 13:48:55:449 :\u00a0\u00a0\u00a0\u00a0- #11\nMi. Apr. 17 2019 at 13:48:56:457 :\u00a0\u00a0\u00a0\u00a0- #12\nMi. Apr. 17 2019 at 13:48:57:471 :\u00a0\u00a0\u00a0\u00a0- #13\n</code></pre>\n\n<p>You can notice, that at the beginning every second there is a new output, then there are some lags. I assume this lags are because of the idle mode. I get similar logs with and without battery optimization.</p>\n\n<p>My app uses also a foreground service that should avoid the app going idle, but it doesn't seem to have any effect.</p>\n\n<p>At the end I have two questions:</p>\n\n<p>1- how should I use the permission to ignore the battery optimization, in order to see an effect on the app?</p>\n\n<p>2- are there better approaches in order to manage geofences while the device is idle?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1555537145, "post_id": 55733134, "comment_id": 98150750, "body": "It&#39;s not clear what the problem is. &quot;the very first child of the recycler view is created by 1 position value which is wrong&quot; \u2013 Nope, the first position is 0. I&#39;m not sure why you think it&#39;s 1, but<code>RecyclerView</code> will call some <code>Adapter</code> methods an indeterminate number of times, in no guaranteed order, while it&#39;s setting itself up. You shouldn&#39;t be using that as any kind of indexing."}, {"owner": {"reputation": 1585, "user_id": 1749223, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Pt19o.jpg?s=128&g=1", "display_name": "Binary Baba", "link": "https://stackoverflow.com/users/1749223/binary-baba"}, "edited": false, "score": 0, "creation_date": 1555564660, "post_id": 55733134, "comment_id": 98156317, "body": "Yes, recyclerView may call bind methods in a non-deterministic way. I don&#39;t understand, why it is a problem. @Java Nerd Can you elaborate more on that?"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 9718622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db4e45edb4fc0ccfbb8a2debea7342b?s=128&d=identicon&r=PG&f=1", "display_name": "Java Nerd", "link": "https://stackoverflow.com/users/9718622/java-nerd"}, "edited": false, "score": 0, "creation_date": 1555524390, "post_id": 55733541, "comment_id": 98145697, "body": "I want to get a user at position from the model in that how can i do that?"}, {"owner": {"reputation": 105, "user_id": 9718622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db4e45edb4fc0ccfbb8a2debea7342b?s=128&d=identicon&r=PG&f=1", "display_name": "Java Nerd", "link": "https://stackoverflow.com/users/9718622/java-nerd"}, "edited": false, "score": 0, "creation_date": 1555524423, "post_id": 55733541, "comment_id": 98145719, "body": "the problem is, i have to get the items from my list and then bind the items to the ui"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1555537402, "post_id": 55733541, "comment_id": 98150838, "body": "Simply casting and assigning a method parameter is not causing that method to be called an unexpected number of times. This doesn&#39;t really make any sense."}], "tags": [], "owner": {"reputation": 1414, "user_id": 6280156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w5NgB.jpg?s=128&g=1", "display_name": "Venky", "link": "https://stackoverflow.com/users/6280156/venky"}, "is_accepted": false, "score": 0, "last_activity_date": 1555524141, "creation_date": 1555524141, "answer_id": 55733541, "question_id": 55733134, "link": "https://stackoverflow.com/questions/55733134/android-recyclerview-onbindviewholder-called-twice-first-time-when-adapter-crea/55733541#55733541", "title": "Android RecyclerView onBindViewHolder Called Twice (first time when adapter created)", "body": "<p>It's simply because you are calling adapter 2 in code an recyclerview's bindviewholder should use to bind data not to call viewholder.</p>\n\n<pre><code>class TariffsCardAdapter(context: Context, tariffCardItems: List&lt;ItemsItem?&gt;?) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n   private var context: Context? = null\n   private var tariffCardItems: ArrayList&lt;ItemsItem?&gt;? = null\n\n    init {\n      this.context=context\n      this.tariffCardItems=tariffCardItems as ArrayList&lt;ItemsItem?&gt;\n    }\n\n   override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n       val view = LayoutInflater.from(parent.context).inflate(R.layout.layout_tariff_card_items, parent, false)\n       return TariffsCardAdapterViewHolder(view)\n   }\n\n   override fun getItemCount(): Int {\n       return tariffCardItems!!.size\n   }//getItemCount ends\n\n   override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n\n                //bind data\n   }\n\n   private inner class TariffsCardAdapterViewHolder : RecyclerView.ViewHolder {\n      var text: TextView? = null\n      constructor(row: View) : super(row) {\n         text= row.findViewById(R.id.text) as TextView\n      }\n   }\n}\n</code></pre>\n\n<p>For example your adapter should be like this</p>\n\n<pre><code>class CustomAdapter(val userList: ArrayList&lt;User&gt;) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n    //this method is returning the view for each item in the list\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.list_layout, parent, false)\n        return ViewHolder(v)\n    }\n\n    //this method is binding the data on the list\n    override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n        holder.bindItems(userList[position])\n    }\n\n    //this method is giving the size of the list\n    override fun getItemCount(): Int {\n        return userList.size\n    }\n\n    //the class is hodling the list view\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        fun bindItems(user: User) {\n            val textViewName = itemView.findViewById(R.id.textViewUsername) as TextView\n            val textViewAddress  = itemView.findViewById(R.id.textViewAddress) as TextView\n            textViewName.text = user.name\n            textViewAddress.text = user.address\n        }\n    }\n}\n</code></pre>\n\n<p>This method from your code is calling twice</p>\n\n<pre><code> val viewHolder = holder as TariffsCardAdapterViewHolder\n     Log.e(\"posX\",\"pos:::\".plus(position))\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 9718622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db4e45edb4fc0ccfbb8a2debea7342b?s=128&d=identicon&r=PG&f=1", "display_name": "Java Nerd", "link": "https://stackoverflow.com/users/9718622/java-nerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2447, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1555524141, "creation_date": 1555522407, "question_id": 55733134, "link": "https://stackoverflow.com/questions/55733134/android-recyclerview-onbindviewholder-called-twice-first-time-when-adapter-crea", "title": "Android RecyclerView onBindViewHolder Called Twice (first time when adapter created)", "body": "<p>I have simple RecyclerViewAdapter Class:</p>\n\n<pre><code>class TariffsCardAdapter(context: Context, tariffCardItems: List&lt;ItemsItem?&gt;?) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n   private var context: Context? = null\n   private var tariffCardItems: ArrayList&lt;ItemsItem?&gt;? = null\n\n    init {\n      this.context=context\n      this.tariffCardItems=tariffCardItems as ArrayList&lt;ItemsItem?&gt;\n    }\n\n   override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n       val view = LayoutInflater.from(parent.context).inflate(R.layout.layout_tariff_card_items, parent, false)\n       return TariffsCardAdapterViewHolder(view)\n   }\n\n   override fun getItemCount(): Int {\n       return tariffCardItems!!.size\n   }//getItemCount ends\n\n   override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n\n     val viewHolder = holder as TariffsCardAdapterViewHolder\n     Log.e(\"posX\",\"pos:::\".plus(position))\n   }\n\n   private inner class TariffsCardAdapterViewHolder : RecyclerView.ViewHolder {\n      var text: TextView? = null\n      constructor(row: View) : super(row) {\n         text= row.findViewById(R.id.text) as TextView\n      }\n   }\n}\n</code></pre>\n\n<p>Now lets suppose that my <strong>tariffCardItems: List</strong> will have only 5 items in the list that i want to show!</p>\n\n<p>The problem is that when the adapter gets instantiated that is for the first time; <strong>the onBindViewHolder methods called twice!</strong></p>\n\n<p>so that the Log values prints as:</p>\n\n<p>pos:::0</p>\n\n<p>pos:::1</p>\n\n<p>pos:::0</p>\n\n<p>pos:::1</p>\n\n<p>which means that my recycler view position will be <strong>1</strong> after this all!\nand the very first view will be created with <strong>list item at 1 index</strong> which is wrong and should be 0 </p>\n\n<p>in simple, the very first child of the recycler view is created by 1 position value which is wrong</p>\n\n<p>Can somebody please figure out what i am doing wrong</p>\n\n<p>Thanks and Regards in advance</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 630, "user_id": 2919483, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/8cc2589e094a942a321147f009733d4b?s=128&d=identicon&r=PG&f=1", "display_name": "Rajshree Tiwari", "link": "https://stackoverflow.com/users/2919483/rajshree-tiwari"}, "edited": false, "score": 0, "creation_date": 1555522379, "post_id": 55733064, "comment_id": 98144757, "body": "please post your code"}, {"owner": {"reputation": 37, "user_id": 6052814, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002870638919/picture?type=large", "display_name": "Ihte Sham", "link": "https://stackoverflow.com/users/6052814/ihte-sham"}, "reply_to_user": {"reputation": 630, "user_id": 2919483, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/8cc2589e094a942a321147f009733d4b?s=128&d=identicon&r=PG&f=1", "display_name": "Rajshree Tiwari", "link": "https://stackoverflow.com/users/2919483/rajshree-tiwari"}, "edited": false, "score": 0, "creation_date": 1555522643, "post_id": 55733064, "comment_id": 98144890, "body": "@RajshreeTiwari sir i have seperate the upper portion using str.split(&quot;\\\\n\\n&quot;) but i need to delete it."}, {"owner": {"reputation": 1223, "user_id": 6796066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3oHGC.jpg?s=128&g=1", "display_name": "Sultan Mahmud", "link": "https://stackoverflow.com/users/6796066/sultan-mahmud"}, "edited": false, "score": 0, "creation_date": 1555526283, "post_id": 55733064, "comment_id": 98146523, "body": "apply str.replace(&quot;\\n&quot;,&quot;&quot;);"}], "answers": [{"tags": [], "owner": {"reputation": 702, "user_id": 3975049, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdb746db08a61f7755392f4320eeab49?s=128&d=identicon&r=PG&f=1", "display_name": "deepThought", "link": "https://stackoverflow.com/users/3975049/deepthought"}, "is_accepted": false, "score": 0, "last_activity_date": 1555522786, "creation_date": 1555522786, "answer_id": 55733232, "question_id": 55733064, "link": "https://stackoverflow.com/questions/55733064/i-have-text-from-textview-i-want-to-erase-delete-some-data-before-an-empty-line/55733232#55733232", "title": "I have text from textview, I want to erase/delete some data before an empty line", "body": "<p>Try this ..        </p>\n\n<pre><code>String lines[] = s.split(\"\\\\r?\\\\n\");\nList&lt;String&gt; list = Arrays.asList(s.split(\"\\\\r?\\\\n\"));\nSystem.out.println(\"string is \" + list.get(list.size()-1));\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 6052814, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002870638919/picture?type=large", "display_name": "Ihte Sham", "link": "https://stackoverflow.com/users/6052814/ihte-sham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1555522786, "creation_date": 1555522060, "question_id": 55733064, "link": "https://stackoverflow.com/questions/55733064/i-have-text-from-textview-i-want-to-erase-delete-some-data-before-an-empty-line", "title": "I have text from textview, I want to erase/delete some data before an empty line", "body": "<p>I have a text from a textview, I want to delete text before the empty line.</p>\n\n<p>For example:</p>\n\n<p>abcdefgehijklmnopq\nabcdefgehijklmnopq</p>\n\n<p>zxcvbvbv\nahtahhd\nHere i is\nsome of them</p>\n\n<p>I want to delete the upper portion of the string, first two lines. these 2 lines may be 3, may be 4 and so on. The logic is to delete the text before an empty line. Because I want to delete the header and need the lower portion text come from different text fields.</p>\n"}, {"tags": ["android", "kotlin", "webview", "http-live-streaming"], "answers": [{"comments": [{"owner": {"reputation": 451, "user_id": 1747445, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e5d964fcb61078312b67450073ee2db7?s=128&d=identicon&r=PG", "display_name": "zontar", "link": "https://stackoverflow.com/users/1747445/zontar"}, "edited": false, "score": 0, "creation_date": 1558605239, "post_id": 56259175, "comment_id": 99159868, "body": "This seems to do the trick, at least the video loads and starts. At the moment is very slow but we hope it&#39;s a network problem."}], "tags": [], "owner": {"reputation": 3793, "user_id": 1023597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OIGyn.png?s=128&g=1", "display_name": "Vishal Pawar", "link": "https://stackoverflow.com/users/1023597/vishal-pawar"}, "is_accepted": false, "score": 1, "last_activity_date": 1558535297, "creation_date": 1558535297, "answer_id": 56259175, "question_id": 55732498, "link": "https://stackoverflow.com/questions/55732498/android-webview-crashes-when-loading-hls-playlist/56259175#56259175", "title": "Android WebView crashes when loading HLS playlist", "body": "<p>After enabling appcache its working for me. </p>\n\n<pre><code>testWebView.settings.setAppCacheEnabled(true)\n        testWebView.loadUrl(\"https://developer.apple.com/streaming/examples/basic-stream-osx-ios4-3.html\")\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 1747445, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e5d964fcb61078312b67450073ee2db7?s=128&d=identicon&r=PG", "display_name": "zontar", "link": "https://stackoverflow.com/users/1747445/zontar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1558535297, "creation_date": 1555519661, "question_id": 55732498, "link": "https://stackoverflow.com/questions/55732498/android-webview-crashes-when-loading-hls-playlist", "title": "Android WebView crashes when loading HLS playlist", "body": "<p>We have written a big Kotlin app that embeds a webview. Just today we have discovered that some of the URLs embeds a <code>&lt;VIDEO&gt;</code> tag with a <code>m3u8</code> playlist url. \nAs soon as the page load, we got plenty of errors and if we touch the play icon nothing happens. Sometimes even the app crashes.</p>\n\n<p>To single out the problem we have written a very simple app with just a WebView, and we try to load the Apple sample page:\n<code>https://developer.apple.com/streaming/examples/basic-stream-osx-ios4-3.html</code></p>\n\n<p>The app is tested on several physical devices.</p>\n\n<p>This is the relevant gradle section</p>\n\n<pre><code>\nandroid {\n    compileSdkVersion 28\n    defaultConfig { \n        minSdkVersion 24\n        targetSdkVersion 28 \n</code></pre>\n\n<p>We have added proper permissions in manifest</p>\n\n<pre><code>        &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n\n<p>and this is our MainActivity</p>\n\n<pre><code>package iakta.it.webviewtest\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        testWebView.loadUrl(\"https://developer.apple.com/streaming/examples/basic-stream-osx-ios4-3.html\")\n    }\n}\n\n</code></pre>\n\n<p>the Apple's page loads ok (or so it seems, we can see it on screen) but we got plenty of errors in LogCat and we are unable to play the video. </p>\n\n<p>These are some of the errors in the log. And of course we don't have a <code>res/raw/empty.wav</code> file in our project. It was just created from scratch via the AndroidStudio wizard.</p>\n\n<pre><code>2019-04-17 18:34:45.168 9326-9326/iakta.it.webviewtest E/cr_crMediaCrashListener: Exception while creating the watchdog player.\n    android.content.res.Resources$NotFoundException: File res/raw/empty.wav from drawable resource ID #0x2120000\n        at android.content.res.ResourcesImpl.openRawResourceFd(ResourcesImpl.java:316)\n        at android.content.res.Resources.openRawResourceFd(Resources.java:1293)\n        at android.media.MediaPlayer.create(MediaPlayer.java:967)\n        at android.media.MediaPlayer.create(MediaPlayer.java:950)\n        at org.chromium.media.MediaServerCrashListener.startListening(PG:13)\n        at android.os.MessageQueue.nativePollOnce(Native Method)\n        at android.os.MessageQueue.next(MessageQueue.java:325)\n        at android.os.Looper.loop(Looper.java:142)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n     Caused by: java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed\n        at android.content.res.AssetManager.openNonAssetFdNative(Native Method)\n        at android.content.res.AssetManager.openNonAssetFd(AssetManager.java:487)\n        at android.content.res.ResourcesImpl.openRawResourceFd(ResourcesImpl.java:314)\n        at android.content.res.Resources.openRawResourceFd(Resources.java:1293)\u00a0\n        at android.media.MediaPlayer.create(MediaPlayer.java:967)\u00a0\n        at android.media.MediaPlayer.create(MediaPlayer.java:950)\u00a0\n        at org.chromium.media.MediaServerCrashListener.startListening(PG:13)\u00a0\n        at android.os.MessageQueue.nativePollOnce(Native Method)\u00a0\n        at android.os.MessageQueue.next(MessageQueue.java:325)\u00a0\n        at android.os.Looper.loop(Looper.java:142)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\u00a0\n2019-04-17 18:34:45.168 9326-9326/iakta.it.webviewtest E/cr_crMediaCrashListener: Unable to create watchdog player, treating it as server crash.\n\n2019-04-17 18:34:45.197 9326-9326/iakta.it.webviewtest W/MediaPlayer: Couldn't open https://devstreaming-cdn.apple.com/videos/streaming/examples/bipbop_4x3/bipbop_4x3_variant.m3u8: java.io.FileNotFoundException: No content provider: https://devstreaming-cdn.apple.com/videos/streaming/examples/bipbop_4x3/bipbop_4x3_variant.m3u8\n2019-04-17 18:34:45.198 9326-9326/iakta.it.webviewtest V/MediaHTTPService: MediaHTTPService(android.media.MediaHTTPService@dbda0d3): Cookies: null\n2019-04-17 18:34:45.210 9326-9417/iakta.it.webviewtest V/MediaHTTPService: makeHTTPConnection: CookieManager created: java.net.CookieManager@6eff410\n2019-04-17 18:34:45.210 9326-9417/iakta.it.webviewtest V/MediaHTTPService: makeHTTPConnection(android.media.MediaHTTPService@dbda0d3): cookieHandler: java.net.CookieManager@6eff410 Cookies: null\n2019-04-17 18:34:46.987 9326-9343/iakta.it.webviewtest I/zygote64: Waiting for a blocking GC ProfileSaver\n</code></pre>\n\n<p>Any idea as to what we might do to load the video in the WebView?\nThanks a lot. </p>\n"}, {"tags": ["email", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 11334059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OrFw7.png?s=128&g=1", "display_name": "Juna", "link": "https://stackoverflow.com/users/11334059/juna"}, "edited": false, "score": 0, "creation_date": 1555592853, "post_id": 55739641, "comment_id": 98170211, "body": "I have known that to send email using java I must plugin java.mail.. on my local. is this right? And second you mean I can send email free with google? Please share me how to set any environment for sending java programe. Thanks."}], "tags": [], "owner": {"reputation": 1244, "user_id": 1296641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwXEQ.png?s=128&g=1", "display_name": "Laurence", "link": "https://stackoverflow.com/users/1296641/laurence"}, "is_accepted": true, "score": 0, "last_activity_date": 1555565339, "creation_date": 1555565339, "answer_id": 55739641, "question_id": 55731973, "link": "https://stackoverflow.com/questions/55731973/how-can-i-send-email-with-java/55739641#55739641", "title": "How can I send email with java?", "body": "<p>You cannot just send email for free. You need to configure an smtp server (and have one that you can use in the first place), which you have not done in your example because you are using a new instance of <code>Properties</code> with nothing set.</p>\n\n<p>Here is a java based guide for setting those properties -> <a href=\"https://www.baeldung.com/java-email\" rel=\"nofollow noreferrer\">Sending Emails with Java</a></p>\n\n<p>As for getting the details of an smtp server, I believe google offers free smtp up to some threshold, but I am sure there are others.</p>\n"}], "owner": {"reputation": 27, "user_id": 11334059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OrFw7.png?s=128&g=1", "display_name": "Juna", "link": "https://stackoverflow.com/users/11334059/juna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 55739641, "answer_count": 1, "score": 0, "last_activity_date": 1555565339, "creation_date": 1555517614, "last_edit_date": 1555517647, "question_id": 55731973, "link": "https://stackoverflow.com/questions/55731973/how-can-i-send-email-with-java", "title": "How can I send email with java?", "body": "<p>I tried to send email with java. But I think the engine to send email is perfect. Then email was not sent.\nHow can I fix this issue?</p>\n\n<p>I think this issue are seemed to relate with java libs.\nThis is my sending email code.</p>\n\n<pre><code>fun send(email: String, fullName: String?, mailSubject: String, mailText: String, mailHtml: String? = null) {\n    // fix_juna 0417_end\n    logger.info(\"Prepare email\")\n    Transport.send(MimeMessage(Session.getDefaultInstance(Properties())).apply {\n        setFrom(fromAddress)\n        logger.info(\"set from$fromAddress\") //fix_juna 0417\n        addRecipient(Message.RecipientType.TO, InternetAddress(email, fullName ?: \"\"))\n        logger.info(\"set email$email, fullname$fullName\") //fix_juna 0417\n        subject = mailSubject\n        setContent(MimeMultipart().apply {\n            mailHtml?.also { addBodyPart(MimeBodyPart().apply { setContent(it, \"text/html\") }) }\n            addBodyPart(MimeBodyPart().apply { setContent(mailText, \"text/plain\") })\n        })\n    })\n}\n</code></pre>\n\n<p>I confirmed this function is ran.\nTips: this code is based on kotlin lanuage.</p>\n\n<p>Why email is not sent and how I set java environment to send email?</p>\n"}, {"tags": ["java", "hibernate", "maven", "kotlin", "kapt"], "answers": [{"tags": [], "owner": {"reputation": 698, "user_id": 1469497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edab0dc11b0e272931ceceb2fc3d5c32?s=128&d=identicon&r=PG", "display_name": "mrclrchtr", "link": "https://stackoverflow.com/users/1469497/mrclrchtr"}, "is_accepted": false, "score": 7, "last_activity_date": 1562147403, "creation_date": 1562147403, "answer_id": 56867366, "question_id": 55727473, "link": "https://stackoverflow.com/questions/55727473/maven-dependency-declaration-triggers-changes-in-compilation-procedure/56867366#56867366", "title": "Maven dependency declaration triggers changes in compilation procedure?", "body": "<p>I don't know why, but when you change the compile execution to:</p>\n\n<pre><code>&lt;execution&gt;\n&lt;id&gt;compile&lt;/id&gt;\n&lt;phase&gt;compile&lt;/phase&gt;\n&lt;goals&gt;\n    &lt;goal&gt;compile&lt;/goal&gt;\n&lt;/goals&gt;\n&lt;configuration&gt;\n    &lt;sourceDirs&gt;\n        &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\n    &lt;/sourceDirs&gt;\n&lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n\n<p>It should work. Same with test-compile.</p>\n"}], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1576828772, "creation_date": 1555503758, "question_id": 55727473, "link": "https://stackoverflow.com/questions/55727473/maven-dependency-declaration-triggers-changes-in-compilation-procedure", "title": "Maven dependency declaration triggers changes in compilation procedure?", "body": "<p>So I have an application that uses both, Java and Kotlin sourcefiles (all placed in the <code>/src/main/kotlin</code> directory because we eventually want to migrate to kotlin anyway) and that generates an hibernate metamodel.</p>\n\n<p>So our maven compile plugins look like this:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n    &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;!--COMPILATION--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;kapt&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;kapt&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                            &lt;annotationProcessorPaths&gt;\n                                &lt;annotationProcessorPath&gt;\n                                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                                    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                                    &lt;version&gt;${hibernate.version}&lt;/version&gt;\n                                &lt;/annotationProcessorPath&gt;\n                            &lt;/annotationProcessorPaths&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n                &lt;configuration&gt;\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;all-open&lt;/plugin&gt;\n                        &lt;plugin&gt;jpa&lt;/plugin&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                        &lt;plugin&gt;no-arg&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n\n                    &lt;pluginOptions&gt;\n                        &lt;!-- Each annotation is placed on its own line --&gt;\n                        &lt;option&gt;all-open:annotation=javax.ejb.Stateless&lt;/option&gt;\n                        &lt;option&gt;no-arg:annotation=javax.ejb.Stateless&lt;/option&gt;\n\n                        &lt;option&gt;all-open:annotation=javax.ws.rs.ext.Provider&lt;/option&gt;\n                        &lt;option&gt;no-arg:annotation=javax.ws.rs.ext.Provider&lt;/option&gt;\n\n                    &lt;/pluginOptions&gt;\n                &lt;/configuration&gt;\n\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;!-- Check https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-compile&lt;/id&gt;\n                        &lt;phase&gt;none&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-testCompile&lt;/id&gt;\n                        &lt;phase&gt;none&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;java-compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;java-test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;!--END COMPILATION--&gt;\n\n            &lt;!-- ... --&gt;    \n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>this results in </p>\n\n<pre><code>[WARNING] Duplicate source root: /home/cypherk/code/myapp/target/generated-sources/kapt/compile\n[WARNING] Duplicate source root: /home/cypherk/code/myapp/target/generated-sources/kaptKotlin/compile\n</code></pre>\n\n<p>which I have no idea why but may be related.</p>\n\n<p>If I do <em>not</em> declare a dependency to </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>under <code>&lt;dependencies&gt;</code>, that's alright, everything gets generated the way it's supposed to get generated in <code>/target/generated-sources/kapt/compile/</code>. (<code>/target/generated-sources-kaptKotlin/compile</code> gets generated but remains empty).</p>\n\n<p>However, if I <em>do</em> declare the dependency under <code>&lt;dependencies&gt;</code>, the java (but not kotlin) entities will get generated a <em>second</em> time in <code>/target/generated-sources/annotations/</code>, which will trigger a compilation error because all Java-based generated classes have a <code>duplicate class</code> in the kapt folder.</p>\n\n<p>I'm no expert on Maven, I just use it because that's what we are supposed to use for the project. As such, I find simply declaring a dependency having such an effect exceedingly unintuitive.</p>\n\n<p>Could anybody explain to me why this is happening?</p>\n"}, {"tags": ["kotlin", "retrofit2", "android-recyclerview"], "comments": [{"owner": {"reputation": 785, "user_id": 5571700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/edfa10f7db9a89a516b196098f6a1409?s=128&d=identicon&r=PG&f=1", "display_name": "p.mathew13", "link": "https://stackoverflow.com/users/5571700/p-mathew13"}, "edited": false, "score": 0, "creation_date": 1555503596, "post_id": 55727289, "comment_id": 98133543, "body": "It&#39;s normal to use a separate activity or fragment to show the detail page. You can call your specific API from your detail activity/fragment"}, {"owner": {"reputation": 41, "user_id": 1722885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eddbecaa54238685bf833b80430f979e?s=128&d=identicon&r=PG", "display_name": "user1722885", "link": "https://stackoverflow.com/users/1722885/user1722885"}, "reply_to_user": {"reputation": 785, "user_id": 5571700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/edfa10f7db9a89a516b196098f6a1409?s=128&d=identicon&r=PG&f=1", "display_name": "p.mathew13", "link": "https://stackoverflow.com/users/5571700/p-mathew13"}, "edited": false, "score": 0, "creation_date": 1555504320, "post_id": 55727289, "comment_id": 98134016, "body": "What would be the best method to do that? Duplicate the activity_main into a separate activity and call it from the onclick listener?"}, {"owner": {"reputation": 785, "user_id": 5571700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/edfa10f7db9a89a516b196098f6a1409?s=128&d=identicon&r=PG&f=1", "display_name": "p.mathew13", "link": "https://stackoverflow.com/users/5571700/p-mathew13"}, "edited": false, "score": 0, "creation_date": 1555505213, "post_id": 55727289, "comment_id": 98134603, "body": "Why do you want to copy the main_activity. Create a new layout you need to show the corresponding details and call your api from your onCreate()"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1555505314, "post_id": 55727289, "comment_id": 98134666, "body": "the Capabilities array can contain both strings and objects? O_O? Who wrote this API?"}], "answers": [{"tags": [], "owner": {"reputation": 1440, "user_id": 11181035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s01He.jpg?s=128&g=1", "display_name": "Beyazid", "link": "https://stackoverflow.com/users/11181035/beyazid"}, "is_accepted": false, "score": 0, "last_activity_date": 1555504527, "creation_date": 1555504527, "answer_id": 55727709, "question_id": 55727289, "link": "https://stackoverflow.com/questions/55727289/android-recyclerview-in-kotlin/55727709#55727709", "title": "Android RecyclerView in Kotlin", "body": "<p>You can handle <code>RecyclerView</code> click events in your adapter(in BindViewHolder or YourViewHolder). I prefer to open new activity and show details in there</p>\n\n<pre><code>class PostItemDetailsAdapter(private val postdetailsList: List&lt;Attribute&gt;, private val context: Context) :\n    RecyclerView.Adapter&lt;PostItemDetailsAdapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        return ViewHolder(LayoutInflater.from(context).inflate(R.layout.post_item_details,\n    }\n\n    override fun getItemCount(): Int {\n        return postdetailsList.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.itemView.setOnClickListener{\n            //do sth in here\n        }\n\n        //holder.itemView.txtPostID.text = this.postdetailsList[position].id\n        holder.itemView.txtPostName.text = this.postdetailsList[position].name\n        holder.itemView.txtPostCurrent.text = this.postdetailsList[position].currentValue\n        holder.itemView.txtPostDataType.text = this.postdetailsList[position].dataType\n    }\n    class ViewHolder(view: View) : RecyclerView.ViewHolder(view)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 1722885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eddbecaa54238685bf833b80430f979e?s=128&d=identicon&r=PG", "display_name": "user1722885", "link": "https://stackoverflow.com/users/1722885/user1722885"}, "edited": false, "score": 0, "creation_date": 1555515988, "post_id": 55729398, "comment_id": 98141677, "body": "I did like you suggested and nothing happens when I click an item. I put a log item in the onclicklistener in the mainactivity and when I click no logs come through. If I put the onclicklistener in the first adapter, it returns values but it creates an error using your suggestion on the main activity. The postitemadapter is displayed first as soon as the app loads. I want to take the Id from the item selected in that list, pass it to the postitemdetailsadapater and display the data for the details."}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "reply_to_user": {"reputation": 41, "user_id": 1722885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eddbecaa54238685bf833b80430f979e?s=128&d=identicon&r=PG", "display_name": "user1722885", "link": "https://stackoverflow.com/users/1722885/user1722885"}, "edited": false, "score": 0, "creation_date": 1555517216, "post_id": 55729398, "comment_id": 98142303, "body": "please try changes and tell me your log now"}, {"owner": {"reputation": 41, "user_id": 1722885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eddbecaa54238685bf833b80430f979e?s=128&d=identicon&r=PG", "display_name": "user1722885", "link": "https://stackoverflow.com/users/1722885/user1722885"}, "edited": false, "score": 0, "creation_date": 1555518917, "post_id": 55729398, "comment_id": 98143171, "body": "I think this was put in the wrong spot because I am trying to click the button from the initial adapter, which is postitemadapter. I moved this code to that adapter and now getting this error on main activity ``` rv__list_posts.adapter = PostItemAdapter(it, this)``` no value passed for parameter action"}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "reply_to_user": {"reputation": 41, "user_id": 1722885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eddbecaa54238685bf833b80430f979e?s=128&d=identicon&r=PG", "display_name": "user1722885", "link": "https://stackoverflow.com/users/1722885/user1722885"}, "edited": false, "score": 0, "creation_date": 1555519152, "post_id": 55729398, "comment_id": 98143286, "body": "on which itemview you want to click tell me ill provide full code of yours."}, {"owner": {"reputation": 41, "user_id": 1722885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eddbecaa54238685bf833b80430f979e?s=128&d=identicon&r=PG", "display_name": "user1722885", "link": "https://stackoverflow.com/users/1722885/user1722885"}, "edited": false, "score": 1, "creation_date": 1555519862, "post_id": 55729398, "comment_id": 98143631, "body": "I think I figured it out. I just had to pass the &quot;action&quot; in the argument. Its going to the next activity now, just have to mess with the API call now. Thanks for the help!!!!"}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "reply_to_user": {"reputation": 41, "user_id": 1722885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eddbecaa54238685bf833b80430f979e?s=128&d=identicon&r=PG", "display_name": "user1722885", "link": "https://stackoverflow.com/users/1722885/user1722885"}, "edited": false, "score": 0, "creation_date": 1555563662, "post_id": 55729398, "comment_id": 98156009, "body": "@user1722885 please accept the answer if it worked for you and just make changes in it"}], "tags": [], "owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "is_accepted": false, "score": 0, "last_activity_date": 1555519423, "last_edit_date": 1555519423, "creation_date": 1555509796, "answer_id": 55729398, "question_id": 55727289, "link": "https://stackoverflow.com/questions/55727289/android-recyclerview-in-kotlin/55729398#55729398", "title": "Android RecyclerView in Kotlin", "body": "<p>For Adapter :</p>\n\n<pre><code>class PostItemDetailsAdapter(private val postdetailsList: List&lt;Attribute&gt;, private val context: Context, val action: View.OnClickListener) :\n    RecyclerView.Adapter&lt;PostItemDetailsAdapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        return ViewHolder(LayoutInflater.from(context).inflate(R.layout.post_item_details,\n    }\n\n    override fun getItemCount(): Int {\n        return postdetailsList.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.itemView.(/*Pass your itemview name).setOnClickListener({it-&gt;\n            /*Put log for that id */\n            action.onClick(it)\n        })\n\n        //holder.itemView.txtPostID.text = this.postdetailsList[position].id\n        holder.itemView.txtPostName.text = this.postdetailsList[position].name\n        holder.itemView.txtPostCurrent.text = this.postdetailsList[position].currentValue\n        holder.itemView.txtPostDataType.text = this.postdetailsList[position].dataType\n    }\n    class ViewHolder(view: View) : RecyclerView.ViewHolder(view)\n}\n</code></pre>\n\n<p>Now put those things in your Activity :</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    lateinit var adapter: PostItemDetailsAdapter\n    lateinit var action: View.OnClickListener\n    override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_main)\n            rv__list_posts.layoutManager = LinearLayoutManager(this)\n            action = View.OnClickListener {\n               //Things you want to do it in your On Click you can log \n            }\n    }\n}\n</code></pre>\n\n<p>Just Pass the parameter values to adapter :</p>\n\n<pre><code>rv__list_posts.adapter = PostItemDetailsAdapter(it, this, action)\n</code></pre>\n\n<p>Hope it will work for you. If there is any problem tell ill check.</p>\n"}], "owner": {"reputation": 41, "user_id": 1722885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eddbecaa54238685bf833b80430f979e?s=128&d=identicon&r=PG", "display_name": "user1722885", "link": "https://stackoverflow.com/users/1722885/user1722885"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1370, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1555956832, "creation_date": 1555503054, "last_edit_date": 1555956832, "question_id": 55727289, "link": "https://stackoverflow.com/questions/55727289/android-recyclerview-in-kotlin", "title": "Android RecyclerView in Kotlin", "body": "<p>Trying to learn how to develop an android app and running into what seems like a basic problem but having issues understanding how to move forward.\nI have a <code>RecyclerView</code> that displays the API list correctly and I get how to do that. What I want to do next is if the user clicks the item (passing the device ID) it will go into the detail of the item passing a different API call (different URL). What I am not understanding is how to move into the details after the click.</p>\n\n<p>I am debugging the code and have the click's logging correctly with the device ID correctly but not sure where to go from here. Do I somehow \"refresh\" the RecyclerView and display the new data or do I create a new activity and display the results there?</p>\n\n<p>List of Devices API</p>\n\n<pre><code>[\n    {\n        \"id\": \"65\",\n        \"name\": \"Switch - Kitchen\",\n        \"label\": \"Switch - Kitchen\"\n    },\n    {\n        \"id\": \"98\",\n        \"name\": \"Location Sensor - 1\",\n        \"label\": \"Location Sensor - 1\"\n    },\n    {\n        \"id\": \"99\",\n        \"name\": \"Location Sensor - 2\",\n        \"label\": \"Location Sensor - 2\"\n    },\n    {\n        \"id\": \"136\",\n        \"name\": \"Switch - Bedroom\",\n        \"label\": \"Switch - Bedroom\"\n    },\n    {\n        \"id\": \"161\",\n        \"name\": \"Location Sensor - 3\",\n        \"label\": \"Location Sensor - 3\"\n    },\n    {\n        \"id\": \"193\",\n        \"name\": \"Switch - Family Room\",\n        \"label\": \"Switch - Family Room\"\n    }\n]\n</code></pre>\n\n<p>Device Details API</p>\n\n<pre><code>{\n    \"id\": \"65\",\n    \"name\": \"Switch - Kitchen\",\n    \"label\": \"Switch - Kitchen\",\n    \"attributes\": [\n        {\n            \"name\": \"switch\",\n            \"currentValue\": \"off\",\n            \"dataType\": \"ENUM\",\n            \"values\": [\n                \"on\",\n                \"off\"\n            ]\n        }\n    ],\n    \"capabilities\": [\n        \"Switch\",\n        {\n            \"attributes\": [\n                {\n                    \"name\": \"switch\",\n                    \"dataType\": null\n                }\n            ]\n        },\n        \"Configuration\",\n        \"Refresh\",\n        \"Actuator\"\n    ],\n    \"commands\": [\n        \"configure\",\n        \"flash\",\n        \"off\",\n        \"on\",\n        \"refresh\",\n        \"refresh\"\n    ]\n}\n</code></pre>\n\n<p>Main Activity</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    //Global Variable for Device ID//\n    class vdeviceID: Application() {\n        companion object{\n            var globalDeviceID = 0\n        }\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        rv__list_posts.layoutManager = LinearLayoutManager(this)\n\n        //Debugging URL//\n        val interceptor : HttpLoggingInterceptor = HttpLoggingInterceptor().apply {\n            this.level = HttpLoggingInterceptor.Level.BODY\n        }\n\n        val client : OkHttpClient = OkHttpClient.Builder().apply {\n            this.addInterceptor(interceptor)\n        }.build()\n        //Debugging URL//\n\n        //Base of API Call//\n\n        val retrofit = Retrofit.Builder().addConverterFactory(GsonConverterFactory.create(GsonBuilder().create()))\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .baseUrl(\"http://xxx.xxx.xxx.xxx/apps/api/109/\")\n            .client(client)\n            .build()\n        //Base of API Call//\n\n\n    //Build List of Devices//\n        val postsApi = retrofit.create(INetworkAPI::class.java)\n        var response = postsApi.getAllPosts(access_token = \"xxxxxxx\")\n\n        //Displaying List//\n        response.observeOn(AndroidSchedulers.mainThread()).subscribeOn(IoScheduler()).subscribe {\n            rv__list_posts.adapter = PostItemAdapter(it, this)\n        }\n</code></pre>\n\n<p>API Call</p>\n\n<pre><code>interface INetworkAPI {\n    @GET(\"devices\")\n    fun getAllPosts(@Query(\"access_token\") access_token: String): Observable&lt;List&lt;DevicesList&gt;&gt;\n\n}\n</code></pre>\n\n<p>Item Adapter</p>\n\n<pre><code>class PostItemAdapter(private val postList: List&lt;DevicesList&gt;, private val context: Context) :\n    RecyclerView.Adapter&lt;PostItemAdapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        return ViewHolder(\n            LayoutInflater.from(context).inflate(R.layout.post_item_layout, parent, false)\n\n\n        )\n    }\n\n    override fun getItemCount(): Int {\n        return postList.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n        val globalDeviceID = this.postList[position].id\n        holder.itemView.txtPostID.text = this.postList[position].id\n        holder.itemView.txtPostName.text = this.postList[position].name\n        holder.itemView.txtPostLabel.text = this.postList[position].label\n        holder.itemView.setOnClickListener {\n                v -&gt; Log.d(\"TAG\", globalDeviceID)\n        }\n    }\n    class ViewHolder(view: View) : RecyclerView.ViewHolder(view)\n}\n</code></pre>\n\n<p>Want to display this after onclick</p>\n\n<pre><code>//Specific Devices//\n        val postsDetailsApi = retrofit.create(INetworkAPIDetails::class.java)\n        var responseDetails = postsDetailsApi.getAllDetails(access_token = \"xxxxxxx\")\n        //Displaying List//\n        responseDetails.observeOn(AndroidSchedulers.mainThread()).subscribeOn(IoScheduler()).subscribe {\n            rv__list_posts.adapter = PostItemDetailsAdapter(it, this)\n        }\n</code></pre>\n\n<p>Specific Device API</p>\n\n<pre><code>interface INetworkAPIDetails {\n    @GET(\"devices/\")\n    fun getAllDetails(@Query(\"access_token\") access_token: String): Observable&lt;List&lt;DeviceDetails&gt;&gt;\n    fun getAllDetailsAttr(): Observable&lt;List&lt;Attribute&gt;&gt;\n}\n</code></pre>\n\n<p>Specific Device Interface</p>\n\n<pre><code>class PostItemDetailsAdapter(private val postdetailsList: List&lt;Attribute&gt;, private val context: Context) :\n    RecyclerView.Adapter&lt;PostItemDetailsAdapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n\n        return ViewHolder(\n            LayoutInflater.from(context).inflate(R.layout.post_item_details,\n                parent, false))\n    }\n\n    override fun getItemCount(): Int {\n        return postdetailsList.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n        //holder.itemView.txtPostID.text = this.postdetailsList[position].id\n        holder.itemView.txtPostName.text = this.postdetailsList[position].name\n        holder.itemView.txtPostCurrent.text = this.postdetailsList[position].currentValue\n        holder.itemView.txtPostDataType.text = this.postdetailsList[position].dataType\n    }\n    class ViewHolder(view: View) : RecyclerView.ViewHolder(view)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-architecture-navigation", "android-jetpack-navigation"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1555502750, "post_id": 55727173, "comment_id": 98133032, "body": "It&#39;s not restarted, it&#39;s <i>replaced</i>. It&#39;s the same as when you did <code>replace().addToBackStack()</code>. So the state of the Fragment should be exactly what it was, <b>but</b> the view is recreated."}, {"owner": {"reputation": 457, "user_id": 2858237, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WfFfV.jpg?s=128&g=1", "display_name": "Zohaib Akram", "link": "https://stackoverflow.com/users/2858237/zohaib-akram"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1555502911, "post_id": 55727173, "comment_id": 98133138, "body": "@EpicPandaForce Thanks, Then how i maintain the state of my recyclerview view that is scrolled down by user?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1555505257, "post_id": 55727173, "comment_id": 98134629, "body": "The LayoutManager of the RecyclerView should persist and restore its state, and that is what stores the scroll position; meaning you shouldn&#39;t need to reload your data (especially not set an empty list as initialization) just because you navigated back."}], "answers": [{"tags": [], "owner": {"reputation": 402, "user_id": 9674343, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gal", "link": "https://stackoverflow.com/users/9674343/gal"}, "is_accepted": false, "score": 1, "last_activity_date": 1561893821, "creation_date": 1561893821, "answer_id": 56824466, "question_id": 55727173, "link": "https://stackoverflow.com/questions/55727173/android-navigation-components/56824466#56824466", "title": "Android Navigation Components", "body": "<p>I have been using the navigation component with fragments in my project and I found that the easiest way to save a fragment state is using the view model component: \n<a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel?gclid=EAIaIQobChMI442XtIuR4wIVhuiaCh0uGAFZEAAYASAAEgIRIfD_BwE\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/viewmodel?gclid=EAIaIQobChMI442XtIuR4wIVhuiaCh0uGAFZEAAYASAAEgIRIfD_BwE</a></p>\n\n<p>I have been using MVP Architecture and in my model I extend the view model. \nThat way as long as your activity wasn't destroyed the model instance is being saved and you can access it when the fragment reload so all it's parameters are still there so you can reinitialise your fragment with the saved values inside your model.</p>\n"}], "owner": {"reputation": 457, "user_id": 2858237, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WfFfV.jpg?s=128&g=1", "display_name": "Zohaib Akram", "link": "https://stackoverflow.com/users/2858237/zohaib-akram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561893821, "creation_date": 1555502636, "question_id": 55727173, "link": "https://stackoverflow.com/questions/55727173/android-navigation-components", "title": "Android Navigation Components", "body": "<p>I added Android new Navigation Component inside my app and created navGraph and added few fragments as a destinations. I figure out every time i navigates into destinations previous destination (fragment) is begin restarted. And my last state of previous destination (fragment) has lost. Is there any options to retain this?\nAs i already used <code>retainInstance</code> in fragment.</p>\n"}, {"tags": ["generics", "kotlin", "abstract-class"], "answers": [{"comments": [{"owner": {"reputation": 2796, "user_id": 3181492, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8eb2d073b1570575dc48f6090cabd7af?s=128&d=identicon&r=PG&f=1", "display_name": "Klyner", "link": "https://stackoverflow.com/users/3181492/klyner"}, "edited": false, "score": 0, "creation_date": 1555504967, "post_id": 55727417, "comment_id": 98134472, "body": "<code>but the compiler wants to be sure there&#39;s nothing wrong with your types</code> Why should the compiler have doubts about the validity of the parameter while it can be anything?"}, {"owner": {"reputation": 111, "user_id": 5395982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e1727292ef2c70cedaecd965244f56?s=128&d=identicon&r=PG&f=1", "display_name": "A.Bitner", "link": "https://stackoverflow.com/users/5395982/a-bitner"}, "reply_to_user": {"reputation": 2796, "user_id": 3181492, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8eb2d073b1570575dc48f6090cabd7af?s=128&d=identicon&r=PG&f=1", "display_name": "Klyner", "link": "https://stackoverflow.com/users/3181492/klyner"}, "edited": false, "score": 1, "creation_date": 1555506956, "post_id": 55727417, "comment_id": 98135751, "body": "Well... it can be anything during object creation. However when the object is created you have to work with this particular type. If you declare your class as Node&lt;T&gt; then you can create an object of type Node&lt;Message&gt;, you also can create an object of type Node&lt;String&gt;, Node&lt;Any&gt;, etc. And method parameter &#39;message&#39; of type T becomes Message, String or Any respectively. If you create an object of type Node&lt;Message&gt; and try to pass String to the method, which now expects Message and not String, then you&#39;re in big trouble (this is basically huge problem of dynamic typed languages). @Klyner"}, {"owner": {"reputation": 111, "user_id": 5395982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e1727292ef2c70cedaecd965244f56?s=128&d=identicon&r=PG&f=1", "display_name": "A.Bitner", "link": "https://stackoverflow.com/users/5395982/a-bitner"}, "reply_to_user": {"reputation": 2796, "user_id": 3181492, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8eb2d073b1570575dc48f6090cabd7af?s=128&d=identicon&r=PG&f=1", "display_name": "Klyner", "link": "https://stackoverflow.com/users/3181492/klyner"}, "edited": false, "score": 0, "creation_date": 1555506989, "post_id": 55727417, "comment_id": 98135775, "body": "You might wonder &quot;But there&#39;s &lt;T : Message&gt; and the parameter type is Message so if I pass it to T everything should be fine&quot;. And you would be absolutely right! However it&#39;s okay from your point of view, not the compiler&#39;s. At this particular point of time compiler sees two different types, that&#39;s why you get the error. Maybe some day it will know that your code is safe, but today it&#39;s not able to determine that. @Klyner"}, {"owner": {"reputation": 2796, "user_id": 3181492, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8eb2d073b1570575dc48f6090cabd7af?s=128&d=identicon&r=PG&f=1", "display_name": "Klyner", "link": "https://stackoverflow.com/users/3181492/klyner"}, "edited": false, "score": 1, "creation_date": 1555509788, "post_id": 55727417, "comment_id": 98137686, "body": "Thanks a lot! Now I think it lands. So <code>T</code> refers to the type that was used with the object creation for the Node&lt;T&gt; which by then is defined and can no longer be changed for that particular object."}], "tags": [], "owner": {"reputation": 111, "user_id": 5395982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e1727292ef2c70cedaecd965244f56?s=128&d=identicon&r=PG&f=1", "display_name": "A.Bitner", "link": "https://stackoverflow.com/users/5395982/a-bitner"}, "is_accepted": true, "score": 1, "last_activity_date": 1555503594, "creation_date": 1555503594, "answer_id": 55727417, "question_id": 55726982, "link": "https://stackoverflow.com/questions/55726982/type-mismatch-found-message-required-t/55727417#55727417", "title": "Type mismatch; found `Message`, required `T`", "body": "<blockquote>\n  <p>In my head such a parameter with type T can be anything</p>\n</blockquote>\n\n<p>Yes, it can be anything, but the compiler wants to be sure there's nothing wrong with your types. So you'll have to either create your Node object like this <code>Node&lt;Message&gt;()</code> or change <code>publishMessage</code> method signature to <code>fun &lt;T : Message&gt; publishMessage(topic: String, type: Class&lt;T&gt;, message: T)</code>. In this case the compiler can guarantee type safety and the error will go away.</p>\n"}], "owner": {"reputation": 2796, "user_id": 3181492, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8eb2d073b1570575dc48f6090cabd7af?s=128&d=identicon&r=PG&f=1", "display_name": "Klyner", "link": "https://stackoverflow.com/users/3181492/klyner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 55727417, "answer_count": 1, "score": 0, "last_activity_date": 1555503594, "creation_date": 1555501948, "question_id": 55726982, "link": "https://stackoverflow.com/questions/55726982/type-mismatch-found-message-required-t", "title": "Type mismatch; found `Message`, required `T`", "body": "<p>In my code I have a method <code>publishMessage</code> requiring type extending from class <code>Message</code>. In this method <code>publish</code> is called which requires <code>message</code> of type <code>T</code>. </p>\n\n<p>This gives the error > Type mismatch; found <code>Message</code>, required <code>T</code>.</p>\n\n<p>Does this have to do with <code>T</code> that need to be an extension of class <code>Message</code> which is declared with the method? I do not see why this can not be done.</p>\n\n<p>In my head such a parameter with type <code>T</code> can be anything</p>\n\n<blockquote>\n  <p>Myclass</p>\n</blockquote>\n\n<pre><code>fun &lt;T : Message&gt; publishMessage(topic: String, type: Class&lt;T&gt;, message: Message) {\n    val node = findOrCreateNode(topic, type)\n    node.publish(message) // Type mismatch; found `Message`, required `T` .\n}\n</code></pre>\n\n<blockquote>\n  <p>Node class</p>\n</blockquote>\n\n<pre><code>fun publish(message: T) {\n   // Implementation\n}\n</code></pre>\n"}, {"tags": ["spring", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 1, "creation_date": 1555503729, "post_id": 55725696, "comment_id": 98133627, "body": "If the class containing the suspend function is a Spring been, yes."}, {"owner": {"reputation": 3602, "user_id": 20391, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/26a659183b1f5de95b06bf365bf9836b?s=128&d=identicon&r=PG", "display_name": "Pavel Bernshtam", "link": "https://stackoverflow.com/users/20391/pavel-bernshtam"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1555504717, "post_id": 55725696, "comment_id": 98134290, "body": "@SimonMartinelli Thank you. Make the answer from comment and I&#39;ll mark it as resolution"}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1555523590, "post_id": 55725696, "comment_id": 98145348, "body": "Ok Thank you..."}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 9578295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MawsY.jpg?s=128&g=1", "display_name": "Yihao Gao", "link": "https://stackoverflow.com/users/9578295/yihao-gao"}, "edited": false, "score": 1, "creation_date": 1618814625, "post_id": 55733417, "comment_id": 118706465, "body": "<a href=\"https://github.com/spring-projects/spring-framework/issues/26705#issuecomment-816653989\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/&hellip;</a> &quot;Coroutines transactions should be used with WebFlux and R2DBC, not WebMVC and JDBC.&quot;"}], "tags": [], "owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "is_accepted": true, "score": 2, "last_activity_date": 1555523569, "creation_date": 1555523569, "answer_id": 55733417, "question_id": 55725696, "link": "https://stackoverflow.com/questions/55725696/is-it-possible-to-make-transactional-suspend-function/55733417#55733417", "title": "Is it possible to make @Transactional suspend function?", "body": "<p>Yes, if the class containing the suspend function is a Spring bean then this is possible.</p>\n"}], "owner": {"reputation": 3602, "user_id": 20391, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/26a659183b1f5de95b06bf365bf9836b?s=128&d=identicon&r=PG", "display_name": "Pavel Bernshtam", "link": "https://stackoverflow.com/users/20391/pavel-bernshtam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 0, "accepted_answer_id": 55733417, "answer_count": 1, "score": 0, "last_activity_date": 1555523569, "creation_date": 1555497726, "question_id": 55725696, "link": "https://stackoverflow.com/questions/55725696/is-it-possible-to-make-transactional-suspend-function", "title": "Is it possible to make @Transactional suspend function?", "body": "<p>I'm trying to rewrite my Vertx application using kotlin coroutines integration with Vertx.</p>\n\n<p>I my application i'm using Spring Data JPA, so my Vertx verticles call to Spring services, whose methods are marked with <code>@Transactional</code> annotation using <code>Vertx.executeBlocking()</code></p>\n\n<p>Can I put <code>@Transactional</code> on kotlin <code>suspend</code> function?</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl", "kotlin-dsl"], "answers": [{"tags": [], "owner": {"reputation": 23433, "user_id": 1127485, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7eccba442d1ee3ca8e4ded89b343362?s=128&d=identicon&r=PG", "display_name": "sschuberth", "link": "https://stackoverflow.com/users/1127485/sschuberth"}, "is_accepted": false, "score": 2, "last_activity_date": 1555499930, "creation_date": 1555499930, "answer_id": 55726351, "question_id": 55725574, "link": "https://stackoverflow.com/questions/55725574/how-to-conditionally-accept-gradle-build-scan-plugin-terms-of-service-in-kotlin/55726351#55726351", "title": "How to conditionally accept Gradle build scan plugin terms of service in Kotlin DSL?", "body": "<p>It's not exactly nice, but using reflection it works:</p>\n\n<pre><code>if (hasProperty(\"buildScan\")) {\n    extensions.configure(\"buildScan\") {\n        val setTermsOfServiceUrl = javaClass.getMethod(\"setTermsOfServiceUrl\", String::class.java)\n        setTermsOfServiceUrl.invoke(this, \"https://gradle.com/terms-of-service\")\n\n        val setTermsOfServiceAgree = javaClass.getMethod(\"setTermsOfServiceAgree\", String::class.java)\n        setTermsOfServiceAgree.invoke(this, \"yes\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3485, "user_id": 300053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdc4f36b549c1066a3b47bcfa85d40da?s=128&d=identicon&r=PG", "display_name": "eskatos", "link": "https://stackoverflow.com/users/300053/eskatos"}, "is_accepted": true, "score": 5, "last_activity_date": 1560786146, "creation_date": 1560786146, "answer_id": 56634703, "question_id": 55725574, "link": "https://stackoverflow.com/questions/55725574/how-to-conditionally-accept-gradle-build-scan-plugin-terms-of-service-in-kotlin/56634703#56634703", "title": "How to conditionally accept Gradle build scan plugin terms of service in Kotlin DSL?", "body": "<p>The Gradle Kotlin DSL provides a <code>withGroovyBuilder {}</code> utility extension that attaches the Groovy metaprogramming semantics to any object. See the <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html#the_kotlin_dsl_groovy_builder\" rel=\"noreferrer\">official documentation</a>.</p>\n\n<pre><code>extensions.findByName(\"buildScan\")?.withGroovyBuilder {\n  setProperty(\"termsOfServiceUrl\", \"https://gradle.com/terms-of-service\")\n  setProperty(\"termsOfServiceAgree\", \"yes\")\n}\n</code></pre>\n\n<p>This ends up doing reflection, just like Groovy, but it keeps the script a bit more tidy.</p>\n"}], "owner": {"reputation": 23433, "user_id": 1127485, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7eccba442d1ee3ca8e4ded89b343362?s=128&d=identicon&r=PG", "display_name": "sschuberth", "link": "https://stackoverflow.com/users/1127485/sschuberth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 1, "accepted_answer_id": 56634703, "answer_count": 2, "score": 7, "last_activity_date": 1560786146, "creation_date": 1555497270, "question_id": 55725574, "link": "https://stackoverflow.com/questions/55725574/how-to-conditionally-accept-gradle-build-scan-plugin-terms-of-service-in-kotlin", "title": "How to conditionally accept Gradle build scan plugin terms of service in Kotlin DSL?", "body": "<p>This basically extends <a href=\"https://stackoverflow.com/q/52636622/1127485\">this question</a> to Kotlin DSL instead of Groovy DSL:</p>\n\n<p>How does the <a href=\"https://stackoverflow.com/a/52642692/1127485\">Groovy DSL solution</a> of</p>\n\n<pre><code>if (hasProperty('buildScan')) {\n    buildScan {\n        termsOfServiceUrl = 'https://gradle.com/terms-of-service'\n        termsOfServiceAgree = 'yes'\n    }\n}\n</code></pre>\n\n<p>translate to Kotlin DSL?</p>\n\n<p>The problem I'm running is that the \"buildScan\" extension or the <code>com.gradle.scan.plugin.BuildScanExtension</code> class cannot statically be used as they are either present or not present depending on whether the <code>--scan</code> command line argument was provided to Gradle or not. </p>\n\n<p>I've tried</p>\n\n<pre><code>if (hasProperty(\"buildScan\")) {\n    extensions.configure(\"buildScan\") {\n        termsOfServiceUrl = \"https://gradle.com/terms-of-service\"\n        termsOfServiceAgree = \"yes\"\n    }\n}\n</code></pre>\n\n<p>but as expected <code>termsOfServiceUrl</code> and <code>termsOfServiceAgree</code> do not resolve, however I'm clueless what syntax to use here.</p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-appcompat"], "comments": [{"owner": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "edited": false, "score": 0, "creation_date": 1555497793, "post_id": 55725496, "comment_id": 98130192, "body": "please also post your project level gradle"}, {"owner": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "reply_to_user": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "edited": false, "score": 0, "creation_date": 1555498089, "post_id": 55725496, "comment_id": 98130358, "body": "@android Updated the question with more information"}, {"owner": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "edited": false, "score": 0, "creation_date": 1555498409, "post_id": 55725496, "comment_id": 98130531, "body": "convert your project to androidx and then please try to put &quot;android.dagger-androidx=true&quot; in your gradle.properties"}, {"owner": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "reply_to_user": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "edited": false, "score": 0, "creation_date": 1555498989, "post_id": 55725496, "comment_id": 98130819, "body": "I converted the project to androidx and started getting same error in the form of androidx i.e.-  Program type already present: androidx.support.R$attr"}, {"owner": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "edited": false, "score": 0, "creation_date": 1555499226, "post_id": 55725496, "comment_id": 98130951, "body": "have you put &quot;android.dagger-androidx=true&quot; in gradle.properties?"}, {"owner": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "reply_to_user": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "edited": false, "score": 0, "creation_date": 1555499531, "post_id": 55725496, "comment_id": 98131124, "body": "No, I removed dagger dependencies and its code that time when I was getting dagger related error."}, {"owner": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "edited": false, "score": 0, "creation_date": 1555499586, "post_id": 55725496, "comment_id": 98131161, "body": "no its not only for dagger just try to paste and see its working or not because i had the same issue without using dagger which solved my problem"}, {"owner": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "reply_to_user": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "edited": false, "score": 0, "creation_date": 1555499612, "post_id": 55725496, "comment_id": 98131177, "body": "ok I&#39;m trying this now."}, {"owner": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "reply_to_user": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "edited": false, "score": 0, "creation_date": 1555502207, "post_id": 55725496, "comment_id": 98132695, "body": "Tried this but getting this error- Program type already present: androidx.core.R$attr  I have added dagger flag also in gradle.properties"}, {"owner": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "reply_to_user": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "edited": false, "score": 0, "creation_date": 1555563564, "post_id": 55725496, "comment_id": 98155989, "body": "@android is there any other resolution for this?"}, {"owner": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "edited": false, "score": 0, "creation_date": 1555564196, "post_id": 55725496, "comment_id": 98156180, "body": "i&#39;m trying to solve it. please wait"}, {"owner": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "reply_to_user": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "edited": false, "score": 0, "creation_date": 1555565330, "post_id": 55725496, "comment_id": 98156498, "body": "@android sure, I&#39;m also trying. Please let me know if you find any solution."}], "answers": [{"comments": [{"owner": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "edited": false, "score": 0, "creation_date": 1555594682, "post_id": 55741533, "comment_id": 98171332, "body": "Made changes in my code, it didn&#39;t work. Then downloaded your code from dropbox but it&#39;s also not working. It&#39;s working in &quot;debug&quot; mode but not in &quot;release&quot; mode. Have you tried it in &quot;release&quot; build?"}, {"owner": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "reply_to_user": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "edited": false, "score": 0, "creation_date": 1555601617, "post_id": 55741533, "comment_id": 98175479, "body": "No I have not tried in release mode, let me also try in release mode and  I&#39;ll update answer as i&#39;ll done."}, {"owner": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "edited": false, "score": 0, "creation_date": 1555602674, "post_id": 55741533, "comment_id": 98176051, "body": "Sure, the issue is in release build only"}, {"owner": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "reply_to_user": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "edited": false, "score": 0, "creation_date": 1555647346, "post_id": 55741533, "comment_id": 98188769, "body": "its because of facebookScreenshotTestLitho and if i updated it from 0.8.0 to 0.9.0 but its not working. if i remove &quot;implementation rootProject.ext.facebookScreenshotTestLitho&quot; from app gradle as well from module gradle then it will work in release build also."}, {"owner": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "edited": false, "score": 0, "creation_date": 1555767236, "post_id": 55741533, "comment_id": 98220508, "body": "Yeah, not only in Litho, but also in support test rule library. I have created an issue in facebook GitHub- <a href=\"https://github.com/facebook/screenshot-tests-for-android/issues/218\" rel=\"nofollow noreferrer\">github.com/facebook/screenshot-tests-for-android/issues/218</a>  Thank you so much for helping me out. Please update your answer then I will mark it as accepted."}], "tags": [], "owner": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "is_accepted": true, "score": 0, "last_activity_date": 1555773654, "last_edit_date": 1555773654, "creation_date": 1555574278, "answer_id": 55741533, "question_id": 55725496, "link": "https://stackoverflow.com/questions/55725496/program-type-already-present-android-support-compat-rattr/55741533#55741533", "title": "Program type already present: android.support.compat.R$attr", "body": "<p>Hi i have come up with the solution and run successful below gradles with just little version changes:</p>\n\n<blockquote>\n  <p>Main Project Level Gradle:</p>\n</blockquote>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.3.30'\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.2'\n        classpath 'com.facebook.testing.screenshot:plugin:0.8.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n\next {\n    //Android\n    minSdkVersion = 24\n    targetSdkVersion = 28\n    compileSdkVersion = targetSdkVersion\n    testInstrumentationRunner = \"com.appname.runner.SnapshotTestRunner\"\n    androidSupportLibVersion = \"28.0.0\"\n    androidCompatVersion = \"1.0.0-beta01\"\n    androidCardViewVersion = \"1.0.0\"\n    constraintlayoutVersion = \"1.1.3\"\n    okHttpLibVersion = \"3.14.0\"\n\n    //Unit testing\n    junit = \"junit:junit:4.12\"\n    androidTestRunner = \"androidx.test:runner:1.1.0-alpha4\"\n    espresso = \"androidx.test.espresso:espresso-core:3.1.0-alpha4\"\n    supportTestRules = \"com.android.support.test:rules:1.0.2\"\n\n    //Support Library &amp; UI\n    constraintLayout = \"androidx.constraintlayout:constraintlayout:$constraintlayoutVersion\"\n    supportCompatV7 = \"androidx.appcompat:appcompat:$androidCompatVersion\"\n    supportDesign = \"com.android.support:design:$androidSupportLibVersion\"\n    supportCardView = \"androidx.cardview:cardview:$androidCardViewVersion\"\n    supportCustomTabs = \"com.android.support:customtabs:$androidSupportLibVersion\"\n    glide = \"com.github.bumptech.glide:glide:3.7.0\"\n\n\n    mockito = \"org.mockito:mockito-all:1.10.19\"\n    facebookScreenshotTestCommon = \"com.facebook.testing.screenshot:layout-hierarchy-common:0.8.0\"\n    facebookScreenshotTestLitho = \"com.facebook.testing.screenshot:layout-hierarchy-litho:0.8.0\"\n\n\n    // RxJava lib\n    rxAndroid = \"io.reactivex.rxjava2:rxandroid:2.0.1\"\n    rxJava = \"io.reactivex.rxjava2:rxjava:2.1.8\"\n    rxJavaRetrofitAdapter = \"com.jakewharton.retrofit:retrofit2-rxjava2-adapter:1.0.0\"\n\n    //Retrofit\n    retrofit = \"com.squareup.retrofit2:retrofit:2.4.0\"\n    okHttp = \"com.squareup.okhttp3:okhttp:$okHttpLibVersion\"\n    okHttpLoggingInterceptor = \"com.squareup.okhttp3:logging-interceptor:$okHttpLibVersion\"\n    retrofitGsonConverter = \"com.squareup.retrofit2:converter-gson:2.3.0\"\n    retrofitScalarsConverter = \"com.squareup.retrofit2:converter-scalars:2.3.0\"\n\n    //Others\n    parceler = \"org.parceler:parceler-api:1.1.9\"\n    parcelerAnnotationProcessor = \"org.parceler:parceler:1.1.9\"\n    lombok = \"org.projectlombok:lombok:1.16.16\"\n    lombokAnnotationProcessor = \"org.projectlombok:lombok:1.16.16\"\n\n}\n</code></pre>\n\n<blockquote>\n  <p>App Level gradle:</p>\n</blockquote>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    defaultConfig {\n        applicationId \"com.example.gradletest\"\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    testImplementation rootProject.ext.junit\n    androidTestImplementation rootProject.ext.androidTestRunner\n    androidTestImplementation rootProject.ext.espresso\n    androidTestImplementation rootProject.ext.supportTestRules\n    testImplementation rootProject.ext.mockito\n    testImplementation rootProject.ext.facebookScreenshotTestCommon\n    implementation rootProject.ext.facebookScreenshotTestLitho\n    implementation rootProject.ext.constraintLayout\n    implementation rootProject.ext.supportCompatV7\n    implementation rootProject.ext.supportDesign\n    implementation rootProject.ext.supportCardView\n    implementation rootProject.ext.supportCustomTabs\n    implementation rootProject.ext.glide\n    // RxJava lib\n    implementation rootProject.ext.rxAndroid\n    implementation rootProject.ext.rxJava\n    implementation rootProject.ext.rxJavaRetrofitAdapter\n    //Retrofit\n    implementation(rootProject.ext.retrofit) {\n        exclude module: 'okhttp'\n    }\n        implementation rootProject.ext.okHttp\n        implementation rootProject.ext.okHttpLoggingInterceptor\n        implementation rootProject.ext.retrofitGsonConverter\n        implementation rootProject.ext.retrofitScalarsConverter\n    implementation rootProject.ext.parceler\n//        annotationProcessor rootProject.ext.parcelerAnnotationProcessor\n        implementation rootProject.ext.lombok\n        annotationProcessor rootProject.ext.lombokAnnotationProcessor\n    //Memory leaks\n    debugImplementation 'com.squareup.leakcanary:leakcanary-android:1.6.3'\n    releaseImplementation 'com.squareup.leakcanary:leakcanary-android-no-op:1.6.3'\n    debugImplementation 'com.squareup.leakcanary:leakcanary-support-fragment:1.6.3'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.multidots:fingerprint-auth:1.0.1'\n    implementation project(':energyswitchcui')\n}\n</code></pre>\n\n<blockquote>\n  <p>Module(\"energyswitchcui\") gradle:</p>\n</blockquote>\n\n<pre><code>apply plugin: 'com.android.library'\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    //Unit testing\n    testImplementation rootProject.ext.junit\n    androidTestImplementation rootProject.ext.androidTestRunner\n    androidTestImplementation rootProject.ext.espresso\n    testImplementation rootProject.ext.mockito\n    testImplementation rootProject.ext.facebookScreenshotTestCommon\n    implementation rootProject.ext.facebookScreenshotTestLitho\n    androidTestImplementation rootProject.ext.supportTestRules\n\n    //Support Library &amp; UI\n    implementation rootProject.ext.constraintLayout\n    implementation rootProject.ext.supportCompatV7\n    implementation rootProject.ext.supportDesign\n    implementation rootProject.ext.supportCardView\n    implementation rootProject.ext.supportCustomTabs\n    implementation rootProject.ext.glide\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\n\n    // RxJava lib\n    implementation rootProject.ext.rxAndroid\n    implementation rootProject.ext.rxJava\n    implementation rootProject.ext.rxJavaRetrofitAdapter\n\n    //Retrofit\n    implementation(rootProject.ext.retrofit) {\n        exclude module: 'okhttp'\n    }\n    implementation rootProject.ext.okHttp\n    implementation rootProject.ext.okHttpLoggingInterceptor\n    implementation rootProject.ext.retrofitGsonConverter\n    implementation rootProject.ext.retrofitScalarsConverter\n\n    //Others\n    implementation rootProject.ext.parceler\n//    kapt rootProject.ext.parcelerAnnotationProcessor\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n}\n\nrepositories {\n    mavenCentral()\n}\n\n// need for facebook screenshot test in module\napply plugin: 'com.facebook.testing.screenshot'\nscreenshots {\n    multipleDevices true\n}\n</code></pre>\n\n<p>Below are the errors that were encountered during gradle and what i have done to solve it:</p>\n\n<p>1) Error: Invoke-customs are only supported starting with Android O (--min-api 26)</p>\n\n<p>Solution: put below lines under android section of app level gradle</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p>2) Error: The given artifact contains a string literal with a package reference 'android.support.v4.widget' that cannot be safely rewritten. Libraries using reflection such as annotation processors need to be updated manually to add support for androidx.</p>\n\n<p>Solution: Removed \"annotationProcessor rootProject.ext.parcelerAnnotationProcessor\" from app level gradle and updated this library in main level gradle under \"ext\" section from 1.1.6 to 1.1.9 'parcelerAnnotationProcessor = \"org.parceler:parceler:1.1.9\"'\nbut it does not worked</p>\n\n<p>So i removed that library and successfully build gradle and also can run the project. Here is the dropbox link you can find project on :<a href=\"https://www.dropbox.com/s/ki8gpfdaxh0dzo3/GradleTest.zip?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/ki8gpfdaxh0dzo3/GradleTest.zip?dl=0</a></p>\n\n<p><strong>3) Above solution will work only in debug mode but in release build we have to also remove this two libraries to build successfully in release build:</strong></p>\n\n<pre><code>facebookScreenshotTestCommon = \"com.facebook.testing.screenshot:layout-hierarchy-common:0.9.0\"\n\nfacebookScreenshotTestLitho = \"com.facebook.testing.screenshot:layout-hierarchy-litho:0.9.0\"\n</code></pre>\n"}], "owner": {"reputation": 461, "user_id": 4001244, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001893412625/picture?type=large", "display_name": "Mohit Rajput", "link": "https://stackoverflow.com/users/4001244/mohit-rajput"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "accepted_answer_id": 55741533, "answer_count": 1, "score": 0, "last_activity_date": 1555773654, "creation_date": 1555496944, "last_edit_date": 1555498056, "question_id": 55725496, "link": "https://stackoverflow.com/questions/55725496/program-type-already-present-android-support-compat-rattr", "title": "Program type already present: android.support.compat.R$attr", "body": "<p>My project has two modules i.e. app and moduleX.\napp project is mostly built on Java and moduleX is completly in Kotlin.</p>\n\n<p>While creating \"debug\" build, it's running fine but when I try to create release build i.e. devRelease, it give following error-</p>\n\n<pre><code>* What went wrong:\nExecution failed for task ':app:transformDexArchiveWithDexMergerForDevRelease'.\n&gt; com.android.build.api.transform.TransformException: java.lang.RuntimeException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: \n  Learn how to resolve the issue at https://developer.android.com/studio/build/dependencies#duplicate_classes.\n  Program type already present: android.support.compat.R$attr\n</code></pre>\n\n<p>Here is the app level build.gradle-</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.facebook.testing.screenshot'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n    defaultConfig {\n        applicationId \"com.appname\"\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner rootProject.ext.testInstrumentationRunner\n    }\n    flavorDimensions \"environment\"\n    productFlavors {\n        dev {\n            dimension \"environment\"\n            versionNameSuffix \"-dev\"\n            applicationIdSuffix \".dev\"\n        }\n\n        qa {\n            dimension \"environment\"\n            versionNameSuffix \"-test\"\n            applicationIdSuffix \".test\"\n        }\n\n        staging {\n            dimension \"environment\"\n            versionNameSuffix \"-staging\"\n            applicationIdSuffix \".staging\"\n        }\n\n        prod {\n            dimension \"environment\"\n        }\n    }\n\n    signingConfigs {\n        Properties properties = new Properties()\n        properties.load(project.rootProject.file('local.properties').newDataInputStream())\n        release {\n            storeFile file(\"keystore/appname_keystore.jks\")\n            storePassword properties.getProperty('storePassword')\n            keyAlias properties.getProperty('keyAlias')\n            keyPassword properties.getProperty('keyPassword')\n        }\n    }\n\n    buildTypes {\n        debug {\n            shrinkResources false\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        release {\n            shrinkResources false\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.release\n        }\n    }\n    compileOptions {\n        sourceCompatibility = '1.8'\n        targetCompatibility = '1.8'\n    }\n\n    bundle {\n        language {\n            enableSplit = false\n        }\n    }\n    configurations.all {\n        resolutionStrategy {\n            // force certain versions of dependencies (including transitive)\n            force 'com.squareup.okhttp3:okhttp:' + okHttpLibVersion\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    //Unit testing\n    testImplementation rootProject.ext.junit\n    androidTestImplementation rootProject.ext.androidTestRunner\n    androidTestImplementation rootProject.ext.espresso\n    testImplementation rootProject.ext.mockito\n    testImplementation rootProject.ext.facebookScreenshotTestCommon\n    implementation rootProject.ext.facebookScreenshotTestLitho\n    androidTestImplementation rootProject.ext.supportTestRules\n\n    //Support Library &amp; UI\n    implementation rootProject.ext.constraintLayout\n    implementation rootProject.ext.supportCompatV7\n    implementation rootProject.ext.supportDesign\n    implementation rootProject.ext.supportCardView\n    implementation rootProject.ext.supportCustomTabs\n    implementation rootProject.ext.glide\n    implementation 'com.jakewharton:butterknife:8.8.1'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:8.8.1'\n\n    // Dagger dependency for DI\n    implementation 'com.google.dagger:dagger:2.16'\n    annotationProcessor \"com.google.dagger:dagger-compiler:2.16\"\n    compileOnly 'javax.annotation:jsr250-api:1.0'\n    implementation 'javax.inject:javax.inject:1'\n\n    // RxJava lib\n    implementation rootProject.ext.rxAndroid\n    implementation rootProject.ext.rxJava\n    implementation rootProject.ext.rxJavaRetrofitAdapter\n\n    //Retrofit\n    implementation(rootProject.ext.retrofit) {\n        exclude module: 'okhttp'\n    }\n    implementation rootProject.ext.okHttp\n    implementation rootProject.ext.okHttpLoggingInterceptor\n    implementation rootProject.ext.retrofitGsonConverter\n    implementation rootProject.ext.retrofitScalarsConverter\n\n    //Memory leaks\n    debugImplementation 'com.squareup.leakcanary:leakcanary-android:1.6.3'\n    releaseImplementation 'com.squareup.leakcanary:leakcanary-android-no-op:1.6.3'\n    debugImplementation 'com.squareup.leakcanary:leakcanary-support-fragment:1.6.3'\n\n    //Others\n    implementation rootProject.ext.parceler\n    annotationProcessor rootProject.ext.parcelerAnnotationProcessor\n    implementation rootProject.ext.lombok\n    annotationProcessor rootProject.ext.lombokAnnotationProcessor\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlinVersion\"\n\n    // Fingerprint Auth\n    implementation 'com.multidots:fingerprint-auth:1.0.1'\n\n    //Module Projects\n    api project(':energyswitchcui')\n}\n\nscreenshots {\n    multipleDevices true\n}\n</code></pre>\n\n<p>and here is the build.gradle file of moduleX-</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    defaultConfig {\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName \"1.0\"\n\n        // need separate runner for facebook screenshot test in module\n        testInstrumentationRunner 'com.appname.SnapshotTestRunner'\n    }\n\n    flavorDimensions \"environment\"\n    productFlavors {\n        dev {\n            dimension \"environment\"\n        }\n\n        qa {\n            dimension \"environment\"\n        }\n\n        staging {\n            dimension \"environment\"\n        }\n\n        prod {\n            dimension \"environment\"\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n        test.java.srcDirs += 'src/test/kotlin'\n        androidTest.java.srcDirs += 'src/androidTest/kotlin'\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    //Unit testing\n    testImplementation rootProject.ext.junit\n    androidTestImplementation rootProject.ext.androidTestRunner\n    androidTestImplementation rootProject.ext.espresso\n    testImplementation rootProject.ext.mockito\n    testImplementation rootProject.ext.facebookScreenshotTestCommon\n    implementation rootProject.ext.facebookScreenshotTestLitho\n    androidTestImplementation rootProject.ext.supportTestRules\n\n    //Support Library &amp; UI\n    implementation rootProject.ext.constraintLayout\n    implementation rootProject.ext.supportCompatV7\n    implementation rootProject.ext.supportDesign\n    implementation rootProject.ext.supportCardView\n    implementation rootProject.ext.supportCustomTabs\n    implementation rootProject.ext.glide\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\n\n    // RxJava lib\n    implementation rootProject.ext.rxAndroid\n    implementation rootProject.ext.rxJava\n    implementation rootProject.ext.rxJavaRetrofitAdapter\n\n    //Retrofit\n    implementation(rootProject.ext.retrofit) {\n        exclude module: 'okhttp'\n    }\n    implementation rootProject.ext.okHttp\n    implementation rootProject.ext.okHttpLoggingInterceptor\n    implementation rootProject.ext.retrofitGsonConverter\n    implementation rootProject.ext.retrofitScalarsConverter\n\n    //Others\n    implementation rootProject.ext.parceler\n    kapt rootProject.ext.parcelerAnnotationProcessor\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlinVersion\"\n}\n\nrepositories {\n    mavenCentral()\n}\n\n// need for facebook screenshot test in module\napply plugin: 'com.facebook.testing.screenshot'\nscreenshots {\n    multipleDevices true\n}\n</code></pre>\n\n<p>This is the project level build.gradle file-</p>\n\n<pre><code>apply from: 'dependencies.gradle'\n\nbuildscript {\n    ext.kotlinVersion = '1.3.30'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.2'\n        classpath 'com.facebook.testing.screenshot:plugin:0.8.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>This is dependencies.gradle-</p>\n\n<pre><code>ext {\n    //Android\n    minSdkVersion = 24\n    targetSdkVersion = 28\n    compileSdkVersion = targetSdkVersion\n    testInstrumentationRunner = \"com.appname.runner.SnapshotTestRunner\"\n    androidSupportLibVersion = \"28.0.0\"\n    okHttpLibVersion = \"3.14.0\"\n\n    //Unit testing\n    junit = \"junit:junit:4.12\"\n    androidTestRunner = \"com.android.support.test:runner:1.0.2\"\n    espresso = \"com.android.support.test.espresso:espresso-core:3.0.2\"\n    mockito = \"org.mockito:mockito-all:1.10.19\"\n    facebookScreenshotTestCommon = \"com.facebook.testing.screenshot:layout-hierarchy-common:0.8.0\"\n    facebookScreenshotTestLitho = \"com.facebook.testing.screenshot:layout-hierarchy-litho:0.8.0\"\n    supportTestRules = \"com.android.support.test:rules:1.0.2\"\n\n    //Support Library &amp; UI\n    constraintLayout = \"com.android.support.constraint:constraint-layout:1.1.3\"\n    supportCompatV7 = \"com.android.support:appcompat-v7:$androidSupportLibVersion\"\n    supportDesign = \"com.android.support:design:$androidSupportLibVersion\"\n    supportCardView = \"com.android.support:cardview-v7:$androidSupportLibVersion\"\n    supportCustomTabs = \"com.android.support:customtabs:$androidSupportLibVersion\"\n    glide = \"com.github.bumptech.glide:glide:3.7.0\"\n\n    // RxJava lib\n    rxAndroid = \"io.reactivex.rxjava2:rxandroid:2.0.1\"\n    rxJava = \"io.reactivex.rxjava2:rxjava:2.1.8\"\n    rxJavaRetrofitAdapter = \"com.jakewharton.retrofit:retrofit2-rxjava2-adapter:1.0.0\"\n\n    //Retrofit\n    retrofit = \"com.squareup.retrofit2:retrofit:2.4.0\"\n    okHttp = \"com.squareup.okhttp3:okhttp:$okHttpLibVersion\"\n    okHttpLoggingInterceptor = \"com.squareup.okhttp3:logging-interceptor:$okHttpLibVersion\"\n    retrofitGsonConverter = \"com.squareup.retrofit2:converter-gson:2.3.0\"\n    retrofitScalarsConverter = \"com.squareup.retrofit2:converter-scalars:2.3.0\"\n\n    //Others\n    parceler = \"org.parceler:parceler-api:1.1.6\"\n    parcelerAnnotationProcessor = \"org.parceler:parceler:1.1.6\"\n    lombok = \"org.projectlombok:lombok:1.16.16\"\n    lombokAnnotationProcessor = \"org.projectlombok:lombok:1.16.16\"\n}\n</code></pre>\n\n<p>I have already tried many answers i.e.\n<a href=\"https://stackoverflow.com/questions/49112190/error-program-type-already-present-android-support-design-widget-coordinatorl\">Error : Program type already present: android.support.design.widget.CoordinatorLayout$Behavior</a></p>\n\n<p>but nothing is working here.</p>\n"}, {"tags": ["android", "gradle", "kotlin", "code-coverage", "jacoco"], "comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1555495548, "post_id": 55724759, "comment_id": 98128886, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/55575418/jacoco-shows-0-coverage-even-all-tests-had-passed\">JaCoCo shows 0% coverage, even all tests had passed</a>"}, {"owner": {"reputation": 323, "user_id": 4587953, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a17fd2693752b4b116c1f3972a14bc3f?s=128&d=identicon&r=PG&f=1", "display_name": "Dev Loots", "link": "https://stackoverflow.com/users/4587953/dev-loots"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1555504428, "post_id": 55724759, "comment_id": 98134078, "body": "I Have no InstrumentationResultParser error and no other error. I have only an empty html."}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1555504858, "post_id": 55724759, "comment_id": 98134391, "body": "the report reads <code>No class files specified</code> and that&#39;s build-tools <code>28.0.3</code> with <code>$project.buildDir&#47;intermediates&#47;javac&#47;debug</code>. ever checked if there are any <code>*.class</code> files present in that <code>debugTree</code>?"}, {"owner": {"reputation": 323, "user_id": 4587953, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a17fd2693752b4b116c1f3972a14bc3f?s=128&d=identicon&r=PG&f=1", "display_name": "Dev Loots", "link": "https://stackoverflow.com/users/4587953/dev-loots"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1555506202, "post_id": 55724759, "comment_id": 98135259, "body": "In $project.buildDir/intermediates/javac/d I have no debug folder but two folder : integrationDebug and integrationDebugAndroidTest. In the subfolders there are some .classes files."}, {"owner": {"reputation": 323, "user_id": 4587953, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a17fd2693752b4b116c1f3972a14bc3f?s=128&d=identicon&r=PG&f=1", "display_name": "Dev Loots", "link": "https://stackoverflow.com/users/4587953/dev-loots"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1555506340, "post_id": 55724759, "comment_id": 98135362, "body": "I have changed the path of debugTree by another : $project.buildDir/intermediates/javac and now I have a no empty html report file. But the html is composed of only 3 packages."}, {"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 4, "creation_date": 1562244136, "post_id": 55724759, "comment_id": 100323358, "body": "I had the same problem. What worked for me was changing the <code>debugTree</code> def to: <code>def debugTree = fileTree(dir: &quot;$project.buildDir&#47;tmp&#47;kotlin-classes&#47;debug&quot;, excludes: excludes)</code>"}, {"owner": {"reputation": 2413, "user_id": 1573036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/VaVEE.jpg?s=128&g=1", "display_name": "Victor R. Oliveira", "link": "https://stackoverflow.com/users/1573036/victor-r-oliveira"}, "reply_to_user": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 2, "creation_date": 1568073252, "post_id": 55724759, "comment_id": 102150753, "body": "@MatPag should post as an answer ; thank you, works for me"}, {"owner": {"reputation": 474, "user_id": 506983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4fac4ecdf3872ebd039962a5e277f19?s=128&d=identicon&r=PG", "display_name": "sergodeeva", "link": "https://stackoverflow.com/users/506983/sergodeeva"}, "reply_to_user": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 0, "creation_date": 1578834288, "post_id": 55724759, "comment_id": 105560691, "body": "Thanks @MatPag, your solution worked for me. You should add it as an answer :)"}], "answers": [{"comments": [{"owner": {"reputation": 4480, "user_id": 10232932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8ac182af86808de7f193677348c87d?s=128&d=identicon&r=PG&f=1", "display_name": "PV8", "link": "https://stackoverflow.com/users/10232932/pv8"}, "edited": false, "score": 1, "creation_date": 1574675547, "post_id": 59028676, "comment_id": 104302164, "body": "this should be a comment, not an answer"}], "tags": [], "owner": {"reputation": 1, "user_id": 12428188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/540873599c4721b7852594c335833435?s=128&d=identicon&r=PG&f=1", "display_name": "guanziao", "link": "https://stackoverflow.com/users/12428188/guanziao"}, "is_accepted": false, "score": -1, "last_activity_date": 1574674171, "creation_date": 1574674171, "answer_id": 59028676, "question_id": 55724759, "link": "https://stackoverflow.com/questions/55724759/gradle-task-jacoco-report-generate-empty-html-report-file-no-class-files-specif/59028676#59028676", "title": "Gradle task jacoco report generate empty html report file (No class files specified)", "body": "<p>Do you configure jacoco plugin with maven, if true please check the   path of configuration tag.It should be class path of target/classes directory, not the package path.</p>\n"}, {"comments": [{"owner": {"reputation": 6832, "user_id": 346232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/079c24f289b3cdcb08ea6352f306891e?s=128&d=identicon&r=PG", "display_name": "Ben Pearson", "link": "https://stackoverflow.com/users/346232/ben-pearson"}, "edited": false, "score": 0, "creation_date": 1611233292, "post_id": 59705142, "comment_id": 116388041, "body": "I&#39;m guessing that&#39;ll just contain kotlin classes. If you have a codebase with a mix of Java and Kotlin, it might miss some coverage for Java files."}, {"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "reply_to_user": {"reputation": 6832, "user_id": 346232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/079c24f289b3cdcb08ea6352f306891e?s=128&d=identicon&r=PG", "display_name": "Ben Pearson", "link": "https://stackoverflow.com/users/346232/ben-pearson"}, "edited": false, "score": 1, "creation_date": 1611236081, "post_id": 59705142, "comment_id": 116389436, "body": "@BenPearson yes, the user was interested specifically in kotlin, by the way I&#39;ve update my answer to cover both Java and Kotlin sources"}, {"owner": {"reputation": 6832, "user_id": 346232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/079c24f289b3cdcb08ea6352f306891e?s=128&d=identicon&r=PG", "display_name": "Ben Pearson", "link": "https://stackoverflow.com/users/346232/ben-pearson"}, "edited": false, "score": 0, "creation_date": 1611239872, "post_id": 59705142, "comment_id": 116391571, "body": "Thanks for the update! That was quick. It&#39;s an Android project, so could contain both Kotlin and Java; I think your answer covers all bases now."}], "tags": [], "owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "is_accepted": false, "score": 13, "last_activity_date": 1611236368, "last_edit_date": 1611236368, "creation_date": 1578841768, "answer_id": 59705142, "question_id": 55724759, "link": "https://stackoverflow.com/questions/55724759/gradle-task-jacoco-report-generate-empty-html-report-file-no-class-files-specif/59705142#59705142", "title": "Gradle task jacoco report generate empty html report file (No class files specified)", "body": "<p>This is a common problem, you need to change the <code>debugTree</code> property to:</p>\n<pre><code>//java compiled classes\ndef javaTree = fileTree(dir: &quot;$project.buildDir/intermediates/javac/debug/classes&quot;, excludes: fileFilter)\n//kotlin compiled classes\ndef kotlinTree = fileTree(dir: &quot;$project.buildDir/tmp/kotlin-classes/debug&quot;, excludes: fileFilter)\n//...etc...\nclassDirectories.from = files([javaTree, kotlinTree])\n</code></pre>\n<p><code>debug</code> can be any variant, you can use <code>$variantName</code> in place of it if you know what you are doing</p>\n"}], "owner": {"reputation": 323, "user_id": 4587953, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a17fd2693752b4b116c1f3972a14bc3f?s=128&d=identicon&r=PG&f=1", "display_name": "Dev Loots", "link": "https://stackoverflow.com/users/4587953/dev-loots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4318, "favorite_count": 0, "answer_count": 2, "score": 11, "last_activity_date": 1611236368, "creation_date": 1555494615, "last_edit_date": 1555506581, "question_id": 55724759, "link": "https://stackoverflow.com/questions/55724759/gradle-task-jacoco-report-generate-empty-html-report-file-no-class-files-specif", "title": "Gradle task jacoco report generate empty html report file (No class files specified)", "body": "<p>I would like to use Jacoco to generate a code coverage report on all my tests (androidTest + UnitTest).</p>\n\n<p>So I implemented a step-by-step script (jacoco.gradle) to create a task that allowed me to generate a report that merged two code coverage reports.</p>\n\n<p>My problem is that the html generated file is empty (in <code>app\\build\\jacocoReport\\index.html</code>):</p>\n\n<blockquote>\n  <p>No class files specified.\n  JaCoCo 0.8.3.201901230119</p>\n</blockquote>\n\n<p>I execute 'testIntegrationDebugUnitTest' task :</p>\n\n<ul>\n<li><p><strong>androidTest</strong> code coverage report has been created on <em>app/build/reports/coverage/integration/debug/index.html</em> and it's ok.</p></li>\n<li><p>A 'ec' file has been generated on app\\build\\outputs\\code_coverage\\integrationDebugAndroidTest\\connected\\Pixel_2_API_24(AVD) - 7.0-coverage.ec</p></li>\n<li><p>A 'exec' file has been generated on app/build/jacoco/testIntegrationDebugUnitTest.exec</p></li>\n</ul>\n\n<p>Do you have any idea where my problem comes from? Here is my code:</p>\n\n<p><strong>jacoco.gradle</strong> :</p>\n\n<pre><code>apply plugin: 'jacoco'\n\njacoco {\n    toolVersion = \"$jacocoVersion\"\n    reportsDir = file(\"$buildDir/jacocoReport\")\n}\n\nproject.afterEvaluate {\n\n    android.applicationVariants.all { variant -&gt;\n        def variantName = variant.name\n        def testTaskName = \"test${variantName.capitalize()}UnitTest\"\n        def androidTestCoverageTaskName = \"create${variantName.capitalize()}CoverageReport\"\n\n        tasks.create(name: \"${testTaskName}Coverage\", type: JacocoReport, dependsOn: [\"$testTaskName\", \"$androidTestCoverageTaskName\"]) {\n            group = \"Reporting\"\n            description = \"Generate Jacoco coverage reports for the ${variantName.capitalize()} build.\"\n\n            reports {\n                xml.enabled = false\n                html.enabled = true\n                html.destination \"$buildDir/jacocoReport\"\n            }\n\n            def excludes = ['**/R*.class',\n                            '**/*$InjectAdapter.class',\n                            '**/*$ModuleAdapter.class',\n                            '**/*$ViewInjector*.class'\n            ]\n\n            def debugTree = fileTree(dir: \"$project.buildDir/intermediates/javac/debug\", excludes: excludes)\n            def mainSrc = \"$project.projectDir/src/main/java\"\n\n            sourceDirectories = files([mainSrc])\n            classDirectories = files([debugTree])\n            executionData = fileTree(dir: project.buildDir, includes: [\n                    \"jacoco/${testTaskName}.exec\", \"outputs/code_coverage/${variantName}AndroidTest/connected/**/*.ec\"\n            ])\n        }\n    }\n}\n</code></pre>\n\n<p><strong>gradle project</strong> : </p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.21'\n    ext.jacocoVersion = '0.8.3'\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'io.realm:realm-gradle-plugin:5.8.0'\n        classpath 'com.google.gms:google-services:4.2.0'\n        classpath 'io.fabric.tools:gradle:1.28.0'\n        classpath \"org.jacoco:org.jacoco.core:$jacocoVersion\"\n    }\n}\n\ntask installGradle(type: Wrapper) {\n    group = \"*********\"\n    gradleVersion = '4.10.1'\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>app gradle</strong> :</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\napply plugin: 'realm-android'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'io.fabric'\napply from: '../scripts/jacoco.gradle'\n\nandroid.applicationVariants.all { variant -&gt;\n    if (variant.name == 'demoDebug' || variant.name == 'evalDebug' || variant.name == 'stagingDebug') {\n        project.tasks.getByName('process' + variant.name.capitalize() + 'GoogleServices').enabled = false\n        project.tasks.getByName('fabricGenerateResources' + variant.name.capitalize()).enabled = false\n    }\n}\n\nandroid {\n\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"***********\"\n        minSdkVersion 23\n        targetSdkVersion 28\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildTypes {\n        debug {\n            testCoverageEnabled true\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:support-v4:28.0.0'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'android.arch.lifecycle:extensions:1.1.1'\n    implementation 'com.google.firebase:firebase-core:16.0.8'\n    implementation 'com.crashlytics.sdk.android:crashlytics:2.9.9'\n\n    testImplementation 'junit:junit:4.12'\n    testImplementation 'org.mockito:mockito-core:2.25.1'\n    testImplementation 'android.arch.core:core-testing:1.1.1'\n\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    androidTestImplementation 'org.mockito:mockito-android:2.25.1'\n    androidTestImplementation 'android.arch.core:core-testing:1.1.1'\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "is_accepted": true, "score": 2, "last_activity_date": 1555494718, "creation_date": 1555494718, "answer_id": 55724791, "question_id": 55724651, "link": "https://stackoverflow.com/questions/55724651/firebase-database-reference-not-return-updated-datasnapshot-after-inserted-new-d/55724791#55724791", "title": "Firebase Database Reference not return updated dataSnapshot after inserted new data", "body": "<p><code>toString()</code> is very flexible to use -- try the following :-</p>\n\n<pre><code>isCheckIn = dataSnapshot.child(FirebaseKey.isCheckIn).value.toString()\n</code></pre>\n\n<p>P.S :- Even if its <code>null</code> -- It will result -- <code>\"null\"</code> ( as string ). Then you can add the check accordingly.</p>\n"}], "owner": {"reputation": 3403, "user_id": 5815673, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9rbit.jpg?s=128&g=1", "display_name": "Shailesh", "link": "https://stackoverflow.com/users/5815673/shailesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 55724791, "answer_count": 1, "score": 0, "last_activity_date": 1555494718, "creation_date": 1555494322, "question_id": 55724651, "link": "https://stackoverflow.com/questions/55724651/firebase-database-reference-not-return-updated-datasnapshot-after-inserted-new-d", "title": "Firebase Database Reference not return updated dataSnapshot after inserted new data", "body": "<p>I have integrated Firebase Realtime Database in my project. When activity is open at that time i am checking that user is already checkedIn or not in database and for that i am calling <code>checkIsAlreadyCheckIn(empDataRef)</code> method from <code>onCreate()</code>. Check below code.</p>\n\n<pre><code>class EmpProfileActivity : BaseActivity&lt;EmpProfileActivityBinding, EmpViewModel&gt;() {\n\n    private val timeSdf = SimpleDateFormat(\"hh:mm a\", Locale.getDefault())\n    private val dateSdf = SimpleDateFormat(\"yyyy-MM-dd\", Locale.getDefault())\n\n    private lateinit var isCheckIn: String\n    private lateinit var checkInTime: String\n    private lateinit var checkOutTime: String\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        mViewModel = EmpViewModel()\n        mBinding.empProfileViewModel = mViewModel\n\n        val empDataRef: DatabaseReference =\n            mDatabase!!.reference.child(FirebaseKey.NodeEmpCheckInOut)\n                .child(dateSdf.format(Date())).child(userSession!!.getUserId())\n\n        checkIsAlreadyCheckIn(empDataRef)\n\n        mBinding.txtCheckIn.setOnClickListener {\n            when (isCheckIn) {\n                \"0\" -&gt; {\n                    empDataRef.child(FirebaseKey.checkIn).setValue(timeSdf.format(Date()))\n                    empDataRef.child(FirebaseKey.checkOut).setValue(\"\")\n                    empDataRef.child(FirebaseKey.todayDate).setValue(dateSdf.format(Date()))\n                    empDataRef.child(FirebaseKey.isCheckIn).setValue(\"1\")\n                }\n                else -&gt; showAlert(\"Something went wrong, Please contact your admin\")\n            }\n        }\n    }\n\n\n    private fun checkIsAlreadyCheckIn(empDataRef: DatabaseReference) {\n\n        empDataRef.addValueEventListener(object : ValueEventListener {\n            override fun onCancelled(databaseError: DatabaseError) {\n                Log.e(\"Error:\", databaseError.message)\n            }\n\n            override fun onDataChange(dataSnapshot: DataSnapshot) {\n                for(data:DataSnapshot in dataSnapshot.children){\n                    //------------&gt;aftet click that view error will come here \n                    isCheckIn = dataSnapshot.child(FirebaseKey.isCheckIn).value as String \n                }\n            }\n        })\n    }\n}\n</code></pre>\n\n<p>When i hit on <strong>mBinding.txtCheckIn</strong> view then it will successfully insert data in fireabse DB but after <code>addValueEventListener</code> received call back in <code>checkIsAlreadyCheckIn()</code> method and will send me below Error.</p>\n\n<pre><code>kotlin.TypeCastException: null cannot be cast to non-null type kotlin.String\n        at com.intro.ui.profile.EmpProfileActivity$checkIsAlreadyCheckIn$1.onDataChange(EmpProfileActivity.kt:124)\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(com.google.firebase:firebase-database@@16.1.0:75)\n        at com.google.firebase.database.core.view.DataEvent.fire(com.google.firebase:firebase-database@@16.1.0:63)\n        at com.google.firebase.database.core.view.EventRaiser$1.run(com.google.firebase:firebase-database@@16.1.0:55)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6165)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:888)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:778)\n</code></pre>\n\n<p>I have checked that <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#nullable-types-and-non-null-types\" rel=\"nofollow noreferrer\">kotlin.TypeCastException: null cannot be cast to non-null type kotlin</a> in kotlin docs and i think it mean dataSnapshot value is null and we can not covert to String. </p>\n\n<p><strong>Question:</strong> How to update/receive data once it inserted in firebase and  callback/trigger in <code>addEventValueListener</code>?</p>\n"}, {"tags": ["android", "json", "parsing", "kotlin"], "comments": [{"owner": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 1, "creation_date": 1555494152, "post_id": 55724510, "comment_id": 98127965, "body": "Have you tried any code?"}, {"owner": {"reputation": 161, "user_id": 7767143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d40bd4c01bb916b9228b4fa1e9a70f4c?s=128&d=identicon&r=PG&f=1", "display_name": "SaskatoonDiver", "link": "https://stackoverflow.com/users/7767143/saskatoondiver"}, "reply_to_user": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 0, "creation_date": 1555494796, "post_id": 55724510, "comment_id": 98128425, "body": "Apologies, question edited"}, {"owner": {"reputation": 1712, "user_id": 8086424, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/cdc2fe4c30a3b3ca6f54f0dfbe891229?s=128&d=identicon&r=PG&f=1", "display_name": "Mena", "link": "https://stackoverflow.com/users/8086424/mena"}, "edited": false, "score": 0, "creation_date": 1555494933, "post_id": 55724510, "comment_id": 98128512, "body": "Are you familiar with the GSON library? It does all the parsing for you automatically and gives you a Java object where you can access it easily. Check this answer: <a href=\"https://stackoverflow.com/a/55724722/8086424\">stackoverflow.com/a/55724722/8086424</a>"}, {"owner": {"reputation": 161, "user_id": 7767143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d40bd4c01bb916b9228b4fa1e9a70f4c?s=128&d=identicon&r=PG&f=1", "display_name": "SaskatoonDiver", "link": "https://stackoverflow.com/users/7767143/saskatoondiver"}, "edited": false, "score": 0, "creation_date": 1555576608, "post_id": 55724510, "comment_id": 98161255, "body": "GSON helped me a lot, if you submit it as an answer i will accept it"}], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 8166938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bb0b893cc392d9453a5f02348b9b8e5?s=128&d=identicon&r=PG&f=1", "display_name": "nKalai", "link": "https://stackoverflow.com/users/8166938/nkalai"}, "is_accepted": false, "score": 1, "last_activity_date": 1555494311, "creation_date": 1555494311, "answer_id": 55724649, "question_id": 55724510, "link": "https://stackoverflow.com/questions/55724510/how-to-retrieve-multiple-items-from-json-object-in-one-pass/55724649#55724649", "title": "How to retrieve multiple items from JSON object in one pass", "body": "<p>Loop through the array (an example)</p>\n\n<pre><code> val myJsonArray = json.get(\"changes\") as JSONArray\n\n for (i in 0..(myJsonArray.length() - 1)) {\n     val item = myJsonArray[i] as JSONObject\n }\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 7767143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d40bd4c01bb916b9228b4fa1e9a70f4c?s=128&d=identicon&r=PG&f=1", "display_name": "SaskatoonDiver", "link": "https://stackoverflow.com/users/7767143/saskatoondiver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555494780, "creation_date": 1555493940, "last_edit_date": 1555494780, "question_id": 55724510, "link": "https://stackoverflow.com/questions/55724510/how-to-retrieve-multiple-items-from-json-object-in-one-pass", "title": "How to retrieve multiple items from JSON object in one pass", "body": "<p>I am trying to retrieve multiple items from the below JSON in the same pass. I wish to retrieve each originatorId and message for each instance of \"sequence\" into an ordered format so i can display them in a recycler view like a messaging history. </p>\n\n<p>So far i have already tried to use pattern matching via Klaxon but am unable to get it to pick out more than one instance of \"message\". I think my issue is finding a way to get each instance of the \"change\" object instead of just the first one e.g=</p>\n\n<pre><code>\"$.body.changes.event.message\" -&gt; does not work\n\"$.body.changes[0].event.message\" -&gt; returns only first message\n</code></pre>\n\n<pre><code>{\n    \"kind\": \"notification\",\n    \"body\":\n    {\n        \"changes\": [\n                {\n                    \"sequence\": 0,\n                    \"originatorId\": \"d5305f84f7812530e746a713ebeabb457e59b380b779387de90ff0f7ff593e2a\",\n                    \"originatorMetadata\":\n                    {\n                        \"id\": \"d5305f84f7812530e746a713ebeabb457e59b380b779387de90ff0f7ff593e2a\",\n                        \"role\": \"CONSUMER\"\n                    },\n                    \"serverTimestamp\": 1555330963355,\n                    \"event\":\n                    {\n                        \"type\": \"ContentEvent\",\n                        \"message\": \"hello \",\n                        \"contentType\": \"text/plain\"\n                    },\n                    \"dialogId\": \"8e35bc87-c42f-4a28-837d-ac6d93cb119a\"\n                },\n                {\n                    \"sequence\": 2,\n                    \"originatorId\": \"73c29cd1-b3e3-56fc-a483-ba3409831d21\",\n                    \"originatorMetadata\":\n                    {\n                        \"id\": \"73c29cd1-b3e3-56fc-a483-ba3409831d21\",\n                        \"role\": \"ASSIGNED_AGENT\"\n                    },\n                    \"serverTimestamp\": 1555330964870,\n                    \"event\":\n                    {\n                        \"type\": \"ContentEvent\",\n                        \"message\": \"Hi Bob, how can I help you today? \ud83d\ude00\",\n                        \"contentType\": \"text/plain\"\n                    },\n                    \"dialogId\": \"8e35bc87-c42f-4a28-837d-ac6d93cb119a\"\n                },\n                {\n                    \"sequence\": 3,\n                    \"originatorId\": \"d5305f84f7812530e746a713ebeabb457e59b380b779387de90ff0f7ff593e2a\",\n                    \"originatorMetadata\":\n                    {\n                        \"id\": \"d5305f84f7812530e746a713ebeabb457e59b380b779387de90ff0f7ff593e2a\",\n                        \"role\": \"CONSUMER\"\n                    },\n                    \"serverTimestamp\": 1555330975711,\n                    \"event\":\n                    {\n                        \"type\": \"ContentEvent\",\n                        \"message\": \"hi\",\n                        \"contentType\": \"text/plain\"\n                    },\n                    \"dialogId\": \"8e35bc87-c42f-4a28-837d-ac6d93cb119a\"\n                }\n</code></pre>\n\n<p>My expected results would be some form of map with originatorId to message with the mapping position linked to sequence. At the moment i can only get the first message \"hello\" out and the last originatorId linked together. \nfurther work would include getting out the serverTimestamp into the same mapping as well. \nI am open to using different libraries to Klaxon.</p>\n\n<p>This is the code i have attempted to use already=</p>\n\n<pre><code> val pathMatcher = object : PathMatcher {\n                override fun pathMatches(path: String) = Pattern.matches(\".*.message\", path)\n\n                override fun onMatch(path: String, value: Any) {\n\n                    val origin = parseForOriginatorId(text)\n                    val messageNew = Message(origin, timeReadNew, value.toString())\n\n                    ChatActivity.adapter.addMessage(Message(origin, timeReadNew, value.toString()))\n                    //messages[origin] = messageNew\n\n                    Log.d(\"D\", \"Message: ${messageNew.originator}: ${messageNew.content}\")\n\n                    when (path) {\n                        \"$.body.changes.originatorId\" -&gt; Log.d(\"D\", \"======originator ID $value\" )\n                        \"$.body.changes.event.message\" -&gt; Log.d(\"D\", \"=====Message $value\")\n                    }\n                }\n            }\n\n            Klaxon().pathMatcher(pathMatcher)\n                    .parseJsonObject(StringReader(text))\n        }\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-webview", "webviewclient"], "comments": [{"owner": {"reputation": 935, "user_id": 7795072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/298nL.jpg?s=128&g=1", "display_name": "X-Black...", "link": "https://stackoverflow.com/users/7795072/x-black"}, "edited": false, "score": 0, "creation_date": 1555495784, "post_id": 55724399, "comment_id": 98129009, "body": "i think your problem is solved in <a href=\"https://stackoverflow.com/questions/45206289/android-webview-disable-keyboard-predictions?rq=1\">Here</a> and <a href=\"https://stackoverflow.com/questions/7404798/disabling-autosuggestion-on-webview\">Here</a>"}, {"owner": {"reputation": 51, "user_id": 10284111, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_v2-Et0aP80/AAAAAAAAAAI/AAAAAAAAOHE/dlUQX8BC8b0/photo.jpg?sz=128", "display_name": "itzik pichhadze", "link": "https://stackoverflow.com/users/10284111/itzik-pichhadze"}, "reply_to_user": {"reputation": 935, "user_id": 7795072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/298nL.jpg?s=128&g=1", "display_name": "X-Black...", "link": "https://stackoverflow.com/users/7795072/x-black"}, "edited": false, "score": 0, "creation_date": 1555498764, "post_id": 55724399, "comment_id": 98130711, "body": "thanks, but i already tried that"}, {"owner": {"reputation": 935, "user_id": 7795072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/298nL.jpg?s=128&g=1", "display_name": "X-Black...", "link": "https://stackoverflow.com/users/7795072/x-black"}, "edited": false, "score": 0, "creation_date": 1555499015, "post_id": 55724399, "comment_id": 98130833, "body": "and didn&#39;t work,,?"}, {"owner": {"reputation": 51, "user_id": 10284111, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_v2-Et0aP80/AAAAAAAAAAI/AAAAAAAAOHE/dlUQX8BC8b0/photo.jpg?sz=128", "display_name": "itzik pichhadze", "link": "https://stackoverflow.com/users/10284111/itzik-pichhadze"}, "reply_to_user": {"reputation": 935, "user_id": 7795072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/298nL.jpg?s=128&g=1", "display_name": "X-Black...", "link": "https://stackoverflow.com/users/7795072/x-black"}, "edited": false, "score": 0, "creation_date": 1555499213, "post_id": 55724399, "comment_id": 98130940, "body": "no, i created a wrapper to WebView as suggested and other suggestions are depreceted"}], "owner": {"reputation": 51, "user_id": 10284111, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_v2-Et0aP80/AAAAAAAAAAI/AAAAAAAAOHE/dlUQX8BC8b0/photo.jpg?sz=128", "display_name": "itzik pichhadze", "link": "https://stackoverflow.com/users/10284111/itzik-pichhadze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555496199, "creation_date": 1555493592, "last_edit_date": 1555496199, "question_id": 55724399, "link": "https://stackoverflow.com/questions/55724399/how-to-disable-input-autosuggestion-inside-android-webview", "title": "How to disable input autosuggestion inside android webview", "body": "<p>I have a Web-View showing some inputs and it is working fine ,except when the inputa are clicked, a google credit card autosuggestion is popping, I must remove this option and i could not find a solution, </p>\n\n<p><a href=\"https://i.stack.imgur.com/yZA0a.jpg\" rel=\"nofollow noreferrer\">provided image with the unwanted result</a></p>\n\n<p>i tried this post -<a href=\"https://stackoverflow.com/questions/7404798/disabling-autosuggestion-on-webview\">Disabling autosuggestion on WebView?</a>\n   but none of the suggested answers helped me, please help</p>\n\n<p>my webView </p>\n\n<pre><code>    if (webView == null) {\n        toolbar_container.show()\n        toolbar_group.show()\n        toolbar_tv.text = getString(R.string.credit_card_info)\n        webView = NoSuggestionsWebView(this)\n        val webSettings = webView?.settings\n        WebViewDatabase.getInstance(this)?.clearFormData()\n        webSettings?.javaScriptEnabled = true\n        webSettings?.savePassword = false\n        webSettings?.saveFormData= false\n        webView?.setBackgroundColor(Color.parseColor(\"#061a3e\"))\n        webView?.addJavascriptInterface(WebAppInterface(this) { result -&gt;\n            val dialog =\n                OneButtonDialog(\n                    activity = this@MainActivity,\n                    type = OneButtonDialog.LOAD_CARD_FAILED,\n                    message = result\n                )\n            dialog.show()\n        }, \"Android\")\n        webView?.layoutParams?.height = WindowManager.LayoutParams.MATCH_PARENT\n        webView?.layoutParams?.width = WindowManager.LayoutParams.MATCH_PARENT\n        fragment_container.addView(webView)\n        webView?.loadUrl(\"My_URL\")\n        showProgressBar()\n    }\n    webView?.webViewClient = object : WebViewClient() {\n\n        override fun onPageFinished(view: WebView?, url: String?) {\n            super.onPageFinished(view, url)\n            dismissProgressBar()\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin", "flutter", "build.gradle"], "answers": [{"comments": [{"owner": {"reputation": 5596, "user_id": 5692534, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/oQo0t.png?s=128&g=1", "display_name": "Darshan", "link": "https://stackoverflow.com/users/5692534/darshan"}, "edited": false, "score": 0, "creation_date": 1555493811, "post_id": 55723990, "comment_id": 98127769, "body": "Ok, there&#39;s some progress after making above changes. Although now, I am getting this exception: <code>jetified-play-services-measurement-sdk-16.4.0.aar&#47;c95d832adb&zwnj;&#8203;9327e41d22114a667fba&zwnj;&#8203;52&#47;jars&#47;classes.jar</code>. Original exception was : <code>jetified-play-services-measurement-base-16.3.0.aar&#47;ad108baae&zwnj;&#8203;a5302bc328d2bf417082&zwnj;&#8203;421&#47;jars&#47;classes.jar</code>"}, {"owner": {"reputation": 1161, "user_id": 6551624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe30b7c9be279bca4f4f3e2a7d9905c?s=128&d=identicon&r=PG&f=1", "display_name": "Kruti Parekh", "link": "https://stackoverflow.com/users/6551624/kruti-parekh"}, "reply_to_user": {"reputation": 5596, "user_id": 5692534, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/oQo0t.png?s=128&g=1", "display_name": "Darshan", "link": "https://stackoverflow.com/users/5692534/darshan"}, "edited": false, "score": 0, "creation_date": 1555494589, "post_id": 55723990, "comment_id": 98128278, "body": "In the same way, check that all your dependencies, plugins have latest verions. Moreover, do verify that you have placed <code>google()</code> at the first place in repositories block."}], "tags": [], "owner": {"reputation": 1161, "user_id": 6551624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe30b7c9be279bca4f4f3e2a7d9905c?s=128&d=identicon&r=PG&f=1", "display_name": "Kruti Parekh", "link": "https://stackoverflow.com/users/6551624/kruti-parekh"}, "is_accepted": false, "score": 0, "last_activity_date": 1555492423, "creation_date": 1555492423, "answer_id": 55723990, "question_id": 55722872, "link": "https://stackoverflow.com/questions/55722872/how-to-resolve-com-android-builder-dexing-dexarchivebuilderexception/55723990#55723990", "title": "How to resolve com.android.builder.dexing.DexArchiveBuilderException?", "body": "<p>Replace all the <code>alpha</code>, <code>beta</code> versions of the library with stable versions as below:</p>\n\n<pre><code>implementation 'androidx.legacy:legacy-support-v4:1.0.0'\nimplementation 'androidx.appcompat:appcompat:1.0.2'\nimplementation 'com.google.android.material:material:1.0.0'\nandroidTestImplementation 'androidx.test:runner:1.1.1'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1' \n</code></pre>\n\n<p>And change the dependencies to latest versions as below:</p>\n\n<pre><code>com.google.firebase:firebase-auth:16.2.1\ncom.google.firebase:firebase-core:16.0.8\ncom.google.firebase:firebase-messaging:17.6.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5596, "user_id": 5692534, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/oQo0t.png?s=128&g=1", "display_name": "Darshan", "link": "https://stackoverflow.com/users/5692534/darshan"}, "is_accepted": true, "score": 0, "last_activity_date": 1555496825, "creation_date": 1555496825, "answer_id": 55725456, "question_id": 55722872, "link": "https://stackoverflow.com/questions/55722872/how-to-resolve-com-android-builder-dexing-dexarchivebuilderexception/55725456#55725456", "title": "How to resolve com.android.builder.dexing.DexArchiveBuilderException?", "body": "<p><a href=\"https://github.com/flutter/flutter/issues/30965\" rel=\"nofollow noreferrer\">This</a> solution worked for me perfectly, so I didn't have to change alpha and beta versions or update dependency versions.</p>\n"}], "owner": {"reputation": 5596, "user_id": 5692534, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/oQo0t.png?s=128&g=1", "display_name": "Darshan", "link": "https://stackoverflow.com/users/5692534/darshan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2634, "favorite_count": 0, "accepted_answer_id": 55725456, "answer_count": 2, "score": 3, "last_activity_date": 1555496825, "creation_date": 1555488717, "last_edit_date": 1555490179, "question_id": 55722872, "link": "https://stackoverflow.com/questions/55722872/how-to-resolve-com-android-builder-dexing-dexarchivebuilderexception", "title": "How to resolve com.android.builder.dexing.DexArchiveBuilderException?", "body": "<p>I am getting this exception while trying to build flutter app and tried various solutions but none of them helped me yet. I am looking for solution on this as its been a time consuming pain to resolve this.</p>\n\n<p>app/build.grade:</p>\n\n<pre><code>   defaultConfig {\n        applicationId \"com.quickcarl.client\"\n        minSdkVersion 21\n        targetSdkVersion 27\n        multiDexEnabled true\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n\n        // needed to fix release build crash\n        // ndk {\n        //     abiFilters 'armeabi-v7a'\n        // }\n    }\n\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['storePassword']\n            storeFile file(keystoreProperties['storeFile'])\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n\n    buildTypes {\n        release {\n            signingConfig signingConfigs.release\n        }\n        debug {\n            // applicationIdSuffix \".debug\"\n            signingConfig signingConfigs.debug\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildToolsVersion '28.0.3'\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation 'androidx.multidex:multidex:2.0.0'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0-beta01'\n    implementation 'androidx.appcompat:appcompat:1.0.0-beta01'\n    implementation 'com.google.android.material:material:1.0.0-beta01'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha4'\n\n    // Twilio Video library resides on jcenter\n    implementation 'com.twilio:video-android:1.1.0'\n    // required for twilio VideoActivity\n    implementation 'com.koushikdutta.ion:ion:2.1.7'\n    // firebase analytics\n    implementation 'com.google.firebase:firebase-core:16.0.7'\n    // firebase authentication\n    implementation 'com.google.firebase:firebase-auth:16.0.5'\n    // firebase cloud messaging\n    implementation 'com.google.firebase:firebase-messaging:17.3.3'\n\n    // required to resolve this issue:\n    // https://stackoverflow.com/questions/52521302/how-to-solve-program-type-already-present-com-google-common-util-concurrent-lis\n    implementation 'com.google.guava:guava:27.0.1-android'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>top level build.grade:</p>\n\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.2.0'\n    }\n</code></pre>\n\n<p>Current setup already has <code>multidexenabled=true</code>, and <code>implementation 'com.google.guava:guava:27.0.1-android'</code> which seemed to be the solution to this issue and was recommended in other posts, but that has not solved the issue for me. </p>\n\n<p>I keep getting exception which points to <code>jetified-play-services-measurement-base-16.3.0.aar</code> dependency about which I have no idea what to do with. Looking for solution on how to fix this exception.</p>\n\n<pre><code>Execution failed for task ':app:transformClassesWithDexBuilderForDebug'.\n&gt; com.android.build.api.transform.TransformException: com.android.builder.dexing.DexArchiveBuilderException: com.android.builder.dexing.DexArchiveBuilderException: Failed to process /Users/&lt;username&gt;/.gradle/caches/transforms-1/files-1.1/jetified-play-services-measurement-base-16.3.0.aar/ad108baaea5302bc328d2bf417082421/jars/classes.jar\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-motionlayout"], "comments": [{"owner": {"reputation": 96, "user_id": 1895787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09fec69178cecd9d6585ce8a8de4a4d0?s=128&d=identicon&r=PG", "display_name": "Luke Simpson", "link": "https://stackoverflow.com/users/1895787/luke-simpson"}, "edited": false, "score": 0, "creation_date": 1558937153, "post_id": 55722169, "comment_id": 99249270, "body": "I&#39;m facing a similar problem: I&#39;m trying to remove a constraint from a MotionLayout programatically using <code>val constraintSet = ConstraintSet() constraintSet.clone(motion_layout) constraintSet.clear(R.id.txt_view, ConstraintSet.BOTTOM) constraintSet.applyTo(motion_layout)</code> It works using ConstraintLayout alpha 3, but stops working from alpha 4 through to the latest beta 1. Interestingly, when I rotate the device the constraint removal takes place as expected."}], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 1895787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09fec69178cecd9d6585ce8a8de4a4d0?s=128&d=identicon&r=PG", "display_name": "Luke Simpson", "link": "https://stackoverflow.com/users/1895787/luke-simpson"}, "is_accepted": false, "score": 1, "last_activity_date": 1559019264, "creation_date": 1559019264, "answer_id": 56335197, "question_id": 55722169, "link": "https://stackoverflow.com/questions/55722169/android-motionlayout-setguidelinepercent-not-working-on-alpha4-release/56335197#56335197", "title": "Android MotionLayout setGuidelinePercent not working on alpha4 release", "body": "<p>I noticed a similar regression introduced in the alpha4 release. Through trial and error, and the following bug report, I was able to get my ConstraintSet changes to be applied programatically in a MotionLayout (beta1 release). It appears the clone method does not work for MotionLayout, and getConstraintSet should be used instead (as you've done). Looks like the step you're missing is <code>constraintSet.applyTo(motion_layout)</code>. I also needed to re-apply the MotionLayout description xml at the end.</p>\n\n<blockquote>\n  <p>implementation\n  \"androidx.constraintlayout:constraintlayout:2.0.0-beta1\"</p>\n</blockquote>\n\n<p>Steps:</p>\n\n<pre><code>val constraintSet = motion_layout.getConstraintSet(R.id.motion_layout)\nconstraintSet.clear(R.id.txt_view, ConstraintSet.BOTTOM)\nconstraintSet.applyTo(motion_layout)\n// If using a MotionLayout description xml file, re-apply it\nmotion_explore_article.loadLayoutDescription(R.xml.slide_over_image)\n</code></pre>\n\n<p>Bug report:\n<a href=\"https://issuetracker.google.com/issues/131874827\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/131874827</a></p>\n"}], "owner": {"reputation": 495, "user_id": 6154501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50787757021f9c377ada488a55decda2?s=128&d=identicon&r=PG&f=1", "display_name": "MihaiV", "link": "https://stackoverflow.com/users/6154501/mihaiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1017, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1559019264, "creation_date": 1555486171, "last_edit_date": 1555514495, "question_id": 55722169, "link": "https://stackoverflow.com/questions/55722169/android-motionlayout-setguidelinepercent-not-working-on-alpha4-release", "title": "Android MotionLayout setGuidelinePercent not working on alpha4 release", "body": "<p>I have a MotionLayout for a swipe transition in my app. Currently I just updated from <code>2.0.0-alpha3</code> to <code>2.0.0-alpha4</code> release and some things are not working as before. \nThere is \"myView\" which is a layout that should expand from the bottom of the screen to a header view. It has a constraint top to a Guideline which I need to control programmatically (based on some user actions). </p>\n\n<p>There were no other changes in the code, so downgrading to alpha3 makes everything work as expected. </p>\n\n<p>The code is pretty basic:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;MotionScene xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:motion=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;Transition\n        motion:constraintSetEnd=\"@id/end\"\n        motion:constraintSetStart=\"@id/start\"\n        motion:duration=\"1000\"\n        motion:interpolator=\"linear\"&gt;\n        &lt;!-- I used motion:motionInterpolator=\"linear\" for alpha4--&gt;\n\n        &lt;OnSwipe\n            motion:dragDirection=\"dragUp\"\n            motion:touchAnchorId=\"@id/myView\"\n            motion:touchAnchorSide=\"top\" /&gt;\n\n    &lt;/Transition&gt;\n\n    &lt;ConstraintSet android:id=\"@+id/start\"&gt;\n        &lt;Constraint\n            android:id=\"@id/myView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            motion:layout_constraintStart_toStartOf=\"parent\"\n            motion:layout_constraintTop_toTopOf=\"@id/myGuideline\" /&gt;\n    &lt;/ConstraintSet&gt;\n\n    &lt;ConstraintSet android:id=\"@+id/end\"&gt;\n        &lt;Constraint\n            android:id=\"@id/myView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            motion:layout_constraintBottom_toBottomOf=\"parent\"\n            motion:layout_constraintStart_toStartOf=\"parent\"\n            motion:layout_constraintTop_toBottomOf=\"@id/someHeaderView\" /&gt;\n    &lt;/ConstraintSet&gt;\n&lt;/MotionScene&gt;\n</code></pre>\n\n<p>The problem is that in release alpha3, I could use something like this(and it worked):</p>\n\n<pre><code>myMotionLayout.getConstraintSet(R.id.start)?.setGuidelinePercent(R.id.myGuideline, guidelinePercentage)\n</code></pre>\n\n<p>Now that I upgraded to <code>2.0.0-alpha4</code>, this is no longer working and I can't understand why. It always takes the default one, from the xml and is never changed whenever I try to do it dynamically.</p>\n\n<p>What I'm trying to do is to change the starting point of the transition based on some dynamic data (available at the beginning of the Fragment or when the user is returning to it). If you have a better idea of how I can implement this using MotionLayout, please give me a hint.</p>\n\n<p>Gradle implementation:</p>\n\n<pre><code>implementation \"com.android.support.constraint:constraint-layout:2.0.0-alpha4\"\n</code></pre>\n"}, {"tags": ["android", "image", "file", "kotlin", "uri"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1555485349, "post_id": 55721899, "comment_id": 98123096, "body": "you cannot convert <code>Uri</code> to <code>File</code> - however you can &quot;convert&quot; it to <code>InputStream</code> - refer again to <code>ContentResolver</code> documentation for more info"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1555487740, "post_id": 55721899, "comment_id": 98124337, "body": "I&#39;ve been able to get the input stream like this <code>val myInputStream = activity!!.contentResolver.openInputStream(Uri.parse(localIm&zwnj;&#8203;agePost.imageUri))</code> but I can&#39;t find the method that would allow me to convert that into a file path"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1555488115, "post_id": 55721899, "comment_id": 98124591, "body": "you cannot get any &quot;file path&quot;, what do you need it for?"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1555488321, "post_id": 55721899, "comment_id": 98124701, "body": "I am using an image picker for the user to choose an image. That image would then be resized before uploading, but the code that I am using to resize it requires me to pass to it a the file. I am using the code successfully when taking photos and resizing immediately but that&#39;s because I have a hold of the new file."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1555488379, "post_id": 55721899, "comment_id": 98124724, "body": "what &quot;image resizing&quot; code do you mean?"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1555488477, "post_id": 55721899, "comment_id": 98124778, "body": "Specifically I am using this library <a href=\"https://github.com/hkk595/Resizer\" rel=\"nofollow noreferrer\">github.com/hkk595/Resizer</a>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1555488737, "post_id": 55721899, "comment_id": 98124910, "body": "so you have to change <a href=\"https://github.com/hkk595/Resizer/blob/master/app/src/main/java/me/echodev/resizer/util/ImageUtils.java#L34\" rel=\"nofollow noreferrer\">this</a> line in order to use <code>InputStream</code> instead of <code>File</code>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1555489247, "post_id": 55721899, "comment_id": 98125206, "body": "and <a href=\"https://commonsware.com/blog/2016/03/15/how-consume-content-uri.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://commonsware.com/blog/2014/07/04/uri-not-necessarily-file.html\" rel=\"nofollow noreferrer\">here</a> you can read why you cannot get &quot;file path&quot; from your <code>Uri</code> - do not even try several &quot;getRealFilePathFromUri()&quot; methods that are posted here again and again (i saw maybe 20 variants and none was working correctly - they are just workarounds working if you have good luck)"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1555489968, "post_id": 55721899, "comment_id": 98125635, "body": "Appreciate the help pskink. Just as you&#39;ve posted you second last comment I was able to solve my issue using <code>FileUtils.copyInputStreamToFile</code>"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1555490232, "post_id": 55721899, "comment_id": 98125775, "body": "I would love to do it in the best way possible, didn&#39;t realize this would not be a good solution. I&#39;m not sure if I got your solution with using the bitmap line. I give the Resizer a Bitmap instead of File? I&#39;ll try that to see if I can make it to work"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1555490820, "post_id": 55721899, "comment_id": 98126086, "body": "<a href=\"https://github.com/hkk595/Resizer/blob/master/app/src/main/java/me/echodev/resizer/util/ImageUtils.java#L34\" rel=\"nofollow noreferrer\">here</a> they are using <code>BitmapFactory.decodeFile()</code> method - simply change it to <code>BitmapFactory.decodeStream()</code> - that way you dont need to create any temporary file, copy the content with <code>FileUtils.copyInputStreamToFile()</code> and then delete it afterwards"}], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 8166938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bb0b893cc392d9453a5f02348b9b8e5?s=128&d=identicon&r=PG&f=1", "display_name": "nKalai", "link": "https://stackoverflow.com/users/8166938/nkalai"}, "is_accepted": false, "score": 0, "last_activity_date": 1555489383, "creation_date": 1555489383, "answer_id": 55723057, "question_id": 55721899, "link": "https://stackoverflow.com/questions/55721899/how-can-i-pass-an-image-file-if-i-have-the-images-content-uri/55723057#55723057", "title": "How can I pass an image file if I have the image&#39;s content uri?", "body": "<p>I found this before some time (I don't remember where)</p>\n\n<pre><code>private fun getRealPathFromUri(context: Context, contentUri: Uri): String {\n    var cursor: Cursor? = null\n    try {\n        val proj = arrayOf(MediaStore.Images.Media.DATA)\n        cursor = context.contentResolver.query(contentUri, proj, null, null, null)\n        val columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA)\n        cursor.moveToFirst()\n        return cursor.getString(columnIndex)\n    } finally {\n        if (cursor != null) {\n            cursor.close()\n        }\n    }\n}\n</code></pre>\n\n<p>Call it like this</p>\n\n<pre><code>val file = File(getRealPathFromUri(context, uri))\n</code></pre>\n"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1555489383, "creation_date": 1555485233, "question_id": 55721899, "link": "https://stackoverflow.com/questions/55721899/how-can-i-pass-an-image-file-if-i-have-the-images-content-uri", "title": "How can I pass an image file if I have the image&#39;s content uri?", "body": "<p>I want to use a resize library to compress some photos. The library requires me to pass to it the source file. I am choosing the image with a simpe intent, and what I get in return is a content Uri like this one:</p>\n\n<p><code>content://com.google.android.apps.photos.contentprovider/-1/1/content%3A%2F%2Fmedia%2Fexternal%2Fimages%2Fmedia%2F96/ORIGINAL/NONE/2013194373</code></p>\n\n<p>But when I place it inside <code>File()</code> it crashes with the following error\n<code>Attempt to invoke virtual method 'int android.graphics.Bitmap.getWidth()' on a null object reference</code></p>\n\n<p>How can I convert this content uri to a valid path for the file function?\nI have tried playing with Uri.parse in different ways but couldn't figure it out.</p>\n\n<p>I also tried to mess around with the content resolver but couldn't understand how to make that work wither.</p>\n\n<p>I wold appreciate help in Kotlin if possible but will probably understand it in Java too.</p>\n"}, {"tags": ["java", "kotlin", "enums"], "comments": [{"owner": {"reputation": 1186, "user_id": 11046080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LxjJv.jpg?s=128&g=1", "display_name": "Syed Mehtab Hassan", "link": "https://stackoverflow.com/users/11046080/syed-mehtab-hassan"}, "edited": false, "score": 0, "creation_date": 1555482901, "post_id": 55721217, "comment_id": 98122069, "body": "it depends on your requirement."}, {"owner": {"reputation": 1234, "user_id": 7808346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMOYy.jpg?s=128&g=1", "display_name": "Zain Ul Abideen", "link": "https://stackoverflow.com/users/7808346/zain-ul-abideen"}, "edited": false, "score": 0, "creation_date": 1555483189, "post_id": 55721217, "comment_id": 98122167, "body": "It&#39;s okay, However Enum is not used to hold variables but for holding constants instead."}, {"owner": {"reputation": 147, "user_id": 9008002, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bJcWD9fwKSA/AAAAAAAAAAI/AAAAAAAAABk/M1UklNhB5lw/photo.jpg?sz=128", "display_name": "Ivan Baranuk", "link": "https://stackoverflow.com/users/9008002/ivan-baranuk"}, "edited": false, "score": 0, "creation_date": 1555483353, "post_id": 55721217, "comment_id": 98122247, "body": "I believe you can initialize variables inside constructor like that: <code>Week(){switch(this.name()){case &quot;SUNDAY&quot;: this.locName = &quot;Sunday&quot;; &#47;*etc*&#47; break;}}</code>  But constructor with parameters seems like most natural and clean way"}, {"owner": {"reputation": 342, "user_id": 9122671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b575aaf26120c5570d0ecd752dffe92?s=128&d=identicon&r=PG&f=1", "display_name": "Starmixcraft", "link": "https://stackoverflow.com/users/9122671/starmixcraft"}, "edited": false, "score": 0, "creation_date": 1555484694, "post_id": 55721217, "comment_id": 98122810, "body": "Enums get converted by the compiler to class files with static final instance for eatch enum type, you can have as meny variables in an enum as you like, without facing any overhead"}], "answers": [{"tags": [], "owner": {"reputation": 6779, "user_id": 1691223, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/c2AsP.jpg?s=128&g=1", "display_name": "Shravan40", "link": "https://stackoverflow.com/users/1691223/shravan40"}, "is_accepted": false, "score": 2, "last_activity_date": 1555484957, "creation_date": 1555484957, "answer_id": 55721824, "question_id": 55721217, "link": "https://stackoverflow.com/questions/55721217/how-many-variables-we-can-declare-in-enum/55721824#55721824", "title": "How many variables we can declare in ENUM", "body": "<p>The per-class or per-interface constant pool is limited to <code>65535</code> entries by the 16-bit <code>constant_pool_count</code> field of the ClassFile structure. This acts as an internal limit on the total complexity of a single class or interface.</p>\n"}, {"tags": [], "owner": {"reputation": 410, "user_id": 1590490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d3efb98c1d9c26b1c98402dcf78499a?s=128&d=identicon&r=PG", "display_name": "Lyndon Armitage", "link": "https://stackoverflow.com/users/1590490/lyndon-armitage"}, "is_accepted": false, "score": 1, "last_activity_date": 1555486341, "creation_date": 1555486341, "answer_id": 55722209, "question_id": 55721217, "link": "https://stackoverflow.com/questions/55721217/how-many-variables-we-can-declare-in-enum/55722209#55722209", "title": "How many variables we can declare in ENUM", "body": "<p>As mentioned in comments, this mostly depends on your requirements.</p>\n\n<p>Generally it is fine to have multiple properties on an enum but they should generally be constant and unchanging (<code>val</code> types in Kotlin, <code>final</code> in Java) due to how enums are shared around the Java Virtual Machine.</p>\n\n<p>If you look at the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">documentation from Oracle</a> you can see the planets example where they define some constants.</p>\n\n<p>If you end up having a lot of constants associated with an enum you may want to reconsider how you are structuring your code and encapsulate related concepts into their own objects e.g.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public enum Planet {\n  MERCURY(\n          new PhysicalProperties(3.303e+23, 2.4397e6),\n          new Information(\"Mercury\", \"foo\")\n  ),\n  VENUS(\n          new PhysicalProperties(4.869e+24, 6.0518e6),\n          new Information(\"Venus\", \"foo\")\n  ),\n  EARTH(\n          new PhysicalProperties(5.976e+24, 6.37814e6),\n          new Information(\"Earth\", \"Mostly Harmless\")\n  ),\n  MARS(\n          new PhysicalProperties(6.421e+23, 3.3972e6),\n          new Information(\"Mars\", \"foo\")\n  ),\n  JUPITER(\n          new PhysicalProperties(1.9e+27, 7.1492e7),\n          new Information(\"Jupiter\", \"foo\")\n  ),\n  SATURN(\n          new PhysicalProperties(5.688e+26, 6.0268e7),\n          new Information(\"Saturn\", \"foo\")\n  ),\n  URANUS(\n          new PhysicalProperties(8.686e+25, 2.5559e7),\n          new Information(\"Uranus\", \"foo\")\n  ),\n  NEPTUNE(\n          new PhysicalProperties(1.024e+26, 2.4746e7),\n          new Information(\"Neptune\", \"foo\")\n  );\n\n\n\n  private final PhysicalProperties physicalProperties;\n  private final Information information;\n\n  Planet(\n          PhysicalProperties physicalProperties,\n          Information information\n  ) {\n    this.physicalProperties = physicalProperties;\n    this.information = information;\n  }\n\n  public PhysicalProperties physicalProperties() {\n    return physicalProperties;\n  }\n\n  public Information information() {\n    return information;\n  }\n\n\n\n  public static final class PhysicalProperties {\n    private final double mass;   // in kilograms\n    private final double radius; // in meters\n\n    // universal gravitational constant  (m3 kg-1 s-2)\n    static final double G = 6.67300E-11;\n\n    PhysicalProperties(double mass, double radius) {\n      this.mass = mass;\n      this.radius = radius;\n    }\n\n    double surfaceGravity() {\n      return G * mass / (radius * radius);\n    }\n\n    double surfaceWeight(double otherMass) {\n      return otherMass * surfaceGravity();\n    }\n\n  }\n\n  public static final class Information {\n\n    private final String name;\n    private final String description;\n\n    Information(String name, String description) {\n      this.name = name;\n      this.description = description;\n    }\n  }\n\n// I have omitted some getters from these examples for shortness\n}\n</code></pre>\n\n<p>This is a bit of a contrived example since there are only 4 constants but you can imagine a situation where there might be a lot of additional constants.</p>\n\n<p>When your enums bloat you should also consider whether they should be using enumerated types or not, especially if you find yourself adding many additional enum entries as your project develops. For example to add a new planet to the above example above you will need to add a new enum entry and recompile, whereas you could convert the enum to a class and create an arbitrary amount instances on the fly.</p>\n"}], "owner": {"reputation": 19, "user_id": 4034322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb43a3f7d0451b45a8dcb91df36214d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sambaiah Yerramsatti", "link": "https://stackoverflow.com/users/4034322/sambaiah-yerramsatti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555486341, "creation_date": 1555482547, "last_edit_date": 1555483603, "question_id": 55721217, "link": "https://stackoverflow.com/questions/55721217/how-many-variables-we-can-declare-in-enum", "title": "How many variables we can declare in ENUM", "body": "<p>I am declaring <code>enum</code> as in the following:</p>\n\n<pre><code>SUNDAY(\"Sunday\",\"Week end\",\"1\",true)\n</code></pre>\n\n<p>In the above <code>enum</code> I have declared four variables, Is it better approach  having more variables in enum?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-analytics"], "comments": [{"owner": {"reputation": 1605, "user_id": 4748607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDup3.jpg?s=128&g=1", "display_name": "Nirav Bhavsar", "link": "https://stackoverflow.com/users/4748607/nirav-bhavsar"}, "edited": false, "score": 0, "creation_date": 1555480835, "post_id": 55720609, "comment_id": 98121283, "body": "please use <a href=\"https://firebase.google.com/docs/analytics/android/start\" rel=\"nofollow noreferrer\">FirebaseAnalytics</a>."}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 1605, "user_id": 4748607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDup3.jpg?s=128&g=1", "display_name": "Nirav Bhavsar", "link": "https://stackoverflow.com/users/4748607/nirav-bhavsar"}, "edited": false, "score": 0, "creation_date": 1555480951, "post_id": 55720609, "comment_id": 98121341, "body": "@NiravBhavsar, My PO says we should use Google Analytics ! can you help me?"}, {"owner": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555481207, "post_id": 55720609, "comment_id": 98121439, "body": "please check this link : <a href=\"https://proandroiddev.com/integrate-app-analytics-into-your-android-kotlin-app-with-aws-mobile-29d3c4c5acb0\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a>"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555481254, "post_id": 55720609, "comment_id": 98121459, "body": "@unzila, in your link use AWS Mobile ! i want use Google Analytics"}, {"owner": {"reputation": 1605, "user_id": 4748607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDup3.jpg?s=128&g=1", "display_name": "Nirav Bhavsar", "link": "https://stackoverflow.com/users/4748607/nirav-bhavsar"}, "edited": false, "score": 0, "creation_date": 1555481418, "post_id": 55720609, "comment_id": 98121511, "body": "@KokoBand, i dont know very much about google analytics, as its sdk might be moved to version3 and might be other change, so please check this <a href=\"https://developers.google.com/analytics/devguides/collection/android/v3/migration\" rel=\"nofollow noreferrer\">link</a> in detail."}, {"owner": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555481759, "post_id": 55720609, "comment_id": 98121644, "body": "maybe your tracking id is wrong , recheck this id"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555481918, "post_id": 55720609, "comment_id": 98121720, "body": "@unzila, i check it. it&#39;s not wrong! my tracking id is true!"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555481966, "post_id": 55720609, "comment_id": 98121739, "body": "@unzila, and also i use firebase analytics! not show any event too in firebase event panel"}, {"owner": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555482098, "post_id": 55720609, "comment_id": 98121783, "body": "basically when you create tracker id and them embed it in your project then firebase takes time to show analytics on your firebase account, wait for half an hour . all analytics will display soon"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555482176, "post_id": 55720609, "comment_id": 98121809, "body": "@unzila, yes firebase show me events! but not show me my custom event!"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555482344, "post_id": 55720609, "comment_id": 98121864, "body": "@unzila, can you see my above images? why show me null ?!!! i think my issue is null"}, {"owner": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555484383, "post_id": 55720609, "comment_id": 98122684, "body": "yes because you are not initializing your analytics variable inside tracker function. check in your image analytics is null too,"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555484416, "post_id": 55720609, "comment_id": 98122697, "body": "@unzila, how can i fix it? can you edit my codes?"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555484463, "post_id": 55720609, "comment_id": 98122712, "body": "@unzila, in other side i used firebase analytics. in this way not show me null error! and not show event in dashboard! why not show me event???"}, {"owner": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555485119, "post_id": 55720609, "comment_id": 98122985, "body": "firebase analytics code is working fine?"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555485177, "post_id": 55720609, "comment_id": 98123012, "body": "@unzila, firebase analytics not show me any error (null or more) , but not show me any event in dashboard!!!"}, {"owner": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555485315, "post_id": 55720609, "comment_id": 98123075, "body": "firebase takes time to display data on dashboard."}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555485545, "post_id": 55720609, "comment_id": 98123190, "body": "@unzila,I&#39;m waiting for more than an hour and not giving anything"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 1, "creation_date": 1555486888, "post_id": 55720609, "comment_id": 98123925, "body": "@unzila, hey your answer is for <code>analytics = GoogleAnalytics.getInstance(context)</code> help to me. thanks thank you for help me! please post your answer and accept it. perhaps help to another developers."}, {"owner": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1555488458, "post_id": 55720609, "comment_id": 98124770, "body": "u welcome ............."}], "answers": [{"tags": [], "owner": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "is_accepted": true, "score": 1, "last_activity_date": 1555488512, "creation_date": 1555488512, "answer_id": 55722815, "question_id": 55720609, "link": "https://stackoverflow.com/questions/55720609/how-to-use-google-analytics-in-android-kotlin/55722815#55722815", "title": "How to use Google Analytics in Android kotlin", "body": "<p>you should initialize google analytics in this function:</p>\n\n<pre><code> @Synchronized\nfun getDefaultTracker(): Tracker? {\n    var tracker: Tracker? = null\n    analytics = GoogleAnalytics.getInstance(context) // here pass your activity instance\n    analytics?.let {\n        tracker = it.newTracker(R.xml.global_tracker)\n    }\n    return tracker\n}\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "accepted_answer_id": 55722815, "answer_count": 1, "score": 2, "last_activity_date": 1555488512, "creation_date": 1555479660, "last_edit_date": 1555484661, "question_id": 55720609, "link": "https://stackoverflow.com/questions/55720609/how-to-use-google-analytics-in-android-kotlin", "title": "How to use Google Analytics in Android kotlin", "body": "<p>In my application i want to use <strong>Google analytics</strong> to show users <strong>log</strong>!<br>\nI write below codes, but after running application it does <strong>not show</strong> me any events on <strong>google analytics dashboard</strong>!<br>\nI have <strong><code>application class</code></strong> and initialize <strong>google analytics</strong> code into this class and use this class in <code>fragments</code> or <code>activities</code> !<br>\nAfter set <strong>redPoint</strong> for <strong>debugging</strong>, show me null <strong>Tracker</strong> and <strong>Analytics</strong>!<br>\n<strong>My App class :</strong> </p>\n\n<pre><code>class App : Application() {\n    private var analytics: GoogleAnalytics? = null\n\n    override fun onCreate() {\n        super.onCreate()\n        //Google Analytics\n        analytics = GoogleAnalytics.getInstance(this)\n        //Fabric initialize kits\n        val fabric = Fabric.Builder(this)\n            .kits(Crashlytics())\n            .debuggable(true)\n            .build()\n        Fabric.with(fabric)\n    }\n\n    override fun attachBaseContext(base: Context) {\n        super.attachBaseContext(base)\n        MultiDex.install(this)\n    }\n\n    @Synchronized\n    fun getDefaultTracker(): Tracker? {\n        var tracker: Tracker? = null\n        analytics = GoogleAnalytics.getInstance(context) // here pass your activity instance\n        analytics?.let {\n            tracker = it.newTracker(R.xml.global_tracker)\n        }\n        return tracker\n    }\n\n    fun googleTracker(category: String, action: String, label: String) {\n        val tracker: Tracker? = getDefaultTracker()\n        tracker?.send(\n            HitBuilders.EventBuilder()\n                .setCategory(category)\n                .setAction(action)\n                .setLabel(label)\n                .build()\n        )\n    }\n}\n</code></pre>\n\n<p><strong>Fragment codes :</strong></p>\n\n<pre><code>App().googleTracker(ANALYTICS_SIGNUP_CATEGORY, ANALYTICS_SIGNUP_SIGNIN_ACTION, \"\")\n</code></pre>\n\n<p>Debugging images : <br>\n<a href=\"https://i.stack.imgur.com/YwxgT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YwxgT.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/NEkgy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NEkgy.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "generics", "arraylist", "kotlin"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 1, "creation_date": 1555473594, "post_id": 55719621, "comment_id": 98119219, "body": "You need to define Type in signature . Use <code>fun &lt;T&gt;</code> in starting."}], "answers": [{"tags": [], "owner": {"reputation": 2302, "user_id": 7326905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqAOR.jpg?s=128&g=1", "display_name": "android", "link": "https://stackoverflow.com/users/7326905/android"}, "is_accepted": false, "score": 0, "last_activity_date": 1555476724, "creation_date": 1555476724, "answer_id": 55720132, "question_id": 55719621, "link": "https://stackoverflow.com/questions/55719621/generic-arraylist-equal-lists-extension/55720132#55720132", "title": "Generic Arraylist Equal Lists Extension", "body": "<p>Below is the example of Generics in kotlin</p>\n\n<p>First created custom pojo class named as Product:</p>\n\n<pre><code>public class Product implements Serializable {\n\n    int id;\n    String mName;\n\n    public Product(int id, String mName) {\n        this.id = id;\n        this.mName = mName;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getmName() {\n        return mName;\n    }\n\n    public void setmName(String mName) {\n        this.mName = mName;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Product product = (Product) o;\n        return id == product.id;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n}\n</code></pre>\n\n<p>Then add below code in onCreate() method:</p>\n\n<pre><code>val p1 = Product(1, \"abc\")\nval p2 = Product(2, \"abc\")\nval p3 = Product(3, \"abc\")\nval p4 = Product(4, \"abc\")\nval p5 = Product(5, \"abc\")\n\nval p11 = Product(1, \"abc\")\nval p22 = Product(12, \"sdg\")\nval p33 = Product(3, \"xfg\")\nval p44 = Product(14, \"pqr\")\nval p55 = Product(5, \"fhtryt\")\n\nval mProduList1 = ArrayList&lt;Product&gt;()\nval mProduList2 = ArrayList&lt;Product&gt;()\n\nmProduList1.add(p1)\nmProduList1.add(p2)\nmProduList1.add(p3)\nmProduList1.add(p4)\nmProduList1.add(p5)\n\n\nmProduList2.add(p11)\nmProduList2.add(p22)\nmProduList2.add(p33)\nmProduList2.add(p44)\nmProduList2.add(p55)\n\nequalLists(mProduList1, mProduList2)\n</code></pre>\n\n<p>Then create generic function named as \"equalLists\":</p>\n\n<pre><code>public fun equalLists(one: ArrayList&lt;*&gt;?, two: ArrayList&lt;*&gt;?): Boolean {\n    if (one == null &amp;&amp; two == null) {\n    return true\n}\n\nif (one == null &amp;&amp; two != null || one != null &amp;&amp; two == null || one?.size != two?.size) {\n    return false\n}\n\nval oneCopy = ArrayList(one)\nval twoCopy = ArrayList(two)\n\nsortProduct(oneCopy)\nsortProduct(twoCopy)\n\n\nreturn one == two\n\n}\n</code></pre>\n\n<p>Then create new function that will cast generic type to product and then sort them:</p>\n\n<pre><code>private fun sortProduct(dummyCopy: ArrayList&lt;Any&gt;) {\n    (dummyCopy as ArrayList&lt;Product&gt;).sortWith(object: Comparator&lt;Product&gt;{\n        override fun compare(p1: Product, p2: Product): Int = when {\n            p1.id &gt; p2.id -&gt; 1\n            p1.id == p2.id -&gt; 0\n            else -&gt; -1\n        }\n    })\n\n    for(i in dummyCopy){\n        Log.e(\"tagMine\", \"i.id is \" + i.id + \" i.mName \" + i.mName)\n    }\n}\n</code></pre>\n\n<p>To define generic function we can choose one of the follwing like use \"<code>&lt;*&gt;</code>\" or can use \"<code>fun&lt;T&gt;</code>\" as below:</p>\n\n<p>1) <code>public fun equalLists(one: ArrayList&lt;*&gt;?, two: ArrayList&lt;*&gt;?): Boolean {</code></p>\n\n<p>2) <code>fun&lt;T&gt; equalLists(one: ArrayList&lt;T&gt;?, two: ArrayList&lt;T&gt;?): Boolean {</code></p>\n"}, {"tags": [], "owner": {"reputation": 448, "user_id": 8591160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-L_ak78SRom0/AAAAAAAAAAI/AAAAAAAAAH4/r4Of4-1Le68/photo.jpg?sz=128", "display_name": "Philip Borbon", "link": "https://stackoverflow.com/users/8591160/philip-borbon"}, "is_accepted": false, "score": 0, "last_activity_date": 1555478896, "creation_date": 1555478896, "answer_id": 55720473, "question_id": 55719621, "link": "https://stackoverflow.com/questions/55719621/generic-arraylist-equal-lists-extension/55720473#55720473", "title": "Generic Arraylist Equal Lists Extension", "body": "<p>Finally came up with generic ArrayList extension for this.</p>\n\n<pre><code>fun &lt;T: Comparable&lt;T&gt;&gt; ArrayList&lt;T&gt;.equalLists(other: ArrayList&lt;T&gt;?): Boolean {\n    if (other == null) {\n        return true\n    }\n\n    if ( size != other.size ) {\n        return false\n    }\n\n    val thisCopy = ArrayList(this)\n    val otherCopy = ArrayList(other)\n\n    thisCopy.sort()\n    otherCopy.sort()\n\n\n    return thisCopy == otherCopy\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>categories.equalLists(otherCategories)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": true, "score": 2, "last_activity_date": 1555513855, "creation_date": 1555513855, "answer_id": 55730849, "question_id": 55719621, "link": "https://stackoverflow.com/questions/55719621/generic-arraylist-equal-lists-extension/55730849#55730849", "title": "Generic Arraylist Equal Lists Extension", "body": "<p>I see that you found a workable solution, but I believe a more Kotlin-idiomatic solution would be to define this on the <code>List</code> interface itself, rather than <code>ArrayList</code> specifically, and can also be declared as an extension on nullable <code>List</code> references to be equivalent to the original Java code (which supported two null lists as arguments):</p>\n\n<pre><code>fun &lt;T : Comparable&lt;T&gt;&gt; List&lt;T&gt;?.containsSameElementsAs(other: List&lt;T&gt;?) = when {\n    (this == null) xor (other == null) -&gt; false // if only one is null\n    (this?.size != other?.size) -&gt; false // if both null, or have different sizes\n    (this?.size == 1) -&gt; this == other // avoid allocations for single element\n    else -&gt; this?.sorted() == other?.sorted()\n}\n</code></pre>\n\n<p>Might also be worth considering using a <code>Set</code> instead if the order is not important and duplicates aren't meaningful.</p>\n"}], "owner": {"reputation": 448, "user_id": 8591160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-L_ak78SRom0/AAAAAAAAAAI/AAAAAAAAAH4/r4Of4-1Le68/photo.jpg?sz=128", "display_name": "Philip Borbon", "link": "https://stackoverflow.com/users/8591160/philip-borbon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 0, "accepted_answer_id": 55730849, "answer_count": 3, "score": 0, "last_activity_date": 1616639346, "creation_date": 1555473177, "last_edit_date": 1616639346, "question_id": 55719621, "link": "https://stackoverflow.com/questions/55719621/generic-arraylist-equal-lists-extension", "title": "Generic Arraylist Equal Lists Extension", "body": "<p>I'm trying to rewrite this code from an <a href=\"https://stackoverflow.com/a/13501200/8591160\">answer</a> to generic ArrayList extension in Kotlin.</p>\n\n<pre><code>public  boolean equalLists(List&lt;String&gt; one, List&lt;String&gt; two){     \n    if (one == null &amp;&amp; two == null){\n        return true;\n    }\n\n    if((one == null &amp;&amp; two != null) \n      || one != null &amp;&amp; two == null\n      || one.size() != two.size()){\n        return false;\n    }\n\n    //to avoid messing the order of the lists we will use a copy\n    //as noted in comments by A. R. S.\n    one = new ArrayList&lt;String&gt;(one); \n    two = new ArrayList&lt;String&gt;(two);   \n\n    Collections.sort(one);\n    Collections.sort(two);      \n    return one.equals(two);\n}\n</code></pre>\n\n<p>I came up with the code below but I'm getting <code>Unresolved reference: T</code></p>\n\n<pre><code>fun ArrayList&lt;T&gt;.equalLists(one: ArrayList&lt;T&gt;?, two: ArrayList&lt;T&gt;?): Boolean {\n    if (one == null &amp;&amp; two == null) {\n        return true\n    }\n\n    if (one == null &amp;&amp; two != null || one != null &amp;&amp; two == null || one?.size != two?.size) {\n        return false\n    }\n\n    val oneCopy = ArrayList(one)\n    val twoCopy = ArrayList(two)\n\n    oneCopy.sort()\n    twoCopy.sort()\n\n    return one == two\n}\n</code></pre>\n\n<p>How to properly implement this in Kotlin?</p>\n"}, {"tags": ["java", "android", "google-maps", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 340, "user_id": 8191737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6731f5f8ab9e7a838854afb5a3639116?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Sullivan", "link": "https://stackoverflow.com/users/8191737/josh-sullivan"}, "edited": false, "score": 0, "creation_date": 1555521268, "post_id": 55723671, "comment_id": 98144287, "body": "Thanks, @Andrii. After setting z-index for all polylines not containing the startCap in order to place them &quot;behind&quot; my startCap-containing polyline, it appears my issue is resolved."}], "tags": [], "owner": {"reputation": 11935, "user_id": 6950238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JysE9.jpg?s=128&g=1", "display_name": "Andrii Omelchenko", "link": "https://stackoverflow.com/users/6950238/andrii-omelchenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1555491456, "creation_date": 1555491456, "answer_id": 55723671, "question_id": 55719458, "link": "https://stackoverflow.com/questions/55719458/android-google-maps-customcap-appearing-behind-polyline/55723671#55723671", "title": "Android Google Maps CustomCap appearing behind polyline", "body": "<p><a href=\"https://developers.google.com/maps/documentation/android-sdk/shapes#line-caps\" rel=\"nofollow noreferrer\">Line caps</a> specify a <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/model/Cap\" rel=\"nofollow noreferrer\">Cap</a> style for each end of a polyline. Seems it displayed on top not of all, but on top of its polyline. So for ensure that the cap is displayed \"on top\" of all polylines you should <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/model/Polyline.html#setZIndex(float)\" rel=\"nofollow noreferrer\">set Z-index</a> for each polyline cumulatively and draw polylines from \"global\" start to end: in that case <code>startCap</code> of next segment overlaps end of current polyline. Or you can not use Caps but use <a href=\"https://developers.google.com/maps/documentation/android-sdk/marker\" rel=\"nofollow noreferrer\">markers</a> with custom <code>R.drawable.star_red_28px</code> icon this way:</p>\n\n<pre><code>...\nLatLng polylineStartLatLng = polyline.getPoints().get(0);\n\nDrawable starDrawable = ContextCompat.getDrawable(getApplicationContext(), R.drawable.star_red_28px);\nCanvas canvas = new Canvas();\nBitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\ncanvas.setBitmap(bitmap);\nstarDrawable.setBounds(0, 0, 28, 28);\nstarDrawable.draw(canvas);\nBitmapDescriptor markerIcon = BitmapDescriptorFactory.fromBitmap(bitmap);\nmGoogleMap.addMarker(new MarkerOptions()\n        .position(polylineStartLatLng)\n        .anchor(0.5f, 0.5f)\n        .icon(markerIcon)\n);\n...\n</code></pre>\n"}], "owner": {"reputation": 340, "user_id": 8191737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6731f5f8ab9e7a838854afb5a3639116?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Sullivan", "link": "https://stackoverflow.com/users/8191737/josh-sullivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 876, "favorite_count": 0, "accepted_answer_id": 55723671, "answer_count": 1, "score": 1, "last_activity_date": 1555491456, "creation_date": 1555471851, "question_id": 55719458, "link": "https://stackoverflow.com/questions/55719458/android-google-maps-customcap-appearing-behind-polyline", "title": "Android Google Maps CustomCap appearing behind polyline", "body": "<p>I am plotting routes on a Google map in Android with polylines. I wish to have a start cap on my first polyline showing the user where the route begins. </p>\n\n<p>However, when the route I am displaying must be displayed with multiple polylines and the last polyline ends near where the first polyline begins, I am sometimes seeing the start cap displayed behind this last polyline. </p>\n\n<p>This does not occur every time. I would like to ensure that the start cap is always displayed above any and all polylines. How can I ensure that the cap is displayed on top of all polylines?</p>\n\n<p>Here is the method that I am using to draw routes on my map:</p>\n\n<pre><code>private fun addRoute(context: Context, map: GoogleMap, mapData: MapData, color: Int) {\n\n            mapData.routeSegments.forEachIndexed { index, segment -&gt;\n\n                val polylineOptions = PolylineOptions()\n\n                segment.points.forEach { point -&gt;\n\n                    polylineOptions.add(LatLng(point.latitude, point.longitude))\n                }\n\n                val polyline = map.addPolyline(polylineOptions)\n\n                polyline.isClickable = false\n                polyline.color = color\n                polyline.width = POLYLINE_WIDTH\n\n                if (index == 0) {\n                    val bitmap = DrawableUtil.getBitmapFromVectorDrawable(context, R.drawable.star_red_28px)\n                    polyline.startCap = CustomCap(BitmapDescriptorFactory.fromBitmap(bitmap))\n                }\n\n            }\n        }\n</code></pre>\n\n<p>Expected:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HP4Uj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HP4Uj.png\" alt=\"enter image description here\"></a></p>\n\n<p>Actual:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KPqjm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KPqjm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "edited": false, "score": 0, "creation_date": 1617104156, "post_id": 55718769, "comment_id": 118204527, "body": "Related question: <a href=\"https://stackoverflow.com/q/46336835/3422245\">stackoverflow.com/q/46336835/3422245</a>"}], "owner": {"reputation": 1354, "user_id": 4584212, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/BDBCq.jpg?s=128&g=1", "display_name": "Oliver Metz", "link": "https://stackoverflow.com/users/4584212/oliver-metz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1555465505, "creation_date": 1555465505, "question_id": 55718769, "link": "https://stackoverflow.com/questions/55718769/how-to-list-all-kotlin-extension-functions-in-project-in-android-studio", "title": "How to list all Kotlin extension functions in project in Android Studio", "body": "<p>Is here a way to list all Kotlin extension functions in a project / module in Android Studio? </p>\n\n<p>I've seen <a href=\"https://stackoverflow.com/questions/46336835/is-there-a-way-to-show-all-the-extension-functions-of-a-given-kotlin-class-in-in\">this</a> way to list all extension functions for one class but nothing for all classes.</p>\n"}, {"tags": ["kotlin", "objectsize"], "comments": [{"owner": {"reputation": 1689, "user_id": 7952453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nb09x.png?s=128&g=1", "display_name": "Gustavo Passini", "link": "https://stackoverflow.com/users/7952453/gustavo-passini"}, "edited": false, "score": 0, "creation_date": 1555461923, "post_id": 55718345, "comment_id": 98116956, "body": "Have you tried this? <a href=\"https://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\" title=\"in java what is the best way to determine the size of an object\">stackoverflow.com/questions/52353/&hellip;</a>"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1555484808, "post_id": 55718345, "comment_id": 98122864, "body": "&quot;not sure if it is accurate for the size of that parcelable object&quot; It isn&#39;t directly related to the size in memory, no (except you can expect them to grow together)."}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3215, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1555503569, "creation_date": 1555461579, "last_edit_date": 1555503569, "question_id": 55718345, "link": "https://stackoverflow.com/questions/55718345/in-kotlin-how-to-get-the-objects-size", "title": "in kotlin how to get the object&#39;s size", "body": "<p>Is it possible to get the object's memory consumption, like in c++ with sizeOf()?</p>\n\n<p>for object is Parcelable, seems this one could get the raw bytes, not sure if it is accurate for the size of that parcelable objec:</p>\n\n<pre><code>fun marshall(parceable: Parcelable): ByteArray {\n    val parcel = Parcel.obtain()\n    parceable.writeToParcel(parcel, 0)\n    val bytes = parcel.marshall()\n    parcel.recycle()\n    return bytes\n} \n</code></pre>\n\n<p>Any suggestion?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Thanks @Gustavo Passini pints to a link with a lot approaches. Someone needs  java.lang.instrument package and not able to use on Android, and found one but needs api level 26 above, converted into koltin and copied it here as ref (<a href=\"https://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\">thanks Agnius Vasiliauskas</a> ), is it accurate?:</p>\n\n<pre><code>import java.io.ByteArrayOutputStream\n    import java.io.ObjectOutputStream\n    import java.io.Serializable\n\n    @TargetApi (26)\n    object ObjectSizeCalculator {\n        private fun getFirstObjectReference(o: Any): Any? {\n            val objectType = o.javaClass.typeName\n\n            if (objectType.substring(objectType.length - 2) == \"[]\") {\n                try {\n                    return if (objectType == \"java.lang.Object[]\")\n                        (o as Array&lt;Any&gt;)[0]\n                    else if (objectType == \"int[]\")\n                        (o as IntArray)[0]\n                    else\n                        throw RuntimeException(\"Not Implemented !\")\n                } catch (e: IndexOutOfBoundsException) {\n                    return null\n                }\n\n            }\n\n            return o\n        }\n\n        fun getObjectSizeInBytes(o: Any?): Int {\n            val STRING_JAVA_TYPE_NAME = \"java.lang.String\"\n\n            if (o == null)\n                return 0\n\n            val objectType = o.javaClass.typeName\n            val isArray = objectType.substring(objectType.length - 2) == \"[]\"\n\n            val objRef = getFirstObjectReference(o)\n            if (objRef != null &amp;&amp; objRef !is Serializable)\n                throw RuntimeException(\"Object must be serializable for measuring it's memory footprint using this method !\")\n\n            try {\n                val baos = ByteArrayOutputStream()\n                val oos = ObjectOutputStream(baos)\n                oos.writeObject(o)\n                oos.close()\n                val bytes = baos.toByteArray()\n\n                var i = bytes.size - 1\n                var j = 0\n                while (i != 0) {\n                    if (objectType !== STRING_JAVA_TYPE_NAME) {\n                        if (bytes[i].toInt() == 112)\n                            return if (isArray)\n                                j - 4\n                            else\n                                j\n                    } else {\n                        if (bytes[i].toInt() == 0)\n                            return j - 1\n                    }\n                    i--\n                    j++\n                }\n            } catch (e: Exception) {\n                return -1\n            }\n\n            return -1\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 1440, "user_id": 11181035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s01He.jpg?s=128&g=1", "display_name": "Beyazid", "link": "https://stackoverflow.com/users/11181035/beyazid"}, "edited": false, "score": 0, "creation_date": 1555444687, "post_id": 55715690, "comment_id": 98111947, "body": "Do you use notifyDataSetChanged when you filled RecyclerView?"}, {"owner": {"reputation": 650, "user_id": 4227722, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-13uZ8ZSOFdw/AAAAAAAAAAI/AAAAAAAAIOc/X9e5fYQQq1A/photo.jpg?sz=128", "display_name": "icortesi", "link": "https://stackoverflow.com/users/4227722/icortesi"}, "edited": false, "score": 0, "creation_date": 1555445385, "post_id": 55715690, "comment_id": 98112244, "body": "What you are trying to accomplish is contrary to what a RecyclerView does. In a RecyclerView you are actually recycling the views in screen and replacing the data.   What you need to do, is refresh the item view info everytime the view shows on screen using a View Holder in a RecyclerView Adapter. Are you already doing that? because I&#39;m not sure I understand what kind of methods do you need to execute if it isn&#39;t on screen for the user to interact with that view."}, {"owner": {"reputation": 31, "user_id": 11039103, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHAZgEYmrcI/AAAAAAAAAAI/AAAAAAAAZPU/g1RKaKl-wWU/photo.jpg?sz=128", "display_name": "Patrick Ferro Ribeiro", "link": "https://stackoverflow.com/users/11039103/patrick-ferro-ribeiro"}, "edited": false, "score": 0, "creation_date": 1555505130, "post_id": 55715690, "comment_id": 98134559, "body": "Hello, thanks for the help,  Answering your questions, I use RecyclerView to add items to a shopping cart type, when the process was manual item by item there were no issues as the item was always displayed on the save screen, but when implemented add function several items in this cart a single time, problems arose with this question, because there is a discount calculation and quantity of items, and exactly this field that when the object is saved it comes as 0.00 if in the save screen I do not scroll manually screen. I&#39;m using Kotlin and use notifyChange () whenever changes occur."}, {"owner": {"reputation": 31, "user_id": 11039103, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHAZgEYmrcI/AAAAAAAAAAI/AAAAAAAAZPU/g1RKaKl-wWU/photo.jpg?sz=128", "display_name": "Patrick Ferro Ribeiro", "link": "https://stackoverflow.com/users/11039103/patrick-ferro-ribeiro"}, "edited": false, "score": 0, "creation_date": 1555506151, "post_id": 55715690, "comment_id": 98135223, "body": "Sorry in ActivityViewModel i use notifyObservers()"}], "owner": {"reputation": 31, "user_id": 11039103, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHAZgEYmrcI/AAAAAAAAAAI/AAAAAAAAZPU/g1RKaKl-wWU/photo.jpg?sz=128", "display_name": "Patrick Ferro Ribeiro", "link": "https://stackoverflow.com/users/11039103/patrick-ferro-ribeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555445367, "creation_date": 1555444358, "question_id": 55715690, "link": "https://stackoverflow.com/questions/55715690/recyclerview-doesnt-load-methods-when-element-not-show-in-screen", "title": "Recyclerview Doesn&#39;t Load Methods when element not show in screen", "body": "<p>When I use recyclerview if I do not scroll the page the methods of the elements not shown are not loaded, and with that when I use the elements on the other screen some values \u200b\u200bcome set with the default value of the model. I need the methods to be loaded even if the element is not being viewed, so I can retrieve the information on the next screen.</p>\n"}, {"tags": ["android", "listview", "kotlin", "android-recyclerview", "fragment"], "comments": [{"owner": {"reputation": 7521, "user_id": 1219389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6otAH.jpg?s=128&g=1", "display_name": "PPartisan", "link": "https://stackoverflow.com/users/1219389/ppartisan"}, "edited": false, "score": 0, "creation_date": 1555441076, "post_id": 55714880, "comment_id": 98110398, "body": "Your idea sounds fine to me - you don&#39;t nee to use two Fragments, just one would do it, but you could, and doing so may give you more flexibility in future. A <code>RecyclerView</code> would also be fine."}], "answers": [{"tags": [], "owner": {"reputation": 478, "user_id": 5792760, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-KtFPeYQHZ2E/AAAAAAAAAAI/AAAAAAAABY0/HDP8BkvF3dM/photo.jpg?sz=128", "display_name": "AzraelPwnz", "link": "https://stackoverflow.com/users/5792760/azraelpwnz"}, "is_accepted": false, "score": 1, "last_activity_date": 1555441089, "creation_date": 1555441089, "answer_id": 55714952, "question_id": 55714880, "link": "https://stackoverflow.com/questions/55714880/a-fragment-list-that-changes-another-fragment/55714952#55714952", "title": "A fragment (list) that changes another fragment", "body": "<p>I would use a RecyclerView for the list for sure.</p>\n\n<p>As for the top, if you are just replacing an image I would recommend just using an ImageView on the main activity.</p>\n\n<p>Then setup an interface in your RecyclerView adapter that passes the selected object to your fragment, and then back to your activity. Then in that callback, update the ImageView. </p>\n"}, {"tags": [], "owner": {"reputation": 1165, "user_id": 4145397, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/NP13i.jpg?s=128&g=1", "display_name": "92AlanC", "link": "https://stackoverflow.com/users/4145397/92alanc"}, "is_accepted": false, "score": 0, "last_activity_date": 1555441234, "creation_date": 1555441234, "answer_id": 55714985, "question_id": 55714880, "link": "https://stackoverflow.com/questions/55714880/a-fragment-list-that-changes-another-fragment/55714985#55714985", "title": "A fragment (list) that changes another fragment", "body": "<p>Use the Observer pattern.</p>\n\n<p>When you click an item of your bottom fragment's RecyclerView, notify all subscribers with the new value selected. Then, on the activity you set the top fragment as a subscriber and finally, on the top fragment's callback you make the changes in the ImageView.</p>\n\n<p>And yes, it's highly recommended for you to use a RecyclerView to handle the items as a list.</p>\n\n<p>PS.: you will only need to use fragments if you want to use either that RecyclerView or that ImageView with that same behaviour in other activities, otherwise it's totally fine to keep them straight in the activity.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 10873478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfcfe2301612c3864585583657847b1?s=128&d=identicon&r=PG&f=1", "display_name": "xerav", "link": "https://stackoverflow.com/users/10873478/xerav"}, "edited": false, "score": 0, "creation_date": 1555443874, "post_id": 55715286, "comment_id": 98111599, "body": "Wow man thanks this is very detailed and helpful, cleared up a lot of questions I had in my head. Actually I do have to use fragments, it is for an assignment otherwise I obviously would not bother. I&#39;m currently not near a PC but when I get home I&#39;ll try to work around this and do this with fragments"}, {"owner": {"reputation": 2583, "user_id": 9248718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzbRd.png?s=128&g=1", "display_name": "Some random IT boy", "link": "https://stackoverflow.com/users/9248718/some-random-it-boy"}, "reply_to_user": {"reputation": 13, "user_id": 10873478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfcfe2301612c3864585583657847b1?s=128&d=identicon&r=PG&f=1", "display_name": "xerav", "link": "https://stackoverflow.com/users/10873478/xerav"}, "edited": false, "score": 0, "creation_date": 1555444082, "post_id": 55715286, "comment_id": 98111676, "body": "Let me know if you need some guidance on the <code>Activity</code> that will be hosting your <code>Fragment</code>s :)"}, {"owner": {"reputation": 13, "user_id": 10873478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfcfe2301612c3864585583657847b1?s=128&d=identicon&r=PG&f=1", "display_name": "xerav", "link": "https://stackoverflow.com/users/10873478/xerav"}, "edited": false, "score": 0, "creation_date": 1555510634, "post_id": 55715286, "comment_id": 98138251, "body": "I&#39;m now having a problem with a lateint variable not being initialized :( Is there somewhere I can contact you to take a look so we don&#39;t side-track this thread?"}, {"owner": {"reputation": 2583, "user_id": 9248718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzbRd.png?s=128&g=1", "display_name": "Some random IT boy", "link": "https://stackoverflow.com/users/9248718/some-random-it-boy"}, "reply_to_user": {"reputation": 13, "user_id": 10873478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfcfe2301612c3864585583657847b1?s=128&d=identicon&r=PG&f=1", "display_name": "xerav", "link": "https://stackoverflow.com/users/10873478/xerav"}, "edited": false, "score": 0, "creation_date": 1555515480, "post_id": 55715286, "comment_id": 98141376, "body": "Feel free to email me at miquelrc95@outlook.es"}], "tags": [], "owner": {"reputation": 2583, "user_id": 9248718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzbRd.png?s=128&g=1", "display_name": "Some random IT boy", "link": "https://stackoverflow.com/users/9248718/some-random-it-boy"}, "is_accepted": true, "score": 1, "last_activity_date": 1555442966, "last_edit_date": 1555442966, "creation_date": 1555442554, "answer_id": 55715286, "question_id": 55714880, "link": "https://stackoverflow.com/questions/55714880/a-fragment-list-that-changes-another-fragment/55715286#55715286", "title": "A fragment (list) that changes another fragment", "body": "<h2>Reasoning</h2>\n\n<p>You can go with either.</p>\n\n<p>So basically, you can write any layout file and you'll be able to inflate it either in a <code>Fragment</code>, an <code>Activity</code> or just as a <code>RecyclerView.ViewHolder</code> it doesn't really matter from that point of view (layout file).</p>\n\n<h3>Fragments are a great choice because:</h3>\n\n<ul>\n<li>They allow for easy reutilization of all of the code englobing the <code>Fragment</code></li>\n<li>They are instantiable, unlike <code>Activity</code>; which basically means that you don't have to go through the implementation of the <code>Parcelable</code> patter to pass complex objects between them (Fragment &lt;--> Fragment || Fragment &lt;--> Activity)</li>\n</ul>\n\n<h3>An <code>Activity</code> would just suffice:</h3>\n\n<p>Implementing a Fragment is really nice, but if you just don't need it then you're writing boilerplate code that doesn't serve any real use... So don't do that :P</p>\n\n<h1>Sample code</h1>\n\n<h2>Layout file:</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".StackOverflowSample\"&gt;\n\n    &lt;ImageView\n            android:id=\"@+id/your_image_view\"\n            android:src=\"@drawable/ic_launcher_foreground\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"200dp\"\n            app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=\"@+id/recycler\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            app:layout_constraintTop_toBottomOf=\"@+id/your_image_view\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<h2>Kotlin code:</h2>\n\n<pre><code>class StackOverflowSample : AppCompatActivity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_stack_overflow_sample)\n        recycler.apply {\n            adapter = SwitcherAdapter(\n                arrayOf(\n                    Data(\"F\", R.drawable.froyo, ::onItemClicked),\n                    Data(\"O\", R.drawable.oreo, ::onItemClicked)\n                )\n            )\n            layoutManager = LinearLayoutManager(this@StackOverflowSample)\n        }\n    }\n\n    fun onItemClicked(data: Data) {\n        your_image_view.setImageResource(data.resourceDrawable)\n    }\n}\n\n\ndata class Data(val textViewText: String, val resourceDrawable: Int, val callback: ((Data) -&gt; Unit)? = null)\n\nclass SwitcherAdapter(val dataset: Array&lt;Data&gt;) : RecyclerView.Adapter&lt;SimpleViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): SimpleViewHolder {\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.simple_viewholder_item, parent, false)\n        return SimpleViewHolder(view)\n    }\n    override fun getItemCount(): Int = dataset.size\n    override fun onBindViewHolder(holder: SimpleViewHolder, position: Int) = holder.bindTo(dataset[position])\n}\n\nclass SimpleViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n\n    val textView= view.findViewById&lt;TextView&gt;(R.id.text)\n\n    fun bindTo(data: Data) {\n        data.callback?.let { call -&gt;\n            super.itemView.setOnClickListener { call.invoke(data) }\n        }\n        textView.text = data.textViewText\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10873478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfcfe2301612c3864585583657847b1?s=128&d=identicon&r=PG&f=1", "display_name": "xerav", "link": "https://stackoverflow.com/users/10873478/xerav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 55715286, "answer_count": 3, "score": -1, "last_activity_date": 1555442966, "creation_date": 1555440844, "question_id": 55714880, "link": "https://stackoverflow.com/questions/55714880/a-fragment-list-that-changes-another-fragment", "title": "A fragment (list) that changes another fragment", "body": "<p>Two fragments that work together as a sort of menu; the top fragment should hold an ImageView that is changed by a list that is inside the bottom fragment. How do I go about doing this? Do I need to use a RecyclerView?</p>\n\n<p>I'm not sure where to begin, would I have to make a generic Fragment or make a fragment for each list item. If I can go with the generic option; how would I go about doing something like that? Any help would be appreciated I'm really lost.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EWAaw.png\" rel=\"nofollow noreferrer\">How it is supposed to look like</a></p>\n"}, {"tags": ["android", "kotlin", "google-cloud-platform", "speech-recognition", "speech-to-text"], "comments": [{"owner": {"reputation": 23634, "user_id": 432021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c16a68dfa5030f9b6df4d4ae4a337a?s=128&d=identicon&r=PG", "display_name": "Nikolay Shmyrev", "link": "https://stackoverflow.com/users/432021/nikolay-shmyrev"}, "edited": false, "score": 0, "creation_date": 1555444456, "post_id": 55714751, "comment_id": 98111845, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/47085738/cannot-call-speechclient-recognizerecognizerequest-request-throwing-exception\">Cannot call SpeechClient.recognize(RecognizeRequest request): Throwing Exception</a>"}, {"owner": {"reputation": 7568, "user_id": 3645370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZfsLt.png?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/3645370/david"}, "edited": false, "score": 0, "creation_date": 1555450221, "post_id": 55714751, "comment_id": 98114258, "body": "Can you include the full stacktrace?"}, {"owner": {"reputation": 73, "user_id": 6362844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a700007a621c1717d7a4dd0e47869f?s=128&d=identicon&r=PG&f=1", "display_name": "Nodar Maruashvili", "link": "https://stackoverflow.com/users/6362844/nodar-maruashvili"}, "reply_to_user": {"reputation": 7568, "user_id": 3645370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZfsLt.png?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/3645370/david"}, "edited": false, "score": 0, "creation_date": 1555451322, "post_id": 55714751, "comment_id": 98114612, "body": "@David included full stacktrace."}, {"owner": {"reputation": 73, "user_id": 6362844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a700007a621c1717d7a4dd0e47869f?s=128&d=identicon&r=PG&f=1", "display_name": "Nodar Maruashvili", "link": "https://stackoverflow.com/users/6362844/nodar-maruashvili"}, "reply_to_user": {"reputation": 23634, "user_id": 432021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c16a68dfa5030f9b6df4d4ae4a337a?s=128&d=identicon&r=PG", "display_name": "Nikolay Shmyrev", "link": "https://stackoverflow.com/users/432021/nikolay-shmyrev"}, "edited": false, "score": 0, "creation_date": 1555863492, "post_id": 55714751, "comment_id": 98239712, "body": "@NikolayShmyrev it doesn&#39;t answer my question."}], "owner": {"reputation": 73, "user_id": 6362844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a700007a621c1717d7a4dd0e47869f?s=128&d=identicon&r=PG&f=1", "display_name": "Nodar Maruashvili", "link": "https://stackoverflow.com/users/6362844/nodar-maruashvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555451271, "creation_date": 1555440327, "last_edit_date": 1555451271, "question_id": 55714751, "link": "https://stackoverflow.com/questions/55714751/im-trying-to-use-googles-speech-to-text-api-for-android-getting-an-error-when", "title": "I&#39;m trying to use google&#39;s speech to text api for android. Getting an error when setting the credentials in speechClient", "body": "<p>I want to instantiate speechClient object with credentials in android. To use it later for transforming audio input into text.</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>val speechSettings = SpeechSettings.newBuilder()\n            .setCredentialsProvider(\n                FixedCredentialsProvider.create(\n                    GoogleCredentials.fromStream(\n                        context.resources.openRawResource(R.raw.my_key_name)\n                    )\n                )\n            )\n            .build()\n\nval speechClient = SpeechClient.create(speechSettings)\n</code></pre>\n\n<p>and in gradle I added the following:</p>\n\n<pre><code>implementation 'com.google.cloud:google-cloud-speech:0.80.0-beta'\nimplementation \"io.grpc:grpc-okhttp:1.4.0\"\n</code></pre>\n\n<p>I get the following error when running the application:</p>\n\n<pre><code>java.lang.AbstractMethodError: abstract method \"java.util.concurrent.ScheduledExecutorService io.grpc.internal.ClientTransportFactory.getScheduledExecutorService()\"\n</code></pre>\n\n<p>Full stack trace:</p>\n\n<pre><code>Caused by: java.lang.AbstractMethodError: abstract method \"java.util.concurrent.ScheduledExecutorService io.grpc.internal.ClientTransportFactory.getScheduledExecutorService()\"\n        at io.grpc.internal.CallCredentialsApplyingTransportFactory.getScheduledExecutorService(CallCredentialsApplyingTransportFactory.java:52)\n        at io.grpc.internal.ManagedChannelImpl.&lt;init&gt;(ManagedChannelImpl.java:560)\n        at io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:419)\n        at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:222)\n        at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:164)\n        at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:156)\n        at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:157)\n        at com.google.cloud.speech.v1.stub.GrpcSpeechStub.create(GrpcSpeechStub.java:94)\n        at com.google.cloud.speech.v1.stub.SpeechStubSettings.createStub(SpeechStubSettings.java:126)\n        at com.google.cloud.speech.v1.SpeechClient.&lt;init&gt;(SpeechClient.java:144)\n        at com.google.cloud.speech.v1.SpeechClient.create(SpeechClient.java:126)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "drawable", "stroke"], "answers": [{"tags": [], "owner": {"reputation": 157, "user_id": 9472989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d9d85efd2c218abdfce8ba6a24be2a?s=128&d=identicon&r=PG&f=1", "display_name": "Jared L.", "link": "https://stackoverflow.com/users/9472989/jared-l"}, "is_accepted": true, "score": 0, "last_activity_date": 1555598253, "creation_date": 1555598253, "answer_id": 55748356, "question_id": 55714717, "link": "https://stackoverflow.com/questions/55714717/after-changing-button-color-of-drawable-my-stroke-is-gone-and-i-cannot-set-the-s/55748356#55748356", "title": "After changing button color of drawable my stroke is gone and I cannot set the stroke again", "body": "<p>I figured out the answer:</p>\n\n<p>In Activity file:</p>\n\n<pre><code>val backBtnColor:Int = getResources().getColor(R.color.colorPrimaryDark)\nval bottomButton: Button = this.bottomButton\nval drawable = bottomButton.getBackground().mutate() as GradientDrawable\ndrawable.setColor(backBtnColor)\n</code></pre>\n\n<p>the key is to add <code>mutate()</code> to the <code>val drawable</code> when declaring it, not when you call it later. This gives you the ability to <code>setColor()</code> which is the property you need.</p>\n"}], "owner": {"reputation": 157, "user_id": 9472989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d9d85efd2c218abdfce8ba6a24be2a?s=128&d=identicon&r=PG&f=1", "display_name": "Jared L.", "link": "https://stackoverflow.com/users/9472989/jared-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 55748356, "answer_count": 1, "score": 0, "last_activity_date": 1555598253, "creation_date": 1555440199, "last_edit_date": 1555440656, "question_id": 55714717, "link": "https://stackoverflow.com/questions/55714717/after-changing-button-color-of-drawable-my-stroke-is-gone-and-i-cannot-set-the-s", "title": "After changing button color of drawable my stroke is gone and I cannot set the stroke again", "body": "<p>I am changing the color of one of my buttons which is a drawable shape, but it removes the stroke. I try to set the stroke again, but it isn't working.</p>\n\n<p>It needs to be mutable since I am using this shape with other buttons</p>\n\n<p>Activity:</p>\n\n<pre><code>val bottomButton: Button = this.bottomButton\nval drawable = bottomButton.getBackground() as GradientDrawable\ndrawable.mutate().setColorFilter(backBtnColor,PorterDuff.Mode.SRC_OVER)\ndrawable.setStroke(5,lightBgColor)\n</code></pre>\n\n<p>XML Drawable:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;shape\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;stroke\n            android:width=\"5dp\"\n            android:color=\"@color/colorAccent\"/&gt;\n    &lt;corners\n            android:radius=\"150dp\" /&gt;\n\n    &lt;padding\n            android:left=\"5dp\"\n            android:right=\"5dp\"\n            android:top=\"20dp\"\n            android:bottom=\"20dp\"/&gt;\n\n    &lt;solid android:color=\"@color/colorPrimary\"/&gt;\n\n&lt;/shape&gt;\n</code></pre>\n\n<p>I set the drawable in the Layout XML</p>\n\n<pre><code>&lt;Button\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\" android:id=\"@+id/bottomButton\"\n                    android:layout_marginHorizontal=\"24dp\"\n                    android:textSize=\"32dp\"\n                    android:layout_marginVertical=\"16dp\"\n                    android:background=\"@drawable/btn_rounded\" tools:text=\"Options\" android:text=\"Options\"/&gt;\n</code></pre>\n\n<p>The result is that the new color fills the entire button (which is good that the color changes) but it removes the Stroke. I want the new color, but retain the stroke, or at the very least let me set the stroke back to the original.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-jetpack"], "comments": [{"owner": {"reputation": 206, "user_id": 4780451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae7b6a0dce4e45621b4731d427335da3?s=128&d=identicon&r=PG", "display_name": "peterwhy", "link": "https://stackoverflow.com/users/4780451/peterwhy"}, "edited": false, "score": 0, "creation_date": 1555440028, "post_id": 55714493, "comment_id": 98109885, "body": "Do you know the package and name of the generated module?"}, {"owner": {"reputation": 11, "user_id": 10788125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c0935a4b8fccef8ff93ad2f2c571a8?s=128&d=identicon&r=PG", "display_name": "akram09", "link": "https://stackoverflow.com/users/10788125/akram09"}, "reply_to_user": {"reputation": 206, "user_id": 4780451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae7b6a0dce4e45621b4731d427335da3?s=128&d=identicon&r=PG", "display_name": "peterwhy", "link": "https://stackoverflow.com/users/4780451/peterwhy"}, "edited": false, "score": 0, "creation_date": 1555496820, "post_id": 55714493, "comment_id": 98129592, "body": "of course i know because i am the one generating that module"}, {"owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "edited": false, "score": 0, "creation_date": 1555576950, "post_id": 55714493, "comment_id": 98161425, "body": "this <a href=\"https://github.com/square/AssistedInject#usage-with-dagger-2\" rel=\"nofollow noreferrer\">project</a> tackles the same issue, have a look on its code to see how they generate the code for &quot;AssistedInject_PresenterModule.class&quot;, that file is not available until you compile the project"}, {"owner": {"reputation": 11, "user_id": 10788125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c0935a4b8fccef8ff93ad2f2c571a8?s=128&d=identicon&r=PG", "display_name": "akram09", "link": "https://stackoverflow.com/users/10788125/akram09"}, "edited": false, "score": 0, "creation_date": 1555713842, "post_id": 55714493, "comment_id": 98211345, "body": "thank you i am checking the project and i think  it handle the same issue ."}], "owner": {"reputation": 11, "user_id": 10788125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c0935a4b8fccef8ff93ad2f2c571a8?s=128&d=identicon&r=PG", "display_name": "akram09", "link": "https://stackoverflow.com/users/10788125/akram09"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555443452, "creation_date": 1555439285, "last_edit_date": 1555443452, "question_id": 55714493, "link": "https://stackoverflow.com/questions/55714493/how-to-add-generated-dagger-module-to-a-component", "title": "How to Add Generated Dagger Module to a Component", "body": "<p>I am currently building a library that generates interactors so lets say this is the interactor interface </p>\n\n<p><code>interface DeleteProductUsecase :EitherInteractor&lt;None , None, Failure.SubmitionFailure&gt;</code></p>\n\n<p>This interface will be annotated with this annotation:</p>\n\n<p><code>@WorkiUsecase(ProductRepository::class)</code></p>\n\n<p>With annotation processing, I'm generating a class that implement the interface like this:</p>\n\n<pre><code>class Generated_AddProductUsecase @Inject constructor(couroutineDispatchers: CouroutineDispatchers, val repo: ProductRepository) : DeleteProductUseCase\n</code></pre>\n\n<p>And a module that will provide our interactor:  </p>\n\n<pre><code>@Module abstract class WorkiModule {\n        @Binds\n        abstract fun provideGenerated_AddProductUsecase(): AddProductUsecase\n}\n</code></pre>\n\n<p>so the problem is I need to access the module to add it to the <code>appComponent</code> but in compile time the module generated is not yet generated so I can't access.  it</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 45698, "user_id": 513413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e0b73975f75df2f25f8b7cc8ce834f0c?s=128&d=identicon&r=PG", "display_name": "Hesam", "link": "https://stackoverflow.com/users/513413/hesam"}, "is_accepted": false, "score": 0, "last_activity_date": 1555440517, "creation_date": 1555440517, "answer_id": 55714791, "question_id": 55714234, "link": "https://stackoverflow.com/questions/55714234/how-to-prevent-next-focus-goes-away-of-menu-fragment-in-android/55714791#55714791", "title": "How to prevent next focus goes away of Menu Fragment in Android?", "body": "<p>Okay, I found my answer. I added the following attributes to each element of the menu item. It works like charm.</p>\n\n<pre><code>android:nextFocusUp=\"@id/flHome\"\nandroid:nextFocusDown=\"@id/flAccount\"\n</code></pre>\n"}], "owner": {"reputation": 45698, "user_id": 513413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e0b73975f75df2f25f8b7cc8ce834f0c?s=128&d=identicon&r=PG", "display_name": "Hesam", "link": "https://stackoverflow.com/users/513413/hesam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555440517, "creation_date": 1555438226, "question_id": 55714234, "link": "https://stackoverflow.com/questions/55714234/how-to-prevent-next-focus-goes-away-of-menu-fragment-in-android", "title": "How to prevent next focus goes away of Menu Fragment in Android?", "body": "<p>As you see in the screenshot I am working on a TV app. This screen/activity contains two fragments. The one on the left side is Menu fragment and the other one changes accordingly.</p>\n\n<p>I am able to change the focus of each menu item from my keyboard (remote in case of TV). However, I want to keep the focus inside of Menu fragment when I click Top/Bottom from the keyboard. I want to switch between fragments when I click Left/Right from the keyboard.</p>\n\n<p>Should I set the next focus in xml file of Menu fragment? What is your recommendation? </p>\n\n<p><a href=\"https://i.stack.imgur.com/FTdG2.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FTdG2.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "coroutine", "android-livedata", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1555437907, "post_id": 55714028, "comment_id": 98108857, "body": "that doesn&#39;t sound right. That would mean I would be assigning a <code>Weather</code> object to a <code>MutableLiveData&lt;Weather&gt;</code>. I only need the <code>LiveData</code> that Room or Retrofit is providing in the Repository."}, {"owner": {"reputation": 2057, "user_id": 6439023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-Z7XKDeTLdNw/AAAAAAAAAAI/AAAAAAAAACA/TlXVWsX_ZKc/photo.jpg?sz=128", "display_name": "Luca Nicoletti", "link": "https://stackoverflow.com/users/6439023/luca-nicoletti"}, "reply_to_user": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1555438771, "post_id": 55714028, "comment_id": 98109252, "body": "No, you will assign the Weather Object that Room or Retrofit will provide to <code>weather.value</code>"}, {"owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1555440434, "post_id": 55714028, "comment_id": 98110073, "body": "but taking the value out of a <code>LiveData</code> and putting it into a <code>MutableLiveData</code> will defeat the purpose of using <code>LiveData</code>. I am using databinding and want the value to be automatically updated as the values changes."}, {"owner": {"reputation": 2057, "user_id": 6439023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-Z7XKDeTLdNw/AAAAAAAAAAI/AAAAAAAAACA/TlXVWsX_ZKc/photo.jpg?sz=128", "display_name": "Luca Nicoletti", "link": "https://stackoverflow.com/users/6439023/luca-nicoletti"}, "reply_to_user": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1555440504, "post_id": 55714028, "comment_id": 98110113, "body": "You should use <code>LiveData</code> in this way for View updating, not for ViewModel/Presenter--Room/Retrofit interaction"}], "tags": [], "owner": {"reputation": 2057, "user_id": 6439023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-Z7XKDeTLdNw/AAAAAAAAAAI/AAAAAAAAACA/TlXVWsX_ZKc/photo.jpg?sz=128", "display_name": "Luca Nicoletti", "link": "https://stackoverflow.com/users/6439023/luca-nicoletti"}, "is_accepted": false, "score": 0, "last_activity_date": 1555437266, "creation_date": 1555437266, "answer_id": 55714028, "question_id": 55713969, "link": "https://stackoverflow.com/questions/55713969/livedata-and-coroutines-property-must-be-initialized-or-abstract/55714028#55714028", "title": "LiveData and Coroutines - Property must be initialized or abstract", "body": "<p>Change the signature as follow:</p>\n\n<pre><code>var weather =  MutableLiveData&lt;Weather&gt;();\n</code></pre>\n\n<p>Plus, you should return just a <code>Weather</code> object and not a LiveData&lt;>\nso you should change the signature of <code>getWeather()</code> to return <code>: Weather</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1555525993, "post_id": 55721016, "comment_id": 98146398, "body": "won&#39;t the main thread be blocked until it is returned with this method?"}, {"owner": {"reputation": 1244, "user_id": 1296641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwXEQ.png?s=128&g=1", "display_name": "Laurence", "link": "https://stackoverflow.com/users/1296641/laurence"}, "reply_to_user": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1555526778, "post_id": 55721016, "comment_id": 98146724, "body": "@Alan which ever thread this class gets instantiated on will be blocked until the object is instantiated (including all of its non-null variables). yes. If you want to return immediately and set the <code>weather</code> type to <code>LiveData&lt;Weather&gt;?</code> and have the field set at some later stage fine, but I suspect it would be useless before that variable was set, and then you would have to do null checks every time you wanted to use it. Kotlin is null safe."}, {"owner": {"reputation": 1244, "user_id": 1296641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwXEQ.png?s=128&g=1", "display_name": "Laurence", "link": "https://stackoverflow.com/users/1296641/laurence"}, "reply_to_user": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1556178478, "post_id": 55721016, "comment_id": 98350927, "body": "@Alan you are trying to do do conflicting things - have a variable that is not null, and also instantiate it asynchronously on construction of the object. If <code>weatherRepository.getWeather()</code> is not a suspending function that must be called in a coroutine context then just do <code>weather = weatherRepository.getWeather()</code>. My understanding is that your class cannot do anything it needs to do until it has that instance."}], "tags": [], "owner": {"reputation": 1244, "user_id": 1296641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwXEQ.png?s=128&g=1", "display_name": "Laurence", "link": "https://stackoverflow.com/users/1296641/laurence"}, "is_accepted": false, "score": -1, "last_activity_date": 1555527967, "last_edit_date": 1555527967, "creation_date": 1555481631, "answer_id": 55721016, "question_id": 55713969, "link": "https://stackoverflow.com/questions/55713969/livedata-and-coroutines-property-must-be-initialized-or-abstract/55721016#55721016", "title": "LiveData and Coroutines - Property must be initialized or abstract", "body": "<p><code>weather</code> must be initialized with instantiation of the class because you have not said that it can be null, and you are not using the <code>lateinit</code> keyword (which you should not in this case).</p>\n\n<p><code>launch</code> is an async coroutine call that returns immediately, but will be executed at some point in the future. This means that your <code>init</code> block completes and returns without <code>weather</code> being initialized.</p>\n\n<p>Use <code>runBlocking</code> instead. This will block until you have the result in the <code>init</code> block and so guarantee that weather is not null on instantiation. Something like:</p>\n\n<pre><code>init {\n    weather = runBlocking {\n        weatherRepository.getWeather()\n    }\n}\n</code></pre>\n\n<p>You can pass which ever coroutine context dispatcher to <code>runBlocking</code> as well.</p>\n\n<p>Or - stick with the coroutine, but join in the init block like:</p>\n\n<pre><code>init {\n    val job = viewModelScope.launch {\n        weather = weatherRepository.getWeather()\n    }\n    job.join()\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 1, "last_activity_date": 1555663239, "last_edit_date": 1555663239, "creation_date": 1555662615, "answer_id": 55758877, "question_id": 55713969, "link": "https://stackoverflow.com/questions/55713969/livedata-and-coroutines-property-must-be-initialized-or-abstract/55758877#55758877", "title": "LiveData and Coroutines - Property must be initialized or abstract", "body": "<p>You can declare <code>weather</code> property as <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\"><code>lateinit</code></a>:</p>\n\n<pre><code>private lateinit var weather: LiveData&lt;String&gt;\n</code></pre>\n\n<p>Or make it <strong><a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">nullable</a></strong>:</p>\n\n<pre><code>private var weather: LiveData&lt;String&gt;? = null\n</code></pre>\n\n<p>If you're sure that the property will be initialized before you first use it use <code>lateinit</code> otherwise make it <strong>nullable</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 8515, "user_id": 1642126, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fcIzZ.jpg?s=128&g=1", "display_name": "daneejela", "link": "https://stackoverflow.com/users/1642126/daneejela"}, "is_accepted": false, "score": 0, "last_activity_date": 1566649460, "creation_date": 1566649460, "answer_id": 57637928, "question_id": 55713969, "link": "https://stackoverflow.com/questions/55713969/livedata-and-coroutines-property-must-be-initialized-or-abstract/57637928#57637928", "title": "LiveData and Coroutines - Property must be initialized or abstract", "body": "<p>In Kotlin, by default, every property must be initialized (even the nullable types with null).</p>\n\n<p>You can initialize your property directly in the declaration or within init block. </p>\n\n<p>Problem with your code is that the launch function can keep on going after your init block is done, and the compiler knows this. So, it's telling you - don't count on it. </p>\n\n<p>As previously said, you can use <strong>lateinit</strong> to state that you'll initialize your property later, if you're sure it will happen before you're gonna use it.</p>\n"}], "owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1203, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1566649460, "creation_date": 1555436998, "question_id": 55713969, "link": "https://stackoverflow.com/questions/55713969/livedata-and-coroutines-property-must-be-initialized-or-abstract", "title": "LiveData and Coroutines - Property must be initialized or abstract", "body": "<p>I am trying to use LiveData and Coroutines together in MVVM, and I may be missing something simple.</p>\n\n<pre><code>class WeatherViewModel (\n    private val weatherRepository: ForecastRepository\n) : ViewModel() {\n\n    var weather: LiveData&lt;Weather&gt;;\n\n    /**\n     * Cancel all coroutines when the ViewModel is cleared.\n     */\n    @ExperimentalCoroutinesApi\n    override fun onCleared() {\n        super.onCleared()\n        viewModelScope.cancel()\n    }\n\n\n    init {\n        viewModelScope.launch {\n            weather = weatherRepository.getWeather()\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>But I am getting <code>Property must be initialized or be abstract</code> on assigning the <code>weather</code> in the <code>init</code> function.\nI am assuming this is the case because I am using coroutines <code>viewModelScope.launch</code>.  </p>\n\n<pre><code>override suspend fun getWeather(): LiveData&lt;Weather&gt; {\n    return withContext(IO){\n       initWeatherData()\n       return@withContext weatherDao.getWeather()\n    }\n}\n</code></pre>\n\n<p>How do I fix this?</p>\n"}, {"tags": ["java", "android", "kotlin", "service"], "answers": [{"comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1555434475, "post_id": 55713251, "comment_id": 98107289, "body": "@StuartDTO looks fine, but You should look into changing your <code>mTimer</code>, <code>calendar</code> and <code>simpleDateFormat</code> to <code>lateinit var</code> instead of performing dirty non null casts (<code>!!</code>) thorough your code."}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1555434805, "post_id": 55713251, "comment_id": 98107460, "body": "Thanks for the tip ;)"}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 2, "last_activity_date": 1555434129, "creation_date": 1555434129, "answer_id": 55713251, "question_id": 55713129, "link": "https://stackoverflow.com/questions/55713129/my-service-wont-stop-even-if-is-ondestroy-fired/55713251#55713251", "title": "My Service won&#39;t stop even if is onDestroy fired", "body": "<p><a href=\"https://developer.android.com/reference/android/app/Service#onDestroy()\" rel=\"nofollow noreferrer\"><code>OnDestroy</code></a> is a callback method invoked by system to allow your service a \"clean exit\":</p>\n\n<blockquote>\n  <p>Called by the system to notify a Service that it is no longer used and is being removed. The service should clean up any resources it holds (threads, registered receivers, etc) at this point. Upon return, there will be no more calls in to this Service object and it is effectively dead. Do not call this method directly.</p>\n</blockquote>\n\n<p>System does not instantly terminate your app process following this callback. It's up to You to kill the <code>TimerTask</code> at this point. If You leave it running it's considered a leak. Most likely it will keep running until system decides it's time to kill Your apps process which might take a while if it's kept in the foreground.</p>\n"}], "owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 55713251, "answer_count": 1, "score": 0, "last_activity_date": 1555434129, "creation_date": 1555433627, "question_id": 55713129, "link": "https://stackoverflow.com/questions/55713129/my-service-wont-stop-even-if-is-ondestroy-fired", "title": "My Service won&#39;t stop even if is onDestroy fired", "body": "<p>I have a <code>Service</code> that acts like a <code>TimerTask</code> and even if I stop the service using :</p>\n\n<pre><code>val intent = Intent(applicationContext, TimeService::class.java)\nstopService(intent)\n</code></pre>\n\n<p>It doesn't stop, I have a <code>Log</code> in <code>onDestroy</code> and this <code>Log</code> is fired... but I think the problem is that I'm using a <code>TimerTask</code> inside the <code>Service</code> this is my <code>Service</code></p>\n\n<pre><code>class TimeService : Service() {\n    private val mHandler = Handler()\n    var calendar: Calendar? = null\n    var simpleDateFormat: SimpleDateFormat? = null\n    var strDate: String? = null\n    var date_current: Date? = null\n    var date_diff: Date? = null\n    private var mTimer: Timer? = null\n    private val NOTIFY_INTERVAL: Long = 1000\n    var intent: Intent? = null\n\n    companion object {\n        val str_receiver = \"myreceiver\"\n    }\n\n    override fun onBind(intent: Intent): IBinder? {\n        return null\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n\n\n        calendar = Calendar.getInstance()\n        simpleDateFormat = SimpleDateFormat(\"HH:mm:ss\", Locale.getDefault())\n\n        mTimer = Timer()\n        mTimer!!.scheduleAtFixedRate(TimeDisplayTimerTask(), 5, NOTIFY_INTERVAL)\n        intent = Intent(str_receiver)\n    }\n\n    internal inner class TimeDisplayTimerTask : TimerTask() {\n\n        override fun run() {\n            mHandler.post {\n                calendar = Calendar.getInstance()\n                simpleDateFormat = SimpleDateFormat(\"HH:mm:ss\", Locale.getDefault())\n                strDate = simpleDateFormat!!.format(calendar!!.time)\n                Log.e(\"strDate\", strDate)\n                twoDatesBetweenTime()\n            }\n        }\n\n    }\n\n    fun twoDatesBetweenTime(): String {\n\n\n        try {\n            date_current = simpleDateFormat!!.parse(strDate)\n        } catch (e: Exception) {\n\n        }\n\n        try {\n            date_diff = simpleDateFormat!!.parse(SharedPreferenceHelper.defaultPrefs(this).getString(\"data\", \"\"))\n        } catch (e: Exception) {\n\n        }\n\n        try {\n\n\n            val diff = date_current!!.time - date_diff!!.time\n            val timeInSeconds = Integer.valueOf(SharedPreferenceHelper.defaultPrefs(this).getString(\"seconds\", \"\")!!)\n\n            val timeTimer = TimeUnit.SECONDS.toMillis(timeInSeconds.toLong())\n            val diffWithTime = timeTimer - diff\n            val diffSeconds2 = diffWithTime / 1000 % 60\n            val diffMinutes2 = diffWithTime / (60 * 1000) % 60\n            val diffHours2 = diffWithTime / (60 * 60 * 1000) % 24\n\n\n            if (diffWithTime &gt;= 0) {\n                val counterTime = \"$diffHours2  :  $diffMinutes2 : $diffSeconds2\"\n\n                Log.e(\"TIME\", counterTime)\n\n                fn_update(counterTime)\n            } else {\n                SharedPreferenceHelper.defaultPrefs(this).edit().putBoolean(\"finish\", true).apply()\n                mTimer!!.cancel()\n            }\n        } catch (e: Exception) {\n            mTimer!!.cancel()\n            mTimer!!.purge()\n\n\n        }\n\n        return \"\"\n\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        Log.e(\"Service finish\", \"Finish\")\n    }\n\n    private fun fn_update(str_time: String) {\n\n        intent!!.putExtra(\"time\", str_time)\n        sendBroadcast(intent)\n    }\n}\n</code></pre>\n\n<p>And the problem is that this log :</p>\n\n<pre><code>Log.e(\"strDate\", strDate)\n</code></pre>\n\n<p>And this log : </p>\n\n<pre><code>Log.e(\"TIME\", counterTime)\n</code></pre>\n\n<p>Never stops, what I'm missing?</p>\n\n<h2>EDIT</h2>\n\n<p>My approach is this from the moment but I don't know if it's the best way : </p>\n\n<pre><code>override fun onDestroy() {\n    super.onDestroy()\n    Log.e(\"Service finish\", \"Finish\")\n    if(mTimer!=null){\n        mTimer!!.cancel()\n        mTimer!!.purge()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 16518, "user_id": 1515052, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/87d59872c339c0c66860831e77d764c0?s=128&d=identicon&r=PG", "display_name": "Simulant", "link": "https://stackoverflow.com/users/1515052/simulant"}, "edited": false, "score": 0, "creation_date": 1555431494, "post_id": 55711084, "comment_id": 98105794, "body": "Is this related to the fact that you cannot inherit annotations in Kotlin: <a href=\"https://stackoverflow.com/q/51608924/1515052\">stackoverflow.com/q/51608924/1515052</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1312, "user_id": 1102322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LiRfT.png?s=128&g=1", "display_name": "PiotrK", "link": "https://stackoverflow.com/users/1102322/piotrk"}, "is_accepted": true, "score": 0, "last_activity_date": 1555442993, "creation_date": 1555442993, "answer_id": 55715407, "question_id": 55711084, "link": "https://stackoverflow.com/questions/55711084/how-to-combine-several-annotation-into-one-in-kotlin/55715407#55715407", "title": "How to combine several annotation into one in Kotlin?", "body": "<p>In short: your approach creates annotations that have annotations - two levels of nesting. It's not a mechanism to group annotations.</p>\n\n<p>Try to think like an annotation processor. In the first code snippet, the processor sees a field <code>nick</code> and thinks \"OK, I know how to apply <code>Pattern</code> and <code>Size</code> to a field\".</p>\n\n<p>In the second code snippet, for the field <code>nick</code> it sees <code>ValidNick</code> and thinks \"I don't know this type of annotation, and I don't know how to treat it as a field constraint\". The processor would have to know that it has to go to this annotation's annotations, and that's - I believe - is not supported out of the box.</p>\n\n<p>If I were you, I wouldn't push towards such code structure. IMO it decreases the readability because in order to know nick's constraints, you have to go to some other part of the code. In theory it would be reusable, but the question is: how many reuses you would have?</p>\n\n<p>If you really want to achieve something similar, instead of annotations, I'd give <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">delegated properties</a> a try. They let you intercept the setter, and keep such interception logic as a reusable class</p>\n"}], "owner": {"reputation": 11, "user_id": 11368416, "user_type": "registered", "profile_image": "https://graph.facebook.com/2324066130979255/picture?type=large", "display_name": "Artur Muszy\u0144ski", "link": "https://stackoverflow.com/users/11368416/artur-muszy%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 0, "accepted_answer_id": 55715407, "answer_count": 1, "score": 0, "last_activity_date": 1555442993, "creation_date": 1555426444, "last_edit_date": 1555431147, "question_id": 55711084, "link": "https://stackoverflow.com/questions/55711084/how-to-combine-several-annotation-into-one-in-kotlin", "title": "How to combine several annotation into one in Kotlin?", "body": "<p>I'm trying to validate RequestBody using my custom annotations.</p>\n\n<p>With configuration below my validation works:</p>\n\n<pre><code>data class PlayerRegistration(\n    @field: Email\n    val email: String,\n    @field: Pattern(regexp = NICK_REGEX)\n    @field: Size(min = 5, max = 15)\n    val nick: String,\n    @field: Pattern(regexp = PASSWORD_REGEX)\n    @field: Size(min = 8, max = 20)\n    val password: String,\n    val birthDate: LocalDate\n)\n</code></pre>\n\n<p>But when I try to sum up annotations like this:</p>\n\n<pre><code>data class PlayerRegistration(\n    @field: Email\n    val email: String,\n    @field: ValidNick\n    val nick: String,\n    @field: ValidPassword\n    val password: String,\n    val birthDate: LocalDate\n)\n\n@Pattern(regexp = NICK_REGEX)\n@Size(min = 5, max = 15)\n@Target(AnnotationTarget.FIELD)\nprivate annotation class ValidNick\n\n@Pattern(regexp = EMAIL_REGEX)\n@Size(min = 8, max = 20)\n@Target(AnnotationTarget.FIELD)\nprivate annotation class ValidPassword\n</code></pre>\n\n<p>It doesn't work. What am I doing wrong?</p>\n"}, {"tags": ["java", "kotlin", "spark-java"], "answers": [{"comments": [{"owner": {"reputation": 5589, "user_id": 5897602, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/WZb8m.jpg?s=128&g=1", "display_name": "Jaquarh", "link": "https://stackoverflow.com/users/5897602/jaquarh"}, "edited": false, "score": 0, "creation_date": 1555496135, "post_id": 55725218, "comment_id": 98129208, "body": "Figured it out but forgot to make an answer, this is what i did - thanks for the reply tho! Marked accepted for future viewers!"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1555496162, "last_edit_date": 1555496162, "creation_date": 1555496077, "answer_id": 55725218, "question_id": 55710897, "link": "https://stackoverflow.com/questions/55710897/spark-is-returning-an-empty-response-when-visiting-a-route-when-enabling-cors-in/55725218#55725218", "title": "Spark is returning an empty response when visiting a route when enabling CORS in Kotlin", "body": "<p>Because </p>\n\n<pre><code>{\n    req, res -&gt; {\n        val obj = JsonObject().addProperty(\"foo\", \"bar\")\n        Gson().toJson(obj).toString()\n    }\n}\n</code></pre>\n\n<p>is a lambda which returns a lambda without arguments, and not a <code>String</code>. And that inner lambda's <code>toString</code> returns <code>() -&gt; kotlin.String</code>.</p>\n\n<p>Remove the inner <code>{}</code> to fix the problem:</p>\n\n<pre><code>{ req, res -&gt;\n    val obj = JsonObject().addProperty(\"foo\", \"bar\")\n    Gson().toJson(obj).toString()\n}\n</code></pre>\n\n<p>(see <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#lambda-formatting\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coding-conventions.html#lambda-formatting</a> for formatting conventions)</p>\n"}], "owner": {"reputation": 5589, "user_id": 5897602, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/WZb8m.jpg?s=128&g=1", "display_name": "Jaquarh", "link": "https://stackoverflow.com/users/5897602/jaquarh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 55725218, "answer_count": 1, "score": 0, "last_activity_date": 1564388013, "creation_date": 1555425883, "last_edit_date": 1564388013, "question_id": 55710897, "link": "https://stackoverflow.com/questions/55710897/spark-is-returning-an-empty-response-when-visiting-a-route-when-enabling-cors-in", "title": "Spark is returning an empty response when visiting a route when enabling CORS in Kotlin", "body": "<p>Here is my CorsRoute taken directly from the <a href=\"http://sparkjava.com/tutorials/cors\" rel=\"nofollow noreferrer\">Spark documentation</a>:</p>\n\n<pre><code>class CorsRoute(origin: String, methods: String, headers: String) {\n    init {\n        options(\"/*\") { request, response -&gt;\n\n            val accessControlRequestHeaders = request.headers(\"Access-Control-Request-Headers\")\n            if (accessControlRequestHeaders != null) {\n                response.header(\"Access-Control-Allow-Headers\", accessControlRequestHeaders)\n            }\n\n            val accessControlRequestMethod = request.headers(\"Access-Control-Request-Method\")\n            if (accessControlRequestMethod != null) {\n                response.header(\"Access-Control-Allow-Methods\", accessControlRequestMethod)\n            }\n\n            \"OK\"\n        }\n\n        before { request, response -&gt;\n            response.header(\"Access-Control-Allow-Origin\", origin)\n            response.header(\"Access-Control-Request-Method\", methods)\n            response.header(\"Access-Control-Allow-Headers\", headers)\n            response.type(\"application/json\")\n        }\n    }\n}\n</code></pre>\n\n<p>Here is how I instance the CorsRoute:</p>\n\n<pre><code>abstract class Route {\n    init {\n        CorsRoute(\"*\",\"*\",\"*\")\n    }\n}\n</code></pre>\n\n<p>Here is how I start my routes:</p>\n\n<pre><code>class RestApiRoutes : Route() {\n    fun init() {\n        get(\"/test\") {\n            req, res -&gt; {\n                val obj = JsonObject().addProperty(\"foo\", \"bar\")\n                Gson().toJson(obj).toString()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>When I head over to <code>http://127.0.0.1:4567/test</code> I receive:</p>\n\n<blockquote>\n  <p>() -> kotlin.String</p>\n</blockquote>\n\n<p>Why is the page returning this and not my expected JSON response?</p>\n"}, {"tags": ["java", "spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 364, "user_id": 4905563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d35f513645aec4202234c3885710b04?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/4905563/juan"}, "is_accepted": false, "score": 0, "last_activity_date": 1555427691, "creation_date": 1555427691, "answer_id": 55711475, "question_id": 55710623, "link": "https://stackoverflow.com/questions/55710623/how-to-create-an-object-from-yaml-file-declared-as-interface/55711475#55711475", "title": "How to create an object from yaml file declared as interface", "body": "<p>Maybe is not the best option but it works.</p>\n\n<p>I have create a new service</p>\n\n<pre><code>@Service\nclass APIFactory {\n    @Value(\"\\${geo.api}\") \n    private lateinit var apiDeclaration: API\n\n    fun getApi(){\n        return apiDeclaration\n    }\n}\n</code></pre>\n\n<p>and in my previous service I declare it as I want</p>\n\n<pre><code>private lateinit var apiDeclaration: APIInteface\n</code></pre>\n\n<p>and call ApiFactory::getApi method to poblate it</p>\n"}], "owner": {"reputation": 364, "user_id": 4905563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d35f513645aec4202234c3885710b04?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/4905563/juan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555427691, "creation_date": 1555425114, "last_edit_date": 1555426061, "question_id": 55710623, "link": "https://stackoverflow.com/questions/55710623/how-to-create-an-object-from-yaml-file-declared-as-interface", "title": "How to create an object from yaml file declared as interface", "body": "<p>I have an enum similar to this</p>\n\n<pre><code>enum class API : APIInteface {\n    API_A{\n        override processApi(toProcess: Any){\n            return \"A\"\n        }\n    },\n    API_B{\n        override processApi(toProcess: Any){\n            return \"B\"\n        }\n    };\n    override abstract processApi(toProcess: Any)\n}\n</code></pre>\n\n<p>And <code>APIInteface</code> with  only one method <code>processApi(toProcess: Any)</code></p>\n\n<p>In my service I want to declare a field like this:</p>\n\n<pre><code>@Value(\"\\${api}\")\nprivate lateinit var apiDeclaration: APIInteface\n</code></pre>\n\n<p>And in my config.yml I have <code>api: API_A</code></p>\n\n<p>I know if apiDecaration's type is <code>API</code> it works ok, but I need to declare it as APIInteface. Obviusly it did not work because <code>Failed to convert value of type 'java.lang.String' to required type</code>.\nAnd here is my question, How can I tell object's type it must create in this situation?</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 760, "user_id": 10814596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kqvpk.jpg?s=128&g=1", "display_name": "Ajay Mehta", "link": "https://stackoverflow.com/users/10814596/ajay-mehta"}, "edited": false, "score": 4, "creation_date": 1555421376, "post_id": 55709341, "comment_id": 98099433, "body": "Please add <code>apply plugin: &#39;com.google.gms.google-services&#39;</code> in your app level <code>build.gradle</code>. As the last. Like: <a href=\"http://prntscr.com/ncpwui\" rel=\"nofollow noreferrer\">prntscr.com/ncpwui</a>"}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1555421473, "post_id": 55709341, "comment_id": 98099496, "body": "So have you used <i>FirebaseApp.initializeApp(Context)</i>?"}, {"owner": {"reputation": 339, "user_id": 10848423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aD2dapUSl1c/AAAAAAAAAAI/AAAAAAAAAA0/GDk1bXvyl_8/photo.jpg?sz=128", "display_name": "Lenin Bakhara", "link": "https://stackoverflow.com/users/10848423/lenin-bakhara"}, "reply_to_user": {"reputation": 760, "user_id": 10814596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kqvpk.jpg?s=128&g=1", "display_name": "Ajay Mehta", "link": "https://stackoverflow.com/users/10814596/ajay-mehta"}, "edited": false, "score": 0, "creation_date": 1555481165, "post_id": 55709341, "comment_id": 98121423, "body": "@AjayMehta-Rlogical It is already there"}, {"owner": {"reputation": 339, "user_id": 10848423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aD2dapUSl1c/AAAAAAAAAAI/AAAAAAAAAA0/GDk1bXvyl_8/photo.jpg?sz=128", "display_name": "Lenin Bakhara", "link": "https://stackoverflow.com/users/10848423/lenin-bakhara"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1555481194, "post_id": 55709341, "comment_id": 98121436, "body": "@Piyush I didnt use that"}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 1, "creation_date": 1555482171, "post_id": 55709341, "comment_id": 98121808, "body": "You must use that"}], "answers": [{"comments": [{"owner": {"reputation": 310, "user_id": 6853834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qinpB.jpg?s=128&g=1", "display_name": "Muganwas", "link": "https://stackoverflow.com/users/6853834/muganwas"}, "edited": false, "score": 0, "creation_date": 1604482965, "post_id": 55735712, "comment_id": 114358367, "body": "I have classpath &#39;com.google.gms:google-services:4.3.3&#39; but I&#39;ve gotten the error"}, {"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1605532998, "post_id": 55735712, "comment_id": 114670773, "body": "It should go with both <code>classpath</code> and <code>apply plugin</code>. Having just one those makes no sense."}], "tags": [], "owner": {"reputation": 339, "user_id": 10848423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aD2dapUSl1c/AAAAAAAAAAI/AAAAAAAAAA0/GDk1bXvyl_8/photo.jpg?sz=128", "display_name": "Lenin Bakhara", "link": "https://stackoverflow.com/users/10848423/lenin-bakhara"}, "is_accepted": true, "score": 11, "last_activity_date": 1555533890, "creation_date": 1555533890, "answer_id": 55735712, "question_id": 55709341, "link": "https://stackoverflow.com/questions/55709341/make-sure-to-call-firebaseapp-initializeappcontext-first-default-firebaseapp/55735712#55735712", "title": "Make sure to call FirebaseApp.initializeApp(Context) first. Default FirebaseApp is not initialized in this process com.example.login", "body": "<p>Thanks everyone but I solved it myself. All I did is</p>\n\n<pre><code>classpath 'com.google.gms:google-services:4.1.0'\n</code></pre>\n\n<p>to</p>\n\n<pre><code>classpath 'com.google.gms:google-services:4.2.0'\n</code></pre>\n\n<p>That worked for me!</p>\n"}, {"tags": [], "owner": {"reputation": 1169, "user_id": 4765832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QQ9lD.jpg?s=128&g=1", "display_name": "Rafols", "link": "https://stackoverflow.com/users/4765832/rafols"}, "is_accepted": false, "score": 14, "last_activity_date": 1568054257, "creation_date": 1568054257, "answer_id": 57859536, "question_id": 55709341, "link": "https://stackoverflow.com/questions/55709341/make-sure-to-call-firebaseapp-initializeappcontext-first-default-firebaseapp/57859536#57859536", "title": "Make sure to call FirebaseApp.initializeApp(Context) first. Default FirebaseApp is not initialized in this process com.example.login", "body": "<p>I had something similar because I forgot about adding</p>\n\n<p><code>apply plugin: 'com.google.gms.google-services'</code> </p>\n\n<p>on bottom of build.gradle</p>\n"}, {"tags": [], "owner": {"reputation": 565, "user_id": 7284784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07e1d58c21a34dc8749de9bff382e1ba?s=128&d=identicon&r=PG&f=1", "display_name": "Maya Mohite", "link": "https://stackoverflow.com/users/7284784/maya-mohite"}, "is_accepted": false, "score": 1, "last_activity_date": 1596428797, "creation_date": 1596428797, "answer_id": 63223741, "question_id": 55709341, "link": "https://stackoverflow.com/questions/55709341/make-sure-to-call-firebaseapp-initializeappcontext-first-default-firebaseapp/63223741#63223741", "title": "Make sure to call FirebaseApp.initializeApp(Context) first. Default FirebaseApp is not initialized in this process com.example.login", "body": "<p>Instead of adding below the line in project-level build.gradle, add it into the app level gradle.</p>\n<p>apply plugin: 'com.google.gms.google-services'</p>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 7504346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757665131bed882677451a5e2fdba192?s=128&d=identicon&r=PG&f=1", "display_name": "adarsh", "link": "https://stackoverflow.com/users/7504346/adarsh"}, "is_accepted": false, "score": 0, "last_activity_date": 1612109550, "last_edit_date": 1612109550, "creation_date": 1611900711, "answer_id": 65949634, "question_id": 55709341, "link": "https://stackoverflow.com/questions/55709341/make-sure-to-call-firebaseapp-initializeappcontext-first-default-firebaseapp/65949634#65949634", "title": "Make sure to call FirebaseApp.initializeApp(Context) first. Default FirebaseApp is not initialized in this process com.example.login", "body": "<p>Add this line <code>build.gradle(Project)</code></p>\n<pre><code>  classpath 'com.google.gms:google-services:4.3.3' \n</code></pre>\n<p>And Add this plugin <code>build.gradle(module)</code></p>\n<pre><code>apply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 10848423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aD2dapUSl1c/AAAAAAAAAAI/AAAAAAAAAA0/GDk1bXvyl_8/photo.jpg?sz=128", "display_name": "Lenin Bakhara", "link": "https://stackoverflow.com/users/10848423/lenin-bakhara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12972, "favorite_count": 1, "accepted_answer_id": 55735712, "answer_count": 4, "score": 9, "last_activity_date": 1612109550, "creation_date": 1555421247, "last_edit_date": 1555432560, "question_id": 55709341, "link": "https://stackoverflow.com/questions/55709341/make-sure-to-call-firebaseapp-initializeappcontext-first-default-firebaseapp", "title": "Make sure to call FirebaseApp.initializeApp(Context) first. Default FirebaseApp is not initialized in this process com.example.login", "body": "<p>I am making a Firebase Authentication Signup Page using kotlin and there is a run time error while I am running the app. \nPlease See the 3rd and 14th line I can't figure out what is the problem.</p>\n\n<p>I didnt attach the main code please inform me if the codes are necessary to attach.</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.login, PID: 7505\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.login/com.example.login.Register}: java.lang.IllegalStateException: Default FirebaseApp is not initialized in this process com.example.login. Make sure to call FirebaseApp.initializeApp(Context) first.\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2567)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6119)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n     Caused by: java.lang.IllegalStateException: Default FirebaseApp is not initialized in this process com.example.login. Make sure to call FirebaseApp.initializeApp(Context) first.\n        at com.google.firebase.FirebaseApp.getInstance(SourceFile:218)\n        at com.google.firebase.auth.FirebaseAuth.getInstance(Unknown Source)\n        at com.example.login.Register.&lt;init&gt;(Register.kt:15)\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1078)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2557)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\u00a0\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n        at android.os.Looper.loop(Looper.java:154)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6119)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\u00a0\nApplication terminated.\n</code></pre>\n\n<p>Implementation</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.google.firebase:firebase-auth:16.0.3'\n    implementation 'com.google.firebase:firebase-database:16.0.1'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n"}, {"tags": ["kotlin", "guice"], "answers": [{"tags": [], "owner": {"reputation": 1814, "user_id": 7053782, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154138331767983/picture?type=large", "display_name": "Sheinbergon", "link": "https://stackoverflow.com/users/7053782/sheinbergon"}, "is_accepted": true, "score": 1, "last_activity_date": 1555464164, "creation_date": 1555464164, "answer_id": 55718604, "question_id": 55709167, "link": "https://stackoverflow.com/questions/55709167/why-doesnt-guice-requestinjection-work-on-kotlin-object/55718604#55718604", "title": "Why doesn&#39;t guice requestInjection work on Kotlin object", "body": "<p>Kotlin's objects are treated as language static singletons, i.e. their initialization/instantiations happens outside the scope of the dependency injection framework. </p>\n\n<p>Therefor, when using the <code>KotlinModule</code> to inject an object, you have to use <code>requestStaticInjection</code> like in <strong>APPROACH 3</strong>, or change that object to a class, so that the Guice <code>KotlinModule</code> sees it as <code>non-static</code>, as presented in <strong>APPROACH 2</strong></p>\n\n<p>Hope that clarifies things a bit.</p>\n"}], "owner": {"reputation": 3, "user_id": 4950735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3219c4a0dd95f055193796daab5104d7?s=128&d=identicon&r=PG&f=1", "display_name": "naveenKumarV", "link": "https://stackoverflow.com/users/4950735/naveenkumarv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "accepted_answer_id": 55718604, "answer_count": 1, "score": 0, "last_activity_date": 1555464164, "creation_date": 1555420724, "question_id": 55709167, "link": "https://stackoverflow.com/questions/55709167/why-doesnt-guice-requestinjection-work-on-kotlin-object", "title": "Why doesn&#39;t guice requestInjection work on Kotlin object", "body": "<p>I am new to Guice. I am trying to use requestInjection to inject the dependencies of a kotlin singleton <strong>object</strong> in this way.</p>\n\n<p><strong>APPROACH 1</strong>:</p>\n\n<pre><code>class SampleTest {\n\n    @Test\n    fun test() {\n        Guice.createInjector(object: KotlinModule() {\n            override fun configure() {\n                requestInjection(A)\n            }\n        })\n        assertEquals(\"Hello world\", A.saySomething())\n    }\n}\n\nobject A {\n    @Inject\n    private lateinit var b: B\n\n    fun saySomething(): String {\n        return b.sayHello()\n    }\n}\n\nclass B {\n    fun sayHello(): String {\n        return \"Hello world\"\n    }\n}\n</code></pre>\n\n<p>But I am getting this error:</p>\n\n<pre><code>kotlin.UninitializedPropertyAccessException: lateinit property b has not been initialized\n</code></pre>\n\n<p>If I change A to a class with no-arg constructor, it works.</p>\n\n<p><strong>APPROACH 2</strong>:</p>\n\n<pre><code>class SampleTest {\n\n    @Test\n    fun test() {\n        val a = A()\n        Guice.createInjector(object: KotlinModule() {\n            override fun configure() {\n                requestInjection(a)\n            }\n        })\n        assertEquals(\"Hello world\", a.saySomething())\n    }\n}\n\nclass A {\n    @Inject\n    private lateinit var b: B\n\n    fun saySomething(): String {\n        return b.sayHello()\n    }\n}\n\nclass B {\n    fun sayHello(): String {\n        return \"Hello world\"\n    }\n}\n</code></pre>\n\n<p>Instead, if I change <strong>requestInjection</strong> to <strong>requestStaticInjection</strong>, it also works.</p>\n\n<p><strong>APPROACH 3</strong>:</p>\n\n<pre><code>class SampleTest {\n\n    @Test\n    fun test() {\n        Guice.createInjector(object: KotlinModule() {\n            override fun configure() {\n                requestStaticInjection&lt;A&gt;()\n            }\n        })\n        assertEquals(\"Hello world\", A.saySomething())\n    }\n}\n\nobject A {\n    @Inject\n    private lateinit var b: B\n\n    fun saySomething(): String {\n        return b.sayHello()\n    }\n}\n\nclass B {\n    fun sayHello(): String {\n        return \"Hello world\"\n    }\n}\n</code></pre>\n\n<p>Why didn't <strong>APPROACH 1</strong> work? Why did <strong>APPROACH 2</strong> and <strong>APPROACH 3</strong> work?</p>\n"}, {"tags": ["kotlin", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 2965, "user_id": 1223747, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/303f6a190f252cfeac02ee38da171556?s=128&d=identicon&r=PG", "display_name": "Subodh Nijsure", "link": "https://stackoverflow.com/users/1223747/subodh-nijsure"}, "is_accepted": false, "score": 1, "last_activity_date": 1555422635, "creation_date": 1555422635, "answer_id": 55709823, "question_id": 55708793, "link": "https://stackoverflow.com/questions/55708793/switch-to-kotlin-1-3-30-breaks-hashcode-only-on-android-api-21/55709823#55709823", "title": "Switch to Kotlin 1.3.30 breaks hashCode only on Android API 21", "body": "<p>This is related to this issue - <a href=\"https://issuetracker.google.com/issues/129730297\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/129730297</a> so solution seems to be to upgrade to latest AGP!</p>\n"}, {"comments": [{"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1583276264, "post_id": 55710224, "comment_id": 107059960, "body": "Would love to understand the implications of changing <code>jvmTarget</code>..."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 3, "last_activity_date": 1555423818, "creation_date": 1555423818, "answer_id": 55710224, "question_id": 55708793, "link": "https://stackoverflow.com/questions/55708793/switch-to-kotlin-1-3-30-breaks-hashcode-only-on-android-api-21/55710224#55710224", "title": "Switch to Kotlin 1.3.30 breaks hashCode only on Android API 21", "body": "<p>As an alternative, you may set a JVM target for Kotlin compilation to <code>\"1.6\"</code>, as Kotlin 1.3.30 has started to infer the JVM target from the Java version in <code>android.compileOptions</code> and chooses <code>\"1.8\"</code> if both <code>sourceCompatibility</code> and <code>targetCompatibility</code> are set to that or higher.</p>\n\n<p>In the module's <code>build.gradle</code>, add:</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        jvmTarget = '1.6'\n    }\n}\n</code></pre>\n\n<p>There will be no need to do this once <a href=\"https://issuetracker.google.com/issues/129730297\" rel=\"nofollow noreferrer\">the issue in D8 desugaring</a> is fixed.</p>\n\n<p>This issue is tracked in the Kotlin issue tracker as <a href=\"https://youtrack.jetbrains.com/issue/KT-31027\" rel=\"nofollow noreferrer\">KT-31027</a>.</p>\n"}], "owner": {"reputation": 2965, "user_id": 1223747, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/303f6a190f252cfeac02ee38da171556?s=128&d=identicon&r=PG", "display_name": "Subodh Nijsure", "link": "https://stackoverflow.com/users/1223747/subodh-nijsure"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1124, "favorite_count": 4, "answer_count": 2, "score": 9, "last_activity_date": 1589290957, "creation_date": 1555419609, "question_id": 55708793, "link": "https://stackoverflow.com/questions/55708793/switch-to-kotlin-1-3-30-breaks-hashcode-only-on-android-api-21", "title": "Switch to Kotlin 1.3.30 breaks hashCode only on Android API 21", "body": "<p>I switched over my Android project from 1.3.20 to 1.3.30 and I am suddenly getting following exceptions from some of the classes when they call hashCode() method. Note, I am getting this exception only on Android platform API 21 &amp; 22, beyond Android API 24, everything works fine.</p>\n\n<blockquote>\n  <p>Caused by: java.lang.NoSuchMethodError: No static method hashCode(J)I\n  in class Ljava/lang/Long; or its super classes (declaration of\n  'java.lang.Long' appears in /system/framework/core-libart.jar)</p>\n</blockquote>\n\n<p>There is this <a href=\"https://stackoverflow.com/questions/45935788/nosuchmethoderror-java-lang-long-hashcode/45939508#45939508\">thread</a> that mentions similar symptoms but that was for Kotlin 1.2, I am wondering if anybody is encountering similar situation and if there is a workaround for this?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "edited": false, "score": 0, "creation_date": 1555419622, "post_id": 55708737, "comment_id": 98098273, "body": "I understand that. I wasn&#39;t confused about how to call it but about the fact that I <i>couldnt</i> call it."}, {"owner": {"reputation": 609, "user_id": 7530555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d34e763043565e0a86614faecd4a530b?s=128&d=identicon&r=PG&f=1", "display_name": "H.Taras", "link": "https://stackoverflow.com/users/7530555/h-taras"}, "reply_to_user": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "edited": false, "score": 0, "creation_date": 1555419767, "post_id": 55708737, "comment_id": 98098358, "body": "@Smogen you can call it as I wrote above. I updated answer"}, {"owner": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "edited": false, "score": 0, "creation_date": 1555419856, "post_id": 55708737, "comment_id": 98098411, "body": "I attached a screenshot to clarify"}, {"owner": {"reputation": 609, "user_id": 7530555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d34e763043565e0a86614faecd4a530b?s=128&d=identicon&r=PG&f=1", "display_name": "H.Taras", "link": "https://stackoverflow.com/users/7530555/h-taras"}, "reply_to_user": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "edited": false, "score": 0, "creation_date": 1555419920, "post_id": 55708737, "comment_id": 98098457, "body": "@Smogen it seems, you does not understand how this function works. Let me clarify it in answer and also read article from my answer"}, {"owner": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "edited": false, "score": 0, "creation_date": 1555419970, "post_id": 55708737, "comment_id": 98098492, "body": "Ah, got it. Sorry for the confusion."}], "tags": [], "owner": {"reputation": 609, "user_id": 7530555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d34e763043565e0a86614faecd4a530b?s=128&d=identicon&r=PG&f=1", "display_name": "H.Taras", "link": "https://stackoverflow.com/users/7530555/h-taras"}, "is_accepted": true, "score": 2, "last_activity_date": 1555420111, "last_edit_date": 1555420111, "creation_date": 1555419436, "answer_id": 55708737, "question_id": 55708625, "link": "https://stackoverflow.com/questions/55708625/kotlin-scoping-functions-android-edittext-supports-apply-let-and-run-but/55708737#55708737", "title": "Kotlin scoping functions: Android EditText supports *apply*, *let* and *run* but not *with*", "body": "<p>It is because <code>apply</code>, <code>also</code>, <code>run</code>, <code>runCatching</code>, <code>takeIf</code> and <code>takeUnless</code> are extensions, when <code>with</code> is function with 2 parameters. <a href=\"https://ask.ericlin.info/post/2017/06/subtle-differences-between-kotlins-with-apply-let-also-and-run/\" rel=\"nofollow noreferrer\">Here</a> is good article about this.</p>\n\n<p>You can use <code>with</code> like this: </p>\n\n<pre><code>with(editText) {\n    //your code\n}\n</code></pre>\n\n<p>But you can not call <code>with</code>, as you tried to do this:</p>\n\n<pre><code>editText.with() //compilation error\n</code></pre>\n\n<p><strong>Update</strong>:\n<code>with</code> function purpose is to call object methods more easy, you don't need to write something like this:</p>\n\n<pre><code>someObject.a();\nsomeObject.b();\nsomeObject.c();\n//etc\n</code></pre>\n\n<p>When you use <code>with</code>, you can write it like this: </p>\n\n<pre><code>with(someObject) {\n    a();\n    b();\n    c();\n    //etc\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 2, "last_activity_date": 1555419680, "creation_date": 1555419680, "answer_id": 55708817, "question_id": 55708625, "link": "https://stackoverflow.com/questions/55708625/kotlin-scoping-functions-android-edittext-supports-apply-let-and-run-but/55708817#55708817", "title": "Kotlin scoping functions: Android EditText supports *apply*, *let* and *run* but not *with*", "body": "<p>You're not getting any suggestions about <strong>with</strong> function because, it has no source type as extension, while other extensions contains source attached to it. How?</p>\n\n<p>Look at the difference below :</p>\n\n<p><strong>with</strong> function</p>\n\n<pre><code>@kotlin.internal.InlineOnly\npublic inline fun &lt;T, R&gt; with(receiver: T, block: T.() -&gt; R): R {\n    ...\n    return receiver.block()\n}\n</code></pre>\n\n<p><strong>let</strong> function</p>\n\n<pre><code>@kotlin.internal.InlineOnly\npublic inline fun &lt;T, R&gt; T.let(block: (T) -&gt; R): R {\n    ...\n    return block(this)\n}\n</code></pre>\n\n<p>Here <code>T</code> is the source type for the extension.</p>\n"}], "owner": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 55708737, "answer_count": 2, "score": -2, "last_activity_date": 1555420111, "creation_date": 1555419131, "last_edit_date": 1555419731, "question_id": 55708625, "link": "https://stackoverflow.com/questions/55708625/kotlin-scoping-functions-android-edittext-supports-apply-let-and-run-but", "title": "Kotlin scoping functions: Android EditText supports *apply*, *let* and *run* but not *with*", "body": "<p>I have an Activity that holds a EditText. Imported via:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.myActivity.*\n</code></pre>\n\n<p>I would like to use the <code>with</code> function but for some reason only the other scoping function are accessible:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vw07v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vw07v.png\" alt=\"apply, also, run, runCatching, takeIf and takeUnless are shown, but not with\"></a></p>\n\n<p><code>apply</code>, <code>also</code>, <code>run</code>, <code>runCatching</code>, <code>takeIf</code> and <code>takeUnless</code> are shown, but not <code>with</code> (and yes, I scrolled further down and even typed it out. Its marked as unknown if I do so).</p>\n\n<p>To clarify, here what actually happens:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UoE1d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UoE1d.png\" alt=\"Unresolved reference: with\"></a></p>\n\n<p>Are there rules to when an object has these functions and when not?</p>\n"}, {"tags": ["android", "listview", "kotlin"], "comments": [{"owner": {"reputation": 2057, "user_id": 6439023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-Z7XKDeTLdNw/AAAAAAAAAAI/AAAAAAAAACA/TlXVWsX_ZKc/photo.jpg?sz=128", "display_name": "Luca Nicoletti", "link": "https://stackoverflow.com/users/6439023/luca-nicoletti"}, "edited": false, "score": 1, "creation_date": 1555415643, "post_id": 55707498, "comment_id": 98095877, "body": "Change the implementation of <code>MyListAdapter</code> to override <code>RecyclerView.Adapter&lt;ViewHolder&gt;</code>"}, {"owner": {"reputation": 23, "user_id": 10337052, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YrI3F_XDcpk/AAAAAAAAAAI/AAAAAAAAABI/5aPSP7pekpM/photo.jpg?sz=128", "display_name": "Lukman hakim", "link": "https://stackoverflow.com/users/10337052/lukman-hakim"}, "reply_to_user": {"reputation": 2057, "user_id": 6439023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-Z7XKDeTLdNw/AAAAAAAAAAI/AAAAAAAAACA/TlXVWsX_ZKc/photo.jpg?sz=128", "display_name": "Luca Nicoletti", "link": "https://stackoverflow.com/users/6439023/luca-nicoletti"}, "edited": false, "score": 0, "creation_date": 1555415888, "post_id": 55707498, "comment_id": 98096035, "body": "Thanks, but how to use it ? code example  please :)"}], "answers": [{"tags": [], "owner": {"reputation": 32, "user_id": 8558730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9225084fc08ad4ff6f16efc5baaa8f07?s=128&d=identicon&r=PG&f=1", "display_name": "TEST", "link": "https://stackoverflow.com/users/8558730/test"}, "is_accepted": true, "score": 0, "last_activity_date": 1555421013, "creation_date": 1555421013, "answer_id": 55709272, "question_id": 55707498, "link": "https://stackoverflow.com/questions/55707498/lisview-inisde-recyclerview-just-show-the-first-element/55709272#55709272", "title": "Lisview inisde recyclerview just show the first element", "body": "<p>You don't have to do that. Just make a recycler view and inside it make a LinearLayout with orientation \"vertical\" instead of a listView. Now in the OnBindViewHolder of the recyclerView just run a loop till list.size() and keep inflating the view in linearLayout with addView(). Before the for loop just removeAllView(). This will work and won't make the scrolling a bad experience.</p>\n"}], "owner": {"reputation": 23, "user_id": 10337052, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YrI3F_XDcpk/AAAAAAAAAAI/AAAAAAAAABI/5aPSP7pekpM/photo.jpg?sz=128", "display_name": "Lukman hakim", "link": "https://stackoverflow.com/users/10337052/lukman-hakim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 55709272, "answer_count": 1, "score": -2, "last_activity_date": 1555421013, "creation_date": 1555415420, "question_id": 55707498, "link": "https://stackoverflow.com/questions/55707498/lisview-inisde-recyclerview-just-show-the-first-element", "title": "Lisview inisde recyclerview just show the first element", "body": "<p>Excuse me, i have some problem when i try to load data into Listview inside a Recyclerview .</p>\n\n<p>i get the data, and i have been passing them into my Listview, but its just show the first element of my result data.</p>\n\n<p><strong>Its my CostumViewholder of my recyclerview</strong></p>\n\n<pre><code>@Suppress(\"PLUGIN_WARNING\")\nclass PengaduanViewHolder(val view: View, var aduan: Pengaduan? = null) : \nRecyclerView.ViewHolder(view), KomentarView {\n\nprivate lateinit var presenter: KomentarPresenter\nprivate var komentarList: MutableList&lt;KomentarModel&gt; = mutableListOf()\nprivate lateinit var adapter: MyListAdapter\n\n@RequiresApi(Build.VERSION_CODES.O)\n@SuppressLint(\"SetTextI18n\")\nfun bindItem(aduan: Pengaduan) {\n    val generator = ColorGenerator.MATERIAL\n    Glide.with(view.context.applicationContext)\n        .load(BuildConfig.BASE_URL + \"assets/lapor/image/${aduan.lapor_image_1}\")\n        .into(view.iv_aduan_gambar)\n    val jam = aduan.lapor_jam\n    val tanggal = aduan.lapor_tanggal?.toDate()?.formatTo(\"EEEE, dd MMMM yyyy\")\n    view.tv_aduan_waktu.text = \"$tanggal - $jam\"\n    view.tv_aduan_status.text = aduan.lapor_proses\n    view.tv_aduan_lokasi.text = aduan.lapor_lokasi\n    view.tv_aduan_lokasi.setOnClickListener {\n        val browserIntent = Intent(Intent.ACTION_VIEW)\n        browserIntent.data = Uri.parse(\"https://maps.google.com/?q=${aduan.lapor_lat},${aduan.lapor_long}\")\n        view.context.startActivity(browserIntent)\n    }\n    view.tv_aduan_deskripsi.text = aduan.lapor_deskripsi\n\n    aduan.warga_namadepan?.let {\n        it == \"Unknown\"\n    }\n    val letter = aduan.warga_namadepan?.substring(0, 1)\n    Log.d(\"NAMA\", letter)\n\n    val color = generator.getColor(aduan.warga_id)\n    var drawable: TextDrawable? = null\n    val laporAnonim: String? = aduan.lapor_anonim\n    when (laporAnonim) {\n        null -&gt; {\n            drawable = TextDrawable.builder().buildRound(\"A\", R.color.divider)\n            view.tv_aduan_warga_nama.text = aduan.warga_namadepan\n        }\n        \"Tidak\" -&gt; {\n            drawable = TextDrawable.builder().buildRound(letter, color)\n            view.tv_aduan_warga_nama.text = \"${aduan.warga_namadepan} ${aduan.warga_namabelakang}\"\n        }\n        \"Ya\" -&gt; {\n            drawable = TextDrawable.builder().buildRound(\"A\", R.color.divider)\n            view.tv_aduan_warga_nama.text = \"Anonim\"\n        }\n    }\n    view.aduan_profil_image.setImageDrawable(drawable)\n}\n\ncompanion object {\n    const val EXTRA_ADUAN_DETAIL = \"EXTRA_ADUAN_DETAIL\"\n}\n\ninit {\n    view.view_click.setOnClickListener {\n        val intent = Intent(view.context, AduanDetailActivity::class.java)\n        intent.putExtra(EXTRA_ADUAN_DETAIL, aduan)\n        view.context.startActivity(intent)\n    }\n\n    view.ic_expand_less.setOnClickListener {\n\n        view.progress_horizontal.visibility = View.VISIBLE\n        view.ic_expand_less.visibility = View.GONE\n        view.ic_expand_more.visibility = View.VISIBLE\n        view.showComent.visibility = View.GONE\n        view.hideComent.visibility = View.VISIBLE\n        view.commentList.visibility = View.VISIBLE\n\n        presenter = KomentarPresenter(this)\n        val token = SharedPreferenceHelper(view.context).deviceToken\n\n        Log.d(\"PENGADUAN_ADAPTER\", token)\n        adapter = MyListAdapter(view.context, komentarList)\n        view.commentList.adapter = adapter\n        adapter.notifyDataSetChanged()\n\n        if (komentarList.size &gt;= 1) {\n            view.progress_horizontal.visibility = View.GONE\n        } else {\n            presenter.getKomentar(token, aduan?.lapor_id!!)\n        }\n\n\n    }\n    view.ic_expand_more.setOnClickListener {\n        view.progress_horizontal.visibility = View.GONE\n        view.ic_expand_less.visibility = View.VISIBLE\n        view.ic_expand_more.visibility = View.GONE\n        view.showComent.visibility = View.VISIBLE\n        view.hideComent.visibility = View.GONE\n        view.commentList.visibility = View.GONE\n\n\n    }\n}\n\n\noverride fun showData(response: KomentarResponse) {\n    super.showData(response)\n    if (response.success!!) {\n        view.progress_horizontal.visibility = View.GONE\n        komentarList.clear()\n        komentarList.addAll(response.data!!)\n        adapter.notifyDataSetChanged()\n    }\n}\n}\n</code></pre>\n\n<p><strong>And this is my ListAdapter looks like</strong></p>\n\n<pre><code>class MyListAdapter(private var context: Context?, private var item: List&lt;KomentarModel&gt;) : BaseAdapter() {\n\n\n@SuppressLint(\"InflateParams\")\noverride fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n    var crView = convertView\n    val holder: ComentViewHolder\n    if (crView == null) {\n        holder = ComentViewHolder()\n        val inflater = context?.getSystemService((Context.LAYOUT_INFLATER_SERVICE)) as LayoutInflater\n        crView = inflater.inflate(R.layout.row_comment,null)\n        crView.setPadding(0,10,0,10)\n        holder.nama = crView?.findViewById(R.id.tv_nama_komentar) as TextView\n        holder.isi = crView.findViewById(R.id.tv_isi_komentar) as TextView\n        holder.tgl = crView.findViewById(R.id.tv_tgl_komentar) as TextView\n        crView.tag = holder\n    } else {\n        holder = convertView?.tag as ComentViewHolder\n    }\n    val commnt = item[position]\n    holder.nama?.text = commnt.nama\n    holder.isi?.text = commnt.komentar\n    holder.tgl?.text = commnt.komentar_waktu\n    return crView\n\n}\n\noverride fun getItem(position: Int): Any {\n    return item[position]\n}\n\noverride fun getItemId(position: Int): Long {\n    return position.toLong()\n}\n\noverride fun getCount(): Int {\n    return item.size\n}\n\n\nprivate inner class ComentViewHolder {\n    var nama: TextView? = null\n    var isi: TextView? = null\n    var tgl: TextView? = null\n\n\n}\n\n\n}\n</code></pre>\n\n<p><strong>recyclerview_lis.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;androidx.cardview.widget.CardView\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:id=\"@+id/view_click\"\n        android:layout_margin=\"4dp\"\n        app:cardElevation=\"6dp\"\n        android:clickable=\"true\"\n        android:focusable=\"true\"\n        android:foreground=\"?android:attr/selectableItemBackground\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n\n    &lt;LinearLayout\n            android:orientation=\"vertical\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n        &lt;LinearLayout\n                android:gravity=\"center\"\n                android:orientation=\"horizontal\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:baselineAligned=\"false\"\n                tools:ignore=\"UnusedAttribute\"&gt;\n            &lt;LinearLayout\n                    android:padding=\"8dp\"\n                    android:orientation=\"vertical\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"match_parent\"&gt;\n                &lt;ImageView\n                        android:id=\"@+id/aduan_profil_image\"\n                        android:layout_width=\"50dp\"\n                        android:layout_height=\"50dp\"\n                        android:contentDescription=\"@string/profil_picture\"/&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                    android:gravity=\"center\"\n                    android:orientation=\"vertical\"\n                    android:layout_weight=\"1\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"match_parent\"&gt;\n                &lt;TextView\n                        android:id=\"@+id/tv_aduan_warga_nama\"\n                        android:layout_gravity=\"center\"\n                        android:textSize=\"18sp\"\n                        android:textStyle=\"bold\"\n                        tools:text=\"Lukman\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"/&gt;\n                &lt;TextView\n                        android:id=\"@+id/tv_aduan_waktu\"\n                        android:layout_gravity=\"center\"\n                        tools:text=\"2 days ago\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"/&gt;\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n                android:layout_marginBottom=\"8dp\"\n                android:layout_marginStart=\"10dp\"\n                android:orientation=\"horizontal\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:layout_marginLeft=\"10dp\"&gt;\n            &lt;TextView\n                    android:textStyle=\"bold\"\n                    android:text=\"@string/lokasi_2\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"match_parent\"/&gt;\n            &lt;TextView\n                    android:textStyle=\"italic\"\n                    android:textColor=\"@color/colorPrimary\"\n                    android:id=\"@+id/tv_aduan_lokasi\"\n                    android:layout_marginStart=\"8dp\"\n                    tools:text=\"@string/lokasi\"\n                    android:maxLines=\"1\"\n                    android:ellipsize=\"end\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginLeft=\"8dp\"\n                    android:layout_marginRight=\"8dp\"/&gt;\n\n        &lt;/LinearLayout&gt;\n        &lt;com.borjabravo.readmoretextview.ReadMoreTextView\n                app:colorClickableText=\"@color/primaryText\"\n                android:id=\"@+id/tv_aduan_deskripsi\"\n                android:layout_marginEnd=\"14dp\"\n                android:layout_marginLeft=\"12dp\"\n                tools:text=\"Judul ini merupakan judul yang akan ada pada berita nantinya dan akan diberitakan selama\"\n                app:trimExpandedText=\"Read more\"\n                app:trimCollapsedText=\"Read less\"\n                app:showTrimExpandedText=\"true\"\n                app:trimMode=\"trimModeLine\"\n                app:trimLines=\"3\"\n                android:layout_marginStart=\"12dp\"\n                android:layout_marginRight=\"14dp\"\n                android:textColor=\"@color/secondaryText\"\n                android:layout_width=\"match_parent\"\n                android:paddingBottom=\"8dp\"\n                android:layout_height=\"wrap_content\"/&gt;\n\n        &lt;FrameLayout\n                android:layout_marginBottom=\"12dp\"\n                android:layout_marginTop=\"2dp\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"&gt;\n            &lt;ImageView\n                    android:id=\"@+id/iv_aduan_gambar\"\n                    android:scaleType=\"fitXY\"\n                    tools:src=\"@drawable/baunyaleee\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"200dp\"\n                    tools:targetApi=\"m\"\n                    tools:ignore=\"ContentDescription,UnusedAttribute\"/&gt;\n            &lt;LinearLayout\n                    android:elevation=\"4dp\"\n                    tools:targetApi=\"lollipop\"\n                    android:paddingRight=\"8dp\"\n                    android:paddingLeft=\"8dp\"\n                    android:layout_marginLeft=\"12dp\"\n                    android:background=\"@drawable/success_label\"\n                    android:layout_marginBottom=\"12dp\"\n                    android:layout_gravity=\"bottom\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginStart=\"12dp\"&gt;\n                &lt;TextView\n                        android:textStyle=\"bold\"\n                        android:id=\"@+id/tv_aduan_status\"\n                        android:padding=\"6dp\"\n                        android:textColor=\"@color/text\"\n                        tools:text=\"Completed\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                /&gt;\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/FrameLayout&gt;\n        &lt;LinearLayout\n                android:id=\"@+id/komentarShow\"\n                android:layout_marginRight=\"4dp\"\n                android:layout_marginBottom=\"4dp\"\n                android:gravity=\"end\"\n                android:orientation=\"horizontal\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"4dp\"&gt;\n            &lt;TextView\n                    android:id=\"@+id/hideComent\"\n                    android:visibility=\"gone\"\n                    android:gravity=\"end\"\n                    android:textColor=\"@color/primaryText\"\n                    android:text=\"Hide Comment\"\n                    android:layout_width=\"0dp\"\n                    android:layout_weight=\"1\"\n                    android:layout_height=\"wrap_content\"/&gt;\n            &lt;TextView\n                    android:id=\"@+id/showComent\"\n                    android:gravity=\"end\"\n                    android:textColor=\"@color/primaryText\"\n                    android:text=\"View 10 comment\"\n                    android:layout_width=\"0dp\"\n                    android:layout_weight=\"1\"\n                    android:layout_height=\"wrap_content\"/&gt;\n            &lt;ImageView\n                    android:id=\"@+id/ic_expand_less\"\n                    android:src=\"@drawable/ic_expand_less\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"/&gt;\n            &lt;ImageView\n                    android:id=\"@+id/ic_expand_more\"\n                    android:visibility=\"gone\"\n                    android:src=\"@drawable/ic_expand_more\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"/&gt;\n\n        &lt;/LinearLayout&gt;\n        &lt;ProgressBar\n                android:visibility=\"gone\"\n                android:id=\"@+id/progress_horizontal\"\n                android:layout_marginBottom=\"8dp\"\n                android:layout_gravity=\"center\"\n                android:layout_width=\"30dp\"\n                android:layout_height=\"30dp\"/&gt;\n        &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n                android:fillViewport=\"true\"&gt;\n            &lt;ListView\n                    android:id=\"@+id/commentList\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n\n<p><strong>recyclerview_list.xml its look like this in my design editor</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/e9vB8.png\" rel=\"nofollow noreferrer\">recyclerview_list.xml image</a></p>\n\n<p>When i try to run my app, \nthe <strong>output</strong> just like this pic :</p>\n\n<p><a href=\"https://i.stack.imgur.com/OZrV6.png\" rel=\"nofollow noreferrer\">Output</a></p>\n\n<p>Anyone can help me please and sorry for my bad english.</p>\n"}, {"tags": ["android", "kotlin", "android-edittext", "textwatcher"], "answers": [{"tags": [], "owner": {"reputation": 2057, "user_id": 6439023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-Z7XKDeTLdNw/AAAAAAAAAAI/AAAAAAAAACA/TlXVWsX_ZKc/photo.jpg?sz=128", "display_name": "Luca Nicoletti", "link": "https://stackoverflow.com/users/6439023/luca-nicoletti"}, "is_accepted": false, "score": 0, "last_activity_date": 1555416223, "creation_date": 1555416223, "answer_id": 55707719, "question_id": 55707161, "link": "https://stackoverflow.com/questions/55707161/how-to-create-textwatcher-common-class-for-multiple-edittext-in-kotlin/55707719#55707719", "title": "How to create TextWatcher common class for multiple EditText in kotlin?", "body": "<p>the problem is that you're trying to select <code>etOne</code>, <code>etTwo</code>, <code>etThree</code> &amp; <code>etFour</code> from <strong>INSIDE</strong> the view you receive on <code>TextWatcher</code>.\nThe view you access in the function <code>afterTextChanged(s: Editable?)</code>\nis already the editTexts you're willing to <code>requestFocus()</code> on.</p>\n\n<p>The view you're accessing is one of the 4 <code>TextView</code>s you have. You need to change the logic here in order to have the access to other <code>TextView</code>s</p>\n"}, {"comments": [{"owner": {"reputation": 2057, "user_id": 6439023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-Z7XKDeTLdNw/AAAAAAAAAAI/AAAAAAAAACA/TlXVWsX_ZKc/photo.jpg?sz=128", "display_name": "Luca Nicoletti", "link": "https://stackoverflow.com/users/6439023/luca-nicoletti"}, "edited": false, "score": 1, "creation_date": 1555416419, "post_id": 55707741, "comment_id": 98096326, "body": "The view <b>ARE</b> the <code>EditText</code> otherwise the checks on Ids would fail"}], "tags": [], "owner": {"reputation": 9905, "user_id": 964887, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gLu5N.jpg?s=128&g=1", "display_name": "just_user", "link": "https://stackoverflow.com/users/964887/just-user"}, "is_accepted": false, "score": 0, "last_activity_date": 1555418220, "last_edit_date": 1555418220, "creation_date": 1555416282, "answer_id": 55707741, "question_id": 55707161, "link": "https://stackoverflow.com/questions/55707161/how-to-create-textwatcher-common-class-for-multiple-edittext-in-kotlin/55707741#55707741", "title": "How to create TextWatcher common class for multiple EditText in kotlin?", "body": "<p>view.etTwo is null as view is the EditText you're currently editing and it doesn't contain all other edittexts. </p>\n\n<p>You could call view.getParent() list all views in parent, find the next one and focus on it. Lots of work!</p>\n\n<p>Or to make it more generic you could extend EditText Like this:</p>\n\n<pre><code>fun EditText.onTextChange(onAfterTextChanged: OnAfterTextChangedListener) {\n    addTextChangedListener(object :TextWatcher{\n        private var text = \"\"\n\n        override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) = Unit\n\n        override fun afterTextChanged(s: Editable?) {\n            if (s?.length == 1) {\n                onAfterTextChanged.complete()\n            }\n        }\n\n        override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) = Unit\n    })\n}\n\ninterface OnAfterTextChangedListener {\n    fun complete ()\n}\n</code></pre>\n\n<p>Then in you activity where you have the edittexts, call something like this:</p>\n\n<pre><code>etOne.onTextChange(object: OnAfterTextChangedListener {\n    override fun complete() {\n        etTwo.requestFocus()\n    }\n})\n\netTwo.onTextChange(object: OnAfterTextChangedListener {\n    override fun complete() {\n        etThree.requestFocus()\n    }\n})\n</code></pre>\n\n<p>This creates a new method in EditText called <code>onTextChange</code> (could be called whatever). This method calls back to your <code>OnAfterTextChangedListener</code> in your Activity where you have access to all your edittexts. And it will be called afterTextChanged if the length of the text equals 1. </p>\n"}, {"tags": [], "owner": {"reputation": 1153, "user_id": 11369023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zFtbF.png?s=128&g=1", "display_name": "Aftab Alam", "link": "https://stackoverflow.com/users/11369023/aftab-alam"}, "is_accepted": false, "score": 0, "last_activity_date": 1578569669, "creation_date": 1578569669, "answer_id": 59663077, "question_id": 55707161, "link": "https://stackoverflow.com/questions/55707161/how-to-create-textwatcher-common-class-for-multiple-edittext-in-kotlin/59663077#59663077", "title": "How to create TextWatcher common class for multiple EditText in kotlin?", "body": "<blockquote>\n  <p>TextWatcher common class for multiple EditText</p>\n</blockquote>\n\n<pre><code>class GenericTextWatcher internal constructor(private val view: View) :\n    TextWatcher {\n    override fun afterTextChanged(editable: Editable) { // TODO Auto-generated method stub\n        val text = editable.toString()\n        when (view.id) {\n            R.id.otp1 -&gt; if (text.length == 1) edit1.requestFocus()\n            R.id.otp2 -&gt; if (text.length == 1) edit2.requestFocus() else if (text.isEmpty()) edit1.requestFocus()\n            R.id.otp3 -&gt; if (text.length == 1) edit3.requestFocus() else if (text.isEmpty()) edit2.requestFocus()\n            R.id.otp4 -&gt; if (text.isEmpty()) edit4.requestFocus()\n        }\n    }\n\n    override fun beforeTextChanged(\n        arg0: CharSequence,\n        arg1: Int,\n        arg2: Int,\n        arg3: Int\n    ) { // TODO Auto-generated method stub\n    }\n\n    override fun onTextChanged(\n        arg0: CharSequence,\n        arg1: Int,\n        arg2: Int,\n        arg3: Int\n    ) { // TODO Auto-generated method stub\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Use into your class like this</p>\n</blockquote>\n\n<pre><code>edit1.addTextChangedListener(GenericTextWatcher(edit1))\nedit2.addTextChangedListener(GenericTextWatcher(edit2))\nedit3.addTextChangedListener(GenericTextWatcher(edit3))\nedit4.addTextChangedListener(GenericTextWatcher(edit4))\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 11367893, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9Kykfadsf7c/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc3njAMU3GKzHkXoMspajA3Iq5BZQ/mo/photo.jpg?sz=128", "display_name": "P A Gosai", "link": "https://stackoverflow.com/users/11367893/p-a-gosai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2009, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1578569669, "creation_date": 1555414285, "last_edit_date": 1555418771, "question_id": 55707161, "link": "https://stackoverflow.com/questions/55707161/how-to-create-textwatcher-common-class-for-multiple-edittext-in-kotlin", "title": "How to create TextWatcher common class for multiple EditText in kotlin?", "body": "<p>I am creating a verification screen with 4 <code>EditText</code>. And I create one common sub-class of <code>TextWatcher</code> in Kotlin: see below code (the code might be right or wrong).</p>\n\n<p>When I use the below code it crashes the application.</p>\n\n<blockquote>\n  <p>view.etTwo.requestFocus()</p>\n</blockquote>\n\n<p><strong>Crash Log</strong></p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.widget.EditText.requestFocus()' on a null object reference\n        at com.mindfulness.greece.activity.ConfirmationCodeActivity$GenericTextWatcher.afterTextChanged(ConfirmationCodeActivity.kt:123)\n        at android.widget.TextView.sendAfterTextChanged(TextView.java:8007)\n</code></pre>\n\n<p>And here are the classes:</p>\n\n<pre><code>class GenericTextWatcher(var view: View) : TextWatcher {\n    override fun afterTextChanged(s: Editable?) {\n        val text: String = s.toString();\n        when(view.id) {\n            R.id.etOne -&gt; {\n                 if(text.length==1){\n                      view.etTwo.requestFocus()\n                 }\n            }\n            R.id.etTwo -&gt; {\n                 if(text.length==1){\n                     view.etThree.requestFocus()\n                 }\n            }\n            R.id.etThree -&gt; {\n                if(text.length==1){\n                     view.etFour.requestFocus()\n                }\n            }\n             R.id.etFour -&gt; {}\n\n                }\n            }\n\n    override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {}\n\n    override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "edited": false, "score": 0, "creation_date": 1555414447, "post_id": 55707157, "comment_id": 98095170, "body": "make an <code>interface</code> pass it to <code>adapter</code> and on click of <code>button</code> send callback to <code>activity</code> or <code>fragment</code> and hide it there"}], "answers": [{"comments": [{"owner": {"reputation": 1529, "user_id": 1319619, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/933a9c6331460ecb826d7a8e1c22735a?s=128&d=identicon&r=PG&f=1", "display_name": "hellotli", "link": "https://stackoverflow.com/users/1319619/hellotli"}, "edited": false, "score": 0, "creation_date": 1555415873, "post_id": 55707323, "comment_id": 98096025, "body": "Thanks, but it seems that we need a mechanism to bind the button(<code>id=&quot;@+id&#47;button&quot;</code>) with the <code>ClickListener</code> ?"}, {"owner": {"reputation": 2057, "user_id": 6439023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-Z7XKDeTLdNw/AAAAAAAAAAI/AAAAAAAAACA/TlXVWsX_ZKc/photo.jpg?sz=128", "display_name": "Luca Nicoletti", "link": "https://stackoverflow.com/users/6439023/luca-nicoletti"}, "reply_to_user": {"reputation": 1529, "user_id": 1319619, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/933a9c6331460ecb826d7a8e1c22735a?s=128&d=identicon&r=PG&f=1", "display_name": "hellotli", "link": "https://stackoverflow.com/users/1319619/hellotli"}, "edited": false, "score": 1, "creation_date": 1555415968, "post_id": 55707323, "comment_id": 98096084, "body": "Oh, yes, sorry, forgot about it. Will update the asnwer"}], "tags": [], "owner": {"reputation": 2057, "user_id": 6439023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-Z7XKDeTLdNw/AAAAAAAAAAI/AAAAAAAAACA/TlXVWsX_ZKc/photo.jpg?sz=128", "display_name": "Luca Nicoletti", "link": "https://stackoverflow.com/users/6439023/luca-nicoletti"}, "is_accepted": true, "score": 1, "last_activity_date": 1555416157, "last_edit_date": 1555416157, "creation_date": 1555414819, "answer_id": 55707323, "question_id": 55707157, "link": "https://stackoverflow.com/questions/55707157/how-to-make-android-recyclerview-invisible-by-clicking-button-inside-itself/55707323#55707323", "title": "How to make Android RecyclerView invisible by clicking button inside itself?", "body": "<p>Your adapter need to receive a <code>Listener</code> as an object in order to react to clicks.\nHere's an example:</p>\n\n<p>package kot.bignerd.recyclerview101</p>\n\n<p>import android.content.Context\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView</p>\n\n<pre><code>class MyListAdapter(val datas: List&lt;String&gt;, val context: Context, val clickListener: ClickListener) : RecyclerView.Adapter&lt;MyListAdapter.InnerHolder&gt;() {\n\n    public interface ClickListener {\n        fun onItemClicked()\n    }\n\n    override fun onCreateViewHolder(p0: ViewGroup, p1: Int): MyListAdapter.InnerHolder {\n        var itemView: View = LayoutInflater.from(context).inflate(R.layout.item_rv, p0, false)\n        return InnerHolder(itemView)\n    }\n\n    override fun getItemCount(): Int = datas.size\n\n    class InnerHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        var itemText: TextView = itemView.findViewById(R.id.item_tv)\n        var button: Button = itemView.findViewById(R.id. button)\n\n        fun bindView(text: String, clickListener: ClickListener) {\n            itemText.text = text\n            button.setOnClickListner {\n                clickListner.onItemClicked()\n            }\n        }\n    }\n\n    override fun onBindViewHolder(holder: MyListAdapter.InnerHolder, position: Int) {\n        holder.bindView(datas[position], clickListener)\n    }\n}\n</code></pre>\n\n<p>Then change the signature of the activity as follow:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), ClickListener {\n</code></pre>\n\n<p>and implement the function as follow:</p>\n\n<pre><code>override fun onItemClicked() {\n    my_rv.visibility = View.GONE\n}\n</code></pre>\n\n<p>Last, but not least, change how you initialise your adapter:</p>\n\n<pre><code>MyListAdapter(items, this, this)\n</code></pre>\n"}], "owner": {"reputation": 1529, "user_id": 1319619, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/933a9c6331460ecb826d7a8e1c22735a?s=128&d=identicon&r=PG&f=1", "display_name": "hellotli", "link": "https://stackoverflow.com/users/1319619/hellotli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 55707323, "answer_count": 1, "score": 0, "last_activity_date": 1555416157, "creation_date": 1555414282, "question_id": 55707157, "link": "https://stackoverflow.com/questions/55707157/how-to-make-android-recyclerview-invisible-by-clicking-button-inside-itself", "title": "How to make Android RecyclerView invisible by clicking button inside itself?", "body": "<p>Here's the minimal test case what I've managed to make.\n<a href=\"https://i.stack.imgur.com/1Gbuw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Gbuw.png\" alt=\"RecyclerView show\"></a></p>\n\n<p>It combines with a <code>RecyclerView</code> and <code>TextView</code>, the <code>activity_main.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:orientation=\"vertical\"\n              android:layout_width=\"fill_parent\"\n              android:layout_height=\"fill_parent\"&gt;\n\n    &lt;TextView\n            android:id=\"@+id/textViewBatteryInfo\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Hi, I'm watching you!\"/&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/my_rv\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"/&gt;        \n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>With the <code>MainActivity.kt</code>:</p>\n\n<pre><code>package kot.bignerd.recyclerview101\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.support.v7.widget.LinearLayoutManager\nimport android.view.View\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val items = arrayListOf&lt;String&gt;()\n        for (i in 10..50) {\n            items.add(\"Here's the $i th\")\n        }\n\n        my_rv.layoutManager = LinearLayoutManager(this)\n        my_rv.adapter = MyListAdapter(items, this)\n\n        //my_rv.visibility = View.GONE\n    }\n}\n</code></pre>\n\n<p>With a very simple adapter(<code>MyListAdapter</code>):</p>\n\n<pre><code>package kot.bignerd.recyclerview101\n\nimport android.content.Context\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\n\nclass MyListAdapter(val datas: List&lt;String&gt;, val context: Context) : RecyclerView.Adapter&lt;MyListAdapter.InnerHolder&gt;() {\n    override fun onCreateViewHolder(p0: ViewGroup, p1: Int): MyListAdapter.InnerHolder {\n        var itemView: View = LayoutInflater.from(context).inflate(R.layout.item_rv, p0, false)\n        return InnerHolder(itemView)\n    }\n\n    override fun getItemCount(): Int = datas.size\n\n    class InnerHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        var itemText: TextView = itemView.findViewById(R.id.item_tv)\n    }\n\n    override fun onBindViewHolder(p0: MyListAdapter.InnerHolder, p1: Int) {\n        p0?.itemText?.text = datas[p1]\n    }\n}\n</code></pre>\n\n<p>The <code>R.layout.item_rv</code> mentioned in the adapter is (<code>item_rv.xml</code>):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"match_parent\"\n        android:id=\"@+id/item_cl\"\n        android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n            android:id=\"@+id/item_tv\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"50dp\"\n            android:text=\"TestRV\"\n            android:textSize=\"18sp\"\n            android:gravity=\"center\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintLeft_toLeftOf=\"parent\" tools:layout_editor_absoluteY=\"16dp\"\n            app:layout_constraintHorizontal_bias=\"0.0\"/&gt;\n    &lt;Button\n            android:text=\"Close\"\n            android:layout_width=\"86dp\"\n            android:layout_height=\"wrap_content\" tools:layout_editor_absoluteY=\"16dp\"\n            android:id=\"@+id/button\" app:layout_constraintEnd_toEndOf=\"parent\" android:layout_marginEnd=\"8dp\"/&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>I was wondering if maybe we could make the <code>RecyclerView</code> disappeared when I click any one of the button inside it? Just like the code <code>my_rv.visibility = View.GONE</code> in the <code>MainActivity.kt</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/m20CY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m20CY.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-glide"], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 5655202, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYdMd.png?s=128&g=1", "display_name": "Alexnadr Dorofeev", "link": "https://stackoverflow.com/users/5655202/alexnadr-dorofeev"}, "edited": false, "score": 0, "creation_date": 1555489160, "post_id": 55716163, "comment_id": 98125144, "body": "I&#39;ve already tried to &#39;Glide.with(imageView).clear(imageView)&#39; and setting bitmap null, but that dosen&#39;t help&#39;."}], "tags": [], "owner": {"reputation": 107, "user_id": 11370143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4032ef6833810c1cbf0b6b810add56e8?s=128&d=identicon&r=PG&f=1", "display_name": "LinuxMasterRace", "link": "https://stackoverflow.com/users/11370143/linuxmasterrace"}, "is_accepted": false, "score": 0, "last_activity_date": 1555446640, "creation_date": 1555446640, "answer_id": 55716163, "question_id": 55706399, "link": "https://stackoverflow.com/questions/55706399/how-to-remove-same-url-glide-cache-in-recyclerview/55716163#55716163", "title": "How to remove same url Glide cache in RecyclerView", "body": "<p>Try calling glide clear on your view before setting the the image, i see you aren't caching it and skipping the cache but i have had similar instances where glide try's to recycle the image.</p>\n"}], "owner": {"reputation": 388, "user_id": 5655202, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYdMd.png?s=128&g=1", "display_name": "Alexnadr Dorofeev", "link": "https://stackoverflow.com/users/5655202/alexnadr-dorofeev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1555446640, "creation_date": 1555411745, "question_id": 55706399, "link": "https://stackoverflow.com/questions/55706399/how-to-remove-same-url-glide-cache-in-recyclerview", "title": "How to remove same url Glide cache in RecyclerView", "body": "<p>I want to load one url that returns differnet images into RecyclerView items.\nProblem is all items have same image.\nI'm using next RequestOptions:</p>\n\n<pre><code>val options by lazy {\nRequestOptions()\n    .signature(ObjectKey(System.currentTimeMillis()))\n    .diskCacheStrategy(DiskCacheStrategy.NONE)\n    .skipMemoryCache(true)}\n</code></pre>\n\n<p>Image load:</p>\n\n<pre><code>fun ImageView.load() {\nGlide\n    .with(this)\n    .asBitmap()\n    .load(\"url\")\n    .apply(options)\n    .into(object : SimpleTarget&lt;Bitmap&gt;(1024, 1024) {\n        override fun onResourceReady(resource: Bitmap, transition: Transition&lt;in Bitmap&gt;?) {\n            useBitmap(resource)\n            this@load.setImageBitmap(resource)\n        }\n    })}\n</code></pre>\n\n<p>Bind ViewHolder:</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.bind(items[position])\n}\n\nclass ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n    fun bind(item: Model) = with(itemView) {\n        itemView.image.load()\n            ...\n    }\n}\n</code></pre>\n"}, {"tags": ["unit-testing", "testing", "kotlin", "junit", "mockito"], "comments": [{"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1555410304, "post_id": 55705893, "comment_id": 98092680, "body": "What does it return, then?"}, {"owner": {"reputation": 68, "user_id": 7418420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/urkNW.jpg?s=128&g=1", "display_name": "ilovemilk", "link": "https://stackoverflow.com/users/7418420/ilovemilk"}, "reply_to_user": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1555410466, "post_id": 55705893, "comment_id": 98092787, "body": "Since it doesn&#39;t use the getter mock and directly accesses the variable it tries to invoke the static method which returns an empty string and thus fails the assertEquals."}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1555410547, "post_id": 55705893, "comment_id": 98092842, "body": "If a <code>val</code> is declared using <code>get() = </code> then no actual backing field (variable) gets introduced. You can inspect the bytecode to make sure"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1555410561, "post_id": 55705893, "comment_id": 98092856, "body": "Only <code>getFullName()</code> method"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1555410632, "post_id": 55705893, "comment_id": 98092897, "body": "Actually, I see that <code>when(classToTestMock.name)</code> stubs <code>name</code> property, but not <code>fullName</code>"}, {"owner": {"reputation": 68, "user_id": 7418420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/urkNW.jpg?s=128&g=1", "display_name": "ilovemilk", "link": "https://stackoverflow.com/users/7418420/ilovemilk"}, "reply_to_user": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1555413296, "post_id": 55705893, "comment_id": 98094519, "body": "Good to know that <code>val</code> with <code>get() =</code> introduces no actual variable. Oh I&#39;m sorry name and fullName should be the same variable. I changed the naming to make it more clear. Is it possible to stub the <code>getFullName</code> method with <code>when(classToTestMock.fullName)</code> on a <code>val</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 68, "user_id": 7418420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/urkNW.jpg?s=128&g=1", "display_name": "ilovemilk", "link": "https://stackoverflow.com/users/7418420/ilovemilk"}, "edited": false, "score": 0, "creation_date": 1555413549, "post_id": 55706840, "comment_id": 98094686, "body": "Yes you are right <code>name</code> should be <code>fullName</code>. I fixed it in my post. Thank you very much that works! Didn&#39;t know there was an <code>open</code> keyword."}], "tags": [], "owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "is_accepted": true, "score": 0, "last_activity_date": 1555413131, "creation_date": 1555413131, "answer_id": 55706840, "question_id": 55705893, "link": "https://stackoverflow.com/questions/55705893/testing-class-by-mocking-getter/55706840#55706840", "title": "Testing class by mocking getter", "body": "<p>As I understand you are trying to test your <code>firstname</code> calculating property. For that you need to make your class and <code>fullName</code> property open.</p>\n\n<pre><code>open class ClassToTest() {\n    val firstname: String\n        get() = this.fullName.split(\" \")[0]\n\n    open val fullName: String\n        get() = SomeService.getFullName()\n}\n</code></pre>\n\n<p><code>Mock</code> can work only with <code>open</code> (not <code>final</code> in Java) entities. In other way it will throw exception in runtime.</p>\n\n<p>Then, to setup your test class just call following:</p>\n\n<pre><code>`when`(classToTestMock.fullName).thenReturn(\"Walter White\")\n</code></pre>\n\n<p>P.S. I can't see field <code>name</code> in your class, so I replaced it with <code>fullName</code>. If I'm missed something, I wish you could get the point.</p>\n"}], "owner": {"reputation": 68, "user_id": 7418420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/urkNW.jpg?s=128&g=1", "display_name": "ilovemilk", "link": "https://stackoverflow.com/users/7418420/ilovemilk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 0, "accepted_answer_id": 55706840, "answer_count": 1, "score": 0, "last_activity_date": 1555413352, "creation_date": 1555410112, "last_edit_date": 1555413352, "question_id": 55705893, "link": "https://stackoverflow.com/questions/55705893/testing-class-by-mocking-getter", "title": "Testing class by mocking getter", "body": "<p>I try to test a class which as two properties with getters where the one getter calls a static method. I want to mock the getter with static method to test the parsing logic of the other getter. The problem is that can't access the variable via the getter and thus calling the mock.</p>\n\n<p>I searched the kotlin documentation for the getters and setters but didn't found a solution.</p>\n\n<pre><code>class ClassToTest() {\n    val firstname: String\n        get() = this.fullName.split(\" \")[0]\n\n    val fullName: String\n        get() = SomeService.getFullName()\n}\n</code></pre>\n\n<pre><code>class ClassToTestTest() {\n    fun `firstname should return first part of the fullName`() {\n        val classToTestMock = mock&lt;ClassToTest&gt;()\n        `when`(classToTestMock.fullName).thenReturn(\"Walter White\")\n        assertEquals(classToTestMock.firstname, \"Walter)\n    }\n}\n</code></pre>\n\n<p>I expect to get \"Walter\" back but instead the <code>ClassToTest.firstName</code> accesses the variable directly and not the mocked getter.</p>\n\n<p>Can someone point me to the right direction? :D</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["gradle", "kotlin", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1555412309, "post_id": 55705585, "comment_id": 98093942, "body": "Consider using Gradle Kotlin DSL instead of Groovy scripts \u2013 it has somewhat better IDE support, including type &amp; calls checking and code completion."}, {"owner": {"reputation": 371, "user_id": 4051774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b982c02454a9d3e76fa62730f6239681?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4051774/pavel"}, "edited": false, "score": 0, "creation_date": 1556181607, "post_id": 55705585, "comment_id": 98352530, "body": "Have you manage to solve this? I have same problem using build.gradle.kts and compiling with gradle."}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "reply_to_user": {"reputation": 371, "user_id": 4051774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b982c02454a9d3e76fa62730f6239681?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4051774/pavel"}, "edited": false, "score": 0, "creation_date": 1556182032, "post_id": 55705585, "comment_id": 98352756, "body": "@Pavel sadly no"}, {"owner": {"reputation": 371, "user_id": 4051774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b982c02454a9d3e76fa62730f6239681?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4051774/pavel"}, "edited": false, "score": 0, "creation_date": 1556190133, "post_id": 55705585, "comment_id": 98357464, "body": "Seems this import is missing in 1.3.21. But it is in 1.3.30"}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 11368976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f1e88a15a964115b8249084ca447bb?s=128&d=identicon&r=PG&f=1", "display_name": "DevSrSouza", "link": "https://stackoverflow.com/users/11368976/devsrsouza"}, "is_accepted": false, "score": 0, "last_activity_date": 1555423935, "creation_date": 1555423935, "answer_id": 55710266, "question_id": 55705585, "link": "https://stackoverflow.com/questions/55705585/gradle-cannot-resolve-symbol-while-it-does/55710266#55710266", "title": "Gradle cannot resolve symbol while it does", "body": "<p>If the Gradle Task is working fine can be a visual bug in IntelliJ, this happens normally with me.</p>\n\n<p>Try to restart the IntelliJ or Android Studio</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3983097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38c9f00f8341bc8e669e29041aae311d?s=128&d=identicon&r=PG&f=1", "display_name": "Miti", "link": "https://stackoverflow.com/users/3983097/miti"}, "is_accepted": false, "score": 1, "last_activity_date": 1581686865, "last_edit_date": 1581686865, "creation_date": 1581677034, "answer_id": 60224750, "question_id": 55705585, "link": "https://stackoverflow.com/questions/55705585/gradle-cannot-resolve-symbol-while-it-does/60224750#60224750", "title": "Gradle cannot resolve symbol while it does", "body": "<p>Try </p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.*\n</code></pre>\n\n<p>I was facing same problem, \nDon't know why this works</p>\n"}], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1302, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1581686865, "creation_date": 1555409118, "question_id": 55705585, "link": "https://stackoverflow.com/questions/55705585/gradle-cannot-resolve-symbol-while-it-does", "title": "Gradle cannot resolve symbol while it does", "body": "<p>I've the following build.gradle file:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.FatFrameworkTask\n\napply plugin: 'kotlin-multiplatform'\napply plugin: 'com.android.library'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        minSdkVersion 19\n    }\n    lintOptions {\n        abortOnError false\n    }\n}\n\ndependencies {\n    testImplementation 'junit:junit:4.12'\n    testImplementation 'org.jetbrains.kotlin:kotlin-test'\n    testImplementation 'org.jetbrains.kotlin:kotlin-test-junit'\n    testImplementation 'com.google.truth:truth:0.42'\n\n    androidTestImplementation 'junit:junit:4.12'\n    androidTestImplementation 'org.jetbrains.kotlin:kotlin-test'\n    androidTestImplementation 'org.jetbrains.kotlin:kotlin-test-junit'\n    androidTestImplementation 'com.google.truth:truth:0.42'\n}\n\nkotlin {\n    targets {\n        jvm(\"jvm\")\n        android(\"android\")\n        iosArm32(\"ios32\")\n        iosArm64(\"ios64\")\n        iosX64(\"emulator\")\n\n        configure([ios32, ios64, emulator]) {\n            binaries.framework('HyModule')\n        }\n    }\n\n    sourceSets {\n        commonMain.dependencies {\n            api 'org.jetbrains.kotlin:kotlin-stdlib-common'\n        }\n        jvmMain.dependencies {\n            api 'org.jetbrains.kotlin:kotlin-stdlib-jdk8'\n        }\n        androidMain.dependencies {\n            implementation 'org.jetbrains.kotlin:kotlin-stdlib'\n        }\n        androidMain.dependsOn jvmMain\n    }\n\n    task fatFramework(type: FatFrameworkTask) {\n        // the fat framework must have the same base name as the initial frameworks\n        baseName = \"HyModule\"\n\n        final File frameworkDir = new File(buildDir, \"xcode-frameworks\")\n        destinationDir = frameworkDir\n\n        // specify the frameworks to be merged\n        from(\n                targets.ios32.binaries.getFramework('HyModule', 'RELEASE'),\n                targets.ios64.binaries.getFramework('HyModule', 'RELEASE'),\n                targets.emulator.binaries.getFramework('HyModule', 'RELEASE')\n        )\n\n        doLast {\n            new File(frameworkDir, 'gradlew').with {\n                text = \"#!/bin/bash\\nexport 'JAVA_HOME=${System.getProperty(\"java.home\")}'\\ncd '${rootProject.rootDir}'\\n./gradlew \\$@\\n\"\n                setExecutable(true)\n            }\n        }\n    }\n}\n\n// workaround for https://youtrack.jetbrains.com/issue/KT-27170\nconfigurations {\n    compileClasspath\n}\n\ntasks.build.dependsOn fatFramework\n</code></pre>\n\n<p><code>import org.jetbrains.kotlin.gradle.tasks.FatFrameworkTask</code> is marked in red with an error</p>\n\n<blockquote>\n  <p>Cannot resolve symbol 'FatFrameworkTask'</p>\n</blockquote>\n\n<p>Even though everything works just fine, I don't like having error in my project.</p>\n"}, {"tags": ["python", "kotlin", "architecture"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1555409168, "post_id": 55705552, "comment_id": 98092068, "body": "Maybe you could make it work if you use Jython on the JVM. But I don&#39;t see how that would be less complex than just having 2 microservices."}, {"owner": {"reputation": 1664, "user_id": 8648876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7f1oU.jpg?s=128&g=1", "display_name": "Rach Sharp", "link": "https://stackoverflow.com/users/8648876/rach-sharp"}, "edited": false, "score": 1, "creation_date": 1555410116, "post_id": 55705552, "comment_id": 98092583, "body": "Not much detail but slightly relevant: <a href=\"https://discuss.kotlinlang.org/t/call-kotlin-from-python-jython/2481\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/call-kotlin-from-python-jython/2481</a>"}, {"owner": {"reputation": 1352, "user_id": 9035706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32af345829541d25615a5c435ca893c2?s=128&d=identicon&r=PG&f=1", "display_name": "Eerik Sven Puudist", "link": "https://stackoverflow.com/users/9035706/eerik-sven-puudist"}, "edited": false, "score": 0, "creation_date": 1555442479, "post_id": 55705552, "comment_id": 98111031, "body": "Jython is a great idea, however, it does not support Python 3. Since the last news on their official website were added in May 2015, I am not sure, whether Python 3 support is coming in the near future."}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 11368976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f1e88a15a964115b8249084ca447bb?s=128&d=identicon&r=PG&f=1", "display_name": "DevSrSouza", "link": "https://stackoverflow.com/users/11368976/devsrsouza"}, "is_accepted": false, "score": 1, "last_activity_date": 1555424133, "creation_date": 1555424133, "answer_id": 55710331, "question_id": 55705552, "link": "https://stackoverflow.com/questions/55705552/integrating-kotlin-with-python/55710331#55710331", "title": "Integrating Kotlin with Python", "body": "<p>I found this sample in Kotlin Native repository of python extension: </p>\n\n<p><a href=\"https://github.com/JetBrains/kotlin-native/tree/master/samples/python_extension\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin-native/tree/master/samples/python_extension</a></p>\n"}], "owner": {"reputation": 1352, "user_id": 9035706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32af345829541d25615a5c435ca893c2?s=128&d=identicon&r=PG&f=1", "display_name": "Eerik Sven Puudist", "link": "https://stackoverflow.com/users/9035706/eerik-sven-puudist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1555424133, "creation_date": 1555408993, "question_id": 55705552, "link": "https://stackoverflow.com/questions/55705552/integrating-kotlin-with-python", "title": "Integrating Kotlin with Python", "body": "<p>I have an existing Python Django application. Now as it has grown a little bigger, I would like to write some business logic in Kotlin. Is there a way to integrate those two languages? Of course it can be done with microservices, but this would add too much complexity.</p>\n"}, {"tags": ["postgresql", "kotlin", "spring-data", "spring-data-jdbc"], "comments": [{"owner": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "edited": false, "score": 0, "creation_date": 1555477918, "post_id": 55705377, "comment_id": 98120351, "body": "This seems to be a bug. Please create an issue at <a href=\"https://jira.spring.io/browse/DATAJDBC\" rel=\"nofollow noreferrer\">jira.spring.io/browse/DATAJDBC</a>"}, {"owner": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "edited": false, "score": 0, "creation_date": 1555481923, "post_id": 55705377, "comment_id": 98121722, "body": "Looks like this already happened: <a href=\"https://jira.spring.io/browse/DATAJDBC-364\" rel=\"nofollow noreferrer\">jira.spring.io/browse/DATAJDBC-364</a>"}, {"owner": {"reputation": 159, "user_id": 10145055, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CKkcjHp5X1o/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oAF6SPmAGTHisU2aLBl7rPuZw_mg/mo/photo.jpg?sz=128", "display_name": "youngDev", "link": "https://stackoverflow.com/users/10145055/youngdev"}, "reply_to_user": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "edited": false, "score": 0, "creation_date": 1555486589, "post_id": 55705377, "comment_id": 98123764, "body": "thanks, @JensSchauder. This is my ticket."}], "answers": [{"tags": [], "owner": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "is_accepted": true, "score": 1, "last_activity_date": 1558506128, "creation_date": 1558506128, "answer_id": 56250477, "question_id": 55705377, "link": "https://stackoverflow.com/questions/55705377/null-values-for-embedded-objects-are-not-accepted/56250477#56250477", "title": "Null-values for embedded objects are not accepted", "body": "<p>This issue is documented in <a href=\"https://jira.spring.io/browse/DATAJDBC-364\" rel=\"nofollow noreferrer\">DATAJDBC-364</a> and fixed for the 1.1 M4 milestone.\nPlease note that this is related to <a href=\"https://jira.spring.io/browse/DATAJDBC-374\" rel=\"nofollow noreferrer\">DATAJDBC-374</a> which will make it configurable how to load those embedded entities.</p>\n"}], "owner": {"reputation": 159, "user_id": 10145055, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CKkcjHp5X1o/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oAF6SPmAGTHisU2aLBl7rPuZw_mg/mo/photo.jpg?sz=128", "display_name": "youngDev", "link": "https://stackoverflow.com/users/10145055/youngdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "accepted_answer_id": 56250477, "answer_count": 1, "score": 1, "last_activity_date": 1558506128, "creation_date": 1555408432, "last_edit_date": 1555409166, "question_id": 55705377, "link": "https://stackoverflow.com/questions/55705377/null-values-for-embedded-objects-are-not-accepted", "title": "Null-values for embedded objects are not accepted", "body": "<p>I am trying to persist an object containing an embedded one using Spring Data JDBC. And it is not saved because it does not pass a null-check.</p>\n\n<p>I created an outer class to persist.</p>\n\n<pre><code>data class Outer(\n    @Id \n    val id: Long,\n\n    val value: String,\n\n    @Embedded \n    inner: Inner? = null\n)\n</code></pre>\n\n<pre><code>data class Inner(\n    val innerValue1: String,\n    val innerValue2: String\n)\n</code></pre>\n\n<p>In the DB I would like to have only one table for <code>Outer</code> which contains fields <code>id</code>, <code>value</code>, <code>inner_value_1</code> and <code>inner_value_2</code>. That's why I put <code>@Embedded</code> annotation on the <code>inner</code>-field.</p>\n\n<p><code>id</code> and <code>value</code> should be obligatory fields. <code>innver_value_1</code> and <code>invver_value_2</code> might be null,</p>\n\n<p>The problem appears when I try to save null-inner object (which is nullable both in Kotlin and in the DB).</p>\n\n<pre><code>val outer = Outer(15, \"value\")\n\nrepo.save(outer) //throws an exception\n</code></pre>\n\n<p>The saving to repo operation throws an exception cause expects inner not to be null: </p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Target bean must not be null!\n    at org.springframework.util.Assert.notNull(Assert.java:198)\n    at org.springframework.data.mapping.model.BasicPersistentEntity.verifyBeanType(BasicPersistentEntity.java:550)\n    at org.springframework.data.mapping.model.BasicPersistentEntity.getPropertyAccessor(BasicPersistentEntity.java:453)\n</code></pre>\n\n<p>The difficulty is that in Kotlin I cannot pass an object with null-valued-fields (because they are not nullable). </p>\n\n<p>Is there any way to save an empty/null embedded object?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1910, "user_id": 10305444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdffaf7c0a3d7d398e9b004acd125cd6?s=128&d=identicon&r=PG", "display_name": "Maifee Ul Asad", "link": "https://stackoverflow.com/users/10305444/maifee-ul-asad"}, "is_accepted": false, "score": 0, "last_activity_date": 1555408886, "creation_date": 1555408886, "answer_id": 55705512, "question_id": 55705364, "link": "https://stackoverflow.com/questions/55705364/run-code-background-when-charger-gets-connected/55705512#55705512", "title": "Run code background when charger gets connected", "body": "<p>Keep running a thread in the background and use this method</p>\n\n<pre><code>public static boolean isConnected(Context context) {\n    Intent intent = context.registerReceiver(null, new IntentFilter(Intent.ACTION_BATTERY_CHANGED));\n    int plugged = intent.getIntExtra(BatteryManager.EXTRA_PLUGGED, -1);\n    return plugged == BatteryManager.BATTERY_PLUGGED_AC || plugged == BatteryManager.BATTERY_PLUGGED_USB;\n}\n</code></pre>\n\n<p>if <code>isConnected()</code> returns <code>true</code> then update the time.</p>\n\n<p><a href=\"https://stackoverflow.com/a/45459483/10305444\">Code reference</a></p>\n"}, {"comments": [{"owner": {"reputation": 467, "user_id": 5012900, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f10ca092eb801e9f1e62234693a82fc?s=128&d=identicon&r=PG&f=1", "display_name": "Slimez", "link": "https://stackoverflow.com/users/5012900/slimez"}, "edited": false, "score": 0, "creation_date": 1555413988, "post_id": 55705598, "comment_id": 98094920, "body": "It seems to only return the default value (-1) and doesn&#39;t run in the background :("}, {"owner": {"reputation": 467, "user_id": 5012900, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f10ca092eb801e9f1e62234693a82fc?s=128&d=identicon&r=PG&f=1", "display_name": "Slimez", "link": "https://stackoverflow.com/users/5012900/slimez"}, "edited": false, "score": 0, "creation_date": 1555425359, "post_id": 55705598, "comment_id": 98102173, "body": "Fixed the default value problem but it still doesn&#39;t run in the background :("}, {"owner": {"reputation": 1964, "user_id": 1992342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/B4AyT.gif?s=128&g=1", "display_name": "mike47", "link": "https://stackoverflow.com/users/1992342/mike47"}, "edited": false, "score": 0, "creation_date": 1556395072, "post_id": 55705598, "comment_id": 98427001, "body": "You cannot register receivers in the manifest for most implicit broadcasts on Android 8 and newer <a href=\"https://developer.android.com/about/versions/oreo/background#broadcasts\" rel=\"nofollow noreferrer\">due to background execution limitations</a>."}], "tags": [], "owner": {"reputation": 1223, "user_id": 6796066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3oHGC.jpg?s=128&g=1", "display_name": "Sultan Mahmud", "link": "https://stackoverflow.com/users/6796066/sultan-mahmud"}, "is_accepted": false, "score": 4, "last_activity_date": 1555409158, "creation_date": 1555409158, "answer_id": 55705598, "question_id": 55705364, "link": "https://stackoverflow.com/questions/55705364/run-code-background-when-charger-gets-connected/55705598#55705598", "title": "Run code background when charger gets connected", "body": "<p>The BatteryManager broadcasts an action whenever the device is connected or disconnected from power. It's important to receive these events even while your app isn't running\u2014particularly as these events should impact how often you start your app in order to initiate a background update\u2014so you should register a BroadcastReceiver in your manifest to listen for both events by defining the ACTION_POWER_CONNECTED and ACTION_POWER_DISCONNECTED within an intent filter.</p>\n\n<pre><code>&lt;receiver android:name=\".PowerConnectionReceiver\"&gt;\n  &lt;intent-filter&gt;\n    &lt;action android:name=\"android.intent.action.ACTION_POWER_CONNECTED\"/&gt;\n    &lt;action android:name=\"android.intent.action.ACTION_POWER_DISCONNECTED\"/&gt;\n  &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n\n<p>Within the associated BroadcastReceiver implementation, you can extract the current charging state and method as described in the previous step.</p>\n\n<pre><code>public class PowerConnectionReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        int status = intent.getIntExtra(BatteryManager.EXTRA_STATUS, -1);\n        boolean isCharging = status == BatteryManager.BATTERY_STATUS_CHARGING ||\n                            status == BatteryManager.BATTERY_STATUS_FULL;\n\n        int chargePlug = intent.getIntExtra(BatteryManager.EXTRA_PLUGGED, -1);\n        boolean usbCharge = chargePlug == BatteryManager.BATTERY_PLUGGED_USB;\n        boolean acCharge = chargePlug == BatteryManager.BATTERY_PLUGGED_AC;\n    }\n}\n</code></pre>\n\n<p>Ref: <a href=\"https://developer.android.com/training/monitoring-device-state/battery-monitoring\" rel=\"nofollow noreferrer\">https://developer.android.com/training/monitoring-device-state/battery-monitoring</a></p>\n"}, {"comments": [{"owner": {"reputation": 467, "user_id": 5012900, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f10ca092eb801e9f1e62234693a82fc?s=128&d=identicon&r=PG&f=1", "display_name": "Slimez", "link": "https://stackoverflow.com/users/5012900/slimez"}, "edited": false, "score": 0, "creation_date": 1555488606, "post_id": 55711731, "comment_id": 98124847, "body": "Yeah, but then I have to schedule it every 15 minutes, right? :/"}, {"owner": {"reputation": 7521, "user_id": 1219389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6otAH.jpg?s=128&g=1", "display_name": "PPartisan", "link": "https://stackoverflow.com/users/1219389/ppartisan"}, "reply_to_user": {"reputation": 467, "user_id": 5012900, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f10ca092eb801e9f1e62234693a82fc?s=128&d=identicon&r=PG&f=1", "display_name": "Slimez", "link": "https://stackoverflow.com/users/5012900/slimez"}, "edited": false, "score": 0, "creation_date": 1555492667, "post_id": 55711731, "comment_id": 98127124, "body": "As I understand it, your job will be triggered as soon as the device goes on charge <i>unless</i> your allotted time window has passed (which I believe is around every 15minutes). So, you wouldn&#39;t need to poll, but it would mean that if the phone hadn&#39;t been on charge for half an hour, and then went on charge, it&#39;s very likely your Job would be executed...however, if you then went off charge and on charge again in under a minute, it probably wouldn&#39;t. I&#39;d recommend you test it out yourself though!"}, {"owner": {"reputation": 467, "user_id": 5012900, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f10ca092eb801e9f1e62234693a82fc?s=128&d=identicon&r=PG&f=1", "display_name": "Slimez", "link": "https://stackoverflow.com/users/5012900/slimez"}, "edited": false, "score": 0, "creation_date": 1555494180, "post_id": 55711731, "comment_id": 98127986, "body": "Ah, cool! So it&#39;s basically a cooldown period. I&#39;m definately going to test it out and i&#39;ll let you know if it works :)"}], "tags": [], "owner": {"reputation": 7521, "user_id": 1219389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6otAH.jpg?s=128&g=1", "display_name": "PPartisan", "link": "https://stackoverflow.com/users/1219389/ppartisan"}, "is_accepted": true, "score": 2, "last_activity_date": 1555428591, "creation_date": 1555428591, "answer_id": 55711731, "question_id": 55705364, "link": "https://stackoverflow.com/questions/55705364/run-code-background-when-charger-gets-connected/55711731#55711731", "title": "Run code background when charger gets connected", "body": "<p>You could use a <code>JobScheduler</code>, and use the <a href=\"https://developer.android.com/reference/android/app/job/JobInfo.Builder.html#setRequiresCharging(boolean)\" rel=\"nofollow noreferrer\"><code>setRequiresCharging(boolean requiresCharging)</code></a> method on the <code>JobInfo.Builder</code> you create. </p>\n"}], "owner": {"reputation": 467, "user_id": 5012900, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f10ca092eb801e9f1e62234693a82fc?s=128&d=identicon&r=PG&f=1", "display_name": "Slimez", "link": "https://stackoverflow.com/users/5012900/slimez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 451, "favorite_count": 0, "accepted_answer_id": 55711731, "answer_count": 3, "score": 2, "last_activity_date": 1555428591, "creation_date": 1555408400, "last_edit_date": 1555428353, "question_id": 55705364, "link": "https://stackoverflow.com/questions/55705364/run-code-background-when-charger-gets-connected", "title": "Run code background when charger gets connected", "body": "<p>I'm trying to run some code every time the charger gets connected to the device and the app is closed. The only thing I've found is to schedule a job that only can run when the charger is connected, but the problem with that is that the code will only run once (unless I reschedule it ofc) and it will only run at the set times. I want the code to run immediately and every time I connect the charger, like a broadcastlistener, but in the background.</p>\n\n<p>Is this possible or do you have some other suggestions?</p>\n\n<p>Thanks in advance! :)</p>\n\n<p>EDIT:\nIt seems like you can't listen to these kinds of broadcasts anymore if you're running API level 26+  <a href=\"https://developer.android.com/guide/components/broadcast-exceptions.html\" rel=\"nofollow noreferrer\">ref</a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1555415365, "post_id": 55704478, "comment_id": 98095721, "body": "Whats your usecase? Why do you habe to write <code>B.a1</code> ? Why not just <code>A.a1</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1555415300, "post_id": 55704598, "comment_id": 98095684, "body": "This creates an unneccessary class though."}], "tags": [], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "is_accepted": false, "score": 2, "last_activity_date": 1555406025, "creation_date": 1555406025, "answer_id": 55704598, "question_id": 55704478, "link": "https://stackoverflow.com/questions/55704478/kotlin-inheritance-in-object-expression/55704598#55704598", "title": "Kotlin - Inheritance in Object expression", "body": "<pre><code> open class A {\n    companion object {\n        const val a1 = \"some_data_1\"\n        const val a2 = \"some_data_2\"\n    }\n}\n\nclass B : A() {\n    companion object {\n        const val b1 = \"some_data_3\"\n    }\n    val a_1 = a1\n    val a_2 = a2\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 582, "user_id": 4403813, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MlONV-b_IuE/AAAAAAAAAAI/AAAAAAAAAUg/5M54R0MmhpY/photo.jpg?sz=128", "display_name": "Yassine BELDI", "link": "https://stackoverflow.com/users/4403813/yassine-beldi"}, "is_accepted": false, "score": 0, "last_activity_date": 1555406163, "creation_date": 1555406163, "answer_id": 55704635, "question_id": 55704478, "link": "https://stackoverflow.com/questions/55704478/kotlin-inheritance-in-object-expression/55704635#55704635", "title": "Kotlin - Inheritance in Object expression", "body": "<p>for a class to be inherited in Kotlin it should be <code>open</code> for example <code>open class A {}</code>\nfor class B to extends class A should add the <code>class B : A()</code>\nfor constants should be inside a <code>companion object {}</code></p>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 4366309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2091e9f4f277dae1c10d9a033aeec8?s=128&d=identicon&r=PG&f=1", "display_name": "sourav", "link": "https://stackoverflow.com/users/4366309/sourav"}, "is_accepted": false, "score": 0, "last_activity_date": 1555408566, "last_edit_date": 1555408566, "creation_date": 1555408030, "answer_id": 55705232, "question_id": 55704478, "link": "https://stackoverflow.com/questions/55704478/kotlin-inheritance-in-object-expression/55705232#55705232", "title": "Kotlin - Inheritance in Object expression", "body": "<p>Kotlin is an object-oriented programming (OOP) language. We can inherit object <strong>A</strong> from object <strong>B</strong> for that we have to to allow class \"A\" to be inherited, for that we need to attach the <strong>open</strong> modifier before the class to make it non-final. </p>\n\n<p>For the <strong>const</strong> we have to use companion object, which is an object that is common to all instances of that class.</p>\n\n<pre><code>open class A {\n     companion object {\n        const val a1 = \"some_data_1\"\n        const val a2 = \"some_data_2\"\n     }\n }\n\nclass B : A() {\n    companion object {\n        const val b1 = \"some_data_3\"\n    }\n    val a_1 = a1\n    val a_2 = a2\n}\n</code></pre>\n\n<p><a href=\"https://www.journaldev.com/19705/kotlin-inheritance\" rel=\"nofollow noreferrer\">Check this link to understand inheritance</a></p>\n\n<p><a href=\"https://antonioleiva.com/objects-kotlin/\" rel=\"nofollow noreferrer\">Check this link to understand Companion Object</a></p>\n"}, {"tags": [], "owner": {"reputation": 2958, "user_id": 3874721, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/yKbYg.jpg?s=128&g=1", "display_name": "Yurii Tsap", "link": "https://stackoverflow.com/users/3874721/yurii-tsap"}, "is_accepted": false, "score": 0, "last_activity_date": 1555414376, "creation_date": 1555414376, "answer_id": 55707184, "question_id": 55704478, "link": "https://stackoverflow.com/questions/55704478/kotlin-inheritance-in-object-expression/55707184#55707184", "title": "Kotlin - Inheritance in Object expression", "body": "<p>I would probably dive a bit deeper. \n<a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">Object</a> in your example is an <code>Object Declaration</code>.\nYou should have a look at <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions-and-declarations\" rel=\"nofollow noreferrer\">this</a> doc describing Object Declarations and Object Expressions.</p>\n\n<p>The question is - <strong>Why would you need to have one class only with constants extend another(also containing only const vals)?</strong><br>\nObject Declarations are Kotlin built in <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">Singletons</a> and BTW are thread safe.<br>\nExample :  </p>\n\n<pre><code>object DeviceProvider {\n\n\n    private val _devices = ArrayList&lt;Device&gt;()\n\n    fun getDevices() = _devices as List&lt;Device&gt;\n\n    fun registerDevice(device: Device) {\n        _devices.find { it == device } ?: _devices.add(device)\n    }\n}\n</code></pre>\n\n<p>Usage :  </p>\n\n<pre><code>fun addDevice(){\n    ServiceProvider.registerDevice(Device(\"1234\"))\n}\n</code></pre>\n\n<p><code>Object declarations</code> are allowed to extend open classes and interfaces - so you can define a behavior or even a state via inheritance. As usual you can have a look at <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/inheritance.html\" rel=\"nofollow noreferrer\">Kotlin docs</a> about inheritance, those are exhaustive and nice read.<br>\nStill if we are talking about common approaches defining const values - then separate file is the best solution, if of course that value should be bound to any specific class. Here is a nice point of view(thanks <a href=\"https://stackoverflow.com/users/1103872/marko-topolnik\">Marko</a> for your <a href=\"https://stackoverflow.com/a/49977253/3874721\">answer</a>) :</p>\n\n<blockquote>\n  <p>In Java you're forced to put all static field and method declarations\n  in a class and often you even have to create a class just for that\n  purpose. Coming to Kotlin, many users look for the equivalent facility\n  out of habit and end up overusing companion objects.</p>\n  \n  <p>Kotlin completely decouples the notions of a file and a class. You can\n  declare any number of public classes is the same file. You can also\n  declare private top-level functions and variables and they'll be\n  accessible only to the classes within the same file. This is a great\n  way to organize closely associated code and data.</p>\n</blockquote>\n"}], "owner": {"reputation": 760, "user_id": 9344496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31644b0ff01f07e53c043d1a2cd05774?s=128&d=identicon&r=PG&f=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/9344496/stack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1555414376, "creation_date": 1555405632, "question_id": 55704478, "link": "https://stackoverflow.com/questions/55704478/kotlin-inheritance-in-object-expression", "title": "Kotlin - Inheritance in Object expression", "body": "<p>I need to inherit the Object A from Object B, were both the objects consist of constants only.</p>\n\n<p>Example </p>\n\n<pre><code> Object A {\n  const val a1 = \"some_data_1\"\n  const val a2 = \"some_data_2\"\n }\n\n Object B : A {\n  const val b1 = \"some_data_3\"\n }\n</code></pre>\n\n<p>is it feasible to achieve this in kotlin ?</p>\n"}, {"tags": ["kotlin", "jobs", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1555415987, "post_id": 55703883, "comment_id": 98096097, "body": "This question is quite unclear. Also, it sounds like asking for a complete design/design idea and not a solution to one focused problem, inviting discussion instead of definite answers."}, {"owner": {"reputation": 4613, "user_id": 784766, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dc5a8416823b374a9ad4a06b7eb8ba63?s=128&d=identicon&r=PG", "display_name": "Gabrielle", "link": "https://stackoverflow.com/users/784766/gabrielle"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1555424726, "post_id": 55703883, "comment_id": 98101803, "body": "@MarkoTopolnik Thanks for your response. I think you are right. I wrote before these question another one :  <a href=\"https://stackoverflow.com/questions/55647810/recreate-job-after-another-job-is-completed/55684928?noredirect=1#comment98055758_55684928\" title=\"recreate job after another job is completed\">stackoverflow.com/questions/55647810/&hellip;</a>  Maybe these questions together can clarify my problem."}, {"owner": {"reputation": 4613, "user_id": 784766, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dc5a8416823b374a9ad4a06b7eb8ba63?s=128&d=identicon&r=PG", "display_name": "Gabrielle", "link": "https://stackoverflow.com/users/784766/gabrielle"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1555425778, "post_id": 55703883, "comment_id": 98102472, "body": "I have many classes on service layer, each one makes requests to server for certain entities. For example, MessageService send a request for retrieving all the messages from server. When it returns with 401 http status, the AuthenticationService starts a refreshToken request. I found a solution to send on refresh callback something that indicates the token was refresh with success, but this makes each job to be recreated it if receive that information from refreshToken. I am new with Coroutine and I asked if there is some way to subscribe to a job, to know when it gets completed etc."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1555425921, "post_id": 55703883, "comment_id": 98102571, "body": "<a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-job/invoke-on-completion.html\" rel=\"nofollow noreferrer\"><code>job.invokeOnCompletion</code></a> maybe?"}, {"owner": {"reputation": 4613, "user_id": 784766, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dc5a8416823b374a9ad4a06b7eb8ba63?s=128&d=identicon&r=PG", "display_name": "Gabrielle", "link": "https://stackoverflow.com/users/784766/gabrielle"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1555428693, "post_id": 55703883, "comment_id": 98104251, "body": "@MarkoTopolnik invokeOnCompletion is a solution, with a callback as I mentioned above. Is it possible with actor, channels? I don&#39;t know to use them."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1555483439, "post_id": 55703883, "comment_id": 98122289, "body": "You can also use <code>job.onJoin</code> within a <code>select</code> statement."}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1555416368, "last_edit_date": 1555416368, "creation_date": 1555416068, "answer_id": 55707666, "question_id": 55703883, "link": "https://stackoverflow.com/questions/55703883/notify-jobs-when-another-job-finishes/55707666#55707666", "title": "Notify jobs when another job finishes", "body": "<p>At first, lets define how the token gets refreshed:</p>\n\n<p>1) If there is no request to refresh the token yet, start a new one</p>\n\n<p>2) If there is one already going on, just wait for that.</p>\n\n<p>In Kotlin that could be written as:</p>\n\n<pre><code>  var retrieveToken : Deferred&lt;String&gt;? = null\n\n  suspend fun getToken(refresh: Boolean = false): String {\n    if(retrieveToken == null || refresh &amp;&amp; !retrieveToken.isActive)\n      retrieveToken = async { API.getToken() }\n    return retrieveToken.await()\n  }\n</code></pre>\n\n<p>Now retrying the API gets fairly simple:</p>\n\n<pre><code>  suspend fun requestAPIAndRetry(api: String) {\n     try {\n       val token = getToken()\n       val result = API.call(api, token)\n     } catch(error) {\n      // verifiy if it is 401\n      val token = getToken(refresh = true)\n      var result = API.call(api, token)\n    }\n }\n</code></pre>\n\n<p>Now if the requests start failing, the following happens:</p>\n\n<p>1) The first call to <code>getToken(refresh = true)</code> will start a request to the API and will return that.</p>\n\n<p>2) All following calls will just get the same Deferred as the first call, therefore all requests just wait for one token update</p>\n\n<p>3) If the token is there, the Deferred will resolve, and all APIs will retry (maybe even in parallel).</p>\n"}], "owner": {"reputation": 4613, "user_id": 784766, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dc5a8416823b374a9ad4a06b7eb8ba63?s=128&d=identicon&r=PG", "display_name": "Gabrielle", "link": "https://stackoverflow.com/users/784766/gabrielle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 208, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555416368, "creation_date": 1555403848, "question_id": 55703883, "link": "https://stackoverflow.com/questions/55703883/notify-jobs-when-another-job-finishes", "title": "Notify jobs when another job finishes", "body": "<p>In my application, all the requests need a token as http authorization header, which expires after a certain time. When a job gets from server with <code>401</code> status code I need to start the job to refresh the token. When this job is completed, I need to notify all the jobs from my application because I don't know which of them failed(job became completed but with 401 http status) and I must retry it with the new token.</p>\n\n<p>How can I do this with coroutines? </p>\n"}, {"tags": ["kotlin", "retrofit", "rx-java"], "comments": [{"owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "edited": false, "score": 0, "creation_date": 1555403360, "post_id": 55703697, "comment_id": 98088497, "body": "What does the nullability mean? <code>emailAddress==null</code> implies the email is <i>not</i> updated, or (if the flag is <code>true</code>) it is deleted?  In other words, why do you need the <code>update*</code> flags at all?"}, {"owner": {"reputation": 2103, "user_id": 2822178, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b005b2fba855ceaf611e1b83b24ad4a1?s=128&d=identicon&r=PG&f=1", "display_name": "User3", "link": "https://stackoverflow.com/users/2822178/user3"}, "reply_to_user": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "edited": false, "score": 0, "creation_date": 1555403439, "post_id": 55703697, "comment_id": 98088543, "body": "The nullability means the email id was deleted and deletion needs to be updated on server, the design is such that a user can update anyone or all of these items from a single page, that associates booleans with the fields. I know the design is not optimal but I have inherited this."}, {"owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "edited": false, "score": 0, "creation_date": 1555404037, "post_id": 55703697, "comment_id": 98088880, "body": "are the methods of your API calls returning an observable?"}, {"owner": {"reputation": 2103, "user_id": 2822178, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b005b2fba855ceaf611e1b83b24ad4a1?s=128&d=identicon&r=PG&f=1", "display_name": "User3", "link": "https://stackoverflow.com/users/2822178/user3"}, "edited": false, "score": 0, "creation_date": 1555404118, "post_id": 55703697, "comment_id": 98088926, "body": "Yes each API call returns a Single&lt;Response&lt;ResponseBody&gt;&gt;, I have control on modifying this part as well. But I dont have control on how and with what params the method in question is called"}], "answers": [{"comments": [{"owner": {"reputation": 2103, "user_id": 2822178, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b005b2fba855ceaf611e1b83b24ad4a1?s=128&d=identicon&r=PG&f=1", "display_name": "User3", "link": "https://stackoverflow.com/users/2822178/user3"}, "edited": false, "score": 0, "creation_date": 1555425702, "post_id": 55704234, "comment_id": 98102417, "body": "Thanks, Gustavo - One thing which is not clear is where and how will I fetch the results of these API calls. I know subscribe will be the place but I am unsure how!?"}], "tags": [], "owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "is_accepted": true, "score": 1, "last_activity_date": 1555412557, "last_edit_date": 1555412557, "creation_date": 1555404904, "answer_id": 55704234, "question_id": 55703697, "link": "https://stackoverflow.com/questions/55703697/rx-java-calling-apis-based-on-boolean-values/55704234#55704234", "title": "Rx Java Calling Api&#39;s based on boolean values", "body": "<p>You can achieve it in a blocking fashion:</p>\n\n<pre><code>    fun updateDetails(emailAddress: String?, updateEmail: Boolean,\n                      nickName: String?, updateNickName: Boolean,\n                      avatarFile: File?, updateAvatar: Boolean) {\n        if (updateEmail) {\n            updateEmail(emailAddress).blockingGet()\n        } \n\n        if (updateNickName) {\n            updateNickName(nickName).blockingGet()\n        }\n\n        // ...\n    }\n</code></pre>\n\n<p>or you could build the chain like this and subscribe to it in the end:</p>\n\n<pre><code>fun updateDetails(emailAddress: String?, updateEmail: Boolean,\n                                     nickName: String?, updateNickName: Boolean,\n                                     avatarFile: File?, updateAvatar: Boolean) {\n\n        var chain = Completable.complete()\n\n        if (updateEmail) {\n            chain = chain.andThen(updateEmail(emailAddress).ignoreElement())\n        }\n\n        if (updateNickName) {\n            chain = chain.andThen(updateNickName(nickName).ignoreElement())\n        }\n\n        // ...\n\n        chain\n            .subscribeOn(..)\n            .observeOn(..)\n            .subscribe()\n}\n</code></pre>\n\n<p>or chaining completables:</p>\n\n<pre><code>    fun updateDetails(emailAddress: String?, updateEmail: Boolean,\n                      nickName: String?, updateNickName: Boolean,\n                      avatarFile: File?, updateAvatar: Boolean) {\n\n        Completable.defer {\n            if (updateEmail) {\n                updateEmail(emailAddress)\n                    .ignoreElement()\n            } else {\n                Completable.complete()\n            }\n        }\n            .andThen(Completable.defer {\n                if (updateNickName) {\n                    updateNickName(nickName)\n                        .ignoreElement()\n                } else {\n                    Completable.complete()\n                }\n            })\n            // ...\n            .subscribeOn(..)\n            .observeOn(..)\n            .subscribe()\n    }\n</code></pre>\n"}], "owner": {"reputation": 2103, "user_id": 2822178, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b005b2fba855ceaf611e1b83b24ad4a1?s=128&d=identicon&r=PG&f=1", "display_name": "User3", "link": "https://stackoverflow.com/users/2822178/user3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 55704234, "answer_count": 1, "score": 1, "last_activity_date": 1555412557, "creation_date": 1555403214, "last_edit_date": 1555404070, "question_id": 55703697, "link": "https://stackoverflow.com/questions/55703697/rx-java-calling-apis-based-on-boolean-values", "title": "Rx Java Calling Api&#39;s based on boolean values", "body": "<p>I am fairly new to RX java, I know how to use a zip or flat map however I have a problem as follows for which I am feeling out of options: </p>\n\n<p>I have a method which I am trying to refactor :</p>\n\n<pre><code>updateDetails(emailAddress: String?, updateEmail: Boolean,\n                                     nickName: String?, updateNickName: Boolean,\n                                     avatarFile: File?, updateAvatar: Boolean)\n</code></pre>\n\n<p>Now based on each boolean inside the method I determine whether to update email, nickname, or avatar. Earleir this was achieved using if conditions and individual API calls. Is there a way I can zip or combine the calls using the supplied flags? </p>\n"}, {"tags": ["kotlin", "rx-java"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 10454893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a9gIRJeeOy4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUoU8vXqyLG1elP-_Q_851tAWZzZQ/mo/photo.jpg?sz=128", "display_name": "Sandeep Agarwal", "link": "https://stackoverflow.com/users/10454893/sandeep-agarwal"}, "edited": false, "score": 0, "creation_date": 1556700741, "post_id": 55703774, "comment_id": 98520219, "body": "I need to group the data which has been returned from the getEverything API so you are calling getCategorie data."}], "tags": [], "owner": {"reputation": 365, "user_id": 11197211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6290631c4cb098cb2c5e6b28f860d232?s=128&d=identicon&r=PG&f=1", "display_name": "Infusion Analysts", "link": "https://stackoverflow.com/users/11197211/infusion-analysts"}, "is_accepted": false, "score": 0, "last_activity_date": 1555403479, "creation_date": 1555403479, "answer_id": 55703774, "question_id": 55703676, "link": "https://stackoverflow.com/questions/55703676/how-to-group-data-returned-from-network-api-in-rxjava/55703774#55703774", "title": "How to group data returned from Network api in rxjava", "body": "<p>make your new api reponse pojo class..\nthen used below code..</p>\n\n<pre><code>    var categoryResult: MutableLiveData&lt;List&lt;CategoryModel&gt;&gt; = MutableLiveData()\n</code></pre>\n\n<p>api calling..</p>\n\n<pre><code>fun getCategoryData(storeId: String) {\n\n    if (ConnectivityUtils.isNetworkAvailable(getApplication())) {\n        showProgressDialog.postValue(true)\n        storeData = storeId\n        launch {\n            appApiInterface\n                    .getCategories(storeId)\n                    .with(schedulerProvider)\n                    .subscribe(\n                            { result -&gt;\n                                showProgressDialog.postValue(false)\n                                if (result.categories != null)\n                                    categoryResult.postValue(result.categories)\n                                else\n                                    showNoData()\n                            },\n                            { e -&gt;\n                                showProgressDialog.postValue(false)\n                                interFragmentInterface?.showDialog(e.getErrorMessage(getApplication()))\n                            }\n                    )\n        }\n    } else {\n        interFragmentInterface!!.showDialog(getApplication&lt;Application&gt;().getString(R.string.error_message_network))\n    }\n}\n</code></pre>\n\n<p>after that in activity or fragment observer used..</p>\n\n<pre><code>viewModel.categoryResult.observe(this, Observer { it -&gt;\n// here set api list of data into adapter class insert method.\n// here set your adapter code.\n    })\n</code></pre>\n\n<p>used viewModel is more easy.</p>\n"}], "owner": {"reputation": 19, "user_id": 10454893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a9gIRJeeOy4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUoU8vXqyLG1elP-_Q_851tAWZzZQ/mo/photo.jpg?sz=128", "display_name": "Sandeep Agarwal", "link": "https://stackoverflow.com/users/10454893/sandeep-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1555492276, "creation_date": 1555403135, "last_edit_date": 1555492276, "question_id": 55703676, "link": "https://stackoverflow.com/questions/55703676/how-to-group-data-returned-from-network-api-in-rxjava", "title": "How to group data returned from Network api in rxjava", "body": "<p>I am getting data response from news api and I need to show those data in recycler view by grouping the data on the basis of source.</p>\n\n<p>Basically I am getting List of ArticalDto and I want to convert this list to List as I need to group the data by source and show in recycler view in multiple view. I was thinking to use either GroupBy or Map for this but not getting exact approach. Here is the Code which I wrote for getting the data from network.</p>\n\n<pre><code>class ContentListViewModel : BaseViewModel() {\n    internal val result = MutableLiveData&lt;Result&lt;ArticlesDto&gt;&gt;()\n\n    /**\n     * Fetches news from sources.\n     * You do not need to understand this implementation in order to complete the assignment.\n     * All the updates (response) are posted to the [result] liveData.\n     */\n    fun fetchNews(params: ContentParams = ContentParams()) {\n        NewsApiRepository(apiKey = apiKey).getEverything(\n            q = params.q,\n            sources = params.sources,\n            domains = params.domains,\n            language = params.language,\n            sortBy = params.sortBy,\n            pageSize = params.pageSize,\n            page = params.page\n        )\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .toFlowable()\n            .subscribe(\n                { result.value = Result.success(it) },\n                {\n                    Log.e(\"Error\", it.cause?.message ?: \"\")\n                    result.value = Result.failure(it)\n                }\n            ).disposeOnClear()\n    }\n}\n</code></pre>\n\n<p>Can any one suggest me how can I achieve this using rxjava? I can do it by converting the list to Hashmap first and then again convert it to list but want to use rxjava for this.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 26541, "user_id": 1532460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc5b338bf194a9e117af20bd9b2e4edb?s=128&d=identicon&r=PG", "display_name": "awesoon", "link": "https://stackoverflow.com/users/1532460/awesoon"}, "edited": false, "score": 2, "creation_date": 1555404608, "post_id": 55703513, "comment_id": 98089233, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40160489/kotlin-whats-does-return-mean\">Kotlin: Whats does &quot;return@&quot; mean?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 3142164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeca51914e2e0bed479d5f90f6bdb386?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/3142164/mohammad"}, "edited": false, "score": 0, "creation_date": 1555403806, "post_id": 55703636, "comment_id": 98088753, "body": "I would also like to know when this mapping will be performed i.e, when the sql has returned the values? And how are the individual objects added to Flux API?"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "reply_to_user": {"reputation": 115, "user_id": 3142164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeca51914e2e0bed479d5f90f6bdb386?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/3142164/mohammad"}, "edited": false, "score": 0, "creation_date": 1555403912, "post_id": 55703636, "comment_id": 98088817, "body": "what does this question have to do with Flux API? it is completely different question."}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "reply_to_user": {"reputation": 115, "user_id": 3142164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeca51914e2e0bed479d5f90f6bdb386?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/3142164/mohammad"}, "edited": false, "score": 1, "creation_date": 1555403979, "post_id": 55703636, "comment_id": 98088850, "body": "mapping will be performed after <code>bind</code> method will be executed and return a value that <code>map</code> method will operate on"}, {"owner": {"reputation": 115, "user_id": 3142164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeca51914e2e0bed479d5f90f6bdb386?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/3142164/mohammad"}, "edited": false, "score": 0, "creation_date": 1555404270, "post_id": 55703636, "comment_id": 98089014, "body": "The <code>.all()</code> returns a <code>Flux</code> of objects. So I asked about the individual objects. But never mind I&#39;ll dig further"}], "tags": [], "owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "is_accepted": true, "score": 1, "last_activity_date": 1555403006, "creation_date": 1555403006, "answer_id": 55703636, "question_id": 55703513, "link": "https://stackoverflow.com/questions/55703513/how-returnmap-works/55703636#55703636", "title": "How return@map works", "body": "<p>Given </p>\n\n<pre><code>.map { t, u -&gt;\n            t.let {\n               val featuredIn = FeaturedIn(it.get(\"id\") as Int, it.get(\"movie_title\") as String, it.get(\"make_year\") as Int)\n               val celeb = MovieCeleb(it.get(\"celeb_id\") as Int, it.get(\"full_name\") as String, it.get(\"birth_date\") as LocalDate, featuredIn)\n                return@map celeb\n            }\n        }\n</code></pre>\n\n<p><code>return@map celeb</code> will return <code>celeb</code> reference value from <code>map</code> function (not from <code>let</code>!). It is just some kind of so-called <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"nofollow noreferrer\">non-local return</a>, whereas you can manually specify the return scope of your statement.</p>\n"}], "owner": {"reputation": 115, "user_id": 3142164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeca51914e2e0bed479d5f90f6bdb386?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/3142164/mohammad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1441, "favorite_count": 0, "accepted_answer_id": 55703636, "answer_count": 1, "score": 0, "last_activity_date": 1555493586, "creation_date": 1555402499, "last_edit_date": 1555493586, "question_id": 55703513, "link": "https://stackoverflow.com/questions/55703513/how-returnmap-works", "title": "How return@map works", "body": "<p>I've just started learning Java stream API with kotlin and I'm using Project Reactor along with r2dbc API. I'm writing a simple code as given below and would appreciate in understanding how this works. </p>\n\n<p>I want to know the line where <code>t.let{}</code> returns a MovieCeleb object using <code>return@map</code>. I want to know what this line does i.e., whether it creates a list/map and how it does this. </p>\n\n<pre><code>fun listAllMoviesBy(actor: String, client: DatabaseClient) {\n    client.execute()\n            .sql { \"SELECT fin.id, full_name, movie_title, make_year, celeb_id, birth_date \" +\n                    \"FROM featured_in fin JOIN film_celeb fc ON \" +\n                    \" fin.celeb_id = fc.id WHERE fc.full_name = $1\"\n            }.bind(0, actor).map { t, u -&gt;\n                t.let {\n                   val featuredIn = FeaturedIn(it.get(\"id\") as Int, it.get(\"movie_title\") as String, it.get(\"make_year\") as Int)\n                   val celeb = MovieCeleb(it.get(\"celeb_id\") as Int, it.get(\"full_name\") as String, it.get(\"birth_date\") as LocalDate, featuredIn)\n                    return@map celeb\n                }\n            }.all()\n            .subscribe{\n                println(it)\n            }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-multidex"], "comments": [{"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1555402588, "post_id": 55703378, "comment_id": 98088085, "body": "you have to make your bundle nullable in base activity. It&#39;s not nullable atm so that&#39;s why your app is crashing."}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1555402710, "post_id": 55703378, "comment_id": 98088145, "body": "@Umair, can you send to me code with my above codes? please"}, {"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1555403051, "post_id": 55703378, "comment_id": 98088345, "body": "can you tell me what is line number 221 in your Application class. Error might be there."}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1555406016, "post_id": 55703378, "comment_id": 98090088, "body": "@Umair, i haven&#39;t line 221 in Application class !"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1555406065, "post_id": 55703378, "comment_id": 98090116, "body": "@Umair, 221 line has Application class from android package. code is : <code>&#47;* package *&#47; void dispatchActivityCreated(Activity activity, Bundle savedInstanceState) {         Object[] callbacks = collectActivityLifecycleCallbacks();         if (callbacks != null) {             for (int i=0; i&lt;callbacks.length; i++) {                 ((ActivityLifecycleCallbacks)callbacks[i]).onActivityCreated&zwnj;&#8203;(activity,                         savedInstanceState);             }         }     }</code>"}, {"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1555406507, "post_id": 55703378, "comment_id": 98090380, "body": "can your try removing ? from the end of Bundle  <code>override fun onCreate(savedInstanceState: Bundle) {</code>"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1555407314, "post_id": 55703378, "comment_id": 98090909, "body": "@Umair, when remove this line then not show me FC error : <code>registerActivityLifecycleCallbacks(AdjustLifecycleCallbacks(&zwnj;&#8203;))</code>"}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "edited": false, "score": 0, "creation_date": 1555407600, "post_id": 55705024, "comment_id": 98091076, "body": "i try this but not work me. when remove this line : <code>egisterActivityLifecycleCallbacks(AdjustLifecycleCallbacks()&zwnj;&#8203;)</code> not show me any error"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "edited": false, "score": 0, "creation_date": 1555407738, "post_id": 55705024, "comment_id": 98091178, "body": "try this :          <code>override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle?) {}</code>  instead of `        override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {} `  if you see the bundle in my comment is marked with &quot;?&quot;"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": true, "score": 2, "last_activity_date": 1591014456, "last_edit_date": 1591014456, "creation_date": 1555407443, "answer_id": 55705024, "question_id": 55703378, "link": "https://stackoverflow.com/questions/55703378/how-to-fix-parameter-specified-as-non-null-is-null-error-in-android/55705024#55705024", "title": "How to fix Parameter specified as non-null is null error in Android", "body": "<p>Try extending the <code>MultiDexApplication()</code> in your App class instead of <code>Application()</code></p>\n\n<p><strong>Edit</strong></p>\n\n<p>Ok since the answer is in the same answer but in the comment , I would update this answer in case others need it  : </p>\n\n<p>And also try this : </p>\n\n<pre><code>override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle?) {}\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {}\n</code></pre>\n\n<p>if you see the bundle in my comment is marked with \"?\" </p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 9394700, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6eQewHw4PSU/AAAAAAAAAAI/AAAAAAAAAAw/OcwvVMpHblY/photo.jpg?sz=128", "display_name": "mirsaidoff", "link": "https://stackoverflow.com/users/9394700/mirsaidoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1591057013, "creation_date": 1591057013, "answer_id": 62142900, "question_id": 55703378, "link": "https://stackoverflow.com/questions/55703378/how-to-fix-parameter-specified-as-non-null-is-null-error-in-android/62142900#62142900", "title": "How to fix Parameter specified as non-null is null error in Android", "body": "<pre><code>override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle)\n</code></pre>\n\n<p>savedInstanceState parameter here should be nullable (Bundle?), also</p>\n"}], "owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3455, "favorite_count": 0, "accepted_answer_id": 55705024, "answer_count": 2, "score": 0, "last_activity_date": 1591057013, "creation_date": 1555401974, "last_edit_date": 1555406128, "question_id": 55703378, "link": "https://stackoverflow.com/questions/55703378/how-to-fix-parameter-specified-as-non-null-is-null-error-in-android", "title": "How to fix Parameter specified as non-null is null error in Android", "body": "<p><strong>WHY NOT ANY PEOPLE HEMP TO ME???</strong></p>\n\n<p>In my application i should implement <strong>MultiDex</strong> dependency, and i added this in <strong>gradle.build</strong> file and write some codes into <strong>application</strong> <code>class</code>!<br>\nBut after run application, show me <strong>force close</strong> error and not started application!<br>\n<strong>gradle.build :</strong></p>\n\n<pre><code>implementation 'com.android.support:multidex:1.0.3'\nimplementation 'com.android.support:multidex-instrumentation:1.0.3'\n</code></pre>\n\n<p><strong>BaseActivity class :</strong></p>\n\n<pre><code>abstract class BaseActivity : AppCompatActivity() {\n    /**\n     * Set your page layout when initialize `layoutId`, Ex. R.layout.activity_main\n     */\n    abstract var layoutId: Int\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(layoutId)\n    }\n\n    /**\n     * With below method, we can set custom font to all of activities\n     */\n    override fun attachBaseContext(newBase: Context) {\n        super.attachBaseContext(ViewPumpContextWrapper.wrap(newBase))\n    }\n}\n</code></pre>\n\n<p><strong>Application class :</strong> </p>\n\n<pre><code>import android.app.Activity\nimport android.app.Application\nimport android.content.Context\nimport android.os.Bundle\nimport androidx.multidex.MultiDex\nimport com.adjust.sdk.Adjust\nimport com.adjust.sdk.AdjustConfig\nimport com.adjust.sdk.LogLevel\nimport com.app.android.R\nimport com.app.android.utils.ADJUST_APP_TOKEN\nimport com.crashlytics.android.Crashlytics\nimport com.crashlytics.android.answers.Answers\nimport com.crashlytics.android.answers.ContentViewEvent\nimport com.google.android.gms.analytics.GoogleAnalytics\nimport com.google.android.gms.analytics.HitBuilders\nimport com.google.android.gms.analytics.Tracker\nimport io.fabric.sdk.android.Fabric\nimport io.github.inflationx.calligraphy3.CalligraphyConfig\nimport io.github.inflationx.calligraphy3.CalligraphyInterceptor\nimport io.github.inflationx.viewpump.ViewPump\n\nclass App : Application() {\n\n    private var adjustEnvironment: String = \"\"\n    private lateinit var adjustConfig: AdjustConfig\n    private lateinit var analytics: GoogleAnalytics\n    private lateinit var tracker: Tracker\n\n    override fun onCreate() {\n        super.onCreate()\n        //Calligraphy\n        ViewPump.init(\n            ViewPump.builder().addInterceptor(\n                CalligraphyInterceptor(\n                    CalligraphyConfig.Builder().setDefaultFontPath(\"fonts/IranSans.ttf\")\n                        .setFontAttrId(R.attr.fontPath)\n                        .build()\n                )\n            ).build()\n        )\n        //GoodPres\n        GoodPrefs.init(applicationContext)\n        //Fabric initialize kits\n        val fabric = Fabric.Builder(this)\n            .kits(Answers())\n//            .kits(Crashlytics())\n            .debuggable(true)\n            .build()\n        Fabric.with(fabric)\n        //Adjust\n        adjustEnvironment = AdjustConfig.ENVIRONMENT_PRODUCTION\n        adjustConfig = AdjustConfig(this, ADJUST_APP_TOKEN, adjustEnvironment, true)\n        adjustConfig.setSendInBackground(true)\n        adjustConfig.setLogLevel(LogLevel.SUPRESS)\n        Adjust.onCreate(adjustConfig)\n        registerActivityLifecycleCallbacks(AdjustLifecycleCallbacks())\n        //Google Analytics\n        analytics = GoogleAnalytics.getInstance(this)\n    }\n\n    override fun attachBaseContext(base: Context) {\n        super.attachBaseContext(base)\n        MultiDex.install(this)\n    }\n\n    //Adjust lifecycle method\n    private class AdjustLifecycleCallbacks : Application.ActivityLifecycleCallbacks {\n        override fun onActivityResumed(activity: Activity) {\n            Adjust.onResume()\n        }\n\n        override fun onActivityPaused(activity: Activity) {\n            Adjust.onPause()\n        }\n\n        override fun onActivityStopped(activity: Activity) {}\n\n        override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {}\n\n        override fun onActivityDestroyed(activity: Activity) {}\n\n        override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle) {}\n\n        override fun onActivityStarted(activity: Activity) {}\n    }\n\n    @Synchronized\n    fun getDefaultTracker(): Tracker {\n        if (tracker == null) {\n            tracker = analytics.newTracker(R.xml.global_tracker)\n        }\n        return tracker\n    }\n\n    fun anserTracker(name: String, type: String, id: String) {\n        Answers.getInstance().logContentView(\n            ContentViewEvent()\n                .putContentName(name)\n                .putContentType(type)\n                .putContentId(id)\n        )\n    }\n\n    fun googleTracker(category: String, action: String, label: String) {\n        val tracker: Tracker = getDefaultTracker()\n        tracker.send(\n            HitBuilders.EventBuilder()\n                .setCategory(category)\n                .setAction(action)\n                .setLabel(label)\n                .build()\n        )\n    }\n</code></pre>\n\n<p><strong>Error message :</strong>  </p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n    at com.app.android.ui.App$AdjustLifecycleCallbacks.onActivityCreated(Unknown Source:7)\n    at android.app.Application.dispatchActivityCreated(Application.java:221)\n    at android.app.Activity.onCreate(Activity.java:1071)\n    at androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:147)\n    at androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:317)\n    at androidx.appcompat.app.AppCompatActivity.onCreate(AppCompatActivity.java:106)\n    at com.app.android.ui.base.BaseActivity.onCreate(BaseActivity.kt:16)\n</code></pre>\n\n<p>Show me error for this line : <code>import androidx.multidex.MultiDex</code></p>\n\n<p>How can i fix this issue?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1377, "user_id": 5349947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xe0hT.png?s=128&g=1", "display_name": "notTdar", "link": "https://stackoverflow.com/users/5349947/nottdar"}, "edited": false, "score": 0, "creation_date": 1555407905, "post_id": 55703281, "comment_id": 98091284, "body": "call this from your fragment ((YourActivity) Objects.requireNonNull(getActivity())).setupActionBar();  this time  commen t  setHomeAsUpIndicator(R.drawable.custom_drawable)"}], "answers": [{"comments": [{"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "edited": false, "score": 0, "creation_date": 1555408844, "post_id": 55705360, "comment_id": 98091875, "body": "&quot;R.drawable.your_deafault_back_arrow&quot; - for this I need a custom drawable. That&#39;s not what I am looking for. I want to set default one provided by Android itself."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1555445262, "post_id": 55705360, "comment_id": 98112198, "body": "The appcompat arrow is this: <code>R.drawable.abc_ic_ab_back_material</code> At least in the last support library, the name changed over the years."}], "tags": [], "owner": {"reputation": 2631, "user_id": 8342718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vm7um.jpg?s=128&g=1", "display_name": "Jasurbek", "link": "https://stackoverflow.com/users/8342718/jasurbek"}, "is_accepted": true, "score": 2, "last_activity_date": 1555408391, "creation_date": 1555408391, "answer_id": 55705360, "question_id": 55703281, "link": "https://stackoverflow.com/questions/55703281/change-action-bar-up-indicator-to-default-back-arrow-button-after-changing-it-wi/55705360#55705360", "title": "Change action bar up indicator to default back arrow button after changing it with custom drawable", "body": "<p>Inside onAttach(context:Context) function in fragment you can access the actionBar</p>\n\n<pre><code>override fun onAttach(context : Context) {\n        if (context is YourParentActivity) {\n            val activity = context as YourParentActivity\n            activity.supportActionBar?.apply{\n                setDisplayShowTitleEnabled(false)\n                setHomeButtonEnabled(true)\n                setHomeAsUpIndicator(R.drawable.your_deafault_back_arrow)\n                setDisplayHomeAsUpEnabled(true)\n\n               //Here Customize your  action bar as much as you want\n            }\n        }\n}\n</code></pre>\n\n<p>Enjoy Coding: Please let me know if you have any other problem with it</p>\n"}], "owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 55705360, "answer_count": 1, "score": 0, "last_activity_date": 1555414248, "creation_date": 1555401576, "question_id": 55703281, "link": "https://stackoverflow.com/questions/55703281/change-action-bar-up-indicator-to-default-back-arrow-button-after-changing-it-wi", "title": "Change action bar up indicator to default back arrow button after changing it with custom drawable", "body": "<p>So, whenever I create an Activity, I set custom up indicator icon like this:</p>\n\n<pre><code>private fun setupActionBar() {\n    setSupportActionBar(toolbar)\n    supportActionBar?.apply {\n        setDisplayShowTitleEnabled(false)\n        setHomeButtonEnabled(true)\n        setHomeAsUpIndicator(R.drawable.custom_drawable)\n        setDisplayHomeAsUpEnabled(true)\n    }\n}\n</code></pre>\n\n<p>My question is - how can I change <code>setHomeAsUpIndicator</code> as default back arrow from fragment?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 7289, "user_id": 3736955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1647d5d7348d070ae95df49253385ee1?s=128&d=identicon&r=PG", "display_name": "Jemshit Iskenderov", "link": "https://stackoverflow.com/users/3736955/jemshit-iskenderov"}, "edited": false, "score": 1, "creation_date": 1555595358, "post_id": 55702746, "comment_id": 98171793, "body": "On kotlin slack channel <code>exclude &#39;META-INF&#47;*.kotlin_module&#39;</code> also has been suggested. With proguard setting <code>-dontwarn kotlinx.atomicfu.**</code>"}], "tags": [], "owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "is_accepted": true, "score": 18, "last_activity_date": 1555400837, "last_edit_date": 1555400837, "creation_date": 1555399534, "answer_id": 55702746, "question_id": 55702672, "link": "https://stackoverflow.com/questions/55702672/build-failed-after-update-coroutines-to-1-2-0-meta-inf-atomicfu-kotlin-module/55702746#55702746", "title": "Build failed after update coroutines to 1.2.0: META-INF/atomicfu.kotlin_module", "body": "<p>In app-level <code>build.gradle</code> add the following to <code>android</code> level :-</p>\n\n<pre><code>packagingOptions {\n    pickFirst(\"META-INF/atomicfu.kotlin_module\")\n}\n</code></pre>\n\n<p>It would look like :-</p>\n\n<pre><code>android {\n  .......\n\n  packagingOptions {\n    ......\n    pickFirst(\"META-INF/atomicfu.kotlin_module\")\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24593, "user_id": 1071320, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dTt5I.jpg?s=128&g=1", "display_name": "Adil Hussain", "link": "https://stackoverflow.com/users/1071320/adil-hussain"}, "is_accepted": false, "score": 1, "last_activity_date": 1558978070, "creation_date": 1558978070, "answer_id": 56330254, "question_id": 55702672, "link": "https://stackoverflow.com/questions/55702672/build-failed-after-update-coroutines-to-1-2-0-meta-inf-atomicfu-kotlin-module/56330254#56330254", "title": "Build failed after update coroutines to 1.2.0: META-INF/atomicfu.kotlin_module", "body": "<p>Adding <code>-dontwarn kotlinx.atomicfu.**</code> to my proguard rules file was enough to get my build working with version <code>1.2.1</code> of the <code>kotlinx-coroutines-android</code> library.</p>\n\n<p>Adding the <code>packagingOptions { pickFirst('META-INF/atomicfu.kotlin_module') }</code> or <code>packagingOptions { exclude('META-INF/atomicfu.kotlin_module') }</code> block in my <code>build.gradle</code> file didn't work.</p>\n"}], "owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1933, "favorite_count": 1, "accepted_answer_id": 55702746, "answer_count": 2, "score": 14, "last_activity_date": 1558978070, "creation_date": 1555399267, "question_id": 55702672, "link": "https://stackoverflow.com/questions/55702672/build-failed-after-update-coroutines-to-1-2-0-meta-inf-atomicfu-kotlin-module", "title": "Build failed after update coroutines to 1.2.0: META-INF/atomicfu.kotlin_module", "body": "<p>After update to <code>org.jetbrains.kotlinx:kotlinx-coroutines-android:1.2.0</code> android build failed with issue:\n<code>More than one file was found with OS independent path 'META-INF/atomicfu.kotlin_module'</code></p>\n\n<p>Are there any workaround to make it work?</p>\n"}, {"tags": ["android", "kotlin", "android-espresso"], "answers": [{"tags": [], "owner": {"reputation": 382, "user_id": 8899344, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_nkSOhi1aFo/AAAAAAAAAAI/AAAAAAAABYQ/3Dm_4OED4Ls/photo.jpg?sz=128", "display_name": "TarekB", "link": "https://stackoverflow.com/users/8899344/tarekb"}, "is_accepted": false, "score": 1, "last_activity_date": 1568450186, "last_edit_date": 1568450186, "creation_date": 1562192689, "answer_id": 56878623, "question_id": 55701110, "link": "https://stackoverflow.com/questions/55701110/trying-to-match-text-content-of-spinner-and-text-fields-but-withtext-and-with/56878623#56878623", "title": "Trying to match text content of spinner and text fields but &#39;withText&#39; and &#39;withSpinnerText&#39; are returning data about the components instead", "body": "<p>To remedy this issue, you want to be sure to have androidTestImplementation dependency entries for the following libraries:</p>\n\n<pre><code>androidx.test:core\nandroidx.test:rules\nandroidx.test.ext:junit\nandroidx.test:runner\nandroidx.test.espresso:espresso-core\n</code></pre>\n\n<p>For reference, the following is the dependency section from a project I recently created that relies on AndroidX rather than the Android Support Libraries:</p>\n\n<pre><code>dependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'androidx.appcompat:appcompat:1.0.2'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\nimplementation 'com.google.android.material:material:1.0.0'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'androidx.test:core:1.2.0'\nandroidTestImplementation 'androidx.test:rules:1.2.0'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.1'\nandroidTestImplementation 'androidx.test:runner:1.2.0'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n}\n</code></pre>\n\n<p>credits to <a href=\"https://jwhh.com/2019/06/10/androidx-automated-ui-test-dependencies/\" rel=\"nofollow noreferrer\">Jim Wilson, the author of the same course on Pluralsight</a>.</p>\n"}], "owner": {"reputation": 59, "user_id": 6351553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2796b4eb885727348b7c5b313b2a2e1e?s=128&d=identicon&r=PG&f=1", "display_name": "David Welman", "link": "https://stackoverflow.com/users/6351553/david-welman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1599621734, "creation_date": 1555392435, "question_id": 55701110, "link": "https://stackoverflow.com/questions/55701110/trying-to-match-text-content-of-spinner-and-text-fields-but-withtext-and-with", "title": "Trying to match text content of spinner and text fields but &#39;withText&#39; and &#39;withSpinnerText&#39; are returning data about the components instead", "body": "<p>I'm following the Pluralsight tutorial \"Android Apps with Kotlin: Tools and Testing\" and ran into the following issue:</p>\n\n<p>During Instrumented Tests we check the text in a spinner and two text fields, in the video it just works out but I am running into issues. Here is my test code:</p>\n\n<pre><code>import android.provider.ContactsContract\nimport android.support.test.runner.AndroidJUnit4\nimport org.junit.Assert.*\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport android.support.test.espresso.Espresso.*\nimport android.support.test.espresso.matcher.ViewMatchers.*\nimport android.support.test.espresso.action.ViewActions.*\nimport android.support.test.rule.ActivityTestRule\nimport org.hamcrest.Matchers.*\nimport org.junit.Rule\nimport android.support.test.espresso.assertion.ViewAssertions.matches\nimport android.support.test.espresso.matcher.ViewMatchers.withSpinnerText\nimport android.support.test.espresso.matcher.ViewMatchers.withText\n\n@RunWith(AndroidJUnit4::class)\nclass NextThroughNotesTest {\n    @Rule @JvmField\n    val noteListActivity = ActivityTestRule(NoteListActivity::class.java)\n\n    @Test\n    fun nextThroughNotes() {\n        onData(allOf(instanceOf(NoteInfo::class.java), equalTo(DataManager.notes[0]))).perform(click())\n\n        for (index in 0..DataManager.notes.lastIndex) {\n            val note = DataManager.notes[index]\n\n            onView(withId(R.id.spinnerCourses)).check(\n                matches(withSpinnerText(note.course?.title)))\n            onView(withId(R.id.textNoteTitle)).check(\n                matches(withText(note.title)))\n            onView(withId(R.id.textNoteText)).check(\n                matches(withText(note.text)))\n\n            if (index != DataManager.notes.lastIndex) {\n                onView(allOf(withId(R.id.action_next), isEnabled())).perform()\n            }\n        }\n\n        onView(withId(R.id.action_next)).check(matches(isEnabled()))\n    }\n}\n</code></pre>\n\n<p>Taking a look at the error message I get the following:</p>\n\n<pre><code>android.support.test.espresso.base.DefaultFailureHandler$AssertionFailedWithCauseError: 'with text: is \"Android Programming with Intents\"' doesn't match the selected view.\nExpected: with text: is \"Android Programming with Intents\"\nGot: \"AppCompatSpinner{id=2131230878, res-name=spinnerCourses, visibility=VISIBLE, width=912, height=63, has-focus=false, has-focusable=true, has-window-focus=true, is-clickable=true, is-enabled=true, is-focused=false, is-focusable=true, is-layout-requested=false, is-selected=false, layout-params=android.support.constraint.ConstraintLayout$LayoutParams@1f42cb1, tag=null, root-is-layout-requested=false, has-input-connection=false, x=84.0, y=42.0, child-count=1}\"\n</code></pre>\n\n<p>The error messages are similar if I comment out the line about the spinner. I have tried to add 'containsString' as per a previous StackOverflow solution I found but obviously that doesn't work. What am I doing wrong?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1555392269, "post_id": 55700972, "comment_id": 98083504, "body": "take a look at this post: <a href=\"https://stackoverflow.com/a/44266735/4035036\">stackoverflow.com/a/44266735/4035036</a>"}, {"owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "edited": false, "score": 1, "creation_date": 1555392500, "post_id": 55700972, "comment_id": 98083572, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44266602/why-kotlin-modifier-open-is-incompatible-with-data\">Why Kotlin modifier &#39;open&#39; is incompatible with &#39;data&#39;?</a>"}, {"owner": {"reputation": 538, "user_id": 4129661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3edf4f82816b29a89c7c102f1939c97?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/4129661/abhay-agarwal"}, "edited": false, "score": 0, "creation_date": 1555412375, "post_id": 55700972, "comment_id": 98093988, "body": "<a href=\"https://stackoverflow.com/questions/26444145/extend-data-class-in-kotlin\" title=\"extend data class in kotlin\">stackoverflow.com/questions/26444145/&hellip;</a> See the answer given by Andrey Breslav himself"}], "answers": [{"comments": [{"owner": {"reputation": 19610, "user_id": 5050667, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/3WJfP.jpg?s=128&g=1", "display_name": "Yassin Hajaj", "link": "https://stackoverflow.com/users/5050667/yassin-hajaj"}, "edited": false, "score": 0, "creation_date": 1555393125, "post_id": 55701023, "comment_id": 98083772, "body": "And what if you want to instantiate class A?"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 2, "creation_date": 1555398381, "post_id": 55701023, "comment_id": 98085883, "body": "It doesn&#39;t work. You have to pass param to <code>A</code> constructor."}], "tags": [], "owner": {"reputation": 5210, "user_id": 1343788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttSYv.jpg?s=128&g=1", "display_name": "Mehul Kabaria", "link": "https://stackoverflow.com/users/1343788/mehul-kabaria"}, "is_accepted": false, "score": 1, "last_activity_date": 1555399941, "last_edit_date": 1555399941, "creation_date": 1555391973, "answer_id": 55701023, "question_id": 55700972, "link": "https://stackoverflow.com/questions/55700972/kotlin-data-classes-can-be-inherited/55701023#55701023", "title": "Kotlin - Data classes can be inherited", "body": "<p>you have to do like below.</p>\n\n<pre><code>abstract class A(open val data1 : String) {}\n\ndata class B(val data2 : String) : A(data1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "is_accepted": false, "score": 8, "last_activity_date": 1555393016, "creation_date": 1555393016, "answer_id": 55701197, "question_id": 55700972, "link": "https://stackoverflow.com/questions/55700972/kotlin-data-classes-can-be-inherited/55701197#55701197", "title": "Kotlin - Data classes can be inherited", "body": "<p>The only solution for that, when you need two data class is to create one more abstract class and derive these two data classes from it. You need to notice that data class in kotlin create hashcode, equals and toString, and other methods based on primary constructor, and that's why you need to override fields from Base class in data class constructor.</p>\n\n<pre><code>abstract class Base(open val data1: String)\n\ndata class A(override val data1: String): Base(data1)\n\ndata class B(override val data1: String,  val data2: String): Base(data1)\n</code></pre>\n"}], "owner": {"reputation": 760, "user_id": 9344496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31644b0ff01f07e53c043d1a2cd05774?s=128&d=identicon&r=PG&f=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/9344496/stack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4839, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1618535788, "creation_date": 1555391618, "last_edit_date": 1618535788, "question_id": 55700972, "link": "https://stackoverflow.com/questions/55700972/kotlin-data-classes-can-be-inherited", "title": "Kotlin - Data classes can be inherited", "body": "<p>I need to inherit a data class A from data class B. I know that this is not feasible in <strong>Kotlin</strong>.</p>\n<p><strong>Question 1:</strong><br />\nWhy is this not feasible?</p>\n<p><strong>Question 2:</strong><br />\nWhat may be a solution for this?</p>\n<p>Example:</p>\n<pre><code>data class A(val data1 : String)\ndata class B(val data2 : String) : A()\n</code></pre>\n<p>How can I achieve this in Kotlin?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 927, "user_id": 2435126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e04f38bd377582fdc1d55b5f13092b80?s=128&d=identicon&r=PG", "display_name": "kkarakk", "link": "https://stackoverflow.com/users/2435126/kkarakk"}, "edited": false, "score": 0, "creation_date": 1555393683, "post_id": 55700597, "comment_id": 98083969, "body": "instead of a static background, i recommend you extract colors from the image and set as the background instead - it results in a more pleasing UI <a href=\"https://medium.com/david-developer/extracting-colors-from-images-integrating-picasso-and-palette-b9ba45c9c418\" rel=\"nofollow noreferrer\">medium.com/david-developer/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1223, "user_id": 6796066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3oHGC.jpg?s=128&g=1", "display_name": "Sultan Mahmud", "link": "https://stackoverflow.com/users/6796066/sultan-mahmud"}, "is_accepted": true, "score": 2, "last_activity_date": 1555389398, "creation_date": 1555389398, "answer_id": 55700633, "question_id": 55700597, "link": "https://stackoverflow.com/questions/55700597/how-to-change-slide-background-colour-using-com-glide-slider-library-sliderlayou/55700633#55700633", "title": "how to change slide background colour using com.glide.slider.library.SliderLayout", "body": "<p>In colors.xml file add the below attribute with your desired color:</p>\n\n<pre><code>&lt;color name=\"glide_slider_background_color\"&gt;#FFFFFF&lt;/color&gt;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 8498194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a798757a1ab0be49cd353d48c39c18a?s=128&d=identicon&r=PG&f=1", "display_name": "kate", "link": "https://stackoverflow.com/users/8498194/kate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "accepted_answer_id": 55700633, "answer_count": 1, "score": 1, "last_activity_date": 1555389398, "creation_date": 1555389132, "question_id": 55700597, "link": "https://stackoverflow.com/questions/55700597/how-to-change-slide-background-colour-using-com-glide-slider-library-sliderlayou", "title": "how to change slide background colour using com.glide.slider.library.SliderLayout", "body": "<p>I am using <strong>com.glide.slider.library.SliderLayout</strong> to create an image sliders in my app.\nI'd like to change the background of the slider but I cannot. I tried add background colour in xml, or set background or background colour programmatically, none of them work.\nCan anyone please help me with this?</p>\n\n<p>Here is the code in xml:</p>\n\n<pre><code>&lt;com.glide.slider.library.SliderLayout\n                    android:id=\"@+id/slider\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"250dp\"\n                    custom:auto_cycle=\"true\"\n                    android:background=\"@color/sysWhite\"/&gt;\n</code></pre>\n\n<p>Here is the code to create slide:</p>\n\n<pre><code>val requestOptions = RequestOptions()\n    requestOptions.centerInside()\n\n    for (i in 0..3) {\n        val sliderView = TextSliderView(this)\n        // if you want show image only / without description text use DefaultSliderView instead\n\n        // initialize SliderLayout\n        sliderView\n            .image(imageURL)\n            .setRequestOption(requestOptions)\n            .setProgressBarVisible(true)\n            .setOnSliderClickListener(this)\n\n        //add your extra information\n        sliderView.bundle(Bundle())\n        sliderView.bundle.putString(\"extra\", selectedProduct?.name)\n        slider.addSlider(sliderView)\n    }\n\n    slider.setPresetTransformer(SliderLayout.Transformer.Accordion)\n\n    slider.findViewById&lt;View&gt;(R.id.slider).setBackgroundColor(resources.getColor(R.color.sysWhite))\n\n    slider.setPresetIndicator(SliderLayout.PresetIndicators.Center_Bottom)\n    slider.setCustomAnimation(DescriptionAnimation())\n    slider.setDuration(3000)\n    slider.addOnPageChangeListener(this)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ACP3h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ACP3h.png\" alt=\"screenshot for display\"></a></p>\n"}, {"tags": ["android", "kotlin", "android-spinner"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1555389112, "post_id": 55700562, "comment_id": 98082667, "body": "What exactly do you mean by &quot;the item selection is not working&quot;? That is, what are you expecting to happen when you select an item?"}, {"owner": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 0, "creation_date": 1555389125, "post_id": 55700562, "comment_id": 98082674, "body": "What do mean by not working? and share on selection code"}, {"owner": {"reputation": 43, "user_id": 6907947, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/feab1d5d61ec6304afe0427c8282bc9f?s=128&d=identicon&r=PG", "display_name": "Ahmed Elgameel", "link": "https://stackoverflow.com/users/6907947/ahmed-elgameel"}, "edited": false, "score": 0, "creation_date": 1555389418, "post_id": 55700562, "comment_id": 98082747, "body": "When I select an item, the selection does not show. Also, the selected item returns &#39;-1&#39;"}, {"owner": {"reputation": 43, "user_id": 6907947, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/feab1d5d61ec6304afe0427c8282bc9f?s=128&d=identicon&r=PG", "display_name": "Ahmed Elgameel", "link": "https://stackoverflow.com/users/6907947/ahmed-elgameel"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1555390556, "post_id": 55700562, "comment_id": 98083030, "body": "@MikeM. I&#39;ve added screenshots, please take a look at them and up-vote the question, as someone down-voted it."}, {"owner": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1555391401, "post_id": 55700562, "comment_id": 98083258, "body": "@AhmedElgameel, <code>implements           AdapterView.OnItemSelectedListener</code> and you will get <code>onItemSelected</code> will work for you"}, {"owner": {"reputation": 871, "user_id": 5870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090afb28f773c2af4cc4633b698a2af7?s=128&d=identicon&r=PG", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/5870824/parth-patel"}, "reply_to_user": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 1, "creation_date": 1555391568, "post_id": 55700562, "comment_id": 98083314, "body": "Please make sure that you don&#39;t have set font color white, and also there is a need to handle AdapterView.OnItemSelectedListener as @RakeshKumar told."}, {"owner": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "reply_to_user": {"reputation": 871, "user_id": 5870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090afb28f773c2af4cc4633b698a2af7?s=128&d=identicon&r=PG", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/5870824/parth-patel"}, "edited": false, "score": 0, "creation_date": 1555391713, "post_id": 55700562, "comment_id": 98083346, "body": "@ParthPatel, without that method how he will get the data whatever position he has clicked?"}, {"owner": {"reputation": 871, "user_id": 5870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090afb28f773c2af4cc4633b698a2af7?s=128&d=identicon&r=PG", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/5870824/parth-patel"}, "reply_to_user": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1555391924, "post_id": 55700562, "comment_id": 98083410, "body": "@RakeshKumar Please check below answer given by Muhaiminur Rahman, has added a comment to get selected item by position"}, {"owner": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "reply_to_user": {"reputation": 871, "user_id": 5870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090afb28f773c2af4cc4633b698a2af7?s=128&d=identicon&r=PG", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/5870824/parth-patel"}, "edited": false, "score": 0, "creation_date": 1555394703, "post_id": 55700562, "comment_id": 98084360, "body": "@ParthPatel, That&#39;s what I was meant to say and exactly saying like that"}, {"owner": {"reputation": 1006, "user_id": 1582099, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7ac486bb66d9278da1694047d1c83853?s=128&d=identicon&r=PG", "display_name": "Clocker", "link": "https://stackoverflow.com/users/1582099/clocker"}, "reply_to_user": {"reputation": 871, "user_id": 5870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090afb28f773c2af4cc4633b698a2af7?s=128&d=identicon&r=PG", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/5870824/parth-patel"}, "edited": false, "score": 0, "creation_date": 1590695715, "post_id": 55700562, "comment_id": 109786059, "body": "Like @Parth said and/or not enough width"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6907947, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/feab1d5d61ec6304afe0427c8282bc9f?s=128&d=identicon&r=PG", "display_name": "Ahmed Elgameel", "link": "https://stackoverflow.com/users/6907947/ahmed-elgameel"}, "edited": false, "score": 0, "creation_date": 1555392093, "post_id": 55700914, "comment_id": 98083457, "body": "<code>positions</code> list is retrieved via API call. As you can see in the screenshots, I think there is no problem with the Adapter."}], "tags": [], "owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "is_accepted": false, "score": 0, "last_activity_date": 1555392824, "last_edit_date": 1555392824, "creation_date": 1555391349, "answer_id": 55700914, "question_id": 55700562, "link": "https://stackoverflow.com/questions/55700562/how-to-fix-android-spinner-selection-if-it-is-not-working/55700914#55700914", "title": "How to fix Android Spinner selection if it is not working?", "body": "<p>try using <code>prompt</code> for adding title in .<code>XML</code> file</p>\n\n<pre><code>&lt;Spinner\n          android:id=\"@+id/spinner\"\n          android:layout_width=\"fill_parent\"\n          android:layout_height=\"wrap_content\"\n          android:prompt=\"@string/spinner_title\"/&gt;\n</code></pre>\n\n<p>or try adding 1 more item that contains whatever title you want like \"select position\" on index 0.</p>\n\n<pre><code>positions.add(\"select position\");\npositions.add(\"value 1\");\n</code></pre>\n\n<p>after adding values to list set spinner value to index 0 by default using below code. \n<code>mSpinner.setSelection(0)</code>  .</p>\n\n<p>and on <code>Item Selected</code> check if index 0 or value is \"select position\" then ignore selection else perform action you want.</p>\n\n<pre><code> private lateinit var positions : List&lt;Position&gt;\n\n\n        //add dummy data first\n        positions.add(Position(\"select position\"));\n\n        //Positions from API\n        positions.addAll(APIService.getPositions(this));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2461, "user_id": 3051503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2rNTe.jpg?s=128&g=1", "display_name": "Muhaiminur Rahman", "link": "https://stackoverflow.com/users/3051503/muhaiminur-rahman"}, "is_accepted": false, "score": 0, "last_activity_date": 1555391611, "creation_date": 1555391611, "answer_id": 55700970, "question_id": 55700562, "link": "https://stackoverflow.com/questions/55700562/how-to-fix-android-spinner-selection-if-it-is-not-working/55700970#55700970", "title": "How to fix Android Spinner selection if it is not working?", "body": "<p>Try with this</p>\n\n<pre><code>&lt;Spinner\nandroid:id=\"@+id/spinner\"\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"/&gt;\n</code></pre>\n\n<p>In Kotlin</p>\n\n<pre><code>class MainActivity : /** Other Classes, */AdapterView.OnItemSelectedListener {\n\nvar list_of_items = arrayOf(\"Item 1\", \"Item 2\", \"Item 3\")\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    spinner!!.setOnItemSelectedListener(this)\n\n    // Create an ArrayAdapter using a simple spinner layout and languages array\n    val aa = ArrayAdapter(this, android.R.layout.simple_spinner_item, list_of_items)\n    // Set layout to use when the list of choices appear\n    aa.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n    // Set Adapter to Spinner\n    spinner!!.setAdapter(aa)\n}\n\noverride fun onItemSelected(arg0: AdapterView&lt;*&gt;, arg1: View, position: Int, id:Long{\n    // use position to know the selected item\n    //here you will get the answwer\n}\n\noverride fun onNothingSelected(arg0: AdapterView&lt;*&gt;) {\n\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6907947, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/feab1d5d61ec6304afe0427c8282bc9f?s=128&d=identicon&r=PG", "display_name": "Ahmed Elgameel", "link": "https://stackoverflow.com/users/6907947/ahmed-elgameel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1160, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1555394847, "creation_date": 1555388928, "last_edit_date": 1555394847, "question_id": 55700562, "link": "https://stackoverflow.com/questions/55700562/how-to-fix-android-spinner-selection-if-it-is-not-working", "title": "How to fix Android Spinner selection if it is not working?", "body": "<p>Android Spinner is not working, the API is working and the Spinner's list of items is working. However, the item selection is not working.</p>\n\n<pre><code>class PlayerSignup2Activity : AppCompatActivity() {\n\n    private lateinit var positions : List&lt;Position&gt;\n\n    val positionSpinner = positionsSpinner\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(com.example.app.R.layout.activity_user_signup2)\n\n        //Positions from API\n        positions = APIService.getPositions(this)\n\n        val spinnerAdapter = ArrayAdapter(this, R.layout.spinner_item, positions)\n        spinnerAdapter.setDropDownViewResource(R.layout.spinner_item)\n        positionSpinner.adapter = spinnerAdapter\n\n    }\n</code></pre>\n\n<p>Spinner list\n<a href=\"https://i.stack.imgur.com/mL0h6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mL0h6.jpg\" alt=\"Spinner List\"></a></p>\n\n<p>After selecting any item</p>\n\n<p><a href=\"https://i.stack.imgur.com/wFoAz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wFoAz.jpg\" alt=\"After selecting an item from the list\"></a></p>\n\n<p>Any idea on how to fix this?!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3872, "user_id": 5471104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-VaHYel-EssQ/AAAAAAAAAAI/AAAAAAAAAMs/TI3mU2yIZtE/photo.jpg?sz=128", "display_name": "Mohammed Atif", "link": "https://stackoverflow.com/users/5471104/mohammed-atif"}, "edited": false, "score": 1, "creation_date": 1555387567, "post_id": 55700281, "comment_id": 98082316, "body": "Passing data from activity to another, I think is a simple task that someone will answer below. But what I would suggest is to figure out if you can actually perform that same task in single activity using Fragments? Because what you are currently doing is highly inefficient in terms of performance as well as maintainability."}], "answers": [{"tags": [], "owner": {"reputation": 147, "user_id": 7352736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k5SHi.jpg?s=128&g=1", "display_name": "Igor M.", "link": "https://stackoverflow.com/users/7352736/igor-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1555386790, "creation_date": 1555386790, "answer_id": 55700315, "question_id": 55700281, "link": "https://stackoverflow.com/questions/55700281/how-pass-data-between-more-than-2-activities-kotlin/55700315#55700315", "title": "how pass data between more than 2 activities Kotlin", "body": "<p>Activity TWO</p>\n\n<pre><code>btnNext.setOnClickListener {\n  val i = Intent(this, Activity3::class.java)\n  val VariableTwo = txtVariableTwo.text.toString()\n\n  //THIS WHAT YOU NEED:\n  i.putExtra(\"VARIABLEONE\",intent.getStringExtra(\"VARIABLEONE\"));\n\n  i.putExtra(\"VARIABLETWO\",variableTwo)\n  startActivity(i)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 11332238, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4Nfg-ykz4Hs/AAAAAAAAAAI/AAAAAAAAABs/VRePxVjp4D0/photo.jpg?sz=128", "display_name": "Luis Alberto Garcia Urrutia De", "link": "https://stackoverflow.com/users/11332238/luis-alberto-garcia-urrutia-de"}, "edited": false, "score": 0, "creation_date": 1555971821, "post_id": 55700376, "comment_id": 98272331, "body": "Thx, i try shared preference and its the best solution."}], "tags": [], "owner": {"reputation": 2225, "user_id": 5002179, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/zWz2b.jpg?s=128&g=1", "display_name": "MurugananthamS", "link": "https://stackoverflow.com/users/5002179/murugananthams"}, "is_accepted": false, "score": 0, "last_activity_date": 1555387813, "last_edit_date": 1555387813, "creation_date": 1555387284, "answer_id": 55700376, "question_id": 55700281, "link": "https://stackoverflow.com/questions/55700281/how-pass-data-between-more-than-2-activities-kotlin/55700376#55700376", "title": "how pass data between more than 2 activities Kotlin", "body": "<p>Activity Two</p>\n\n<pre><code> override fun viewAllNotes() {\n    val intent : Intent = Intent(this, ViewAllNotesActivity::class.java)\n     intent .putExtra(\"VARIABLEONE\",variableOne)\n    startActivityForResult(intent, VIEW_ALL_REQUEST_CODE)\n  }\n\n\n  override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n super.onActivityResult(requestCode, resultCode, data)\n if (resultCode == Activity.RESULT_OK){\n    if (requestCode == VIEW_ALL_REQUEST_CODE){\n  //get data here\n        }\n    }\n    }\n }\n</code></pre>\n\n<p>Activity three</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    Intent result = new Intent();\n    result .putExtra(\"VARIABLEONE\",variableOne)        \n    setResult(Activity.RESULT_OK, result);\n    this.finish();\n  }\n</code></pre>\n\n<p>Or else you can store the values using Shared-preference and get values  any where in the project  </p>\n"}, {"tags": [], "owner": {"reputation": 4092, "user_id": 3894930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uNXJu.jpg?s=128&g=1", "display_name": "Dhaval Solanki", "link": "https://stackoverflow.com/users/3894930/dhaval-solanki"}, "is_accepted": false, "score": 0, "last_activity_date": 1555388910, "creation_date": 1555388910, "answer_id": 55700560, "question_id": 55700281, "link": "https://stackoverflow.com/questions/55700281/how-pass-data-between-more-than-2-activities-kotlin/55700560#55700560", "title": "how pass data between more than 2 activities Kotlin", "body": "<p>I can say the same as we passing in java<br>\nThere are many ways<br>\nFrom the one is, You can pass by intent when starting another activity which is proper when you think data at the time of starting the activity like bellow,</p>\n\n<pre><code>val intent = Intent(mActivity, LoginActivity::class.java);\nintent.putExtra(\"keyName\", data)\nstartActivity(intent)\n</code></pre>\n\n<p>Another way you can use preference or store data in preference and you can use where ever you need.</p>\n"}], "owner": {"reputation": 1, "user_id": 11332238, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4Nfg-ykz4Hs/AAAAAAAAAAI/AAAAAAAAABs/VRePxVjp4D0/photo.jpg?sz=128", "display_name": "Luis Alberto Garcia Urrutia De", "link": "https://stackoverflow.com/users/11332238/luis-alberto-garcia-urrutia-de"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 837, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1555392501, "creation_date": 1555386501, "last_edit_date": 1555392501, "question_id": 55700281, "link": "https://stackoverflow.com/questions/55700281/how-pass-data-between-more-than-2-activities-kotlin", "title": "how pass data between more than 2 activities Kotlin", "body": "<p>I need to pass multiple variables between more than two activities. </p>\n\n<p>I know how to pass between one to another, but not from the first to the third.</p>\n\n<p>Activity One</p>\n\n<pre><code>btnNext.setOnClickListener {\n  val i = Intent(this, Activity2::class.java)\n  val variableOne= txtVariableOne.text.toString()\n  i.putExtra(\"VARIABLEONE\",variableOne)\n  startActivity(i)\n}\n\n</code></pre>\n\n<p>Activity TWO</p>\n\n<pre><code>btnNext.setOnClickListener {\n  val i = Intent(this, Activity3::class.java)\n  val VariableTwo = txtVariableTwo.text.toString()\n  i.putExtra(\"VARIABLETWO\",variableTwo)\n  startActivity(i)\n}\n</code></pre>\n\n<p>Activity THREE (This is what I need)</p>\n\n<pre><code>Log.d(\"DEBUG \", \"Value: \" + intent.getStringExtra(\"VARIABLEONE\"))\nLog.d(\"DEBUG \", \"Value: \" + intent.getStringExtra(\"VARIABLETWO\"))\n</code></pre>\n\n<p>I need access <code>VariableOne</code> and <code>VariableTwo</code> from activity Three.</p>\n\n<p>Thank</p>\n"}, {"tags": ["java", "android", "kotlin", "progress-bar", "android-progressbar"], "comments": [{"owner": {"reputation": 419, "user_id": 4958351, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZxzO7OcPByw/AAAAAAAAAAI/AAAAAAAAAXw/9TL_toKfeOo/photo.jpg?sz=128", "display_name": "AIMIN PAN", "link": "https://stackoverflow.com/users/4958351/aimin-pan"}, "edited": false, "score": 1, "creation_date": 1555379120, "post_id": 55699236, "comment_id": 98080643, "body": "have you tried #FF00B0F0 ? the first byte is for alpha channel transparency."}, {"owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "reply_to_user": {"reputation": 419, "user_id": 4958351, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZxzO7OcPByw/AAAAAAAAAAI/AAAAAAAAAXw/9TL_toKfeOo/photo.jpg?sz=128", "display_name": "AIMIN PAN", "link": "https://stackoverflow.com/users/4958351/aimin-pan"}, "edited": false, "score": 0, "creation_date": 1555383826, "post_id": 55699236, "comment_id": 98081571, "body": "Sadly I have, but it didn&#39;t resolve my issue."}], "owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555377301, "creation_date": 1555377301, "question_id": 55699236, "link": "https://stackoverflow.com/questions/55699236/android-make-progressbar-background-color-opacity-100", "title": "Android make progressbar background color opacity 100%", "body": "<p>I am setting up a progressbar background color to a specific blue <code>#00B0F0</code></p>\n\n<p>When I look at the progressbar the color shows up as with as a faded version of the desired color. </p>\n\n<p>I imagine that the progressBackgroundTintList sets a the background color with less opacity.</p>\n\n<p>I'm setting up the progressBar.progressBackgroundTintList this way: </p>\n\n<pre><code>    progressBar.progressBackgroundTintList = ColorStateList.valueOf(context?.resources.getColor(R.color.blue, null))\n</code></pre>\n\n<p>Here is what's in my XML:</p>\n\n<pre><code>&lt;ProgressBar\n    style=\"?android:attr/progressBarStyleHorizontal\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"/&gt;\n</code></pre>\n\n<p>I would like to know if it's possible to set the progressBar.progressBackgroundTintList as a full color</p>\n"}, {"tags": ["java", "kotlin", "kotlin-java-interop"], "answers": [{"tags": [], "owner": {"reputation": 2450, "user_id": 5318240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vyVtK.jpg?s=128&g=1", "display_name": "Pablo Baxter", "link": "https://stackoverflow.com/users/5318240/pablo-baxter"}, "is_accepted": true, "score": 14, "last_activity_date": 1596568957, "last_edit_date": 1596568957, "creation_date": 1555370724, "answer_id": 55698523, "question_id": 55698522, "link": "https://stackoverflow.com/questions/55698522/how-do-you-make-kotlin-static-variables-and-functions-for-java/55698523#55698523", "title": "How do you make Kotlin static variables and functions for Java?", "body": "<p><strong>You can't.</strong> Well, at least in a <em>pure</em> Kotlin project.</p>\n<p>Kotlin has no notion of <code>static</code>. The way <code>static</code> works in a Kotlin-Java project is by use of annotations on the Kotlin classes to tell the JVM that the desired variable/function should be exposed as a <code>static</code> to Java classes.</p>\n<p>The following is an example guide for Kotlin-Java <code>static</code> interop (answer originally posted in <a href=\"https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/54975004#54975004\">What is the equivalent of Java static methods in Kotlin?</a>):</p>\n<blockquote>\n<p><strong>Scenario 1: Creating a static method in Kotlin for Java</strong></p>\n<p><em>Kotlin</em></p>\n<pre><code>@file:JvmName(&quot;KotlinClass&quot;) //This provides a name for this file, so it's not defaulted as [KotlinClassKt] in Java\npackage com.frybits\n\nclass KotlinClass {\n    companion object {\n        \n        //This annotation tells Java classes to treat this method as if it was a static to [KotlinClass]\n        @JvmStatic\n        fun foo(): Int = 1\n        \n        //Without it, you would have to use [KotlinClass.Companion.bar()] to use this method.\n        fun bar(): Int = 2\n    }\n}\n</code></pre>\n<p><em>Java</em></p>\n<pre><code>package com.frybits;\n\nclass JavaClass {\n\n    void someFunction() {\n        println(KotlinClass.foo()); //Prints &quot;1&quot;\n        println(KotlinClass.Companion.bar()); //Prints &quot;2&quot;. This is the only way to use [bar()] in Java.\n        println(KotlinClass.Companion.foo()); //To show that [Companion] is still the holder of the function [foo()]\n    }\n\n    //Because I'm way to lazy to keep typing [System.out], but I still want this to be compilable.\n    void println(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n</blockquote>\n<p>This <a href=\"https://stackoverflow.com/a/40352734/5318240\">answer</a> provides more depth than this, and should definitely be referenced for this scenario.</p>\n<hr />\n<p>This next scenario handles creating static fields in Kotlin so that Java doesn't have to keep calling <code>KotlinClass.foo()</code> for those cases where you don't want a static function.</p>\n<blockquote>\n<p><strong>Scenario 2: Creating a static variable in Kotlin for Java</strong></p>\n<p><em>Kotlin</em></p>\n<pre><code>@file:JvmName(&quot;KotlinClass&quot;) //This provides a name for this file, so it's not defaulted as [KotlinClassKt] in Java\npackage com.frybits\n\nclass KotlinClass {\n\n    companion object {\n\n        //This annotation tells Kotlin to not generate the getter/setter functions in Java. Instead, this variable should be accessed directly\n        //Also, this is similar to [@JvmStatic], in which it tells Java to treat this as a static variable to [KotlinClass].\n        @JvmField\n        var foo: Int = 1\n\n        //If you want something akin to [final static], and the value is a primitive or a String, you can use the keyword [const] instead\n        //No annotation is needed to make this a field of [KotlinClass]. If the declaration is a non-primitive/non-String, use @JvmField instead\n        const val dog: Int = 1\n\n        //This will be treated as a member of the [Companion] object only. It generates the getter/setters for it.\n        var bar: Int = 2\n\n        //We can still use [@JvmStatic] for 'var' variables, but it generates getter/setters as functions of KotlinClass\n        //If we use 'val' instead, it only generates a getter function\n        @JvmStatic\n        var cat: Int = 9\n    }\n}\n</code></pre>\n<p><em>Java</em></p>\n<pre><code>package com.frybits;\n\nclass JavaClass {\n\n    void someFunction() {\n        //Example using @JvmField\n        println(KotlinClass.foo); //Prints &quot;1&quot;\n        KotlinClass.foo = 3;\n\n        //Example using 'const val'\n        println(KotlinClass.dog); //Prints &quot;1&quot;. Notice the lack of a getter function\n\n        //Example of not using either @JvmField, @JvmStatic, or 'const val'\n        println(KotlinClass.Companion.getBar()); //Prints &quot;2&quot;\n        KotlinClass.Companion.setBar(3); //The setter for [bar]\n\n        //Example of using @JvmStatic instead of @JvmField\n        println(KotlinClass.getCat());\n        KotlinClass.setCat(0);\n    }\n\n    void println(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n</blockquote>\n<hr />\n<p>One of the great features about Kotlin is that you can create top level functions and variables. This makes it greate to create &quot;classless&quot; lists of constant fields and functions, which in turn can be used as <code>static</code> functions/fields in Java.</p>\n<blockquote>\n<p><strong>Scenario 3: Accessing top level fields and functions in Kotlin from Java</strong></p>\n<p><em>Kotlin</em></p>\n<pre><code>//In this example, the file name is &quot;KSample.kt&quot;. If this annotation wasn't provided, all functions and fields would have to accessed\n//using the name [KSampleKt.foo()] to utilize them in Java. Make life easier for yourself, and name this something more simple\n@file:JvmName(&quot;KotlinUtils&quot;)\n\npackage com.frybits\n\n//This can be called from Java as [KotlinUtils.TAG]. This is a final static variable\nconst val TAG = &quot;You're it!&quot;\n\n//Since this is a top level variable and not part of a companion object, there's no need to annotate this as &quot;static&quot; to access in Java.\n//However, this can only be utilized using getter/setter functions\nvar foo = 1\n\n//This lets us use direct access now\n@JvmField\nvar bar = 2\n\n//Since this is calculated at runtime, it can't be a constant, but it is still a final static variable. Can't use &quot;const&quot; here.\nval GENERATED_VAL:Long = &quot;123&quot;.toLong()\n\n//Again, no need for @JvmStatic, since this is not part of a companion object\nfun doSomethingAwesome() {\n    println(&quot;Everything is awesome!&quot;)\n}\n</code></pre>\n<p><em>Java</em></p>\n<pre><code>package com.frybits;\n\nclass JavaClass {\n\n    void someFunction() {\n\n        println(KotlinUtils.TAG); //Example of printing [TAG]\n\n\n        //Example of not using @JvmField.\n        println(KotlinUtils.getFoo()); //Prints &quot;1&quot;\n        KotlinUtils.setFoo(3);\n\n        //Example using @JvmField\n        println(KotlinUtils.bar); //Prints &quot;2&quot;. Notice the lack of a getter function\n        KotlinUtils.bar = 3;\n\n        //Since this is a top level variable, no need for annotations to use this\n        //But it looks awkward without the @JvmField\n        println(KotlinUtils.getGENERATED_VAL());\n\n        //This is how accessing a top level function looks like\n        KotlinUtils.doSomethingAwesome();\n    }\n\n    void println(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n</blockquote>\n<hr />\n<p>Another notable mention that can be used in Java as &quot;static&quot; fields are Kotlin <code>object</code> classes. These are zero parameter singleton classes that are instantiated lazily on first use. More information about them can be found here: <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations</a></p>\n<p>However, to access the singleton, a special <code>INSTANCE</code> object is created, which is just as cumbersome to deal with as <code>Companion</code> is. Here's how to use annotations to give it that clean <code>static</code> feel in Java:</p>\n<blockquote>\n<p><strong>Scenario 4: Using <code>object</code> classes</strong></p>\n<p><em>Kotlin</em></p>\n<pre><code>// There is no more need for the @file:JvmName() annotation. The object class below already handles the proper naming.\n\n//This provides a name for this file, so it's not defaulted as [KotlinClassKt] in Java\npackage com.frybits\n\nobject KotlinClass { //No need for the 'class' keyword here.\n\n    //Direct access to this variable\n    const val foo: Int = 1\n\n    //Tells Java this can be accessed directly from [KotlinClass]\n    @JvmStatic\n    var cat: Int = 9\n\n    //Just a function that returns the class name\n    @JvmStatic\n    fun getCustomClassName(): String = this::class.java.simpleName + &quot;boo!&quot;\n\n    //Getter/Setter access to this variable, but isn't accessible directly from [KotlinClass]\n    var bar: Int = 2\n\n    fun someOtherFunction() = &quot;What is 'INSTANCE'?&quot;\n}\n</code></pre>\n<p><em>Java</em></p>\n<pre><code>package com.frybits;\n\nclass JavaClass {\n\n    void someFunction() {\n        println(KotlinClass.foo); //Direct read of [foo] in [KotlinClass] singleton\n\n        println(KotlinClass.getCat()); //Getter of [cat]\n        KotlinClass.setCat(0); //Setter of [cat]\n\n        println(KotlinClass.getCustomClassName()); //Example of using a function of this 'object' class\n\n        println(KotlinClass.INSTANCE.getBar()); //This is what the singleton would look like without using annotations\n        KotlinClass.INSTANCE.setBar(23);\n\n        println(KotlinClass.INSTANCE.someOtherFunction()); //Accessing a function in the object class without using annotations\n    }\n\n    void println(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 2450, "user_id": 5318240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vyVtK.jpg?s=128&g=1", "display_name": "Pablo Baxter", "link": "https://stackoverflow.com/users/5318240/pablo-baxter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3591, "favorite_count": 2, "accepted_answer_id": 55698523, "answer_count": 1, "score": 7, "last_activity_date": 1596568957, "creation_date": 1555370724, "last_edit_date": 1555828359, "question_id": 55698522, "link": "https://stackoverflow.com/questions/55698522/how-do-you-make-kotlin-static-variables-and-functions-for-java", "title": "How do you make Kotlin static variables and functions for Java?", "body": "<p>Since Google made Kotlin a first class language for Android, there has been an increase in questions relating to how to perform certain things in Kotlin, \"Java-esque\" style. The most common ones are how to make <code>static</code> variables in Kotlin. So how do you make Kotlin <code>static</code> variables and functions?</p>\n"}, {"tags": ["xml", "intellij-idea", "kotlin", "gitignore"], "comments": [{"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1555382416, "post_id": 55697947, "comment_id": 98081293, "body": "See <a href=\"https://intellij-support.jetbrains.com/hc/articles/206544839\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/articles/206544839</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11273234, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p95TEcyCDdc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfbDA9pcpzXpVfFrwdUSmWVuzGL7g/mo/photo.jpg?sz=128", "display_name": "Oddie", "link": "https://stackoverflow.com/users/11273234/oddie"}, "is_accepted": false, "score": 0, "last_activity_date": 1567752328, "creation_date": 1567752328, "answer_id": 57816985, "question_id": 55697947, "link": "https://stackoverflow.com/questions/55697947/idea-compiler-xml-in-gitignore/57816985#57816985", "title": ".idea/compiler.xml in .gitignore?", "body": "<p>Correct me if I'm wrong, but I think it's all good. You can probably put .idea/* in .gitignore. I am currently working on a project in uni and we've had some startup issues with .idea/compiler.xml being changed back and forth, and I think it was because someone used java 11 when the rest of us used java 12. So be mindfull about that.</p>\n"}], "owner": {"reputation": 2090, "user_id": 8588359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiqvE.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/8588359/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2353, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1567752328, "creation_date": 1555366648, "question_id": 55697947, "link": "https://stackoverflow.com/questions/55697947/idea-compiler-xml-in-gitignore", "title": ".idea/compiler.xml in .gitignore?", "body": "<p>Whenever I <code>gradle build</code> my Spring app in IntelliJ, <code>compiler.xml</code> gets modified and shows up in my <code>git status</code>.</p>\n\n<p>Is it safe to put compiler.xml file in .gitignore with the other <code>.idea/</code> files?</p>\n"}, {"tags": ["android", "xml", "kotlin", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "is_accepted": false, "score": 0, "last_activity_date": 1555367088, "creation_date": 1555367088, "answer_id": 55698021, "question_id": 55697945, "link": "https://stackoverflow.com/questions/55697945/recyclerview-only-shows-1-item-when-i-use-linearlayout-instead-of-cardview-as-th/55698021#55698021", "title": "RecyclerView only shows 1 item when I use LinearLayout instead of CardView as the parent XML layout", "body": "<p>My LinearLayout had <code>android:layout_height=\"match_parent\"</code> so the 1 item was taking up the whole screen - that was the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 295, "user_id": 8602105, "user_type": "registered", "profile_image": "https://graph.facebook.com/1542128099179804/picture?type=large", "display_name": "DIVYA PRAKASH", "link": "https://stackoverflow.com/users/8602105/divya-prakash"}, "is_accepted": false, "score": 0, "last_activity_date": 1555499385, "creation_date": 1555499385, "answer_id": 55726185, "question_id": 55697945, "link": "https://stackoverflow.com/questions/55697945/recyclerview-only-shows-1-item-when-i-use-linearlayout-instead-of-cardview-as-th/55726185#55726185", "title": "RecyclerView only shows 1 item when I use LinearLayout instead of CardView as the parent XML layout", "body": "<p>Exactly, either you can set <code>android:layout_height=\"wrap_content\"</code> or fix height as per your view requirement. See this is very common among android developers. Good Luck for next time.</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555499385, "creation_date": 1555366641, "question_id": 55697945, "link": "https://stackoverflow.com/questions/55697945/recyclerview-only-shows-1-item-when-i-use-linearlayout-instead-of-cardview-as-th", "title": "RecyclerView only shows 1 item when I use LinearLayout instead of CardView as the parent XML layout", "body": "<p>Here's my XML Fragment:</p>\n\n<p><strong>fragment_leaderboards.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\" \nandroid:background=\"@color/colorPrimary\"&gt;\n\n&lt;android.support.v7.widget.RecyclerView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/leaderboards_list\"\n    android:scrollbars=\"vertical\"&gt;\n\n&lt;/android.support.v7.widget.RecyclerView&gt;\n</code></pre>\n\n<p></p>\n\n<p>and my custom view for the LayoutInflater of the ViewHolder:</p>\n\n<p><strong>leaderboard_item.xml</strong></p>\n\n<pre><code>    &lt;LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@android:color/white\"\n        android:baselineAligned=\"false\"\n        android:orientation=\"horizontal\"\n        android:padding=\"5dp\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/leaderboard_name\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"5dp\"\n        android:layout_weight=\"1\"\n        android:text=\"Title\"\n        android:textColor=\"#000000\"\n        android:textSize=\"18sp\"\n        android:textStyle=\"bold\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/imgShare\"\n        android:layout_width=\"30dp\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"center\"\n        android:src=\"@android:drawable/ic_menu_share\"\n        android:tint=\"#eeeeee\"/&gt;\n    &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>The above XML will only show 1 item of my RecyclerView. It will also show only 1 item of RecyclerView if I put the CardView inside the LinearLayout: <code>&lt;LinearLayout&gt;&lt;Cardview&gt;...&lt;/Cardview&gt;&lt;/LinearLayout&gt;</code></p>\n\n<p>However, if I wrap the <code>LinearLayout</code>in a <code>CardView</code>, it will show all items (which is 2 at the moment): <code>&lt;Cardview&gt;&lt;LinearLayout&gt;...&lt;/LinearLayout&gt;&lt;/Cardview&gt;</code>.</p>\n\n<p>Why is this?</p>\n\n<p>Here's my Kotlin code if you're curious:</p>\n\n<p><strong>fragment</strong></p>\n\n<pre><code>    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_leaderboards, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        val viewManager: RecyclerView.LayoutManager = LinearLayoutManager(activity, LinearLayoutManager.VERTICAL, false)\n        val viewAdapter: RecyclerView.Adapter&lt;*&gt; = LeaderboardsAdapter(arrayListOf(Player(\"James\", 23, \"male\"), Player(\"Jane\", 22, \"female\")))\n        val recyclerView: RecyclerView = leaderboards_list.apply {\n            adapter = viewAdapter\n            layoutManager = viewManager\n            setHasFixedSize(true)\n        }\n    }\n</code></pre>\n\n<p><strong>LeaderboardsAdapter.kt</strong></p>\n\n<pre><code>class LeaderboardsAdapter(private val players: ArrayList&lt;Player&gt;) : RecyclerView.Adapter&lt;LeaderboardsAdapter.ViewHolder&gt;(){\n\n    class ViewHolder(val v: View) : RecyclerView.ViewHolder(v)\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): LeaderboardsAdapter.ViewHolder {\n        Log.d(\"Viewgroup\", \"$parent.toString() $parent.\")\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.leaderboard_item, parent, false)\n        return ViewHolder(view)\n    }\n\n    override fun onBindViewHolder(holder: LeaderboardsAdapter.ViewHolder, position: Int) {\n        holder.v.leaderboard_name.text = players[position].name\n    }\n\n    override fun getItemCount(): Int = players.size\n\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1555365554, "post_id": 55697754, "comment_id": 98077838, "body": "Why Any instead of PersonFindDTO?"}, {"owner": {"reputation": 303, "user_id": 9910654, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hRoyXFDnkPo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq09IaNybHiPDJ2argdD2c-JdOauEQ/mo/photo.jpg?sz=128", "display_name": "Rodrigo Batista", "link": "https://stackoverflow.com/users/9910654/rodrigo-batista"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1555365635, "post_id": 55697754, "comment_id": 98077866, "body": "I tried both and without success. I&#39;ll update my question. Just a moment"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 2, "creation_date": 1555366144, "post_id": 55697754, "comment_id": 98078001, "body": "Try <code>it.map { LegalPersonMPage(id = it.id, tradeName = it.tradeName, companyName = it.companyName, cnpj = it.cnpj) }</code>. You are just defining a function inside <code>map</code>, but you are not calling it."}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1555399910, "post_id": 55700734, "comment_id": 98086682, "body": "<code>it</code> is undefined in <code>toLegalPersonMPage</code>. Do you mean <code>this</code>?"}], "tags": [], "owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "is_accepted": true, "score": 1, "last_activity_date": 1555405498, "last_edit_date": 1555405498, "creation_date": 1555390069, "answer_id": 55700734, "question_id": 55697754, "link": "https://stackoverflow.com/questions/55697754/kotlin-map-a-class-to-another-class/55700734#55700734", "title": "Kotlin, map a class to another class", "body": "<p>The function <code>LegalPerson.toLegalPersonMPage()</code> is defined but never called. To make this clearer define the function outside of <code>map {...}</code> and call it inside of <code>map {...}</code>.</p>\n\n<pre><code>fun LegalPerson.toLegalPersonMPage() = LegalPersonMPage(id = this.id,\n    tradeName = this.tradeName, companyName = this.companyName, cnpj = this.cnpj)\n\n\n@GetMapping(value = [\"/{companyId}/{active}\"])\noverride fun findAll(\n    @RequestParam(value = \"page\", defaultValue = \"0\") page: Int,\n    @RequestParam(value = \"linesPerPage\", defaultValue = \"24\") linesPerPage: Int,\n    @RequestParam(value = \"order\", defaultValue = \"ASC\") order: String,\n    @RequestParam(value = \"orderBy\", defaultValue = \"tradeName\") orderBy: String,\n    @PathVariable companyId: Long, @PathVariable active: Boolean): ResponseEntity&lt;Page&lt;Any&gt;&gt; {\n\n    val lp = service.findAll(page, linesPerPage, order, orderBy, companyId, active)?.let {\n        it.map { legalPerson -&gt; legalPerson.toLegalPersonMPage() }\n    }\n    return ResponseEntity.ok().body(lp)\n}\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 9910654, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hRoyXFDnkPo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq09IaNybHiPDJ2argdD2c-JdOauEQ/mo/photo.jpg?sz=128", "display_name": "Rodrigo Batista", "link": "https://stackoverflow.com/users/9910654/rodrigo-batista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 55700734, "answer_count": 1, "score": 0, "last_activity_date": 1555405498, "creation_date": 1555365307, "last_edit_date": 1555390149, "question_id": 55697754, "link": "https://stackoverflow.com/questions/55697754/kotlin-map-a-class-to-another-class", "title": "Kotlin, map a class to another class", "body": "<p>I'm creating an API rest and I need it when I do \"find ALL\" instead of fetching all the data, I just fetch a few. With Java I did it this way:</p>\n\n<pre><code> @GetMapping(value = \"/pagina\")\n    public ResponseEntity&lt;Page&lt;PersonFindDTO&gt;&gt; findAll(\n            @RequestParam(value = \"page\", defaultValue = \"0\") Integer page,\n            @RequestParam(value = \"linesPerPage\", defaultValue = \"24\") Integer linesPerPage,\n            @RequestParam(value = \"order\", defaultValue = \"ASC\") String order,\n            @RequestParam(value = \"orderBy\", defaultValue = \"name\") String orderBy) {\n\n\n        var person = personService.findAll(page, linesPerPage, order, orderBy);\n\n        var personFindDto = person.map(PersonFindDTO::new);\n\n        return ResponseEntity.ok().body(personFindDTO);\n    }\n</code></pre>\n\n<p>With Kotlin, I'm trying this way:</p>\n\n<pre><code>   @GetMapping(value = [\"/{companyId}/{active}\"])\n    override fun findAll(\n            @RequestParam(value = \"page\", defaultValue = \"0\") page: Int,\n            @RequestParam(value = \"linesPerPage\", defaultValue = \"24\") linesPerPage: Int,\n            @RequestParam(value = \"order\", defaultValue = \"ASC\") order: String,\n            @RequestParam(value = \"orderBy\", defaultValue = \"tradeName\") orderBy: String,\n            @PathVariable companyId: Long, @PathVariable active: Boolean): ResponseEntity&lt;Page&lt;Any&gt;&gt; {\n\n        val lp = service.findAll(page, linesPerPage, order, orderBy, companyId, active)?.let {\n            it.map {\n                fun LegalPerson.toLegalPersonMPage() = LegalPersonMPage(id = it.id,\n                        tradeName = it.tradeName, companyName = it.companyName, cnpj = it.cnpj)\n            }\n        }\n        return ResponseEntity.ok().body(lp)\n    }\n</code></pre>\n\n<p>But the return is always empty. Could anyone help? Please.</p>\n\n<p>UPDATE:</p>\n\n<p>My LegalPerson Class</p>\n\n<pre><code>data class LegalPerson(\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  override var id: Long,\n  @Column(nullable = false)\n  val companyId: Long,\n  @Column(nullable = false)\n  var active: Boolean,\n  @Column(nullable = false, length = 100)\n  val tradeName: String,\n  @Column(nullable = false, length = 100)\n  val companyName: String,\n  @Column(nullable = false, length = 100)\n  val email: String,\n  @Column(nullable = false, length = 18)\n  val cnpj: String,\n  @Column(length = 15)\n  val stateRegistration: String,\n  @Column(length = 15)\n  val municipalRegistration: String,\n  @Column(nullable = false)\n  val openingDate: LocalDate,\n  @Column(nullable = false)\n  val address: Long,\n  @ElementCollection(fetch = FetchType.EAGER)\n  @CollectionTable(name = \"phone\", schema = \"legal_person\")\n  val phones: List&lt;Long&gt;\n) \n</code></pre>\n\n<p>My LegalPersonMPage class</p>\n\n<pre><code>data class LegalPersonMPage(\n\n        val id: Long,\n        val tradeName: String,\n        val companyName: String,\n        val cnpj: String\n)  {\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 3, "creation_date": 1555369635, "post_id": 55698049, "comment_id": 98078831, "body": "There&#39;s actually a bunch of built-in scoping functions that come in handy depending on context: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\"><code>let</code></a> <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"nofollow noreferrer\"><code>run</code></a> <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/also.html\" rel=\"nofollow noreferrer\"><code>also</code></a> <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\"><code>apply</code></a>."}], "tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": true, "score": 3, "last_activity_date": 1555367273, "creation_date": 1555367273, "answer_id": 55698049, "question_id": 55697733, "link": "https://stackoverflow.com/questions/55697733/kotlin-null-check-in-if-block/55698049#55698049", "title": "Kotlin: Null check in if block", "body": "<p>In your initial example, is your <code>var</code> local to a function? For example:</p>\n\n<pre><code>fun doStuff() {\n    var testVar: String? = null\n\n    if (testVar != null) {\n        println(testVar.length)\n    }\n}\n</code></pre>\n\n<p>In this case, no other scope has reference to <code>testVar</code> so nothing else can change it. However, if the <code>var</code> is a class property, i.e.</p>\n\n<pre><code>class MyClass {\n    var testVar: String? = null\n\n    fun doStuff() {\n        if (testVar != null) {\n            println(testVar.length)\n        }\n    }\n}\n</code></pre>\n\n<p>This will fail to compile as <code>testVar</code> could have been set to null by another thread in between the check and the usage. </p>\n\n<p>Going further, if you try to be tricky:</p>\n\n<pre><code>fun doStuff() {\n    var testVar: String? = null\n\n    fun trickyFunction() {\n        testVar = null\n    }\n\n    if (testVar != null) {\n        trickyFunction()\n        println(testVar.length)\n    }\n}\n</code></pre>\n\n<p>The compiler will fail as your variable is captured by a changing closure. So in general, if you are able to use the variable via a smart-cast to non-null, you should not have to worry about any potential for NPEs.</p>\n\n<p>For the second scenario (var properties) it is preferable to rely on <code>.let</code> to capture an immutable reference to the current value, i.e.</p>\n\n<pre><code>testVar?.let { capturedTestVar -&gt;\n    println(capturedTestVar.length)\n}\n</code></pre>\n"}], "owner": {"reputation": 2795, "user_id": 3236788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/h40nF.jpg?s=128&g=1", "display_name": "Kasra", "link": "https://stackoverflow.com/users/3236788/kasra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 55698049, "answer_count": 1, "score": 0, "last_activity_date": 1555367273, "creation_date": 1555365183, "question_id": 55697733, "link": "https://stackoverflow.com/questions/55697733/kotlin-null-check-in-if-block", "title": "Kotlin: Null check in if block", "body": "<p>I started to learn Kotlin recently. One thing I can't get my head around is the null check blocks. The following statement is considered unsafe, and the compiler won't allow you to compile this.</p>\n\n<pre><code>    var testVar: String? = null;\n\n    // if (testVar != null )\n    {\n        // Doing some work....\n        println(testVar.length)\n    }\n</code></pre>\n\n<p>But when you uncomment the <code>if</code> line, everything works. This seems great. </p>\n\n<p><strong>But what if</strong> <code>// Doing some work....</code> is computationally expensive and another thread changes the value of <code>testVar</code> to <code>null</code> while this thread is in <code>// Doing some work</code> line? In this scenario:</p>\n\n<ul>\n<li>Does the program throw a NullPointerException?</li>\n<li>&nbsp; &nbsp; &nbsp;   OR:</li>\n<li>Does the bytecode cache the value of testVar and use the cached value inside the if block?</li>\n</ul>\n"}, {"tags": ["java", "jpa", "kotlin", "axon"], "comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1555364643, "post_id": 55697586, "comment_id": 98077553, "body": "Are you familiar with the basics of pure-Java JPA? Are you using the Kotlin JPA plugin?"}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1555364765, "post_id": 55697586, "comment_id": 98077592, "body": "@chrylis, I&#39;m pretty new to JPA in all forms: Java and Kotlin. No plugins in use."}, {"owner": {"reputation": 653, "user_id": 1164536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T0gEd.jpg?s=128&g=1", "display_name": "Ioseb Khutsishvili", "link": "https://stackoverflow.com/users/1164536/ioseb-khutsishvili"}, "edited": false, "score": 0, "creation_date": 1555365105, "post_id": 55697586, "comment_id": 98077702, "body": "check your <code>persistence.xml</code>, your entity must be mapped to datasource or all entities must be automatically mapped by config"}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "reply_to_user": {"reputation": 653, "user_id": 1164536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T0gEd.jpg?s=128&g=1", "display_name": "Ioseb Khutsishvili", "link": "https://stackoverflow.com/users/1164536/ioseb-khutsishvili"}, "edited": false, "score": 0, "creation_date": 1555365250, "post_id": 55697586, "comment_id": 98077740, "body": "@Ioseb, I don&#39;t have a persistence.xml, as I&#39;m copying from a working example which doesn&#39;t have one. Is it required?"}, {"owner": {"reputation": 653, "user_id": 1164536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T0gEd.jpg?s=128&g=1", "display_name": "Ioseb Khutsishvili", "link": "https://stackoverflow.com/users/1164536/ioseb-khutsishvili"}, "edited": false, "score": 0, "creation_date": 1555365392, "post_id": 55697586, "comment_id": 98077788, "body": "@JonathanM is this spring app or regular java/hibernate project ?"}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "reply_to_user": {"reputation": 653, "user_id": 1164536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T0gEd.jpg?s=128&g=1", "display_name": "Ioseb Khutsishvili", "link": "https://stackoverflow.com/users/1164536/ioseb-khutsishvili"}, "edited": false, "score": 0, "creation_date": 1555365429, "post_id": 55697586, "comment_id": 98077805, "body": "@Ioseb it&#39;s a Spring app."}, {"owner": {"reputation": 653, "user_id": 1164536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T0gEd.jpg?s=128&g=1", "display_name": "Ioseb Khutsishvili", "link": "https://stackoverflow.com/users/1164536/ioseb-khutsishvili"}, "edited": false, "score": 0, "creation_date": 1555365587, "post_id": 55697586, "comment_id": 98077849, "body": "@JonathanM make sure <code>ProjectedQuote</code> class has <code>@Entity</code> annotation"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1555381021, "post_id": 55697586, "comment_id": 98081036, "body": "JPA has a number of specific requirements on entity classes, and entity types also need to be registered with the provider (Hibernate in this case; Spring <code>@EntityScan</code> is the best option for you). I would suggest learning JPA with plain Java, but if that&#39;s not an option, you definitely need the JPA plugin to override some Kotlin defaults that aren&#39;t compatible with the JPA model."}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "reply_to_user": {"reputation": 653, "user_id": 1164536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T0gEd.jpg?s=128&g=1", "display_name": "Ioseb Khutsishvili", "link": "https://stackoverflow.com/users/1164536/ioseb-khutsishvili"}, "edited": false, "score": 0, "creation_date": 1555426115, "post_id": 55697586, "comment_id": 98102685, "body": "@IosebKhutsishvili, it turns out there was an <code>@Entity</code> annotation. Please see my update above. Sorry for the confusion."}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1555426385, "post_id": 55697586, "comment_id": 98102865, "body": "@chrylis, I&#39;ll dive into that. I&#39;m a bit confused because the working example I have (the Axon gift card demo) does what I&#39;m trying to do, and it does so without <code>@EntityScan</code> or other efforts. It just uses <code>@Entity</code>. The applicable code from the gift card demo is here: <a href=\"https://github.com/AxonIQ/giftcard-demo/blob/master/src/main/java/io/axoniq/demo/giftcard/api/api.kt\" rel=\"nofollow noreferrer\">github.com/AxonIQ/giftcard-demo/blob/master/src/main/java/io&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1555437861, "post_id": 55697586, "comment_id": 98108843, "body": "By default, Spring Boot&#39;s starters will generally scan the main class&#39;s package recursively for components, entities, repositories, and other stuff. I always put it in its own separate package and so need <code>@EntityScan</code>."}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1555441753, "post_id": 55697586, "comment_id": 98110718, "body": "@chrylis, ah, yes, that is the difference between the working example and my app. The working example has the entities in the same package as the application, but mine has them in different packages. Much thanks."}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1555442467, "post_id": 55697586, "comment_id": 98111020, "body": "@chrylis, I&#39;ve added <code>@EntityScan(basePackages={&quot;com.mycompany.myapp.query&quot;, &quot;com.mycompany.myapp.command.domain&quot;})</code> to my application, but I&#39;m getting immediate runtime errors now: &quot;org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sagaStore&#39; defined in class path resource [org/axonframework/springboot/autoconfig/JpaAutoConfiguratio&zwnj;&#8203;n.class]: Bean instantiation via factory method failed...&quot; It appears that this has broken some Axon stuff."}], "answers": [{"comments": [{"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1555364715, "post_id": 55697628, "comment_id": 98077569, "body": "Wondered about that, but had a working example that did not have the @Entity (though it appeared on the structure above it). Is there a doc you can point me to?"}, {"owner": {"reputation": 11683, "user_id": 1570854, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ef6Ng.jpg?s=128&g=1", "display_name": "Lesiak", "link": "https://stackoverflow.com/users/1570854/lesiak"}, "reply_to_user": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1555365081, "post_id": 55697628, "comment_id": 98077695, "body": "Did it have XML mapping?"}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1555365155, "post_id": 55697628, "comment_id": 98077717, "body": "I&#39;ve not created any because my working example didn&#39;t have any either. Is it required?"}, {"owner": {"reputation": 11683, "user_id": 1570854, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ef6Ng.jpg?s=128&g=1", "display_name": "Lesiak", "link": "https://stackoverflow.com/users/1570854/lesiak"}, "reply_to_user": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1555365260, "post_id": 55697628, "comment_id": 98077745, "body": "No, not at all. It was used before annotations were introduced to Java. Just guessing why your example worked without the annotation."}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1555365306, "post_id": 55697628, "comment_id": 98077756, "body": "Gotcha. I&#39;ll try the annotation."}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1555426480, "post_id": 55697628, "comment_id": 98102923, "body": "@Lesiak, you were right, but it turns out I already have the <code>@Entity</code> annotation in the code. Please take a look at my update in the original question above. Any additional insights are appreciated."}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1555443375, "post_id": 55697628, "comment_id": 98111392, "body": "@Lesiak, I&#39;ve added <code>@EntityScan(basePackages={&quot;com.mycompany.myapp.query&quot;, &quot;com.mycompany.myapp.command.domain&quot;})</code> to my application, but I&#39;m getting immediate runtime errors now: &quot;org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sagaStore&#39; defined in class path resource [org/axonframework/springboot/autoconfig/JpaAutoConfiguratio&zwnj;&#8203;n.class]: Bean instantiation via factory method failed...&quot; It appears that this has broken some Axon stuff."}, {"owner": {"reputation": 11683, "user_id": 1570854, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ef6Ng.jpg?s=128&g=1", "display_name": "Lesiak", "link": "https://stackoverflow.com/users/1570854/lesiak"}, "edited": false, "score": 0, "creation_date": 1555447295, "post_id": 55697628, "comment_id": 98113015, "body": "Where is your app in the package hierarchy? Does removing the EntityScan and relying on the default solves the issue? It looks like someone had exactly same issue <a href=\"https://github.com/AxonFramework/AxonFramework/issues/245\" rel=\"nofollow noreferrer\">github.com/AxonFramework/AxonFramework/issues/245</a>"}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1555447426, "post_id": 55697628, "comment_id": 98113076, "body": "@Lesiak, I&#39;ve added some updates to the question. My app is in <code>com.mycompany.myapp.query</code>. Removing the <code>@EntityScan</code> only gets me back to my original error of <code>Unknown Entity</code>."}, {"owner": {"reputation": 11683, "user_id": 1570854, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ef6Ng.jpg?s=128&g=1", "display_name": "Lesiak", "link": "https://stackoverflow.com/users/1570854/lesiak"}, "edited": false, "score": 0, "creation_date": 1555447638, "post_id": 55697628, "comment_id": 98113188, "body": "Put your app in com.mycompany.myapp, this should do the trick. (Entityscan removed)"}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1555447999, "post_id": 55697628, "comment_id": 98113346, "body": "Yes, but the myapp portion of the package name is actually host to four apps - query, command, ui, uiserver. Thus we&#39;ve put each into its own space. Is there no way to make JPA recognize entities in multiple packages? Isn&#39;t that the purpose of @EntityScan?"}, {"owner": {"reputation": 11683, "user_id": 1570854, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ef6Ng.jpg?s=128&g=1", "display_name": "Lesiak", "link": "https://stackoverflow.com/users/1570854/lesiak"}, "reply_to_user": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1555448217, "post_id": 55697628, "comment_id": 98113441, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/191940/discussion-between-lesiak-and-jonathan-m\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 11683, "user_id": 1570854, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ef6Ng.jpg?s=128&g=1", "display_name": "Lesiak", "link": "https://stackoverflow.com/users/1570854/lesiak"}, "is_accepted": true, "score": 2, "last_activity_date": 1557408508, "last_edit_date": 1557408508, "creation_date": 1555364584, "answer_id": 55697628, "question_id": 55697586, "link": "https://stackoverflow.com/questions/55697586/unknown-entity-when-calling-entitymanager-persist/55697628#55697628", "title": "Unknown Entity when calling EntityManager.persist()", "body": "<p>How about annotating your class with <code>@Entity</code></p>\n\n<p>See for example <a href=\"https://docs.jboss.org/hibernate/annotations/3.5/reference/en/html/entity.html#entity-mapping-entity\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/annotations/3.5/reference/en/html/entity.html#entity-mapping-entity</a></p>\n\n<p><strong>Update</strong></p>\n\n<p>Check which entities are scanned.\n<a href=\"https://springbootdev.com/2017/11/13/what-are-the-uses-of-entityscan-and-enablejparepositories-annotations/amp/\" rel=\"nofollow noreferrer\">https://springbootdev.com/2017/11/13/what-are-the-uses-of-entityscan-and-enablejparepositories-annotations/amp/</a></p>\n\n<p>By default, Spring Boot will enable entity scanning and look in the package (and its subpackages) where  <code>@SpringBootApplication</code> is located. If your configuration has entities in another package, use <code>@EntityScan</code></p>\n\n<p><strong>Update 2</strong></p>\n\n<p>After some investigation, it turned out that the question is very Axon-specific.</p>\n\n<p>Axon needs to register its own entities, like <code>SagaEntry</code> mentioned in the updated question.\nIt registers these entities in <a href=\"https://github.com/AxonFramework/AxonFramework/blob/master/spring-boot-autoconfigure/src/main/java/org/axonframework/springboot/autoconfig/JpaAutoConfiguration.java\" rel=\"nofollow noreferrer\">JpaAutoConfiguration</a>\nTo do so, it uses its own annotation <code>@RegisterDefaultEntities</code>\nUnfortunately their configuration works well if you rely on the default project layout (domain models in a sub-package of a package containing your app),\nbut doesn't play nice with <code>@EntityScan</code></p>\n\n<p>Check issue <a href=\"https://github.com/AxonFramework/AxonFramework/issues/245\" rel=\"nofollow noreferrer\">https://github.com/AxonFramework/AxonFramework/issues/245</a></p>\n\n<p>My advice is to repackage your application (move entitiees to a sub-package if your app package) and remove <code>@EntityScan</code></p>\n\n<p>If you are adventurous, you can try scaning the same packages that are scanned by their custom annotation, but I am not sure if this will succeed.</p>\n"}], "owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1340, "favorite_count": 0, "accepted_answer_id": 55697628, "answer_count": 1, "score": 4, "last_activity_date": 1557408508, "creation_date": 1555364344, "last_edit_date": 1555447368, "question_id": 55697586, "link": "https://stackoverflow.com/questions/55697586/unknown-entity-when-calling-entitymanager-persist", "title": "Unknown Entity when calling EntityManager.persist()", "body": "<p>I have this class in <code>QuoteProjection.java</code>:</p>\n\n<pre><code>package com.mycompany.myapp.query;\n\nimport com.mycompany.myapp.command.domain.ProjectedQuote;\nimport javax.persistence.EntityManager;\n\npublic class QuoteProjection {\n\n    private final EntityManager entityManager;\n.\n.\n.\n    public void on(CreateSubmissionEvt evt) {\n        ProjectedQuote projectedQuote = new ProjectedQuote(evt.getAggregateId(), evt.getJobNumber());\n        entityManager.persist(projectedQuote); // error reference this line\n    }\n</code></pre>\n\n<p>I've defined <code>ProjectedQuote</code> in <code>myApi.kt</code>:</p>\n\n<pre><code>package com.mycompany.myapp.command.domain\n\n@Entity\n@NamedQueries(\n        NamedQuery(name = \"ProjectedQuote.fetch\",\n                query = \"SELECT q FROM ProjectedQuote q WHERE q.aggregateId LIKE CONCAT(:idStartsWith, '%') ORDER BY q.id\"),\n        NamedQuery(name = \"ProjectedQuote.count\",\n                query = \"SELECT COUNT(q) FROM ProjectedQuote q WHERE q.aggregateId LIKE CONCAT(:idStartsWith, '%')\")\n)\ndata class ProjectedQuote(@Id var aggregateId: String, var jobNumber : String) { constructor() : this(\"\", \"\") }\n</code></pre>\n\n<p>When running, I get the following error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Unknown entity:\ncom.mycompany.myapp.command.domain.ProjectedQuote\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:787) ~hibernate-core-5.2.17.Final.jar!/:5.2.17.Final]\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:768) ~[hibernate-core-5.2.17.Final.jar!/:5.2.17.Final]\n.\n.\n.\n</code></pre>\n\n<p>Per Lesiak's answer below, I tried adding <code>@EntityScan</code> to the application, <code>Application.java</code>:</p>\n\n<pre><code>package com.mycompany.myapp.query;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\n\n@SpringBootApplication\n@EntityScan(basePackages = {\"com.mycompany.myapp.command.domain\"})\npublic class Application {\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n\n<p>...but now I get the following error and the application terminates:</p>\n\n<pre><code>2019-04-16 15:34:54.265 ERROR 4212 --- [           main] o.s.boot.SpringApplication\n          : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sagaStore' defined in class path resource [org/axonframework/springboot/autoconfig/JpaAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.axonframework.modelling.saga.repository.jpa.JpaSagaStore]: Factory method 'sagaStore' threw exception; nested exception is java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: SagaEntry is not mapped [SELECT new org.axonframework.modelling.saga.repository.jpa.SerializedSaga(se.serializedSaga, se.sagaType, se.revision) FROM SagaEntry se WHERE se.sagaId = :sagaId]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.9.RELEASE.jar!/:5.0.9.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247) ~[spring-beans-5.0.9.RELEASE.jar!/:5.0.9.RELEASE]\n.\n.\n.\n</code></pre>\n\n<p>Sagas, referenced in the error message, are part of the Axon Framework. So by doing an <code>@EntityScan</code> on my packages, it looks like it caused it to NOT scan the Axon packages, maybe?</p>\n\n<p>I'm in over my head. Any help is appreciated.</p>\n"}, {"tags": ["kotlin", "mockito"], "comments": [{"owner": {"reputation": 820, "user_id": 4072335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01e60f5fbc56b9ba59dde7a80bc59fc?s=128&d=identicon&r=PG&f=1", "display_name": "Can_of_awe", "link": "https://stackoverflow.com/users/4072335/can-of-awe"}, "edited": false, "score": 0, "creation_date": 1555423530, "post_id": 55697545, "comment_id": 98100925, "body": "There&#39;s nothing wrong with <code>underTest = Mockito.spy(SomeClass(someParam))</code> in kotlin. Also, check out <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">github.com/nhaarman/mockito-kotlin</a> if you want nicer syntax for mockito in kotlin."}], "answers": [{"tags": [], "owner": {"reputation": 3624, "user_id": 1293087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FuLOs.jpg?s=128&g=1", "display_name": "Laksitha Ranasingha", "link": "https://stackoverflow.com/users/1293087/laksitha-ranasingha"}, "is_accepted": false, "score": 0, "last_activity_date": 1555520954, "last_edit_date": 1555520954, "creation_date": 1555427192, "answer_id": 55711314, "question_id": 55697545, "link": "https://stackoverflow.com/questions/55697545/how-to-create-mockito-mock-with-constructor-parameters-in-kotlin/55711314#55711314", "title": "How to create Mockito mock with constructor parameters in Kotlin?", "body": "<p>The reason you cannot mock/spy Kotlin classes is they are final (by default). So Mockito cannot mock such classes unless you put the keyword <code>open</code>.</p>\n\n<p>The Mockito version 2 introduced a feature which allows you to mock/spy final classes. </p>\n\n<p>How to do it? \nAdd <code>mockito-inline</code> dependency with other mockito v2 dependencies. For ex: <code>testImplementation 'org.mockito:mockito-inline:2.8.9'</code></p>\n\n<p>Then use mockito methods as normal.</p>\n\n<p>Here's a dummy test which demonstrates how to mock a method and do nothing.</p>\n\n<pre><code>class Foo {\n    var xval = 0\n    fun foo(x: Int, y: Int): Int = x / y\n\n    fun bar(x: Int) {\n        xval = x\n    }\n}\n\nclass FooTest {\n    @Test\n    fun fooTest() {\n        val foo = Mockito.mock(Foo::class.java)\n        Mockito.doAnswer(Answers.RETURNS_DEFAULTS).`when`(foo).foo(10, 2)\n\n        assertEquals(0, foo.foo(10, 2))\n\n        Mockito.doNothing().`when`(foo).bar(100)\n\n        assertEquals(0, foo.xval)\n    }\n}\n</code></pre>\n\n<p>As you can see, you could return defaults for methods which return something or do nothing for void methods.</p>\n\n<p>Otherwise, you could use <code>mockk</code> <a href=\"https://mockk.io/\" rel=\"nofollow noreferrer\">https://mockk.io/</a> library which doesn't have this issue.</p>\n\n<p>Having said all the above, I suggest that think if you could use an interface/abstract class rather than a concrete class here. That\u2019s the best way to abstract away your dependency using mocking. </p>\n"}], "owner": {"reputation": 10567, "user_id": 541624, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uyz2B.jpg?s=128&g=1", "display_name": "ericn", "link": "https://stackoverflow.com/users/541624/ericn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1525, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1555520954, "creation_date": 1555364067, "last_edit_date": 1555424460, "question_id": 55697545, "link": "https://stackoverflow.com/questions/55697545/how-to-create-mockito-mock-with-constructor-parameters-in-kotlin", "title": "How to create Mockito mock with constructor parameters in Kotlin?", "body": "<p>I'd want to use <code>doReturn(sth).when(underTest).someFunc()</code> instead of <code>when(underTest.someFunc()).thenReturn(sth)</code>.<br>\n(don't want to actually execute anything inside <code>someFunc()</code> - <a href=\"https://stackoverflow.com/a/29394497/541624\">https://stackoverflow.com/a/29394497/541624</a>)</p>\n\n<p>In Java, I could do <code>underTest = Mockito.spy(new SomeClass(someParam));</code></p>\n\n<p>I'm getting:  </p>\n\n<pre><code>Mockito cannot mock/spy because :\n - final class\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 1, "last_activity_date": 1555372604, "creation_date": 1555372604, "answer_id": 55698727, "question_id": 55697395, "link": "https://stackoverflow.com/questions/55697395/function-to-wait-for-a-result-of-an-asynchronous-process-in-kotlin/55698727#55698727", "title": "Function to wait for a result of an asynchronous process in Kotlin", "body": "<p>You should look into <a href=\"https://kotlinlang.org/docs/reference/coroutines-overview.html\" rel=\"nofollow noreferrer\">Kotlin Coroutines</a> which is pretty big branch of the language focused on asynchronous programming.</p>\n\n<p>Sample application of what You mean in Kotlin (for JVM):</p>\n\n<pre><code>import kotlinx.coroutines.*\n\n// dummy condition\nvar condition = false \n\nfun main(args: Array&lt;String&gt;) {\n    // this code block is all that's needed to raise condition after half a second\n    // without blocking current thread\n    GlobalScope.launch{\n        delay(500)\n        println(\"condition ready\")\n        condition = true\n    }\n\n    // block the current thread while waiting for condition\n    // this is required to use a suspend function\n    val result = runBlocking{\n        println(\"waiting for result started\")\n        waitForCondition(1000, 100)\n    }\n    println(\"condition was met:\" + result)\n}\n\n// waits until condition is ready and return true when it is; otherwise returns false\n// tailrec function gets rolled out into normal loop under the hood\nsuspend tailrec fun waitForCondition(maxDelay: Long, checkPeriod: Long) : Boolean{\n    if(maxDelay &lt; 0) return false\n    if(condition) return true   \n    delay(checkPeriod)  \n    return waitForCondition(maxDelay - checkPeriod, checkPeriod)\n}\n</code></pre>\n"}], "owner": {"reputation": 2053, "user_id": 2815144, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/ZgHKI.jpg?s=128&g=1", "display_name": "Patrik Mihal\u010din", "link": "https://stackoverflow.com/users/2815144/patrik-mihal%c4%8din"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555372604, "creation_date": 1555363212, "question_id": 55697395, "link": "https://stackoverflow.com/questions/55697395/function-to-wait-for-a-result-of-an-asynchronous-process-in-kotlin", "title": "Function to wait for a result of an asynchronous process in Kotlin", "body": "<p>Let's say I want to write a function which checks some result of asynchronous process by some condition which needs to be met. That function should use some maximum wait time, loop wait time and should iterate until condition is met. </p>\n\n<p>The mixture of code and pseudo-code is as follows:</p>\n\n<pre><code>fun waitUntilConditionIsMatched() {\n    val maximumWaitTime = Duration.ofSeconds(10L)\n    val maximum = currentTimeMillis() + maximumWaitTime.toMillis()\n\n    println(\"Waiting for maximum of $maximumWaitTime for a condition to be matched...\")\n\n    while (currentTimeMillis() &lt;= maximum) {\n        if (conditionIsMatched) {\n            println(\"...condition matched\")\n            break\n        } else {\n            doWait(Duration.ofMillis(500))\n        }\n    }\n\n    println(\"...timeout exceeded. Condition was not matched.\")\n}\n</code></pre>\n\n<p>Is there an idiomatic way how to write it in Kotlin?</p>\n"}, {"tags": ["kotlin", "jar"], "answers": [{"comments": [{"owner": {"reputation": 503, "user_id": 9893963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hJRnA.jpg?s=128&g=1", "display_name": "NathanPB", "link": "https://stackoverflow.com/users/9893963/nathanpb"}, "edited": false, "score": 0, "creation_date": 1555363311, "post_id": 55697387, "comment_id": 98077116, "body": "You would also need to pack kotlin sdtlib within your generated .jar."}, {"owner": {"reputation": 2932, "user_id": 7212809, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VlOyJEUeeSc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jExBae7iJ2ALFtcMj_6BCoHGTMgw/mo/photo.jpg?sz=128", "display_name": "nz_21", "link": "https://stackoverflow.com/users/7212809/nz-21"}, "edited": false, "score": 0, "creation_date": 1555363461, "post_id": 55697387, "comment_id": 98077178, "body": "thank you for the pointers! Just a quick question though: how is that <code>java -jar &lt;MY_PROJECT_NAME&gt;.jar</code> command supposed to be run? I&#39;m looking here <a href=\"https://stackoverflow.com/questions/5258159/how-to-make-an-executable-jar-file\" title=\"how to make an executable jar file\">stackoverflow.com/questions/5258159/&hellip;</a> and it seems like it has to point to .class files in java - is it the same with kotlin?"}, {"owner": {"reputation": 503, "user_id": 9893963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hJRnA.jpg?s=128&g=1", "display_name": "NathanPB", "link": "https://stackoverflow.com/users/9893963/nathanpb"}, "reply_to_user": {"reputation": 2932, "user_id": 7212809, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VlOyJEUeeSc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jExBae7iJ2ALFtcMj_6BCoHGTMgw/mo/photo.jpg?sz=128", "display_name": "nz_21", "link": "https://stackoverflow.com/users/7212809/nz-21"}, "edited": false, "score": 0, "creation_date": 1555363563, "post_id": 55697387, "comment_id": 98077207, "body": "When using <code>-jar</code> you will need to point to a .jar file. In your case, your generated .jar. It&#39;s supposed to execute the jar exactly as your IDE do. If you don&#39;t print anything you will have no output on <code>java -jar xxx.jar</code>"}, {"owner": {"reputation": 2932, "user_id": 7212809, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VlOyJEUeeSc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jExBae7iJ2ALFtcMj_6BCoHGTMgw/mo/photo.jpg?sz=128", "display_name": "nz_21", "link": "https://stackoverflow.com/users/7212809/nz-21"}, "edited": false, "score": 0, "creation_date": 1555364276, "post_id": 55697387, "comment_id": 98077450, "body": "cool, thanks! I guess I need to first figure out how to create the .jar file."}], "tags": [], "owner": {"reputation": 503, "user_id": 9893963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hJRnA.jpg?s=128&g=1", "display_name": "NathanPB", "link": "https://stackoverflow.com/users/9893963/nathanpb"}, "is_accepted": false, "score": -2, "last_activity_date": 1555363137, "creation_date": 1555363137, "answer_id": 55697387, "question_id": 55697328, "link": "https://stackoverflow.com/questions/55697328/kotlin-how-to-create-a-runnable-jar/55697387#55697387", "title": "Kotlin: How to create a runnable jar?", "body": "<p>When using a Kotlin main class you need to add a <code>Kt</code> at the end of the class name while referencing it on MANIFEST.\nSo, if your main class is called <code>interpreter.Repl</code>, use:</p>\n\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': 'interpreter.ReplKt'\n    }\n}\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': 'interpreter.Repl'\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 537, "user_id": 2211640, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/ea6Cu.jpg?s=128&g=1", "display_name": "Gyan Swaroop Awasthi", "link": "https://stackoverflow.com/users/2211640/gyan-swaroop-awasthi"}, "edited": false, "score": 0, "creation_date": 1597315751, "post_id": 55698045, "comment_id": 112095666, "body": "how to execute kotlin jar file , some where is studied jar file is not executable for kotlin . Please guide me."}, {"owner": {"reputation": 537, "user_id": 2211640, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/ea6Cu.jpg?s=128&g=1", "display_name": "Gyan Swaroop Awasthi", "link": "https://stackoverflow.com/users/2211640/gyan-swaroop-awasthi"}, "edited": false, "score": 0, "creation_date": 1597316287, "post_id": 55698045, "comment_id": 112095945, "body": "&gt; Plugin with id &#39;com.github.johnrengelman.shadow&#39; not found."}], "tags": [], "owner": {"reputation": 2932, "user_id": 7212809, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VlOyJEUeeSc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jExBae7iJ2ALFtcMj_6BCoHGTMgw/mo/photo.jpg?sz=128", "display_name": "nz_21", "link": "https://stackoverflow.com/users/7212809/nz-21"}, "is_accepted": true, "score": 1, "last_activity_date": 1555371371, "last_edit_date": 1555371371, "creation_date": 1555367226, "answer_id": 55698045, "question_id": 55697328, "link": "https://stackoverflow.com/questions/55697328/kotlin-how-to-create-a-runnable-jar/55698045#55698045", "title": "Kotlin: How to create a runnable jar?", "body": "<p>Ok, I figured it out :) </p>\n\n<p>So, the way to create a jar is to go: <code>./gradlew build</code>. This creates a jar in <code>build/libs</code>. </p>\n\n<p>The problem is, when running that jar, one would run into an exception about <code>java.lang.intrinsics</code> because the <code>kotlin stdlib</code> hasn't been packed into the jar. </p>\n\n<p>While there is a way to manually accomplish that, I found the easiest solution is to simply use the <code>shadowjar plugin</code>. </p>\n\n<p>My build.gradle ended up looking like this:</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.4'\n    }\n}\n\nplugins {\n    id 'org.jetbrains.kotlin.jvm' version '1.3.11'\n\n}\n\ngroup 'com.github.dynamik'\nversion '1.0-SNAPSHOT'\napply plugin: 'application'\napply plugin: 'kotlin'\napply plugin: 'java'\n\n\nmainClassName = \"interpreter.Repl\"\n\nrepositories {\n    mavenCentral()\n    jcenter()\n    maven { setUrl(\"https://dl.bintray.com/hotkeytlt/maven\") }\n    maven {\n        url = uri(\"https://plugins.gradle.org/m2/\")\n    }\n\n}\nconfigurations {\n    ktlint\n}\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    compile 'com.github.h0tk3y.betterParse:better-parse-jvm:0.4.0-alpha-3'\n    // https://mvnrepository.com/artifact/junit/junit\n    testCompile group: 'junit', name: 'junit', version: '4.4'\n    ktlint \"com.github.shyiko:ktlint:0.31.0\"\n    implementation 'com.github.ajalt:clikt:1.7.0'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.2.0'\n\n}\napply plugin: 'com.github.johnrengelman.shadow'\n\n\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\nrun {\n    standardInput = System.in\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'interpreter.Repl'\n    }\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1694, "user_id": 2673386, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc376861b2ff6f3088bb4c338df6126a?s=128&d=identicon&r=PG", "display_name": "EntangledLoops", "link": "https://stackoverflow.com/users/2673386/entangledloops"}, "is_accepted": false, "score": 4, "last_activity_date": 1560118233, "creation_date": 1560118233, "answer_id": 56518749, "question_id": 55697328, "link": "https://stackoverflow.com/questions/55697328/kotlin-how-to-create-a-runnable-jar/56518749#56518749", "title": "Kotlin: How to create a runnable jar?", "body": "<p>As of Gradle 5.4.1, a <code>build.gradle.kts</code> would need a section like this:</p>\n\n<pre><code>tasks.register&lt;Jar&gt;(\"uberJar\") {\n    archiveClassifier.set(\"uber\")\n\n    manifest {\n        attributes(\n                \"Main-Class\" to \"mytest.AppKt\",\n                \"Implementation-Title\" to \"Gradle\",\n                \"Implementation-Version\" to archiveVersion\n        )\n    }\n\n    from(sourceSets.main.get().output)\n\n    dependsOn(configurations.runtimeClasspath)\n    from({\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(\"jar\") }.map { zipTree(it) }\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 2932, "user_id": 7212809, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VlOyJEUeeSc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jExBae7iJ2ALFtcMj_6BCoHGTMgw/mo/photo.jpg?sz=128", "display_name": "nz_21", "link": "https://stackoverflow.com/users/7212809/nz-21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4562, "favorite_count": 1, "accepted_answer_id": 55698045, "answer_count": 3, "score": 2, "last_activity_date": 1560118233, "creation_date": 1555362846, "last_edit_date": 1555363298, "question_id": 55697328, "link": "https://stackoverflow.com/questions/55697328/kotlin-how-to-create-a-runnable-jar", "title": "Kotlin: How to create a runnable jar?", "body": "<p>I'm trying to create a runnable jar with Kotlin. </p>\n\n<p>My gradle.build is this: </p>\n\n<pre><code>\n\nplugins {\n    id 'org.jetbrains.kotlin.jvm' version '1.3.11'\n\n}\n\ngroup 'com.github.dynamik'\nversion '1.0-SNAPSHOT'\napply plugin: 'application'\napply plugin: 'kotlin'\nmainClassName = \"interpreter.Repl\"\n\n\n\n\n\nrepositories {\n    mavenCentral()\n    maven { setUrl(\"https://dl.bintray.com/hotkeytlt/maven\") }\n\n}\nconfigurations {\n    ktlint\n}\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    compile 'com.github.h0tk3y.betterParse:better-parse-jvm:0.4.0-alpha-3'\n    // https://mvnrepository.com/artifact/junit/junit\n    testCompile group: 'junit', name: 'junit', version: '4.4'\n    ktlint \"com.github.shyiko:ktlint:0.31.0\"\n\n\n\n\n    implementation 'com.github.ajalt:clikt:1.7.0'\n\n\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.2.0'\n\n\n\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\nrun {\n    standardInput = System.in\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'interpreter.Repl'\n    }\n}\n\n</code></pre>\n\n<p>(As it stands, when I do <code>./gradlew run</code>, everything works as expected.)</p>\n\n<p>I'm reading an article <a href=\"https://medium.com/@preslavrachev/kotlin-basics-create-executable-kotlin-jars-using-gradle-d17e9a8384b9\" rel=\"nofollow noreferrer\">here</a>  on how to proceed, and it says to do: <code>java -jar &lt;MY_PROJECT_NAME&gt;.jar</code>.</p>\n\n<p>I don't quite understand this -- <strong>where do we run this</strong>? I tried running it from my project root and I got an error: </p>\n\n<pre><code>Error: Unable to access jarfile &lt;my_jarname&gt;.jar\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mapbox", "mapbox-android"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 11376092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDdYa.jpg?s=128&g=1", "display_name": "Brandi H", "link": "https://stackoverflow.com/users/11376092/brandi-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1557353226, "creation_date": 1557353226, "answer_id": 56049653, "question_id": 55696474, "link": "https://stackoverflow.com/questions/55696474/offline-mapbox-confusion/56049653#56049653", "title": "Offline Mapbox Confusion", "body": "<p><em>Disclaimer: I work for Mapbox.</em></p>\n\n<p>It looks like you didn't create an instance of the OfflineManager before trying to download. You should have a line something like this:</p>\n\n<p><code>val offlineManager = OfflineManager.getInstance(this@MainActivity)</code></p>\n\n<p>For setting up the Android plugin, the instructions are available here: <a href=\"https://docs.mapbox.com/android/plugins/overview/offline/\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/plugins/overview/offline/</a></p>\n\n<p>That should walk you through installation, dependencies, etc.</p>\n"}], "owner": {"reputation": 11, "user_id": 11365133, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qaFUZoo6JEo/AAAAAAAAAAI/AAAAAAAAACg/14LbHuh_czA/photo.jpg?sz=128", "display_name": "J&#233;luchu Developer", "link": "https://stackoverflow.com/users/11365133/j%c3%a9luchu-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557353226, "creation_date": 1555358576, "question_id": 55696474, "link": "https://stackoverflow.com/questions/55696474/offline-mapbox-confusion", "title": "Offline Mapbox Confusion", "body": "<p>I need help in the \"Offline Maps\" section, I have been trying to implement this function for a while and I have something done but it doesn't work, I know that Mapbox has its own plugin but I can not implement it in my application. This is my code from develop branch.</p>\n\n<p>I post my code issue on GitHub, in case someone can see carefully what I have done and maybe I can give a solution. Currently it seems that it will download the map but it stays in an infinite loop and does not download. It may be easier to use the Offline Mapbox Plugin but I do not know how to configure it.</p>\n\n<p><a href=\"https://github.com/Jeluchu/mapboxU/issues/1\" rel=\"nofollow noreferrer\">https://github.com/Jeluchu/mapboxU/issues/1</a></p>\n"}, {"tags": ["java", "android", "kotlin", "android-dialogfragment"], "answers": [{"tags": [], "owner": {"reputation": 2956, "user_id": 8430649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e074258011c72401b1f2f3939f3689c?s=128&d=identicon&r=PG&f=1", "display_name": "S-Sh", "link": "https://stackoverflow.com/users/8430649/s-sh"}, "is_accepted": true, "score": 0, "last_activity_date": 1555357775, "creation_date": 1555357775, "answer_id": 55696317, "question_id": 55696243, "link": "https://stackoverflow.com/questions/55696243/dialogfragment-empty-even-though-xml-provided/55696317#55696317", "title": "DialogFragment empty, even though xml provided", "body": "<p>You have created <code>View</code> but didn't set it to dialog. Add</p>\n\n<pre><code>builder.setView(view);\n</code></pre>\n"}], "owner": {"reputation": 1306, "user_id": 3032227, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9ad0f4de11e59b2e480d8466681cb45?s=128&d=identicon&r=PG&f=1", "display_name": "Recusiwe", "link": "https://stackoverflow.com/users/3032227/recusiwe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 55696317, "answer_count": 1, "score": -1, "last_activity_date": 1555357775, "creation_date": 1555357416, "question_id": 55696243, "link": "https://stackoverflow.com/questions/55696243/dialogfragment-empty-even-though-xml-provided", "title": "DialogFragment empty, even though xml provided", "body": "<p>I'm trying to create a popup with a DialogFragment, however my dialog only contains the title, negative and positive button. </p>\n\n<p>Layout_selection_dialog</p>\n\n<p>\n</p>\n\n<pre><code>&lt;Button\n        android:text=\"Aalborg\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"wrap_content\" android:id=\"@+id/firstCityBtn\"\n        app:layout_constraintStart_toStartOf=\"parent\"/&gt;\n&lt;Button\n        android:text=\"Aarhus\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"wrap_content\" android:id=\"@+id/thirdCityBtn\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n&lt;Button\n        android:text=\"K\u00f8benhavn\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"wrap_content\" android:id=\"@+id/secondCityBtn\"\n        android:layout_marginTop=\"8dp\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>SelectionDialog</p>\n\n<pre><code>public class SelectionDialog extends DialogFragment {\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        LayoutInflater inflater = getActivity().getLayoutInflater();\n        View view = inflater.inflate(R.layout.layout_selection_dialog, null);\n\n        builder.setTitle(\"V\u00e6lg by\").setNegativeButton(\"Back\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n\n            }\n        }).setPositiveButton(\"Save\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n\n            }\n        });\n\n        return builder.create();\n    }\n}\n</code></pre>\n\n<p>Function to call in the MainActivity</p>\n\n<pre><code>fun showCitySelection() {\n   var dialog: CitySelectionDialog = CitySelectionDialog()\n   var ft: FragmentTransaction = supportFragmentManager.beginTransaction()\n    dialog.show(ft, null)\n}\n</code></pre>\n\n<p>Any ideas why I'm not getting my buttons in the dialog?</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1555399697, "creation_date": 1555399697, "answer_id": 55702807, "question_id": 55695612, "link": "https://stackoverflow.com/questions/55695612/rxjava-zip-with-empty-list-of-observables/55702807#55702807", "title": "RxJava zip with empty list of observables", "body": "<p>If your list can legitimately be empty, maybe you want a <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Maybe.html\" rel=\"nofollow noreferrer\"><code>Maybe</code></a> instead of <code>Single</code>. One way would be </p>\n\n<pre><code>val observableList = mutableListOf&lt;Maybe&lt;Response&gt;&gt;()\n...\nif (post.type == SomeType) {\n      observableList.add(addNewObservable().toMaybe())\n}\n...\nreturn Maybe.zip(observableList) { arg -&gt; arg }\n</code></pre>\n\n<p><code>Maybe.zip</code> on an empty list should return a <code>Maybe</code> which completes immediately without emitting anything. </p>\n\n<p>Or an alternate solution: just test if the list is empty before calling <code>Single.zip</code>.</p>\n\n<p>It really depends on what behavior you want (except for not throwing an exception) in the first place.</p>\n"}, {"tags": [], "owner": {"reputation": 695, "user_id": 6801819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0d643b175e0151b60409c1366a092c7?s=128&d=identicon&r=PG&f=1", "display_name": "Gapmeister66", "link": "https://stackoverflow.com/users/6801819/gapmeister66"}, "is_accepted": false, "score": 0, "last_activity_date": 1617979758, "creation_date": 1617979758, "answer_id": 67023335, "question_id": 55695612, "link": "https://stackoverflow.com/questions/55695612/rxjava-zip-with-empty-list-of-observables/67023335#67023335", "title": "RxJava zip with empty list of observables", "body": "<p>You need to provide a check for emptiness beforehand. This can be done for an Observable or a Single.</p>\n<pre><code>public Observable&lt;String&gt; zipObservable(List&lt;Observable&lt;String&gt;&gt; strings) {\n    return strings.isEmpty()\n        ? Observable.just(&quot;empty&quot;)\n        : Observable\n           .zip(strings, objects -&gt; &quot;non-empty&quot;);\n}\n\npublic Single&lt;String&gt; zipSingle(List&lt;Single&lt;String&gt;&gt; strings) {\n    return strings.isEmpty()\n        ? Single.just(&quot;empty&quot;)\n        : Single\n           .zip(strings, objects -&gt; &quot;non-empty&quot;);\n}\n</code></pre>\n"}], "owner": {"reputation": 1805, "user_id": 7134112, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4f1a7a8de736c47ddb84983b8ebe4d10?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0413\u0443\u0437\u044e\u043a", "link": "https://stackoverflow.com/users/7134112/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%93%d1%83%d0%b7%d1%8e%d0%ba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 588, "favorite_count": 0, "accepted_answer_id": 55702807, "answer_count": 2, "score": 1, "last_activity_date": 1617979758, "creation_date": 1555354382, "question_id": 55695612, "link": "https://stackoverflow.com/questions/55695612/rxjava-zip-with-empty-list-of-observables", "title": "RxJava zip with empty list of observables", "body": "<p>Based on post type i need to push item to observable list. So in case when <code>if</code> closure is not used (for example <code>post.type != SomeType</code>) my observable list is empty.</p>\n\n<p>So due to that im receiving <code>NoSuchElementException</code> all the time from <code>Single.zip</code></p>\n\n<p><strong><em>Here is my sample code</em></strong></p>\n\n<pre><code>val observableList = mutableListOf&lt;Single&lt;Response&gt;&gt;()\n\nif (post.type == SomeType) {\n      observableList.add(addNewObservable()) &lt;-- adding API call to the lsit\n}\n\nreturn Single.zip(observableList) { arg -&gt; arg } &lt;-- Throws error NoSuchElementException\n</code></pre>\n\n<p>I figured that i can use for <code>post type != SomeType</code> :</p>\n\n<pre><code>observableList.add(Single.just(Response(\"\"))\n</code></pre>\n\n<p>And this will work fine.</p>\n\n<p>So is there a better solution for it? How can i avoid that error?</p>\n"}, {"tags": ["java", "android", "file", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1555363832, "post_id": 55695484, "comment_id": 98077289, "body": "&quot;I&#39;m creating them by reading from a usb&quot; -- you do not have access to arbitrary files on <a href=\"https://commonsware.com/blog/2017/11/15/storage-situation-removable-storage.html\" rel=\"nofollow noreferrer\">removable storage in Android</a>."}], "answers": [{"comments": [{"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1555354545, "post_id": 55695616, "comment_id": 98073675, "body": "based on a few different examples on renaming files online, that should work <code>https:&#47;&#47;stackoverflow.com&#47;questions&#47;1158777&#47;rename-a-file-us&zwnj;&#8203;ing-java</code>  Why would it affect being able to set it as readable as well?"}, {"owner": {"reputation": 6925, "user_id": 5522344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d7ab17438a0c8f0953aa03c5cdc010?s=128&d=identicon&r=PG&f=1", "display_name": "Doc", "link": "https://stackoverflow.com/users/5522344/doc"}, "reply_to_user": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 1, "creation_date": 1555354695, "post_id": 55695616, "comment_id": 98073731, "body": "you are not checking for <code>Hello2.txt</code> existance"}, {"owner": {"reputation": 6925, "user_id": 5522344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d7ab17438a0c8f0953aa03c5cdc010?s=128&d=identicon&r=PG&f=1", "display_name": "Doc", "link": "https://stackoverflow.com/users/5522344/doc"}, "reply_to_user": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 2, "creation_date": 1555354789, "post_id": 55695616, "comment_id": 98073776, "body": "and setReadable is dependent on system for permissions"}], "tags": [], "owner": {"reputation": 6925, "user_id": 5522344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d7ab17438a0c8f0953aa03c5cdc010?s=128&d=identicon&r=PG&f=1", "display_name": "Doc", "link": "https://stackoverflow.com/users/5522344/doc"}, "is_accepted": false, "score": 1, "last_activity_date": 1555354400, "creation_date": 1555354400, "answer_id": 55695616, "question_id": 55695484, "link": "https://stackoverflow.com/questions/55695484/cant-change-java-file-permissions/55695616#55695616", "title": "Can&#39;t change Java file permissions", "body": "<p>If a file named <code>Hello2.txt</code> is already present in the location then you won't be able to rename <code>Hello.txt</code> to <code>Hello2.txt</code>.</p>\n\n<p>The first line of code for rename works if there is no file name conflict.</p>\n"}], "owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1555354400, "creation_date": 1555353868, "last_edit_date": 1555354254, "question_id": 55695484, "link": "https://stackoverflow.com/questions/55695484/cant-change-java-file-permissions", "title": "Can&#39;t change Java file permissions", "body": "<p>I'm working with Files in Kotlin and Java and can't change the permission are do anything with them at all really. I'm thinking it's from a lack of understanding of how they work.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n   val file1 = File(\"Hello.txt\")\n   val file2 = File(\"Hello2.txt\")\n\n   if (file1.renameTo(file2)) {\n       println(\"rename succeeded\")\n   } else {\n       println(\"rename failed\")\n   }\n\n   if(file1.setReadable(true, true)) {\n       println(\"readable succeeded\")\n   } else {\n    println(\"readable failed\")\n   }\n}\n</code></pre>\n\n<p>I create the files and it fails both when I try to rename, and when I try to set to readable.</p>\n\n<p>I have a much larger project where I'm creating them by reading from a usb, saving them to a temporary location, and attempting to do the same thing. Figured I'd start with the smaller more easily reproducible example.</p>\n\n<p>Is there anything I have to configure to make both of these files readable?</p>\n"}, {"tags": ["android", "kotlin", "android-jetpack", "android-jetpack-navigation"], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 5069561, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gFbxJEn2NFQ/AAAAAAAAAAI/AAAAAAAACOQ/WIXYvkGSNd4/photo.jpg?sz=128", "display_name": "SanthoshKumar SrikanthaMurali", "link": "https://stackoverflow.com/users/5069561/santhoshkumar-srikanthamurali"}, "is_accepted": false, "score": 0, "last_activity_date": 1555952590, "creation_date": 1555952590, "answer_id": 55798094, "question_id": 55695123, "link": "https://stackoverflow.com/questions/55695123/how-to-prevent-navigation-when-using-android-jetpack-navigation/55798094#55798094", "title": "How to prevent Navigation when using Android Jetpack Navigation", "body": "<p>This should work.</p>\n\n<pre><code>requireActivity().bottomNavigationView.setOnNavigationItemSelectedListener{menuItem -&gt;\n            DialogUtil.showBeforeLeaveDetailFragmentDialog(context!!){\n                return NavigationUI.onNavDestinationSelected(it, navController)\n            }\n            false\n        }\n</code></pre>\n\n<p>And I don't know why are you clearing the <code>NavigationItemSelectedListener</code>. Explain why you are doing it.</p>\n"}], "owner": {"reputation": 1, "user_id": 11364752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b06ecbfc669652389142d7450689457?s=128&d=identicon&r=PG&f=1", "display_name": "Bambl", "link": "https://stackoverflow.com/users/11364752/bambl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1555952590, "creation_date": 1555352423, "question_id": 55695123, "link": "https://stackoverflow.com/questions/55695123/how-to-prevent-navigation-when-using-android-jetpack-navigation", "title": "How to prevent Navigation when using Android Jetpack Navigation", "body": "<p>I want to check the actual Fragment if it's dirty and warn the user to lose his changes. I could'nt find an Listener on the Navcontroller to interact before the navigation happens.</p>\n\n<p>I already tried to set a listener to the BottomNavigationView but the result was that the Navigation does'nt work anymore after the reset.</p>\n\n<pre><code>requireActivity().bottomNavigationView.setOnNavigationItemSelectedListener{menuItem -&gt;\n            DialogUtil.showBeforeLeaveDetailFragmentDialog(context!!){\n                requireActivity().bottomNavigationView.setOnNavigationItemSelectedListener(null)\n                findNavController().navigate(menuItem.itemId)\n            }\n            false\n        }\n</code></pre>\n\n<p>Is there any global Listener which i can use or another clean solution?</p>\n"}, {"tags": ["kotlin", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "edited": false, "score": 0, "creation_date": 1555409532, "post_id": 55697043, "comment_id": 98092274, "body": "Trying to find any ports to the following libs with no luck so far("}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "reply_to_user": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "edited": false, "score": 0, "creation_date": 1555422211, "post_id": 55697043, "comment_id": 98100010, "body": "<code>javax</code> is part of standard Java distribution. You shouldn&#39;t need to find ports of it."}, {"owner": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "edited": false, "score": 0, "creation_date": 1555424577, "post_id": 55697043, "comment_id": 98101673, "body": "Couldn&#39;t use it on a clean Ktor install, not surprising its only Kotlin"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "reply_to_user": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "edited": false, "score": 0, "creation_date": 1555428849, "post_id": 55697043, "comment_id": 98104346, "body": "Is it Kotlin Native? There&#39;s no such thing as &quot;only Kotlin&quot;, since Kotlin for JVM uses Java classes. You can see that it works: <a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjIxIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsImpzQ29kZSI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJmb2xkZWRCdXR0b24iOnRydWUsInJlYWRPbmx5IjpmYWxzZSwiY29kZSI6Ii8qKlxuICogWW91IGNhbiBlZGl0LCBydW4sIGFuZCBzaGFyZSB0aGlzIGNvZGUuIFxuICogcGxheS5rb3RsaW5sYW5nLm9yZyBcbiAqL1xuXG5pbXBvcnQgamF2YXguaW1hZ2Vpby4qXG5pbXBvcnQgamF2YS5pby4qXG5cbmZ1biBtYWluKCkge1xuICAgIHZhbCBpID0gSW1hZ2VJTy5yZWFkKEZpbGUoXCJcIikpXG59XG4ifQ==\" rel=\"nofollow noreferrer\">play.kotlinlang.org/&hellip;</a>"}, {"owner": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "edited": false, "score": 0, "creation_date": 1555492131, "post_id": 55697043, "comment_id": 98126819, "body": "You are right on the part, that this is something tor shouldn&#39;t handle, so I am going to mark your answer as the right one"}, {"owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "edited": false, "score": 0, "creation_date": 1570386276, "post_id": 55697043, "comment_id": 102888920, "body": "@AlexeySoshin - &quot; There&#39;s no such thing as &quot;only Kotlin&quot;&quot; -- That is just silly. Of course there is &quot;only Kotlin&quot; classes. Kotlin doesn&#39;t <i>always</i> rely on the JVM."}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "reply_to_user": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "edited": false, "score": 0, "creation_date": 1570389415, "post_id": 55697043, "comment_id": 102889674, "body": "@Chad Bingham - you&#39;re taking it out of context, mate :)"}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 0, "last_activity_date": 1555428906, "last_edit_date": 1555428906, "creation_date": 1555361352, "answer_id": 55697043, "question_id": 55693847, "link": "https://stackoverflow.com/questions/55693847/process-images-and-resize-them-on-a-ktor-server/55697043#55697043", "title": "Process Images and resize them on a Ktor server", "body": "<p>Ktor doesn't have anything specific to process the images. Because it doesn't have to.</p>\n\n<p><code>BufferedImage</code> is not an Android library. It's part of <code>java.awt</code>, and you can use it in Ktor code. Same for <code>javax.imageio.ImageIO</code>. The only part you can't use is <code>BitmapFactory</code>, since it is part of Android SDK.</p>\n\n<p>As of the part how to get the initial upload (since you're using Ktor, that's what you want, probably), you can look here: <a href=\"https://ktor.io/servers/uploads.html\" rel=\"nofollow noreferrer\">https://ktor.io/servers/uploads.html</a></p>\n\n<p>This should work on Kotlin JVM:</p>\n\n<pre><code>import javax.imageio.*\nimport java.io.*\n\nfun main() {\n    val image = ImageIO.read(File(\"\"))\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 8864205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55d638f59df536e1bcba231a96f3e7d5?s=128&d=identicon&r=PG&f=1", "display_name": "xbass", "link": "https://stackoverflow.com/users/8864205/xbass"}, "is_accepted": false, "score": 0, "last_activity_date": 1616263779, "creation_date": 1616263779, "answer_id": 66724909, "question_id": 55693847, "link": "https://stackoverflow.com/questions/55693847/process-images-and-resize-them-on-a-ktor-server/66724909#66724909", "title": "Process Images and resize them on a Ktor server", "body": "<p>1 - Receive an image file : Like Alexey Soshin pointed out, use whatever suits your needs to read/get the image</p>\n<p>2 - Process (resize the image) : using a library such as <a href=\"https://github.com/coobird/thumbnailator\" rel=\"nofollow noreferrer\">thumbnailator</a></p>\n<p>see example:</p>\n<p><a href=\"https://i.stack.imgur.com/wMgJM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wMgJM.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 0, "accepted_answer_id": 55697043, "answer_count": 2, "score": 1, "last_activity_date": 1616263779, "creation_date": 1555346819, "question_id": 55693847, "link": "https://stackoverflow.com/questions/55693847/process-images-and-resize-them-on-a-ktor-server", "title": "Process Images and resize them on a Ktor server", "body": "<p>I am trying to receive an image using a Ktor server, and process it, all the Android libraries aren't working as they use things like BitmapFactory, java.awt.* , Buffered images and etc.\nDoes Ktor have any set of tools to process images? \nWhat I am trying to achieve is to receive an image and resize it.</p>\n"}, {"tags": ["java", "android", "xml", "kotlin", "android-linearlayout"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 9472989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d9d85efd2c218abdfce8ba6a24be2a?s=128&d=identicon&r=PG&f=1", "display_name": "Jared L.", "link": "https://stackoverflow.com/users/9472989/jared-l"}, "edited": false, "score": 0, "creation_date": 1555348822, "post_id": 55694167, "comment_id": 98071243, "body": "Hello, thank you, but I tried that and then I tried to use the <code>menuLayout.setVisibility</code> and <code>menuLayout.visibility</code> methods and they still don&#39;t work. Also, i do want the Layout hidden at first, then only displayed when <code>menuBtn</code> is pressed, so I think using <code>android:visibility=&quot;gone&quot;</code> would be applicable here."}, {"owner": {"reputation": 311, "user_id": 6529830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lYeJGxADpww/AAAAAAAAAAI/AAAAAAAABYA/T0L7Ea2A1Lo/photo.jpg?sz=128", "display_name": "David Enoma", "link": "https://stackoverflow.com/users/6529830/david-enoma"}, "reply_to_user": {"reputation": 157, "user_id": 9472989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d9d85efd2c218abdfce8ba6a24be2a?s=128&d=identicon&r=PG&f=1", "display_name": "Jared L.", "link": "https://stackoverflow.com/users/9472989/jared-l"}, "edited": false, "score": 0, "creation_date": 1555356930, "post_id": 55694167, "comment_id": 98074680, "body": "Okay cool, but I guess deep thought has given the answer. Cheers"}], "tags": [], "owner": {"reputation": 311, "user_id": 6529830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lYeJGxADpww/AAAAAAAAAAI/AAAAAAAABYA/T0L7Ea2A1Lo/photo.jpg?sz=128", "display_name": "David Enoma", "link": "https://stackoverflow.com/users/6529830/david-enoma"}, "is_accepted": false, "score": 0, "last_activity_date": 1555348064, "creation_date": 1555348064, "answer_id": 55694167, "question_id": 55693676, "link": "https://stackoverflow.com/questions/55693676/cannot-call-setvisibility-method-when-trying-to-show-unhide-my-linearlayout/55694167#55694167", "title": "Cannot call setVisibility method when trying to show/unhide my LinearLayout", "body": "<p>You have a number of different layout files. You have to give the particular layout file you want with an ID and I see that you have done that. Remove the android:visiility=\"gone\" attribute from the parent linear layout.</p>\n"}, {"tags": [], "owner": {"reputation": 702, "user_id": 3975049, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdb746db08a61f7755392f4320eeab49?s=128&d=identicon&r=PG&f=1", "display_name": "deepThought", "link": "https://stackoverflow.com/users/3975049/deepthought"}, "is_accepted": true, "score": 3, "last_activity_date": 1555349453, "creation_date": 1555349453, "answer_id": 55694490, "question_id": 55693676, "link": "https://stackoverflow.com/questions/55693676/cannot-call-setvisibility-method-when-trying-to-show-unhide-my-linearlayout/55694490#55694490", "title": "Cannot call setVisibility method when trying to show/unhide my LinearLayout", "body": "<p>use <code>menuLayout.visibility=View.VISIBLE</code> to visible and <code>menuLayout.visibility=View.GONE</code> to invisible or to hide</p>\n"}], "owner": {"reputation": 157, "user_id": 9472989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d9d85efd2c218abdfce8ba6a24be2a?s=128&d=identicon&r=PG&f=1", "display_name": "Jared L.", "link": "https://stackoverflow.com/users/9472989/jared-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 1, "accepted_answer_id": 55694490, "answer_count": 2, "score": 0, "last_activity_date": 1555349453, "creation_date": 1555346218, "question_id": 55693676, "link": "https://stackoverflow.com/questions/55693676/cannot-call-setvisibility-method-when-trying-to-show-unhide-my-linearlayout", "title": "Cannot call setVisibility method when trying to show/unhide my LinearLayout", "body": "<p>I am trying to show a LinearLayout on button press. I cannot call the <code>menuLayout.setVisibility(menuLayout.VISIBLE)</code> method, I get an error every time. It does ask to convert it to Kotlin: <code>menuLayout.visibility = menuLayout.VISIBLE</code> but it still doesn't work.</p>\n\n<p>ExamActivity.kt</p>\n\n<pre><code>import android.content.Intent\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.widget.Button\nimport android.widget.LinearLayout\nimport kotlinx.android.synthetic.main.activity_exam.*\n\nclass ExamActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_exam)\n\n        val menuLayout: LinearLayout = this.LinearLayoutMenu\n\n        val menuBtn: Button = this.menuBtn\n\n        menuBtn.setOnClickListener {\n            menuLayout.visibility = menuLayout.VISIBLE\n            menuLayout.setVisibility(menuLayout.VISIBLE)\n        }\n    }\n}\n</code></pre>\n\n<p>activity_exam.xml</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".ExamActivity\"\n        android:background=\"@color/colorGrayBgd\"&gt;\n    &lt;LinearLayout\n            &lt;-- hidden to save time --&gt;\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n            android:orientation=\"vertical\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" android:id=\"@+id/LinearLayoutMenu\"\n            android:layout_marginHorizontal=\"24dp\"\n            android:weightSum=\"3\"\n            android:gravity=\"center\" android:visibility=\"gone\" tools:layout_editor_absoluteX=\"24dp\"&gt;\n        &lt;LinearLayout\n                android:orientation=\"vertical\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0dp\"\n                android:layout_weight=\"2\"\n                android:gravity=\"center\"\n                android:weightSum=\"100\"&gt;\n            &lt;TextView\n                    android:text=\"PAUSED\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"0dp\" android:id=\"@+id/titleTextView\"\n                    android:layout_weight=\"20\"\n                    android:textSize=\"46dp\"\n                    android:gravity=\"center\"/&gt;\n            &lt;View\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"0dp\" android:id=\"@+id/separatorView\"\n                    android:layout_weight=\"3\"\n                    android:background=\"@android:color/black\"/&gt;\n            &lt;LinearLayout\n                    android:orientation=\"horizontal\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"0dp\" android:id=\"@+id/LinearLayoutTimeQuestionNumber\"\n                    android:layout_weight=\"15\"&gt;\n                &lt;TextView\n                        android:text=\"Time Remaining\"\n                        android:layout_width=\"0dp\"\n                        android:layout_height=\"match_parent\" android:id=\"@+id/timeTextView\" android:layout_weight=\"1\"\n                        android:textSize=\"16dp\"\n                        android:gravity=\"center\"/&gt;\n                &lt;TextView\n                        android:text=\"Questions Remaining\"\n                        android:layout_width=\"0dp\"\n                        android:layout_height=\"match_parent\" android:id=\"@+id/questionNumberTextView\"\n                        android:layout_weight=\"1\"\n                        android:textSize=\"16dp\"\n                        android:gravity=\"center\"/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;Button\n                    android:text=\"Report Question\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"0dp\" android:id=\"@+id/reportQuestion\"\n                    android:layout_weight=\"20\"\n                    android:textSize=\"24dp\"/&gt;\n            &lt;Button\n                    android:text=\"Quit\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"0dp\" android:id=\"@+id/quitButton\"\n                    android:layout_weight=\"20\"\n                    android:textSize=\"24dp\"/&gt;\n            &lt;Button\n                    android:text=\"Resume\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"0dp\" android:id=\"@+id/resumeButton\"\n                    android:layout_weight=\"20\"\n                    android:textSize=\"24dp\"/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>I am expecting <code>LinearLayoutMenu</code> to be set to visible, but the code I have will not work.</p>\n"}, {"tags": ["image-processing", "kotlin", "png", "jpeg", "rgba"], "comments": [{"owner": {"reputation": 144829, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1555346667, "post_id": 55693479, "comment_id": 98070279, "body": "I don&#39;t know anything about Kotlin, but you probably want <code>val g = (color and 0x0000ff00) &gt;&gt; 8</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "is_accepted": false, "score": 1, "last_activity_date": 1555393224, "creation_date": 1555393224, "answer_id": 55701235, "question_id": 55693479, "link": "https://stackoverflow.com/questions/55693479/png-outputs-alpha-channel-but-no-rgb-and-jpg-outputs-rgb-but-no-alpha/55701235#55701235", "title": "PNG outputs alpha channel but no RGB and JPG outputs RGB but no alpha", "body": "<p><code>setRGB</code> uses <code>TYPE_INT_ARGB</code> as color model. As your bit masks are setting the alpha channel to 0 the images appear to be empty. Set alpha to ff for the images to be shown.</p>\n\n<pre><code>val a = color and 0xff000000.toInt()\nval r = (color and 0x00ff0000) or 0xff000000.toInt()\nval g = (color and 0x0000ff00) or 0xff000000.toInt()\nval b = (color and 0x000000ff) or 0xff000000.toInt() \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5826715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b068479d6c7c07be1c0c4d12eb558f7?s=128&d=identicon&r=PG", "display_name": "andakawa", "link": "https://stackoverflow.com/users/5826715/andakawa"}, "is_accepted": false, "score": 0, "last_activity_date": 1555399843, "creation_date": 1555399843, "answer_id": 55702841, "question_id": 55693479, "link": "https://stackoverflow.com/questions/55693479/png-outputs-alpha-channel-but-no-rgb-and-jpg-outputs-rgb-but-no-alpha/55702841#55702841", "title": "PNG outputs alpha channel but no RGB and JPG outputs RGB but no alpha", "body": "<p>The JPEG File Format does not hold any alpha-channels - what you could do to recreate some sort of transparency with JPEGs is to add another layer consisting of a monochromatic image and then filter the image through that but that is a really special use case and most likely nothing you want to do in this example.</p>\n"}, {"tags": [], "owner": {"reputation": 23877, "user_id": 1428606, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5daf03972dae4f96a2d09ca5cc681920?s=128&d=identicon&r=PG", "display_name": "Harald K", "link": "https://stackoverflow.com/users/1428606/harald-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1555403969, "creation_date": 1555403969, "answer_id": 55703921, "question_id": 55693479, "link": "https://stackoverflow.com/questions/55693479/png-outputs-alpha-channel-but-no-rgb-and-jpg-outputs-rgb-but-no-alpha/55703921#55703921", "title": "PNG outputs alpha channel but no RGB and JPG outputs RGB but no alpha", "body": "<p>The reason your code don't work as intended, is partly because you create new <code>BufferedImage</code>s based on the original type:</p>\n\n<pre><code>BufferedImage(original.width, original.height, original.type)\n</code></pre>\n\n<p>The original type <em>will vary based on the input image</em>. For JPEG, it will typically be <code>TYPE_3BYTE_BGR</code> (which has no alpha). For PNG it depends on the type or PNG (grayscale, palette, true color, with or without alpha, etc). Your input PNG seems to be true color with alpha, probably resulting in <code>TYPE_4BYTE_ABGR</code> or <code>TYPE_INT_ARGB</code>. </p>\n\n<p>Instead, you can either create 4 grayscale images (just \"levels\") using <code>TYPE_BYTE_GRAY</code>, or as you do now, 4 ARGB ones using <code>TYPE_INT_ARGB</code> (sorry if my Kotlin syntax is off, I mostly program Java these days):</p>\n\n<pre><code>BufferedImage(original.width, original.height, BufferedImage.TYPE_INT_ARGB)\n</code></pre>\n\n<p>Next, as @AlexanderEgger already pointed out, the <code>set/getRGB</code> methods operates in packed ARGB format, so you need to make sure the colors are opaque (<code>and</code>ing with <em>just</em> the color mask, will result in fully transparent color):</p>\n\n<pre><code>val a = color and 0xff000000.toInt()\nval r = (color and 0x00ff0000) or 0xff000000.toInt()\nval g = (color and 0x0000ff00) or 0xff000000.toInt()\nval b = (color and 0x000000ff) or 0xff000000.toInt()  \n</code></pre>\n\n<p>Or, if you like the levels approach, you do as @MarkSetchell suggests, and create all gray images (again, Kotlin syntax may be a little off):</p>\n\n<pre><code>BufferedImage(original.width, original.height, BufferedImage.TYPE_BYTE_GRAY)\n</code></pre>\n\n<p>...</p>\n\n<pre><code>val a = (color &gt;&gt; 24) and 0xff\nval r = (color &gt;&gt; 16) and 0xff\nval g = (color &gt;&gt;  8) and 0xff\nval b =  color        and 0xff\n\nval aa = 0xff000000.toInt() or (a &lt;&lt; 16) or (a &lt;&lt; 8) or a\nval rr = 0xff000000.toInt() or (r &lt;&lt; 16) or (r &lt;&lt; 8) or r\nval gg = 0xff000000.toInt() or (g &lt;&lt; 16) or (g &lt;&lt; 8) or g\nval bb = 0xff000000.toInt() or (b &lt;&lt; 16) or (b &lt;&lt; 8) or b\n</code></pre>\n\n<p>(and pass <code>aa</code>, <code>rr</code>, <code>gg</code> and <code>bb</code> to <code>setRGB</code>).</p>\n"}], "owner": {"reputation": 3, "user_id": 10247549, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SmRVc8eyIOE/AAAAAAAAAAI/AAAAAAAAAtg/unZAPtp_zow/photo.jpg?sz=128", "display_name": "Aut0", "link": "https://stackoverflow.com/users/10247549/aut0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 55703921, "answer_count": 3, "score": 0, "last_activity_date": 1555403969, "creation_date": 1555345379, "question_id": 55693479, "link": "https://stackoverflow.com/questions/55693479/png-outputs-alpha-channel-but-no-rgb-and-jpg-outputs-rgb-but-no-alpha", "title": "PNG outputs alpha channel but no RGB and JPG outputs RGB but no alpha", "body": "<p>I want to split a PNG file into 4 more PNGs, 3 for RGB and one alpha. When I input a PNG, the alpha channel is output correctly, but the RGB channels output nothing. If I input a JPG the RGB channels output correctly, but alpha fails because there is no alpha channel to get.</p>\n\n<p>I've tried using multiple images all of which were either PNG or JPG and they all fail in the same way I've described.</p>\n\n<pre><code>val original = ImageIO.read(File(\"images/input.png\"))\n\nval alpha = BufferedImage(original.width, original.height, original.type)\nval red = BufferedImage(original.width, original.height, original.type)\nval green = BufferedImage(original.width, original.height, original.type)\nval blue = BufferedImage(original.width, original.height, original.type)\n\nfor (y in 0 until original.height) {\n    for (x in 0 until original.width) {\n        val color = original.getRGB(x,y)\n\n        val a = color  and 0xff000000.toInt()\n        val r = color  and 0x00ff0000\n        val g = color  and 0x0000ff00\n        val b = color  and 0x000000ff\n\n        alpha.setRGB(x,y,a)\n        red.setRGB(x,y,r)\n        green.setRGB(x,y,g)\n        blue.setRGB(x,y,b)\n\n    }\n}\n\nImageIO.write(alpha,\"png\", File(\"images/alpha.png\"))\nImageIO.write(red,\"png\", File(\"images/red.png\"))\nImageIO.write(green,\"png\", File(\"images/green.png\"))\nImageIO.write(blue,\"png\", File(\"images/blue.png\"))\n</code></pre>\n\n<p>I expect to receive 4 outputs with their respective channels alone, but I receive only an alpha channel with a PNG and no alpha channel with a JPG.</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "is_accepted": false, "score": 3, "last_activity_date": 1555343739, "last_edit_date": 1555343739, "creation_date": 1555343308, "answer_id": 55692894, "question_id": 55692725, "link": "https://stackoverflow.com/questions/55692725/how-can-i-use-vararg-with-different-generics-in-kotlin/55692894#55692894", "title": "How can I use vararg with different generics in Kotlin?", "body": "<p>If you want to store the different functions together, you need to treat the parameter type <code>T</code> with <code>out</code> variance. This means <code>T</code> is only used in the <em>output</em> of the class. In practice, this means that Conversions of <code>Spec&lt;Derived&gt;</code> -> <code>Spec&lt;Base&gt;</code> are allowed, if <code>Derived</code> extends/implements <code>Base</code>.</p>\n\n<p>Without such a constraint, the function types are not related, and as such you cannot store them in a common array (varargs are just syntactic sugar for array parameters).</p>\n\n<p>Example:</p>\n\n<pre><code>class Spec&lt;out T&gt;\n\nfun createStringSpec() = Spec&lt;String&gt;()\nfun createIntSpec() = Spec&lt;Int&gt;()\n\nfun &lt;T&gt; ifNotNullCreateSpec(vararg pairs: Pair&lt;T, () -&gt; Spec&lt;T&gt;&gt;) = Unit\n\nfun main() {\n    ifNotNullCreateSpec(\"asdf\" to ::createStringSpec, 5 to ::createIntSpec)\n}\n</code></pre>\n\n<p>With a parameter <code>T</code> such as in <code>(T) -&gt; Spec&lt;T&gt;</code>, the <code>T</code> type also appears in the <em>input</em> of the function type. This means that you can no longer store the function types together, because they take parameters of different types -- with which type would you invoke such a function?</p>\n\n<p>What you would need to do here is to find the most common denominator. One example is to accept a <code>Any</code> parameter and do a runtime check/dispatch for the actual type.</p>\n\n<p>See also my recent answer here: <a href=\"https://stackoverflow.com/a/55572849\">https://stackoverflow.com/a/55572849</a></p>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 4906544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aRrby.jpg?s=128&g=1", "display_name": "Alexey Stepanov", "link": "https://stackoverflow.com/users/4906544/alexey-stepanov"}, "edited": false, "score": 0, "creation_date": 1555355071, "post_id": 55694013, "comment_id": 98073913, "body": "Great solution, thanks! I had to go a little deeper:  with this <code>infix fun &lt;P&gt; P?.ifNonNull(createSpecFun: (P) -&gt; Specification&lt;T&gt;) = this?.let(createSpecFun)</code>  I take a list of specifications by: <code>combineSpec(specifications: List&lt;Specification&lt;T&gt;&gt;)</code> and  <code>combineSpec(listOf(&quot;asdf&quot; ifNonNull ::createForName))</code>"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 143, "user_id": 4906544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aRrby.jpg?s=128&g=1", "display_name": "Alexey Stepanov", "link": "https://stackoverflow.com/users/4906544/alexey-stepanov"}, "edited": false, "score": 0, "creation_date": 1555359498, "post_id": 55694013, "comment_id": 98075630, "body": "Yes, that&#39;s also entirely reasonable. Of course, you can make <code>combineSpec</code> use <code>vararg</code>."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1555347435, "creation_date": 1555347435, "answer_id": 55694013, "question_id": 55692725, "link": "https://stackoverflow.com/questions/55692725/how-can-i-use-vararg-with-different-generics-in-kotlin/55694013#55694013", "title": "How can I use vararg with different generics in Kotlin?", "body": "<p>Instead of using <code>Pair</code>, consider defining your own type:</p>\n\n<pre><code>class WithSpec&lt;P, T&gt;(val prop: P?, val funCreateSpec: (P) -&gt; Specification&lt;T&gt;) {\n    fun spec() = prop?.let(funCreateSpec)\n}\n</code></pre>\n\n<p>Why? Because it allows you to do</p>\n\n<pre><code>class GeneralSpecification&lt;T&gt; {\n    fun ifNotNullCreateSpec(vararg propToCreateFun: WithSpec&lt;*, T&gt;): List&lt;Specification&lt;T&gt;&gt; = \n       propToCreateFun.mapNotNull { it.spec() }\n    ...\n}\n\nifNotNullCreateSpec(WithSpec(\"asdf\", ::createStringSpec), WithSpec(5, ::createIntSpec))\n</code></pre>\n\n<p>You can easily add a <code>to</code>-like extension function returning <code>WithSpec</code> if you want to get even closer to your original code.</p>\n\n<p>See <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html#star-projections</a> if you don't know what <code>*</code> means.</p>\n"}], "owner": {"reputation": 143, "user_id": 4906544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aRrby.jpg?s=128&g=1", "display_name": "Alexey Stepanov", "link": "https://stackoverflow.com/users/4906544/alexey-stepanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1704, "favorite_count": 0, "accepted_answer_id": 55694013, "answer_count": 2, "score": 1, "last_activity_date": 1555347435, "creation_date": 1555342703, "question_id": 55692725, "link": "https://stackoverflow.com/questions/55692725/how-can-i-use-vararg-with-different-generics-in-kotlin", "title": "How can I use vararg with different generics in Kotlin?", "body": "<p>I want to use vararg with generics with different types of each arguments</p>\n\n<p>what I've already tried:</p>\n\n<pre><code>class GeneralSpecification&lt;T&gt; {\n    fun &lt;P&gt; ifNotNullCreateSpec(vararg propToCreateFun: Pair&lt;P?, (P) -&gt; Specification&lt;T&gt;&gt;): List&lt;Specification&lt;T&gt;&gt; = \n       propToCreateFun.mapNotNull { (prop, funCreateSpec) -&gt;\n            prop?.let(funCreateSpec)\n    }\n...\n}\n</code></pre>\n\n<p>but I can't use this like:</p>\n\n<pre><code>ifNotNullCreateSpec(\"asdf\" to ::createStringSpec, 5 to ::createIntSpec)\n</code></pre>\n\n<p>(different types in vararg pairs)</p>\n\n<p>How can I use vararg with different generics, when I need to restrict types in vararg? (pair.first type depends on pair.second type)</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "viewmodel", "swiperefreshlayout"], "comments": [{"owner": {"reputation": 1129, "user_id": 11233871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GgPqb.png?s=128&g=1", "display_name": "Happy Singh", "link": "https://stackoverflow.com/users/11233871/happy-singh"}, "edited": false, "score": 0, "creation_date": 1555341946, "post_id": 55692360, "comment_id": 98067754, "body": "put notifyDataSetChanged() in Oberserver also"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "reply_to_user": {"reputation": 1129, "user_id": 11233871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GgPqb.png?s=128&g=1", "display_name": "Happy Singh", "link": "https://stackoverflow.com/users/11233871/happy-singh"}, "edited": false, "score": 0, "creation_date": 1555342242, "post_id": 55692360, "comment_id": 98067935, "body": "@HappySingh added, result still same"}, {"owner": {"reputation": 1129, "user_id": 11233871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GgPqb.png?s=128&g=1", "display_name": "Happy Singh", "link": "https://stackoverflow.com/users/11233871/happy-singh"}, "edited": false, "score": 0, "creation_date": 1555342444, "post_id": 55692360, "comment_id": 98068050, "body": "in setOrders() you are setting same order list. Use Orders instead of order"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "reply_to_user": {"reputation": 1129, "user_id": 11233871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GgPqb.png?s=128&g=1", "display_name": "Happy Singh", "link": "https://stackoverflow.com/users/11233871/happy-singh"}, "edited": false, "score": 0, "creation_date": 1555342582, "post_id": 55692360, "comment_id": 98068114, "body": "@HappySingh made a mistake there. Post updated."}, {"owner": {"reputation": 1129, "user_id": 11233871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GgPqb.png?s=128&g=1", "display_name": "Happy Singh", "link": "https://stackoverflow.com/users/11233871/happy-singh"}, "edited": false, "score": 0, "creation_date": 1555342734, "post_id": 55692360, "comment_id": 98068193, "body": "Can you please post full code so it can be easy to understand"}], "answers": [{"comments": [{"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1555342279, "post_id": 55692492, "comment_id": 98067964, "body": "yes,I did. Is on this line <code>list?.adapter = mAdapter</code>"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1555342585, "post_id": 55692492, "comment_id": 98068116, "body": "Ok 2 things , in your RecyclerView check the getItemCount methot , it should not return 0 . And the other , please se the LayoutManager for your recyclerview : Example : rv.layoutManager = LinearLayoutManager(context) and than set your adapter."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1555343523, "post_id": 55692492, "comment_id": 98068666, "body": "check recyclerview height and width"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1555343623, "post_id": 55692492, "comment_id": 98068727, "body": "and a question , why are you passing map in the begining ?"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1555343918, "post_id": 55692492, "comment_id": 98068870, "body": "I need to use that map inside <code>onBindView</code>"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1555344092, "post_id": 55692492, "comment_id": 98068968, "body": "That is why I asked . Can you make sure that you are setting some values on the onBindViewHolder from the list that you are observing ?"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1555341943, "creation_date": 1555341943, "answer_id": 55692492, "question_id": 55692360, "link": "https://stackoverflow.com/questions/55692360/viewmodel-in-recyclerview/55692492#55692492", "title": "ViewModel in recyclerView", "body": "<p>Are you using <code>yourRecyclerView.setAdapter(mAdapter )</code> anywhere ? Or better : have you initialized the recyclerview and than setting the adapter? Case you are using databinding check your adapter atribute in the recyclerview xml tag </p>\n"}, {"tags": [], "owner": {"reputation": 1129, "user_id": 11233871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GgPqb.png?s=128&g=1", "display_name": "Happy Singh", "link": "https://stackoverflow.com/users/11233871/happy-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1555342624, "creation_date": 1555342624, "answer_id": 55692705, "question_id": 55692360, "link": "https://stackoverflow.com/questions/55692360/viewmodel-in-recyclerview/55692705#55692705", "title": "ViewModel in recyclerView", "body": "<p>You are setting the same list in your setOrders() functions \nUse this instead of your function </p>\n\n<pre><code>internal fun setOrders(orders: List&lt;Order&gt;) {\n    this.order = orders.sortedBy { it.created_at }\n    notifyDataSetChanged()\n}\n</code></pre>\n"}], "owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 55692705, "answer_count": 2, "score": 0, "last_activity_date": 1555342624, "creation_date": 1555341518, "last_edit_date": 1555342563, "question_id": 55692360, "link": "https://stackoverflow.com/questions/55692360/viewmodel-in-recyclerview", "title": "ViewModel in recyclerView", "body": "<p>I'm using <code>ViewModel</code> to load data and set it into <code>SwipeRefreshLayout RecyclerView</code>   </p>\n\n<pre><code>    mAdapter = NewRecyclerViewAdapter(listAct, this@MainActivity, hashMap)\n    list?.adapter = mAdapter\n\n     workViewModel.getRequests()?.observe(\n                this, Observer { resource -&gt;\n                    resource?.data?.let {\n                        Log.d(TAG,it.size)\n                        mAdapter.setOrders(it)\n                    }\n                }\n            )\n\n  workViewModel = ViewModelProviders.of(\n            this,\n            ViewModelFactory.getInstance(activity.application)\n        ).get(WorkViewModel::class.java)\n                   .......\n\n\nswipe_container.setOnRefreshListener {\n            mAdapter.setWorkOrders(listAct)\n            mAdapter.notifyDataSetChanged()\n        }    \n</code></pre>\n\n<p>I use the log to debug, it display size 2. Data seems successful to retrieve, but it did not set to the <code>recyclerView</code>.</p>\n\n<p><strong>Adapter</strong></p>\n\n<pre><code> private var order = emptyList&lt;Order&gt;()\n     ......\n     internal fun setOrders(order: List&lt;Order&gt;) {\n            this.order = order\n            this.order.sortedBy { it.created_at }\n            notifyDataSetChanged()\n        }\n</code></pre>\n"}, {"tags": ["kotlin", "mvp", "tornadofx"], "owner": {"reputation": 461, "user_id": 7101333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/px3ni.jpg?s=128&g=1", "display_name": "William Stanley", "link": "https://stackoverflow.com/users/7101333/william-stanley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1577885603, "creation_date": 1555341163, "last_edit_date": 1577885603, "question_id": 55692250, "link": "https://stackoverflow.com/questions/55692250/implementing-mvp-correctly-in-tornadofx-without-using-inject", "title": "Implementing MVP correctly in TornadoFX without using inject()", "body": "<p>I want to implement MVP in TornadoFX without using it's inject (because it hurts readability and requires me to depend on something I cannot control).</p>\n\n<p>My idea of good MVP implementation is as follows:</p>\n\n<pre><code>interface ModelEventHandler {...}\ninterface ViewEventHandler {...}\nclass Model(val eventHandlers: List&lt;ModelEventHandler&gt; = listOf&lt;ModelEventHandler&gt;())\nclass View(val eventHandlers: List&lt;ViewEventHandler&gt; = listOf&lt;ViewEventHandler&gt;())\nclass Presenter(val view: View): ModelEventHandler, ViewEventHandler\n</code></pre>\n\n<p>Which can then be used in the following manner:</p>\n\n<pre><code>val model = Model()\nval view = View()\nval presenter = Presenter(view)\nmodel.eventHandlers += presenter\nview.eventHandlers += presenter\n</code></pre>\n\n<p>The problem is that with TornadoFX you are forced to let the <code>App</code> class do the view initialization for you and you can't pass any parameters, you can't also choose the order in which the model, view and the presenter be initialized (which is not that big of a problem here, but I can imagine it causing some issues).</p>\n"}, {"tags": ["kotlin", "upload", "google-cloud-firestore"], "owner": {"reputation": 423, "user_id": 6849045, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ba8cc095ecdee411223b06f5cfef4f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Typhaon", "link": "https://stackoverflow.com/users/6849045/typhaon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555339065, "creation_date": 1555337088, "last_edit_date": 1555339065, "question_id": 55690961, "link": "https://stackoverflow.com/questions/55690961/how-to-upload-data-from-pc-to-firestore-getting-failed-to-detect-whether-we-ar", "title": "How to upload data from pc to firestore. Getting &quot;Failed to detect whether we are running on Google Compute Engine.&quot;", "body": "<p>I'm trying to upload a couple of xml files to firestore from my computer (1000 or so). The users in my android app need to be able to search for these files, and because firebase storage doesn't provide that feature I thought I'd just dump them in firestore.</p>\n\n<p>To test it I'm trying to upload 10 files for a start. The code I have looks something like this:</p>\n\n<pre><code>fun main(){\n    val db = getDatabase()\n    getXMLFiles().take(10).forEach { file -&gt;\n        db.collection(\"xml\").add(XMLFile(file.name, file))\n    }\n}\n\nprivate fun getDatabase() : Firestore {\n    val serviceAccount = FileInputStream(\"&lt;project name&gt;-firebase-adminsdk-&lt;some other stuff&gt;.json\")\n\n    val firestoreOptions = FirestoreOptions.newBuilder()\n        .setTimestampsInSnapshotsEnabled(true).build()\n\n    val options = FirebaseOptions.Builder()\n        .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n        .setDatabaseUrl(\"https://&lt;project name&gt;.firebaseio.com\")\n        .setFirestoreOptions(firestoreOptions)\n        .build()\n\n    FirebaseApp.initializeApp(options)\n\n    return FirestoreClient.getFirestore()\n}\n\nfun getXMLFiles() = File(\"/XML\").walk().asIterable()\n\ndata class XMLFile(val name: String, val file: File)\n</code></pre>\n\n<p>Nothing gets uploaded and half the time (weirdly inconsistently) I get this error message:</p>\n\n<pre><code>Apr 15, 2019 2:05:53 PM com.google.auth.oauth2.ComputeEngineCredentials runningOnComputeEngine\nWARNING: Failed to detect whether we are running on Google Compute Engine.\njava.net.ConnectException: No route to host (connect failed)\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n    at java.base/java.net.Socket.connect(Socket.java:591)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)\n    at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1242)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1181)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1075)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1009)\n    at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:104)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:981)\n    at com.google.auth.oauth2.ComputeEngineCredentials.runningOnComputeEngine(ComputeEngineCredentials.java:210)\n    at com.google.auth.oauth2.DefaultCredentialsProvider.tryGetComputeCredentials(DefaultCredentialsProvider.java:290)\n    at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentialsUnsynchronized(DefaultCredentialsProvider.java:207)\n    at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:124)\n    at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:127)\n    at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:100)\n    at com.google.cloud.ServiceOptions.defaultCredentials(ServiceOptions.java:304)\n    at com.google.cloud.ServiceOptions.&lt;init&gt;(ServiceOptions.java:278)\n    at com.google.cloud.firestore.FirestoreOptions.&lt;init&gt;(FirestoreOptions.java:225)\n    at com.google.cloud.firestore.FirestoreOptions$Builder.build(FirestoreOptions.java:219)\n    at UploaderKt.getDatabase(Uploader.kt:32)\n    at UploaderKt.main(Uploader.kt:13)\n    at UploaderKt.main(Uploader.kt)\n\nSLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>I checked, and it does find the .json with the credentials, so that is not the problem. I can't find anything anywhere about the error message </p>\n\n<pre><code>Apr 15, 2019 2:05:53 PM com.google.auth.oauth2.ComputeEngineCredentials runningOnComputeEngine\nWARNING: Failed to detect whether we are running on Google Compute Engine.\n</code></pre>\n\n<p>So I hoped someone could help.</p>\n\n<p>Btw, without showing to much, my .json looks like this:</p>\n\n<pre><code>{\n  \"type\": \"service_account\",\n  \"project_id\": \"XXX\",\n  \"private_key_id\": \"XXX\",\n  \"private_key\": \"-----BEGIN PRIVATE KEY-----XXX-----END PRIVATE KEY-----\\n\",\n  \"client_email\": \"firebase-adminsdk-XXX@XXX.iam.gserviceaccount.com\",\n  \"client_id\": \"XXX\",\n  \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\n  \"token_uri\": \"https://oauth2.googleapis.com/token\",\n  \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\n  \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-XXX%40XXX.iam.gserviceaccount.com\"\n}\n</code></pre>\n\n<p>Edit: might be stating the obvious but I have no problems connecting to the internet otherwise</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1130, "user_id": 9584778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dp3b0.jpg?s=128&g=1", "display_name": "sandhya sasane", "link": "https://stackoverflow.com/users/9584778/sandhya-sasane"}, "edited": false, "score": 0, "creation_date": 1555337129, "post_id": 55690929, "comment_id": 98064843, "body": "Upvoted as looks good question, answering below."}], "answers": [{"comments": [{"owner": {"reputation": 1130, "user_id": 9584778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dp3b0.jpg?s=128&g=1", "display_name": "sandhya sasane", "link": "https://stackoverflow.com/users/9584778/sandhya-sasane"}, "edited": false, "score": 0, "creation_date": 1555340308, "post_id": 55691026, "comment_id": 98066787, "body": "How allowBackup = &quot;true&quot; will store device dependent settings? My device is different device id, imei, my name, email, my own app settings, may be i am demo, how it will come to your device with your solution?"}], "tags": [], "owner": {"reputation": 785, "user_id": 5571700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/edfa10f7db9a89a516b196098f6a1409?s=128&d=identicon&r=PG&f=1", "display_name": "p.mathew13", "link": "https://stackoverflow.com/users/5571700/p-mathew13"}, "is_accepted": false, "score": 0, "last_activity_date": 1555337383, "last_edit_date": 1555337383, "creation_date": 1555337268, "answer_id": 55691026, "question_id": 55690929, "link": "https://stackoverflow.com/questions/55690929/how-to-save-my-app-preference-and-retrieve-them-after-re-install-or-change-of-de/55691026#55691026", "title": "how to save my app preference and retrieve them after re-install or change of device", "body": "<p>You should use <code>allowBackup = \"true\"</code> in your manifest file. More details can be found here: <a href=\"https://developer.android.com/guide/topics/data/autobackup\" rel=\"nofollow noreferrer\">AutoBackup</a></p>\n"}, {"comments": [{"owner": {"reputation": 2057, "user_id": 6439023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-Z7XKDeTLdNw/AAAAAAAAAAI/AAAAAAAAACA/TlXVWsX_ZKc/photo.jpg?sz=128", "display_name": "Luca Nicoletti", "link": "https://stackoverflow.com/users/6439023/luca-nicoletti"}, "edited": false, "score": 1, "creation_date": 1555338499, "post_id": 55691291, "comment_id": 98065646, "body": "The only way to map something to a user, and retrieve that information after reinstallation of application or device changing, is to save that information into a server."}, {"owner": {"reputation": 1130, "user_id": 9584778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dp3b0.jpg?s=128&g=1", "display_name": "sandhya sasane", "link": "https://stackoverflow.com/users/9584778/sandhya-sasane"}, "reply_to_user": {"reputation": 2057, "user_id": 6439023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-Z7XKDeTLdNw/AAAAAAAAAAI/AAAAAAAAACA/TlXVWsX_ZKc/photo.jpg?sz=128", "display_name": "Luca Nicoletti", "link": "https://stackoverflow.com/users/6439023/luca-nicoletti"}, "edited": false, "score": 1, "creation_date": 1555340171, "post_id": 55691291, "comment_id": 98066704, "body": "@LucaNicoletti, Yes your answer is short and sweet, but as user is new to the development as he mentioned in his first line, i just elaborated him, for the developers nothing is magical, he has to code everything on his own for a dead machine"}, {"owner": {"reputation": 37, "user_id": 2465819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64d2a81b3289b2e75bfda44810692d4f?s=128&d=identicon&r=PG", "display_name": "user2465819", "link": "https://stackoverflow.com/users/2465819/user2465819"}, "edited": false, "score": 0, "creation_date": 1555349227, "post_id": 55691291, "comment_id": 98071422, "body": "thank you very much for your answer, I was hoping an easier solution exist but at least i have now a direction. I have to say thou that what I stated was indeed true , as you can see here it says in doc the exact copy/paste sentence...2nd paragraph here : <a href=\"https://developer.android.com/reference/kotlin/androidx/preference/PreferenceDataStore\" rel=\"nofollow noreferrer\">developer.android.com/reference/kotlin/androidx/preference/&hellip;</a> . This being said thanks for helping"}, {"owner": {"reputation": 1130, "user_id": 9584778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dp3b0.jpg?s=128&g=1", "display_name": "sandhya sasane", "link": "https://stackoverflow.com/users/9584778/sandhya-sasane"}, "reply_to_user": {"reputation": 37, "user_id": 2465819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64d2a81b3289b2e75bfda44810692d4f?s=128&d=identicon&r=PG", "display_name": "user2465819", "link": "https://stackoverflow.com/users/2465819/user2465819"}, "edited": false, "score": 0, "creation_date": 1555397853, "post_id": 55691291, "comment_id": 98085622, "body": "@user2465819, Answer editing please have a look over again"}], "tags": [], "owner": {"reputation": 1130, "user_id": 9584778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dp3b0.jpg?s=128&g=1", "display_name": "sandhya sasane", "link": "https://stackoverflow.com/users/9584778/sandhya-sasane"}, "is_accepted": true, "score": 1, "last_activity_date": 1555398678, "last_edit_date": 1555398678, "creation_date": 1555338115, "answer_id": 55691291, "question_id": 55690929, "link": "https://stackoverflow.com/questions/55690929/how-to-save-my-app-preference-and-retrieve-them-after-re-install-or-change-of-de/55691291#55691291", "title": "how to save my app preference and retrieve them after re-install or change of device", "body": "<blockquote>\n  <p>I read somewhere in the doc: \"...In most cases you want to use SharedPreferences as it is automatically backed up and migrated to new devices...\" </p>\n</blockquote>\n\n<ol>\n<li>Your words \"<em>backed up and migrated to new devices</em>\" is nowhere written nor its true.</li>\n<li>We use <code>SharedPreferences</code> in order to minimise the database operations, its like keeping variables handy. </li>\n</ol>\n\n<blockquote>\n  <p>On first install my app saves a few settings with SharedPreferences. It works great but if I uninstall the app or install it on another device the preference settings are lost. </p>\n</blockquote>\n\n<ol>\n<li>If you wants to store or remember the device dependent settings, use device id / imei_id and store it on your web server mysql database</li>\n<li>Even if user uninstalls app from the device and installs again anytime in future, make a call with async task to server by sending deviceid / imei_id and fetch its settings from mysql database and show it.</li>\n</ol>\n\n<blockquote>\n  <p>How can I have these settings saved online within google somehow to be\n  able to retrieve them if the user changes his phone or similar... </p>\n</blockquote>\n\n<ol>\n<li>If user changes device, you can do nothing. </li>\n<li>One way is, keep public device_id levels keys on server. </li>\n<li>If user changes device and uses that key, then show him a response, this key is assigned to another device, but if you are the same, wait for our support</li>\n<li>Call him, confirm he is the same old user with new device and delete his old entry from mysql and assign old key to the new device entry</li>\n<li>Or use OTP SMS system to identify already existing customers with unique phone numbers</li>\n<li>If OTP authentication code is correct then fetch settings for that user from the server, delete old mysql entry, modify new entry with old key and mobile number</li>\n</ol>\n\n<p>This should be the your direction</p>\n\n<h2>Edit : 2 ##</h2>\n\n<blockquote>\n  <p>I was hoping an easier solution exist but.... </p>\n</blockquote>\n\n<p>There is no short cuts for developers till the date, and it will be never. </p>\n\n<blockquote>\n  <p>Why, no short cuts / easy ways ?</p>\n</blockquote>\n\n<p>Any device ( mobile, desktop / laptop / any AI device ) which is operated by a system software, is able to perform the tasks as per it is structured. </p>\n\n<p>Ex : android is java based, obviously you can Make javascript based apps, but it is the extensions to the existing system, Android still has the base of Java virtual machine. ( Dalvic / Malvic like ) </p>\n\n<ol>\n<li>So, it is always better to use native <code>java</code></li>\n<li>Yes, <code>Kotlin</code> is best option now a days and better than hybrid approach</li>\n<li>Every way has its own advantages, disadvantages</li>\n<li>If you are developer, should go with <code>native</code> approach</li>\n<li>Now your java code never knows, which version it is running on, so you have to, <code>check android versions programming wise</code>, and decide the flow for above Marshmallow &amp; below marshmallow too, and it is explicitly done by developer by coding.</li>\n<li>Ex, once user registers, he never shown please register again screen, it is not the magic, nor google, nor, java, nor android does anything, developer has <code>decided</code>, <code>planned</code>, <code>architectured</code>, <code>designed</code>, <code>coded</code>, <code>tested</code> that.</li>\n<li>Even developers needs to take care of <code>exceptions</code>, you need to handle it in order to save your app from <code>crashing</code>. </li>\n<li>In short developer is <code>god</code>, who creates his <code>own universe</code>, and everything is <code>pre-planned</code> and <code>verified</code> thats it.</li>\n</ol>\n"}], "owner": {"reputation": 37, "user_id": 2465819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64d2a81b3289b2e75bfda44810692d4f?s=128&d=identicon&r=PG", "display_name": "user2465819", "link": "https://stackoverflow.com/users/2465819/user2465819"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 55691291, "answer_count": 2, "score": 2, "last_activity_date": 1555398678, "creation_date": 1555336999, "question_id": 55690929, "link": "https://stackoverflow.com/questions/55690929/how-to-save-my-app-preference-and-retrieve-them-after-re-install-or-change-of-de", "title": "how to save my app preference and retrieve them after re-install or change of device", "body": "<p>I'm new to app dev...</p>\n\n<p>I read somewhere in the doc: \"...In most cases you want to use SharedPreferences as it is automatically backed up and migrated to new devices...\"</p>\n\n<p>On first install my app saves a few settings with SharedPreferences. It works great but if I uninstall the app or install it on another device the preference settings are lost.</p>\n\n<p>How can I have these settings saved online within google somehow to be able to retrieve them if the user changes his phone or similar...</p>\n\n<p>Could someone point me in the right direction ?</p>\n"}, {"tags": ["android", "kotlin", "types"], "comments": [{"owner": {"reputation": 472, "user_id": 7002689, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207379979364379/picture?type=large", "display_name": "Leonardo Velozo", "link": "https://stackoverflow.com/users/7002689/leonardo-velozo"}, "edited": false, "score": 0, "creation_date": 1555336668, "post_id": 55690786, "comment_id": 98064552, "body": "<code>var startDate: object</code> ?"}, {"owner": {"reputation": 1685, "user_id": 3891038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXlsK.png?s=128&g=1", "display_name": "Julio E. Rodr&#237;guez Caba&#241;as", "link": "https://stackoverflow.com/users/3891038/julio-e-rodr%c3%adguez-caba%c3%b1as"}, "edited": false, "score": 0, "creation_date": 1555336716, "post_id": 55690786, "comment_id": 98064581, "body": "Don&#39;t use <code>object</code> in Kotlin, use <code>Any</code>."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 4, "creation_date": 1555336746, "post_id": 55690786, "comment_id": 98064600, "body": "<code>var startDate: Any? = null</code> is probably the closest thing, but IMHO it suggests some serious code organization problems."}, {"owner": {"reputation": 115, "user_id": 11359372, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oJ5W7lMKWx4/AAAAAAAAAAI/AAAAAAAAABI/yXp5pMa51Uw/photo.jpg?sz=128", "display_name": "Tanguy Epifanic", "link": "https://stackoverflow.com/users/11359372/tanguy-epifanic"}, "edited": false, "score": 0, "creation_date": 1555336864, "post_id": 55690786, "comment_id": 98064684, "body": "Thanks, it should help until we fix those organization problems!"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1555339672, "post_id": 55690786, "comment_id": 98066375, "body": "I must admit, I&#39;ve heard they added types to TypeScript so that you don&#39;t need to use <code>any</code> that often :P"}], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 7331042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e00db96e0c89df5a5c55729dce57ac?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitriy Pavlukhin", "link": "https://stackoverflow.com/users/7331042/dmitriy-pavlukhin"}, "is_accepted": false, "score": 0, "last_activity_date": 1555338062, "creation_date": 1555338062, "answer_id": 55691276, "question_id": 55690786, "link": "https://stackoverflow.com/questions/55690786/how-to-initialize-a-property-with-an-unknown-type-in-kotlin/55691276#55691276", "title": "How to initialize a property with an unknown type in Kotlin?", "body": "<p>Like <strong>Object</strong> as base class in java, you may use <strong>Any</strong> in kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "is_accepted": false, "score": 1, "last_activity_date": 1555338360, "creation_date": 1555338360, "answer_id": 55691370, "question_id": 55690786, "link": "https://stackoverflow.com/questions/55690786/how-to-initialize-a-property-with-an-unknown-type-in-kotlin/55691370#55691370", "title": "How to initialize a property with an unknown type in Kotlin?", "body": "<p>Use the type <code>Any</code> if the property can contain any object (but not <code>null</code>, which implies it must be initialized immediately).</p>\n\n<p>Use the type <code>Any?</code> if the property can contain any object or <code>null</code>. This is equivalent to Java's <code>Object</code> type.</p>\n\n<hr>\n\n<p>From a design point of view, it's of course nicer if you know the actual type and can make use of Kotlin's strong type system. If you or your team are defining the types, you might constrain them to implement a certain interface, so you don't assign arbitrary values to it. Later, when refactoring the application, you can remove this interface and will receive compile errors for all the occurrences, forcing you to properly fix it.</p>\n"}, {"tags": [], "owner": {"reputation": 315, "user_id": 10216108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/564b643648889da5706f4524a94db95a?s=128&d=identicon&r=PG", "display_name": "Noah Studach", "link": "https://stackoverflow.com/users/10216108/noah-studach"}, "is_accepted": false, "score": 0, "last_activity_date": 1555339489, "last_edit_date": 1555339489, "creation_date": 1555338954, "answer_id": 55691551, "question_id": 55690786, "link": "https://stackoverflow.com/questions/55690786/how-to-initialize-a-property-with-an-unknown-type-in-kotlin/55691551#55691551", "title": "How to initialize a property with an unknown type in Kotlin?", "body": "<p>As mentioned you should use the Any type. Depending on your need use val or var (<a href=\"https://stackoverflow.com/questions/44200075/val-and-var-in-kotlin\">val vs var</a>)</p>\n\n<pre><code>    var myVal : Any\n</code></pre>\n\n<p>If your variable can also be null us <code>?</code></p>\n\n<pre><code>    var myVar: Any?\n    val myVal : Any?\n</code></pre>\n\n<p>You also need to either make you variable abstract or declare that it will be initialized later. <code>lateinit</code> is only valid for var, while abstract is applicable for val's and var's</p>\n\n<pre><code>    lateinit var myVar: Any\n    abstract val myVal : Any\n</code></pre>\n\n<p>Dont forget to check if <code>lateinit var</code> are initializerd:</p>\n\n<pre><code>if (::myVar.isInitialized) {\n    //use myVar\n}\n\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html\" rel=\"nofollow noreferrer\">More about the Any type</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/44200075/val-and-var-in-kotlin\">Null Safety</a></p>\n"}], "owner": {"reputation": 115, "user_id": 11359372, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oJ5W7lMKWx4/AAAAAAAAAAI/AAAAAAAAABI/yXp5pMa51Uw/photo.jpg?sz=128", "display_name": "Tanguy Epifanic", "link": "https://stackoverflow.com/users/11359372/tanguy-epifanic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1258, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1555339489, "creation_date": 1555336565, "last_edit_date": 1555336840, "question_id": 55690786, "link": "https://stackoverflow.com/questions/55690786/how-to-initialize-a-property-with-an-unknown-type-in-kotlin", "title": "How to initialize a property with an unknown type in Kotlin?", "body": "<p>I'm a beginner in Kotlin and I'm actually doing an Andro\u00efd application in Kotlin. I have to initalize some properties whose values are unknown (it isn't but it's hard to define from now) so I'd like to make as in TypeScript, for example: <code>public startDate: any;</code> which means that the type of startDate could be anything (it isn't secured but it helps to get the value anyway, not regarding what happens).</p>\n\n<p>Is there a way to do it in Kotlin?\nI tried the '?' or the * as in the List&lt;*> or parameters but it doesn't work that way.</p>\n\n<p>Thanks for reading!</p>\n"}, {"tags": ["android", "animation", "kotlin", "position", "android-animation"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "edited": false, "score": 0, "creation_date": 1555345184, "post_id": 55690942, "comment_id": 98069557, "body": "<code>setRequestedOrientation</code> gets an unresolved reference error when translated to kotlin. Any idea how to deal with that?"}, {"owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "edited": false, "score": 0, "creation_date": 1555346616, "post_id": 55690942, "comment_id": 98070256, "body": "Thanks for the link!"}], "tags": [], "owner": {"reputation": 4910, "user_id": 4896784, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7D2Mdu6NAdk/AAAAAAAAAAI/AAAAAAAAAQg/OgEfBdpBgXg/photo.jpg?sz=128", "display_name": "ismail alaoui", "link": "https://stackoverflow.com/users/4896784/ismail-alaoui"}, "is_accepted": false, "score": 1, "last_activity_date": 1555345404, "last_edit_date": 1555345404, "creation_date": 1555337027, "answer_id": 55690942, "question_id": 55690712, "link": "https://stackoverflow.com/questions/55690712/view-does-not-return-to-center-after-animation/55690942#55690942", "title": "View does not return to center after animation", "body": "<p>It happened because when you turn your phone your view is recreated , you should override this method in your activity:</p>\n\n<pre><code>@Override \npublic void  onConfigurationChanged(Configuration myConfig) \n\n { \n  super.onConfigurationChanged(myConfig); \n  int orient = getResources().getConfiguration().orientation;\n\n  switch(orient) \n  {\n   case Configuration.ORIENTATION_LANDSCAPE: setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n     break; \n    case Configuration.ORIENTATION_PORTRAIT:        \n\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT); \n   break; \n   default:\n     setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED); \n       }\n  }\n</code></pre>\n\n<p>Do not forget to add <code>android:configChange:\"orientation|screenSize\"</code> \nTo your activity tag in manifest </p>\n\n<p><strong>edit</strong></p>\n\n<p>kotlin : <a href=\"https://tutorial.eyehunts.com/android/set-entire-android-application-portrait-mode-portrait-orientation-kotlin/\" rel=\"nofollow noreferrer\">check this tuto</a></p>\n"}], "owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1587540841, "creation_date": 1555336348, "last_edit_date": 1587540841, "question_id": 55690712, "link": "https://stackoverflow.com/questions/55690712/view-does-not-return-to-center-after-animation", "title": "View does not return to center after animation", "body": "<p>So I have an animated view that I want to return to the center of the screen once the animation is done. I use this code to get the center of the view to the center of the screen:</p>\n\n<pre><code>    val screencenterX = (FullscreenActivity.metrics.widthPixels - mContentView.width) / 2\n    val screencenterY = (FullscreenActivity.metrics.heightPixels - mContentView.height) / 2\n\n    val soultostartx = ObjectAnimator.ofFloat(mContentView, \"x\", screencenterX.toFloat()).apply {\n        duration = 1\n    }\n    val soultostarty = ObjectAnimator.ofFloat(mContentView, \"y\", screencenterY.toFloat()).apply {\n        duration = 1\n    }\n\n    fun toStart() = AnimatorSet().apply {\n        play(soultostartx).with(soultostarty)\n        start()\n    }\n\ntoStart()\n</code></pre>\n\n<p>This works fine in portrait mode, but as soon as the phone is rotated to landscape, the view in question moves somewhere in the lower left quarter of the screen instead. Any idea why that might be? The maths for getting the center of the screen should be the same, or not?</p>\n\n<p>----------------------------------Edit-----------------------------------</p>\n\n<p>Following the answer by ismail alaoui, I added the following code in my Activity:</p>\n\n<pre><code>override fun onConfigurationChanged(myConfig: Configuration) {\n    super.onConfigurationChanged(myConfig)\n    val orient = resources.configuration.orientation\n    when (orient) {\n        Configuration.ORIENTATION_LANDSCAPE -&gt; {\n            (ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE)\n            println(\"landscape orient\")\n        }\n        Configuration.ORIENTATION_PORTRAIT -&gt; {\n            (ActivityInfo.SCREEN_ORIENTATION_PORTRAIT)\n            println(\"portrait orient\")\n        }\n        else -&gt; {\n            (ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED)\n            println(\"else orient\")\n        }\n    }\n}\n</code></pre>\n\n<p>I have added the calls to println() to see if the onConfigurationChanged() is really called, and it is. But it seems to have no effect at all. Is there something I need to add to the when-cases?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "navigation", "android-viewpager"], "comments": [{"owner": {"reputation": 609, "user_id": 7530555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d34e763043565e0a86614faecd4a530b?s=128&d=identicon&r=PG&f=1", "display_name": "H.Taras", "link": "https://stackoverflow.com/users/7530555/h-taras"}, "edited": false, "score": 0, "creation_date": 1555341302, "post_id": 55690683, "comment_id": 98067372, "body": "may you provide some code from creating fragments?"}, {"owner": {"reputation": 2577, "user_id": 2683297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JwQA4.png?s=128&g=1", "display_name": "Gabriel Lidenor", "link": "https://stackoverflow.com/users/2683297/gabriel-lidenor"}, "edited": false, "score": 0, "creation_date": 1555341954, "post_id": 55690683, "comment_id": 98067760, "body": "If you don&#39;t mind, could you please show the fragment&#39;s code ?"}, {"owner": {"reputation": 707, "user_id": 10742340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t545m.jpg?s=128&g=1", "display_name": "KirstenLy", "link": "https://stackoverflow.com/users/10742340/kirstenly"}, "edited": false, "score": 0, "creation_date": 1555342655, "post_id": 55690683, "comment_id": 98068156, "body": "Sure. Added what i have now."}], "answers": [{"comments": [{"owner": {"reputation": 707, "user_id": 10742340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t545m.jpg?s=128&g=1", "display_name": "KirstenLy", "link": "https://stackoverflow.com/users/10742340/kirstenly"}, "edited": false, "score": 0, "creation_date": 1555344911, "post_id": 55693084, "comment_id": 98069427, "body": "Ty, but it&#39;s not working: i tryed using it on many places. But with you anser i understand that MainFragment is recreating, and i think problem somehow connected with it."}], "tags": [], "owner": {"reputation": 15, "user_id": 11241740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f113ba7cd9150ad4e2bf832d79510982?s=128&d=identicon&r=PG&f=1", "display_name": "Reymand", "link": "https://stackoverflow.com/users/11241740/reymand"}, "is_accepted": false, "score": 0, "last_activity_date": 1555343991, "creation_date": 1555343991, "answer_id": 55693084, "question_id": 55690683, "link": "https://stackoverflow.com/questions/55690683/fragments-content-gone-when-i-navigate-back-to-them/55693084#55693084", "title": "Fragment&#39;s content gone when i navigate back to them", "body": "<p>On the onCreateView of MainFragment, try to put if (!isAdded()) return; somewhere. I faced the same problem before however, your code is kinda different to mine. What I did is put if (!isAdded()) return;.</p>\n"}, {"comments": [{"owner": {"reputation": 707, "user_id": 10742340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t545m.jpg?s=128&g=1", "display_name": "KirstenLy", "link": "https://stackoverflow.com/users/10742340/kirstenly"}, "edited": false, "score": 1, "creation_date": 1555416560, "post_id": 55703392, "comment_id": 98096404, "body": "Yes, it works. No day without smth new about Android. =)"}, {"owner": {"reputation": 609, "user_id": 7530555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d34e763043565e0a86614faecd4a530b?s=128&d=identicon&r=PG&f=1", "display_name": "H.Taras", "link": "https://stackoverflow.com/users/7530555/h-taras"}, "reply_to_user": {"reputation": 707, "user_id": 10742340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t545m.jpg?s=128&g=1", "display_name": "KirstenLy", "link": "https://stackoverflow.com/users/10742340/kirstenly"}, "edited": false, "score": 1, "creation_date": 1555416629, "post_id": 55703392, "comment_id": 98096445, "body": "@KirstenLy it is common issue when using fragments inside fragment)"}], "tags": [], "owner": {"reputation": 609, "user_id": 7530555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d34e763043565e0a86614faecd4a530b?s=128&d=identicon&r=PG&f=1", "display_name": "H.Taras", "link": "https://stackoverflow.com/users/7530555/h-taras"}, "is_accepted": true, "score": 6, "last_activity_date": 1555402333, "last_edit_date": 1555402333, "creation_date": 1555402028, "answer_id": 55703392, "question_id": 55690683, "link": "https://stackoverflow.com/questions/55690683/fragments-content-gone-when-i-navigate-back-to-them/55703392#55703392", "title": "Fragment&#39;s content gone when i navigate back to them", "body": "<p>I think, problem is here: <code>QuestionViewPagerAdapter(fragmentManager!!)</code>\nYou need to use <code>getFragmentManager()</code>/<code>getSupportFragmentManager()</code> when you add fragments directly on your activity. But when you need to add fragment on another fragment, you need to use <code>getChildFragmentManager()</code>.</p>\n\n<p>From <code>getSupportFragmentManager()</code> <a href=\"https://developer.android.com/reference/android/support/v4/app/FragmentActivity.html#getSupportFragmentManager()\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Return the FragmentManager for interacting with fragments associated with this activity.</p>\n</blockquote>\n\n<p>So, it is the reason why your bird and test fragments did not recreate when their parent fragment did.</p>\n\n<p>And from <code>getChildFragmentManager()</code> <a href=\"https://developer.android.com/reference/android/support/v4/app/Fragment.html#getchildfragmentmanager\" rel=\"noreferrer\">doc</a>: </p>\n\n<blockquote>\n  <p>Return a private FragmentManager for placing and managing Fragments inside of this Fragment.</p>\n</blockquote>\n\n<p>This should do the trick. Hope it helps. </p>\n"}], "owner": {"reputation": 707, "user_id": 10742340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t545m.jpg?s=128&g=1", "display_name": "KirstenLy", "link": "https://stackoverflow.com/users/10742340/kirstenly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1449, "favorite_count": 0, "accepted_answer_id": 55703392, "answer_count": 2, "score": 4, "last_activity_date": 1555402333, "creation_date": 1555336253, "last_edit_date": 1555345057, "question_id": 55690683, "link": "https://stackoverflow.com/questions/55690683/fragments-content-gone-when-i-navigate-back-to-them", "title": "Fragment&#39;s content gone when i navigate back to them", "body": "<p>I'm using Navigation component in Single Activity app to make navigation , but i have strange Behavior with one fragment. It's simply to explain using images.</p>\n\n<p>I have a fragment with ViewPager. ViewPager contains two another fragment, so it seems:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HvJ9H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HvJ9H.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>Bird</em> - first fragment, <em>Test</em> - second. Bottom element is <strong>Bottom Navigation</strong>, it's <em>not</em> the part of the fragment. Fragment is between <strong>toolbar</strong> and <strong>Bottom Navigation</strong>. </p>\n\n<p>This fragment, containing ViewPager, is not the start fragment, it's somewhere in the middle of stack. </p>\n\n<p>So, when user click on bottom menu item, this navigation code running(from <strong><em>Main Activity</em></strong>):</p>\n\n<pre><code> bottom_navigation.apply {\n            itemIconTintList = null\n            setOnNavigationItemSelectedListener { item -&gt;\n                when (item.itemId) {\n                    R.id.about_bottom -&gt; {\n                        findNavController(R.id.host).navigate(R.id.toAboutUs)\n                    }\n                    R.id.error_bottom -&gt; {\n                        findNavController(R.id.host).navigate(R.id.toMessage)\n                    }\n                }\n                true\n            }\n        }\n</code></pre>\n\n<p>where <code>toMessage</code>/<code>toAboutUs</code> are global points of another fragments.</p>\n\n<p>So what the problem. When user click on bottom menu item, all working good. But when he pressed \"back\", content from fragments are gone. It' simply to see:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WwYx6.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WwYx6.gif\" alt=\"enter image description here\"></a></p>\n\n<p>I can't even suggest the reason if this. I know that \"main\" Fragment and Fragments on ViewPager are <strong>not</strong> recreating, so why they lose content?</p>\n\n<p>I'm not overriding the behavior of the back button anywhere. I just use <code>app:defaultNavHost=\"true\"</code> of host fragment.</p>\n\n<hr>\n\n<p><strong>How data is transported:</strong>\nWhen user click button to open Fragment with ViewPager, data loaded from DB and save to ViewModel, only then user will be transport to this Fragment. When both child fragments created, they load data from ViewModel. And i have no place to the code where i clear ViewModel, so when user press back it's 100% my ViewModel contain something. But it's not displayed. </p>\n\n<p><strong>UPD:</strong> Spending some time, i realize that two \"child\" fragment are not recreating when i navigate back, but Main Fragment recreating. I think problem is about it, but still don't understand where exactly.</p>\n\n<p>I need your help to understand what is going on.</p>\n\n<hr>\n\n<p><strong>Upd:</strong> provide some code of Fragments creating. <strong>BaseCompatFragment</strong> extends <strong>Fragment</strong></p>\n\n<p><strong>MainFragment</strong>(container for another two Fragments):</p>\n\n<pre><code>class QuestionFragment : BaseCompatFragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        return inflater.inflate(R.layout.fragment_question, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        pager.adapter = QuestionViewPagerAdapter(fragmentManager!!)\n        activity?.toolbar_title?.text = getString(R.string.title_question,1)\n\n        layout_tab.apply {\n            setupWithViewPager(pager)\n            tabIconTint = null\n            getTabAt(0)?.setIcon(R.drawable.ic_type_bird)\n            getTabAt(1)?.setIcon(R.drawable.ic_hints)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>QuestionViewPagerAdapter</strong></p>\n\n<pre><code>    class QuestionViewPagerAdapter(fragmentManager: FragmentManager) : FragmentStatePagerAdapter(fragmentManager) {\n\n        override fun getItem(position: Int): BaseCompatFragment {\n            when (position) {\n                0 -&gt; return HintsFragment()\n                1 -&gt; return BaseInfoFragment()\n            }\n            return HintsFragment()\n        }\n\n        override fun getCount(): Int {\n            return 2\n        }\n    }\n</code></pre>\n\n<p><strong>HintsFragment</strong>(bird)</p>\n\n<pre><code>class HintsFragment : BaseCompatFragment(), HintsFragmentContract.View {\n\n    @Inject\n    lateinit var presenter: HintsFragmentPresenter\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        return inflater.inflate(R.layout.fragment_hints, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        LibApp.get().injector.inject(this)\n        presenter.attach(this)\n\n        val animalWithHints =\n            ViewModelProviders.of(activity!!).get(AnimalViewModel::class.java).getData().value\n\n        val adapter = HintsAdapter(callback = { id -&gt;\n            //Some code will be here soon\n        })\n        //Do smth with content\n        adapter.hintsList = animalWithHints?.animal?.hints?.split(\"///\") as ArrayList&lt;String&gt;\n        adapter.hintsStorage = animalWithHints.hints?.get(0) ?: Hints()\n\n        recycler_hints.layoutManager = verticalManager(context)\n        recycler_hints.adapter = adapter\n    }\n}\n</code></pre>\n\n<p><strong>BaseInfoFragment</strong>(test)</p>\n\n<pre><code>class BaseInfoFragment : BaseCompatFragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        return inflater.inflate(R.layout.fragment_base_info, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        val animalWithHints =\n            ViewModelProviders.of(activity!!).get(AnimalViewModel::class.java).getData().value\n\n        //A lot of logic to hide/show content, don't think it can be intresting\n\n        val isBaseInfoOpen = animalWithHints?.hints?.get(0)?.baseInfoOpened == 1\n        setBlockLayoutState(!isBaseInfoOpen)\n\n        if (isBaseInfoOpen) {\n            openContent(animalWithHints)\n        } else {\n            text_base_info.text = getString(R.string.base_info_price, 100)\n            btn_base_info_positive.setOnClickListener {\n                if (btn_base_info_negative.visibility == View.GONE) {\n                    btn_base_info_negative.visibility = View.VISIBLE\n                    text_base_info.text = getString(R.string.default_doubts)\n                } else {\n                    openContent(animalWithHints)\n                }\n            }\n\n            btn_base_info_negative.setOnClickListener {\n                it.visibility = View.GONE\n                text_base_info.text = getString(R.string.base_info_price, 100)\n            }\n        }\n    }\n\n    private fun getRareIcon(rare: Int, context: Context): Drawable {\n        return when (rare) {\n            1 -&gt; ContextCompat.getDrawable(context, R.drawable.ic_rare_fine)!!\n            2 -&gt; ContextCompat.getDrawable(context, R.drawable.ic_rare_medium)!!\n            3 -&gt; ContextCompat.getDrawable(context, R.drawable.ic_rare_bad)!!\n            else -&gt; ContextCompat.getDrawable(context, R.drawable.ic_warning)!!\n        }\n    }\n\n    private fun getRareText(rare: Int): String {\n        return when (rare) {\n            1 -&gt; getString(R.string.base_info_rare_1)\n            2 -&gt; getString(R.string.base_info_rare_2)\n            3 -&gt; getString(R.string.base_info_rare_3)\n            else -&gt; getString(R.string.base_info_rare_4)\n        }\n    }\n\n    private fun setBlockLayoutState(state: Boolean) {\n        base_info_closer.visibility = when {\n            state -&gt; View.VISIBLE\n            else -&gt; View.GONE\n        }\n        base_info_content.visibility = when {\n            state -&gt; View.GONE\n            else -&gt; View.VISIBLE\n        }\n    }\n\n    private fun openContent(animalWithHints: AnimalWithHints?) {\n        (img_closed_base_info.drawable as Animatable).start()\n        rare_img.setImageDrawable(getRareIcon(animalWithHints?.animal?.rare ?: 0, activity!!))\n        rare_text.text = getRareText(animalWithHints?.animal?.rare ?: 0)\n        setBlockLayoutState(false)\n    }\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin", "junit"], "comments": [{"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1555351557, "post_id": 55690595, "comment_id": 98072442, "body": "Do you have project JDK configured? Please see <a href=\"https://www.jetbrains.com/help/idea/creating-running-and-packaging-your-first-java-application.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>."}, {"owner": {"reputation": 600, "user_id": 4511489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5836ac85fbcc05160dcaf9d36b7a5434?s=128&d=identicon&r=PG&f=1", "display_name": "bhavya_karia", "link": "https://stackoverflow.com/users/4511489/bhavya-karia"}, "reply_to_user": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1555394588, "post_id": 55690595, "comment_id": 98084315, "body": "I have project JDK configured. Still, if I have done that wrong, I have updated the question and added the screenshots. Thanks."}, {"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1555395301, "post_id": 55690595, "comment_id": 98084581, "body": "I <a href=\"https://i.imgur.com/Ku7xz5i.png\" rel=\"nofollow noreferrer\">can&#39;t reproduce</a> the problem. Please try File | Invalidate Caches | Invalidate and Restart. If the issue persists, please share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 600, "user_id": 4511489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5836ac85fbcc05160dcaf9d36b7a5434?s=128&d=identicon&r=PG&f=1", "display_name": "bhavya_karia", "link": "https://stackoverflow.com/users/4511489/bhavya-karia"}, "edited": false, "score": 0, "creation_date": 1555394641, "post_id": 55690870, "comment_id": 98084331, "body": "Hey, I have updated the question and added the screenshots. Please have a look."}], "tags": [], "owner": {"reputation": 1, "user_id": 5344793, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-06I0FESTZgA/AAAAAAAAAAI/AAAAAAAAARk/rTURMYC26bc/photo.jpg?sz=128", "display_name": "shailendra bais", "link": "https://stackoverflow.com/users/5344793/shailendra-bais"}, "is_accepted": false, "score": 0, "last_activity_date": 1555336796, "last_edit_date": 1592644375, "creation_date": 1555336796, "answer_id": 55690870, "question_id": 55690595, "link": "https://stackoverflow.com/questions/55690595/how-to-fix-junit-test-case-error-in-intellij/55690870#55690870", "title": "How to fix JUnit test case error in IntelliJ", "body": "<p>right click on module and check module settings . JVM settings could be wrong.\n<a href=\"https://i.stack.imgur.com/l6ujc.png\" rel=\"nofollow noreferrer\">Check if</a></p>\n"}], "owner": {"reputation": 600, "user_id": 4511489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5836ac85fbcc05160dcaf9d36b7a5434?s=128&d=identicon&r=PG&f=1", "display_name": "bhavya_karia", "link": "https://stackoverflow.com/users/4511489/bhavya-karia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1555408456, "creation_date": 1555335961, "last_edit_date": 1555408456, "question_id": 55690595, "link": "https://stackoverflow.com/questions/55690595/how-to-fix-junit-test-case-error-in-intellij", "title": "How to fix JUnit test case error in IntelliJ", "body": "<p>I have freshly created a Kotlin project in IntelliJ Community Edition and while creating a sample unit test using JUnit 4, I'm getting the following error.</p>\n\n<p>build.gradle</p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'org.jetbrains.kotlin.jvm' version '1.3.21'\n}\n\ngroup 'main.kotlin.com'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<h3>Error:</h3>\n\n<pre><code>Cannot access class 'java.lang.Class'. Check your module classpath for missing or conflicting dependencies\n</code></pre>\n\n<p><a href=\"https://imgur.com/M9wKSUh\" rel=\"nofollow noreferrer\">error-pic</a> |\n<a href=\"https://imgur.com/V3tnZMl\" rel=\"nofollow noreferrer\">project-structure</a> |\n<a href=\"https://imgur.com/RqeHtRS\" rel=\"nofollow noreferrer\">modules</a> <br><br>\nP.S.If I create a Java project and try to create a sample unit test then its successfully creating a test without any error.<br><br></p>\n\n<h3>Update:</h3>\n\n<p>If I change the Project SDK from JDK-1.8 to JDK-9 then it's working completely fine</p>\n"}, {"tags": ["android", "kotlin", "android-studio-3.0", "objectbox"], "comments": [{"owner": {"reputation": 6568, "user_id": 551269, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6hGbq.jpg?s=128&g=1", "display_name": "Markus Junginger", "link": "https://stackoverflow.com/users/551269/markus-junginger"}, "edited": false, "score": 1, "creation_date": 1555336536, "post_id": 55690328, "comment_id": 98064476, "body": "application &quot;cache&quot; or &quot;data&quot;?"}, {"owner": {"reputation": 89, "user_id": 2470593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eWqy9.jpg?s=128&g=1", "display_name": "FatalMan", "link": "https://stackoverflow.com/users/2470593/fatalman"}, "reply_to_user": {"reputation": 6568, "user_id": 551269, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6hGbq.jpg?s=128&g=1", "display_name": "Markus Junginger", "link": "https://stackoverflow.com/users/551269/markus-junginger"}, "edited": false, "score": 0, "creation_date": 1555336662, "post_id": 55690328, "comment_id": 98064549, "body": "hi, application data!"}], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 7331042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e00db96e0c89df5a5c55729dce57ac?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitriy Pavlukhin", "link": "https://stackoverflow.com/users/7331042/dmitriy-pavlukhin"}, "is_accepted": false, "score": 1, "last_activity_date": 1555335364, "creation_date": 1555335364, "answer_id": 55690417, "question_id": 55690328, "link": "https://stackoverflow.com/questions/55690328/how-to-prevent-remove-objectbox-db-from-clear-app-cache/55690417#55690417", "title": "How to prevent remove objectbox db from clear app cache", "body": "<p>In case you want to make user data persistent you definitely should save and check DB copy on your server.</p>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 2470593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eWqy9.jpg?s=128&g=1", "display_name": "FatalMan", "link": "https://stackoverflow.com/users/2470593/fatalman"}, "edited": false, "score": 0, "creation_date": 1555338234, "post_id": 55690990, "comment_id": 98065475, "body": "&quot;this is &quot;normal&quot; behavior on Android&quot;!!, SQLite DB not deleted after clean application data! , but objectBox has been losing data"}, {"owner": {"reputation": 6568, "user_id": 551269, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6hGbq.jpg?s=128&g=1", "display_name": "Markus Junginger", "link": "https://stackoverflow.com/users/551269/markus-junginger"}, "reply_to_user": {"reputation": 89, "user_id": 2470593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eWqy9.jpg?s=128&g=1", "display_name": "FatalMan", "link": "https://stackoverflow.com/users/2470593/fatalman"}, "edited": false, "score": 0, "creation_date": 1555344446, "post_id": 55690990, "comment_id": 98069188, "body": "You have tested this, yes?"}, {"owner": {"reputation": 89, "user_id": 2470593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eWqy9.jpg?s=128&g=1", "display_name": "FatalMan", "link": "https://stackoverflow.com/users/2470593/fatalman"}, "edited": false, "score": 0, "creation_date": 1555347380, "post_id": 55690990, "comment_id": 98070601, "body": "yeah, I test it"}, {"owner": {"reputation": 559, "user_id": 9187282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb0d1567c04d9165050afe5286964a8?s=128&d=identicon&r=PG&f=1", "display_name": "Uwe - ObjectBox", "link": "https://stackoverflow.com/users/9187282/uwe-objectbox"}, "edited": false, "score": 0, "creation_date": 1555391220, "post_id": 55690990, "comment_id": 98083210, "body": "&quot;Files in the directory returned by <code>getDatabasePath(String)</code>, which also includes files created with the <code>SQLiteOpenHelper</code> class&quot; might have been automatically backed up by Android. Did you test this on an emulator without a signed in Google account? You can try including the ObjectBox database file in a manual backup config: <a href=\"https://developer.android.com/guide/topics/data/autobackup.html#Files\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/data/autobackup.html#File&zwnj;&#8203;s</a>"}], "tags": [], "owner": {"reputation": 6568, "user_id": 551269, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6hGbq.jpg?s=128&g=1", "display_name": "Markus Junginger", "link": "https://stackoverflow.com/users/551269/markus-junginger"}, "is_accepted": false, "score": 0, "last_activity_date": 1555345081, "last_edit_date": 1555345081, "creation_date": 1555337167, "answer_id": 55690990, "question_id": 55690328, "link": "https://stackoverflow.com/questions/55690328/how-to-prevent-remove-objectbox-db-from-clear-app-cache/55690990#55690990", "title": "How to prevent remove objectbox db from clear app cache", "body": "<p>First of all, as you probably know, this is \"normal\" behavior on Android. When you delete an app's data, you have to start from scratch. E.g. all local data lost and log-in again etc. I'd guess that 0.01% of users would actually know about it and actually do that.</p>\n\n<p>Anyway, yes, the question is if you want to extend data scope to cloud/server... That's a different topic though. ObjectBox will offer data synchronization later this year.</p>\n\n<p>Alternatively, there's also Android's backup function: <a href=\"https://developer.android.com/guide/topics/data/autobackup.html\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/data/autobackup.html</a></p>\n"}], "owner": {"reputation": 89, "user_id": 2470593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eWqy9.jpg?s=128&g=1", "display_name": "FatalMan", "link": "https://stackoverflow.com/users/2470593/fatalman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555345081, "creation_date": 1555335045, "last_edit_date": 1555336689, "question_id": 55690328, "link": "https://stackoverflow.com/questions/55690328/how-to-prevent-remove-objectbox-db-from-clear-app-cache", "title": "How to prevent remove objectbox db from clear app cache", "body": "<p>I use the ObjectBox in my kotlin project. Users can erase the database by clearing the application Data from the Android settings. \nI want to prevent database removal or change ObjectBox Store mode to SQLite!</p>\n\n<p>thanks</p>\n"}]