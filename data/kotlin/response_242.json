[{"tags": ["java", "spring", "spring-boot", "kotlin", "spring-data-jpa"], "comments": [{"owner": {"reputation": 1168, "user_id": 9569292, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Thomas Timbul", "link": "https://stackoverflow.com/users/9569292/thomas-timbul"}, "edited": false, "score": 0, "creation_date": 1567090580, "post_id": 57700823, "comment_id": 101867968, "body": "I suspect you will find the solution in your method naming. <code>findBuyTraceByCreatedDateBetween</code> is a &#39;valid&#39; naming for spring-data-jpa to figure out what you&#39;re trying to do. <code>findBuyTraceByCreatedDateAndStationReference</code> should possibly be something like <code>findBuyTraceByCreatedDateGreaterThanAndStationReference</code> and the other one is at the very least missing the <code>by</code> keyword."}, {"owner": {"reputation": 11, "user_id": 9674399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a24e8e856a1abad8f330ef93b9a308b7?s=128&d=identicon&r=PG&f=1", "display_name": "hashcode", "link": "https://stackoverflow.com/users/9674399/hashcode"}, "reply_to_user": {"reputation": 1168, "user_id": 9569292, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Thomas Timbul", "link": "https://stackoverflow.com/users/9569292/thomas-timbul"}, "edited": false, "score": 0, "creation_date": 1567121197, "post_id": 57700823, "comment_id": 101879175, "body": "i don&#39;t put by? yes it is done voluntarily because I use a jpql for that method and findBuytraceByCreatedDateGreaterThanAndStationReference  this method will give me the buytrace higher on my date it&#39;s not what i want, i want all buytrace that match my date and reference"}, {"owner": {"reputation": 11, "user_id": 9674399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a24e8e856a1abad8f330ef93b9a308b7?s=128&d=identicon&r=PG&f=1", "display_name": "hashcode", "link": "https://stackoverflow.com/users/9674399/hashcode"}, "reply_to_user": {"reputation": 1168, "user_id": 9569292, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Thomas Timbul", "link": "https://stackoverflow.com/users/9569292/thomas-timbul"}, "edited": false, "score": 0, "creation_date": 1567122153, "post_id": 57700823, "comment_id": 101879364, "body": "Frankly I am desperate and no one is trying to help me. where are the stackoverflow genie"}, {"owner": {"reputation": 1168, "user_id": 9569292, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Thomas Timbul", "link": "https://stackoverflow.com/users/9569292/thomas-timbul"}, "edited": false, "score": 0, "creation_date": 1567155951, "post_id": 57700823, "comment_id": 101888017, "body": "So when you say &quot;the first two methods of the repository do not work&quot;, what does that mean? Is there an error or are you not getting the results that you expect? If the former, please add the error message, if the latter, I would suggest you add logging statements to understand what date you are comparing and what is in the database. Since you are looking for equality, consider how <code>Date</code> is actually a timestamp and how a 1ms difference might no longer match what is in your database. Issues will ensue with timezones, etc. You could use <code>TemporalType.DATE</code> to reduce resolution."}], "owner": {"reputation": 11, "user_id": 9674399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a24e8e856a1abad8f330ef93b9a308b7?s=128&d=identicon&r=PG&f=1", "display_name": "hashcode", "link": "https://stackoverflow.com/users/9674399/hashcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567124272, "creation_date": 1567031660, "last_edit_date": 1567124272, "question_id": 57700823, "link": "https://stackoverflow.com/questions/57700823/problem-with-a-jpa-query-based-on-the-method-name-with-condition-on-a-super-clas", "title": "problem with a jpa query based on the method name with condition on a super class@mappedSuperclass property", "body": "<p>I have an audit base class annotated with @MappedSuperclass that contains the createdDate property, a girl class that contains the StationReference property, how to make a request based on the method name in jpa in the repository of the daughter. i want to retrieve List of Buytrace according to the parameters createdDate and stationReference</p>\n\n<p>i tried this</p>\n\n<pre><code> public interface BuyTraceRepository extends JpaRepository&lt;BuyTrace, Long&gt; {\n     List&lt;BuyTrace&gt; findBuyTraceByCreatedDateAndStationReference(Date from,String ref);\n     @Query(\"select b from BuyTrace b where b.createdDate = :date AND b.stationReference = :ref\")\n     List&lt;BuyTrace&gt; findCreatedDateAndStationReference(@Param(\"date\") Date date,@Param(\"ref\") String ref);\n\n     List&lt;BuyTrace&gt; findBuyTraceByCreatedDateBetween(Date from, Date to);\n}\n</code></pre>\n\n<p>The Entity class (daughter class)<code>enter code here</code></p>\n\n<pre><code> public class BuyTrace extends AuditableEntity {\n\n      private String stationReference;\n}\n</code></pre>\n\n<p>The mother class</p>\n\n<pre><code> @MappedSuperclass\n @EntityListeners(AuditingEntityListener.class)\n public abstract class AuditableEntity&lt;U&gt; { \n     @Column(name = \"created_date\", nullable = false, updatable = false)\n     @CreatedDate\n     @Temporal(TemporalType.TIMESTAMP)\n     public Date createdDate; \n  }\n</code></pre>\n\n<p>the first two methods of the repository do not work but curiously the method between two date(the last) works perfectly. I do not understand anything please help me</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1567034573, "last_edit_date": 1567034573, "creation_date": 1567033331, "answer_id": 57701005, "question_id": 57700763, "link": "https://stackoverflow.com/questions/57700763/kotlin-difference-between-var-vs-object-declaration/57701005#57701005", "title": "Kotlin - Difference between var vs object declaration", "body": "<ul>\n<li><p><code>object Foo : Any() { ... }</code></p>\n\n<p>This is an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">object declaration</a>, which declares a singleton-like type <code>Foo</code> whose single instance contains the members declared inside the <code>object</code> scope and is lazily initialized upon first access. It may be used on top level or inside another type, but not inside function bodies. When declared inside another type, it will still only create a single object, not an object per instance of the enclosing type.</p>\n\n<pre><code>class Bar {\n    object Foo : Any() { ... } // only one object is created\n}\n</code></pre>\n\n<p>Object declarations are typically used to encapsulate global singleton state and group the related public API members. However, as <code>Foo</code> can be used as an ordinary object, there are more use cases. One of them is having an <code>object</code> declaration as a subtype of a <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html#sealed-classes\" rel=\"nofollow noreferrer\">sealed class</a>.</p></li>\n<li><p><code>val Foo = object : Any() { ... }</code> </p>\n\n<p>This is an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">object expression</a>, and it may be used inside function bodies as well. When it's evaluated, it creates a new object each time. In particular, if it's declared inside another type, it will create a new object for each instance of the enclosing type. </p>\n\n<pre><code>class Bar {\n    val foo = object : Any() { ... } // new object for each instance of Bar\n}\n</code></pre>\n\n<p>When declared at the top level, it will still be a singleton, but it will initialize upon first access to the file facade class (which contains the other top level members of that file) and not to the <code>val</code>. </p>\n\n<p>When you declare a property this way, you won't be able to call the members that you add inside the <code>object</code> scope on the property, as opposed to the object declaration. However, when used as a local variable, such a <code>val</code> will expose its additional members.</p>\n\n<pre><code>// on top level:\nval foo = object : Any() { \n    val x = 1\n} \n\nfun main() {\n    println(foo.x) // error, unresolved reference 'x'\n\n    val bar = object : Any() { \n        val x = 1\n    }\n    println(bar.x) // OK\n}\n</code></pre>\n\n<p><sup>The purpose of this limitation for properties is to avoid having public API in anonymous classes (that object expressions are compiled to) which may implicitly change in an incompatible way upon next compilation. Object declarations, on contrary, declare a named type.</sup></p>\n\n<p>Both object expressions and object declarations can inherit from a class and implement interfaces. Object expressions are particularly useful when you need to provide an instance of an interface that you don't want to implement with a class (e.g. it's an ad-hoc implementation that won't be used anywhere else):</p>\n\n<pre><code>// in a library:\ninterface ResponseHandler {\n    fun onSuccess(response: Response): Unit\n    fun onError(exception: Exception): Unit\n}\n\nfun Request.execute(responseHandler: ResponseHandler) { ... }\n</code></pre>\n\n<p><sup></sup></p>\n\n<pre><code>// your code:\nval request: Request = ...\n\nrequest.execute(object : ResponseHandler {\n    fun onSuccess(response: Response) { ... } // provide the implementations\n    fun onError(exception: Exception) { ... } // for these two functions\n})\n</code></pre></li>\n</ul>\n\n<p><sup>Note: in both cases, you can omit <code>: Any()</code>, as <code>Any</code> is the default supertype for both object declarations and object expressions.</sup></p>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 57701005, "answer_count": 1, "score": 2, "last_activity_date": 1567034573, "creation_date": 1567031102, "question_id": 57700763, "link": "https://stackoverflow.com/questions/57700763/kotlin-difference-between-var-vs-object-declaration", "title": "Kotlin - Difference between var vs object declaration", "body": "<p>What is the difference between</p>\n\n<pre><code>object Foo : Any() { ... }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>val Foo = object : Any() { ... }\n</code></pre>\n\n<p>Are there any semantic and/or logical differences, and when should they be used?</p>\n"}, {"tags": ["unit-testing", "kotlin"], "comments": [{"owner": {"reputation": 85046, "user_id": 217324, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc91a8e29fedbd6a6d7e03a8394009ab?s=128&d=identicon&r=PG", "display_name": "Nathan Hughes", "link": "https://stackoverflow.com/users/217324/nathan-hughes"}, "edited": false, "score": 0, "creation_date": 1567030912, "post_id": 57700699, "comment_id": 101845319, "body": "What about testing The code using the data classes? Shouldn\u2019t that cover the data class?"}, {"owner": {"reputation": 6398, "user_id": 2127950, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/27eef5e6b57a1d7a7eaaf107a14fffb3?s=128&d=identicon&r=PG", "display_name": "portfoliobuilder", "link": "https://stackoverflow.com/users/2127950/portfoliobuilder"}, "reply_to_user": {"reputation": 85046, "user_id": 217324, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc91a8e29fedbd6a6d7e03a8394009ab?s=128&d=identicon&r=PG", "display_name": "Nathan Hughes", "link": "https://stackoverflow.com/users/217324/nathan-hughes"}, "edited": false, "score": 0, "creation_date": 1567031154, "post_id": 57700699, "comment_id": 101845359, "body": "@NathanHughes Yep! I have those tests. But that still shows up as 0% on jacoco. There is no logic to these model classes. I am just wondering if there is some sort of model testing pattern or technique I am not familiar with that developers are using."}, {"owner": {"reputation": 2091, "user_id": 7736617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Th0P.jpg?s=128&g=1", "display_name": "Arnaud Claudel", "link": "https://stackoverflow.com/users/7736617/arnaud-claudel"}, "edited": false, "score": 1, "creation_date": 1567032654, "post_id": 57700699, "comment_id": 101845678, "body": "Imo, what your managers ask you is pointless since you&#39;re only adding new tests to gain coverage. Once you&#39;ll reach 100%, you&#39;ll just move on to another low-coverage area, without asking yourself is the test you wrote is relevant and exhaustive. To me coverage is a metric that os badly used and often false-positive."}, {"owner": {"reputation": 2091, "user_id": 7736617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Th0P.jpg?s=128&g=1", "display_name": "Arnaud Claudel", "link": "https://stackoverflow.com/users/7736617/arnaud-claudel"}, "edited": false, "score": 1, "creation_date": 1567032657, "post_id": 57700699, "comment_id": 101845680, "body": "As you said, testing getters and setters is pointless and it&#39;s still is. But now managers want something to report to the client and it&#39;s usually test coverage or sonar analysis. I think that you should explain to your manager that coverage only shows where tests are missing, it&#39;s not an indicator of well tested coe."}, {"owner": {"reputation": 6398, "user_id": 2127950, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/27eef5e6b57a1d7a7eaaf107a14fffb3?s=128&d=identicon&r=PG", "display_name": "portfoliobuilder", "link": "https://stackoverflow.com/users/2127950/portfoliobuilder"}, "reply_to_user": {"reputation": 2091, "user_id": 7736617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Th0P.jpg?s=128&g=1", "display_name": "Arnaud Claudel", "link": "https://stackoverflow.com/users/7736617/arnaud-claudel"}, "edited": false, "score": 0, "creation_date": 1567032807, "post_id": 57700699, "comment_id": 101845717, "body": "@ArnaudClaudel Great response! I appreciate these words. You and I think alike. I agree with you. And I have spoken to the managers and explained exactly this, but they aren&#39;t budging. So I am doing my best to accommodate. I think what Bill K posted below could work. But as you said, I am just moving from one low coverage area to the next just to get the coverage. It&#39;s no longer about facility, utility, function or logic."}], "answers": [{"comments": [{"owner": {"reputation": 6398, "user_id": 2127950, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/27eef5e6b57a1d7a7eaaf107a14fffb3?s=128&d=identicon&r=PG", "display_name": "portfoliobuilder", "link": "https://stackoverflow.com/users/2127950/portfoliobuilder"}, "edited": false, "score": 0, "creation_date": 1567032636, "post_id": 57700790, "comment_id": 101845670, "body": "Excellent! This is the kind of thing I was wondering about. Great response. I will do exactly that. Thanks!"}, {"owner": {"reputation": 59831, "user_id": 12943, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d6a9924b767fe91c46def7edc7bce035?s=128&d=identicon&r=PG", "display_name": "Bill K", "link": "https://stackoverflow.com/users/12943/bill-k"}, "reply_to_user": {"reputation": 6398, "user_id": 2127950, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/27eef5e6b57a1d7a7eaaf107a14fffb3?s=128&d=identicon&r=PG", "display_name": "portfoliobuilder", "link": "https://stackoverflow.com/users/2127950/portfoliobuilder"}, "edited": false, "score": 1, "creation_date": 1567034126, "post_id": 57700790, "comment_id": 101845950, "body": "@portfoliobuilder I didn&#39;t mention--if you had an external reference (such as an xml interface description) you could actually drive the entire test from that specification and not have any code specifically testing a given object.  Updating the spec would immediately cause your tests to fail because the your code no longer matches the spec."}, {"owner": {"reputation": 6398, "user_id": 2127950, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/27eef5e6b57a1d7a7eaaf107a14fffb3?s=128&d=identicon&r=PG", "display_name": "portfoliobuilder", "link": "https://stackoverflow.com/users/2127950/portfoliobuilder"}, "edited": false, "score": 0, "creation_date": 1567034457, "post_id": 57700790, "comment_id": 101846017, "body": "Good callout! I understand what you mean."}], "tags": [], "owner": {"reputation": 59831, "user_id": 12943, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d6a9924b767fe91c46def7edc7bce035?s=128&d=identicon&r=PG", "display_name": "Bill K", "link": "https://stackoverflow.com/users/12943/bill-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1567031340, "creation_date": 1567031340, "answer_id": 57700790, "question_id": 57700699, "link": "https://stackoverflow.com/questions/57700699/100-code-coverage-unit-tests-for-data-class-models/57700790#57700790", "title": "100% Code Coverage; Unit Tests for Data Class Models", "body": "<p>Such a class is used reflectively, it can be tested reflectively.  For the class you listed, you simply have to ensure that it has email, password and phoneNumber fields that can be read and written as strings.</p>\n\n<p>This could be done in a single call to a reflective method that took a class and 3 method names as parameters.  It could even validate the annotation's existence and value against an external reference (A database schema?  An xml interface description file?) if required which could prove to be quite useful.</p>\n"}], "owner": {"reputation": 6398, "user_id": 2127950, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/27eef5e6b57a1d7a7eaaf107a14fffb3?s=128&d=identicon&r=PG", "display_name": "portfoliobuilder", "link": "https://stackoverflow.com/users/2127950/portfoliobuilder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1219, "favorite_count": 0, "accepted_answer_id": 57700790, "answer_count": 1, "score": 1, "last_activity_date": 1567031340, "creation_date": 1567030651, "question_id": 57700699, "link": "https://stackoverflow.com/questions/57700699/100-code-coverage-unit-tests-for-data-class-models", "title": "100% Code Coverage; Unit Tests for Data Class Models", "body": "<p>Code coverage seems to be a hot topic these days. And managers are starting to refuse anything less than 100% coverage (yikes!). My question is, how do you test data classes? For me, back in the good Java days, testing DTOs, POJOs, and models with getters/setters were pretty pointless. But now this seems to be the requirement, so I am wondering if there are new testing techniques that I do not know about.</p>\n\n<pre><code>internal data class RegisterUserRequestDto(\n        @SerializedName(\"email\") val email: String?,\n        @SerializedName(\"password\") val password: String?,\n        @SerializedName(\"phoneNumber\") val phoneNumber: String?\n)\n</code></pre>\n\n<p>Anyone with ideas?</p>\n"}, {"tags": ["swift", "kotlin", "kotlin-multiplatform", "kotlin-native"], "answers": [{"tags": [], "owner": {"reputation": 229, "user_id": 9444506, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Svyatoslav Scherbina", "link": "https://stackoverflow.com/users/9444506/svyatoslav-scherbina"}, "is_accepted": false, "score": 2, "last_activity_date": 1567060773, "creation_date": 1567060773, "answer_id": 57704371, "question_id": 57699935, "link": "https://stackoverflow.com/questions/57699935/how-to-distinguish-same-class-names-in-different-folder-in-kotlin-multiplatform/57704371#57704371", "title": "How to distinguish same class names in different folder in kotlin multiplatform/native for swift?", "body": "<p>Currently the only option is to rename the classes in source code.\nTo reduce the impact of this change to the existing code consider using <code>typealias</code>, e.g.</p>\n\n<p>for <code>Contacts -&gt; People -&gt; EmailAddress</code>:</p>\n\n<pre><code>class ContactsEmailAddress\ntypealias EmailAddress = ContactsEmailAddress\n</code></pre>\n\n<p>for <code>User -&gt; EmailAddress</code>:</p>\n\n<pre><code>class UserEmailAddress\ntypealias EmailAddress = UserEmailAddress\n</code></pre>\n"}], "owner": {"reputation": 482, "user_id": 2426753, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YDBeE.jpg?s=128&g=1", "display_name": "Sujit Poudel", "link": "https://stackoverflow.com/users/2426753/sujit-poudel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1567060773, "creation_date": 1567025754, "question_id": 57699935, "link": "https://stackoverflow.com/questions/57699935/how-to-distinguish-same-class-names-in-different-folder-in-kotlin-multiplatform", "title": "How to distinguish same class names in different folder in kotlin multiplatform/native for swift?", "body": "<p>In my project there are 2600+ auto-generated files that I was adding to Kotlin Multiplatform project to generate a <code>.framework</code> for iOS, and use as a module for Android. But in those auto-gens, there are deeply nested files in different folders, with same class names. Kotlin works well because of namespaces separation, but the generated framework has there same names classes, mutated with underscore(<code>_</code>), seemingly randomly in every build. How can I avoid this? I can add annotations or any other addendum to the classes.</p>\n\n<p>An example:\nTwo folder structure:\n<code>Contacts -&gt; People -&gt; EmailAddress</code> and \n<code>User-&gt;EmailAddress</code> would generate <code>EmailAddress</code>, and <code>EmailAddress_</code> for swift.</p>\n\n<p>Maybe there is something I can do in the <code>packForXCode</code> task, or some other processing. But I have not found anything regarding this problem yet.</p>\n\n<p>I would appreciate any help. Thank you.</p>\n"}, {"tags": ["android-studio", "kotlin", "java-8", "android-livedata", "method-reference"], "comments": [{"owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 0, "creation_date": 1567022549, "post_id": 57698979, "comment_id": 101842551, "body": "What is the exact error message?"}, {"owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1567023799, "post_id": 57698979, "comment_id": 101843021, "body": "The syntax looks good. Try to build using gradle. Sometimes IDE restart helps to solve type inference problems."}, {"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1567025393, "post_id": 57698979, "comment_id": 101843642, "body": "The issue stems from the fact that this needs to be a Kotlin <code>val</code> androidx.lifecycle.Observer, not a function."}], "answers": [{"comments": [{"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1567021799, "post_id": 57699125, "comment_id": 101842234, "body": "Thanks, and it still complains with <b>Type mismatch</b>.  Here is the signature of observe:  <code>observe(@NonNull LifecycleOwner owner, @NonNull Observer&lt;? super T&gt; observer) </code> <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LiveData.html#observe(android.arch.lifecycle.LifecycleOwner,%20android.arch.lifecycle.Observer&lt;T&gt;)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/arch/lifecycle/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 1, "last_activity_date": 1567060792, "last_edit_date": 1567060792, "creation_date": 1567021485, "answer_id": 57699125, "question_id": 57698979, "link": "https://stackoverflow.com/questions/57698979/how-to-convert-java-method-reference-code-to-kotlin/57699125#57699125", "title": "How to convert Java method reference code to Kotlin", "body": "<p>Looks like you can provide </p>\n\n<pre><code>.observe(this, Observer { someClass -&gt;\n    /*Here you can call your method*/\n})\n</code></pre>\n\n<p>Yes, it's a little bit more verbose than java method, but for soe reason Kotlin can't infer type of lambda.</p>\n"}, {"tags": [], "owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1567101322, "last_edit_date": 1567101322, "creation_date": 1567025513, "answer_id": 57699894, "question_id": 57698979, "link": "https://stackoverflow.com/questions/57698979/how-to-convert-java-method-reference-code-to-kotlin/57699894#57699894", "title": "How to convert Java method reference code to Kotlin", "body": "<p>For anybody facing the same issue, this needs to be a Kotlin <code>val</code> from Android LiveData api.  It cannot be a function.  Here is the correct code of <code>updateTime</code> which works instead of the function:</p>\n\n<pre><code>    private val updateTime = Observer&lt;TimeMeasurement&gt; { \n      setupTimeMeasurement -&gt;\n      // Update the UI, in this case, a TextView.\n      updateTimerData(setupTimeMeasurement, mViewModel!!.currentTimeValue)\n}\n</code></pre>\n\n<p>And then you can call it like this:</p>\n\n<pre><code>    mViewModel?.getCountdownData()?.observe(this, updateTime)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1567101274, "post_id": 57700950, "comment_id": 101872903, "body": "Thanks for the different examples.  What exactly is the <code>crossinline</code> in your code?"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 2, "creation_date": 1567102089, "post_id": 57700950, "comment_id": 101873201, "body": "This is code snippet from Android KTX. <code>crossinline</code> is there to <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#non-local-returns\" rel=\"nofollow noreferrer\">prevent non-local returns</a> from observer body."}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 5, "last_activity_date": 1567033231, "last_edit_date": 1567033231, "creation_date": 1567032855, "answer_id": 57700950, "question_id": 57698979, "link": "https://stackoverflow.com/questions/57698979/how-to-convert-java-method-reference-code-to-kotlin/57700950#57700950", "title": "How to convert Java method reference code to Kotlin", "body": "<p>For some reason Kotlin is not smart enough in providing <code>observe</code> overloads:</p>\n\n<pre><code>// Java declaration\npublic void observe(@NonNull LifecycleOwner owner, @NonNull Observer&lt;? super T&gt; observer)\n</code></pre>\n\n<p>Now in Kotlin we have can call this method in two ways:</p>\n\n<pre><code>// Default Kotlin conversion [ #1 ]\nfun observe(owner : LifecycleOwner, observer : Observer&lt;in T&gt;)\n\n// SAM conversions [ #2 ]\nfun observe(owner: () -&gt; Lifecycle, observer : (T) -&gt; Unit)\n</code></pre>\n\n<p>What we lack is something in-between, where we provide function only for observer argument.</p>\n\n<p>If you already have dependency on Android KTX modules, namely <code>androidx.fragment:fragment-ktx</code> (or at least <code>androidx.lifecycle:lifecycle-livedata-core-ktx</code>) extension below should already be accessible. Otherwise you can quickly add it:</p>\n\n<pre><code>// custom extension with function observer argument [ #3 ]\n@MainThread inline fun &lt;T&gt; LiveData&lt;T&gt;.observe(\n    owner: LifecycleOwner,\n    crossinline onChanged: (T) -&gt; Unit\n): Observer&lt;T&gt; {\n    val wrappedObserver = Observer&lt;T&gt; { t -&gt; onChanged.invoke(t) }\n    observe(owner, wrappedObserver)\n    return wrappedObserver\n}\n</code></pre>\n\n<p>Now here's the difference in invocation:</p>\n\n<pre><code>// reusable observer object\nval myObserver = Observer&lt;TimeMeasurement&gt; { updateTime(it) }\n\n// function that updates time\nfun updateTime(time : TimeMeasurement){\n    // update views with time\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    /* ... */\n\n    // default call [ #1 ]\n    mViewModel.liveData.observe(this, myObserver)\n    // default call but with object expression for observer [ #1 ]\n    mViewModel.liveData.observe(this, Observer { updateTime(it) })\n    // alternatively [ #1 ]\n    mViewModel.liveData.observe(this, Observer(::updateTime))\n\n    // SAM conversions, lets us pass function reference or a lambda [ #2 ]\n    // in this case first argument is a lambda as well and it returns lifecycle\n    mViewModel.liveData.observe({ lifecycle }, ::updateTime)\n\n    // extension function call where we pass function reference as second argument [ #3 ]\n    mViewModel.liveData.observe(this, ::updateTime)\n    // or using lambda [ #3 ]\n    mViewModel.liveData.observe(this) { updateTime(it) }\n}\n</code></pre>\n"}], "owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 1, "accepted_answer_id": 57700950, "answer_count": 3, "score": 2, "last_activity_date": 1567102710, "creation_date": 1567020801, "last_edit_date": 1567102710, "question_id": 57698979, "link": "https://stackoverflow.com/questions/57698979/how-to-convert-java-method-reference-code-to-kotlin", "title": "How to convert Java method reference code to Kotlin", "body": "<p>I've got this code in Java:</p>\n\n<pre><code>mViewModel.getSetupData().observe(this, this::updateTime);\n</code></pre>\n\n<p>The <strong>updateTime</strong> method accepts one parameter.\nWhen converting this code to Kotlin, the following doesn't work:</p>\n\n<pre><code>mViewModel?.getSetupData()?.observe(this, ::updateTime)\n</code></pre>\n\n<p>The IDE (android studio) complains with a </p>\n\n<blockquote>\n  <p>Type mismatch. Required: Observer. Found KFunction1.  </p>\n</blockquote>\n\n<p>Any clues?</p>\n"}, {"tags": ["android", "kotlin", "searchview", "algolia", "instantsearch"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1567026466, "post_id": 57698783, "comment_id": 101844047, "body": "Please don&#39;t tag questions with the android-studio tag just because you use it: the Android Studio tag should <b>only</b> be used when you have questions about the IDE itself, and not any code you write (or want to write) in it. See <a href=\"https://meta.stackoverflow.com/a/315196/6296561\">when is it appropriate to remove an IDE tag</a>, <a href=\"https://meta.stackoverflow.com/q/354427/6296561\">How do I avoid misusing tags?</a>, and <a href=\"/help/tagging\">the tagging guide</a>. Use [android] or other relevant tags instead."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12058403, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCDmHnFECrVI4LK36UXPnbGZiPR8hoIsWhZflG5=k-s128", "display_name": "Quentin Litzler", "link": "https://stackoverflow.com/users/12058403/quentin-litzler"}, "is_accepted": false, "score": 0, "last_activity_date": 1568301695, "last_edit_date": 1568301695, "creation_date": 1568293198, "answer_id": 57907325, "question_id": 57698783, "link": "https://stackoverflow.com/questions/57698783/filtering-results-at-query-time-algolia-search/57907325#57907325", "title": "Filtering results at query time Algolia Search", "body": "<p>To learn how to inject filters at query time, please refer to our <a href=\"https://www.algolia.com/doc/api-reference/widgets/filter-state/android/\" rel=\"nofollow noreferrer\">FilterState documentation</a>.</p>\n\n<p>In your case, you could write something like this:</p>\n\n<pre><code>    filterState.notify {\n       add(FilterGroupID(), Filter.Facet(Attribute(\"userId\"), \"user_id_value\"))\n    }\n</code></pre>\n\n<p>Let me know if this resolves your issue.</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 5411371, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8aoSawlUJFs/AAAAAAAAAAI/AAAAAAAAAEA/vbKjwWm74SI/photo.jpg?sz=128", "display_name": "Mar&#237;a Teresa", "link": "https://stackoverflow.com/users/5411371/mar%c3%ada-teresa"}, "is_accepted": false, "score": 0, "last_activity_date": 1611319492, "creation_date": 1611319492, "answer_id": 65845457, "question_id": 57698783, "link": "https://stackoverflow.com/questions/57698783/filtering-results-at-query-time-algolia-search/65845457#65845457", "title": "Filtering results at query time Algolia Search", "body": "<p>I implemented the filter without having to wait for user input and it worked</p>\n<p>I followed algolia docs but skipping some parts\n<a href=\"https://www.algolia.com/doc/guides/building-search-ui/getting-started/android/\" rel=\"nofollow noreferrer\">https://www.algolia.com/doc/guides/building-search-ui/getting-started/android/</a></p>\n<p>The filter state will need an <strong>Attribute</strong>: In your case userId.</p>\n<p>Define an operator and a filterFacet</p>\n<p>The Searcher connects itself to the FilterState, and applies its filters with every search.</p>\n<pre><code>connection += searcher.connectFilterState(filterState)\n</code></pre>\n<p>In resume your view model looks like this:</p>\n<pre><code>val filterState = FilterState()\nval filterGroupID = FilterGroupID(&quot;myGroup&quot;, FilterOperator.And)\nval userId = Attribute(&quot;userId&quot;)\nval filterUserId =  Filter.Facet(userId, &quot;your_user_id&quot;)\n   \nval connection = ConnectionHandler()\n    \ninit {\n   filterState.add(filterGroupID, owner)\n   connection += searchBox\n\n   connection += searcher.connectFilterState(filterState)\n   connection += filterState.connectPagedList(memories)\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 11921964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dyKEwgW_QNI/AAAAAAAAAAI/AAAAAAAAKio/Nfm9Pzi1i1Y/photo.jpg?sz=128", "display_name": "Dvir Barzilay", "link": "https://stackoverflow.com/users/11921964/dvir-barzilay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1611319492, "creation_date": 1567019744, "last_edit_date": 1567062317, "question_id": 57698783, "link": "https://stackoverflow.com/questions/57698783/filtering-results-at-query-time-algolia-search", "title": "Filtering results at query time Algolia Search", "body": "<p>I'm working on a personal Android application in Kotlin, and I want to implement an InstantSearch. I have the following record construct in Algolia:</p>\n\n<pre><code>{\n  \"creationTime\": 1566396861797,\n  \"description\": \"It's my second home now...\",\n  \"imagePath\": \"https://firebasestorage.googleapis.com/.......\",\n  \"memoryId\": \"-LmoWe8PEqCs0Szv9KKJ\",\n  \"memoryTitle\": \"Second visit\",\n  \"userId\": \"vIWJgFpnUSeZJw3wjrJeEAxbNoE2\",\n  \"imageLabels\": [\n    \"Property\",\n    \"Furniture\",\n    \"City\",\n    \"Human settlement\",\n    \"Real estate\",\n    \"Roof\",\n    \"Room\",\n    \"Skyline\",\n    \"Building\",\n    \"Metropolitan area\",\n    \"Sky\",\n    \"Balcony\",\n    \"Apartment\"\n  ],\n  \"objectID\": \"-LmoWe8PEqCs0Szv9KKJ\"\n}\n</code></pre>\n\n<p>In my InstantSearch I want to provide a search that present only records with <code>userId</code> value identical to this specific user that send the query.\nFirst I added the userId to the attributes for faceting in the dashboard.\nI don't know exactly how to continue from this point. I don't know how to filter records at query time.</p>\n\n<p>Here is my ViewModel:</p>\n\n<pre><code>class MyViewModel : ViewModel() {\n    val client = ClientSearch(ApplicationID(\"*****\"), APIKey(\"*******\"), LogLevel.ALL)\n    val index = client.initIndex(IndexName(\"memory_diary\"))\n    val searcher = SearcherSingleIndex(index)\n    val adapterMemory = MemoryAdapter()\n    val dataSourceFactory = SearcherSingleIndexDataSource.Factory(searcher) { hit -&gt;\n        Memory(\n                hit.json.getPrimitive(\"userId\").content,\n                hit.json.getPrimitive(\"objectID\").content,\n                hit.json.getPrimitive(\"memoryTitle\").content,\n                hit.json.getPrimitive(\"description\").content,\n                hit.json.getPrimitive(\"creationTime\").content.toLong(),\n                hit.json.getPrimitive(\"imagePath\").content,\n                hit.json.getArray(\"imageLabels\").content.map { jsnelm -&gt; jsnelm.content }\n        )\n    }\n\n\n    val pagedListConfig = PagedList.Config.Builder().setPageSize(50).build()\n    val memories: LiveData&lt;PagedList&lt;Memory&gt;&gt; = LivePagedListBuilder(dataSourceFactory, pagedListConfig).build()\n\n    val searchBox = SearchBoxConnectorPagedList(searcher, listOf(memories))\n    val stats = StatsConnector(searcher)\n    val filterState = FilterState()\n    val connection = ConnectionHandler()\n\n    init {\n        connection += searchBox\n        connection += stats\n        connection += filterState.connectPagedList(memories)\n    }\n\n    override fun onCleared() {\n        super.onCleared()\n        searcher.cancel()\n        connection.disconnect()\n    }\n}\n</code></pre>\n\n<p>I thougt maybe there is a function that filter records in <code>SearcherSingleIndexDataSource.Factory</code> but I didn't find something like this.</p>\n\n<p>So how can I do that?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "is_accepted": false, "score": 1, "last_activity_date": 1567020154, "creation_date": 1567020154, "answer_id": 57698851, "question_id": 57698745, "link": "https://stackoverflow.com/questions/57698745/how-can-i-capture-a-retrofit-response-error-in-onresponse/57698851#57698851", "title": "How can I capture a Retrofit response error in onResponse?", "body": "<p>First of all the errorBody() is of type stream, meaning that it is not read until you call the method. Streams can be read only once, take a look <a href=\"https://stackoverflow.com/a/49567327/8103819\">here</a> for a detailed explanation.</p>\n"}], "owner": {"reputation": 1399, "user_id": 1762587, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/6610f5be8df44a7c4c7324c436ef5242?s=128&d=identicon&r=PG", "display_name": "szaske", "link": "https://stackoverflow.com/users/1762587/szaske"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567020154, "creation_date": 1567019517, "question_id": 57698745, "link": "https://stackoverflow.com/questions/57698745/how-can-i-capture-a-retrofit-response-error-in-onresponse", "title": "How can I capture a Retrofit response error in onResponse?", "body": "<p>I'm using Retrofit2 in an Android app. Here's my response code:</p>\n\n<pre><code>override fun onResponse(call: Call&lt;Asset&gt;?, response: Response&lt;Asset&gt;?) {\n\n                val errorStart = response?.errorBody()?.string() // I get \"ERROR\" here\n\n                if (response != null &amp;&amp; response.isSuccessful) {\n                    // A successful response was returned\n                    completion(response.body(), null)\n                } else {\n                    // Not success\n                    val errorElse = response?.errorBody()?.string() // I get \"\" here\n\n                    val error = Error(errorText)\n                    completion(null,error)\n                }\n            }\n</code></pre>\n\n<p>and here's the code I'm using to test my code:</p>\n\n<pre><code>response = Response.Builder()\n                            .code(403)\n                            .message(responseString)\n                            .request(chain.request())\n                            .protocol(Protocol.HTTP_1_0)\n                            .body(ResponseBody.create(MediaType.parse(\"application/json\"), \"ERROR\"))\n                            .addHeader(\"content-type\", \"application/json\")\n                            .build()\n</code></pre>\n\n<p>When the code run and a response is returned <code>response?.errorBody()?.string()</code> is a string and I can capture it, as I have in this code as val errorStart. \n...But...\nwhen I run the IF code/logic and attempt to capture <code>response?.errorBody()?.string()</code> in the else code block it's now blank/gone. </p>\n\n<p>Can someone explain what's going on or what I'm doing wrong? What is the proper way to capture error information in OnResponse?</p>\n"}, {"tags": ["android", "kotlin", "android-workmanager"], "owner": {"reputation": 478, "user_id": 7015077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03243bca57ee27d9db722c74ca8d3605?s=128&d=identicon&r=PG&f=1", "display_name": "Mher Arsh", "link": "https://stackoverflow.com/users/7015077/mher-arsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1034, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1567021455, "creation_date": 1567019382, "last_edit_date": 1567021455, "question_id": 57698710, "link": "https://stackoverflow.com/questions/57698710/worker-manager-not-start-work-in-enqueue", "title": "Worker manager: not start work in enqueue", "body": "<p>I have such code, I need to implement the task queue, if the task is in the queue, then you do not need to add it.\nI implemented as shown in when, everything works, but sometimes the state of the worker remains ENQUEUED, and new tasks are not added to the queue.\nThat is, when there is no Internet, I add a task, when the Internet appears, tasks begin to run out, but for some reason, sometimes it doesn\u2019t happen, I can\u2019t understand why the task does not start despite the fact that the Internet is there and the task is in the queue.\nHow can you determine why the task will not start?\nDoes anyone have a better suggestion?</p>\n\n<pre><code>//run task\nrunOneTimeWorkByType&lt;GetDocumentsWorker&gt;(GET_DOCUMENTS_TAG)\n\n     private inline fun &lt;reified W : Worker&gt; runOneTimeWorkByType(tag: String) {\n            val workerInfoList = workManager\n                .getWorkInfosByTag(tag)\n                .get()\n\n            for (item in workerInfoList) {\n                if (item.state == WorkInfo.State.ENQUEUED){\n                    return\n                }\n            }\n\n            val constraints = Constraints.Builder()\n                .setRequiredNetworkType(NetworkType.CONNECTED)\n                .build()\n\n            val workRequest =\n                OneTimeWorkRequestBuilder&lt;W&gt;()\n                    .setConstraints(constraints)\n                    .addTag(tag)\n                    .build()\n\n            workManager.enqueue(workRequest)\n        }\n\n\n        class GetDocumentsWorker(ctx: Context, workerParams: WorkerParameters) :\n            Worker(ctx, workerParams) {\n            @Inject\n            lateinit var serviceUtils: ServiceUtils\n\n            init {\n                App.appComponent.inject(this)\n            }\n\n            override fun doWork(): Result {\n                Log.d(\"workmng\", \"GetDocumentsWorker: start\")\n                try {\n                    serviceUtils.documentsGet()\n                } catch (e: Exception) {\n                    Log.d(\"workmng\", \"GetDocumentsWorker:  exception\", e.cause)\n                    return Result.retry()\n                }\n                Log.d(\"workmng\", \"GetDocumentsWorker: end\")\n                return Result.success()\n            }\n        }\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I tried to start the task without conditions, but in this case, nothing starts either, have ideas why so?</p>\n\n<pre><code>fun runGetDocumentsTask() {\n        val workRequest =\n            OneTimeWorkRequestBuilder&lt;GetDocumentsWorker&gt;()\n                .addTag(GET_DOCUMENTS_TAG)\n                .build()\n\n        workManager.enqueue(workRequest)\n    }\n</code></pre>\n\n<p>Everything starts to work fine when I cancel jobs: <code>workManager.cancelAllWork()</code></p>\n\n<p>When creating a worker, I run several periodic tasks, can there be a problem in them? If so, how to fix it?</p>\n\n<pre><code>private var workManager: WorkManager = WorkManager.getInstance(ctx)\n\n    init {\n        //workManager.cancelAllWork()\n        runSendAllPeriodicTasks()\n    }\n\n    private fun runSendAllPeriodicTasks() {\n        runOneTimeWorkOnPeriod&lt;SendAllWorker&gt;(15, TimeUnit.MINUTES)\n        runOneTimeWorkOnPeriod&lt;FailureFilesResendWorker&gt;(3, TimeUnit.HOURS)\n        runOneTimeWorkOnPeriod&lt;GetItemsWorker&gt;(1, TimeUnit.HOURS)\n    }\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5795, "user_id": 3253896, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fa6d2f73d0c32ee94e11661d94857fc8?s=128&d=identicon&r=PG", "display_name": "\u0428\u0430\u0445", "link": "https://stackoverflow.com/users/3253896/%d0%a8%d0%b0%d1%85"}, "edited": false, "score": 0, "creation_date": 1567024974, "post_id": 57699111, "comment_id": 101843471, "body": "Unfortunately, in this case we lose information about <code>dao</code>&#39;s type. But thank you for explanation, I will know it&#39;s impossible in Kotlin at this moment."}], "tags": [], "owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "is_accepted": true, "score": 1, "last_activity_date": 1567021379, "creation_date": 1567021379, "answer_id": 57699111, "question_id": 57698682, "link": "https://stackoverflow.com/questions/57698682/is-it-possible-to-deduce-a-type-of-passed-generic-automatically/57699111#57699111", "title": "Is it possible to deduce a type of passed generic automatically?", "body": "<p>Unfortunately Kotlin does not do type inference on class declaration level.</p>\n\n<p>But your example could be slightly simplified, and this probably could solve your problem. </p>\n\n<p>Since <code>TDao</code> is not used as a type parameter you can remove it from class declaration, and declare implicit type for constructor parameter as <code>BaseDao&lt;TEntity&gt;</code> like this:</p>\n\n<pre><code>open class Repository&lt;TEntity: KeyEntity&gt;(\n    val dao: BaseDao&lt;TEntity&gt;\n) {\n\n    fun insert(entity: TEntity, callback: ActionCallback&lt;TEntity&gt;? = null) {\n        InsertAsyncTask(dao, callback).execute(entity)\n    }\n}\n</code></pre>\n\n<p>And finally class declaration could be one type less:</p>\n\n<pre><code>class MyRepo : Repository&lt;MyEntity&gt;(myDao)\n</code></pre>\n"}], "owner": {"reputation": 5795, "user_id": 3253896, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fa6d2f73d0c32ee94e11661d94857fc8?s=128&d=identicon&r=PG", "display_name": "\u0428\u0430\u0445", "link": "https://stackoverflow.com/users/3253896/%d0%a8%d0%b0%d1%85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 57699111, "answer_count": 1, "score": 0, "last_activity_date": 1567021379, "creation_date": 1567019199, "question_id": 57698682, "link": "https://stackoverflow.com/questions/57698682/is-it-possible-to-deduce-a-type-of-passed-generic-automatically", "title": "Is it possible to deduce a type of passed generic automatically?", "body": "<p>I have the next class:  </p>\n\n<pre><code>open class Repository&lt;TEntity: KeyEntity, TDao: BaseDao&lt;TEntity&gt;&gt;(val dao: TDao) {\n\n    fun insert(entity: TEntity, callback: ActionCallback&lt;TEntity&gt;? = null) {\n        InsertAsyncTask(dao, callback).execute(entity)\n    }\n}\n</code></pre>\n\n<p>When I specify a some DAO type it contains information about <code>TEntity</code> type. Is it possible to rewrite the class to I could inherit it providing one type only?</p>\n\n<pre><code>class MyRepo : Repository&lt;MyDao&gt;(myDao)\n</code></pre>\n\n<p>Instead of</p>\n\n<pre><code>class MyRepo : Repository&lt;MyEntity, MyDao&gt;(myDao)\n</code></pre>\n"}, {"tags": ["android", "button", "kotlin", "onclick"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "edited": false, "score": 0, "creation_date": 1567018247, "post_id": 57697859, "comment_id": 101840869, "body": "Thanks! Can you translate your answer to Kotlin, please?"}, {"owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "edited": false, "score": 0, "creation_date": 1567025073, "post_id": 57697859, "comment_id": 101843513, "body": "How can I add multiple actions after the &quot;-&gt;&quot; like: println(&quot;abc&quot;); view.bringToFront() ? @Anas Mehar"}, {"owner": {"reputation": 2394, "user_id": 5974659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ab982a491d36319cbcde99792f0123?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Mehar", "link": "https://stackoverflow.com/users/5974659/anas-mehar"}, "reply_to_user": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "edited": false, "score": 0, "creation_date": 1567038069, "post_id": 57697859, "comment_id": 101846641, "body": "You can do like this &quot;-&gt;{ println(&quot;abc&quot;); view.bringToFront()}&quot; for multiple expression"}, {"owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "edited": false, "score": 0, "creation_date": 1567295069, "post_id": 57697859, "comment_id": 101923447, "body": "Look I updated my answer. The line println() is correctly executed when the user releases the button but the line soundoff.bringToFront() is executed on click. Why is that so?"}, {"owner": {"reputation": 2394, "user_id": 5974659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ab982a491d36319cbcde99792f0123?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Mehar", "link": "https://stackoverflow.com/users/5974659/anas-mehar"}, "reply_to_user": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "edited": false, "score": 0, "creation_date": 1567313483, "post_id": 57697859, "comment_id": 101925186, "body": "if you using on touchlistener then way are you using onclicklisteners?"}, {"owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "edited": false, "score": 0, "creation_date": 1567544414, "post_id": 57697859, "comment_id": 101992254, "body": "I don&#39;t understand the question."}], "tags": [], "owner": {"reputation": 2394, "user_id": 5974659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ab982a491d36319cbcde99792f0123?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Mehar", "link": "https://stackoverflow.com/users/5974659/anas-mehar"}, "is_accepted": false, "score": 3, "last_activity_date": 1567018437, "last_edit_date": 1567018437, "creation_date": 1567015358, "answer_id": 57697859, "question_id": 57697735, "link": "https://stackoverflow.com/questions/57697735/is-there-a-method-to-call-an-action-after-the-button-is-released-not-as-soon-as/57697859#57697859", "title": "Is there a method to call an action after the button is released not as soon as the button is pressed?", "body": "<p>You can use a <code>onTouchListener</code>:</p>\n\n<pre><code>view.setOnTouchListener(new View.OnTouchListener() {        \n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        switch(event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                // PRESSED\n                return true; // if you want to handle the touch event\n            case MotionEvent.ACTION_UP:\n                // RELEASED\n                return true; // if you want to handle the touch event\n        }\n        return false;\n    }\n});\n</code></pre>\n\n<p>In Kotlin try this</p>\n\n<pre><code>view.setOnTouchListener(object : View.OnTouchListener {\n        override fun onTouch(v: View?, event: MotionEvent?): Boolean {\n            when (event?.action) {\n                MotionEvent.ACTION_DOWN -&gt; //Do Something\n            }\n\n            return v?.onTouchEvent(event) ?: true\n        }\n    })\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567294945, "creation_date": 1567014871, "last_edit_date": 1567294945, "question_id": 57697735, "link": "https://stackoverflow.com/questions/57697735/is-there-a-method-to-call-an-action-after-the-button-is-released-not-as-soon-as", "title": "Is there a method to call an action after the button is released not as soon as the button is pressed?", "body": "<p>I want to call the following action after the button is released again:</p>\n\n<pre><code> button.bringToFront()\n</code></pre>\n\n<p>My problem is that I only know how to trigger an action as soon as the button is clicked on. -> </p>\n\n<pre><code>button.setOnClickListener{\n   button.bringToFront()\n\n}\n</code></pre>\n\n<p>Thanks for your help!</p>\n\n<p>Solution:</p>\n\n<pre><code>//Sound On/ Off\n    soundon.setOnTouchListener(object : View.OnTouchListener {\n        override fun onTouch(v: View?, event: MotionEvent?): Boolean {\n            /*when (event?.action) {\n                MotionEvent.ACTION_DOWN -&gt;  // On click\n\n            }*/\n            when (event?.action) {\n                MotionEvent.ACTION_UP -&gt; {soundoff.bringToFront(); println(\"on\")}// Released\n\n            }\n\n            return v?.onTouchEvent(event) ?: true\n        }\n    })\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-tablayout"], "comments": [{"owner": {"reputation": 66, "user_id": 2751783, "user_type": "registered", "profile_image": "https://graph.facebook.com/576068325/picture?type=large", "display_name": "R&#243;bert Polovitzer", "link": "https://stackoverflow.com/users/2751783/r%c3%b3bert-polovitzer"}, "edited": false, "score": 0, "creation_date": 1567012241, "post_id": 57696896, "comment_id": 101838510, "body": "Maybe this can help -&gt; <a href=\"https://stackoverflow.com/a/6050655/2751783\">stackoverflow.com/a/6050655/2751783</a>"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1567014512, "post_id": 57696896, "comment_id": 101839469, "body": "Since you&#39;re doing <code>setupWithViewPager()</code>, about the only way to do this (without modifying <code>TabLayout</code>) is to manually iterate over the tab <code>View</code>s, and set the <code>OnLongClickListener</code> on each one. However, those <code>View</code>s are not direct children of the <code>TabLayout</code>. They are nested inside another <code>View</code>, so you&#39;d have to iterate over the children of the first child of the <code>TabLayout</code>."}, {"owner": {"reputation": 39, "user_id": 11256575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd20428e28100a177baf6b2d17295dcb?s=128&d=identicon&r=PG&f=1", "display_name": "mobwar", "link": "https://stackoverflow.com/users/11256575/mobwar"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1567019381, "post_id": 57696896, "comment_id": 101841336, "body": "@MikeM. ok that is fine however how would I do that? I seem to be able to get the child using main_tabs[0] or getchildat(0) but it doesn&#39;t seem to produce a view group to iterate over."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1567019468, "post_id": 57696896, "comment_id": 101841373, "body": "You&#39;ll have to cast it to <code>ViewGroup</code>."}, {"owner": {"reputation": 39, "user_id": 11256575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd20428e28100a177baf6b2d17295dcb?s=128&d=identicon&r=PG&f=1", "display_name": "mobwar", "link": "https://stackoverflow.com/users/11256575/mobwar"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1567020915, "post_id": 57696896, "comment_id": 101841915, "body": "Thank you @MikeM. i figured it out."}], "answers": [{"comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1567021409, "post_id": 57699020, "comment_id": 101842075, "body": "<code>as ViewGroup</code> would be sufficient. It does happen to be a <code>LinearLayout</code> subclass, but that might change in other versions. Just FYI. Cheers!"}], "tags": [], "owner": {"reputation": 39, "user_id": 11256575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd20428e28100a177baf6b2d17295dcb?s=128&d=identicon&r=PG&f=1", "display_name": "mobwar", "link": "https://stackoverflow.com/users/11256575/mobwar"}, "is_accepted": false, "score": 0, "last_activity_date": 1567020984, "creation_date": 1567020984, "answer_id": 57699020, "question_id": 57696896, "link": "https://stackoverflow.com/questions/57696896/android-kotlin-tab-long-click-listener/57699020#57699020", "title": "android Kotlin: tab long click listener", "body": "<p>Solution thanks to Mike M.</p>\n\n<pre><code>   val tabs = main_tabs.getChildAt(0) as LinearLayout\n\n    for (i in 0 until tabs.childCount) {\n        when(i){\n            0 -&gt; tabs.getChildAt(0).setOnLongClickListener {\n                Toast.makeText(baseContext, \"tab 0 \", Toast.LENGTH_LONG).show()\n                true\n            }\n            1 -&gt; tabs.getChildAt(1).setOnLongClickListener {\n                Toast.makeText(baseContext, \"tab 1\", Toast.LENGTH_LONG).show()\n                true\n            }\n            2 -&gt; tabs.getChildAt(2).setOnLongClickListener {\n                Toast.makeText(baseContext, \"tab 2\", Toast.LENGTH_LONG).show()\n                true\n            }\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 11256575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd20428e28100a177baf6b2d17295dcb?s=128&d=identicon&r=PG&f=1", "display_name": "mobwar", "link": "https://stackoverflow.com/users/11256575/mobwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567020984, "creation_date": 1567010967, "question_id": 57696896, "link": "https://stackoverflow.com/questions/57696896/android-kotlin-tab-long-click-listener", "title": "android Kotlin: tab long click listener", "body": "<p>I am struggling with how to implement a long click on my tabs. I have tried a few different things however none seem to work.</p>\n\n<p>I am sure maybe its something basic or I simply am not understanding the on clicks with the tablayout and pager. </p>\n\n<p>I have found some questions on here but they do are not referring to on long click. </p>\n\n<p>here are a few of the things that I have tried. </p>\n\n<pre><code>    main_tab_pager.iterator().forEach {\n        view -&gt;\n        view.setOnLongClickListener{\n            Toast.makeText(applicationContext, \"....\", Toast.LENGTH_LONG).show()\n            true\n        }\n   main_tabs.setOnLongClickListener { \n        when(main_tabs.selectedTabPosition) {\n            0-&gt; Toast.makeText(applicationContext, \"tab 0\", Toast.LENGTH_LONG).show()\n            1-&gt; Toast.makeText(applicationContext, \"tab 1\", Toast.LENGTH_LONG).show()\n            2-&gt; Toast.makeText(applicationContext, \"tab 2\", Toast.LENGTH_LONG).show()\n        }\n        true \n    }\n\n    main_tab_pager.setOnLongClickListener {\n        when(main_tab_pager.currentItem) {\n            0-&gt; Toast.makeText(applicationContext, \"tab 0\", Toast.LENGTH_LONG).show()\n            1-&gt; Toast.makeText(applicationContext, \"tab 1\", Toast.LENGTH_LONG).show()\n            2-&gt; Toast.makeText(applicationContext, \"tab 2\", Toast.LENGTH_LONG).show()\n        }\n        true\n    }\n</code></pre>\n\n<p>tab/pager setup code.</p>\n\n<pre><code>main_tab_pager.adapter = TabAdapter(supportFragmentManager, sections)\n    main_tabs.setupWithViewPager(main_tab_pager)\n</code></pre>\n\n<p>tab adapter</p>\n\n<pre><code>class TabAdapter(fragmentManager: FragmentManager, private val sections: \nArray&lt;BaseFragment&gt;) : FragmentPagerAdapter(fragmentManager) \n{\n    override fun getItem(position: Int): Fragment {\n        return sections[position]\n    }\n\n    override fun getCount(): Int {\n        return sections.size\n    }\n\n    override fun getPageTitle(position: Int): CharSequence? {\n        return sections[position].title\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-lifecycle", "android-livedata", "mutablelivedata"], "answers": [{"tags": [], "owner": {"reputation": 850, "user_id": 7970480, "user_type": "registered", "profile_image": "https://graph.facebook.com/1116415491838310/picture?type=large", "display_name": "Arbaz Pirwani", "link": "https://stackoverflow.com/users/7970480/arbaz-pirwani"}, "is_accepted": true, "score": 2, "last_activity_date": 1567010671, "creation_date": 1567010671, "answer_id": 57696829, "question_id": 57696776, "link": "https://stackoverflow.com/questions/57696776/how-to-observe-data-from-live-data-android-on-three-different-fragment/57696829#57696829", "title": "How to observe data from live data android on Three different Fragment", "body": "<p>Hey there you are doing everything greate except one thing you should use <code>requireActivity()</code> instead on this in your fragment class.</p>\n\n<p>Make sure your all fragment are attached to your <code>viewModel</code> holding Activity.</p>\n\n<pre><code>class MainActivity{\n\n      lateinit var mainActivityViewModel: MainActivityViewModel\n      ...\n\n     mainActivityViewModel = ViewModelProviders.of(this, viewModelFactory).get(MainActivityViewModel::class.java)\n}\n\nclass MainFragmentOne{\n\n      lateinit var mainActivityViewModel: MainActivityViewModel\n      ...\n\n     mainActivityViewModel = ViewModelProviders.of(requireActivity(), viewModelFactory).get(MainActivityViewModel::class.java)\n}\n</code></pre>\n\n<p>This will help you solve your issue.</p>\n\n<p>For further detail <a href=\"https://developer.android.com/topic/libraries/architecture/livedata\" rel=\"nofollow noreferrer\">view</a> this.</p>\n"}, {"tags": [], "owner": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "is_accepted": false, "score": 1, "last_activity_date": 1567012583, "creation_date": 1567012583, "answer_id": 57697245, "question_id": 57696776, "link": "https://stackoverflow.com/questions/57696776/how-to-observe-data-from-live-data-android-on-three-different-fragment/57697245#57697245", "title": "How to observe data from live data android on Three different Fragment", "body": "<p>The ViewModelProviders.of has 2 different constructors:</p>\n\n<pre><code>of(Fragment fragment, ViewModelProvider.Factory factory)\n</code></pre>\n\n<blockquote>\n  <p>Creates a ViewModelProvider, which retains ViewModels while a scope of\n  given fragment is alive.</p>\n</blockquote>\n\n<pre><code>of(FragmentActivity activity, ViewModelProvider.Factory factory)\n</code></pre>\n\n<blockquote>\n  <p>Creates a ViewModelProvider, which retains ViewModels while a scope of\n  given Activity is alive.</p>\n</blockquote>\n\n<p>Basically when you used <strong>this</strong> as the first parameter in your activity, you passed the context of the activity and created a viewmodel that will be alive in the scope of the activity, however your second <strong>this</strong> is the context to your fragment, meaning that the second ViewModel will be alive as long as your fragment is alive (only one fragment).</p>\n\n<p>What instead you should be doing in your fragment is using the context of the activity, since activity is always alive when fragments are attached and swapped. You should change your fragments to:</p>\n\n<pre><code>class MainFragmentOne{\n\n      lateinit var mainActivityViewModel: MainActivityViewModel\n      ...\n\n     mainActivityViewModel = ViewModelProviders.of(activity!!, viewModelFactory).get(MainActivityViewModel::class.java)\n}\n</code></pre>\n\n<p>or you can use the requireActivity() method that was the previous answer.</p>\n"}, {"tags": [], "owner": {"reputation": 2874, "user_id": 9522732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srrqm.jpg?s=128&g=1", "display_name": "Uni", "link": "https://stackoverflow.com/users/9522732/uni"}, "is_accepted": false, "score": 1, "last_activity_date": 1567339069, "last_edit_date": 1567339069, "creation_date": 1567323262, "answer_id": 57744042, "question_id": 57696776, "link": "https://stackoverflow.com/questions/57696776/how-to-observe-data-from-live-data-android-on-three-different-fragment/57744042#57744042", "title": "How to observe data from live data android on Three different Fragment", "body": "<p>To achieve what you are trying to do, you need three things. An activity/fragment that will post the value to the <code>ViewModel</code>, a <code>ViewModel</code>, and an activity/fragment that will retrieve the data from the <code>ViewModel</code>. Lets say your data is stored in an <code>ArrayList</code>, and you want to update and retrieve it from different fragments.<br>\nFirst, we have to implement a <code>ViewModel</code>. It contains the data you want to share between your activities/fragments. You declare the <code>MutableLiveData</code> as an <code>ArrayList</code> then initialize it.</p>\n\n<pre><code>class testviewmodel : ViewModel() {\n    val list: MutableLiveData&lt;ArrayList&lt;String&gt;&gt; = MutableLiveData()\n    init {\n        list.value = arrayListOf()\n    }\n}\n</code></pre>\n\n<p>Our next step is to access and update the <code>ArrayList</code> using your activity:</p>\n\n<pre><code>    val viewmodel = ViewModelProviders.of(this).get(testviewmodel::class.java)\n    // update the array in Viewmodel\n    viewmodel.list.postValue(yourarray)\n</code></pre>\n\n<p>If you are using a <code>Fragment</code> to update it, use this:</p>\n\n<pre><code>    activity?.let {\n        val viewmodel = ViewModelProviders.of(it).get(testviewmodel::class.java)\n         // update the array in Viewmodel\n        viewmodel.list.postValue(yourarray)\n    }\n</code></pre>\n\n<p>Finally, to retrieve the data from the <code>ViewModel</code> in a fragment, put this inside your <code>onViewCreated</code>:</p>\n\n<pre><code>activity?.let {\n    val viewmodel = ViewModelProviders.of(it).get(Dbviewmodel::class.java)\n    observeInput(viewmodel)\n}\n</code></pre>\n\n<p>Put this outside of your <code>onViewCreated</code>:</p>\n\n<pre><code>private fun observeInput(viewmodel: testviewmodel ) {\n\n    viewmodel.list.observe(viewLifecycleOwner, Observer {\n        it?.let {\n            if (it.size &gt; 5) {\n                pos = it[5]\n//grab it\n                Toast.makeText(context,pos,Toast.LENGTH_LONG).show()\n//display grabbed data\n            }\n        }\n    })\n}\n</code></pre>\n\n<p>Take a look at this <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">docs</a> for more information about <code>ViewModels</code><br>\nGood Luck! I hope this helps :)</p>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 6690634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff46316a5cdda399af73dc3d85f3d745?s=128&d=identicon&r=PG&f=1", "display_name": "Wahyu Anggara Raya", "link": "https://stackoverflow.com/users/6690634/wahyu-anggara-raya"}, "is_accepted": false, "score": 0, "last_activity_date": 1575754588, "creation_date": 1575754588, "answer_id": 59230455, "question_id": 57696776, "link": "https://stackoverflow.com/questions/57696776/how-to-observe-data-from-live-data-android-on-three-different-fragment/59230455#59230455", "title": "How to observe data from live data android on Three different Fragment", "body": "<p>That's because you are using the fragment 'this' instance, and not the activity.</p>\n\n<p>Replace</p>\n\n<pre><code>mainActivityViewModel = ViewModelProviders.of(this, viewModelFactory).get(MainActivityViewModel::class.java)\n</code></pre>\n\n<p>With</p>\n\n<pre><code>activity?.let { mainActivityViewModel = ViewModelProviders.of(it, viewModelFactory).get(MainActivityViewModel::class.java) }\n</code></pre>\n"}], "owner": {"reputation": 80, "user_id": 11494599, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-58UeHyRzV2E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re4KB7DIK1PWCr7YXUJRcT5u9yxnQ/mo/photo.jpg?sz=128", "display_name": "Hello world ", "link": "https://stackoverflow.com/users/11494599/hello-world"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2316, "favorite_count": 0, "accepted_answer_id": 57696829, "answer_count": 4, "score": 3, "last_activity_date": 1606435687, "creation_date": 1567010449, "last_edit_date": 1606435687, "question_id": 57696776, "link": "https://stackoverflow.com/questions/57696776/how-to-observe-data-from-live-data-android-on-three-different-fragment", "title": "How to observe data from live data android on Three different Fragment", "body": "<p>I have my Activity <code>MainActivity.kt</code> .</p>\n<p>And and one ViewModel <code>MainActivityViewModel.kt</code></p>\n<p>And I want to observe my live data to my 3 different fragments.</p>\n<pre><code>class MainActivity{\n      \n      lateinit var mainActivityViewModel: MainActivityViewModel\n      ...\n\n     mainActivityViewModel = ViewModelProviders.of(this, viewModelFactory).get(MainActivityViewModel::class.java)\n}\n\nclass MainFragmentOne{\n      \n      lateinit var mainActivityViewModel: MainActivityViewModel\n      ...\n\n     mainActivityViewModel = ViewModelProviders.of(this, viewModelFactory).get(MainActivityViewModel::class.java)\n}\n</code></pre>\n<p>But my observer only work on activity not on the fragments.</p>\n"}, {"tags": ["android", "kotlin", "calendar"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1567010027, "post_id": 57696563, "comment_id": 101837646, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4927856/how-to-calculate-time-difference-in-java\">How to calculate time difference in java?</a>"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1567010031, "post_id": 57696563, "comment_id": 101837649, "body": "And <a href=\"https://stackoverflow.com/q/15360123/6296561\">stackoverflow.com/q/15360123/6296561</a>"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1567040326, "post_id": 57696563, "comment_id": 101847007, "body": "In what units do you want the difference to be expressed?"}, {"owner": {"reputation": 1, "user_id": 11869035, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aZFAX4bgiOE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rftQ31npVYGMSMcRNF3vrzFz86iYg/photo.jpg?sz=128", "display_name": "\ubc15\uc8fc\ud604", "link": "https://stackoverflow.com/users/11869035/%eb%b0%95%ec%a3%bc%ed%98%84"}, "edited": false, "score": 0, "creation_date": 1567083840, "post_id": 57696563, "comment_id": 101863819, "body": "Represents as an integer"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11869035, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aZFAX4bgiOE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rftQ31npVYGMSMcRNF3vrzFz86iYg/photo.jpg?sz=128", "display_name": "\ubc15\uc8fc\ud604", "link": "https://stackoverflow.com/users/11869035/%eb%b0%95%ec%a3%bc%ed%98%84"}, "edited": false, "score": 0, "creation_date": 1567013429, "post_id": 57696606, "comment_id": 101839029, "body": "That part is selectday.set(year.toInt(), month.toInt(), day.toInt())"}], "tags": [], "owner": {"reputation": 21, "user_id": 11232069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23c08f4472e49edb99684a285d26e185?s=128&d=identicon&r=PG&f=1", "display_name": "Zakiy", "link": "https://stackoverflow.com/users/11232069/zakiy"}, "is_accepted": false, "score": 0, "last_activity_date": 1567009561, "creation_date": 1567009561, "answer_id": 57696606, "question_id": 57696563, "link": "https://stackoverflow.com/questions/57696563/calculate-date-difference/57696606#57696606", "title": "Calculate date difference", "body": "<p>You could take the variable named as a string to store your date and after then you subtract it, then convert it to date again.</p>\n"}], "owner": {"reputation": 1, "user_id": 11869035, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aZFAX4bgiOE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rftQ31npVYGMSMcRNF3vrzFz86iYg/photo.jpg?sz=128", "display_name": "\ubc15\uc8fc\ud604", "link": "https://stackoverflow.com/users/11869035/%eb%b0%95%ec%a3%bc%ed%98%84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1567010038, "creation_date": 1567009335, "last_edit_date": 1567010038, "question_id": 57696563, "link": "https://stackoverflow.com/questions/57696563/calculate-date-difference", "title": "Calculate date difference", "body": "<p>I want to calculate the difference between the date selected by the user and the current date</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_home)\n\n    var year = intent.getStringExtra(\"year\")\n    var month = intent.getStringExtra(\"month\")\n    var day = intent.getStringExtra(\"day\")\n\n    Log.d(\"select_day\", \"${year}.${month}.${day}\")\n\n    var selectday = Calendar.getInstance()\n    selectday.set(year.toInt(), month.toInt(), day.toInt())\n\n    var today = Calendar.getInstance()\n    var yearto = today.get(Calendar.YEAR)\n    var monthto = today.get(Calendar.MONTH)\n    var dayto = today.get(Calendar.DAY_OF_MONTH)\n    today.set(yearto, monthto+1, dayto)\n    var todaym = today.timeInMillis / 86400000\n    var selectdaym = selectday.timeInMillis / 86400000\n    var deltil = selectdaym - todaym\n    testtv.setText(\"${deltil.toInt()}\")\n\n}\n</code></pre>\n\n<p>For example, if the value passed to intent is year 2019 month 9 day 1 and yearto 2019 monthto 8 dayto 28, the final result is 3 instead of 4.</p>\n"}, {"tags": ["java", "kotlin", "collections", "java-8", "java-stream"], "comments": [{"owner": {"reputation": 97, "user_id": 11945095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a07ec59cceaaa716942bb03953e6cbc?s=128&d=identicon&r=PG&f=1", "display_name": "Elgin", "link": "https://stackoverflow.com/users/11945095/elgin"}, "edited": false, "score": 0, "creation_date": 1567006456, "post_id": 57695765, "comment_id": 101835878, "body": "you can get attribute names through reflection"}, {"owner": {"reputation": 272, "user_id": 2514784, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e47460b47888a47d001b87608f7eaa3?s=128&d=identicon&r=PG", "display_name": "Prasad", "link": "https://stackoverflow.com/users/2514784/prasad"}, "reply_to_user": {"reputation": 97, "user_id": 11945095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a07ec59cceaaa716942bb03953e6cbc?s=128&d=identicon&r=PG&f=1", "display_name": "Elgin", "link": "https://stackoverflow.com/users/11945095/elgin"}, "edited": false, "score": 0, "creation_date": 1567006639, "post_id": 57695765, "comment_id": 101835987, "body": "Here, for example, I just added 4 attributes. In realtime, there are many attributes and I get a list of attributes whose values have to be updated."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1567007068, "post_id": 57695765, "comment_id": 101836230, "body": "If you need to access the properties in that fashion, it suggests that you might be better off with a List or Array instead of separate properties.  (In my experience, with a few exceptions such as plugins, resorting to Reflection in production code is a strong sign that the design is wrong.)"}], "answers": [{"tags": [], "owner": {"reputation": 138, "user_id": 6537367, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zNysqCLIzAo/AAAAAAAAAAI/AAAAAAAAAEY/Jo2N_gPEsLM/photo.jpg?sz=128", "display_name": "belbix", "link": "https://stackoverflow.com/users/6537367/belbix"}, "is_accepted": false, "score": 0, "last_activity_date": 1567007311, "creation_date": 1567007311, "answer_id": 57696080, "question_id": 57695765, "link": "https://stackoverflow.com/questions/57695765/map-values-of-listcustomobject-to-an-object-with-attributes/57696080#57696080", "title": "Map values of List&lt;CustomObject&gt; to an object with attributes", "body": "<p>Very simple example based on reflection</p>\n\n<pre><code>public class TestMap {\n\nMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\npublic Attributes toAttributes() {\n    Attributes attributes = new Attributes();\n    for (Field field : attributes.getClass().getDeclaredFields()) {\n        map.forEach((s, o) -&gt; {\n            if (field.getName().equals(s) &amp;&amp; field.getType().equals(String.class)) {\n                try {\n                    field.set(attributes, o);\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n    return attributes;\n}\n\npublic static void main(String[] args) {\n    TestMap testMap = new TestMap();\n    testMap.map.put(\"attribute1\", \"attribute1Value\");\n    testMap.map.put(\"attribute2\", \"attribute2Value\");\n    testMap.map.put(\"attribute3\", \"attribute3Value\");\n    testMap.map.put(\"attribute4\", \"attribute4Value\");\n    System.out.println(testMap.toAttributes().toString());\n}\n\n\nstatic class Attributes {\n    String attribute1;\n    String attribute2;\n    String attribute3;\n    String attribute4;\n\n    @Override\n    public String toString() {\n        return \"Attributes{\" +\n                \"attribute1='\" + attribute1 + '\\'' +\n                \", attribute2='\" + attribute2 + '\\'' +\n                \", attribute3='\" + attribute3 + '\\'' +\n                \", attribute4='\" + attribute4 + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 11945095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a07ec59cceaaa716942bb03953e6cbc?s=128&d=identicon&r=PG&f=1", "display_name": "Elgin", "link": "https://stackoverflow.com/users/11945095/elgin"}, "is_accepted": false, "score": 1, "last_activity_date": 1567007472, "creation_date": 1567007472, "answer_id": 57696117, "question_id": 57695765, "link": "https://stackoverflow.com/questions/57695765/map-values-of-listcustomobject-to-an-object-with-attributes/57696117#57696117", "title": "Map values of List&lt;CustomObject&gt; to an object with attributes", "body": "<pre class=\"lang-java prettyprint-override\"><code>   public static void main(String[] args) throws IllegalAccessException {\n        List&lt;MyClass&gt; list = new ArrayList&lt;&gt;();\n        list.add(new MyClass(\"attribute1\", \"value1\"));\n        list.add(new MyClass(\"attribute2\", \"value2\"));\n        list.add(new MyClass(\"attribute3\", \"value3\"));\n        list.add(new MyClass(\"attribute4\", \"value4\"));\n\n        Map&lt;String, String&gt; mapresult = list.stream().collect(Collectors.toMap(MyClass::getName, MyClass::getValue));\n\n        MyAttributeClass attributeClass = new MyAttributeClass();\n        for (Field field : attributeClass.getClass().getDeclaredFields()) {\n           field.setAccessible(true);\n           String  res = mapresult.get(field.getName());\n           if (nonNull(res)) {\n               field.set(attributeClass, res);\n           }\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 272, "user_id": 2514784, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e47460b47888a47d001b87608f7eaa3?s=128&d=identicon&r=PG", "display_name": "Prasad", "link": "https://stackoverflow.com/users/2514784/prasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1567078929, "creation_date": 1567006066, "last_edit_date": 1567078929, "question_id": 57695765, "link": "https://stackoverflow.com/questions/57695765/map-values-of-listcustomobject-to-an-object-with-attributes", "title": "Map values of List&lt;CustomObject&gt; to an object with attributes", "body": "<p>I have a class which has 2 attributes</p>\n\n<pre><code>public class MyClass\n{\n     String name;\n     String value;\n\n     public MyClass(String name, String value)\n     {\n     this.name = name;\n     this.value = value;\n     }\n\n}\n</code></pre>\n\n<p>I have another class which has many attributes</p>\n\n<pre><code>public class MyAttributeClass\n{\n     String attribute1;\n     String attribute2;\n     String attribute3;\n     String attribute4;\n           .\n           .\n           .\n\n}\n</code></pre>\n\n<p>Now I have a List which is something like below</p>\n\n<pre><code>List&lt;MyClass&gt; list = new ArrayList&lt;&gt;();\nlist.add(new MyClass(\"attribute1\", \"value1\"));\nlist.add(new MyClass(\"attribute2\", \"value2\"));\nlist.add(new MyClass(\"attribute3\", \"value3\"));\nlist.add(new MyClass(\"attribute4\", \"value4\"));\n\n</code></pre>\n\n<p>I have to populate the values of all 4 attributes of MyAttributeClass which I get from the list.\nIn the end, my MyAttributeClass should have something like</p>\n\n<pre><code>public class MyAttributeClass\n{\n     String attribute1=value1;\n     String attribute2=value2;\n     String attribute3=value3;\n     String attribute4=value4;\n\n}\n\n</code></pre>\n\n<p>I can iterate over the list and create a map and then do a contains check and populate the object like below. Is there any better/efficient way to do this?</p>\n\n<pre><code>public void myMethod(List&lt;MyClass&gt; list)\n{\n        Map&lt;String, String&gt; mapresult = list.stream().collect(Collectors.toMap(MyClass::getName, MyClass::getValue));\n\n        MyAttributeClass myAttributeClass = new MyAttributeClass();\n        if (mapresult.containsKey(\"attribute1\"))\n        {\n            myAttributeClass.setAttribute1(mapresult.get(\"attribute1\"));\n        }\n        if (mapresult.containsKey(\"attribute2\"))\n        {\n            myAttributeClass.setAttribute1(mapresult.get(\"attribute2\"));\n        }\n        if (mapresult.containsKey(\"attribute3\"))\n        {\n            myAttributeClass.setAttribute1(mapresult.get(\"attribute3\"));\n        }\n        if (mapresult.containsKey(\"attribute4\"))\n        {\n            myAttributeClass.setAttribute1(mapresult.get(\"attribute4\"));\n        }\n\n    }\n\n}\n\n</code></pre>\n\n<p>Is there any better/efficient way to do this in Kotlin/Java?</p>\n"}, {"tags": ["android", "kotlin", "okhttp"], "comments": [{"owner": {"reputation": 6454, "user_id": 798165, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NvOUf.png?s=128&g=1", "display_name": "eleven", "link": "https://stackoverflow.com/users/798165/eleven"}, "edited": false, "score": 0, "creation_date": 1567005992, "post_id": 57695411, "comment_id": 101835578, "body": "Did you try to compile from command line? Like <code>.&#47;gradlew clean assembleDebug</code>. To exclude possible AndroidStudio issues."}, {"owner": {"reputation": 690, "user_id": 3816808, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b943caf9bae3e14c5255f8d4fc56704e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathieu H.", "link": "https://stackoverflow.com/users/3816808/mathieu-h"}, "reply_to_user": {"reputation": 6454, "user_id": 798165, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NvOUf.png?s=128&g=1", "display_name": "eleven", "link": "https://stackoverflow.com/users/798165/eleven"}, "edited": false, "score": 0, "creation_date": 1567006500, "post_id": 57695411, "comment_id": 101835910, "body": "Yes I tried to clean everything, and to rollback to the previous commit and go step by step to identify the problem and the same issue happened."}], "owner": {"reputation": 690, "user_id": 3816808, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b943caf9bae3e14c5255f8d4fc56704e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathieu H.", "link": "https://stackoverflow.com/users/3816808/mathieu-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567006542, "creation_date": 1567004911, "last_edit_date": 1567006542, "question_id": 57695411, "link": "https://stackoverflow.com/questions/57695411/kotlin-compile-error-with-okhttp-when-adding-a-method-using-request", "title": "Kotlin compile error with OkHttp when adding a method using Request", "body": "<p>I am using OkHhttp and Retrofit in a project. I have a 'RestClient' java class which is building OkHttp and retrofit clients, and I have a kotlin compile error when I add a method in the class with <code>Request</code></p>\n\n<p>The following code is compiling without problem :</p>\n\n<pre><code>private OkHttpClient createOkHttpClient() {\n    OkHttpClient.Builder builder = new OkHttpClient.Builder().connectTimeout(CONNECT_TIMEOUT, TimeUnit.SECONDS)\n        .writeTimeout(WRITE_TIMEOUT, TimeUnit.SECONDS)\n        .readTimeout(READ_TIMEOUT, TimeUnit.SECONDS)\n        .addNetworkInterceptor(chain -&gt; {\n            int flags = Base64.NO_WRAP | Base64.URL_SAFE;\n            String header = calculateHeader()\n            Request request = chain.request().newBuilder().addHeader(\"Authorization\", header).build();\n            return chain.proceed(request);\n        });\n    return builder.build();\n}\n</code></pre>\n\n<p>But if I add a method to calculate the header based on the <code>Request</code> it fails</p>\n\n<pre><code>private OkHttpClient createOkHttpClient() {\n    OkHttpClient.Builder builder = new OkHttpClient.Builder().connectTimeout(CONNECT_TIMEOUT, TimeUnit.SECONDS)\n        .writeTimeout(WRITE_TIMEOUT, TimeUnit.SECONDS)\n        .readTimeout(READ_TIMEOUT, TimeUnit.SECONDS)\n        .addNetworkInterceptor(chain -&gt; {\n            int flags = Base64.NO_WRAP | Base64.URL_SAFE;\n            String header = calculateHeader(chain.request())\n            Request request = chain.request().newBuilder().addHeader(\"Authorization\", header).build();\n            return chain.proceed(request);\n        });\n    return builder.build();\n}\n\nprivate String calculateHeader(Request request) {/** ... */ }\n</code></pre>\n\n<p>Then I have the following error with Kotlin compiler :</p>\n\n<p><code>error: cannot access Request class file for okhttp3.Request not found. Consult the following stack trace for details</code></p>\n\n<p>Unfortunately there is no stack trace.\nI tried to disable Proguard and R8 but without success, the same error remains and the only way to make this message disappear is to remove the <code>Request</code> param from the method.</p>\n\n<p>What I am missing there?</p>\n"}, {"tags": ["android", "kotlin", "navigation", "uinavigationcontroller", "navigation-drawer"], "owner": {"reputation": 117, "user_id": 6609395, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-bUpq-0Boer4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reHiglLZqRAqxwVmOb2Bca7L8gnpw/photo.jpg?sz=128", "display_name": "ashaneen", "link": "https://stackoverflow.com/users/6609395/ashaneen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567001280, "creation_date": 1567001280, "question_id": 57694357, "link": "https://stackoverflow.com/questions/57694357/view-does-not-have-a-navcontroller-set-navigationui-with-drawerlayout-on-cli", "title": "&#39;view&#39; does not have a NavController set , NavigationUI with drawerLayout on click", "body": "<p>When trying to navigate onclick at drawerLayout header, it says that\n<code>'VIEW' &lt;...&gt; does not have a NavController set at androidx.navigation.Navigation.findNavController</code></p>\n\n<p>I was trying to use different methods provided to navigate from controller but nothing seems to work, I guess it's not the way to solve the problem</p>\n\n<p>What I've found at is that it's action related, code below does work</p>\n\n<p><code>Navigation.findNavController(it).navigate(R.id.profileFragmentNav)</code></p>\n\n<p>but using id from within code below doesn't:\n    <code>&lt;action android:id=\"@+id/action_profileFragmentNav_to_chatlistFragment\"/&gt;</code></p>\n\n<p>Is there a way to make headerLayout work with navController by passing custom view which is nested ?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 4, "creation_date": 1567001509, "post_id": 57694279, "comment_id": 101832891, "body": "Hello Ehsan, welcome to SO! The short answer is: <i>don&#39;t</i>. Don&#39;t attempt to call methods directly on a Fragment, fragments are very picky classes and rely on a number of external factors to operate (at the very least, they are tied to a lifecycle so you don&#39;t know what state they may be in). Instead, <i>separate</i> the logic you need to perform into separate classes and interfaces... call those, have those talk to your fragments."}, {"owner": {"reputation": 1145, "user_id": 10192418, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-arPOT1jpVcs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pOEr5lASFQ7ti1Jd8bR7V4H7GtOw/mo/photo.jpg?sz=128", "display_name": "Ehsan Nokandi", "link": "https://stackoverflow.com/users/10192418/ehsan-nokandi"}, "reply_to_user": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1567017957, "post_id": 57694279, "comment_id": 101840753, "body": "Thanks a lot dear @MartinMarconcini. I will try. :)"}], "answers": [{"comments": [{"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1567002068, "post_id": 57694562, "comment_id": 101833250, "body": "better answer than mine, i am deleting mine in favor of this"}, {"owner": {"reputation": 1145, "user_id": 10192418, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-arPOT1jpVcs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pOEr5lASFQ7ti1Jd8bR7V4H7GtOw/mo/photo.jpg?sz=128", "display_name": "Ehsan Nokandi", "link": "https://stackoverflow.com/users/10192418/ehsan-nokandi"}, "edited": false, "score": 3, "creation_date": 1567057119, "post_id": 57694562, "comment_id": 101850191, "body": "thanks dear Ashok. But I don&#39;t want to move between two destinations. I have one method inside one of my destinations (fragment) and I want to call it from the host (my MainActivity)"}, {"owner": {"reputation": 756, "user_id": 713042, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1c663280e6abeb8072244a09b4e94a57?s=128&d=identicon&r=PG", "display_name": "Mahantesh M Ambi", "link": "https://stackoverflow.com/users/713042/mahantesh-m-ambi"}, "edited": false, "score": 0, "creation_date": 1604308135, "post_id": 57694562, "comment_id": 114297683, "body": "Did you find the answer to it? How do you get an instance of fragment to call its method?"}], "tags": [], "owner": {"reputation": 1027, "user_id": 6375170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zugq_QmaxMM/AAAAAAAAAAI/AAAAAAAAAPQ/U_tBeKw3rDg/photo.jpg?sz=128", "display_name": "Ashok Kumar", "link": "https://stackoverflow.com/users/6375170/ashok-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1567002196, "last_edit_date": 1567002196, "creation_date": 1567001991, "answer_id": 57694562, "question_id": 57694279, "link": "https://stackoverflow.com/questions/57694279/in-android-navigation-architecture-how-can-i-call-one-of-destination-fragments/57694562#57694562", "title": "In Android Navigation Architecture, how can I call one of destination fragments&#39; methods from the host (activity)", "body": "<p>You need to get the navController and then call the destination fragment by action I'd or destination I'd as defined in your navigationgraph.xml</p>\n\n<p>Refer Android doc for navigating to destination section:\n<a href=\"https://developer.android.com/guide/navigation/navigation-getting-started#java\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/navigation/navigation-getting-started#java</a></p>\n\n<p>//Sample code </p>\n\n<p>Navigation.findNavController(view).navigate(R.id.viewTransactionsAction);</p>\n"}], "owner": {"reputation": 1145, "user_id": 10192418, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-arPOT1jpVcs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pOEr5lASFQ7ti1Jd8bR7V4H7GtOw/mo/photo.jpg?sz=128", "display_name": "Ehsan Nokandi", "link": "https://stackoverflow.com/users/10192418/ehsan-nokandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 724, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567002196, "creation_date": 1567000998, "question_id": 57694279, "link": "https://stackoverflow.com/questions/57694279/in-android-navigation-architecture-how-can-i-call-one-of-destination-fragments", "title": "In Android Navigation Architecture, how can I call one of destination fragments&#39; methods from the host (activity)", "body": "<p>I use Navigation Architecture in my project and I have some fragments as destinations. Its host is my MainActivity. Now I want to call one of my destinations' methods from the host (MainActivity). What should I do?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1566998866, "post_id": 57693557, "comment_id": 101831193, "body": "Can you show your xml so we can check if you have attached any image to it or not."}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 5, "creation_date": 1566998888, "post_id": 57693557, "comment_id": 101831209, "body": "Because the 2nd activity layout hasn&#39;t that id."}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1566999141, "post_id": 57693557, "comment_id": 101831394, "body": "You must make sure that there is a button with the id <code>btn</code> in the layout of your second activity."}, {"owner": {"reputation": 5, "user_id": 8770344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13c3807d6a583d72823f6b4a6bb536b?s=128&d=identicon&r=PG&f=1", "display_name": "Kaan", "link": "https://stackoverflow.com/users/8770344/kaan"}, "reply_to_user": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1566999521, "post_id": 57693557, "comment_id": 101831632, "body": "@Ashish added..."}], "answers": [{"comments": [{"owner": {"reputation": 44, "user_id": 11780711, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DDlY5a3F_BY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf2gTuTAHNtL6DyR_E94Px-pdn-eg/photo.jpg?sz=128", "display_name": "Movses Arakelyan", "link": "https://stackoverflow.com/users/11780711/movses-arakelyan"}, "edited": false, "score": 0, "creation_date": 1567002598, "post_id": 57693814, "comment_id": 101833601, "body": "Pass your image resource id, not your <code>ImageView</code> id. <code>val intent = Intent(this, SecActivity::class.java) intent.putExtra(&quot;id&quot;, R.drawable.EXAMPLE_IMAGE) startActivity(intent)</code>"}, {"owner": {"reputation": 44, "user_id": 11780711, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DDlY5a3F_BY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf2gTuTAHNtL6DyR_E94Px-pdn-eg/photo.jpg?sz=128", "display_name": "Movses Arakelyan", "link": "https://stackoverflow.com/users/11780711/movses-arakelyan"}, "edited": false, "score": 0, "creation_date": 1567002784, "post_id": 57693814, "comment_id": 101833712, "body": "And in <code>SecActivity</code> create bitmap like this. <code>val bitmap = BitmapFactory.decodeResource(resources, id)</code>"}], "tags": [], "owner": {"reputation": 44, "user_id": 11780711, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DDlY5a3F_BY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf2gTuTAHNtL6DyR_E94Px-pdn-eg/photo.jpg?sz=128", "display_name": "Movses Arakelyan", "link": "https://stackoverflow.com/users/11780711/movses-arakelyan"}, "is_accepted": true, "score": 2, "last_activity_date": 1566999554, "creation_date": 1566999554, "answer_id": 57693814, "question_id": 57693557, "link": "https://stackoverflow.com/questions/57693557/why-this-variable-is-null/57693814#57693814", "title": "Why this variable is null?", "body": "<p>Your <code>ImageView</code> belong to <code>MainActivity</code>. You can not find view from other activity (in this case <code>SecActivity</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 8770344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13c3807d6a583d72823f6b4a6bb536b?s=128&d=identicon&r=PG&f=1", "display_name": "Kaan", "link": "https://stackoverflow.com/users/8770344/kaan"}, "edited": false, "score": 0, "creation_date": 1567001496, "post_id": 57693817, "comment_id": 101832879, "body": "So, how can i do that?"}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "reply_to_user": {"reputation": 5, "user_id": 8770344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13c3807d6a583d72823f6b4a6bb536b?s=128&d=identicon&r=PG&f=1", "display_name": "Kaan", "link": "https://stackoverflow.com/users/8770344/kaan"}, "edited": false, "score": 0, "creation_date": 1567001771, "post_id": 57693817, "comment_id": 101833051, "body": "Since you want just display a bitmap, pass something you can use to get the selected image (an url, a name, a resource name, a key on db... it depends by your project, but not the layout id)."}], "tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 1, "last_activity_date": 1566999983, "last_edit_date": 1566999983, "creation_date": 1566999564, "answer_id": 57693817, "question_id": 57693557, "link": "https://stackoverflow.com/questions/57693557/why-this-variable-is-null/57693817#57693817", "title": "Why this variable is null?", "body": "<p>If you are storing the <code>id</code> used in the 1st Activity (and 1st layout) and you are trying to get a view <strong>with same id</strong> in a 2nd Activity with a different layout with:</p>\n\n<pre><code>var img  = findViewById&lt;ImageView&gt;(id)\n</code></pre>\n\n<p>you <strong>will not</strong> find that view simply because the 2nd activity layout <strong>hasn't</strong> that id.</p>\n"}, {"tags": [], "owner": {"reputation": 1027, "user_id": 6375170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zugq_QmaxMM/AAAAAAAAAAI/AAAAAAAAAPQ/U_tBeKw3rDg/photo.jpg?sz=128", "display_name": "Ashok Kumar", "link": "https://stackoverflow.com/users/6375170/ashok-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1567002735, "creation_date": 1567002735, "answer_id": 57694790, "question_id": 57693557, "link": "https://stackoverflow.com/questions/57693557/why-this-variable-is-null/57694790#57694790", "title": "Why this variable is null?", "body": "<p>You should get the selected image Uri and pass it to second activity and use this Image Uri to show and set the image as wallpaper.\nBasically pass Uri as string to second activity instead of I'd of image view.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11456342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91a0bddd675e615a174c94c430eb28d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruhan Victor", "link": "https://stackoverflow.com/users/11456342/ruhan-victor"}, "is_accepted": false, "score": 0, "last_activity_date": 1567004500, "creation_date": 1567004500, "answer_id": 57695304, "question_id": 57693557, "link": "https://stackoverflow.com/questions/57693557/why-this-variable-is-null/57695304#57695304", "title": "Why this variable is null?", "body": "<p>Try to take off findViewById. You can reference btn id directly</p>\n\n<p>something like this:</p>\n\n<pre><code>  ...\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_sec)\n    btn.setOnClickListener{\n        setWallpaper()\n    }\n  }\n   ...\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8770344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13c3807d6a583d72823f6b4a6bb536b?s=128&d=identicon&r=PG&f=1", "display_name": "Kaan", "link": "https://stackoverflow.com/users/8770344/kaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 57693814, "answer_count": 4, "score": -1, "last_activity_date": 1567004500, "creation_date": 1566998743, "last_edit_date": 1566999453, "question_id": 57693557, "link": "https://stackoverflow.com/questions/57693557/why-this-variable-is-null", "title": "Why this variable is null?", "body": "<p>I working on wallpaper application. When i click the image, activiy is changing and image's id saving memory. In second activity id is true but findViewById(id) always null. By the way when i move the setWallpaper function to MainActivity.kt code works properly.</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>fun clickImage(v: View) {\n       val intent = Intent(this, SecActivity::class.java)\n       intent.putExtra(\"id\", v.id)\n       startActivity(intent)\n}\n</code></pre>\n\n<p>SecActivity.kt</p>\n\n<pre><code>class SecActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_sec)\n        val button = findViewById&lt;Button&gt;(R.id.btn)\n        button.setOnClickListener{\n            setWallpaper()\n        }\n    }\n\n    fun setWallpaper() {\n        var id = intent.getIntExtra(\"id\",0)\n        var img  = findViewById&lt;ImageView&gt;(id)\n        val bitmap: Bitmap = (img.getDrawable() as BitmapDrawable).getBitmap()\n        val wallpaperManager: WallpaperManager = WallpaperManager.getInstance(this)\n        wallpaperManager.setBitmap(bitmap, null, true, WallpaperManager.FLAG_SYSTEM)\n    }\n}\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\" android:orientation=\"vertical\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" android:orientation=\"vertical\"&gt;\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"horizontal\"&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/a001\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"1\"\n                android:adjustViewBounds=\"true\"\n                android:onClick=\"clickImage\"\n                android:scaleType=\"centerCrop\"\n                android:src=\"@drawable/a001\"&gt;&lt;/ImageView&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/a002\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"1\"\n                android:adjustViewBounds=\"true\"\n                android:onClick=\"clickImage\"\n                android:scaleType=\"centerCrop\"\n                android:src=\"@drawable/a002\"&gt;&lt;/ImageView&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" android:orientation=\"horizontal\"&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/a003\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"1\"\n                android:adjustViewBounds=\"true\"\n                android:onClick=\"clickImage\"\n                android:scaleType=\"centerCrop\"\n                android:src=\"@drawable/a003\"&gt;&lt;/ImageView&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/a004\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"1\"\n                android:adjustViewBounds=\"true\"\n                android:onClick=\"clickImage\"\n                android:scaleType=\"centerCrop\"\n                android:src=\"@drawable/a004\"&gt;&lt;/ImageView&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" android:orientation=\"horizontal\"&gt;\n\n            &lt;ImageView\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"1\"\n                android:adjustViewBounds=\"true\"\n                android:onClick=\"clickImage\"\n                android:scaleType=\"centerCrop\"\n                android:src=\"@drawable/a005\"&gt;&lt;/ImageView&gt;\n\n            &lt;ImageView\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"1\"\n                android:adjustViewBounds=\"true\"\n                android:onClick=\"clickImage\"\n                android:scaleType=\"centerCrop\"\n                android:src=\"@drawable/a006\"&gt;&lt;/ImageView&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p>activity_sec.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:gravity=\"center\"\n    tools:context=\".SecActivity\"&gt;\n\n    &lt;ImageView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" android:scaleType=\"fitXY\"\n        android:id=\"@+id/wall\"\n        android:adjustViewBounds=\"true\" android:src=\"@drawable/a004\"/&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:text=\"@string/btn\"\n        app:layout_constraintBottom_toBottomOf=\"parent\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>image: <a href=\"https://i.stack.imgur.com/JEKCy.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JEKCy.jpg</a></p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 3212, "user_id": 45062, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bae9466571d0f6d585ac54a3816592c6?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/45062/andy"}, "edited": false, "score": 0, "creation_date": 1567000321, "post_id": 57693767, "comment_id": 101832148, "body": "Looks like that works great! Not sure about how optimal it is, as you say, but for now it&#39;s perfect."}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 2, "creation_date": 1567000672, "post_id": 57693767, "comment_id": 101832353, "body": "You should be aware that unlike the code provided in the question, this is be default limited to 16 flows running concurrently, see the <code>concurrency</code> parameter at <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/flatten-merge.html\" rel=\"nofollow noreferrer\"><code>flattenMerge</code></a>."}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 12, "last_activity_date": 1595622815, "last_edit_date": 1595622815, "creation_date": 1566999383, "answer_id": 57693767, "question_id": 57693392, "link": "https://stackoverflow.com/questions/57693392/merging-kotlin-flows/57693767#57693767", "title": "Merging kotlin flows", "body": "<p>I'm not too familiar with flows yet, so this might be suboptimal. Anyway, I think you could create a flow of all your input flows, and then use <code>flattenMerge</code> to flatten them into a single flow again. Something like this:</p>\n<pre><code>fun &lt;T&gt; merge(vararg flows: Flow&lt;T&gt;): Flow&lt;T&gt; = flowOf(*flows).flattenMerge()\n</code></pre>\n<p>Edit:</p>\n<p>The <code>merge</code>-function was added to kotlinx-coroutines in the 1.3.3 release. See here: <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/merge.html\" rel=\"nofollow noreferrer\">https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/merge.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 460, "user_id": 2331319, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/0Wwzg.jpg?s=128&g=1", "display_name": "Lamberto Basti", "link": "https://stackoverflow.com/users/2331319/lamberto-basti"}, "is_accepted": false, "score": 1, "last_activity_date": 1579111482, "creation_date": 1579111482, "answer_id": 59757212, "question_id": 57693392, "link": "https://stackoverflow.com/questions/57693392/merging-kotlin-flows/59757212#59757212", "title": "Merging kotlin flows", "body": "<p>It may be late but I believe this may be a viable solution:</p>\n\n<pre><code>fun &lt;T&gt; combineMerge(vararg flows: Flow&lt;T&gt;) = flow {\n    coroutineScope {\n        flows.forEach {\n            launch {\n                it.collect {\n                    emit(it)\n                }\n            }\n        }\n    }\n}\n\nfun &lt;T&gt; combineConcat(vararg flows: Flow&lt;T&gt;) = flow {\n    flows.forEach {\n        it.collect {\n            emit(it)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1672, "user_id": 4878968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee48067a9d435eab1991fec2baece3c?s=128&d=identicon&r=PG", "display_name": "Jacques.S", "link": "https://stackoverflow.com/users/4878968/jacques-s"}, "is_accepted": false, "score": 14, "last_activity_date": 1586351859, "creation_date": 1586351859, "answer_id": 61101670, "question_id": 57693392, "link": "https://stackoverflow.com/questions/57693392/merging-kotlin-flows/61101670#61101670", "title": "Merging kotlin flows", "body": "<p>This is now (Coroutines Version 1.3.5 at time of writing) part of the Coroutines library.</p>\n\n<p>You use it like this:</p>\n\n<pre><code>val flowA = flow { emit(1) } \nval flowB = flow { emit(2) }\n\nmerge(flowA, flowB).collect{ println(it) } // Prints two integers\n// or:\nlistOf(flowA, flowB).merge().collect { println(it) } // Prints two integers\n</code></pre>\n\n<p>You can read more in <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/kotlinx-coroutines-core/common/src/flow/operators/Merge.kt\" rel=\"noreferrer\">the source code</a></p>\n"}], "owner": {"reputation": 3212, "user_id": 45062, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bae9466571d0f6d585ac54a3816592c6?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/45062/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8604, "favorite_count": 1, "accepted_answer_id": 57693767, "answer_count": 3, "score": 6, "last_activity_date": 1595622815, "creation_date": 1566998261, "question_id": 57693392, "link": "https://stackoverflow.com/questions/57693392/merging-kotlin-flows", "title": "Merging kotlin flows", "body": "<p>Given 2 or more flows with the same type, is there an existing Kotlin coroutine function to merge them, like the RX merge operator?</p>\n\n<p>Currently I was considering this:</p>\n\n<pre><code>fun &lt;T&gt; merge(vararg flows: Flow&lt;T&gt;): Flow&lt;T&gt; = channelFlow {\n    val flowJobs = flows.map { flow -&gt;\n        GlobalScope.launch { flow.collect { send(it) } }\n    }\n    flowJobs.joinAll()\n}\n</code></pre>\n\n<p>but it seems somewhat clumsy.</p>\n"}, {"tags": ["android", "kotlin", "android-livedata", "android-jetpack", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "edited": false, "score": 0, "creation_date": 1566997310, "post_id": 57693025, "comment_id": 101830221, "body": "It depends if you need the data to continue, you&#39;ll still need to wait for the thread to finish its task, or if you can do something while the work is being done?"}, {"owner": {"reputation": 2583, "user_id": 9248718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzbRd.png?s=128&g=1", "display_name": "Some random IT boy", "link": "https://stackoverflow.com/users/9248718/some-random-it-boy"}, "reply_to_user": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "edited": false, "score": 0, "creation_date": 1566999318, "post_id": 57693025, "comment_id": 101831513, "body": "The main focus is to keep the UI thread as free as possible. I know that Transformations.map run on the UI thread. So I would rather have a worker thread do the mapping for me. But I&#39;m not sure if this approach has an actual impact or I&#39;m just bloating my code"}, {"owner": {"reputation": 1027, "user_id": 6375170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zugq_QmaxMM/AAAAAAAAAAI/AAAAAAAAAPQ/U_tBeKw3rDg/photo.jpg?sz=128", "display_name": "Ashok Kumar", "link": "https://stackoverflow.com/users/6375170/ashok-kumar"}, "edited": false, "score": 0, "creation_date": 1567003656, "post_id": 57693025, "comment_id": 101834200, "body": "Since the computation is not tIme consuming , I would not recommend to use coroutine for this simple computation."}, {"owner": {"reputation": 2583, "user_id": 9248718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzbRd.png?s=128&g=1", "display_name": "Some random IT boy", "link": "https://stackoverflow.com/users/9248718/some-random-it-boy"}, "edited": false, "score": 0, "creation_date": 1567004288, "post_id": 57693025, "comment_id": 101834558, "body": "what if there are, like 1.000.000 elements? Like particles in a videogame or something"}, {"owner": {"reputation": 1027, "user_id": 6375170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zugq_QmaxMM/AAAAAAAAAAI/AAAAAAAAAPQ/U_tBeKw3rDg/photo.jpg?sz=128", "display_name": "Ashok Kumar", "link": "https://stackoverflow.com/users/6375170/ashok-kumar"}, "edited": false, "score": 0, "creation_date": 1567100997, "post_id": 57693025, "comment_id": 101872806, "body": "since its purely based on your use case , if computation is complex then its good to use coroutines"}, {"owner": {"reputation": 2583, "user_id": 9248718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzbRd.png?s=128&g=1", "display_name": "Some random IT boy", "link": "https://stackoverflow.com/users/9248718/some-random-it-boy"}, "edited": false, "score": 0, "creation_date": 1567102872, "post_id": 57693025, "comment_id": 101873520, "body": "It&#39;s primarily filtering a subset of variables. They are assignations and mappings of sublists"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1567350391, "post_id": 57693025, "comment_id": 101931753, "body": "If you have many items to map using a bit of computation, as opposed to a few items with heavy computation on each one, your scheme will degrade performance due to the overhead of context switching. You have to batch items together in that case."}], "answers": [{"tags": [], "owner": {"reputation": 2583, "user_id": 9248718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzbRd.png?s=128&g=1", "display_name": "Some random IT boy", "link": "https://stackoverflow.com/users/9248718/some-random-it-boy"}, "is_accepted": true, "score": 1, "last_activity_date": 1579982121, "creation_date": 1579982121, "answer_id": 59912893, "question_id": 57693025, "link": "https://stackoverflow.com/questions/57693025/are-coroutines-worth-using-with-type-mapping/59912893#59912893", "title": "Are coroutines worth using with type mapping?", "body": "<p>The definitive answer, and I hate it, is that <strong>it depends</strong>.</p>\n\n<p>Switching thread's context doesn't come for free and it has some accumulated overhead on doing so you have to watch out for data's magnitude before considering one thing or another. </p>\n\n<ul>\n<li>Mapping 15 elements? Probably not worth it. </li>\n<li>Mapping 1000? Maybe! do they have nested lists and maps that should also be mapped? </li>\n<li>Mapping 1_000_000? Definitely!</li>\n</ul>\n\n<p>We should also watch out for our mapping implementations.</p>\n\n<p>The given example:</p>\n\n<pre><code>fun doSomethingWithRepoData(repoData: LiveData&lt;List&lt;A&gt;&gt;): LiveData&lt;List&lt;GUI_A&gt;&gt; =\n    Transformations.map(repoData) { \n        it.map { async { GUI_A.fromRepoObject(it) } }\n          .map { it.await() }\n    }\n</code></pre>\n\n<p>It's a <strong>don't</strong> do.</p>\n\n<p>You see; <code>LiveData</code> assures that the code observing the <code>LiveData</code> is running on the main thread. On one hand that's good because it assures main safety but on the other hand it's \"bad\" in this case because the main thread waits for all of the corutines to finish their mapping operations before pushing a value.</p>\n\n<p>A smarter approach to this, assuming we're in a <code>ViewModel</code> may be: </p>\n\n<pre><code>class SampleVM: ViewModel(){\n\n    fun doSomethingWithRepoData(repoData: LiveData&lt;List&lt;A&gt;&gt;): LiveData&lt;List&lt;GUI_A&gt;&gt; = \n    Transformations.switchMap(repoData) { listA -&gt;\n        val result = MutableLiveData&lt;List&lt;GUI_A&gt;&gt;()\n        // Don't block the UI thread by running in a coroutine\n        viewModelScope.launch {\n            listA\n                 // Parallelize computation\n                 .map { async(Dispatchers.Default) { GUI_A.fromRepoObject(it) }\n                 // The viewModelScope job will await for all coroutines to finish mapping\n                 .map { it.await() }\n                 // Post the result to into the live data\n                 .let { result.postValue(it) }\n        }\n\n        result\n    }\n\n\n}\n\n\n</code></pre>\n"}], "owner": {"reputation": 2583, "user_id": 9248718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzbRd.png?s=128&g=1", "display_name": "Some random IT boy", "link": "https://stackoverflow.com/users/9248718/some-random-it-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 59912893, "answer_count": 1, "score": 0, "last_activity_date": 1579982121, "creation_date": 1566997172, "question_id": 57693025, "link": "https://stackoverflow.com/questions/57693025/are-coroutines-worth-using-with-type-mapping", "title": "Are coroutines worth using with type mapping?", "body": "<p>Is it worth calling the coroutines in order to perform type mapping operations? Or it's going to be too much code bloating and/or overhead?</p>\n\n<p>So the scenario is the following:</p>\n\n<ul>\n<li><p>Repo returns objects of <code>LiveData&lt;List&lt;A&gt;&gt;</code></p></li>\n<li><p>View needs objects of type <code>LiveData&lt;&lt;List&lt;GUI_A&gt;&gt;</code></p></li>\n<li><p><code>ViewModel</code> exposes <code>LiveData&lt;GUI_A&gt;</code> by using <code>Transformations.map</code> and the source <code>LiveData&lt;A&gt;</code> coming from the repo.</p></li>\n</ul>\n\n<p><br></p>\n\n<p>The <code>Transformations.map</code> code looks something like this</p>\n\n<pre><code>fun doSomethingWithRepoData(repoData: LiveData&lt;List&lt;A&gt;&gt;): LiveData&lt;List&lt;GUI_A&gt;&gt; =\n    Transformations.map(repoData) { \n        it.map { GUI_A.fromRepoObject(it) }\n    }\n</code></pre>\n\n<p>The function <code>fromRepoObject</code> only maps properties from the first object to the new instance of the second one.</p>\n\n<p><br></p>\n\n<p>The idea is to use coroutines in the map function to improve performance; but I don't know if it is going to be worth the hassle:</p>\n\n<pre><code>fun doSomethingWithRepoData(repoData: LiveData&lt;List&lt;A&gt;&gt;): LiveData&lt;List&lt;GUI_A&gt;&gt; =\n    Transformations.map(repoData) { \n        it.map { async { GUI_A.fromRepoObject(it) } }\n          .map { it.await() }\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1001, "user_id": 1379723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zg4d9.jpg?s=128&g=1", "display_name": "Serge Harnyk", "link": "https://stackoverflow.com/users/1379723/serge-harnyk"}, "edited": false, "score": 0, "creation_date": 1567083560, "post_id": 57692714, "comment_id": 101863614, "body": "How do you going to run Kotlin without JVM? Are you going to use Kotlin/Native?"}], "answers": [{"comments": [{"owner": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "edited": false, "score": 0, "creation_date": 1567025869, "post_id": 57699672, "comment_id": 101843833, "body": "How do you insure that you are not picking up any JVM specific stuff in your code  if java.blahblah.thing would be usable a just thing?"}, {"owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "reply_to_user": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "edited": false, "score": 0, "creation_date": 1567053980, "post_id": 57699672, "comment_id": 101849443, "body": "I don\u2019t, because I use JVM Kotlin and it is based on JVM, it cannot run without that JVM stuff. And as I already mentioned it does not bring any problem."}, {"owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "reply_to_user": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "edited": false, "score": 0, "creation_date": 1567054569, "post_id": 57699672, "comment_id": 101849580, "body": "@CWHolemanII could you please explain the motivation? Do you want to have a cross-platform code?"}], "tags": [], "owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "is_accepted": false, "score": 0, "last_activity_date": 1567024341, "creation_date": 1567024341, "answer_id": 57699672, "question_id": 57692714, "link": "https://stackoverflow.com/questions/57692714/how-to-exclude-default-java-packages-in-kotlin/57699672#57699672", "title": "How to exclude default Java packages in Kotlin?", "body": "<p>You cannot change that, and there is no reason for doing that.\nThis affects neither performance nor compiled artifact size.\nThis is just as Kotlin designed.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1567083199, "last_edit_date": 1567083199, "creation_date": 1567081309, "answer_id": 57710106, "question_id": 57692714, "link": "https://stackoverflow.com/questions/57692714/how-to-exclude-default-java-packages-in-kotlin/57710106#57710106", "title": "How to exclude default Java packages in Kotlin?", "body": "<p>The default imports depend on the platform context under which the sources are analyzed. The imports you specified, <code>kotlin.jvm.*</code> and <code>java.lang.*</code>, are specific to Kotlin/JVM sources. You can't affect the default imports.</p>\n\n<p>If you want to avoid accidentally using those imports, then you most likely have plans to compile your code for the other platforms, Kotlin/JS and Kotlin/Native. In this case, the best choice for you would be to have a <a href=\"https://kotlinlang.org/docs/reference/multiplatform.html\" rel=\"nofollow noreferrer\">multiplatform project</a> with the sources placed in a <em>common</em> source set: such a source set is analyzed as platform-agnostic code which can't use platform-specific language features and dependencies, and the default imports also don't contain anything that is JVM-specific.</p>\n"}], "owner": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1567083199, "creation_date": 1566996176, "last_edit_date": 1567022655, "question_id": 57692714, "link": "https://stackoverflow.com/questions/57692714/how-to-exclude-default-java-packages-in-kotlin", "title": "How to exclude default Java packages in Kotlin?", "body": "<p><a href=\"https://www.oreilly.com/library/view/head-first-kotlin/9781491996683/\" rel=\"nofollow noreferrer\">Head First Kotlin</a> states that if your target platform is the JVM, the following are imported by default:</p>\n\n<ul>\n<li>java,lang.*</li>\n<li>kotlin.jvm.*</li>\n</ul>\n\n<p>If I do not want to have dependencies on Java how do I not import the JVM specific packages?</p>\n"}, {"tags": ["kotlin", "lambda"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1566994687, "post_id": 57692195, "comment_id": 101828653, "body": "<code>handler.post(object : Runnable {             override fun run() {                 handler.post(this)             }         })</code> should work"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1566995212, "post_id": 57692195, "comment_id": 101828975, "body": "@TimCastelijns you should post it as an answer"}], "answers": [{"comments": [{"owner": {"reputation": 3978, "user_id": 1329901, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9554eaa4c8dbd2e8ffdf0182bd695ee9?s=128&d=identicon&r=PG", "display_name": "Egis", "link": "https://stackoverflow.com/users/1329901/egis"}, "edited": false, "score": 0, "creation_date": 1566995343, "post_id": 57692387, "comment_id": 101829056, "body": "Thanks. <code>handler.post(::doAction)</code> is exactly what I was looking for."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 5, "last_activity_date": 1566995127, "creation_date": 1566995127, "answer_id": 57692387, "question_id": 57692195, "link": "https://stackoverflow.com/questions/57692195/how-to-access-a-function-from-within-itself-in-kotlin/57692387#57692387", "title": "How to access a function from within itself in Kotlin?", "body": "<pre><code>val handler = Handler()\n\nfun doAction() {\n    handler.post(::doAction) // like `this`\n}\n\nhandler.post(::doAction)\n</code></pre>\n\n<p>Although technically Tim's solution also works, but he should post it as an answer, as that one is easier. If he does, accept that one instead.</p>\n\n<blockquote>\n<pre><code>    val handler = Handler()\n\n    handler.post(object : Runnable {\n        override fun run() {\n            handler.post(this)\n        }\n    })\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 3978, "user_id": 1329901, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9554eaa4c8dbd2e8ffdf0182bd695ee9?s=128&d=identicon&r=PG", "display_name": "Egis", "link": "https://stackoverflow.com/users/1329901/egis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 57692387, "answer_count": 1, "score": 1, "last_activity_date": 1566995127, "creation_date": 1566994474, "question_id": 57692195, "link": "https://stackoverflow.com/questions/57692195/how-to-access-a-function-from-within-itself-in-kotlin", "title": "How to access a function from within itself in Kotlin?", "body": "<p>In java I can write something like this</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final Handler handler = new Handler();\nhandler.post(new Runnable() {\n    @Override\n    public void run() {\n        handler.post(this);\n    }\n});\n</code></pre>\n\n<p>When I write something like this in Kotlin I get a compilation error. <code>this</code> inside of the lambda expression doesn't work like I expect. What can I do?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>val handler = Handler()\nhandler.post{\n    handler.post(this) // this line throws a compilation error\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 10269, "user_id": 3950370, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b44be8311e04ebbf6d1d153e0aae4a69?s=128&d=identicon&r=PG", "display_name": "Lukas K&#246;rfer", "link": "https://stackoverflow.com/users/3950370/lukas-k%c3%b6rfer"}, "edited": false, "score": 0, "creation_date": 1566996092, "post_id": 57691528, "comment_id": 101829504, "body": "Regarding your second approach, you must use <code>toString()</code> for <code>project.version</code>, because it is defined as <code>Object</code>."}, {"owner": {"reputation": 1185, "user_id": 741217, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/649627a4a53e7a3ed24c2af7f235d3ed?s=128&d=identicon&r=PG", "display_name": "Rolf W.", "link": "https://stackoverflow.com/users/741217/rolf-w"}, "reply_to_user": {"reputation": 10269, "user_id": 3950370, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b44be8311e04ebbf6d1d153e0aae4a69?s=128&d=identicon&r=PG", "display_name": "Lukas K&#246;rfer", "link": "https://stackoverflow.com/users/3950370/lukas-k%c3%b6rfer"}, "edited": false, "score": 0, "creation_date": 1567000033, "post_id": 57691528, "comment_id": 101831946, "body": "Indeed! That makes sense then, but it still doesn&#39;t compile: <code>Type mismatch: inferred type is (Any?) -&gt; String! but (() -&gt; TypeVariable(T)!)! was expected</code>. I&#39;m not that familiar with Kotlin, but in Java such a lamba would compile now that it returns String if I&#39;m not mistaken. What am I missing?"}], "owner": {"reputation": 1185, "user_id": 741217, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/649627a4a53e7a3ed24c2af7f235d3ed?s=128&d=identicon&r=PG", "display_name": "Rolf W.", "link": "https://stackoverflow.com/users/741217/rolf-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567060630, "creation_date": 1566992262, "last_edit_date": 1567060630, "question_id": 57691528, "link": "https://stackoverflow.com/questions/57691528/lazy-evaluation-of-computed-project-version", "title": "Lazy evaluation of computed project.version", "body": "<p>I'm trying to use the <a href=\"https://github.com/jgitver/gradle-jgitver-plugin/blob/master/src/main/java/fr/brouillard/oss/gradle/plugins/JGitverPlugin.java#L24\" rel=\"nofollow noreferrer\">Jgitver Gradle Plugin</a> together with the <a href=\"https://github.com/mfuerstenau/gradle-buildconfig-plugin/releases\" rel=\"nofollow noreferrer\">BuildConfig Gradle Plugin</a> but I'm not getting the version in the generated BuildConfig class. Instead I get <code>Unspecified</code>.</p>\n\n<p>This is because of ordering and so far I wasn't able to get the ordering right. Jgitver doesn't use a task and sets the project version in the <code>afterEvaluate</code> phase, as can be seen <a href=\"https://github.com/jgitver/gradle-jgitver-plugin/blob/master/src/main/java/fr/brouillard/oss/gradle/plugins/JGitverPlugin.java#L24\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>The way to go seems to be lazy evaluation <a href=\"https://discuss.gradle.org/t/cant-control-configuration-order-of-two-plugins/19225/15\" rel=\"nofollow noreferrer\">as described here</a>. I couldn't figure out how to do this with the Kotlin DSL though.</p>\n\n<h3>Code example</h3>\n\n<pre><code>plugins {\n\n    java\n    id(\"de.fuerstenau.buildconfig\") version \"1.1.8\"\n    id(\"fr.brouillard.oss.gradle.jgitver\") version \"0.9.1\"\n}\n\nconfigure&lt;BuildConfigExtension&gt; {\n\n    afterEvaluate { /* type mismatch for provider { project.version } if I remove this block\n\n        version = provider { project.version }\n\n        clsName = \"BuildConfig\" /* The name of the class that contains the build config */\n        packageName = \"com.somegroup\"\n        charset = \"UTF-8\"\n    }\n}\n</code></pre>\n\n<p>I also tried another approach <code>val lazyVersion: Provider&lt;String&gt; = providers.provider { () -&gt; project.version }</code> and then use <code>lazyVersion</code> but that doesn't compile: <code>Type mismatch: inferred type is Any! but String was expected</code>.</p>\n\n<p>Another thing I tried is to add afterEvaluate to the configure closure as <a href=\"https://github.com/jgitver/jgitver/issues/77#issuecomment-470229130\" rel=\"nofollow noreferrer\">described in this Jgitver issue</a>, but it doesn't work for me. Probably because the order in which afterEvaluate closures are executed is undefined.</p>\n\n<h3>Question</h3>\n\n<p>What's the recommended way to get the value of <code>project.version</code> <em>after</em> it was set by Jgitver in afterEvaluate? And what would be the correct syntax?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5335, "user_id": 6920962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e62cd73355fc90d37429f9443df38da?s=128&d=identicon&r=PG&f=1", "display_name": "user28434", "link": "https://stackoverflow.com/users/6920962/user28434"}, "edited": false, "score": 2, "creation_date": 1566991372, "post_id": 57691210, "comment_id": 101826779, "body": "Obviously <code>?:</code> has higher priority than <code>==</code>."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 2, "creation_date": 1567013931, "post_id": 57691210, "comment_id": 101839229, "body": "BTW, the title is wrong.  Kotlin&#39;s null-coalescing (elvis) operator is a binary operator (with 2 arguments); Kotlin doesn&#39;t <i>have</i> any ternary (3-argument) operators.  (It doesn&#39;t need one like Java&#39;s, as its <code>if</code> construct is an expression, so takes on that role.)"}], "answers": [{"tags": [], "owner": {"reputation": 16518, "user_id": 1515052, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/87d59872c339c0c66860831e77d764c0?s=128&d=identicon&r=PG", "display_name": "Simulant", "link": "https://stackoverflow.com/users/1515052/simulant"}, "is_accepted": true, "score": 5, "last_activity_date": 1566991868, "last_edit_date": 1566991868, "creation_date": 1566991543, "answer_id": 57691310, "question_id": 57691210, "link": "https://stackoverflow.com/questions/57691210/behaviour-of-the-elvis-operator-in-kotlin/57691310#57691310", "title": "Behaviour of the Elvis Operator ?: In Kotlin", "body": "<pre><code>val res1 = bool ?: a == b \n</code></pre>\n\n<p>is the same as </p>\n\n<pre><code>val res1 = (bool ?: a) == b\n</code></pre>\n\n<p><code>bool</code> is not <code>null</code> (it is <code>true</code>)  so (bool ?: a) returns <code>true</code> and <code>true == b</code> is <code>false</code>, the result stored in res1.</p>\n\n<p>This is because <code>?:</code> is binding the left side to the first possible parameter on the right side of it, which is only <code>a</code> and not <code>a == b</code> what you are expecting.</p>\n\n<p>You can look this up at <a href=\"https://kotlinlang.org/docs/reference/grammar.html#expressions\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/grammar.html#expressions</a> \nif Equality (<code>==</code>) would have had a higher precedence than Elvis(<code>?:</code>) it would be your expected result.</p>\n"}], "owner": {"reputation": 339, "user_id": 1718060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xmgwg.jpg?s=128&g=1", "display_name": "bhkiran", "link": "https://stackoverflow.com/users/1718060/bhkiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 57691310, "answer_count": 1, "score": 1, "last_activity_date": 1567197321, "creation_date": 1566991216, "last_edit_date": 1567197321, "question_id": 57691210, "link": "https://stackoverflow.com/questions/57691210/behaviour-of-the-elvis-operator-in-kotlin", "title": "Behaviour of the Elvis Operator ?: In Kotlin", "body": "<p><a href=\"https://i.stack.imgur.com/R3mwp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R3mwp.png\" alt=\"Why is res1 and res2 different?\"></a></p>\n\n<p>Why is res1 and res2 different? Only difference is the presence of an enclosing bracket.</p>\n"}, {"tags": ["gradle", "kotlin", "build", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 1, "creation_date": 1567006250, "post_id": 57690789, "comment_id": 101835751, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18715137/extract-common-methods-from-gradle-build-script\">Extract common methods from Gradle build script</a>"}, {"owner": {"reputation": 8300, "user_id": 654799, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S83OA.jpg?s=128&g=1", "display_name": "vach", "link": "https://stackoverflow.com/users/654799/vach"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1567071963, "post_id": 57690789, "comment_id": 101857017, "body": "Not really, i&#39;m asking this for kotlin and most importantly i want the types to be exported, not guessed on the other side...  In one of the answers they basically get the method from ext by assuming what the method signature looks like... the whole point is to have type safety and easily use this stuff otherwise we could stick to groovy"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 1, "creation_date": 1567079613, "post_id": 57690789, "comment_id": 101861301, "body": "If you find another way to achieve that, feel free to share it."}, {"owner": {"reputation": 8300, "user_id": 654799, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S83OA.jpg?s=128&g=1", "display_name": "vach", "link": "https://stackoverflow.com/users/654799/vach"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1567080179, "post_id": 57690789, "comment_id": 101861629, "body": "I absolutely will :)"}], "answers": [{"tags": [], "owner": {"reputation": 1563, "user_id": 643007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nPn43.jpg?s=128&g=1", "display_name": "David Burstr&#246;m", "link": "https://stackoverflow.com/users/643007/david-burstr%c3%b6m"}, "is_accepted": true, "score": 2, "last_activity_date": 1589482339, "creation_date": 1589482339, "answer_id": 61805235, "question_id": 57690789, "link": "https://stackoverflow.com/questions/57690789/gradle-kotlin-how-to-call-function-defined-in-parent/61805235#61805235", "title": "Gradle kotlin how to call function defined in parent?", "body": "<p>I'm thinking that there is no way. When a Kotlin build script gets compiled, it will end up as a class called <code>Build_gradle</code> in the default package (i.e. empty package) that extends <code>CompiledKotlinBuildScript</code>. Any class that is defined within a script becomes a public nested class in its corresponding <code>Build_gradle</code>. When the subproject build script gets compiled, it has no access to the classpath that contains the parent projects build script. This makes sense, as there would be multiple <code>Build_gradle</code> files in the same (default) package.</p>\n\n<p>I'd go for <code>buildSrc</code>, to solve the problem, but I'm speculating that what you also wanted was some sort of nice separation of concerns in a multimodule project, not having unrelated projects knowing about what others need to communicate. What you could do to minimize the exposure is to only keep the API (interfaces, data classes) in <code>buildSrc</code> and have a <a href=\"https://docs.gradle.org/current/userguide/plugins.html#sec:script_plugins\" rel=\"nofollow noreferrer\">script plugin</a> in a parent project provide the implementation.</p>\n"}], "owner": {"reputation": 8300, "user_id": 654799, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S83OA.jpg?s=128&g=1", "display_name": "vach", "link": "https://stackoverflow.com/users/654799/vach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 3, "accepted_answer_id": 61805235, "answer_count": 1, "score": 7, "last_activity_date": 1589482339, "creation_date": 1566989632, "last_edit_date": 1567080238, "question_id": 57690789, "link": "https://stackoverflow.com/questions/57690789/gradle-kotlin-how-to-call-function-defined-in-parent", "title": "Gradle kotlin how to call function defined in parent?", "body": "<p>When working with gradle multimodule project, is it possible to define functions in parent project but use them in submodules build.gradle.kts? </p>\n\n<p>Note i do not need untyped tasks registered and called with strings... I want actual typesafe code to be shared to submodules. </p>\n\n<p>Ideally without creating a plugin or using buildSrc.</p>\n\n<p>Whats the most to the point way to share a class from parents build.gradle.kts to all submodules?</p>\n\n<p>NOTE : this is not the same as sharing closure trough ext... you loose type safety, what i ask for is Type safety on submodule side.</p>\n"}, {"tags": ["image", "kotlin", "wear-os"], "comments": [{"owner": {"reputation": 5595, "user_id": 252080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/73d28072b248c62daa400049d37e6812?s=128&d=identicon&r=PG", "display_name": "String", "link": "https://stackoverflow.com/users/252080/string"}, "edited": false, "score": 0, "creation_date": 1567010858, "post_id": 57690436, "comment_id": 101837959, "body": "Look into <code>Canvas.rotate()</code> and <code>.drawBitmap()</code>. With those two methods, your <code>onDraw</code> code almost writes itself."}, {"owner": {"reputation": 51, "user_id": 7825995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6c63fe2ca53d1867346caf6a56ac05?s=128&d=identicon&r=PG&f=1", "display_name": "Kuvaaja", "link": "https://stackoverflow.com/users/7825995/kuvaaja"}, "reply_to_user": {"reputation": 5595, "user_id": 252080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/73d28072b248c62daa400049d37e6812?s=128&d=identicon&r=PG", "display_name": "String", "link": "https://stackoverflow.com/users/252080/string"}, "edited": false, "score": 0, "creation_date": 1567091713, "post_id": 57690436, "comment_id": 101868595, "body": "@String I don&#39;t completely understand it. It is unclear to me what syntax I should use. Also, is your comment still relevant after the edit?"}, {"owner": {"reputation": 5595, "user_id": 252080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/73d28072b248c62daa400049d37e6812?s=128&d=identicon&r=PG", "display_name": "String", "link": "https://stackoverflow.com/users/252080/string"}, "edited": false, "score": 0, "creation_date": 1567173115, "post_id": 57690436, "comment_id": 101896259, "body": "Since you changed the question, my previous comment doesn&#39;t completely cover it any more. But asking how to &quot;modify the shape&quot; is far too vague to answer: there are <b>many</b> ways that a shape could be modified. Maybe post some code - including your vector source? - so that we can see what you&#39;re really working with. And describe specifically how you want to &quot;modify&quot; it."}, {"owner": {"reputation": 51, "user_id": 7825995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6c63fe2ca53d1867346caf6a56ac05?s=128&d=identicon&r=PG&f=1", "display_name": "Kuvaaja", "link": "https://stackoverflow.com/users/7825995/kuvaaja"}, "reply_to_user": {"reputation": 5595, "user_id": 252080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/73d28072b248c62daa400049d37e6812?s=128&d=identicon&r=PG", "display_name": "String", "link": "https://stackoverflow.com/users/252080/string"}, "edited": false, "score": 0, "creation_date": 1567252138, "post_id": 57690436, "comment_id": 101914525, "body": "No. I don&#39;t want to modify a shape or a vector. I want to use a vector as the watch hand."}, {"owner": {"reputation": 5595, "user_id": 252080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/73d28072b248c62daa400049d37e6812?s=128&d=identicon&r=PG", "display_name": "String", "link": "https://stackoverflow.com/users/252080/string"}, "edited": false, "score": 0, "creation_date": 1567264154, "post_id": 57690436, "comment_id": 101917483, "body": "Well, the first sentence of your question says &quot;modify the shape&quot;, maybe that&#39;s why I thought you wanted to, er, <i>modify the shape</i>. \ud83d\ude42 If you just want to use a vector drawable without modification, what&#39;s wrong with the <code>Drawable.draw(canvas)</code> method?"}, {"owner": {"reputation": 51, "user_id": 7825995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6c63fe2ca53d1867346caf6a56ac05?s=128&d=identicon&r=PG&f=1", "display_name": "Kuvaaja", "link": "https://stackoverflow.com/users/7825995/kuvaaja"}, "reply_to_user": {"reputation": 5595, "user_id": 252080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/73d28072b248c62daa400049d37e6812?s=128&d=identicon&r=PG", "display_name": "String", "link": "https://stackoverflow.com/users/252080/string"}, "edited": false, "score": 0, "creation_date": 1567352487, "post_id": 57690436, "comment_id": 101932224, "body": "There is no such method as <code>Drawable.draw</code>"}, {"owner": {"reputation": 5595, "user_id": 252080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/73d28072b248c62daa400049d37e6812?s=128&d=identicon&r=PG", "display_name": "String", "link": "https://stackoverflow.com/users/252080/string"}, "edited": false, "score": 0, "creation_date": 1567364630, "post_id": 57690436, "comment_id": 101934834, "body": "<a href=\"https://developer.android.com/reference/android/graphics/drawable/Drawable.html#draw(android.graphics.Canvas)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/graphics/drawable/&hellip;</a>"}, {"owner": {"reputation": 51, "user_id": 7825995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6c63fe2ca53d1867346caf6a56ac05?s=128&d=identicon&r=PG&f=1", "display_name": "Kuvaaja", "link": "https://stackoverflow.com/users/7825995/kuvaaja"}, "reply_to_user": {"reputation": 5595, "user_id": 252080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/73d28072b248c62daa400049d37e6812?s=128&d=identicon&r=PG", "display_name": "String", "link": "https://stackoverflow.com/users/252080/string"}, "edited": false, "score": 0, "creation_date": 1567428931, "post_id": 57690436, "comment_id": 101951024, "body": "<a href=\"https://i.stack.imgur.com/AWGbC.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/AWGbC.png</a> Welp..."}, {"owner": {"reputation": 5595, "user_id": 252080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/73d28072b248c62daa400049d37e6812?s=128&d=identicon&r=PG", "display_name": "String", "link": "https://stackoverflow.com/users/252080/string"}, "edited": false, "score": 0, "creation_date": 1567467756, "post_id": 57690436, "comment_id": 101962846, "body": "Um, yeah, it&#39;s not a static method. You need to instantiate your vector drawable first, then call <code>draw()</code> on that. Seriously, this is pretty basic stuff."}], "owner": {"reputation": 51, "user_id": 7825995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6c63fe2ca53d1867346caf6a56ac05?s=128&d=identicon&r=PG&f=1", "display_name": "Kuvaaja", "link": "https://stackoverflow.com/users/7825995/kuvaaja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567428921, "creation_date": 1566988450, "last_edit_date": 1567428921, "question_id": 57690436, "link": "https://stackoverflow.com/questions/57690436/how-to-replace-a-watch-faces-hand-vectors-in-wear-os", "title": "How to replace a watch face&#39;s hand vectors in Wear OS?", "body": "<p>How do I remap the watch hands to a vector/how do I change the shape of the hands? I have a drawable vector resource I want to use as the hand, but I don't know how to replace the drawn line to use a vector.</p>\n\n<p>I found this picture on the Android developers website: </p>\n\n<p><a href=\"https://i.stack.imgur.com/t4Wgg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t4Wgg.png\" alt=\"what I want\"></a></p>\n\n<p>I don't care about the complications in the face. I don't need those. I just want the hands to use a vector resource, and not be just a line.\nWhat I have, but I don't want is similar to this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vMcLu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vMcLu.png\" alt=\"what I have\"></a></p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "view"], "comments": [{"owner": {"reputation": 4375, "user_id": 2191256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ac211028c226a48ea0232b2600346d4?s=128&d=identicon&r=PG", "display_name": "vilpe89", "link": "https://stackoverflow.com/users/2191256/vilpe89"}, "edited": false, "score": 1, "creation_date": 1566987050, "post_id": 57689664, "comment_id": 101824500, "body": "All I can think of is the view&#39;s instance is not the same in your UI and presenter."}, {"owner": {"reputation": 2918, "user_id": 1939370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d0d5448fb6a6685837a16d7b9cff31cf?s=128&d=identicon&r=PG", "display_name": "shadox", "link": "https://stackoverflow.com/users/1939370/shadox"}, "reply_to_user": {"reputation": 4375, "user_id": 2191256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ac211028c226a48ea0232b2600346d4?s=128&d=identicon&r=PG", "display_name": "vilpe89", "link": "https://stackoverflow.com/users/2191256/vilpe89"}, "edited": false, "score": 0, "creation_date": 1566989667, "post_id": 57689664, "comment_id": 101825913, "body": "You were right. It seems that Dagger was injecting 2 different views instead of a scoped one. You can make it an answer if you want and I&#39;ll mark it."}, {"owner": {"reputation": 4375, "user_id": 2191256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ac211028c226a48ea0232b2600346d4?s=128&d=identicon&r=PG", "display_name": "vilpe89", "link": "https://stackoverflow.com/users/2191256/vilpe89"}, "edited": false, "score": 0, "creation_date": 1566993727, "post_id": 57689664, "comment_id": 101828108, "body": "Sure, why not. ."}], "answers": [{"comments": [{"owner": {"reputation": 2918, "user_id": 1939370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d0d5448fb6a6685837a16d7b9cff31cf?s=128&d=identicon&r=PG", "display_name": "shadox", "link": "https://stackoverflow.com/users/1939370/shadox"}, "edited": false, "score": 0, "creation_date": 1566988517, "post_id": 57690309, "comment_id": 101825282, "body": "I don&#39;t really think it makes sense to re-inflate the <code>layout</code>. Although I did tried it just to understand if it works (it doesn&#39;t by the way) it wouldn&#39;t be clean or efficient approach."}, {"owner": {"reputation": 474, "user_id": 11480111, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EkPNr4FCHio/AAAAAAAAAAI/AAAAAAAAAFY/_U_cvDxgDnw/photo.jpg?sz=128", "display_name": "Alireza Tizfahm Fard", "link": "https://stackoverflow.com/users/11480111/alireza-tizfahm-fard"}, "reply_to_user": {"reputation": 2918, "user_id": 1939370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d0d5448fb6a6685837a16d7b9cff31cf?s=128&d=identicon&r=PG", "display_name": "shadox", "link": "https://stackoverflow.com/users/1939370/shadox"}, "edited": false, "score": 0, "creation_date": 1566988799, "post_id": 57690309, "comment_id": 101825435, "body": "overlay after update data need a refreshing layout, for a refreshing view, you have many approaches like invalidate layout or..."}, {"owner": {"reputation": 2918, "user_id": 1939370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d0d5448fb6a6685837a16d7b9cff31cf?s=128&d=identicon&r=PG", "display_name": "shadox", "link": "https://stackoverflow.com/users/1939370/shadox"}, "edited": false, "score": 0, "creation_date": 1566989612, "post_id": 57690309, "comment_id": 101825882, "body": "I&#39;ve tried many but none worked. In the end @vilpe89 was right. I would still avoid re-inflating layouts if I can."}], "tags": [], "owner": {"reputation": 474, "user_id": 11480111, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EkPNr4FCHio/AAAAAAAAAAI/AAAAAAAAAFY/_U_cvDxgDnw/photo.jpg?sz=128", "display_name": "Alireza Tizfahm Fard", "link": "https://stackoverflow.com/users/11480111/alireza-tizfahm-fard"}, "is_accepted": false, "score": 1, "last_activity_date": 1566989872, "last_edit_date": 1566989872, "creation_date": 1566988079, "answer_id": 57690309, "question_id": 57689664, "link": "https://stackoverflow.com/questions/57689664/custom-view-doesnt-update-inside-a-fragment/57690309#57690309", "title": "Custom view doesn&#39;t update inside a Fragment", "body": "<p>Because of you just inflate when create view </p>\n\n<pre><code>    init {\n        View.inflate(context, R.layout.my_fancy_layout, this)\n    }\n</code></pre>\n\n<p>add invalidate view in update data function</p>\n\n<pre><code>  override fun setData(uiModel: UiModel) {\n        textview_name.text = uiModel.name\n         this.invalidate()\n         this.requestLayout()\n\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2918, "user_id": 1939370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d0d5448fb6a6685837a16d7b9cff31cf?s=128&d=identicon&r=PG", "display_name": "shadox", "link": "https://stackoverflow.com/users/1939370/shadox"}, "edited": false, "score": 0, "creation_date": 1566995102, "post_id": 57691959, "comment_id": 101828901, "body": "I&#39;ve used wrong @MyScope annotation so it wasn&#39;t injecting it as &quot;per fragment&quot; but re-instantiating it every time, rookie&#39;s mistake."}], "tags": [], "owner": {"reputation": 4375, "user_id": 2191256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ac211028c226a48ea0232b2600346d4?s=128&d=identicon&r=PG", "display_name": "vilpe89", "link": "https://stackoverflow.com/users/2191256/vilpe89"}, "is_accepted": true, "score": 1, "last_activity_date": 1566993680, "creation_date": 1566993680, "answer_id": 57691959, "question_id": 57689664, "link": "https://stackoverflow.com/questions/57689664/custom-view-doesnt-update-inside-a-fragment/57691959#57691959", "title": "Custom view doesn&#39;t update inside a Fragment", "body": "<p>All I can think of is the view's instance is not the same in your UI and presenter. I dont know your Dagger's code so I do not have any suggestions to fix it.</p>\n\n<p>You could move the view away from MyPresenter's constructor and set it in MyFragment.onCreate after injection.</p>\n"}], "owner": {"reputation": 2918, "user_id": 1939370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d0d5448fb6a6685837a16d7b9cff31cf?s=128&d=identicon&r=PG", "display_name": "shadox", "link": "https://stackoverflow.com/users/1939370/shadox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 1, "accepted_answer_id": 57691959, "answer_count": 2, "score": 0, "last_activity_date": 1566993680, "creation_date": 1566986095, "question_id": 57689664, "link": "https://stackoverflow.com/questions/57689664/custom-view-doesnt-update-inside-a-fragment", "title": "Custom view doesn&#39;t update inside a Fragment", "body": "<p>I have a project in which I have to build views inside a custom Layout. This layout represents the concept of <strong>View</strong> in MVP architecture and it lives in a Fragment. The view should be updated by the Presenter whenever an event happens, by calling the <strong>View</strong> and finally that will update <code>TextViews</code> inside the <strong>View</strong>. But it seems that after the View is initialized, nothing gets updated anymore.</p>\n\n<p>If my presenter calls the <strong>View</strong> that contains my <code>TextView</code> - nothing. If I try to update the <code>TextView</code> directly, from the fragment then it works. I can't really understand what is happening and why it doesn't get updated from within the layout that contains that <code>TextView</code>.</p>\n\n<p>MyCustomView:</p>\n\n<pre><code>class MyCustomView(fragment: MyFragment): MyViewInterface, FrameLayout(fragment.context) {\n\n    init {\n        View.inflate(context, R.layout.my_fancy_layout, this)\n    }\n\n    override fun getView(): View {\n        return this\n    }\n\n    override fun setData(uiModel: UiModel) {\n        textview_name.text = uiModel.name\n    }\n}\n</code></pre>\n\n<p>MyFragment:</p>\n\n<pre><code>class MyFragment : Fragment() {\n\n    @Inject lateinit var view: MyViewInterface\n    @Inject lateinit var presenter: MyCustomPresenter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        ... dagger injection ...\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return this.view.getView()\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n        presenter.setData(...some ID to fetch data from API...)\n        //textview_name.text = \"blue\" //this works instead\n    }\n}\n</code></pre>\n\n<p>MyPresenter:</p>\n\n<pre><code>class MyPresenter @Inject constructor(\n        private val repo: MyRepository,\n        private val view: MyViewInterface\n) {\n\n    fun setData(productCode: String) {\n        .. some code ...\n        view.setData(it) //call to my view          \n    }\n}\n</code></pre>\n\n<p>MyViewInterface:</p>\n\n<pre><code>interface MyViewInterface {\n    fun getView(): View\n\n    fun setData(uiModel: UiModel)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1994, "user_id": 3561889, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/QIkTb.png?s=128&g=1", "display_name": "Ucdemir", "link": "https://stackoverflow.com/users/3561889/ucdemir"}, "edited": false, "score": 0, "creation_date": 1587459573, "post_id": 57689386, "comment_id": 108512700, "body": "using this methods,  file  are unistalled after app unistalled... useless"}], "tags": [], "owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "is_accepted": false, "score": 0, "last_activity_date": 1566985257, "creation_date": 1566985257, "answer_id": 57689386, "question_id": 57689283, "link": "https://stackoverflow.com/questions/57689283/how-to-create-a-folder-getexternalstoragedirectory-is-deprecated/57689386#57689386", "title": "How to create a folder getExternalStorageDirectory is deprecated", "body": "<p>Use this-:</p>\n\n<pre><code>getExternalFilesDir(), getExternalCacheDir(), or getExternalMediaDir() (methods on Context) instead of Environment.getExternalStorageDirectory().\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 11846073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c71d8a612cf2fc025a6bc5bf198ddc1b?s=128&d=identicon&r=PG&f=1", "display_name": "devk00", "link": "https://stackoverflow.com/users/11846073/devk00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 960, "favorite_count": 0, "closed_date": 1568102964, "answer_count": 1, "score": 0, "last_activity_date": 1566985257, "creation_date": 1566984885, "question_id": 57689283, "link": "https://stackoverflow.com/questions/57689283/how-to-create-a-folder-getexternalstoragedirectory-is-deprecated", "closed_reason": "Duplicate", "title": "How to create a folder getExternalStorageDirectory is deprecated", "body": "<p>How to create a folder  getExternalStorageDirectory is deprecated I use minimum APi level  21  and Android Studio 3.4.2\n<a href=\"https://i.stack.imgur.com/QMiH7.png\" rel=\"nofollow noreferrer\">my picture</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/QMiH7.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/QMiH7.png</a></p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "edited": false, "score": 0, "creation_date": 1567049403, "post_id": 57692487, "comment_id": 101848587, "body": "Thanks! <code>object</code> keyword generates java singleton, with INCTANCE variable and instantiate it inside. So we have no way to create analogue java utility classes in kotlin, because in java we can create utility class without instantiating it and without possibilities instantiating. It&#39;s unfortunate"}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 2, "last_activity_date": 1566995427, "creation_date": 1566995427, "answer_id": 57692487, "question_id": 57688928, "link": "https://stackoverflow.com/questions/57688928/kotlin-top-level-function-with-private-java-contructor/57692487#57692487", "title": "Kotlin top level function with private java contructor", "body": "<p>You can't. <code>file:JvmName</code> will generate a regular class with static methods. </p>\n\n<p>If you absolutely don't want to have this constructor, you'll have to use <code>object</code></p>\n\n<pre><code>object Utility {\n    fun someUtilityFunc() {\n    // ignored\n    }\n}\n</code></pre>\n\n<p>Now previously, you could just called <code>someUtilityFunc()</code> in your Kotlin code, and it just worked.</p>\n\n<p>But thankfully you can import functions in Kotlin, so it still works without prefixing:</p>\n\n<pre><code>import com.example.Utility.someUtilityFunc\n\nfun main() {\n    someUtilityFunc()\n}\n</code></pre>\n"}], "owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 57692487, "answer_count": 1, "score": 1, "last_activity_date": 1566995427, "creation_date": 1566983711, "last_edit_date": 1566984365, "question_id": 57688928, "link": "https://stackoverflow.com/questions/57688928/kotlin-top-level-function-with-private-java-contructor", "title": "Kotlin top level function with private java contructor", "body": "<p>I have the kotlin file with top level function and specified name for using it from java code:</p>\n\n<p><strong>Utility.kt</strong></p>\n\n<pre><code>@file:JvmName(\"Utility\")\npackage com.example\n\nfun someUtilityFunc() {\n    // ignored\n}\n</code></pre>\n\n<p>and I can instantiate <code>Utility</code> class in my Java code:</p>\n\n<p><strong>Main.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\npublic Main {\n    public static void main(String[] args) {\n        new Utility();\n    }\n}\n</code></pre>\n\n<p>How can I add the private constructor to generated <code>Utility</code> class?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3393, "user_id": 214143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61025b3df4700620a5d9099293f23a5d?s=128&d=identicon&r=PG", "display_name": "Jason Aller", "link": "https://stackoverflow.com/users/214143/jason-aller"}, "edited": false, "score": 1, "creation_date": 1567009634, "post_id": 57688485, "comment_id": 101837483, "body": "Welcome to Stack Overflow. Do you mean extract instead of extrace? You might want to <a href=\"https://stackoverflow.com/posts/57688485/edit\">edit</a> the question to include a tag for android studio if this is related to the use of intentions within that program."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 8497862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8b9a8f548ddb66f05e218d34155e42?s=128&d=identicon&r=PG&f=1", "display_name": "justYuMu", "link": "https://stackoverflow.com/users/8497862/justyumu"}, "edited": false, "score": 0, "creation_date": 1568192041, "post_id": 57689124, "comment_id": 102193299, "body": "thanks, but in kotlin class, also auto import packetId.R.string.  this problem does not exit  in the java class."}], "tags": [], "owner": {"reputation": 1072, "user_id": 6330489, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/831813746924822/picture?type=large", "display_name": "Aziz", "link": "https://stackoverflow.com/users/6330489/aziz"}, "is_accepted": false, "score": 0, "last_activity_date": 1566984370, "creation_date": 1566984370, "answer_id": 57689124, "question_id": 57688485, "link": "https://stackoverflow.com/questions/57688485/how-to-disable-android-studio-import-r-string/57689124#57689124", "title": "How to disable android studio import R.string", "body": "<p><code>import packageId.R</code> into your class.</p>\n"}], "owner": {"reputation": 39, "user_id": 8497862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8b9a8f548ddb66f05e218d34155e42?s=128&d=identicon&r=PG&f=1", "display_name": "justYuMu", "link": "https://stackoverflow.com/users/8497862/justyumu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1567057836, "creation_date": 1566982321, "last_edit_date": 1567057836, "question_id": 57688485, "link": "https://stackoverflow.com/questions/57688485/how-to-disable-android-studio-import-r-string", "title": "How to disable android studio import R.string", "body": "<p>When I use <code>\"Extrace string resource\"</code> make string in code to <code>strings.xml</code>. AS auto <code>import packetId.R.string</code>, my code show <code>getString(string.xxx)</code>. then can't jump to <code>string.xml</code></p>\n"}, {"tags": ["android", "kotlin", "rx-java", "android-lifecycle", "rx-binding"], "comments": [{"owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "edited": false, "score": 1, "creation_date": 1566983338, "post_id": 57688441, "comment_id": 101822418, "body": "do you call <code>validateForm()</code> again when activity start?"}, {"owner": {"reputation": 2245, "user_id": 1161062, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LCDjg.png?s=128&g=1", "display_name": "r4jiv007", "link": "https://stackoverflow.com/users/1161062/r4jiv007"}, "reply_to_user": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "edited": false, "score": 0, "creation_date": 1566986492, "post_id": 57688441, "comment_id": 101824163, "body": "yes I do in onResume() @PhanVanLinh please check my edits"}, {"owner": {"reputation": 305, "user_id": 4544797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365bed9c03091b0f222e148ee9ef07ab?s=128&d=identicon&r=PG", "display_name": "Abu Noman", "link": "https://stackoverflow.com/users/4544797/abu-noman"}, "edited": false, "score": 0, "creation_date": 1566991194, "post_id": 57688441, "comment_id": 101826660, "body": "You can use rxbinding, which is very easy to implement. See <a href=\"https://guides.codepath.com/android/RxJava-and-RxBinding\" rel=\"nofollow noreferrer\">snippet</a>."}, {"owner": {"reputation": 2245, "user_id": 1161062, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LCDjg.png?s=128&g=1", "display_name": "r4jiv007", "link": "https://stackoverflow.com/users/1161062/r4jiv007"}, "reply_to_user": {"reputation": 305, "user_id": 4544797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365bed9c03091b0f222e148ee9ef07ab?s=128&d=identicon&r=PG", "display_name": "Abu Noman", "link": "https://stackoverflow.com/users/4544797/abu-noman"}, "edited": false, "score": 0, "creation_date": 1566992278, "post_id": 57688441, "comment_id": 101827266, "body": "@AbuNoman i am using the same thing, please check my code again. its kotlin extension provided by rxbinding, but i don&#39;t think that is an issue"}], "answers": [{"comments": [{"owner": {"reputation": 2245, "user_id": 1161062, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LCDjg.png?s=128&g=1", "display_name": "r4jiv007", "link": "https://stackoverflow.com/users/1161062/r4jiv007"}, "edited": false, "score": 1, "creation_date": 1570370485, "post_id": 57691648, "comment_id": 102884683, "body": "did you test it ?"}], "tags": [], "owner": {"reputation": 305, "user_id": 4544797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365bed9c03091b0f222e148ee9ef07ab?s=128&d=identicon&r=PG", "display_name": "Abu Noman", "link": "https://stackoverflow.com/users/4544797/abu-noman"}, "is_accepted": false, "score": 0, "last_activity_date": 1566992660, "creation_date": 1566992660, "answer_id": 57691648, "question_id": 57688441, "link": "https://stackoverflow.com/questions/57688441/understanding-compositedisposable-in-rxjava-kotlin/57691648#57691648", "title": "Understanding CompositeDisposable in RxJava + Kotlin", "body": "<p>Initialize <code>CompositeDisposable</code> in your login fragment and add all <code>disposable</code> to the <code>CompositeDisposable</code> and clear it <code>onPause</code>. Looks like:</p>\n\n<pre><code>private var subscriptions: CompositeDisposable = CompositeDisposable()\n\nprivate fun validateForm() {\n    val emailObservable = viewBinding.detUserName.editText.textChangeEvents()\n        .skipInitialValue()\n        .map { isValidEmail(it.text) || isValidPhoneNumber(it.text) }\n        .doOnDispose {\n            Log.i(\"disposed\", \"emailObservable\")\n        }\n\n\n    val passwordObservable = viewBinding.detPassword.editText.textChangeEvents()\n        .skipInitialValue()\n        .map { !TextUtils.isEmpty(it.text) }\n        .doOnDispose {\n            Log.i(\"disposed\", \"passwordObservable\")\n        }\n\n    val disposable = Observable.combineLatest(emailObservable, passwordObservable,\n        BiFunction&lt;Boolean, Boolean, Boolean&gt; { t1, t2 -&gt; t1 &amp;&amp; t2 }).subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe {\n            viewBinding.bLogin.isEnabled = it\n        }\n    subscriptions.add(emailObservable, passwordObservable, disposable)\n}\n\noverride fun onResume() {\n    super.onResume()\n    validateForm()\n}\n\noverride fun onPause() {\n    subscriptions.clear()\n    super.onPause()\n}\n</code></pre>\n"}], "owner": {"reputation": 2245, "user_id": 1161062, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LCDjg.png?s=128&g=1", "display_name": "r4jiv007", "link": "https://stackoverflow.com/users/1161062/r4jiv007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 896, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1570370523, "creation_date": 1566982181, "last_edit_date": 1570370523, "question_id": 57688441, "link": "https://stackoverflow.com/questions/57688441/understanding-compositedisposable-in-rxjava-kotlin", "title": "Understanding CompositeDisposable in RxJava + Kotlin", "body": "<p>I am using RxJava for form validation for validating username and password.\nMy use-case is pretty simple if both the fields satisfy respective condition then enable the login button else to disable it.\nfollowing is my code.</p>\n\n<pre><code>\n    lateinit var subscriptions: CompositeDisposable\n    private fun validateForm() {\n        val emailObservable = viewBinding.detUserName.editText.textChangeEvents()\n            .skipInitialValue()\n            .map { isValidEmail(it.text) || isValidPhoneNumber(it.text) }\n            .doOnDispose {\n                Log.i(\"disposed\", \"emailObservable\")\n            }\n\n\n        val passwordObservable = viewBinding.detPassword.editText.textChangeEvents()\n            .skipInitialValue()\n            .map { !TextUtils.isEmpty(it.text) }\n            .doOnDispose {\n                Log.i(\"disposed\", \"passwordObservable\")\n            }\n\n        val disposable = Observable.combineLatest(emailObservable, passwordObservable,\n            BiFunction&lt;Boolean, Boolean, Boolean&gt; { t1, t2 -&gt; t1 &amp;&amp; t2 }).subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe {\n                viewBinding.bLogin.isEnabled = it\n            }\n        subscriptions.add(disposable)\n    }\n\nfun isValidEmail(target: CharSequence): Boolean {\n        return !TextUtils.isEmpty(target) &amp;&amp; android.util.Patterns.EMAIL_ADDRESS.matcher(target).matches()\n    }\n\n    fun isValidPhoneNumber(target: CharSequence): Boolean {\n        return !TextUtils.isEmpty(target) &amp;&amp; Pattern.compile(\"(05|9665)[0-9]{8}\").matcher(target).matches()\n    }\n</code></pre>\n\n<p>I am <strong>subscription</strong> is a CompositeDisposable object reference which i am creating in onCreate and onResume(if not created or already cleared/disposed)\nand disposing it in onStop()</p>\n\n<p><strong>Edit</strong></p>\n\n<p><strong>following is part of my base fragment</strong></p>\n\n<pre><code> override fun onResume() {\n        super.onResume()\n        createDisposable()\n    }\n\n    protected fun createDisposable() {\n        if (!this::subscriptions.isInitialized) {\n            subscriptions = CompositeDisposable()\n        }\n    }\n   override fun onStop() {\n        super.onStop()\n        disposeAll()\n    }\n\n    protected fun disposeAll() {\n        if (this::subscriptions.isInitialized) {\n            subscriptions.clear()\n        }\n    }\n\n</code></pre>\n\n<p><strong>my login fragment</strong></p>\n\n<pre><code>override fun onResume() {\n        super.onResume()\n        validateForm()\n    }\n</code></pre>\n\n<p>For the first time <strong>Observable.combineLatest</strong> is working fine, but the problem is once the app goes into the background and resumes it's not firing again.\nwhen it went into background onStop() calls clear the compositeDisposable disposing of all the disposables, when it resumes I am re-adding new instance of disposables to compositeDisposable still, it's not firing.\nI am not able to figure out a way to fix this, any leads will be appreciated.</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1566980164, "post_id": 57687794, "comment_id": 101820621, "body": "just <code>var buss = car()</code>"}, {"owner": {"reputation": 176, "user_id": 5279705, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e08d5718ff30ae3bc072829a5b90a694?s=128&d=identicon&r=PG&f=1", "display_name": "wpj", "link": "https://stackoverflow.com/users/5279705/wpj"}, "edited": false, "score": 0, "creation_date": 1566981865, "post_id": 57687794, "comment_id": 101821571, "body": "yes i tried to find answer forexample <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1566980266, "post_id": 57687876, "comment_id": 101820678, "body": "kotlin has no new keyword, you&#39;re looking for <code>var buss = car()</code>"}, {"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 1, "creation_date": 1566980335, "post_id": 57687876, "comment_id": 101820717, "body": "@a_local_nobody you right, my bad! too fast copy paste without edit makes that mistake"}], "tags": [], "owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1566980279, "last_edit_date": 1566980279, "creation_date": 1566980207, "answer_id": 57687876, "question_id": 57687794, "link": "https://stackoverflow.com/questions/57687794/how-to-initialise-java-object-from-kotlin/57687876#57687876", "title": "how to initialise java object from kotlin", "body": "<p>In kotlin no need to <code>new</code> world so just type this for new instance of class</p>\n\n<pre><code>var buss = car()\n</code></pre>\n\n<p>Now you can use all object and function of <code>car</code> class </p>\n\n<p>Also i suggest use Uppercase for start letter of your classes </p>\n"}, {"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1566980563, "post_id": 57687901, "comment_id": 101820835, "body": "because this question is bad and by answering it you encourage more of such questions to be posted"}], "tags": [], "owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "is_accepted": true, "score": 5, "last_activity_date": 1566980311, "creation_date": 1566980311, "answer_id": 57687901, "question_id": 57687794, "link": "https://stackoverflow.com/questions/57687794/how-to-initialise-java-object-from-kotlin/57687901#57687901", "title": "how to initialise java object from kotlin", "body": "<p><code>getInstance()</code> method created by itself for initialization.</p>\n\n<p>in Java</p>\n\n<pre><code>buss = new car()\ncall =buss.drive()\n</code></pre>\n\n<p>In kotlin</p>\n\n<pre><code>var buss = car()\nvar method = buss.drive()\n</code></pre>\n"}], "owner": {"reputation": 176, "user_id": 5279705, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e08d5718ff30ae3bc072829a5b90a694?s=128&d=identicon&r=PG&f=1", "display_name": "wpj", "link": "https://stackoverflow.com/users/5279705/wpj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 0, "accepted_answer_id": 57687901, "answer_count": 2, "score": 2, "last_activity_date": 1566980676, "creation_date": 1566979931, "last_edit_date": 1566980676, "question_id": 57687794, "link": "https://stackoverflow.com/questions/57687794/how-to-initialise-java-object-from-kotlin", "title": "how to initialise java object from kotlin", "body": "<p>I am new to kotlin and I want to initialize object from java class in Kotlin class.</p>\n\n<p>I have java class Car for \nexample <code>com.myapp.vehicles.car</code></p>\n\n<p>in java I would do</p>\n\n<pre><code>buss = new car()\n</code></pre>\n\n<p>then call <code>buss.drive()</code></p>\n\n<p>how do I do same from kotlin.</p>\n\n<p>I have tried <code>var buss = car.getinstance()</code>\nbut there is no method <code>getinstance</code></p>\n"}, {"tags": ["kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1566981272, "post_id": 57687678, "comment_id": 101821232, "body": "do you mean <a href=\"http://reactivex.io/RxJava/javadoc/rx/Observable.html#collect-rx.functions.Func0-rx.functions.Action2-\" rel=\"nofollow noreferrer\">collect</a> or <a href=\"http://reactivex.io/RxJava/javadoc/rx/Observable.html#reduce-R-rx.functions.Func2-\" rel=\"nofollow noreferrer\">reduce</a>?"}, {"owner": {"reputation": 737, "user_id": 10715642, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QRLDtnm1-IE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ipSlUb1x7ARbIjnOaLC_Y9VX2jNQ/mo/photo.jpg?sz=128", "display_name": "Damon Baker", "link": "https://stackoverflow.com/users/10715642/damon-baker"}, "edited": false, "score": 0, "creation_date": 1566982999, "post_id": 57687678, "comment_id": 101822228, "body": "Could you use the <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Observable.html#startWith-io.reactivex.ObservableSource-\" rel=\"nofollow noreferrer\"><code>startWith()</code></a> overload that takes an <code>Observable</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 2, "last_activity_date": 1566982472, "creation_date": 1566982472, "answer_id": 57688533, "question_id": 57687678, "link": "https://stackoverflow.com/questions/57687678/rxjava-scan-function-without-initial-value/57688533#57688533", "title": "Rxjava scan function without initial value", "body": "<p>You have to use a stateful transformation or write a custom operator indeed. For example:</p>\n\n<pre><code>Observable.defer(() -&gt; {\n    AtomicReference&lt;R&gt; current = new AtomicReference&lt;&gt;();\n    return source.map(v -&gt; {\n        R acc = current.get();\n        if (acc == null) {\n            acc = Objects.requireNonNull(initialValueProvider.apply(v));\n            current.set(acc);\n        } else {\n            acc = Objects.requireNonNull(accumulator.apply(acc, v));\n            current.set(acc);\n        }\n        return acc;\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 1350, "user_id": 422579, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5aca3da579b126baef740de2483a7b43?s=128&d=identicon&r=PG", "display_name": "Thanh Le", "link": "https://stackoverflow.com/users/422579/thanh-le"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 57688533, "answer_count": 1, "score": 0, "last_activity_date": 1566982472, "creation_date": 1566979566, "question_id": 57687678, "link": "https://stackoverflow.com/questions/57687678/rxjava-scan-function-without-initial-value", "title": "Rxjava scan function without initial value", "body": "<p>I want to have a scan function like this: </p>\n\n<pre><code>fun Observable&lt;T&gt;.scan(initialValueProvider: (T) -&gt; R, accumulator: (R, T) -&gt; R)\n</code></pre>\n\n<p>Basically it uses initialValueProvider for the first emitted value, and uses accumulator for later values.</p>\n\n<p>This scan function is very similar to scanWith function, the different is I want to produce the first value from the first emitted item with initialValueProvider.</p>\n\n<p>Do I need to write a custom operator for it? Or we already have some kind of combination to get that function?</p>\n"}, {"tags": ["android", "kotlin", "onclicklistener"], "comments": [{"owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "edited": false, "score": 0, "creation_date": 1566985236, "post_id": 57687568, "comment_id": 101823428, "body": "if <code>adapter.getItem(position)</code> returns your merchant object, why cant you just go with <code>adapter.getItem(position).merchant_id</code>? Or Im missing something"}, {"owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "reply_to_user": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "edited": false, "score": 0, "creation_date": 1566985529, "post_id": 57687568, "comment_id": 101823579, "body": "if applied adapter.getItem(position).merchant_id, it will show unresolve reference merchant_id."}, {"owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "edited": false, "score": 1, "creation_date": 1566985786, "post_id": 57687568, "comment_id": 101823722, "body": "sure, cast it to merchant or work with your list -&gt; <code>list[position].merchant_id</code>, be careful as your list starts with 0 and I dont remember if returned position starts with 1 or 0 aswell"}, {"owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "reply_to_user": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "edited": false, "score": 0, "creation_date": 1566986058, "post_id": 57687568, "comment_id": 101823881, "body": "thanks P.Juni, u alert me on this. Finally I solved by using sample code as below:-** Toast.makeText(this, &quot;You Clicked:&quot;+&quot;&quot;+list[position].merchant_id,Toast.LENGTH_SHORT).&zwnj;&#8203;show() }**"}, {"owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "edited": false, "score": 0, "creation_date": 1566986094, "post_id": 57687568, "comment_id": 101823901, "body": "so did it helped with this list ?"}, {"owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "reply_to_user": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "edited": false, "score": 0, "creation_date": 1566986172, "post_id": 57687568, "comment_id": 101823958, "body": "Yes, u are right. Thanks for your help. Please post your answer and I will mark it accordingly. :)"}], "answers": [{"tags": [], "owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "is_accepted": true, "score": 1, "last_activity_date": 1566986333, "creation_date": 1566986333, "answer_id": 57689748, "question_id": 57687568, "link": "https://stackoverflow.com/questions/57687568/how-to-get-selected-column-value-when-click-on-item-in-gridview/57689748#57689748", "title": "How to get selected column value when click on item in gridview?", "body": "<p>You should work on your <code>list</code> which you provided for the adapter.</p>\n\n<p>So replace <code>adapter.getItem(position)</code> with simple <code>list[position].merchant_id</code>, so then you can retrieve any field from the picked item from the list.</p>\n"}], "owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 57689748, "answer_count": 1, "score": 0, "last_activity_date": 1566986333, "creation_date": 1566979149, "question_id": 57687568, "link": "https://stackoverflow.com/questions/57687568/how-to-get-selected-column-value-when-click-on-item-in-gridview", "title": "How to get selected column value when click on item in gridview?", "body": "<p>I created a grid view in my apps and I would like to get value from my array after clicked on selected item.</p>\n\n<p>Now I can get a whole list of my value, but how can I get selected item value? Example like merchant_id?</p>\n\n<p>Now I getting whole array value like this.\n<a href=\"https://i.stack.imgur.com/2GNxk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2GNxk.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>private fun handleJson(jsonString: String?) {\n       val jsonArray = JSONArray(jsonString)\n       var list = ArrayList&lt;Merchant&gt;()\n\n       var x = 0\n       while (x &lt; jsonArray.length()){\n           var jsonObject = jsonArray.getJSONObject(x)\n\n           list.add(Merchant(\n                   jsonObject.getInt(\"merchant_id\"),\n                   jsonObject.getString(\"name\"),\n                   jsonObject.getString(\"address\"),\n\n\n           ))\n           x++\n       }\n\n       val adapter = MerchantAdapter(this,list)\n       lv_merchant_list.adapter = adapter\n\n\n       var listView = findViewById&lt;ListView&gt;(R.id.lv_merchant_list)\n\n\n       listView.setOnItemClickListener{ parent, view, position, id -&gt;\n\n           Toast.makeText(this, \"You Clicked:\"+\" \"+adapter.getItem(position),Toast.LENGTH_SHORT).show()\n       }\n   }\n</code></pre>\n\n<p>How can I enhance in adapter.getItem(position) to something like adapter.getItem(position(i)) to get merchant ID?</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-paging"], "comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1566977874, "post_id": 57687015, "comment_id": 101819490, "body": "Perhaps your <code>refreshPageData(params.requestedLoadSize, params.key)</code> gets called because your condition has a bug?"}, {"owner": {"reputation": 101, "user_id": 11977949, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0YqRA71Ubk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3relUogV36Ja9hw7tZX36sD_kcqWZg/photo.jpg?sz=128", "display_name": "Danijel", "link": "https://stackoverflow.com/users/11977949/danijel"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1566978585, "post_id": 57687015, "comment_id": 101819834, "body": "It&#39;s intentional to refresh page data each time data source requests new page in order to easily reproduce issue. Condition is here just to avoid infinite loop (initialLoad -&gt; fetch from network -&gt; DB invalidation -&gt; DataSource invalidation -&gt; initialLoad)."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1566978670, "post_id": 57687015, "comment_id": 101819873, "body": "question, is your api response also with pagination?"}, {"owner": {"reputation": 101, "user_id": 11977949, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0YqRA71Ubk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3relUogV36Ja9hw7tZX36sD_kcqWZg/photo.jpg?sz=128", "display_name": "Danijel", "link": "https://stackoverflow.com/users/11977949/danijel"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1566980538, "post_id": 57687015, "comment_id": 101820819, "body": "Yes, but I believe that problem lies in invalidation of DataSource. I&#39;m curious, how Room handles that?"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1566980613, "post_id": 57687015, "comment_id": 101820863, "body": "normally, you should be able to return a <code>Datasource.Factory</code> when retreiving data from <code>Room</code> with Paging Lib"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1566980713, "post_id": 57687015, "comment_id": 101820922, "body": "<code>&quot;Yes, but I believe that problem lies in invalidation of DataSource. I&#39;m curious, how Room handles that?&quot;</code> see <a href=\"https://developer.android.com/reference/android/arch/paging/DataSource#updating-paged-data\" rel=\"nofollow noreferrer\">Updating Paged Data</a> section"}, {"owner": {"reputation": 101, "user_id": 11977949, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0YqRA71Ubk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3relUogV36Ja9hw7tZX36sD_kcqWZg/photo.jpg?sz=128", "display_name": "Danijel", "link": "https://stackoverflow.com/users/11977949/danijel"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1566982261, "post_id": 57687015, "comment_id": 101821801, "body": "@coroutineDispatcher that&#39;s possible, but then I lose option to update single page as I don&#39;t have control over that DataSource (unless there is option to wrap DataSource generated by Room)"}, {"owner": {"reputation": 101, "user_id": 11977949, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0YqRA71Ubk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3relUogV36Ja9hw7tZX36sD_kcqWZg/photo.jpg?sz=128", "display_name": "Danijel", "link": "https://stackoverflow.com/users/11977949/danijel"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1566982264, "post_id": 57687015, "comment_id": 101821806, "body": "@pskink I already checked that. In sample I posted, I&#39;m already doing this way (DataSource is always generated by Factory and once DB table is invalidated, DataSource is invalidated also). The only thing I&#39;m not doing is to store in-memory instead of DB."}, {"owner": {"reputation": 7138, "user_id": 4415642, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/253d1dc6571ed728099ff96b693f5b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Ziobro", "link": "https://stackoverflow.com/users/4415642/micha%c5%82-ziobro"}, "edited": false, "score": 0, "creation_date": 1590673290, "post_id": 57687015, "comment_id": 109773200, "body": "I tought it works but it jumps but not all the time but some time maybe this is caused by longer api requests. Do you find solution to this jumping list?"}], "owner": {"reputation": 101, "user_id": 11977949, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0YqRA71Ubk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3relUogV36Ja9hw7tZX36sD_kcqWZg/photo.jpg?sz=128", "display_name": "Danijel", "link": "https://stackoverflow.com/users/11977949/danijel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 616, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1566977601, "creation_date": 1566977180, "last_edit_date": 1566977601, "question_id": 57687015, "link": "https://stackoverflow.com/questions/57687015/android-paging-library-list-is-jumping-while-scrolling", "title": "Android - Paging library - list is jumping while scrolling", "body": "<p>I'm trying to display list of entries using Android Paging library. To do this, I'm using custom PageDataSource which reads data from Room database and updates it from network if needed. In order to update local database with new data, I'm not using boundary callback as it does not provide option to update data per page, but only once user scrolls to the bottom of the local list. Which means that local data will never be updated unless it is part of first or last page.</p>\n\n<p>Here is my DataSource:</p>\n\n<pre><code>class EntryPageDataSource(\n    private val entryDao: EntryDao,\n    private val service: AppService\n) : PageKeyedDataSource&lt;Int, EntryEntity&gt;() {\n    companion object {\n        val lastSync = SparseArray&lt;Instant&gt;()\n    }\narrives\n    private val invalidationTracker =\n        object : InvalidationTracker.Observer(EntryEntity.TABLE_NAME) {\n            override fun onInvalidated(tables: MutableSet&lt;String&gt;) {\n                this@EntryPageDataSource.invalidate()\n            }\n        }\n\n    init {        \n    //Track database updates in order to invalidate DataSource when new data \n\n  AppDatabase.getInstance().invalidationTracker.addObserver(invalidationTracker)\n    }\n\n    override fun invalidate() {\n        //Stop observing database updates as DataSource is invalid\n        GlobalScope.launch {\n           AppDatabase.getInstance().invalidationTracker.removeObserver(invalidationTracker)\n        }\n        super.invalidate()\n    }\n\n\n    override fun loadInitial(\n        params: LoadInitialParams&lt;Int&gt;,\n        callback: LoadInitialCallback&lt;Int, EntryEntity&gt;\n    ) {\n        //Get first page from DB and notify callback\n        val data = entryDao.getPagedEntries(params.requestedLoadSize, 0)\n        callback.onResult(data, null, 1)\n\n        //Update data from network if needed\n        refreshPageData(params.requestedLoadSize, 0)\n    }\n\n    override fun loadAfter(params: LoadParams&lt;Int&gt;, callback: LoadCallback&lt;Int, EntryEntity&gt;) {            \n        //Get new page from DB and notify callback\n        callback.onResult(\n            entryDao.getPagedEntries(\n                params.requestedLoadSize,\n                params.key * params.requestedLoadSize\n            ),\n            params.key + 1\n        )\n        //Update data from network if needed\n        refreshPageData(params.requestedLoadSize, params.key)\n    }\n\n    override fun loadBefore(params: LoadParams&lt;Int&gt;, callback: LoadCallback&lt;Int, EntryEntity&gt;) {\n    }\n\n    private fun refreshPageData(size: Int, page: Int) {\n        //Do not request new data if we recently updated it\n        if (lastSync[page]?.isBefore(Instant.now().minusMillis(10 * 1000L)) == false) return\n        GlobalScope.launch {\n            runCatching {\n                service.getPagedEntries(page + 1, size)\n            }.onSuccess {\n                lastSync.put(page, Instant.now())\n                entryDao.upsert(it.map { it.toEntity() })\n            }.onFailure {\n                it.log()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Corresponding database function:</p>\n\n<pre><code>    @Query(\"SELECT * FROM ${EntryEntity.TABLE_NAME} ORDER BY ${EntryEntity.COLUMN_DATE} DESC LIMIT :limit OFFSET :offset\")\n    abstract fun getPagedEntries(limit: Int, offset: Int): List&lt;EntryEntity&gt;\n</code></pre>\n\n<p>In my ViewModel, I'm generating live data of this DataSource using following code:</p>\n\n<pre><code>LivePagedListBuilder(\n            entriesFactory.map { it.toEntry() },\n            Config(pageSize = 10, enablePlaceholders = false, initialLoadSizeHint = 10)\n        )\n            .setInitialLoadKey(0)\n            .build()\n</code></pre>\n\n<p>Problem which I'm encountering is that while scrolling the list (as new page is fetched from network and current DataSource is invalidated) user is returned to beginning of a list instead of last visible page. So, there is no smooth scrolling experience. Similar behavior happens if PositionalDataSource is used. Difference is that for PositionalDataSource, list view will be automatically scrolled to the last loaded page. Which basically means that list will be automatically scrolled to the last element of a list.</p>\n\n<p>How could I achieve smooth scrolling experience while keeping possibility to update local data from network per page?</p>\n"}, {"tags": ["android", "file", "kotlin"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1566976242, "post_id": 57686708, "comment_id": 101818751, "body": "<code>val filepath=data.data!!.path</code> is wrong - it does not point to any existing path - simply use <code>data.data</code> and <code>ContentResolver</code> to get the <code>InputStream</code> for reading"}, {"owner": {"reputation": 5, "user_id": 9887439, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Zin Oo", "link": "https://stackoverflow.com/users/9887439/zin-oo"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1566976497, "post_id": 57686708, "comment_id": 101818866, "body": "But it worked on emulator, what is the difference?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1566976617, "post_id": 57686708, "comment_id": 101818911, "body": "ok what is <code>filepath</code> in your case? tried to <code>Log.d</code> that value? if so, what do you see on the logcat?"}, {"owner": {"reputation": 5, "user_id": 9887439, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Zin Oo", "link": "https://stackoverflow.com/users/9887439/zin-oo"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1566976766, "post_id": 57686708, "comment_id": 101818986, "body": "It shows the path I chose &quot;/root/storage/emulated/0/Download/original.csv&quot;."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1566976840, "post_id": 57686708, "comment_id": 101819019, "body": "and what do you see if you execute <code>adb shell ls -l &#47;root&#47;storage&#47;emulated&#47;0&#47;Download&#47;original.csv</code> command?"}, {"owner": {"reputation": 5, "user_id": 9887439, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Zin Oo", "link": "https://stackoverflow.com/users/9887439/zin-oo"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1566977526, "post_id": 57686708, "comment_id": 101819355, "body": "It says no such file or directory"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1566977907, "post_id": 57686708, "comment_id": 101819502, "body": "then read <a href=\"https://commonsware.com/blog/2014/07/04/uri-not-necessarily-file.html\" rel=\"nofollow noreferrer\">this</a> why it is so"}, {"owner": {"reputation": 5, "user_id": 9887439, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Zin Oo", "link": "https://stackoverflow.com/users/9887439/zin-oo"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1566978186, "post_id": 57686708, "comment_id": 101819640, "body": "Ahh, got it . Well if that&#39;s the case, I will try again as you suggested."}], "answers": [{"tags": [], "owner": {"reputation": 5, "user_id": 9887439, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Zin Oo", "link": "https://stackoverflow.com/users/9887439/zin-oo"}, "is_accepted": true, "score": 0, "last_activity_date": 1566979395, "creation_date": 1566979395, "answer_id": 57687637, "question_id": 57686708, "link": "https://stackoverflow.com/questions/57686708/how-to-fix-no-such-file-or-directory-after-selecting-a-file-from-android/57687637#57687637", "title": "How to fix &quot;No such file or directory&quot; after selecting a file from Android?", "body": "<p>Finally as \"pskink\" suggested , I changed my code from this,</p>\n\n<pre><code>val filepath=data.data!!.path\n    val inputStream=FileInputStream(filepath)\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>val filepath=data.data\nval inputstream= contentResolver.openInputStream(android.net.Uri.parse(filepath.toString()))\n</code></pre>\n\n<p>and the result is beautiful :)</p>\n"}], "owner": {"reputation": 5, "user_id": 9887439, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Zin Oo", "link": "https://stackoverflow.com/users/9887439/zin-oo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 57687637, "answer_count": 1, "score": 0, "last_activity_date": 1566979395, "creation_date": 1566975982, "last_edit_date": 1566976455, "question_id": 57686708, "link": "https://stackoverflow.com/questions/57686708/how-to-fix-no-such-file-or-directory-after-selecting-a-file-from-android", "title": "How to fix &quot;No such file or directory&quot; after selecting a file from Android?", "body": "<p>I am trying to select a file(csv file) form android device. It works fine in emulator. But, when I test in real device, however I select a csv file it keeps showing \"No such file or directory\". I don't get it why it doesn't work on real device. I already added permission in manifests. Here is the code</p>\n\n<pre><code>    db=DataBaseHelper(this)\n     lbl=EditText(this)\n     lbl=view.findViewById(R.id.edit_master)\n     noti = lbl.text.toString()\n     btnimport=view.findViewById(R.id.img_import)\n     btnimport.setOnClickListener {\n         val fileintent=Intent(Intent.ACTION_GET_CONTENT)\n         fileintent.type=\"text/csv\"\n         try {\n             startActivityForResult(fileintent, requestcode)\n         } catch (e: ActivityNotFoundException) {\n             lbl.text=\"No activity can handle picking a file. Showing alternatives.\"\n         }\n     }\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    if (data == null)\n        return\n    if (requestCode&lt;=requestcode) {\n        val filepath=data.data!!.path\n        println(filepath)\n        lbl.text = filepath\n        val inputStream=FileInputStream(filepath)\n        println(inputStream)\n        val bb=db.writableDatabase\n        val myPath = DB_PATH + REAL_DATABASE\n        val db = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READWRITE)\n        val tableName=\"Master\"\n        db.execSQL(\"delete from $tableName\")\n        try {\n            println(\"gg\")\n            if (resultCode == Activity.RESULT_OK) {\n                try {\n                    val file=InputStreamReader(inputStream)\n\n                    val buffer=BufferedReader(file)\n                    buffer.readLine()\n                    val contentValues=ContentValues()\n                    db.beginTransaction()\n                    while(true) {\n                        val line=buffer.readLine()\n                        if (line == null) break\n                        val str=line.split(\",\".toRegex(), 3)\n                            .toTypedArray()\n\n                        val _id1=str[0].toString()\n                        val quantity1=str[1].toString()\n                        val name=str[2].toString()\n\n                        contentValues.put(\"_id1\", _id1)\n                        contentValues.put(\"quantity1\", quantity1)\n                        contentValues.put(\"name\", name)\n                        db.insert(tableName, null, contentValues)\n\n                    }\n\n                    db.setTransactionSuccessful()\n                    db.endTransaction()\n                } catch (e: IOException) {\n                    if (db.inTransaction())\n                        db.endTransaction()\n                    val d=Dialog(this)\n                    d.setTitle(e.message.toString() + \"first\")\n                    d.show()\n                }\n\n            } else {\n                if (db.inTransaction())\n                    db.endTransaction()\n                val d=Dialog(this)\n                d.setTitle(\"Only CSV files allowed\")\n                d.show()\n            }\n        } catch (ex: Exception) {\n            if (db.inTransaction())\n                db.endTransaction()\n\n            val d=Dialog(this)\n            d.setTitle(ex.message.toString() + \"second\")\n            d.show()\n        }\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1566974853, "post_id": 57686382, "comment_id": 101818148, "body": "Check my this previous answer for this functionality <a href=\"https://stackoverflow.com/a/47975852/7666442\">stackoverflow.com/a/47975852/7666442</a> &amp;&amp; <a href=\"https://stackoverflow.com/a/51454770/7666442\">stackoverflow.com/a/51454770/7666442</a>"}], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 9344659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1322d0432a02df5cf37b3071474829ca?s=128&d=identicon&r=PG", "display_name": "Rahul Singh Rawat", "link": "https://stackoverflow.com/users/9344659/rahul-singh-rawat"}, "is_accepted": false, "score": 5, "last_activity_date": 1566980040, "last_edit_date": 1566980040, "creation_date": 1566979230, "answer_id": 57687588, "question_id": 57686382, "link": "https://stackoverflow.com/questions/57686382/recyclerview-findviewholderforadapterposition-return-null/57687588#57687588", "title": "Recyclerview findViewHolderForAdapterPosition() return null", "body": "<p>As i got your query this solution would definitely help you</p>\n\n<p><strong>In you viewHolder do like this</strong></p>\n\n<pre><code>etText.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n        }\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n            yourEditTextList.set(getAdapterPosition(), s.toString());\n        }\n\n        @Override\n        public void afterTextChanged(Editable s) {\n\n        }\n    });\n\n    btnAddNewEditText.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            yourEditTextList.add(new String(\"\"));\n            notifyDataSetChanged();\n        }\n    });\n</code></pre>\n\n<p>Here <strong>yourEditTextList</strong> is the list of String in of your editText in your recylerView</p>\n\n<p><strong>In your activity where you have recylerView</strong></p>\n\n<pre><code>btnDone.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            //Fetch you list that your have passed on recycler view you will get here\n        }\n    });\n</code></pre>\n"}], "owner": {"reputation": 2293, "user_id": 2971619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000706063156/picture?type=large", "display_name": "Kristiyan Varbanov", "link": "https://stackoverflow.com/users/2971619/kristiyan-varbanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566980040, "creation_date": 1566974499, "question_id": 57686382, "link": "https://stackoverflow.com/questions/57686382/recyclerview-findviewholderforadapterposition-return-null", "title": "Recyclerview findViewHolderForAdapterPosition() return null", "body": "<p>Hello i`m trying to get recyclerview viewholder at particular position with this code:</p>\n\n<pre><code>  val viewHolder = educationRv.findViewHolderForAdapterPosition(i) as SectionsRecyclerAdapter.ViewHolder\n</code></pre>\n\n<p>the problem is that recycler view recycle not visible items and i can't get item and position 0 if its not visible. I searched before ask i tried this solutions, but can't prevent recycling of the views (i know that this is not good solution but i`m stuck and can't figure it out better) :</p>\n\n<pre><code>  educationRv.recycledViewPool.setMaxRecycledViews(1,0)\n\n  override fun getItemViewType(position: Int): Int {\n        return 1\n  }\n\n  override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        if (holder != null) {\n            holder.setIsRecyclable(false)\n   }\n</code></pre>\n\n<p>Generalized -> i have recyclerview with 20 edittexts which can be added dynamically, when user click save i need to get all edittexts values and save it to array, the problem comes when button save is clicked only two or three views are visible when i try to get not visible return null</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1566976871, "post_id": 57686832, "comment_id": 101819033, "body": "avoid the <code>GlobalScope</code> please"}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1566977125, "post_id": 57686832, "comment_id": 101819153, "body": "why? It seems ok for fire-and-forget things"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1566977193, "post_id": 57686832, "comment_id": 101819193, "body": "<a href=\"https://medium.com/@elizarov/the-reason-to-avoid-globalscope-835337445abc\" rel=\"nofollow noreferrer\">Are you sure?</a>"}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1566977899, "post_id": 57686832, "comment_id": 101819499, "body": "yep, when I&#39;m launching a fire-and-forget job I don&#39;t want to track its completion. Or do you mean something else?"}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 1, "last_activity_date": 1566976497, "creation_date": 1566976497, "answer_id": 57686832, "question_id": 57685994, "link": "https://stackoverflow.com/questions/57685994/how-to-launch-a-coroutine-that-keeps-running-after-the-suspending-function-calle/57686832#57686832", "title": "How to launch a coroutine that keeps running after the suspending function caller returns?", "body": "<p>If you want to just fire-and-forget coroutine you don't even need suspend function. You can just use <code>GlobalScope</code></p>\n\n<pre><code>fun test() {\n    GlobalScope.launch {\n        while (true) {\n            delay(1000)\n            println(\"I'm alive\")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 449, "user_id": 11696949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114e57ccd2017cc41009044eea60d12e?s=128&d=identicon&r=PG&f=1", "display_name": "Zeeshan Fareed", "link": "https://stackoverflow.com/users/11696949/zeeshan-fareed"}, "is_accepted": false, "score": 1, "last_activity_date": 1599118518, "last_edit_date": 1599118518, "creation_date": 1566977115, "answer_id": 57687001, "question_id": 57685994, "link": "https://stackoverflow.com/questions/57685994/how-to-launch-a-coroutine-that-keeps-running-after-the-suspending-function-calle/57687001#57687001", "title": "How to launch a coroutine that keeps running after the suspending function caller returns?", "body": "<p>Check this:</p>\n<pre><code>fun abc(){\n     GlobalScope.launch(Dispatchers.IO) {\n            try {\n                while (true) {\n                    delay(10000)\n                }\n            } catch (e: Exception) {\n                Timber.e(e)\n     }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": -1, "last_activity_date": 1566977117, "creation_date": 1566977117, "answer_id": 57687002, "question_id": 57685994, "link": "https://stackoverflow.com/questions/57685994/how-to-launch-a-coroutine-that-keeps-running-after-the-suspending-function-calle/57687002#57687002", "title": "How to launch a coroutine that keeps running after the suspending function caller returns?", "body": "<p>Once you are inside the coroutine, you should just save the suspending function return type in a variable and that's all. </p>\n\n<p>For example, if you do: </p>\n\n<pre><code>coroutineScope.launch{\n thisIsASuspendingMethod()\n thisIsAlsoASuspendingMethod()\n}\n</code></pre>\n\n<p>No one can assure you that the first method will end its execution first, because that is what a <code>suspend</code> method does, runs slow code.</p>\n\n<p>But, if you use: </p>\n\n<pre><code>coroutineScope.launch{\n     val retreiveData = thisIsASuspendingMethod()\n     if(retreiveData.isSucessful()){\n       thisIsAlsoASuspendingMethod()\n     }\n    }\n</code></pre>\n\n<p>And also, I suggest you to read more about coroutines, just because of this statement you make:</p>\n\n<blockquote>\n  <p>For example, from a suspending function, how do we launch a coroutine\n  to fire-and-forget an http request</p>\n</blockquote>\n\n<p>Coroutines are launched in order to run the <code>suspend</code> methods, not otherwise. \nSince coroutines just run slow code, you may want to consider a suspending method inside the suspending method. </p>\n"}], "owner": {"reputation": 6057, "user_id": 49881, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d04b84e6ffd0c36ed6767c66da22bf6e?s=128&d=identicon&r=PG", "display_name": "Newbie", "link": "https://stackoverflow.com/users/49881/newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 57686832, "answer_count": 3, "score": 0, "last_activity_date": 1599118518, "creation_date": 1566972375, "question_id": 57685994, "link": "https://stackoverflow.com/questions/57685994/how-to-launch-a-coroutine-that-keeps-running-after-the-suspending-function-calle", "title": "How to launch a coroutine that keeps running after the suspending function caller returns?", "body": "<p>For example, from a suspending function, how do we launch a coroutine to fire-and-forget an http request? That is, the suspending function launching the coroutine can return while the http request may be in-flight. (e.g. to trigger a side-effect http request to capture analytics/metrics).</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 730, "user_id": 7649582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cQ8M7.jpg?s=128&g=1", "display_name": "Dhanshri", "link": "https://stackoverflow.com/users/7649582/dhanshri"}, "is_accepted": false, "score": -2, "last_activity_date": 1566973203, "creation_date": 1566973203, "answer_id": 57686144, "question_id": 57685725, "link": "https://stackoverflow.com/questions/57685725/mediastore-mediacolumns-data-is-deprecated-and-i-want-to-load-images-from-galle/57686144#57686144", "title": "MediaStore.MediaColumns.DATA is deprecated, and I want to load images from gallery to my app", "body": "<p>Loading images from internal store.Reading all folders which has images and videos using MediaStore class.</p>\n\n<p>And returning result as ArrayList.</p>\n\n<pre><code>private fun getAllShownImagesPath(activity: Activity): ArrayList&lt;Albums&gt; {\n\nval uri: Uri\nval cursor: Cursor\nvar cursorBucket: Cursor\nval column_index_data: Int\nval column_index_folder_name: Int\nval listOfAllImages = ArrayList&lt;String&gt;()\nvar absolutePathOfImage: String? = null\nvar albumsList = ArrayList&lt;Albums&gt;()\nvar album: Albums? = null\n\n\nval BUCKET_GROUP_BY = \"1) GROUP BY 1,(2\"\nval BUCKET_ORDER_BY = \"MAX(datetaken) DESC\"\n\nuri = android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI\n\nval projection = arrayOf(MediaStore.Images.ImageColumns.BUCKET_ID,\n        MediaStore.Images.ImageColumns.BUCKET_DISPLAY_NAME,\n        MediaStore.Images.ImageColumns.DATE_TAKEN,\n        MediaStore.Images.ImageColumns.DATA)\n\ncursor = activity.contentResolver.query(uri, projection, BUCKET_GROUP_BY, null, BUCKET_ORDER_BY)\n\nif (cursor != null) {\n    column_index_data = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA)\n    column_index_folder_name = cursor\n            .getColumnIndexOrThrow(MediaStore.Images.Media.BUCKET_DISPLAY_NAME)\n    while (cursor.moveToNext()) {\n        absolutePathOfImage = cursor.getString(column_index_data)\n        Log.d(\"title_apps\", \"bucket name:\" + cursor.getString(column_index_data))\n\n        val selectionArgs = arrayOf(\"%\" + cursor.getString(column_index_folder_name) + \"%\")\n        val selection = MediaStore.Images.Media.DATA + \" like ? \"\n        val projectionOnlyBucket = arrayOf(MediaStore.MediaColumns.DATA, MediaStore.Images.Media.BUCKET_DISPLAY_NAME)\n\n        cursorBucket = activity.contentResolver.query(uri, projectionOnlyBucket, selection, selectionArgs, null)\n        Log.d(\"title_apps\", \"bucket size:\" + cursorBucket.count)\n\n        if (absolutePathOfImage != \"\" &amp;&amp; absolutePathOfImage != null) {\n            listOfAllImages.add(absolutePathOfImage)\n            albumsList.add(Albums(cursor.getString(column_index_folder_name), absolutePathOfImage, cursorBucket.count, false))\n        }\n    }\n}\nreturn getListOfVideoFolders(albumsList)\n}\n</code></pre>\n\n<p>// This function is resposible to read all videos from all folders.</p>\n\n<pre><code>private fun getListOfVideoFolders(albumsList: ArrayList&lt;Albums&gt;): ArrayList&lt;Albums&gt; {\nvar cursor: Cursor\nvar cursorBucket: Cursor\nvar uri: Uri\nval BUCKET_GROUP_BY = \"1) GROUP BY 1,(2\"\nval BUCKET_ORDER_BY = \"MAX(datetaken) DESC\"\nval column_index_album_name: Int\nval column_index_album_video: Int\n\nuri = android.provider.MediaStore.Video.Media.EXTERNAL_CONTENT_URI\n\nval projection1 = arrayOf(MediaStore.Video.VideoColumns.BUCKET_ID,\n        MediaStore.Video.VideoColumns.BUCKET_DISPLAY_NAME,\n        MediaStore.Video.VideoColumns.DATE_TAKEN,\n        MediaStore.Video.VideoColumns.DATA)\n\ncursor = this.contentResolver.query(uri, projection1, BUCKET_GROUP_BY, null, BUCKET_ORDER_BY)\n\nif (cursor != null) {\n    column_index_album_name = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.BUCKET_DISPLAY_NAME)\n    column_index_album_video = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA)\n    while (cursor.moveToNext()) {\n        Log.d(\"title_apps\", \"bucket video:\" + cursor.getString(column_index_album_name))\n        Log.d(\"title_apps\", \"bucket video:\" + cursor.getString(column_index_album_video))\n        val selectionArgs = arrayOf(\"%\" + cursor.getString(column_index_album_name) + \"%\")\n\n        val selection = MediaStore.Video.Media.DATA + \" like ? \"\n        val projectionOnlyBucket = arrayOf(MediaStore.MediaColumns.DATA, MediaStore.Video.Media.BUCKET_DISPLAY_NAME)\n\n        cursorBucket = this.contentResolver.query(uri, projectionOnlyBucket, selection, selectionArgs, null)\n        Log.d(\"title_apps\", \"bucket size:\" + cursorBucket.count)\n\n        albumsList.add(Albums(cursor.getString(column_index_album_name), cursor.getString(column_index_album_video), cursorBucket.count, true))\n    }\n}\nreturn albumsList\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 301, "user_id": 10130045, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_n5qzAL7XYw/AAAAAAAAAAI/AAAAAAAAM3w/TlntDQvLL7k/photo.jpg?sz=128", "display_name": "Daniel Bentes", "link": "https://stackoverflow.com/users/10130045/daniel-bentes"}, "edited": false, "score": 1, "creation_date": 1570027163, "post_id": 58203497, "comment_id": 102785727, "body": "you can also use &quot;cursor.getString()&quot;, I didn&#39;t get to test it, but it might look better than &quot;cursor.getLont()&quot;"}], "tags": [], "owner": {"reputation": 301, "user_id": 10130045, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_n5qzAL7XYw/AAAAAAAAAAI/AAAAAAAAM3w/TlntDQvLL7k/photo.jpg?sz=128", "display_name": "Daniel Bentes", "link": "https://stackoverflow.com/users/10130045/daniel-bentes"}, "is_accepted": false, "score": 19, "last_activity_date": 1570027454, "last_edit_date": 1570027454, "creation_date": 1570026167, "answer_id": 58203497, "question_id": 57685725, "link": "https://stackoverflow.com/questions/57685725/mediastore-mediacolumns-data-is-deprecated-and-i-want-to-load-images-from-galle/58203497#58203497", "title": "MediaStore.MediaColumns.DATA is deprecated, and I want to load images from gallery to my app", "body": "<p>I was able to replace MediaStore.MediaColumns.Data with its own file ID (incredibly, files have IDs) and correctly constructing its URI, like this:</p>\n\n<pre><code>fun getAllShownImagesPath(activity: Activity): MutableList&lt;Uri&gt; {\n    val uriExternal: Uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI\n    val cursor: Cursor?\n    val columnIndexID: Int\n    val listOfAllImages: MutableList&lt;Uri&gt; = mutableListOf()\n    val projection = arrayOf(MediaStore.Images.Media._ID)\n    var imageId: Long\n    cursor = activity.contentResolver.query(uriExternal, projection, null, null, null)\n    if (cursor != null) {\n        columnIndexID = cursor.getColumnIndexOrThrow(MediaStore.Images.Media._ID)\n        while (cursor.moveToNext()) {\n            imageId = cursor.getLong(columnIndexID)\n            val uriImage = Uri.withAppendedPath(uriExternal, \"\" + imageId)\n            listOfAllImages.add(uriImage)\n        }\n        cursor.close()\n    }\n    return listOfAllImages\n}\n</code></pre>\n\n<p><strong>and then with Uri you build it in your Views!</strong></p>\n"}, {"comments": [{"owner": {"reputation": 2119, "user_id": 246392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1d329b97f412a32f713ce0c21a7b2be8?s=128&d=identicon&r=PG", "display_name": "user246392", "link": "https://stackoverflow.com/users/246392/user246392"}, "edited": false, "score": 1, "creation_date": 1599585698, "post_id": 60209477, "comment_id": 112816616, "body": "Previously, I was loading all images with <code>Glide</code> using the file paths. How can I use Glide with <code>openFileDescriptor</code>? Like you, I was unable to get things working only with the <code>Uri</code>."}, {"owner": {"reputation": 801, "user_id": 6039129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o7xF3.jpg?s=128&g=1", "display_name": "Ashir Mehmood", "link": "https://stackoverflow.com/users/6039129/ashir-mehmood"}, "reply_to_user": {"reputation": 2119, "user_id": 246392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1d329b97f412a32f713ce0c21a7b2be8?s=128&d=identicon&r=PG", "display_name": "user246392", "link": "https://stackoverflow.com/users/246392/user246392"}, "edited": false, "score": 0, "creation_date": 1613971105, "post_id": 60209477, "comment_id": 117230816, "body": "@user246392 I am late to answer but you can simply use the generated contentUri as  in the answer above with Glide. val contentUri = ContentUris.withAppendedId(uri, cursor.getLong(columnIndexId))"}], "tags": [], "owner": {"reputation": 134, "user_id": 12465102, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAwanGYaqPKO3XrvvkLT6ijDILqKLXPrNRilGKT6Q=k-s128", "display_name": "Daniil Antsyferov", "link": "https://stackoverflow.com/users/12465102/daniil-antsyferov"}, "is_accepted": false, "score": 3, "last_activity_date": 1581601990, "creation_date": 1581601990, "answer_id": 60209477, "question_id": 57685725, "link": "https://stackoverflow.com/questions/57685725/mediastore-mediacolumns-data-is-deprecated-and-i-want-to-load-images-from-galle/60209477#60209477", "title": "MediaStore.MediaColumns.DATA is deprecated, and I want to load images from gallery to my app", "body": "<p>I managed to come up with the following solution, its kind of an addition to the previous <a href=\"https://stackoverflow.com/questions/57685725/mediastore-mediacolumns-data-is-deprecated-and-i-wanna-load-images-from-gallery/58203497#58203497\">answer</a> </p>\n\n<p>but there I still couldn't load images with the obtained Uri. \n<a href=\"https://developer.android.com/reference/android/provider/MediaStore.MediaColumns\" rel=\"nofollow noreferrer\">Documentation</a> suggested to use openFileDescriptor() which I did and then decoded images' bitmaps from it:</p>\n\n<pre><code>override fun loadImagesFromStorage(): List&lt;AdapterImage&gt; {\n\n    val uri: Uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI\n    val cursor: Cursor?\n    val columnIndexId: Int\n    val listOfAllImages = mutableListOf&lt;AdapterImage&gt;()\n    val projection = arrayOf(MediaStore.Images.Media._ID)\n    cursor = context.contentResolver\n        .query( uri, projection, null, null, null)\n\n    if ( cursor != null ){\n        columnIndexId = cursor.getColumnIndexOrThrow(MediaStore.Images.Media._ID)\n        while (cursor.moveToNext()){\n\n            val contentUri = ContentUris.withAppendedId(uri, cursor.getLong(columnIndexId))\n\n            //here I open FileDescriptor and then decode it into Bitmap\n            var image: Bitmap\n            context.contentResolver.openFileDescriptor(contentUri, \"r\").use { pfd -&gt;\n                if( pfd != null ){\n                    image = BitmapFactory.decodeFileDescriptor(pfd.fileDescriptor)\n                    listOfAllImages.add(AdapterImage(image))\n                }\n            }\n\n        }\n        cursor.close()\n    }\n\n    return listOfAllImages\n}\n</code></pre>\n\n<p>P.S. My method will return a list of AdapterImage objects that I use later in app but you can put anything you need there at this point</p>\n"}, {"comments": [{"owner": {"reputation": 493, "user_id": 9755518, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bkvl6-k4Zb4/AAAAAAAAAAI/AAAAAAAAE58/23egDgbKqFw/photo.jpg?sz=128", "display_name": "Mateo Hervas", "link": "https://stackoverflow.com/users/9755518/mateo-hervas"}, "edited": false, "score": 0, "creation_date": 1593030282, "post_id": 62126163, "comment_id": 110640798, "body": "cursor.moveToFirst() still returns false when path.contains(&quot;/document/image:&quot;) is true."}], "tags": [], "owner": {"reputation": 151, "user_id": 10067515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-geU9j8gBD5c/AAAAAAAAAAI/AAAAAAAAAQ4/K8krScMO5hs/photo.jpg?sz=128", "display_name": "Diego Sanchez", "link": "https://stackoverflow.com/users/10067515/diego-sanchez"}, "is_accepted": false, "score": 0, "last_activity_date": 1590989041, "creation_date": 1590989041, "answer_id": 62126163, "question_id": 57685725, "link": "https://stackoverflow.com/questions/57685725/mediastore-mediacolumns-data-is-deprecated-and-i-want-to-load-images-from-galle/62126163#62126163", "title": "MediaStore.MediaColumns.DATA is deprecated, and I want to load images from gallery to my app", "body": "<p>I finally solved the problem by creating this class</p>\n\n<pre><code>class FileHelper {\nval mediaType = \"multipart/form-data\".toMediaTypeOrNull()\n\nfun getPartBodyFromUri(context: Context, uri: Uri): MultipartBody.Part {\n    val realPath = getPathFromURI(context, uri)\n    val fileImage = createFile(realPath)\n    val requestBody = createRequestBody(fileImage)\n    return createPart(fileImage, requestBody)\n}\n\nprivate fun createFile(realPath: String): File {\n    return File(realPath)\n}\n\nprivate fun createRequestBody(file: File): RequestBody {\n    return file.asRequestBody(mediaType)\n}\n\nprivate fun createPart(file: File, requestBody: RequestBody): MultipartBody.Part {\n    return MultipartBody.Part.createFormData(\"imageFile\", file.name, requestBody)\n}\n\nprivate fun getPathFromURI(context: Context, uri: Uri): String {\n    var realPath = String()\n    uri.path?.let { path -&gt;\n\n        val databaseUri: Uri\n        val selection: String?\n        val selectionArgs: Array&lt;String&gt;?\n        if (path.contains(\"/document/image:\")) { // files selected from \"Documents\"\n            databaseUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI\n            selection = \"_id=?\"\n            selectionArgs = arrayOf(DocumentsContract.getDocumentId(uri).split(\":\")[1])\n        } else { // files selected from all other sources, especially on Samsung devices\n            databaseUri = uri\n            selection = null\n            selectionArgs = null\n        }\n        try {\n            val column = \"_data\"\n            val projection = arrayOf(column)\n            val cursor = context.contentResolver.query(\n                databaseUri,\n                projection,\n                selection,\n                selectionArgs,\n                null\n            )\n            cursor?.let {\n                if (it.moveToFirst()) {\n                    val columnIndex = cursor.getColumnIndexOrThrow(column)\n                    realPath = cursor.getString(columnIndex)\n                }\n                cursor.close()\n            }\n        } catch (e: Exception) {\n            println(e)\n        }\n    }\n    return realPath\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Media.DATA it's deprecate and \"MediaStore.Images.Media._ID\" to get the  correct column, not working so I create column I need</p>\n\n<pre><code>val column = \"_data\"\nval projection = arrayOf(column)\n</code></pre>\n\n<p>then I use getColumnIndexOrThrow() method to get correct index</p>\n\n<pre><code>val columnIndex = cursor.getColumnIndexOrThrow(column)\nrealPath = cursor.getString(columnIndex)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 13124119, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gi8-Dhab83nfAK8YuaEopi-Pdooa5ugBIQGD9rvQA=k-s128", "display_name": "Kamal Panara", "link": "https://stackoverflow.com/users/13124119/kamal-panara"}, "edited": false, "score": 0, "creation_date": 1619033486, "post_id": 66032034, "comment_id": 118785653, "body": "returnedJSON means?"}, {"owner": {"reputation": 795, "user_id": 5313355, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MsS8m.png?s=128&g=1", "display_name": "JAnton", "link": "https://stackoverflow.com/users/5313355/janton"}, "reply_to_user": {"reputation": 103, "user_id": 13124119, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gi8-Dhab83nfAK8YuaEopi-Pdooa5ugBIQGD9rvQA=k-s128", "display_name": "Kamal Panara", "link": "https://stackoverflow.com/users/13124119/kamal-panara"}, "edited": false, "score": 1, "creation_date": 1619164078, "post_id": 66032034, "comment_id": 118826781, "body": "@KamalPanara shouldn&#39;t have been there, removed"}], "tags": [], "owner": {"reputation": 795, "user_id": 5313355, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MsS8m.png?s=128&g=1", "display_name": "JAnton", "link": "https://stackoverflow.com/users/5313355/janton"}, "is_accepted": false, "score": 0, "last_activity_date": 1619164108, "last_edit_date": 1619164108, "creation_date": 1612371071, "answer_id": 66032034, "question_id": 57685725, "link": "https://stackoverflow.com/questions/57685725/mediastore-mediacolumns-data-is-deprecated-and-i-want-to-load-images-from-galle/66032034#66032034", "title": "MediaStore.MediaColumns.DATA is deprecated, and I want to load images from gallery to my app", "body": "<p>In Java</p>\n<pre><code>FileInputStream input = null;\n    FileOutputStream output = null;\n    try {\n        String filePath = new File(getCacheDir(), &quot;tmp&quot;).getAbsolutePath();\n        android.os.ParcelFileDescriptor pfd = getContentResolver ().openFileDescriptor(\n            sharedFileUri, &quot;r&quot;);\n        if (pfd != null) {\n            FileDescriptor fd = pfd . getFileDescriptor ();\n            input = new FileInputStream (fd);\n            output = new FileOutputStream (filePath);\n            int read;\n            byte[] bytes = new byte[4096];\n            while ((read = input.read(bytes)) != -1) {\n                output.write(bytes, 0, read);\n            }\n            File sharedFile = new File(filePath);\n            String finalPath = sharedFile.getPath();\n        }\n    }catch(Exception ex) {\n    } finally {\n        try {\n            input.close();\n            output.close();\n        } catch (Exception ignored) {\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 11987204, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD8_ORe77e5bJ30nXbF23YU7fikzWWUW9JTcDRdeA=k-s128", "display_name": "Said Oubella", "link": "https://stackoverflow.com/users/11987204/said-oubella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19020, "favorite_count": 8, "answer_count": 5, "score": 14, "last_activity_date": 1619164108, "creation_date": 1566970955, "last_edit_date": 1608424323, "question_id": 57685725, "link": "https://stackoverflow.com/questions/57685725/mediastore-mediacolumns-data-is-deprecated-and-i-want-to-load-images-from-galle", "title": "MediaStore.MediaColumns.DATA is deprecated, and I want to load images from gallery to my app", "body": "<p>I want to load all the pictures from the galley to my app by using MediaStore.MediaColumns.DATA , but it is deprecated. So, what is the other way to load them?</p>\n<p>I use this code now, but it is deprecated as I said:</p>\n<pre><code>fun getAllShownImagesPath(activity: Activity): MutableList&lt;String&gt; {\n    val uri: Uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI\n    val cursor: Cursor?\n    val columnIndexData: Int\n    val listOfAllImages: MutableList&lt;String&gt; = mutableListOf()\n    val projection = arrayOf(MediaStore.MediaColumns.DATA)\n    var absolutePathOfImage: String\n    cursor = activity.contentResolver.query(uri, projection, null, null, null)\n    if (cursor != null) {\n        columnIndexData = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA)\n        while (cursor.moveToNext()) {\n            absolutePathOfImage = cursor.getString(columnIndexData)\n            listOfAllImages.add(absolutePathOfImage)\n        }\n        cursor.close()\n    }\n    return listOfAllImages\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1566971261, "post_id": 57685687, "comment_id": 101816903, "body": "There&#39;s nothing in that link that shows the example I have provided. They just show examples like +a, a++. The plus sign is clearly bound to the type whereas the example I gave show a space on both sides of the + with no indication as to what type it is bound to. I am quite certain that this has nothing to do with overloading. It appears to be something specific to collections as indicated here: <a href=\"https://kotlinlang.org/docs/reference/collection-plus-minus.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/collection-plus-minus.html</a>"}, {"owner": {"reputation": 3587, "user_id": 4915707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ubv91.jpg?s=128&g=1", "display_name": "Alexander Ushakov", "link": "https://stackoverflow.com/users/4915707/alexander-ushakov"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1566971572, "post_id": 57685687, "comment_id": 101816994, "body": "@AndroidDev For binary operations like <code>+</code> method is called for left-hand type as it is described in the link: <code>a + b</code> is equal to call <code>a.plus(b)</code>"}, {"owner": {"reputation": 3587, "user_id": 4915707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ubv91.jpg?s=128&g=1", "display_name": "Alexander Ushakov", "link": "https://stackoverflow.com/users/4915707/alexander-ushakov"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1566971802, "post_id": 57685687, "comment_id": 101817068, "body": "In your example method plus of class CoroutineExceptionHandler is called as exceptionHandler object has this type. And than method plus is called again for second + operator."}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1566971998, "post_id": 57685687, "comment_id": 101817133, "body": "You&#39;re right. Buried in the source code for CoroutineExceptionHandler is: public override fun plus(context: CoroutineContext): CoroutineContext = context"}], "tags": [], "owner": {"reputation": 3587, "user_id": 4915707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ubv91.jpg?s=128&g=1", "display_name": "Alexander Ushakov", "link": "https://stackoverflow.com/users/4915707/alexander-ushakov"}, "is_accepted": true, "score": 3, "last_activity_date": 1566970744, "creation_date": 1566970744, "answer_id": 57685687, "question_id": 57685635, "link": "https://stackoverflow.com/questions/57685635/how-does-kotlin-know-how-to-carry-out-the-plus-operator/57685687#57685687", "title": "How does Kotlin know how to carry out the plus operator", "body": "<p><code>+</code> is just an operator which calls special method of class: <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/operator-overloading.html</a>\nFor different classes this method does different things such as adding numbers, concatenating strings, etc.</p>\n\n<p>You can apply your own implementation of operators for custom classes.</p>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 57685687, "answer_count": 1, "score": 2, "last_activity_date": 1566970744, "creation_date": 1566970400, "last_edit_date": 1566970729, "question_id": 57685635, "link": "https://stackoverflow.com/questions/57685635/how-does-kotlin-know-how-to-carry-out-the-plus-operator", "title": "How does Kotlin know how to carry out the plus operator", "body": "<p>In Kotlin, you can use the plus sign to combine a number of contexts:</p>\n\n<pre><code>val exceptionHandler = CoroutineExceptionHandler { context, exception -&gt;\n    println(exception.message)\n}\n\nval threadPool = Dispatchers.IO\nval job = Job()\n\nGlobalScope.launch(exceptionHandler + threadPool + job) {\n    throw Exception(\"Bad robot\")\n}\n</code></pre>\n\n<p>I'm use to seeing the plus sign used for adding numbers or joining strings together. But apparently it can be used for other things as well. How does Kotlin know how to perform an operation on some arbitrary object using the plus sign?</p>\n\n<p>If I look at the documentation for Collections, it shows an example of where a + or - sign can be used to merge or remove items from collections:</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/collection-plus-minus.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/collection-plus-minus.html</a></p>\n\n<p>That implies that Kotlin must somehow have to know how to carry out the operation of adding or removing items to a collection. I assume that if I wanted to create my own overload for + or -, I would have to define it somehow.</p>\n"}, {"tags": ["android", "kotlin", "android-fingerprint-api", "android-biometric"], "answers": [{"tags": [], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "is_accepted": false, "score": 0, "last_activity_date": 1566969329, "creation_date": 1566969329, "answer_id": 57685474, "question_id": 57685358, "link": "https://stackoverflow.com/questions/57685358/fingerprintmanager-ishardwaredetected-always-return-true/57685474#57685474", "title": "&quot;fingerprintManager!!.isHardwareDetected&quot; always return true", "body": "<p>Ensure that you're using</p>\n\n<pre><code>&lt;uses-permission android:name=\" android.permission.USE_BIOMETRIC\" /&gt;\n</code></pre>\n\n<p>Also</p>\n\n<pre><code>if(ActivityCompat.checkSelfPermission(AppContext, Manifest.permission.USE_BIOMETRIC) == PackageManager.PERMISSION_GRANTED)\n{ if (!fingerprintManager!!.isHardwareDetected)\n     {  //permission granted but no hardware present\n     } else {\n        //permission granted and hardware present\n} else {\n   // Permission not granted }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 768, "user_id": 11798929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QDnuo.jpg?s=128&g=1", "display_name": "Isai Damier", "link": "https://stackoverflow.com/users/11798929/isai-damier"}, "is_accepted": false, "score": 0, "last_activity_date": 1574879016, "creation_date": 1574879016, "answer_id": 59076393, "question_id": 57685358, "link": "https://stackoverflow.com/questions/57685358/fingerprintmanager-ishardwaredetected-always-return-true/59076393#59076393", "title": "&quot;fingerprintManager!!.isHardwareDetected&quot; always return true", "body": "<p>You should migrate from using <code>FingerprintManager</code> to <code>BiometricPrompt</code>. There is <a href=\"https://medium.com/@isaidamier/migrating-from-fingerprintmanager-to-biometricprompt-4bc5f570dccd\" rel=\"nofollow noreferrer\">a blog that shows just how to do so</a>.</p>\n\n<p>Unlike with the <code>FingerprintManager</code> API, you can check whether a device supports biometric authentication with a single method call: <code>BiometricManager.from(context).canAuthenticate()</code>. This singular method call checks whether there is biometric hardware available on the device, whether the user has enrolled templates, and whether the user has enabled biometric authentication. If all three are not true, then the biometric prompt cannot be shown. It's a highly convenient method that handles all the complexities for you.</p>\n\n<pre><code>// Callback for the \"authenticate\" button in your app's UI.\noverride fun onClick(view: View) {\n   val promptInfo = createPromptInfo()\n   if (BiometricManager.from(context)\n               .canAuthenticate() == BiometricManager.BIOMETRIC_SUCCESS) {\n       biometricPrompt.authenticate(promptInfo, cryptoObject)\n   } else {\n       loginWithPassword()\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11441223, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-idJRjwsQA4M/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcADJ3TWpSNi5HKU-882flWVcBLTg/mo/photo.jpg?sz=128", "display_name": "Phone Lin", "link": "https://stackoverflow.com/users/11441223/phone-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574879016, "creation_date": 1566968642, "last_edit_date": 1566969743, "question_id": 57685358, "link": "https://stackoverflow.com/questions/57685358/fingerprintmanager-ishardwaredetected-always-return-true", "title": "&quot;fingerprintManager!!.isHardwareDetected&quot; always return true", "body": "<p><a href=\"https://i.stack.imgur.com/X6xFr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X6xFr.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to know, the device on which my app running is support fingerprint or not.</p>\n\n<p>But </p>\n\n<pre><code>if(!fingerprintManager!!.isHardwareDetected)\n{\n Toast.makeText(context,\"Your device doesn't support fingerprint authentication\", Toast.LENGTH_SHORT).show()\n} \n</code></pre>\n\n<p>always return true for any device.</p>\n"}, {"tags": ["android", "kotlin", "webview", "google-forms"], "answers": [{"comments": [{"owner": {"reputation": 942, "user_id": 10385054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QB8p8.png?s=128&g=1", "display_name": "Rahul Khatri", "link": "https://stackoverflow.com/users/10385054/rahul-khatri"}, "edited": false, "score": 0, "creation_date": 1572427770, "post_id": 58163386, "comment_id": 103552523, "body": "Thanks, please explain Your solution as looks complex. I took only few method which i found relevant."}], "tags": [], "owner": {"reputation": 2802, "user_id": 5173119, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/M9xSC.jpg?s=128&g=1", "display_name": "Sasank Sunkavalli", "link": "https://stackoverflow.com/users/5173119/sasank-sunkavalli"}, "is_accepted": true, "score": 3, "last_activity_date": 1569828889, "creation_date": 1569828889, "answer_id": 58163386, "question_id": 57685214, "link": "https://stackoverflow.com/questions/57685214/google-forum-short-url-not-working-in-android-app-webview/58163386#58163386", "title": "Google Forum short URL not working in Android app Webview", "body": "<p>To fix these type of Issues , we have to ovveride <strong>shouldOverrideUrlLoading</strong> method of the WebView Client that we set to Webview. Sometimes the overriding urls can start with <strong>intent</strong>, so they have to be handled in other way. Attached the sample Code below.</p>\n\n<pre><code>webView.setWebViewClient(new WebViewClient() {\n\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView webView, String url) {\n            if (url.startsWith(\"http:\") || url.startsWith(\"https:\")) {\n                return false;\n            } else {\n                if (url.startsWith(\"intent://\")) {\n                    try {\n                        Context context = webView.getContext();\n                        Intent intent = Intent.parseUri(url, Intent.URI_INTENT_SCHEME);\n                        if (intent != null) {\n                            PackageManager packageManager = context.getPackageManager();\n                            ResolveInfo info = packageManager.resolveActivity(intent,\n                                    PackageManager.MATCH_DEFAULT_ONLY);\n                            // This IF statement can be omitted if you are not strict about \n                            // opening the Google form url in WebView &amp; can be opened in an \n                            // External Browser \n                            if ((intent != null) &amp;&amp; ((intent.getScheme().equals(\"https\"))\n                                    || (intent.getScheme().equals(\"http\")))) {\n                                String fallbackUrl = intent.getStringExtra(\n                                        \"browser_fallback_url\");\n                                webView.loadUrl(fallbackUrl);\n                                return true;\n                            }\n                            if (info != null) {\n                                context.startActivity(intent);\n                            } else {\n                                // Call external broswer\n                                String fallbackUrl = intent.getStringExtra(\n                                        \"browser_fallback_url\");\n                                Intent browserIntent = new Intent(Intent.ACTION_VIEW,\n                                        Uri.parse(fallbackUrl));\n                                context.startActivity(browserIntent);\n                            }\n                            return true;\n                        } else {\n                            return false;\n                        }\n                    } catch (Exception e) {\n                        return false;\n                    }\n                } else {\n                    Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\n                    webView.getContext().startActivity(intent);\n                    return true;\n                }\n            }\n        }\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 942, "user_id": 10385054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QB8p8.png?s=128&g=1", "display_name": "Rahul Khatri", "link": "https://stackoverflow.com/users/10385054/rahul-khatri"}, "is_accepted": false, "score": 1, "last_activity_date": 1572428023, "creation_date": 1572428023, "answer_id": 58622318, "question_id": 57685214, "link": "https://stackoverflow.com/questions/57685214/google-forum-short-url-not-working-in-android-app-webview/58622318#58622318", "title": "Google Forum short URL not working in Android app Webview", "body": "<p>Solution in kotlin by Google support <a href=\"https://support.google.com/docs/thread/12941044?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/docs/thread/12941044?hl=en</a> </p>\n\n<pre><code>override fun shouldOverrideUrlLoading(view: WebView, url: String): Boolean {\n\n                if (url.startsWith(\"intent://\")){\n                    val intent = Intent.parseUri(url, Intent.URI_INTENT_SCHEME)\n                    if(intent != null){\n                        val fallbackUrl = intent.getStringExtra(\"browser_fallback_url\")\n                        return if (fallbackUrl != null){\n                            mDiscourse?.loadUrl(fallbackUrl)\n                            true\n                        } else {\n                            false\n                        }\n                    }\n                }\n\n                return super.shouldOverrideUrlLoading(view, url)\n            }\n</code></pre>\n"}], "owner": {"reputation": 942, "user_id": 10385054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QB8p8.png?s=128&g=1", "display_name": "Rahul Khatri", "link": "https://stackoverflow.com/users/10385054/rahul-khatri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7921, "favorite_count": 2, "accepted_answer_id": 58163386, "answer_count": 2, "score": 2, "last_activity_date": 1619153697, "creation_date": 1566967659, "question_id": 57685214, "link": "https://stackoverflow.com/questions/57685214/google-forum-short-url-not-working-in-android-app-webview", "title": "Google Forum short URL not working in Android app Webview", "body": "<p>I am using Google forum in website to fill detail, using that website in Webview of android app. When i try to open the Google forum short link in Webview is showing error : <strong>net::ERR_UNKNOWN_URL_SCHEME,  error code :  -10.</strong></p>\n\n<p>And in webview Screen it show this line :\n<code>intent://&lt;a href=\"https://docs.google.com/forms/d/e/##########/viewform%3Fusp%3Dsend_form;end\"&gt;forms.gle/************#Intent;package=com.google.android.gms;action=com.google.firebase.dynamiclinks.VIEW_DYNAMIC_LINK;scheme=https;S.browser_fallback_url=https://docs.google.com/forms/d/e/########/viewform%3Fusp%3Dsend_form;end&lt;/a&gt;; could not be loaded because:&lt;br&gt;&lt;br&gt;net::ERR_UNKNOWN_URL_SCHEME</code></p>\n\n<p>Full Url is working fine, Url in browser is working fine.</p>\n\n<p>Language Used : Kotlin,\nAndroid device: Samsung A 10, \nAndroid version: 9 (pie) </p>\n\n<p>Code used:\n<code>webview.loadUrl(\"https://forms.gle/#########\")</code></p>\n\n<p>and used these setting:</p>\n\n<pre><code>webview?.getSettings()?.javaScriptCanOpenWindowsAutomatically = true\nwebview?.getSettings()?.setAppCacheEnabled(true)\nwebview?.getSettings()?.setAppCachePath(this.cacheDir.path)\nwebview?.getSettings()?.cacheMode = WebSettings.LOAD_DEFAULT```\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "event-listener"], "comments": [{"owner": {"reputation": 145, "user_id": 11494331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03747fb09126fb845f4fee694c2f9f88?s=128&d=identicon&r=PG&f=1", "display_name": "oTwo", "link": "https://stackoverflow.com/users/11494331/otwo"}, "edited": false, "score": 0, "creation_date": 1566968111, "post_id": 57685184, "comment_id": 101816076, "body": "May I know the reason for the downvote??"}, {"owner": {"reputation": 1118, "user_id": 11555903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT4Ri.jpg?s=128&g=1", "display_name": "Ben Shmuel", "link": "https://stackoverflow.com/users/11555903/ben-shmuel"}, "edited": false, "score": 0, "creation_date": 1566970309, "post_id": 57685184, "comment_id": 101816625, "body": "Your event listener is attached to a high level node in your db hierarchy , try to design your database that you will only listen to event that occur in a low level nodes"}, {"owner": {"reputation": 145, "user_id": 11494331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03747fb09126fb845f4fee694c2f9f88?s=128&d=identicon&r=PG&f=1", "display_name": "oTwo", "link": "https://stackoverflow.com/users/11494331/otwo"}, "reply_to_user": {"reputation": 1118, "user_id": 11555903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT4Ri.jpg?s=128&g=1", "display_name": "Ben Shmuel", "link": "https://stackoverflow.com/users/11555903/ben-shmuel"}, "edited": false, "score": 0, "creation_date": 1566972052, "post_id": 57685184, "comment_id": 101817158, "body": "Even if I add the listener let&#39;s say on the lower level, let&#39;s say at the location. If any particular user updates his location on the database, the SOS notification gets activated as the data is changing"}, {"owner": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1567026293, "post_id": 57685184, "comment_id": 101843982, "body": "You need to denormalize your data and set up a structure where you are only listening on nodes that have data you want listened to and reacted to. If a user updates his location <i>and is within the radius</i> you want an event to occur, right? I think your structure is causing issues but without code, a better description of the issue and what your Firebase structure looks like we won&#39;t be much help."}], "owner": {"reputation": 145, "user_id": 11494331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03747fb09126fb845f4fee694c2f9f88?s=128&d=identicon&r=PG&f=1", "display_name": "oTwo", "link": "https://stackoverflow.com/users/11494331/otwo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566967341, "creation_date": 1566967341, "question_id": 57685184, "link": "https://stackoverflow.com/questions/57685184/is-there-a-way-to-catch-what-invoked-value-event-listener", "title": "Is there a way to catch what invoked value event listener", "body": "<p>Firebase data can be fetched by a single value event listener or a generalised value event listener. For my case I cannot use single value event listener. The problem is the listener gets triggered even when I do not want to. Let me explain the situation:</p>\n\n<p>I have a number of users in my database who are from a particular locality. The firebase database contains the users as the root and their profile details, along with their location (in Latitude and longitude) as the child nodes. </p>\n\n<p>Now as a simple case,  let's say a user wants to send a SOS for some emergency to other users located within a certain range. For that I perform some distance calculations between the user who is sending the SOS to all other users and make a list of other users who are present within a specified range. Then a notification is send to all these users. Here I use a value event listener to get the location details of the other users to compare with the location of the current user. My code runs as expected till this point. The value event listener is attached to the user node because I have to travel across the user details.</p>\n\n<p>Problem occurs when a user changes his profile details. It evokes the value event listener and the code takes some garbage value of the location of a user sending an SOS. As a result although there is no actual SOS sent, a notification is getting sent.</p>\n\n<p>Hope this explains the problem. I am not being able to provide the code as I am traveling and typing the code from my mobile. Can provide the code in some hours if it is necessary to guide on the problem.</p>\n"}, {"tags": ["android", "kotlin", "android-theme", "android-dark-theme"], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 2446911, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Opmgh.jpg?s=128&g=1", "display_name": "Deepak S. Gavkar", "link": "https://stackoverflow.com/users/2446911/deepak-s-gavkar"}, "reply_to_user": {"reputation": 2702, "user_id": 7254873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jfQVFidpSlo/AAAAAAAAAAI/AAAAAAAAAFM/DBb8C8t0w64/photo.jpg?sz=128", "display_name": "Sumit Shukla", "link": "https://stackoverflow.com/users/7254873/sumit-shukla"}, "edited": false, "score": 0, "creation_date": 1566967448, "post_id": 57685102, "comment_id": 101815927, "body": "He wants to know whether dark mode is enabled or not which is feature of Android Q."}, {"owner": {"reputation": 429, "user_id": 8310101, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wTH2MSzhiBU/AAAAAAAAAAI/AAAAAAABZjs/8kDDzYQW_yc/photo.jpg?sz=128", "display_name": "Izadi Egizabal", "link": "https://stackoverflow.com/users/8310101/izadi-egizabal"}, "edited": false, "score": 0, "creation_date": 1566976731, "post_id": 57685102, "comment_id": 101818970, "body": "This wasn&#39;t exactly what I wanted since I wanted to check during start time, not when a change was produced. But it pointed me in the right direction and found what I was looking. Thank you!"}, {"owner": {"reputation": 1030, "user_id": 8040697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gweOcoKySRk/AAAAAAAAAAI/AAAAAAAAB5E/md0KVQEmuCI/photo.jpg?sz=128", "display_name": "Emi Raz", "link": "https://stackoverflow.com/users/8040697/emi-raz"}, "edited": false, "score": 1, "creation_date": 1592816696, "post_id": 57685102, "comment_id": 110549505, "body": "Why it is needed to set uiMode to configChanges?"}], "tags": [], "owner": {"reputation": 397, "user_id": 2446911, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Opmgh.jpg?s=128&g=1", "display_name": "Deepak S. Gavkar", "link": "https://stackoverflow.com/users/2446911/deepak-s-gavkar"}, "is_accepted": false, "score": 4, "last_activity_date": 1606809213, "last_edit_date": 1606809213, "creation_date": 1566966708, "answer_id": 57685102, "question_id": 57685088, "link": "https://stackoverflow.com/questions/57685088/how-can-i-detect-programmatically-if-the-android-device-is-in-dark-mode/57685102#57685102", "title": "How can I detect programmatically if the Android Device is in Dark Mode?", "body": "<p>You first need to do this changes in manifest</p>\n<pre><code>&lt;activity\n    android:name=&quot;.MyActivity&quot;\n    android:configChanges=&quot;uiMode&quot; /&gt;\n</code></pre>\n<p>then onConfigurationChanged of activity</p>\n<pre><code>val currentNightMode = resources.configuration.uiMode and Configuration.UI_MODE_NIGHT_MASK\nwhen (currentNightMode) {\n    Configuration.UI_MODE_NIGHT_NO -&gt; {} // Night mode is not active, we're using the light theme\n    Configuration.UI_MODE_NIGHT_YES -&gt; {} // Night mode is active, we're using dark theme\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9191, "user_id": 2191890, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pA1bu.jpg?s=128&g=1", "display_name": "Roc Boronat", "link": "https://stackoverflow.com/users/2191890/roc-boronat"}, "edited": false, "score": 2, "creation_date": 1581936346, "post_id": 57686965, "comment_id": 106590844, "body": "You can also use <code>Context</code> instead of <code>Activity</code> to make it easier to use :&#183;)"}, {"owner": {"reputation": 572, "user_id": 1593416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/82c907e33544fd45761af717c3c182bf?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/1593416/frank"}, "edited": false, "score": 1, "creation_date": 1585571636, "post_id": 57686965, "comment_id": 107798177, "body": "fun Context.isDarkTheme(): Boolean {         return resources.configuration.uiMode and                 Configuration.UI_MODE_NIGHT_MASK == Configuration.UI_MODE_NIGHT_YES     }"}], "tags": [], "owner": {"reputation": 429, "user_id": 8310101, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wTH2MSzhiBU/AAAAAAAAAAI/AAAAAAABZjs/8kDDzYQW_yc/photo.jpg?sz=128", "display_name": "Izadi Egizabal", "link": "https://stackoverflow.com/users/8310101/izadi-egizabal"}, "is_accepted": true, "score": 19, "last_activity_date": 1566976973, "creation_date": 1566976973, "answer_id": 57686965, "question_id": 57685088, "link": "https://stackoverflow.com/questions/57685088/how-can-i-detect-programmatically-if-the-android-device-is-in-dark-mode/57686965#57686965", "title": "How can I detect programmatically if the Android Device is in Dark Mode?", "body": "<p>Okay finally found the solution I was looking for. As <a href=\"https://stackoverflow.com/users/2446911/deepak-s-gavkar\">@deepak-s-gavkar</a> points out the parameter that gives us that information is on the Configuration. So, after a small search I found <a href=\"https://proandroiddev.com/android-dark-theme-implementation-recap-4fcffb0c4bff\" rel=\"noreferrer\">this</a> article that gives this example method that has worked perfectly for what I wanted:</p>\n\n<pre><code>fun isDarkTheme(activity: Activity): Boolean {\n        return activity.resources.configuration.uiMode and\n                Configuration.UI_MODE_NIGHT_MASK == Configuration.UI_MODE_NIGHT_YES\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 409, "user_id": 4325996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dafb373be34a6615d14b05927eabc947?s=128&d=identicon&r=PG&f=1", "display_name": "tsik", "link": "https://stackoverflow.com/users/4325996/tsik"}, "is_accepted": false, "score": 0, "last_activity_date": 1615047858, "creation_date": 1615047858, "answer_id": 66507927, "question_id": 57685088, "link": "https://stackoverflow.com/questions/57685088/how-can-i-detect-programmatically-if-the-android-device-is-in-dark-mode/66507927#66507927", "title": "How can I detect programmatically if the Android Device is in Dark Mode?", "body": "<p>Use the following code:</p>\n<pre><code>boolean isDarkThemeOn = (getResources().getConfiguration().uiMode &amp; Configuration.UI_MODE_NIGHT_MASK)  == Configuration.UI_MODE_NIGHT_YES;\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 8310101, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wTH2MSzhiBU/AAAAAAAAAAI/AAAAAAABZjs/8kDDzYQW_yc/photo.jpg?sz=128", "display_name": "Izadi Egizabal", "link": "https://stackoverflow.com/users/8310101/izadi-egizabal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5173, "favorite_count": 5, "accepted_answer_id": 57686965, "answer_count": 3, "score": 15, "last_activity_date": 1615047858, "creation_date": 1566966581, "last_edit_date": 1580197104, "question_id": 57685088, "link": "https://stackoverflow.com/questions/57685088/how-can-i-detect-programmatically-if-the-android-device-is-in-dark-mode", "title": "How can I detect programmatically if the Android Device is in Dark Mode?", "body": "<p>I'm trying to support the Android Q Dark theme for my Android app and I can't figure out how to import different assets based on the theme I'm currently in.</p>\n\n<p>Im using the official DayNight theme for making the dark/light versions and for drawables is very easy to just point to the XML and it will choose the correct value either from values or values-night depending on what is enabled.</p>\n\n<p>I wanted to do something similar where depending on the theme it would load either the asset \"priceTag_light.png\" or \"priceTag_dark.png\".</p>\n\n<pre><code>val inputStream = if(darkIsEnabled) { \n                    assets.open(\"priceTag_dark.png\")\n                  } else {\n                    assets.open(\"priceTag_light.png\")\n                  }\n</code></pre>\n\n<p>Is there a way I get that flag?</p>\n"}, {"tags": ["android", "kotlin", "wear-os", "watch"], "comments": [{"owner": {"reputation": 5595, "user_id": 252080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/73d28072b248c62daa400049d37e6812?s=128&d=identicon&r=PG", "display_name": "String", "link": "https://stackoverflow.com/users/252080/string"}, "edited": false, "score": 0, "creation_date": 1567010639, "post_id": 57684992, "comment_id": 101837875, "body": "Is the lag in your watch face receiving the <code>onTapCommand</code>, or in opening the activity? If you&#39;re not sure, adding some logcat entries should tell you."}, {"owner": {"reputation": 411, "user_id": 2305864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/siKwD.jpg?s=128&g=1", "display_name": "codebringer", "link": "https://stackoverflow.com/users/2305864/codebringer"}, "reply_to_user": {"reputation": 5595, "user_id": 252080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/73d28072b248c62daa400049d37e6812?s=128&d=identicon&r=PG", "display_name": "String", "link": "https://stackoverflow.com/users/252080/string"}, "edited": false, "score": 0, "creation_date": 1567035963, "post_id": 57684992, "comment_id": 101846276, "body": "Yes it is receiving the onTapCommand but it takes at least 3 seconds during the lag"}, {"owner": {"reputation": 5595, "user_id": 252080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/73d28072b248c62daa400049d37e6812?s=128&d=identicon&r=PG", "display_name": "String", "link": "https://stackoverflow.com/users/252080/string"}, "edited": false, "score": 0, "creation_date": 1567048426, "post_id": 57684992, "comment_id": 101848407, "body": "If you&#39;re not even receiving the event for multiple seconds, there&#39;s probably nothing that you can do about it. Truth is, Wear OS is often just laggy."}], "owner": {"reputation": 411, "user_id": 2305864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/siKwD.jpg?s=128&g=1", "display_name": "codebringer", "link": "https://stackoverflow.com/users/2305864/codebringer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566965728, "creation_date": 1566965728, "question_id": 57684992, "link": "https://stackoverflow.com/questions/57684992/android-wear-ontapcommand-canvaswatchfaceservice-lag", "title": "Android Wear onTapCommand CanvasWatchFaceService lag", "body": "<p>I created a New Project on Android Studio that has the 'app' and 'wear' module. I installed it on my Fossil Sport via adb debugging over bluetooth. </p>\n\n<p>The watch app is just a digital watch face with a tap command that opens up a new WearableActivity via intent.</p>\n\n<p>Here is the code for the onTapCommand inside the CanvasWatchFaceService:</p>\n\n<pre><code>override fun onTapCommand(tapType: Int, x: Int, y: Int, eventTime: Long) {\n            when (tapType) {\n                WatchFaceService.TAP_TYPE_TOUCH -&gt; {\n                    // The user has started touching the screen.\n                }\n                WatchFaceService.TAP_TYPE_TOUCH_CANCEL -&gt; {\n                    // The user has started a different gesture or otherwise cancelled the tap.\n                }\n                WatchFaceService.TAP_TYPE_TAP -&gt;{\n                    // The user has completed the tap gesture.\n                    val intent = Intent(this@DigitalWatchFace,MainActivity::class.java)\n                    startActivity(intent)\n                }\n            }\n            invalidate()\n        }\n</code></pre>\n\n<p>Tapping the watch face on first try works perfectly. If you quit the WearableActivity by swiping, the 2nd tap opens up again the WearableActivity smoothly.</p>\n\n<p>The problem is, if you tap the watch face to open the WearableActivity  then quit the WearableActivity via hardware button and then tap again, it takes 3 seconds at least to open. Which we can't have on our app. </p>\n\n<p>Here is the code for the MainActivity it is just a simple showing of the xml layout:</p>\n\n<pre><code>class MainActivity : WearableActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Enables Always-on\n        setAmbientEnabled()\n    }\n}\n</code></pre>\n\n<p>I tried this in a Fossil Sport watch and TicWatch E2 but the problem still persists. If this is a Wear OS lag issue is there any workaround to prevent this lag?</p>\n\n<p>Thanks in advance to anyone who could help!</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 1, "last_activity_date": 1566970510, "creation_date": 1566970510, "answer_id": 57685653, "question_id": 57684637, "link": "https://stackoverflow.com/questions/57684637/globalscope-coroutine-not-logging-error-to-console/57685653#57685653", "title": "GlobalScope coroutine not logging error to console", "body": "<p>It seems like it works like this due to <code>GlobalScope</code> nature. It cannot be canceled so it swallows <code>CancellationException</code>.</p>\n\n<pre><code>GlobalScope.launch { // won't print anything\n    throw CancellationException()\n}\n\nGlobalScope.launch { // will print stacktrace\n    throw RuntimeException()\n}\n\nrunBlocking { // will print stackrace\n    throw RuntimeException()\n}\n\nGlobalScope.launch { // will print \"Hello!\"\n    try {\n        throw CancellationException()\n    } catch (e: Exception) {\n        println(\"Hello!\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6057, "user_id": 49881, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d04b84e6ffd0c36ed6767c66da22bf6e?s=128&d=identicon&r=PG", "display_name": "Newbie", "link": "https://stackoverflow.com/users/49881/newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 57685653, "answer_count": 1, "score": 1, "last_activity_date": 1566970510, "creation_date": 1566962808, "question_id": 57684637, "link": "https://stackoverflow.com/questions/57684637/globalscope-coroutine-not-logging-error-to-console", "title": "GlobalScope coroutine not logging error to console", "body": "<p>Why is the code below not logging to the console a TimeoutCancellationException?</p>\n\n<pre><code>@Test fun noExceptionLogged(){\n    GlobalScope.launch{\n        withTimeout(4000) {\n            repeat(1000) { i -&gt;\n                println(\"I'm sleeping $i ...\")\n                delay(500L)\n            }\n        }\n    }\n    Thread.sleep(20_000)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 1, "last_activity_date": 1566947765, "creation_date": 1566947765, "answer_id": 57683243, "question_id": 57683211, "link": "https://stackoverflow.com/questions/57683211/android-possible-to-edit-a-datepickers-layout/57683243#57683243", "title": "Android: Possible to edit a DatePicker&#39;s layout?", "body": "<blockquote>\n  <p>Is it possible to change the layout/details of a DatePicker?</p>\n</blockquote>\n\n<p>Not in the way that you are thinking, sorry. You have no control over the structure of the UI elements, such as the text in the calendar day cells.</p>\n\n<blockquote>\n  <p>And if not, are there any alternative structures that may work better?</p>\n</blockquote>\n\n<p>There are a few dozen <a href=\"https://android-arsenal.com/tag/27?sort=created\" rel=\"nofollow noreferrer\">open source date and time picker libraries</a> that you could either use directly or fork to create your desired UI.</p>\n\n<p>Or, get the source code to <code>DatePicker</code>, along with its layouts and other resources, fork them into your project, and then adjust that to look the way that you want.</p>\n\n<p>Otherwise, use <code>ConstraintLayout</code> (or possibly <code>RecyclerView</code>, depending on your scrolling plans) to create your own calendar-style UI.</p>\n"}], "owner": {"reputation": 533, "user_id": 8479974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3VOds.jpg?s=128&g=1", "display_name": "A. W.", "link": "https://stackoverflow.com/users/8479974/a-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 57683243, "answer_count": 1, "score": 0, "last_activity_date": 1566947765, "creation_date": 1566947429, "question_id": 57683211, "link": "https://stackoverflow.com/questions/57683211/android-possible-to-edit-a-datepickers-layout", "title": "Android: Possible to edit a DatePicker&#39;s layout?", "body": "<p>In my app, I would like to have a fragment that presents the user with a calendar from which they can click on a date which takes them to another fragment where they can create a record of how many hours were worked on a given project on that day. The calendar fragment should be able to display any existing records for hours worked, on the days they were worked. The final product would resemble something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YnRT3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YnRT3.png\" alt=\"enter image description here\"></a></p>\n\n<p>From this description, a DatePicker calendar sounded like the perfect solution. However, the biggest problem would be displaying the hours already on record for any given day on the calendar itself. From my research so far, I can't tell if it's possible to change the layout of the DatePicker or insert any form of text on a per-date basis.</p>\n\n<p>My question is this: Is it possible to change the layout/details of a DatePicker? And if not, are there any alternative structures that may work better?</p>\n"}, {"tags": ["android", "kotlin", "viewstub"], "answers": [{"comments": [{"owner": {"reputation": 454, "user_id": 11730727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hy8mT.png?s=128&g=1", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/11730727/arfmann"}, "edited": false, "score": 0, "creation_date": 1566948186, "post_id": 57683065, "comment_id": 101812837, "body": "So, if I put a second ViewStub and then inflate it (I need to inflate more then a single layout because of multiple buttons), the first ViewStub should be avaible again, right?"}, {"owner": {"reputation": 131, "user_id": 11984305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Prh8RGnVNfU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re55TcCl_YTUbxMFuQU2EKJhmRfvA/photo.jpg?sz=128", "display_name": "csar", "link": "https://stackoverflow.com/users/11984305/csar"}, "reply_to_user": {"reputation": 454, "user_id": 11730727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hy8mT.png?s=128&g=1", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/11730727/arfmann"}, "edited": false, "score": 0, "creation_date": 1566951434, "post_id": 57683065, "comment_id": 101813324, "body": "I didn&#39;t understand quite well, but looking at the code you are trying to hide the inflated layout (the layout that appeared after the View.VISIBLE) right? If that&#39;s the case you can get a reference to the inflated layout by setting the attribute <code>inflatedId</code> in the <code>ViewStub</code> and calling it. <a href=\"https://developer.android.com/reference/android/view/ViewStub\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/view/ViewStub</a>"}], "tags": [], "owner": {"reputation": 131, "user_id": 11984305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Prh8RGnVNfU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re55TcCl_YTUbxMFuQU2EKJhmRfvA/photo.jpg?sz=128", "display_name": "csar", "link": "https://stackoverflow.com/users/11984305/csar"}, "is_accepted": false, "score": 2, "last_activity_date": 1566945913, "creation_date": 1566945913, "answer_id": 57683065, "question_id": 57682912, "link": "https://stackoverflow.com/questions/57682912/kotlin-android-viewstub-must-not-be-null/57683065#57683065", "title": "Kotlin Android - ViewStub must not be null", "body": "<p>ViewStub's documentation:</p>\n\n<blockquote>\n  <p>When a ViewStub is made visible, or when inflate() is invoked, the layout resource is inflated. The ViewStub then replaces itself in its parent with the inflated View or Views. Therefore, the ViewStub exists in the view hierarchy until setVisibility(int) or inflate() is invoked. The inflated View is added to the ViewStub's parent with the ViewStub's layout parameters. </p>\n</blockquote>\n\n<p>Once it's inflated it's removed from its parent and replaced by the inflated layout.</p>\n"}], "owner": {"reputation": 454, "user_id": 11730727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hy8mT.png?s=128&g=1", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/11730727/arfmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568011025, "creation_date": 1566944450, "last_edit_date": 1568011025, "question_id": 57682912, "link": "https://stackoverflow.com/questions/57682912/kotlin-android-viewstub-must-not-be-null", "title": "Kotlin Android - ViewStub must not be null", "body": "<p>I'm using a <code>ViewStub</code> to dynamically inflate layout to a <code>bottom sheet</code>. Everything works fine, except that when the ViewStub once inflated can't be used in code.</p>\n\n<p>For example, once I've inflated a layout (using <code>View.VISIBLE</code>, not <code>.inflate()</code> I can't use the View Stub anymore: if I change visibility it gives me an error.</p>\n\n<p>This is my code:</p>\n\n<pre><code>weight_force_button.setOnClickListener {\n\n         mechanical_view.layoutParams = layoutParams\n         mechanical_view.layoutResource = R.layout.sheet_weight_force\n         mechanical_view.visibility = View.VISIBLE\n\n        dialog.state = BottomSheetBehavior.STATE_EXPANDED\n\n  }\n\nclose_button.setOnClickListener {\n            dialog.state = BottomSheetBehavior.STATE_COLLAPSED\n\n            mechanical_view.visibility = View.GONE\n        }\n</code></pre>\n\n<p>This is the error after user click on <code>weight_force_button</code> or <code>close_button</code>:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: mechanical_view must not be null</p>\n</blockquote>\n"}, {"tags": ["eclipse", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1566941651, "post_id": 57682390, "comment_id": 101811473, "body": "What&#39;s your problem? Have you tried to run the app in the debug mode (should be icon with a bug somewhere)."}, {"owner": {"reputation": 1637, "user_id": 1189424, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b1b35b2351b2ca41d743e109e7d497ce?s=128&d=identicon&r=PG", "display_name": "Alex T", "link": "https://stackoverflow.com/users/1189424/alex-t"}, "reply_to_user": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 1, "creation_date": 1566971951, "post_id": 57682390, "comment_id": 101817117, "body": "I cannot start debug and set kotlin breakpoint in eclipse in spring app. After pressing on bug icon - eclipse asks to select debug configuration (empty list) or add new one, see second screen"}], "answers": [{"tags": [], "owner": {"reputation": 1637, "user_id": 1189424, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b1b35b2351b2ca41d743e109e7d497ce?s=128&d=identicon&r=PG", "display_name": "Alex T", "link": "https://stackoverflow.com/users/1189424/alex-t"}, "is_accepted": true, "score": 1, "last_activity_date": 1566986976, "creation_date": 1566986976, "answer_id": 57689963, "question_id": 57682390, "link": "https://stackoverflow.com/questions/57682390/how-to-debug-kotlin-spring-boot-app-in-eclipse/57689963#57689963", "title": "How to debug kotlin spring boot app in Eclipse?", "body": "<p>Right click on project name -> Gradle -> Refresh gradle project did the trick.</p>\n\n<p>Kotlin runtime library appears in libraries, java app or spring boot app debug now works, and breakpoint can be set.</p>\n"}], "owner": {"reputation": 1637, "user_id": 1189424, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b1b35b2351b2ca41d743e109e7d497ce?s=128&d=identicon&r=PG", "display_name": "Alex T", "link": "https://stackoverflow.com/users/1189424/alex-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 57689963, "answer_count": 1, "score": 1, "last_activity_date": 1566986976, "creation_date": 1566940709, "question_id": 57682390, "link": "https://stackoverflow.com/questions/57682390/how-to-debug-kotlin-spring-boot-app-in-eclipse", "title": "How to debug kotlin spring boot app in Eclipse?", "body": "<p>I'm trying to complete <a href=\"https://spring.io/guides/tutorials/spring-boot-kotlin/\" rel=\"nofollow noreferrer\">this</a> tutorial. App created on <a href=\"https://start.spring.io/#!language=kotlin&amp;type=gradle-project\" rel=\"nofollow noreferrer\">this</a> page with gradle, kotlin, java 12, war, dependencies as described on tutorial by first link.\nIn a nutshell, all works fine, app build by gradle works, app starts, I can open gradle app in IntelliJ IDEA and start and debug works.</p>\n\n<p>Next I want to compare kotlin app development in Eclipse. I can run app with this run configuration:\n<a href=\"https://i.stack.imgur.com/PTr4W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PTr4W.png\" alt=\"run configuration\"></a>\nApp starts normally and works.</p>\n\n<p>But in debug configuration there is no Gradle project option:\n<a href=\"https://i.stack.imgur.com/podZA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/podZA.png\" alt=\"debug configuration\"></a></p>\n\n<p>How to make proper debug configuration with possibility to debug kotlin files too?</p>\n"}, {"tags": ["kotlin", "functional-programming", "sequence", "traversal"], "owner": {"reputation": 473, "user_id": 2642172, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bLVR0.jpg?s=128&g=1", "display_name": "MMacphail", "link": "https://stackoverflow.com/users/2642172/mmacphail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1566940701, "creation_date": 1566940701, "question_id": 57682387, "link": "https://stackoverflow.com/questions/57682387/in-arrow-traverse-consumes-a-sequence-instead-of-threading-the-computation", "title": "In Arrow, traverse consumes a sequence instead of threading the computation", "body": "<p>I'm using kotlin <code>1.3.41</code> and arrow <code>0.10.0-SNAPSHOT</code>. I want to read all the lines in a file as a sequence:</p>\n\n<pre><code>import arrow.core.extensions.sequence.traverse.traverse\nimport arrow.fx.IO\nimport arrow.fx.extensions.io.monad.monad\nimport arrow.fx.extensions.io.monadDefer.monadDefer\nimport arrow.fx.fix\nimport java.io.File\n\nval path = \"/path/to/file\"\n\nfun main() {    \n    val b = File(path).inputStream()\n        .bufferedReader()\n        .lineSequence()\n        .traverse(IO.monad()) {\n            IO.monadDefer().later { it }\n        }\n        .fix()\n\n    b.unsafeRunAsync {\n        println(it)\n    }\n}\n</code></pre>\n\n<p>Unfortunately, I  get the following exception :\n<code>java.lang.IllegalStateException: This sequence can be consumed only once.</code></p>\n\n<p>If I'm not using <code>traverse</code>, then I don't get the exception.\nThe documentation says: <code>Sequences can be iterated multiple times, however some sequence implementations might constrain themselves to be iterated only once.</code> This makes sense for a buffered reader. I guess that means that the sequence is iterated by <code>traverse</code> at least twice. I've tried to look at <code>traverse</code> source code but I wasn't able to fully understand it.</p>\n\n<p>I don't understand why traversing the sequence should consume it. Can't I just thread the computation?\nIs there any way to do a <code>traverse</code> like operation without consuming the sequence?</p>\n"}, {"tags": ["kotlin", "range", "conditional-statements", "long-integer"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 0, "creation_date": 1566940931, "post_id": 57682305, "comment_id": 101811265, "body": "It doesn&#39;t create an array. E.g., you can create a string range, which usually contains infinitely many strings."}], "answers": [{"tags": [], "owner": {"reputation": 15235, "user_id": 505152, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c988366574e6e5f4fa0b3e01faa90a86?s=128&d=identicon&r=PG", "display_name": "htafoya", "link": "https://stackoverflow.com/users/505152/htafoya"}, "is_accepted": false, "score": 0, "last_activity_date": 1566941020, "creation_date": 1566941020, "answer_id": 57682441, "question_id": 57682305, "link": "https://stackoverflow.com/questions/57682305/kotlin-what-happens-when-a-range-is-created-using-or-how-it-performs-compar/57682441#57682441", "title": "Kotlin - What happens when a range is created using .. or how it performs compartaions?", "body": "<p>According to <code>Range</code> class implementation in kotlin, it won't create a list and comparison will be done as follows (<code>contains</code> is called when comparing ranges), based on <code>LongProgression</code> class (created on <code>Long</code> ranges).</p>\n\n<pre><code>/**\n * A range of values of type `Long`.\n */\npublic class LongRange(start: Long, endInclusive: Long) : LongProgression(start, endInclusive, 1), ClosedRange&lt;Long&gt; {\n    override val start: Long get() = first\n    override val endInclusive: Long get() = last\n\n    override fun contains(value: Long): Boolean = first &lt;= value &amp;&amp; value &lt;= last\n\n    override fun isEmpty(): Boolean = first &gt; last\n\n    override fun equals(other: Any?): Boolean =\n        other is LongRange &amp;&amp; (isEmpty() &amp;&amp; other.isEmpty() ||\n        first == other.first &amp;&amp; last == other.last)\n\n    override fun hashCode(): Int =\n        if (isEmpty()) -1 else (31 * (first xor (first ushr 32)) + (last xor (last ushr 32))).toInt()\n\n    override fun toString(): String = \"$first..$last\"\n\n    companion object {\n        /** An empty range of values of type Long. */\n        public val EMPTY: LongRange = LongRange(1, 0)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 2, "last_activity_date": 1566946737, "last_edit_date": 1566946737, "creation_date": 1566941103, "answer_id": 57682457, "question_id": 57682305, "link": "https://stackoverflow.com/questions/57682305/kotlin-what-happens-when-a-range-is-created-using-or-how-it-performs-compar/57682457#57682457", "title": "Kotlin - What happens when a range is created using .. or how it performs compartaions?", "body": "<p>No, it does not create an array of every possible value (because an array would be inefficient for that, even if we did need to store every value, which we don't).</p>\n\n<p>This is the source for the <code>ClosedRange</code> interface, which the <code>..</code> range operator translates into (comments removed):</p>\n\n<pre><code>public interface ClosedRange&lt;T: Comparable&lt;T&gt;&gt; {\n    public val start: T\n    public val endInclusive: T    \n    public fun isEmpty(): Boolean = start &gt; endInclusive\n\n    public operator fun contains(value: T): Boolean = \n        value &gt;= start &amp;&amp; value &lt;= endInclusive\n}\n</code></pre>\n\n<p>As you can see the type it ranges over (<code>T</code>) must implement <code>Comparable&lt;T&gt;</code>. This allows the implementation to do a straight comparison of the <code>value</code> and the <code>start</code> and <code>endInclusive</code> of the range. You can see this in the implementation of <code>contains(value: T)</code>.</p>\n"}], "owner": {"reputation": 15235, "user_id": 505152, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c988366574e6e5f4fa0b3e01faa90a86?s=128&d=identicon&r=PG", "display_name": "htafoya", "link": "https://stackoverflow.com/users/505152/htafoya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 57682457, "answer_count": 2, "score": 0, "last_activity_date": 1566946737, "creation_date": 1566940184, "question_id": 57682305, "link": "https://stackoverflow.com/questions/57682305/kotlin-what-happens-when-a-range-is-created-using-or-how-it-performs-compar", "title": "Kotlin - What happens when a range is created using .. or how it performs compartaions?", "body": "<p>I recently noticed a code refactor from:   </p>\n\n<pre><code>   if (date &lt; minDate || date &gt; maxDate)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>if (date !in minDate..maxDate) \n</code></pre>\n\n<p>to which my main worry was that using range would create an \"array\" or some list of <strong>all the milliseconds</strong> between <code>minDate</code> and <code>maxDate</code></p>\n\n<p>I tried researching some of the kotlin internals but couldn't get a final answer on what would happen on that case.</p>\n\n<p>Supposedly:  </p>\n\n<blockquote>\n  <p>In Kotlin <code>in</code> checks are translated to the corresponding <code>contains</code>\n  calls</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "edited": false, "score": 0, "creation_date": 1566936332, "post_id": 57681339, "comment_id": 101809691, "body": "@FurquanKhan I have just added the code that I was working on to the post. If you could help fix it, that would be great."}, {"owner": {"reputation": 479, "user_id": 5424626, "user_type": "registered", "profile_image": "https://graph.facebook.com/476290759207767/picture?type=large", "display_name": "Furqan Khan", "link": "https://stackoverflow.com/users/5424626/furqan-khan"}, "reply_to_user": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "edited": false, "score": 0, "creation_date": 1566977879, "post_id": 57681339, "comment_id": 101819494, "body": "@SKdev I have updated the answer this will help you."}], "tags": [], "owner": {"reputation": 479, "user_id": 5424626, "user_type": "registered", "profile_image": "https://graph.facebook.com/476290759207767/picture?type=large", "display_name": "Furqan Khan", "link": "https://stackoverflow.com/users/5424626/furqan-khan"}, "is_accepted": true, "score": 0, "last_activity_date": 1566977850, "last_edit_date": 1566977850, "creation_date": 1566935256, "answer_id": 57681339, "question_id": 57681144, "link": "https://stackoverflow.com/questions/57681144/set-onclick-event-in-adapters-getview-method/57681339#57681339", "title": "Set onClick event in adapter&#39;s getView method", "body": "<p>Add this to your getView method</p>\n\n<pre><code> challengeView.setOnClickListener{\n    //add your code to load activity\n    }\n</code></pre>\n\n<p>Now add your getView method will look like </p>\n\n<pre><code>override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n\n        val challenge: Challenge = challengeDatabase?.challengesList?.get(position)\n            ?: Challenge(\n                \"No Name\", \"No Description\")\n\n\n        var challengeView: View\n\n        var layoutInflater: LayoutInflater = context?.getSystemService(\n            Context.LAYOUT_INFLATER_SERVICE\n        ) as LayoutInflater\n\n\n        challengeView = layoutInflater.inflate(R.layout.challenge_row, null)\n\n        challengeView.lblChallengeName.setText(challenge.name)\n        challengeView.lblChallengeDesc.setText(challenge.desc)\n        challengeView.setOnClickListener{\n         val element = adapter.getItemAtPosition(position) \n         val intent = Intent(this, SolutionActivity::class.java)\n         intent.putExtra(\"key\", element)\n         parent.context.startActivity(intent)\n         }\n\n        return challengeView\n    }\n</code></pre>\n\n<p>Make sure your <strong>Challange</strong> class implementes <strong>Serializable</strong></p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 11984305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Prh8RGnVNfU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re55TcCl_YTUbxMFuQU2EKJhmRfvA/photo.jpg?sz=128", "display_name": "csar", "link": "https://stackoverflow.com/users/11984305/csar"}, "is_accepted": false, "score": 1, "last_activity_date": 1566937273, "creation_date": 1566937273, "answer_id": 57681747, "question_id": 57681144, "link": "https://stackoverflow.com/questions/57681144/set-onclick-event-in-adapters-getview-method/57681747#57681747", "title": "Set onClick event in adapter&#39;s getView method", "body": "<p>As Furqan said, you set the click listener to the item's view.. in this case set it to <code>challengeView</code>.</p>\n\n<p>To open the activity from it you need to put the desired info inside a Bundle and create an Intent to open the activity with it. You can start the activity from the view's context or propagate that event up to the adapter's owner until you reach the activity and start it from there (usually better if you are seeking for division of responsibilities).</p>\n\n<p>Some tips to write it in a more idiomatic way:</p>\n\n<ul>\n<li>the context is not necessary in the constructor. It's a bad habit to pass the context along. You can inflate the view like that: </li>\n</ul>\n\n<pre><code>LayoutInflater.from(parent.context)\n    .inflate(R.layout.challenge_row, null)\n</code></pre>\n\n<ul>\n<li>you can make <code>challengeView</code> immutable and even inline it like this:</li>\n</ul>\n\n<pre><code>...\nreturn LayoutInflater.from(parent.context)\n    .inflate(R.layout.challenge_row, null)\n    ?.apply {\n         lblChallengeName.text = challenge.name\n         lblChallengeDesc.text = challenge.desc\n         setOnClickListener {\n              //add your code to load activity\n         }\n    }\n</code></pre>\n\n<ul>\n<li><code>challangeDatabase</code> can be a <code>val</code> and not null</li>\n</ul>\n\n<pre><code>private val challengeDatabase = ChallengeDatabase()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 6668339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/182d673e941cd52c143b3a6d7c13497c?s=128&d=identicon&r=PG&f=1", "display_name": "Hassan M. Ashraful", "link": "https://stackoverflow.com/users/6668339/hassan-m-ashraful"}, "is_accepted": false, "score": 1, "last_activity_date": 1566937284, "creation_date": 1566937284, "answer_id": 57681748, "question_id": 57681144, "link": "https://stackoverflow.com/questions/57681144/set-onclick-event-in-adapters-getview-method/57681748#57681748", "title": "Set onClick event in adapter&#39;s getView method", "body": "<p>You need to handle the parameters for Adapter setOnClickListener</p>\n\n<pre><code>challengeView.setOnItemClickListener { parent, view, position, id -&gt; \n    val element = adapter.getItemAtPosition(position) // The item that was clicked\n    val intent = Intent(this, SolutionActivity::class.java)\n    intent.putExtra(\"key\", element)\n    startActivity(intent)\n}\n</code></pre>\n"}], "owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 1, "accepted_answer_id": 57681339, "answer_count": 3, "score": -1, "last_activity_date": 1566983305, "creation_date": 1566934304, "last_edit_date": 1566983305, "question_id": 57681144, "link": "https://stackoverflow.com/questions/57681144/set-onclick-event-in-adapters-getview-method", "title": "Set onClick event in adapter&#39;s getView method", "body": "<p>I have a button on the fist activity(listView) which takes you to the second activity (where an image will be added relating to that clicked item). How do I set the onClick event in the adapter's getView method?</p>\n\n<p>Adapter</p>\n\n<pre><code>class ChallengeListAdapter:  BaseAdapter {\n\n    private var challengeDatabase: ChallengeDatabase? = null\n\n    private var context: Context? = null\n\n    constructor(context: Context) {\n\n        challengeDatabase = ChallengeDatabase()\n\n        this.context = context\n    }\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n\n        val challenge: Challenge = challengeDatabase?.challengesList?.get(position)\n            ?: Challenge(\n                \"No Name\", \"No Description\")\n\n\n        var challengeView: View\n\n        var layoutInflater: LayoutInflater = context?.getSystemService(\n            Context.LAYOUT_INFLATER_SERVICE\n        ) as LayoutInflater\n\n\n        challengeView = layoutInflater.inflate(R.layout.challenge_row, null)\n\n        challengeView.lblChallengeName.setText(challenge.name)\n        challengeView.lblChallengeDesc.setText(challenge.desc)\n\n\n        return challengeView\n    }\n\n    override fun getItem(position: Int): Any {\n        return challengeDatabase?.challengesList?.get(position) ?: Challenge(\n            \"No Name\", \"No Des\")\n    }\n    override fun getItemId(position: Int): Long {\n        return position.toLong()\n    }\n    override fun getCount(): Int {\n        return challengeDatabase?.challengesList?.size ?: 0\n    }\n}\n</code></pre>\n\n<p>How do I fix this?</p>\n\n<pre><code>\nchallengeView.setOnClickListener {\nval solutionButton: Button = findViewById(R.id.solution_button)\n\nval Intent = Intent(context, SolutionActivity::class.java)\n            Intent.putExtra()\n            startActivity(context!!, Intent, null)\n\n        return challengeView\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mobile", "twilio"], "comments": [{"owner": {"reputation": 15, "user_id": 11252217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1NgfOkfjLzY/AAAAAAAAAAI/AAAAAAAAAHE/fGvUmYVKV7o/photo.jpg?sz=128", "display_name": "Mouad Benyamna", "link": "https://stackoverflow.com/users/11252217/mouad-benyamna"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1566929864, "post_id": 57680101, "comment_id": 101807185, "body": "didn&#39;t notice thank you. by the way don&#39;t you have any solution for that ?"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1566938043, "post_id": 57680101, "comment_id": 101810342, "body": "I&#39;m not familiar with twillio SDK unfortunately."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11252217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1NgfOkfjLzY/AAAAAAAAAAI/AAAAAAAAAHE/fGvUmYVKV7o/photo.jpg?sz=128", "display_name": "Mouad Benyamna", "link": "https://stackoverflow.com/users/11252217/mouad-benyamna"}, "edited": false, "score": 1, "creation_date": 1566993438, "post_id": 57684483, "comment_id": 101827943, "body": "Yeah, I used a server-side application using node.js and it worked perfectly. thank you so much"}], "tags": [], "owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "is_accepted": true, "score": 0, "last_activity_date": 1566961130, "creation_date": 1566961130, "answer_id": 57684483, "question_id": 57680101, "link": "https://stackoverflow.com/questions/57680101/using-twilio-to-send-sms-with-android-kotlin/57684483#57684483", "title": "Using twilio to send SMS with Android Kotlin", "body": "<p>Twilio developer evangelist here.</p>\n\n<p>We strongly recommend that you do not use the Twilio API SDK in Android applications. To do so, you would need to embed or use your Twilio credentials within your application which leaves them vulnerable to a malicious user who could decompile the application, steal the credentials and abuse your account.</p>\n\n<p>Instead, we recommend that you create a server side application that you can use to proxy your API requests from your application to the Twilio API. <a href=\"https://www.twilio.com/blog/2016/05/how-to-send-an-sms-from-android.html\" rel=\"nofollow noreferrer\">Here is an example of how to do that (using Java, I'm afraid)</a>. Hopefully you can apply that to Kotlin too.</p>\n\n<p>Let me know if that helps at all.</p>\n"}, {"tags": [], "owner": {"reputation": 1640, "user_id": 5644761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w3XHL.png?s=128&g=1", "display_name": "JakeB", "link": "https://stackoverflow.com/users/5644761/jakeb"}, "is_accepted": false, "score": 0, "last_activity_date": 1567607239, "creation_date": 1567607239, "answer_id": 57790569, "question_id": 57680101, "link": "https://stackoverflow.com/questions/57680101/using-twilio-to-send-sms-with-android-kotlin/57790569#57790569", "title": "Using twilio to send SMS with Android Kotlin", "body": "<p>Here is an Android library I've made for TwilioSMS without the need for server-side apps.\n<a href=\"https://github.com/hihi-dev/android-twilio-sms\" rel=\"nofollow noreferrer\">https://github.com/hihi-dev/android-twilio-sms</a></p>\n\n<p>Runs on API 14 +</p>\n\n<pre><code>implementation 'com.github.hihi-dev:twiliosms:0.1.1'\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 11252217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1NgfOkfjLzY/AAAAAAAAAAI/AAAAAAAAAHE/fGvUmYVKV7o/photo.jpg?sz=128", "display_name": "Mouad Benyamna", "link": "https://stackoverflow.com/users/11252217/mouad-benyamna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 57684483, "answer_count": 2, "score": 0, "last_activity_date": 1567607239, "creation_date": 1566929202, "last_edit_date": 1566929824, "question_id": 57680101, "link": "https://stackoverflow.com/questions/57680101/using-twilio-to-send-sms-with-android-kotlin", "title": "Using twilio to send SMS with Android Kotlin", "body": "<p>I am trying to send a message from android ( kotlin ) using Twilio AP. </p>\n\n<p>I added the twilio library </p>\n\n<p><code>implementation group: \"com.twilio.sdk\", name: \"twilio\", version: \"7.17.+\"</code></p>\n\n<p>and here is my kotlin class :</p>\n\n<pre><code>package com.example.new_pharma_project\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport com.twilio.http.TwilioRestClient\nimport com.twilio.rest.api.v2010.account.Message\nimport com.twilio.type.PhoneNumber\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        val client = TwilioRestClient.Builder (\n            \"username\",\n            \"passowrd\"\n        ).build()\n\n\n        val message = Message.creator(\n            PhoneNumber(\"+213777875776\"),\n            PhoneNumber(\"+213777877556\"),\n            \"Ahoy from Twilio\"\n        ).create(client)\n\n        println(message.sid)\n    }\n}\n\n</code></pre>\n\n<p>I expected to receive a message on my phone but here is what I'm getting in the log output </p>\n\n<p><code>java.lang.NoSuchFieldError: No static field INSTANCE of type Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; in class Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; or its superclasses (declaration of 'org.apache.http.conn.ssl.AllowAllHostnameVerifier' appears in /system/framework/framework.jar!classes3.dex)</code></p>\n"}, {"tags": ["android", "string", "kotlin", "multiline"], "comments": [{"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1566930132, "post_id": 57680068, "comment_id": 101807280, "body": "Has to do with Android, as in plain Kotlin your example works: <a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjMxIiwiY29kZSI6ImZ1biBtYWluKCkge1xuICAgIHZhbCB0ZXh0ID0gXCJcIlwiXG4gICAgICAgICAgICB8Rmlyc3QgbGluZVxuICAgICAgICAgICAgfEFub3RoZXIgbGluZVxuICAgICAgICAgICAgfG9uZSBtb3JlXG4gICAgICAgICAgICB8YW5kIHN0b3BcbiAgICAgICAgICAgIFwiXCJcIi50cmltTWFyZ2luKClcbiAgICBwcmludGxuKFwiSW4ga290bGluIHlvdSBjYW4gbWFrZSBtdWx0eUxpbmUgc3RyaW5nICAgJHRleHRcIilcbn0iLCJwbGF0Zm9ybSI6ImphdmEiLCJhcmdzIjoiIn0=\" rel=\"nofollow noreferrer\">play.kotlinlang.org/&hellip;</a>"}, {"owner": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1566930241, "post_id": 57680068, "comment_id": 101807329, "body": "And on what IDE have you checked this, Just saw your link. thank you"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1566930281, "post_id": 57680068, "comment_id": 101807342, "body": "I posted a link above for Kotlin Playground."}, {"owner": {"reputation": 96, "user_id": 7697633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b9d698c87d312114cd758a294d9b6f2?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/7697633/chris"}, "edited": false, "score": 1, "creation_date": 1566931112, "post_id": 57680068, "comment_id": 101807639, "body": "Seems weird. Like Alexey said, <code>println</code> does display multiple lines. I&#39;m assuming this is maybe because it&#39;s listening to <code>System.out</code> and it has no way to know if the data being outputted is related to previous? Why not use <a href=\"https://developer.android.com/reference/kotlin/android/util/Log.html\" rel=\"nofollow noreferrer\">Log</a>"}, {"owner": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "edited": false, "score": 0, "creation_date": 1566931877, "post_id": 57680068, "comment_id": 101807913, "body": "@Crhis, Cool, glad to know my code was fine and that it was only problem with the way I print. Post it as an answer And I will accept It."}, {"owner": {"reputation": 96, "user_id": 7697633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b9d698c87d312114cd758a294d9b6f2?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/7697633/chris"}, "edited": false, "score": 0, "creation_date": 1566970113, "post_id": 57680068, "comment_id": 101816563, "body": "@TamirAbutbul No problem! You may as well mark Bens answer as correct, thanks though."}], "answers": [{"comments": [{"owner": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "edited": false, "score": 0, "creation_date": 1566936279, "post_id": 57681168, "comment_id": 101809671, "body": "Looks promising, I may not have time to check this soon but I will return to you with an answer"}, {"owner": {"reputation": 1118, "user_id": 11555903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT4Ri.jpg?s=128&g=1", "display_name": "Ben Shmuel", "link": "https://stackoverflow.com/users/11555903/ben-shmuel"}, "reply_to_user": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "edited": false, "score": 0, "creation_date": 1566941288, "post_id": 57681168, "comment_id": 101811367, "body": "@TamirAbutbul sure (:"}], "tags": [], "owner": {"reputation": 1118, "user_id": 11555903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT4Ri.jpg?s=128&g=1", "display_name": "Ben Shmuel", "link": "https://stackoverflow.com/users/11555903/ben-shmuel"}, "is_accepted": true, "score": 2, "last_activity_date": 1566934386, "creation_date": 1566934386, "answer_id": 57681168, "question_id": 57680068, "link": "https://stackoverflow.com/questions/57680068/cant-print-whole-string-value/57681168#57681168", "title": "Can&#39;t print whole string value", "body": "<p>Basically <code>trimMargin()</code> turns : </p>\n\n<pre><code>val text = \"\"\"\n        |First line\n        |Another line\n        |one more\n        |and stop\n        \"\"\".trimMargin()\n</code></pre>\n\n<p>into this :</p>\n\n<pre><code>First line\\n Another line\\n one more\\n and stop\n</code></pre>\n\n<p>and <code>println</code> is <code>System.out.println(message)</code> so what you will see in your Logcat is </p>\n\n<blockquote>\n  <p>I/System.out: In kotlin you can make multyLine string   First line </p>\n  \n  <p>I/System.out: Another line</p>\n  \n  <p>I/System.out: one more</p>\n  \n  <p>I/System.out:\n  and stop</p>\n</blockquote>\n\n<p>So you can use <code>Log.d(TAG, \"In kotlin you can make multyLine string $text\")</code> in order to get this result in your Logcat :</p>\n\n<blockquote>\n  <p>D/tag: In kotlin you can make multyLine string First line</p>\n  \n  <p>Another line</p>\n  \n  <p>one more</p>\n  \n  <p>and stop</p>\n</blockquote>\n"}], "owner": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 57681168, "answer_count": 1, "score": 2, "last_activity_date": 1566934386, "creation_date": 1566929080, "last_edit_date": 1566930487, "question_id": 57680068, "link": "https://stackoverflow.com/questions/57680068/cant-print-whole-string-value", "title": "Can&#39;t print whole string value", "body": "<p>I want to use kotlin string multi-line but I can't print its whole value.</p>\n\n<p><strong>I wanted to print its value like this:</strong></p>\n\n<pre><code> println(\"In kotlin you can make multyLine string   $text\")\n</code></pre>\n\n<p>But what was printed was only the first line:</p>\n\n<blockquote>\n  <p><em>I/System.out: In kotlin you can make multyLine string   First line</em></p>\n</blockquote>\n\n<p>When I looked up for the rest of the text it was inside the logcat, for example when I searched \"Another line\" I found it: </p>\n\n<blockquote>\n  <p><em>I/System.out: Another line</em></p>\n</blockquote>\n\n<hr>\n\n<p>I have checked if the value is correct by putting it inside textView <strong>like this</strong></p>\n\n<pre><code>val textView:TextView = findViewById(R.id.text)\n\nval text = \"\"\"\n            |First line\n            |Another line\n            |one more\n            |and stop\n            \"\"\".trimMargin()\n\ntextView.setText(text)//I can see the full text\n</code></pre>\n\n<p>Why wasn't my string printed as one block of text and was printed as I described above?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 1, "creation_date": 1566925587, "post_id": 57679334, "comment_id": 101805439, "body": "If the 2nd Activity just displays the detail of the item, you don&#39;t need an adapter."}, {"owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "reply_to_user": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 1, "creation_date": 1566925708, "post_id": 57679334, "comment_id": 101805480, "body": "@GabrieleMariotti thank you"}], "owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1566925506, "creation_date": 1566925506, "question_id": 57679334, "link": "https://stackoverflow.com/questions/57679334/one-adapter-for-different-views-and-activities", "title": "One adapter for different views and activities", "body": "<p>Can I make one adapter for two activities with different views (name and description is on first activity) and (image is another view on second activity) or would I need two separate adapters? The first activity has a button and when clicked the second activity displays the image for that item.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "retrofit2", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 8890160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76921e6fd9f2eb69d5c7f58a2bc89c8e?s=128&d=identicon&r=PG&f=1", "display_name": "Ooguro", "link": "https://stackoverflow.com/users/8890160/ooguro"}, "edited": false, "score": 0, "creation_date": 1567292600, "post_id": 57682341, "comment_id": 101923199, "body": "Thank you again. I was able to reorganize everything and read up more on high-order functions and understand a lot more."}], "tags": [], "owner": {"reputation": 131, "user_id": 11984305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Prh8RGnVNfU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re55TcCl_YTUbxMFuQU2EKJhmRfvA/photo.jpg?sz=128", "display_name": "csar", "link": "https://stackoverflow.com/users/11984305/csar"}, "is_accepted": true, "score": 1, "last_activity_date": 1566940999, "last_edit_date": 1566940999, "creation_date": 1566940425, "answer_id": 57682341, "question_id": 57678742, "link": "https://stackoverflow.com/questions/57678742/how-to-fix-expression-is-unused-thisdisplaydata-in-compositedisposable-adda/57682341#57682341", "title": "How to fix &#39;Expression is unused &quot;this::displayData&quot; in compositeDisposable.addAll(jsonApi.getData()&#39;?", "body": "<p>This is the <code>Consumer</code> interface: </p>\n\n<pre><code>public interface Consumer&lt;T&gt; {\n    /**\n     * Consume the given value.\n     * @param t the value\n     * @throws Exception on error\n     */\n    void accept(T t) throws Exception;\n}\n</code></pre>\n\n<p><code>.subscribe {this::displayData}</code> is equivalent to:</p>\n\n<pre><code>.subscribe(\n    object : Consumer&lt;List&lt;Crypto&gt;&gt; {\n        override fun accept(t: List&lt;Crypto&gt;) {\n             ::displayData\n        }\n    }\n)\n</code></pre>\n\n<p>so, <code>::displayData</code> , which is the reference to the function is not being used.</p>\n\n<p>Just call <code>.subscribe { displayData(it) }</code> instead.</p>\n\n<p>Here goes a nice <a href=\"https://medium.com/tompee/idiomatic-kotlin-higher-order-functions-and-function-types-adb59172796\" rel=\"nofollow noreferrer\">post</a> about it higher-order functions.</p>\n\n<p>Aaaand... just as tip, you can create your <code>Retrofit</code> instance as a singleton in a more simpler and idiomatic way by using <code>by lazy</code></p>\n\n<pre><code>    object RetrofitClient {\n\n        val instance: Retrofit by lazy {\n            Retrofit.Builder()\n                .baseUrl(\"https://api.nomics.com/v1/\")\n\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 8890160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76921e6fd9f2eb69d5c7f58a2bc89c8e?s=128&d=identicon&r=PG&f=1", "display_name": "Ooguro", "link": "https://stackoverflow.com/users/8890160/ooguro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57682341, "answer_count": 1, "score": 0, "last_activity_date": 1567292530, "creation_date": 1566922747, "last_edit_date": 1567292530, "question_id": 57678742, "link": "https://stackoverflow.com/questions/57678742/how-to-fix-expression-is-unused-thisdisplaydata-in-compositedisposable-adda", "title": "How to fix &#39;Expression is unused &quot;this::displayData&quot; in compositeDisposable.addAll(jsonApi.getData()&#39;?", "body": "<p>I'm trying to fetch some data from an API and display that data using retrofit and RxJava2. Am I using CompositeDisposable.addall correctly? What am I referring to when I say .subscribe {this::displayData})?</p>\n\n<p>So I've attempted to replace the .subscribe{...} above with .subscribe{cryptos->displayData(cryptos)}, but getting a compile time issue. I don't know exactly what I am referring to when mentioning cryptos. I thought it was just the model class name with an 's' added(please dont ask why I thought that). The error I'm getting with .subscribe {this::displayData})? is\nretrocrypto0827\\MainActivity.kt: (42, 25): The expression is unused. I dont think I'm referencing the INTERFACE correctly. Thank you in advance</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>    import androidx.appcompat.app.AppCompatActivity\n    import android.os.Bundle\n    import androidx.recyclerview.widget.LinearLayoutManager\n    import com.example.retrocrypto0827.Adapter.CryptoAdapter\n    import com.example.retrocrypto0827.Model.Crypto\n    import com.example.retrocrypto0827.RetrofitClient.IMyApi\n    import com.example.retrocrypto0827.RetrofitClient.RetrofitClient\n    import io.reactivex.android.schedulers.AndroidSchedulers\n    import io.reactivex.disposables.CompositeDisposable\n    import io.reactivex.schedulers.Schedulers\n    import kotlinx.android.synthetic.main.activity_main.*\n\n    class MainActivity : AppCompatActivity() {\n\n\n        internal lateinit var jsonApi: IMyApi\n        internal var compositeDisposable: CompositeDisposable = \n        CompositeDisposable()\n\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_main)\n\n            // Init api\n            val retrofit = RetrofitClient.instance\n            jsonApi = retrofit.create(IMyApi::class.java)\n\n            // View\n            recycler_crypto.layoutManager = LinearLayoutManager(this)\n            recycler_crypto.setHasFixedSize(true)\n            fetchData()\n\n\n        }\n\n        private fun fetchData() {\n            compositeDisposable.addAll(jsonApi.getData()\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe {this::displayData})\n        }\n\n        private fun displayData(cryptoList: List&lt;Crypto&gt;) {\n\n            val adapter = CryptoAdapter(this, cryptoList)\n            recycler_crypto.adapter = adapter\n\n        }\n\n\n    }\n</code></pre>\n\n<p>Crypto.kt</p>\n\n<pre><code>  data class Crypto(val currency: String, val price: String)\n</code></pre>\n\n<p>RetrofitClient Object class</p>\n\n<pre><code>    import retrofit2.Retrofit\n    import retrofit2.adapter.rxjava2.RxJava2CallAdapterFactory\n    import retrofit2.converter.gson.GsonConverterFactory\n\n    object RetrofitClient {\n\n        private var ourInstance: Retrofit?=null\n\n\n        val instance: Retrofit\n        get(){\n            if(ourInstance == null){\n                ourInstance = Retrofit.Builder()\n                    .baseUrl(\"https://api.nomics.com/v1/\")\n\n     .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build()\n            }\n            return ourInstance!!\n        }\n\n\n    }\n</code></pre>\n\n<p>IMyApi interface</p>\n\n<pre><code>    import com.example.retrocrypto0827.Model.Crypto\n    import io.reactivex.Observable\n    import retrofit2.http.GET\n\n    interface IMyApi {\n\n        @GET(\"prices?key=yourapikey\")\n        fun getData(): Observable&lt;List&lt;Crypto&gt;&gt;\n    }\n</code></pre>\n\n<p>CryptoAdapter.kt</p>\n\n<pre><code>    class CryptoAdapter(internal val context: Context, internal val \n    postList: List&lt;Crypto&gt;)\n        :RecyclerView.Adapter&lt;CryptoViewHolder&gt;()\n    {\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): \n    CryptoViewHolder {\n            var itemView = LayoutInflater.from(parent.context)\n                .inflate(R.layout.retro_coin_card, parent, false)\n            return CryptoViewHolder(itemView)\n        }\n\n        override fun getItemCount(): Int {\n            return postList.size\n        }\n\n        override fun onBindViewHolder(holder: CryptoViewHolder, position: \n     Int) {\n            holder.txtCurrency.text = \n     postList[position].currency.toString()\n            holder.txtPrice.text = postList[position].price.toString()\n        }\n    }\n</code></pre>\n\n<p>CryptoViewHolder</p>\n\n<pre><code>  class CryptoViewHolder(itemView: View):RecyclerView.ViewHolder(itemView) \n  {\n\n            val txtCurrency = itemView.txtCurrency\n            val txtPrice = itemView.txtPrice\n        }\n</code></pre>\n\n<p>I expect it to display the data from the API that I'm using in the order I have put it in the recyclerview. Just a simple display of that data.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 35, "user_id": 4465348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNsEfzwhzx8/AAAAAAAAAAI/AAAAAAAAAAA/LuGdvQs5FIs/photo.jpg?sz=128", "display_name": "dbaddorf", "link": "https://stackoverflow.com/users/4465348/dbaddorf"}, "edited": false, "score": 0, "creation_date": 1567101784, "post_id": 57678535, "comment_id": 101873091, "body": "You can see this same problem by using the PC keyboard when running the Android Emulator.  When using the PC keyboard I can type in the first item, but I can&#39;t get the focus to return to the item prompt - the focus is on one of the recyclerview views."}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 4465348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNsEfzwhzx8/AAAAAAAAAAI/AAAAAAAAAAA/LuGdvQs5FIs/photo.jpg?sz=128", "display_name": "dbaddorf", "link": "https://stackoverflow.com/users/4465348/dbaddorf"}, "is_accepted": true, "score": 0, "last_activity_date": 1567517380, "creation_date": 1567517380, "answer_id": 57772768, "question_id": 57678535, "link": "https://stackoverflow.com/questions/57678535/setfocus-not-working-on-activitys-edittext-with-hardware-keyboard-when-there-is/57772768#57772768", "title": "SetFocus not working on Activity&#39;s EditText with Hardware Keyboard when there is an RecyclerView with Buttons", "body": "<p>Apparently there is a difference in the way focus works when checking for the Enter key being pressed.  When I used KeyEvent.ACTION_DOWN, I just couldn't get the focus to work no matter what I tried.  When I used KeyEvent.ACTION_UP, then the focus worked just as I expected it to.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n...\n        // when using bar code scanner (or PC Keyboard when using Android Emulator), process barcode at Enter on end of barcode scan\n        test_editTextSearch.setOnKeyListener(View.OnKeyListener { v, keyCode, event -&gt;\n            // If the event is a key-down event on the \"enter\" button\n            if (keyCode == KeyEvent.KEYCODE_ENTER &amp;&amp; event.action == KeyEvent.ACTION_UP) {\n                searchItems()\n                return@OnKeyListener true\n            }\n            false\n        })\n}\n\n    fun searchItems() {\n        cartItemsList.add(test_editTextSearch.text.toString())\n        rvAdapter.notifyDataSetChanged() //Update Screen\n        test_editTextSearch.setText(\"\")\n        test_editTextSearch.requestFocus()\n    }\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4465348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNsEfzwhzx8/AAAAAAAAAAI/AAAAAAAAAAA/LuGdvQs5FIs/photo.jpg?sz=128", "display_name": "dbaddorf", "link": "https://stackoverflow.com/users/4465348/dbaddorf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 57772768, "answer_count": 1, "score": 0, "last_activity_date": 1567517380, "creation_date": 1566921845, "question_id": 57678535, "link": "https://stackoverflow.com/questions/57678535/setfocus-not-working-on-activitys-edittext-with-hardware-keyboard-when-there-is", "title": "SetFocus not working on Activity&#39;s EditText with Hardware Keyboard when there is an RecyclerView with Buttons", "body": "<p>I have a Kotlin shopping cart activity with an EditText where users scan in barcodes using a bluetooth barcode scanner (acting as a hardware keyboard).  When the user scans in an item, the item is added to a RecyclerView shopping cart where they can adjust the quantity (with buttons on the CardView row).</p>\n\n<p>When the activity first starts the focus is in the EditText and the soft keyboard isn't present.  However when the user scans a barcode (the CR is added by the bluetooth barcode scanner) I can't get the focus to automatically go back to the EditText so the user can scan the next barcode.  The setfocus on the edittext just doesn't seem to work.  The focus is actually set to one of the buttons in the RecyclerView CardView Row.</p>\n\n<p>The user can touch in the EditText to set the focus (and bring up the soft keyboard).  But I don't want the user to have to do that in between each scan.</p>\n\n<p>I've unsuccessfully played around with SetFocus and SetOnFocusChangeListener but haven't been able to get anything to work.  I've had this SetFocus working in the past when the CardView didn't have any clickable items in it.  But seemingly adding a CardView with buttons and/or clickable TextViews breaks the SetFocus on the Activity's EditText.</p>\n\n<p>Does anyone have any suggestions?  Any ideas would be greatly appreciated!  </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["intellij-idea", "kotlin", "kotlintest"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 1, "creation_date": 1566921337, "post_id": 57678336, "comment_id": 101803621, "body": "<code>why is there two classes</code> Because a class is created which contains both <code>logger</code> and <code>class MenuBarController</code>."}, {"owner": {"reputation": 340, "user_id": 11373502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a6a596c0dec14509997c012e983c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Mosch", "link": "https://stackoverflow.com/users/11373502/mosch"}, "edited": false, "score": 0, "creation_date": 1566921418, "post_id": 57678336, "comment_id": 101803670, "body": "Hmm yeahr this i understand can i exclude the logger classes from beeing Coverage checked?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 0, "creation_date": 1566933697, "post_id": 57678336, "comment_id": 101808672, "body": "I don&#39;t know the answer . However, your understanding seems to be incorrect: it&#39;s not <code>logger</code> who creates a class. Your file has 2 entities, and kotlin creates a class (static, I guess), which encloses both entities."}, {"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 0, "creation_date": 1566935731, "post_id": 57678336, "comment_id": 101809439, "body": "Why would you want it to be excluded?"}, {"owner": {"reputation": 340, "user_id": 11373502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a6a596c0dec14509997c012e983c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Mosch", "link": "https://stackoverflow.com/users/11373502/mosch"}, "edited": false, "score": 0, "creation_date": 1566990049, "post_id": 57678336, "comment_id": 101826102, "body": "because it has nothing to do with my code its using a library which i just asume is correct. And my coverage is going down with that ..."}, {"owner": {"reputation": 887, "user_id": 10744483, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CjLvQ4iDtIs/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jvMox244hDKkwqumYBSfGrPujRjA/mo/photo.jpg?sz=128", "display_name": "Olga Klisho", "link": "https://stackoverflow.com/users/10744483/olga-klisho"}, "edited": false, "score": 1, "creation_date": 1566993701, "post_id": 57678336, "comment_id": 101828088, "body": "Can you please share the reproducible code sample? Thanks"}, {"owner": {"reputation": 340, "user_id": 11373502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a6a596c0dec14509997c012e983c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Mosch", "link": "https://stackoverflow.com/users/11373502/mosch"}, "edited": false, "score": 0, "creation_date": 1566996891, "post_id": 57678336, "comment_id": 101829993, "body": "I added an code example :)"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1567050928, "post_id": 57678336, "comment_id": 101848896, "body": "If you&#39;re using Jacoco, you can setup a class to be excluded from test coverage execution"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1567051045, "post_id": 57678336, "comment_id": 101848915, "body": "Can you show us what is being considered not-covered in IntelliJ?"}, {"owner": {"reputation": 340, "user_id": 11373502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a6a596c0dec14509997c012e983c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Mosch", "link": "https://stackoverflow.com/users/11373502/mosch"}, "edited": false, "score": 0, "creation_date": 1567075427, "post_id": 57678336, "comment_id": 101858946, "body": "nop i cant because its not shown ... :/"}, {"owner": {"reputation": 340, "user_id": 11373502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a6a596c0dec14509997c012e983c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Mosch", "link": "https://stackoverflow.com/users/11373502/mosch"}, "edited": false, "score": 0, "creation_date": 1567075474, "post_id": 57678336, "comment_id": 101858962, "body": "I know the possibilities of Jacoco but i cant use it through ***** company restrictions..."}], "answers": [{"tags": [], "owner": {"reputation": 708, "user_id": 3803677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e829e0cf7955c1bf4906a987b4e0884?s=128&d=identicon&r=PG", "display_name": "bnorm", "link": "https://stackoverflow.com/users/3803677/bnorm"}, "is_accepted": true, "score": 1, "last_activity_date": 1567610271, "creation_date": 1567610271, "answer_id": 57791406, "question_id": 57678336, "link": "https://stackoverflow.com/questions/57678336/excluding-duplicated-class-tests/57791406#57791406", "title": "Excluding duplicated class Tests", "body": "<p>If you are okay with only excluding it from the IntelliJ code coverage report, you can edit the run configuration to exclude files you don't want to see in the report:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5QYIE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5QYIE.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 340, "user_id": 11373502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a6a596c0dec14509997c012e983c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Mosch", "link": "https://stackoverflow.com/users/11373502/mosch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 57791406, "answer_count": 1, "score": -1, "last_activity_date": 1567610271, "creation_date": 1566921120, "last_edit_date": 1567075807, "question_id": 57678336, "link": "https://stackoverflow.com/questions/57678336/excluding-duplicated-class-tests", "title": "Excluding duplicated class Tests", "body": "<p>I am running tests via Intellij and i have a small problem.</p>\n\n<p>My code looks like that and the test code is not neccessary to show i think.</p>\n\n<p><strong>MenuBarController.kt</strong>:</p>\n\n<pre><code>private val logger = KotlinLogging.logger {}\nclass ExampleClass  {\n</code></pre>\n\n<p>Now if i run the tests via Intellij with coverage i have the problem, that i can see two classes ... Instead of one...</p>\n\n<p><a href=\"https://i.stack.imgur.com/OI94O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OI94O.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is happening because the logger creates a class itself which is than allo coverage checked and this i dont want.</p>\n\n<p>Can i exclude it somehow. ? I am using gradle.</p>\n\n<p>Reprudaction code:</p>\n\n<pre><code>import mu.KotlinLogging\n\nprivate val logger = KotlinLogging.logger {}\nclass ExampleClass  {\n    var switch = false\n    fun switchMe() {\n        switch = !switch\n        logger.info { switch }\n    }\n}\n</code></pre>\n\n<pre><code>import io.kotlintest.shouldBe\nimport io.kotlintest.shouldNotBe\nimport io.kotlintest.specs.AnnotationSpec\n\nclass ExampleClassTest : AnnotationSpec() {\n\n    @Test\n    internal fun testSwitch() {\n        var exampleClass = ExampleClass()\n        exampleClass.switch shouldBe false\n        exampleClass.switchMe()\n        exampleClass.switch shouldBe true\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HPRfj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HPRfj.png\" alt=\"This line is sho\"></a></p>\n\n<p>I think the Error is in KotlinLogging:\n<a href=\"https://i.stack.imgur.com/ZhFuM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZhFuM.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "hashmap", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1566919061, "post_id": 57677651, "comment_id": 101802447, "body": "Instead of describing how you database looks like, please add a screenshot of it."}, {"owner": {"reputation": 111, "user_id": 5533514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i2HgqeiMf5Q/AAAAAAAAAAI/AAAAAAAAAC4/nu5ahvVbusA/photo.jpg?sz=128", "display_name": "Smaily Carrilho", "link": "https://stackoverflow.com/users/5533514/smaily-carrilho"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1566926922, "post_id": 57677651, "comment_id": 101805967, "body": "Done, @AlexMamo"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1566927049, "post_id": 57677651, "comment_id": 101806039, "body": "Are you adding data to the database from different locations?If yes, add it to your question. Beside that, how is <code>mapeamento</code> defined?"}, {"owner": {"reputation": 111, "user_id": 5533514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i2HgqeiMf5Q/AAAAAAAAAAI/AAAAAAAAAC4/nu5ahvVbusA/photo.jpg?sz=128", "display_name": "Smaily Carrilho", "link": "https://stackoverflow.com/users/5533514/smaily-carrilho"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1566928042, "post_id": 57677651, "comment_id": 101806445, "body": "What do you mean by &quot;different locations&quot;? and about mapeamento definition you want to know its variable type? ou data class?"}, {"owner": {"reputation": 111, "user_id": 5533514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i2HgqeiMf5Q/AAAAAAAAAAI/AAAAAAAAAC4/nu5ahvVbusA/photo.jpg?sz=128", "display_name": "Smaily Carrilho", "link": "https://stackoverflow.com/users/5533514/smaily-carrilho"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1566943748, "post_id": 57677651, "comment_id": 101812000, "body": "The problem seems to be related to the conversion of array of objects to array of maps at firebase and the app been minified or not. When minified, apparently, it loses its capability to convert correctly and implicitly the object in map. Dont know why."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1566985361, "post_id": 57677651, "comment_id": 101823500, "body": "Have you found the issue?"}, {"owner": {"reputation": 111, "user_id": 5533514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i2HgqeiMf5Q/AAAAAAAAAAI/AAAAAAAAAC4/nu5ahvVbusA/photo.jpg?sz=128", "display_name": "Smaily Carrilho", "link": "https://stackoverflow.com/users/5533514/smaily-carrilho"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1566993208, "post_id": 57677651, "comment_id": 101827817, "body": "Don&#39;t know, technically, what happens, but the issue is that: when generate apk with &quot;proguard minify&quot; set to &quot;true&quot; it loses references of object classes and saves fields names as letters. When set to &quot;false&quot; it goes normally with correct object properties names. So, for now, the solution is: generate always the apk with proguard minify set to false in this particular app case."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1566993656, "post_id": 57677651, "comment_id": 101828063, "body": "If that solution solved your problem, you should add it as an answer ;)"}, {"owner": {"reputation": 2821, "user_id": 19547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc32d27026065e5855c1d5196d29f3f?s=128&d=identicon&r=PG", "display_name": "keno", "link": "https://stackoverflow.com/users/19547/keno"}, "edited": false, "score": 0, "creation_date": 1609202067, "post_id": 57677651, "comment_id": 115776425, "body": "Found a solution with <a href=\"https://stackoverflow.com/a/60719948/19547\">stackoverflow.com/a/60719948/19547</a>"}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 5533514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i2HgqeiMf5Q/AAAAAAAAAAI/AAAAAAAAAC4/nu5ahvVbusA/photo.jpg?sz=128", "display_name": "Smaily Carrilho", "link": "https://stackoverflow.com/users/5533514/smaily-carrilho"}, "is_accepted": false, "score": 1, "last_activity_date": 1566993894, "creation_date": 1566993894, "answer_id": 57692016, "question_id": 57677651, "link": "https://stackoverflow.com/questions/57677651/hashmap-object-saved-in-cloud-firestore-with-field-names-as-letters-insted-of-in/57692016#57692016", "title": "Hashmap object saved in Cloud Firestore with field names as letters insted of informed names", "body": "<p>Issue:\nDon't know, technically, what happens, but the issue is that: \nWhen generate apk with \"proguard minify\" set to \"true\" it loses references of objects classes and saves fields names as letters. \nWhen set to \"false\" it goes normally with correct object properties names. </p>\n\n<p>Solution:\nSo, for now, the solution is: \nGenerate always the apk with proguard minify set to false in this particular app case.</p>\n"}], "owner": {"reputation": 111, "user_id": 5533514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i2HgqeiMf5Q/AAAAAAAAAAI/AAAAAAAAAC4/nu5ahvVbusA/photo.jpg?sz=128", "display_name": "Smaily Carrilho", "link": "https://stackoverflow.com/users/5533514/smaily-carrilho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566993894, "creation_date": 1566918464, "last_edit_date": 1566928871, "question_id": 57677651, "link": "https://stackoverflow.com/questions/57677651/hashmap-object-saved-in-cloud-firestore-with-field-names-as-letters-insted-of-in", "title": "Hashmap object saved in Cloud Firestore with field names as letters insted of informed names", "body": "<p>I'm programming a android app in Kotlin and having troubles with document add to Cloud Firestore.\nWhen testing the app in android studio AVD Emulator it goes alright and saves as expected, but when I'm testing from my phone, with the app installed from Google Play Store in beta mode, it changes the field names of maps to letters.</p>\n\n<p>I'm creating a hashMap in kotlin as below:</p>\n\n<pre><code>            val mapeamento: HashMap&lt;String, Any?&gt;  = hashMapOf(\n                \"user_id\" to userId,\n                \"data\" to data,\n                \"hora\" to hora,\n                \"local\" to mapLocais,\n                \"sinal\" to mapSinais,\n                \"companhia\" to mapCompanhias,\n                \"contexto\" to contexto,\n                \"soma\" to mapSoma,\n                \"energossoma\" to mapEnergossoma,\n                \"psicossoma\" to mapPsicossoma,\n                \"mentalsoma\" to mentalsoma,\n                \"hipotese\" to mapHipotese,\n                \"informacoes\" to mapInformacoes,\n                \"sincronicidades\" to mapSincronicidades,\n                \"categoria\" to mapCategoria,\n                \"hipotese_comprovada\" to hipoteseComprovada,\n                \"explicacao_comprovacao\" to explicacaoComprovacao\n            )\n</code></pre>\n\n<p>And adding in Cloud Firestore this way:</p>\n\n<pre><code>                dbMapeamentoUser.add(mapeamento)\n                    .addOnSuccessListener { documentReference -&gt;\n                        Log.d(TAG, \"Mapeamento DocumentSnapshot added with ID: ${documentReference.id}\")\n                        Toast.makeText(this@CadastroMapeamentoActivity, \"Mapeamento adicionado!\", Toast.LENGTH_LONG).show()\n                        dbMapeamentoUser.addSnapshotListener { documentSnapshot, firebaseFirestoreException -&gt;\n                            // do nothing, just to make sure server will update local cache\n                        }\n                        finish()\n                    }\n                    .addOnFailureListener { e -&gt;\n                        Log.w(TAG, \"Error adding Mapeamento document\", e)\n                        Toast.makeText(this@CadastroMapeamentoActivity, \"Erro ao tentar adicionar o mapeamento: ${e.message}\", Toast.LENGTH_LONG).show()\n                    }\n\n</code></pre>\n\n<p>The problem is, when I add a new document from android studio AVD Emulator it goes correct as below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WEJdx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WEJdx.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I add from the app instaled on my phone from beta test it changes fields names to letters:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LsZXX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LsZXX.png\" alt=\"enter image description here\"></a></p>\n\n<p>I couldn't find anybody that may have the same problem, that's why I'm creating this question.</p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["android", "android-intent", "kotlin", "android-activity"], "answers": [{"tags": [], "owner": {"reputation": 1027, "user_id": 6375170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zugq_QmaxMM/AAAAAAAAAAI/AAAAAAAAAPQ/U_tBeKw3rDg/photo.jpg?sz=128", "display_name": "Ashok Kumar", "link": "https://stackoverflow.com/users/6375170/ashok-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1566918391, "creation_date": 1566918391, "answer_id": 57677628, "question_id": 57677527, "link": "https://stackoverflow.com/questions/57677527/first-activity-to-second-activity-intent-database-and-adapter/57677628#57677628", "title": "First Activity to Second Activity (Intent, Database and Adapter)", "body": "<ol>\n<li>Your click  listener will be one and generic as same lite item view is inflated for all items of adapter.\n2.on click you need to pass the Uri string to second activity via intent and display the image Uri in second activity after receiving it from getIntent()  in oncreateview()  of second activity.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1335, "user_id": 5657705, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/93Y5I.jpg?s=128&g=1", "display_name": "The Bat", "link": "https://stackoverflow.com/users/5657705/the-bat"}, "is_accepted": false, "score": 0, "last_activity_date": 1568126623, "creation_date": 1568126623, "answer_id": 57873240, "question_id": 57677527, "link": "https://stackoverflow.com/questions/57677527/first-activity-to-second-activity-intent-database-and-adapter/57873240#57873240", "title": "First Activity to Second Activity (Intent, Database and Adapter)", "body": "<p>I would like to answer this in two parts.</p>\n\n<ul>\n<li>Part 1: the database: You should use the same table for the image as well. You can always talk to the same database and all the tables from any activity, so no need to have a separate database. So the name, description and image in the same activity.</li>\n<li>Part 2: The intent</li>\n</ul>\n\n<p>If you are in a scenario where you have to add any action on click of an adapter item, always use a callback.\nWhen you click on any item, this callback will tell you in the activity that which item in the adapter is clicked.\n<a href=\"https://android.jlelse.eu/click-listener-for-recyclerview-adapter-2d17a6f6f6c9\" rel=\"nofollow noreferrer\">This medium blog</a> is a very good example to demonstrate this.</p>\n\n<p>In this blog's code, there is a block in adapter where you pass the values from the activity. It is the constructor.</p>\n\n<pre><code>RecyclerViewAdapter(RecyclerViewClickListener listener) {\n        mListener = listener;\n}\n</code></pre>\n\n<p>If you had added some code, it would help, but I am sure you also have this constructor in your code, so add this listener along with the other data and see how it works out.</p>\n\n<p>Thanks</p>\n"}], "owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1568126623, "creation_date": 1566918069, "question_id": 57677527, "link": "https://stackoverflow.com/questions/57677527/first-activity-to-second-activity-intent-database-and-adapter", "title": "First Activity to Second Activity (Intent, Database and Adapter)", "body": "<p>I have a database and adapter for the first activity showing the name and description. There is a button on each list item which takes you to the second activity displaying a unique image related to that item.</p>\n\n<p>I have included an Intent from the first activity to the second activity. </p>\n\n<p>So on the second activity I would like to add the image related to the item clicked. </p>\n\n<p>Question:</p>\n\n<p>(a)Do I include the image in the same database for the first activity or do I need a separate database and adapter for the second activity? </p>\n\n<p>(b)Also do I need to create a separate intent for each item in the first activity as each item has a separate image that it will link to via the button which will be displayed on the second activity.</p>\n"}, {"tags": ["android", "android-intent", "kotlin", "datepickerdialog"], "comments": [{"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 1, "creation_date": 1566917463, "post_id": 57677179, "comment_id": 101801526, "body": "You aren&#39;t changing default values. Update it in <code>DatePickerDialog.OnDateSetListener</code>"}], "answers": [{"tags": [], "owner": {"reputation": 208, "user_id": 11960687, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LvJoQdDSH0s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfSpKMhaJgF7K58qAtVaLWd7rxpeA/photo.jpg?sz=128", "display_name": "Govind Prajapati", "link": "https://stackoverflow.com/users/11960687/govind-prajapati"}, "is_accepted": false, "score": 1, "last_activity_date": 1566999950, "creation_date": 1566999950, "answer_id": 57693948, "question_id": 57677179, "link": "https://stackoverflow.com/questions/57677179/how-do-i-pass-selected-date-data-to-an-intent/57693948#57693948", "title": "How do I pass selected date data to an intent?", "body": "<p>store selected date in a string and pass that string with intent </p>\n\n<pre><code>var mSelectedDate : String? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n     super.onCreate(savedInstanceState)\n     setContentView(R.layout.activity_main)\n\n     mSelectedDate = nowTimeGenerator()\n     dayTextView.setText(nowTimeGenerator()) //\ud604\uc7ac\ub0a0\uc9dc \uc124\uc815\n\n     //day \ud14d\uc2a4\ud2b8 \ubdf0\n    dayTextView.setOnClickListener {\n        checkDate()\n      }\n\n     //\ud648\ud654\uba74 \uc774\ub3d9\n     mainAcitvity_btn.setOnClickListener {\n        intentHome()\n      }\n}\nfun checkDate(){\n   var date_listener = object : DatePickerDialog.OnDateSetListener{\n    override fun onDateSet(view: DatePicker?, year: Int, month: Int, day: Int) \n       {\n        mSelectedDate = \"${year}.${month+1}.${day}\"\n        dayTextView.setText(\"${year}.${month+1}.${day}\")\n    }\n}\nvar builder = DatePickerDialog(this, date_listener, year, month, day)\nbuilder.show()\n }\n  fun intentHome(){\n    val homeIntent = Intent(this, HomeActivity::class.java)\n     homeIntent.putExtra(\"selectedDate\", mSelectedDate)\n       startActivity(homeIntent)\n     }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11869035, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aZFAX4bgiOE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rftQ31npVYGMSMcRNF3vrzFz86iYg/photo.jpg?sz=128", "display_name": "\ubc15\uc8fc\ud604", "link": "https://stackoverflow.com/users/11869035/%eb%b0%95%ec%a3%bc%ed%98%84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566999950, "creation_date": 1566917004, "last_edit_date": 1566920647, "question_id": 57677179, "link": "https://stackoverflow.com/questions/57677179/how-do-i-pass-selected-date-data-to-an-intent", "title": "How do I pass selected date data to an intent?", "body": "<p>How do I pass selected date data to an intent?\nPassed by using an intent, but defaulted rather than changed</p>\n\n<pre><code>var calendar = Calendar.getInstance()\nvar year = calendar.get(Calendar.YEAR)\nvar month = calendar.get(Calendar.MONTH)\nvar day = calendar.get(Calendar.DAY_OF_MONTH)\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    dayTextView.setText(nowTimeGenerator()) //\ud604\uc7ac\ub0a0\uc9dc \uc124\uc815\n\n    //day \ud14d\uc2a4\ud2b8 \ubdf0\n    dayTextView.setOnClickListener {\n        checkDate()\n\n    }\n    //\ud648\ud654\uba74 \uc774\ub3d9\n    mainAcitvity_btn.setOnClickListener {\n        intentHome()\n    }\n}\nfun checkDate(){\n    var date_listener = object : DatePickerDialog.OnDateSetListener{\n        override fun onDateSet(view: DatePicker?, year: Int, month: Int, day: Int) {\n\n            dayTextView.setText(\"${year}.${month+1}.${day}\")\n        }\n    }\n    var builder = DatePickerDialog(this, date_listener, year, month, day)\n    builder.show()\n}\nfun intentHome(){\n    val homeIntent = Intent(this, HomeActivity::class.java)\n    homeIntent.putExtra(\"year\", year.toString())\n    homeIntent.putExtra(\"month\", month.toString())\n    homeIntent.putExtra(\"day\", day.toString())\n    startActivity(homeIntent)\n}\n</code></pre>\n\n<p>If the current date is 27 days and the date selection is 28 days, the Intent contains 27 days.</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "edited": false, "score": 0, "creation_date": 1566917097, "post_id": 57677198, "comment_id": 101801320, "body": "I have tried invalidate and restart, unchecked gradle offline mode"}, {"owner": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "edited": false, "score": 1, "creation_date": 1566917609, "post_id": 57677198, "comment_id": 101801627, "body": "I think a server is down noticed this error .Could not resolve com.google.android.gms:play-services-base:[15.0.0,16.0.0).      Required by:          project :app &gt; com.google.android.gms:play-services-location:15.0.0       &gt; Failed to list versions for com.google.android.gms:play-services-base.          &gt; Unable to load Maven meta-data from <a href=\"https://jitpack.io/com/google/android/gms/play-services-base/maven-metadata.xml\" rel=\"nofollow noreferrer\">jitpack.io/com/google/android/gms/play-services-base/&hellip;</a>.&gt; Could not get resource &#39;<a href=\"https://jitpack.io/com/google/android/gms/play-services-base/maven-metadata.xml\" rel=\"nofollow noreferrer\">jitpack.io/com/google/android/gms/play-services-base/&hellip;</a>&#39;. Received status code 403"}], "tags": [], "owner": {"reputation": 31, "user_id": 11222056, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mIy0z2sUQ1Q/AAAAAAAAAAI/AAAAAAAAADg/JtrK-HnlF8E/photo.jpg?sz=128", "display_name": "Issa Dicko", "link": "https://stackoverflow.com/users/11222056/issa-dicko"}, "is_accepted": false, "score": 2, "last_activity_date": 1566917116, "last_edit_date": 1566917116, "creation_date": 1566917061, "answer_id": 57677198, "question_id": 57677075, "link": "https://stackoverflow.com/questions/57677075/android-studio-3-5-error-unable-to-resolve-dependency-for-appdebug-compilecl/57677198#57677198", "title": "Android Studio 3.5 ERROR: Unable to resolve dependency for &#39;:app@debug/compileClasspath&#39;", "body": "<p>You must check your internet connection and disabled gradle offline mode in setting \nafter that do : \n File > Invalidate Cache and restart.\nAnd try to sync the app !</p>\n"}, {"tags": [], "owner": {"reputation": 196, "user_id": 7209014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c9cabda185a9b50fc69d3c9116a5622?s=128&d=identicon&r=PG&f=1", "display_name": "yogourt", "link": "https://stackoverflow.com/users/7209014/yogourt"}, "is_accepted": true, "score": 13, "last_activity_date": 1566917962, "creation_date": 1566917962, "answer_id": 57677490, "question_id": 57677075, "link": "https://stackoverflow.com/questions/57677075/android-studio-3-5-error-unable-to-resolve-dependency-for-appdebug-compilecl/57677490#57677490", "title": "Android Studio 3.5 ERROR: Unable to resolve dependency for &#39;:app@debug/compileClasspath&#39;", "body": "<p>If you have it declared as follows in project build.gradle</p>\n\n<pre><code>maven { url \"https://jitpack.io\" }\n</code></pre>\n\n<p>try changing to</p>\n\n<pre><code>maven { url \"https://www.jitpack.io\" }\n</code></pre>\n"}], "owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7399, "favorite_count": 1, "accepted_answer_id": 57677490, "answer_count": 2, "score": 9, "last_activity_date": 1566917962, "creation_date": 1566916677, "last_edit_date": 1566917698, "question_id": 57677075, "link": "https://stackoverflow.com/questions/57677075/android-studio-3-5-error-unable-to-resolve-dependency-for-appdebug-compilecl", "title": "Android Studio 3.5 ERROR: Unable to resolve dependency for &#39;:app@debug/compileClasspath&#39;", "body": "<p>I have this errors when I try to sync gradle. I am using <strong>Android Studio 3.5</strong> and <strong>gradle 5.4.1</strong> . It worked fine with this configuration and suddenly I start getting this errors.</p>\n\n<pre><code>**ERROR**: Unable to resolve dependency for ':app@debug/compileClasspath': Could not resolve com.google.android.gms:play-services-location:[15.0.0, 16.0.0).\nAffected Modules: app\n\n**ERROR**: Unable to resolve dependency for ':app@debugAndroidTest/compileClasspath': Could not resolve com.google.android.gms:play-services-location:[15.0.0, 16.0.0).\nAffected Modules: app\n\n**ERROR**: Unable to resolve dependency for ':app@debugUnitTest/compileClasspath': Could not resolve com.google.firebase:firebase-messaging:[10.2.1, 12.1.0).\nAffected Modules: app\n\n**ERROR**: Unable to resolve dependency for ':app@debugUnitTest/compileClasspath': Could not resolve com.google.android.gms:play-services-location:[10.2.1, 12.1.0).\nAffected Modules: app\n</code></pre>\n\n<p>this is my <code>app/build.gradle</code>:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: \"androidx.navigation.safeargs\"\napply plugin: 'com.apollographql.android'\napply plugin: 'com.onesignal.androidsdk.onesignal-gradle-plugin'\napply plugin: 'io.fabric'\n\ndef versionMajor = 4\ndef versionMinor = 0\ndef versionPatch = 0\ndef versionBuild = 345\n\ndef keystorePropertiesFile = rootProject.file(\"keystore.properties\")\ndef keystoreProperties = new Properties()\nkeystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n\nandroid {\n    signingConfigs {\n        config {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile file(keystoreProperties['storeFile'])\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n    compileSdkVersion 29\n    defaultConfig {\n        applicationId \"example\"\n        minSdkVersion 26\n        targetSdkVersion 29\n        versionCode versionMajor * 10000 + versionMinor * 1000 + versionPatch * 100 + versionBuild\n        versionName \"${versionMajor}.${versionMinor}.${versionPatch}.${versionBuild}\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n        manifestPlaceholders = [auth0Domain: \"@string/com_auth0_domain\", auth0Scheme: \"demo\"]\n        setArchivesBaseName new Date().format(\"dd.MMM.yy\") + \"-v#\" + versionName\n\n        //OneSignal\n        manifestPlaceholders = [\n                onesignal_app_id: 'id',\n                // Project number pulled from dashboard, local value is ignored.\n                onesignal_google_project_number: 'REMOTE'\n        ]\n\n        // add some strings to res\n        resValue('string', 'google_maps_api_key', google_maps_api_token)\n        resValue('string', 'google_maps_places_api_key', google_maps_places_api_token)\n        buildConfigField(\"String\", \"API_TOKEN\", \"\\\"$api_token\\\"\")\n        buildConfigField(\"String\", \"ADJUST_TOKEN\", \"\\\"$adjust_token\\\"\")\n        buildConfigField(\"String\", \"GRAPH_QL\", \"\\\"$api_graphql\\\"\")\n\n        renderscriptTargetApi 28\n        renderscriptSupportModeEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            debuggable false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            buildConfigField(\"String\", \"SERVER_URL\", \"\\\"$api_base_url$api_ext_release\\\"\")\n            signingConfig signingConfigs.config\n        }\n        staging {\n            debuggable true\n            applicationIdSuffix \".staging\"\n            buildConfigField(\"String\", \"SERVER_URL\", \"\\\"$api_base_url$api_ext_staging\\\"\")\n            signingConfig signingConfigs.config\n        }\n        debug {\n            debuggable true\n            applicationIdSuffix \".debug\"\n            buildConfigField(\"String\", \"SERVER_URL\", \"\\\"$api_base_url$api_ext_dev\\\"\")\n            signingConfig signingConfigs.config\n        }\n    }\n    compileOptions {\n        sourceCompatibility = '1.8'\n        targetCompatibility = '1.8'\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        // Or, if you prefer, you can continue to check for errors in release builds,\n        // but continue the build even when errors are found:\n        abortOnError false\n    }\n}\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n}\n\napollo {\n    customTypeMapping = [\"Datetime\": \"java.lang.String\"]\n    customTypeMapping = [\"Currency\": \"java.lang.String\"]\n    useSemanticNaming = false\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    // android ui and support versions\n    implementation(\n            \"androidx.appcompat:appcompat:$appcompat_version\",\n            \"androidx.constraintlayout:constraintlayout:$constraintlayout_version\",\n            \"com.google.android.material:material:$material_design_components_version\"\n    )\n\n    compileOnly group: \"javax.annotation\", name: \"javax.annotation-api\", version: \"1.3.2\"\n    compileOnly group: \"org.jetbrains\", name: \"annotations\", version: \"13.0\"\n\n    implementation(\n            \"androidx.core:core-ktx:$ktx_version\",\n            \"androidx.fragment:fragment-ktx:$ktx_version\",\n            \"android.arch.navigation:navigation-fragment-ktx:$nav_version\",\n            \"android.arch.navigation:navigation-ui-ktx:$nav_version\"\n    )\n    implementation \"android.arch.navigation:navigation-fragment:$nav_version\"\n    // use -ktx for Kotlin\n    implementation \"android.arch.navigation:navigation-ui:$nav_version\"\n    // use -ktx for Kotlin\n    implementation(\n            \"com.mikepenz:fastadapter:$fast_adapter_version\",\n            \"com.mikepenz:fastadapter-commons:$fast_adapter_version\",\n            \"com.mikepenz:fastadapter-extensions-expandable:$fast_adapter_version\",\n            \"com.mikepenz:fastadapter-extensions:$fast_adapter_version\",\n            \"com.mikepenz:materialize:$materialize_version\"\n    )\n\n    // firebase\n    implementation 'com.google.firebase:firebase-core:16.0.9'\n    implementation 'com.google.firebase:firebase-messaging:18.0.0'\n\n    // data and api\n    implementation(\n            \"com.apollographql.apollo:apollo-runtime:$apollo_version\",\n            \"com.apollographql.apollo:apollo-http-cache:$apollo_version\"\n    )\n    implementation \"com.squareup.okhttp3:logging-interceptor:$okhttp_interceptor_version\"\n    // rx\n    implementation(\n            \"io.reactivex.rxjava2:rxandroid:$rx_android_version\",\n            \"io.reactivex.rxjava2:rxjava:$rx_java_version\",\n            \"com.apollographql.apollo:apollo-rx2-support:$apollo_version\"\n\n    )\n\n    implementation \"de.hdodenhof:circleimageview:$circle_imageview_version\"\n\n    // koin di\n    implementation(\n            \"org.koin:koin-android:$koin_version\",\n            \"org.koin:koin-androidx-scope:$koin_version\",\n            \"org.koin:koin-androidx-viewmodel:$koin_version\"\n    )\n    // rx android networking\n    implementation(\n            \"com.amitshekhar.android:rx2-android-networking:$afn_version\",\n            \"com.github.prashantsolanki3:Secure-Pref-Manager:$secure_prefs_vresion\"\n    )\n\n    //Beta by Crashlytics\n    compile('com.crashlytics.sdk.android:crashlytics:2.10.1@aar') {\n        transitive = true;\n    }\n\n    implementation 'com.jakewharton.timber:timber:4.7.1'\n\n    implementation \"com.google.maps.android:android-maps-utils:0.5\"\n    implementation 'com.google.android.gms:play-services-maps:17.0.0'\n    implementation 'com.google.android.gms:play-services-location:17.0.0'\n    implementation 'com.google.android.gms:play-services-places:17.0.0'\n    implementation 'com.google.android.libraries.places:places:1.1.0'\n\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n\n    testImplementation \"junit:junit:$junit_version\"\n    androidTestImplementation(\"androidx.test:runner:$test_runner_version\",\n            \"androidx.test.espresso:espresso-core:$espresso_test_version\"\n    )\n\n    //Glide\n    implementation \"com.github.bumptech.glide:glide:$glide_version\"\n    annotationProcessor \"com.github.bumptech.glide:compiler:$glide_version\"\n\n    //Permission Manager\n    implementation 'com.github.florent37:runtime-permission-kotlin:1.1.0'\n\n    //Notification banner\n    implementation 'com.github.shasin89:NotificationBanner:1.1.0'\n\n    //Loading spinner\n    implementation 'com.github.ybq:Android-SpinKit:1.2.0'\n\n    //Circle image view\n    implementation 'de.hdodenhof:circleimageview:3.0.0'\n\n    //helpers for Android SDK\n    implementation \"org.jetbrains.anko:anko:$anko_version\"\n\n    //date helper\n    implementation 'com.jakewharton.threetenabp:threetenabp:1.1.0'\n\n    //Picasso\n    implementation 'com.squareup.picasso:picasso:2.71828'\n\n    //EventBus\n    implementation 'org.greenrobot:eventbus:3.1.1'\n\n    //Round corner progress bar\n    implementation 'com.akexorcist:RoundCornerProgressBar:2.0.3'\n\n    //Expandable RecycleView\n    implementation 'com.thoughtbot:expandablerecyclerview:1.3'\n\n    //OneSignal\n    implementation 'com.onesignal:OneSignal:[3.9.1, 3.99.99]'\n\n    implementation \"joda-time:joda-time:$jodatime_version\"\n\n    implementation 'com.github.drawers:SpinnerDatePicker:2.0.1'\n\n    //Adjust\n    implementation 'com.adjust.sdk:adjust-android:4.18.0'\n    implementation 'com.android.installreferrer:installreferrer:1.0'\n//    implementation 'com.adjust.sdk:adjust-android-webbridge:4.18.0' if user Adjust with webview\n\n    testImplementation 'org.koin:koin-test:1.0.1'\n    debugImplementation 'com.readystatesoftware.chuck:library:1.1.0'\n    stagingImplementation 'com.readystatesoftware.chuck:library:1.1.0'\n    releaseImplementation 'com.readystatesoftware.chuck:library-no-op:1.1.0'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["android", "api", "kotlin", "retrofit"], "answers": [{"tags": [], "owner": {"reputation": 478, "user_id": 11693849, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jeTDB8ZSp9k/AAAAAAAAAAI/AAAAAAAAARQ/U9yi4BNTpE8/photo.jpg?sz=128", "display_name": "Sonia", "link": "https://stackoverflow.com/users/11693849/sonia"}, "is_accepted": false, "score": 0, "last_activity_date": 1566917448, "creation_date": 1566917448, "answer_id": 57677319, "question_id": 57676999, "link": "https://stackoverflow.com/questions/57676999/how-to-send-optional-parameters-in-retrofit2/57677319#57677319", "title": "How to send optional parameters in retrofit2?", "body": "<p>Check out this tutorial on optional query parameters:</p>\n\n<p><a href=\"https://futurestud.io/tutorials/retrofit-optional-query-parameters\" rel=\"nofollow noreferrer\">https://futurestud.io/tutorials/retrofit-optional-query-parameters</a></p>\n\n<p>The short answer is that you can simply pass <code>null</code> as a parameter when you don't want to pass a value. </p>\n"}, {"tags": [], "owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "is_accepted": false, "score": 1, "last_activity_date": 1566939233, "creation_date": 1566939233, "answer_id": 57682129, "question_id": 57676999, "link": "https://stackoverflow.com/questions/57676999/how-to-send-optional-parameters-in-retrofit2/57682129#57682129", "title": "How to send optional parameters in retrofit2?", "body": "<p>You can use <code>@FieldMap</code>:</p>\n\n<pre><code>... things(@FieldMap Map&lt;String, Object&gt; params);\n</code></pre>\n\n<p>Create a <code>HashMap&lt;String, Object&gt;</code> and add all your dynamic params into it and pass the <code>HashMap</code> to the <code>FieldMap</code> params.</p>\n"}], "owner": {"reputation": 2205, "user_id": 11963380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c396136d690af16245456165b7b17af?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ahmed", "link": "https://stackoverflow.com/users/11963380/ali-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1261, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1566939233, "creation_date": 1566916419, "question_id": 57676999, "link": "https://stackoverflow.com/questions/57676999/how-to-send-optional-parameters-in-retrofit2", "title": "How to send optional parameters in retrofit2?", "body": "<p>I am using retrofit to send calls to my own api, and in the section of editting person profile, the user maybe doesn't want to modify every single information about him, so I want to send parameters as optional so in my api when the parameter is empty I want not to modify it in the database.\nanyone tried to do that? how?\nTHANKS FOR ALL.</p>\n"}, {"tags": ["java", "android", "android-intent", "kotlin", "webview"], "answers": [{"comments": [{"owner": {"reputation": 2971, "user_id": 1119533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AWjXA.jpg?s=128&g=1", "display_name": "Dion", "link": "https://stackoverflow.com/users/1119533/dion"}, "edited": false, "score": 0, "creation_date": 1567001057, "post_id": 57676940, "comment_id": 101832606, "body": "Thanks for your answer. I will try this and let you know if it worked!"}, {"owner": {"reputation": 2971, "user_id": 1119533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AWjXA.jpg?s=128&g=1", "display_name": "Dion", "link": "https://stackoverflow.com/users/1119533/dion"}, "edited": false, "score": 0, "creation_date": 1568216323, "post_id": 57676940, "comment_id": 102206552, "body": "The problem actually got fixed by switching to https! The dev environment, I was testing with, didn&#39;t have a cert until now."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 1, "last_activity_date": 1566916220, "creation_date": 1566916220, "answer_id": 57676940, "question_id": 57676505, "link": "https://stackoverflow.com/questions/57676505/android-action-quick-view-problem-with-file-trying-to-open-remote-pdf-docume/57676940#57676940", "title": "Android Action Quick View - Problem with file - trying to open remote pdf document", "body": "<p>I would interpret <a href=\"https://developer.android.com/reference/android/content/Intent.html#ACTION_QUICK_VIEW\" rel=\"nofollow noreferrer\">the documentation</a> as meaning that the <code>Uri</code> needs to be a <code>content</code> <code>Uri</code>.</p>\n\n<p>Also, <code>http</code> is banned by default on newer versions of Android (compared to <code>https</code>), so even if a Web URL is supported, the <code>http</code> scheme might not.</p>\n\n<p>You may need to <a href=\"https://stackoverflow.com/a/29012988/115145\">download the content yourself</a>, then use <code>FileProvider</code> to make a <code>content</code> <code>Uri</code> for use with your <code>Intent</code>.</p>\n"}], "owner": {"reputation": 2971, "user_id": 1119533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AWjXA.jpg?s=128&g=1", "display_name": "Dion", "link": "https://stackoverflow.com/users/1119533/dion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 57676940, "answer_count": 1, "score": 1, "last_activity_date": 1566916220, "creation_date": 1566914846, "question_id": 57676505, "link": "https://stackoverflow.com/questions/57676505/android-action-quick-view-problem-with-file-trying-to-open-remote-pdf-docume", "title": "Android Action Quick View - Problem with file - trying to open remote pdf document", "body": "<p>I am using an a webview in an Android application. When the user clicks a download link, I am catching the request (shouldOverrideUrlLoading) and performing a download via API request - as the download is only possible when the user is authenticated. Therefore I am using the code below. Somehow many files are not opened correctly, the Quick View shows the error message \"Problem with file\" (screenshot attached).</p>\n\n<p>The URL that is set to i.data works perfectly fine (authentication and download also works in private mode of any browser)</p>\n\n<pre><code>override fun shouldOverrideUrlLoading(view: WebView, url: String): Boolean {\n        if (url.indexOf(\"example.com\") !== -1 &amp;&amp; (url.indexOf(\".pdf\") !== -1 || url.indexOf(\".xlsx\") !== -1)) {\n            println(\"trying to override url loading\")\n            val i = Intent(Intent.ACTION_QUICK_VIEW)\n            val preferences = contextOfApplication!!.getSharedPreferences(\"example\", Context.MODE_PRIVATE)\n            val email = preferences.getString(\"email\", \"\")\n            val token = preferences.getString(\"token\", \"\")\n            i.data = Uri.parse(\"http://example.com/api/getfile/\" + url.substring(url.lastIndexOf('/')+1) + \"?mail=\" + URLEncoder.encode(email, \"UTF-8\") + \"&amp;token=\" + URLEncoder.encode(token, \"UTF-8\") + \"&amp;relative_path=\" + URLEncoder.encode(URL(url).path))\n            contextOfActivity!!.startActivity(i)\n            return true\n        }\n        return false\n    }\n</code></pre>\n\n<p>The url could look like this:</p>\n\n<pre><code>http://example.com/api/getfile/example.pdf?mail=xyz&amp;token=xyz&amp;relative_path=example.pdf\n</code></pre>\n\n<p>I added the file name (rewritten by server) to the end of the URL, before the Get parameters, so that Android can detect the correct file extension.</p>\n\n<p>Maybe the ACTION_QUICK_VIEW does not support URL's containing GET parameters? Is it possible to bypass this error or to temporarily download the file and open it afterwards?</p>\n\n<p>Thanks in advance!</p>\n\n<p><a href=\"https://i.stack.imgur.com/8eA4t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8eA4t.png\" alt=\"error message\"></a></p>\n"}, {"tags": ["android", "google-maps", "kotlin", "google-maps-markers"], "comments": [{"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 2, "creation_date": 1566916140, "post_id": 57675924, "comment_id": 101800777, "body": "Have you tried the <a href=\"https://developers.google.com/maps/documentation/android-sdk/utility/\" rel=\"nofollow noreferrer\">Google Map SDK Utility Library</a> <code>SphericalUtil.interpolate(LatLng from, LatLng to, double fraction)</code>"}, {"owner": {"reputation": 694, "user_id": 4330540, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/116b6e4c58ec5c178b8e054c03f5bbcf?s=128&d=identicon&r=PG&f=1", "display_name": "matip", "link": "https://stackoverflow.com/users/4330540/matip"}, "reply_to_user": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1566978747, "post_id": 57675924, "comment_id": 101819914, "body": "@MorrisonChang I tried that library now but got same results"}, {"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1566980321, "post_id": 57675924, "comment_id": 101820705, "body": "Just noticed that <code>Polyline.html.isGeodesic()</code> uses the rule <code>the geodesic curve is constructed assuming the Earth is a sphere</code> so depending on your use case either use a spherical midpoint calculation or work out what a Polyline would look like in a WGS84 system."}, {"owner": {"reputation": 11935, "user_id": 6950238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JysE9.jpg?s=128&g=1", "display_name": "Andrii Omelchenko", "link": "https://stackoverflow.com/users/6950238/andrii-omelchenko"}, "edited": false, "score": 0, "creation_date": 1567106228, "post_id": 57675924, "comment_id": 101874841, "body": "@matip Anyway, you can snap your marker to polyline like in <a href=\"https://stackoverflow.com/a/54950425/6950238\">this</a> answer."}], "owner": {"reputation": 694, "user_id": 4330540, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/116b6e4c58ec5c178b8e054c03f5bbcf?s=128&d=identicon&r=PG&f=1", "display_name": "matip", "link": "https://stackoverflow.com/users/4330540/matip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566979307, "creation_date": 1566913058, "last_edit_date": 1566979307, "question_id": 57675924, "link": "https://stackoverflow.com/questions/57675924/calculated-midpoint-on-map-doesnt-overlap-with-geodesic-polyline", "title": "Calculated midpoint on map doesn&#39;t overlap with geodesic polyline", "body": "<p>I've got geodesic polyline connecting two point on my map. I would also like to put marker in the midpoint between those points so it is displayed on the polyline. \nTo calculate the midpoint I am using <a href=\"http://www.movable-type.co.uk/scripts/latlong.html\" rel=\"nofollow noreferrer\">script from this link</a> and when the map is zoomed out it is looking good, added marker is displayed above the line. But when I zoom it in then you can see that the marker goes slightly off to the side. Here is the screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Dojvmm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dojvmm.png\" alt=\"enter image description here\"></a></p>\n\n<p>How I am calculating midpoint:</p>\n\n<pre><code>fun midpoint(point1: LatLng, point2: LatLng): LatLng {\n            val deltaLongitude = Math.toRadians(point2.longitude - point1.longitude)\n            val latitude1 = Math.toRadians(point1.latitude)\n            val latitude2 = Math.toRadians(point2.latitude)\n            val longitude1 = Math.toRadians(point1.longitude)\n\n            val Bx = Math.cos(latitude2) * Math.cos(deltaLongitude)\n            val By = Math.cos(latitude2) * Math.sin(deltaLongitude)\n\n            val latitude = Math.atan2(Math.sin(latitude1) + Math.sin(latitude2),\n                    Math.sqrt((Math.cos(latitude1) + Bx) * (Math.cos(latitude1) + Bx) + By * By))\n            val longitude = longitude1 + Math.atan2(By, Math.cos(latitude1) + Bx)\n\n            return LatLng(Math.toDegrees(latitude), Math.toDegrees(longitude))\n        }\n</code></pre>\n\n<p>And how I am adding the geodesic polyline:</p>\n\n<pre><code>val polylineOptions = PolylineOptions()\n                .add(departurePosition, destinationPosition)\n                .width(10)\n                .color(ContextCompat.getColor(context, R.color.e_light_blue_70))\n                .geodesic(true)\ngoogleMap.addPolyline(polylineOptions)\n</code></pre>\n\n<p>I imagine that the difference comes inaccurate calculations either on my side or google maps api. How could I make sure that my calculated midpoint overlaps with the polyline?</p>\n\n<p>EDIT: I know noticed that problem occurs on shorter distances between points. When one point is in Europe and second in USA for example then it works fine and my marker overlaps with polyline</p>\n"}, {"tags": ["android", "kotlin", "websocket"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1566913522, "post_id": 57675908, "comment_id": 101799243, "body": "change:    <code>webSocketService.observeWebSocketEvent()             .observeOn(Schedulers.io())             .subscribe({                 Timber.d(&quot;connected to web socket&quot;)             },{           Timber.e(it)  })</code>"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1566913626, "post_id": 57675908, "comment_id": 101799309, "body": "then check your logs"}, {"owner": {"reputation": 33, "user_id": 11984073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1157d0cf525aa72c0b78c4606d887ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Cacarilo", "link": "https://stackoverflow.com/users/11984073/cacarilo"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1566983587, "post_id": 57675908, "comment_id": 101822543, "body": "@a_local_nobody Edited, also added logs"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1566983677, "post_id": 57675908, "comment_id": 101822593, "body": "ahh, i was hoping you&#39;d find an error message through that"}, {"owner": {"reputation": 33, "user_id": 11984073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1157d0cf525aa72c0b78c4606d887ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Cacarilo", "link": "https://stackoverflow.com/users/11984073/cacarilo"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1566983944, "post_id": 57675908, "comment_id": 101822754, "body": "@a_local_nobody I can connect using this example <a href=\"https://gist.github.com/SheptunovaAA/90b9cb9388420cd028aa5dab3d754252\" rel=\"nofollow noreferrer\">gist.github.com/SheptunovaAA/90b9cb9388420cd028aa5dab3d75425&zwnj;&#8203;2</a> But i cant connect using Scarlet. I mean, server works and i can connect to it with Android"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1566986775, "post_id": 57675908, "comment_id": 101824329, "body": "no clue unfortunately, i&#39;ve never worked with this before :D I just thought you might get an idea through the logs you missed"}], "answers": [{"comments": [{"owner": {"reputation": 462, "user_id": 859277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OS6us.png?s=128&g=1", "display_name": "Roger Iyengar", "link": "https://stackoverflow.com/users/859277/roger-iyengar"}, "edited": false, "score": 1, "creation_date": 1571866453, "post_id": 57690870, "comment_id": 103386336, "body": "Scarlet works with ws://. You just have to add &#39;android:usesCleartextTraffic=&quot;true&quot;&#39; to your Manifest file."}], "tags": [], "owner": {"reputation": 33, "user_id": 11984073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1157d0cf525aa72c0b78c4606d887ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Cacarilo", "link": "https://stackoverflow.com/users/11984073/cacarilo"}, "is_accepted": false, "score": 1, "last_activity_date": 1566989920, "creation_date": 1566989920, "answer_id": 57690870, "question_id": 57675908, "link": "https://stackoverflow.com/questions/57675908/cant-connect-to-ws-using-tinder-scarlet/57690870#57690870", "title": "Can&#39;t connect to ws using Tinder Scarlet", "body": "<p>The problem was that i used ws:// but Scarlet, as i recognized, works only with wss:/</p>\n"}, {"tags": [], "owner": {"reputation": 462, "user_id": 859277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OS6us.png?s=128&g=1", "display_name": "Roger Iyengar", "link": "https://stackoverflow.com/users/859277/roger-iyengar"}, "is_accepted": true, "score": 3, "last_activity_date": 1573227455, "last_edit_date": 1573227455, "creation_date": 1567810293, "answer_id": 57829319, "question_id": 57675908, "link": "https://stackoverflow.com/questions/57675908/cant-connect-to-ws-using-tinder-scarlet/57829319#57829319", "title": "Can&#39;t connect to ws using Tinder Scarlet", "body": "<p>You can actually use Scarlet with WS:// by adding <code>android:usesCleartextTraffic=\"true\"</code> to your Manifest file. </p>\n"}], "owner": {"reputation": 33, "user_id": 11984073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1157d0cf525aa72c0b78c4606d887ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Cacarilo", "link": "https://stackoverflow.com/users/11984073/cacarilo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1214, "favorite_count": 0, "accepted_answer_id": 57829319, "answer_count": 2, "score": 2, "last_activity_date": 1573227455, "creation_date": 1566912998, "last_edit_date": 1566985103, "question_id": 57675908, "link": "https://stackoverflow.com/questions/57675908/cant-connect-to-ws-using-tinder-scarlet", "title": "Can&#39;t connect to ws using Tinder Scarlet", "body": "<p>Trying to test connection to my ws, but server does not see any connection.\nI think i miss something, could u tell me what did i miss?</p>\n\n<p>Logs:</p>\n\n<p>D/Connection$connect: Should Connect</p>\n\n<p>D/Connection$connect: WaitingToRetry</p>\n\n<p>D/Connection$connect: On WebSocket Connection Failed</p>\n\n<p>D/Connection$connect: Should Connect</p>\n\n<p>D/Connection$connect: WaitingToRetry</p>\n\n<p>D/Connection$connect: On WebSocket Connection Failed</p>\n\n<p>There is my code:</p>\n\n<p>In MainActivity</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    Connection.connect()\n}\n</code></pre>\n\n<p>Object(singleton)</p>\n\n<pre><code>object Connection {\n    fun connect() {\n\n        val okHttpClient = OkHttpClient.Builder()\n            .readTimeout(0, TimeUnit.MILLISECONDS)\n            .build()\n\n        val protocol = OkHttpWebSocket(\n            okHttpClient,\n            OkHttpWebSocket.SimpleRequestFactory(\n                { Request.Builder().url(\"ws://someURL\").build() },\n                { ShutdownReason.GRACEFUL }\n            )\n        )\n\n        val configuration = Scarlet.Configuration(\n            streamAdapterFactories = listOf(RxJava2StreamAdapterFactory())\n        )\n\n        val scarletInstance = Scarlet(protocol, configuration)\n\n        val webSocketService = scarletInstance.create&lt;WebSocketService&gt;()\n\n    webSocketService.observeStateTransition()\n        .observeOn(Schedulers.io())\n        .subscribe({ stateTransition -&gt;\n            val event = stateTransition.event\n            val description = when (event) {\n                is Event.OnLifecycleStateChange -&gt; when (event.lifecycleState) {\n                    LifecycleState.Started -&gt; Timber.d(\"On Lifecycle Start\")\n                    LifecycleState.Stopped -&gt; Timber.d(\"On Lifecycle Stop\")\n                    LifecycleState.Completed -&gt; Timber.d(\"On Lifecycle Terminate\")\n                }\n                is Event.OnProtocolEvent -&gt; {\n                    when (stateTransition.toState) {\n                        is State.WillConnect -&gt; Timber.d(\"WaitingToRetry\")\n                        is State.Connecting -&gt; Timber.d(\"Connecting\")\n                        is State.Connected -&gt; Timber.d(\"Connected\")\n                        is State.Disconnecting -&gt; Timber.d(\"Disconnecting\")\n                        State.Disconnected -&gt; Timber.d(\"Disconnected\")\n                        State.Destroyed -&gt; Timber.d(\"Destroyed\")\n                    }\n                }\n                Event.OnShouldConnect -&gt; Timber.d(\"Should Connect\")\n            }\n        }, {\n            e -&gt;\n            Timber.e(e)\n        })\n\n    webSocketService.observeWebSocketEvent()\n        .observeOn(Schedulers.io())\n        .subscribe({\n            event -&gt;\n            val description = when(event){\n                is WebSocketEvent.OnConnectionOpened -&gt; Timber.d(\"On WebSocket Connection Opened\")\n                is WebSocketEvent.OnMessageReceived -&gt; Timber.d(\"On WebSocket NewMessageUpdate Received\")\n                is WebSocketEvent.OnConnectionClosing -&gt; Timber.d(\"On WebSocket Connection Closing\")\n                is WebSocketEvent.OnConnectionClosed -&gt; Timber.d(\"On WebSocket Connection Closed\")\n                is WebSocketEvent.OnConnectionFailed -&gt; Timber.d(\"On WebSocket Connection Failed\")\n            }\n        },\n            {\n                Timber.e(it)\n            })\n\n\n    }\n}\n</code></pre>\n\n<p>Interface</p>\n\n<pre><code>interface WebSocketService {\n@Receive\nfun observeStateTransition(): Flowable&lt;StateTransition&gt;\n\n@Receive\nfun observeWebSocketEvent(): Flowable&lt;WebSocketEvent&gt;\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 647, "user_id": 6193843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0420998b5ea04d752fe70cb3f82aa43d?s=128&d=identicon&r=PG&f=1", "display_name": "Link182", "link": "https://stackoverflow.com/users/6193843/link182"}, "is_accepted": false, "score": 0, "last_activity_date": 1566914478, "last_edit_date": 1566914478, "creation_date": 1566914038, "answer_id": 57676233, "question_id": 57675637, "link": "https://stackoverflow.com/questions/57675637/recyclerview-get-view-at-particular-position-and-retrieve-data-from-it-android-k/57676233#57676233", "title": "RecyclerView Get view at particular position and retrieve data from it android kotlin", "body": "<p>Inside a recycler view each view holder can recycle his views. For that reason you have to keep all edittext values in a public list inside your adapter and access it from component which hold that adapter. Here is an proof of concept:</p>\n\n<pre><code>class MyAdapter: RecyclerView.Adapter(private val educationList: MutableList&lt;Any&gt;) {\n    val holderList = educationList.map { EditTextValues(...) };\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        //fill edit text just in case that it is recycled\n        holder.editText.text = holderList[position].editTextValue\n        holder.editText.onTextChangeLister { holderList[position] = EditTextValues(holder.editText.text) }\n    }\n}\n\nclass MyAndroidComponent : Fragment {\n     val adapter: MyAdapter = ...\n     fun onCreate() {\n          saveButton.setOnClickListener {\n               // you can access your edit texts values here\n               adapter.holderList\n          }\n     }\n}\n</code></pre>\n"}], "owner": {"reputation": 2293, "user_id": 2971619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000706063156/picture?type=large", "display_name": "Kristiyan Varbanov", "link": "https://stackoverflow.com/users/2971619/kristiyan-varbanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 939, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566916899, "creation_date": 1566912100, "last_edit_date": 1566916899, "question_id": 57675637, "link": "https://stackoverflow.com/questions/57675637/recyclerview-get-view-at-particular-position-and-retrieve-data-from-it-android-k", "title": "RecyclerView Get view at particular position and retrieve data from it android kotlin", "body": "<p>i have recyclerview item which has 4 edittexts. Also i have add new item button which add new item and new edittexts(they need to be populated from the use) i`m trying to retrieve all data from the fields when user click save button. Here is my code:</p>\n\n<pre><code>class SectionsRecyclerAdapter(private val educationList: MutableList&lt;Any&gt;) :\n    RecyclerView.Adapter&lt;SectionsRecyclerAdapter.ViewHolder&gt;() {\n\n    class ViewHolder(val item: View) : RecyclerView.ViewHolder(item)\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.item_new_section, parent, false)\n        return ViewHolder(view)\n    }\n\n    override fun getItemCount() = educationList.size\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        if (holder != null) {\n            holder.item.deleteBtn.visibility = if (position != 0) View.VISIBLE else View.GONE\n\n            holder.item.deleteBtn.setOnClickListener {\n                educationList.removeAt(position)\n                notifyItemRemoved(position)\n                notifyItemRangeRemoved(position, educationList.size)\n            }\n        }\n    }\n\n    fun addItem() {\n        educationList.add(EducationModel())\n        notifyItemInserted(educationList.size)\n    }\n}\n</code></pre>\n\n<p><strong>Education Fragment :</strong></p>\n\n<pre><code>class EducationFragment : Fragment(), ValidationInterface {\n\nprivate var educationList: MutableList&lt;Any&gt; = mutableListOf()\nprivate lateinit var sectionAdapter : SectionsRecyclerAdapter\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    return inflater.inflate(R.layout.fragment_education, container, false)\n}\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    educationList.add(EducationModel())\n\n    sectionAdapter = SectionsRecyclerAdapter(educationList)\n\n    educationRv.apply {\n        layoutManager = LinearLayoutManager(activity)\n        adapter = ScaleInAnimationAdapter(sectionAdapter)\n        itemAnimator = LandingAnimator()\n    }\n\n    addSectionBtn.setOnClickListener {\n        sectionAdapter.addItem()\n        educationRv.smoothScrollToPosition(educationList.size)\n    }\n}\n\ncompanion object {\n    val instance = EducationFragment()\n}\n\noverride fun validateAndSave(): Boolean {\n\n    //Here i want to get data from every child and then parse it to my model EducationModel\n    val model = educationRv.getChildAt(0)\n    list.add(model)\n    CreateResumeActivity.modelInstance.educationList.addAll(list)\n\n    return true\n}\n</code></pre>\n\n<p>Of course if there are better solution i will be glad, but for now i`m stuck with this... My main goal is when user click save i need to retrieve value from the edittext ( University, StartDate, EndDate, Summary) and put it in EducationModels</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3729213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yATDq.jpg?s=128&g=1", "display_name": "Pablo_xyu", "link": "https://stackoverflow.com/users/3729213/pablo-xyu"}, "edited": false, "score": 0, "creation_date": 1567078818, "post_id": 57683449, "comment_id": 101860816, "body": "I removed <code>Context.deviceType()</code> from the constructor class and deleted constructor and made this function public. Executing that function loops in runBlocking anyway..."}, {"owner": {"reputation": 131, "user_id": 11984305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Prh8RGnVNfU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re55TcCl_YTUbxMFuQU2EKJhmRfvA/photo.jpg?sz=128", "display_name": "csar", "link": "https://stackoverflow.com/users/11984305/csar"}, "reply_to_user": {"reputation": 31, "user_id": 3729213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yATDq.jpg?s=128&g=1", "display_name": "Pablo_xyu", "link": "https://stackoverflow.com/users/3729213/pablo-xyu"}, "edited": false, "score": 0, "creation_date": 1567083009, "post_id": 57683449, "comment_id": 101863248, "body": "Could you post it?"}, {"owner": {"reputation": 31, "user_id": 3729213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yATDq.jpg?s=128&g=1", "display_name": "Pablo_xyu", "link": "https://stackoverflow.com/users/3729213/pablo-xyu"}, "edited": false, "score": 0, "creation_date": 1567084911, "post_id": 57683449, "comment_id": 101864492, "body": "Morover. If I remove <code>runBlock{}</code> and change <code>deviceType()</code> to <code>suspend</code> function <code>GlobalScope.launch{context.deviceType()}</code> works."}, {"owner": {"reputation": 131, "user_id": 11984305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Prh8RGnVNfU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re55TcCl_YTUbxMFuQU2EKJhmRfvA/photo.jpg?sz=128", "display_name": "csar", "link": "https://stackoverflow.com/users/11984305/csar"}, "reply_to_user": {"reputation": 31, "user_id": 3729213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yATDq.jpg?s=128&g=1", "display_name": "Pablo_xyu", "link": "https://stackoverflow.com/users/3729213/pablo-xyu"}, "edited": false, "score": 0, "creation_date": 1567086206, "post_id": 57683449, "comment_id": 101865296, "body": "cool... but make sure that it isn&#39;t looping infinitely any more. It may still facing this issue, but now less noticeable once it&#39;s not blocking the thread."}], "tags": [], "owner": {"reputation": 131, "user_id": 11984305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Prh8RGnVNfU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re55TcCl_YTUbxMFuQU2EKJhmRfvA/photo.jpg?sz=128", "display_name": "csar", "link": "https://stackoverflow.com/users/11984305/csar"}, "is_accepted": false, "score": 0, "last_activity_date": 1566995083, "last_edit_date": 1566995083, "creation_date": 1566950139, "answer_id": 57683449, "question_id": 57675247, "link": "https://stackoverflow.com/questions/57675247/callback-transformed-to-suspend-function-loops-infinitely-when-runblocking/57683449#57683449", "title": "Callback transformed to suspend function loops infinitely when runBlocking", "body": "<p>First of all, responding to the question's title, the loop is happening because the constructor is calling <code>Context.deviceType()</code> that calls <code>DeviceName.Request.awaitWith</code> that calls the constructor again: </p>\n\n<pre><code>cont.resume(DeviceType(\n                info.manufacturer, \n                info.marketName, \n                info.model\n            ))\n</code></pre>\n\n<p>The <code>Context.deviceType()</code> return a <code>DeviceType</code> by itself, but you desire to use it to configure each attribute in the initialization. Each DeviceType's attribute initialization instantiate a <code>DeviceType</code> which each attribute instantiate another <code>DeviceType</code> and so on....</p>\n\n<hr>\n\n<p>Using <code>Dispatcher.IO</code> is OK and even desired when it comes to IO operations, like network, but you are not quite using it. </p>\n\n<p>The <code>runBlocking</code> call blocks the current thread. The way you are using is like that:</p>\n\n<pre><code>## Assume we are on Thread (A)\nfun Context.deviceType(): DeviceType? = runBlocking { ## Still in thread (A)\n\n    withContext(Dispatchers.IO) { ## Execute in an IO thread pool, but (A) is waiting\n        DeviceName\n            .with(this@deviceType)\n            .awaitWith(this@deviceType)\n    } ## Returns to thread (A)\n} # Resumes Thread (A)\n</code></pre>\n\n<p>So, although this is kinda running in an IO dispatcher, the calling thread is blocked until the execution is finished, making it synchronous and indifferent. </p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 3729213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yATDq.jpg?s=128&g=1", "display_name": "Pablo_xyu", "link": "https://stackoverflow.com/users/3729213/pablo-xyu"}, "is_accepted": false, "score": 0, "last_activity_date": 1567095512, "creation_date": 1567095512, "answer_id": 57714206, "question_id": 57675247, "link": "https://stackoverflow.com/questions/57675247/callback-transformed-to-suspend-function-loops-infinitely-when-runblocking/57714206#57714206", "title": "Callback transformed to suspend function loops infinitely when runBlocking", "body": "<p>Actually my goal was to see the <code>deviceType()</code> function output in non-coroutine environment. This function will be used anyway in other suspend functions or coroutine scope.</p>\n\n<p>This is <code>DeviceType</code> class with its public functions without additional constructor:</p>\n\n<pre><code>    @IgnoreExtraProperties\n    data class DeviceType(\n        var manufacturer: String? = null,\n        var marketName: String? = null,\n        var model: String? = null\n    ) {\n        override fun toString(): String {\n            val stringSuffix =\n                if (marketName == model)\n                    \"\"\n                else\n                    \" ($model)\"\n\n            return model?.let { \"$manufacturer $marketName$stringSuffix\" }\n                ?: \"No device type recognized!\"\n        }\n    }\n\n    fun Context.deviceTypeByRunBlocking(): DeviceType? = runBlocking {\n        withContext(Dispatchers.IO) {\n            DeviceName\n                .with(this@deviceTypeNoSuspend)\n                .awaitWith(this@deviceTypeNoSuspend)\n        }\n    }\n\n    suspend fun Context.deviceType(): DeviceType? =\n        DeviceName\n            .with(this@deviceType)\n            .awaitWith(this@deviceType)\n\n    private suspend fun DeviceName.Request.awaitWith(context: Context): DeviceType? =\n        suspendCoroutine { cont -&gt;\n            DeviceName.with(context).request { info, error -&gt;\n                if (error == null) {\n                    cont.resume(\n                        DeviceType(\n                            info.manufacturer,\n                            info.marketName,\n                            info.model\n                        )\n                        //.also{Log.d(\"TAG\",\"Inside awaitWith(): $it\")}\n                    )\n                } else\n                    cont.resumeWithException(Throwable(error.message))\n                        .let {\n                            Log.e(\n                                \"TAG\",\n                                \"DeviceName.Request.awaitWith(): $error.message\"\n                            )\n                        }\n            }\n        }\n</code></pre>\n\n<p>Main Activity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n    GlobalScope.launch { Log.d(\"MainActivity\", \"${this@MainActivity.deviceType()}\") }\n    //^ this works\n\n    Log.d(\"MainActivity\", \"${this.deviceTypeByRunBlocking()}\")\n    //^ this still does not, loops in joinBlocking(), isComplete = false\n    }\n}\n</code></pre>\n\n<p>I know that using GlobalScope is not recommended, but for testing it is fine for me.</p>\n"}], "owner": {"reputation": 31, "user_id": 3729213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yATDq.jpg?s=128&g=1", "display_name": "Pablo_xyu", "link": "https://stackoverflow.com/users/3729213/pablo-xyu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 352, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567095512, "creation_date": 1566910737, "last_edit_date": 1592644375, "question_id": 57675247, "link": "https://stackoverflow.com/questions/57675247/callback-transformed-to-suspend-function-loops-infinitely-when-runblocking", "title": "Callback transformed to suspend function loops infinitely when runBlocking", "body": "<p>I am rewriting a java class to kotlin replacing callback with a suspend function. This is my java code:</p>\n<pre><code>@IgnoreExtraProperties\npublic class DeviceType {\n\npublic String manufacturer;\npublic String marketName;\npublic String model;\n\npublic DeviceType(String manufacturer, String marketName, String model) {\n    this.manufacturer = manufacturer;\n    this.marketName = marketName;\n    this.model = model;\n}\n\npublic DeviceType(){}\n\npublic DeviceType(Context context) {\n    DeviceName.with(context).request(new DeviceName.Callback() {\n        @Override\n        public void onFinished(DeviceName.DeviceInfo info, Exception error) {\n            if (error == null) {\n                manufacturer = info.manufacturer;\n                marketName = info.marketName;\n                model = info.model;\n            } else\n                Log.e(&quot;DeviceType: &quot;, error.getMessage());\n        }\n\n    });\n}\n\n@Override\npublic String toString() {\n    if (model == null) {\n        return &quot;No device type recognized!&quot;;\n    } else {\n        if (marketName.equals(model))\n            return manufacturer + &quot; &quot; +marketName;\n        else\n            return manufacturer + &quot; &quot; +marketName+ &quot; (&quot; +model+ &quot;)&quot;;\n    }\n}\n</code></pre>\n<p><code>DeviceName</code> class belongs to library <a href=\"https://github.com/jaredrummler/AndroidDeviceNames\" rel=\"nofollow noreferrer\">AndroidDeviceNames</a>.</p>\n<p>Below is my new code in Kotlin:</p>\n<pre><code>@IgnoreExtraProperties\ndata class DeviceType(\n    var manufacturer: String? = null,\n    var marketName: String? = null,\n    var model: String? = null\n) {\n\n    constructor(context: Context) : this(\n        context.deviceType()?.manufacturer,\n        context.deviceType()?.marketName,\n        context.deviceType()?.model\n    )\n\n    override fun toString(): String {\n        val stringSuffix =\n            if (marketName == model)\n                &quot;&quot;\n            else\n                &quot; ($model)&quot;\n\n        return model?.let { &quot;$manufacturer $marketName$stringSuffix&quot; }\n            ?: &quot;No device type recognized!&quot;\n    }\n}\n\n/**\n * return DeviceType &quot;from&quot; UI Context\n */\nfun Context.deviceType(): DeviceType? = runBlocking {\n    withContext(Dispatchers.IO) {\n        /*\n        delay(1000L)\n        DeviceType(&quot;Nokia&quot;,&quot;Banana&quot;,&quot;R2D2&quot;)\n        ^\n        This works!\n        */\n        DeviceName\n            .with(this@deviceType)\n            .awaitWith(this@deviceType)\n        //  ^ that doesn't!\n    }\n}\n\nsuspend fun DeviceName.Request.awaitWith(context: Context): DeviceType? = suspendCoroutine { cont -&gt;\n    DeviceName.with(context).request { info, error -&gt;\n        if (error == null) {\n            cont.resume(DeviceType(\n                info.manufacturer, \n                info.marketName, \n                info.model\n            ))\n        } else\n            cont.resumeWithException(Throwable(error.message))\n                .let {\n                    Log.e(\n                        &quot;FirebaseUserData&quot;,\n                        &quot;DeviceName.Request.awaitWith(): $error.message&quot;\n                    )\n                }\n    }\n}\n</code></pre>\n<p>Executing <code>deviceType().toString())</code> in <code>MainActivity</code> makes infinite looping in <code>runBlocking()</code> function.\nThe fundamental question is of course &quot;why my implementation of <code>awaitWith()</code> does not work?&quot;, but I am also interested, taking first steps in kotlin and coroutines, if I should provide additional solutions for exception handling, as I read the &quot;coroutines may hide exceptions&quot;.</p>\n<p>And one more question:</p>\n<p>Is <code>Dispatcher.IO</code> here OK? <code>DeviceName</code> gets data from Google API json query.\nShould I use that dispatcher type also for coroutines related to firebase DB?</p>\n"}, {"tags": ["gradle", "kotlin", "corda"], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 1456110, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d97b546c3896202e2945c270d8feb750?s=128&d=identicon&r=PG", "display_name": "user1456110", "link": "https://stackoverflow.com/users/1456110/user1456110"}, "edited": false, "score": 0, "creation_date": 1566966891, "post_id": 57676074, "comment_id": 101815805, "body": "Hi Dan, Yes I am able to run the project successfully if webserver is part of the cordapp project itself. But I am trying to run webserver as a different project. If webserver wants to refer to flow/state from main project, then I guess i need to place the cordapp jar locally somewhere and refer it in server project. Now I am trying to define that cordapp in gradle file and thats when I get this error. hope that explains the issue.  other than &quot;cordapp name: cordaAPI&quot;, I also tried &quot;implementation(&quot;:cordaAPI&quot;) and &quot;implementation file(&quot;/path/to/file.jar&quot;)&quot;  but didn&#39;t worked."}], "tags": [], "owner": {"reputation": 1105, "user_id": 8025412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1218b4152933db4e8574cf80927ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Newton", "link": "https://stackoverflow.com/users/8025412/dan-newton"}, "is_accepted": false, "score": 0, "last_activity_date": 1566913537, "creation_date": 1566913537, "answer_id": 57676074, "question_id": 57674723, "link": "https://stackoverflow.com/questions/57674723/cannot-find-the-cordapp-from-jar-file-in-local/57676074#57676074", "title": "cannot find the cordapp from jar file in local", "body": "<p><code>runPartyAServer</code> executes code, it does not run directly from a jar. If you want to use <code>runPartyAServer</code> the relevant code needs to be in the project.</p>\n\n<p>I dont think <code>cordapp name: cordaAPI</code> is valid syntax either.</p>\n\n<p>Take a look at: <a href=\"https://github.com/corda/cordapp-template-kotlin\" rel=\"nofollow noreferrer\">https://github.com/corda/cordapp-template-kotlin</a> for an example that integrates a spring webserver + corda.</p>\n"}], "owner": {"reputation": 87, "user_id": 1456110, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d97b546c3896202e2945c270d8feb750?s=128&d=identicon&r=PG", "display_name": "user1456110", "link": "https://stackoverflow.com/users/1456110/user1456110"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566921827, "creation_date": 1566908944, "last_edit_date": 1566921827, "question_id": 57674723, "link": "https://stackoverflow.com/questions/57674723/cannot-find-the-cordapp-from-jar-file-in-local", "title": "cannot find the cordapp from jar file in local", "body": "<p>My corda spring webserver project fails to refer to corda example cordapp. Based on this <a href=\"https://github.com/corda/samples/tree/release-V4/spring-webserver\" rel=\"nofollow noreferrer\">https://github.com/corda/samples/tree/release-V4/spring-webserver</a>, I have webserver and example as two different projects.</p>\n\n<p>I created jar out of example project, and placed its jar in lib folder under webserver project. But it fails when I run gradlew runPartyAServer</p>\n\n<pre><code>&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not find :cordaAPI:.\n     Required by:\n         project :\n</code></pre>\n\n<ul>\n<li><p>Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.</p></li>\n<li><p>Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileKotlin'.</p></li>\n</ul>\n\n<pre><code>    repositories {\n        mavenLocal()\n        mavenCentral()\n        jcenter()\n        maven { url 'https://ci-artifactory.corda.r3cev.com/artifactory/corda-releases' }\n        flatDir {\n            dirs \"$rootProject.projectDir/libs\"\n        }\n        flatDir {\n            dirs 'libs'\n        }\n    }\n\n    dependencies {\n    webserver\\\\libs\\\\cordaAPI-0.1.jar\"))\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test:$kotlin_version\"\n    testCompile \"junit:junit:$junit_version\"\n    testCompile name: 'cordaAPI'\n    // Corda dependencies.\n    compile \"$corda_release_group:corda-core:$corda_release_version\"\n    compile \"$corda_release_group:corda-rpc:$corda_release_version\"\n    compile(\"org.springframework.boot:spring-boot-starter- \n    websocket:$spring_boot_version\") {\n        exclude group: \"org.springframework.boot\", module: \"spring-boot- \n    starter-logging\"\n    }\n    compile \"org.apache.logging.log4j:log4j-slf4j-impl:$log4j_version\"\n    compile \"org.apache.logging.log4j:log4j-web:2.7\"\n    runtime \"$corda_release_group:corda:$corda_release_version\"\n    cordapp name: 'cordaAPI'\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "surfaceview", "android-videoview"], "comments": [{"owner": {"reputation": 574, "user_id": 5791681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h6rA.jpg?s=128&g=1", "display_name": "Ricardo A.", "link": "https://stackoverflow.com/users/5791681/ricardo-a"}, "edited": false, "score": 0, "creation_date": 1566911498, "post_id": 57674601, "comment_id": 101797975, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36564025/how-to-make-a-rounded-surfaceview\">How to make a rounded surfaceview</a>"}], "answers": [{"tags": [], "owner": {"reputation": 621, "user_id": 6875716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqr0O.jpg?s=128&g=1", "display_name": "Tariqul Islam", "link": "https://stackoverflow.com/users/6875716/tariqul-islam"}, "is_accepted": false, "score": 0, "last_activity_date": 1566910187, "creation_date": 1566910187, "answer_id": 57675103, "question_id": 57674601, "link": "https://stackoverflow.com/questions/57674601/how-to-create-rounded-corner-surfaceview-in-android/57675103#57675103", "title": "How to create rounded corner surfaceview in android", "body": "<p>You can not change directly <code>surface view</code> corner (Shape). But you can change your <code>CardView</code> corner by using </p>\n\n<pre><code>app:cardCornerRadius=\"10dp\" \napp:cardPreventCornerOverlap=\"false\"\n</code></pre>\n\n<p>and set the <code>SurfaceView</code> <code>match_parent</code> that can cover the <code>cardView</code>.</p>\n\n<p>Why you cannot change surface view shape?\nThe answer is <a href=\"https://stackoverflow.com/a/36583173/6875716\">here</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10527582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df9d74b006600d325ed98d8094ee20cf?s=128&d=identicon&r=PG&f=1", "display_name": "PJV", "link": "https://stackoverflow.com/users/10527582/pjv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 335, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566910187, "creation_date": 1566908513, "question_id": 57674601, "link": "https://stackoverflow.com/questions/57674601/how-to-create-rounded-corner-surfaceview-in-android", "title": "How to create rounded corner surfaceview in android", "body": "<p>I want to make a surface view which can have rounded corners. This surface view will be useful to render the video camera.</p>\n\n<p>I have already tried adding the surface view in the CardView with this code.</p>\n\n<pre><code>&lt;android.support.v7.widget.CardView \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/cvCard\"\n    android:layout_width=\"150dp\"\n    android:layout_height=\"150dp\"\n    android:clipChildren=\"true\"\n    android:clipToPadding=\"false\"\n    app:cardCornerRadius=\"15dp\"\n    app:cardPreventCornerOverlap=\"false\"\n    app:cardUseCompatPadding=\"false\"&gt;\n\n    &lt;Surfaceview is Added Programatically&gt;\n\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n\n<p>The result of this code is this <a href=\"https://i.stack.imgur.com/PlRLd.jpg\" rel=\"nofollow noreferrer\">image</a>. As you can see in the round corners the surface view is still visible. It is not entirely round within the card view and it always comes in rectangle shape.</p>\n\n<p>So is there any way to achieve the rounded corner Surfaceview?</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "androidx", "instrumentation"], "comments": [{"owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "edited": false, "score": 0, "creation_date": 1566910775, "post_id": 57673842, "comment_id": 101797555, "body": "In which folder do you have your test files? src/test or src/androidTest?"}, {"owner": {"reputation": 1558, "user_id": 957375, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3XXLZ.jpg?s=128&g=1", "display_name": "Booyaches", "link": "https://stackoverflow.com/users/957375/booyaches"}, "reply_to_user": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "edited": false, "score": 0, "creation_date": 1566972531, "post_id": 57673842, "comment_id": 101817307, "body": "@RicardoCosteira I have them in src/test"}, {"owner": {"reputation": 1558, "user_id": 957375, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3XXLZ.jpg?s=128&g=1", "display_name": "Booyaches", "link": "https://stackoverflow.com/users/957375/booyaches"}, "reply_to_user": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "edited": false, "score": 0, "creation_date": 1566973358, "post_id": 57673842, "comment_id": 101817586, "body": "@RicardoCosteira And that was the problem. When I moved my tests everything started to work. This is correct solution."}, {"owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "edited": false, "score": 1, "creation_date": 1566984286, "post_id": 57673842, "comment_id": 101822944, "body": "Thought so :P you&#39;re doing instrumentation tests. For instrumentation tests, you need to have your files in the androidTest folder. The test folder is meant for tests that don&#39;t require access to the Android framework. The way you import the dependencies also matter, because they affect the different folders. You&#39;re importing most of them with <code>androidTestImplementation</code>, thus saying you want those dependencies for the androidTest folder. That Junit <code>testImplementation</code> you have will only affect the tests inside src/test."}], "answers": [{"comments": [{"owner": {"reputation": 1558, "user_id": 957375, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3XXLZ.jpg?s=128&g=1", "display_name": "Booyaches", "link": "https://stackoverflow.com/users/957375/booyaches"}, "edited": false, "score": 0, "creation_date": 1566972415, "post_id": 57675702, "comment_id": 101817270, "body": "Thats the whole problem. I have imported before mentioned core package and ApplicationProvider still cannot be resolved."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 1558, "user_id": 957375, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3XXLZ.jpg?s=128&g=1", "display_name": "Booyaches", "link": "https://stackoverflow.com/users/957375/booyaches"}, "edited": false, "score": 0, "creation_date": 1566974026, "post_id": 57675702, "comment_id": 101817825, "body": "Right. AndroidTest and Test have different dependencies. If you use Robolectric, have a look at the answer. If not, you should build your database without context and in memory"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1566973837, "last_edit_date": 1566973837, "creation_date": 1566912323, "answer_id": 57675702, "question_id": 57673842, "link": "https://stackoverflow.com/questions/57673842/unresolved-androidx-classes-for-writing-unit-tests/57675702#57675702", "title": "Unresolved androidx classes for writing unit tests", "body": "<p>A simple <code>Context</code> can be resolved with</p>\n\n<pre><code>androidx.test.core.app.ApplicationProvider.getApplicationContext()\n</code></pre>\n\n<p>which is part of the core module</p>\n\n<pre><code>androidTestImplementation 'androidx.test:core:1.2.0'\n</code></pre>\n\n<p>When you use <em>Robolectric</em>, you can also have it as</p>\n\n<pre><code>testImplementation 'androidx.test:core:1.2.0'\n</code></pre>\n"}], "owner": {"reputation": 1558, "user_id": 957375, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3XXLZ.jpg?s=128&g=1", "display_name": "Booyaches", "link": "https://stackoverflow.com/users/957375/booyaches"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566973837, "creation_date": 1566905800, "last_edit_date": 1566910249, "question_id": 57673842, "link": "https://stackoverflow.com/questions/57673842/unresolved-androidx-classes-for-writing-unit-tests", "title": "Unresolved androidx classes for writing unit tests", "body": "<p>I am trying to write my first test and I have problem figuring out the right dependencies to get everything to work. Here is my test class </p>\n\n<pre><code>class EmployeeDatabaseTest {\n    private lateinit var employeeDao: EmployeeDAO\n\n    @Before\n    fun setup() {\n        EmployeeDatabase.TEST_MODE = true\n        employeeDao = EmployeeDatabase.getDatabase(??).employeeDao()\n    }\n\n    @Test\n    fun should_Insert_Employee_Item() {\n        val employee = Employee(\"xx\", \"xx\", 31, Gender.MALE)\n        employee.id = 1\n        runBlocking {  employeeDao.addNewEmployee(employee) }\n        val employeeTest = runBlocking {  getValue(employeeDao.getEmployeeById(employee.id!!)) }\n        Assert.assertEquals(employee.name, employeeTest.name)\n    }\n}\n</code></pre>\n\n<p>Normally I would obtain context by <code>InstrumentationRegistry.getContext()...</code>but <code>InstrumentationRegistry</code> can't be resolved. It also can't resolve <code>getValue(..)</code> method. I am new to testing but I bet is something with dependencies. Here is my <code>build.gradle</code>:</p>\n\n<pre><code>dependencies {\n   ...\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test:rules:1.2.0'\n    androidTestImplementation 'org.hamcrest:hamcrest-library:1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation 'androidx.test.uiautomator:uiautomator:2.2.0'\n    androidTestImplementation 'androidx.test:core:1.2.0'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n}\n\ndefaultConfig {\n    ...\n    testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n}\n</code></pre>\n\n<p>Do I miss something I am I doing something wrong?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 2, "creation_date": 1566905826, "post_id": 57673717, "comment_id": 101794620, "body": "you can&#39;t do this in java either, unless abcList is also static. Try moving abcList into the companion object"}, {"owner": {"reputation": 391, "user_id": 9708904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gY074.jpg?s=128&g=1", "display_name": "Danial clarc", "link": "https://stackoverflow.com/users/9708904/danial-clarc"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1566906280, "post_id": 57673717, "comment_id": 101794872, "body": "how can I make abcList static in kotlin class, as my other function in class one are also using abcList for some operations @TimCastelijns"}, {"owner": {"reputation": 305, "user_id": 4544797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365bed9c03091b0f222e148ee9ef07ab?s=128&d=identicon&r=PG", "display_name": "Abu Noman", "link": "https://stackoverflow.com/users/4544797/abu-noman"}, "edited": false, "score": 0, "creation_date": 1566906308, "post_id": 57673717, "comment_id": 101794890, "body": "Non-static functions/variables aren&#39;t accessible from static function, same for Kotlin."}, {"owner": {"reputation": 5177, "user_id": 2219208, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/eA3xp.jpg?s=128&g=1", "display_name": "Lakhwinder Singh", "link": "https://stackoverflow.com/users/2219208/lakhwinder-singh"}, "edited": false, "score": 0, "creation_date": 1566906348, "post_id": 57673717, "comment_id": 101794919, "body": "why don&#39;t you just extend <code>one</code> class"}], "answers": [{"comments": [{"owner": {"reputation": 391, "user_id": 9708904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gY074.jpg?s=128&g=1", "display_name": "Danial clarc", "link": "https://stackoverflow.com/users/9708904/danial-clarc"}, "edited": false, "score": 0, "creation_date": 1566906322, "post_id": 57673889, "comment_id": 101794904, "body": "I wants to use abcList globally in class one"}, {"owner": {"reputation": 2336, "user_id": 751482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCcyX.jpg?s=128&g=1", "display_name": "pshegger", "link": "https://stackoverflow.com/users/751482/pshegger"}, "reply_to_user": {"reputation": 391, "user_id": 9708904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gY074.jpg?s=128&g=1", "display_name": "Danial clarc", "link": "https://stackoverflow.com/users/9708904/danial-clarc"}, "edited": false, "score": 0, "creation_date": 1566906410, "post_id": 57673889, "comment_id": 101794961, "body": "By globally you mean you want to change the same ArrayList from every instance from class One?"}, {"owner": {"reputation": 391, "user_id": 9708904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gY074.jpg?s=128&g=1", "display_name": "Danial clarc", "link": "https://stackoverflow.com/users/9708904/danial-clarc"}, "edited": false, "score": 0, "creation_date": 1566906568, "post_id": 57673889, "comment_id": 101795067, "body": "I wants to use abcList in other functions of class one ,and add or remove string from abcList from class Two . I can do that easily in java by making abcList static and a static function in class One"}, {"owner": {"reputation": 2336, "user_id": 751482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCcyX.jpg?s=128&g=1", "display_name": "pshegger", "link": "https://stackoverflow.com/users/751482/pshegger"}, "reply_to_user": {"reputation": 391, "user_id": 9708904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gY074.jpg?s=128&g=1", "display_name": "Danial clarc", "link": "https://stackoverflow.com/users/9708904/danial-clarc"}, "edited": false, "score": 0, "creation_date": 1566906706, "post_id": 57673889, "comment_id": 101795151, "body": "The answer I gave you is the same, by moving the list inside the companion object I made the list static too."}, {"owner": {"reputation": 391, "user_id": 9708904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gY074.jpg?s=128&g=1", "display_name": "Danial clarc", "link": "https://stackoverflow.com/users/9708904/danial-clarc"}, "edited": false, "score": 0, "creation_date": 1566907185, "post_id": 57673889, "comment_id": 101795408, "body": "Please check edited question now , what i wants to achieve . @pshegger"}, {"owner": {"reputation": 2336, "user_id": 751482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCcyX.jpg?s=128&g=1", "display_name": "pshegger", "link": "https://stackoverflow.com/users/751482/pshegger"}, "reply_to_user": {"reputation": 391, "user_id": 9708904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gY074.jpg?s=128&g=1", "display_name": "Danial clarc", "link": "https://stackoverflow.com/users/9708904/danial-clarc"}, "edited": false, "score": 0, "creation_date": 1566907722, "post_id": 57673889, "comment_id": 101795727, "body": "I added the Kotlin version of your example, this code will do the same thing as the Java one."}], "tags": [], "owner": {"reputation": 2336, "user_id": 751482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCcyX.jpg?s=128&g=1", "display_name": "pshegger", "link": "https://stackoverflow.com/users/751482/pshegger"}, "is_accepted": true, "score": 2, "last_activity_date": 1566907691, "last_edit_date": 1566907691, "creation_date": 1566905956, "answer_id": 57673889, "question_id": 57673717, "link": "https://stackoverflow.com/questions/57673717/access-parent-class-variables-in-companion-object-in-kotlin/57673889#57673889", "title": "Access Parent class variables in companion Object in Kotlin", "body": "<p>In your case <code>abcList</code> is a member variable of the class. Each instance of a class has their own version of its member variables which means that a static method cannot access them. If you want to access it from your companion object it has to be static too.</p>\n\n<pre><code>class One {\n    companion object {\n        val abcList = ArrayList&lt;String&gt;()\n\n        fun returnString() {\n            println(abcList[0])\n        }\n    }\n}\n\nclass Two {\n    fun tryPrint() {\n        One.returnString()\n    }\n}\n</code></pre>\n\n<p>This code will work, but keep in mind that in this case there will be only one instance of <code>abcList</code>. Accessing a member variable from a static function is not possible (not even in Java).</p>\n\n<p>Here's the Kotlin version of your Java example:</p>\n\n<pre><code>class One {\n    companion object {\n        val abcList = ArrayList&lt;String&gt;()\n\n        fun printOnDemand() {\n            println(abcList[0])\n        }\n    }\n\n    fun tryPrint() {\n        for (ab in abcList) {\n            println(ab)\n        }\n    }\n}\n\nclass Two {\n    fun tryPrint() {\n        One.printOnDemand()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 305, "user_id": 4544797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365bed9c03091b0f222e148ee9ef07ab?s=128&d=identicon&r=PG", "display_name": "Abu Noman", "link": "https://stackoverflow.com/users/4544797/abu-noman"}, "is_accepted": false, "score": -1, "last_activity_date": 1566907727, "last_edit_date": 1566907727, "creation_date": 1566906477, "answer_id": 57674027, "question_id": 57673717, "link": "https://stackoverflow.com/questions/57673717/access-parent-class-variables-in-companion-object-in-kotlin/57674027#57674027", "title": "Access Parent class variables in companion Object in Kotlin", "body": "<p>Use the following code for you case.</p>\n\n<pre><code>object One {\n    val abcList: MutableList&lt;String&gt; = mutableListOf()\n\n    fun returnString() {\n       println(abcList[0])\n    }\n\n    fun printOnDemand() {\n       println(abcList[0]);\n    }\n}\n\nclass Two {\n    fun tryPrint() {\n        One.printOnDemand()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 14171381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0YWt5.png?s=128&g=1", "display_name": "Meraj", "link": "https://stackoverflow.com/users/14171381/meraj"}, "is_accepted": false, "score": 1, "last_activity_date": 1599023632, "creation_date": 1599023632, "answer_id": 63699079, "question_id": 57673717, "link": "https://stackoverflow.com/questions/57673717/access-parent-class-variables-in-companion-object-in-kotlin/63699079#63699079", "title": "Access Parent class variables in companion Object in Kotlin", "body": "<p>Rule: You can't access static properties, members of a class in none static members and you can't access none static properties, members of a class in static members which is the companion object class.\nThis rule is in both Java and Kotlin. If you want to access a none static member of a class\ninside static members you have to declare it inside companion object class.</p>\n"}], "owner": {"reputation": 391, "user_id": 9708904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gY074.jpg?s=128&g=1", "display_name": "Danial clarc", "link": "https://stackoverflow.com/users/9708904/danial-clarc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6975, "favorite_count": 0, "accepted_answer_id": 57673889, "answer_count": 3, "score": 4, "last_activity_date": 1599023632, "creation_date": 1566905366, "last_edit_date": 1566907841, "question_id": 57673717, "link": "https://stackoverflow.com/questions/57673717/access-parent-class-variables-in-companion-object-in-kotlin", "title": "Access Parent class variables in companion Object in Kotlin", "body": "<p>I am trying to call static function of one class in other like java , But in kotlin I can not make a static function , and I have to make a companion object in which I have to define my function , But while doing this I am not able to access parent class variables , is there any way I can achieve this in kotlin . </p>\n\n<pre><code>class One {\n\n    val abcList = ArrayList&lt;String&gt;()\n\n    companion object {\n\n        fun returnString() {\n            println(abcList[0]) // not able to access abcList here\n        }\n    }\n}\n\nclass Two {\n\n    fun tryPrint() {\n        One.returnString()\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>// In Java we can do it like this\n\nclass One {\n\n    private static ArrayList&lt;String&gt; abcList = new ArrayList&lt;&gt;();\n\n    public void tryPrint() {\n        // assume list is not empty \n        for(String ab : abcList) {\n            System.out.println(ab);\n        }\n    }\n\n    public static void printOnDemand() {\n        System.out.println(abcList.get(0));\n    }\n}\n\nclass Two {\n\n    public void tryPrint(){\n        One.printOnDemand();\n    }\n}\n</code></pre>\n\n<p>I want to access fun returnString() like static function of class one like we do in java , if any one have achieved this please help .</p>\n"}, {"tags": ["java", "android", "kotlin", "speech-recognition", "speech-to-text"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 8139318, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-31qTf9GiB8Y/AAAAAAAAAAI/AAAAAAAAAWo/KQQhXdAXN9A/photo.jpg?sz=128", "display_name": "Miguel Yengle", "link": "https://stackoverflow.com/users/8139318/miguel-yengle"}, "is_accepted": false, "score": 0, "last_activity_date": 1570114447, "creation_date": 1570114447, "answer_id": 58221745, "question_id": 57673683, "link": "https://stackoverflow.com/questions/57673683/android-speech-recognizer-stops-automatically-need-to-implement-like-google-bo/58221745#58221745", "title": "Android Speech Recognizer stops automatically - Need to implement like Google Bolo App", "body": "<p>You could give a look at this example that uses SpeechRecognizer without internet:</p>\n\n<ul>\n<li><a href=\"https://github.com/cryptocat-miner/SpeechRecognizerSample\" rel=\"nofollow noreferrer\">https://github.com/cryptocat-miner/SpeechRecognizerSample</a></li>\n</ul>\n\n<p>*By the way, it's in japanesse.</p>\n\n<p>About the continious listening... it's kind of tricky with Android's SpeechRecognizer library. I have done this before long time ago and the problem was about the device's microphones. If it is, in some way, blocked or interrupted by something, let's say the entrance is covered with something or the person is using handfree (bluetooth, that's another thing to think too), the results won't be 100% success.</p>\n\n<p>I could recomend you to use the component Service. This will keep the SpeechRecognizer ongoing. But consider the states:</p>\n\n<ul>\n<li>listening -> process** -> answer -> action -> listening again</li>\n</ul>\n\n<p>**In process, the app could fail listening, you will neeed to handle that too.</p>\n\n<p>And as the component Service is running on background, you will need to connect this with your activities or fragments (maybe using Binders or Broadcast, depends on your app)</p>\n\n<pre><code>class ServiceSpeech : Service(), RecognitionListener {\n\n    val mVoiceBinder: IBinder = LocalBinder()\n\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n        return START_STICKY\n    }\n\n    inner class LocalBinder : Binder() {\n        fun getService(): ServiceSpeech? {\n            return this@ServiceSpeech\n        }\n    }\n\n    /*\n    *\n    * create the methods for:\n    * build speechrecognizer\n    * startlistening\n    * stoplistening\n    * listeningAgain\n    * send the results to activity/fragment\n    *\n    * */\n\n    override fun onBind(p0: Intent?): IBinder? {\n        return mVoiceBinder\n    }\n\n    override fun onReadyForSpeech(p0: Bundle?) {\n        //important\n    }\n\n    override fun onBeginningOfSpeech() {\n        //important\n    }\n\n    override fun onError(p0: Int) {\n        //important, you could check SpeechRecognizer.ERROR_* to handle the errors\n    }\n\n    override fun onRmsChanged(p0: Float) {\n        //handle some events, will give you the sound intensity\n    }\n\n    override fun onPartialResults(p0: Bundle?) {\n        //important\n    }\n\n    override fun onResults(p0: Bundle?) {\n        //important\n    }\n\n    override fun onEndOfSpeech() {\n        //important\n    }\n\n    override fun onEvent(p0: Int, p1: Bundle?) {\n    }\n\n    override fun onBufferReceived(p0: ByteArray?) {\n    }\n}\n</code></pre>\n\n<p>I hope this can help you.</p>\n"}], "owner": {"reputation": 2265, "user_id": 1278177, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/JTmTi.jpg?s=128&g=1", "display_name": "Satish Azad", "link": "https://stackoverflow.com/users/1278177/satish-azad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 988, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570114447, "creation_date": 1566905266, "last_edit_date": 1592644375, "question_id": 57673683, "link": "https://stackoverflow.com/questions/57673683/android-speech-recognizer-stops-automatically-need-to-implement-like-google-bo", "title": "Android Speech Recognizer stops automatically - Need to implement like Google Bolo App", "body": "<p>In Android while using SpeechRecognizer, I have noticed that SpeechRecognizer stopped listening automatically in few seconds.</p>\n<p>I am working on an app that requires continuous speech input from the user. Our app needs to work without internet. For speech recognition we are using SpeechRecognizer class.</p>\n<p>Below is the implementation: (in Kotlin)</p>\n<pre><code>var recognizer = SpeechRecognizer.createSpeechRecognizer(this.applicationContext)\nrecognizer!!.setRecognitionListener(RecognitionListener(this))\n</code></pre>\n<p>To start Listening</p>\n<pre><code>val intent = Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH)\nintent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM)\nintent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, &quot;com.taazaa.texttospeechdemo&quot;)\nrecognizer!!.startListening(intent)\n</code></pre>\n<p>This is working fine until user takes a pause while speaking.</p>\n<p>I need following implementation:</p>\n<ol>\n<li><p>SpeechRecognizer should not stop listening until user manually stop recognition.</p>\n<p>recognizer!!.stopListening()</p>\n</li>\n<li><p>Everytime when recognition starts or stops device makes a beep sound which I need to stop.</p>\n</li>\n<li><p>App should work in Offline Mode mostly.</p>\n<p>let me know what I am doing wrong and what need to implement to support above two points. Google Bolo is doing this so there could be a way.\nGoogle bolo: <a href=\"https://play.google.com/store/apps/details?id=com.google.android.apps.seekh&amp;hl=en_IN\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.google.android.apps.seekh&amp;hl=en_IN</a></p>\n</li>\n</ol>\n<p>I tried many links and some of them are mentioned below:</p>\n<p><a href=\"https://stackoverflow.com/questions/31562229/offline-speech-recognition-in-android\">Offline Speech Recognition in Android</a></p>\n<p><a href=\"https://stackoverflow.com/questions/17616994/offline-speech-recognition-in-android-jellybean\">Offline Speech Recognition In Android (JellyBean)</a></p>\n<p><a href=\"https://stackoverflow.com/questions/5810942/how-to-handle-error-recognizer-busy\">How to handle ERROR_RECOGNIZER_BUSY</a></p>\n<p><a href=\"https://stackoverflow.com/questions/5913773/speech-to-text-on-android\">Speech to Text on Android</a></p>\n"}, {"tags": ["android", "kotlin", "butterknife"], "answers": [{"tags": [], "owner": {"reputation": 15, "user_id": 8760831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91eb6cf4c9af445c0986146144c207c5?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Sharma", "link": "https://stackoverflow.com/users/8760831/hemant-sharma"}, "is_accepted": true, "score": 0, "last_activity_date": 1566971384, "creation_date": 1566971384, "answer_id": 57685814, "question_id": 57672084, "link": "https://stackoverflow.com/questions/57672084/java-lang-illegalstateexception-required-view-not-found-butterknife-not-worki/57685814#57685814", "title": "java.lang.IllegalStateException: Required view not found - butterknife not working sometimes", "body": "<p>What i can see from the logs that you are using kotlin, so instead of butterknife you can replace your code with view binding(area which are getting error)</p>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html</a></li>\n</ul>\n"}], "owner": {"reputation": 3539, "user_id": 4903889, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/VHe5d.jpg?s=128&g=1", "display_name": "AskQ", "link": "https://stackoverflow.com/users/4903889/askq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 57685814, "answer_count": 1, "score": 2, "last_activity_date": 1566971384, "creation_date": 1566899649, "last_edit_date": 1566912540, "question_id": 57672084, "link": "https://stackoverflow.com/questions/57672084/java-lang-illegalstateexception-required-view-not-found-butterknife-not-worki", "title": "java.lang.IllegalStateException: Required view not found - butterknife not working sometimes", "body": "<p>I'm getting following exception if sometimes thought of posting it after a month. Every time I have to delete build folder and error goes away. So it is risky to stay like this condition for long run, as sometimes developer might forget to check this activity is opening or not.</p>\n\n<p>So far strangely it is only happening with one file ProductListActivity.kt</p>\n\n<p>This runtime error looks like common error Is there a Gradle configurations needed to fix it.</p>\n\n<p>How to completely get rid of it?</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo ProductDetails.activity.ProductListActivity}: java.lang.IllegalStateException: Required view 'name_text_box' with ID 2131362920 for method 'onNearbyClicked' was not found. If this view is optional add '@Nullable' (fields) or '@Optional' (methods) annotation.\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2298)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2360)\n        at android.app.ActivityThread.access$800(ActivityThread.java:144)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1278)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5221)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\n     Caused by: java.lang.IllegalStateException: Required view 'name_text_box' with ID 2131362920 for method 'onNearbyClicked' was not found. If this view is optional add '@Nullable' (fields) or '@Optional' (methods) annotation.\n        at butterknife.internal.Utils.findRequiredView(Utils.java:88)\n        at ProductDetails.activity.ProductListActivity_ViewBinding.&lt;init&gt;(ProductListActivity_ViewBinding.java:27)\n        at java.lang.reflect.Constructor.newInstance(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:288)\n        at butterknife.ButterKnife.bind(ButterKnife.java:170)\n        at butterknife.ButterKnife.bind(ButterKnife.java:99)\n        at common.BaseActivity.setContentView(BaseActivity.java:51)\n        at ProductDetails.activity.ProductListActivity.onCreate(ProductListActivity.kt:220)\n        at android.app.Activity.performCreate(Activity.java:5937)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\n        at and\n</code></pre>\n"}, {"tags": ["android", "google-maps", "kotlin", "android-permissions"], "comments": [{"owner": {"reputation": 479, "user_id": 5424626, "user_type": "registered", "profile_image": "https://graph.facebook.com/476290759207767/picture?type=large", "display_name": "Furqan Khan", "link": "https://stackoverflow.com/users/5424626/furqan-khan"}, "edited": false, "score": 0, "creation_date": 1566899191, "post_id": 57671828, "comment_id": 101791085, "body": "can you show me the code where you are calling checkPermission() method"}, {"owner": {"reputation": 69, "user_id": 11293403, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-57qQlq9q6BQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfBd8Y_PMp125C5q_AYRCVmo_T-Vw/mo/photo.jpg?sz=128", "display_name": "plethorax", "link": "https://stackoverflow.com/users/11293403/plethorax"}, "reply_to_user": {"reputation": 479, "user_id": 5424626, "user_type": "registered", "profile_image": "https://graph.facebook.com/476290759207767/picture?type=large", "display_name": "Furqan Khan", "link": "https://stackoverflow.com/users/5424626/furqan-khan"}, "edited": false, "score": 0, "creation_date": 1566901756, "post_id": 57671828, "comment_id": 101792460, "body": "@FurqanKhan just edited the question and added the code"}, {"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1566902757, "post_id": 57671828, "comment_id": 101792921, "body": "You still haven&#39;t shown us where you call <code>checkPermission</code>."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 11293403, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-57qQlq9q6BQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfBd8Y_PMp125C5q_AYRCVmo_T-Vw/mo/photo.jpg?sz=128", "display_name": "plethorax", "link": "https://stackoverflow.com/users/11293403/plethorax"}, "edited": false, "score": 0, "creation_date": 1566902646, "post_id": 57672791, "comment_id": 101792868, "body": "Making this small mistake did help a lot!"}], "tags": [], "owner": {"reputation": 479, "user_id": 5424626, "user_type": "registered", "profile_image": "https://graph.facebook.com/476290759207767/picture?type=large", "display_name": "Furqan Khan", "link": "https://stackoverflow.com/users/5424626/furqan-khan"}, "is_accepted": true, "score": 1, "last_activity_date": 1566902030, "creation_date": 1566902030, "answer_id": 57672791, "question_id": 57671828, "link": "https://stackoverflow.com/questions/57671828/map-apk-not-asking-for-location-access-permission/57672791#57672791", "title": "Map apk not asking for location access permission", "body": "<p>You need to call <code>checkPermission()</code></p>\n\n<p>in the <code>onCreate()</code> method of your activity</p>\n"}], "owner": {"reputation": 69, "user_id": 11293403, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-57qQlq9q6BQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfBd8Y_PMp125C5q_AYRCVmo_T-Vw/mo/photo.jpg?sz=128", "display_name": "plethorax", "link": "https://stackoverflow.com/users/11293403/plethorax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 57672791, "answer_count": 1, "score": -3, "last_activity_date": 1566911156, "creation_date": 1566898888, "last_edit_date": 1566911156, "question_id": 57671828, "link": "https://stackoverflow.com/questions/57671828/map-apk-not-asking-for-location-access-permission", "title": "Map apk not asking for location access permission", "body": "<p>I have a map activity and I have incorporated my code for requesting permission in accordance with the 'dangerous permissions' criteria but the code isn't effective as it's not asking for permission on my android phone (API 25).</p>\n\n<p>I have used both these permissions in AndroidManifest.xml for enabling the access permission.</p>\n\n<pre><code>var ACCESSLOCATION=143\n\nfun checkPermission()\n{\n    if(Build.VERSION.SDK_INT&gt;=23) //dangerous permission condition used\n    {\n        if(ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)!=PackageManager.PERMISSION_GRANTED)\n            requestPermissions(arrayOf(android.Manifest.permission.ACCESS_FINE_LOCATION), ACCESSLOCATION) \n    }\n    getLocation()      \n}\n\nfun getLocation()\n{\n    Toast.makeText(this,\"User Location access is on\",Toast.LENGTH_LONG).show()\n}\n\noverride fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;?, grantResults: IntArray?) {\n    when(requestCode)\n    {\n        ACCESSLOCATION-&gt;\n        {\n            if(grantResults!![0]==PackageManager.PERMISSION_GRANTED)\n                getLocation()\n            else\n            {\n                Toast.makeText(this,\"Access not granted to your location\",Toast.LENGTH_LONG).show()\n            }\n        }\n    }\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n}\n</code></pre>\n\n<p>AndroidManifest.xml containing the permission:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.ritika.pokemonand\"&gt;\n    &lt;!--\n         The ACCESS_COARSE/FINE_LOCATION permissions are not required to use\n         Google Maps Android API v2, but you must specify either coarse or \n    fine\n         location permissions for the 'MyLocation' functionality. \n    --&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n    &lt;meta-data\n    android:name=\"com.google.android.geo.API_KEY\"\n    android:value=\"@string/google_maps_key\" /&gt;\n\n    &lt;activity\n    android:name=\".MapsActivity\"\n    android:label=\"Pokemon\"&gt;\n    &lt;intent-filter&gt;\n    &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n    &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n    &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;/application&gt;\n\n    &lt;/manifest&gt;\n</code></pre>\n\n<p>I expect it to show a pop-up message requesting access to permission.</p>\n"}, {"tags": ["arrays", "kotlin", "hex", "bluetooth-lowenergy"], "comments": [{"owner": {"reputation": 5335, "user_id": 6920962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e62cd73355fc90d37429f9443df38da?s=128&d=identicon&r=PG&f=1", "display_name": "user28434", "link": "https://stackoverflow.com/users/6920962/user28434"}, "edited": false, "score": 0, "creation_date": 1566898448, "post_id": 57671564, "comment_id": 101790687, "body": "<code>negative numbers are baffling me</code> \u2014 JVM uses signed numbers for everything, and for signed number most significant bit &quot;shows&quot; sign of the number (0 \u2014 positive, 1 \u2014 negative). So if you just look at unsigned number as signed, everything higher than 127(0111 1111) would be negative."}, {"owner": {"reputation": 35, "user_id": 11851916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132b6c4546a061e9e06577ebe71f2cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Sosa", "link": "https://stackoverflow.com/users/11851916/sosa"}, "reply_to_user": {"reputation": 5335, "user_id": 6920962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e62cd73355fc90d37429f9443df38da?s=128&d=identicon&r=PG&f=1", "display_name": "user28434", "link": "https://stackoverflow.com/users/6920962/user28434"}, "edited": false, "score": 0, "creation_date": 1566898698, "post_id": 57671564, "comment_id": 101790816, "body": "Thanks, but for example how can i interprete -91, for example? like 1001 0001 ? or? Sorry im a little bit confused"}, {"owner": {"reputation": 35, "user_id": 11851916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132b6c4546a061e9e06577ebe71f2cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Sosa", "link": "https://stackoverflow.com/users/11851916/sosa"}, "reply_to_user": {"reputation": 5335, "user_id": 6920962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e62cd73355fc90d37429f9443df38da?s=128&d=identicon&r=PG&f=1", "display_name": "user28434", "link": "https://stackoverflow.com/users/6920962/user28434"}, "edited": false, "score": 0, "creation_date": 1566899365, "post_id": 57671564, "comment_id": 101791187, "body": "I already know the theory of 2s complement, but im referring at how should i treat this numbers: -91 in binary is -1011011, in 2s complement i obtain 0100101, and then i should i pass to hexa? like obtaining 25 ??"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11851916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132b6c4546a061e9e06577ebe71f2cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Sosa", "link": "https://stackoverflow.com/users/11851916/sosa"}, "edited": false, "score": 0, "creation_date": 1566900019, "post_id": 57672098, "comment_id": 101791554, "body": "Thats exactly what i was searching for, lots of thanks!"}], "tags": [], "owner": {"reputation": 2336, "user_id": 751482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCcyX.jpg?s=128&g=1", "display_name": "pshegger", "link": "https://stackoverflow.com/users/751482/pshegger"}, "is_accepted": true, "score": 2, "last_activity_date": 1566899683, "creation_date": 1566899683, "answer_id": 57672098, "question_id": 57671564, "link": "https://stackoverflow.com/questions/57671564/cast-from-bytearray-to-hexa-kotlin/57672098#57672098", "title": "Cast from bytearray to hexa Kotlin", "body": "<p>As others have already mentioned having a negative number in a byte array only means that the number is larger than 127.</p>\n\n<p>As for your question on how to display them as hex, you can use the built-in string formatting functions. You can add a transform block to your <code>joinToString</code> call which can convert your byte to a hex string:</p>\n\n<pre><code>val dataparsed = data?.joinToString ( \" : \" ) { \"%02x\".format(it) }\n</code></pre>\n\n<p>This way your output will be formatted correctly.</p>\n"}], "owner": {"reputation": 35, "user_id": 11851916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132b6c4546a061e9e06577ebe71f2cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Sosa", "link": "https://stackoverflow.com/users/11851916/sosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 57672098, "answer_count": 1, "score": 0, "last_activity_date": 1566899683, "creation_date": 1566897958, "last_edit_date": 1566898437, "question_id": 57671564, "link": "https://stackoverflow.com/questions/57671564/cast-from-bytearray-to-hexa-kotlin", "title": "Cast from bytearray to hexa Kotlin", "body": "<p>im developing an app wich receive a continuous flow of data using ble, at this moment i properly read the flow sent by the device, but in fact i don't know how to interpret it.</p>\n\n<p>This is my onCharacteristicChanged function </p>\n\n<pre><code>    override fun onCharacteristicChanged(\n        gatt: BluetoothGatt,\n        characteristic: BluetoothGattCharacteristic?\n    ) {\n        if (characteristic != null &amp;&amp; characteristic.properties == BluetoothGattCharacteristic.PROPERTY_NOTIFY) {\n            Log.e(TAG, \"**THIS IS A NOTIFY MESSAGE\")\n        }\n        if (characteristic != null) {\n            data = characteristic.value\n            Log.e(\"onCharacteristicChanged\", \"Datos:\")\n            Log.e(\"onCharacteristicChanged\", \"$data\")\n            val dataparsed = data?.joinToString ( \" : \" )\n            Log.e(\"onCharacteristicChanged\", \"$dataparsed\")\n            broadcastUpdate(\"com.np.lekotlin.ACTION_DATA_AVAILABLE\")\n\n        }\n    }\n</code></pre>\n\n<p>This function is called everytime the device send me some info, returning an exit like this one:</p>\n\n<p><a href=\"https://i.stack.imgur.com/V902L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V902L.png\" alt=\"enter image description here\"></a></p>\n\n<p>Where we can see two interpretations of the same data</p>\n\n<p>The data without treatment (the bytearray):\n [B@ ****\nAnd the data after the joinToString (function i thought it would help me casting into hexa):\n** : **: **: **: **: **: **: **: **: ** &lt;-- But here there are negative numbers!!</p>\n\n<p>My problem comes when i compare this output with the returned by another software i am using, CySmart</p>\n\n<p>Wich returns me something like</p>\n\n<p>07:94:02:5A:56:00:76:35:00:00</p>\n\n<p>07:2F:02:5F:45:00:B0:36:00:00</p>\n\n<p>07:E4:01:50:47:00:6D:37:00:00</p>\n\n<p>07:0C:02:53:4A:00:56:38:00:00</p>\n\n<p>This output obviously follows a pattern, the first 7 and the 2 last group of 0s, for example but the negative numbers are baffling me.</p>\n\n<p>So, in summary, my question is, exist any native way in kotlin to cast from bytearray to hexa? (without negative numbers)\nIn case im already casting it properly do u figure how can i treat, or wich is the patron with the negatives numbers? It seems like 2\u00b4s complement or something like that but i dont know it surely. </p>\n\n<p>Lots of thanks in advise.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5335, "user_id": 6920962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e62cd73355fc90d37429f9443df38da?s=128&d=identicon&r=PG&f=1", "display_name": "user28434", "link": "https://stackoverflow.com/users/6920962/user28434"}, "edited": false, "score": 1, "creation_date": 1566896962, "post_id": 57671050, "comment_id": 101789881, "body": "<code>fgh&#39;s set</code> is recursively calling itself, causing infinite recursion on finite hardware, which leads to <code>[return address] stack overflow</code>. You can&#39;t just make it work like that."}], "answers": [{"tags": [], "owner": {"reputation": 2336, "user_id": 751482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCcyX.jpg?s=128&g=1", "display_name": "pshegger", "link": "https://stackoverflow.com/users/751482/pshegger"}, "is_accepted": true, "score": 4, "last_activity_date": 1566897762, "creation_date": 1566897762, "answer_id": 57671508, "question_id": 57671050, "link": "https://stackoverflow.com/questions/57671050/multiple-inheritance-with-one-class-and-interfaces-in-kotlin/57671508#57671508", "title": "Multiple inheritance with one class and interfaces in Kotlin", "body": "<p>You were on the right track with your first try. You really have to override the attributes in the interface, but it doesn't have to be done in the constructor. You can do it in the class body and that way you can add a default value for them (not only can, but you must). If you make that class open you can then extend from it in all your classes.</p>\n\n<pre><code>open class InheritanceTest: LibraryClass(), MyInterface {\n    override var y: Int = 0\n    override var z: Int = 0\n    override var abc: Int = 0\n\n    fun print() {\n        println(\"My values: $x, $y, $z\")\n    }\n}\n</code></pre>\n\n<p>With this class your original main will print <code>My values: 1, 5, 25</code>, and you will be able to inherit from this class without having to override/initialize anything (but you can use the <code>init</code> block to customize your superclass). For example:</p>\n\n<pre><code>class MyClass : InheritanceTest() {\n    init {\n        myMethod(4)\n    }\n}\n\nfun main() {\n    val test = MyClass()\n    test.setMyX(2)\n    test.print()\n}\n</code></pre>\n\n<p>will print <code>My values: 2, 4, 16</code></p>\n\n<p>I hope I understood your question correctly and could help :)</p>\n"}, {"tags": [], "owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1566900949, "last_edit_date": 1566900949, "creation_date": 1566898514, "answer_id": 57671718, "question_id": 57671050, "link": "https://stackoverflow.com/questions/57671050/multiple-inheritance-with-one-class-and-interfaces-in-kotlin/57671718#57671718", "title": "Multiple inheritance with one class and interfaces in Kotlin", "body": "<p>Any concrete class implementing an interface must implement all the members of the interface, otherwise it doesn't fulfill the contract. If you have attributes in the interface that you don't implement in your class, then your class doesn't satisfy the interface, hence the compile error. Any user of the interface expects the actual instance to provide all the functionality of the interface, that's why the compiler enforces it.</p>\n\n<p>If you want to share some fields but not all, you can create a hierarchy of interfaces, and just implement the ones you need. I don't fully understand what you're trying to achieve here and why there would be so much redundancy in the attributes you want to add, though.</p>\n\n<p>Another way to extend library classes to add methods would be to define <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extension functions/properties</a> on the library classes, but you'll need to repeat some stuff and you won't be able to store state there.</p>\n\n<p>If you do need to store state, and you don't want to re-implement all fields manually, you can also use the <a href=\"https://kotlinlang.org/docs/reference/delegation.html\" rel=\"nofollow noreferrer\">delegation</a> mechanism.\nCreate a single class implementing your common interface and provide an instance of this class when creating your custom extension classes for the lib. Then again, it seems to be the solution to the wrong problem, and it'd be better to really understand what you're trying to achieve here.</p>\n"}, {"tags": [], "owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "is_accepted": false, "score": 1, "last_activity_date": 1566898698, "creation_date": 1566898698, "answer_id": 57671774, "question_id": 57671050, "link": "https://stackoverflow.com/questions/57671050/multiple-inheritance-with-one-class-and-interfaces-in-kotlin/57671774#57671774", "title": "Multiple inheritance with one class and interfaces in Kotlin", "body": "<p>First of all, the reason behind <code>StackOverflowError</code> is that you are recursively accessing the property in your setter and getter:</p>\n\n<pre><code>var fgh: Int \n    get()  { return fgh } // recursive call to getFgh()\n    set(v) { fgh = v } // recursive call to setFgh(v)\n</code></pre>\n\n<p>In order to access the property's <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">backing field</a> in the custom accessors, you need to use the <code>field</code> identifier:</p>\n\n<pre><code>var fgh: Int \n    get()  { return field }\n    set(v) { field = value }\n</code></pre>\n\n<p>However in this case custom accessors are redundant, the point was to introduce the <code>field</code> identifier. Also this still won't work in interfaces as properties in interfaces can't be initialized or can't have backing fields.</p>\n\n<p>In order to achieve more or less what you want (if I understood you correctly), you can either create an in-between-class, that extends <code>LibraryClass</code>, implements <code>MyInterface</code> and can be extended by <code>InheritanceTest</code>:</p>\n\n<pre><code>// abstract or open\nabstract class InBetweenClass : LibraryClass(), MyInterface {\n    override var y: Int = 1\n    override var z: Int = 2\n    override var abc: Int = 3\n}\n\nclass InheritanceTest : InBetweenClass() {    \n    fun print() {\n        println(\"My values: $x, $y, $z\")\n    }\n}\n</code></pre>\n\n<p>or use <a href=\"https://kotlinlang.org/docs/reference/delegation.html#implementation-by-delegation\" rel=\"nofollow noreferrer\">delegation</a> to provide a default implementation for the <code>MyInterface</code> properties:</p>\n\n<pre><code>class DefaultImplementation : MyInterface {\n    override var y: Int = 1\n    override var z: Int = 2\n    override var abc: Int = 3\n}\n\nclass InheritanceTest : LibraryClass(), MyInterface by DefaultImplementation() {    \n    fun print(){\n        println(\"My values: $x, $y, $z\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 11982747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eadbeef9a8bf44bd7e406fb1d2b56c7?s=128&d=identicon&r=PG&f=1", "display_name": "mousou", "link": "https://stackoverflow.com/users/11982747/mousou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5665, "favorite_count": 1, "accepted_answer_id": 57671508, "answer_count": 3, "score": 3, "last_activity_date": 1567712551, "creation_date": 1566896225, "last_edit_date": 1567712551, "question_id": 57671050, "link": "https://stackoverflow.com/questions/57671050/multiple-inheritance-with-one-class-and-interfaces-in-kotlin", "title": "Multiple inheritance with one class and interfaces in Kotlin", "body": "<p>My intended goal is to extend multiple classes from an existing library by a fixed set of attributes and methods (whose names will not overlap). </p>\n\n<p>The straight forward solution would be simple inheritance: derive the library class and add the attributes/methods. But it would be quite repetitive as the attributes and methods will be the same for all derived classes. It would be better to create an auxilliary class with all attributes and methods I need and simply derive the extended classes from both the library class and the auxilliary class.</p>\n\n<p>However, as it seems there is no multiple inheritance in Kotlin comparable to C++ , I wanted to use interfaces to make it work, where the interface would hold all the attributes and methods I need.</p>\n\n<p>I have started with the following simplistic code to test interfaces:</p>\n\n<pre><code>open class LibraryClass{\n    var x: Int = 0\n\n    fun setMyX(x_: Int){\n        x = x_\n    }\n}\n\ninterface MyInterface{\n    var y: Int\n    var z: Int\n    var abc: Int\n\n    fun myMethod(y_: Int){\n        y = y_\n        z = y*y\n    }\n} \n\nclass InheritanceTest: LibraryClass(), MyInterface{    \n    fun print(){\n    println(\"My values: $x, $y, $z\")\n    }\n}\n\nfun main(){\n    var test = InheritanceTest()\n    test.setMyX(1)\n    test.myMethod(5)\n    test.print()    \n}\n</code></pre>\n\n<p>If I try to compile this code, I will get the following error message:</p>\n\n<pre><code>error: class 'InheritanceTest' is not abstract and does not implement abstract member public abstract var y: Int defined in MyInterface\n</code></pre>\n\n<p>Some research showed that I need to override the interface's attributes in the primary constructor of the derived class:</p>\n\n<pre><code>class InheritanceTest(override var y: Int, override var z: Int, override var abc: Int)\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>var test = InheritanceTest(2,3,0)\n</code></pre>\n\n<p>Overriding all(?) interface attributes (even unused ones) in the derived class seems quite repetitive (and it's not possible to initialize attributes in the interface either), which basically beats the purpose of why I originally intended to use interfaces: to save repetition.\n(Except for methods, which seem not to have to be overridden as long as one class and (multiple) interfaces do not share methods of the same name).</p>\n\n<p>My interposed question is: Is this the only way to do it or solve the error?</p>\n\n<p>Then I found something else to try out in the interface:</p>\n\n<pre><code>var fgh: Int \n    get()  { return fgh }\n    set(v) { fgh = v }\n</code></pre>\n\n<p>No overriding necessary so far. But I could not yet get how to actually use the attribute fgh in either a method or by setting a value.</p>\n\n<p>When I try to set fgh by <code>test.fgh = 100</code> in <code>main()</code>, I get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.StackOverflowError\n    at MyInterface$DefaultImpls.setFgh(\n</code></pre>\n\n<p>Then trying to use <code>test.setFgh(100)</code> (since the previous error message implies the method exists) yields:</p>\n\n<pre><code>error: unresolved reference: setFgh\n</code></pre>\n\n<p>Trying to define <code>setFgh(v: Int) {fgh = v}</code>  results in: </p>\n\n<pre><code>error: platform declaration clash: The following declarations have the same JVM signature (setFgh(I)V):\n    fun &lt;set-fgh&gt;(v: Int): Unit defined in MyInterface\n    fun setFgh(v: Int): Unit defined in MyInterface\n</code></pre>\n\n<p>Alright, defining a differently named method similar to <code>myMethod()</code>:</p>\n\n<pre><code>fun myOtherMethod(v: Int){    \n    fgh = v \n    z = fgh * fgh\n}\n</code></pre>\n\n<p>And then using <code>myOtherMethod(10)</code> in <code>main()</code> gives again:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.StackOverflowError\n    at MyInterface$DefaultImpls.setFgh\n</code></pre>\n\n<p>So, I'm now really lost as to what do in order to get a non-repetitive working solution for extending multiple classes with the same attributes and methods. </p>\n\n<p>Edit: \nI now understand that interfaces aren't exactly what I was going for, as one has to implement (not override, which took me a while to get as it is done by the keyword \"override\") everything in the derived classes.</p>\n"}, {"tags": ["android", "arrays", "json", "file", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 889, "user_id": 4821585, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/138294779e1d83525bae89fd11601dff?s=128&d=identicon&r=PG", "display_name": "Achraf Amil", "link": "https://stackoverflow.com/users/4821585/achraf-amil"}, "is_accepted": false, "score": 0, "last_activity_date": 1566894180, "creation_date": 1566894180, "answer_id": 57670503, "question_id": 57670383, "link": "https://stackoverflow.com/questions/57670383/how-get-and-use-json-from-file-with-kotlin-android/57670503#57670503", "title": "How get and use json from file with kotlin android?", "body": "<p>The best way (IMHO) to read and write Json in Kotlin is Moshi: </p>\n\n<ul>\n<li>Declare a data class for each data structure you have in your file (you can use the json keys as field names).</li>\n<li>You might need to declare a global data class containing your data classes.</li>\n<li>Build a moshi instance.</li>\n<li>Get your data class moshi adapter.</li>\n<li>Use it to read the file.</li>\n</ul>\n\n<p>More about how to use Moshi: <a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">https://github.com/square/moshi</a></p>\n"}, {"tags": [], "owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "is_accepted": true, "score": 3, "last_activity_date": 1592037549, "last_edit_date": 1592037549, "creation_date": 1566894354, "answer_id": 57670552, "question_id": 57670383, "link": "https://stackoverflow.com/questions/57670383/how-get-and-use-json-from-file-with-kotlin-android/57670552#57670552", "title": "How get and use json from file with kotlin android?", "body": "<p>Place your json file under assets folder and read this as a <code>String</code>.</p>\n\n<p>First, we need to create an extension to read the file. This extension takes file name as input.</p>\n\n<pre><code>fun AssetManager.readFile(fileName: String) = open(fileName)\n    .bufferedReader()\n    .use { it.readText() }\n</code></pre>\n\n<p>Now, use the extension to read the file as a <code>String</code>.</p>\n\n<pre><code>val jsonString = context.assets.readFile(\"file_name.json\")\n</code></pre>\n\n<p>For more details you can look at this: <a href=\"https://github.com/ArtemBotnev/TelegramCharts/blob/master/app/src/main/java/ru/artembotnev/telegramcompetition/Repository.kt\" rel=\"nofollow noreferrer\">https://github.com/ArtemBotnev/TelegramCharts/blob/master/app/src/main/java/ru/artembotnev/telegramcompetition/Repository.kt</a></p>\n"}], "owner": {"reputation": 163, "user_id": 9874190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tkp9l.jpg?s=128&g=1", "display_name": "Khalil Khalil", "link": "https://stackoverflow.com/users/9874190/khalil-khalil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3207, "favorite_count": 0, "accepted_answer_id": 57670552, "answer_count": 2, "score": 0, "last_activity_date": 1592037549, "creation_date": 1566893699, "question_id": 57670383, "link": "https://stackoverflow.com/questions/57670383/how-get-and-use-json-from-file-with-kotlin-android", "title": "How get and use json from file with kotlin android?", "body": "<p>I have tried to get and use json from file in Kotlin-lang in Android but this is not so easy as I thought!</p>\n\n<p>I have this data in json file:</p>\n\n<pre><code>[{\n  \"place\" : {\n    \"place\": \"Hamburg Germany\",\n    \"lat\" : 53.551142,\n    \"lng\" : 9.992291\n  },\n  \"text\": [\n    true, true, true, true, true\n  ],\n  \"language\":{\n    \"english\":  true,\n    \"arabic\":   false,\n    \"persian\":  false,\n    \"turkish\":  false\n  }\n}]\n</code></pre>\n\n<p>I need only get place data/information from file.</p>\n\n<p>Does anyone know how to do this solution?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1623, "user_id": 2938633, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b7a9a16a5d22c2009f131694196a212f?s=128&d=identicon&r=PG&f=1", "display_name": "Blnpwr", "link": "https://stackoverflow.com/users/2938633/blnpwr"}, "edited": false, "score": 0, "creation_date": 1566893717, "post_id": 57670309, "comment_id": 101788159, "body": "Please provide us some code/logic that you have done so far. This is not a &quot;make us a code&quot; service."}], "answers": [{"tags": [], "owner": {"reputation": 241, "user_id": 6833924, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5b24038ba3182dd4e63b0e403a489dd9?s=128&d=identicon&r=PG&f=1", "display_name": "sanjana", "link": "https://stackoverflow.com/users/6833924/sanjana"}, "is_accepted": false, "score": 0, "last_activity_date": 1566901474, "creation_date": 1566901474, "answer_id": 57672632, "question_id": 57670309, "link": "https://stackoverflow.com/questions/57670309/how-to-get-itemview-groupie-recycler-view/57672632#57672632", "title": "How to get itemView groupie recycler view", "body": "<p>pass interface instance to adapter and in adapter onbindviewholder,on view click,get the position .</p>\n"}, {"tags": [], "owner": {"reputation": 241, "user_id": 6833924, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5b24038ba3182dd4e63b0e403a489dd9?s=128&d=identicon&r=PG&f=1", "display_name": "sanjana", "link": "https://stackoverflow.com/users/6833924/sanjana"}, "is_accepted": false, "score": 0, "last_activity_date": 1566901835, "creation_date": 1566901835, "answer_id": 57672737, "question_id": 57670309, "link": "https://stackoverflow.com/questions/57670309/how-to-get-itemview-groupie-recycler-view/57672737#57672737", "title": "How to get itemView groupie recycler view", "body": "<pre><code>class A implements Iabc{\n\nGroupAdapter adapter=GroupAdapter(this,List&lt;String&gt;)\nrecyclerView.setAdapter(adapter);\n\noverride getData(String a)\n{\n//gets particular position string val\n}\n}\n\ninterface Iabc{\n\ngetData(String a)\n\n}\n\n\nin adapter :\n\nview.setOnClicklistener(iabc.getData(stringlist[position]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 160, "user_id": 1484471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96ef5c1e3e57730b523311305c95e5aa?s=128&d=identicon&r=PG", "display_name": "Quy Nguyen", "link": "https://stackoverflow.com/users/1484471/quy-nguyen"}, "is_accepted": true, "score": 0, "last_activity_date": 1566958529, "creation_date": 1566958529, "answer_id": 57684246, "question_id": 57670309, "link": "https://stackoverflow.com/questions/57670309/how-to-get-itemview-groupie-recycler-view/57684246#57684246", "title": "How to get itemView groupie recycler view", "body": "<p>I am so sorry that i forgot ViewDataBinding supported method \"getRoot\" which return the itemview at the position</p>\n"}], "owner": {"reputation": 160, "user_id": 1484471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96ef5c1e3e57730b523311305c95e5aa?s=128&d=identicon&r=PG", "display_name": "Quy Nguyen", "link": "https://stackoverflow.com/users/1484471/quy-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "accepted_answer_id": 57684246, "answer_count": 3, "score": -2, "last_activity_date": 1566958529, "creation_date": 1566893411, "last_edit_date": 1566893850, "question_id": 57670309, "link": "https://stackoverflow.com/questions/57670309/how-to-get-itemview-groupie-recycler-view", "title": "How to get itemView groupie recycler view", "body": "<p>I am using Groupie like this:</p>\n\n<pre><code>GroupAdapter adapter = new GroupAdapter();\nrecyclerView.setAdapter(adapter);\n</code></pre>\n\n<p>I want to get itemView at particular position from the recycler, but I don't know how to do that with groupie. Please advise, Thanks!</p>\n"}, {"tags": ["kotlin", "sealed-class"], "comments": [{"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1566894838, "post_id": 57670261, "comment_id": 101788702, "body": "May I ask what your real-life usecase is for this? I&#39;ve had similar problems in the past, and I usually either repeated the declarations like this, or found a complete other way. It looks like you want to abstract the subclasses by using this sealed class, and yet you still want to retain the subclass&#39;s implementation when copying, so I wonder what your need is exacly."}, {"owner": {"reputation": 37081, "user_id": 521070, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6e5c24c66968738e5afe3a694cb11570?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/521070/michael"}, "reply_to_user": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1566977199, "post_id": 57670261, "comment_id": 101819195, "body": "@Joffrey I am afraid the actual use case is a bit too complicated to describe now. Thanks for asking though."}], "answers": [{"comments": [{"owner": {"reputation": 37081, "user_id": 521070, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6e5c24c66968738e5afe3a694cb11570?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/521070/michael"}, "edited": false, "score": 0, "creation_date": 1566977306, "post_id": 57673263, "comment_id": 101819245, "body": "I don&#39;t like runtime reflection so I won&#39;t probably use it but thank you for the detailed answer anyway :))"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1566903667, "creation_date": 1566903667, "answer_id": 57673263, "question_id": 57670261, "link": "https://stackoverflow.com/questions/57670261/how-to-get-rid-of-this-boilerplate-code-in-this-sealed-class-hierarchy/57673263#57673263", "title": "How to get rid of this boilerplate code in this sealed class hierarchy?", "body": "<p>First, you can implement <code>copyX</code> as an extension (or even <code>A</code>'s member) so as to concentrate the code in one place and avoid at least duplicating the <code>copyX</code> function in the sealed class subtypes:</p>\n\n<pre><code>sealed class A {\n    abstract val x: Int\n}\n\nfun A.copyX(x1: Int): A = when (this) {\n    is A1 -&gt; copy(x = x1)\n    is A2 -&gt; copy(x = x1) \n}\n\ndata class A1(override val x: Int, val s1: String) : A()\n\ndata class A2(override val x: Int, val s2: String) : A()\n</code></pre>\n\n<p>If you have a lot of sealed subtypes and all of them are <code>data</code> classes or have a <code>copy</code> function, you could also copy them generically with reflection. For that, you would need to get the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/primary-constructor.html\" rel=\"noreferrer\"><code>primaryConstructor</code></a> or the function named <code>copy</code> from the <code>KClass</code>, then fill the arguments for the call, finding the <code>x</code> parameter by name and putting the <code>x1</code> value for it, and putting the values obtained from <code>component1()</code>, <code>component2()</code> etc. calls or leaving the default values for the other parameters. It would look like this:</p>\n\n<pre><code>fun A.copyX(x1: Int): A {\n    val copyFunction = this::class.memberFunctions.single { it.name == \"copy\" }\n    val args = mapOf(\n        copyFunction.instanceParameter!! to this,\n        copyFunction.parameters.single { it.name == \"x\" } to x1\n    )\n    return copyFunction.callBy(args) as A\n}\n</code></pre>\n\n<p>This works because <code>callBy</code> allows omitting the optional arguments. </p>\n\n<p>Note that it requires a dependency on <code>kotlin-reflect</code> and works only with Kotlin/JVM. Also, reflection has some performance overhead, so it's not suitable for performance-critical code. You could optimize this by using the Java reflection (<code>this::class.java</code>, <code>getMethod(...)</code>) instead (which would be more verbose) and caching the reflection entities.</p>\n"}], "owner": {"reputation": 37081, "user_id": 521070, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6e5c24c66968738e5afe3a694cb11570?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/521070/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 2, "accepted_answer_id": 57673263, "answer_count": 1, "score": 7, "last_activity_date": 1566903667, "creation_date": 1566893233, "question_id": 57670261, "link": "https://stackoverflow.com/questions/57670261/how-to-get-rid-of-this-boilerplate-code-in-this-sealed-class-hierarchy", "title": "How to get rid of this boilerplate code in this sealed class hierarchy?", "body": "<p>Suppose I've got a <code>sealed class</code> hierarchy like that:</p>\n\n<pre><code>sealed class A {\n    abstract val x: Int\n    abstract fun copyX(x1: Int): A\n}\n\ndata class A1(override val x: Int, val s1: String) : A() {\n    override fun copyX(x1: Int): A {\n        return this.copy(x = x1)\n    }\n}\n\ndata class A2(override val x: Int, val s2: String) : A() {\n    override fun copyX(x1: Int): A {\n        return this.copy(x = x1)\n    }\n}\n</code></pre>\n\n<p>All the data classes have field <code>x</code> and should provide method <code>copyX(x1: Int)</code> to copy all the fields but <code>x</code> and override <code>x</code> with <code>x1</code>. For instance, </p>\n\n<pre><code>fun foo(a: A): A { a.copyX(100) }\n</code></pre>\n\n<p>The definitions above probably work but the repeating <code>copyX</code> across all the data classes seem very clumsy. How would you suggest get rid of this repeated <code>copyX</code> ?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 863, "user_id": 5363011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qqqla.jpg?s=128&g=1", "display_name": "George Leung", "link": "https://stackoverflow.com/users/5363011/george-leung"}, "is_accepted": true, "score": 8, "last_activity_date": 1566893391, "creation_date": 1566893391, "answer_id": 57670305, "question_id": 57670014, "link": "https://stackoverflow.com/questions/57670014/retain-smartcast-when-creating-custom-extension/57670305#57670305", "title": "Retain smartcast when creating custom extension", "body": "<p>This is solved by <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.contracts/index.html\" rel=\"noreferrer\">contracts</a> introduced in <a href=\"https://kotlinlang.org/docs/reference/whatsnew13.html#contracts\" rel=\"noreferrer\">Kotlin 1.3</a>.</p>\n\n<p>Contracts are a way to inform the compiler certain properties of your function, so that it can perform some static analysis, in this case enable smart casts.</p>\n\n<pre><code>import kotlin.contracts.ExperimentalContracts\nimport kotlin.contracts.contract\n\n@ExperimentalContracts\nprivate fun &lt;T&gt; Collection&lt;T&gt;?.isNotEmptyExtension() : Boolean {\n    contract {\n       returns(true) implies (this@isNotEmptyExtension != null)\n    }\n    return !this.isNullOrEmpty()\n}\n</code></pre>\n\n<p>You can refer to the source of <code>isNullOrEmpty</code> and see a similar contract.</p>\n\n<pre><code>contract {\n    returns(false) implies (this@isNullOrEmpty != null)\n}\n</code></pre>\n"}], "owner": {"reputation": 2299, "user_id": 1596308, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/JxwHy.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/1596308/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 57670305, "answer_count": 1, "score": 5, "last_activity_date": 1566893391, "creation_date": 1566892296, "question_id": 57670014, "link": "https://stackoverflow.com/questions/57670014/retain-smartcast-when-creating-custom-extension", "title": "Retain smartcast when creating custom extension", "body": "<p>I currently have to write   </p>\n\n<pre><code>val myList: List&lt;Int&gt;? = listOf()\nif(!myList.isNullOrEmpty()){\n    // myList manipulations\n}\n</code></pre>\n\n<p>Which smartcasts myList to no non null. The below do not give any smartcast:</p>\n\n<pre><code>if(!myList.orEmpty().isNotEmpty()){\n    // Compiler thinks myList can be null here\n    // But this is not what I want either, I want the extension fun below\n}\n\nif(myList.isNotEmptyExtension()){\n    // Compiler thinks myList can be null here\n}\n\nprivate fun &lt;T&gt; Collection&lt;T&gt;?.isNotEmptyExtension() : Boolean {\n    return !this.isNullOrEmpty()\n}\n</code></pre>\n\n<p>Is there a way to get smartCasts for custom extensions?</p>\n"}, {"tags": ["json", "kotlin", "kotlinx.serialization"], "answers": [{"comments": [{"owner": {"reputation": 398, "user_id": 8302395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJPLo.jpg?s=128&g=1", "display_name": "Roland van der Linden", "link": "https://stackoverflow.com/users/8302395/roland-van-der-linden"}, "edited": false, "score": 2, "creation_date": 1566894238, "post_id": 57669888, "comment_id": 101788408, "body": "Exactly what I was looking for, much appreciated!"}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 4, "last_activity_date": 1566891770, "creation_date": 1566891770, "answer_id": 57669888, "question_id": 57669375, "link": "https://stackoverflow.com/questions/57669375/serialize-a-list-of-optionals-with-kotlinx-serialization/57669888#57669888", "title": "Serialize a list of optionals with kotlinx serialization", "body": "<p>You can use <code>NullableSerializer</code>:</p>\n\n<pre><code>val dataJson = json.stringify(NullableSerializer(String.serializer()).list, data)\nprintln(dataJson) // prints [\"v1\",null,\"v3\"]\n</code></pre>\n"}], "owner": {"reputation": 398, "user_id": 8302395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJPLo.jpg?s=128&g=1", "display_name": "Roland van der Linden", "link": "https://stackoverflow.com/users/8302395/roland-van-der-linden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 966, "favorite_count": 1, "accepted_answer_id": 57669888, "answer_count": 1, "score": 1, "last_activity_date": 1566891770, "creation_date": 1566889779, "question_id": 57669375, "link": "https://stackoverflow.com/questions/57669375/serialize-a-list-of-optionals-with-kotlinx-serialization", "title": "Serialize a list of optionals with kotlinx serialization", "body": "<p>How can I stringify a list of optional strings with kotlinx serialization? I would like to execute something similar to:</p>\n\n<pre><code>val json = Json(JsonConfiguration.Stable)\nval data: List&lt;String?&gt; = listOf(\"v1\", null, \"v3\")\nval dataJson = json.stringify(String.serializer().list, data)\n</code></pre>\n\n<p>However, this does not compile. I understand that <code>String.serializer().list</code> provides a <code>SerializationStrategy&lt;List&lt;String&gt;&gt;</code> where I need a <code>SerializationStrategy&lt;List&lt;String?&gt;&gt;</code>. How can I acquire the latter?</p>\n"}, {"tags": ["kotlin", "koin"], "comments": [{"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1566889597, "post_id": 57669074, "comment_id": 101786288, "body": "What&#39;s your definition of <code>factory</code> and <code>Get</code>? What are you trying to achieve in the last statement? It doesn&#39;t make much sense to provide a default value here, since <code>factory</code> is the one calling the passed lambda, and will most likely always provide it. Default values only really make sense on the API surface for users."}], "answers": [{"tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": false, "score": 0, "last_activity_date": 1566942103, "creation_date": 1566942103, "answer_id": 57682591, "question_id": 57669074, "link": "https://stackoverflow.com/questions/57669074/in-kotlin-how-to-set-default-param-value-in-koin/57682591#57682591", "title": "In Kotlin How to set default param value in Koin", "body": "<p>What about:</p>\n\n<pre><code>factory { (name: String) -&gt; ACheck(name, false) } // ACheck(name)\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>Get&lt;ACheck&gt;{ parametersOf(\"somenname\") }\n</code></pre>\n\n<p>?</p>\n"}], "owner": {"reputation": 1376, "user_id": 1262131, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/2815cbd1f59f5aba6443a9dd16796661?s=128&d=identicon&r=PG&f=1", "display_name": "Aada", "link": "https://stackoverflow.com/users/1262131/aada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1566942103, "creation_date": 1566888707, "last_edit_date": 1566889472, "question_id": 57669074, "link": "https://stackoverflow.com/questions/57669074/in-kotlin-how-to-set-default-param-value-in-koin", "title": "In Kotlin How to set default param value in Koin", "body": "<p>I have a Kotlin class with default params defined. </p>\n\n<pre><code>Class ACheck(val name:String,val check:boolean =false)\n</code></pre>\n\n<p>To create a class:</p>\n\n<pre><code>factory { (name:String, check: Boolean) -&gt; ACheck(name,check) }\n</code></pre>\n\n<p>To use:</p>\n\n<pre><code>Get&lt;ACheck&gt;{parametersOf(\u201csomenname\u201d,true)}\nGet&lt;ACheck&gt;{parametersOf(\u201csomenname\u201d,false)}\n</code></pre>\n\n<p>Do we have anything like this in Koin. Don\u2019t find anything like this</p>\n\n<pre><code>factory { (name:String, check: Boolean=false) -&gt; ACheck(name,check) }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-paging", "android-paging-library"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 11146920, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwfSz5x8BTs/AAAAAAAAAAI/AAAAAAAAAF4/CMn1v8_Dm_Q/photo.jpg?sz=128", "display_name": "Manuj Jagga", "link": "https://stackoverflow.com/users/11146920/manuj-jagga"}, "is_accepted": true, "score": 1, "last_activity_date": 1568974361, "creation_date": 1568974361, "answer_id": 58026316, "question_id": 57667353, "link": "https://stackoverflow.com/questions/57667353/incorrect-result-from-room-only-pagination/58026316#58026316", "title": "Incorrect Result from Room only pagination", "body": "<p>The issue happened because of NestedScrollView due to which paged list adapter was unable to correctly calculate offset</p>\n"}], "owner": {"reputation": 31, "user_id": 11146920, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwfSz5x8BTs/AAAAAAAAAAI/AAAAAAAAAF4/CMn1v8_Dm_Q/photo.jpg?sz=128", "display_name": "Manuj Jagga", "link": "https://stackoverflow.com/users/11146920/manuj-jagga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 58026316, "answer_count": 1, "score": 1, "last_activity_date": 1568974361, "creation_date": 1566876722, "last_edit_date": 1566887979, "question_id": 57667353, "link": "https://stackoverflow.com/questions/57667353/incorrect-result-from-room-only-pagination", "title": "Incorrect Result from Room only pagination", "body": "<p>I am using database only pagination to paginate chat heads from my db.\nThere are around 450 enteries in my db</p>\n\n<pre><code>@Query(\"select * from ChatHeadMaster where archive= :archive order by chatBot desc,lastMessageTimestamp desc\")\n    fun fetchPagedChatHeadList(archive: Int): DataSource.Factory&lt;Int,ChatHeadWithMessages&gt;\n</code></pre>\n\n<p>There are two problems that i am facing with pagination</p>\n\n<p>1) Even thought data source does fetch data page by page but it fetches all the data at once. So if i set my page size to 30 it will fetch data in chunks of 30 until the entire data is fetched due to which my main thread hangs until the complete data is fetched</p>\n\n<p>2) Whenever there is a change in my table, the data source behaves abruptly and it would skip the first page and return me the remaining data. So if have 75 items in my table and my page size is 10 initially datasource will run as follows 30(because of initial load size hint),10,10,10,10,5\nand on change in table data source will return 55 items. which i dont know why is this happening</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Found the issue. My RecyclerView was inside the NestedScrollView due to which positional data source was unable to correctly calculate offset.\nFor now i have removed nested scroll view and it works like a charm</p>\n"}, {"tags": ["intellij-idea", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 34030, "user_id": 1993366, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dGJXl.png?s=128&g=1", "display_name": "vikingsteve", "link": "https://stackoverflow.com/users/1993366/vikingsteve"}, "edited": false, "score": 0, "creation_date": 1566906250, "post_id": 57667097, "comment_id": 101794852, "body": "Can you define a &quot;Job&quot; - is this a kotlin coroutine library or a java core class?"}, {"owner": {"reputation": 3738, "user_id": 1392189, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/049239f7f0deb84f0775853a9cb401c7?s=128&d=identicon&r=PG", "display_name": "Rollie", "link": "https://stackoverflow.com/users/1392189/rollie"}, "reply_to_user": {"reputation": 34030, "user_id": 1993366, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dGJXl.png?s=128&g=1", "display_name": "vikingsteve", "link": "https://stackoverflow.com/users/1993366/vikingsteve"}, "edited": false, "score": 0, "creation_date": 1566998215, "post_id": 57667097, "comment_id": 101830791, "body": "The job as used by launch/await"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 3060530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b157d259f2e842df5877e202edfb840?s=128&d=identicon&r=PG", "display_name": "globalmatador", "link": "https://stackoverflow.com/users/3060530/globalmatador"}, "is_accepted": false, "score": 0, "last_activity_date": 1596390238, "creation_date": 1596390238, "answer_id": 63219225, "question_id": 57667097, "link": "https://stackoverflow.com/questions/57667097/is-there-a-way-to-see-all-running-coroutines-jobs-in-intellij/63219225#63219225", "title": "Is there a way to see all running coroutines (Jobs) in intellij?", "body": "<p>kotlin 1.4 adds a debugger with a coroutines tab.\n<a href=\"https://blog.jetbrains.com/kotlin/2020/07/kotlin-1-4-rc-debugging-coroutines/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/kotlin/2020/07/kotlin-1-4-rc-debugging-coroutines/</a></p>\n"}], "owner": {"reputation": 3738, "user_id": 1392189, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/049239f7f0deb84f0775853a9cb401c7?s=128&d=identicon&r=PG", "display_name": "Rollie", "link": "https://stackoverflow.com/users/1392189/rollie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1596390238, "creation_date": 1566874091, "question_id": 57667097, "link": "https://stackoverflow.com/questions/57667097/is-there-a-way-to-see-all-running-coroutines-jobs-in-intellij", "title": "Is there a way to see all running coroutines (Jobs) in intellij?", "body": "<p>I know there is a Threads window under Debug tab, but is there a way to graphically see outstanding Jobs?</p>\n"}, {"tags": ["android", "kotlin", "android-activity", "singleton", "loading"], "comments": [{"owner": {"reputation": 182, "user_id": 3904073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535538b93197c80b41fff0ec19ab4447?s=128&d=identicon&r=PG&f=1", "display_name": "Ishtdeep Hora", "link": "https://stackoverflow.com/users/3904073/ishtdeep-hora"}, "edited": false, "score": 0, "creation_date": 1566878069, "post_id": 57667084, "comment_id": 101783192, "body": "The simplest thing you can do is to create an extension function of your view class. Create a base activity and define two methods there fun View.hideProgressBar() and View.showProgressBar() and handle the scenario there. If the view is visible then only hide it and if the view is invisible/gone show the progress bar. You can also handle the lifecycle methods in your base activity and show/hide the progress bar in your associated activities"}, {"owner": {"reputation": 11, "user_id": 3583719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef05e0d02a45b03733eeab5d700cfeca?s=128&d=identicon&r=PG&f=1", "display_name": "subsup", "link": "https://stackoverflow.com/users/3583719/subsup"}, "reply_to_user": {"reputation": 182, "user_id": 3904073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535538b93197c80b41fff0ec19ab4447?s=128&d=identicon&r=PG&f=1", "display_name": "Ishtdeep Hora", "link": "https://stackoverflow.com/users/3904073/ishtdeep-hora"}, "edited": false, "score": 0, "creation_date": 1567054432, "post_id": 57667084, "comment_id": 101849547, "body": "@IshtdeepHora Thank you for answer. As you say, it&#39;s a good idea to create a base activity with a progressbar. The dialog seems tricky to hide after some point. Thank you again."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 3583719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef05e0d02a45b03733eeab5d700cfeca?s=128&d=identicon&r=PG&f=1", "display_name": "subsup", "link": "https://stackoverflow.com/users/3583719/subsup"}, "reply_to_user": {"reputation": 3886, "user_id": 8724443, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9njrwo5ZrOA/AAAAAAAAAAI/AAAAAAAAABg/FZ7qGTd26K4/photo.jpg?sz=128", "display_name": "apurv thakkar", "link": "https://stackoverflow.com/users/8724443/apurv-thakkar"}, "edited": false, "score": 0, "creation_date": 1567054859, "post_id": 57668158, "comment_id": 101849649, "body": "@apurv thakkar  Thank you for the answer. My intention is to make the dialog as a loading window (not cancelable) rather than a normal dialog. I wanted to hide the dialog itself after some asynchronous task."}], "tags": [], "owner": {"reputation": 31, "user_id": 11844912, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AodLVix0sy8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfljFqGX368oSsawI0EbylIHPPOAw/photo.jpg?sz=128", "display_name": "Android Dev", "link": "https://stackoverflow.com/users/11844912/android-dev"}, "is_accepted": false, "score": 1, "last_activity_date": 1566885528, "last_edit_date": 1566885528, "creation_date": 1566883776, "answer_id": 57668158, "question_id": 57667084, "link": "https://stackoverflow.com/questions/57667084/how-to-use-one-loading-window-instance-in-all-activities/57668158#57668158", "title": "How to use one loading window instance in all activities", "body": "<p>I've created a class which have below method and </p>\n\n<pre><code>public static void showDialog4Activity(final Context context, String title, String message) {\n\n            LayoutInflater inflater = LayoutInflater.from(context);\n            @SuppressLint(\"InflateParams\") final View dialogView = inflater.inflate(R.layout.aommoncls_dialogbox, null);\n            TextView titileTextView = (TextView) dialogView.findViewById(R.id.tv_titile);\n            TextView msgTextView = (TextView) dialogView.findViewById(R.id.tv_msg);\n            Button dialogButtonOKButton = (Button) dialogView.findViewById(R.id.dialogButtonOK);\n            titileTextView.setTypeface(Validations.setTypeface(context));\n            msgTextView.setTypeface(Validations.setTypeface(context));\n            dialogButtonOKButton.setTypeface(Validations.setTypeface(context));\n            msgTextView.setText(message + \"\");\n            titileTextView.setText(title + \"\");\n    //        final AlertDialog.Builder builder = new AlertDialog.Builder(context);\n    //\n    //        final AlertDialog.Builder builder = new AlertDialog.Builder(new ContextThemeWrapper(context, R.style.myDialog));\n            final Dialog builder = new Dialog(context, R.style.myDialog);\n    //        final AlertDialog b = builder.create();\n            builder.create();\n            //  builder.setTitle(\"Material Style Dialog\");\n            builder.setCancelable(true);\n    //        builder.setView(dialogView);\n            builder.setContentView(dialogView);\n            builder.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n            builder.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n            builder.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\n            builder.show();\n    //        final AlertDialog show = builder.show();\n            dialogButtonOKButton.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                  //  show.dismiss();\n                    builder.dismiss();\n                }\n            });\n        }\n</code></pre>\n\n<p>And have called like below</p>\n\n<pre><code>  CLASSNAME.showDialog4Activity(LoginActivity.this, \"\",\"\"); \n</code></pre>\n\n<p>Here CLASSNAME is the class in which we have defined showDialog4Activity method.</p>\n"}], "owner": {"reputation": 11, "user_id": 3583719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef05e0d02a45b03733eeab5d700cfeca?s=128&d=identicon&r=PG&f=1", "display_name": "subsup", "link": "https://stackoverflow.com/users/3583719/subsup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566885528, "creation_date": 1566874005, "question_id": 57667084, "link": "https://stackoverflow.com/questions/57667084/how-to-use-one-loading-window-instance-in-all-activities", "title": "How to use one loading window instance in all activities", "body": "<p>First of all, thank you.</p>\n\n<p>I want to make one loading window for all activity. \nLoading window's layout is match_parent/match_parent ConstraintLayout, have one lottieAnimationView(or ProgressBar). </p>\n\n<p>In other words, I want Transparent FullScreen Loading window.\nPer Activitiy, add ProgressBar..attach.. I don't think it's a good solution.</p>\n\n<p>So, I tried to use the AlertDialog as a singleton, but when I ran the AsyncTask, I had a problem closing the dialog when the activity's context changed.</p>\n\n<p>How can I use a custom loading window singleton in all my activities?</p>\n\n<pre><code>class AlertUtils {\n    companion object {\n        private var loadingDialog:AlertDialog?=null\n\n        @JvmStatic\n        fun showLoadingDialog(activity : Activity, theme: LoadingColorTheme=LoadingColorTheme.COLOR_WHITE_DEFAULT) {\n            if (activity.isFinishing)\n                return\n\n            loadingDialog = AlertDialog.Builder(activity, android.R.style.Theme_Translucent_NoTitleBar).create()\n            loadingDialog?.let {\n                it.setCancelable(false)\n                it.show()\n\n                it.setContentView(R.layout.progress_dialog_loading_lottie)\n                setThemeLoadingDialog(activity, it, theme)\n            }\n        }\n\n        @JvmStatic\n        fun hideLoadingDialog() {\n            loadingDialog?.let {_loadingDialog -&gt;\n                if (_loadingDialog.isShowing) {\n                    _loadingDialog.dismiss()\n                }\n            }\n        }\n\n        private fun setThemeLoadingDialog(activity: Activity, loadingDialog: AlertDialog, theme: LoadingColorTheme) {\n            val parentLayout = loadingDialog.findViewById&lt;ConstraintLayout&gt;(R.id.progress_dialog_loading_lottie_layout)\n            val lottieView = loadingDialog.findViewById&lt;LottieAnimationView&gt;(R.id.progress_dialog_lottie_view)\n\n            if (theme === LoadingColorTheme.COLOR_BLACK) {\n                parentLayout?.setBackgroundColor(ContextCompat.getColor(activity, R.color.colorBlackAlpha70))\n                lottieView?.setAnimation(R.raw.loading_indicator_white)\n            } else {\n                parentLayout?.setBackgroundColor(ContextCompat.getColor(activity, R.color.colorWhiteAlpha80))\n                lottieView?.setAnimation(R.raw.loading_indicator_color)\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication", "facebook-login"], "comments": [{"owner": {"reputation": 2336, "user_id": 751482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCcyX.jpg?s=128&g=1", "display_name": "pshegger", "link": "https://stackoverflow.com/users/751482/pshegger"}, "edited": false, "score": 0, "creation_date": 1566895756, "post_id": 57666215, "comment_id": 101789174, "body": "Can you please provide the code for the whole Fragment?"}, {"owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "reply_to_user": {"reputation": 2336, "user_id": 751482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCcyX.jpg?s=128&g=1", "display_name": "pshegger", "link": "https://stackoverflow.com/users/751482/pshegger"}, "edited": false, "score": 0, "creation_date": 1566923673, "post_id": 57666215, "comment_id": 101804671, "body": "I&#39;ve added the rest, which wasn&#39;t that much, but hopefully this will give a more complete idea of what is happening."}, {"owner": {"reputation": 699, "user_id": 1723745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891553a99448af62e98a61cf0a0c02fa?s=128&d=identicon&r=PG", "display_name": "Akshay Jain", "link": "https://stackoverflow.com/users/1723745/akshay-jain"}, "edited": false, "score": 0, "creation_date": 1566981111, "post_id": 57666215, "comment_id": 101821156, "body": "So, when you tap on the button, the facebook login page appears and after typing the credentials facebook login page closes but you don&#39;t get a callback. Is it right?"}, {"owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "edited": false, "score": 0, "creation_date": 1567014858, "post_id": 57666215, "comment_id": 101839625, "body": "That is correct. I managed to have it work by using the Facebook Custom activity, but not using the modal."}], "owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 319, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566923614, "creation_date": 1566864541, "last_edit_date": 1566923614, "question_id": 57666215, "link": "https://stackoverflow.com/questions/57666215/no-callback-when-using-firebase-facebook-login", "title": "No callback when using firebase Facebook login", "body": "<p>I am trying to use firebase Authentication to allow login using facebook login. Everything works as expected up to the part when I should be getting the callback after a successfully login. </p>\n\n<p>I am using the latest Facebook and Firebase SDKs: </p>\n\n<pre><code>implementation 'com.facebook.android:facebook-android-sdk:5.4.0'\nimplementation 'com.google.firebase:firebase-auth:19.0.0'\n</code></pre>\n\n<p>I have added my <code>LoginButton</code> inside my <code>Fragment</code>, that I will be using Data binding. </p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n        name=\"vm\"\n        type=\"my.app.app.ui.ViewModel\" /&gt;\n    &lt;/data&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".ui.auth.SignUpFragment\"&gt;\n\n        &lt;com.facebook.login.widget.LoginButton\n            xmlns:facebook=\"http://schemas.android.com/apk/res-auto\"\n            android:id=\"@+id/facebook_sign_up_button\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>Inside my Fragment, up to here, everything is working the way it should:</p>\n\n<pre><code>class SignUpFragment : Fragment()\n    lateinit var binding: FragmentSignUpBinding\n    private val factory: ViewModelFactory  by instance()\n    private var callbackManager: CallbackManager? = null\n    lateinit var mainView: View\n    private lateinit var auth: FirebaseAuth\n\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        binding = DataBindingUtil.inflate(inflater,R.layout.fragment_sign_up, container, false)\n        val viewModel = ViewModelProviders.of(this, factory).get(ViewModel::class.java)\n        mainView = binding.root\n        binding.vm = viewModel\n        auth = FirebaseAuth.getInstance()\n\n        callbackManager = CallbackManager.Factory.create()\n\n        binding.facebookSignUpButton.setPermissions(\"email\", \"public_profile\")\n        binding.facebookSignUpButton.registerCallback(callbackManager, object : FacebookCallback&lt;LoginResult&gt; {\n        override fun onSuccess(loginResult: LoginResult) {\n            Log.d(\"FacebookActivity\", \"onSuccess\")\n            handleFacebookAccessToken(loginResult.accessToken)\n        }\n\n        override fun onCancel() {\n            Log.d(\"FacebookActivity\", \"facebook:onCancel\")\n        }\n\n        override fun onError(error: FacebookException) {\n            Log.d(\"FacebookActivity\", \"facebook:onError\", error)\n        }\n        })\n        return mainView\n    }\n\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        callbackManager?.onActivityResult(requestCode, resultCode, data)\n    }\n}\n</code></pre>\n\n<p>I am able to use the facebook login, and I can see that the app was added  in the Apps &amp; Websites on facebook.com.</p>\n\n<p>But I never get a callback. Not from my <code>onSuccess</code>, <code>onCancel</code> or <code>onError</code></p>\n\n<p>I don't get an error, I just don't get the callback. Has anyone ever encountered this problem? I am also using Google login and I am not experiencing any problems from that login type. </p>\n"}, {"tags": ["android", "kotlin", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 18087, "user_id": 636988, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/X8YUK.jpg?s=128&g=1", "display_name": "Booger", "link": "https://stackoverflow.com/users/636988/booger"}, "edited": false, "score": 0, "creation_date": 1566864930, "post_id": 57665897, "comment_id": 101781175, "body": "FWIW, I went down the path of trying to add the android plugin to my build file, but I don&#39;t think this is correct, and the build was failing looking for an AndroidManifest.xml file, which isn&#39;t available in the SharedCode directory    <code>plugins {     id(&quot;com.android.application&quot;)     kotlin(&quot;multiplatform&quot;) }  android {     compileSdkVersion(28) }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 18087, "user_id": 636988, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/X8YUK.jpg?s=128&g=1", "display_name": "Booger", "link": "https://stackoverflow.com/users/636988/booger"}, "edited": false, "score": 0, "creation_date": 1567180880, "post_id": 57717280, "comment_id": 101900225, "body": "Did solve my problem!  You are my hero!  Thank you!"}], "tags": [], "owner": {"reputation": 482, "user_id": 2426753, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YDBeE.jpg?s=128&g=1", "display_name": "Sujit Poudel", "link": "https://stackoverflow.com/users/2426753/sujit-poudel"}, "is_accepted": true, "score": 3, "last_activity_date": 1567110065, "creation_date": 1567110065, "answer_id": 57717280, "question_id": 57665897, "link": "https://stackoverflow.com/questions/57665897/kotlin-multiplatform-android-imports-wont-resolve/57717280#57717280", "title": "Kotlin Multiplatform Android Imports won&#39;t resolve", "body": "<p>You do not have the android required definitions in your gradle build script. Here's a basic gradle script that works for me:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.plugin.mpp.KotlinNativeTarget\nimport org.jetbrains.kotlin.gradle.tasks.FatFrameworkTask\n\nbuildscript {\n    repositories {\n        mavenLocal()\n        maven(\"https://kotlin.bintray.com/kotlinx\")\n        maven(\"https://dl.bintray.com/jetbrains/kotlin-native-dependencies\")\n        maven(\"https://dl.bintray.com/kotlin/kotlin-eap\")\n        maven(\"https://plugins.gradle.org/m2/\")\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.50\")\n        classpath(\"com.android.tools.build:gradle:3.5.0\")\n        classpath(\"co.touchlab:kotlinxcodesync:0.1.5\")\n    }\n}\n\nplugins {\n    id (\"com.android.library\") version \"1.3.50\"\n    id (\"org.jetbrains.kotlin.multiplatform\") version \"1.3.50\"\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        google()\n        jcenter()\n        mavenCentral()\n        maven(\"https://dl.bintray.com/kotlin/kotlin-eap\")\n        maven(\"https://kotlin.bintray.com/ktor\")\n        maven(\"https://kotlin.bintray.com/kotlinx\")\n    }\n}\n\ngroup = \"com.example.mykmp\"\nversion = \"0.0.1\"\n\napply(plugin = \"maven-publish\")\napply(plugin = \"com.android.library\")\napply(plugin = \"kotlin-android-extensions\")\n\nandroid {\n    compileSdkVersion(29)\n    defaultConfig {\n        minSdkVersion(21)\n        targetSdkVersion(29)\n    }\n}\n\nkotlin {\n    android()\n    val frameworkName = \"mykmp\"\n    val ios = iosX64(\"ios\") {\n        binaries.framework {\n            baseName = frameworkName\n        }\n    }\n    sourceSets {\n        commonMain {\n            dependencies {\n                implementation(kotlin(\"stdlib-common\"))\n            }\n        }\n        commonTest {\n            dependencies {\n                implementation(kotlin(\"test-common\"))\n                implementation(kotlin(\"test-annotations-common\"))\n            }\n        }\n        val androidMain by getting {\n            dependencies {\n                implementation(kotlin(\"stdlib-jdk8\"))\n            }\n        }\n        val androidTest by getting {\n            dependencies {\n                implementation(kotlin(\"test\"))\n                implementation(kotlin(\"test-junit\"))\n            }\n        }\n        val iosMain by getting {\n            dependencies {\n                implementation(kotlin(\"stdlib\"))\n            }\n        }\n        val iosTest by getting {\n            dependencies {\n                implementation(kotlin(\"stdlib\"))\n            }\n        }\n    }\n\n    tasks.create(\"framework\", FatFrameworkTask::class) {\n        baseName = frameworkName\n        from(\n            ios.binaries.getFramework(\"DEBUG\")\n        )\n        destinationDir = buildDir.resolve(\"xcode-frameworks\")\n        group = \"iOS frameworks\"\n        description = \"Builds a simulator only framework to build from xcode directly\"\n        doLast {\n            val file = File(destinationDir, \"gradlew\")\n            file.writeText(text = \"#!/bin/bash\\nexport JAVA_HOME=${System.getProperty(\"java.home\")}\\ncd ${rootProject.rootDir}\\n./gradlew \\$@\\n\")\n            file.setExecutable(true)\n        }\n    }\n}\n\ntasks.getByName(\"build\").dependsOn(packForXcode)\n</code></pre>\n\n<p>Also, in the <code>settings.gradle.kts</code>, I have this:</p>\n\n<pre><code>pluginManagement {\n    resolutionStrategy {\n        eachPlugin {\n            if (requested.id.id == \"kotlin-multiplatform\") {\n                useModule(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${requested.version}\")\n            }\n            if (requested.id.id == \"com.android.library\") {\n                useModule(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${requested.version}\")\n            }\n            if (requested.id.id == \"kotlinx-serialization\") {\n                useModule(\"org.jetbrains.kotlin:kotlin-serialization:${requested.version}\")\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Otherwise, it might complain that <code>com.android.library</code> could not be found.</p>\n\n<p>I would also recommend <code>Invalidate Cache/Restart</code> on Android Studio or IntelliJ after that.</p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 18087, "user_id": 636988, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/X8YUK.jpg?s=128&g=1", "display_name": "Booger", "link": "https://stackoverflow.com/users/636988/booger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3157, "favorite_count": 1, "accepted_answer_id": 57717280, "answer_count": 1, "score": 4, "last_activity_date": 1567184502, "creation_date": 1566860899, "last_edit_date": 1567184502, "question_id": 57665897, "link": "https://stackoverflow.com/questions/57665897/kotlin-multiplatform-android-imports-wont-resolve", "title": "Kotlin Multiplatform Android Imports won&#39;t resolve", "body": "<p>I have created a very simple KMP project, with the following structure:</p>\n\n<pre><code>-Root\n  --app\n  --gradle\n--SharedCode\n  --src\\commonMain\\kotlin\\actual.kt\n  --src\\iosMain\\kotlin\\actual.kt\n  --scr\\androidMain\\kotlin\\actual.kt\n  --build.gradle.kts\n--native\n  --KotlinIOS\n    --iOS project (xcodeproj, etc)\n</code></pre>\n\n<p>Everything works, and the basic project work on both Android and iOS platforms.</p>\n\n<p>But when I try to use an <em>android-specific</em> import statement in my androidMain directory, <strong><em>the import statement won't resolve</em></strong>:</p>\n\n<pre><code>import android.os.build // Android Studio can't find this\n\nactual fun platformName(): String {\n    return \"Android\"\n}\n</code></pre>\n\n<p>It is weird, since the iOS package is using <em>iOS-specific</em> imports successfully:</p>\n\n<pre><code>import platform.UIKit.UIDevice // This import works\n\nactual fun platformName(): String {\n    return UIDevice.currentDevice.systemName() +\n            \" \" + UIDevice.currentDevice.systemVersion\n}\n</code></pre>\n\n<p><strong>Any suggestions about what I may need to configure to get my Android import to work?</strong></p>\n\n<p>This is my build.gradle.kts file for completeness:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.plugin.mpp.KotlinNativeTarget\n\nplugins {\n    kotlin(\"multiplatform\")\n}\n\nkotlin {\n    //select iOS target platform depending on the Xcode environment variables\n    val iOSTarget: (String, KotlinNativeTarget.() -&gt; Unit) -&gt; KotlinNativeTarget =\n        if (System.getenv(\"SDK_NAME\")?.startsWith(\"iphoneos\") == true)\n            ::iosArm64\n        else\n            ::iosX64\n\n    iOSTarget(\"ios\") {\n        binaries {\n            framework {\n                baseName = \"SharedCode\"\n            }\n        }\n    }\n\n\n    jvm(\"android\")\n\n    sourceSets[\"commonMain\"].dependencies {\n        implementation(\"org.jetbrains.kotlin:kotlin-stdlib-common\")\n    }\n\n    sourceSets[\"androidMain\"].dependencies {\n        implementation(\"org.jetbrains.kotlin:kotlin-stdlib\")\n    }\n}\n\nval packForXcode by tasks.creating(Sync::class) {\n    val targetDir = File(buildDir, \"xcode-frameworks\")\n\n    /// selecting the right configuration for the iOS\n    /// framework depending on the environment\n    /// variables set by Xcode build\n    val mode = System.getenv(\"CONFIGURATION\") ?: \"DEBUG\"\n    val framework = kotlin.targets\n        .getByName&lt;KotlinNativeTarget&gt;(\"ios\")\n        .binaries.getFramework(mode)\n    inputs.property(\"mode\", mode)\n    dependsOn(framework.linkTask)\n\n    from({ framework.outputDirectory })\n    into(targetDir)\n\n    /// generate a helpful ./gradlew wrapper with embedded Java path\n    doLast {\n        val gradlew = File(targetDir, \"gradlew\")\n        gradlew.writeText(\"#!/bin/bash\\n\"\n                + \"export 'JAVA_HOME=${System.getProperty(\"java.home\")}'\\n\"\n                + \"cd '${rootProject.rootDir}'\\n\"\n                + \"./gradlew \\$@\\n\")\n        gradlew.setExecutable(true)\n    }\n}\n\ntasks.getByName(\"build\").dependsOn(packForXcode) \n</code></pre>\n"}, {"tags": ["list", "kotlin", "functional-programming"], "comments": [{"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "edited": false, "score": 1, "creation_date": 1566896027, "post_id": 57665638, "comment_id": 101789333, "body": "Can we assume non-overlapping meetings? And/or the list to be ordered by starting time?"}], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 3, "last_activity_date": 1566872774, "creation_date": 1566872774, "answer_id": 57666986, "question_id": 57665638, "link": "https://stackoverflow.com/questions/57665638/kotlin-combine-certain-elements-in-list-in-a-functional-way/57666986#57666986", "title": "Kotlin: combine certain elements in list in a functional way", "body": "<p>Here's a functional way. The idea is to get all the meeting endpoints in a list, then compare pairs of adjacent endTime and startTime and filter out those that are equal.\nThen group the result into pairs and make the resulting list of meetings from them.</p>\n\n<pre><code>fun combine(meetings: List&lt;Meeting&gt;): List&lt;Meeting&gt; {\n    return meetings\n        .zipWithNext { current, next -&gt; listOf(current.endTime, next.startTime) }\n        .filterNot { (end, start) -&gt; end == start }\n        .flatten()\n        .let { listOf(meetings.first().startTime) + it + listOf(meetings.last().endTime) }\n        .chunked(2) { (start, end) -&gt; Meeting(start, end) }\n}\n</code></pre>\n\n<p>It works with non-empty lists of meetings; handling an empty one is a matter of an additional <code>if (meetings.isEmpty()) return meetings</code> check in the beginning.</p>\n\n<p>I don't find it, however, more elegant because it requires significantly more object allocations for a big list of meetings. Turning <code>meetings</code> into a sequence with the <code>.asSequence()</code> function in the beginning of the operation chain might help a bit, but not that much.</p>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 7697633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b9d698c87d312114cd758a294d9b6f2?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/7697633/chris"}, "is_accepted": false, "score": 1, "last_activity_date": 1566885795, "last_edit_date": 1566885795, "creation_date": 1566879314, "answer_id": 57667611, "question_id": 57665638, "link": "https://stackoverflow.com/questions/57665638/kotlin-combine-certain-elements-in-list-in-a-functional-way/57667611#57667611", "title": "Kotlin: combine certain elements in list in a functional way", "body": "<p>Honestly, I believe this would be better handled on map creation/insertion rather than attempting to condense it later on. However, this seems to work while avoiding the use of fold and other functions that you seem to prefer not to use. </p>\n\n<p>Also, depending on the size of the original meetings list, it might be worth creating a list of the extended meetings (opposite of stripped) and use that instead of <code>meetings</code> in <code>findLastLinkedMeeting</code>. Not sure if itd make much of  difference though.</p>\n\n<pre><code>    fun combine(): List&lt;Meeting&gt; {\n        val stripped = meetings.filter { meeting -&gt; meetings.none { isContinuation(it, meeting) } }\n\n        return stripped.map { stripped -&gt;\n            val fromMeeting = findLastLinkedMeeting(stripped)\n            if (fromMeeting == stripped) stripped else Meeting(stripped.startTime, fromMeeting.endTime)\n        }\n    }\n\n    private tailrec fun findLastLinkedMeeting(fromMeeting: Meeting): Meeting {\n        val nextMeeting = meetings.find { toMeeting -&gt; isContinuation(fromMeeting, toMeeting) }\n        return if (nextMeeting != null) findLastLinkedMeeting(nextMeeting) else fromMeeting\n    }\n\n    private fun isContinuation(fromMeeting: Meeting, toMeeting: Meeting) =\n        fromMeeting.endTime == toMeeting.startTime\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "edited": false, "score": 0, "creation_date": 1566915199, "post_id": 57671884, "comment_id": 101800237, "body": "I&#39;d loved to have variadic <code>when</code> for this. :/"}], "tags": [], "owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "is_accepted": false, "score": 1, "last_activity_date": 1566899058, "creation_date": 1566899058, "answer_id": 57671884, "question_id": 57665638, "link": "https://stackoverflow.com/questions/57665638/kotlin-combine-certain-elements-in-list-in-a-functional-way/57671884#57671884", "title": "Kotlin: combine certain elements in list in a functional way", "body": "<p>Using mutability <em>inside</em> a \"functional\" call is fair, as long as we don't expose it.</p>\n\n<p>This is very similar to your first version, with a few arguably minor differences.</p>\n\n<ul>\n<li>Aggregation function factored out.</li>\n<li>Aggregration function is <em>almost</em> in single-expression form.</li>\n<li>Interesting case of <code>when</code> is only a single expression.</li>\n</ul>\n\n<pre><code>fun combine(meetings: List&lt;Meeting&gt;): List&lt;Meeting&gt; {\n    fun add(ms: MutableList&lt;Meeting&gt;, m: Meeting) : MutableList&lt;Meeting&gt; {\n        ms.lastOrNull().let {\n            when {\n                it == null -&gt;\n                    ms.add(m)\n                it.endTime == m.startTime -&gt;\n                    ms[ms.lastIndex] = Meeting(it.startTime, m.endTime)\n                else -&gt;\n                    ms.add(m)\n            }\n        }\n\n        return ms\n    }\n\n    return meetings.fold(mutableListOf(), ::add)\n}\n</code></pre>\n\n<p>Going one step further, we can use <code>reduce</code> instead of <code>fold</code>, at the expense of potentially introducing many short-lived lists (but never many at a time due to using a sequence; I'd hope the JIT would optimize that part) but adding the potential for parallelization:</p>\n\n<pre><code>fun combine(meetings: List&lt;Meeting&gt;): List&lt;Meeting&gt; {\n    fun add(ml: MutableList&lt;Meeting&gt;, mr: MutableList&lt;Meeting&gt;) : MutableList&lt;Meeting&gt; {\n        val leftLast = ml.lastOrNull()\n        val rightFirst = mr.firstOrNull()\n\n        when {\n            leftLast == null || rightFirst == null || leftLast.endTime != rightFirst.startTime -&gt;\n                ml.addAll(mr)\n            else -&gt; {\n                // assert(leftLast.endTime == rightFirst.startTime)\n                ml[ml.lastIndex] = Meeting(leftLast.startTime, rightFirst.endTime)\n                mr.removeAt(0)\n                ml.addAll(mr)\n            }\n        }\n\n        return ml\n    }\n\n    return meetings.asSequence().map { mutableListOf(it) }.reduce(::add)\n}\n</code></pre>\n\n<p>Of course, the same principle can be applied to immutable lists:</p>\n\n<pre><code>fun combine(meetings: List&lt;Meeting&gt;): List&lt;Meeting&gt; {\n    fun add(ml: List&lt;Meeting&gt;, mr: List&lt;Meeting&gt;) : List&lt;Meeting&gt; {\n        val leftLast = ml.lastOrNull()\n        val rightFirst = mr.firstOrNull()\n\n        return when {\n            leftLast == null || rightFirst == null || leftLast.endTime != rightFirst.startTime -&gt;\n                ml + mr\n            else -&gt; {\n                // assert(leftLast.endTime == rightFirst.startTime)\n                ml.dropLast(1) + Meeting(leftLast.startTime, rightFirst.endTime) + mr.drop(1)\n            }\n        }\n    }\n\n    return meetings.asSequence().map { listOf(it) }.reduce(::add)\n}\n</code></pre>\n\n<p>This is probably the most functional-style-ish variant, at the potential added cost of more object creations. For actual performance considerations we'd have to benchmark, of course.</p>\n"}, {"comments": [{"owner": {"reputation": 3568, "user_id": 14072498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbfb76dd382341cd18e03f4a064d705?s=128&d=identicon&r=PG&f=1", "display_name": "Roar S.", "link": "https://stackoverflow.com/users/14072498/roar-s"}, "edited": false, "score": 0, "creation_date": 1603581946, "post_id": 57674859, "comment_id": 114083688, "body": "I like your approach. If I may suggest one small improvement: Use <code>combined.apply</code> in order to get rid of repetition of <code>combined</code> and the <code>combined</code> at the end. BR"}], "tags": [], "owner": {"reputation": 4061, "user_id": 3393058, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TmKho.png?s=128&g=1", "display_name": "Aloso", "link": "https://stackoverflow.com/users/3393058/aloso"}, "is_accepted": false, "score": 3, "last_activity_date": 1566911645, "last_edit_date": 1566911645, "creation_date": 1566909382, "answer_id": 57674859, "question_id": 57665638, "link": "https://stackoverflow.com/questions/57665638/kotlin-combine-certain-elements-in-list-in-a-functional-way/57674859#57674859", "title": "Kotlin: combine certain elements in list in a functional way", "body": "<p>I find the solution with <code>fold</code> most elegant, also it doesn't allocate any excess objects. However, I was able to simplify it:</p>\n\n<pre><code>fun combine(meetings : List&lt;Meeting&gt;) : List&lt;Meeting&gt; {\n    return meetings.fold(mutableListOf()) { combined: MutableList&lt;Meeting&gt;, meeting: Meeting -&gt;\n        val prevMeeting = combined.lastOrNull()\n        if (prevMeeting == null || prevMeeting.endTime &lt; meeting.startTime) {\n            combined.add(meeting)\n        } else {\n            combined[combined.lastIndex] = Meeting(prevMeeting.startTime, meeting.endTime)\n        }\n        combined\n    }\n}\n</code></pre>\n\n<p>Note that this doesn't have to search through the list to remove the previous meeting. It just replaces the previous meeting with the combination of the meetings.</p>\n\n<p>It does need one mutable list, because this solution should be efficient.</p>\n"}, {"tags": [], "owner": {"reputation": 923, "user_id": 940731, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/333c4a17da8def9add5bab106e43779e?s=128&d=identicon&r=PG", "display_name": "Gustav Karlsson", "link": "https://stackoverflow.com/users/940731/gustav-karlsson"}, "is_accepted": false, "score": 3, "last_activity_date": 1566910680, "last_edit_date": 1566910680, "creation_date": 1566909899, "answer_id": 57675016, "question_id": 57665638, "link": "https://stackoverflow.com/questions/57665638/kotlin-combine-certain-elements-in-list-in-a-functional-way/57675016#57675016", "title": "Kotlin: combine certain elements in list in a functional way", "body": "<p>Recursive and immutable.</p>\n\n<pre><code>fun combine(meetings: List&lt;Meeting&gt;): List&lt;Meeting&gt; {\n    return if (meetings.isEmpty()) meetings\n    else combineRecurse(emptyList(), meetings.first(), meetings.drop(1))\n}\n\nfun combineRecurse(tail: List&lt;Meeting&gt;, head: Meeting, remaining: List&lt;Meeting&gt;): List&lt;Meeting&gt; {\n    val next = remaining.firstOrNull()\n    return when {\n        next == null -&gt; tail + head\n        next.startTime == head.endTime -&gt; combineRecurse(tail, Meeting(head.startTime, next.endTime), remaining.drop(1))\n        else -&gt; combineRecurse(tail + head, next, remaining.drop(1))\n    }\n}\n</code></pre>\n\n<p>The recursive function takes 3 arguments:</p>\n\n<ul>\n<li>tail: Processed meetings that cannot be combined anymore</li>\n<li>head: The meeting we're currently working on and trying to extend as much as possible</li>\n<li>remaining: Unprocessed meetings</li>\n</ul>\n"}], "owner": {"reputation": 11886, "user_id": 446461, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9HaOK.jpg?s=128&g=1", "display_name": "mreichelt", "link": "https://stackoverflow.com/users/446461/mreichelt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 734, "favorite_count": 0, "answer_count": 5, "score": 6, "last_activity_date": 1566911645, "creation_date": 1566858525, "last_edit_date": 1566860789, "question_id": 57665638, "link": "https://stackoverflow.com/questions/57665638/kotlin-combine-certain-elements-in-list-in-a-functional-way", "title": "Kotlin: combine certain elements in list in a functional way", "body": "<p>Recently I was asked what Kotlin stdlib functions I could recommend to handle a certain problem: combine certain meetings in a list that have the same start/end time.</p>\n\n<p>Let's say a meeting is given by this data class:</p>\n\n<pre><code>data class Meeting(val startTime: Int, val endTime: Int)\n\nfun main() {\n    val meetings = listOf(\n        Meeting(10, 11),\n        Meeting(12, 15),  // this can be merged with\n        Meeting(15, 17)   //  this one\n    )\n    println(combine(meetings))\n    // should print: [Meeting(startTime=10, endTime=11), Meeting(startTime=12, endTime=17)]\n}\n\nfun combine(meetings: List&lt;Meeting&gt;): List&lt;Meeting&gt; {\n    // TODO: elegant, functional way to do this?\n}\n</code></pre>\n\n<p>I already solved this problem using <code>fold</code>, but I didn't feel it was the right use for it (a simple forEach should have been enough):</p>\n\n<pre><code>fun combine(meetings : List&lt;Meeting&gt;) : List&lt;Meeting&gt; {\n    return meetings.fold(mutableListOf&lt;Meeting&gt;()) { combined: MutableList&lt;Meeting&gt;, meeting: Meeting -&gt;\n        val lastMeeting = combined.lastOrNull()\n        when {\n            lastMeeting == null -&gt; combined.add(meeting)\n            lastMeeting.endTime == meeting.startTime -&gt; {\n                combined.remove(lastMeeting)\n                combined.add(Meeting(lastMeeting.startTime, meeting.endTime))\n            }\n            else -&gt; combined.add(meeting)\n        }\n        combined\n    }.toList()\n}\n</code></pre>\n\n<p>Also, another solution with <code>forEach</code> instead of <code>fold</code>:</p>\n\n<pre><code>fun combine(meetings: List&lt;Meeting&gt;): List&lt;Meeting&gt; {\n    val combined = mutableListOf&lt;Meeting&gt;()\n\n    meetings.forEachIndexed { index, meeting -&gt;\n        val lastMeeting = combined.lastOrNull()\n        when {\n            lastMeeting == null -&gt; combined.add(meeting)\n            lastMeeting.endTime == meeting.startTime -&gt;\n                combined[combined.lastIndex] = Meeting(lastMeeting.startTime, meeting.endTime)\n            else -&gt; combined.add(meeting)\n        }\n    }\n\n    return combined.toList()\n}\n</code></pre>\n\n<p>However, I feel there must be a more elegant, functional way with less mutability to solve this. How would you approach this?</p>\n\n<p>Oh, and before I forget: of course I have some unit tests for you to play around with! \ud83d\ude07</p>\n\n<pre><code>@Test\nfun `empty meeting list returns empty list`() {\n    val meetings = emptyList&lt;Meeting&gt;()\n    assertEquals(emptyList&lt;Meeting&gt;(), combine(meetings))\n}\n\n@Test\nfun `single meeting list returns the same`() {\n    val meetings = listOf(Meeting(9, 10))\n    assertEquals(meetings, combine(meetings))\n}\n\n@Test\nfun `3 different meetings`() {\n    val meetings = listOf(Meeting(9, 10), Meeting(11, 12), Meeting(13, 14))\n    assertEquals(meetings, combine(meetings))\n}\n\n@Test\nfun `2 meetings that can be merged`() {\n    val meetings = listOf(Meeting(9, 10), Meeting(10, 11))\n    assertEquals(listOf(Meeting(9, 11)), combine(meetings))\n}\n\n@Test\nfun `3 meetings that can be merged`() {\n    val meetings = listOf(Meeting(9, 10), Meeting(10, 11), Meeting(11, 13))\n    assertEquals(listOf(Meeting(9, 13)), combine(meetings))\n}\n</code></pre>\n\n<p>And here's a <a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjMxIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJmb2xkZWRCdXR0b24iOnRydWUsInJlYWRPbmx5IjpmYWxzZSwiY29kZSI6ImRhdGEgY2xhc3MgTWVldGluZyh2YWwgc3RhcnRUaW1lOiBJbnQsIHZhbCBlbmRUaW1lOiBJbnQpXG5cbmZ1biBtYWluKCkge1xuICAgIHZhbCBtZWV0aW5ncyA9IGxpc3RPZihcbiAgICAgICAgTWVldGluZygxMCwgMTEpLFxuICAgICAgICBNZWV0aW5nKDEyLCAxNSksXG4gICAgICAgIE1lZXRpbmcoMTUsIDE3KVxuICAgIClcbiAgICBwcmludGxuKGNvbWJpbmUobWVldGluZ3MpKVxuICAgIC8vIHNob3VsZCBwcmludDogW01lZXRpbmcoc3RhcnRUaW1lPTEwLCBlbmRUaW1lPTExKSwgTWVldGluZyhzdGFydFRpbWU9MTIsIGVuZFRpbWU9MTcpXVxufVxuXG5mdW4gY29tYmluZShtZWV0aW5nczogTGlzdDxNZWV0aW5nPik6IExpc3Q8TWVldGluZz4ge1xuICAgIFRPRE8oXCJhIG5pY2UsIGZ1bmN0aW9uYWwgd2F5IHRvIGNvbWJpbmUgY29uc2VjdXRpdmUgbWVldGluZ3NcIilcbn1cblxuIiwianNDb2RlIjoiIn0=\" rel=\"noreferrer\">Kotlin Playground link</a> to get started. </p>\n\n<p>Thanks a lot for your help! \ud83d\ude0a</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1566855489, "post_id": 57665204, "comment_id": 101779166, "body": "Don&#39;t describe your code. Post it. You start by talking about objects, then objects become classes. Everything would be s much easier to understand if you simply posted the code."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1566866851, "creation_date": 1566866851, "answer_id": 57666441, "question_id": 57665204, "link": "https://stackoverflow.com/questions/57665204/cant-access-class-parents-companion-object/57666441#57666441", "title": "Can&#39;t access class&#39; parent&#39;s companion object", "body": "<blockquote>\n  <p><a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#companion-objects\" rel=\"nofollow noreferrer\">Companion objects</a> and their members can only be accessed via the containing class name, not via instances of the containing class. <em>[...]</em> If you try to redeclare a companion object in a subclass, you'll just shadow the one from the base class.</p>\n</blockquote>\n\n<p>In other words: It's not possible, as both companion objects are completely unrelated.</p>\n"}], "owner": {"reputation": 606, "user_id": 6114891, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7144d099114fc0bc55047180efe3d0ef?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/6114891/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 57666441, "answer_count": 1, "score": -1, "last_activity_date": 1566866851, "creation_date": 1566855172, "question_id": 57665204, "link": "https://stackoverflow.com/questions/57665204/cant-access-class-parents-companion-object", "title": "Can&#39;t access class&#39; parent&#39;s companion object", "body": "<p>In my class I'm referencing a utils object that holds some consts. That utils object inherits from a parent utils object that also has consts. In my class, I want to access the parent's companion consts via a reference to the child utils class. Is this possible?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This isn't technically necessary (simply referencing the base class works in my specific case) but I'm still interested from a language perspective if this is possible.</p>\n"}, {"tags": ["json", "kotlin", "jackson"], "owner": {"reputation": 5861, "user_id": 1089987, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/j2i5Q.jpg?s=128&g=1", "display_name": "anvarik", "link": "https://stackoverflow.com/users/1089987/anvarik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 944, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566853633, "creation_date": 1566853633, "question_id": 57664947, "link": "https://stackoverflow.com/questions/57664947/jackson-kotlin-deserialization-fails-with-custom-serializer", "title": "Jackson kotlin deserialization fails with custom Serializer", "body": "<p>Here is my code:</p>\n\n<pre><code>class Foo&lt;K&gt;(\n    val foo: Bar&lt;K&gt;\n)\n\nclass Bar&lt;K&gt;(\n    val bar: K\n)\n\nclass Baz(\n    val baz: ByteArray\n)\n\ninternal class BazSerializer : JsonSerializer&lt;Baz&gt;() {\n    override fun serialize(value: Baz, gen: JsonGenerator, serializers: SerializerProvider) {\n        gen.writeString(String(value.baz))\n    }\n}\n\ninternal class BazDeserializer : JsonDeserializer&lt;Baz&gt;() {\n    override fun deserialize(p: JsonParser, ctxt: DeserializationContext): Baz {\n        return Baz(p.valueAsString.toByteArray())\n    }\n}\n\nval MAPPER = ObjectMapper()\n    .registerModule(\n        SimpleModule()\n            .addSerializer(Baz::class.java, BazSerializer())\n            .addDeserializer(Baz::class.java, BazDeserializer())\n    ).registerKotlinModule()\n}\n</code></pre>\n\n<p>My custom de/serializers there for simply byte-> string conversions so that it shows up nicely in JSON. Here are my tests which are green:</p>\n\n<pre><code>@Test\nfun `foo bar`() {\n    val type1 = \"text\"\n    val type2 = Baz(\"baz\".toByteArray())\n\n    val fooStringOriginal = Foo(Bar(type1))\n    val fooByteArrayOriginal = Foo(Bar(type2))\n\n    // {\"foo\":{\"bar\":\"text\"}}\n    val s1 = MAPPER.writeValueAsString(fooStringOriginal)\n    // {\"foo\":{\"bar\":\"baz\"}}\n    val s2 = MAPPER.writeValueAsString(fooByteArrayOriginal)\n\n    val fooStringDeser = MAPPER.readValue&lt;Foo&lt;String&gt;&gt;(s1)\n    val fooByteArrayDeser = MAPPER.readValue&lt;Foo&lt;Baz&gt;&gt;(s2)\n\n    // {\"foo\":{\"bar\":\"text\"}}\n    val s11 = MAPPER.writeValueAsString(fooStringDeser)\n    // {\"foo\":{\"bar\":\"baz\"}}\n    val s21 = MAPPER.writeValueAsString(fooByteArrayDeser)\n\n    assertEquals(s1, s11)\n    assertEquals(s2, s21)\n    assertEquals(fooStringOriginal.foo.bar, fooStringDeser.foo.bar)\n    assertEquals(String(fooByteArrayDeser.foo.bar.baz), \"baz\")\n    assertTrue(fooByteArrayDeser.foo.bar is Baz)\n}\n</code></pre>\n\n<p>now let's say instead of exposing the MAPPER object on my api I want to add serialize and deserialize methods to my kt file and use those in my tests:</p>\n\n<pre><code>fun &lt;K&gt; serialize(mapping: Foo&lt;K&gt;): String {\n    return MAPPER.writeValueAsString(mapping)\n}\n\nfun &lt;K&gt; deserialize(json: String): Foo&lt;K&gt; {\n    return MAPPER.readValue&lt;Foo&lt;K&gt;&gt;(json)\n}\n</code></pre>\n\n<p>However for some reason kotlin is not getting my <code>Baz</code> and thinking that it's a <code>HashMap</code>:</p>\n\n<pre><code>@Test\nfun `failing foo bar`() {\n    val type1 = \"text\"\n    val type2 = Baz(\"baz\".toByteArray())\n\n    val fooStringOriginal = Foo(Bar(type1))\n    val fooByteArrayOriginal = Foo(Bar(type2))\n\n    val s1 = serialize(fooStringOriginal)\n    val s2 = serialize(fooByteArrayOriginal)\n\n    val fooStringDeser = deserialize&lt;String&gt;(s1)\n    val fooByteArrayDeser = deserialize&lt;Baz&gt;(s2)\n\n    val s11 = serialize(fooStringDeser)\n    val s21 = serialize(fooByteArrayDeser)\n\n    assertEquals(s1, s11)\n    assertEquals(s2, s21)\n    assertEquals(fooStringOriginal.foo.bar, fooStringDeser.foo.bar)\n    assertEquals(String(fooByteArrayDeser.foo.bar.baz), \"baz\")\n    // ^^^^^ ERROR: java.lang.ClassCastException: java.lang.String cannot be cast to Baz\n    assertTrue(fooByteArrayDeser.foo.bar is Baz)\n}\n</code></pre>\n\n<p>anyone have a clue why <code>MAPPER.readValue&lt;Foo&lt;Baz&gt;&gt;</code> works and <code>deserialize&lt;Baz&gt;</code> doesn't (which simply returns <code>MAPPER.readValue&lt;Foo&lt;K&gt;&gt;</code>)?</p>\n\n<p>EDIT: I can't use inline reified since I want this to be called from Java.</p>\n"}, {"tags": ["arrays", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1566852612, "post_id": 57664688, "comment_id": 101778296, "body": "It throws an NPE because <code>sorted</code> is full of nulls (except for the two first elements, and you&#39;re using <code>!!</code>, which means: trust me, it&#39;s not null, and throw an NPE if I&#39;m wrong."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1566866399, "creation_date": 1566866399, "answer_id": 57666394, "question_id": 57664688, "link": "https://stackoverflow.com/questions/57664688/kotin-type-mismatch-inferred-type-is-int-but-int-was-expected/57666394#57666394", "title": "Kotin Type mismatch: inferred type is Int? but Int was expected", "body": "<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/array-of-nulls.html\" rel=\"nofollow noreferrer\"><code>arrayOfNulls()</code></a> function is declared as</p>\n\n<pre><code>fun &lt;reified T&gt; arrayOfNulls(size: Int): Array&lt;T?&gt;\n</code></pre>\n\n<p>Thus any item of <code>sorted</code> might be null. So if you want to properly use it as null, just do a normal null check <code>value != null</code> before using it.</p>\n\n<p>Instead of using nulls, you could also use <code>Int.MIN_VALUE</code> as initialization value.</p>\n\n<pre><code>val sorted = Array(nums.size) { MIN_VALUE }\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 7746248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f8377331f8b52b402f71ecd3ef5c592?s=128&d=identicon&r=PG&f=1", "display_name": "truthsayer", "link": "https://stackoverflow.com/users/7746248/truthsayer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5092, "favorite_count": 0, "accepted_answer_id": 57666394, "answer_count": 1, "score": 3, "last_activity_date": 1566866399, "creation_date": 1566852084, "question_id": 57664688, "link": "https://stackoverflow.com/questions/57664688/kotin-type-mismatch-inferred-type-is-int-but-int-was-expected", "title": "Kotin Type mismatch: inferred type is Int? but Int was expected", "body": "<p>I am trying to get the Maximum number between two numbers in Kotlin &amp; I keep getting Type mismatch error. I tried using Int?.toInt() It didn't work.</p>\n\n<p>I also tried to use Int!! as the double exclamation for None Null values, It didn't work too.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){\n\n    val nums = arrayOf(8, 5, 6, 8, 9)\n    var sorted = arrayOfNulls&lt;Int&gt;(nums.size)\n\n    // manually set 2 values\n    sorted[0] = nums[0]\n    sorted[1] = nums[1]\n\n    for(i in 1 until nums.size-1){\n        val value = sorted[i - 1]\n        val max = maxOf(value!!, nums[i]) // This line throws Null pointer exception: error: type mismatch: inferred type is Int? but Int was expected\n        // do something with max\n    }\n\n    println(sorted)\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "micronaut"], "answers": [{"tags": [], "owner": {"reputation": 21901, "user_id": 3533584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6683339fd1680ef0de6cbcadaa49fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Scott Brown", "link": "https://stackoverflow.com/users/3533584/jeff-scott-brown"}, "is_accepted": false, "score": 1, "last_activity_date": 1566853144, "creation_date": 1566853144, "answer_id": 57664867, "question_id": 57664073, "link": "https://stackoverflow.com/questions/57664073/is-there-a-way-to-create-multiple-client-beans-from-a-single-class/57664867#57664867", "title": "Is there a way to create multiple @Client beans from a single class", "body": "<blockquote>\n  <p>Is there a way to create multiple @Client beans from a single class</p>\n</blockquote>\n\n<p>Not with a single class, no.</p>\n"}, {"tags": [], "owner": {"reputation": 3267, "user_id": 2787184, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/F69PI.png?s=128&g=1", "display_name": "2787184", "link": "https://stackoverflow.com/users/2787184/2787184"}, "is_accepted": false, "score": 0, "last_activity_date": 1592554850, "creation_date": 1592554850, "answer_id": 62466179, "question_id": 57664073, "link": "https://stackoverflow.com/questions/57664073/is-there-a-way-to-create-multiple-client-beans-from-a-single-class/62466179#62466179", "title": "Is there a way to create multiple @Client beans from a single class", "body": "<p>If your same application deployed on multiple instances \nthen your application resource path remains same for both the servers but only your application domain and port are different.\nSo in java it can be achieved by writing an interface having all resource client path/method and create separate classes which implements your common interface with different host URLs.</p>\n\n<pre><code>public interface Base{\n  @Get(value = \"/getStuff\")\n  public void getStuff();\n}\n\n\n@Client(\"client-1 url\") // define client-1 url in yml\npublic class Client1 implements Base{}\n\n\n@Client(\"client-2 url\") // define client-2 url in yml\npublic class Client2 implements Base{}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7350614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5462aa245f8dd3af32669c88b534fe4?s=128&d=identicon&r=PG&f=1", "display_name": "rufflepuss", "link": "https://stackoverflow.com/users/7350614/rufflepuss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1592554850, "creation_date": 1566848768, "question_id": 57664073, "link": "https://stackoverflow.com/questions/57664073/is-there-a-way-to-create-multiple-client-beans-from-a-single-class", "title": "Is there a way to create multiple @Client beans from a single class", "body": "<p>I am trying to use a single Kotlin class to define multiple micronuat Client beans each with its own base url. I have a list of urls that correspond to several instances of the same webapp each of which have their own set of data, but all use the same rest endpoints. So I want to be able to spin up a bunch of client beans using the same base class, but each with its own name/url. Then in a service class I would be able to use the name to pull the bean from the application context. </p>\n\n<p>The work around I have come up is below. In which you define a single abstractClient class, and then extend it many times with different client names. The problem with this is that I statically have to define all the possible names at compile time. I would like to be able to define some kind of map of config data in the yml of Name:URL pairs and have the clients auto generated</p>\n\n<pre><code>abstract class abstractClient (\n  val name: String\n){\n  @Get(value = \"/getStuff\")\n  abstract suspend fun getStuff()\n\n@Client(\"client1\")\nabstract class Client1: abstractClient(\"name1\")\n\n@Client(\"client2\")\nabstract class Client2: abstractClient(\"name2\")\n</code></pre>\n\n<p>I can then access the beans in my service class by injecting a List and looping through them looking for the right name</p>\n"}, {"tags": ["database", "kotlin", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 654, "user_id": 3585850, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/2lWh2.jpg?s=128&g=1", "display_name": "androholic", "link": "https://stackoverflow.com/users/3585850/androholic"}, "is_accepted": true, "score": 1, "last_activity_date": 1566848808, "creation_date": 1566848808, "answer_id": 57664085, "question_id": 57663144, "link": "https://stackoverflow.com/questions/57663144/room-database-table-creation-error-when-data-class-having-a-inner-class/57664085#57664085", "title": "Room database table creation error when data class having a inner class", "body": "<pre><code>@Entity(tableName = \"tbl_newsData\")\ndata class Article(\n    @PrimaryKey(autoGenerate = true) var _id: Long?,\n    @ColumnInfo(name = \"author\") var author: String?,\n    @ColumnInfo(name = \"title\") var title: String?,\n    @ColumnInfo(name = \"description\") var description: String?,\n    @ColumnInfo(name = \"url\") var url: String?,\n    @ColumnInfo(name = \"urlToImage\") var urlToImage: String?,\n    @ColumnInfo(name = \"publishedAt\") var publishedAt: String?,\n    @ColumnInfo(name = \"content\") var content: String?,\n    @TypeConverters(SourceTypeConverter::class)\n    @ColumnInfo(name = \"source\")\n    var source: Source?\n){\n    class SourceTypeConverter {\n        @TypeConverter\n        fun fromDeliveryExchangeList(source: Source?): String? {\n            if (source == null) {\n                return null\n            }\n            val gson = Gson()\n            val type = object : TypeToken&lt;Source&gt;() {\n\n            }.type\n            return gson.toJson(source, type)\n        }\n\n        @TypeConverter\n        fun toDeliveryExchangeList(source: String?): Source? {\n            if (source == null) {\n                return null\n            }\n            val gson = Gson()\n            val type = object : TypeToken&lt;Source&gt;() {\n\n            }.type\n            return gson.fromJson(source, type)\n        }\n    }\n\n    constructor() : this(null,\"\", \"\", \"\",\n        \"\", \"\", \"\", \"\",null)\n}\n</code></pre>\n\n<p>////////Add the converter </p>\n\n<pre><code>@Database(entities = arrayOf(Article::class), version = 1)\n@TypeConverters(Article.SourceTypeConverter::class)\nabstract class AppDataBase : RoomDatabase() {\n}\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 9945157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13dd185fa35c166684e55076a5b0a970?s=128&d=identicon&r=PG&f=1", "display_name": "avik", "link": "https://stackoverflow.com/users/9945157/avik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 1, "accepted_answer_id": 57664085, "answer_count": 1, "score": 2, "last_activity_date": 1566848808, "creation_date": 1566844473, "question_id": 57663144, "link": "https://stackoverflow.com/questions/57663144/room-database-table-creation-error-when-data-class-having-a-inner-class", "title": "Room database table creation error when data class having a inner class", "body": "<p>Requirement is to parse json data and insert it into room database using Kotlin.Parsing is done but while creating the table using data class then the problem is arising as the data class have a inner class. Not able to create the table with the fields inside the inner class.</p>\n\n<p>Not able to understand how can i use the @TypeConverters</p>\n\n<pre><code>@Entity(tableName = \"tbl_newsData\")\n@TypeConverters(ReposPersistentConverter::class)\ndata class Article(\n    @PrimaryKey(autoGenerate = true) var _id: Long?,\n    @ColumnInfo(name = \"author\") var author: String?,\n    @ColumnInfo(name = \"title\") var title: String?,\n    @ColumnInfo(name = \"description\") var description: String?,\n    @ColumnInfo(name = \"url\") var url: String?,\n    @ColumnInfo(name = \"urlToImage\") var urlToImage: String?,\n    @ColumnInfo(name = \"publishedAt\") var publishedAt: String?,\n    @ColumnInfo(name = \"content\") var content: String?,\n    var source: Source?\n){\n    constructor() : this(null,\"\", \"\", \"\", \"\", \"\",\n        \"\", \"\", \"\", \"\",null)\n}\n\nclass ReposPersistentConverter {\n    val gson = Gson()\n    // RepoOwner\n    @TypeConverter\n    fun storeRepoOwnerToString(data: Source): String = gson.toJson(data)\n\n    @TypeConverter\n    fun storeStringToRepoOwner(value: String): Source = gson.fromJson(value)\n}\n\n@Entity(tableName = \"tbl_newsData\")\ndata class Article(\n    @PrimaryKey(autoGenerate = true) var _id: Long?,\n    @ColumnInfo(name = \"author\") var author: String?,\n    @ColumnInfo(name = \"title\") var title: String?,\n    @ColumnInfo(name = \"description\") var description: String?,\n    @ColumnInfo(name = \"url\") var url: String?,\n    @ColumnInfo(name = \"urlToImage\") var urlToImage: String?,\n    @ColumnInfo(name = \"publishedAt\") var publishedAt: String?,\n    @ColumnInfo(name = \"content\") var content: String?,\n    var source: Source?  //inner class\n){\n    constructor() : this(null,\"\", \"\", \"\", \"\", \"\",\n        \"\", \"\", \"\", \"\",null)\n}\n</code></pre>\n\n<p>////Source class</p>\n\n<pre><code>data class Source(\n    val id: String,\n    val name: String\n)\n</code></pre>\n\n<p>//json </p>\n\n<pre><code>{\n\n    \"source\": {\n        \"id\": null,\n        \"name\": \"Geeksofdoom.com\"\n    },\n    \"author\": \"The Movie God\",\n    \"title\": \"Hulu Comings and Goings: What\u2019s New and What\u2019s Leaving In September 2019\",\n    \"description\": \"For those of you who do your entertainment streaming on Hulu, whether it be responsibly in moderation or recklessly in full-on binge watching sessions, there's plenty of TV shows and movies arriving and departing each month to keep track of. The titles set to\u2026\",\n    \"url\": \"https://www.geeksofdoom.com/2019/08/26/hulu-comings-goings-new-leaving-september-2019\",\n    \"urlToImage\": \"https://www.geeksofdoom.com/GoD/img/2016/02/hulu.jpg\",\n    \"publishedAt\": \"2019-08-26T18:00:53Z\",\n    \"content\": \"For those of you who do your entertainment streaming on Hulu, whether it be responsibly in moderation or recklessly in full-on binge watching sessions, there\u2019s plenty of TV shows and movies arriving and departing each month to keep track of.The titles set to \u2026 [+8407 chars]\"\n\n}\n</code></pre>\n\n<p>error: Cannot figure out how to save this field into database. You can consider adding a type converter for it.\n    private com.app.newsapp.dashboard.model.Source source;</p>\n"}, {"tags": ["kotlin", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 644, "user_id": 8671209, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212727830903077/picture?type=large", "display_name": "Thomas Ludewig", "link": "https://stackoverflow.com/users/8671209/thomas-ludewig"}, "edited": false, "score": 0, "creation_date": 1572406972, "post_id": 58617579, "comment_id": 103545923, "body": "Welcome here :) Do you think. guess or <i>know</i> it ?"}, {"owner": {"reputation": 1, "user_id": 2276232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d153a395ba28bcc56a42fd49274d9885?s=128&d=identicon&r=PG", "display_name": "Adrian Spanu", "link": "https://stackoverflow.com/users/2276232/adrian-spanu"}, "reply_to_user": {"reputation": 644, "user_id": 8671209, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212727830903077/picture?type=large", "display_name": "Thomas Ludewig", "link": "https://stackoverflow.com/users/8671209/thomas-ludewig"}, "edited": false, "score": 0, "creation_date": 1572461107, "post_id": 58617579, "comment_id": 103570830, "body": "Thanks! I know that I&#39;ve not been able to use body parameters in swagger api auto-generated code from the ktor project in a GET request, so I think that this sounds like the same issue as what the OP is running into. So I hope that this helps him :)."}], "tags": [], "owner": {"reputation": 1, "user_id": 2276232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d153a395ba28bcc56a42fd49274d9885?s=128&d=identicon&r=PG", "display_name": "Adrian Spanu", "link": "https://stackoverflow.com/users/2276232/adrian-spanu"}, "is_accepted": false, "score": 0, "last_activity_date": 1572398975, "creation_date": 1572398975, "answer_id": 58617579, "question_id": 57662950, "link": "https://stackoverflow.com/questions/57662950/cannot-access-form-data-in-get-request/58617579#58617579", "title": "Cannot access form data in GET request", "body": "<p>I think that you won't be able to use have a body with a <code>GET</code> request. With that HTTP verb, most servers do not recognize a body. If you want to send a body, I'd recommend trying to change your <code>GET</code> request to a <code>POST</code>. </p>\n\n<p>I think that should get you where you need to go.</p>\n"}], "owner": {"reputation": 41, "user_id": 7255198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c008c0b5dc40d2b7df73e5968182c111?s=128&d=identicon&r=PG&f=1", "display_name": "sjyn", "link": "https://stackoverflow.com/users/7255198/sjyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572398975, "creation_date": 1566843542, "question_id": 57662950, "link": "https://stackoverflow.com/questions/57662950/cannot-access-form-data-in-get-request", "title": "Cannot access form data in GET request", "body": "<p>I've been trying to make a GET request to an endpoint defined in a ktor route, but the parameters seem to be missing no matter how I try to get them. According to the documentation, I should just be able to call <code>call.receive&lt;Parameters&gt;()</code> and that should yield a map containing the data, but it's always empty.</p>\n\n<p>So Far, I've tried installing my own ContentNegotiator (the <code>convertForReceive</code> method is never called), accessing the queryParams (always empty as well), and using the <code>call.receiveParameters()</code> method, which is always always empty</p>\n\n<p>My CURL request looks like</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>curl -X GET \\\n  http://localhost:7802/api/v2/plans \\\n  -H 'Content-Type: application/x-www-form-urlencoded' \\\n  --data-urlencode \"id[starts_with]=asdf\"\n</code></pre>\n\n<p>and my endpoint looks like</p>\n\n<pre><code>fun Routing.plans() {\n  route(\"plans\") {\n    get(\"\") {\n      val params = call.receive&lt;Parameters&gt;()\n      println(params)\n      call.respond(HttpStatusCode.NoContent)\n    }\n  }\n}\n</code></pre>\n\n<p>I expect the parameters to contain <em>something</em>, but they are always empty.</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "thymeleaf"], "answers": [{"comments": [{"owner": {"reputation": 254687, "user_id": 6068, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/931970b8dc51b72e05e3a12b88612d61?s=128&d=identicon&r=PG", "display_name": "pupeno", "link": "https://stackoverflow.com/users/6068/pupeno"}, "edited": false, "score": 0, "creation_date": 1566885601, "post_id": 57663408, "comment_id": 101784824, "body": "Yes, I want the XML to be a Thymeleaf template, that&#39;s why I mentioned Thymeleaf. I&#39;ll update the question."}], "tags": [], "owner": {"reputation": 13530, "user_id": 4126893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94eb9f9f4055d544c6c3746121f82c88?s=128&d=identicon&r=PG&f=1", "display_name": "Metroids", "link": "https://stackoverflow.com/users/4126893/metroids"}, "is_accepted": false, "score": 0, "last_activity_date": 1566845581, "creation_date": 1566845581, "answer_id": 57663408, "question_id": 57662441, "link": "https://stackoverflow.com/questions/57662441/how-do-you-generate-an-xml-with-thymeleaf-in-spring-boot/57663408#57663408", "title": "How do you generate an XML with Thymeleaf in Spring Boot?", "body": "<p>Unless you want to use Thymeleaf attributes in your XML files -- for example, something like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;root&gt;\n    &lt;node th:each=\"value: ${values}\" th:text=\"${value} /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>then you shouldn't have to configure any new TemplateResolvers or TemplateEngines (and Thymeleaf doesn't have anything to do with this question).</p>\n\n<p>Other than that, you haven't provided enough information. There are <a href=\"https://stackoverflow.com/questions/5673260/downloading-a-file-from-spring-controllers\">plenty</a> of <a href=\"https://stackoverflow.com/questions/35680932/download-a-file-from-spring-boot-rest-service\">examples</a> of downloading files with Spring and since I don't know how or from what you are generating your xml, I can't make any suggestions there.  <a href=\"https://www.baeldung.com/jackson-xml-serialization-and-deserialization\" rel=\"nofollow noreferrer\">Here is something you can start with, I guess</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 254687, "user_id": 6068, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/931970b8dc51b72e05e3a12b88612d61?s=128&d=identicon&r=PG", "display_name": "pupeno", "link": "https://stackoverflow.com/users/6068/pupeno"}, "edited": false, "score": 0, "creation_date": 1566973728, "post_id": 57677561, "comment_id": 101817715, "body": "That was way more involved than I expected. Thank you so much for the answer! :)"}], "tags": [], "owner": {"reputation": 13530, "user_id": 4126893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94eb9f9f4055d544c6c3746121f82c88?s=128&d=identicon&r=PG&f=1", "display_name": "Metroids", "link": "https://stackoverflow.com/users/4126893/metroids"}, "is_accepted": true, "score": 2, "last_activity_date": 1566922519, "last_edit_date": 1566922519, "creation_date": 1566918192, "answer_id": 57677561, "question_id": 57662441, "link": "https://stackoverflow.com/questions/57662441/how-do-you-generate-an-xml-with-thymeleaf-in-spring-boot/57677561#57677561", "title": "How do you generate an XML with Thymeleaf in Spring Boot?", "body": "<p>Alright then, one way of doing it would be configuring the Thymeleaf engine in a single method.  For example:</p>\n\n<pre><code>@GetMapping(\"/xml\")\npublic void xml(HttpServletResponse res) throws Exception {\n    SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n    resolver.setApplicationContext(new AnnotationConfigApplicationContext());\n    resolver.setPrefix(\"classpath:/xml/\");\n    resolver.setSuffix(\".xml\");\n    resolver.setCharacterEncoding(\"UTF-8\");\n    resolver.setTemplateMode(TemplateMode.XML);\n\n    SpringTemplateEngine engine = new SpringTemplateEngine();\n    engine.setTemplateResolver(resolver);\n\n    Context ctx = new Context();\n    ctx.setVariable(\"notes\", Arrays.asList(\"one note\", \"two note\"));\n    String xml = engine.process(\"template\", ctx);\n\n    res.setHeader(\"Content-Disposition\", \"attachment; filename=template.xml\");\n    res.setContentType(\"application/xml\");\n    PrintWriter writer = res.getWriter();\n    writer.print(xml);\n    writer.close();\n}\n</code></pre>\n\n<p>Where the template is located in <code>src/main/resources/xml/template.xml</code>.  You set your model variables using the <code>ctx.setVariable()</code> method.</p>\n"}], "owner": {"reputation": 254687, "user_id": 6068, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/931970b8dc51b72e05e3a12b88612d61?s=128&d=identicon&r=PG", "display_name": "pupeno", "link": "https://stackoverflow.com/users/6068/pupeno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 0, "accepted_answer_id": 57677561, "answer_count": 2, "score": 1, "last_activity_date": 1566922519, "creation_date": 1566840825, "last_edit_date": 1566885629, "question_id": 57662441, "link": "https://stackoverflow.com/questions/57662441/how-do-you-generate-an-xml-with-thymeleaf-in-spring-boot", "title": "How do you generate an XML with Thymeleaf in Spring Boot?", "body": "<p>I have a web application I'm building with Spring Boot, Kotlin and Thymeleaf. I have some HTML templates working, but I want to make one return an XML file. This XML would be a Thymeleaf template, using Thymeleaf attributes. What's the correct way of doing that in Spring Boot? Also, the XML should be downloaded.</p>\n\n<p>I've seen this: <a href=\"https://stackoverflow.com/questions/28774903/spring-boot-thymeleaf-with-xml-templates\">Spring Boot &amp; Thymeleaf with XML Templates</a>, but it seems that would switch Thymeleaf to generate XMLs site-wide, not just for a single controller.</p>\n"}, {"tags": ["java", "android", "authentication", "kotlin", "client-certificates"], "comments": [{"owner": {"reputation": 32972, "user_id": 150978, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/150978/robert"}, "edited": false, "score": 0, "creation_date": 1566841628, "post_id": 57661796, "comment_id": 101774128, "body": "So if I get it right, the first way to instal a client certificate is using an MDM like MobiControl. The second way is the app you develop. Should the client certificate be used by multiple apps (e.g. web browser, or other third party apps) or just by the app you develop?"}, {"owner": {"reputation": 145, "user_id": 8839856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f620268c951601458f4e4813af19337?s=128&d=identicon&r=PG", "display_name": "atotalnoob", "link": "https://stackoverflow.com/users/8839856/atotalnoob"}, "reply_to_user": {"reputation": 32972, "user_id": 150978, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/150978/robert"}, "edited": false, "score": 0, "creation_date": 1566841952, "post_id": 57661796, "comment_id": 101774245, "body": "Just by this app."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 8839856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f620268c951601458f4e4813af19337?s=128&d=identicon&r=PG", "display_name": "atotalnoob", "link": "https://stackoverflow.com/users/8839856/atotalnoob"}, "edited": false, "score": 0, "creation_date": 1566845610, "post_id": 57662743, "comment_id": 101775626, "body": "How should the import from MDM tools work? Can they import the certificate directly into the keystore?"}, {"owner": {"reputation": 32972, "user_id": 150978, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/150978/robert"}, "reply_to_user": {"reputation": 145, "user_id": 8839856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f620268c951601458f4e4813af19337?s=128&d=identicon&r=PG", "display_name": "atotalnoob", "link": "https://stackoverflow.com/users/8839856/atotalnoob"}, "edited": false, "score": 0, "creation_date": 1566890369, "post_id": 57662743, "comment_id": 101786663, "body": "Well that is up to the developer of the MDM solution and therefore not your concern. Anyway you have to use the method provided by the MDM (if there is one provided). One can even think of a special interface in the MDM app which allows to use the certificate by other apps."}], "tags": [], "owner": {"reputation": 32972, "user_id": 150978, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/150978/robert"}, "is_accepted": true, "score": 0, "last_activity_date": 1566842418, "creation_date": 1566842418, "answer_id": 57662743, "question_id": 57661796, "link": "https://stackoverflow.com/questions/57661796/android-app-storing-client-certificates-in-a-secure-and-proper-way/57662743#57662743", "title": "Android app storing client certificates in a secure and proper way", "body": "<p>If an app want's to store a client certificate that is only used by this app I strongly recommend to use the <a href=\"https://developer.android.com/training/articles/keystore\" rel=\"nofollow noreferrer\"><code>AndroidKeyStore</code> system</a>. See also <a href=\"https://nelenkov.blogspot.com/2015/06/keystore-redesign-in-android-m.html\" rel=\"nofollow noreferrer\">this blog entry</a>.</p>\n\n<p>If the device supports the private key is stored encrypted and can't be accessed by apps (only used). Event the app itself can't extract the private key, however it can use the private key for e.g. signing or decrypting data using a java <code>Cipher</code> instance.</p>\n\n<p>Furthermore you can set by just one flag that using the certificate requires an device authentication (e.g. via fingerprint) before the app can use it.</p>\n"}], "owner": {"reputation": 145, "user_id": 8839856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f620268c951601458f4e4813af19337?s=128&d=identicon&r=PG", "display_name": "atotalnoob", "link": "https://stackoverflow.com/users/8839856/atotalnoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 597, "favorite_count": 0, "accepted_answer_id": 57662743, "answer_count": 1, "score": 1, "last_activity_date": 1566842418, "creation_date": 1566837483, "question_id": 57661796, "link": "https://stackoverflow.com/questions/57661796/android-app-storing-client-certificates-in-a-secure-and-proper-way", "title": "Android app storing client certificates in a secure and proper way", "body": "<p>I am building an Android application that will need Certificate based authentication. I'm not so familiar with Java/Kotlin programming paradigms. </p>\n\n<p>The certificates will be issued one of two ways, via an API (which I control) or via a Device Management tool such as MobiControl (this is the only one, currently, but we may have to use other device management tools). </p>\n\n<p>I need a way to store the certificates securely, but in a way that we can deploy them automatically using a Device Management suite and they will persist indefinitely. Is the certificate store sufficient? <a href=\"https://developer.android.com/reference/java/security/cert/CertStore\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/security/cert/CertStore</a></p>\n\n<p>In unix, I'd store them in <code>/etc/ssl/certs</code> but I don't know if this is a valid Android approach. </p>\n"}, {"tags": ["java", "android", "android-layout", "kotlin", "layout"], "answers": [{"comments": [{"owner": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "edited": false, "score": 0, "creation_date": 1566891171, "post_id": 57664296, "comment_id": 101787038, "body": "I want to resize the CustomView too, but how to make CustomView&#39;s borders &quot;out&quot; of screen ?"}], "tags": [], "owner": {"reputation": 700, "user_id": 5332531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pL7wa.jpg?s=128&g=1", "display_name": "Bali", "link": "https://stackoverflow.com/users/5332531/bali"}, "is_accepted": false, "score": 0, "last_activity_date": 1566849877, "creation_date": 1566849877, "answer_id": 57664296, "question_id": 57661297, "link": "https://stackoverflow.com/questions/57661297/how-to-zoom-on-a-edittext-when-focus/57664296#57664296", "title": "How to zoom on a EditText when focus?", "body": "<p>EditText has <strong>setOnFocusChangeListener</strong> use it to see when EditText receives and looses focus.</p>\n\n<pre><code>     editText.setOnFocusChangeListener(new OnFocusChangeListener() {\n     @Override\n     public void onFocusChange(View view, boolean hasFocus) {\n          if (hasFocus) {\n              //Dynamically resize EditText to match device width\n          } else {\n              //Dynamically resize EditText to match previous width with margin\n          }\n      }\n  });\n</code></pre>\n\n<p>You can change EditText width and height dynamically using LayoutParams as in this <a href=\"https://stackoverflow.com/questions/9224927/how-to-set-edittext-box-height-and-width-programmatically-in-android\">link</a></p>\n"}], "owner": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566849877, "creation_date": 1566835256, "question_id": 57661297, "link": "https://stackoverflow.com/questions/57661297/how-to-zoom-on-a-edittext-when-focus", "title": "How to zoom on a EditText when focus?", "body": "<p>I have a ScrollView which contain a CustomView. In that CustomView I can have many EditText like this :</p>\n\n<p><a href=\"https://i.stack.imgur.com/uJh6D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uJh6D.png\" alt=\"First\"></a></p>\n\n<p>When I focus an EditText, I want to zoom on this EditText so that this EditText is in center of the screen and take the same width like the screen. </p>\n\n<p>The expected result : </p>\n\n<p><a href=\"https://i.stack.imgur.com/3IUgG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3IUgG.png\" alt=\"enter image description here\"></a></p>\n\n<p>Sorry for my bad english, Thank you for your help !</p>\n"}, {"tags": ["android", "kotlin", "bluetooth-lowenergy", "beacon"], "comments": [{"owner": {"reputation": 10604, "user_id": 4217682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ba6e0495f2b7859ce08c7958a9739cb?s=128&d=identicon&r=PG&f=1", "display_name": "snachmsm", "link": "https://stackoverflow.com/users/4217682/snachmsm"}, "edited": false, "score": 0, "creation_date": 1566834142, "post_id": 57660907, "comment_id": 101771188, "body": "why do you think you can scan for BLE devices when Bluetooth is turned off? could you please provide any doc link? I can link <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth-le#setup\" rel=\"nofollow noreferrer\">THIS</a>, point 2., which starts with: <i>Next, you need to ensure that Bluetooth is enabled.</i>"}, {"owner": {"reputation": 21, "user_id": 6950848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1e91ac22238e2f459e60e7ed4564731?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Prado", "link": "https://stackoverflow.com/users/6950848/diego-prado"}, "reply_to_user": {"reputation": 10604, "user_id": 4217682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ba6e0495f2b7859ce08c7958a9739cb?s=128&d=identicon&r=PG&f=1", "display_name": "snachmsm", "link": "https://stackoverflow.com/users/4217682/snachmsm"}, "edited": false, "score": 0, "creation_date": 1566839732, "post_id": 57660907, "comment_id": 101773368, "body": "I thought the operation was similar to iOS, where the antenna is not turned off and is receiving data being able to identify the devices"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6950848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1e91ac22238e2f459e60e7ed4564731?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Prado", "link": "https://stackoverflow.com/users/6950848/diego-prado"}, "edited": false, "score": 0, "creation_date": 1566839782, "post_id": 57661265, "comment_id": 101773389, "body": "Thank you so much, I understand that .. I thought it was possible somehow, even manipulating the hardware"}], "tags": [], "owner": {"reputation": 113731, "user_id": 250260, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mLw78.png?s=128&g=1", "display_name": "Jorgesys", "link": "https://stackoverflow.com/users/250260/jorgesys"}, "is_accepted": false, "score": 0, "last_activity_date": 1566835110, "last_edit_date": 1592644375, "creation_date": 1566835110, "answer_id": 57661265, "question_id": 57660907, "link": "https://stackoverflow.com/questions/57660907/identify-ble-devices-on-android-kotlin-with-bluetooth-off/57661265#57661265", "title": "identify BLE devices on Android / Kotlin with bluetooth off", "body": "<p><strong>There is no way to detect BLE devices with bluetooth off</strong></p>\n<p>Bluetooth must be enabled</p>\n<blockquote>\n<p><a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth-le#setup\" rel=\"nofollow noreferrer\">Set up BLE</a></p>\n<p>Before your application can communicate over BLE, you need\nto verify that BLE is supported on the device, and if so, ensure that\nit is enabled.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 58917, "user_id": 1461050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8IhJ.jpg?s=128&g=1", "display_name": "davidgyoung", "link": "https://stackoverflow.com/users/1461050/davidgyoung"}, "is_accepted": true, "score": 0, "last_activity_date": 1566845477, "creation_date": 1566845477, "answer_id": 57663374, "question_id": 57660907, "link": "https://stackoverflow.com/questions/57660907/identify-ble-devices-on-android-kotlin-with-bluetooth-off/57663374#57663374", "title": "identify BLE devices on Android / Kotlin with bluetooth off", "body": "<p><strong>On some Android devices including Pixel phones, Android One devices, and unmodified AOSP builds, turning off bluetooth in the quick settings panel doesn't really turn off bluetooth.</strong>  Instead, it merely blocks bluetooth connections and pairing in software, yet allows Bluetooth LE scans to continue unaffected.  As @Jorgesys correctly notes, it is impossible to detect BLE devices if the Bluetooth radio is really turned off, so let me say again:  despite what the quick settings panel says, bluetooth is not necessarily powered off.</p>\n\n<p>On supported devices, this happens only if two things are true:</p>\n\n<ol>\n<li>Bluetooth is turned on in the full settings menu (On Android 9: Settings -> Connected Devices -> Connection preferences -> Bluetooth ON)</li>\n<li>The user has selected to \"Allow apps and services to scan for nearby devices at any time, even when Bluetooth is off.  This can be used, for example, to improve location-based features and services.\" (Settings -> Security &amp; Location -> Location -> Advanced -> Scanning -> Bluetooth scanning ON)</li>\n</ol>\n"}], "owner": {"reputation": 21, "user_id": 6950848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1e91ac22238e2f459e60e7ed4564731?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Prado", "link": "https://stackoverflow.com/users/6950848/diego-prado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "accepted_answer_id": 57663374, "answer_count": 2, "score": 2, "last_activity_date": 1566845477, "creation_date": 1566833594, "last_edit_date": 1566835656, "question_id": 57660907, "link": "https://stackoverflow.com/questions/57660907/identify-ble-devices-on-android-kotlin-with-bluetooth-off", "title": "identify BLE devices on Android / Kotlin with bluetooth off", "body": "<p>I am developing a solution to check BLE devices and I used the native API that comes with Android to check BluetoothLeScanner.</p>\n\n<p>Wanted to understand a little better operation, I take the location permission and bluetooth.</p>\n\n<p>After the scan starts, I turn Bluetooth on my phone to off, on <code>Moto G2 Android 6.0</code> Scan still keeps giving me the expected result when I test on a <code>Samsung S8 Android 9</code> and <code>Sony Xperia T2 Ultra Android 5.1</code> in the log I get which was bluetooth disabled and the scan was stopped.</p>\n\n<p>I can only perform the test when I purchase it as follows</p>\n\n<pre><code> bluetoothManager = getSystemService(Context.BLUETOOTH_SERVICE) as BluetoothManager\n bluetoothAdapter = bluetoothManager.adapter\n\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n            bluetoothScanner = bluetoothAdapter.bluetoothLeScanner\n        }\n</code></pre>\n\n<p><pre><code>@TargetApi(Build.VERSION_CODES.M)\n    class BleScanCallback(resultMap: MutableMap) : ScanCallback() {</p>\n\n    var resultOfScan = resultMap\n\n    @RequiresApi(Build.VERSION_CODES.LOLLIPOP)\n    @TargetApi(Build.VERSION_CODES.M)\n    override fun onScanResult(callbackType: Int, result: ScanResult?) {\n        addScanResult(result)\n        Log.v(\"Main Activity\", \"I found a ble device ${result}\")\n        Log.v(\"Main Activity\", \"I found a ble device ${result?.device?.address}\")\n\n    }\n\n    override fun onBatchScanResults(results: MutableList&lt;ScanResult&gt;?) {\n        results?.forEach { result -&gt; addScanResult(result) }\n    }\n\n    override fun onScanFailed(errorCode: Int) {\n        Log.v(\"Main Activity\",\"Bluetooth LE scan failed. Error code: $errorCode\")\n    }\n\n    fun addScanResult(scanResult: ScanResult?) {\n        val bleDevice = scanResult?.device\n        val deviceAddress = bleDevice?.address\n        resultOfScan.put(deviceAddress, bleDevice)\n    }\n</code></pre>\n\n<p>scanResult is bringing the necessary information when bluetooth is online, I already set it up as the image below</p>\n\n<p><a href=\"https://i.stack.imgur.com/o9jGRm.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/o9jGRm.png</a></p>\n\n<p>I see that this makes scanning even off</p>\n"}, {"tags": ["function", "kotlin", "default-parameters"], "answers": [{"tags": [], "owner": {"reputation": 10817, "user_id": 917548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bbc7f5755f5f6bacceedd955404214a?s=128&d=identicon&r=PG", "display_name": "Roger Lindsj&#246;", "link": "https://stackoverflow.com/users/917548/roger-lindsj%c3%b6"}, "is_accepted": true, "score": 4, "last_activity_date": 1566829367, "creation_date": 1566829367, "answer_id": 57659798, "question_id": 57659573, "link": "https://stackoverflow.com/questions/57659573/using-exceptions-as-default-arguments-in-kotlin/57659798#57659798", "title": "Using exceptions as default arguments in Kotlin", "body": "<p>You shouldn't build the exception directly. Try:</p>\n\n<pre><code>fun get(\n    ...,\n    onNoneFound: () -&gt; T = { throw IllegalStateException(\"No matching results found\") }\n): T {\n    ...\n\n    return when (results.size) -&gt; {\n        0 -&gt; onNoneFound.invoke()\n        1 -&gt; ...\n        else -&gt; chooseResult(...)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1566843121, "creation_date": 1566843121, "answer_id": 57662874, "question_id": 57659573, "link": "https://stackoverflow.com/questions/57659573/using-exceptions-as-default-arguments-in-kotlin/57662874#57662874", "title": "Using exceptions as default arguments in Kotlin", "body": "<p>The problem is that <code>throw IllegalStateException(...)</code> is a perfectly fine expression of type <code>() -&gt; T</code>, just as it is an expression of any other type; but it throws the exception immediately, what you want is a lambda which will throw the exception <em>when invoked</em>. And that's <code>{ throw IllegalStateException(...) }</code> in Kotlin, as \nRoger Lindsj\u00f6's answer says.</p>\n"}], "owner": {"reputation": 17849, "user_id": 4230345, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-fWK0YfC5ong/AAAAAAAAAAI/AAAAAAAAADk/a23H1FFs8Jg/photo.jpg?sz=128", "display_name": "Farbod Salamat-Zadeh", "link": "https://stackoverflow.com/users/4230345/farbod-salamat-zadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 57659798, "answer_count": 2, "score": 1, "last_activity_date": 1566843121, "creation_date": 1566828559, "question_id": 57659573, "link": "https://stackoverflow.com/questions/57659573/using-exceptions-as-default-arguments-in-kotlin", "title": "Using exceptions as default arguments in Kotlin", "body": "<p>I'm writing a function in Kotlin to retrieve items of type <code>T</code> from a database.</p>\n\n<p>The user can specify an action to be invoked if no matching results are found, otherwise an <code>IllegalArgumentException</code> is thrown:</p>\n\n<pre><code>fun get(\n    ...,\n    onNoneFound: () -&gt; T = throw IllegalStateException(\"No matching results found\")\n): T {\n    ...\n\n    return when (results.size) -&gt; {\n        0 -&gt; onNoneFound.invoke()\n        1 -&gt; ...\n        else -&gt; chooseResult(...)\n    }\n}\n</code></pre>\n\n<p>The issue I'm having is that whenever the function is invoked, it seems that the <code>IllegalStateException</code> is thrown before the function body is executed.</p>\n\n<p>In a way, that makes sense, and I suppose a workaround could be:</p>\n\n<pre><code>fun get(\n    ...,\n    onNoneFound: (() -&gt; T)? = null\n): T {\n    ...\n\n    return when (results.size) -&gt; {\n        0 -&gt; if (onNoneFound == null) {\n            throw IllegalArgumentException(\"No matching results found\")\n        } else {\n            onNoneFound.invoke()\n        }\n        1 -&gt; ...\n        else -&gt; chooseResult(...)\n    }\n}\n</code></pre>\n\n<p>I was wondering if there is a more elegant/preferable solution to this problem - ideally where I do not have to make the function nullable and do a null check later. Is there a way of doing this with Kotlin's default argument syntax?</p>\n\n<p><strong>Edit:</strong>\nIt occurred to me that I can use the elvis operator for the null check which does make the code more elegant:</p>\n\n<pre><code>onNoneFound?.invoke() ?: throw IllegalArgumentException(\"No matching results found\")\n</code></pre>\n\n<p>But I'm still curious if Kotlin has a built-in way of doing this without the null check.</p>\n"}]