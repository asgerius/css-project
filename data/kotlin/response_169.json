[{"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 4, "last_activity_date": 1522908276, "creation_date": 1522908276, "answer_id": 49665184, "question_id": 49661899, "link": "https://stackoverflow.com/questions/49661899/java-annotation-implementation-to-kotlin/49665184#49665184", "title": "Java annotation implementation to Kotlin", "body": "<p>Yes, you need to move <code>List</code> out of <code>Age</code>. The restriction on having nested classes inside annotations will very likely be removed in a future version of Kotlin; it's more of a design oversight than an essential issue.</p>\n"}], "owner": {"reputation": 33, "user_id": 9598528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ab51fc2a11fa6e0991de073e3a2b9ad?s=128&d=identicon&r=PG&f=1", "display_name": "BrokenCranium", "link": "https://stackoverflow.com/users/9598528/brokencranium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1420, "favorite_count": 0, "accepted_answer_id": 49665184, "answer_count": 1, "score": 3, "last_activity_date": 1522908276, "creation_date": 1522884336, "question_id": 49661899, "link": "https://stackoverflow.com/questions/49661899/java-annotation-implementation-to-kotlin", "title": "Java annotation implementation to Kotlin", "body": "<p>I am trying to replicate the implementation of @Age constraint(found it on online) from Java to Kotlin, I copied the java code base and used the IDE to convert it Kotlin code.  </p>\n\n<p>Java code </p>\n\n<pre><code>@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE })\n@Retention(RUNTIME)\n@Repeatable(Age.List.class)\n@Documented\n@Constraint(validatedBy = { })\npublic @interface Age {\n    String message() default \"Must be greater than {value}\";\n    Class&lt;?&gt;[] groups() default { };\n    Class&lt;? extends Payload&gt;[] payload() default { };\n    long value();\n    @Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE })\n    @Retention(RUNTIME)\n    @Documented\n    @interface List {\n        Age[] value();\n    }\n}\n</code></pre>\n\n<p>Corresponding Kotlin code generated by Intellij  </p>\n\n<pre><code>@Target(AnnotationTarget.*)  \n@Retention(RUNTIME)  \n@Repeatable(Age.List::class)  \n@Documented  \n@Constraint(validatedBy = arrayOf())  \nannotation class Age(  \n  val value: Long,  \n  val message: String = \"Must be greater than {value}\",  \n  val groups: Array&lt;KClass&lt;*&gt;&gt; = arrayOf(),  \n  val payload: Array&lt;KClass&lt;out Payload&gt;&gt; = arrayOf()) { \n\n  @Target(AnnotationTarget.FUNCTION,  \n    AnnotationTarget.PROPERTY_GETTER,  \n    AnnotationTarget.PROPERTY_SETTER,  \n    AnnotationTarget.FIELD,  \n    AnnotationTarget.ANNOTATION_CLASS,  \n    AnnotationTarget.CONSTRUCTOR,  \n    AnnotationTarget.VALUE_PARAMETER,  \n    AnnotationTarget.TYPE)  \n  @Retention(RUNTIME)  \n  @Documented  \n  annotation class List(vararg val value: Age)  \n} \n</code></pre>\n\n<p>The Kotlin code results in error stating \"Members are not allowed in annotation class\". Does moving the annotation class List out from Age should resolve the issue? Is there any other way to implement an annotation class within another one?  </p>\n\n<p>Thank You. </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1522880992, "post_id": 49661382, "comment_id": 86332573, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39489887/call-method-from-kotlin-class\">Call method from Kotlin class</a>"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8841227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43d9fb0747e14be8323343aaca93cb83?s=128&d=identicon&r=PG&f=1", "display_name": "Lassley", "link": "https://stackoverflow.com/users/8841227/lassley"}, "edited": false, "score": 0, "creation_date": 1522888171, "post_id": 49661475, "comment_id": 86334795, "body": "Thanks a ton, turns out I was a little off on my syntax with it, I&#39;m super new to kotlin. When I type the first line, it says I have to pass a parameter for context for Parameter(). Do you know what I would pass for &quot;context&quot;? Thanks again"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 25, "user_id": 8841227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43d9fb0747e14be8323343aaca93cb83?s=128&d=identicon&r=PG&f=1", "display_name": "Lassley", "link": "https://stackoverflow.com/users/8841227/lassley"}, "edited": false, "score": 0, "creation_date": 1522888603, "post_id": 49661475, "comment_id": 86334896, "body": "A <a href=\"https://developer.android.com/reference/android/content/Context.html\" rel=\"nofollow noreferrer\"><code>Context</code></a> see indirect subclasses -&gt; your Activity -&gt; inside the <code>Actiity</code>-class it is just <code>this</code>."}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": true, "score": 3, "last_activity_date": 1522888654, "last_edit_date": 1522888654, "creation_date": 1522881326, "answer_id": 49661475, "question_id": 49661382, "link": "https://stackoverflow.com/questions/49661382/how-to-run-a-function-from-one-class-in-another-class-in-android-studio-kotlin/49661475#49661475", "title": "How to run a function from one class in another class in Android Studio [Kotlin]?", "body": "<p>I dont now if I'm missing anything in this question, but just do this:</p>\n\n<pre><code>val preferences = Preferences(this)\npreferences.setLang(\"it is that easy\")\n</code></pre>\n\n<p>in any function in your activity class.</p>\n\n<p>What it does is create an object (<code>val preferences = Preferences()</code>) and then calling a method on it (<code>preferences.setLang(\"this is a string\")</code>). <br>Make sure to use an actual language identifier instead of a random string though.</p>\n"}], "owner": {"reputation": 25, "user_id": 8841227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43d9fb0747e14be8323343aaca93cb83?s=128&d=identicon&r=PG&f=1", "display_name": "Lassley", "link": "https://stackoverflow.com/users/8841227/lassley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4699, "favorite_count": 0, "accepted_answer_id": 49661475, "answer_count": 1, "score": 2, "last_activity_date": 1522894343, "creation_date": 1522880802, "last_edit_date": 1522894343, "question_id": 49661382, "link": "https://stackoverflow.com/questions/49661382/how-to-run-a-function-from-one-class-in-another-class-in-android-studio-kotlin", "title": "How to run a function from one class in another class in Android Studio [Kotlin]?", "body": "<p>I am trying to save user preferences for language, so I have a preferences class with a setter and getter for language, as well as a separate Language activity where the user actually picks which language they want.</p>\n\n<p>From this language activity, I want to use the setter to set the user's chosen language preference within the preferences class. Here is the preferences class:</p>\n\n<pre><code>class Preferences (context: Context) {\n    val PREFS_FILENAME = \"artour.prefs\"\n    val LANGUAGE = \"language\"\n    val prefs: SharedPreferences = context.getSharedPreferences(PREFS_FILENAME, Context.MODE_PRIVATE);\n\n    fun getLang() : String {\n        return prefs.getString(LANGUAGE, \"english\")\n    }\n\n    public fun setLang(lang:String) {\n        val editor = prefs.edit()\n        editor.putString(LANGUAGE, lang)\n        editor.apply()\n    }\n}\n</code></pre>\n\n<p>How would I go about running the setLang method from the language activity? </p>\n"}, {"tags": ["android", "mvvm", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1739, "user_id": 1454719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Butff.png?s=128&g=1", "display_name": "Pozzo Apps", "link": "https://stackoverflow.com/users/1454719/pozzo-apps"}, "edited": false, "score": 0, "creation_date": 1522931646, "post_id": 49661297, "comment_id": 86355400, "body": "Cool! it seems interesting, gonna try it"}], "tags": [], "owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "is_accepted": true, "score": 1, "last_activity_date": 1522880368, "creation_date": 1522880368, "answer_id": 49661297, "question_id": 49661179, "link": "https://stackoverflow.com/questions/49661179/android-mvvm-massive-number-of-observers/49661297#49661297", "title": "android mvvm massive number of observers", "body": "<p>If you using kotlin what about using sealed class and using some state instead.</p>\n\n<p>For example:</p>\n\n<pre><code>sealed class ScreenState {\n    class Loading : ScreenState ()\n    class Idle(var data: Any) : ScreenState ()\n    class Dummy(val dummy: Any) : ScreenState ()\n    ...\n}\n</code></pre>\n\n<p>From your viewmodel</p>\n\n<pre><code>private val liveData: MutableLiveData&lt;ScreenState&gt; = MutableLiveData()\n...\nliveData.value = Idle(Any())\n...\nliveData.value = Loading()\n</code></pre>\n\n<p>From your view/controller</p>\n\n<pre><code>viewModel.liveData.observe(this, Observer {\n        it?.let {\n            when (it) {\n                is ScreenState.Start -&gt; ...\n                is ScreenState.Idle -&gt; ...\n                is ScreenState.Dummy -&gt; ...\n            }\n        }\n    })\n</code></pre>\n\n<p>You may even use generic with sealed class</p>\n\n<pre><code>sealed class DataRequestState&lt;T&gt; {\n    class Start&lt;T&gt; : DataRequestState&lt;T&gt;()\n    class Success&lt;T&gt;(var data: T) : DataRequestState&lt;T&gt;()\n    class Error&lt;T&gt;(val error: Throwable) : DataRequestState&lt;T&gt;()\n}\n</code></pre>\n\n<p>This may help make things a bit cleaner and readable!</p>\n"}], "owner": {"reputation": 1739, "user_id": 1454719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Butff.png?s=128&g=1", "display_name": "Pozzo Apps", "link": "https://stackoverflow.com/users/1454719/pozzo-apps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 49661297, "answer_count": 1, "score": 1, "last_activity_date": 1522880368, "creation_date": 1522879704, "question_id": 49661179, "link": "https://stackoverflow.com/questions/49661179/android-mvvm-massive-number-of-observers", "title": "android mvvm massive number of observers", "body": "<p>this is a very subjective question.\nI'm finally getting more used to MVVM (Model View Viewmodel) (or at least I think so), and whats happening now is that I'm adding more and more MutableLiveData objects in the ViewModel and observing then right from the Activity onCreate.\nI'm not truly sure if that's beneficial, or if that's noise from MVVM, or even if I'm taking a wrong approach, or even worst, there might be too much responsibilities to my class.\nThis is one of my methods called from onCreate which connects the observers:</p>\n\n<pre><code>private fun observeViewModel() {\n    preferencesViewModel.selectedDay.observe(this, Observer { refreshMarkers() })\n\n    viewModel.startPosition.observe(this, Observer { startPositionChanged(it) })\n    viewModel.finishPosition.observe(this, Observer { finishPositionChanged(it) })\n    viewModel.isShowingProgress.observe(this, Observer { progressDialogStateChanged(it) })\n    viewModel.directionLine.observe(this, Observer { plotRoute(it) })\n    viewModel.weathers.observe(this, Observer { if (it != null) showWeathers(it) })\n    viewModel.isShowingTopBar.observe(this, Observer { if (it == true) showTopBar() else hideTopBar() })\n    viewModel.shouldFinish.observe(this, Observer { if (it == true) finish() })\n    viewModel.error.observe(this, Observer { if (it != null) showErrorDialog(it) })\n    viewModel.actionRequest.observe(this, Observer { if (it != null) showActionRequest(it) })\n    viewModel.permissionRequest.observe(this, Observer { if (it != null) requestPermissions(it) })\n}\n</code></pre>\n\n<p>So my question is, is this expected on MVVM with LiveData?\nIs there an approach which will lead to a more clean code?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1522879422, "post_id": 49661098, "comment_id": 86332019, "body": "It sounds like <code>GroupedStudent</code>  contains a collection of <code>Student</code>s..."}, {"owner": {"reputation": 543, "user_id": 5338759, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa444aaf505e4dbd30af77df8aab4ba8?s=128&d=identicon&r=PG&f=1", "display_name": "Rax", "link": "https://stackoverflow.com/users/5338759/rax"}, "reply_to_user": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1522879910, "post_id": 49661098, "comment_id": 86332197, "body": "@Markoto They should be grouped by studentName, and have the SubjectMarks as list."}], "answers": [{"tags": [], "owner": {"reputation": 3342, "user_id": 4380236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTHoX.jpg?s=128&g=1", "display_name": "urgentx", "link": "https://stackoverflow.com/users/4380236/urgentx"}, "is_accepted": true, "score": 3, "last_activity_date": 1522890961, "last_edit_date": 1522890961, "creation_date": 1522883048, "answer_id": 49661728, "question_id": 49661098, "link": "https://stackoverflow.com/questions/49661098/grouping-classes-in-kotlin/49661728#49661728", "title": "Grouping classes in kotlin", "body": "<p>Use the Kotlin stdlib <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html#functions\" rel=\"nofollow noreferrer\">Collections functions</a>:</p>\n\n<pre><code>var students: List&lt;Student&gt; = mutableListOf(Student(\"A\", \"X\", 1), Student(\"A\", \"Y\", 2), Student(\"B\", \"X\", 2), Student(\"B\", \"Y\", 2))\n\nval groupedMap = students.groupBy { it.name }\nval groupedStudents = mutableListOf&lt;GroupedStudent&gt;()\ngroupedMap.forEach { key, value -&gt;\n    val groupedStudent = GroupedStudent(key, value.map { SubjectMarks(it.subject, it.marks) }.toMutableList())\n    groupedStudents.add(groupedStudent)\n}\n</code></pre>\n\n<p>This will result in a <code>List</code> of <code>GroupedStudent</code>, with each <code>GroupedStudent</code> containing a list of students' marks who have that name. </p>\n"}, {"comments": [{"owner": {"reputation": 3342, "user_id": 4380236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTHoX.jpg?s=128&g=1", "display_name": "urgentx", "link": "https://stackoverflow.com/users/4380236/urgentx"}, "edited": false, "score": 0, "creation_date": 1522883322, "post_id": 49661729, "comment_id": 86333406, "body": "This doesn&#39;t do any grouping."}, {"owner": {"reputation": 3342, "user_id": 4380236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTHoX.jpg?s=128&g=1", "display_name": "urgentx", "link": "https://stackoverflow.com/users/4380236/urgentx"}, "edited": false, "score": 0, "creation_date": 1522883605, "post_id": 49661729, "comment_id": 86333499, "body": "Asker comments: &quot;They should be grouped by studentName, and have the SubjectMarks as list.&quot;"}, {"owner": {"reputation": 635, "user_id": 5552809, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zXEeZdep3gI/AAAAAAAAAAI/AAAAAAAABx4/KIGduwAzIuI/photo.jpg?sz=128", "display_name": "contrapost", "link": "https://stackoverflow.com/users/5552809/contrapost"}, "reply_to_user": {"reputation": 3342, "user_id": 4380236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTHoX.jpg?s=128&g=1", "display_name": "urgentx", "link": "https://stackoverflow.com/users/4380236/urgentx"}, "edited": false, "score": 0, "creation_date": 1522884246, "post_id": 49661729, "comment_id": 86333673, "body": "@urgentx my bad, haven&#39;t read the comment. Thanks for pointing out. I&#39;ve updated my answer."}, {"owner": {"reputation": 3342, "user_id": 4380236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTHoX.jpg?s=128&g=1", "display_name": "urgentx", "link": "https://stackoverflow.com/users/4380236/urgentx"}, "edited": false, "score": 0, "creation_date": 1522885737, "post_id": 49661729, "comment_id": 86334084, "body": "Your code doesn&#39;t compile now. Your student variable is inferred as a <code>Map.Entry</code>, not a <code>Student</code>."}], "tags": [], "owner": {"reputation": 635, "user_id": 5552809, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zXEeZdep3gI/AAAAAAAAAAI/AAAAAAAABx4/KIGduwAzIuI/photo.jpg?sz=128", "display_name": "contrapost", "link": "https://stackoverflow.com/users/5552809/contrapost"}, "is_accepted": false, "score": 1, "last_activity_date": 1522931521, "last_edit_date": 1522931521, "creation_date": 1522883049, "answer_id": 49661729, "question_id": 49661098, "link": "https://stackoverflow.com/questions/49661098/grouping-classes-in-kotlin/49661729#49661729", "title": "Grouping classes in kotlin", "body": "<p>If your Student class is correct, i.e. marks should be Int and not array or list of integers and you really want to convert it to \"GroupedStudent List\" you can use sortedWith and map methods:</p>\n\n<pre><code>class Student(var name: String, var subject: String, var marks: Int) {\n  override fun toString(): String = \"name: $name, subject: $subject, marks: $marks\"\n}\n\nclass GroupedStudent(var name: String, var subMarks: MutableList&lt;SubjectMarks&gt;) {\n  override fun toString(): String = \"name: $name, subject: $subMarks\"\n}\n\nclass SubjectMarks(var subject: String, var marks: Int) {\n  override fun toString(): String = \"subject name: $subject, marks: $marks\"\n}\n\nfun main(args: Array&lt;String&gt;) {\n  val students: List&lt;Student&gt; = mutableListOf(Student(\"B\", \"Y\", 2),\n                                              Student(\"A\", \"X\", 1),\n                                              Student(\"B\", \"X\", 2),\n                                              Student(\"A\", \"Y\", 2))\n\n  val groupedStudents: List&lt;GroupedStudent&gt; = students.sortedWith(compareBy({ it.name }))\n        .map { student -&gt; GroupedStudent(student.name, mutableListOf(SubjectMarks(student.subject, student.marks))) }\n\n  println(groupedStudents)\n}\n</code></pre>\n\n<p>The <a href=\"https://try.kotlinlang.org/#/UserProjects/4ot3m17r00uggfv6ckm3c8on50/ufpvillo3oesukdenvs1imqh6e\" rel=\"nofollow noreferrer\">result</a>:</p>\n\n<pre><code>[name: A, subject: [subject name: X, marks: 1], name: A, subject: [subject name: Y, marks: 2], name: B, subject: [subject name: Y, marks: 2], name: B, subject: [subject name: X, marks: 2]]\n</code></pre>\n\n<p><strong>BUT</strong> if you want to group your Student objects in a map with name as key and list of subject/marks as list of Pairs, you can use groupBy:</p>\n\n<pre><code>class Student(var name: String, var subject: String, var marks: Int) {\n  override fun toString(): String = \"name: $name, subject: $subject, marks: $marks\"\n}\n\nclass GroupedStudent(var name: String, var subMarks: MutableList&lt;SubjectMarks&gt;) {\n  override fun toString(): String = \"name: $name, subject: $subMarks\"\n}\n\nclass SubjectMarks(var subject: String, var marks: Int) {\n  override fun toString(): String = \"subject name: $subject, marks: $marks\"\n}\n\nfun main(args: Array&lt;String&gt;) {\n  val students: List&lt;Student&gt; = mutableListOf(Student(\"B\", \"Y\", 2),\n                                          Student(\"A\", \"X\", 1),\n                                          Student(\"B\", \"X\", 2),\n                                          Student(\"A\", \"Y\", 2))\n\n  val groupedStudentsMap = mutableMapOf&lt;String, List&lt;Pair&lt;String, Int&gt;&gt;&gt;()\n  students.groupBy { it.name }\n        .forEach({ (key, value) -&gt; \n          groupedStudentsMap[key] = value.map { element -&gt; Pair(element.subject, element.marks) } })\n\n  println(groupedStudentsMap)\n}\n</code></pre>\n\n<p>The <a href=\"https://try.kotlinlang.org/#/UserProjects/u4qsm6ogpp0tg51onsm6ju91rq/7g4h1bg5ib596uk6jhjkt70jmk\" rel=\"nofollow noreferrer\">result</a>:</p>\n\n<pre><code>{B=[(Y, 2), (X, 2)], A=[(X, 1), (Y, 2)]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1522910458, "creation_date": 1522910458, "answer_id": 49665685, "question_id": 49661098, "link": "https://stackoverflow.com/questions/49661098/grouping-classes-in-kotlin/49665685#49665685", "title": "Grouping classes in kotlin", "body": "<p>You can group by the student's name and then do two simple mappings:</p>\n\n<pre><code>students.groupBy(Student::name).map { (name, students) -&gt;\n    GroupedStudent(name, students.map { SubjectMarks(it.subject, it.marks) }.toMutableList())\n}\n</code></pre>\n"}], "owner": {"reputation": 543, "user_id": 5338759, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa444aaf505e4dbd30af77df8aab4ba8?s=128&d=identicon&r=PG&f=1", "display_name": "Rax", "link": "https://stackoverflow.com/users/5338759/rax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "accepted_answer_id": 49661728, "answer_count": 3, "score": 2, "last_activity_date": 1522931521, "creation_date": 1522879198, "last_edit_date": 1522897899, "question_id": 49661098, "link": "https://stackoverflow.com/questions/49661098/grouping-classes-in-kotlin", "title": "Grouping classes in kotlin", "body": "<p>I have a class called as Student, with three fields, I need to convert that class into a GroupedStudent. How can this be achieved?</p>\n\n<pre><code>var students: List&lt;Student&gt; = mutableListOf(Student(\"A\", \"X\", 1), Student(\"A\", \"Y\", 2), Student(\"B\", \"X\", 2), Student(\"B\", \"Y\", 2))\n</code></pre>\n\n<p>I need to convert the above list to a GroupedStudent List, how can i do that?</p>\n\n<p>They should be grouped by studentName, and have the SubjectMarks as list.</p>\n\n<pre><code>class Student {\n    var name: String\n    var subject: String\n    var marks: Int\n}\n\nclass GroupedStudent {\n    var name: String\n    var subMarks: MutableList&lt;SubjectMarks&gt; \n}\n\nclass SubjectMarks {\n    var subject: String\n    var marks: Int\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "gson", "numberformatexception", "typetoken"], "comments": [{"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 1, "creation_date": 1522895488, "post_id": 49660973, "comment_id": 86336405, "body": "looks like your date doesn&#39;t have the right format. See <a href=\"https://stackoverflow.com/questions/6873020/gson-date-format\">stackoverflow.com/questions/6873020/gson-date-format</a> about setting a specific format for Gson to use (it&#39;s java but the idea is the same)"}, {"owner": {"reputation": 2516, "user_id": 3890041, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/acb0375bb7d035f9b1cda3c0bd8eb36e?s=128&d=identicon&r=PG&f=1", "display_name": "FlatDog", "link": "https://stackoverflow.com/users/3890041/flatdog"}, "reply_to_user": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1523132897, "post_id": 49660973, "comment_id": 86436884, "body": "Thank you! I have been able to fix it :)"}], "owner": {"reputation": 2516, "user_id": 3890041, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/acb0375bb7d035f9b1cda3c0bd8eb36e?s=128&d=identicon&r=PG&f=1", "display_name": "FlatDog", "link": "https://stackoverflow.com/users/3890041/flatdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522892796, "creation_date": 1522878525, "last_edit_date": 1522892796, "question_id": 49660973, "link": "https://stackoverflow.com/questions/49660973/numberformatexception-from-json-to-typetoken-kotlin", "title": "NumberFormatException, from JSON to TypeToken (Kotlin)", "body": "<p>I have a data class that looks like this:</p>\n\n<pre><code>data class MyData (val myNumber : String,\n                   var myDate   : Date?) : Serializable\n</code></pre>\n\n<p>When I set the date, I'm using a formatter, like the below:</p>\n\n<pre><code>val cal = Calendar.getInstance()\n        cal.timeZone = TimeZone.getTimeZone(\"America/New_York\")\n        cal.set(year.toInt(), monthNumber, day.toInt())\n        myDate = cal.time\n</code></pre>\n\n<p>I am storing an array of this in SharedPreferences, and load it back like this:</p>\n\n<pre><code>private fun GetMyDataArray(): ArrayList&lt;MyData&gt;? {\n    val json = sharedPrefs!!.getString(STORED_DATA_KEY, \"\")\n    val caseType = object : TypeToken&lt;ArrayList&lt;MyData&gt;&gt;() {}.type\n    return Gson().fromJson&lt;ArrayList&lt;MyData&gt;&gt;(json, caseType)\n}\n</code></pre>\n\n<p>99% of the time this works fine, but on some user's devices it is crashing with:</p>\n\n<pre><code>java.lang.NumberFormatException Invalid number: Mar\n\nFailed to parse date [\"Mar 21, 2018 08:01:23']: Invalid number: Mar\ncom.google.gson.internal.bind.util.ISO8601Utils.parse \n</code></pre>\n\n<p>Why on some devices does this work fine and others it doesn't?</p>\n\n<p>Could it be due to user locale settings? and if so how would I fix that? (most of my users are in the USA, but some are in India and Europe)</p>\n\n<p>Any pointers appreciated, thanks!</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 2, "creation_date": 1522872712, "post_id": 49659373, "comment_id": 86328727, "body": "seems to be related to <a href=\"https://youtrack.jetbrains.com/issue/KT-6653\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-6653</a>"}], "owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "closed_date": 1522873309, "answer_count": 0, "score": 1, "last_activity_date": 1522871724, "creation_date": 1522871724, "question_id": 49659373, "link": "https://stackoverflow.com/questions/49659373/why-cant-i-override-this-property-of-a-java-class-in-kotlin", "closed_reason": "Duplicate", "title": "Why can&#39;t I override this property of a Java class in Kotlin?", "body": "<p>I wrote a small subclass of <code>java.time.Clock</code> in Kotlin.</p>\n\n<p>This version of it works:</p>\n\n<pre><code>class TestClock(\n    var instant: Instant = Instant.ofEpochSecond(0),\n    zone: ZoneId = ZoneId.of(\"UTC\")\n) : Clock() {\n    private val zone = zone\n\n    override fun getZone(): ZoneId = zone\n\n    override fun withZone(zone: ZoneId): Clock =\n        if (zone == this.zone) this else TestClock(instant, zone)\n\n    override fun instant(): Instant = instant\n}\n</code></pre>\n\n<p>but if I try to remove the redundancy around the <code>zone</code> property, like this:</p>\n\n<pre><code>class TestClock(\n    var instant: Instant = Instant.ofEpochSecond(0),\n    override val zone: ZoneId = ZoneId.of(\"UTC\")\n) : Clock() {\n    override fun withZone(zone: ZoneId): Clock =\n        if (zone == this.zone) this else TestClock(instant, zone)\n\n    override fun instant(): Instant = instant\n}\n</code></pre>\n\n<p>...I get two seemingly contradictory error messages:</p>\n\n<blockquote>\n  <p>Error:(7, 1) Kotlin: Class 'TestClock' is not abstract and does not implement abstract base class member public abstract fun getZone(): ZoneId! defined in java.time.Clock<br>\n  Error:(9, 5) Kotlin: 'zone' overrides nothing</p>\n</blockquote>\n\n<p>Doesn't <code>override val zone</code> override the <code>getZone(): ZoneId!</code> defined in java.time.Clock'?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 668, "user_id": 1168617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de4bc9da60c815d73eaedfb2b9a1c7ba?s=128&d=identicon&r=PG", "display_name": "Dave Leeds", "link": "https://stackoverflow.com/users/1168617/dave-leeds"}, "edited": false, "score": 2, "creation_date": 1522862286, "post_id": 49656564, "comment_id": 86322686, "body": "Can you clarify?  Do you mean a function that accepts a variable number of arguments of the same type?  Or a function that accepts a single argument but that argument can be one of multiple types (e.g., union types)?"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1523294618, "post_id": 49656564, "comment_id": 86491152, "body": "Edited, can you confirm I have kept your intended meaning"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9598108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4f94ddd4d9f7a34b0997e94e2946c8d?s=128&d=identicon&r=PG&f=1", "display_name": "SlayerGames44", "link": "https://stackoverflow.com/users/9598108/slayergames44"}, "edited": false, "score": 0, "creation_date": 1522865548, "post_id": 49656860, "comment_id": 86324523, "body": "Oh, I can&#39;t take any number. I can only take integer (non-inheriting) types. So can I define one function for each type?"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 11, "user_id": 9598108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4f94ddd4d9f7a34b0997e94e2946c8d?s=128&d=identicon&r=PG&f=1", "display_name": "SlayerGames44", "link": "https://stackoverflow.com/users/9598108/slayergames44"}, "edited": false, "score": 0, "creation_date": 1522869149, "post_id": 49656860, "comment_id": 86326682, "body": "You can use number (it&#39;s a superclass of all number types) and then call toLong, but this wouldn&#39;t stop users passing in doubles, which also extend number"}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 0, "last_activity_date": 1522862351, "creation_date": 1522862351, "answer_id": 49656860, "question_id": 49656564, "link": "https://stackoverflow.com/questions/49656564/kotlin-function-argument-accepting-2-more-types/49656860#49656860", "title": "Kotlin function argument accepting 2/more types", "body": "<h1>Can you take in multiple non-inheriting types</h1>\n\n<p>No, this is not supported, if you used Any you would not be able to call methods of Int and Long, even if they both have methods with the same signature.</p>\n\n<h1>Can you take in any Number</h1>\n\n<p>You can accept Numbers, then use the toLong method to work on them as numbers.</p>\n"}], "owner": {"reputation": 11, "user_id": 9598108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4f94ddd4d9f7a34b0997e94e2946c8d?s=128&d=identicon&r=PG&f=1", "display_name": "SlayerGames44", "link": "https://stackoverflow.com/users/9598108/slayergames44"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 502, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1523294597, "creation_date": 1522861248, "last_edit_date": 1523294597, "question_id": 49656564, "link": "https://stackoverflow.com/questions/49656564/kotlin-function-argument-accepting-2-more-types", "title": "Kotlin function argument accepting 2/more types", "body": "<p>How do you create a function that accepts 2 or more types as an argument in Kotlin? Like, how can you create a GCD function that accepts all integer types?</p>\n\n<p>This function would take in 2 parameters of any numeric type, and return a numeric answer.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-espresso"], "comments": [{"owner": {"reputation": 92, "user_id": 862110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9oqf9.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/862110/dmitry"}, "edited": false, "score": 2, "creation_date": 1548663193, "post_id": 49656019, "comment_id": 95606433, "body": "In my case I simply forgot to add this line to the build.gradle: <code>apply plugin: &#39;kotlin-android&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 332, "user_id": 2923505, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f306e1e3352f9f2f92a9463baaea04fb?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh", "link": "https://stackoverflow.com/users/2923505/saurabh"}, "edited": false, "score": 1, "creation_date": 1580771601, "post_id": 49656020, "comment_id": 106200273, "body": "Not the answer. Removing all the older configurations and restarting the emulator fixed it for me.  source: <a href=\"https://github.com/pot8os/Kotlin-Espresso-sample/issues/7#issuecomment-391519027\" rel=\"nofollow noreferrer\">github.com/pot8os/Kotlin-Espresso-sample/issues/&hellip;</a>"}, {"owner": {"reputation": 567, "user_id": 1228891, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c09e20fd48a76670e9860ae907a9dc4a?s=128&d=identicon&r=PG", "display_name": "user1228891", "link": "https://stackoverflow.com/users/1228891/user1228891"}, "reply_to_user": {"reputation": 332, "user_id": 2923505, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f306e1e3352f9f2f92a9463baaea04fb?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh", "link": "https://stackoverflow.com/users/2923505/saurabh"}, "edited": false, "score": 0, "creation_date": 1580993316, "post_id": 49656020, "comment_id": 106285846, "body": "Same general thing. Renaming the test will cause a new (per test) build configuration to be generated. If the IDE is unable to update the existing build configuration, deleting it should also work. +1 anyway as its another valid solution."}], "tags": [], "owner": {"reputation": 567, "user_id": 1228891, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c09e20fd48a76670e9860ae907a9dc4a?s=128&d=identicon&r=PG", "display_name": "user1228891", "link": "https://stackoverflow.com/users/1228891/user1228891"}, "is_accepted": true, "score": 4, "last_activity_date": 1522859380, "creation_date": 1522859380, "answer_id": 49656020, "question_id": 49656019, "link": "https://stackoverflow.com/questions/49656019/android-studio-kotlin-tests-throwing-class-not-found-empty-test-suite/49656020#49656020", "title": "Android Studio - Kotlin Tests Throwing - Class not found - Empty test suite", "body": "<p>In the end I found that it was down to \"test\" being added to the end of the classname. Either moving the word Test to the front of the classname, or omitting it all together resolves the issue. </p>\n"}, {"tags": [], "owner": {"reputation": 5998, "user_id": 954643, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4179aad8a57c39de31d8ef12a9bf7e84?s=128&d=identicon&r=PG", "display_name": "qix", "link": "https://stackoverflow.com/users/954643/qix"}, "is_accepted": false, "score": 4, "last_activity_date": 1523508571, "last_edit_date": 1523508571, "creation_date": 1523507723, "answer_id": 49788064, "question_id": 49656019, "link": "https://stackoverflow.com/questions/49656019/android-studio-kotlin-tests-throwing-class-not-found-empty-test-suite/49788064#49788064", "title": "Android Studio - Kotlin Tests Throwing - Class not found - Empty test suite", "body": "<p>In my case using Android Studio 3.1.1, my Run/Debug Configurations were incorrect, probably due to to an automatic conversion of the config when updating Android Studio. <strong>My instrumented test config ended up being placed under \"Android JUnit\" configs, instead of \"Android Instrumented Tests\".</strong> Creating a new instrumented tests config for my particular class worked.</p>\n\n<p>Also, the default configs created when right-clicking on my module's \"Run All Tests\" option fail to find my instrumented tests and run properly, resulting in </p>\n\n<pre><code>0 test classes found in package '&lt;default package&gt;' \nProcess finished with exit code 254 \nEmpty test suite.\n</code></pre>\n\n<p>as the default config created popped up under Android JUnit. However, right-clicking on my package containing my instrumented tests creates it in the right category. I can also manually edit it to 'All in Module' and still execute my kotlin tests properly.</p>\n\n<p>As an aside, I've also had the IDE give me the following misleading output before:</p>\n\n<pre><code>$ adb shell am instrument -w -r   -e package com.base.package.kotlintests -e debug false com.base.package.test/android.support.test.runner.AndroidJUnitRunner\nClient not ready yet..\nStarted running tests\nTests ran to completion.\nEmpty test suite.\n</code></pre>\n\n<p>Why did it say there was an empty test suite why I clearly have tests? Looking at the logs or running the <code>adb</code> command on a terminal revealed that my code was throwing an exception in my <code>@BeforeClass</code> setup! So no tests were executed, and everything completed trivially.</p>\n"}, {"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 1, "last_activity_date": 1524475966, "creation_date": 1524475966, "answer_id": 49977701, "question_id": 49656019, "link": "https://stackoverflow.com/questions/49656019/android-studio-kotlin-tests-throwing-class-not-found-empty-test-suite/49977701#49977701", "title": "Android Studio - Kotlin Tests Throwing - Class not found - Empty test suite", "body": "<p>Rebuild project, File > Invalidate Caches / Retart..., remove app\\build folder, kill <code>adb</code> from processes, restart emulator.</p>\n"}, {"tags": [], "owner": {"reputation": 2593, "user_id": 4183558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-cndli2Nj24w/AAAAAAAAAAI/AAAAAAAAAAA/f331g6d6wso/photo.jpg?sz=128", "display_name": "mattfred", "link": "https://stackoverflow.com/users/4183558/mattfred"}, "is_accepted": false, "score": 4, "last_activity_date": 1551809185, "creation_date": 1551809185, "answer_id": 55009004, "question_id": 49656019, "link": "https://stackoverflow.com/questions/49656019/android-studio-kotlin-tests-throwing-class-not-found-empty-test-suite/55009004#55009004", "title": "Android Studio - Kotlin Tests Throwing - Class not found - Empty test suite", "body": "<p>It took me a couple of tries to figure this out, but it ended up being due to missing the gradle changes needed to enable kotlin.</p>\n\n<pre><code>....\napply plugin: 'kotlin-android'\nandroid {\n    ....\n}\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:1.3.21\"\n    ....\n}\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 1228891, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c09e20fd48a76670e9860ae907a9dc4a?s=128&d=identicon&r=PG", "display_name": "user1228891", "link": "https://stackoverflow.com/users/1228891/user1228891"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3676, "favorite_count": 0, "accepted_answer_id": 49656020, "answer_count": 4, "score": 15, "last_activity_date": 1551809185, "creation_date": 1522859380, "question_id": 49656019, "link": "https://stackoverflow.com/questions/49656019/android-studio-kotlin-tests-throwing-class-not-found-empty-test-suite", "title": "Android Studio - Kotlin Tests Throwing - Class not found - Empty test suite", "body": "<p>When trying to run espresso tests written in Kotlin on Android Studio (as far as 3.2 Canary 9), I'm getting the error:\nProcess finished with exit code 1\nClass not found: \"com.myproject.directoryofwinning.VerifyAppIsAwesomeTest\"Empty test suite.</p>\n\n<p>Strangely, Java tests in the same project have no issues.</p>\n\n<p>Have tried to reset the configurations and suggested by others, but this doesn't seem to make any difference.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 1188, "user_id": 2553984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed4eac661715b954939f2e2c007b1cb?s=128&d=identicon&r=PG", "display_name": "y.allam", "link": "https://stackoverflow.com/users/2553984/y-allam"}, "edited": false, "score": 0, "creation_date": 1522857113, "post_id": 49654569, "comment_id": 86319704, "body": "working fine with me in v1.2.31, with no default value for the parameter"}, {"owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1522857219, "post_id": 49654569, "comment_id": 86319779, "body": "kinda strange code bacause setVisible(value, true) will be always GONE"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1522858270, "post_id": 49654569, "comment_id": 86320425, "body": "It&#39;s impossible to answer &quot;why did it happen?&quot; without being able to debug your actual app. We&#39;re not aware of any bugs in Kotlin that manifest themselves as users&#39; apps hanging with no diagnostics."}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1522858886, "post_id": 49654569, "comment_id": 86320796, "body": "@yole, yes you are right. but the code is simple. you can try your own implementation. I was looking for comments to better understand this behavior."}, {"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "reply_to_user": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1522860179, "post_id": 49654569, "comment_id": 86321510, "body": "@DEADMC Yes this code is wrong."}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "reply_to_user": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1522864901, "post_id": 49654569, "comment_id": 86324176, "body": "@DEADMC  @user221256 ok, let say the extension property is named <code>gone</code>, the issue is the same"}], "answers": [{"comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1522859822, "post_id": 49655785, "comment_id": 86321277, "body": "Yes, also with <b>= true</b>. But why without any of them?"}, {"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1522950521, "post_id": 49655785, "comment_id": 86368465, "body": "@crgarridos I don&#39;t understand can you explain it more, please?"}], "tags": [], "owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "is_accepted": false, "score": 0, "last_activity_date": 1522862714, "last_edit_date": 1522862714, "creation_date": 1522858424, "answer_id": 49655785, "question_id": 49654569, "link": "https://stackoverflow.com/questions/49654569/kotlin-extensions-property-vs-function-conflict/49655785#49655785", "title": "Kotlin Extensions property vs. function - Conflict", "body": "<p>Use this: </p>\n\n<pre><code>View.setVisible(visible: Boolean, goneWhenInvisible: Boolean = false) { \n    visibility = if (visible) View.VISIBLE \n    else if (goneWhenInvisible) View.GONE \n    else View.INVISIBLE\n}\n</code></pre>\n"}], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 362, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1522862714, "creation_date": 1522854669, "last_edit_date": 1522858909, "question_id": 49654569, "link": "https://stackoverflow.com/questions/49654569/kotlin-extensions-property-vs-function-conflict", "title": "Kotlin Extensions property vs. function - Conflict", "body": "<p>I have the two following definitions. </p>\n\n<p>The first one as an extension function allowing to set visible a <code>View</code> and also to set it as gone or invisible with the second parameter. </p>\n\n<pre><code>fun View.setVisible(visible: Boolean, goneWhenVisibleFalse: Boolean) {\n    visibility = when {\n        visible -&gt; View.VISIBLE\n        goneWhenVisibleFalse -&gt; View.GONE\n        else -&gt; View.INVISIBLE\n    }\n}\n</code></pre>\n\n<p>The second here, as an extension property using the first above.</p>\n\n<pre><code>var View.visible: Boolean\n    get() = visibility == View.VISIBLE\n    set(value) {\n        setVisible(value, true)\n    }\n</code></pre>\n\n<p>None of complicated until here. The code compiles and the app launch correctly. BUT I get a black screen, no error in the logcat, nothing to get a trace. </p>\n\n<p>After a while, I change the signature of the first function to receive the second parameter with true as default:</p>\n\n<p><code>fun View.setVisible(visible: Boolean, goneWhenVisibleFalse: Boolean</code><strong><code>= true</code></strong><code>)</code></p>\n\n<p>And then it works normally. The question is: why this happen? I dug into the bytecode. But looks there is no duplication of signatures, the number of parameters is different in both cases. </p>\n\n<p>Maybe a bug of kotlin? I'm using kotlin plugin v1.2.30</p>\n"}, {"tags": ["android", "data-binding", "kotlin", "android-espresso"], "comments": [{"owner": {"reputation": 703, "user_id": 2249207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce472ab3cd59cefb4f602092a9ab82c4?s=128&d=identicon&r=PG", "display_name": "DAIRAV", "link": "https://stackoverflow.com/users/2249207/dairav"}, "edited": false, "score": 0, "creation_date": 1522854001, "post_id": 49654231, "comment_id": 86317376, "body": "Is data binding enabled in your modules?"}, {"owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "reply_to_user": {"reputation": 703, "user_id": 2249207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce472ab3cd59cefb4f602092a9ab82c4?s=128&d=identicon&r=PG", "display_name": "DAIRAV", "link": "https://stackoverflow.com/users/2249207/dairav"}, "edited": false, "score": 0, "creation_date": 1522855496, "post_id": 49654231, "comment_id": 86318499, "body": "I have only one module &quot;app&quot;."}, {"owner": {"reputation": 2509, "user_id": 3649297, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rcDDf.jpg?s=128&g=1", "display_name": "Bolein95", "link": "https://stackoverflow.com/users/3649297/bolein95"}, "edited": false, "score": 0, "creation_date": 1531962160, "post_id": 49654231, "comment_id": 89797428, "body": "have you solved this?"}, {"owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "edited": false, "score": 0, "creation_date": 1531985920, "post_id": 49654231, "comment_id": 89804937, "body": "Yes, I did, but I don&#39;t remember how exactly, the issue disappeared by itself at some point."}], "answers": [{"comments": [{"owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "edited": false, "score": 2, "creation_date": 1522855619, "post_id": 49654585, "comment_id": 86318571, "body": "I use kapt annotation processor (you can see it from my Gradle config). Why do I need the third party annotation processor?"}], "tags": [], "owner": {"reputation": 703, "user_id": 2249207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce472ab3cd59cefb4f602092a9ab82c4?s=128&d=identicon&r=PG", "display_name": "DAIRAV", "link": "https://stackoverflow.com/users/2249207/dairav"}, "is_accepted": false, "score": -2, "last_activity_date": 1522864264, "last_edit_date": 1522864264, "creation_date": 1522854717, "answer_id": 49654585, "question_id": 49654231, "link": "https://stackoverflow.com/questions/49654231/java-lang-noclassdeffounderror-android-databinding-databindermapperimpl-when-ru/49654585#49654585", "title": "java.lang.NoClassDefFoundError: android.databinding.DataBinderMapperImpl when running Espresso tests", "body": "<p>Try to add the android-apt plugin as per <a href=\"https://stackoverflow.com/a/41098345/1852343\">this</a> stackoverflow answer:</p>\n\n<pre><code>classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12833, "user_id": 1177959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sc2Mx.jpg?s=128&g=1", "display_name": "Sotti", "link": "https://stackoverflow.com/users/1177959/sotti"}, "edited": false, "score": 0, "creation_date": 1563549687, "post_id": 55029959, "comment_id": 100749506, "body": "I found this after one-hour searching. Made my day. Thanks."}, {"owner": {"reputation": 11256, "user_id": 1015595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3SRWR.jpg?s=128&g=1", "display_name": "Big McLargeHuge", "link": "https://stackoverflow.com/users/1015595/big-mclargehuge"}, "edited": false, "score": 0, "creation_date": 1572045673, "post_id": 55029959, "comment_id": 103451755, "body": "Why is this necessary? What does it do? If this doesn&#39;t seem to fix it, try cleaning your build directory. I&#39;m not sure why that works either."}, {"owner": {"reputation": 14375, "user_id": 840669, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/ZwzFL.jpg?s=128&g=1", "display_name": "Rajkiran", "link": "https://stackoverflow.com/users/840669/rajkiran"}, "edited": false, "score": 1, "creation_date": 1575980228, "post_id": 55029959, "comment_id": 104741472, "body": "Dude, do you use PayPal or something? :D"}], "tags": [], "owner": {"reputation": 4749, "user_id": 1267425, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2dc2a52d38ee8c184deeceaadf9ed6ba?s=128&d=identicon&r=PG", "display_name": "Rafael Toledo", "link": "https://stackoverflow.com/users/1267425/rafael-toledo"}, "is_accepted": false, "score": 20, "last_activity_date": 1551897103, "creation_date": 1551897103, "answer_id": 55029959, "question_id": 49654231, "link": "https://stackoverflow.com/questions/49654231/java-lang-noclassdeffounderror-android-databinding-databindermapperimpl-when-ru/55029959#55029959", "title": "java.lang.NoClassDefFoundError: android.databinding.DataBinderMapperImpl when running Espresso tests", "body": "<p>A bit late, but I resolved this issue by adding DataBinding compiler with kapt as a test dependency:</p>\n\n<pre><code>kaptAndroidTest 'androidx.databinding:databinding-compiler:3.3.2'\n</code></pre>\n\n<p>Or the version not from AndroidX if your project is not using Jetpack yet.</p>\n"}, {"comments": [{"owner": {"reputation": 1775, "user_id": 5066895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bHw56.png?s=128&g=1", "display_name": "Dieter Meemken", "link": "https://stackoverflow.com/users/5066895/dieter-meemken"}, "edited": false, "score": 0, "creation_date": 1571831310, "post_id": 58521855, "comment_id": 103369424, "body": "Can you explain a bit more?"}], "tags": [], "owner": {"reputation": 1, "user_id": 1961111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/142ac3c1f2ea6ff9b239df5b79e2692b?s=128&d=identicon&r=PG", "display_name": "user1961111", "link": "https://stackoverflow.com/users/1961111/user1961111"}, "is_accepted": false, "score": 0, "last_activity_date": 1574347723, "last_edit_date": 1574347723, "creation_date": 1571830155, "answer_id": 58521855, "question_id": 49654231, "link": "https://stackoverflow.com/questions/49654231/java-lang-noclassdeffounderror-android-databinding-databindermapperimpl-when-ru/58521855#58521855", "title": "java.lang.NoClassDefFoundError: android.databinding.DataBinderMapperImpl when running Espresso tests", "body": "<p>I run into this very error. I did 2 things: \n1. Added kaptAndroidTest 'androidx.databinding:databinding-compiler:3.5.1' in gradle \n2. Used the databinding, that is to say, I create a fake bool variable and injected it for real in a view. It would seem that you cannot just use databinding for retrieving the views instead of issuing the dreaded findViewById. You have to use it at least once in your module. Once you use it you are fine for all the other classes in your module.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8666157, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hH_Z2-xrc0A/AAAAAAAAAAI/AAAAAAAAAIA/hjAxblkEOfU/photo.jpg?sz=128", "display_name": "N.LanLuu", "link": "https://stackoverflow.com/users/8666157/n-lanluu"}, "is_accepted": false, "score": 0, "last_activity_date": 1584071554, "creation_date": 1584071554, "answer_id": 60664650, "question_id": 49654231, "link": "https://stackoverflow.com/questions/49654231/java-lang-noclassdeffounderror-android-databinding-databindermapperimpl-when-ru/60664650#60664650", "title": "java.lang.NoClassDefFoundError: android.databinding.DataBinderMapperImpl when running Espresso tests", "body": "<p><strong>I have the same this issue, and fixed by adding</strong></p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p><strong>in build.gradle app (all module if using dataBinding)</strong></p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\nandroid {\n...\n    dataBinding {\n        enabled = true\n    }\n}\n\nkapt {\n    generateStubs = true\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    ...\n    implementation \"androidx.core:core-ktx:+\"\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    kapt \"com.android.databinding:compiler:$android_plugin_version\"\n\n}\n</code></pre>\n\n<p><strong>In build.gradle project</strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.70'\n    ext.android_plugin_version = '3.5.2'\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath \"com.android.tools.build:gradle:$android_plugin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 400, "user_id": 4444627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pQBtG.jpg?s=128&g=1", "display_name": "Osman Yal\u0131n", "link": "https://stackoverflow.com/users/4444627/osman-yal%c4%b1n"}, "is_accepted": false, "score": 1, "last_activity_date": 1585827456, "creation_date": 1585827456, "answer_id": 60990669, "question_id": 49654231, "link": "https://stackoverflow.com/questions/49654231/java-lang-noclassdeffounderror-android-databinding-databindermapperimpl-when-ru/60990669#60990669", "title": "java.lang.NoClassDefFoundError: android.databinding.DataBinderMapperImpl when running Espresso tests", "body": "<p>Add </p>\n\n<blockquote>\n<pre><code>kaptTest \"androidx.databinding:databinding-compiler:+\"\n</code></pre>\n</blockquote>\n\n<p>to <code>dependencies</code> on <code>build.gradle</code> files of all your modules.</p>\n"}], "owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4501, "favorite_count": 2, "answer_count": 5, "score": 11, "last_activity_date": 1585827456, "creation_date": 1522853726, "question_id": 49654231, "link": "https://stackoverflow.com/questions/49654231/java-lang-noclassdeffounderror-android-databinding-databindermapperimpl-when-ru", "title": "java.lang.NoClassDefFoundError: android.databinding.DataBinderMapperImpl when running Espresso tests", "body": "<p>Data binding setup:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\nandroid {\n    dataBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n    kapt \"com.android.databinding:compiler:3.1.0\"\n}\n</code></pre>\n\n<p>The fragment class which uses data binding:</p>\n\n<pre><code>class LandingFragment : Fragment(), Injectable {\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n        val dataBinding = LandingFragmentBinding.inflate(inflater, container, false)\n        return dataBinding.root\n    }\n}\n</code></pre>\n\n<p>Every time the Espresso test is run for this fragment, I get the following exception:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: android.databinding.DataBinderMapperImpl\nat android.databinding.DataBindingUtil.&lt;clinit&gt;(DataBindingUtil.java:32)\nat com.sc.databinding.LandingFragmentBinding.inflate(LandingFragmentBinding.java:42)\nat com.sc.ui.landing.LandingFragment.onCreateView(LandingFragment.kt:32)\n...\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java2", "jetbrains-ide", "lint"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1522854267, "post_id": 49653414, "comment_id": 86317591, "body": "Android&#39;s Lint already does that?"}, {"owner": {"reputation": 4122, "user_id": 590032, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1c9123872806a3daaa42e6b7eddb5c1d?s=128&d=identicon&r=PG", "display_name": "oggmonster", "link": "https://stackoverflow.com/users/590032/oggmonster"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1522856819, "post_id": 49653414, "comment_id": 86319500, "body": "@nhaarman It does show up in Android Studio, but I don&#39;t know how to upgrade the severity to error level, or at least have it generated in the lint output file. Any ideas on how to do that?"}, {"owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "edited": false, "score": 1, "creation_date": 1523331186, "post_id": 49653414, "comment_id": 86504219, "body": "If you just want to increase the severity level, you can add something like <code>&lt;issue id=&quot;CheckReturnValue&quot; severity=&quot;error&quot; &#47;&gt;</code> to your <code>lint.xml</code> file"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7869726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kVvrD.png?s=128&g=1", "display_name": "YouCii", "link": "https://stackoverflow.com/users/7869726/youcii"}, "is_accepted": false, "score": 0, "last_activity_date": 1590062342, "creation_date": 1590062342, "answer_id": 61934027, "question_id": 49653414, "link": "https://stackoverflow.com/questions/49653414/how-to-check-if-the-result-of-an-expression-is-used-in-a-custom-android-lint-rul/61934027#61934027", "title": "How to check if the result of an expression is used in a custom Android lint rule", "body": "<p>As far as I know, <code>node.resolve()</code> often return null</p>\n"}], "owner": {"reputation": 4122, "user_id": 590032, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1c9123872806a3daaa42e6b7eddb5c1d?s=128&d=identicon&r=PG", "display_name": "oggmonster", "link": "https://stackoverflow.com/users/590032/oggmonster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 383, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1590062342, "creation_date": 1522851413, "question_id": 49653414, "link": "https://stackoverflow.com/questions/49653414/how-to-check-if-the-result-of-an-expression-is-used-in-a-custom-android-lint-rul", "title": "How to check if the result of an expression is used in a custom Android lint rule", "body": "<p>I'm trying to write a lint rule to catch places where the result of an RxJava2 function is not used in anyway. For example:</p>\n\n<pre><code>final Observable&lt;String&gt; observable = getObservable();\nobservable.subscribe(this::onSuccess, this::onError);\n</code></pre>\n\n<p>In RxJava2, the <code>subscribe</code> function returns a <code>Disposable</code> that should be used to unsubscribe if the program/class instance \"finishes\" in some way in order to prevent memory leaks. I want to fail my build if any occurences like this are found.</p>\n\n<p>This particular method (and all of the other ones I'm interested in) is annotated with <code>io.reactivex.annotations.CheckReturnValue</code>:</p>\n\n<pre><code>@CheckReturnValue\n@SchedulerSupport(SchedulerSupport.NONE)\npublic final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError) {\n    return subscribe(onNext, onError, Functions.EMPTY_ACTION, Functions.emptyConsumer());\n}\n</code></pre>\n\n<p>My plan is to write a custom lint rule that:</p>\n\n<ul>\n<li>Searches for expressions that return the result of a method annotated with <code>io.reactivex.annotations.CheckReturnValue</code></li>\n<li>Filter the searches down to only expressions whose result is never used</li>\n</ul>\n\n<p>For example, here are some cases that should not fail:</p>\n\n<pre><code>final CompositeDisposable compositeDisposable = new CompositeDisposable();\n// Result of subscribe passed into another function\ncompositeDisposable.add(observable.subscribe(this::onSuccess, this::onError).dispose());\n\n// Result of subscribe stored in a variable\nfinal Disposable disposable = observable.subscribe(this::onSuccess, this::onError);\n\n// Result of subscribe used\nobservable.subscribe(this::onSuccess, this::onError).dispose();\n</code></pre>\n\n<p>I've managed to write a lint rule that finds instances of call expressions where the result is annotated with <code>CheckReturnValue</code>, but I'm struggling to figure out how to use the JetBrains UAST/PSI APIs to work out if the result is used. This is my rule so far:</p>\n\n<pre><code>class RxJava2CheckReturnValueMethodNotAssigned : Detector(), Detector.UastScanner {\n    override fun getApplicableUastTypes() = listOf(UCallExpression::class.java)\n\n    override fun createUastHandler(context: JavaContext) = CheckReturnValueVisitor(context)\n\n    class CheckReturnValueVisitor(private val context: JavaContext) : UElementHandler() {\n\n        override fun visitCallExpression(node: UCallExpression) {\n            val method = node.resolve() ?: return\n            if (!isCheckReturnValueAnnotatedMethod(method)) {\n                return\n            }\n            if (!isResultOfCallUsed(node)) {\n                return\n            }\n\n            reportIssue(node)\n        }\n\n        private fun isCheckReturnValueAnnotatedMethod(method: PsiMethod): Boolean {\n            return context.evaluator.getAllAnnotations(method, true)\n                .any { \"io.reactivex.annotations.CheckReturnValue\" == it.qualifiedName }\n        }\n\n        private fun isResultOfCallUsed(node: UCallExpression): Boolean {\n            // Need to check is the result of the expression is used in some way\n            return false\n        }\n\n        private fun reportIssue(node: UCallExpression) {\n            // SNIP...\n        }\n    }\n}\n</code></pre>\n\n<p>This currently doesn't work because it reports all usages of any function annotated with <code>CheckReturnValue</code>.</p>\n"}, {"tags": ["kotlin", "apache-flink"], "answers": [{"comments": [{"owner": {"reputation": 699, "user_id": 3998346, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8981af89fdc4f11bd3566cb2ecde8bd1?s=128&d=identicon&r=PG", "display_name": "comdiv", "link": "https://stackoverflow.com/users/3998346/comdiv"}, "edited": false, "score": 0, "creation_date": 1523387074, "post_id": 49737605, "comment_id": 86537680, "body": "Is it possible to express &quot;wait count or timeout&quot; ?"}], "tags": [], "owner": {"reputation": 862, "user_id": 2324782, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/82891df59da29767d5e16a94ec5e5c00?s=128&d=identicon&r=PG", "display_name": "Jicaar", "link": "https://stackoverflow.com/users/2324782/jicaar"}, "is_accepted": false, "score": 1, "last_activity_date": 1523291623, "creation_date": 1523291623, "answer_id": 49737605, "question_id": 49653394, "link": "https://stackoverflow.com/questions/49653394/flink-how-to-process-rest-of-finite-stream-with-combination-of-countwindowall/49737605#49737605", "title": "Flink: How to process rest of finite stream with combination of countWindowAll()", "body": "<p>You have a finite stream of 12 and a window that triggers for every 5 elements. So the first window gets 5 elements and then triggers, then the next 5 are received and it triggers, but the last 2 come and the job knows that no more are going to come. So since there aren't 5 elements in the window the trigger doesn't fire so nothing is done with them.</p>\n"}], "owner": {"reputation": 699, "user_id": 3998346, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8981af89fdc4f11bd3566cb2ecde8bd1?s=128&d=identicon&r=PG", "display_name": "comdiv", "link": "https://stackoverflow.com/users/3998346/comdiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1523291623, "creation_date": 1522851359, "question_id": 49653394, "link": "https://stackoverflow.com/questions/49653394/flink-how-to-process-rest-of-finite-stream-with-combination-of-countwindowall", "title": "Flink: How to process rest of finite stream with combination of countWindowAll()", "body": "<pre><code>//assume following logic\nval source = arrayOf(1,2,3,4,5,6,7,8,9,10,11,12) // total 12 elements\nval env =  StreamExecutionEnvironment.createLocalEnvironment(1);\nval input = env.fromCollection(source)\n    .countWindowAll(5)\n    .aggregate(...) // pack them to List&lt;Int&gt; for bulk upload to DB\n    .addSink(...) // sends bulk \n</code></pre>\n\n<p>When i execute it  - only first 10 processed, but rest 2 elements \nare thrown away  - flink shutdown without processing of them.</p>\n\n<p>The only avoid for me - while i totally controll source data, i can push some well-known IGNORABLE_VALUES to source collection to fit window size and then ignore them in sink... but i think where is some far more professional way in flink.</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 26, "last_activity_date": 1539592144, "last_edit_date": 1539592144, "creation_date": 1522850638, "answer_id": 49653118, "question_id": 49652855, "link": "https://stackoverflow.com/questions/49652855/does-io-in-coroutines-cause-suspension/49653118#49653118", "title": "does IO in coroutines cause suspension?", "body": "<p>There's no automagic going on with Kotlin coroutines. If you call a blocking function like <code>HttpReader.get()</code>, the coroutine won't be suspended and instead the call will block. You can easily assure yourself that a given function won't cause the coroutine to suspend: if it's not a <code>suspend</code> function, it cannot possibly do it, whether or not it's called from a <code>suspend</code> function.</p>\n\n<p>If you want to turn an existing blocking API into non-blocking, suspendable calls, you must submit the blocking calls to a threadpool. The easiest way to achieve it is as follows:</p>\n\n<pre><code>val response = withContext(Dispatchers.IO) { HttpReader.get(url) }\n</code></pre>\n\n<p><code>withContext</code> is a <code>suspend fun</code> that will suspend the coroutine, submit the provided block to another coroutine dispatcher (here <code>IO</code>) and resume when that block is done and has come up with its result.</p>\n\n<p>You can also easily instantiate your own <code>ExecutorService</code> and use it as a coroutine dispatcher:</p>\n\n<pre><code>val myPool = Executors.newCachedThreadPool().asCoroutineDispatcher()\n</code></pre>\n\n<p>Now you can write</p>\n\n<pre><code>val response = withContext(myPool) { HttpReader.get(url) }\n</code></pre>\n\n<p>This way you work against a thread pool that is under your control, as opposed to the global <code>IO</code>. Just keep in mind that you are now also responsible to <code>close()</code> it.</p>\n"}, {"tags": [], "owner": {"reputation": 7970, "user_id": 1542667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9f9f47b7c64629cadb45754234bcc944?s=128&d=identicon&r=PG", "display_name": "Yuri Schimke", "link": "https://stackoverflow.com/users/1542667/yuri-schimke"}, "is_accepted": false, "score": 1, "last_activity_date": 1537711502, "creation_date": 1537711502, "answer_id": 52466893, "question_id": 49652855, "link": "https://stackoverflow.com/questions/49652855/does-io-in-coroutines-cause-suspension/52466893#52466893", "title": "does IO in coroutines cause suspension?", "body": "<p>This PR has example code for proper OkHttp coroutines support</p>\n\n<p><a href=\"https://github.com/square/okhttp/pull/4129/files\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/pull/4129/files</a></p>\n\n<p>It uses the thread pools of OkHttp to do the work.  The key bit of code is this generic library code.</p>\n\n<pre><code> suspend fun OkHttpClient.execute(request: Request): Response {\n   val call = this.newCall(request)\n   return call.await()\n }\n\n suspend fun Call.await(): Response {\n  return suspendCancellableCoroutine { cont -&gt;\n    cont.invokeOnCancellation {\n      cancel()\n    }\n    enqueue(object : Callback {\n      override fun onFailure(call: Call, e: IOException) {\n        if (!cont.isCancelled) {\n          cont.resumeWithException(e)\n        }\n      }\n       override fun onResponse(call: Call, response: Response) {\n        if (!cont.isCancelled) {\n          cont.resume(response)\n        }\n      }\n    })\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 6779449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7971092aea3b1a498e56d15eca7cdf2a?s=128&d=identicon&r=PG&f=1", "display_name": "Himanshu Yadav", "link": "https://stackoverflow.com/users/6779449/himanshu-yadav"}, "is_accepted": false, "score": -1, "last_activity_date": 1601549793, "creation_date": 1601549793, "answer_id": 64153932, "question_id": 49652855, "link": "https://stackoverflow.com/questions/49652855/does-io-in-coroutines-cause-suspension/64153932#64153932", "title": "does IO in coroutines cause suspension?", "body": "<p>There are two types of IO libraries in JAVA world, using IO or NIO.</p>\n<p>You can find more documentation at <a href=\"https://dzone.com/articles/high-concurrency-http-clients-on-the-jvm\" rel=\"nofollow noreferrer\">https://dzone.com/articles/high-concurrency-http-clients-on-the-jvm</a></p>\n<p>The ones using NIO, can theoretically provide true nonblocking suspension unlike IO ones which only offload the task to a separate thread.</p>\n<p>NIO uses some dispatcher threads in the JVM to handle the input output sockets using multiplexing (Reactor design pattern). The way it works is, we request the NIO/dispatchers to load/unload something and they return us some future reference. This code can be turned into coroutines easily.</p>\n<p>For IO based libraries, coroutine implementation is not true non blocking. It actually blocks one of the threads just like in Java, however the general usage pattern is, to use <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-dispatchers/-i-o.html\" rel=\"nofollow noreferrer\">Dispatcher.IO</a> which is a threadpool for such blocking IO tasks.</p>\n<p>Instead of using OkHttpClient, I would recommend using <a href=\"https://ktor.io/docs/client.html\" rel=\"nofollow noreferrer\">https://ktor.io/docs/client.html</a></p>\n"}], "owner": {"reputation": 2052, "user_id": 639559, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3adac89e63229dfeb3c56db48502148c?s=128&d=identicon&r=PG", "display_name": "nilsmagnus", "link": "https://stackoverflow.com/users/639559/nilsmagnus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3261, "favorite_count": 2, "accepted_answer_id": 49653118, "answer_count": 3, "score": 15, "last_activity_date": 1601549793, "creation_date": 1522849990, "last_edit_date": 1552981143, "question_id": 49652855, "link": "https://stackoverflow.com/questions/49652855/does-io-in-coroutines-cause-suspension", "title": "does IO in coroutines cause suspension?", "body": "<p>Inside a coroutine I am doing a http-request with OkHttpClient. The request is done from a function that has the <code>suspend</code> keyword:</p>\n\n<pre><code>suspend fun doSomethingFromHttp(someParam:String): Something {\n    ...\n    val response = HttpReader.get(url)\n    return unmarshalSomething(response)!!\n}\n</code></pre>\n\n<p>I assume that the function can be suspended on entry since it has the <code>suspend</code> keyword, but will the coroutine also be suspended when doing the http-request? What about other kinds of blocking IO?</p>\n"}, {"tags": ["java", "android", "android-activity", "kotlin", "android-dialog"], "comments": [{"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1522849218, "post_id": 49652490, "comment_id": 86313445, "body": "<code>ColorPickDialog</code> is displayed from a activity? Can you not pass back values to that activity and then to the dialog?"}, {"owner": {"reputation": 93, "user_id": 6660557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hijEQ.jpg?s=128&g=1", "display_name": "pam", "link": "https://stackoverflow.com/users/6660557/pam"}, "reply_to_user": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1522850017, "post_id": 49652490, "comment_id": 86314123, "body": "Yes is it displayed from another activity. How could I pass it back to it? Should I create an intent extra and handle it in the same way as I passed values to the &#39;DisplayColorsActivity&#39; from the dialog? I need the dialog to stay open on the previous activity."}, {"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1522850096, "post_id": 49652490, "comment_id": 86314195, "body": "you should check this <a href=\"https://stackoverflow.com/questions/10407159/how-to-manage-startactivityforresult-on-android\" title=\"how to manage startactivityforresult on android\">stackoverflow.com/questions/10407159/&hellip;</a>"}, {"owner": {"reputation": 93, "user_id": 6660557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hijEQ.jpg?s=128&g=1", "display_name": "pam", "link": "https://stackoverflow.com/users/6660557/pam"}, "reply_to_user": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1522850199, "post_id": 49652490, "comment_id": 86314289, "body": "That seems like what I need, will try it out, thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 6660557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hijEQ.jpg?s=128&g=1", "display_name": "pam", "link": "https://stackoverflow.com/users/6660557/pam"}, "edited": false, "score": 0, "creation_date": 1522859048, "post_id": 49652949, "comment_id": 86320889, "body": "This seems great, but onActivityResult overrides nothing, neither in the  dialog or the activity that holds it"}, {"owner": {"reputation": 746, "user_id": 5298408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/517bdc3550b5f6ae0bfac286a42d60bb?s=128&d=identicon&r=PG", "display_name": "bko", "link": "https://stackoverflow.com/users/5298408/bko"}, "reply_to_user": {"reputation": 93, "user_id": 6660557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hijEQ.jpg?s=128&g=1", "display_name": "pam", "link": "https://stackoverflow.com/users/6660557/pam"}, "edited": false, "score": 0, "creation_date": 1522863337, "post_id": 49652949, "comment_id": 86323252, "body": "@pam You mean that its not getting called in the activity that holds the dialog?"}, {"owner": {"reputation": 93, "user_id": 6660557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hijEQ.jpg?s=128&g=1", "display_name": "pam", "link": "https://stackoverflow.com/users/6660557/pam"}, "edited": false, "score": 0, "creation_date": 1522865968, "post_id": 49652949, "comment_id": 86324764, "body": "No, it does not. It does not even seem to exist. Then again, maybe it is because the startActivityForResult is being called in the dialog"}, {"owner": {"reputation": 93, "user_id": 6660557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hijEQ.jpg?s=128&g=1", "display_name": "pam", "link": "https://stackoverflow.com/users/6660557/pam"}, "edited": false, "score": 0, "creation_date": 1522870499, "post_id": 49652949, "comment_id": 86327429, "body": "My bad, I had some items that did not translate well from Kotlin to Java"}], "tags": [], "owner": {"reputation": 746, "user_id": 5298408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/517bdc3550b5f6ae0bfac286a42d60bb?s=128&d=identicon&r=PG", "display_name": "bko", "link": "https://stackoverflow.com/users/5298408/bko"}, "is_accepted": true, "score": 0, "last_activity_date": 1522850225, "creation_date": 1522850225, "answer_id": 49652949, "question_id": 49652490, "link": "https://stackoverflow.com/questions/49652490/how-to-pass-a-variable-from-an-activity-to-a-previous-dialog-not-in-the-activity/49652949#49652949", "title": "How to pass a variable from an activity to a previous dialog not in the activity", "body": "<p>declare a constant of your choice:</p>\n\n<pre><code>static final int COLOR_PICKED_REQUEST = 1234;\n</code></pre>\n\n<p>in your dialog replace </p>\n\n<pre><code>this.activity.applicationContext.startActivity(intent)\n</code></pre>\n\n<p>with </p>\n\n<pre><code>this.startActivityForResult(intent, COLOR_PICKED_REQUEST);\n</code></pre>\n\n<p>and add a method:</p>\n\n<pre><code>public void userPickedColor(int color){\n    Log.d(\"TAG\", \"COLOR:\"+color);\n}\n</code></pre>\n\n<p>in your <code>DisplayColorsActivity</code> add:</p>\n\n<pre><code>Intent intentMessage=new Intent();   \nintentMessage.putExtra(\"COLOR\",valueOfYourColor);\nsetResult(COLOR_PICKED_REQUEST,intentMessage);\n</code></pre>\n\n<p>above the <code>finish();</code></p>\n\n<p>in the activity that is holding your dialog make sure you have a reference to the dialog itself like <code>mActionDialog</code> and then override:</p>\n\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, \nIntent data) {\n    if (requestCode == COLOR_PICKED_REQUEST) {\n        // Make sure the request was successful\n        if (resultCode == RESULT_OK) {\n            int color = data.getIntExtra(\"COLOR\"); \n            mActionDialog.userPickedColor(color);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 6660557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hijEQ.jpg?s=128&g=1", "display_name": "pam", "link": "https://stackoverflow.com/users/6660557/pam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 49652949, "answer_count": 1, "score": 0, "last_activity_date": 1522933145, "creation_date": 1522849026, "last_edit_date": 1522933145, "question_id": 49652490, "link": "https://stackoverflow.com/questions/49652490/how-to-pass-a-variable-from-an-activity-to-a-previous-dialog-not-in-the-activity", "title": "How to pass a variable from an activity to a previous dialog not in the activity", "body": "<p>I haven't seen any cases like this. I have an activity which is initiated from a button on a dialog. I need to get a variable from this activity, close it, and pass it back to the dialog. What would be my approach?</p>\n\n<pre><code> class ColorPickDialog(val activity: Activity, color: Int, val callback: (color: Int) -&gt; Unit) {\nlateinit var savedColorsButton: Button\nval currentColorHsv = FloatArray(3)\n\ninit {\n    Color.colorToHSV(color, currentColorHsv)\n\n    val view = activity.layoutInflater.inflate(R.layout.d_colorpicker, null).apply {\n\n        savedColorsButton = findViewById(R.id.saved_colours_button)\n\n    savedColorsButton.setOnClickListener{\n        val intent = Intent(this.activity.applicationContext, DisplayColorsActivity::class.java)\n        intent.putExtra(\"SettingState\", true)\n\n        this.activity.applicationContext.startActivity(intent)\n    }\n\n\n }\n</code></pre>\n\n<p>This is the activity that the dialog opens.</p>\n\n<pre><code> public class DisplayColorsActivity extends Activity {\n public void displayColors() {\n    ArrayList&lt;ColourRGB&gt; coloursList = colourStorage.getColours();\n\n    LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        btn = (Button) findViewById(R.id.select_color_btn);\n        if (getIntent().getExtras() != null &amp;&amp; getIntent().getExtras().getBoolean(\"SettingState\")) {\n            btn.setVisibility(View.VISIBLE);\n        }\n        else {\n            btn.setVisibility(View.INVISIBLE);\n            Log.v(\"Status+\", \"INot there\" );\n\n        }\n   } \n    public void selectButtonClicked(View view){\n    finish();\n    }\n }\n</code></pre>\n\n<p>I need to pass a variable from the DisplayColorsActivity back to the ColorPick dialog, maybe in the selectButtonClicked fuction, (which takes you back to the dialog using a button) Please note the first snippet is in Kotlin, the second in Java</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 4, "creation_date": 1522848213, "post_id": 49652168, "comment_id": 86312638, "body": "It&#39;s not a filename extension. It&#39;s a field in the Kotlin <code>KClass</code> object that gets you the Java <code>Class</code> object, as required by <code>startActivity()</code> method signature."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522848258, "post_id": 49652168, "comment_id": 86312688, "body": "Because you are trying to get the <code>java.lang.Class</code> of the class, and not <code>KClass</code>"}, {"owner": {"reputation": 2451, "user_id": 4097592, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzHlkfPbsfg/AAAAAAAAAAI/AAAAAAAAAIg/7UkZy_yCbxg/photo.jpg?sz=128", "display_name": "Dayanand Waghmare", "link": "https://stackoverflow.com/users/4097592/dayanand-waghmare"}, "edited": false, "score": 0, "creation_date": 1536726466, "post_id": 49652168, "comment_id": 91522741, "body": "it means that  .kt has only syntax changes but in backgriund it uses JAVA"}], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1522851166, "post_id": 49652360, "comment_id": 86315052, "body": "It&#39;s not really a &quot;method&quot;, but a property."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1522853463, "post_id": 49652360, "comment_id": 86316967, "body": "It&#39;s called <code>getJavaClass()</code> in Java land, but yes, it <i>is</i> technically an <code>extension property</code>"}, {"owner": {"reputation": 2451, "user_id": 4097592, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzHlkfPbsfg/AAAAAAAAAAI/AAAAAAAAAIg/7UkZy_yCbxg/photo.jpg?sz=128", "display_name": "Dayanand Waghmare", "link": "https://stackoverflow.com/users/4097592/dayanand-waghmare"}, "edited": false, "score": 0, "creation_date": 1536726498, "post_id": 49652360, "comment_id": 91522750, "body": "it means that  .kt has only syntax changes but in backgriund it uses JAVA"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 6, "last_activity_date": 1522853500, "last_edit_date": 1522853500, "creation_date": 1522848666, "answer_id": 49652360, "question_id": 49652168, "link": "https://stackoverflow.com/questions/49652168/when-we-start-new-activity-into-kotlin-why-we-put-java-in-intent-instead-of-kt/49652360#49652360", "title": "When we start new activity into kotlin why we put .java in intent instead of .kt", "body": "<p>Because <code>NextActivity::class</code> gives you <code>KClass&lt;NextActivity&gt;</code>, and <code>KClass</code> has a method/extension property called <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java.html\" rel=\"nofollow noreferrer\"><code>java</code></a> which gives you the <code>java.lang.Class&lt;NextActivity&gt;</code> for the given class.</p>\n\n<p>You can even <a href=\"https://github.com/JetBrains/kotlin/blob/3f71d364d55f5274a27fca7035441b701291c86d/libraries/stdlib/jvm/runtime/kotlin/jvm/JvmClassMapping.kt#L36-L40\" rel=\"nofollow noreferrer\">check out the source-code for that <code>java</code> property.</a></p>\n"}], "owner": {"reputation": 2451, "user_id": 4097592, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RzHlkfPbsfg/AAAAAAAAAAI/AAAAAAAAAIg/7UkZy_yCbxg/photo.jpg?sz=128", "display_name": "Dayanand Waghmare", "link": "https://stackoverflow.com/users/4097592/dayanand-waghmare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 49652360, "answer_count": 1, "score": 3, "last_activity_date": 1522853500, "creation_date": 1522848123, "question_id": 49652168, "link": "https://stackoverflow.com/questions/49652168/when-we-start-new-activity-into-kotlin-why-we-put-java-in-intent-instead-of-kt", "title": "When we start new activity into kotlin why we put .java in intent instead of .kt", "body": "<p>As per kotlin doc we start new activity with following syntax</p>\n\n<p><strong>startActivity(Intent(this@MainActivity, NextActivity::class.java))</strong></p>\n\n<p>its kotlin so why we add .java after the the class ? why not kt?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "picasso"], "comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 1, "creation_date": 1522848154, "post_id": 49651620, "comment_id": 86312597, "body": "Instead of using into(imageview, Callback), you can use into(Target) as per <a href=\"https://square.github.io/picasso/2.x/picasso/com/squareup/picasso/Target.html\" rel=\"nofollow noreferrer\">square.github.io/picasso/2.x/picasso/com/squareup/picasso/&hellip;</a>  It will give you the Bitmap directly on success, from where you can 1.Get its dimensions 2. Expand your layout accordingly 3. Load the bitmap inside the ImageView"}, {"owner": {"reputation": 1060, "user_id": 2300981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mrpm8.gif?s=128&g=1", "display_name": "Gotiasits", "link": "https://stackoverflow.com/users/2300981/gotiasits"}, "edited": false, "score": 0, "creation_date": 1522849193, "post_id": 49651620, "comment_id": 86313432, "body": "I think that you need better control of the parent dimension, specifically <code>height</code>. You didn&#39;t pass on <code>ConstrainLayout</code>, but I&#39;m guessing that you just need to add <code>wrap_content</code> for <code>height</code>, and maybe notify <code>RecyclerView</code> when Image is loaded."}, {"owner": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522849444, "post_id": 49651620, "comment_id": 86313640, "body": "My parent <code>ConstraintLayout</code> already has <code>wrap_content</code> height. How would I notify the <code>RecyclerView</code> when the image is loaded?"}], "answers": [{"comments": [{"owner": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522847512, "post_id": 49651791, "comment_id": 86312043, "body": "The issue is that I don&#39;t know the size/shape of the image in advance, I want the row height to change so that the image remains full width and the height changes. Won&#39;t this method just let me have no image or a 250dp tall image?"}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522847695, "post_id": 49651791, "comment_id": 86312210, "body": "Fix the height of your imageview and by using property scaletype=fitXY it will give you the view with full width and fixed height"}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522847743, "post_id": 49651791, "comment_id": 86312249, "body": "and make imageview width match_parent"}, {"owner": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522847768, "post_id": 49651791, "comment_id": 86312275, "body": "I should have specified, I need to keep the original aspect ratio of the image"}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522847862, "post_id": 49651791, "comment_id": 86312352, "body": "k, so make it wrap content and scaletype=fitCenter"}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522847906, "post_id": 49651791, "comment_id": 86312390, "body": "now you only have to visible the imageview in onSuccess callback"}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522848264, "post_id": 49651791, "comment_id": 86312692, "body": "That&#39;s why i&#39;m saying fixed the height, because when image load its takes the original height like 800px or may be 1500px, when you get this type of height you cannot control the view."}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522848325, "post_id": 49651791, "comment_id": 86312744, "body": "And is this a List? were you loading imageview"}, {"owner": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522848495, "post_id": 49651791, "comment_id": 86312880, "body": "It&#39;s a RecyclerView, the ImageView is being loaded in the <code>onCreateViewHolder</code> method of my adapter"}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522848636, "post_id": 49651791, "comment_id": 86312978, "body": "k, If you want the image to be fit screen then you have take the height of the device dynamically and set to imageview."}, {"owner": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522848724, "post_id": 49651791, "comment_id": 86313060, "body": "I don&#39;t want the image to fit the screen, I want the RecyclerView row to fit the image while maintaining the aspect ratio and fixed width"}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "edited": false, "score": 0, "creation_date": 1522848892, "post_id": 49651791, "comment_id": 86313188, "body": "can you upload your output"}], "tags": [], "owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "is_accepted": false, "score": 0, "last_activity_date": 1522846975, "creation_date": 1522846975, "answer_id": 49651791, "question_id": 49651620, "link": "https://stackoverflow.com/questions/49651620/how-can-i-change-the-row-height-in-my-recyclerview-after-picasso-image-load/49651791#49651791", "title": "How can I change the row height in my RecyclerView after Picasso image load?", "body": "<p>Try this</p>\n\n<pre><code>//set visibility gone\n//set height 250dp\n// set scale_type = fitXY\n&lt;ImageView\n    android:id=\"@+id/imageViewMain\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"250dp\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginTop=\"8dp\"\n    android:adjustViewBounds=\"true\"\n    android:scaleType=\"fitXY\"\n    android:visibility=\"Gone\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"@+id/textViewBody\"\n    app:layout_constraintStart_toStartOf=\"@+id/textViewBody\"\n    app:layout_constraintTop_toBottomOf=\"@+id/textViewBody\" /&gt;\n</code></pre>\n\n<p>In your function</p>\n\n<pre><code>// set visibility Visible in onSuccess callback.\noverride fun onBindViewHolder(holder: HomeAdapter.ViewHolder, position: Int) {\nval item = items[position]\n\nval mainImage = item.imageUrl\nif (!mainImage.isNullOrEmpty()) {\n    Picasso.get().load(mainImage).into(holder.imageViewMain, object: Callback{\n        override fun onSuccess() {\n            // Could I do something here?\n            holder.imageViewMain.setVisibility(View.Visible)\n        }\n\n        override fun onError(e: Exception?) { }\n    })\n}        \n}\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522847866, "creation_date": 1522846518, "last_edit_date": 1522847866, "question_id": 49651620, "link": "https://stackoverflow.com/questions/49651620/how-can-i-change-the-row-height-in-my-recyclerview-after-picasso-image-load", "title": "How can I change the row height in my RecyclerView after Picasso image load?", "body": "<p>I currently have a RecyclerView containing posts (similar to facebook posts or tweets etc), with optional images. In the <code>onBindViewHolder</code> method of my adapter, I'm loading the image using Picasso but I won't know the size of the image until it has loaded. I want the post to appear normal (without an image) until the image has loaded, then the image should appear and the row height should increase to fit the new image with it's original aspect ratio.</p>\n\n<p>At the moment when the image is loading, it's remaining attached to the bottom of the row while covering the top half of the row, even though there's a constraint from the top of the ImageView to the bottom of the main body TextView.</p>\n\n<p>My item is using a ConstraintLayout as the root, the ImageView is defined as:</p>\n\n<pre><code>&lt;ImageView\n        android:id=\"@+id/imageViewMain\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:adjustViewBounds=\"true\"\n        android:scaleType=\"fitCenter\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"@+id/textViewBody\"\n        app:layout_constraintStart_toStartOf=\"@+id/textViewBody\"\n        app:layout_constraintTop_toBottomOf=\"@+id/textViewBody\" /&gt;\n</code></pre>\n\n<p>My <code>onBindViewHolder</code> method is similar to this (I'm using Kotlin):</p>\n\n<pre><code>override fun onBindViewHolder(holder: HomeAdapter.ViewHolder, position: Int) {\n    val item = items[position]\n\n    val mainImage = item.imageUrl\n    if (!mainImage.isNullOrEmpty()) {\n        Picasso.get().load(mainImage).into(holder.imageViewMain, object: Callback{\n            override fun onSuccess() {\n                // Could I do something here?\n            }\n\n            override fun onError(e: Exception?) { }\n        })\n    }        \n}\n</code></pre>\n\n<p>Has anyone got any tips on how to increase my row height when the image loads, rather than letting the image cover up the rest of the row?</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 1, "creation_date": 1522844012, "post_id": 49650677, "comment_id": 86309475, "body": "why do you think it&#39;s not working? are you seeing any errors? The function is asynchronous so the reponse will come later when firebase db responds, it will not return any result immediately"}, {"owner": {"reputation": 17, "user_id": 7394381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9fa646d427b25a26afc747573912ec?s=128&d=identicon&r=PG&f=1", "display_name": "Abdus Samad", "link": "https://stackoverflow.com/users/7394381/abdus-samad"}, "reply_to_user": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1522844269, "post_id": 49650677, "comment_id": 86309668, "body": "No I am calling this listener in the create method of an activity so all the field of that activity should get updated if it is working"}, {"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1522844383, "post_id": 49650677, "comment_id": 86309748, "body": "try printing stuff inside onCancelled, maybe that&#39;s getting called and you are actually hitting some error."}, {"owner": {"reputation": 17, "user_id": 7394381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9fa646d427b25a26afc747573912ec?s=128&d=identicon&r=PG&f=1", "display_name": "Abdus Samad", "link": "https://stackoverflow.com/users/7394381/abdus-samad"}, "reply_to_user": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1522844610, "post_id": 49650677, "comment_id": 86309919, "body": "Yes ,It is getting cancelled but don&#39;t know why"}, {"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 5, "creation_date": 1522844666, "post_id": 49650677, "comment_id": 86309971, "body": "print the database error buddy... can&#39;t help you without knowing what&#39;s going on... might be a security exception, might be something else... there&#39;s a ton of issues which can cause it to cancel."}, {"owner": {"reputation": 17, "user_id": 7394381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9fa646d427b25a26afc747573912ec?s=128&d=identicon&r=PG&f=1", "display_name": "Abdus Samad", "link": "https://stackoverflow.com/users/7394381/abdus-samad"}, "reply_to_user": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 1, "creation_date": 1522845124, "post_id": 49650677, "comment_id": 86310294, "body": "permission denied is the error"}, {"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1522845206, "post_id": 49650677, "comment_id": 86310353, "body": "Alright that narrows it down, it&#39;s a security rule that you have for your db which is causing it to fail. Post your security rules of the rtdb here. Also let me know if you use any kind of Firebase Auth logins or not?"}, {"owner": {"reputation": 17, "user_id": 7394381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9fa646d427b25a26afc747573912ec?s=128&d=identicon&r=PG&f=1", "display_name": "Abdus Samad", "link": "https://stackoverflow.com/users/7394381/abdus-samad"}, "reply_to_user": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 1, "creation_date": 1522845360, "post_id": 49650677, "comment_id": 86310466, "body": "{   &quot;rules&quot;: {     &quot;users&quot;: {       &quot;$uid&quot;: {         &quot;.write&quot;: &quot;$uid === auth.uid&quot;       }     }   } }"}, {"owner": {"reputation": 17, "user_id": 7394381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9fa646d427b25a26afc747573912ec?s=128&d=identicon&r=PG&f=1", "display_name": "Abdus Samad", "link": "https://stackoverflow.com/users/7394381/abdus-samad"}, "reply_to_user": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1522845419, "post_id": 49650677, "comment_id": 86310499, "body": "Yes i have use email as auth login"}, {"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1522845509, "post_id": 49650677, "comment_id": 86310565, "body": "Give read permissions to all or as per your wish. right now i don&#39;t see a read permission, so i think rtdb is considering it false and not allowing reads. add a read permission to your security rule similar to the write one"}, {"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1522845611, "post_id": 49650677, "comment_id": 86310651, "body": "Also note, your current rules will only allow you to read the data under users/uid where the uid will be equal to your auth user"}, {"owner": {"reputation": 4408, "user_id": 4916627, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ainvx.jpg?s=128&g=1", "display_name": "Andr&#233; Kool", "link": "https://stackoverflow.com/users/4916627/andr%c3%a9-kool"}, "edited": false, "score": 1, "creation_date": 1522846218, "post_id": 49650677, "comment_id": 86311120, "body": "@AbdusSamad You should <a href=\"https://stackoverflow.com/posts/49650677/edit\">edit</a> you question to inlcude your database rules, the error(s) you are getting and where you attach your listener to."}, {"owner": {"reputation": 17, "user_id": 7394381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9fa646d427b25a26afc747573912ec?s=128&d=identicon&r=PG&f=1", "display_name": "Abdus Samad", "link": "https://stackoverflow.com/users/7394381/abdus-samad"}, "reply_to_user": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1522849105, "post_id": 49650677, "comment_id": 86313346, "body": "Thanks @Kushan it works"}], "owner": {"reputation": 17, "user_id": 7394381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9fa646d427b25a26afc747573912ec?s=128&d=identicon&r=PG&f=1", "display_name": "Abdus Samad", "link": "https://stackoverflow.com/users/7394381/abdus-samad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 356, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522848864, "creation_date": 1522843797, "last_edit_date": 1522848864, "question_id": 49650677, "link": "https://stackoverflow.com/questions/49650677/firebase-value-event-listener-not-responding", "title": "Firebase Value event listener not responding", "body": "<p>I am new to Firebase .  I think I have done it all right,here is my code ,I don't know  why this function is not working.</p>\n\n<pre><code> database!!.addValueEventListener(object:ValueEventListener{\n       override fun onCancelled(p0: DatabaseError?) {\n\n       }\n\n       override fun onDataChange(p0: DataSnapshot?) {\n          var name=p0!!.child(\"name\").value.toString()\n           var status=p0.child(\"Status\").value.toString()\n           var image=p0.child(\"image\").value.toString()\n           var thumbimage=p0.child(\"thumbimage\").value.toString()\n           nameid.setText(name)\n           statusid.setText(status)\n           if(!image!!.equals(\"null\")){\n               Picasso.with(applicationContext)\n                       .load(image)\n                       .placeholder(R.drawable.user)\n                       .into(circleImageView)\n\n\n           }\n       }\n\n   })\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-8.0-oreo", "android-7.1-nougat"], "comments": [{"owner": {"reputation": 1215, "user_id": 4481541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe7030cf38c1eacc3ce817ef07242e77?s=128&d=identicon&r=PG&f=1", "display_name": "LenglBoy", "link": "https://stackoverflow.com/users/4481541/lenglboy"}, "edited": false, "score": 0, "creation_date": 1522838640, "post_id": 49648949, "comment_id": 86305918, "body": "It&#180;s because <code>val</code> can&#180;t get values from object which can be set to null. You need to wrap it on optional so there is every time something present but maybe with no inner value. Or just use <code>var bm: &lt;type&gt;?</code> - the <code>?</code> does it make to allow NULL references."}, {"owner": {"reputation": 329, "user_id": 5201261, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-MDJPvyahbHs/AAAAAAAAAAI/AAAAAAAAAAA/a813nXg0NCY/photo.jpg?sz=128", "display_name": "fr3ak", "link": "https://stackoverflow.com/users/5201261/fr3ak"}, "reply_to_user": {"reputation": 1215, "user_id": 4481541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe7030cf38c1eacc3ce817ef07242e77?s=128&d=identicon&r=PG&f=1", "display_name": "LenglBoy", "link": "https://stackoverflow.com/users/4481541/lenglboy"}, "edited": false, "score": 0, "creation_date": 1522838917, "post_id": 49648949, "comment_id": 86306096, "body": "the problem is not that <code>bm</code> could be <code>null</code>, its because on android 7.1 is not and in android 8 it is <code>null</code>"}, {"owner": {"reputation": 1089, "user_id": 6182136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7f0b239d63ed4a05406b868248bd70f?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom", "link": "https://stackoverflow.com/users/6182136/artyom"}, "edited": false, "score": 0, "creation_date": 1522839051, "post_id": 49648949, "comment_id": 86306182, "body": "Do you have <code>mipmap-anydpi-v26</code> in your <code>res</code> directory?"}, {"owner": {"reputation": 329, "user_id": 5201261, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-MDJPvyahbHs/AAAAAAAAAAI/AAAAAAAAAAA/a813nXg0NCY/photo.jpg?sz=128", "display_name": "fr3ak", "link": "https://stackoverflow.com/users/5201261/fr3ak"}, "edited": false, "score": 0, "creation_date": 1522839514, "post_id": 49648949, "comment_id": 86306464, "body": "yes, I have <code>mipmap-anydpi-v26 </code>, but it has only xml-s"}], "answers": [{"tags": [], "owner": {"reputation": 1089, "user_id": 6182136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7f0b239d63ed4a05406b868248bd70f?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom", "link": "https://stackoverflow.com/users/6182136/artyom"}, "is_accepted": true, "score": 3, "last_activity_date": 1522839614, "creation_date": 1522839614, "answer_id": 49649297, "question_id": 49648949, "link": "https://stackoverflow.com/questions/49648949/exception-while-getting-application-icon-android-8-works-on-android-7/49649297#49649297", "title": "Exception while getting application icon android 8, works on android 7", "body": "<p>It seems that <code>R.mipmap.ic_launcher</code> is not an id of <code>BitmapDrawable</code> resource. <br><code>ic_launcher.xml</code> file from <code>mipmap-anydpi-v26</code> directory is used on Android 8 instead of <code>ic_launcher.png</code> from <code>mipmap-*dpi</code>. It contains adaptive icon resource.</p>\n\n<p>You may try <a href=\"https://stackoverflow.com/a/46018816\">this solution</a> to convert it to a <code>Bitmap</code>.</p>\n"}], "owner": {"reputation": 329, "user_id": 5201261, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-MDJPvyahbHs/AAAAAAAAAAI/AAAAAAAAAAA/a813nXg0NCY/photo.jpg?sz=128", "display_name": "fr3ak", "link": "https://stackoverflow.com/users/5201261/fr3ak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 1, "accepted_answer_id": 49649297, "answer_count": 1, "score": 4, "last_activity_date": 1522839614, "creation_date": 1522838410, "question_id": 49648949, "link": "https://stackoverflow.com/questions/49648949/exception-while-getting-application-icon-android-8-works-on-android-7", "title": "Exception while getting application icon android 8, works on android 7", "body": "<p>I'm trying to get the large icon for the notification in android app like that:</p>\n\n<pre><code>val bm = BitmapFactory.decodeResource(this.resources, R.mipmap.ic_launcher)\n</code></pre>\n\n<p>It works correctly in android 7.1, but throws exception in android 8:</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: bm must not be null\n</code></pre>\n\n<p>It is the same code, nothing changes. Does someone know whats wrong?\nI'm using Kotlin(if it matters).</p>\n"}, {"tags": ["kotlin", "screenshot", "mapbox-android"], "answers": [{"tags": [], "owner": {"reputation": 3167, "user_id": 502144, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a14b0afdcd244efec7579d4e8bc64b01?s=128&d=identicon&r=PG", "display_name": "fdermishin", "link": "https://stackoverflow.com/users/502144/fdermishin"}, "is_accepted": true, "score": 0, "last_activity_date": 1522859786, "creation_date": 1522859786, "answer_id": 49656152, "question_id": 49648586, "link": "https://stackoverflow.com/questions/49648586/screenshot-of-mapbox-map-without-displaying-it/49656152#49656152", "title": "Screenshot of Mapbox map without displaying it", "body": "<p>I've finally found the solution! The class I needed to use was <a href=\"https://www.mapbox.com/android-docs/api/map-sdk/5.2.0/com/mapbox/mapboxsdk/snapshotter/MapSnapshotter.html\" rel=\"nofollow noreferrer\">MapSnapshotter</a>.</p>\n\n<pre><code>val width = imageView.width\nval height = imageView.height\nval location = CameraPosition.Builder()\n        .target(LatLng(55.7558, 37.6173))\n        .zoom(16.0)\n        .build()\nval options = MapSnapshotter.Options(width, height)\n        .withCameraPosition(location)\nMapSnapshotter(context, options).start { snapshot -&gt;\n    imageView.setImageBitmap(snapshot.bitmap)\n}\n</code></pre>\n"}], "owner": {"reputation": 3167, "user_id": 502144, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a14b0afdcd244efec7579d4e8bc64b01?s=128&d=identicon&r=PG", "display_name": "fdermishin", "link": "https://stackoverflow.com/users/502144/fdermishin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 49656152, "answer_count": 1, "score": 0, "last_activity_date": 1522859786, "creation_date": 1522837240, "question_id": 49648586, "link": "https://stackoverflow.com/questions/49648586/screenshot-of-mapbox-map-without-displaying-it", "title": "Screenshot of Mapbox map without displaying it", "body": "<p>I need to display a few previews of addresses on the map on the same screen. To do that I'm going to display <code>ImageViews</code> with bitmaps instead of making multiple instances of <code>MapView</code>. But for that I need to find a way to capture these bitmaps.</p>\n\n<p>I found <code>snapshot</code> function in MapboxMap (<a href=\"https://github.com/mapbox/mapbox-gl-native/issues/6062\" rel=\"nofollow noreferrer\">https://github.com/mapbox/mapbox-gl-native/issues/6062</a>), but it requires displaying of the map.</p>\n\n<pre><code>val position = CameraPosition.Builder()\n        .target(addressLatLng)\n        .zoom(zoom)\n        .build()\nmapboxMap.cameraPosition = position\n\nmapboxMap.snapshot { bitmap: Bitmap -&gt;\n    imageView.setImageBitmap(bitmap)\n}\n</code></pre>\n\n<p>So, can I take a snapshot of the map without displaying it on the screen?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-library"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1522835075, "post_id": 49647596, "comment_id": 86303502, "body": "Kotlin is compiled to Java byte code. The AAR you create does not matter if it created from either Kotlin or Java."}, {"owner": {"reputation": 91, "user_id": 8906375, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/66787641da16c37a43a5cad91c8607ee?s=128&d=identicon&r=PG&f=1", "display_name": "EfremovAV", "link": "https://stackoverflow.com/users/8906375/efremovav"}, "reply_to_user": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1522835218, "post_id": 49647596, "comment_id": 86303597, "body": "Has, if not establish a dependency, then get java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11693018, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/dbbad31d6419337712acd07c014fccdd?s=128&d=identicon&r=PG", "display_name": "Guillermo Garc&#237;a", "link": "https://stackoverflow.com/users/11693018/guillermo-garc%c3%ada"}, "is_accepted": false, "score": 1, "last_activity_date": 1561388710, "creation_date": 1561388710, "answer_id": 56739399, "question_id": 49647596, "link": "https://stackoverflow.com/questions/49647596/adding-a-dependency-to-library-on-kotlin-in-full-java-project/56739399#56739399", "title": "Adding a dependency to library on Kotlin in full Java-project", "body": "<p>You cannot: Kotlin compiles to class files and executes on the JVM, yes... But they depend on the Kotlin runtime...  Also note that your Gradle dependencies are not nested forward, meaning that either you include the jars (causing duplicate clases conflicts if the end user wants to use the same library) or you inform in the docs. Alternatively you can use a private Maven repository that can include a file with nested dependencies. </p>\n"}], "owner": {"reputation": 91, "user_id": 8906375, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/66787641da16c37a43a5cad91c8607ee?s=128&d=identicon&r=PG&f=1", "display_name": "EfremovAV", "link": "https://stackoverflow.com/users/8906375/efremovav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561388710, "creation_date": 1522834625, "question_id": 49647596, "link": "https://stackoverflow.com/questions/49647596/adding-a-dependency-to-library-on-kotlin-in-full-java-project", "title": "Adding a dependency to library on Kotlin in full Java-project", "body": "<p>I created a simple library (<code>AAR</code>) on the <code>Kotlin</code>, when called up, interacts with the other application through the <code>Broadcast</code> mechanism. And now I had a question: how to properly connect it to third-party developers, as a <code>file</code> (not Maven), that them do not have to install a dependency on the <code>Kotlin</code>?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1522832429, "post_id": 49646743, "comment_id": 86301685, "body": "Can you show your <code>build.gradle</code> configurations for Kotlin? Is the rest of your project working?"}, {"owner": {"reputation": 2539, "user_id": 2484327, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/159Yf.jpg?s=128&g=1", "display_name": "Ritesh", "link": "https://stackoverflow.com/users/2484327/ritesh"}, "edited": false, "score": 0, "creation_date": 1522832753, "post_id": 49646743, "comment_id": 86301913, "body": "The string u received, is it nullable? If yes, can you try                           var name=reader.nextString()?.toUpperCase()"}, {"owner": {"reputation": 55, "user_id": 5378855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab3b452d031fc32357bc63fc1b5661c3?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes M", "link": "https://stackoverflow.com/users/5378855/johannes-m"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1522833915, "post_id": 49646743, "comment_id": 86302679, "body": "Everything else is working fine. no, the string is not nullable, that was my first thought too @zsmb13  buildscript {     repositories {         jcenter()         google()     }     ext.kotlin_version = &#39;1.2.30&#39;     dependencies {         classpath &#39;com.android.tools.build:gradle:3.1.0&#39;         classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;      } }"}, {"owner": {"reputation": 4445, "user_id": 3926727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKxV7.jpg?s=128&g=1", "display_name": "Rasel", "link": "https://stackoverflow.com/users/3926727/rasel"}, "edited": false, "score": 0, "creation_date": 1528601561, "post_id": 49646743, "comment_id": 88567396, "body": "reader.nextString().capitalize();"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5378855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab3b452d031fc32357bc63fc1b5661c3?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes M", "link": "https://stackoverflow.com/users/5378855/johannes-m"}, "edited": false, "score": 0, "creation_date": 1522910520, "post_id": 49647901, "comment_id": 86341139, "body": "Altough that worked to fix the unresolved reference, I&#39;m not able to build my Project anymore, because this import is causing following error:  Program type already present: kotlin.AutoCloseableKt"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 55, "user_id": 5378855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab3b452d031fc32357bc63fc1b5661c3?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes M", "link": "https://stackoverflow.com/users/5378855/johannes-m"}, "edited": false, "score": 0, "creation_date": 1522914406, "post_id": 49647901, "comment_id": 86343506, "body": "You can have a look at how you handle the <i>Kotlin</i> stdlib dependencies. Maybe you have more than one there. But this might be a different question you can ask. Just make sure to put all relevant files like the <code>build.gradle</code> as well."}, {"owner": {"reputation": 55, "user_id": 5378855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab3b452d031fc32357bc63fc1b5661c3?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes M", "link": "https://stackoverflow.com/users/5378855/johannes-m"}, "edited": false, "score": 1, "creation_date": 1522915609, "post_id": 49647901, "comment_id": 86344223, "body": "could figure it out. it&#39;s a problem with a library I&#39;m using"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 3, "last_activity_date": 1528297475, "last_edit_date": 1528297475, "creation_date": 1522835351, "answer_id": 49647901, "question_id": 49646743, "link": "https://stackoverflow.com/questions/49646743/unresolved-referencetouppercase-kotlin/49647901#49647901", "title": "Unresolved reference:toUpperCase Kotlin", "body": "<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-upper-case.html\" rel=\"nofollow noreferrer\"><code>toUpperCase()</code></a> method is defined as an inline extension function to <code>String</code> not as a <code>java.lang.String</code>. Thus you need to have the <em>Kotlin</em> standard library as your dependency to use this method for <code>String</code>.</p>\n\n<pre><code>dependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7678862, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-B0-INLyMd80/AAAAAAAAAAI/AAAAAAAAAA8/Cs55F2iTA24/photo.jpg?sz=128", "display_name": "shariful hasnine", "link": "https://stackoverflow.com/users/7678862/shariful-hasnine"}, "is_accepted": false, "score": 0, "last_activity_date": 1528621625, "creation_date": 1528621625, "answer_id": 50782143, "question_id": 49646743, "link": "https://stackoverflow.com/questions/49646743/unresolved-referencetouppercase-kotlin/50782143#50782143", "title": "Unresolved reference:toUpperCase Kotlin", "body": "<p>capitalize Function can do the same as toUpperCase.</p>\n\n<p>fun String.capitalize(): String </p>\n\n<p>Returns a copy of this string having its first letter uppercased, or the original string, if it's empty or already starts with an upper case letter.</p>\n\n<pre><code>println(\"abcd\".capitalize()) // Abcd\nprintln(\"Abcd\".capitalize()) // Abcd\n</code></pre>\n\n<p>For more details read the  <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/capitalize.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}], "owner": {"reputation": 55, "user_id": 5378855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab3b452d031fc32357bc63fc1b5661c3?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes M", "link": "https://stackoverflow.com/users/5378855/johannes-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1343, "favorite_count": 0, "accepted_answer_id": 49647901, "answer_count": 2, "score": 1, "last_activity_date": 1576582949, "creation_date": 1522832107, "last_edit_date": 1522832575, "question_id": 49646743, "link": "https://stackoverflow.com/questions/49646743/unresolved-referencetouppercase-kotlin", "title": "Unresolved reference:toUpperCase Kotlin", "body": "<p>Im currently developing Kotlin in Android Studio 3.1\nout of an JsonReader I receive an <code>String!</code>, which I'm trying to convert to upper case\nso what i do is:</p>\n\n<pre><code>var name=reader.nextString().toUpperCase()\n</code></pre>\n\n<p>the problem is, that the <code>toUpperCase</code> is not detected and is marked as unresolved reference</p>\n"}, {"tags": ["java", "collections", "kotlin", "interop", "non-nullable"], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1522840471, "post_id": 49648019, "comment_id": 86307106, "body": "<code>CLASS</code> means it becomes a part of the class, which the runtime will have to load and interpret, and only then discard so it&#39;s not available via reflection. A class that has these annotations would (I suppose) have to have a format version number 52 or higher, which Android may reject."}, {"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1522842168, "post_id": 49648019, "comment_id": 86308205, "body": "@MarkoTopolnik\tI guess it <i>could</i> just ignore all CLASS annotations, but it might not. Your point about the format version is valid; I don&#39;t have enough experience with shipping for Android to estimate the issues here. Depends on the Android versions you want to support, I guess? 4.4 is still around a lot, but ancient. :/ Anyway, I couldn&#39;t find out (by Googling) if (modern) Android supports type annotations. Don&#39;t have Android Studio handy to try, so it&#39;s best to consider this a JVM-only answer."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1522843398, "post_id": 49648019, "comment_id": 86309038, "body": "Android is stuck on compatibility with JDK 7 so it might very well complain to a library with JDK 8 class format. There may be workarounds for this, though, like separate builds for development-time dependency and for APKs."}, {"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1522882816, "post_id": 49648019, "comment_id": 86333263, "body": "@MarkoTopolnik I&#39;m perpetually confused (and irritated) about Google&#39;s strategy there. I may get back to you about those workarounds! For now, FWIW, I proposed an <a href=\"https://github.com/JetBrains/kotlin-web-site/pull/1040\" rel=\"nofollow noreferrer\">addition to the Kotlin docs</a> about this issue. Feedback appreciated!"}], "tags": [], "owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "is_accepted": true, "score": 1, "last_activity_date": 1522837256, "last_edit_date": 1522837256, "creation_date": 1522835628, "answer_id": 49648019, "question_id": 49646581, "link": "https://stackoverflow.com/questions/49646581/how-do-i-use-java-collections-of-non-nullable-elements-from-kotlin/49648019#49648019", "title": "How do I use Java collections of non-nullable elements from Kotlin?", "body": "<p>Turns out it's an implementation issue of the annotations I used, not a conceptual one.</p>\n\n<p>As of Spotbugs Annotations 3.1.2, the annotations <code>@NotNull</code> and <code>@NonNull</code> are not declared for targets <code>ElementType.TYPE_USE</code>.</p>\n\n<p><a href=\"https://github.com/JetBrains/java-annotations\" rel=\"nofollow noreferrer\">Jetbrains annotations</a> <em>are</em> declared with that flag, to they can be used on type parameters:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@NotNull\npublic Set&lt;@NotNull String&gt; foo(@NotNull Collection&lt;@NotNull String&gt; bar) {\n    return new HashSet&lt;&gt;();\n}\n</code></pre>\n\n<p>While this looks a <em>little</em> unwieldy in Java, we get the desired Kotlin signature:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>foo(bar: (Mutable)Collection&lt;String&gt;) : (Mutable)Set&lt;String&gt;\n</code></pre>\n\n<p>Note that annotating type parameters requires source language level Java 8+.</p>\n\n<hr>\n\n<p>A note on Android and other situations of being stuck at low langauges levels. Since the annotations have retention level <code>CLASS</code>, I would not expect any runtime problems if an app used a thus annotated library. I have not tested it, though; comments appreciated.</p>\n"}], "owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 49648019, "answer_count": 1, "score": 2, "last_activity_date": 1522837256, "creation_date": 1522831670, "last_edit_date": 1522834639, "question_id": 49646581, "link": "https://stackoverflow.com/questions/49646581/how-do-i-use-java-collections-of-non-nullable-elements-from-kotlin", "title": "How do I use Java collections of non-nullable elements from Kotlin?", "body": "<p>Using the interop automatisms Kotlin has for nullability, a method like this gets the proper signature in Kotlin:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@NonNull\npublic String foo(@NonNull String bar) {\n    return \"bar\";\n}\n</code></pre>\n\n<p>Now lift the principle to collections (or other generics, I guess):</p>\n\n<pre><code>@NonNull\npublic Set&lt;String&gt; foo(@NonNull Collection&lt;String&gt; bar) {\n    return new HashSet&lt;String&gt;();\n}\n</code></pre>\n\n<p>This shows in Kotlin as</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>foo(bar: (Mutable)Collection&lt;String!&gt;) : (Mutable)Set&lt;String!&gt;\n</code></pre>\n\n<p>I'm fine with <code>(Mutable)</code>, but how do I get rid of the platform types in the type parameters? That is, how do I write or annotate the Java function so that I see <code>Set&lt;String&gt;</code> (or <code>Set&lt;String?&gt;</code>, for that matter) from Kotlin?</p>\n\n<p>Using <code>Set&lt;@NonNull String&gt;</code> is not allowed (\"'@NonNull' not applicable to type use\").</p>\n\n<p>If it makes a difference, I use the Findbugs annotations (via Spotbugs). My perspective is that of a (Java) library provider who wants to enable as seamless use from Kotlin as possible.</p>\n"}, {"tags": ["android", "kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 54, "user_id": 6916569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8efe441437e8dfba04bac1c1ac32aebe?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Bitkov", "link": "https://stackoverflow.com/users/6916569/kirill-bitkov"}, "is_accepted": true, "score": 0, "last_activity_date": 1522833787, "creation_date": 1522833787, "answer_id": 49647300, "question_id": 49646491, "link": "https://stackoverflow.com/questions/49646491/generics-problems-encountered-by-kotlin-and-gson/49647300#49647300", "title": "Generics problems encountered by Kotlin and GSON", "body": "<p>It cause, because the parser can't fetch the real type T at runtime.\nThis extension works for me</p>\n\n<p><i> inline fun  Gson.fromJson(json: String) =\n        this.fromJson(json, object: TypeToken() {}.type)!! </i></p>\n\n<p>Then you need modify  as  in you methods, as IDE recommend you.</p>\n"}], "owner": {"reputation": 3, "user_id": 4898108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13fe1bb971b6000014ba7104a323ee89?s=128&d=identicon&r=PG&f=1", "display_name": "HaiTian", "link": "https://stackoverflow.com/users/4898108/haitian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 0, "accepted_answer_id": 49647300, "answer_count": 1, "score": 0, "last_activity_date": 1522833787, "creation_date": 1522831399, "last_edit_date": 1522831851, "question_id": 49646491, "link": "https://stackoverflow.com/questions/49646491/generics-problems-encountered-by-kotlin-and-gson", "title": "Generics problems encountered by Kotlin and GSON", "body": "<p>I try to write a network request function\uff0cIts role is to analyze the general format and provide data content to callbacks.</p>\n\n<p>This is my defined class:\n</p>\n\n<pre><code>data class Response&lt;T&gt;(\n    val code: Int = 0,\n    @JvmSuppressWildcards\n    var data: ArrayList&lt;T&gt;,\n    val message: String = \"\")\n</code></pre>\n\n<p>in this class 'code' and 'message' is fixed\uff0c'data' has different types</p>\n\n<p>Select one of data:</p>\n\n<pre><code>data class TestData(\n    @SerializedName(\"create_by\")\n    val createBy: String = \"\",\n    @SerializedName(\"create_time\")\n    val createTime: String = \"\",\n    @SerializedName(\"name\")\n    val name: String = \"\",\n    @SerializedName(\"id\")\n    val id: String = \"\")\n</code></pre>\n\n<p>There is my network request function:\n</p>\n\n<pre><code>fun &lt;T&gt; post(callBack: (ArrayList&lt;T&gt;) -&gt; Unit) {\n    ...\n     override fun onSuccess(response:Response&lt;String&gt;) {\n          val result = gson.fromJson&lt;Response&lt;T&gt;&gt;(response.body().reader(),Response::class.java)\n          when{\n              result.code==200-&gt; callBack.invoke(result.data)\n          }\n     }\n    ...\n}\n</code></pre>\n\n<p>Use it at Activity:\n</p>\n\n<pre><code>Request.addr(Constants.GET_TEST)\n       .post&lt;TestData&gt; {\n            tv.text = it[0].name\n        }\n</code></pre>\n\n<p>When i use Gson parse the server returns data,and want use JavaBean ,Logcat throw this Exception:</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to com.example.network.response.TestData</p>\n</blockquote>\n\n<p>i tried to use TypeToken to solve this problem \uff0cbut it also does not work.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1522831229, "post_id": 49646364, "comment_id": 86300885, "body": "There&#39;s an invalid character after the second last curly bracket"}, {"owner": {"reputation": 61, "user_id": 9557056, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "eyeballer", "link": "https://stackoverflow.com/users/9557056/eyeballer"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1522831645, "post_id": 49646364, "comment_id": 86301145, "body": "What invalid character are you referring to?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1522831720, "post_id": 49646364, "comment_id": 86301196, "body": "It&#39;s not visible, if I copy the code into my IDE and remove whatever there&#39;s between the last two brackets, it works"}], "owner": {"reputation": 61, "user_id": 9557056, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "eyeballer", "link": "https://stackoverflow.com/users/9557056/eyeballer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 603, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522830983, "creation_date": 1522830983, "question_id": 49646364, "link": "https://stackoverflow.com/questions/49646364/android-expecting-member-declaration-error", "title": "Android- Expecting member declaration error", "body": "<pre><code>class FingerprintHandler(private val appContext: Context) : FingerprintManager.AuthenticationCallback() {\n\nprivate var cancellationSignal: CancellationSignal? = null\n\n\n\n@RequiresApi(Build.VERSION_CODES.M)\nfun startAuth(manager: FingerprintManager,\n              cryptoObject: FingerprintManager.CryptoObject) {\n\n    cancellationSignal = CancellationSignal()\n\n    if (ActivityCompat.checkSelfPermission(appContext,\n            Manifest.permission.USE_FINGERPRINT) !=\n            PackageManager.PERMISSION_GRANTED) {\n        return\n    }\n    manager.authenticate(cryptoObject, cancellationSignal, 0, this, null)\n}\ufeff}\n</code></pre>\n\n<p>Getting this error while trying to implement fingerprint authentication.IDE is not showing where exactly the error is. </p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 0, "creation_date": 1607611013, "post_id": 49646322, "comment_id": 115331661, "body": "Isn&#39;t the &quot;hash bucket&quot; already updated after the object is mutated? Let&#39;s just put a single object in a set then change some variable of that object and check the mutated object&#39;s hash code against the item in the set, they have the same hash code. Is what you called &quot;hash bucket&quot; kept separately or I am missing some important point in this context?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 0, "creation_date": 1607621092, "post_id": 49646322, "comment_id": 115336460, "body": "You never compare objects by hash code, you only use it to narrow down where to look for it. When OP&#39;s code wants to remove the object, it gets the new hashcode but the object&#39;s location is according to the old hashcode."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 10, "last_activity_date": 1522831889, "last_edit_date": 1522831889, "creation_date": 1522830846, "answer_id": 49646322, "question_id": 49646150, "link": "https://stackoverflow.com/questions/49646150/cant-remove-the-element-in-a-mutable-set-if-it-is-modified-in-kotlin/49646322#49646322", "title": "Can&#39;t remove the element in a mutable set if it is modified in Kotlin", "body": "<p>Javadoc of <code>Set</code>:</p>\n\n<blockquote>\n  <p>Note: Great care must be exercised if mutable objects are used as set elements. The behavior of a set is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is an element in the set.</p>\n</blockquote>\n\n<p>By writing</p>\n\n<pre><code>dog1.name = \"dodo2\"\n</code></pre>\n\n<p>you did exactly that, you changed the object in a way that affects <code>equals</code> comparisons. Specifically, by using the construct</p>\n\n<pre><code>set.removeAll { true }\n</code></pre>\n\n<p>you exercised a code path in <code>LinkedHashSet</code> that visits each element, tests the predicate on it, and then tries to remove it as if by calling <code>set.remove(it)</code>. This will cause <code>it</code> to recalculate its hash code, now different from what it was when you inserted it into the set. <code>LinkedHashSet</code> will then look up the corresponding hash bucket and fail to find <code>it</code> there.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1522831680, "last_edit_date": 1522831680, "creation_date": 1522830981, "answer_id": 49646362, "question_id": 49646150, "link": "https://stackoverflow.com/questions/49646150/cant-remove-the-element-in-a-mutable-set-if-it-is-modified-in-kotlin/49646362#49646362", "title": "Can&#39;t remove the element in a mutable set if it is modified in Kotlin", "body": "<p>You're changing the object after it has been added to the set. That should be avoided</p>\n\n<p>You can use <code>clear</code> instead:</p>\n\n<pre><code>set.clear()\n</code></pre>\n\n<p>Or move the mutation of your object:</p>\n\n<pre><code>val dog1 = Dog(name = \"dodo\")\nval dog2 = Dog(name = \"mimi\")\n\ndog1.name = \"dodo2\"\nval set = mutableSetOf(dog1, dog2)\n</code></pre>\n"}], "owner": {"reputation": 3900, "user_id": 475242, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/y6FOo.jpg?s=128&g=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/475242/cody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1329, "favorite_count": 1, "accepted_answer_id": 49646322, "answer_count": 2, "score": 8, "last_activity_date": 1522831889, "creation_date": 1522830316, "question_id": 49646150, "link": "https://stackoverflow.com/questions/49646150/cant-remove-the-element-in-a-mutable-set-if-it-is-modified-in-kotlin", "title": "Can&#39;t remove the element in a mutable set if it is modified in Kotlin", "body": "<p>I have an issue when using <code>removeAll()</code>, some objects can't be removed properly. </p>\n\n<pre><code>data class Dog(var name: String)\n\nval dog1 = Dog(name = \"dodo\")\nval dog2 = Dog(name = \"mimi\")\n\nval set = mutableSetOf&lt;Dog&gt;()\nset.add(dog1)\nset.add(dog2)\n\ndog1.name = \"dodo2\"\n\nval before_size = set.size // 2\n\nset.removeAll { true }\n\nval after_size = set.size  // why it is 1!?, I expect it should be 0\n</code></pre>\n\n<p>The <code>removeAll</code> didn't work as I expected. There is still one element in the mutable set.  Any idea?</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "edited": false, "score": 0, "creation_date": 1522832228, "post_id": 49646675, "comment_id": 86301536, "body": "Thanks for the anwers. Unfortunately, the OkHttp authenticator&#39;s itnerface dictates that this method must return <code>Result</code>, not <code>Single&lt;Result&gt;</code> so this won&#39;t work. This authenticator is registered in OkHttp3 client and used internally."}, {"owner": {"reputation": 1482, "user_id": 8996455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6VPfx.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/8996455/dmitry"}, "reply_to_user": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "edited": false, "score": 0, "creation_date": 1522832562, "post_id": 49646675, "comment_id": 86301771, "body": "Oh, I see. In this case you probably don&#39;t even need to use rxjava inside  the authenticate method since it should be executed on the background thread by default."}, {"owner": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "edited": false, "score": 0, "creation_date": 1522832766, "post_id": 49646675, "comment_id": 86301923, "body": "But how do I make it wait until the token request if finished? The authenticator will try to perform multiple requests in the row with the old token if I do not make it synchronous somehow.."}, {"owner": {"reputation": 1482, "user_id": 8996455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6VPfx.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/8996455/dmitry"}, "reply_to_user": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "edited": false, "score": 0, "creation_date": 1522833137, "post_id": 49646675, "comment_id": 86302152, "body": "What does authRepository.refreshAccessToken() return?"}, {"owner": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "edited": false, "score": 0, "creation_date": 1522833191, "post_id": 49646675, "comment_id": 86302189, "body": "It does not return anything. It performs some request (we are using AppAuth framework) and updates its auth state once it&#39;s finished"}, {"owner": {"reputation": 1482, "user_id": 8996455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6VPfx.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/8996455/dmitry"}, "reply_to_user": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "edited": false, "score": 0, "creation_date": 1522833545, "post_id": 49646675, "comment_id": 86302441, "body": "Why not refresh your token before you make the network call? Then you can just get it  from authRepository inside authenticate method."}, {"owner": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "edited": false, "score": 0, "creation_date": 1523278550, "post_id": 49646675, "comment_id": 86480734, "body": "I have updated my question to be more clear. I only get to know that my token is invalid when making a request so this approach would not work either."}], "tags": [], "owner": {"reputation": 1482, "user_id": 8996455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6VPfx.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/8996455/dmitry"}, "is_accepted": false, "score": 0, "last_activity_date": 1522832220, "last_edit_date": 1522832220, "creation_date": 1522831913, "answer_id": 49646675, "question_id": 49645802, "link": "https://stackoverflow.com/questions/49645802/rxjava-return-after-some-method-is-completed/49646675#49646675", "title": "RxJava - return after some method is completed", "body": "<p>You are making an asyncronous call inside a synchronous method. That won't work. You will have to put your code that you want to be executed after token request has been completed inside the rx chain. </p>\n\n<pre><code>class OAuthAuthenticator(\n        private val authStateManager: AuthStateManager,\n        private val authRepository: AuthRepository) : Authenticator {\n\n        override fun authenticate(route: Route?, response: Response?): Single&lt;Request&gt; {\n            // handle invalid token\n            if (response != null &amp;&amp; response.code() == 401) {\n                return Single.error(InvalidAccessTokenException(\"Invalid access token\"))\n            }\n\n            return Single.fromCallable { authRepository.refreshAccessToken() }\n                .subscribeOn(Schedulers.computation())\n                .map {\n                    return@map response?.request()!!\n                        .newBuilder()\n                        .header(\"Authorization\", \"Bearer \" +\n                                authStateManager.current.accessToken)\n                        .build()\n                }\n        }\n    }\n</code></pre>\n\n<p>And then you can call it like this:</p>\n\n<pre><code>val authenticator = OAuthAuthenticator(authStateManager, authRepository)\nval disposable = authenticator.authenticate(route, response)\n            .subscribe({ _ -&gt;\n                println(\"Token refreshed\")\n            }, { error -&gt;\n                if (error is InvalidAccessTokenException) {\n                    println(\"Invalid access token\")\n                } else {\n                    println(\"Could not refresh token. Signing out...\")\n                    authStateManager.signOut()\n                }\n            })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1522833626, "creation_date": 1522833626, "answer_id": 49647241, "question_id": 49645802, "link": "https://stackoverflow.com/questions/49645802/rxjava-return-after-some-method-is-completed/49647241#49647241", "title": "RxJava - return after some method is completed", "body": "<p>You can use <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Single.html#blockingGet--\" rel=\"nofollow noreferrer\"><code>blockingGet()</code></a> to make the <code>Single</code> synchronous. But that's not advised. But since you create the <code>Single</code> locally with</p>\n\n<pre><code>Single.fromCallable { authRepository.refreshAccessToken() }\n</code></pre>\n\n<p>you could just call the appropriate method directly without wrapping it with <em>Rx</em>.</p>\n\n<pre><code>if (response != null &amp;&amp; response.code() == 401) {\n    println(\"Invalid access token\")\n    try {\n        authRepository.refreshAccessToken()\n        println(\"Token refreshed\")\n    } catch(error: Throwable) {\n        println(\"Could not refresh token. Signing out...\")\n        authStateManager.signOut()\n        return null\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523278485, "creation_date": 1522829165, "last_edit_date": 1523278485, "question_id": 49645802, "link": "https://stackoverflow.com/questions/49645802/rxjava-return-after-some-method-is-completed", "title": "RxJava - return after some method is completed", "body": "<p>I am quite new to RxJava and I am tryign to implement and OAuth2 flow with refresh tokens in my Android/Kotlin app.</p>\n\n<p>I got a bit stuck with refreshing my access tokens inside an interceptor (I append access token for each API request inside an <code>OAuthAuthenticator</code>). The problem is that I would like to wait with populating the request until the token request is completed.</p>\n\n<p>Could someone hint me how to achieve this?</p>\n\n<p>This is my authenticator class:</p>\n\n<pre><code>class OAuthAuthenticator(\n        private val authStateManager: AuthStateManager,\n        private val authRepository: AuthRepository): Authenticator {\n\n    override fun authenticate(route: Route?, response: Response?): Request? {\n\n        // handle invalid token\n        if (response != null &amp;&amp; response.code() == 401) {\n            println(\"Invalid access token\")\n\n            authRepository.refreshToken()\n                    .subscribe { _ -&gt;\n                        println(\"Token refreshed\")\n                    }\n        }\n\n        // this should happen after the token request is completed since it would fail again otherwise\n        return response?.request()!!\n                .newBuilder()\n                .header(\"Authorization\", \"Bearer \" + authStateManager.current.accessToken)\n                .build()\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "kotlin", "spring-integration"], "answers": [{"tags": [], "owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "is_accepted": true, "score": 1, "last_activity_date": 1522840800, "creation_date": 1522840800, "answer_id": 49649658, "question_id": 49645747, "link": "https://stackoverflow.com/questions/49645747/spring-integration-downloading-only-new-or-updated-files-from-ftp-server/49649658#49649658", "title": "Spring Integration: downloading only new or updated files from FTP server?", "body": "<p>Alongside with the <code>FtpSimplePatternFileListFilter</code> you need to use also <code>AcceptOnceFileListFilter</code> for the remote part: <a href=\"https://docs.spring.io/spring-integration/docs/5.0.3.RELEASE/reference/html/ftp.html#ftp-inbound\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/5.0.3.RELEASE/reference/html/ftp.html#ftp-inbound</a>: </p>\n\n<blockquote>\n  <p>You can also combine a pattern based filter with other filters, such as an <code>AcceptOnceFileListFilter</code> to avoid synchronizing files that have previously been fetched, by using a <code>CompositeFileListFilter</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 23, "user_id": 9595204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSVSK.jpg?s=128&g=1", "display_name": "Peter Tsilko", "link": "https://stackoverflow.com/users/9595204/peter-tsilko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 753, "favorite_count": 0, "accepted_answer_id": 49649658, "answer_count": 1, "score": 1, "last_activity_date": 1522840800, "creation_date": 1522828890, "question_id": 49645747, "link": "https://stackoverflow.com/questions/49645747/spring-integration-downloading-only-new-or-updated-files-from-ftp-server", "title": "Spring Integration: downloading only new or updated files from FTP server?", "body": "<p>I'm using Spring Integration to write FTP-Client for getting files from remote FTP-Server. This service must download files with huge size so it's not optimal to download same file more than one time.</p>\n\n<p>Here is my configuration:</p>\n\n<pre><code>@Bean\nopen fun ftpSessionFactory() = DefaultFtpSessionFactory().apply {\n    setHost(env.getProperty(FTP_HOST))\n    setPort(env.getProperty(FTP_PORT)!!.toInt())\n    setUsername(env.getProperty(FTP_USER))\n    setPassword(env.getProperty(FTP_PASSWORD))\n}\n\n@Bean\nopen fun ftpInboundFileSynchronizer() = FtpInboundFileSynchronizer(\n    ftpSessionFactory()).apply {\n    setDeleteRemoteFiles(false)\n    setRemoteDirectory(env.getProperty(FTP_REMOTE_DIRECTORY))\n    setFilter(FtpSimplePatternFileListFilter(env.getProperty(FTP_FILTER)))\n}\n\n@Bean\n@InboundChannelAdapter(channel = \"ftpChannel\")\nopen fun ftpMessageSource() = FtpInboundFileSynchronizingMessageSource(\n    ftpInboundFileSynchronizer()).apply {\n    setLocalDirectory(File(env.getProperty(FTP_LOCAL_DIRECTORY)))\n    setAutoCreateLocalDirectory(true)\n    setLocalFilter(AcceptOnceFileListFilter&lt;File&gt;())\n    maxFetchSize = 1\n}\n\n@Bean(name = [(PollerMetadata.DEFAULT_POLLER)])\nopen fun defaultPoller() = PollerMetadata().apply {\n    maxMessagesPerPoll = 1\n}\n</code></pre>\n\n<p>Am I downloading all files that matches to FTP_FILTER or just changed?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 2, "creation_date": 1522828244, "post_id": 49645528, "comment_id": 86299147, "body": "If it&#39;s easiest for you, just do it! You can always break it up into multiple files later, if you need to."}, {"owner": {"reputation": 594, "user_id": 4796198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf2185da20004e8c40b8f0d495635dde?s=128&d=identicon&r=PG&f=1", "display_name": "M\u1ea1nh Ho&#224;ng Huynh", "link": "https://stackoverflow.com/users/4796198/m%e1%ba%a1nh-ho%c3%a0ng-huynh"}, "reply_to_user": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1522829654, "post_id": 49645528, "comment_id": 86299939, "body": "Thanks, I just want to know how every developer think about this, for my knowledge."}], "owner": {"reputation": 594, "user_id": 4796198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf2185da20004e8c40b8f0d495635dde?s=128&d=identicon&r=PG&f=1", "display_name": "M\u1ea1nh Ho&#224;ng Huynh", "link": "https://stackoverflow.com/users/4796198/m%e1%ba%a1nh-ho%c3%a0ng-huynh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "closed_date": 1522830399, "answer_count": 0, "score": 0, "last_activity_date": 1522828138, "creation_date": 1522828138, "question_id": 49645528, "link": "https://stackoverflow.com/questions/49645528/how-to-organize-model-class-right-way-in-kotlin", "closed_reason": "Duplicate", "title": "How to organize model class right way in Kotlin?", "body": "<p>newbie in Kotlin there\nI have read the document about data class (model class as my understanding) at <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/data-classes.html</a>\nAnd by this way, we can declare model class as below: </p>\n\n<pre><code>data class AModel(var title: String, var body: String) \n</code></pre>\n\n<p>Cool! It's so brief! So can I declare all model class in one file ? It's okay ? \nExample: </p>\n\n<pre><code>data class AModel(var title: String, var body: String)\ndata class BModel(var title: String, var body: String)\ndata class CModel(var title: String, var body: String)\ndata class DModel(var title: String, var body: String)\ndata class EModel(var title: String, var body: String)\n</code></pre>\n\n<p>As my idea, it's very easy to manage.<br>\nDo you think I should declare by this way? Positive and negative ? \nThanks all! </p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1522825852, "post_id": 49644820, "comment_id": 86297584, "body": "please clear your point, where are you changing data, from the server?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1522825960, "post_id": 49644820, "comment_id": 86297651, "body": "From UI, I Edit allList via a UI"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1522825982, "post_id": 49644820, "comment_id": 86297665, "body": "from another activity?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1522826047, "post_id": 49644820, "comment_id": 86297706, "body": "Yes. from another activity, and I use <code>public override fun onActivityResult</code> to handle result"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1522826162, "post_id": 49644820, "comment_id": 86297771, "body": "clear onemore point, you want to add more items in list or edit the previously added items?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1522826209, "post_id": 49644820, "comment_id": 86297793, "body": "I edit  previously item"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1522826327, "post_id": 49644820, "comment_id": 86297857, "body": "I think  the code <code>notifyDataSetChanged(); </code> should rebind the items by modified allList, but in fact, the system doesn&#39;t do it"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1522826371, "post_id": 49644820, "comment_id": 86297882, "body": "before adding a list to adapter in from onActivityResult(), clear the list and check and you can remove the notify."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1522826450, "post_id": 49644820, "comment_id": 86297940, "body": "Thanks! Could you show me some sample code?"}, {"owner": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "edited": false, "score": 0, "creation_date": 1523362710, "post_id": 49644820, "comment_id": 86521411, "body": "yes, @HelloCW as farhana said u have to clear list first and then you can add a new item to the list."}], "answers": [{"comments": [{"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1522826634, "post_id": 49645067, "comment_id": 86298051, "body": "and remember to check your list in the log in <code>onActivityResult()</code> whether it has data or not."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1522826673, "post_id": 49645067, "comment_id": 86298075, "body": "Thanks! but your code just like my Code C, I think that maybe there is a better way"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1522826761, "post_id": 49645067, "comment_id": 86298137, "body": "and I don&#39;t think you need to run <code>allList.clear()</code> because  <code>allList=SettingHandler().getListAllSetting()</code> will clear old data automatically"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1522826851, "post_id": 49645067, "comment_id": 86298182, "body": "is onActivityResult()  returing RESULT_OK?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1522827219, "post_id": 49645067, "comment_id": 86298441, "body": "If I edit a record successfully in another activity, and I will assign RESULT_OK and return it to main activity"}], "tags": [], "owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "is_accepted": false, "score": 2, "last_activity_date": 1522826556, "creation_date": 1522826556, "answer_id": 49645067, "question_id": 49644820, "link": "https://stackoverflow.com/questions/49644820/how-to-rebind-item-in-recyclerview-when-the-data-changed-in-kotlin/49645067#49645067", "title": "How to rebind item in RecyclerView when the data changed in Kotlin?", "body": "<p>Check this code,  </p>\n\n<pre><code>if (resultCode == RESULT_OK) {\n           allList.clear()\n           allList=SettingHandler().getListAllSetting()\n           mCustomAdapter= CustomAdapter(allList)\n           mRecyclerView.adapter= mCustomAdapter  \n           mCustomAdapter.setSelectedItem(selectedBackupItem) \n       }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1522827377, "post_id": 49645101, "comment_id": 86298551, "body": "I think the code <code>notifyDataSetChanged();</code> should rebind the items based modified allList, but in fact, the system doesn&#39;t do it"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1522827446, "post_id": 49645101, "comment_id": 86298602, "body": "And more, could you show me some sample code to use Data Binding using Observable pattern about my question ?"}], "tags": [], "owner": {"reputation": 10753, "user_id": 3159267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qXQnC.jpg?s=128&g=1", "display_name": "rajan.kali", "link": "https://stackoverflow.com/users/3159267/rajan-kali"}, "is_accepted": false, "score": 2, "last_activity_date": 1522826679, "creation_date": 1522826679, "answer_id": 49645101, "question_id": 49644820, "link": "https://stackoverflow.com/questions/49644820/how-to-rebind-item-in-recyclerview-when-the-data-changed-in-kotlin/49645101#49645101", "title": "How to rebind item in RecyclerView when the data changed in Kotlin?", "body": "<p>The problem is you are not using any <code>binding</code> which means when you modify <code>list</code>, <code>Adapter</code> won't be aware of that hence it simply displays old items, but once you notify <code>adapter</code> about changes in your list using <code>notifyDatasetChanged</code>, it will try to refresh items with new data. If you want to achieve functionality with <code>code D</code>, you need to use Data Binding using Observable pattern.For more information  <a href=\"https://medium.com/@ivan_m/data-binding-and-recyclerview-bf9a5d335a60\" rel=\"nofollow noreferrer\">RecyclerView and Data Binding</a></p>\n"}, {"tags": [], "owner": {"reputation": 485, "user_id": 6152620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daecc885567506a5a9d3484d05df9b39?s=128&d=identicon&r=PG&f=1", "display_name": "AbdulAli", "link": "https://stackoverflow.com/users/6152620/abdulali"}, "is_accepted": false, "score": 3, "last_activity_date": 1523244781, "creation_date": 1523244781, "answer_id": 49725135, "question_id": 49644820, "link": "https://stackoverflow.com/questions/49644820/how-to-rebind-item-in-recyclerview-when-the-data-changed-in-kotlin/49725135#49725135", "title": "How to rebind item in RecyclerView when the data changed in Kotlin?", "body": "<p>In your code D, you are <strong>overwriting the reference</strong> for allList.</p>\n\n<p>And the backupItemList in CustomAdapter has the reference for the same.\nSo if you reassign the reference for allList the changes will not be picked up in recycler view</p>\n\n<p>first make sure allList is mutable</p>\n\n<pre><code>val allList = mutableListOf&lt;MSetting&gt;()\n</code></pre>\n\n<p>then in code D</p>\n\n<pre><code>allList.clear()\nallList.addAll(SettingHandler().getListAllSetting())\nmCustomAdapter.notifyDataSetChanged()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "is_accepted": false, "score": 2, "last_activity_date": 1523344525, "last_edit_date": 1592644375, "creation_date": 1523344525, "answer_id": 49747580, "question_id": 49644820, "link": "https://stackoverflow.com/questions/49644820/how-to-rebind-item-in-recyclerview-when-the-data-changed-in-kotlin/49747580#49747580", "title": "How to rebind item in RecyclerView when the data changed in Kotlin?", "body": "<h1>Fragment Code</h1>\n<pre><code>private var adapter: RecentMovieAdapter? = null\n</code></pre>\n<p>Adapter is initialized in onCreateView method of fragment</p>\n<pre><code>adapter = RecentMovieAdapter(activity, this)\n</code></pre>\n<p>This is callback method in Fragment, which gets data from Server using Threading technique</p>\n<pre><code>override fun onDataReceived(randomDialog: List&lt;MovieModel&gt;) {\n    shimmerView!!.stopShimmerAnimation()\n    shimmerView!!.visibility = View.GONE\n    adapter!!.updateData(randomDialog)\n}\n</code></pre>\n<h1>Adapter Class Code</h1>\n<pre><code>private var movieList: MutableList&lt;MovieModel&gt; = mutableListOf&lt;MovieModel&gt;()\n</code></pre>\n<p>Add update function in Adapter class like this</p>\n<pre><code>fun updateData(data: List&lt;MovieModel&gt;) {\n    movieList.clear()\n    movieList.addAll(data)\n    notifyDataSetChanged()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1523371796, "post_id": 49751966, "comment_id": 86528412, "body": "Thanks! please see my modified question, Code C and Code D get the same result when I use <code>class CustomAdapter (var backupItemList: List)</code>"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1523371973, "post_id": 49751966, "comment_id": 86528537, "body": "When I init an instance of <code>CustomAdapter (var backupItemList: List)</code>, I think that a reference will be assigned to backupItemList, right?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1523372740, "post_id": 49751966, "comment_id": 86529063, "body": "And more, allList is List&lt;MSetting&gt; and it&#39;s not MutableList&lt;MSetting&gt;,  you can&#39;t invoke allList.clear() and allList.addAll()"}, {"owner": {"reputation": 1462, "user_id": 1041383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d276ec281841276894cff57721d07f?s=128&d=identicon&r=PG", "display_name": "civic.LiLister", "link": "https://stackoverflow.com/users/1041383/civic-lilister"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1523517402, "post_id": 49751966, "comment_id": 86595333, "body": "Replace val with var for property backupItemList: List is not a good practice, I think. Though it works for your current project. In functional programming, we should limit the usage of mutable data. We should try to make function pure. A var is something like a &quot;global&quot; variable. Which might be changed out of the adapter, and might cause strange bug that hard to fix."}], "tags": [], "owner": {"reputation": 1462, "user_id": 1041383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d276ec281841276894cff57721d07f?s=128&d=identicon&r=PG", "display_name": "civic.LiLister", "link": "https://stackoverflow.com/users/1041383/civic-lilister"}, "is_accepted": true, "score": 7, "last_activity_date": 1523358090, "creation_date": 1523358090, "answer_id": 49751966, "question_id": 49644820, "link": "https://stackoverflow.com/questions/49644820/how-to-rebind-item-in-recyclerview-when-the-data-changed-in-kotlin/49751966#49751966", "title": "How to rebind item in RecyclerView when the data changed in Kotlin?", "body": "<p>The secret maybe hide here:</p>\n\n<p>class CustomAdapter (val backupItemList: List)</p>\n\n<p>When you init an instance of CustomAdapter, the value is copied to property backupItemList, rather than assigned the reference. Therefore, when you change property allList of UIMain, the backupItemList won't change as you expected.</p>\n\n<p>The solution is simple, as Ganesh Tikone wrote: add an method to update backupItemList.</p>\n\n<pre><code>fun updateData(data: List&lt;MovieModel&gt;) {\n    backupItemList.clear()\n    backupItemList.addAll(data)\n    notifyDataSetChanged()\n}\n</code></pre>\n\n<p>and change Code D to:</p>\n\n<pre><code>//Code D     \n   if (resultCode == RESULT_OK) {\n      allList=SettingHandler().getListAllSetting()  \n      mCustomAdapter.updateData(allList)    \n      mCustomAdapter.setSelectedItem(selectedBackupItem)                \n   }  \n</code></pre>\n\n<p>Have a try.</p>\n"}, {"tags": [], "owner": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "is_accepted": false, "score": 6, "last_activity_date": 1606157666, "last_edit_date": 1606157666, "creation_date": 1523362717, "answer_id": 49753469, "question_id": 49644820, "link": "https://stackoverflow.com/questions/49644820/how-to-rebind-item-in-recyclerview-when-the-data-changed-in-kotlin/49753469#49753469", "title": "How to rebind item in RecyclerView when the data changed in Kotlin?", "body": "<p>In your Activity onCreate method</p>\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.layout_main)                \n    \n            allList = ArrayList&lt; MSetting&gt;()\n            mCustomAdapter = CustomAdapter(mChildList)\n            mRecyclerView.layoutManager = LinearLayoutManager(context)\n            mRecyclerView.adapter = mCustomAdapter\n    }\n</code></pre>\n<p>Now in onActivityResult</p>\n<pre><code>     public override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n\n           //Code C          \n           if (resultCode == RESULT_OK) {\n              if(data != null){\n                 allList.clear()\n                 allList.addAll(SettingHandler().getListAllSetting())\n                 mCustomAdapter.notifyDataSetChanged()\n                 mCustomAdapter.setSelectedItem(selectedBackupItem) \n              } \n           }\n        \n      }        \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 642, "user_id": 8968956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38cb5bfbfc38e6a3476baee2e3ec1222?s=128&d=identicon&r=PG&f=1", "display_name": "trinadh thatakula", "link": "https://stackoverflow.com/users/8968956/trinadh-thatakula"}, "is_accepted": false, "score": 1, "last_activity_date": 1523603587, "creation_date": 1523603587, "answer_id": 49811313, "question_id": 49644820, "link": "https://stackoverflow.com/questions/49644820/how-to-rebind-item-in-recyclerview-when-the-data-changed-in-kotlin/49811313#49811313", "title": "How to rebind item in RecyclerView when the data changed in Kotlin?", "body": "<p>yourAdapter().notifyDataSetChanged</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9336, "favorite_count": 1, "accepted_answer_id": 49751966, "answer_count": 7, "score": 7, "last_activity_date": 1606157666, "creation_date": 1522825631, "last_edit_date": 1523371636, "question_id": 49644820, "link": "https://stackoverflow.com/questions/49644820/how-to-rebind-item-in-recyclerview-when-the-data-changed-in-kotlin", "title": "How to rebind item in RecyclerView when the data changed in Kotlin?", "body": "<p>I customize a RecyclerView class which will display the content of <code>val backupItemList: List&lt;MSetting&gt;</code> in Kotlin in Code B</p>\n\n<p>Now I modify the data of backupItemList outside  RecyclerView class, I think the Code D  will display the latest data in UI, but I failed, the UI is still to display old data.\nI have to use Code C to display the latest data.</p>\n\n<p>What's wrong with the Code D?</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>class UIMain : AppCompatActivity() {\n   override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.layout_main)                       \n\n        allList= SettingHandler().getListAllSetting()            \n\n        mRecyclerView.layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL, false)\n        mCustomAdapter= CustomAdapter(allList)\n        mRecyclerView.adapter= mCustomAdapter\n\n\n   }\n\n\n   public override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n       //Code C          \n       if (resultCode == RESULT_OK) {\n           allList=SettingHandler().getListAllSetting()\n           mCustomAdapter= CustomAdapter(allList)\n           mRecyclerView.adapter= mCustomAdapter\n           mCustomAdapter.notifyDataSetChanged()\n           mCustomAdapter.setSelectedItem(selectedBackupItem)  \n       }\n\n\n       //Code D     \n       if (resultCode == RESULT_OK) {\n          allList=SettingHandler().getListAllSetting()                \n          mCustomAdapter.setSelectedItem(selectedBackupItem)                \n       }         \n\n   }        \n\n}\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>  class CustomAdapter (val backupItemList: List&lt;MSetting&gt;) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n        val noRecord=-1\n        private var mSelectedItem = noRecord\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n            val v = LayoutInflater.from(parent.context).inflate(R.layout.item_recyclerview, parent, false)\n            return ViewHolder(v)\n        }\n\n        fun getSelectedItem():Int{\n            return  mSelectedItem\n        }\n\n        fun setSelectedItem(index:Int){\n            if (index in 0..(backupItemList.size-1) ){\n                mSelectedItem=index\n                notifyDataSetChanged();\n            }\n\n        }\n\n        override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n            holder.bindItems(backupItemList[position])\n        }\n\n        override fun getItemCount(): Int {\n            return backupItemList.size\n        }\n\n        inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n            fun bindItems(aMSetting: MSetting) {\n                itemView.tvSubject.text=aMSetting.name\n                itemView.tvCreatedDate.text=aMSetting.createdDate.toDateString()\n                itemView.tvDescription.text=aMSetting.description   \n                itemView.radioButton.setOnClickListener {\n                mSelectedItem=adapterPosition\n                notifyDataSetChanged();\n            }\n\n            if(adapterPosition == 0 &amp;&amp; mSelectedItem == noRecord) {             \n                itemView.radioButton.isChecked = true\n                mSelectedItem=adapterPosition\n            }\n            else {\n                itemView.radioButton.isChecked =(adapterPosition == mSelectedItem)\n            }       \n            }\n\n        }\n\n    }\n</code></pre>\n\n<p><strong>To civic.LiLister:</strong></p>\n\n<p>Both Code C And Code D get the same result if I use Code E (I replace val with var),why?</p>\n\n<p><strong>Code E</strong></p>\n\n<pre><code>  class CustomAdapter (var backupItemList: List&lt;MSetting&gt;) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n        val noRecord=-1\n        private var mSelectedItem = noRecord\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n            val v = LayoutInflater.from(parent.context).inflate(R.layout.item_recyclerview, parent, false)\n            return ViewHolder(v)\n        }\n\n        fun getSelectedItem():Int{\n            return  mSelectedItem\n        }\n\n        fun setSelectedItem(index:Int){\n            if (index in 0..(backupItemList.size-1) ){\n                mSelectedItem=index\n                notifyDataSetChanged();\n            }\n\n        }\n\n        override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n            holder.bindItems(backupItemList[position])\n        }\n\n        override fun getItemCount(): Int {\n            return backupItemList.size\n        }\n\n        inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n            fun bindItems(aMSetting: MSetting) {\n                itemView.tvSubject.text=aMSetting.name\n                itemView.tvCreatedDate.text=aMSetting.createdDate.toDateString()\n                itemView.tvDescription.text=aMSetting.description   \n                itemView.radioButton.setOnClickListener {\n                mSelectedItem=adapterPosition\n                notifyDataSetChanged();\n            }\n\n            if(adapterPosition == 0 &amp;&amp; mSelectedItem == noRecord) {             \n                itemView.radioButton.isChecked = true\n                mSelectedItem=adapterPosition\n            }\n            else {\n                itemView.radioButton.isChecked =(adapterPosition == mSelectedItem)\n            }       \n            }\n\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 2, "creation_date": 1522819044, "post_id": 49643265, "comment_id": 86294143, "body": "AFAIK it will be compiled to an if, since on the JVM you can&#39;t <code>switch</code> on anything that isn&#39;t an enum, a <code>String</code> or a primitive, so, there shouldn&#39;t be a difference."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1522863272, "post_id": 49643265, "comment_id": 86323219, "body": "You could also do <code>val someNumber = someObject?.let { someCalculation() } ?: 0</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1864, "user_id": 4253952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q5GrM.jpg?s=128&g=1", "display_name": "Aba", "link": "https://stackoverflow.com/users/4253952/aba"}, "edited": false, "score": 0, "creation_date": 1522824106, "post_id": 49643802, "comment_id": 86296475, "body": "Thanks for the quick response! It does feel kinda weird for me to mark this as an answer cause it&#39;s like saying, &quot;Yes, you are correct!&quot;. But given the explanation, I&#39;m pretty sure it is. :D"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1522824796, "post_id": 49643802, "comment_id": 86296914, "body": "Well elaborate."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 3, "creation_date": 1522832654, "post_id": 49643802, "comment_id": 86301828, "body": "I&#39;ll add that <code>when</code> isn&#39;t <i>always</i> compiled to an <code>if</code> chain: depending on cases, it could be a <code>switch</code>, which is generally faster!"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 20, "last_activity_date": 1522842278, "last_edit_date": 1522842278, "creation_date": 1522821449, "answer_id": 49643802, "question_id": 49643265, "link": "https://stackoverflow.com/questions/49643265/any-performance-cost-with-using-when-instead-of-if-else/49643802#49643802", "title": "Any performance cost with using &quot;when&quot; instead of &quot;if-else&quot;?", "body": "<p><strong>tl;dr: No you should not expect <code>when</code> to slow anything down.</strong></p>\n\n<p>The compiler reuses if/else, switch and ternary operator constructs in order to express <code>when</code> statements. Take this example:</p>\n\n<pre><code>fun whenApplication(someObject: String?) = when (someObject) {\n    null -&gt; 0\n    else -&gt; 2\n}\n</code></pre>\n\n<p>And its bytecode shown as Java code:</p>\n\n<pre><code>public static final int whenApplication(@Nullable String someObject) {\n   return someObject == null ? 0 : 2;\n}\n</code></pre>\n\n<p>Slightly more complex when-tests are shown here:</p>\n\n<pre><code>fun whenApplication(someObject: Any?) = when (someObject) {\n    is Int -&gt; 2\n    in 0..2 -&gt; 4\n    else -&gt; 5\n}\n</code></pre>\n\n<p>And the corresponding bytecode as Java:</p>\n\n<pre><code>public static final int whenApplication(@Nullable Object someObject) {\n    int var10000;\n    if (someObject instanceof Integer) {\n       var10000 = 2;\n    } else {\n       byte var2 = 0;\n       var10000 = CollectionsKt.contains((Iterable)(new IntRange(var2, 2)), someObject) ? 4 : 5;\n    }\n\n    return var10000;\n}\n</code></pre>\n"}], "owner": {"reputation": 1864, "user_id": 4253952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q5GrM.jpg?s=128&g=1", "display_name": "Aba", "link": "https://stackoverflow.com/users/4253952/aba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3359, "favorite_count": 1, "accepted_answer_id": 49643802, "answer_count": 1, "score": 10, "last_activity_date": 1522842278, "creation_date": 1522818843, "question_id": 49643265, "link": "https://stackoverflow.com/questions/49643265/any-performance-cost-with-using-when-instead-of-if-else", "title": "Any performance cost with using &quot;when&quot; instead of &quot;if-else&quot;?", "body": "<p>While developing, I've found that using <code>when</code> looks nicer a lot of the times compared to <code>if-else</code>. So, I'm curious whether using <code>when</code> instead of the typical <code>if-else</code> in simple situations have a performance impact (even if it's small). An example is doing:</p>\n\n<pre><code>val someNumber = when (someObject) {\n    null -&gt; 0\n    else -&gt; someCalculation()\n}\n</code></pre>\n\n<p>versus</p>\n\n<pre><code>val someNumber = if (someObject == null) {\n    0\n} else {\n    someCalculation()\n}\n</code></pre>\n\n<p>Is there a performance difference between the two?</p>\n"}, {"tags": ["android", "firebase", "push-notification", "notifications", "kotlin"], "comments": [{"owner": {"reputation": 144, "user_id": 1280982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1591fd24d938da25308fea9188dde5f9?s=128&d=identicon&r=PG", "display_name": "\u0650Amin", "link": "https://stackoverflow.com/users/1280982/%d9%90amin"}, "edited": false, "score": 0, "creation_date": 1523122135, "post_id": 49642592, "comment_id": 86433561, "body": "The problem was in importance, why it&#39;s not show if the importance is NotificationManager.IMPORTANCE_DEFAULT?"}], "answers": [{"comments": [{"owner": {"reputation": 765, "user_id": 9019332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbcaN.jpg?s=128&g=1", "display_name": "global_warming", "link": "https://stackoverflow.com/users/9019332/global-warming"}, "edited": false, "score": 0, "creation_date": 1522818254, "post_id": 49642888, "comment_id": 86293854, "body": "Care to explain?"}, {"owner": {"reputation": 2208, "user_id": 7329667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqoMd.jpg?s=128&g=1", "display_name": "Deep Patel", "link": "https://stackoverflow.com/users/7329667/deep-patel"}, "reply_to_user": {"reputation": 765, "user_id": 9019332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbcaN.jpg?s=128&g=1", "display_name": "global_warming", "link": "https://stackoverflow.com/users/9019332/global-warming"}, "edited": false, "score": 0, "creation_date": 1522818334, "post_id": 49642888, "comment_id": 86293875, "body": "I had already added comments for the functions, still if you are not getting something. Let me know the doubt. I will explain it to you."}, {"owner": {"reputation": 2208, "user_id": 7329667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqoMd.jpg?s=128&g=1", "display_name": "Deep Patel", "link": "https://stackoverflow.com/users/7329667/deep-patel"}, "reply_to_user": {"reputation": 765, "user_id": 9019332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbcaN.jpg?s=128&g=1", "display_name": "global_warming", "link": "https://stackoverflow.com/users/9019332/global-warming"}, "edited": false, "score": 0, "creation_date": 1522819215, "post_id": 49642888, "comment_id": 86294208, "body": "Check now. Each line is explained. Still any doubts then please specify"}, {"owner": {"reputation": 765, "user_id": 9019332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbcaN.jpg?s=128&g=1", "display_name": "global_warming", "link": "https://stackoverflow.com/users/9019332/global-warming"}, "edited": false, "score": 0, "creation_date": 1522819498, "post_id": 49642888, "comment_id": 86294308, "body": "Should I replace my whole code with yours? And what is wrong with the <code>sendNotification()</code> method in question?"}, {"owner": {"reputation": 2208, "user_id": 7329667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqoMd.jpg?s=128&g=1", "display_name": "Deep Patel", "link": "https://stackoverflow.com/users/7329667/deep-patel"}, "reply_to_user": {"reputation": 765, "user_id": 9019332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbcaN.jpg?s=128&g=1", "display_name": "global_warming", "link": "https://stackoverflow.com/users/9019332/global-warming"}, "edited": false, "score": 0, "creation_date": 1522819603, "post_id": 49642888, "comment_id": 86294344, "body": "If you will compare few of the properties are missing to get set, will be better if you replace my code with yours and try."}, {"owner": {"reputation": 2208, "user_id": 7329667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqoMd.jpg?s=128&g=1", "display_name": "Deep Patel", "link": "https://stackoverflow.com/users/7329667/deep-patel"}, "reply_to_user": {"reputation": 765, "user_id": 9019332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbcaN.jpg?s=128&g=1", "display_name": "global_warming", "link": "https://stackoverflow.com/users/9019332/global-warming"}, "edited": false, "score": 0, "creation_date": 1522819725, "post_id": 49642888, "comment_id": 86294393, "body": "NotificationCompat.Builder(this, &quot;channelId&quot;) For non-Oreo devices also you mentioned such constructor. For lower versions if may not work as well. So I think you should give my code a try"}, {"owner": {"reputation": 765, "user_id": 9019332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbcaN.jpg?s=128&g=1", "display_name": "global_warming", "link": "https://stackoverflow.com/users/9019332/global-warming"}, "edited": false, "score": 0, "creation_date": 1522820533, "post_id": 49642888, "comment_id": 86294706, "body": "I don&#39;t think this is answered in question&#39;s context. Also <code>NotificationCompat.Builder (Context context)</code> is deprecated. You can ask OP if he is using non Oreo device for testing, is it a device specific issue or something like that."}, {"owner": {"reputation": 2208, "user_id": 7329667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqoMd.jpg?s=128&g=1", "display_name": "Deep Patel", "link": "https://stackoverflow.com/users/7329667/deep-patel"}, "reply_to_user": {"reputation": 765, "user_id": 9019332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbcaN.jpg?s=128&g=1", "display_name": "global_warming", "link": "https://stackoverflow.com/users/9019332/global-warming"}, "edited": false, "score": 0, "creation_date": 1522820691, "post_id": 49642888, "comment_id": 86294770, "body": "if it is deprecated, it will display a strike out in my android studio 3.1. Also my code is for all devices, so by using that i don&#39;t think there will be  a device specific issue."}, {"owner": {"reputation": 144, "user_id": 1280982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1591fd24d938da25308fea9188dde5f9?s=128&d=identicon&r=PG", "display_name": "\u0650Amin", "link": "https://stackoverflow.com/users/1280982/%d9%90amin"}, "edited": false, "score": 0, "creation_date": 1523117698, "post_id": 49642888, "comment_id": 86432157, "body": "What is about mBuilder ?"}, {"owner": {"reputation": 2208, "user_id": 7329667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqoMd.jpg?s=128&g=1", "display_name": "Deep Patel", "link": "https://stackoverflow.com/users/7329667/deep-patel"}, "edited": false, "score": 0, "creation_date": 1523118087, "post_id": 49642888, "comment_id": 86432269, "body": "That&#39;s an object of notification builder.. i had edited answer please check now. There was a typo."}, {"owner": {"reputation": 144, "user_id": 1280982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1591fd24d938da25308fea9188dde5f9?s=128&d=identicon&r=PG", "display_name": "\u0650Amin", "link": "https://stackoverflow.com/users/1280982/%d9%90amin"}, "edited": false, "score": 0, "creation_date": 1523122147, "post_id": 49642888, "comment_id": 86433568, "body": "The problem was in importance, why it&#39;s not show if the importance is NotificationManager.IMPORTANCE_DEFAULT?"}], "tags": [], "owner": {"reputation": 2208, "user_id": 7329667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqoMd.jpg?s=128&g=1", "display_name": "Deep Patel", "link": "https://stackoverflow.com/users/7329667/deep-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1523118043, "last_edit_date": 1523118043, "creation_date": 1522816669, "answer_id": 49642888, "question_id": 49642592, "link": "https://stackoverflow.com/questions/49642592/kotlin-firebasemessigingservice-is-recive-the-message-but-the-notification-is/49642888#49642888", "title": "Kotlin : FirebaseMessigingService is recive the message, but the notification is not shows", "body": "<pre><code> public class MyFireBaseMessagingService extends FirebaseMessagingService {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    /**\n     * Called when message is received.\n     *\n     * @param remoteMessage Object representing the message received from Firebase Cloud Messaging.\n     */\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        Log.e(\"Notification\", \"From : \" + remoteMessage.getFrom());\n        Log.e(\"Notification\", \"Data : \" + remoteMessage.getData().toString());\n        String type = remoteMessage.getData().get(\"notificationType\");\n        try {\n            sendNotification(remoteMessage);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    /**\n     * Create and show a simple notification containing the received FCM message.\n     */\n    private void sendNotification(RemoteMessage remoteMessage) throws UnsupportedEncodingException {\n        String title, message;\n        title = getString(R.string.app_name);\n        message = \"\" + remoteMessage.getData().get(\"text\"); //instead of text you can have your key getting received in notification\n\n       // Pending intent will perform redirection on clicking Notification\n\n        Intent intent = new Intent(this, MainActivity.class);\n        intent.putExtra(\"fromNotification\", true);\n        PendingIntent contentIntent = PendingIntent.getActivity(this,\n                (int) System.currentTimeMillis(), intent,\n                PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_ONE_SHOT\n                        | PendingIntent.FLAG_CANCEL_CURRENT);\n\n\n        // Let's create notification to be displayed\n\n\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this);\n        NotificationCompat.BigPictureStyle notiStyle = new NotificationCompat.BigPictureStyle();\n        notiStyle.setSummaryText(message);\n        Bitmap remotePicture = null;     // This will be used only when you will have image url in notification and want to display image as a notification.\n\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION); // incase you want to set your custom sound for notification\n\n        notificationBuilder\n                .setSmallIcon(R.drawable.ic_notification_icon)\n                .setContentTitle(title)\n                .setContentText(message)\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\n                .setColor(ContextCompat.getColor(getApplicationContext(), R.color.app_purple))\n                .setAutoCancel(true)\n                .setSound(defaultSoundUri)\n                .setContentIntent(contentIntent);\n\n     // If there is an image URL to be displayed, get the bitmap from URL and pass it to notification builder\n\n          if (remoteMessage.getData().containsKey(\"image\")) {  \n                try {\n                    remotePicture = BitmapFactory.decodeStream((InputStream) new URL(remoteMessage.getData().get(\"image\")).getContent());\n                    notiStyle.bigPicture(remotePicture);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                if (remotePicture != null) notificationBuilder.setStyle(notiStyle);\n            }\n\n            NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n      // If you are using device with OS OREO or ABOVE\n\n       if (VERSION.SDK_INT &gt;= VERSION_CODES.O) {\n            String channelId = \"your_app_notificaiton_channel_id\";\n            CharSequence channelName = \"Your App Channel\";\n            int importance = NotificationManager.IMPORTANCE_HIGH;\n            NotificationChannel notificationChannel = new NotificationChannel(channelId, channelName, importance);\n            notificationChannel.enableLights(true);\n            notificationChannel.setLightColor(Color.RED);\n            notificationChannel.enableVibration(true);\n            notificationChannel.setShowBadge(true);\n\n            AudioAttributes audioAttributes = new AudioAttributes.Builder()\n                    .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\n                    .setUsage(AudioAttributes.USAGE_NOTIFICATION_RINGTONE)\n                    .build();\n\n            notificationChannel.setSound(soundUri, audioAttributes);\n            notificationChannel.setVibrationPattern(new long[]{100, 200, 300, 400, 500, 400, 300, 200, 400});\n            assert mNotificationManager != null;\n            notificationManager .createNotificationChannel(notificationChannel);\n            notificationBuilder.setChannelId(channelId);\n        }\n\n        notificationManager.notify((int) System.currentTimeMillis() /* ID of notification */, notificationBuilder.build());\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 1280982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1591fd24d938da25308fea9188dde5f9?s=128&d=identicon&r=PG", "display_name": "\u0650Amin", "link": "https://stackoverflow.com/users/1280982/%d9%90amin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1244, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1523118043, "creation_date": 1522814790, "last_edit_date": 1522824745, "question_id": 49642592, "link": "https://stackoverflow.com/questions/49642592/kotlin-firebasemessigingservice-is-recive-the-message-but-the-notification-is", "title": "Kotlin : FirebaseMessigingService is recive the message, but the notification is not shows", "body": "<p>I create a service extend FirebaseMessiginService, The receive is expected to receive the data notification. </p>\n\n<p>The onMessageReceived is receive data payload well and extract the data correctly. then calling sendNotifcation(). but nothing the notification is not shown.</p>\n\n<p>This is my sendNotification function</p>\n\n<pre><code>private fun sendNotification(item: Item) {\n\n    val intent = Intent(this, ItemNotificationActivity::class.java)\n\n    intent.putExtra(ItemDetailFragment.ARG_ITEM, item)\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_SINGLE_TOP)\n    intent.setAction( System.currentTimeMillis().toString())\n\n    val pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\n            PendingIntent.FLAG_ONE_SHOT)\n\n    //        String channelId = getString(R.string.default_notification_channel_id);\n    val defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION)\n    val notificationBuilder = NotificationCompat.Builder(this, \"channelId\")\n            .setSmallIcon(R.drawable.ic_new_releases_black_24dp\n            )\n            .setContentTitle(getString(R.string.app_name))\n            .setContentText(item.title.trim())\n                                    .setAutoCancel(true)\n                                    .setSound(defaultSoundUri)\n            .setContentIntent(pendingIntent)\n\n    val notificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n\n    // Since android Oreo notification channel is needed.\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        val channel = NotificationChannel(\"channelId\" + item.id,\n                item.title,\n                NotificationManager.IMPORTANCE_DEFAULT)\n        notificationManager.createNotificationChannel(channel)\n    }\n    val notification = notificationBuilder.build()\n    notification.flags = notification.flags or Notification.FLAG_AUTO_CANCEL\n\n    notificationManager.notify(item.id /* ID of notification */, notification)\n}\n</code></pre>\n\n<p>What is wrong in my sendNotification? </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1522811054, "post_id": 49642035, "comment_id": 86291725, "body": "Images of code are absolutely useless. See <a href=\"https://meta.stackoverflow.com/a/285557/62576\">this Meta post</a> for a list of the many reasons why you should avoid posting images. Code and errors are in text, and should be posted as such. When you created your account here, it was suggested you take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read the <a href=\"https://stackoverflow.com/help\">help center</a> pages in order to familiarize yourself with this site. Please do so, especially <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, before posting your next question here."}, {"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1522811424, "post_id": 49642035, "comment_id": 86291816, "body": "@KenWhite - thanks for the meta post link. Adding to my SO notes (and just used it with another question)."}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "reply_to_user": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 1, "creation_date": 1522811658, "post_id": 49642035, "comment_id": 86291889, "body": "@DavidMakogon: You&#39;re welcome. It seems to be used pretty frequently by quite a few people. Shame that there&#39;s no rep for <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a>. :-)"}, {"owner": {"reputation": 11149, "user_id": 706628, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/NICFY.jpg?s=128&g=1", "display_name": "Barry Fruitman", "link": "https://stackoverflow.com/users/706628/barry-fruitman"}, "edited": false, "score": 2, "creation_date": 1542303343, "post_id": 49642035, "comment_id": 93530473, "body": "This is a perfectly valid question: it contains a code sample, an error message, and a question about the error message. It also produced a clear and usable answer. The user even read the first comment and replaced the image with text.  What more do you want? It shouldn&#39;t have been closed. Typical SO users with 50k+ picking on a newbie."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7984759, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hdVsfrEEBe4/AAAAAAAAAAI/AAAAAAAAAAs/DVh6O89OPwo/photo.jpg?sz=128", "display_name": "IC ice", "link": "https://stackoverflow.com/users/7984759/ic-ice"}, "edited": false, "score": 1, "creation_date": 1522823973, "post_id": 49644049, "comment_id": 86296396, "body": "thank you very much"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1522822564, "creation_date": 1522822564, "answer_id": 49644049, "question_id": 49642035, "link": "https://stackoverflow.com/questions/49642035/kotlin-how-to-create-a-inner-enum-class-to-get-some-property-from-outer-class/49644049#49644049", "title": "Kotlin! How to create a inner enum class to get some property from outer class?", "body": "<p>Enum constants need to exist without having to be initialized explicitly, whereas the surrounding class <code>OutA</code> needs to be created first. You cannot access non-static values from static contexts. Making the class a singleton, i.e. an <code>object</code>, will make the code compile though:</p>\n\n<pre><code>object OutA {\n    var var1 = \"\"\n\n    enum class A2 {\n        ;\n        init {\n            print(var1)\n        }\n    }\n}\n</code></pre>\n\n<p>This works because an instance (the only one) of <code>OutA</code> is being created by the compiler and its <code>var1</code> will be available for the enum to access.</p>\n"}], "owner": {"reputation": 29, "user_id": 7984759, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hdVsfrEEBe4/AAAAAAAAAAI/AAAAAAAAAAs/DVh6O89OPwo/photo.jpg?sz=128", "display_name": "IC ice", "link": "https://stackoverflow.com/users/7984759/ic-ice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 0, "closed_date": 1523474534, "accepted_answer_id": 49644049, "answer_count": 1, "score": -5, "last_activity_date": 1522822564, "creation_date": 1522810739, "last_edit_date": 1522811613, "question_id": 49642035, "link": "https://stackoverflow.com/questions/49642035/kotlin-how-to-create-a-inner-enum-class-to-get-some-property-from-outer-class", "closed_reason": "Needs details or clarity", "title": "Kotlin! How to create a inner enum class to get some property from outer class?", "body": "<p>I hava try it by two conditions A2 and A3.</p>\n\n<pre><code>class OutA {\n\n    var var1 = \"\"\n\n    inner class A {\n        init {\n            print(var1)\n        }\n    }\n\n    enum class A2 {\n        ;\n\n        init {\n        print(var1)//unresolved reference:var1\n        }\n    }\n\n    inner enum class A3 {//Modifier 'inner' is not applicable to 'enum class'\n        ;\n\n        init {\n            print(var1)\n        }\n    }\n}\n</code></pre>\n\n<p>they are all can't compile well.</p>\n\n<p>In conditions of A2, it say <code>unresolved reference:var1</code> and another condition it say <code>Modifier 'inner' is not applicable to</code>.</p>\n"}, {"tags": ["android", "kotlin", "picasso"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1522825074, "post_id": 49641866, "comment_id": 86297089, "body": "Remove <code>null</code> . Try with <code>viewHolder.image?.setBackgroundColor(ResourcesCompat.getColo&zwnj;&#8203;r(context.resources, R.color.colorPrimary))</code> and Check Your IMAGE"}], "answers": [{"comments": [{"owner": {"reputation": 1247, "user_id": 4284745, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-PPay30ot1_k/AAAAAAAAAAI/AAAAAAAAAFM/j7wqJ8SG30g/photo.jpg?sz=128", "display_name": "Dimitri Danilov", "link": "https://stackoverflow.com/users/4284745/dimitri-danilov"}, "edited": false, "score": 0, "creation_date": 1522810110, "post_id": 49641934, "comment_id": 86291519, "body": "It isn&#39;t my problem.actually, I want to transform the white background of the picture to another color."}, {"owner": {"reputation": 1121, "user_id": 5261361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCqtO.jpg?s=128&g=1", "display_name": "Akshay Nandwana", "link": "https://stackoverflow.com/users/5261361/akshay-nandwana"}, "edited": false, "score": 0, "creation_date": 1522811083, "post_id": 49641934, "comment_id": 86291731, "body": "What do you mean by Transform? Is it like when the image loads in imageView then white changes to some other color?"}, {"owner": {"reputation": 835, "user_id": 4491576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pasrj.png?s=128&g=1", "display_name": "Amrish Kakadiya", "link": "https://stackoverflow.com/users/4491576/amrish-kakadiya"}, "edited": false, "score": 0, "creation_date": 1522811477, "post_id": 49641934, "comment_id": 86291826, "body": "If you want to transform white color to your colorPrimary then why you loading white image from network via picasso? just set src of ImageView to colorPrimary"}, {"owner": {"reputation": 1247, "user_id": 4284745, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-PPay30ot1_k/AAAAAAAAAAI/AAAAAAAAAFM/j7wqJ8SG30g/photo.jpg?sz=128", "display_name": "Dimitri Danilov", "link": "https://stackoverflow.com/users/4284745/dimitri-danilov"}, "reply_to_user": {"reputation": 1121, "user_id": 5261361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCqtO.jpg?s=128&g=1", "display_name": "Akshay Nandwana", "link": "https://stackoverflow.com/users/5261361/akshay-nandwana"}, "edited": false, "score": 0, "creation_date": 1522811795, "post_id": 49641934, "comment_id": 86291932, "body": "@anandwana001 No, I want to make the white bakckground color of my image to my primary color one. I edited my question."}, {"owner": {"reputation": 1121, "user_id": 5261361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCqtO.jpg?s=128&g=1", "display_name": "Akshay Nandwana", "link": "https://stackoverflow.com/users/5261361/akshay-nandwana"}, "edited": false, "score": 3, "creation_date": 1522811988, "post_id": 49641934, "comment_id": 86291984, "body": "are your images png (without any background)? DId you check your image width and height? if your image cover whole imageView then you cannot show primary color!"}, {"owner": {"reputation": 835, "user_id": 4491576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pasrj.png?s=128&g=1", "display_name": "Amrish Kakadiya", "link": "https://stackoverflow.com/users/4491576/amrish-kakadiya"}, "reply_to_user": {"reputation": 1121, "user_id": 5261361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCqtO.jpg?s=128&g=1", "display_name": "Akshay Nandwana", "link": "https://stackoverflow.com/users/5261361/akshay-nandwana"}, "edited": false, "score": 1, "creation_date": 1522812403, "post_id": 49641934, "comment_id": 86292086, "body": "@anandwana001 is right, please check your images are not transparent. Your images having white background."}], "tags": [], "owner": {"reputation": 835, "user_id": 4491576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pasrj.png?s=128&g=1", "display_name": "Amrish Kakadiya", "link": "https://stackoverflow.com/users/4491576/amrish-kakadiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1522809867, "creation_date": 1522809867, "answer_id": 49641934, "question_id": 49641866, "link": "https://stackoverflow.com/questions/49641866/change-background-color-of-imageview/49641934#49641934", "title": "Change background color of ImageView", "body": "<p>you need to use <strong>placeholder</strong> to show any image or color before image loads.</p>\n\n<pre><code>.placeholder(R.color.colorPrimary)\n</code></pre>\n"}], "owner": {"reputation": 1247, "user_id": 4284745, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-PPay30ot1_k/AAAAAAAAAAI/AAAAAAAAAFM/j7wqJ8SG30g/photo.jpg?sz=128", "display_name": "Dimitri Danilov", "link": "https://stackoverflow.com/users/4284745/dimitri-danilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1263, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522811709, "creation_date": 1522809330, "last_edit_date": 1522811709, "question_id": 49641866, "link": "https://stackoverflow.com/questions/49641866/change-background-color-of-imageview", "title": "Change background color of ImageView", "body": "<p>I load image into ImageView by using Picasso.</p>\n\n<p>But problem is, when I load the image, it has a white background and my application background has another color. I want to transform the white color of the image I load to the primary color of my application.</p>\n\n<p>This is my code but it doesn't work, I can't guess why.</p>\n\n<pre><code>picasso.load(data[i].image)//download URL\n        .fit()\n        .centerInside()\n        .error(R.drawable.com_facebook_profile_picture_blank_portrait)//if failed\n        .into(viewHolder.image)\nviewHolder.image?.setBackgroundColor(ResourcesCompat.getColor(context.resources, R.color.colorPrimary, null))\n</code></pre>\n\n<p>This is my xml : </p>\n\n<pre><code>&lt;ImageView\n    android:id=\"@+id/item_image\"\n    android:layout_width=\"100dp\"\n    android:layout_height=\"80dp\"\n    android:background=\"@color/colorPrimary\"\n    android:src=\"@drawable/com_facebook_profile_picture_blank_portrait\"\n    app:layout_constraintEnd_toEndOf=\"@id/inventory_item_guideline\"/&gt;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/UYJ83.png\" alt=\"enter image description here\"></p>\n\n<p>I want to change the white background to my primary color one.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1165, "user_id": 4145397, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/NP13i.jpg?s=128&g=1", "display_name": "92AlanC", "link": "https://stackoverflow.com/users/4145397/92alanc"}, "is_accepted": false, "score": 3, "last_activity_date": 1522809224, "creation_date": 1522809224, "answer_id": 49641851, "question_id": 49641798, "link": "https://stackoverflow.com/questions/49641798/android-kotlin-view-width-set-error-val-cannot-be-reassigned/49641851#49641851", "title": "Android Kotlin View width set error &quot;Val cannot be reassigned&quot;", "body": "<p>In order to set a view's width programmatically you should change its width in its layout params, like the example below:</p>\n\n<pre><code>val layoutParams = shadowView.layoutParams\nlayoutParams.width = 200\nshadowView.layoutParams = layoutParams\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 7, "last_activity_date": 1522809386, "creation_date": 1522809386, "answer_id": 49641871, "question_id": 49641798, "link": "https://stackoverflow.com/questions/49641798/android-kotlin-view-width-set-error-val-cannot-be-reassigned/49641871#49641871", "title": "Android Kotlin View width set error &quot;Val cannot be reassigned&quot;", "body": "<p>Simply</p>\n\n<pre><code>shadowView.layoutParams.width = 200\n</code></pre>\n"}], "owner": {"reputation": 3587, "user_id": 6021927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KbskS.jpg?s=128&g=1", "display_name": "Jayakrishnan", "link": "https://stackoverflow.com/users/6021927/jayakrishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1519, "favorite_count": 0, "accepted_answer_id": 49641871, "answer_count": 2, "score": 4, "last_activity_date": 1522809386, "creation_date": 1522808770, "question_id": 49641798, "link": "https://stackoverflow.com/questions/49641798/android-kotlin-view-width-set-error-val-cannot-be-reassigned", "title": "Android Kotlin View width set error &quot;Val cannot be reassigned&quot;", "body": "<p>In Kotlin i am getting IDE error saying \"<strong>Val cannot be reassigned</strong>\" when i try to set width programmatically, Please see the code written in the onCreate() of Activity class,</p>\n\n<pre><code>shadowView.width = 200\n</code></pre>\n\n<p>Here <strong>shadowView</strong> is a View added in the layout</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "owner": {"reputation": 41, "user_id": 6347686, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c3b8a1f97944eb6a808df4e577063c21?s=128&d=identicon&r=PG&f=1", "display_name": "grapexs", "link": "https://stackoverflow.com/users/6347686/grapexs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 274, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522792903, "creation_date": 1522790895, "last_edit_date": 1522792903, "question_id": 49639388, "link": "https://stackoverflow.com/questions/49639388/firebase-database-connection-in-background", "title": "Firebase database connection in background", "body": "<p>I must save to firebase database my current location in some period time not only when my app is running but also when it is closed. Now I use firebase job dispatcher to do it. </p>\n\n<pre><code>    class App : Application(){\n    private val TAG = App::class.java.simpleName\n    override fun onCreate() {\n        Log.i(\"App\", \"App onCreate\")\n        super.onCreate()\n        var mAuthListener = FirebaseAuth.AuthStateListener { firebaseAuth -&gt;\n            val user = firebaseAuth.currentUser\n            if (user != null) {\n                Log.i(TAG,\"user log in\")\n\n                try {\n                    val dispatcher2 = FirebaseJobDispatcher(GooglePlayDriver(applicationContext))\n                    val myLocationJob = dispatcher2.newJobBuilder()\n                            .setService(LocationJobService::class.java) // the JobService that will be called\n                            .setTag(\"my-location-job\")\n                            .setLifetime(Lifetime.UNTIL_NEXT_BOOT)\n                            // start between windowStart in sec and windowEnd in seconds from now\n                            .setTrigger(Trigger.executionWindow(0, 60))\n                            .setRecurring(true)//to reschedule job\n                            .setRetryStrategy(RetryStrategy.DEFAULT_EXPONENTIAL)\n                            .setReplaceCurrent(true)\n                            .build()\n\n                    dispatcher2.mustSchedule(myLocationJob)\n                    Log.i(TAG,\"onCreate() started dispatcher \" + dispatcher2.toString())\n\n                } catch (scheduleFailedException: FirebaseJobDispatcher.ScheduleFailedException) {\n                    Log.i(TAG, \"scheduleFailedException \" + scheduleFailedException)\n                }\n\n            }else{\n                Log.i(TAG,\"user not log in\")\n            }\n        }\n        FirebaseApp.initializeApp(applicationContext)\n        FirebaseAuth.getInstance().addAuthStateListener(mAuthListener)\n\n    }\n}\n</code></pre>\n\n<p>And my service class that should be run in period time:</p>\n\n<pre><code>class LocationJobService : JobService(),\nGoogleApiClient.ConnectionCallbacks,\nGoogleApiClient.OnConnectionFailedListener,\ncom.google.android.gms.location.LocationListener{\n    var job : JobParameters? = null\n    override fun onStartJob(job: JobParameters?): Boolean {\n        Log.i(TAG,\"onStartJob()\")\n        this.job = job\n        var thread = object : Thread(){\n            override fun run() {\n                buildGoogleApiClient()\n                Log.i(TAG,\"run()\")\n            }\n        }\n        thread.start()\n        return true\n    }\n    override fun onStopJob(job: JobParameters?): Boolean {\n        Log.i(\"TAG\", \"onStopJob\");\n        return true;\n    }\n\n    private val TAG = LocationJobService::class.java.simpleName\n\n    var mLocationRequest: LocationRequest? = null\n    var mGoogleApiClient: GoogleApiClient? = null\n    var mLastLocation: Location? = null\n\n\n    var mRequestLocationUpdatesPendingIntent : PendingIntent? = null\n    fun buildGoogleApiClient() {\n        synchronized(this) {\n            Log.i(TAG, \"buildGoogleApiClient\")\n            mGoogleApiClient = GoogleApiClient.Builder(this)\n                    .addConnectionCallbacks(this)\n                    .addOnConnectionFailedListener(this)\n                    .addApi(LocationServices.API)\n                    .build()\n            mGoogleApiClient!!.connect()\n        }\n    }\n\n    private fun createLocationRequest() {\n        Log.i(TAG, \"createLocationRequest\")\n        mLocationRequest = LocationRequest()\n        mLocationRequest!!.interval = 100\n        mLocationRequest!!.fastestInterval = 100\n        mLocationRequest!!.smallestDisplacement = 1F\n        mLocationRequest!!.priority = LocationRequest.PRIORITY_HIGH_ACCURACY\n    }\n    override fun onConnected(p0: Bundle?) {\n        Log.i(TAG, \"onConnected\")\n        createLocationRequest()\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            return\n        }\n        Log.i(TAG, \"start request locationOfUserWhoChangeIt updates \")\n        LocationServices.FusedLocationApi.requestLocationUpdates(mGoogleApiClient, mLocationRequest, this)\n        // request locationOfUserWhoChangeIt updates\n        LocationServices.FusedLocationApi.requestLocationUpdates(mGoogleApiClient,\n                mLocationRequest,\n                mRequestLocationUpdatesPendingIntent)\n\n    }\n\n    override fun onConnectionSuspended(p0: Int) {\n        Log.i(TAG, \"onConnectionSuspended\")\n        mGoogleApiClient!!.connect()\n    }\n    override fun onConnectionFailed(p0: ConnectionResult) {\n        Log.i(TAG, \"onConnectionFailed: google maps\" + p0.errorMessage)\n    }\n\n    override fun onLocationChanged(location: Location?) {\n        if (FirebaseAuth.getInstance().currentUser != null) {\n            Log.i(TAG, \"onLocationChanged\")\n            mLastLocation = location!!\n            addCurrentUserLocationToFirebase(mLastLocation!!)\n        }\n    }\n\n    private fun addCurrentUserLocationToFirebase(lastLocation: Location) {\n        var locations = FirebaseDatabase.getInstance().getReference(\"Locations\")\n        var currentUser = FirebaseAuth.getInstance().currentUser\n        if (currentUser != null) {//prevent if user click logout to not update locationOfUserWhoChangeIt\n            Log.i(TAG, \"addCurrentUserMarkerAndRemoveOld() current user: \" + currentUser!!.uid + \" location \" + lastLocation.toString() )\n\n            val scoresRef = locations.child(currentUser!!.uid)\n            scoresRef.keepSynced(true)\n            val connectedRef = FirebaseDatabase.getInstance().getReference(\".info/connected\")\n            connectedRef.addValueEventListener(object : ValueEventListener {\n                override fun onDataChange(snapshot: DataSnapshot) {\n                    val connected = snapshot.getValue(Boolean::class.java)!!\n                    if (connected) {\n                        Log.i(TAG,\"connected\")\n                        locations.child(currentUser!!.uid)\n                                .setValue(TrackingModel(currentUser.uid,\n                                        currentUser!!.email!!,\n                                        lastLocation.latitude.toString(),\n                                        lastLocation.longitude.toString()), object : DatabaseReference.CompletionListener {\n                                    override fun onComplete(error: DatabaseError?, reference: DatabaseReference?) {\n                                        Log.i(TAG,\"onComplete()\")\n                                        if(error == null){\n                                            Log.i(TAG,\"onComplete() position saved to firebase database\")\n                                            Log.i(TAG,\"okey stop service\")\n                                            mGoogleApiClient!!.disconnect()\n                                            jobFinished(job!!, false) //it must be called here, since I return true\n                                        }else{\n                                            Log.i(TAG,\"there is problem to add data to database\")\n                                        }\n                                    }\n                                })\n                    } else {\n                        Log.i(TAG,\"not connected\")\n                    }\n                }\n                override fun onCancelled(error: DatabaseError) {\n                    System.err.println(\"Listener was cancelled\")\n                }\n            })\n        }\n    }\n\n    override fun onDestroy() {\n        Log.i(TAG,\"destroy\")\n        super.onDestroy()\n    }\n\n}\n</code></pre>\n\n<p>I have one big problem with it. When i close the app in my mobile( I swipe left my app). I don't have connection to my firebase database. In my connection listener I got <code>not connected</code>. So <code>CompletionListener</code> never run when I haven't connection. I read when we close app, firebase connection is closed. So how can I connect to my firebase database to add my current location when my app is not running? </p>\n\n<p>I know that I can run foreground service but in some device it can be also killed by system. So I want to schedule my service in some time period, but I don't know how connect then to my firebase database.</p>\n"}, {"tags": ["android", "firebase-realtime-database", "kotlin", "firebase-authentication", "android-alertdialog"], "owner": {"reputation": 102, "user_id": 6247223, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-LfwHjgMh58I/AAAAAAAAAAI/AAAAAAAAACA/QmDDGLtXql4/photo.jpg?sz=128", "display_name": "Shikhar Singh", "link": "https://stackoverflow.com/users/6247223/shikhar-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 564, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522790449, "creation_date": 1522790449, "question_id": 49639304, "link": "https://stackoverflow.com/questions/49639304/using-custom-alert-dialog-box-as-a-form-for-registering-user-in-firebase-databas", "title": "Using custom Alert Dialog box as a Form for Registering user in firebase database. Getting Error [kotlin]", "body": "<p>I want to use custom Dialog box as Registration form for registering user in firebase database.i am already using Google signin option in this login activity.i've enabled the both the sign in method in firebase console still geting this error. Actually i don't want to use the activity because for that i need to move to another activity.. i want screen overlay like Ui. Please help me solving this Error or give any better aleternative in detail.. Thanks in advance  </p>\n\n<pre><code>W/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\nW/BiChannelGoogleApi: [FirebaseAuth: ] getGoogleApiForMethod() returned Gms:com.google.android.gms.internal.zzdze@adc412\nW/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\nI/FirebaseAuth: [FirebaseAuth:] Loading module via FirebaseOptions.\n                [FirebaseAuth:] Preparing to create service connection to gms implementation\nV/RenderScript: 0xb8012c38 Launching thread(s), CPUs 8\nW/BiChannelGoogleApi: [FirebaseAuth: ] getGoogleApiForMethod() returned Gms: com.google.android.gms.internal.zzdze@adc412\n</code></pre>\n\n<blockquote>\n  <p>Login.kt</p>\n</blockquote>\n\n<pre><code>     lateinit var mGoogleSignInClient: GoogleSignInClient\n    private val RC_SIGN_IN = 1\n    lateinit var googleLoginBtn: SignInButton\n    lateinit var mAuth: FirebaseAuth\n    lateinit var gso: GoogleSignInOptions\n    lateinit var mDatabase: DatabaseReference\n    lateinit var mProgressDialog: ProgressDialog\n\n    var name1: EditText? = null\n    var email1: EditText? = null\n    var pass1: EditText? = null\n    var confpass1: EditText? = null\n    var loginT: TextView? = null\n\n\n    var email2: EditText? = null\n    var pass2: EditText? = null\n\n    lateinit var mAuthStateListener: FirebaseAuth.AuthStateListener\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_login)\n\n        mProgressDialog = ProgressDialog(this)\n\n        name1 = findViewById(R.id.editFullName)\n        email1 = findViewById(R.id.editEmail)\n        pass1 = findViewById(R.id.editPass)\n        confpass1 = findViewById(R.id.editPassConfirm)\n        loginT = findViewById(R.id.textL)\n\n\n        email2 = findViewById(R.id.editTextEmail)\n        pass2 = findViewById(R.id.editTextPass)\n\n\n        googleLoginBtn = findViewById(R.id.gLoginBtn)\n        mAuth = FirebaseAuth.getInstance()\n\n        val emailBtn = findViewById&lt;Button&gt;(R.id.emailPasswordBtn)\n\n        mAuthStateListener = FirebaseAuth.AuthStateListener {\n            if (it.currentUser != null) {\n                startActivity(Intent(applicationContext, MainActivity::class.java))\n                finish()\n            }\n        }\n\n        gso = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.default_web_client_id))\n                .requestEmail()\n                .build()\n\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso)\n\n\n        googleLoginBtn.setOnClickListener {\n            signIn()\n        }\n\n        emailPasswordBtn.setOnClickListener {\n            val dialogBuilder = AlertDialog.Builder(this@Login)\n            val view = layoutInflater.inflate(R.layout.register_custom_dialog, null)\n            dialogBuilder.setView(view)\n            val alertDialog = dialogBuilder.create()\n            alertDialog.show()\n\n            view.regBtn.setOnClickListener {\n                //regDetail()\n\n                val name = name1?.text.toString().trim()\n                val email = email1?.text.toString().trim()\n                val pass = pass1?.text.toString().trim()\n                val confpass = confpass1?.text.toString().trim()\n\n\n                if (TextUtils.isEmpty(name)) {\n                    name1?.error = \"Field Required!\"\n                    return@setOnClickListener\n                }\n                if (TextUtils.isEmpty(email)) {\n                    email1?.error = \"Field Required!\"\n                    return@setOnClickListener\n                }\n                if (TextUtils.isEmpty(pass)) {\n                    pass1?.error = \"Field Required!\"\n                    return@setOnClickListener\n                }\n                if (TextUtils.isEmpty(confpass)) {\n                    pass1?.error = \"Field Required!\"\n                    return@setOnClickListener\n                }\n\n\n                createUser(name, email, pass)\n            }\n\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>createUser() Function</p>\n</blockquote>\n\n<pre><code>       private fun createUser(name: String, email: String, pass: String) {\n\n        mProgressDialog.setMessage(\"Registering..\")\n        mProgressDialog.show()\n\n\n        mAuth.createUserWithEmailAndPassword(email, pass)\n                .addOnCompleteListener(this) { task: Task&lt;AuthResult&gt; -&gt;\n                    if (task.isSuccessful) {\n\n                        val currentUser = mAuth.currentUser\n                        val uid = currentUser!!.uid\n\n                        val userMap = HashMap&lt;String, String&gt;()\n                        userMap[\"name\"] = name\n                        userMap[\"email\"] = email\n                        userMap[\"image\"] = \"image\"\n                        mDatabase = FirebaseDatabase.getInstance().getReference(\"Users\").child(uid)\n                        mDatabase.setValue(userMap).addOnCompleteListener(this) { task -&gt;\n\n                            if (task.isSuccessful) {\n\n                                val intent = Intent(applicationContext, MainActivity::class.java)\n                                startActivity(intent)\n                                mProgressDialog.dismiss()\n                            }\n                        }\n\n                        Toast.makeText(this@Login, \"Authentication Success!!\", Toast.LENGTH_SHORT).show()\n\n                    } else {\n                        Toast.makeText(this@Login, \"Authentication Failed!!\", Toast.LENGTH_SHORT).show()\n                        mProgressDialog.dismiss()\n                    }\n                    // ...\n                }\n    }\n\n    override fun onStart() {\n        super.onStart()\n        mAuth.addAuthStateListener(mAuthStateListener)\n    }\n</code></pre>\n\n<blockquote>\n  <p>register_custom_dialog.xml</p>\n</blockquote>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n     &lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"15dp\"&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editFullName\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"80dp\"\n        android:ems=\"10\"\n        android:hint=\"Full Name\"\n        android:inputType=\"textPersonName\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editEmail\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/editFullName\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"25dp\"\n        android:ems=\"10\"\n        android:hint=\"Email\"\n        android:inputType=\"textEmailAddress\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editPass\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/editEmail\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"25dp\"\n        android:ems=\"10\"\n        android:hint=\"Password\"\n        android:inputType=\"textPassword\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editPassConfirm\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/editPass\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"25dp\"\n        android:ems=\"10\"\n        android:hint=\"Confirm Password\"\n        android:inputType=\"textPassword\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textL\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/editPassConfirm\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"35dp\"\n        android:gravity=\"center_horizontal\"\n        android:text=\"Login using E-mail\"\n        android:textSize=\"16dp\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/regBtn\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/textL\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"40dp\"\n        android:textAllCaps=\"false\"\n        android:text=\"Register\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView3\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignStart=\"@+id/editFullName\"\n        android:layout_marginTop=\"10dp\"\n        android:text=\"Register\"\n        android:textSize=\"24sp\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<blockquote>\n  <p>Gradle Dependencies</p>\n</blockquote>\n\n<pre><code>    implementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nimplementation 'com.android.support:appcompat-v7:27.1.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\nimplementation 'com.android.support:support-v4:27.1.0'\nimplementation 'com.google.firebase:firebase-auth:12.0.1'\nimplementation 'com.google.android.gms:play-services-auth:12.0.1'\nimplementation 'com.google.firebase:firebase-database:12.0.1'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.1'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\nimplementation 'com.android.support:design:27.1.0'\nimplementation 'com.android.support:cardview-v7:27.1.0'\n</code></pre>\n"}, {"tags": ["opencv", "io", "kotlin", "conditional", "constants"], "answers": [{"comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1522788397, "post_id": 49638800, "comment_id": 86285393, "body": "You could also use let, which would allow for handling null cases"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1522788499, "post_id": 49638800, "comment_id": 86285437, "body": "@jrtapsell - yes indeed, that makes sense if the type is nullable."}, {"owner": {"reputation": 77, "user_id": 1535603, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc13af75d79e44fbd85a83ffad81e41c?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 Soko\u0142owski", "link": "https://stackoverflow.com/users/1535603/micha%c5%82-soko%c5%82owski"}, "edited": false, "score": 0, "creation_date": 1522829444, "post_id": 49638800, "comment_id": 86299831, "body": "I like this solution! But I&#39;m wondering how could it be achieved with C++ and/or C#?"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "reply_to_user": {"reputation": 77, "user_id": 1535603, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc13af75d79e44fbd85a83ffad81e41c?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 Soko\u0142owski", "link": "https://stackoverflow.com/users/1535603/micha%c5%82-soko%c5%82owski"}, "edited": false, "score": 0, "creation_date": 1522837762, "post_id": 49638800, "comment_id": 86305331, "body": "@Micha\u0142Soko\u0142owski - Well the &quot;naive&quot; solution is simply to put the logic from the second version into a helper method.  I haven&#39;t kept track of C++ or C# well enough to know whether there are language features equivalent to Kotlin&#39;s expression blocks / <code>with</code> / etc."}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 3, "last_activity_date": 1522791416, "last_edit_date": 1522791416, "creation_date": 1522787919, "answer_id": 49638800, "question_id": 49638580, "link": "https://stackoverflow.com/questions/49638580/constant-variable-initialization-based-on-io-operation-with-a-condition/49638800#49638800", "title": "Constant variable initialization based on IO operation with a condition", "body": "<p>I don't think the compiler has any way to know that an arbitrary method is side-effect free. And in fact this one isn't (I assume) - there's potential for a race condition here.</p>\n\n<p>One way to avoid this is with something like this:</p>\n\n<pre><code>val image = with(Imgcodecs.imread(filename)) {\n    if (!empty()) {\n        this\n    } else {\n        Mat.eye(...)\n    }\n}\n</code></pre>\n\n<p>Or something a bit more explicit, thus avoiding the magic of the <a href=\"https://kotlinlang.org/docs/reference/idioms.html#calling-multiple-methods-on-an-object-instance-with\" rel=\"nofollow noreferrer\"><code>with</code> idiom</a>:</p>\n\n<pre><code>val image = {\n    val mtx = Imgcodecs.imread(filename)\n    if (!mtx.empty()) {\n        mtx\n    } else {\n        Mat.eye(...)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 1535603, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc13af75d79e44fbd85a83ffad81e41c?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 Soko\u0142owski", "link": "https://stackoverflow.com/users/1535603/micha%c5%82-soko%c5%82owski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 49638800, "answer_count": 1, "score": 0, "last_activity_date": 1522791416, "creation_date": 1522787099, "question_id": 49638580, "link": "https://stackoverflow.com/questions/49638580/constant-variable-initialization-based-on-io-operation-with-a-condition", "title": "Constant variable initialization based on IO operation with a condition", "body": "<p>I've been programming some opencv app with kotlin and stumbled on a matter that I'm curious about based on the code below:</p>\n\n<pre><code>val image = \n    if (!Imgcodecs.imread(filename).empty()) \n        Imgcodecs.imread(filename) \n    else \n        Mat.eye(512, 512, CvType.CV_8U).mul(Mat(512, 512, CvType.CV_8U, Scalar(255.0)))\n</code></pre>\n\n<p>Does compiler (in general) optimize such IO operations like these consecutive calls (imreads)? </p>\n\n<p>What are the proven and / or elegant ways to deal with such problem?</p>\n"}, {"tags": ["gradle", "kotlin", "junit5", "gradle-kotlin-dsl", "kotlintest"], "answers": [{"comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1522788332, "post_id": 49638463, "comment_id": 86285358, "body": "Does this set the tests to run, or do you need to change the test config to make them run?"}, {"owner": {"reputation": 4588, "user_id": 4126843, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4r8yp.png?s=128&g=1", "display_name": "PHPirate", "link": "https://stackoverflow.com/users/4126843/phpirate"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1522788455, "post_id": 49638463, "comment_id": 86285426, "body": "@jrtapsell What do you mean with the &#39;test config&#39;? If you have the correct dependencies in your <code>build.gradle.kts</code> then executing the gradle task <code>check</code> should run your tests."}, {"owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "edited": false, "score": 0, "creation_date": 1522795140, "post_id": 49638463, "comment_id": 86287879, "body": "I think the only thing you&#39;re doing wrong in your initial post is you haven&#39;t changed your KotlinTest imports to be <code>io.kotlintest:kotlintest-runner-junit5</code> instead of <code>io.kotlintest:kotlintest</code>"}, {"owner": {"reputation": 4588, "user_id": 4126843, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4r8yp.png?s=128&g=1", "display_name": "PHPirate", "link": "https://stackoverflow.com/users/4126843/phpirate"}, "reply_to_user": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "edited": false, "score": 0, "creation_date": 1522822163, "post_id": 49638463, "comment_id": 86295440, "body": "@monkjack Sorry, which imports do you mean? I can&#39;t find where I should be importing <code>io.kotlintest:kotlintest</code>. Btw, thanks for you answer, it has a much more minimal example. I hope it makes it easier for more people to use the Gradle Kotlin DSL! (Personally I have found the docs a little lacking for beginners...)"}], "tags": [], "owner": {"reputation": 4588, "user_id": 4126843, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4r8yp.png?s=128&g=1", "display_name": "PHPirate", "link": "https://stackoverflow.com/users/4126843/phpirate"}, "is_accepted": false, "score": 4, "last_activity_date": 1522788549, "last_edit_date": 1522788549, "creation_date": 1522786602, "answer_id": 49638463, "question_id": 49638462, "link": "https://stackoverflow.com/questions/49638462/how-to-run-kotlintest-tests-using-the-gradle-kotlin-dsl/49638463#49638463", "title": "How to run kotlintest tests using the Gradle Kotlin DSL?", "body": "<p>Since kotlintest version 3, JUnit 5 is supported! Just replace, in your <code>build.gradle.kts</code>,</p>\n\n<pre><code>testCompile(\"io.kotlintest:kotlintest:2.0.7\")\n</code></pre>\n\n<p>by</p>\n\n<pre><code>testCompile(\"io.kotlintest:kotlintest-core:3.0.2\")\ntestCompile(\"io.kotlintest:kotlintest-assertions:3.0.2\")\ntestCompile(\"io.kotlintest:kotlintest-runner-junit5:3.0.2\")\n</code></pre>\n\n<p>as clarified in the <a href=\"https://github.com/kotlintest/kotlintest/blob/master/CHANGELOG.md\" rel=\"nofollow noreferrer\">changelog</a>.</p>\n\n<p>Then either run the Gradle task <code>check</code> (in IntelliJ in the Gradle tool window on the right) or, in IntelliJ, click the gutter icon to run only a specific test or set of tests.</p>\n"}, {"tags": [], "owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "is_accepted": true, "score": 3, "last_activity_date": 1522795096, "creation_date": 1522795096, "answer_id": 49640091, "question_id": 49638462, "link": "https://stackoverflow.com/questions/49638462/how-to-run-kotlintest-tests-using-the-gradle-kotlin-dsl/49640091#49640091", "title": "How to run kotlintest tests using the Gradle Kotlin DSL?", "body": "<p>Similar to @PhPirate's answer, to use KotlinTest 3.0.x with gradle, you need to.</p>\n\n<ol>\n<li>Add the gradle plugin for junit 5 (also called the junit platform)</li>\n<li>Add the gradle junit plugin to the classpath of your buildscript</li>\n<li>Add KotlinTest junit5 runner to your test dependencies.</li>\n</ol>\n\n<p>The first two steps are common for any project that uses junit platform - which includes junit5 itself, KotlinTest, Spek, and so on.</p>\n\n<p>A basic gradle config looks like this:</p>\n\n<pre><code>apply plugin: 'org.junit.platform.gradle.plugin'\n\nbuildscript {\n    ext.kotlin_version = '1.2.31'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.junit.platform:junit-platform-gradle-plugin:1.1.0\"\n    }\n}\n\ndependencies {\n    testCompile 'io.kotlintest:kotlintest-runner-junit5:3.0.2'\n}\n</code></pre>\n\n<p>You could also clone the <a href=\"https://github.com/kotlintest/kotlintest/tree/master/kotlintest-samples/kotlintest-samples-gradle\" rel=\"nofollow noreferrer\">gradle sample repo</a> here which has a simple gradle project configured with KotlinTest.</p>\n"}, {"comments": [{"owner": {"reputation": 4588, "user_id": 4126843, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4r8yp.png?s=128&g=1", "display_name": "PHPirate", "link": "https://stackoverflow.com/users/4126843/phpirate"}, "edited": false, "score": 0, "creation_date": 1561208700, "post_id": 56710130, "comment_id": 99993457, "body": "Do you mean to replace the kotlintest dependencies with <code>testImplementation(kotlin(&quot;test-junit5&quot;))</code>? That doesn&#39;t really work for me with the test code from the question, I get unresolved references. Can you maybe point to documentation about this, or give a complete <code>build.gradle.kts</code>?"}, {"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "reply_to_user": {"reputation": 4588, "user_id": 4126843, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4r8yp.png?s=128&g=1", "display_name": "PHPirate", "link": "https://stackoverflow.com/users/4126843/phpirate"}, "edited": false, "score": 1, "creation_date": 1561216373, "post_id": 56710130, "comment_id": 99995051, "body": "@PHPirate\tMy bad, I didn&#39;t realize you were <i>not</i> going for <code>kotlin.test</code>."}], "tags": [], "owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "is_accepted": false, "score": 4, "last_activity_date": 1573136627, "last_edit_date": 1573136627, "creation_date": 1561149257, "answer_id": 56710130, "question_id": 49638462, "link": "https://stackoverflow.com/questions/49638462/how-to-run-kotlintest-tests-using-the-gradle-kotlin-dsl/56710130#56710130", "title": "How to run kotlintest tests using the Gradle Kotlin DSL?", "body": "<p>With more recent versions of the Kotlin Gradle plugin, adding this is sufficient:</p>\n\n<pre><code>dependencies {\n    testImplementation(kotlin(\"test-junit5\"))\n    testRuntimeOnly(\"org.junit.jupiter\", \"junit-jupiter-engine\", \"5.5.2\")\n}\n\ntasks {\n    test {\n        useJUnitPlatform()\n    }\n}\n</code></pre>\n\n<p>This is assuming that you want to stick to the interface of <code>kotlin.test</code>.\nFor example, a small test could look like this:</p>\n\n<pre><code>import kotlin.test.Test\nimport kotlin.test.assertEquals\n\nclass SomeTest {\n    @Test\n    fun testBar() {\n        assertEquals(5, 6)\n    }\n}\n</code></pre>\n\n<p>If you want to run your tests from IDEA, you need to add some additional dependencies:</p>\n\n<pre><code>dependencies {\n    // ...\n    testCompileOnly(\"org.junit.jupiter\", \"junit-jupiter-api\", \"5.5.2\")\n    testCompileOnly(\"org.junit.jupiter\", \"junit-jupiter-params\", \"5.5.2\")\n}\n</code></pre>\n"}], "owner": {"reputation": 4588, "user_id": 4126843, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4r8yp.png?s=128&g=1", "display_name": "PHPirate", "link": "https://stackoverflow.com/users/4126843/phpirate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4000, "favorite_count": 0, "accepted_answer_id": 49640091, "answer_count": 3, "score": 6, "last_activity_date": 1573136627, "creation_date": 1522786602, "question_id": 49638462, "link": "https://stackoverflow.com/questions/49638462/how-to-run-kotlintest-tests-using-the-gradle-kotlin-dsl", "title": "How to run kotlintest tests using the Gradle Kotlin DSL?", "body": "<p><strong>What do I want?</strong></p>\n\n<p>I want to run my tests using <a href=\"https://github.com/kotlintest/kotlintest\" rel=\"noreferrer\">kotlintest</a>, and I succeeded in running them from IntelliJ by clicking the icon next to the test class.\nI also have <a href=\"https://junit.org/junit5/\" rel=\"noreferrer\">JUnit 5</a> tests in my project.\nI am now starting to use the <a href=\"https://github.com/gradle/kotlin-dsl\" rel=\"noreferrer\">Gradle Kotlin DSL</a>, and I managed to run the Gradle task <code>check</code> which executed the JUnit 5 tasks.</p>\n\n<p><strong>What is the problem?</strong></p>\n\n<p>The kotlintest test is not run! It is not discovered by Gradle it seems, as a failing test lets the Gradle task succeed. So,</p>\n\n<blockquote>\n  <p>How to run kotlintest tests using the Gradle Kotlin DSL while also using JUnit 5?</p>\n</blockquote>\n\n<p><strong>What did I try?</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/45231313/how-can-i-run-kotlintest-tests-with-gradle/48459420?noredirect=1#comment86266799_48459420\">How can I run kotlintest tests with gradle?</a> is essentially the old version of the question but already obsolete since using different technology: JUnit 4 and Gradle instead of the Gradle Kotlin DSL.\nAll other question I could find are either for JUnit 4, or <a href=\"https://stackoverflow.com/a/49014534/4126843\">JUnit 5 without kotlintest</a>.</p>\n\n<p><strong>Project setup</strong></p>\n\n<p>I am using Gradle 4.6.\nMy test is</p>\n\n<pre><code>import io.kotlintest.matchers.exactly\nimport io.kotlintest.matchers.shouldBe\nimport io.kotlintest.specs.FunSpec\n\nclass KotlinTest: FunSpec() {\n\n    init {\n        testCalculate()\n    }\n\n    /** This failing test will not fail the Gradle check. */\n    fun testCalculate() = test(\"one plus one is two\") {\n        (1+1).toDouble() shouldBe exactly(42.0)\n    }\n\n}\n</code></pre>\n\n<p>and my <code>build.gradle.kts</code> is</p>\n\n<pre><code>import org.gradle.api.plugins.ExtensionAware\n\nimport org.junit.platform.gradle.plugin.FiltersExtension\nimport org.junit.platform.gradle.plugin.EnginesExtension\nimport org.junit.platform.gradle.plugin.JUnitPlatformExtension\n\ngroup = \"mypackage\"\nversion = \"0.0\"\n\n// JUnit 5\nbuildscript {\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath(\"org.junit.platform:junit-platform-gradle-plugin:1.1.0\")\n    }\n}\n\napply {\n    plugin(\"org.junit.platform.gradle.plugin\")\n}\n\n// Kotlin configuration.\nplugins {\n    application\n    kotlin(\"jvm\") version \"1.2.30\"\n    java // Required by at least JUnit.\n}\n\napplication {\n    mainClassName = \"mypackage.HelloWorld\"\n}\n\ndependencies {\n    compile(kotlin(\"stdlib\"))\n    // To \"prevent strange errors\".\n    compile(kotlin(\"reflect\"))\n    // Kotlin reflection.\n    compile(kotlin(\"test\"))\n    compile(kotlin(\"test-junit\"))\n\n    // JUnit 5\n    testImplementation(\"org.junit.jupiter:junit-jupiter-api:5.1.0\")\n    testRuntimeOnly(\"org.junit.jupiter:junit-jupiter-engine:5.1.0\")\n    testRuntime(\"org.junit.platform:junit-platform-console:1.1.0\")\n\n    // Kotlintests are not run anyway when using JUnit 5 as well.\n    testCompile(\"io.kotlintest:kotlintest:2.0.7\")\n\n}\n\nrepositories {\n    jcenter()\n}\n</code></pre>\n\n<p>PS Complete project at <a href=\"https://github.com/PHPirates/kotlin-template-project\" rel=\"noreferrer\">GitHub</a>.</p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1522820955, "post_id": 49638136, "comment_id": 86294882, "body": "Maybe it&#39;s <b>yet another gradle bug</b>. I&#39;ve tried <code>java.outputDir = file(&quot;out&quot;)</code> but the Kotlin compilation output is stored in <code>main-instrumented</code>..."}, {"owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "edited": false, "score": 0, "creation_date": 1547164901, "post_id": 49638136, "comment_id": 95108749, "body": "The main issue is the variable <code>main.kotlin.outputDir</code> <i>doesn&#39;t exist</i> at all! <b><i>You declared (defined) it</i></b> (not just changed it)! Still now, with plugin <code>v1.3.11</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1669, "user_id": 4399576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v2qvc.png?s=128&g=1", "display_name": "Dimitar II", "link": "https://stackoverflow.com/users/4399576/dimitar-ii"}, "is_accepted": true, "score": 1, "last_activity_date": 1548844675, "creation_date": 1548844675, "answer_id": 54438584, "question_id": 49638136, "link": "https://stackoverflow.com/questions/49638136/kotlin-gradle-plugin-how-to-use-custom-output-directory/54438584#54438584", "title": "Kotlin gradle plugin - how to use custom output directory?", "body": "<p>There is workaround, posted by other user in the Kotlin issue tracker:</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    destinationDir = new File(buildDir, \"work/program\")\n}\n</code></pre>\n\n<p>(add this fragment in your 'build.gradle' file)</p>\n"}], "owner": {"reputation": 1669, "user_id": 4399576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v2qvc.png?s=128&g=1", "display_name": "Dimitar II", "link": "https://stackoverflow.com/users/4399576/dimitar-ii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1822, "favorite_count": 1, "accepted_answer_id": 54438584, "answer_count": 1, "score": 5, "last_activity_date": 1548844675, "creation_date": 1522785229, "last_edit_date": 1523816082, "question_id": 49638136, "link": "https://stackoverflow.com/questions/49638136/kotlin-gradle-plugin-how-to-use-custom-output-directory", "title": "Kotlin gradle plugin - how to use custom output directory?", "body": "<p>In seems that Kotlin Gradle plugin ignores the specified compilation output directory:</p>\n\n<pre><code>sourceSets {\n    main {\n        kotlin {\n            srcDirs 'source/kotlin'\n            outputDir = file('work/program')\n        }\n    }\n}\n</code></pre>\n\n<p>The compiler output goes to 'build/classes/kotlin/main' directory instead of 'work/program'.\nBut outputDir specified in the same way works as expected in Java Gradle projects.</p>\n\n<p>Is there a way to use <strong>custom compiler output directory</strong> with Kotlin Gradle plugin? (versions: Kotlin 1.2.31, Gradle 4.6)</p>\n\n<p><strong>Update:</strong>\nI submitted bug report about this: <a href=\"https://youtrack.jetbrains.com/issue/KT-23807\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-23807</a></p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1522768354, "post_id": 49633446, "comment_id": 86274328, "body": "&quot;If I try to sync, the message pops up again in a few seconds. If I try to build/debug the project, I get this&quot; -- try a command-line build, and see if that gives you anything more to go on. Otherwise, for that project (module? whatever), delete your <code>.gradle&#47;</code>, <code>.idea&#47;</code>, and <code>build&#47;</code> directories, plus <code>.iml</code> files, and try re-importing into Android Studio."}, {"owner": {"reputation": 797, "user_id": 3265290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/640a8477464374b16e7afa7e04507ab5?s=128&d=identicon&r=PG", "display_name": "daydr3am3r", "link": "https://stackoverflow.com/users/3265290/daydr3am3r"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1522827930, "post_id": 49633446, "comment_id": 86298947, "body": "Thank you @CommonsWare. I already tried deleting those directories and opening the project as well as importing it (without deleting the directories) again and it didn&#39;t work out. However, importing it after deleting everything did the trick. Unfortunately I cannot upvote your comment for some reason."}], "answers": [{"tags": [], "owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "is_accepted": true, "score": 1, "last_activity_date": 1522962125, "creation_date": 1522962125, "answer_id": 49681474, "question_id": 49633446, "link": "https://stackoverflow.com/questions/49633446/gradle-sync-prevents-app-from-running/49681474#49681474", "title": "Gradle sync prevents app from running", "body": "<p><em>(Posted on behalf of CommonsWare, from the comments)</em>.</p>\n\n<blockquote>\n  <p>If I try to sync, the message pops up again in a few seconds. If I try to build/debug the project, I get this\"</p>\n</blockquote>\n\n<p>Try a command-line build, and see if that gives you anything more to go on. Otherwise, for that project (module? whatever), delete your <code>.gradle/</code>, <code>.idea/</code>, and <code>build/</code> directories, plus <code>.iml</code> files, and try re-importing into Android Studio.</p>\n"}], "owner": {"reputation": 797, "user_id": 3265290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/640a8477464374b16e7afa7e04507ab5?s=128&d=identicon&r=PG", "display_name": "daydr3am3r", "link": "https://stackoverflow.com/users/3265290/daydr3am3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 49681474, "answer_count": 1, "score": 0, "last_activity_date": 1522962125, "creation_date": 1522768145, "last_edit_date": 1522962023, "question_id": 49633446, "link": "https://stackoverflow.com/questions/49633446/gradle-sync-prevents-app-from-running", "title": "Gradle sync prevents app from running", "body": "<p>I am trying to move a project folder from one location to another and change the folder name.</p>\n\n<p>For various reasons version control was not possible so I have the following structure: MyApp\\Version 1.xx\\ and in this folder I have more folders named 1.0.1, 1.0.2 etc.</p>\n\n<p>I also have another folder called MyApp that I want to copy into MyApp\\Version 1.xx\\ and rename it to 1.0.5.</p>\n\n<p>Unfortunately, I am stuck with the following message: \"Gradle files have changed since last project sync\".</p>\n\n<p>If I try to sync, the message pops up again in a few seconds. If I try to build/debug the project, I get this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DKgyI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DKgyI.png\" alt=\"enter image description here\"></a></p>\n\n<p>I also tried to create a new empty project with the same name into the desired folder and add the layouts and classes there but if I try to run the app I get these:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sMpyl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sMpyl.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried Clean, Invalidate Cache and Restart, deleting and recreating Gradle files as well as most of the solutions provided around here, without any luck.</p>\n\n<p>Any ideas on how to fix this issue?</p>\n"}, {"tags": ["javascript", "constructor", "kotlin", "keyword"], "comments": [{"owner": {"reputation": 1938, "user_id": 8188060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9Qx3.jpg?s=128&g=1", "display_name": "JO3-W3B-D3V", "link": "https://stackoverflow.com/users/8188060/jo3-w3b-d3v"}, "edited": false, "score": 0, "creation_date": 1522767168, "post_id": 49632814, "comment_id": 86273429, "body": "I know it&#39;s not really solving your problem, but maybe just try changing the letter &#39;c&#39; to uppercase? ... Just a suggestion..."}, {"owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "reply_to_user": {"reputation": 1938, "user_id": 8188060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9Qx3.jpg?s=128&g=1", "display_name": "JO3-W3B-D3V", "link": "https://stackoverflow.com/users/8188060/jo3-w3b-d3v"}, "edited": false, "score": 0, "creation_date": 1522767540, "post_id": 49632814, "comment_id": 86273730, "body": "@JO3-W3B-D3V The <code>constructor</code> name is required by the js lib used with kotlin, can&#39;t be changed"}, {"owner": {"reputation": 1938, "user_id": 8188060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9Qx3.jpg?s=128&g=1", "display_name": "JO3-W3B-D3V", "link": "https://stackoverflow.com/users/8188060/jo3-w3b-d3v"}, "edited": false, "score": 0, "creation_date": 1522767888, "post_id": 49632814, "comment_id": 86273992, "body": "I see your problem, I&#39;ve never used <code>kotlin</code> personally, I&#39;ve been meaning to, however, I&#39;ve never actually used it, JS on the other hand... have you tried something like <code>window[&quot;constructor&quot;]</code> within your JS? I&#39;m not sure if that would work or not..."}, {"owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "reply_to_user": {"reputation": 1938, "user_id": 8188060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9Qx3.jpg?s=128&g=1", "display_name": "JO3-W3B-D3V", "link": "https://stackoverflow.com/users/8188060/jo3-w3b-d3v"}, "edited": false, "score": 1, "creation_date": 1522768603, "post_id": 49632814, "comment_id": 86274499, "body": "@JO3-W3B-D3V thanks, this is indeed a method worth trying"}, {"owner": {"reputation": 1938, "user_id": 8188060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9Qx3.jpg?s=128&g=1", "display_name": "JO3-W3B-D3V", "link": "https://stackoverflow.com/users/8188060/jo3-w3b-d3v"}, "edited": false, "score": 0, "creation_date": 1522768820, "post_id": 49632814, "comment_id": 86274669, "body": "No problem at all, I hope it works fine for you. I think it <i>may</i> work due tot he way it&#39;s been written, I may be wrong, who knows. Let me know if it works or not? :)"}], "answers": [{"comments": [{"owner": {"reputation": 1938, "user_id": 8188060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9Qx3.jpg?s=128&g=1", "display_name": "JO3-W3B-D3V", "link": "https://stackoverflow.com/users/8188060/jo3-w3b-d3v"}, "edited": false, "score": 0, "creation_date": 1522770044, "post_id": 49633754, "comment_id": 86275490, "body": "You say it should just work? - This isn&#39;t really useful feedback? I personally don&#39;t use Kotlin myself, but as I said, could he not just do something like <code>window[&quot;constructor&quot;]</code>? Again, I wouldn&#39;t know, I know JS, Kotlin, not so much."}, {"owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "edited": false, "score": 0, "creation_date": 1522771235, "post_id": 49633754, "comment_id": 86276274, "body": "@anton Yes, you are right if <code>fun constructor</code> is at top level, thanks! Actually I simplified my problem too hard, my real problem is the <code>constructor</code> inside a class. Let me modify the question"}, {"owner": {"reputation": 134, "user_id": 9590596, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anton Bannykh", "link": "https://stackoverflow.com/users/9590596/anton-bannykh"}, "reply_to_user": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "edited": false, "score": 1, "creation_date": 1522778268, "post_id": 49633754, "comment_id": 86280290, "body": "@Freewind It is possible to modify the property inside the class constructor (added to the answer). Is that what you want?"}, {"owner": {"reputation": 134, "user_id": 9590596, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anton Bannykh", "link": "https://stackoverflow.com/users/9590596/anton-bannykh"}, "reply_to_user": {"reputation": 1938, "user_id": 8188060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9Qx3.jpg?s=128&g=1", "display_name": "JO3-W3B-D3V", "link": "https://stackoverflow.com/users/8188060/jo3-w3b-d3v"}, "edited": false, "score": 0, "creation_date": 1522779193, "post_id": 49633754, "comment_id": 86280816, "body": "@JO3-W3B-D3V I was being polite. No, <code>window[&quot;constructor&quot;]</code> is not the solution, because a) it solves the problem that doesn&#39;t exist, and b) window is not defined in some environments (e.g. NodeJs)"}, {"owner": {"reputation": 134, "user_id": 9590596, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anton Bannykh", "link": "https://stackoverflow.com/users/9590596/anton-bannykh"}, "reply_to_user": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "edited": false, "score": 0, "creation_date": 1522843628, "post_id": 49633754, "comment_id": 86309189, "body": "@Freewind by the way, could you tell what exactly that library uses the constructor property for?"}, {"owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "edited": false, "score": 0, "creation_date": 1522922625, "post_id": 49633754, "comment_id": 86349008, "body": "@AntonBannykh I posted it to &lt;<a href=\"https://youtrack.jetbrains.com/issue/KT-23576\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-23576</a>&gt;, please tell me if that&#39;s not clear enough, thanks!"}], "tags": [], "owner": {"reputation": 134, "user_id": 9590596, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anton Bannykh", "link": "https://stackoverflow.com/users/9590596/anton-bannykh"}, "is_accepted": true, "score": 2, "last_activity_date": 1522778193, "last_edit_date": 1522778193, "creation_date": 1522769106, "answer_id": 49633754, "question_id": 49632814, "link": "https://stackoverflow.com/questions/49632814/how-to-use-kotlin-to-generate-a-javascript-function-constructor/49633754#49633754", "title": "How to use Kotlin to generate a javascript function `constructor`?", "body": "<p>There should be no problem with the top-level functions. The <code>fun constructor() {}</code> should just work, yielding <code>function constructor(){}</code>. At least that's what it does in Kotlin 1.2.31.</p>\n\n<p>On the other hand member functions named <code>constructor</code> are prohibited (e.g. you cannot get <code>A.prototype.constructor = function () {}</code> in the output js file). For one thing that would ruin the <code>is</code>-check implementation.</p>\n\n<p>Modifying the constructor property inside the class constructor should be possible:</p>\n\n<pre><code>// Kotlin\nclass A {\n  init{\n    this.asDynamic().constructor = fun(a: Int) { println(a) }\n  }\n}\n\n// JS\nfunction A() {\n  this.constructor = A_init$lambda;\n}\nfunction A_init$lambda(a) {\n  println(a);\n}\n</code></pre>\n\n<p>Hope that helped.</p>\n"}], "owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 49633754, "answer_count": 1, "score": 2, "last_activity_date": 1522778193, "creation_date": 1522766254, "last_edit_date": 1522771390, "question_id": 49632814, "link": "https://stackoverflow.com/questions/49632814/how-to-use-kotlin-to-generate-a-javascript-function-constructor", "title": "How to use Kotlin to generate a javascript function `constructor`?", "body": "<p>I want to use Kotlin to generate some JavaScript like following:</p>\n\n<pre><code>function MyComponent() {\n    self.constructor = function() {}\n}\n</code></pre>\n\n<p>The problem is <code>constructor</code> is a keyword in Kotlin, I can't just write like:</p>\n\n<pre><code>class MyComponent {\n  fun constructor() {}\n}\n</code></pre>\n\n<p>I also tried:</p>\n\n<pre><code>class MyComponent {\n    @JsName(\"constructor\")\n    fun ctor() {}\n}\n</code></pre>\n\n<p>It still report errors like:</p>\n\n<pre><code>JavaScript name generated for this declaration clashes \nwith built-in declaration {1}\n</code></pre>\n\n<p>How to generate a javascript function which has name <code>constructor</code>?</p>\n"}, {"tags": ["kotlin", "covariance"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1522767344, "post_id": 49632755, "comment_id": 86273560, "body": "Besides the question you have, you do not need to reify the type nor make the function inline."}], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 1, "last_activity_date": 1522767606, "creation_date": 1522767606, "answer_id": 49633239, "question_id": 49632755, "link": "https://stackoverflow.com/questions/49632755/kotlin-list-properties-of-any-object-variance-error/49633239#49633239", "title": "kotlin: list properties of any object - variance error", "body": "<p>If you use the type you are reifying rather than an instance of that type the variance issue will go away. When you call <code>T::class.memberProperties</code> you get back a <code>Collection&lt;KProperty&lt;T, *&gt;&gt;</code> which is what I believe you want. On the other hand, if you call that on an instance (<code>this</code>) rather than a type, you get back a <code>Collection&lt;KProperty&lt;out T, Any?&gt;&gt;</code>, which is where your out-variance issue comes from.</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; T.propertiesMap() {\n    for (property in T::class.memberProperties) {\n        property.get(this)\n    }\n}\n</code></pre>\n\n<p>Essentially, you need to do <code>T::class</code> rather than <code>this::class</code> in order to get the right kind of collection back. I've left your code as-is otherwise because I'm not clear on what you want this function to do, but I suspect you could drop the for loop in favor of a <code>map</code> call.</p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 2, "last_activity_date": 1522768418, "creation_date": 1522768418, "answer_id": 49633540, "question_id": 49632755, "link": "https://stackoverflow.com/questions/49632755/kotlin-list-properties-of-any-object-variance-error/49633540#49633540", "title": "kotlin: list properties of any object - variance error", "body": "<p>The issue is that <code>this::class</code> produces a <code>KClass&lt;out T&gt;</code> instead of <code>KClass&lt;T&gt;</code> which is what would be needed to use anything of type <code>T</code> in the <code>property.get(...)</code> call.  So you can do an unchecked cast to do what you want:</p>\n\n\n\n<pre><code>fun &lt;T : Any&gt; T.propertiesMap() {\n    @Suppress(\"UNCHECKED_CAST\")\n    for (property in (this::class as KClass&lt;T&gt;).memberProperties) {\n        property.get(this)\n    }\n}\n</code></pre>\n\n<p>Which does not require the function to be inline nor reified type parameter.  Otherwise you can change your function to use <code>T::class</code> instead of <code>this::class</code> to create a matching <code>KClass&lt;T&gt;</code>.</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; T.propertiesMap() {\n    for (property in T::class.memberProperties) {\n        property.get(this)\n    }\n}  \n</code></pre>\n"}], "owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 49633540, "answer_count": 2, "score": 1, "last_activity_date": 1522768418, "creation_date": 1522766146, "question_id": 49632755, "link": "https://stackoverflow.com/questions/49632755/kotlin-list-properties-of-any-object-variance-error", "title": "kotlin: list properties of any object - variance error", "body": "<p>I'm trying to write a function that produces map of properties and values for any type</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; T.propertiesMap() {\n    for (property in this::class.memberProperties) {\n        property.get(this)\n    }\n}\n</code></pre>\n\n<p>i get a compilation error in <code>property.get(this)</code> about </p>\n\n<blockquote>\n  <p>out-projected type [...] prohibits the use of 'public abstract fun get(receiver...</p>\n</blockquote>\n"}, {"tags": ["kotlin", "proguard", "android-proguard", "dexguard"], "answers": [{"tags": [], "owner": {"reputation": 5547, "user_id": 3784643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4a5a10bd918b8fd6b32eadd0cd714de?s=128&d=identicon&r=PG&f=1", "display_name": "T. Neidhart", "link": "https://stackoverflow.com/users/3784643/t-neidhart"}, "is_accepted": false, "score": 2, "last_activity_date": 1523387479, "creation_date": 1523387479, "answer_id": 49761279, "question_id": 49632392, "link": "https://stackoverflow.com/questions/49632392/how-can-i-target-kotlin-internal-classes-with-proguard/49761279#49761279", "title": "How can I target kotlin `internal` classes with proguard?", "body": "<p>As explained in the <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">Kotlin reference guide</a>:</p>\n\n<blockquote>\n  <p>internal declarations become public in Java. Members of internal classes go\n  through name mangling, to make it harder to accidentally use them from Java and to allow overloading for members with the same signature that don't see each other according to Kotlin rules;</p>\n</blockquote>\n\n<p>Looking at the generated bytecode of an internal class (com.example.Test with an internal field c) shows this:</p>\n\n<pre><code>Compile from \"Test.kt\"\npublic final class com.example.Test\nminor version: 0\nmajor version: 50\nflags: ACC_PUBLIC, ACC_FINAL, ACC_SUPER\n\nprivate final int c;\n  descriptor: I\n  flags: ACC_PRIVATE, ACC_FINAL\n  ConstantValue: int 3\n\npublic final int getC$Kotlin_debug();\n  descriptor: ()I\n  flags: ACC_PUBLIC, ACC_FINAL\n  Code:\n    stack=1, locals=1, args_size=1\n       0: aload_0\n       1: getfield      #11                 // Field c:I\n       4: ireturn\n</code></pre>\n\n<p>The internal field has a name-mangled getter, which could be used to target it with a ProGuard rule, but the internal class itself is just a plain public class in Java bytecode and there seems to be no way to target it specifically with ProGuard.</p>\n"}], "owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 2, "answer_count": 1, "score": 13, "last_activity_date": 1523387479, "creation_date": 1522765104, "last_edit_date": 1523025616, "question_id": 49632392, "link": "https://stackoverflow.com/questions/49632392/how-can-i-target-kotlin-internal-classes-with-proguard", "title": "How can I target kotlin `internal` classes with proguard?", "body": "<p>I'd like to proguard (obfuscate) any classes marked with the kotlin <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#classes-and-interfaces\" rel=\"noreferrer\"><code>internal</code></a> visibility modifier.</p>\n\n<p>Kotlin <code>internal</code> classes are public on the JVM, so they are visible and usable from Java source. I don't want these classes to be used or appear in autocomplete, so I would like to obsfuscate them to discourage their use.</p>\n\n<p>What proguard rule can I apply to target <code>internal</code> classes?</p>\n"}, {"tags": ["javascript", "angular", "kotlin", "kotlin-js-interop"], "comments": [{"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1523278036, "post_id": 49632306, "comment_id": 86480341, "body": "I think it&#39;s duplicate of <a href=\"https://stackoverflow.com/questions/44955888/how-to-set-a-static-property-on-a-class-in-kotlin-for-javascript\" title=\"how to set a static property on a class in kotlin for javascript\">stackoverflow.com/questions/44955888/&hellip;</a> . @Freewind you can find a workaround there and feel free to vote the related issue <a href=\"https://youtrack.jetbrains.com/issue/KT-18891\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-18891</a>"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1523278096, "post_id": 49632306, "comment_id": 86480399, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44955888/how-to-set-a-static-property-on-a-class-in-kotlin-for-javascript\">How to set a static property on a class in Kotlin for Javascript</a>"}], "owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 308, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523277830, "creation_date": 1522764812, "last_edit_date": 1523277830, "question_id": 49632306, "link": "https://stackoverflow.com/questions/49632306/is-there-any-way-to-write-kotlin-code-to-generate-javascript-like-appcomponent", "title": "Is there any way to write Kotlin code to generate javascript like &quot;AppComponent.annotations&quot;", "body": "<p>I'm trying to use Kotlin to write angular JavaScript code. Here is some valid Javascript code for angular:</p>\n\n<pre><code>const AppComponent = function () {\n    this.title = 'Angular Hello World Demo'\n};\n\nAppComponent.annotations = [new ng.core.Component({\n    selector: 'hello-app',\n    templateUrl: './app/app.component.html',\n    styleUrls: ['./app/app.component.css']\n})];\n</code></pre>\n\n<p>But I can't write proper Kotlin code to generate such form of JavaScript code.</p>\n\n<p>I tried to use companion object:</p>\n\n<pre><code>class MyComponent {\n   companion object {\n       val annotations = ...\n   }\n}\n</code></pre>\n\n<p>But it actually generates </p>\n\n<pre><code>function MyComponent() {}\nfunction AppComponent$Companion() {\n    this.annotations = ...\n}\n</code></pre>\n\n<p>which is not working.</p>\n\n<p>Is it possible to fix it?</p>\n"}, {"tags": ["websocket", "kotlin", "reactive-programming", "spring-webflux", "project-reactor"], "comments": [{"owner": {"reputation": 23961, "user_id": 2151351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4jmP.png?s=128&g=1", "display_name": "a better oliver", "link": "https://stackoverflow.com/users/2151351/a-better-oliver"}, "edited": false, "score": 0, "creation_date": 1525436889, "post_id": 49631757, "comment_id": 87366853, "body": "You can use the <code>take()</code> operator because you know how many items you will receive."}], "answers": [{"comments": [{"owner": {"reputation": 10504, "user_id": 2635682, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100000529711018/picture?type=large", "display_name": "Garth Gilmour", "link": "https://stackoverflow.com/users/2635682/garth-gilmour"}, "edited": false, "score": 0, "creation_date": 1522835022, "post_id": 49647269, "comment_id": 86303459, "body": "That begs the question of why the connection is not being terminated gracefully? What has been left out on the server side? Also &#39;subscribe&#39; cannot be used with &#39;ReactorNettyWebSocketClient&#39; because of the way they have designed the API. See <a href=\"https://stackoverflow.com/questions/49590325/cannot-use-subscribe-or-subscribewith-with-reactornettywebsocketclient-in\" title=\"cannot use subscribe or subscribewith with reactornettywebsocketclient in\">stackoverflow.com/questions/49590325/&hellip;</a>"}, {"owner": {"reputation": 2131, "user_id": 8951344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdfbf61395a8ed79dac340aa909c9c8f?s=128&d=identicon&r=PG", "display_name": "MuratOzkan", "link": "https://stackoverflow.com/users/8951344/muratozkan"}, "reply_to_user": {"reputation": 10504, "user_id": 2635682, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100000529711018/picture?type=large", "display_name": "Garth Gilmour", "link": "https://stackoverflow.com/users/2635682/garth-gilmour"}, "edited": false, "score": 0, "creation_date": 1522841323, "post_id": 49647269, "comment_id": 86307628, "body": "That&#39;s because server doesn&#39;t call <code>close()</code> when the initial stream ends: <code>...().delayElements(...).then(session::close);</code>"}, {"owner": {"reputation": 10504, "user_id": 2635682, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100000529711018/picture?type=large", "display_name": "Garth Gilmour", "link": "https://stackoverflow.com/users/2635682/garth-gilmour"}, "edited": false, "score": 0, "creation_date": 1522843159, "post_id": 49647269, "comment_id": 86308891, "body": "Or rather I can write &#39;delayElements(...).doOnComplete { session.close() }&#39; or &#39;delayElements(...).doFinally { session.close() }&#39; but neither affects the output. A call to &#39;.then(...)&#39; does not compile at that position."}], "tags": [], "owner": {"reputation": 2131, "user_id": 8951344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdfbf61395a8ed79dac340aa909c9c8f?s=128&d=identicon&r=PG", "display_name": "MuratOzkan", "link": "https://stackoverflow.com/users/8951344/muratozkan"}, "is_accepted": false, "score": 0, "last_activity_date": 1522842657, "last_edit_date": 1522842657, "creation_date": 1522833709, "answer_id": 49647269, "question_id": 49631757, "link": "https://stackoverflow.com/questions/49631757/how-to-ensure-reactive-stream-completes-with-spring-webflux-and-websockets/49647269#49647269", "title": "How to ensure Reactive Stream completes with Spring WebFlux and WebSockets", "body": "<p>As can be seen from the <a href=\"https://raw.githubusercontent.com/reactor/reactor-core/v3.1.3.RELEASE/src/docs/marble/aggregate.png\" rel=\"nofollow noreferrer\">marble diagram for <code>reduce</code></a>, it expects the upstream publisher to send an <code>onComplete</code> event to emit an event itself. I am not sure but I think that's emitted only when the connection is terminated gracefully. That's why the <code>doOnNext</code> is never executed. </p>\n\n<p>Instead of <code>reduce</code> I think you should use the <code>subscribe()</code> instead, and define your own <code>Subscriber</code> instance where you could keep the state. </p>\n\n<p><strong>EDIT:</strong> You can't use a <code>subscribe</code> method here. Though it should work like this if the connection is closed on server:</p>\n\n<pre><code>.map(Int::toString)\n        .map(session::textMessage)\n        .delayElements(Duration.ofMillis(500))\n        .then(session::close)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4484, "user_id": 480980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4780f0522e2b4f2ec1969b5bd44ac33f?s=128&d=identicon&r=PG", "display_name": "Rossen Stoyanchev", "link": "https://stackoverflow.com/users/480980/rossen-stoyanchev"}, "is_accepted": true, "score": 2, "last_activity_date": 1542722467, "last_edit_date": 1542722467, "creation_date": 1542655713, "answer_id": 53381376, "question_id": 49631757, "link": "https://stackoverflow.com/questions/49631757/how-to-ensure-reactive-stream-completes-with-spring-webflux-and-websockets/53381376#53381376", "title": "How to ensure Reactive Stream completes with Spring WebFlux and WebSockets", "body": "<p>The <code>Mono&lt;Void&gt;</code> returned from a <code>WebSocketHandler</code> indicates when handling is complete, that in turn indicates how long the WebSocket connection should remain open. The problem is that on both sides the <code>Mono&lt;Void&gt;</code> returned will never complete.</p>\n\n<p>The client uses <code>reduce</code> which waits for the end of input from the server side, but the server uses <code>receive()</code> + <code>doOnNext</code> + <code>then()</code> which waits to receive messages forever. So client and server both wait for each other. Adding <code>take</code> on the client side helps to break the stalemate:</p>\n\n<pre><code>client.execute(uri, session -&gt; session\n        .send(input.map(session::textMessage))\n        .then(session.receive()\n                .map(WebSocketMessage::getPayloadAsText)\n                .map(Integer::valueOf)\n                .take(3)\n                .reduce((a,b) -&gt; {\n                    logger.debug(\"Reduce called with \" + a + \" and \" + b);\n                    return a + b;\n                })\n                .doOnNext(logger::debug)\n        )\n        .then()\n).block();\n</code></pre>\n\n<p>The second issue is that the server is incorrectly composed. The sending is triggered in parallel with receiving via <code>.and</code>. Instead the sending stream should depend on receiving the count first:</p>\n\n<pre><code>session.receive()\n        .map(WebSocketMessage::getPayloadAsText)\n        .flatMap(s -&gt; {\n            logger.debug(\"About to send \" + s + \" numbers\");\n            count.set(Integer.parseInt(s));\n            return session.send(publisher);\n        })\n        .then()\n</code></pre>\n"}], "owner": {"reputation": 10504, "user_id": 2635682, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100000529711018/picture?type=large", "display_name": "Garth Gilmour", "link": "https://stackoverflow.com/users/2635682/garth-gilmour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1226, "favorite_count": 1, "accepted_answer_id": 53381376, "answer_count": 2, "score": 0, "last_activity_date": 1542722467, "creation_date": 1522763240, "last_edit_date": 1522846407, "question_id": 49631757, "link": "https://stackoverflow.com/questions/49631757/how-to-ensure-reactive-stream-completes-with-spring-webflux-and-websockets", "title": "How to ensure Reactive Stream completes with Spring WebFlux and WebSockets", "body": "<p>I have written a test client and server for Spring WebFlux in Kotlin. The client sends a number to the server (e.g. 4) and gets back that many numbers (e.g. 0, 1, 2 and 3). Here is the server implementation:</p>\n\n<pre><code>class NumbersWebSocketHandler : WebSocketHandler {\n    override fun handle(session: WebSocketSession): Mono&lt;Void&gt; {\n        var index = 0\n        var count = 1\n        val publisher = Flux.generate&lt;Int&gt; { sink -&gt;\n            if (index &lt; count) {\n                sink.next(index)\n                index++\n            } else {\n                sink.complete()\n            }\n        }.map(Int::toString)\n            .map(session::textMessage)\n            .delayElements(Duration.ofMillis(500))\n\n        return session.receive()\n            .map(WebSocketMessage::getPayloadAsText)\n            .doOnNext {\n                println(\"About to send $it numbers\")\n                count = it.toInt()\n            }\n            .then()\n            .and(session.send(publisher))\n            .then()\n    }\n}\n</code></pre>\n\n<p>And here is the client:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val uri = URI(\"ws://localhost:8080/numbers\")\n    val client = ReactorNettyWebSocketClient()\n\n    println(\"How many numbers would you like?\")\n    val input = Flux.just(readLine())\n\n    client.execute(uri) { session -&gt;\n        session.send(input.map(session::textMessage))\n            .then(\n                session.receive()\n                    .map(WebSocketMessage::getPayloadAsText)\n                    .map { it.toInt() }\n                    .reduce { a,b -&gt;\n                        println(\"Reduce called with $a and $b\")\n                        a + b\n                    }\n                    .doOnNext(::println)\n                    .then()\n            )\n            .then()\n    }.block()\n}\n</code></pre>\n\n<p>The client successfully receives the numbers and reduce is invoked as below:</p>\n\n<blockquote>\n  <p>Reduce called with 0 and 1</p>\n  \n  <p>Reduce called with 1 and 2</p>\n  \n  <p>Reduce called with 3 and 3</p>\n</blockquote>\n\n<p>However the call to <strong>doOnNext</strong> is never reached - presumably because the client is unaware that the last item has been sent. My question is what code do I need to add, on either client or server, for the total to be printed?</p>\n\n<p><strong>UPDATE:</strong> Closing the session on the server side does not help. I have tried:</p>\n\n<pre><code>.delayElements(Duration.ofMillis(500))\n.doOnComplete { session.close() }\n</code></pre>\n\n<p>And also:</p>\n\n<pre><code>.delayElements(Duration.ofMillis(500))\n.doFinally { session.close() }\n</code></pre>\n\n<p>But neither have any affect on the behaviour of the client. Neither does trying to close the session explicitly after the call to 'send':</p>\n\n<pre><code>.and(session.send(publisher))\n.then()\n.and { session.close() }\n.then()\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1522760979, "post_id": 49630836, "comment_id": 86268770, "body": "what is your minSdk"}, {"owner": {"reputation": 31, "user_id": 8167348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/szl4L.jpg?s=128&g=1", "display_name": "Simon Varivoda", "link": "https://stackoverflow.com/users/8167348/simon-varivoda"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1522761244, "post_id": 49630836, "comment_id": 86268977, "body": "compileSdkVersion - 26; minSdkVersion - 19"}], "answers": [{"tags": [], "owner": {"reputation": 106, "user_id": 5090474, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T-IlR0QVdCY/AAAAAAAAAAI/AAAAAAAARw0/-G3BccmSwCI/photo.jpg?sz=128", "display_name": "Sanket Naik", "link": "https://stackoverflow.com/users/5090474/sanket-naik"}, "is_accepted": false, "score": 0, "last_activity_date": 1538050393, "creation_date": 1538050393, "answer_id": 52536767, "question_id": 49630836, "link": "https://stackoverflow.com/questions/49630836/android-and-kotlin-unresolved-reference-home/52536767#52536767", "title": "Android and Kotlin: Unresolved reference: home", "body": "<p>Alternatively you can put this line in onCreate()</p>\n\n<pre><code>supportActionBar?.setDisplayHomeAsUpEnabled(true)\n</code></pre>\n\n<p>And then in your manifest add a meta-data tag like below.</p>\n\n<pre><code>&lt;activity\n        android:name=\".YourActivity\"\n        android:label=\"Your Activity\" &gt;\n        &lt;meta-data\n            android:name=\"android.support.PARENT_ACTIVITY\"\n            android:value=\"com.example.app_name.YourActivity\" /&gt;\n  &lt;/activity&gt;\n</code></pre>\n\n<p>If you do this you  do not need to handle home button press in onOptionsItemSelected() method.</p>\n"}], "owner": {"reputation": 31, "user_id": 8167348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/szl4L.jpg?s=128&g=1", "display_name": "Simon Varivoda", "link": "https://stackoverflow.com/users/8167348/simon-varivoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1538050393, "creation_date": 1522760631, "question_id": 49630836, "link": "https://stackoverflow.com/questions/49630836/android-and-kotlin-unresolved-reference-home", "title": "Android and Kotlin: Unresolved reference: home", "body": "<p>I have activity with up home navigation button.\nThere is my listener:</p>\n\n<pre><code>override fun onOptionsItemSelected(item: MenuItem) =\n    when (item.itemId) {\n        android.R.id.home -&gt; {\n            onBackPressed()\n            true\n        }\n    else -&gt; false\n}\n</code></pre>\n\n<p>When i build this i get the error: Unresolved reference: home</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1271, "user_id": 4763712, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-Pxz1C9E2ZjQ/AAAAAAAAAAI/AAAAAAAAAac/Y2a9HgBEQ48/photo.jpg?sz=128", "display_name": "Amjad Khan", "link": "https://stackoverflow.com/users/4763712/amjad-khan"}, "edited": false, "score": 0, "creation_date": 1522758855, "post_id": 49630133, "comment_id": 86267183, "body": "<code>No such file or directory</code> This means you are doing some file operation so folder or file not found which you are creating"}, {"owner": {"reputation": 78, "user_id": 6157333, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xCKKYjDKwko/AAAAAAAAAAI/AAAAAAAADnY/tmsSB18UXzM/photo.jpg?sz=128", "display_name": "Ahmad Sattout", "link": "https://stackoverflow.com/users/6157333/ahmad-sattout"}, "reply_to_user": {"reputation": 1271, "user_id": 4763712, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-Pxz1C9E2ZjQ/AAAAAAAAAAI/AAAAAAAAAac/Y2a9HgBEQ48/photo.jpg?sz=128", "display_name": "Amjad Khan", "link": "https://stackoverflow.com/users/4763712/amjad-khan"}, "edited": false, "score": 0, "creation_date": 1522759329, "post_id": 49630133, "comment_id": 86267504, "body": "@AmjadKhan Please check the edit, I&#39;m already creating the folder before trying to copy, but it fails"}], "answers": [{"comments": [{"owner": {"reputation": 78, "user_id": 6157333, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xCKKYjDKwko/AAAAAAAAAAI/AAAAAAAADnY/tmsSB18UXzM/photo.jpg?sz=128", "display_name": "Ahmad Sattout", "link": "https://stackoverflow.com/users/6157333/ahmad-sattout"}, "edited": false, "score": 0, "creation_date": 1522762802, "post_id": 49631406, "comment_id": 86270155, "body": "Never thought that would make an error, it worked! Tho why is it working on Android 21?"}, {"owner": {"reputation": 13281, "user_id": 940834, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/03ef5a0987f8e09322461dc059972624?s=128&d=identicon&r=PG", "display_name": "IAmGroot", "link": "https://stackoverflow.com/users/940834/iamgroot"}, "reply_to_user": {"reputation": 78, "user_id": 6157333, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xCKKYjDKwko/AAAAAAAAAAI/AAAAAAAADnY/tmsSB18UXzM/photo.jpg?sz=128", "display_name": "Ahmad Sattout", "link": "https://stackoverflow.com/users/6157333/ahmad-sattout"}, "edited": false, "score": 0, "creation_date": 1522768584, "post_id": 49631406, "comment_id": 86274485, "body": "@AhmadSattout Not sure about that. But this way is definitely safer on all devices :) Glad its working for you"}], "tags": [], "owner": {"reputation": 13281, "user_id": 940834, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/03ef5a0987f8e09322461dc059972624?s=128&d=identicon&r=PG", "display_name": "IAmGroot", "link": "https://stackoverflow.com/users/940834/iamgroot"}, "is_accepted": true, "score": 1, "last_activity_date": 1522762260, "creation_date": 1522762260, "answer_id": 49631406, "question_id": 49630133, "link": "https://stackoverflow.com/questions/49630133/android-error-creating-folder/49631406#49631406", "title": "Android - Error creating folder", "body": "<p>You are creating a folder with <code>:</code> present in the path.</p>\n\n<p>This to my knowledge is an invalid character. It is definitely invalid on Windows. (try creating a folder with a colon, and you will see the warning Windows throws) </p>\n\n<p>Try formatting the date part to use <code>.</code> (full stops) instead. As visually it should be similar, and is a valid character.</p>\n\n<p>Try a format like below for a directory friendly format:</p>\n\n<pre><code>new SimpleDateFormat(\"yyyy-MM-dd HH.mm.ss\")\n</code></pre>\n"}], "owner": {"reputation": 78, "user_id": 6157333, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xCKKYjDKwko/AAAAAAAAAAI/AAAAAAAADnY/tmsSB18UXzM/photo.jpg?sz=128", "display_name": "Ahmad Sattout", "link": "https://stackoverflow.com/users/6157333/ahmad-sattout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 49631406, "answer_count": 1, "score": 1, "last_activity_date": 1522762260, "creation_date": 1522758614, "last_edit_date": 1522759282, "question_id": 49630133, "link": "https://stackoverflow.com/questions/49630133/android-error-creating-folder", "title": "Android - Error creating folder", "body": "<p>I'm trying to create a new folder in the external storage of the emulator. It's working once, but not in the second time.\nI tried debugging, and this is the debug log :</p>\n\n<pre><code>&gt;&gt; Let's debug why this directory isn't being created: \nIs it working?: false\nDoes it exist?: false\nWhat is the full URI?: file:/storage/emulated/0/Notepad/Apr%203,%202018%2012:27:46%20PM\n--\nCan we write to this file?: false\n&gt;&gt; We can't write! Do we have WRITE_EXTERNAL_STORAGE permission?\nWe do have permission - the problem lies elsewhere.\nAre we even allowed to read this file?: false\n--\n&gt;&gt; End of debugging.\n</code></pre>\n\n<p>And this is the error :</p>\n\n<pre><code>java.io.FileNotFoundException: /storage/emulated/0/Notepad/Apr 3, 2018 12:27:46 PM/database: open failed: ENOENT (No such file or directory)\n</code></pre>\n\n<p>It's working well on API 23 and API 27, but it's failing on API 17 and API 19.</p>\n\n<p>What could be wrong? Why isn't the folder being created?\nI have read and write permission, so I'm sure that's not the error, it's working on API 23.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>This is the code before the log</p>\n\n<pre><code>val backupFolder = File(Environment.getExternalStorageDirectory(), \"Notepad\")\nif (!backupFolder.exists()) backupFolder.mkdir()\n\nval date = SimpleDateFormat.getDateTimeInstance().format(System.currentTimeMillis())\nval newBackupFolder = File(backupFolder, date)\nnewBackupFolder.mkdir()\n</code></pre>\n\n<p>and this is after the log :</p>\n\n<pre><code>val backupFile = File(newBackupFolder, \"database\")\ndatabaseFile.copyTo(backupFile)\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 5306, "user_id": 1210841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LS4Qt.jpg?s=128&g=1", "display_name": "Yazazzello", "link": "https://stackoverflow.com/users/1210841/yazazzello"}, "edited": false, "score": 0, "creation_date": 1523371346, "post_id": 49630048, "comment_id": 86528041, "body": "Issue is not present in Android Studio 3.2 Canary 10 Build #AI-181.2784.17.32.4705630, built on April 6, 2018"}, {"owner": {"reputation": 313, "user_id": 362944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64192e500f38d60a91cb71c6321fea3b?s=128&d=identicon&r=PG", "display_name": "akamuza", "link": "https://stackoverflow.com/users/362944/akamuza"}, "reply_to_user": {"reputation": 5306, "user_id": 1210841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LS4Qt.jpg?s=128&g=1", "display_name": "Yazazzello", "link": "https://stackoverflow.com/users/1210841/yazazzello"}, "edited": false, "score": 0, "creation_date": 1523431619, "post_id": 49630048, "comment_id": 86552987, "body": "Thanks for your feedback I&#39;ll give it a try. I hoped that this issue would be resolved in recent Android Studio 3.1.1, but still I got the same exceptions in files with databinding."}, {"owner": {"reputation": 477, "user_id": 1090523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Lt4Fvt_xdSQ/AAAAAAAAAAI/AAAAAAAACWc/f2LEBdUKOYI/photo.jpg?sz=128", "display_name": "Chapz", "link": "https://stackoverflow.com/users/1090523/chapz"}, "edited": false, "score": 0, "creation_date": 1523445111, "post_id": 49630048, "comment_id": 86561911, "body": "Can you navigate from data binding class to XML using CTRL-click? It used to work on 3.0 but now its broken."}, {"owner": {"reputation": 313, "user_id": 362944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64192e500f38d60a91cb71c6321fea3b?s=128&d=identicon&r=PG", "display_name": "akamuza", "link": "https://stackoverflow.com/users/362944/akamuza"}, "edited": false, "score": 0, "creation_date": 1523455461, "post_id": 49630048, "comment_id": 86569519, "body": "Yes, I can and I can either Ctrl + B to navigate to a definition. But if I type <code>@string&#47;non_existent_string</code> then it&#39;s not highlighted with red as missing one. But it happens only if xml uses databinding, i.e. root node is &lt;layout&gt;. In normal xml (without databinding) everything works as expected - missing resources are highlighted in red. So the problem is in databinding processing. I&#39;ll try to upgrade to 3.2 Canary later to check how it goes there."}, {"owner": {"reputation": 313, "user_id": 362944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64192e500f38d60a91cb71c6321fea3b?s=128&d=identicon&r=PG", "display_name": "akamuza", "link": "https://stackoverflow.com/users/362944/akamuza"}, "reply_to_user": {"reputation": 5306, "user_id": 1210841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LS4Qt.jpg?s=128&g=1", "display_name": "Yazazzello", "link": "https://stackoverflow.com/users/1210841/yazazzello"}, "edited": false, "score": 0, "creation_date": 1523526002, "post_id": 49630048, "comment_id": 86600607, "body": "Well, Android Studio 3.2 Canary 10 did the trick, but I had to reinstall Kotlin plugin. Thanks, @Yazazzello"}], "answers": [{"comments": [{"owner": {"reputation": 5306, "user_id": 1210841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LS4Qt.jpg?s=128&g=1", "display_name": "Yazazzello", "link": "https://stackoverflow.com/users/1210841/yazazzello"}, "edited": false, "score": 0, "creation_date": 1523527136, "post_id": 49793446, "comment_id": 86601418, "body": "You are welcome, I&#39;m glad it worked for you. Because I am experiencing issues with databinding on Canary version. Regretting that I hit the button &quot;upgrade Android Studio to 3.1.0.&quot;"}], "tags": [], "owner": {"reputation": 313, "user_id": 362944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64192e500f38d60a91cb71c6321fea3b?s=128&d=identicon&r=PG", "display_name": "akamuza", "link": "https://stackoverflow.com/users/362944/akamuza"}, "is_accepted": true, "score": 0, "last_activity_date": 1523526721, "creation_date": 1523526721, "answer_id": 49793446, "question_id": 49630048, "link": "https://stackoverflow.com/questions/49630048/android-support-plugin-errors-after-upgrading-android-studio-to-3-1-0/49793446#49793446", "title": "Android Support plugin errors after upgrading Android Studio to 3.1.0", "body": "<p>After some hesitations I decided to move to canary channel and installed Android Studio Canary 10 (importing previous settings), and now specifications are:</p>\n\n<pre>\nAndroid Studio 3.2 Canary 10 Build #AI-181.2784.17.32.4705630, built on April 7, 2018\nJRE: 1.8.0_152-release-1136-b01 amd64 \nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o Linux 4.13.0-38-generic\n</pre>\n\n<p>On installing I had multiple issues with kotlin not finding many classes; invalidate and restart, clean/rebuild didn't help. </p>\n\n<p>Then I just uninstalled Kotlin plugin from <strong>Plugins</strong> section and it looks like after restart it was restored with original version and I have no problems since.</p>\n\n<p>Current Kotlin plugin version: <strong>Version: 1.2.31-Studio3.2-1</strong></p>\n\n<p>And at last everything works as expected. @Yazazzello, thanks for your feedback on Android Studio Canary #10.</p>\n"}], "owner": {"reputation": 313, "user_id": 362944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64192e500f38d60a91cb71c6321fea3b?s=128&d=identicon&r=PG", "display_name": "akamuza", "link": "https://stackoverflow.com/users/362944/akamuza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1686, "favorite_count": 0, "accepted_answer_id": 49793446, "answer_count": 1, "score": 12, "last_activity_date": 1523526721, "creation_date": 1522758329, "last_edit_date": 1522759852, "question_id": 49630048, "link": "https://stackoverflow.com/questions/49630048/android-support-plugin-errors-after-upgrading-android-studio-to-3-1-0", "title": "Android Support plugin errors after upgrading Android Studio to 3.1.0", "body": "<p>I use Kotlin and databinding for my project, after recent upgrade to Android Studio 3.1.0 I constantly see a lot of exceptions in Android Support plugin:</p>\n\n<blockquote>\n  <p>Could not initialize class android.databinding.tool.ext.ExtKt\n  java.lang.NoClassDefFoundError: Could not initialize class\n  android.databinding.tool.ext.ExtKt    at\n  android.databinding.tool.reflection.ModelClass.getTypeName(ModelClass.java:688)\n    at\n  android.databinding.tool.reflection.ModelClass.equals(ModelClass.java:694)\n    at\n  android.databinding.tool.reflection.ModelClass.findSetter(ModelClass.java:614)\n    at\n  android.databinding.tool.reflection.ModelClass.findGetterOrField(ModelClass.java:523)\n    at\n  com.android.tools.idea.lang.databinding.DataBindingXmlReferenceContributor$2.getReferencesByElement(DataBindingXmlReferenceContributor.java:196)\n    at\n  com.intellij.psi.impl.source.resolve.reference.ReferenceProvidersRegistryImpl.getReferences(ReferenceProvidersRegistryImpl.java:135)\n    at\n  com.intellij.psi.impl.source.resolve.reference.ReferenceProvidersRegistryImpl.mapNotEmptyReferencesFromProviders(ReferenceProvidersRegistryImpl.java:123)\n    at\n  com.intellij.psi.impl.source.resolve.reference.ReferenceProvidersRegistryImpl.doGetReferencesFromProviders(ReferenceProvidersRegistryImpl.java:102)\n    at\n  com.intellij.psi.impl.source.resolve.reference.ReferenceProvidersRegistry.getReferencesFromProviders(ReferenceProvidersRegistry.java:59)\n    at\n  com.intellij.psi.impl.source.resolve.reference.ReferenceProvidersRegistry.getReferencesFromProviders(ReferenceProvidersRegistry.java:53)\n    at\n  com.android.tools.idea.lang.databinding.DataBindingPsiElement.getReferences(DataBindingPsiElement.java:32)\n    at\n  org.intellij.plugins.intelliLang.references.InjectedReferencesContributor.getInjectedReferences(InjectedReferencesContributor.java:56)\n    at\n  org.intellij.plugins.intelliLang.references.InjectedReferencesInspection$1.visitElement(InjectedReferencesInspection.java:40)\n    at\n  com.intellij.psi.impl.PsiElementBase.accept(PsiElementBase.java:274)\n    at\n  com.android.tools.idea.lang.databinding.psi.impl.PsiDbExprImpl.accept(PsiDbExprImpl.java:43)\n    at\n  com.android.tools.idea.lang.databinding.psi.impl.PsiDbRefExprImpl.accept(PsiDbRefExprImpl.java:42)\n    at\n  com.intellij.codeInspection.InspectionEngine.acceptElements(InspectionEngine.java:82)\n    at\n  com.intellij.codeInspection.InspectionEngine.createVisitorAndAcceptElements(InspectionEngine.java:70)\n    at\n  com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.doInspectInjectedPsi(LocalInspectionsPass.java:750)\n    at\n  com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.lambda$inspectInjectedPsi$6(LocalInspectionsPass.java:338)\n    at\n  com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:133)\n    at\n  com.intellij.concurrency.ApplierCompleter.tryToExecAllList(ApplierCompleter.java:223)\n    at\n  com.intellij.concurrency.ApplierCompleter.execAndForkSubTasks(ApplierCompleter.java:151)\n    at\n  com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1125)\n    at\n  com.intellij.concurrency.ApplierCompleter.lambda$wrapInReadActionAndIndicator$1(ApplierCompleter.java:105)\n    at\n  com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:543)\n    at\n  com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:488)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)\n    at\n  com.intellij.concurrency.ApplierCompleter.wrapInReadActionAndIndicator(ApplierCompleter.java:116)\n    at\n  com.intellij.concurrency.ApplierCompleter.lambda$compute$0(ApplierCompleter.java:96)\n    at\n  com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:143)\n    at\n  com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:229)\n    at\n  com.intellij.concurrency.ApplierCompleter.compute(ApplierCompleter.java:96)\n    at\n  java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at\n  java.util.concurrent.ForkJoinPool$WorkQueue.pollAndExecCC(ForkJoinPool.java:1190)\n    at\n  java.util.concurrent.ForkJoinPool.helpComplete(ForkJoinPool.java:1879)\n    at\n  java.util.concurrent.ForkJoinPool.awaitJoin(ForkJoinPool.java:2045)\n    at java.util.concurrent.ForkJoinTask.doJoin(ForkJoinTask.java:390)\n    at java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:719)    at\n  java.util.concurrent.ForkJoinPool.invoke(ForkJoinPool.java:2616)  at\n  com.intellij.concurrency.JobLauncherImpl.invokeConcurrentlyUnderProgress(JobLauncherImpl.java:65)\n    at\n  com.intellij.concurrency.JobLauncher.invokeConcurrentlyUnderProgress(JobLauncher.java:57)\n    at\n  com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.inspectInjectedPsi(LocalInspectionsPass.java:341)\n    at\n  com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.inspect(LocalInspectionsPass.java:231)\n    at\n  com.intellij.codeInsight.daemon.impl.LocalInspectionsPass.collectInformationWithProgress(LocalInspectionsPass.java:136)\n    at\n  com.intellij.codeInsight.daemon.impl.ProgressableTextEditorHighlightingPass.doCollectInformation(ProgressableTextEditorHighlightingPass.java:83)\n    at\n  com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)\n    at\n  com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$null$1(PassExecutorService.java:437)\n    at\n  com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1130)\n    at\n  com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$doRun$2(PassExecutorService.java:430)\n    at\n  com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:543)\n    at\n  com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:488)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)\n    at\n  com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.doRun(PassExecutorService.java:429)\n    at\n  com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$run$0(PassExecutorService.java:405)\n    at\n  com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:143)\n    at\n  com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:229)\n    at\n  com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:403)\n    at\n  com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:170)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at\n  java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n    at\n  java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n    at\n  java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)</p>\n</blockquote>\n\n<p>My main <strong>build.gradle</strong> </p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.31'\n    ext.protobuf_version = '3.0.0'\n    ext.anko_version='0.10.4'\n\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.5'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>Application <strong>build.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'project-report'\n\nandroid {\n    compileSdkVersion 27\n    buildToolsVersion \"27.0.3\"\n\n    defaultConfig {\n        applicationId \"com.myapp\"\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n\n        javaCompileOptions {\n            annotationProcessorOptions {\n                arguments = [\"room.schemaLocation\": \"$projectDir/schemas\".toString()]\n            }\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    dataBinding {\n        enabled = true\n    }\n}\n\nkapt {\n    useBuildCache = true\n    mapDiagnosticLocations = true\n}\n\ndependencies {\n    implementation project(':proto')\n\n    implementation \"android.arch.persistence.room:runtime:1.0.0\"\n    implementation 'com.android.support:recyclerview-v7:27.1.0'\n    kapt \"android.arch.persistence.room:compiler:1.0.0\"\n    kapt \"com.android.databinding:compiler:3.1.0\"\n\n    implementation \"android.arch.lifecycle:extensions:1.1.1\"\n    implementation \"android.arch.lifecycle:common-java8:1.1.1\"\n\n    implementation 'com.auth0.android:jwtdecode:1.1.1'\n    implementation 'com.squareup.okhttp3:okhttp:3.9.1'\n\n    // Anko\n    implementation \"org.jetbrains.anko:anko-sdk15:$anko_version\"\n    implementation \"org.jetbrains.anko:anko-appcompat-v7:$anko_version\"\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:27.1.0'\n    implementation 'com.android.support:design:27.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:support-v4:27.1.0'\n    implementation 'com.android.support:support-vector-drawable:27.1.0'\n\n    testImplementation 'junit:junit:4.12'\n\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n    //noinspection GradleDependency\n    androidTestImplementation 'org.exparity:hamcrest-date:1.1.0'\n}\n</code></pre>\n\n<p>And <strong>gradle.properties</strong></p>\n\n<pre><code>org.gradle.jvmargs=-Xmx2048m\nkotlin.incremental.usePreciseJavaTracking=true\nandroid.enableD8=true\nandroid.databinding.enableV2=true\n</code></pre>\n\n<p><strong>gradle-wrapper.properties</strong></p>\n\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.4-all.zip\n</code></pre>\n\n<p>So far I have tried:</p>\n\n<ul>\n<li>Invalidate cache and restart</li>\n<li>Reimport project</li>\n<li>Clean and rebuid</li>\n<li>Clean install without former configurations + reimport project + no extra plugins installed</li>\n<li>In gradle.properties commenting out each line by one or all of them + invalidate and restart</li>\n<li>Tried <code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"</code> in gradle \"just in case\"</li>\n</ul>\n\n<p>Nothing helped and errors still pop up almost in each file. As I can see this somehow is related to binding and kotlin.</p>\n\n<p>Did anyone encounter this issue?</p>\n\n<p>PS</p>\n\n<p>In layout xml files non-existing string resources are not even highlighted, e.g. <code>@string/non_existing_title</code> - just appears as a valid string resource (even after clean install).\nThough I'm not sure if this issue is related to reported exceptions.</p>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>I noticed that after Invalidate &amp; restart another exception is thrown once:</p>\n\n<pre><code>com/squareup/javapoet/TypeName\njava.lang.NoClassDefFoundError: com/squareup/javapoet/TypeName\n    at android.databinding.tool.ext.ExtKt.&lt;clinit&gt;(ext.kt:180)\n    at android.databinding.tool.reflection.ModelClass.getTypeName(ModelClass.java:688)\n    at android.databinding.tool.reflection.ModelClass.equals(ModelClass.java:694)\n    at android.databinding.tool.reflection.ModelClass.findSetter(ModelClass.java:614)\n    at android.databinding.tool.reflection.ModelClass.findGetterOrField(ModelClass.java:523)\n....\nCaused by: java.lang.ClassNotFoundException: com.squareup.javapoet.TypeName PluginClassLoader[org.jetbrains.android, 10.3.1] com.intellij.ide.plugins.cl.PluginClassLoader@19c41e97\n    at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:63)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 63 more\n</code></pre>\n\n<p>I've tried to add javapoet dependency but this exception is still thrown once after invalidating. And then only <code>Could not initialize class android.databinding.tool.ext.ExtKt</code> exceptions are thrown as reported initially.</p>\n"}, {"tags": ["android", "kotlin", "adapter", "dagger-2"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1522759545, "post_id": 49629947, "comment_id": 86267649, "body": "what error do you get?"}, {"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1522818486, "post_id": 49629947, "comment_id": 86293935, "body": "kotlin.UninitializedPropertyAccessException: lateinit property activityComponent has not been initialized   i got this error"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1522825343, "post_id": 49629947, "comment_id": 86297261, "body": "That means that your <code>activityComponent</code> has never been initialized, so it is very similar to a <code>NullPointerException</code>"}], "answers": [{"comments": [{"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "reply_to_user": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1522827519, "post_id": 49644729, "comment_id": 86298653, "body": "@Rupesh I&#39;m glad it helped and thanks for the quick accept. Good luck!"}], "tags": [], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "is_accepted": true, "score": 1, "last_activity_date": 1522825256, "creation_date": 1522825256, "answer_id": 49644729, "question_id": 49629947, "link": "https://stackoverflow.com/questions/49629947/dependency-injection-in-adapter-in-kotlin-dagger2/49644729#49644729", "title": "Dependency Injection in Adapter in kotlin Dagger2", "body": "<p>There is no need to request injection from a Dagger 2 Component inside an Adapter for a RecyclerView or a ListView.</p>\n\n<p>For Fragments and Activities we have no choice other than to explictly request injection from a Component since these objects are instantiated by the Android OS and we don't \"control\" the constructors. </p>\n\n<p>For everything else, including Adapters, you should prefer constructor injection and then setting parameters manually.</p>\n\n<p>Something idiomatic would look something like the following. Inside your Fragment:</p>\n\n<pre><code>class MyFragment : Fragment {\n\n    @Inject\n    lateinit var accountsAdapter: accountsAdapter\n\n    @Inject\n    lateinit var accountsRepository: AccountsRepository\n\n    //load accounts in onStart or wherever you decide to load\n    //when loading finished, execute the following method in a callback\n\n    fun onAccountsLoaded(accounts: Accounts) {\n        adapter.setAccounts(accounts)\n    }\n}\n</code></pre>\n\n<p>For example, your Adapter could do something like:</p>\n\n<pre><code>class Adapter @Inject constructor() : BaseAdapter {\n\n    fun setAccounts(accounts: Accounts) {\n        this.accounts = accounts\n        notifyDataSetChanged()\n    } \n}\n</code></pre>\n\n<p>You can see the official Google Android Architectural examples for using a ListView with Dagger 2. The link is <a href=\"https://github.com/googlesamples/android-architecture\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 762, "favorite_count": 0, "accepted_answer_id": 49644729, "answer_count": 1, "score": 1, "last_activity_date": 1582441710, "creation_date": 1522757962, "last_edit_date": 1582441710, "question_id": 49629947, "link": "https://stackoverflow.com/questions/49629947/dependency-injection-in-adapter-in-kotlin-dagger2", "title": "Dependency Injection in Adapter in kotlin Dagger2", "body": "<h2>Expected Result</h2>\n\n<p>What am I'm trying to do is to inject my <code>AccountType</code> class to <code>ExpandableAdpter</code> and on click of child view what to check user Type? </p>\n\n<p>How to implement dagger in Adapter?</p>\n\n<p>Dagger working fine with Fragment and Activity. only getting null in adapter because unable to initialize adapter to dagger </p>\n\n<h2>Sample for interface in dagger</h2>\n\n<pre><code>//Di interface \ninterface ActivityComponent : BaseComponent {\n// adapter\nfun inject(expDragSwipeAdapter: ExpandableDraggableSwipeableAdapter)\n\n}\n</code></pre>\n\n<h2>Adapter <code>onCreate</code> of group and childview</h2>\n\n<pre><code>@Inject lateinit var accountType: Accounts\nprivate lateinit var activityComponent: ActivityComponent\n\noverride fun onCreateGroupViewHolder(parent: ViewGroup, viewType: Int): MyGroupViewHolder {\n    activityComponent.inject(this)\n    val inflater = LayoutInflater.from(parent.context)\n    val v: View\n    if (isDragRequire) {\n        v = inflater.inflate(R.layout.row_edit_watchlist, parent, false)\n    } else {\n        v = inflater.inflate(R.layout.row_watchlist, parent, false)\n    }\n    return MyGroupViewHolder(v, isDragRequire, mContext)\n}\n\noverride fun onCreateChildViewHolder(parent: ViewGroup, viewType: Int): MyChildViewHolder {\n    activityComponent.inject(this)\n    val inflater = LayoutInflater.from(parent.context)\n    val v = inflater.inflate(R.layout.row_child_watchlist, parent, false)\n    return MyChildViewHolder(v, false)\n}\n</code></pre>\n\n<p>I'm facing the error in this line  <code>activityComponent.inject(this)</code></p>\n\n<p>On The onclick checking AccountType and implement business logic </p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 28527, "user_id": 996493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KyD1N.jpg?s=128&g=1", "display_name": "Lucifer", "link": "https://stackoverflow.com/users/996493/lucifer"}, "edited": false, "score": 0, "creation_date": 1522757680, "post_id": 49629821, "comment_id": 86266396, "body": "any error log ? when you try to open installed apk ?"}, {"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "reply_to_user": {"reputation": 28527, "user_id": 996493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KyD1N.jpg?s=128&g=1", "display_name": "Lucifer", "link": "https://stackoverflow.com/users/996493/lucifer"}, "edited": false, "score": 0, "creation_date": 1522757756, "post_id": 49629821, "comment_id": 86266461, "body": "no. it only says <code>APK(s) generated successfully</code>"}, {"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "reply_to_user": {"reputation": 28527, "user_id": 996493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KyD1N.jpg?s=128&g=1", "display_name": "Lucifer", "link": "https://stackoverflow.com/users/996493/lucifer"}, "edited": false, "score": 0, "creation_date": 1522757831, "post_id": 49629821, "comment_id": 86266506, "body": "@Lucifer I just added my gradle in my question. please take a look"}, {"owner": {"reputation": 28527, "user_id": 996493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KyD1N.jpg?s=128&g=1", "display_name": "Lucifer", "link": "https://stackoverflow.com/users/996493/lucifer"}, "edited": false, "score": 0, "creation_date": 1522757890, "post_id": 49629821, "comment_id": 86266532, "body": "try Aditya&#39;s answer"}, {"owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "edited": false, "score": 0, "creation_date": 1522778818, "post_id": 49629821, "comment_id": 86280577, "body": "have you tried installing from the command line with <code>adb install</code>?"}, {"owner": {"reputation": 346, "user_id": 11493135, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I08b-WqLhaA/AAAAAAAAAAI/AAAAAAAABXw/C6tFBaoc6Yg/photo.jpg?sz=128", "display_name": "Rohit Krishnan", "link": "https://stackoverflow.com/users/11493135/rohit-krishnan"}, "edited": false, "score": 0, "creation_date": 1617198320, "post_id": 49629821, "comment_id": 118237283, "body": "adb install works! But I still can&#39;t install manually :( I&#39;m pretty new to android. I want to share my apk without publishing to the play store or asking users to build manually."}, {"owner": {"reputation": 346, "user_id": 11493135, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I08b-WqLhaA/AAAAAAAAAAI/AAAAAAAABXw/C6tFBaoc6Yg/photo.jpg?sz=128", "display_name": "Rohit Krishnan", "link": "https://stackoverflow.com/users/11493135/rohit-krishnan"}, "edited": false, "score": 0, "creation_date": 1617198789, "post_id": 49629821, "comment_id": 118237499, "body": "Okay...I got it to work using <code>adb -d push &#47;path&#47;to&#47;apk &#47;path&#47;on&#47;device</code>. But I&#39;d still like to know why manually copying the apk does not work..."}], "answers": [{"comments": [{"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1522758223, "post_id": 49629987, "comment_id": 86266746, "body": "i did check both of them but i cant still open the apk."}, {"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1522760564, "post_id": 49629987, "comment_id": 86268449, "body": "is release version only open-able from google play? because i dont put in there."}, {"owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "reply_to_user": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1522760904, "post_id": 49629987, "comment_id": 86268720, "body": "@Kakashi No you can install release build even on your device not necessary to install it from <i>Play Store</i>. Make sure when you create <i>release signed apk</i> you should copy it to any of the <i>internal storage</i> folder and then try to install it."}, {"owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "reply_to_user": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1522762420, "post_id": 49629987, "comment_id": 86269862, "body": "@Kakashi Mark it as accepted and upvote if it helped you."}], "tags": [], "owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "is_accepted": false, "score": 2, "last_activity_date": 1522758404, "last_edit_date": 1522758404, "creation_date": 1522758097, "answer_id": 49629987, "question_id": 49629821, "link": "https://stackoverflow.com/questions/49629821/cant-open-to-install-apk-built-from-android-studio/49629987#49629987", "title": "can&#39;t open (to install) apk built from android studio", "body": "<p>Create you <em>Signed APK</em> with below process.</p>\n\n<ul>\n<li><code>Build</code> > Generate <code>Signed</code> apk.</li>\n<li>Create <code>Keystore</code> path.</li>\n<li>Put <code>Password, alias,</code> key <code>password</code>.</li>\n<li>Build type (<code>Release</code> for <code>Play Store</code>).</li>\n<li>Signature Version select <code>V1</code> and <code>V2</code> both checkboxes inside this.</li>\n<li><code>Finish</code></li>\n</ul>\n\n<p>Update </p>\n\n<p>Also you may need to check that if an app is already installed with same <code>package name</code>. Go to Settings ==> Apps ==> Click on your App ==> In App info page at the action bar menu there will be an option called <code>Uninstall for All users</code> click that.</p>\n"}, {"tags": [], "owner": {"reputation": 599, "user_id": 2753564, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d1f7b90ad99b3b6663bcf2e856a7d963?s=128&d=identicon&r=PG&f=1", "display_name": "A. D&#39;Alfonso", "link": "https://stackoverflow.com/users/2753564/a-dalfonso"}, "is_accepted": false, "score": 0, "last_activity_date": 1573825268, "last_edit_date": 1573825268, "creation_date": 1573824912, "answer_id": 58878173, "question_id": 49629821, "link": "https://stackoverflow.com/questions/49629821/cant-open-to-install-apk-built-from-android-studio/58878173#58878173", "title": "can&#39;t open (to install) apk built from android studio", "body": "<p>I was facing kind of the same issue with an Ionic 4 build Android app.</p>\n\n<p>Once I built my app and got an apk, I open it with Android Studio then in menu I choose</p>\n\n<pre><code>Build &gt; Build Bundle(s) / APK(s) &gt; Build APK(s)\n</code></pre>\n\n<p>so I can install my apk on my device when I open the generated apk from Archive</p>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 11962145, "user_type": "registered", "profile_image": "https://graph.facebook.com/372539186764341/picture?type=large", "display_name": "Riad Rekab", "link": "https://stackoverflow.com/users/11962145/riad-rekab"}, "is_accepted": false, "score": 0, "last_activity_date": 1606074395, "creation_date": 1606074395, "answer_id": 64958770, "question_id": 49629821, "link": "https://stackoverflow.com/questions/49629821/cant-open-to-install-apk-built-from-android-studio/64958770#64958770", "title": "can&#39;t open (to install) apk built from android studio", "body": "<p>Follow this article  : <a href=\"https://docs.microsoft.com/en-us/xamarin/android/deploy-test/signing/manually-signing-the-apk\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/xamarin/android/deploy-test/signing/manually-signing-the-apk</a></p>\n<p>I had the same issue and the solution was to sign the apk by yourself. Generally, the IDE is responsible of this operation but sometimes it doesn't do the job.</p>\n"}], "owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6399, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1606074395, "creation_date": 1522757553, "last_edit_date": 1522759392, "question_id": 49629821, "link": "https://stackoverflow.com/questions/49629821/cant-open-to-install-apk-built-from-android-studio", "title": "can&#39;t open (to install) apk built from android studio", "body": "<p>I cant open APK that I built from android studio <code>build &gt; Generate Signed APK</code>.  the build went smooth without error but I could not open the APK to install it. </p>\n\n<p>FYI I already tried another APK from somewhere and I could open it, so it's not my phone issue or security.</p>\n\n<p>how to fix this? I am lost because there is no error. it just says <code>can't open file</code>.</p>\n\n<p>this is my gradle</p>\n\n<pre><code>     apply plugin: 'com.android.application'\n\n     apply plugin: 'kotlin-android'\n\n     apply plugin: 'kotlin-android-extensions'\n\n     android {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"com.mockie.daikokuten\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    }\n\n     dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support:support-v4:26.1.0'\n    implementation 'com.android.support:design:26.1.0'\n    implementation 'com.android.support:recyclerview-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:support-vector-drawable:26.1.0'\n    implementation 'com.google.firebase:firebase-messaging:11.8.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n    compile \"org.jetbrains.anko:anko-sqlite:0.10.3\"\n    compile 'com.squareup.retrofit2:retrofit:2.3.0'\n    compile \"com.squareup.retrofit2:converter-moshi:2.0.0\"\n    compile 'com.android.volley:volley:1.1.0'\n    implementation files('libs/tscsdk.jar')\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "inversion-of-control", "koin"], "comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1545951166, "post_id": 49629377, "comment_id": 94742054, "body": "Did you find a solution?  I am facing the same question"}], "answers": [{"comments": [{"owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1524751171, "post_id": 49629378, "comment_id": 87106085, "body": "are you sure that your A and B classes can have null values?"}, {"owner": {"reputation": 587, "user_id": 7866996, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-r2ZQbtU8DqE/AAAAAAAAAAI/AAAAAAAAAEc/uRFF1MzCYJU/photo.jpg?sz=128", "display_name": "Patryk Jab\u0142o\u0144ski", "link": "https://stackoverflow.com/users/7866996/patryk-jab%c5%82o%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1531255599, "post_id": 49629378, "comment_id": 89525477, "body": "Hmm, I think that from the KISS perspective it is better to use constructor (not to over-engineer thing ;)) as an injection point in such cases. But it is interesting that we can extend <code>Koin component</code> to allow injection using Koin."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1546031007, "post_id": 49629378, "comment_id": 94766235, "body": "Are you saying we don&#39;t need <code>startKoin</code> in this case?"}, {"owner": {"reputation": 231, "user_id": 8260782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gbj8bZDy7p4/AAAAAAAAAAI/AAAAAAAAAsY/EBJrKtvpKDs/photo.jpg?sz=128", "display_name": "laim2003", "link": "https://stackoverflow.com/users/8260782/laim2003"}, "edited": false, "score": 0, "creation_date": 1608659116, "post_id": 49629378, "comment_id": 115648251, "body": "Be aware that KoinComponent should not be used if not strictly necessary: &quot;The other thing I\u2019ve seen around is the misuse of KoinComponent interface to extend service locator API. Be aware that as a Koin framework user, you shouldn\u2019t need to use this interface. &quot;  <a href=\"https://medium.com/koin-developers/whats-next-with-koin-2-2-3-0-releases-6c5464ae5e3d\" rel=\"nofollow noreferrer\">medium.com/koin-developers/&hellip;</a>"}], "tags": [], "owner": {"reputation": 8055, "user_id": 706387, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/SiTPw.jpg?s=128&g=1", "display_name": "kosiara - Bartosz Kosarzycki", "link": "https://stackoverflow.com/users/706387/kosiara-bartosz-kosarzycki"}, "is_accepted": false, "score": 51, "last_activity_date": 1522756213, "creation_date": 1522756213, "answer_id": 49629378, "question_id": 49629377, "link": "https://stackoverflow.com/questions/49629377/koin-how-to-inject-outside-of-android-activity-appcompatactivity/49629378#49629378", "title": "Koin how to inject outside of Android activity / appcompatactivity", "body": "<p>There is the <code>KoinComponent</code> which comes to the rescue. In any class you can simply:</p>\n\n<pre><code>class SampleClass : KoinComponent {\n\n    val a : A? by inject()\n    val b : B? by inject()\n}\n</code></pre>\n\n<p>Extending <code>KoinComponent</code> gives you access to <code>inject()</code> method.</p>\n\n<p>Remember that usually it's enough to inject stuff the usual way:</p>\n\n<pre><code>class SampleClass(val a : A?, val b: B?)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 511, "user_id": 2294580, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ac684ea0ef593f5eacfa3790c7e15cc7?s=128&d=identicon&r=PG", "display_name": "head01", "link": "https://stackoverflow.com/users/2294580/head01"}, "edited": false, "score": 0, "creation_date": 1574261991, "post_id": 55675198, "comment_id": 104170077, "body": "Why is constructor injection better than that approach with KoinComponent?"}, {"owner": {"reputation": 918, "user_id": 7889026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9fa520606a0eed6c48cbfe04e9e2b2?s=128&d=identicon&r=PG&f=1", "display_name": "harold_admin", "link": "https://stackoverflow.com/users/7889026/harold-admin"}, "reply_to_user": {"reputation": 511, "user_id": 2294580, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ac684ea0ef593f5eacfa3790c7e15cc7?s=128&d=identicon&r=PG", "display_name": "head01", "link": "https://stackoverflow.com/users/2294580/head01"}, "edited": false, "score": 8, "creation_date": 1574315660, "post_id": 55675198, "comment_id": 104190576, "body": "The approach with KoinComponent is known as Field injection. Here are a few reasons why constructor injection is better:  1. Simpler: Your class only care about what dependencies it needs, not about who satisfies them. 2. More Robust: An instance of your class in a consistent state as soon as it is constructed, rather than after the field injection is complete. 3. Easier testing: Declaring dependencies in the constructor makes it easier to supply their mocks while testing."}, {"owner": {"reputation": 436, "user_id": 5897324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c09fb21483c5541c5e43e882d8e4ff0?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Miller", "link": "https://stackoverflow.com/users/5897324/richard-miller"}, "edited": false, "score": 0, "creation_date": 1577481459, "post_id": 55675198, "comment_id": 105184797, "body": "@harold_admin  nice answer, can you please explain what is &quot;Repository()&quot; that we extend/implement here?"}, {"owner": {"reputation": 918, "user_id": 7889026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9fa520606a0eed6c48cbfe04e9e2b2?s=128&d=identicon&r=PG&f=1", "display_name": "harold_admin", "link": "https://stackoverflow.com/users/7889026/harold-admin"}, "reply_to_user": {"reputation": 436, "user_id": 5897324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c09fb21483c5541c5e43e882d8e4ff0?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Miller", "link": "https://stackoverflow.com/users/5897324/richard-miller"}, "edited": false, "score": 0, "creation_date": 1577635577, "post_id": 55675198, "comment_id": 105212960, "body": "@Hatzil It could be any base class. Honestly it doesn&#39;t really matter for the purpose of this example. I just wanted to illustrate that you can use Koin whether you have a base class or not."}, {"owner": {"reputation": 363, "user_id": 5643911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632f090580bce282cd54ad6f29f0943c?s=128&d=identicon&r=PG&f=1", "display_name": "ininmm", "link": "https://stackoverflow.com/users/5643911/ininmm"}, "edited": false, "score": 0, "creation_date": 1592184080, "post_id": 55675198, "comment_id": 110324767, "body": "Hey @harold_admin good answer, still have a question that how about if the &quot;MyRepository&quot; is a Manifest-declared broadcast receivers? I&#39;ve solve this by using koin inject extension but maybe there is another solution?"}, {"owner": {"reputation": 918, "user_id": 7889026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9fa520606a0eed6c48cbfe04e9e2b2?s=128&d=identicon&r=PG&f=1", "display_name": "harold_admin", "link": "https://stackoverflow.com/users/7889026/harold-admin"}, "reply_to_user": {"reputation": 363, "user_id": 5643911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632f090580bce282cd54ad6f29f0943c?s=128&d=identicon&r=PG&f=1", "display_name": "ininmm", "link": "https://stackoverflow.com/users/5643911/ininmm"}, "edited": false, "score": 0, "creation_date": 1592208998, "post_id": 55675198, "comment_id": 110331824, "body": "@ininmm I&#39;m not sure if I understand correctly. Is &quot;MyRepository&quot; a broadcast receiver, or does it depend on a broadcast receiver? In the first case, I don&#39;t think you can use constructor injection because BroadcastReceivers are instantiated by the system, leaving field injection as the only option."}, {"owner": {"reputation": 363, "user_id": 5643911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632f090580bce282cd54ad6f29f0943c?s=128&d=identicon&r=PG&f=1", "display_name": "ininmm", "link": "https://stackoverflow.com/users/5643911/ininmm"}, "edited": false, "score": 0, "creation_date": 1592232001, "post_id": 55675198, "comment_id": 110343937, "body": "Yes I mean that &quot;MyRepository&quot; is derived from a broadcast receiver. You absolutely right, using field injection is the only silver bullet."}], "tags": [], "owner": {"reputation": 918, "user_id": 7889026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9fa520606a0eed6c48cbfe04e9e2b2?s=128&d=identicon&r=PG&f=1", "display_name": "harold_admin", "link": "https://stackoverflow.com/users/7889026/harold-admin"}, "is_accepted": false, "score": 19, "last_activity_date": 1555244522, "creation_date": 1555244522, "answer_id": 55675198, "question_id": 49629377, "link": "https://stackoverflow.com/questions/49629377/koin-how-to-inject-outside-of-android-activity-appcompatactivity/55675198#55675198", "title": "Koin how to inject outside of Android activity / appcompatactivity", "body": "<p>Koin provides a solution for this using the <code>KoinComponent</code> interface. For example, if you need to get some dependencies in your repository then you can simply implement the KoinComponent interface. It gives you access to various Koin features such as <code>get()</code> and <code>inject()</code>. Use KoinComponent only when you can't rewrite the constructor to accept dependencies as constructor parameters.</p>\n\n<pre><code>class MyRepository: Repository(), KoinComponent {\n  private val myService by inject&lt;MyService&gt;()\n}\n</code></pre>\n\n<p><strong>Constructor injection is better than this approach.</strong></p>\n\n<p>For example, the same thing can be achieved by:</p>\n\n<pre><code>class MyRepository(private val service: MyService): Repository() {\n    ...\n}\n</code></pre>\n\n<p>And you can add the definition for instantiating this class in a koin module:</p>\n\n<pre><code>val serviceModule = module {\n    ...\n\n    factory { MyService() }\n}\nval repositoryModule = module {\n    ...\n\n    factory { MyRepository(get&lt;MyService&gt;()) }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3037, "user_id": 3569080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6169ccbf3f3ad4e0834f3145a8b2195d?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Mesing", "link": "https://stackoverflow.com/users/3569080/benjamin-mesing"}, "edited": false, "score": 0, "creation_date": 1609949402, "post_id": 60081410, "comment_id": 115981544, "body": "Especially useful if you want to access something that is configured by koin from the ApplicationClass itself :)"}], "tags": [], "owner": {"reputation": 6424, "user_id": 444761, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/MjkEi.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/444761/mark"}, "is_accepted": false, "score": 4, "last_activity_date": 1580924913, "creation_date": 1580924913, "answer_id": 60081410, "question_id": 49629377, "link": "https://stackoverflow.com/questions/49629377/koin-how-to-inject-outside-of-android-activity-appcompatactivity/60081410#60081410", "title": "Koin how to inject outside of Android activity / appcompatactivity", "body": "<p>If you don't want to implement any interfaces then just take a look at how <a href=\"https://github.com/InsertKoinIO/koin/blob/master/koin-projects/koin-core/src/main/kotlin/org/koin/core/KoinComponent.kt#L51-L55\" rel=\"nofollow noreferrer\"><code>KoinComponent.inject()</code></a> is implemented and do something similar yourself:</p>\n\n<pre><code>val sampleClass by lazy { GlobalContext.get().koin.get&lt;SampleClass&gt;() }\n</code></pre>\n"}], "owner": {"reputation": 8055, "user_id": 706387, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/SiTPw.jpg?s=128&g=1", "display_name": "kosiara - Bartosz Kosarzycki", "link": "https://stackoverflow.com/users/706387/kosiara-bartosz-kosarzycki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13287, "favorite_count": 3, "answer_count": 3, "score": 32, "last_activity_date": 1580924913, "creation_date": 1522756213, "question_id": 49629377, "link": "https://stackoverflow.com/questions/49629377/koin-how-to-inject-outside-of-android-activity-appcompatactivity", "title": "Koin how to inject outside of Android activity / appcompatactivity", "body": "<p><strong><a href=\"https://github.com/Ekito/koin\" rel=\"noreferrer\">Koin</a></strong> is a new, lightweight library for DI and can be used in Android as well as in standalone kotlin apps.</p>\n\n<p>Usually you inject dependencies like this:</p>\n\n<pre><code>class SplashScreenActivity : Activity() {\n\n    val sampleClass : SampleClass by inject()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n}\n</code></pre>\n\n<p>with the <code>inject()</code> method.</p>\n\n<p>But what about injecting stuff in places where Activity context is not available i.e. <strong>outside of an Activity</strong>?</p>\n"}, {"tags": ["java", "android", "android-studio", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 869, "user_id": 3030502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/407c91f3ab93841d6ed2ed921a7a6602?s=128&d=identicon&r=PG&f=1", "display_name": "niyou", "link": "https://stackoverflow.com/users/3030502/niyou"}, "edited": false, "score": 0, "creation_date": 1522756344, "post_id": 49629227, "comment_id": 86265445, "body": "please be more specific"}], "answers": [{"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": true, "score": 0, "last_activity_date": 1522756116, "creation_date": 1522756116, "answer_id": 49629334, "question_id": 49629227, "link": "https://stackoverflow.com/questions/49629227/how-to-hide-softkeyboard-in-new-update-oreo-8-1/49629334#49629334", "title": "How to hide softkeyboard in new Update Oreo 8.1", "body": "<p>Please use following method You may get your fix.</p>\n\n<pre><code>public static void hideSoftKeyboard(Activity activity) {\n        InputMethodManager inputMethodManager = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        if (activity.getCurrentFocus() != null &amp;&amp; activity.getCurrentFocus().getWindowToken() != null)\n            inputMethodManager.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), 0);\n    }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4692992, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ARjbMNjxitE/AAAAAAAAAAI/AAAAAAAAABQ/BVALO3WrkT0/photo.jpg?sz=128", "display_name": "Waqas khan", "link": "https://stackoverflow.com/users/4692992/waqas-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 49629334, "answer_count": 1, "score": 1, "last_activity_date": 1522756116, "creation_date": 1522755833, "last_edit_date": 1522755878, "question_id": 49629227, "link": "https://stackoverflow.com/questions/49629227/how-to-hide-softkeyboard-in-new-update-oreo-8-1", "title": "How to hide softkeyboard in new Update Oreo 8.1", "body": "<p>How to hide softkeyboard in Oreo 8.1. I'm using this but not working </p>\n\n<pre><code>getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-alertdialog", "android-textinputlayout"], "comments": [{"owner": {"reputation": 325, "user_id": 8830068, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/659d57085e78c6b1d0d91161bda4802b?s=128&d=identicon&r=PG", "display_name": "Patroy", "link": "https://stackoverflow.com/users/8830068/patroy"}, "edited": false, "score": 0, "creation_date": 1522755820, "post_id": 49629170, "comment_id": 86265118, "body": "I believe that dialog text color is set to due to app theme and you can&#39;t change it without changing the theme accent color in colors.xml"}], "answers": [{"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 1, "last_activity_date": 1522755875, "creation_date": 1522755875, "answer_id": 49629244, "question_id": 49629170, "link": "https://stackoverflow.com/questions/49629170/changing-color-of-ok-button-in-alertdialog/49629244#49629244", "title": "Changing color of OK button in AlertDialog", "body": "<p>Try Following way, you might get your solution</p>\n\n<pre><code>dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(neededColor);\ndialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(neededColor);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "is_accepted": true, "score": 1, "last_activity_date": 1522755918, "creation_date": 1522755918, "answer_id": 49629259, "question_id": 49629170, "link": "https://stackoverflow.com/questions/49629170/changing-color-of-ok-button-in-alertdialog/49629259#49629259", "title": "Changing color of OK button in AlertDialog", "body": "<p>I would rather use a <code>theme</code> to control the way your dialog looks like. In your case</p>\n\n<p><em>R.color.color_blue</em> is a res id. You have to convert it to <em>color</em>. Eg</p>\n\n<pre><code> dialog.getButton(DialogInterface.BUTTON_POSITIVE).textColor = ContextCompat.getColor(this, R.color.color_blue)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205, "user_id": 8683396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf4a0461f97de1dc64f19eb57f83ebf?s=128&d=identicon&r=PG&f=1", "display_name": "Siddharth Patel", "link": "https://stackoverflow.com/users/8683396/siddharth-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1522756002, "creation_date": 1522756002, "answer_id": 49629292, "question_id": 49629170, "link": "https://stackoverflow.com/questions/49629170/changing-color-of-ok-button-in-alertdialog/49629292#49629292", "title": "Changing color of OK button in AlertDialog", "body": "<p>You can try to create the <code>AlertDialog</code> object first, and then use it to set up to change the color of the button and then show it. (Note that on <code>builder</code> object instead of calling <code>show()</code> we call <code>create()</code> to get the <code>AlertDialog</code> object:</p>\n\n<pre><code>//1. create a dialog object 'dialog'\nMyCustomDialog builder = new MyCustomDialog(getActivity(), \"Try Again\", errorMessage); \nAlertDialog dialog = builder.setNegativeButton(\"OK\", new DialogInterface.OnClickListener() {\n\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    ...\n                }\n\n            }).create();\n\n//2. now setup to change color of the button\ndialog.setOnShowListener( new OnShowListener() {\n    @Override\n    public void onShow(DialogInterface arg0) {\n        dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(COLOR_I_WANT);\n    }\n});\n\ndialog.show()\n</code></pre>\n\n<p>The reason you have to do it on <code>onShow()</code> and cannot just get that button after you create your dialog is that the button would not have been created yet. </p>\n\n<p>I changed <code>AlertDialog.BUTTON_POSITIVE</code> to <code>AlertDialog.BUTTON_NEGATIVE</code> to reflect the change in your question. Although it is odd that \"OK\" button would be a negative button. Usually it is the positive button.</p>\n"}, {"tags": [], "owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "is_accepted": false, "score": 0, "last_activity_date": 1522756838, "last_edit_date": 1522756838, "creation_date": 1522756359, "answer_id": 49629417, "question_id": 49629170, "link": "https://stackoverflow.com/questions/49629170/changing-color-of-ok-button-in-alertdialog/49629417#49629417", "title": "Changing color of OK button in AlertDialog", "body": "<p>You can set <em>Custom Theme</em> for <em>Alert Dialog</em> instead.</p>\n\n<pre><code>&lt;style name=\"AlertDialogTheme\" parent=\"Theme.AppCompat.Light.Dialog.Alert\"&gt;\n    &lt;item name=\"android:colorPrimary\"&gt;#FFFFFF&lt;/item&gt;\n    &lt;item name=\"android:textColorPrimary\"&gt;#FFFFFF&lt;/item&gt;\n    &lt;item name=\"android:colorAccent\"&gt;#FFFFFF&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;#FFFFFF&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Set <em>Colors</em> based on your choice.</p>\n"}], "owner": {"reputation": 133, "user_id": 7231131, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/46e8af2046748510c2529c332e36c65a?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/7231131/andr%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 931, "favorite_count": 1, "accepted_answer_id": 49629259, "answer_count": 4, "score": 1, "last_activity_date": 1522756838, "creation_date": 1522755656, "last_edit_date": 1522756211, "question_id": 49629170, "link": "https://stackoverflow.com/questions/49629170/changing-color-of-ok-button-in-alertdialog", "title": "Changing color of OK button in AlertDialog", "body": "<p>I'm trying to change the color of the positive <code>button</code> in an <code>AlertDialog</code> in Android. Natively on my S8 the button is green, but when I try to change it, no matter what color I choose it turns up bright purple.(I've tried many different shades of blue and even pink to test) </p>\n\n<p>I'm changing the color with:</p>\n\n<pre><code>dialog.getButton(DialogInterface.BUTTON_POSITIVE).textColor = R.color.color_blue\n</code></pre>\n\n<p>I am calling it after the <code>dialog.show()</code>.</p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 2, "creation_date": 1522753717, "post_id": 49628103, "comment_id": 86263876, "body": "The function <code>zzE</code> overrides nothing, there is no <code>zzE</code> function in its parent."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1522754022, "post_id": 49628103, "comment_id": 86264067, "body": "What function are you trying to override here?"}], "answers": [{"tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1522755698, "last_edit_date": 1522755698, "creation_date": 1522754769, "answer_id": 49628899, "question_id": 49628103, "link": "https://stackoverflow.com/questions/49628103/error51-6-zze-overrides-nothing/49628899#49628899", "title": "Error:(51, 6) &#39;zzE&#39; overrides nothing", "body": "<pre><code> Error:(51, 6) 'zzE' overrides nothing\n</code></pre>\n\n<blockquote>\n  <p><a href=\"https://developer.android.com/reference/java/lang/Override.html\" rel=\"nofollow noreferrer\"><strong><code>overrides</code></strong></a>  Indicates that a method declaration is intended to override\n  a method declaration in a supertype.</p>\n</blockquote>\n\n<p><strong><code>REASON</code></strong></p>\n\n<ul>\n<li>The method does override or implement a method declared in a\nsupertype.</li>\n<li>The method has a signature that is override-equivalent to that of any\npublic method declared in Object.</li>\n</ul>\n\n<p><strong><code>EXAMPLE</code></strong></p>\n\n<pre><code>interface setYourName{\n\n    fun onLock(status: Boolean)\n}\n</code></pre>\n\n<p>Now showing <strong><code>overrides nothing</code></strong> Error, Due to Argument mismatch.</p>\n\n<pre><code>override fun onLock(status: String)\n    {\n\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1522755160, "post_id": 49628991, "comment_id": 86264685, "body": "OMG! Any way, Move ahead. I thought another"}, {"owner": {"reputation": 1931, "user_id": 7471088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/edAis.jpg?s=128&g=1", "display_name": "Tandoh Anthony Nwi-Ackah", "link": "https://stackoverflow.com/users/7471088/tandoh-anthony-nwi-ackah"}, "reply_to_user": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1522755322, "post_id": 49628991, "comment_id": 86264793, "body": "By the way any idea why version 11.0.0 doesn&#39;t support the zzE function tho ?"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1522755463, "post_id": 49628991, "comment_id": 86264890, "body": "Didn&#39;t use yet. My answer depends on LOGIC. May be have  alternate way."}, {"owner": {"reputation": 1931, "user_id": 7471088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/edAis.jpg?s=128&g=1", "display_name": "Tandoh Anthony Nwi-Ackah", "link": "https://stackoverflow.com/users/7471088/tandoh-anthony-nwi-ackah"}, "reply_to_user": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 1, "creation_date": 1522755571, "post_id": 49628991, "comment_id": 86264944, "body": "Ayd.Thanks  @ IntelliJ"}], "tags": [], "owner": {"reputation": 1931, "user_id": 7471088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/edAis.jpg?s=128&g=1", "display_name": "Tandoh Anthony Nwi-Ackah", "link": "https://stackoverflow.com/users/7471088/tandoh-anthony-nwi-ackah"}, "is_accepted": false, "score": 0, "last_activity_date": 1522755031, "last_edit_date": 1592644375, "creation_date": 1522755031, "answer_id": 49628991, "question_id": 49628103, "link": "https://stackoverflow.com/questions/49628103/error51-6-zze-overrides-nothing/49628991#49628991", "title": "Error:(51, 6) &#39;zzE&#39; overrides nothing", "body": "<p>I change the dependency from</p>\n<p><strong>implementation &quot;com.google.firebase:firebase-messaging:11.0.0&quot;</strong></p>\n<p>to</p>\n<p><strong>implementation &quot;com.google.firebase:firebase-messaging:10.2.6&quot;</strong></p>\n<p>working now.\nThanks guys</p>\n"}], "owner": {"reputation": 1931, "user_id": 7471088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/edAis.jpg?s=128&g=1", "display_name": "Tandoh Anthony Nwi-Ackah", "link": "https://stackoverflow.com/users/7471088/tandoh-anthony-nwi-ackah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1522755698, "creation_date": 1522752300, "last_edit_date": 1522752367, "question_id": 49628103, "link": "https://stackoverflow.com/questions/49628103/error51-6-zze-overrides-nothing", "title": "Error:(51, 6) &#39;zzE&#39; overrides nothing", "body": "<p>I'm getting error overriding the zzE function in kotlin.\nBelow is the code showing the error.</p>\n\n<pre><code>override fun zzE(intent: Intent): Boolean {\n        try {\n            val count = 3\n\n            ShortcutBadger.applyCount(applicationContext, count)\n\n        } catch (e: Exception) {\n            return super.zzE(intent)\n\n        }\n</code></pre>\n\n<p>Below is the error:</p>\n\n<blockquote>\n  <p>Error:(51, 6) 'zzE' overrides nothing</p>\n</blockquote>\n\n<p>Any help is appreciated.Thank you.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1522748280, "post_id": 49626778, "comment_id": 86260450, "body": "The equivalent of <code>?</code> in Java is <code>*</code> in Kotlin."}, {"owner": {"reputation": 1980, "user_id": 4759033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fk2tt.jpg?s=128&g=1", "display_name": "Satej S", "link": "https://stackoverflow.com/users/4759033/satej-s"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1522748516, "post_id": 49626778, "comment_id": 86260598, "body": "Adding to the comment by @MarkoTopolnik , check out this link <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/generics.html</a>"}, {"owner": {"reputation": 758, "user_id": 5955376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1634355886825243/picture?type=large", "display_name": "nllsdfx", "link": "https://stackoverflow.com/users/5955376/nllsdfx"}, "reply_to_user": {"reputation": 1980, "user_id": 4759033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fk2tt.jpg?s=128&g=1", "display_name": "Satej S", "link": "https://stackoverflow.com/users/4759033/satej-s"}, "edited": false, "score": 1, "creation_date": 1522748626, "post_id": 49626778, "comment_id": 86260664, "body": "@SatejS yeah I read it but seems skipped this somehow"}, {"owner": {"reputation": 1980, "user_id": 4759033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fk2tt.jpg?s=128&g=1", "display_name": "Satej S", "link": "https://stackoverflow.com/users/4759033/satej-s"}, "edited": false, "score": 0, "creation_date": 1522748696, "post_id": 49626778, "comment_id": 86260716, "body": "No problem, you want to go all the way to the bottom! :)"}], "answers": [{"tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": true, "score": 3, "last_activity_date": 1522749136, "creation_date": 1522749136, "answer_id": 49627106, "question_id": 49626778, "link": "https://stackoverflow.com/questions/49626778/kotlin-class-of-unknown-type-as-a-method-parameter/49627106#49627106", "title": "Kotlin class of unknown type as a method parameter", "body": "<p>Wildcard in Kotlin is: *\nSo, you can write:</p>\n\n<pre><code>fun doSth(clazz: KClass&lt;*&gt;) { /* ... */ }\n</code></pre>\n"}], "owner": {"reputation": 758, "user_id": 5955376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1634355886825243/picture?type=large", "display_name": "nllsdfx", "link": "https://stackoverflow.com/users/5955376/nllsdfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 49627106, "answer_count": 1, "score": 0, "last_activity_date": 1522749136, "creation_date": 1522748174, "question_id": 49626778, "link": "https://stackoverflow.com/questions/49626778/kotlin-class-of-unknown-type-as-a-method-parameter", "title": "Kotlin class of unknown type as a method parameter", "body": "<p>How to write similar method in Kotlin? How to replace this question mark wildcard in kotlin?</p>\n\n<pre><code>private String doit(Class&lt;?&gt; c) {\n  //body\n}\n</code></pre>\n\n<p>My last attempt was:</p>\n\n<pre><code>fun doit(clazz: Class&lt;Any&gt;) : String {\n    //body\n}\n</code></pre>\n"}, {"tags": ["java", "android", "mobile", "kotlin", "wifi"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1522747873, "post_id": 49626602, "comment_id": 86260202, "body": "there is no way AFAIK. You are not the one who can decide which network to use for requests. <b>WHY?</b>: The re is at least one reason: imagine the user is in roaming in another country. His mobile data traffic is amazingly expencive. He is connected to a free WIFI, and here comes your app, which does the request through paid mobile network. Don&#39;t you find it obvious that you should not be able to waste user&#39;s money?"}, {"owner": {"reputation": 48, "user_id": 1475467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5c004972ed92bd73174040f498819eb?s=128&d=identicon&r=PG", "display_name": "maj", "link": "https://stackoverflow.com/users/1475467/maj"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1522748390, "post_id": 49626602, "comment_id": 86260520, "body": "I know that it&#39;s not practical or right to do it, but in the context I&#39;m working in it really has to work like that because I won&#39;t be able to get a proper response if I make the requests via wifi."}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1522751406, "post_id": 49626602, "comment_id": 86262470, "body": "Android does not care off the context, you are working in. That&#39;s why there is no way to do it directly. Only thing that you can do is to ask user to switch to mobile network when you need it."}], "answers": [{"comments": [{"owner": {"reputation": 48, "user_id": 1475467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5c004972ed92bd73174040f498819eb?s=128&d=identicon&r=PG", "display_name": "maj", "link": "https://stackoverflow.com/users/1475467/maj"}, "edited": false, "score": 0, "creation_date": 1522752968, "post_id": 49627646, "comment_id": 86263415, "body": "I&#39;m trying to avoid that because it defeats the purpose of having a seamless action for the user, but thank you for the suggestion."}], "tags": [], "owner": {"reputation": 9433, "user_id": 729539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c69eef72b2048397ddf5f10bb087ce27?s=128&d=identicon&r=PG", "display_name": "Arjan", "link": "https://stackoverflow.com/users/729539/arjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1522750865, "creation_date": 1522750865, "answer_id": 49627646, "question_id": 49626602, "link": "https://stackoverflow.com/questions/49626602/how-can-i-send-a-request-with-the-mobile-data-interface-when-on-wifi/49627646#49627646", "title": "How can I send a request with the mobile data interface when on wifi?", "body": "<p>One thing you could do is disable wifi. That can be done <a href=\"http://androidpermissions.org/android-permission-CHANGE_WIFI_STATE/\" rel=\"nofollow noreferrer\">programmatically in Android</a>, provided you have the <code>android.permission.CHANGE_WIFI_STATE</code> permission.</p>\n\n<pre><code>WifiManager wifiManager = (WifiManager) getSystemService(WIFI_SERVICE);\nwifiManager.setWifiEnabled(isWifiEnabled);\n</code></pre>\n\n<p>With wifi disabled the phone should switch back to mobile data. As already stated in the comments, that could lead to extra costs for the users and you may want to try to improve the response for wifi instead.</p>\n"}], "owner": {"reputation": 48, "user_id": 1475467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5c004972ed92bd73174040f498819eb?s=128&d=identicon&r=PG", "display_name": "maj", "link": "https://stackoverflow.com/users/1475467/maj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522750865, "creation_date": 1522747665, "question_id": 49626602, "link": "https://stackoverflow.com/questions/49626602/how-can-i-send-a-request-with-the-mobile-data-interface-when-on-wifi", "title": "How can I send a request with the mobile data interface when on wifi?", "body": "<p>I'm developing an app that has to make all network requests via mobile data, even when it's connected to wifi. The problem is that Android turns off mobile data when connected to wifi for obvious reasons.</p>\n\n<p>I tried to list all the network interfaces so I could use the right one but, when on wifi, the rmnet0 interface even disappears from the list (on a Samsung S8, at least. I tried with a OnePlus and it didn't disappear, but it's not up).</p>\n\n<p>Is there a way to do that, either with Kotlin or using the NDK (C/C++)?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1522742817, "post_id": 49625040, "comment_id": 86257234, "body": "This should not be happening with the code you&#39;ve shown. Please provide a single continuous block of code that reproduces this issue - for now, it just seems like you&#39;re accidentally manipulating both of your lists from somewhere else, which we can&#39;t possibly see above."}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1522744026, "post_id": 49625040, "comment_id": 86257867, "body": "@zsmb13 Updated with code and additional information."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1522744405, "post_id": 49625040, "comment_id": 86258095, "body": "<code>listB[carPosition].options.removeAt(carColorPosition)</code> -- here you remove an item from an inner list. You didn&#39;t copy this list."}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1522744667, "post_id": 49625040, "comment_id": 86258244, "body": "@MarkoTopolnik Yes, but why does a change to &quot;object&quot; in <code>listB</code> also affects <code>listA</code>? If I change object, then it changes everywhere (?) - did not know that. How would u suggest to do elegant copy of inner/outter list."}, {"owner": {"reputation": 2410, "user_id": 1022886, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tlx1K.jpg?s=128&g=1", "display_name": "jt-gilkeson", "link": "https://stackoverflow.com/users/1022886/jt-gilkeson"}, "edited": false, "score": 0, "creation_date": 1522744737, "post_id": 49625040, "comment_id": 86258279, "body": "@PeteWonder When you added all, it just added the same objects to two lists, what you need to do is a deep copy where you clone the individual objects and add them to the list."}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 2410, "user_id": 1022886, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tlx1K.jpg?s=128&g=1", "display_name": "jt-gilkeson", "link": "https://stackoverflow.com/users/1022886/jt-gilkeson"}, "edited": false, "score": 0, "creation_date": 1522744873, "post_id": 49625040, "comment_id": 86258369, "body": "@jt-gilkeson I see. Is there some way to do deep copy in elegant way? I read that <code>copy()</code> method in Kotlin does not do a deep copy."}, {"owner": {"reputation": 2410, "user_id": 1022886, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tlx1K.jpg?s=128&g=1", "display_name": "jt-gilkeson", "link": "https://stackoverflow.com/users/1022886/jt-gilkeson"}, "edited": false, "score": 0, "creation_date": 1522744972, "post_id": 49625040, "comment_id": 86258428, "body": "These might be what you are looking for?  <a href=\"https://stackoverflow.com/questions/46846025/how-to-clone-or-copy-a-list-in-kotlin\" title=\"how to clone or copy a list in kotlin\">stackoverflow.com/questions/46846025/&hellip;</a> <a href=\"https://stackoverflow.com/questions/47359496/kotlin-data-class-copy-method-not-deep-copying-all-members\" title=\"kotlin data class copy method not deep copying all members\">stackoverflow.com/questions/47359496/&hellip;</a>"}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 2410, "user_id": 1022886, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tlx1K.jpg?s=128&g=1", "display_name": "jt-gilkeson", "link": "https://stackoverflow.com/users/1022886/jt-gilkeson"}, "edited": false, "score": 0, "creation_date": 1522745304, "post_id": 49625040, "comment_id": 86258624, "body": "@jt-gilkeson  <code>val listB = listA.toMutableList()</code> does not do a hard-copy in my case (affects both lists)"}], "answers": [{"comments": [{"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "edited": false, "score": 0, "creation_date": 1522745477, "post_id": 49625866, "comment_id": 86258719, "body": "What to do, if <code>Cars</code> class is not <code>Data class</code>?"}, {"owner": {"reputation": 2410, "user_id": 1022886, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tlx1K.jpg?s=128&g=1", "display_name": "jt-gilkeson", "link": "https://stackoverflow.com/users/1022886/jt-gilkeson"}, "reply_to_user": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "edited": false, "score": 0, "creation_date": 1522745946, "post_id": 49625866, "comment_id": 86259019, "body": "I updated at the end of the answer, you can just create a new Cars object for each one in the list"}], "tags": [], "owner": {"reputation": 2410, "user_id": 1022886, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tlx1K.jpg?s=128&g=1", "display_name": "jt-gilkeson", "link": "https://stackoverflow.com/users/1022886/jt-gilkeson"}, "is_accepted": true, "score": 3, "last_activity_date": 1522746197, "last_edit_date": 1522746197, "creation_date": 1522745422, "answer_id": 49625866, "question_id": 49625040, "link": "https://stackoverflow.com/questions/49625040/changes-made-to-one-object-list-takes-also-affect-on-another-list/49625866#49625866", "title": "Changes made to one object list takes also affect on another list", "body": "<pre><code>val listB: List&lt;Cars&gt; = ArrayList()\nlistB.addAll(listA)\n</code></pre>\n\n<p>Does a shallow copy where the same Cars objects are in both lists.  What you need is a deep copy:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/46846025/how-to-clone-or-copy-a-list-in-kotlin\">How to clone or copy a list in kotlin</a></p>\n\n<p>or</p>\n\n<p><a href=\"https://stackoverflow.com/questions/47359496/kotlin-data-class-copy-method-not-deep-copying-all-members\">Kotlin data class copy method not deep copying all members</a></p>\n\n<p>If worst comes to worst you can iterate through the list and add new objects:\ni.e for (cars in listA) listB.add(Cars(cars.name, cars.options.toMutableList()) or something similar, the important point here is that for every object in all the lists, you need to make a copy of it and re-create the list or use some built-in method to do that if available.  </p>\n"}], "owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1224, "favorite_count": 0, "accepted_answer_id": 49625866, "answer_count": 1, "score": 1, "last_activity_date": 1522746197, "creation_date": 1522742318, "last_edit_date": 1522744006, "question_id": 49625040, "link": "https://stackoverflow.com/questions/49625040/changes-made-to-one-object-list-takes-also-affect-on-another-list", "title": "Changes made to one object list takes also affect on another list", "body": "<p>So, I've a Data class <code>Cars</code>.\nWhen I first start activity, I'd create a list and add few objects:</p>\n\n<pre><code>val listA: ArrayList&lt;Cars&gt; = ArrayList()\nlistA.add(*API response objects*)\n</code></pre>\n\n<p>Everything is good till the moment I decide to create different list and add this list content (basically do a copy):</p>\n\n<pre><code>val listB: ArrayList&lt;Cars&gt; = ArrayList()\nlistB.addAll(listA)\n</code></pre>\n\n<p>Then I decide to do some removal commands like:</p>\n\n<pre><code>if (imFeelingLucky) listB.removeAt(position)\n</code></pre>\n\n<p><strong>Problem:</strong>\nChanges made to <code>listB</code> also take affect on <code>listA</code> (when I delete items from <code>listA</code> it automatically deletes items from <code>listB</code>). What am I missing? Why is this happening? I'm trying to change \"content\" of the list, not change \"objects\". How to avoid this?</p>\n\n<hr>\n\n<p><strong>CODE:</strong></p>\n\n<p>I've two dimensional list - list of cars and inside I've car colors.</p>\n\n<p><em>Original list</em> (I want to copy elements and not affect this one):\n<strong>listA</strong></p>\n\n<pre><code>List&lt;Cars&gt;:\n Car#1:\n      *name_of_car\n      *car_colors: List&lt;CarColors&gt; ...\n Car#2:\n      *name_of_car\n      *car_colors: List&lt;CarColors&gt; ...\n Car#3:\n      *name_of_car\n      *car_colors: List&lt;CarColors&gt; ...\n</code></pre>\n\n<p><strong>listC</strong> - contains colors for cars. Basically for <code>for-loop</code>.</p>\n\n<pre><code>class testA {\n\n    val listA: ArrayList&lt;Cars&gt; = ArrayList()\n\n    init {\n        getData()\n        changeData()\n    }\n\n    private fun getData() {\n        listA.add(..getting data and population listA)\n    }\n\n    private fun changeData(): List&lt;Cars&gt; {\n        val listB: List&lt;Cars&gt; = ArrayList()\n        listB.addAll(listA)\n\n        for (carPosition in listC.size - 1 downTo 0) {\n            for (carColorPosition in listC[carPosition].size - 1 downTo 0) {\n                if (!listC[carPosition][carColorPosition]) {\n                    listB[carPosition].options.removeAt(carColorPosition)\n                }\n            }\n        }\n\n        for (itemToRemovePosition in listB.size - 1 downTo 0) {\n            if (listB[itemToRemovePosition] == 0) {\n                listB.removeAt(itemToRemovePosition)\n            }\n        }\n\n        return listB\n    }\n\n}\n</code></pre>\n"}, {"tags": ["spring-boot", "gradle", "kotlin", "spring-boot-gradle-plugin"], "answers": [{"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 4, "last_activity_date": 1567193239, "last_edit_date": 1567193239, "creation_date": 1522736543, "answer_id": 49623486, "question_id": 49623231, "link": "https://stackoverflow.com/questions/49623231/kotlin-gradle-could-not-find-or-load-main-class/49623486#49623486", "title": "Kotlin Gradle Could not find or load main class", "body": "<p>Change <code>Applicationkt</code> to <code>ApplicationKt</code> will work, and BTW you may upgrade Kotlin version to <code>1.3.50</code>.</p>\n\n<p>By <code>Applicationkt</code> I mean the one in this line:</p>\n\n<pre><code>attributes 'Main-Class': 'org.jetbrains.kotlin.demo.Applicationkt'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1522736778, "post_id": 49623519, "comment_id": 86254058, "body": "I think the first two paragraphs are irrelated"}, {"owner": {"reputation": 3803, "user_id": 249667, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DIGwg.jpg?s=128&g=1", "display_name": "phisch", "link": "https://stackoverflow.com/users/249667/phisch"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1522737221, "post_id": 49623519, "comment_id": 86254268, "body": "Update the answer to explain why Kotlin does require the additional <code>Kt</code>"}, {"owner": {"reputation": 885, "user_id": 3156383, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/7445148ad2e57bfa63d86232e9c02293?s=128&d=identicon&r=PG&f=1", "display_name": "dks551", "link": "https://stackoverflow.com/users/3156383/dks551"}, "edited": false, "score": 0, "creation_date": 1522764656, "post_id": 49623519, "comment_id": 86271491, "body": "I changed the extensions to Kt and also upgraded the kotlin version to 1.2.31, but no luck. @phisch Can you try by yourself building a fat jar for the above project with additional dependencies."}, {"owner": {"reputation": 3803, "user_id": 249667, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DIGwg.jpg?s=128&g=1", "display_name": "phisch", "link": "https://stackoverflow.com/users/249667/phisch"}, "edited": false, "score": 0, "creation_date": 1522767540, "post_id": 49623519, "comment_id": 86273729, "body": "I built a &#39;Hello World&#39; example and it runs as expected. Please update your question with more information, especially the exact error message, the contents of your jar file (is there a class ApplicationKt), etc. Thank you."}, {"owner": {"reputation": 885, "user_id": 3156383, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/7445148ad2e57bfa63d86232e9c02293?s=128&d=identicon&r=PG&f=1", "display_name": "dks551", "link": "https://stackoverflow.com/users/3156383/dks551"}, "edited": false, "score": 0, "creation_date": 1522778490, "post_id": 49623519, "comment_id": 86280385, "body": "@phisch Did you run ./gradlew clean jar command ? And after that you run the standalone jar file ? Can you try with the above github repository link ?"}, {"owner": {"reputation": 3803, "user_id": 249667, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DIGwg.jpg?s=128&g=1", "display_name": "phisch", "link": "https://stackoverflow.com/users/249667/phisch"}, "edited": false, "score": 0, "creation_date": 1522784046, "post_id": 49623519, "comment_id": 86283370, "body": "Yes I did and a spring boot applications starts. My build.gradle is slightly different though, see updated answer. We will need more details from you (see my previous post) to help you. Thanks."}, {"owner": {"reputation": 3803, "user_id": 249667, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DIGwg.jpg?s=128&g=1", "display_name": "phisch", "link": "https://stackoverflow.com/users/249667/phisch"}, "edited": false, "score": 0, "creation_date": 1523997165, "post_id": 49623519, "comment_id": 86790075, "body": "Did you have any success or are there still open questions?"}], "tags": [], "owner": {"reputation": 3803, "user_id": 249667, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DIGwg.jpg?s=128&g=1", "display_name": "phisch", "link": "https://stackoverflow.com/users/249667/phisch"}, "is_accepted": false, "score": 1, "last_activity_date": 1522783940, "last_edit_date": 1522783940, "creation_date": 1522736689, "answer_id": 49623519, "question_id": 49623231, "link": "https://stackoverflow.com/questions/49623231/kotlin-gradle-could-not-find-or-load-main-class/49623519#49623519", "title": "Kotlin Gradle Could not find or load main class", "body": "<p>Update your build.gradle to </p>\n\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': 'org.jetbrains.kotlin.demo.ApplicationKt'\n    }\n    from { \n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } \n    }\n}\n</code></pre>\n\n<p>with an upper case K in ApplicationKt. </p>\n\n<p>This is required because of the way Kotlin compiles to Java Bytecode. The <code>fun main()</code> function in Kotlin is not attached to any class, but Java always requires a class and does not support classless functions. </p>\n\n<p>The Kotlin compiler has to create a Java class. Because you already defined a class <code>Application</code> it created one with the suffix <code>Kt</code> for the functions in your Kotlin file <code>org/jetbrains/kotlin/demo/Application.kt</code>. You have to set this class so that the JVM can find it. </p>\n\n<p>BTW a Jar file is just a Zip file, you can unpack it and see for yourself if the ApplicationKt.class is there. </p>\n"}, {"tags": [], "owner": {"reputation": 234, "user_id": 3401889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NVtiH.jpg?s=128&g=1", "display_name": "Antonio Martin", "link": "https://stackoverflow.com/users/3401889/antonio-martin"}, "is_accepted": false, "score": 2, "last_activity_date": 1551314614, "creation_date": 1551314614, "answer_id": 54916695, "question_id": 49623231, "link": "https://stackoverflow.com/questions/49623231/kotlin-gradle-could-not-find-or-load-main-class/54916695#54916695", "title": "Kotlin Gradle Could not find or load main class", "body": "<p>Kotlin compiles the Application file in two different files:</p>\n\n<ul>\n<li>one file called <strong>Application.class</strong> with the Springboot things</li>\n<li>another file called <strong>ApplicationKt.class</strong> with the main method</li>\n</ul>\n\n<p>In this second file is where the <strong>main</strong> function is located at, so you have to use this name in the build.gradle file.</p>\n\n<p>mainClassName = 'org.jetbrains.kotlin.demo.Application<strong>Kt</strong>'</p>\n"}, {"tags": [], "owner": {"reputation": 7685, "user_id": 8718377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGFwM.png?s=128&g=1", "display_name": "veben", "link": "https://stackoverflow.com/users/8718377/veben"}, "is_accepted": false, "score": 0, "last_activity_date": 1594646523, "creation_date": 1594646523, "answer_id": 62876775, "question_id": 49623231, "link": "https://stackoverflow.com/questions/49623231/kotlin-gradle-could-not-find-or-load-main-class/62876775#62876775", "title": "Kotlin Gradle Could not find or load main class", "body": "<p>Indeed, Kotlin create file <code>ApplicationKt.class</code> in the jar if your main class file is named <code>Application.kt</code>. You have to add the following lines:</p>\n<pre><code>apply plugin: 'kotlin'\napply plugin: 'application'\nmainClassName = 'org.jetbrains.kotlin.demo.ApplicationKt'\n</code></pre>\n<p>If you use the classic <code>jar</code> plugin, you can do as below (which is described in previous responses):</p>\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': 'org.jetbrains.kotlin.demo.ApplicationKt'\n    }\n    from { \n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } \n    }\n}\n</code></pre>\n<p>However, my preference is to use <code>bootJar</code> plugin which is much clear and which allow me to use layered jars for example:</p>\n<pre><code>bootJar {\n    layered() // Not useful if you don't want to use layered jars\n}\n</code></pre>\n"}], "owner": {"reputation": 885, "user_id": 3156383, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/7445148ad2e57bfa63d86232e9c02293?s=128&d=identicon&r=PG&f=1", "display_name": "dks551", "link": "https://stackoverflow.com/users/3156383/dks551"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9644, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1594646618, "creation_date": 1522735264, "last_edit_date": 1594646618, "question_id": 49623231, "link": "https://stackoverflow.com/questions/49623231/kotlin-gradle-could-not-find-or-load-main-class", "title": "Kotlin Gradle Could not find or load main class", "body": "<p>I tried to copy the <strong>Spring Boot Kotlin</strong> sample project <a href=\"https://github.com/JetBrains/kotlin-examples/tree/master/tutorials/spring-boot-restful\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin-examples/tree/master/tutorials/spring-boot-restful</a>. I Added some more dependencies and when I tried to build the executable jar and run it, I got the error:</p>\n<blockquote>\n<p>Could not find or load main class...</p>\n</blockquote>\n<p><em>Gradle build script</em>:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.3' // Required for Kotlin integration\n    ext.spring_boot_version = '1.5.4.RELEASE'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot; // Required for Kotlin integration\n        classpath &quot;org.jetbrains.kotlin:kotlin-allopen:$kotlin_version&quot; // See https://kotlinlang.org/docs/reference/compiler-plugins.html#kotlin-spring-compiler-plugin\n        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:$spring_boot_version&quot;\n    }\n}\n\n/*plugins {\n    id 'org.springframework.boot' version '2.0.0.RELEASE'\n}*/\n\napply plugin: 'kotlin' // Required for Kotlin integration\napply plugin: &quot;kotlin-spring&quot; // See https://kotlinlang.org/docs/reference/compiler-plugins.html#kotlin-spring-compiler-plugin\napply plugin: 'org.springframework.boot'\n\njar {\n    baseName = 'gs-rest-service'\n    version = '0.1.0'\n    from {\n        (configurations.runtime).collect {\n            it.isDirectory() ? it : zipTree(it)\n        }\n    }\n    manifest {\n        attributes 'Main-Class': 'org.jetbrains.kotlin.demo.Applicationkt'\n    }\n\n\n}\n\nsourceSets {\n    main.java.srcDirs += 'src/main/kotlin/'\n    test.java.srcDirs += 'src/test/kotlin/'\n}\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    compile &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot; // Required for Kotlin integration\n    compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n\n    compile group: 'org.apache.camel', name: 'camel-quartz2', version: '2.20.2'\n    compile group: 'org.apache.camel', name: 'camel-http4', version: '2.20.2'\n    compile group: 'org.apache.camel', name: 'camel-docker', version: '2.20.2'\n    compile group: 'org.apache.camel', name: 'camel-aws', version: '2.20.2'\n\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n}\n</code></pre>\n"}, {"tags": ["android", "merge", "kotlin", "rx-java", "observable"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 8187386, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000121968606/picture?type=large", "display_name": "Anders Cheow", "link": "https://stackoverflow.com/users/8187386/anders-cheow"}, "edited": false, "score": 0, "creation_date": 1522758333, "post_id": 49622481, "comment_id": 86266816, "body": "By using this, can I still output the error inside the subscribe?"}, {"owner": {"reputation": 6705, "user_id": 608388, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/8090Q.png?s=128&g=1", "display_name": "Niraj Chauhan", "link": "https://stackoverflow.com/users/608388/niraj-chauhan"}, "reply_to_user": {"reputation": 77, "user_id": 8187386, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000121968606/picture?type=large", "display_name": "Anders Cheow", "link": "https://stackoverflow.com/users/8187386/anders-cheow"}, "edited": false, "score": 0, "creation_date": 1522818891, "post_id": 49622481, "comment_id": 86294089, "body": "Yes, in subscribe, the second argument is the errorHandler."}], "tags": [], "owner": {"reputation": 6705, "user_id": 608388, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/8090Q.png?s=128&g=1", "display_name": "Niraj Chauhan", "link": "https://stackoverflow.com/users/608388/niraj-chauhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1522731157, "creation_date": 1522731157, "answer_id": 49622481, "question_id": 49621546, "link": "https://stackoverflow.com/questions/49621546/combining-multiple-observables-and-return-the-observable-that-does-not-throw-err/49622481#49622481", "title": "Combining multiple observables and return the observable that does not throw error", "body": "<p>You can use <code>onErrorReturn</code>. So if the remote call fails, call local.</p>\n\n<pre><code>private fun getCatalogueDetailsFromRemote(id: String): Observable&lt;CatalogueDetails&gt; {\n    return Observable.create { emitter -&gt;\n        ApiHelper.getCatalogueDetails(CatalogueDetailsRequestModel(id))\n                .onErrorReturn(e -&gt; {\n                    return getCatalogueDetailsFromLocal();\n                })\n                .subscribeOn(schedulersFacade.io())\n                .observeOn(schedulersFacade.ui())\n                .subscribe(// Do your stuff)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 8187386, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000121968606/picture?type=large", "display_name": "Anders Cheow", "link": "https://stackoverflow.com/users/8187386/anders-cheow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1522731157, "creation_date": 1522724321, "question_id": 49621546, "link": "https://stackoverflow.com/questions/49621546/combining-multiple-observables-and-return-the-observable-that-does-not-throw-err", "title": "Combining multiple observables and return the observable that does not throw error", "body": "<p>I've two observables, one is to fetch data from remote and another one is used to fetch data from local (local db). What I want is get data from local if remote failed to fetch data. I tried to use Observable.mergeDelayError, but I still get error although one of the observable is success.</p>\n\n<p>Currently this is what I do:</p>\n\n<pre><code>    fun getCatalogueDetails(id: String): Observable&lt;CatalogueDetails&gt; {\n        if (application.isConnectedToInternet()) {\n            return getCatalogueDetailsFromRemote(id)\n        }\n\n        return getCatalogueDetailsFromLocal(id)\n    }\n\n    private fun getCatalogueDetailsFromRemote(id: String): Observable&lt;CatalogueDetails&gt; {\n        return Observable.create { emitter -&gt;\n            ApiHelper.getCatalogueDetails(CatalogueDetailsRequestModel(id))\n                    .subscribeOn(schedulersFacade.io())\n                    .observeOn(schedulersFacade.ui())\n                    .subscribe(object : SingleObserverRetrofit&lt;RetrieveCatalogueDetailsResponseModel&gt;() {\n                        override fun onResponseSuccess(responseData: RetrieveCatalogueDetailsResponseModel) {\n                            responseData.model?.let {\n                                val catalogueDetails = CatalogueDetails.fromResponseModel(responseData.model)\n\n                                if (!emitter.isDisposed) {\n                                    emitter.onNext(catalogueDetails)\n                                    emitter.onComplete()\n                                }\n                            } ?: kotlin.run {\n                                if (!emitter.isDisposed) {\n                                    emitter.onError(ErrorUtil.NULL_RESPONSE_DATA_ERROR_EXCEPTION)\n                                    emitter.onComplete()\n                                }\n                            }\n                        }\n\n                        override fun onFailure(throwable: Throwable) {\n                            super.onFailure(throwable)\n\n                            if (!emitter.isDisposed) {\n                                emitter.onError(throwable)\n                                emitter.onComplete()\n                            }\n                        }\n                    })\n        }\n    }\n\n    private fun getCatalogueDetailsFromLocal(id: String): Observable&lt;CatalogueDetails&gt; {\n        return Observable.create { emitter -&gt;\n            schedulersFacade.diskIO().execute {\n                appDatabase.runInTransaction {\n                    val catalogueDetails = appDatabase.rewardDetailsDao().findCatalogueDetails(id)\n\n                    if (!emitter.isDisposed) {\n                        catalogueDetails?.let {\n                            emitter.onNext(catalogueDetails)\n\n                        } ?: kotlin.run {\n                            emitter.onError(ErrorUtil.LOCAL_DATA_NOT_FOUND_ERROR_EXCEPTION)\n                        }\n\n                        emitter.onComplete()\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6858962, "user_type": "registered", "profile_image": "https://graph.facebook.com/693537224129427/picture?type=large", "display_name": "Abdallah Khamash", "link": "https://stackoverflow.com/users/6858962/abdallah-khamash"}, "edited": false, "score": 0, "creation_date": 1522820624, "post_id": 49625106, "comment_id": 86294738, "body": "really thanks for your answer but its not working for me :S .. so basically now if i swipe to the second page the code from the third fragment will be called and if i swiped from the third fragment to the second fragment the code form the first fragment will be called"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 53, "user_id": 6858962, "user_type": "registered", "profile_image": "https://graph.facebook.com/693537224129427/picture?type=large", "display_name": "Abdallah Khamash", "link": "https://stackoverflow.com/users/6858962/abdallah-khamash"}, "edited": false, "score": 0, "creation_date": 1522824421, "post_id": 49625106, "comment_id": 86296663, "body": "Just assume the fragments are always there. It&#39;s possible that you cannot adapt it to never pre-create any fragment. If you need information about when a fragment is active have a look at all the other life-cycle events. This behavior is there for a reason. And no matter what you want to do, you can do it differently to using <code>onViewCreated()</code>."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1522742563, "creation_date": 1522742563, "answer_id": 49625106, "question_id": 49620804, "link": "https://stackoverflow.com/questions/49620804/android-kotlin-all-fragments-are-called/49625106#49625106", "title": "android kotlin all Fragments are called", "body": "<p>The <code>ViewPager</code> will not only create the current page, but also the some before or after. With <a href=\"https://developer.android.com/reference/android/support/v4/view/ViewPager.html#setOffscreenPageLimit(int)\" rel=\"nofollow noreferrer\"><code>setOffscreenPageLimit(int)</code></a> you can adapt these values a little.</p>\n\n<blockquote>\n  <p>Set the number of pages that should be retained to either side of the current page in the view hierarchy in an idle state. Pages beyond this limit will be recreated from the adapter when needed. </p>\n</blockquote>\n"}], "owner": {"reputation": 53, "user_id": 6858962, "user_type": "registered", "profile_image": "https://graph.facebook.com/693537224129427/picture?type=large", "display_name": "Abdallah Khamash", "link": "https://stackoverflow.com/users/6858962/abdallah-khamash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522742563, "creation_date": 1522717835, "last_edit_date": 1522742120, "question_id": 49620804, "link": "https://stackoverflow.com/questions/49620804/android-kotlin-all-fragments-are-called", "title": "android kotlin all Fragments are called", "body": "<p>I'm having problems that all my fragments are called when the application start so when I do toast on the the second fragment it appear on the first fragment</p>\n\n<p>here is my activity code </p>\n\n<pre><code>class HomePage : AppCompatActivity() {\n\n    var adapter: FPA? = null\n    val manager = supportFragmentManager\n\n    private lateinit var drawer: DrawerLayout\n    private lateinit var toggle: ActionBarDrawerToggle\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n        super.onCreate(null)\n        setContentView(R.layout.home_page_act)\n\n        adapter = FPA(supportFragmentManager)\n        container.adapter = adapter\n\n        container.addOnPageChangeListener(android.support.design.widget.TabLayout.TabLayoutOnPageChangeListener(tabs))\n\n        tabs.addOnTabSelectedListener(android.support.design.widget.TabLayout.ViewPagerOnTabSelectedListener(container))\n    }\n\n    class FPA(fm: FragmentManager) : FragmentPagerAdapter(fm) {\n\n        override fun getItem(position: Int): Fragment {\n            if(position==0 )\n                return TrainingForSale()\n            else if(position==1)\n                return Shops()\n            else\n                return  Health()\n        }\n\n        override fun getCount(): Int {\n            return 3\n        }\n    }\n\n    fun ShowFramentShops (){\n        val transaction = manager.beginTransaction ()\n        val fragmet = Shops()\n        transaction.replace(R.id.container,fragmet)\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n}\n</code></pre>\n\n<p>and here is my fragment  pages \nfragment (1)</p>\n\n<pre><code>class Shops : Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n\n        return inflater!!.inflate(R.layout.shops_fragment, container, false)\n    }\n\n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onCreate(null);\n        //UserInformation.TrainingFilter=\"\"\n        //UserInformation.TrainingList.clear()\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(null)\n        Toast.makeText(activity,\"Shopes\",Toast.LENGTH_LONG).show()\n    }\n}// Required empty public constructor\n</code></pre>\n\n<p>my second fragment</p>\n\n<pre><code>class Health : Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        return inflater!!.inflate(R.layout.health_fragment, container, false)\n    }\n\n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onCreate(null);\n        super.onViewCreated(view, savedInstanceState)\n        Toast.makeText(activity,\"Health\", Toast.LENGTH_LONG).show()\n    }\n}// Required empty public constructor\n</code></pre>\n\n<p>So when I run the the app both toast appears in the same page </p>\n"}, {"tags": ["kotlin", "kotlin-reflect"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 1, "creation_date": 1522714646, "post_id": 49620173, "comment_id": 86247844, "body": "Adding to the mystery, IntelliJ&#39;s add type intent suggests adding a type for x, which makes the line equal to the y one, causing an error"}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1522720737, "post_id": 49620173, "comment_id": 86249205, "body": "You can use <code>inline fun &lt;reified T&gt; test5(): KClass&lt;*&gt; = T::class</code> to obtain <code>KClass&lt;X&gt;</code> with some <code>X</code>, although I haven&#39;t thought whether this is a type-safe way."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1522724570, "post_id": 49620173, "comment_id": 86249997, "body": "May be this is a bug or limitation? Because you does not actually have a nullable class in Java."}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1522759686, "post_id": 49620173, "comment_id": 86267758, "body": "Think about it for a second, Kotlin has a concept of nullable types and and non-null types, but it doesn&#39;t have nullable classes. What is it you&#39;re trying to accomplish?"}, {"owner": {"reputation": 1668, "user_id": 181913, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3e44a194a20a8069e2aca94fde9c810f?s=128&d=identicon&r=PG", "display_name": "Burg", "link": "https://stackoverflow.com/users/181913/burg"}, "edited": false, "score": 0, "creation_date": 1522770384, "post_id": 49620173, "comment_id": 86275706, "body": "I don&#39;t care about getting the nullability.  All I care to do is create a class from type <code>T?</code>.  For instance, I would like to do <code>String?::class</code> and have it be identical to <code>String::class</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1668, "user_id": 181913, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3e44a194a20a8069e2aca94fde9c810f?s=128&d=identicon&r=PG", "display_name": "Burg", "link": "https://stackoverflow.com/users/181913/burg"}, "edited": false, "score": 0, "creation_date": 1522770389, "post_id": 49631278, "comment_id": 86275711, "body": "I don&#39;t care about getting the nullability.  All I care to do is create a class from type <code>T?</code>.  For instance, I would like to do <code>String?::class</code> and have it be identical to <code>String::class</code>.  The result in <code>test2</code> shows this is possible and works as expected at runtime, but is something the compiler is rather unhappy with."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 1668, "user_id": 181913, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3e44a194a20a8069e2aca94fde9c810f?s=128&d=identicon&r=PG", "display_name": "Burg", "link": "https://stackoverflow.com/users/181913/burg"}, "edited": false, "score": 0, "creation_date": 1522780730, "post_id": 49631278, "comment_id": 86281649, "body": "@burg The only way, given your function, that you could get a type into the function is either by inferring from the left hand side, or by providing type parameters to the function call.  The left side could not be nullable because it is <code>KClass&lt;T: Any&gt;</code> and the right side is something you literally have to type as the type parameter, so why would you put a nullable there to begin with?  Just omit the question mark.  So your first example doesn&#39;t make enough sense, but I see you added another example, I&#39;ll look at it."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 2, "last_activity_date": 1522817097, "last_edit_date": 1522817097, "creation_date": 1522761925, "answer_id": 49631278, "question_id": 49620173, "link": "https://stackoverflow.com/questions/49620173/declare-a-function-generic-type-parameter-in-a-way-that-allows-both-for-nullable/49631278#49631278", "title": "Declare a function generic type parameter in a way that allows both for nullable types and using that type parameter to declare `KClass&lt;T&gt;`", "body": "<p><strong>NOTE:</strong> <em>this was an answer when the question was not stated with enough information to know what the real goal was.  Left here for now in case other people come here looking for the \"other\" thing.</em></p>\n\n<p>Nullability is part of <code>KType</code> not of <code>KClass</code> and therefore you want to create a <code>KType</code> from reified parameters.  Doing so is not so easy, and this concept has been discussed in <a href=\"https://youtrack.jetbrains.com/issue/KT-15992\" rel=\"nofollow noreferrer\">KT-15992</a>.  There is some prototype code noted in that issue written by Alexander Udalov, but it might be out of date and definitely does not include nullability.</p>\n\n<p>If you convert the reified parameter to a <code>KClass</code> you will always lose the nullability information, so no solution around <code>KClass</code> on its own will get you what you want.</p>\n\n<p>There appears to be a workaround to get the nullability information separately, and you could rebuild your own <code>KType</code> using this using <code>T::class.createType(...)</code> but that is a bit complicated and not yet proven in all cases.  The workaround to find nullability from a reified T as presented by Ruslan Ibragimov is as follows:</p>\n\n\n\n<pre><code>inline fun &lt;reified T : Any?&gt; sample() {\n    println(\"Is nullable: ${isNullable&lt;T&gt;()}\")\n}\n\ninline fun &lt;reified T : Any?&gt; isNullable(): Boolean {\n    return null is T\n}\n\nfun main(args: Array&lt;String&gt;) {\n    sample&lt;String?&gt;()\n    sample&lt;String&gt;()\n}\n\n// Is nullable: true\n// Is nullable: false\n</code></pre>\n\n<p>Regardless of the approach, you still would need to end up with <code>KType</code>.</p>\n\n<hr>\n\n<p><strong>Experimental full solution:</strong></p>\n\n<p>I created an experimental implementation of inferring the full <code>KType</code> with nullability based on the sample code from both Alexander Udalov and Ruslan Ibragimov.  You can see this code in <a href=\"https://github.com/kohesive/klutter/blob/master/reflect/src/main/kotlin/uy/klutter/reflect/TypeInfo.kt\" rel=\"nofollow noreferrer\">Klutter library source code</a> and it is released in Klutter version 2.5.3 where it is marked with an experimental warning.</p>\n\n<p>You can view the <a href=\"https://github.com/kohesive/klutter/blob/master/reflect/src/test/kotlin/uy/klutter/reflect/conversion/TestTypeInfo.kt\" rel=\"nofollow noreferrer\">test code</a> to see how it is working, but basically is simple as:</p>\n\n<pre><code>val nullableString = reifiedKType&lt;String?&gt;()\nprintln(nullableString.isMarkedNullable) // true\n\nval nonNullableString = reifiedKType&lt;String&gt;()\nprintln(nonNullableString.isMarkedNullable) // false\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1668, "user_id": 181913, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3e44a194a20a8069e2aca94fde9c810f?s=128&d=identicon&r=PG", "display_name": "Burg", "link": "https://stackoverflow.com/users/181913/burg"}, "edited": false, "score": 0, "creation_date": 1522804584, "post_id": 49637606, "comment_id": 86290164, "body": "Actually this use case is pretty close to what I am trying to do.  I&#39;ll modify the question to show EXACTLY the code I am trying to write."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 1668, "user_id": 181913, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3e44a194a20a8069e2aca94fde9c810f?s=128&d=identicon&r=PG", "display_name": "Burg", "link": "https://stackoverflow.com/users/181913/burg"}, "edited": false, "score": 0, "creation_date": 1522817037, "post_id": 49637606, "comment_id": 86293394, "body": "@Burg So the strategies above apply perfectly to your case.  I added to the end of my answer your code refactored slightly."}, {"owner": {"reputation": 660, "user_id": 4277741, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cd39e9bdeb67864600c18088e0fc2db2?s=128&d=identicon&r=PG&f=1", "display_name": "Matvey Rybakov", "link": "https://stackoverflow.com/users/4277741/matvey-rybakov"}, "edited": false, "score": 0, "creation_date": 1551688721, "post_id": 49637606, "comment_id": 96716984, "body": "@JaysonMinard &quot;HOW DO YOU INFER YOUR TYPE T&quot; - brilliant question, helped me with another problem, thanks!"}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 3, "last_activity_date": 1522818680, "last_edit_date": 1522818680, "creation_date": 1522783000, "answer_id": 49637606, "question_id": 49620173, "link": "https://stackoverflow.com/questions/49620173/declare-a-function-generic-type-parameter-in-a-way-that-allows-both-for-nullable/49637606#49637606", "title": "Declare a function generic type parameter in a way that allows both for nullable types and using that type parameter to declare `KClass&lt;T&gt;`", "body": "<p>Your question is lacking the most important information.  You show a contrived case of calling your function as <code>myFun&lt;String?&gt;()</code> but then if that was the case you could obviously change it to not use a nullable type.  So this is likely not the real use case. You oversimplified your explanation and removed the most relevant information that we need to answer your question:  \"<em>What is the full method signature and what does the call site look like?</em>\"</p>\n\n<p>What is missing is HOW DO YOU INFER YOUR TYPE <code>T</code>?  You either get it from the return value, from a method parameter, or by explicitly stating it in each call site.  Therefore you have these options of getting a <code>T: Any</code> to use within your function, and deciding on which is best depends on the information you did NOT show in your question.</p>\n\n<p>So here are your options:</p>\n\n\n\n<ol>\n<li><p>If you are inferring the type based on the return parameter, then allow the return to be nullable but do not make the reified type nullable:</p>\n\n<pre><code>// call site, any return type nullable or not\nval something: String? = doSomething()\n\n// function\ninline fun &lt;reified T: Any&gt; doSomething(): T? {\n    val x: KClass&lt;T&gt; = T::class\n    // ...\n}\n</code></pre></li>\n<li><p>Or if you are inferring it from an incoming parameter, do the same trick there:</p>\n\n<pre><code>// call site, any parameter type nullable or not\nval param: String? = \"howdy\"\ndoSomethingElse(param)\n\n// function\ninline fun &lt;reified T: Any&gt; doSomethingElse(parm: T?) {\n    val x: KClass&lt;T&gt; = T::class\n    // ...\n}\n</code></pre></li>\n<li><p>Or you are literally specifying the generic parameter (simply don't make it nullable when you type the parameter name):</p>\n\n<pre><code>// call site, any non-nullable generic parameter\ndoSomething&lt;String&gt;()\n\n// function\ninline fun &lt;reified T: Any&gt; doSomethingElse() {\n    val x: KClass&lt;T&gt; = T::class\n    // ...\n}\n</code></pre></li>\n<li><p>Or use the star projection if you cannot change the generic parameter (but why couldn't you?!?):</p>\n\n<pre><code>// call site: whatever you want it to be\n\n// function:\ninline fun &lt;reified T&gt; test4() {\n    val x = T::class // compiles, implied type of x is KClass&lt;T&gt;\n    val y: KClass&lt;*&gt; = T::class  KClass&lt;T&gt;\n}\n</code></pre>\n\n<p>Both <code>x</code> and <code>y</code> will act the same by the way, and some methods/properties will be missing on the <code>KClass</code> reference.</p></li>\n</ol>\n\n<p>Three out of four of those examples give you want you desire, and I can't imagine a case where one of those won't work.  Otherwise, how are you inferring the type <code>T</code>?  What is the pattern that does not work with the above?</p>\n\n<p>Pay attention to the trick with using <code>&lt;T: Any&gt;</code> combined with <code>T?</code> in the same method signature.</p>\n\n<p><strong>Based on your last update to the question, this keeps nullability as you expected for the <code>output</code> function reference but allows it to work for the <code>KClass</code>:</strong></p>\n\n<pre><code>class OutputContract&lt;T: Any&gt;(private val output: () -&gt; T?, val outputType: KClass&lt;T&gt;) {\n    fun invoke(): T? {\n        return output()\n    }\n}\n\ninline fun &lt;reified T: Any&gt; output(noinline output: () -&gt; T?): OutputContract&lt;T&gt; {\n    return OutputContract(output, T::class)\n}\n</code></pre>\n\n<p>The user still has control over nullability by passing in their implementation of output that does not return nulls, Kotlin will still type check for them and behave as normal.  But the call to invoke has to be checked because it is always assumed to be nullable. You can't really have it both ways, wanting nullability control on <code>T</code> but using it internally as a typed <code>KClass</code> but you <em>could</em> use it as a <code>KClass&lt;*&gt;</code> depending on what functionality you use from the <code>KClass</code>.  You might not be missing anything important.  You don't show what you intend to do with the <code>KClass</code> so it is hard to say more on the topic.  <code>KClass</code> is usually not a good type to use if you think they might pass you a generic class, you should use a <code>KType</code> instead.</p>\n\n<p><a href=\"https://proandroiddev.com/understanding-generics-and-variance-in-kotlin-714c14564c47\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bXJ5s.png\" alt=\"Image from Understanding Generics and Variance in Kotlin\"></a>\nImage from <a href=\"https://proandroiddev.com/understanding-generics-and-variance-in-kotlin-714c14564c47\" rel=\"nofollow noreferrer\">Understanding Generics and Variance in Kotlin</a></p>\n"}], "owner": {"reputation": 1668, "user_id": 181913, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3e44a194a20a8069e2aca94fde9c810f?s=128&d=identicon&r=PG", "display_name": "Burg", "link": "https://stackoverflow.com/users/181913/burg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1963, "favorite_count": 1, "accepted_answer_id": 49637606, "answer_count": 2, "score": 4, "last_activity_date": 1522818680, "creation_date": 1522711906, "last_edit_date": 1522817312, "question_id": 49620173, "link": "https://stackoverflow.com/questions/49620173/declare-a-function-generic-type-parameter-in-a-way-that-allows-both-for-nullable", "title": "Declare a function generic type parameter in a way that allows both for nullable types and using that type parameter to declare `KClass&lt;T&gt;`", "body": "<p><code>KClass</code> is defined as <code>public interface KClass&lt;T : Any&gt; : KDeclarationContainer, KAnnotatedElement, KClassifier</code></p>\n\n<p>This is tricky, because the class of a <code>String?</code> should be <code>KClass&lt;String&gt;</code>, but is impossible to obtain.</p>\n\n<p>Given the following 3 examples below (that should all do essentially the same work), 1 of them doesn't compile, and the others return the same runtime type.</p>\n\n<pre><code>inline fun &lt;reified T&gt; test1(): Any = T::class\ninline fun &lt;reified T: Any&gt; test2(): KClass&lt;T&gt; = T::class\ninline fun &lt;reified T&gt; test3(): KClass&lt;T&gt; = T::class // does not compile\n\ntest1&lt;String?&gt;() // class kotlin.String\ntest1&lt;String&gt;() // class kotlin.String\ntest2&lt;String?&gt;() // does not compile\ntest2&lt;String&gt;() // class kotlin.String\n</code></pre>\n\n<p>The point of the question is to ask: how can I get the runtime behavior of <code>test1</code> with the compile time behavior (and safety) of <code>test2</code>?</p>\n\n<p>EDIT:\none final addendum to the question is another example, which demonstrates the problem with getting the class of a nullable type.</p>\n\n<pre><code>inline fun &lt;reified T&gt; test4() {\n    val x = T::class // compiles, implied type of x is KClass&lt;T&gt;\n    val y: KClass&lt;T&gt; = T::class // does not compile with explicit type of KClass&lt;T&gt;\n}\n</code></pre>\n\n<p>The call site that I am specifically having problems with is this:</p>\n\n<pre><code>class OutputContract&lt;T&gt;(\n    private val output: () -&gt; T,\n    val outputType: KClass&lt;T&gt;   // ERROR!\n) {    \n    fun invoke(): T {\n        return output()\n    }\n}\n\n\ninline fun &lt;reified T&gt; output(noinline output: () -&gt; T): OutputContract&lt;T&gt; {\n    return OutputContract(output, T::class)\n}\n</code></pre>\n\n<p>The only error here is with <code>KClass&lt;T&gt;</code>, not with <code>T::class</code>, which hums along just fine.  I want to allow the consumer to specify nullability as part of the contract, so adding an <code>Any</code> constraint will not work.  If I just turn <code>KClass&lt;T&gt;</code> into <code>KClass&lt;Any&gt;</code>, this all works (which proves there is no runtime issue, only compile time).  This is ultimately the workaround I have chosen, but it would be nice if I could actually maintain the proper type.</p>\n"}, {"tags": ["spring-boot", "heroku", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 9589945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23893b2d3163c0a34b943c0fac84e127?s=128&d=identicon&r=PG&f=1", "display_name": "Jens De Temmerman", "link": "https://stackoverflow.com/users/9589945/jens-de-temmerman"}, "is_accepted": true, "score": 2, "last_activity_date": 1522744959, "creation_date": 1522744959, "answer_id": 49625727, "question_id": 49620069, "link": "https://stackoverflow.com/questions/49620069/deploy-spring-boot-with-gradle-kotlin-application-the-jar-is-not-found/49625727#49625727", "title": "Deploy Spring Boot with Gradle (Kotlin) application - the jar is not found", "body": "<p>You should indeed be getting (at least) the following:</p>\n\n<pre><code>remote: -----&gt; Gradle app detected\nremote: -----&gt; Spring Boot detected\n</code></pre>\n\n<p>Is this the first push you did? Did you set a buildpack manually? Perhaps try clearing the buildpacks (heroku buildpacks:clear). If you can publish your app somewhere, it might help to check what the issue could be.</p>\n"}], "owner": {"reputation": 4336, "user_id": 819651, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b3b2801b397b45b57b784c83b6274e22?s=128&d=identicon&r=PG", "display_name": "Lu&#237;s Soares", "link": "https://stackoverflow.com/users/819651/lu%c3%ads-soares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 49625727, "answer_count": 1, "score": 0, "last_activity_date": 1522744959, "creation_date": 1522711003, "question_id": 49620069, "link": "https://stackoverflow.com/questions/49620069/deploy-spring-boot-with-gradle-kotlin-application-the-jar-is-not-found", "title": "Deploy Spring Boot with Gradle (Kotlin) application - the jar is not found", "body": "<p>I have a simple app made in Spring Boot, Kotlin, Gradle. I followed <a href=\"https://devcenter.heroku.com/articles/deploying-gradle-apps-on-heroku\" rel=\"nofollow noreferrer\">the official tutorial</a> and tried to follow all the possible defaults.</p>\n\n<pre><code>$ git push heroku master\nCounting objects: 2, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (2/2), done.\nWriting objects: 100% (2/2), 231 bytes | 231.00 KiB/s, done.\nTotal 2 (delta 1), reused 0 (delta 0)\nremote: Compressing source files... done.\nremote: Building source:\nremote:\nremote: -----&gt; JVM Common app detected\nremote: -----&gt; Installing JDK 1.8... done\nremote: -----&gt; Discovering process types\nremote:        Procfile declares types -&gt; (none)\nremote:\nremote: -----&gt; Compressing...\nremote:        Done: 50.7M\nremote: -----&gt; Launching...\nremote:        Released v50\nremote:        https://---.herokuapp.com/ deployed to Heroku\nremote:\nremote: Verifying deploy... done.\n</code></pre>\n\n<p>It's weird that I get \"JVM Common app detected\" instead of \"Gradle app detected\".</p>\n\n<p>I can't deploy the app. When I do <code>heroku logs --tail</code>, I get:</p>\n\n<pre><code>2018-04-02T23:02:39.257887+00:00 heroku[web.1]: Starting process with command `java $JAVA_OPTS -Dserver.port=50478 -jar build/libs/scraper-0.0.1-SNAPSHOT.jar`\n2018-04-02T23:02:41.645544+00:00 heroku[web.1]: Process exited with status 1\n2018-04-02T23:02:41.664910+00:00 heroku[web.1]: State changed from starting to crashed\n2018-04-02T23:02:41.577966+00:00 app[web.1]: Error: Unable to access jarfile build/libs/scraper-0.0.1-SNAPSHOT.jar\n2018-04-02T23:02:41.572483+00:00 app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\n2018-04-02T23:05:10.000000+00:00 app[api]: Build started by user ---\n2018-04-02T23:05:21.108667+00:00 app[api]: Release v50 created by user ---\n2018-04-02T23:05:10.000000+00:00 app[api]: Build succeeded\n2018-04-02T23:05:21.635834+00:00 heroku[web.1]: State changed from crashed to down\n</code></pre>\n\n<ul>\n<li>Using Spring Boot 2.0.0.RELEASE</li>\n<li>Using Kotlin 1.2.31</li>\n<li>no special tasks in <code>build.gradle</code></li>\n<li>no <code>Procfile</code></li>\n</ul>\n\n<p>Is there any way to fix this using the defaults (i.e.. no Procfile, no special Gradle tasks)? If not possible using defaults, what can I do? Thanks</p>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": true, "score": 2, "last_activity_date": 1522711515, "creation_date": 1522711515, "answer_id": 49620120, "question_id": 49619991, "link": "https://stackoverflow.com/questions/49619991/return-documents-using-references-into-an-array/49620120#49620120", "title": "Return documents using references into an array", "body": "<p>There is no way to query for whether a certain value exists in an array. Have a look at the <a href=\"https://firebase.google.com/docs/firestore/solutions/arrays\" rel=\"nofollow noreferrer\">Firebase documentation on working with arrays, lists , and sets</a> for an alternative data structure that allows you to meet your goals.</p>\n\n<p>It looks like your query already comes from there, but your data structure doesn't follow the model outlined in that solution. To write the proper structure the documentation uses a <code>Map</code> with the values you want to filter for in the key, and <code>true</code> in the value:</p>\n\n<blockquote>\n<pre><code>Map&lt;String, Boolean&gt; categories = new HashMap&lt;&gt;();\ncategories.put(\"technology\", true);\ncategories.put(\"opinion\", true);\ncategories.put(\"cats\", true);\nMapPost myMapPost = new MapPost(\"My great post\", categories);\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 2004, "user_id": 2529315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/xraFC.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/2529315/johnny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 1, "accepted_answer_id": 49620120, "answer_count": 1, "score": 0, "last_activity_date": 1522740206, "creation_date": 1522710487, "last_edit_date": 1522740206, "question_id": 49619991, "link": "https://stackoverflow.com/questions/49619991/return-documents-using-references-into-an-array", "title": "Return documents using references into an array", "body": "<p>I'm looking for to return all exercices who contains a specific muscles group reference.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uhDoN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uhDoN.png\" alt=\"Firestore\"></a></p>\n\n<p>I tried this :</p>\n\n<pre><code>val db = FirebaseFirestore.getInstance()\n\ndb.collection(\"exercises\")\n        .whereEqualTo(\"musclesGroups.hgMweNPXXXXXXXXX\", true)\n        .addSnapshotListener({ value, e -&gt;\n            Log.i(\"test\", \"Exercises \" + value.documents.size)\n        })\n</code></pre>\n\n<p>But there is no result and no error, and size is <code>0</code>.</p>\n"}, {"tags": ["java", "android", "animation", "android-recyclerview", "kotlin"], "owner": {"reputation": 1228, "user_id": 6580534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8420463b82450b19a1e4537d8ee17c8?s=128&d=identicon&r=PG&f=1", "display_name": "M. Palsich", "link": "https://stackoverflow.com/users/6580534/m-palsich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522704437, "creation_date": 1522704437, "question_id": 49619067, "link": "https://stackoverflow.com/questions/49619067/itemanimator-animatechange-oldholder-does-not-animate", "title": "ItemAnimator animateChange oldHolder does not animate", "body": "<p>I'm using a ValueAnimator within <code>animateChange()</code> of my custom ItemAnimator to update the height of both the <code>newHolder</code> and <code>oldHolder</code> via setting <code>oldHolder.itemView.layoutParams</code> and <code>newHolder.itemView.layoutParams</code> with updated params.</p>\n\n<p>The <code>newHolder</code>'s view animates correctly. The <code>oldHolder</code>'s view is stuck in a state where <code>isLayoutRequested() == true</code> and never redraws when its new layout parameters are set.</p>\n\n<p>Does anyone know what's going on?</p>\n\n<pre><code>ValueAnimator.ofInt(INITIAL_HEIGHT, FINAL_HEIGHT).apply {\n  duration = ANIMATION_DURATION\n\n  addUpdateListener {  \n    val newHeight = animatedValue as Int\n\n    val oldLp = oldHolder.itemView.layoutParams\n    oldLp.height = newHeight\n    oldHolder.itemView.layoutParams = oldLp\n\n    val newLp = newHolder.itemView.layoutParams\n    newLp.height = newHeight\n    newHolder.itemView.layoutParams = newLp\n  }\n\n  start()\n}\n</code></pre>\n\n<p>I've left out some boilerplate for clarity. I extend DefaultItemAnimator and do dispatch change start/end in line with the animation beginning and ending.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3159, "user_id": 672584, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8b4b453d41144d818148ca76ac56abfc?s=128&d=identicon&r=PG", "display_name": "Jake Walsh", "link": "https://stackoverflow.com/users/672584/jake-walsh"}, "is_accepted": false, "score": 2, "last_activity_date": 1522702456, "creation_date": 1522702456, "answer_id": 49618653, "question_id": 49618652, "link": "https://stackoverflow.com/questions/49618652/how-to-read-all-available-elements-from-a-channel-in-kotlin/49618653#49618653", "title": "How to read all available elements from a Channel in Kotlin", "body": "<p>I did not find anything in the standard kotlin library, but here is what I came up with. This will suspend only for the first element and then <code>poll</code> all remaining elements. This only really works with a <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#buffered-channels\" rel=\"nofollow noreferrer\">Buffered Channel</a> so that elements ready for processing are queued and available for <code>poll</code> </p>\n\n<pre><code>/**\n * Receive all available elements up to [max]. Suspends for the first element if the channel is empty\n */\ninternal suspend fun &lt;E&gt; ReceiveChannel&lt;E&gt;.receiveAvailable(max: Int): List&lt;E&gt; {\n    if (max &lt;= 0) {\n        return emptyList()\n    }\n\n    val batch = mutableListOf&lt;E&gt;()\n    if (this.isEmpty) {\n        // suspend until the next message is ready\n        batch.add(receive())\n    }\n\n    fun pollUntilMax() = if (batch.size &gt;= max) null else poll()\n\n    // consume all other messages that are ready\n    var next = pollUntilMax()\n    while (next != null) {\n        batch.add(next)\n        next = pollUntilMax()\n    }\n\n    return batch\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 10758601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozQb3.jpg?s=128&g=1", "display_name": "mierzwid", "link": "https://stackoverflow.com/users/10758601/mierzwid"}, "is_accepted": false, "score": 0, "last_activity_date": 1554735352, "creation_date": 1554735352, "answer_id": 55576245, "question_id": 49618652, "link": "https://stackoverflow.com/questions/49618652/how-to-read-all-available-elements-from-a-channel-in-kotlin/55576245#55576245", "title": "How to read all available elements from a Channel in Kotlin", "body": "<p>I tested Jakes code and it worked well for me (thanks!). Without max limit, I got it down to:</p>\n\n<pre><code>suspend fun &lt;E&gt; ReceiveChannel&lt;E&gt;.receiveAvailable(): List&lt;E&gt; {\n    val allMessages = mutableListOf&lt;E&gt;()\n    allMessages.add(receive())\n    var next = poll()\n    while (next != null) {\n        allMessages.add(next)\n        next = poll()\n    }\n    return allMessages\n}\n</code></pre>\n"}], "owner": {"reputation": 3159, "user_id": 672584, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8b4b453d41144d818148ca76ac56abfc?s=128&d=identicon&r=PG", "display_name": "Jake Walsh", "link": "https://stackoverflow.com/users/672584/jake-walsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1554735352, "creation_date": 1522702456, "question_id": 49618652, "link": "https://stackoverflow.com/questions/49618652/how-to-read-all-available-elements-from-a-channel-in-kotlin", "title": "How to read all available elements from a Channel in Kotlin", "body": "<p>I would like to read all available elements from a channel so that I can do batch processing on them if my receiver is slower then my sender (in hopes that processing a batch will be more performant and allow the receiver to catch up). I only want to suspend if the channel is empty, not suspend until my batch is full or timeout unlike <a href=\"https://stackoverflow.com/questions/48798510/execute-a-piece-of-code-when-kotlin-channel-becomes-full\">this question</a>.</p>\n\n<p>Is there anything built into the standard kotlin library to accomplish this?</p>\n"}, {"tags": ["spring-boot", "kotlin", "yaml", "configuration-files"], "answers": [{"tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 1, "last_activity_date": 1522760745, "creation_date": 1522760745, "answer_id": 49630883, "question_id": 49618626, "link": "https://stackoverflow.com/questions/49618626/yaml-type-safe-configuration-in-spring-using-kotlin-functional-style/49630883#49630883", "title": "Yaml type-safe configuration in Spring using Kotlin Functional Style", "body": "<p>The <code>beans</code> dsl has an <code>env</code> property that you can use to retrieve any <code>environment</code> property defined in yaml, properties files or command line parameters:</p>\n\n<pre><code>fun beans() = beans {\n    bean&lt;SomeBeanThatNeedsConfig&gt; { \n      SomeBeanThatNeedsConfig(env.getProperty(\"config.value\"))\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 361, "user_id": 3242708, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Sz4ly.jpg?s=128&g=1", "display_name": "Bruno Ren&#233; Santos", "link": "https://stackoverflow.com/users/3242708/bruno-ren%c3%a9-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 49630883, "answer_count": 1, "score": -1, "last_activity_date": 1522760745, "creation_date": 1522702358, "question_id": 49618626, "link": "https://stackoverflow.com/questions/49618626/yaml-type-safe-configuration-in-spring-using-kotlin-functional-style", "title": "Yaml type-safe configuration in Spring using Kotlin Functional Style", "body": "<p>I'm trying to follow the demo <a href=\"https://github.com/sdeleuze/spring-kotlin-functional\" rel=\"nofollow noreferrer\">https://github.com/sdeleuze/spring-kotlin-functional</a> to create a new Spring Boot application using the annotation-free new approach, released in Spring Boot 2. My problem is how to continue to use Yaml files to configure my application, without using annotations? I would guess it would be something inside the Beans configuration but I dont find any documentation on that subject. Thanx</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "robolectric"], "owner": {"reputation": 1457, "user_id": 2462241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/11da47c8987402a92cb8b1f2aef11216?s=128&d=identicon&r=PG", "display_name": "Xi Wei", "link": "https://stackoverflow.com/users/2462241/xi-wei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522700591, "creation_date": 1522700591, "question_id": 49618282, "link": "https://stackoverflow.com/questions/49618282/notificationmanager-isnotificationpolicyaccessgranted-npe-in-robolectric", "title": "NotificationManager.isNotificationPolicyAccessGranted NPE in Robolectric", "body": "<p>I have want to write a simple test involving Robolectric's <code>notificationManager.isNotificationPolicyAccessGranted</code>.</p>\n\n<pre><code>package com.xi_zz.mutephonebutton\n\nimport android.app.NotificationManager\nimport android.app.NotificationManager.INTERRUPTION_FILTER_ALL\nimport android.app.NotificationManager.INTERRUPTION_FILTER_PRIORITY\nimport android.content.Context\nimport org.junit.Assert.assertEquals\nimport org.junit.Before\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport org.robolectric.RobolectricTestRunner\nimport org.robolectric.RuntimeEnvironment\n\n\n@RunWith(RobolectricTestRunner::class)\n    class MainViewModelTest {\n        lateinit var notificationManager: NotificationManager\n\n        @Before\n        fun setUp() {\n            notificationManager = RuntimeEnvironment.application.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        }\n\n        @Test\n        fun testTest() {\n            assertEquals(notificationManager.getCurrentInterruptionFilter(), INTERRUPTION_FILTER_ALL); // Pass\n            notificationManager.setInterruptionFilter(INTERRUPTION_FILTER_PRIORITY);\n            assertEquals(notificationManager.getCurrentInterruptionFilter(), INTERRUPTION_FILTER_PRIORITY); // Pass\n\n            var bool = notificationManager.isNotificationPolicyAccessGranted // NPE\n        }\n    }\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>java.lang.NullPointerException\n    at android.app.NotificationManager.isNotificationPolicyAccessGranted(NotificationManager.java:773)\n    at com.xi_zz.mutephonebutton.MainViewModelTest.testTest(MainViewModelTest.kt:31)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:570)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.robolectric.internal.SandboxTestRunner$2.evaluate(SandboxTestRunner.java:253)\n    at org.robolectric.internal.SandboxTestRunner.runChild(SandboxTestRunner.java:130)\n    at org.robolectric.internal.SandboxTestRunner.runChild(SandboxTestRunner.java:42)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.robolectric.internal.SandboxTestRunner$1.evaluate(SandboxTestRunner.java:84)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\n</code></pre>\n\n<p>notificationManager works until I call <code>isNotificationPolicyAccessGranted</code>. Any idea why this is happening? I am using <code>Robolectric 3.8</code> and <code>Junit 4.12</code>.</p>\n"}, {"tags": ["android", "kotlin"], "owner": {"reputation": 93, "user_id": 2428748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3c1b52b3328e5b934c7f5e7668f90f9?s=128&d=identicon&r=PG", "display_name": "arabello", "link": "https://stackoverflow.com/users/2428748/arabello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522700363, "creation_date": 1522700363, "question_id": 49618229, "link": "https://stackoverflow.com/questions/49618229/more-than-one-file-was-found-with-os-independent-path-meta-inf-deserialization", "title": "More than one file was found with OS independent path &#39;META-INF/deserialization.kotlin_module&#39;", "body": "<p>I have to build an Android application using Kotlin that evaluates Kotlin codes. In order to accomplish this I need to import as dependences <code>org.jetbrains.kotlin:kotlin-compiler</code> and <code>org.jetbrains.kotlin:kotlin-script-util</code> as below:</p>\n\n<p>rks module gradle</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.31'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-compiler:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-script-util:$kotlin_version\"\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>than app module gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"it.matteopellegrino.kotlinsample\"\n        minSdkVersion 16\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"0.0.1\"\n        testInstrumentationRunner  \"android.support.test.runner.AndroidJUnitRunner\"\n        }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n    compile project(\":rks\")\n}\n</code></pre>\n\n<p>When importing these dependences Gradle sync works, but run fails with this error</p>\n\n<pre><code>Error:Execution failed for task ':app:transformResourcesWithMergeJavaResForDebug'.\nMore than one file was found with OS independent path 'META-INF/deserialization.kotlin_module'\n</code></pre>\n\n<p>I <strong>cannot</strong> <code>exclude</code> it in <code>packagingOptions</code>, because it would broke the entire kotlin run.</p>\n\n<p>According to <a href=\"https://readyset.build/build-failures-kotlin-metadata-errors-f0090cdf948c\" rel=\"nofollow noreferrer\">this article</a> it seems a <em>naming conflict between libraries</em>, but the solutions provided does not work for me.</p>\n\n<p>How can I solve this?</p>\n"}, {"tags": ["android", "kotlin", "listadapter", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 8304051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c4a0ad4e551c58e0fceb12294f2bf1?s=128&d=identicon&r=PG&f=1", "display_name": "devboi", "link": "https://stackoverflow.com/users/8304051/devboi"}, "is_accepted": true, "score": 2, "last_activity_date": 1522704141, "creation_date": 1522704141, "answer_id": 49619008, "question_id": 49617753, "link": "https://stackoverflow.com/questions/49617753/android-type-argument-listadapter/49619008#49619008", "title": "Android, Type argument listadapter", "body": "<p>From what I see in your code, you should replace <code>ListAdapter&lt;Transaction&gt;</code> with <code>ListAdapter&lt;Transaction, Viewholder&gt;</code>.</p>\n\n<p>You can see an example in the docs here :(<a href=\"https://developer.android.com/reference/android/support/v7/recyclerview/extensions/ListAdapter.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/support/v7/recyclerview/extensions/ListAdapter.html</a>), where ListAdapter has 2 arguments inside the diamonds: one for the list-object and the other for your custom viewholder.</p>\n\n<p>Hope this helps. </p>\n"}, {"tags": [], "owner": {"reputation": 185, "user_id": 8876324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d415e0c599aa70e2cd1b1a736a598194?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier labelle", "link": "https://stackoverflow.com/users/8876324/olivier-labelle"}, "is_accepted": false, "score": 10, "last_activity_date": 1522758519, "creation_date": 1522758519, "answer_id": 49630111, "question_id": 49617753, "link": "https://stackoverflow.com/questions/49617753/android-type-argument-listadapter/49630111#49630111", "title": "Android, Type argument listadapter", "body": "<p>So with the help of devboi, i found out i was using the wrong import. </p>\n\n<p>In the top right corner on the Dev documentation it show the right import.</p>\n\n<p><a href=\"https://imgur.com/vGrCOVd\" rel=\"noreferrer\">https://imgur.com/vGrCOVd</a></p>\n\n<p>And here how the import on my project should look like.</p>\n\n<pre><code>import android.support.v7.recyclerview.extensions.ListAdapter\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 787463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1AcyL.png?s=128&g=1", "display_name": "Slashee the Cow", "link": "https://stackoverflow.com/users/787463/slashee-the-cow"}, "is_accepted": false, "score": 0, "last_activity_date": 1615605910, "creation_date": 1615605910, "answer_id": 66609817, "question_id": 49617753, "link": "https://stackoverflow.com/questions/49617753/android-type-argument-listadapter/66609817#66609817", "title": "Android, Type argument listadapter", "body": "<p>Just came across this very problem myself.</p>\n<p>If you're using AndroidX/Jetpack/whatever the official name is I'm still new at this, Android Studio might<br />\n<code>import android.widget.ListAdapter</code><br />\nautomatically, but the one you want is<br />\n<code>import androidx.recyclerview.widget.ListAdapter</code></p>\n"}], "owner": {"reputation": 185, "user_id": 8876324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d415e0c599aa70e2cd1b1a736a598194?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier labelle", "link": "https://stackoverflow.com/users/8876324/olivier-labelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1600, "favorite_count": 0, "accepted_answer_id": 49619008, "answer_count": 3, "score": 3, "last_activity_date": 1615605910, "creation_date": 1522698193, "question_id": 49617753, "link": "https://stackoverflow.com/questions/49617753/android-type-argument-listadapter", "title": "Android, Type argument listadapter", "body": "<p>so i'm following a guide online to make a room db. In the adapter section i followed his way of doing it but when i did it, i keep having the \"No Type Argument expected for Interface ListAdapter\". </p>\n\n<p>Error example: <a href=\"https://imgur.com/kPT7DkE\" rel=\"nofollow noreferrer\">https://imgur.com/kPT7DkE</a></p>\n\n<p>Here's the whole project so far on github. </p>\n\n<p><a href=\"https://github.com/OlivierLabelle/BudgetProject/tree/master/app/src/main/java/com/example/android/budgetproject\" rel=\"nofollow noreferrer\">https://github.com/OlivierLabelle/BudgetProject/tree/master/app/src/main/java/com/example/android/budgetproject</a></p>\n\n<p>And the guide i was following.</p>\n\n<p><a href=\"https://medium.com/@trionkidnapper/recyclerview-more-animations-with-less-code-using-support-library-listadapter-62e65126acdb\" rel=\"nofollow noreferrer\">https://medium.com/@trionkidnapper/recyclerview-more-animations-with-less-code-using-support-library-listadapter-62e65126acdb</a></p>\n"}, {"tags": ["java", "utf-8", "character-encoding", "kotlin", "byte"], "comments": [{"owner": {"reputation": 1246, "user_id": 4229454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jceqP.jpg?s=128&g=1", "display_name": "zlakad", "link": "https://stackoverflow.com/users/4229454/zlakad"}, "edited": false, "score": 0, "creation_date": 1522698451, "post_id": 49617659, "comment_id": 86242574, "body": "<i>I chose to store them as byte array as string</i> - may I ask you <b>why</b>?"}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "reply_to_user": {"reputation": 1246, "user_id": 4229454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jceqP.jpg?s=128&g=1", "display_name": "zlakad", "link": "https://stackoverflow.com/users/4229454/zlakad"}, "edited": false, "score": 0, "creation_date": 1522698560, "post_id": 49617659, "comment_id": 86242618, "body": "Need to store huge amount of booleans with unknown upper limit, so storing them as part of simple int is impossible, but string can be unlimited :)"}, {"owner": {"reputation": 1246, "user_id": 4229454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jceqP.jpg?s=128&g=1", "display_name": "zlakad", "link": "https://stackoverflow.com/users/4229454/zlakad"}, "edited": false, "score": 0, "creation_date": 1522698750, "post_id": 49617659, "comment_id": 86242712, "body": "Your question is already answered: <a href=\"https://stackoverflow.com/questions/1536054/how-to-convert-byte-array-to-string-and-vice-versa\" title=\"how to convert byte array to string and vice versa\">stackoverflow.com/questions/1536054/&hellip;</a>"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1522698868, "post_id": 49617659, "comment_id": 86242757, "body": "Why not use a <code>List&lt;Booelan&gt;</code>?"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1522698911, "post_id": 49617659, "comment_id": 86242773, "body": "Could you use a BitSet instead?"}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1522698915, "post_id": 49617659, "comment_id": 86242776, "body": "@leoderprofi need to store string in the database"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1522698959, "post_id": 49617659, "comment_id": 86242801, "body": "Even Base64 should be more efficient than using 1 character per bit"}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1522699026, "post_id": 49617659, "comment_id": 86242830, "body": "@jrtapsell it&#39;s not 1 character per bit. It&#39;s eight bits per byte. Converting to the readable string is just an example"}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "reply_to_user": {"reputation": 1246, "user_id": 4229454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jceqP.jpg?s=128&g=1", "display_name": "zlakad", "link": "https://stackoverflow.com/users/4229454/zlakad"}, "edited": false, "score": 0, "creation_date": 1522699045, "post_id": 49617659, "comment_id": 86242844, "body": "@zlakad I didn&#39;t ask how to, I asked why it didn&#39;t work"}, {"owner": {"reputation": 1246, "user_id": 4229454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jceqP.jpg?s=128&g=1", "display_name": "zlakad", "link": "https://stackoverflow.com/users/4229454/zlakad"}, "edited": false, "score": 0, "creation_date": 1522699167, "post_id": 49617659, "comment_id": 86242903, "body": "@that other guy provided an example in his answer."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1522699208, "post_id": 49617659, "comment_id": 86242916, "body": "Consider using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">Biginteger</a> with BigInteger(String val, 2) and toString(2). You can manipulate it with the bit operators. Depending on what you do this is more memory efficient."}], "answers": [{"comments": [{"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 1, "creation_date": 1522698969, "post_id": 49617906, "comment_id": 86242806, "body": "Yeah, this is what I see! But how to avoid that?"}], "tags": [], "owner": {"reputation": 100768, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "is_accepted": true, "score": 5, "last_activity_date": 1522699271, "last_edit_date": 1522699271, "creation_date": 1522698913, "answer_id": 49617906, "question_id": 49617659, "link": "https://stackoverflow.com/questions/49617659/converting-bytearray-to-string-and-back-produces-different-string/49617906#49617906", "title": "Converting ByteArray to string and back produces different string", "body": "<p>Here's a MCVE for your problem (in Java):</p>\n\n<pre><code>import java.nio.charset.*;\n\nclass Test {\n  public static void main(String[] args) {\n    byte[] array = { -128 };\n    byte[] convertedArray = new String(array, StandardCharsets.UTF_8).getBytes(StandardCharsets.UTF_8);\n    for(int i=0; i&lt;convertedArray.length; i++) {\n      System.out.println(convertedArray[i]);\n    }\n  }\n}\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>-128\n</code></pre>\n\n<p>Actual output:</p>\n\n<pre><code>-17\n-65\n-67\n</code></pre>\n\n<p>This happens because the byte <code>-128</code> is not a valid UTF-8 character, so it gets replaced with the Unicode replacement character U+FFFD \"\ufffd\".</p>\n\n<p>You can instead encode and decode the string as ISO-8859-1 aka Latin1, since all byte strings are valid in the ISO-8859 family of encodings. ISO-8859-1 has the convenient property that each byte value corresponds directly to the same unicode code point, so that <code>0x80</code> is encoded as U+0080, <code>0xFF</code> as U+00FF etc. </p>\n"}], "owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1505, "favorite_count": 0, "accepted_answer_id": 49617906, "answer_count": 1, "score": 0, "last_activity_date": 1522699271, "creation_date": 1522697741, "question_id": 49617659, "link": "https://stackoverflow.com/questions/49617659/converting-bytearray-to-string-and-back-produces-different-string", "title": "Converting ByteArray to string and back produces different string", "body": "<p>I have to store huge list of booleans and I chose to store them as byte array as string. But I can't understand, why converting to string and back produces different string values:</p>\n\n<p>Support methods:</p>\n\n<pre><code>  fun ByteArray.string(): String {\n\n    var str = \"\"\n\n    this.reversed().forEach {\n      str += intToString(it, 4)\n    }\n\n    return str\n  }\n\n  fun intToString(number: Byte, groupSize: Int): String {\n    val result = StringBuilder()\n\n    for (i in 7 downTo 0) {\n      val mask = 1 shl i\n      result.append(if (number.toInt() and mask != 0) \"1\" else \"0\")\n\n      if (i % groupSize == 0)\n        result.append(\" \")\n    }\n    result.replace(result.length - 1, result.length, \"\")\n\n    return result.toString()\n  }\n</code></pre>\n\n<p><strong>First example:</strong>   </p>\n\n<p>Given selected indices [0, 14] my code converts to: as bytes: [1, 64]. <code>.string()</code> produces: </p>\n\n<blockquote>\n  <p>0100 0000 0000 0001</p>\n</blockquote>\n\n<p>Convert it to string and back:</p>\n\n<pre><code>array.toString(Charsets.UTF_8).toByteArray(Charsets.UTF_8)\n</code></pre>\n\n<p>Result: [1, 64], <code>.string()</code> produces:</p>\n\n<blockquote>\n  <p>0100 0000 0000 0001</p>\n</blockquote>\n\n<p><strong>Second example:</strong>   </p>\n\n<p>Given selected indices [0, 15] my code converts to: as bytes: [1,-128]. <code>.string()</code> produces:</p>\n\n<blockquote>\n  <p>1000 0000 0000 0001</p>\n</blockquote>\n\n<p>Which seems pretty legal.\nNow convert it to the string and back</p>\n\n<p>It produces an array of 4 bytes: [1, -17, -65, -67], <code>.string()</code> produces:</p>\n\n<blockquote>\n  <p>1011 1101 1011 1111 1110 1111 0000 0001</p>\n</blockquote>\n\n<p>Which doesn't look like [0, 15] indices or [1,-128] for me :)</p>\n\n<p>How can this happen? I suspect this last \"1\" in \"1000 0000 0000 0001\", probably it may cause this issue, but still, I don't know the answer. </p>\n\n<p>Thanks.</p>\n\n<p>P.S. Added <code>java</code> tag to the question, because I think the answer is the same for both kotlin and java.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1522695381, "post_id": 49617058, "comment_id": 86241046, "body": "Can you construct a <a href=\"https://stackoverflow.com/mcve\">minimal test case</a>?"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1522695491, "post_id": 49617058, "comment_id": 86241110, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1564832/how-do-i-do-a-deep-copy-of-a-2d-array-in-java\">How do I do a deep copy of a 2d array in Java?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7589226, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RL2iV8yYOFA/AAAAAAAAAAI/AAAAAAAAAF0/gFcfGL2lpvM/photo.jpg?sz=128", "display_name": "Alex Kopylov", "link": "https://stackoverflow.com/users/7589226/alex-kopylov"}, "is_accepted": true, "score": 0, "last_activity_date": 1522782210, "creation_date": 1522782210, "answer_id": 49637397, "question_id": 49617058, "link": "https://stackoverflow.com/questions/49617058/pass-by-value-array/49637397#49637397", "title": "Pass by value. Array", "body": "<p>I found the solution.I initialized the array.</p>\n\n<pre><code>        tableF= Array(table!!.size, { Array(table!!.size, {0}) })\n        for(row in 0 until table!!.size)\n            tableF!![row] = table!![row].clone()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7589226, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RL2iV8yYOFA/AAAAAAAAAAI/AAAAAAAAAF0/gFcfGL2lpvM/photo.jpg?sz=128", "display_name": "Alex Kopylov", "link": "https://stackoverflow.com/users/7589226/alex-kopylov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 49637397, "answer_count": 1, "score": -4, "last_activity_date": 1522782210, "creation_date": 1522695278, "last_edit_date": 1522697831, "question_id": 49617058, "link": "https://stackoverflow.com/questions/49617058/pass-by-value-array", "title": "Pass by value. Array", "body": "<p>I have two arrays. But when I change second - first change too.\nI tried \n<em>.clone()\n.copyOf()</em> \nbut it didn't work for me.</p>\n\n<pre><code>object MatrixObject {\n var table: Array&lt;Array&lt;Int&gt;&gt;? = null\n\n fun randOf(n: Int) {\n    table= Array(n, { Array(n, { Random().nextInt(100 - 0) + 0 }) })\n }\n\n var tableF: Array&lt;Array&lt;Int&gt;&gt;? = null\n    get() {\n        if (field==null)\n          factorization()\n        return field\n    }\n\n fun factorization() {\n        tableF = table!! \n        ...     //here I change elements of tableF\n  }\n\n\n}\n</code></pre>\n\n<p>I tried</p>\n\n<pre><code> for(row in 0 until table!!.size)\n   tableF!![row] = Arrays.copyOf(table!![row], table!![row].size)\n</code></pre>\n\n<p>and</p>\n\n<pre><code> for(row in 0 until table!!.size)\n   tableF!![row] = table!![row].clone() // and copyOf()\n</code></pre>\n\n<p>but it still doesn't work.</p>\n"}, {"tags": ["android", "kotlin", "google-places-api"], "comments": [{"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 1, "creation_date": 1522695594, "post_id": 49617042, "comment_id": 86241159, "body": "you sure you aren&#39;t running into daily limits? I think places has a daily limit of free 1000 calls and then you can only use it if you have billing enabled for your account"}, {"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1522695669, "post_id": 49617042, "comment_id": 86241203, "body": "<a href=\"https://developers.google.com/places/android-api/usage\" rel=\"nofollow noreferrer\">developers.google.com/places/android-api/usage</a>"}, {"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1522695779, "post_id": 49617042, "comment_id": 86241254, "body": "<a href=\"https://github.com/googlemaps/android-samples/issues/73\" rel=\"nofollow noreferrer\">github.com/googlemaps/android-samples/issues/73</a> try this, might be some other issue like wrong setup too"}], "owner": {"reputation": 11, "user_id": 8288730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061a0a2836a591444e43a298412c2e61?s=128&d=identicon&r=PG", "display_name": "Rufus", "link": "https://stackoverflow.com/users/8288730/rufus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523133826, "creation_date": 1522695197, "last_edit_date": 1523133826, "question_id": 49617042, "link": "https://stackoverflow.com/questions/49617042/calls-to-google-places-api-stops-working-after-a-few-calls-until-the-next-day-a", "title": "Calls to google places Api stops working after a few calls until the next day. Api Exception 13", "body": "<p>I've been searching the net like crazy to find an answer to no avail.</p>\n\n<p>My problem is that after I test my app a few times it suddenly stops working. At first I get Api exception 10, then the second time I debug I get Api Exception 13. There seems to be a problem related to the google places API. The first calls returns the results as intended, but after that I cant make any calls at all. Then suddenly it starts wokring again then stops working again. I've checked the quotas on the Api console and they are fine.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val MY_PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION = 1\n\n    val mDatabase : DatabaseReference = FirebaseDatabase.getInstance().getReference(\"menus\");\n    val mGeoDataClient = getGeoDataClient(this);\n    val mPlaceDetectionClient : PlaceDetectionClient = Places.getPlaceDetectionClient(this);\n\n    if (ContextCompat.checkSelfPermission(this,\n                    Manifest.permission.ACCESS_FINE_LOCATION)\n            != PackageManager.PERMISSION_GRANTED) {\n\n        // Should we show an explanation?\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                        Manifest.permission.ACCESS_FINE_LOCATION)) {\n\n            // Show an explanation to the user *asynchronously* -- don't block\n            // this thread waiting for the user's response! After the user\n            // sees the explanation, try again to request the permission.\n            Toast.makeText(this, \"The app needs access to Locations to function properly.\", Toast.LENGTH_LONG);\n\n        } else {\n\n            // No explanation needed, we can request the permission.\n\n            ActivityCompat.requestPermissions(this,\n                    arrayOf(Manifest.permission.ACCESS_FINE_LOCATION),\n                    MY_PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION)\n\n\n        }\n    } else {\n        // Permission has already been granted\n    }\n\n    val placeResult = mPlaceDetectionClient.getCurrentPlace(null)\n    placeResult.addOnCompleteListener { task -&gt;\n        val likelyPlaces = task.result\n\n        for (placeLikelihood in likelyPlaces) {\n            Log.i(\"Plats\", String.format(\"Place '%s' has likelihood: %g\",\n                    placeLikelihood.place.name,\n                    placeLikelihood.likelihood))\n        }\n        var place = likelyPlaces[0].place\n\n        val tv_place : TextView = findViewById(R.id.tv_place) as TextView;\n        tv_place.text = place.name;\n\n        mDatabase.addListenerForSingleValueEvent(object : ValueEventListener {\n            override fun onDataChange(dataSnapshot: DataSnapshot) {\n                // ...\n                Log.i(\"HEJ\", dataSnapshot.getValue().toString())\n\n                val t = object : GenericTypeIndicator&lt;List&lt;@JvmSuppressWildcards Menu&gt;&gt;() {\n\n                }\n                val menus = dataSnapshot.getValue(t)!!\n                lateinit var menu: Menu;\n                for(m in menus) {\n                    if (m.name == place.name) {\n                        menu = m;\n                    }\n                }\n                var tv_menu : TextView = findViewById(R.id.tv_menu) as TextView\n                if (menu != null) tv_menu.text = menu.items[0].name\n            }\n\n\n            override fun onCancelled(databaseError: DatabaseError) {\n                // ...\n            }\n\n        })\n        likelyPlaces.release()\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>04-03 10:14:33.537 32580-32580/nilsson.gattanjo.dmenu E/FirebaseApp: Firebase API initialization failure.\n    java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.google.firebase.FirebaseApp.zza(Unknown Source:85)\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:117)\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:2)\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:28)\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4)\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1963)\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1938)\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:23)\n        at android.app.ActivityThread.installProvider(ActivityThread.java:6545)\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6094)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6015)\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1756)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6809)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/internal/zzebe;\n        at com.google.firebase.auth.FirebaseAuth.&lt;init&gt;(Unknown Source:0)\n        at com.google.firebase.auth.internal.zzj.&lt;init&gt;(Unknown Source:0)\n        at com.google.firebase.auth.FirebaseAuth.zzb(Unknown Source:19)\n        at com.google.firebase.auth.FirebaseAuth.getInstance(Unknown Source:0)\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.google.firebase.FirebaseApp.zza(Unknown Source:85)\u00a0\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:117)\u00a0\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:2)\u00a0\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:28)\u00a0\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4)\u00a0\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1963)\u00a0\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1938)\u00a0\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:23)\u00a0\n        at android.app.ActivityThread.installProvider(ActivityThread.java:6545)\u00a0\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6094)\u00a0\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6015)\u00a0\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1756)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\n        at android.os.Looper.loop(Looper.java:164)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6809)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\u00a0\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.google.android.gms.internal.zzebe\" on path: DexPathList[[zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/base.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_dependencies_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_resources_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_0_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_1_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_2_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_3_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_4_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_5_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_6_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_7_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_8_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/lib/arm64, /system/lib64, /system/vendor/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at com.google.firebase.auth.FirebaseAuth.&lt;init&gt;(Unknown Source:0)\u00a0\n        at com.google.firebase.auth.internal.zzj.&lt;init&gt;(Unknown Source:0)\u00a0\n        at com.google.firebase.auth.FirebaseAuth.zzb(Unknown Source:19)\u00a0\n        at com.google.firebase.auth.FirebaseAuth.getInstance(Unknown Source:0)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.google.firebase.FirebaseApp.zza(Unknown Source:85)\u00a0\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:117)\u00a0\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:2)\u00a0\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:28)\u00a0\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4)\u00a0\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1963)\u00a0\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1938)\u00a0\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:23)\u00a0\n        at android.app.ActivityThread.installProvider(ActivityThread.java:6545)\u00a0\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6094)\u00a0\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6015)\u00a0\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1756)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\n        at android.os.Looper.loop(Looper.java:164)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6809)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\u00a0\n        Suppressed: java.io.IOException: No original dex files found for dex location /data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_resources_apk.apk\n        at dalvik.system.DexFile.openDexFileNative(Native Method)\n        at dalvik.system.DexFile.openDexFile(DexFile.java:353)\n        at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:100)\n        at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:74)\n        at dalvik.system.DexPathList.loadDexFile(DexPathList.java:374)\n04-03 10:14:33.538 32580-32580/nilsson.gattanjo.dmenu E/FirebaseApp:     at dalvik.system.DexPathList.makeDexElements(DexPathList.java:337)\n        at dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:157)\n        at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:65)\n        at dalvik.system.PathClassLoader.&lt;init&gt;(PathClassLoader.java:64)\n        at com.android.internal.os.PathClassLoaderFactory.createClassLoader(PathClassLoaderFactory.java:43)\n        at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:69)\n        at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:36)\n        at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:686)\n        at android.app.LoadedApk.getClassLoader(LoadedApk.java:719)\n        at android.app.LoadedApk.getResources(LoadedApk.java:947)\n        at android.app.ContextImpl.createAppContext(ContextImpl.java:2290)\n        at android.app.ActivityThread$ApplicationThread.schedulePreload(ActivityThread.java:1494)\n        at android.app.IApplicationThread$Stub.onTransact(IApplicationThread.java:1092)\n        at android.os.Binder.execTransact(Binder.java:692)\n04-03 10:14:33.612 32580-21664/nilsson.gattanjo.dmenu E/FirebaseCrash: Failed to initialize crash reporting\n    java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/internal/zzecz;\n        at java.util.concurrent.FutureTask.report(FutureTask.java:123)\n        at java.util.concurrent.FutureTask.get(FutureTask.java:207)\n        at com.google.firebase.crash.zze.run(Unknown Source:7)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:457)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n        at java.lang.Thread.run(Thread.java:764)\n     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/internal/zzecz;\n        at com.google.firebase.crash.zzc.zzbuz(Unknown Source:2)\n        at com.google.firebase.crash.zzd.call(Unknown Source:2)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\u00a0\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\u00a0\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\u00a0\n        at java.lang.Thread.run(Thread.java:764)\u00a0\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.google.android.gms.internal.zzecz\" on path: DexPathList[[zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/base.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_dependencies_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_resources_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_0_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_1_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_2_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_3_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_4_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_5_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_6_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_7_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_8_apk.apk\", zip file \"/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/lib/arm64, /system/lib64, /system/vendor/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at com.google.firebase.crash.zzc.zzbuz(Unknown Source:2)\u00a0\n        at com.google.firebase.crash.zzd.call(Unknown Source:2)\u00a0\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\u00a0\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\u00a0\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\u00a0\n        at java.lang.Thread.run(Thread.java:764)\u00a0\n        Suppressed: java.io.IOException: No original dex files found for dex location /data/app/nilsson.gattanjo.dmenu-kypQva0apmYdyCID8LfrOQ==/split_lib_resources_apk.apk\n        at dalvik.system.DexFile.openDexFileNative(Native Method)\n        at dalvik.system.DexFile.openDexFile(DexFile.java:353)\n        at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:100)\n        at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:74)\n        at dalvik.system.DexPathList.loadDexFile(DexPathList.java:374)\n        at dalvik.system.DexPathList.makeDexElements(DexPathList.java:337)\n        at dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:157)\n        at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:65)\n        at dalvik.system.PathClassLoader.&lt;init&gt;(PathClassLoader.java:64)\n        at com.android.internal.os.PathClassLoaderFactory.createClassLoader(PathClassLoaderFactory.java:43)\n        at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:69)\n        at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:36)\n        at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:686)\n        at android.app.LoadedApk.getClassLoader(LoadedApk.java:719)\n        at android.app.LoadedApk.getResources(LoadedApk.java:947)\n        at android.app.ContextImpl.createAppContext(ContextImpl.java:2290)\n        at android.app.ActivityThread$ApplicationThread.schedulePreload(ActivityThread.java:1494)\n        at android.app.IApplicationThread$Stub.onTransact(IApplicationThread.java:1092)\n        at android.os.Binder.execTransact(Binder.java:692)\n04-03 10:14:33.614 32580-21665/nilsson.gattanjo.dmenu E/FirebaseCrash: Failed waiting for crash api to load.\n    java.lang.InterruptedException\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1063)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1352)\n        at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:278)\n        at com.google.firebase.crash.FirebaseCrash.zzbut(Unknown Source:6)\n        at com.google.firebase.crash.FirebaseCrash.zza(Unknown Source:0)\n        at com.google.firebase.crash.zza.run(Unknown Source:2)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n        at java.lang.Thread.run(Thread.java:764)\n04-03 10:14:33.659 32580-32580/nilsson.gattanjo.dmenu V/FA: Registered activity lifecycle callback\n04-03 10:14:33.661 32580-32580/nilsson.gattanjo.dmenu I/FirebaseInitProvider: FirebaseApp initialization successful\n04-03 10:14:33.664 32580-32580/nilsson.gattanjo.dmenu I/InstantRun: starting instant run server: is main process\n04-03 10:14:33.688 32580-32585/nilsson.gattanjo.dmenu I/zygote64: Do partial code cache collection, code=30KB, data=21KB\n    After code cache collection, code=28KB, data=21KB\n    Increasing code cache capacity to 128KB\n04-03 10:14:33.689 32580-21666/nilsson.gattanjo.dmenu V/FA: Cancelling job. JobID: 1254567931\n04-03 10:14:33.709 32580-21666/nilsson.gattanjo.dmenu V/FA: Collection enabled\n    App package, google app id: nilsson.gattanjo.dmenu, 1:716909307411:android:b3fce941d6b0cce7\n04-03 10:14:33.710 32580-21666/nilsson.gattanjo.dmenu I/FA: App measurement is starting up, version: 12211\n    To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\n    To enable faster debug mode event logging run:\n      adb shell setprop debug.firebase.analytics.app nilsson.gattanjo.dmenu\n04-03 10:14:33.710 32580-21666/nilsson.gattanjo.dmenu D/FA: Debug-level message logging enabled\n04-03 10:14:33.738 32580-21666/nilsson.gattanjo.dmenu V/FA: Connecting to remote service\n04-03 10:14:33.752 32580-21666/nilsson.gattanjo.dmenu V/FA: Connection attempt already in progress\n04-03 10:14:33.766 32580-32580/nilsson.gattanjo.dmenu V/FA: onActivityCreated\n04-03 10:14:33.803 32580-32580/nilsson.gattanjo.dmenu V/BoostFramework: mIOPStart method = public int com.qualcomm.qti.Performance.perfIOPrefetchStart(int,java.lang.String)\n04-03 10:14:33.927 32580-21671/nilsson.gattanjo.dmenu W/zygote64: Skipping duplicate class check due to unrecognized classloader\n04-03 10:14:33.930 32580-21671/nilsson.gattanjo.dmenu I/DynamiteModule: Considering local module com.google.android.gms.firebase_database:4 and remote module com.google.android.gms.firebase_database:6\n    Selected remote version of com.google.android.gms.firebase_database, version &gt;= 6\n04-03 10:14:33.966 32580-21666/nilsson.gattanjo.dmenu V/FA: Connection attempt already in progress\n    Activity resumed, time: 61262918\n04-03 10:14:33.971 32580-21666/nilsson.gattanjo.dmenu I/FA: Tag Manager is not found and thus will not be used\n04-03 10:14:33.973 32580-32580/nilsson.gattanjo.dmenu D/AppTracker: App Event: start\n04-03 10:14:33.975 32580-21666/nilsson.gattanjo.dmenu D/FA: Logging event (FE): screen_view(_vs), Bundle[{firebase_event_origin(_o)=auto, firebase_screen_class(_sc)=MainActivity, firebase_screen_id(_si)=8631030232630638994}]\n04-03 10:14:33.991 32580-21671/nilsson.gattanjo.dmenu W/zygote64: Skipping duplicate class check due to unrecognized classloader\n04-03 10:14:34.009 32580-21666/nilsson.gattanjo.dmenu V/FA: Connection attempt already in progress\n04-03 10:14:34.086 32580-21674/nilsson.gattanjo.dmenu D/NetworkSecurityConfig: No Network Security Config specified, using platform default\n04-03 10:14:34.099 32580-32596/nilsson.gattanjo.dmenu I/vndksupport: sphal namespace is not configured for this process. Loading /vendor/lib64/hw/gralloc.msm8996.so from the current namespace instead.\n04-03 10:14:34.113 32580-21666/nilsson.gattanjo.dmenu D/FA: Connected to remote service\n04-03 10:14:34.114 32580-21666/nilsson.gattanjo.dmenu V/FA: Processing queued up service tasks: 4\n04-03 10:14:39.192 32580-21666/nilsson.gattanjo.dmenu V/FA: Inactivity, disconnecting from the service\n04-03 10:14:43.974 32580-21666/nilsson.gattanjo.dmenu V/FA: Session started, time: 61272926\n04-03 10:14:44.000 32580-21666/nilsson.gattanjo.dmenu D/FA: Logging event (FE): session_start(_s), Bundle[{firebase_event_origin(_o)=auto, firebase_screen_class(_sc)=MainActivity, firebase_screen_id(_si)=8631030232630638994}]\n04-03 10:14:44.042 32580-32580/nilsson.gattanjo.dmenu D/AndroidRuntime: Shutting down VM\n04-03 10:14:44.044 32580-32580/nilsson.gattanjo.dmenu E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: nilsson.gattanjo.dmenu, PID: 32580\n    com.google.android.gms.tasks.RuntimeExecutionException: com.google.android.gms.common.api.ApiException: 13: ERROR\n        at com.google.android.gms.tasks.zzp.getResult(Unknown Source:14)\n        at nilsson.gattanjo.dmenu.MainActivity$onCreate$1.onComplete(MainActivity.kt:73)\n        at com.google.android.gms.tasks.zzf.run(Unknown Source:23)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6809)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: com.google.android.gms.common.api.ApiException: 13: ERROR\n        at com.google.android.gms.common.internal.zzb.zzy(Unknown Source:14)\n        at com.google.android.gms.common.internal.zzbk.zzz(Unknown Source:0)\n        at com.google.android.gms.common.internal.zzbl.zzr(Unknown Source:32)\n        at com.google.android.gms.common.api.internal.BasePendingResult.zzc(Unknown Source:81)\n        at com.google.android.gms.common.api.internal.BasePendingResult.setResult(Unknown Source:34)\n        at com.google.android.gms.location.places.zzm.zzbk(Unknown Source:63)\n        at com.google.android.gms.location.places.internal.zzy.onTransact(Unknown Source:69)\n        at android.os.Binder.execTransact(Binder.java:692)\n04-03 10:14:44.047 32580-32580/nilsson.gattanjo.dmenu E/UncaughtException: com.google.android.gms.tasks.RuntimeExecutionException: com.google.android.gms.common.api.ApiException: 13: ERROR\n        at com.google.android.gms.tasks.zzp.getResult(Unknown Source:14)\n        at nilsson.gattanjo.dmenu.MainActivity$onCreate$1.onComplete(MainActivity.kt:73)\n        at com.google.android.gms.tasks.zzf.run(Unknown Source:23)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6809)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: com.google.android.gms.common.api.ApiException: 13: ERROR\n        at com.google.android.gms.common.internal.zzb.zzy(Unknown Source:14)\n        at com.google.android.gms.common.internal.zzbk.zzz(Unknown Source:0)\n        at com.google.android.gms.common.internal.zzbl.zzr(Unknown Source:32)\n        at com.google.android.gms.common.api.internal.BasePendingResult.zzc(Unknown Source:81)\n        at com.google.android.gms.common.api.internal.BasePendingResult.setResult(Unknown Source:34)\n        at com.google.android.gms.location.places.zzm.zzbk(Unknown Source:63)\n        at com.google.android.gms.location.places.internal.zzy.onTransact(Unknown Source:69)\n        at android.os.Binder.execTransact(Binder.java:692)\n04-03 10:14:44.049 32580-32580/nilsson.gattanjo.dmenu D/AppTracker: App Event: crash\n04-03 10:14:44.059 32580-21666/nilsson.gattanjo.dmenu V/FA: Connecting to remote service\n</code></pre>\n"}, {"tags": ["java", "spring", "spring-mvc", "spring-boot", "kotlin"], "owner": {"reputation": 3549, "user_id": 59724, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/50954aec029a724824dca5a32a1c00fa?s=128&d=identicon&r=PG", "display_name": "Graham", "link": "https://stackoverflow.com/users/59724/graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522692874, "creation_date": 1522692874, "question_id": 49616466, "link": "https://stackoverflow.com/questions/49616466/custom-parameter-names-with-a-bean-for-request-parameters-in-spring-5", "title": "Custom parameter names with a bean for request parameters in Spring 5", "body": "<p>I'm trying to use Spring 5 to have a custom bean for my request parameters. In theory this is easy, but I want to have the field names be different from the parameter names.</p>\n\n<p>I can do that trivially with normal <code>@RequestParam</code> parameters, but I can't seem to get it to work with a bean.</p>\n\n<p>I've found this question asked before, and the answer seems to be \"Do it manually\", with various different options for automating that, e.g. using Argument Resolvers. But is this really still the case in Spring 5?</p>\n\n<p>My code (It's Kotlin btw, but that shouldn't matter) is like this:</p>\n\n<pre><code>data class AuthorizationCodeParams(\n    @RequestParam(\"client_id\") val clientIdValue: String?,\n    @RequestParam(\"redirect_uri\") val redirectUriValue: String?,\n    @RequestParam(\"scope\") val scopes: String?,\n    @RequestParam(\"state\") val state: String?\n)\n\nfun startAuthorizationCode(params: AuthorizationCodeParams): ModelAndView {\n</code></pre>\n"}, {"tags": ["kotlin", "gson"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522689534, "post_id": 49615510, "comment_id": 86237964, "body": "Register an adapter in GSON so that you properly map it to a boolean field."}, {"owner": {"reputation": 566, "user_id": 1813606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a066711fdb800de5c0091fcc494a93b?s=128&d=identicon&r=PG", "display_name": "soundsofpolaris", "link": "https://stackoverflow.com/users/1813606/soundsofpolaris"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522695757, "post_id": 49615510, "comment_id": 86241239, "body": "But how do you go back then? So, it works when deserializing to check <code>if(&quot;yes&quot; || &quot;on&quot;) return true</code> but what about serializing?"}], "answers": [{"comments": [{"owner": {"reputation": 279, "user_id": 5652258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7f5ad8993dd02091bad75d3dff20151?s=128&d=identicon&r=PG&f=1", "display_name": "Some Guy", "link": "https://stackoverflow.com/users/5652258/some-guy"}, "edited": false, "score": 0, "creation_date": 1548356571, "post_id": 49615607, "comment_id": 95522454, "body": "You can write that &#39;equals&#39; much more succinctly if you just treat it as a boolean expression instead of trying to bail out early:       override fun equals(other: Any?) = this === other || (other is APIdata &amp;&amp; getValue()==other.getValue() &amp;&amp; getAnotherValue() == other.getAnotherValue())"}, {"owner": {"reputation": 279, "user_id": 5652258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7f5ad8993dd02091bad75d3dff20151?s=128&d=identicon&r=PG&f=1", "display_name": "Some Guy", "link": "https://stackoverflow.com/users/5652258/some-guy"}, "edited": false, "score": 0, "creation_date": 1548356692, "post_id": 49615607, "comment_id": 95522508, "body": "Likewise, that hashCode function can be:      override fun hashCode() = Objects.hash(getValue(), getAnotherValue())."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 279, "user_id": 5652258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7f5ad8993dd02091bad75d3dff20151?s=128&d=identicon&r=PG&f=1", "display_name": "Some Guy", "link": "https://stackoverflow.com/users/5652258/some-guy"}, "edited": false, "score": 0, "creation_date": 1548357157, "post_id": 49615607, "comment_id": 95522714, "body": "The given implementation of equals and hashCode is what Intellij Idea or Android Studio generated for me."}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": true, "score": 0, "last_activity_date": 1548357309, "last_edit_date": 1548357309, "creation_date": 1522689289, "answer_id": 49615607, "question_id": 49615510, "link": "https://stackoverflow.com/questions/49615510/how-to-handle-bad-strings-as-pseudo-booleans-in-kotlin/49615607#49615607", "title": "How to handle bad strings as pseudo booleans in Kotlin?", "body": "<p>You can use a mapping function and a corresponding constructor, also you can define get methods:</p>\n\n<pre><code>data class APIdata(val value: String, val anotherValue: String) {\n    fun mapToBoolean(string: String) =\n        when (string.toLowerCase()) {\n            \"yes\" -&gt; true\n            \"on\"  -&gt; true\n            else  -&gt; false\n        }\n\n    constructor(value: Boolean, anotherValue: Boolean) :\n        this(if (value) \"on\" else \"off\", if (anotherValue) \"yes\" else \"no\")\n\n    fun getValue(): Boolean {\n        return mapToBoolean(value)\n    }\n\n\n    fun getAnotherValue(): Boolean {\n        return mapToBoolean(anotherValue)\n    }\n}\n</code></pre>\n\n<p>In this case using a <code>data class</code> can be misleading, because the Kotlin compiler generates <code>hashCode</code> and <code>equals</code> assuming <code>value</code>and <code>anotherValue</code> are <code>String</code> rather than <code>Boolean</code>. It is better design to implement them yourself like this: </p>\n\n<pre><code>class APIdata( val value: String, private val anotherValue: String) {\n    fun mapToBoolean(string: String) =\n        when (string.toLowerCase()) {\n            \"yes\" -&gt; true\n            \"on\"  -&gt; true\n            else  -&gt; false\n        }\n\n    constructor(value: Boolean, anotherValue: Boolean) :\n        this(if (value) \"on\" else \"off\", if (anotherValue) \"yes\" else \"no\")\n\n    fun getValue(): Boolean {\n        return mapToBoolean(value)\n    }\n\n\n    fun getAnotherValue(): Boolean {\n        return mapToBoolean(anotherValue)\n    }\n\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (javaClass != other?.javaClass) return false\n\n        other as APIdata\n\n        if (getValue() != other.getValue()) return false\n        if (getAnotherValue() != other.getAnotherValue()) return false\n\n        return true\n    }\n\n    override fun hashCode(): Int {\n        var result = getValue().hashCode()\n        result = 31 * result + getAnotherValue().hashCode()\n        return result\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "is_accepted": false, "score": 0, "last_activity_date": 1522780895, "creation_date": 1522780895, "answer_id": 49637062, "question_id": 49615510, "link": "https://stackoverflow.com/questions/49615510/how-to-handle-bad-strings-as-pseudo-booleans-in-kotlin/49637062#49637062", "title": "How to handle bad strings as pseudo booleans in Kotlin?", "body": "<p>You need to use a <a href=\"https://google.github.io/gson/apidocs/com/google/gson/TypeAdapter.html\" rel=\"nofollow noreferrer\">TypeAdapter</a>.</p>\n\n<pre><code>class ApiDataTypeAdapter: TypeAdapter&lt;APIData&gt;() {\n\n  override fun read(`in`: JsonReader) {\n    var valOne = false\n    var valTwo = false\n\n    `in`.beginObject()\n    while (`in`.hasNext()) {\n        when(`in`.nextName()) {\n          \"val\" -&gt; valOne = `in`.nextString() == \"On\"\n          \"anotherVal\" -&gt; valTwo = `in`.nextString() == \"Yes\"\n    }\n    `in`.endObject()\n\n    return APIData(valOne, valTwo)\n  }\n\n  override fun write(out: JsonWriter, apiData: APIData)\n  {\n    out.beginObject()\n    out.name(\"val\").value(if (apiData.`val`) \"On\" else \"Off\")\n    out.name(\"anotherVal\").value(if (apiData.anotherVal) \"Yes\" else \"No\")\n    out.endObject()\n  }\n}\n</code></pre>\n\n<p>And then register it for your APIData class:</p>\n\n<pre><code>val builder = GsonBuilder()\nbuilder.registerTypeAdapter(APIData::class.java, ApiDataTypeAdapter().nullSafe())\nval gson = builder.create()\n</code></pre>\n"}], "owner": {"reputation": 566, "user_id": 1813606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a066711fdb800de5c0091fcc494a93b?s=128&d=identicon&r=PG", "display_name": "soundsofpolaris", "link": "https://stackoverflow.com/users/1813606/soundsofpolaris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 49615607, "answer_count": 2, "score": 2, "last_activity_date": 1548357309, "creation_date": 1522688883, "last_edit_date": 1522689040, "question_id": 49615510, "link": "https://stackoverflow.com/questions/49615510/how-to-handle-bad-strings-as-pseudo-booleans-in-kotlin", "title": "How to handle bad strings as pseudo booleans in Kotlin?", "body": "<p>Let's say I'm using gson to serialize and deserialize json to and from a Kotlin data class. One of the values is a string set as \"yes\" or \"no\" and the other is a string set as \"on\" or \"off\". Yes, this is terrible terrible practice, but let's presume it can't be changed.</p>\n\n<p>Whats the best way to handle this in Kotlin?</p>\n\n<p><em>APIdata.json</em></p>\n\n<pre><code>{\n   \"value\" : \"On\",\n   \"anotherValue\" : \"Yes\"\n}\n</code></pre>\n\n<p><em>APIdata.kt</em></p>\n\n<pre><code>data class APIdata (val value : String, val anotherValue: String)\n</code></pre>\n\n<p>I want to be able to treat them both as Booleans for the purposes of getting and setting.</p>\n"}, {"tags": ["date", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9566632"}, "is_accepted": false, "score": 0, "last_activity_date": 1522692216, "creation_date": 1522692216, "answer_id": 49616326, "question_id": 49615037, "link": "https://stackoverflow.com/questions/49615037/set-date-pattern-in-textview/49616326#49616326", "title": "Set date pattern in TextView", "body": "<p>You could use the <a href=\"https://developer.android.com/reference/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a> class:</p>\n\n<pre><code>public void formatAndUpdate(String dateString) {\n    SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd\");\n    Date date = formatter.parse(dateString);\n    TextView textview = findViewById(R.id.textView);\n    textView.setText(date.toString());\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>public String formatDate(String formatString) {\n    SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd\");\n    return String.valueOf(formatter.parse(formatString));\n}\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 8888338, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/408c8967c208a987ea6e27e89fe149e4?s=128&d=identicon&r=PG&f=1", "display_name": "Torrado36", "link": "https://stackoverflow.com/users/8888338/torrado36"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522760804, "creation_date": 1522686852, "last_edit_date": 1522688325, "question_id": 49615037, "link": "https://stackoverflow.com/questions/49615037/set-date-pattern-in-textview", "title": "Set date pattern in TextView", "body": "<p>How to set date mask/pattern to <code>TextView</code> in Android Studio? Or should I use something else like plain text?\nDate pattern: <strong>YYYY-MM-DD</strong>.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3189, "user_id": 5564683, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VotLv.jpg?s=128&g=1", "display_name": "Augusto Carmo", "link": "https://stackoverflow.com/users/5564683/augusto-carmo"}, "edited": false, "score": 0, "creation_date": 1522748463, "post_id": 49614178, "comment_id": 86260576, "body": "Sweet! It works like a charm. Thank you very much, @earthw0rmjim!"}], "tags": [], "owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "is_accepted": true, "score": 55, "last_activity_date": 1522730576, "last_edit_date": 1522730576, "creation_date": 1522683500, "answer_id": 49614178, "question_id": 49612712, "link": "https://stackoverflow.com/questions/49612712/how-to-sort-in-descending-order-using-multiple-comparison-fields-in-kotlin/49614178#49614178", "title": "How to sort in descending order using multiple comparison fields in Kotlin", "body": "<p>You could use the <code>thenByDescending()</code> (or <code>thenBy()</code> for ascending order) extension function to define a secondary <code>Comparator</code>.</p>\n\n<p>Assuming <code>originalItems</code> are of <code>SomeCustomObject</code>, something like this should work:</p>\n\n<pre><code>return ArrayList(originalItems)\n        .sortedWith(compareByDescending&lt;SomeCustomObject&gt; { it.localHits }\n                .thenByDescending { it.title })\n</code></pre>\n\n<p>(of course you have to replace <code>SomeCustomObject</code> with your own type for the generic)</p>\n"}, {"comments": [{"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 1, "creation_date": 1576844936, "post_id": 49614885, "comment_id": 105036560, "body": "or like this: invoicesList = invoicesList.sortedBy({ it.dt }).reversed()"}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 7, "last_activity_date": 1522686245, "creation_date": 1522686245, "answer_id": 49614885, "question_id": 49612712, "link": "https://stackoverflow.com/questions/49612712/how-to-sort-in-descending-order-using-multiple-comparison-fields-in-kotlin/49614885#49614885", "title": "How to sort in descending order using multiple comparison fields in Kotlin", "body": "<p>You can also just use sort ASC and then reverse it:</p>\n\n<pre><code>return ArrayList(originalItems).sortedWith(compareBy({ it.localHits }, { it.title })).asReversed()\n</code></pre>\n\n<p>The implementation of the <code>asReversed()</code> is a view of the sorted list with reversed index and has better performance than using <code>reverse()</code></p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1522686308, "creation_date": 1522686308, "answer_id": 49614902, "question_id": 49612712, "link": "https://stackoverflow.com/questions/49612712/how-to-sort-in-descending-order-using-multiple-comparison-fields-in-kotlin/49614902#49614902", "title": "How to sort in descending order using multiple comparison fields in Kotlin", "body": "<p>Reversing the comparator also works:</p>\n\n<pre><code>originalItems.sortedWith(compareBy&lt;Item&gt;({ it.localHits }, { it.title }).reversed())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 673, "user_id": 1861769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/as7Ol.jpg?s=128&g=1", "display_name": "JavierSA", "link": "https://stackoverflow.com/users/1861769/javiersa"}, "is_accepted": false, "score": 4, "last_activity_date": 1525347636, "last_edit_date": 1525347636, "creation_date": 1522686740, "answer_id": 49615014, "question_id": 49612712, "link": "https://stackoverflow.com/questions/49612712/how-to-sort-in-descending-order-using-multiple-comparison-fields-in-kotlin/49615014#49615014", "title": "How to sort in descending order using multiple comparison fields in Kotlin", "body": "<pre><code>ArrayList(originalItems)\n    .sortedWith(compareByDescending({ it.localHits }, { it.title }))\n</code></pre>\n\n<p>You only need to define this function:</p>\n\n<pre><code>fun &lt;T&gt; compareByDescending(vararg selectors: (T) -&gt; Comparable&lt;*&gt;?): Comparator&lt;T&gt; {\n    return Comparator { b, a -&gt; compareValuesBy(a, b, *selectors) }\n}\n</code></pre>\n\n<p>Or you may use the <code>Comparator</code> directly:</p>\n\n<pre><code>ArrayList(originalItems)\n    .sortedWith(Comparator { b, a -&gt; compareValuesBy(a, b, { it.localHits }, { it.title }) })\n</code></pre>\n"}], "owner": {"reputation": 3189, "user_id": 5564683, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VotLv.jpg?s=128&g=1", "display_name": "Augusto Carmo", "link": "https://stackoverflow.com/users/5564683/augusto-carmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17143, "favorite_count": 1, "accepted_answer_id": 49614178, "answer_count": 4, "score": 30, "last_activity_date": 1525347636, "creation_date": 1522677537, "last_edit_date": 1523371021, "question_id": 49612712, "link": "https://stackoverflow.com/questions/49612712/how-to-sort-in-descending-order-using-multiple-comparison-fields-in-kotlin", "title": "How to sort in descending order using multiple comparison fields in Kotlin", "body": "<p>Kotlin allows me to sort ASC and array using multiple comparison fields.</p>\n\n<p>For example:</p>\n\n<pre><code>return ArrayList(originalItems)\n    .sortedWith(compareBy({ it.localHits }, { it.title }))\n</code></pre>\n\n<p>But when I try sort DESC (<code>compareByDescending()</code>), it does not allow me to use multiple comparison fields.</p>\n\n<p>Is there any way I can do it?</p>\n"}, {"tags": ["java", "generics", "enums", "kotlin"], "comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1522684083, "post_id": 49612461, "comment_id": 86235188, "body": "please give some examples of how the enums are used"}], "answers": [{"comments": [{"owner": {"reputation": 1232, "user_id": 5841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WOjIm.png?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/5841827/marcel"}, "edited": false, "score": 0, "creation_date": 1522678092, "post_id": 49612764, "comment_id": 86232155, "body": "I assume that would fit my current usecase, since i am never iterating over the enum values or so.  I&#39;ll try that out in a while and report back :)  Thanks"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 3, "last_activity_date": 1522677730, "creation_date": 1522677730, "answer_id": 49612764, "question_id": 49612461, "link": "https://stackoverflow.com/questions/49612461/converting-a-generic-enum-from-java-to-kotlin/49612764#49612764", "title": "Converting a generic enum from Java to Kotlin", "body": "<p>Perhaps you could consider sealed classes for this, rather than an enum?</p>\n\n<pre><code>sealed class Property&lt;T&gt;(val id: Int, val defaultValue: T, dataType: Class&lt;T&gt;) \nobject LastView : Property&lt;Int&gt;(0, 1, Int::class.java)\nobject Maximised : Property&lt;Boolean&gt;(2, false, Boolean::class.java)\n</code></pre>\n\n<p>In this case because <code>LastView</code> and <code>Maximized</code> don't have any user-defined or mutable state, I've defined them as <code>objects</code>. And because <code>Property&lt;T&gt;</code> is sealed, no other instances can be created.</p>\n"}, {"comments": [{"owner": {"reputation": 1232, "user_id": 5841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WOjIm.png?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/5841827/marcel"}, "edited": false, "score": 0, "creation_date": 1522688662, "post_id": 49613427, "comment_id": 86237515, "body": "I prefer Todds solution, since it allows me to have better type safety."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1522680347, "creation_date": 1522680347, "answer_id": 49613427, "question_id": 49612461, "link": "https://stackoverflow.com/questions/49612461/converting-a-generic-enum-from-java-to-kotlin/49613427#49613427", "title": "Converting a generic enum from Java to Kotlin", "body": "<p>While Kotlin does not allow constructors to have their own type parameters, this feature in Java only affects type checking of the constructor arguments at call sites (the enum entries don't retain the type safety). So it's possible to achieve similar behavior in Kotlin by declaring a helper generic class and accepting its instance in a secondary constructor:</p>\n\n<pre><code>class TypedDefaultValue&lt;T&gt;(\n    val defaultValue: T,\n    val datatype: Class&lt;T&gt;\n)\n\nenum class Property(\n    val id: Int, \n    val defaultValue: Any, \n    val datatype: Class&lt;out Any&gt;\n) {\n    LAST_VIEW(0, TypedDefaultValue(1, Int::class.java)), // calls the constructor below\n    MAXIMIZED(2, TypedDefaultValue(false, Boolean::class.java));\n\n    constructor(id: Int, typedDefaultValue: TypedDefaultValue&lt;out Any&gt;) :\n        this(id, typedDefaultValue.defaultValue, typedDefaultValue.datatype)\n}\n</code></pre>\n\n<p><sup>Use <code>Any?</code> and <code>out Any?</code> in the enum code to accept nullable values as well.</sup></p>\n"}], "owner": {"reputation": 1232, "user_id": 5841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WOjIm.png?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/5841827/marcel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 946, "favorite_count": 0, "accepted_answer_id": 49612764, "answer_count": 2, "score": 1, "last_activity_date": 1522680347, "creation_date": 1522676522, "question_id": 49612461, "link": "https://stackoverflow.com/questions/49612461/converting-a-generic-enum-from-java-to-kotlin", "title": "Converting a generic enum from Java to Kotlin", "body": "<p>I am currently trying to translate a small application from java to kotlin without having to rewrite everything, however i am facing problems with a generic enum, since kotlin doesn't support generics in enums.</p>\n\n<p>I have the following enum in java:</p>\n\n<pre><code>public enum Property {\n    LAST_VIEW(0, 1, Integer.class),\n    MAXIMIZED(2, false, Boolean.class),\n\n    private final int       id;\n    private final String    defaultValue;\n    private final Class&lt;?&gt;  datatype;\n\n    &lt;T&gt; Property(final int id, final T defaultValue, final Class&lt;T&gt; datatype) {\n        this.id = id;\n        this.defaultValue = defaultValue == null ? null : defaultValue.toString();\n        this.datatype = datatype;\n    }\n}\n</code></pre>\n\n<p>I am using this for a generic properties api in order to verify that my default values have the correct type and also do some runtime checks in order to give proper feedback as soon as i am making a mistake.</p>\n\n<p>Is there anyways to make such a class in kotlin or should i consider refactoring my properties api instead?</p>\n"}, {"tags": ["android", "android-asynctask", "kotlin", "httpurlconnection"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1522676249, "post_id": 49612200, "comment_id": 86231238, "body": "Why do you not <code>catch</code> the error?"}, {"owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1522676686, "post_id": 49612200, "comment_id": 86231442, "body": "Like creativecreatorormaybenot stated just catch the error (if there is one) then before you <code>handleJson(result)</code> check to see if <code>result</code> has usable data. If not bypass <code>handleJson()</code> and present a toast to the user that the db is not reachable (or what ever you want to tell them)"}, {"owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "reply_to_user": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1522682548, "post_id": 49612200, "comment_id": 86234378, "body": "@Barns how to check if result has usable data?"}, {"owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1522682876, "post_id": 49612200, "comment_id": 86234551, "body": "It looks like you already have an accepted answer?  what do you not understand?"}, {"owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "reply_to_user": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1522683392, "post_id": 49612200, "comment_id": 86234825, "body": "@Barns when method handleJson is called, app will crash and here is error message: pastebin.com/RNLmtSV6"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "edited": false, "score": 0, "creation_date": 1522683303, "post_id": 49612524, "comment_id": 86234770, "body": "Thanks, but when it called handleJson, app again crash, here is error message: <a href=\"https://pastebin.com/RNLmtSV6\" rel=\"nofollow noreferrer\">pastebin.com/RNLmtSV6</a>"}, {"owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "reply_to_user": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "edited": false, "score": 0, "creation_date": 1522683900, "post_id": 49612524, "comment_id": 86235097, "body": "@misolo89 Of course, if an <code>Exception</code> occurs, then you&#39;re passing an empty <code>String</code> to <code>handleJson()</code>. You should either make <code>handleJson ()</code> to handle an empty <code>String</code> accordingly, or don&#39;t even call <code>handleJson()</code> when you have no content to handle."}], "tags": [], "owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "is_accepted": true, "score": 2, "last_activity_date": 1522678303, "last_edit_date": 1522678303, "creation_date": 1522676762, "answer_id": 49612524, "question_id": 49612200, "link": "https://stackoverflow.com/questions/49612200/how-to-treat-httpurlconnection-when-failed-to-connect-to-url/49612524#49612524", "title": "How to treat HttpURLConnection when failed to connect to URL", "body": "<p>Since there is no <code>catch</code> block in your code, you are not catching any exceptions currently.</p>\n\n<p>If you would like to handle the <code>ConnectException</code>, then you simply have to catch it:</p>\n\n<pre><code>override fun doInBackground(vararg url: String?): String {\n    var text = \"\"\n    var connection: HttpURLConnection? = null\n\n    try {\n        connection = URL(url[0]).openConnection() as HttpURLConnection\n        connection.connect()\n        text = connection.inputStream.use {\n            it.reader().use { reader -&gt;\n                reader.readText()\n            }\n        }\n    } catch (ce: ConnectException) {\n        // ConnectionException occurred, do whatever you'd like\n        ce.printStackTrace()\n    } catch (e: Exception) {\n        // some other Exception occurred\n        e.printStackTrace()\n    } finally {\n        connection?.disconnect()\n    }\n\n    return text\n}\n</code></pre>\n\n<p>Check out the <a href=\"https://kotlinlang.org/docs/reference/exceptions.html\" rel=\"nofollow noreferrer\">Exceptions reference</a>.</p>\n"}], "owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1238, "favorite_count": 1, "accepted_answer_id": 49612524, "answer_count": 1, "score": 0, "last_activity_date": 1522678303, "creation_date": 1522675482, "last_edit_date": 1522678042, "question_id": 49612200, "link": "https://stackoverflow.com/questions/49612200/how-to-treat-httpurlconnection-when-failed-to-connect-to-url", "title": "How to treat HttpURLConnection when failed to connect to URL", "body": "<p>When my database is running, everything is okey. But when is not running my mobile app always crash. </p>\n\n<p>Error message: </p>\n\n<blockquote>\n  <p>Caused by: java.net.ConnectException: Failed to connect to /httpURL.</p>\n</blockquote>\n\n<p>How to fix problem?</p>\n\n<p>here is my code:</p>\n\n<pre><code>AsyncTaskHandleJson().execute(url)    \n\ninner class AsyncTaskHandleJson : AsyncTask&lt;String, String, String&gt;() {\n        override fun doInBackground(vararg url: String?): String {\n            var text: String\n            var connection = URL(url[0]).openConnection() as HttpURLConnection\n            try {\n                connection.connect()\n                text = connection.inputStream.use { it.reader().use { reader -&gt; reader.readText() } }\n            } finally {\n                connection.disconnect()\n            }\n            return text\n        }\n\n        override fun onPostExecute(result: String?) {\n            super.onPostExecute(result)\n            handleJson(result)\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "owner": {"reputation": 66, "user_id": 9586088, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6xjmQ_7RkYE/AAAAAAAAAAI/AAAAAAAAACY/B-PNdLkSTGg/photo.jpg?sz=128", "display_name": "Flutter Community", "link": "https://stackoverflow.com/users/9586088/flutter-community"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1522674154, "creation_date": 1522674154, "question_id": 49611847, "link": "https://stackoverflow.com/questions/49611847/two-viewholder-same-row-in-recycleview", "title": "Two ViewHolder same row in recycleview", "body": "<p>As you know, you can create RecyclerView with multiple ViewHolders follow step:</p>\n\n<pre><code>getItemViewType()\nonCreateViewHolder()\nonBindViewHolder()\n</code></pre>\n\n<p>But i can only create two viewholder in other row, example:\nI have a list (item 1 - type 1, item 2 - type 1, item 3 - type 2)\nSo when i use GridLayoutManager with span column is 2, item-1 and item-2 is same row because it same type, </p>\n\n<p>**I have another list (item 1 - type 1, item 2 - type 3, item 3 - type 2)\n**</p>\n\n<p>They will be arranged 3 three rows, so i want combine item1 and item 2 same row, not combine layout. Can anyone have an idea? </p>\n\n<pre><code>package info.androidhive.recyclerview\n\nimport android.annotation.TargetApi\nimport android.content.Context\nimport android.content.res.Configuration\nimport android.os.Build\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\n\nclass MoviesAdapter(private val moviesList: List&lt;Movie&gt;) : RecyclerView.Adapter&lt;MoviesAdapter.ViewHolder&gt;() {\n     var pos = true\n\n    fun notifyLayoutChanged(context: Context) {\n        val isLanscape = context.resources.configuration.orientation == Configuration.ORIENTATION_LANDSCAPE\n        convert(moviesList, isLanscape)\n        notifyDataSetChanged()\n    }\n\n    @TargetApi(Build.VERSION_CODES.N)\n    private fun convert(moviesList: List&lt;Movie&gt;, isLanscape: Boolean) {\n        if (isLanscape) {\n            moviesList.forEach {\n                if (it.type == Movie.Type.PICKUP) {\n                    it.type = Movie.Type.BANNER\n                }\n            }\n        }\n    }\n\n    class MyViewHolder(view: View) : ViewHolder(view) {\n        var title: TextView\n        var year: TextView? = null\n        var genre: TextView\n\n        init {\n            title = view.findViewById&lt;View&gt;(R.id.title) as TextView\n            genre = view.findViewById&lt;View&gt;(R.id.genre) as TextView\n        }\n\n        override fun bind(movie: Movie) {\n            title.text = movie.title\n            genre.text = movie.genre\n        }\n\n        companion object {\n\n            fun create(context: Context): MyViewHolder {\n                return MyViewHolder(LayoutInflater.from(context)\n                        .inflate(R.layout.movie_list_row, null, false))\n            }\n        }\n    }\n\n    class BannerViewHolder(view: View) : ViewHolder(view) {\n        var view1: MovieView\n        var view2: MovieView\n\n        init {\n            view1 = view.findViewById&lt;View&gt;(R.id.item1) as MovieView\n            view2 = view.findViewById&lt;View&gt;(R.id.item2) as MovieView\n        }\n\n        override fun bind(movie: Movie) {\n            view1.bind(movie)\n            view2.bind(movie)\n        }\n\n        companion object {\n\n            fun create(context: Context): BannerViewHolder {\n                return BannerViewHolder(LayoutInflater.from(context)\n                        .inflate(R.layout.banner, null, false))\n            }\n        }\n    }\n\n\n    abstract class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        abstract fun bind(movie: Movie)\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        if (viewType == Movie.Type.BANNER.ordinal) {\n            if (pos) {\n                pos = false\n                return MyViewHolder.create(parent.context)\n            } else {\n                pos = true\n                return BannerViewHolder.create(parent.context)\n            }\n        } else {\n            return MyViewHolder.create(parent.context)\n        }\n    }\n\n    override fun onDetachedFromRecyclerView(recyclerView: RecyclerView?) {\n        super.onDetachedFromRecyclerView(recyclerView)\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n        if (holder != null) {\n\n            val movie = moviesList[position]\n            holder.bind(movie)\n        }\n    }\n\n    fun getItem(position: Int): Movie {\n        return moviesList[position]\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        val movie = moviesList[position]\n\n        return movie.type.ordinal\n    }\n\n    override fun getItemCount(): Int {\n        return moviesList.size\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "is_accepted": false, "score": 4, "last_activity_date": 1522670262, "creation_date": 1522670262, "answer_id": 49610861, "question_id": 49610775, "link": "https://stackoverflow.com/questions/49610775/why-do-i-need-a-parameter-in-a-primary-constructor-without-val-var-modifier-in-k/49610861#49610861", "title": "Why do I need a parameter in a primary constructor without val/var modifier in Kotlin?", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/classes.html</a></p>\n\n<p>It's used when you don't want constructor arguments to become named properties on the class.</p>\n\n<p>If you use <code>val</code>, you get a read-only property. If you use <code>var</code>, you get a mutable property. Otherwise, you get nothing [auto-defined].</p>\n"}, {"tags": [], "owner": {"reputation": 673, "user_id": 1861769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/as7Ol.jpg?s=128&g=1", "display_name": "JavierSA", "link": "https://stackoverflow.com/users/1861769/javiersa"}, "is_accepted": true, "score": 6, "last_activity_date": 1522670435, "creation_date": 1522670435, "answer_id": 49610902, "question_id": 49610775, "link": "https://stackoverflow.com/questions/49610775/why-do-i-need-a-parameter-in-a-primary-constructor-without-val-var-modifier-in-k/49610902#49610902", "title": "Why do I need a parameter in a primary constructor without val/var modifier in Kotlin?", "body": "<p>If you use <code>var</code>or <code>val</code> in the constructor, you are declaring properties and initializing them directly. If you don't, those parameters are used for initialization purposes:</p>\n\n<pre><code>class Customer(name: String) {\n    val customerKey = name.toUpperCase()\n}\n</code></pre>\n"}], "owner": {"reputation": 1359, "user_id": 7670489, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0134f1b1831164ab62ebd1b64ed01606?s=128&d=identicon&r=PG&f=1", "display_name": "VolodymyrH", "link": "https://stackoverflow.com/users/7670489/volodymyrh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 49610902, "answer_count": 2, "score": 2, "last_activity_date": 1522672980, "creation_date": 1522669932, "last_edit_date": 1522672980, "question_id": 49610775, "link": "https://stackoverflow.com/questions/49610775/why-do-i-need-a-parameter-in-a-primary-constructor-without-val-var-modifier-in-k", "title": "Why do I need a parameter in a primary constructor without val/var modifier in Kotlin?", "body": "<p>If I create a class, I can pass a parameter:</p>\n\n<pre><code>class Person(name: String) {\n}\n</code></pre>\n\n<p>I also can write the same, but with val and then I'll be able to use properties to get this value, when I created an object.</p>\n\n<pre><code>val person = Person(\"Name\")\nperson.name\n</code></pre>\n\n<p>The question is: why do I need just a parameter without the val? Where, how and why should I use it?</p>\n"}, {"tags": ["android", "listview", "kotlin"], "comments": [{"owner": {"reputation": 5169, "user_id": 3355173, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/0wkNv.jpg?s=128&g=1", "display_name": "kgandroid", "link": "https://stackoverflow.com/users/3355173/kgandroid"}, "edited": false, "score": 0, "creation_date": 1522664896, "post_id": 49609514, "comment_id": 86225477, "body": "you are trying to change font of the textview tvname right??"}, {"owner": {"reputation": 33, "user_id": 9388183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fe61bae8b16be2179b0ada414e012fe?s=128&d=identicon&r=PG&f=1", "display_name": "YoungCodingStudent", "link": "https://stackoverflow.com/users/9388183/youngcodingstudent"}, "reply_to_user": {"reputation": 5169, "user_id": 3355173, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/0wkNv.jpg?s=128&g=1", "display_name": "kgandroid", "link": "https://stackoverflow.com/users/3355173/kgandroid"}, "edited": false, "score": 0, "creation_date": 1522665843, "post_id": 49609514, "comment_id": 86225884, "body": "That&#39;s exactly what I mean"}, {"owner": {"reputation": 33, "user_id": 9388183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fe61bae8b16be2179b0ada414e012fe?s=128&d=identicon&r=PG&f=1", "display_name": "YoungCodingStudent", "link": "https://stackoverflow.com/users/9388183/youngcodingstudent"}, "reply_to_user": {"reputation": 5169, "user_id": 3355173, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/0wkNv.jpg?s=128&g=1", "display_name": "kgandroid", "link": "https://stackoverflow.com/users/3355173/kgandroid"}, "edited": false, "score": 0, "creation_date": 1522667829, "post_id": 49609514, "comment_id": 86226910, "body": "I have got a Error, the code does not recognize the command &quot;getAssets()&quot; and &quot;assets,&quot; i update the post \u2013"}, {"owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "edited": false, "score": 0, "creation_date": 1522668022, "post_id": 49609514, "comment_id": 86226996, "body": "@YoungCodingStudent Check my answer for custom font setup."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1522669074, "post_id": 49609514, "comment_id": 86227502, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18297087/android-change-listview-font\">Android change ListView font</a>"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9388183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fe61bae8b16be2179b0ada414e012fe?s=128&d=identicon&r=PG&f=1", "display_name": "YoungCodingStudent", "link": "https://stackoverflow.com/users/9388183/youngcodingstudent"}, "edited": false, "score": 0, "creation_date": 1522667689, "post_id": 49609842, "comment_id": 86226835, "body": "I have got a Error,  the code does not recognize the command &quot;getAssets()&quot; and &quot;assets,&quot; i update the post"}, {"owner": {"reputation": 5169, "user_id": 3355173, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/0wkNv.jpg?s=128&g=1", "display_name": "kgandroid", "link": "https://stackoverflow.com/users/3355173/kgandroid"}, "reply_to_user": {"reputation": 33, "user_id": 9388183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fe61bae8b16be2179b0ada414e012fe?s=128&d=identicon&r=PG&f=1", "display_name": "YoungCodingStudent", "link": "https://stackoverflow.com/users/9388183/youngcodingstudent"}, "edited": false, "score": 0, "creation_date": 1522668484, "post_id": 49609842, "comment_id": 86227202, "body": "try face = Typeface.createFromAsset(context.getAssets(), &quot;fonts/helloworld.ttf&quot;);"}], "tags": [], "owner": {"reputation": 5169, "user_id": 3355173, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/0wkNv.jpg?s=128&g=1", "display_name": "kgandroid", "link": "https://stackoverflow.com/users/3355173/kgandroid"}, "is_accepted": false, "score": 0, "last_activity_date": 1522666153, "creation_date": 1522666153, "answer_id": 49609842, "question_id": 49609514, "link": "https://stackoverflow.com/questions/49609514/how-to-change-custom-font-inside-listview-using-kotlin-android/49609842#49609842", "title": "how to change custom font inside listview using kotlin android", "body": "<p><strong>To change the font of textview</strong>,write the following code in the adapter:</p>\n\n<pre><code>Typeface face = Typeface.createFromAsset(getAssets(),\n            \"fonts/helloworld.ttf\");\nmyView.tvName.setTypeface(face);\n</code></pre>\n\n<p>where <strong>helloworld.ttf</strong> is the font file stored in <strong>asset folder of your project structure</strong>.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 9388183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fe61bae8b16be2179b0ada414e012fe?s=128&d=identicon&r=PG&f=1", "display_name": "YoungCodingStudent", "link": "https://stackoverflow.com/users/9388183/youngcodingstudent"}, "edited": false, "score": 0, "creation_date": 1522667825, "post_id": 49609910, "comment_id": 86226907, "body": "I have got a Error, the code does not recognize the command &quot;getAssets()&quot; and &quot;assets,&quot; i update the post \u2013"}, {"owner": {"reputation": 1663, "user_id": 6997819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNXp1.jpg?s=128&g=1", "display_name": "Vir Rajpurohit", "link": "https://stackoverflow.com/users/6997819/vir-rajpurohit"}, "reply_to_user": {"reputation": 33, "user_id": 9388183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fe61bae8b16be2179b0ada414e012fe?s=128&d=identicon&r=PG&f=1", "display_name": "YoungCodingStudent", "link": "https://stackoverflow.com/users/9388183/youngcodingstudent"}, "edited": false, "score": 0, "creation_date": 1522686997, "post_id": 49609910, "comment_id": 86236625, "body": "@YoungCodingStudent try fType = Typeface.createFromAsset(context.getAssets(), &quot;fonts/Robotic.ttf&quot;);"}], "tags": [], "owner": {"reputation": 1663, "user_id": 6997819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNXp1.jpg?s=128&g=1", "display_name": "Vir Rajpurohit", "link": "https://stackoverflow.com/users/6997819/vir-rajpurohit"}, "is_accepted": false, "score": 0, "last_activity_date": 1522666451, "creation_date": 1522666451, "answer_id": 49609910, "question_id": 49609514, "link": "https://stackoverflow.com/questions/49609514/how-to-change-custom-font-inside-listview-using-kotlin-android/49609910#49609910", "title": "how to change custom font inside listview using kotlin android", "body": "<p>You can set the font by</p>\n\n<pre><code>Typeface fType = Typeface.createFromAsset(getAssets(),\"fonts/Robotic.ttf\"); \ntvname.setTypeface(fType);\n</code></pre>\n\n<p>For above to excute you need to create fonts under assets and keept .ttf file under fonts.</p>\n\n<p>There is one more way create fonts folder under res directory and keep your ttf files inside.</p>\n\n<p>and then in your xml </p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/tvName\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:gravity=\"center\"\n    android:text=\"Martini\"\n    android:textColor=\"@color/white\"\n    android:textSize=\"24dp\"\n    **android:fontFamily=\"@font/Robotic.ttf\"**\n    android:textStyle=\"bold\" /&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 9388183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fe61bae8b16be2179b0ada414e012fe?s=128&d=identicon&r=PG&f=1", "display_name": "YoungCodingStudent", "link": "https://stackoverflow.com/users/9388183/youngcodingstudent"}, "edited": false, "score": 0, "creation_date": 1522668123, "post_id": 49610037, "comment_id": 86227051, "body": "when i have Fonts in assets?"}], "tags": [], "owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "is_accepted": true, "score": 2, "last_activity_date": 1522668277, "last_edit_date": 1522668277, "creation_date": 1522666991, "answer_id": 49610037, "question_id": 49609514, "link": "https://stackoverflow.com/questions/49609514/how-to-change-custom-font-inside-listview-using-kotlin-android/49610037#49610037", "title": "how to change custom font inside listview using kotlin android", "body": "<p>in <em>Kotlin</em> you can do something like this.</p>\n\n<pre><code>myView.tvName.typeface = Typeface.DEFAULT_BOLD\n</code></pre>\n\n<p>For Custom Font you can user <strong><em>ResourcesCompat.getFont</em></strong> as below.</p>\n\n<pre><code>val myCustomFont : Typeface? = ResourcesCompat.getFont(this, R.font.custom_font)\nmyView.tvName.typeface = myCustomFont\n</code></pre>\n\n<p>From <em>Assets</em> folder.</p>\n\n<pre><code>val typeface = Typeface.createFromAsset(getContext().assets, \"font/custom_font.ttf\")\nmyView.tvName.typeface = typeface\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9388183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fe61bae8b16be2179b0ada414e012fe?s=128&d=identicon&r=PG&f=1", "display_name": "YoungCodingStudent", "link": "https://stackoverflow.com/users/9388183/youngcodingstudent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1687, "favorite_count": 0, "accepted_answer_id": 49610037, "answer_count": 3, "score": 1, "last_activity_date": 1524205902, "creation_date": 1522664752, "last_edit_date": 1524205902, "question_id": 49609514, "link": "https://stackoverflow.com/questions/49609514/how-to-change-custom-font-inside-listview-using-kotlin-android", "title": "how to change custom font inside listview using kotlin android", "body": "<p>I was looking for a lot on the Internet to solve my problem but I did not find a good solution.</p>\n\n<p><strong>GOAL: How to change font in ListView?</strong></p>\n\n<p><strong>XML layout code</strong></p>\n\n<pre><code>&lt;ListView\nandroid:id=\"@+id/tvListDrinki\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"444dp\"\nandroid:background=\"@color/googleWhite\"\nandroid:layout_marginTop=\"196dp\"\napp:layout_constraintBottom_toBottomOf=\"parent\"\napp:layout_constraintHorizontal_bias=\"0.518\"\napp:layout_constraintLeft_toLeftOf=\"parent\"\napp:layout_constraintRight_toRightOf=\"parent\"\napp:layout_constraintTop_toTopOf=\"parent\"\napp:layout_constraintVertical_bias=\"1.0\" /&gt;\n</code></pre>\n\n<p><strong>List View \u201cTicket\u201d Code</strong></p>\n\n<pre><code>&lt;LinearLayout\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"\nandroid:background=\"@drawable/background_lista_drinkow\"\nandroid:orientation=\"horizontal\"&gt;\n\n&lt;ImageView\n    android:layout_marginLeft=\"20dp\"\n    android:id=\"@+id/ivDrinkImage\"\n    android:layout_width=\"50pt\"\n    android:layout_height=\"50pt\"\n    android:layout_weight=\"1\"\n    android:padding=\"10dp\"\n    app:srcCompat=\"@drawable/martini\" /&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"90pt\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"center\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvName\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center\"\n        android:gravity=\"center\"\n        android:text=\"Martini\"\n        android:textColor=\"@color/white\"\n        android:textSize=\"24dp\"\n        android:textStyle=\"bold\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>In My Kotlin Code I Have got a working standard adpater and listView elements\n<strong>Kotlin Code</strong></p>\n\n<pre><code>    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n\n        val drink= listOFDrinks[p0]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        var myView = inflator.inflate(R.layout.drinki_ticket,null)\n        myView.tvName.text= drink.name!!\n        myView.ivDrinkImage.setImageResource(drink.image!!)\n        val face=Typeface.createFromAsset(assets, \"Fonts/Thin.ttf\")\n        myView.tvName.setTypeface(face)\n        return myView\n\n    }\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1522664269, "post_id": 49608520, "comment_id": 86225207, "body": "Actually what you want to do? From the beginning, you want to check the value and select radio button."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1522668543, "post_id": 49608520, "comment_id": 86227244, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/7743212/radiogroup-how-to-check-programmatically\">RadioGroup: How to check programmatically</a>"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1522673204, "post_id": 49608520, "comment_id": 86229601, "body": "To  Zoe : it&#39;s not  duplicate of RadioGroup: How to check programmatically, would you please see my modified question"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1522673592, "post_id": 49608520, "comment_id": 86229816, "body": "To  Faysal Ahmed , there is a search button and edittext control,  I input a id value in edittext control,then I click search button, the record will be find, and that radio button in RecyclerView will be checked automatically!"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 486, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522676899, "creation_date": 1522660684, "last_edit_date": 1522676899, "question_id": 49608520, "link": "https://stackoverflow.com/questions/49608520/how-can-i-set-a-radio-button-as-checked-in-recyclerview-by-clicking-a-button-in", "title": "How can I set a radio button as checked in RecyclerView by clicking a button in Kotlin?", "body": "<p>I desgin a radio button for each item in  RecyclerView with Code B , I hope to click a normal button to check a radio button in RecyclerView which _id of MSetting is equal to a given value.</p>\n\n<p>So I write some code in Code A, but I don't know how to write next step, could you help me ?</p>\n\n<p>In general, I need to check a radio button inside RecyclerView programmatically.</p>\n\n<p>You can't do it by <a href=\"https://stackoverflow.com/questions/7743212/radiogroup-how-to-check-programmatically\">RadioGroup: How to check programmatically</a>.  All radio buttons inside RecyclerView have the same ID.</p>\n\n<pre><code>RadioButton b = (RadioButton) findViewById(R.id.option1);\nb.setChecked(true);\n</code></pre>\n\n<p><strong>To Faysal Ahmed</strong> </p>\n\n<p>Why need I to do it?</p>\n\n<p>There are a Search button and a edittext control in my APP, I input a id value in edittext control,then I click Search button, the record will be found and the radio button in RecyclerView will be checked automatically! </p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>fun SetRadioChecked(id:Long){\n        for (i in 0..(backupItemList.size-1)){\n            if (backupItemList[i]._id==id){\n                //Set the radio button as checked\n            }\n        }\n}\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>class CustomAdapter (val backupItemList: List&lt;MSetting&gt;) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n    val noRecord=-1\n    private var mSelectedItem = noRecord\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.item_recyclerview, parent, false)\n        return ViewHolder(v)\n    }\n\n    fun getSelectedItem():Int{\n        return  mSelectedItem\n    }\n\n    override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n        holder.bindItems(backupItemList[position])\n    }\n\n    fun SetRadioChecked(id:Long){\n        for (i in 0..(backupItemList.size-1)){\n            if (backupItemList[i]._id==id){\n                //Set the radio button as checked\n            }\n        }\n    }\n\n    override fun getItemCount(): Int {\n        return backupItemList.size\n    }\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        fun bindItems(aMSetting: MSetting) {\n\n            itemView.tvSubject.text=aMSetting.name\n            itemView.tvCreatedDate.text=aMSetting.createdDate.toDateString()\n            itemView.tvDescription.text=aMSetting.description\n\n            itemView.radioButton.setOnClickListener {\n                mSelectedItem=adapterPosition\n                notifyDataSetChanged();\n            }\n\n            if(adapterPosition == 0 &amp;&amp; mSelectedItem == noRecord) {              \n                itemView.radioButton.isChecked = true\n                mSelectedItem=adapterPosition\n            }\n            else {\n                itemView.radioButton.isChecked =(adapterPosition == mSelectedItem)\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "for-loop", "indexing", "kotlin"], "comments": [{"owner": {"reputation": 2539, "user_id": 4542217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96uVy.png?s=128&g=1", "display_name": "Shahab Rauf", "link": "https://stackoverflow.com/users/4542217/shahab-rauf"}, "edited": false, "score": 2, "creation_date": 1522660314, "post_id": 49608373, "comment_id": 86223352, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48898102/how-to-get-the-current-index-in-for-each-kotlin\">How to get the current index in for each Kotlin</a>"}], "answers": [{"comments": [{"owner": {"reputation": 268, "user_id": 9543418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3yLG.jpg?s=128&g=1", "display_name": "Muhammed Haris", "link": "https://stackoverflow.com/users/9543418/muhammed-haris"}, "edited": false, "score": 0, "creation_date": 1522663597, "post_id": 49608482, "comment_id": 86224900, "body": "usage of -&gt; is find in Many Places ,,why its Used?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1522667368, "last_edit_date": 1522667368, "creation_date": 1522660545, "answer_id": 49608482, "question_id": 49608373, "link": "https://stackoverflow.com/questions/49608373/how-to-take-index-of-list-item-inside-the-for-loop-in-android-kotlin/49608482#49608482", "title": "How to Take index of List Item inside the For Loop in Android Kotlin?", "body": "<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/indices.html\" rel=\"nofollow noreferrer\"><code>indices</code></a> method gives you a range, which is <code>0..5</code> in this case because it's called on the <code>String: banana</code> with a length of 6.</p>\n\n<p>You can instead iterate with indices as follows:</p>\n\n<pre><code>items.forEachIndexed { i, element -&gt;\n    if (element == \"banana\") {\n        println(\"position is $i\")\n    }\n}\n</code></pre>\n\n<p>Alternative ways of iterating with indices are listed in this <a href=\"https://stackoverflow.com/a/46826172/8073652\">post</a>.</p>\n\n<p>I'm not sure if you really want to iterate explicitly though. Maybe it's fine for you to use built-in functions for finding the index of your element:</p>\n\n<pre><code>println(items.indexOf(\"banana\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 1, "last_activity_date": 1522660733, "creation_date": 1522660733, "answer_id": 49608532, "question_id": 49608373, "link": "https://stackoverflow.com/questions/49608373/how-to-take-index-of-list-item-inside-the-for-loop-in-android-kotlin/49608532#49608532", "title": "How to Take index of List Item inside the For Loop in Android Kotlin?", "body": "<p>There is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index-of.html\" rel=\"nofollow noreferrer\"><code>indexOf</code></a>:</p>\n\n<blockquote>\n  <p>Returns first index of element, or -1 if the collection does not\n  contain element.</p>\n</blockquote>\n\n<p>and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/last-index-of.html\" rel=\"nofollow noreferrer\"><code>lastIndexOf</code></a>:</p>\n\n<blockquote>\n  <p>Returns last index of element, or -1 if the collection does not contain element.</p>\n</blockquote>\n\n<pre><code>val items = listOf(\"apple\", \"banana\", \"kiwifruit\")\nval appleIndex = items.indexOf(\"apple\") // 0\nval lastAppleIndex = items.lastIndexOf(\"apple\") // 0\nval bananaIndex = items.indexOf(\"banana\")  // 1\nval orangeIndex = items.indexOf(\"orange\")  // -1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30786, "user_id": 2252113, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/TTazp.png?s=128&g=1", "display_name": "Hitesh Sahu", "link": "https://stackoverflow.com/users/2252113/hitesh-sahu"}, "is_accepted": false, "score": 0, "last_activity_date": 1596719600, "creation_date": 1596719600, "answer_id": 63284377, "question_id": 49608373, "link": "https://stackoverflow.com/questions/49608373/how-to-take-index-of-list-item-inside-the-for-loop-in-android-kotlin/63284377#63284377", "title": "How to Take index of List Item inside the For Loop in Android Kotlin?", "body": "<p><strong>You can iterate with Index using <code>forEachIndexed</code> method of Kotlin</strong></p>\n<p>Iterate with Index</p>\n<pre><code>itemList.forEachIndexed{index, item -&gt; \nprintln(&quot;index = $index, item = $item &quot;)\n}\n</code></pre>\n<p>Check if item is Banana and print Index</p>\n<pre><code>itemList.forEachIndexed{ index, item -&gt; {\n         if (item.equals(&quot;banana&quot;)) {println(&quot;position is ${index}&quot;)}\n              }\n</code></pre>\n"}], "owner": {"reputation": 268, "user_id": 9543418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3yLG.jpg?s=128&g=1", "display_name": "Muhammed Haris", "link": "https://stackoverflow.com/users/9543418/muhammed-haris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3439, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1596719600, "creation_date": 1522660065, "question_id": 49608373, "link": "https://stackoverflow.com/questions/49608373/how-to-take-index-of-list-item-inside-the-for-loop-in-android-kotlin", "title": "How to Take index of List Item inside the For Loop in Android Kotlin?", "body": "<pre><code>fun forLoopListItems() {\n        val items = listOf(\"apple\", \"banana\", \"kiwifruit\")\n        for (i in items) {\n            if (i.equals(\"banana\")) {\n              println(\"position is ${i.indices}\")\n            }\n        }\n    }\n</code></pre>\n\n<p>This is My Kotlin code used with For Loop.\nI tried to Print Index Curresponding to \"banana\"\nBut Result is \"System.out: position is 0..5\"\nHow is it Become 0..5 ?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 4, "last_activity_date": 1522698744, "last_edit_date": 1522698744, "creation_date": 1522659776, "answer_id": 49608308, "question_id": 49608282, "link": "https://stackoverflow.com/questions/49608282/kotlin-how-to-check-double-in-if-condition/49608308#49608308", "title": "Kotlin - How to check double in if condition", "body": "<p>There is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-double-or-null.html\" rel=\"nofollow noreferrer\"><code>toDoubleOrNull</code></a> available which:</p>\n\n<blockquote>\n  <p>Parses the string as a <code>Double</code> number and returns the result or null if\n  the string is not a valid representation of a number.</p>\n</blockquote>\n\n<p>You can use it like so:</p>\n\n<pre><code>val maybeDouble = kmValue.toDoubleOrNull()\nif (maybeDouble != null) {\n  println(\"Number is double\")\n} else {\n  editDouble.error = \"Type double number!!\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1522668825, "last_edit_date": 1522668825, "creation_date": 1522662437, "answer_id": 49608935, "question_id": 49608282, "link": "https://stackoverflow.com/questions/49608282/kotlin-how-to-check-double-in-if-condition/49608935#49608935", "title": "Kotlin - How to check double in if condition", "body": "<p>As mentioned by miensol, <code>toDoubleOrNull</code> is a great tool for solving your problem. I\u2019d like to add that Kotlin provides a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\"><code>let</code></a> function that can help to write idiomatic code when handling nullable types like the resulting <code>Double?</code>:</p>\n\n<pre><code>val maybeDouble = \"1.2\".toDoubleOrNull()\nmaybeDouble?.let {\n    println(\"Number is double\")\n} ?: println(\"Type double number!!\")\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 8888338, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/408c8967c208a987ea6e27e89fe149e4?s=128&d=identicon&r=PG&f=1", "display_name": "Torrado36", "link": "https://stackoverflow.com/users/8888338/torrado36"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2378, "favorite_count": 0, "accepted_answer_id": 49608308, "answer_count": 2, "score": 1, "last_activity_date": 1522698744, "creation_date": 1522659649, "last_edit_date": 1522659841, "question_id": 49608282, "link": "https://stackoverflow.com/questions/49608282/kotlin-how-to-check-double-in-if-condition", "title": "Kotlin - How to check double in if condition", "body": "<p>I have if statment and I wanted to check my variable if is double.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>val doubleVal = (findViewId&lt;EditText&gt;(R.id.)).text.toString()\nval doubleS = Double.parseDouble(doubleVal)\n\nif(???)\n{\n    println(\"Number is double\")\n}\nelse\n{\n    editDouble.error = \"Type double number!!\"\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "aar"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1522664196, "post_id": 49607925, "comment_id": 86225165, "body": "Let me inform, If solved. Interesting case"}], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1522689671, "creation_date": 1522689671, "answer_id": 49615696, "question_id": 49607925, "link": "https://stackoverflow.com/questions/49607925/creating-aar-with-kotlin-classnotfoundexception/49615696#49615696", "title": "Creating AAR with Kotlin: ClassNotFoundException", "body": "<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n</code></pre>\n\n<p>Should be </p>\n\n<pre><code>api \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n</code></pre>\n"}], "owner": {"reputation": 4098, "user_id": 1393280, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/767b919d51cfd467ac1ebf47abb14e51?s=128&d=identicon&r=PG", "display_name": "BArtWell", "link": "https://stackoverflow.com/users/1393280/bartwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 942, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1522690224, "creation_date": 1522658108, "last_edit_date": 1522690224, "question_id": 49607925, "link": "https://stackoverflow.com/questions/49607925/creating-aar-with-kotlin-classnotfoundexception", "title": "Creating AAR with Kotlin: ClassNotFoundException", "body": "<p>I wrote Android library using Kotlin. I am generate AAR file. But when I add this AAR to another Java project, application crashes on start:</p>\n\n<pre><code>Process: ru.bartwell.app, PID: 10412\n    java.lang.NoClassDefFoundError: Failed resolution of: Lkotlin/jvm/internal/Intrinsics;\n        at ru.bartwell.mylib.MyLibClass.&lt;init&gt;(MyLibClass.kt)\n        at ru.bartwell.app.MainActivity.onCreate(MainActivity.java:15)\n        at android.app.Activity.performCreate(Activity.java:6251)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\n        at android.app.ActivityThread.-wrap11(ActivityThread.java)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:148)\n        at android.app.ActivityThread.main(ActivityThread.java:5417)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"kotlin.jvm.internal.Intrinsics\" on path: DexPathList[[zip file \"/data/app/ru.bartwell.app-1/base.apk\"],nativeLibraryDirectories=[/data/app/ru.bartwell.app-1/lib/arm, /vendor/lib, /system/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\n        at ru.bartwell.mylib.MyLibClass.&lt;init&gt;(MyLibClass.kt)\u00a0\n        at ru.bartwell.app.MainActivity.onCreate(MainActivity.java:15)\u00a0\n        at android.app.Activity.performCreate(Activity.java:6251)\u00a0\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)\u00a0\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369)\u00a0\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\u00a0\n        at android.app.ActivityThread.-wrap11(ActivityThread.java)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n        at android.os.Looper.loop(Looper.java:148)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:5417)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\u00a0\n        Suppressed: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n        at java.lang.Class.classForName(Native Method)\n        at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\n        at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\n                ... 15 more\n     Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\n</code></pre>\n\n<p>Here is my Gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 27\n\n    defaultConfig {\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'com.android.support:appcompat-v7:27.1.0'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>How to fix it?</p>\n\n<p><strong>Update</strong>: when I add <code>implementation \"org.jetbrains.kotlin:kotlin-stdlib:1.2.31\"</code> to application gradle file it works without crashes. But I don't want that users of my library need to add this every time.</p>\n"}, {"tags": ["java", "android", "error-handling", "kotlin"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1522653203, "post_id": 49606821, "comment_id": 86220379, "body": "Why not using FIREBASE?"}, {"owner": {"reputation": 6119, "user_id": 1792858, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b04b26eb171474c320b91a60392aa7b8?s=128&d=identicon&r=PG", "display_name": "Mr. B.", "link": "https://stackoverflow.com/users/1792858/mr-b"}, "reply_to_user": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1522653585, "post_id": 49606821, "comment_id": 86220532, "body": "@intellij-amiya I like firebase, but it doesn&#39;t fit in that case. :-)"}], "answers": [{"tags": [], "owner": {"reputation": 5636, "user_id": 8207228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bea1f01a8f41b0714de4eddc3c93ce8?s=128&d=identicon&r=PG", "display_name": "Ralf Kleberhoff", "link": "https://stackoverflow.com/users/8207228/ralf-kleberhoff"}, "is_accepted": true, "score": 1, "last_activity_date": 1522656305, "creation_date": 1522656305, "answer_id": 49607561, "question_id": 49606821, "link": "https://stackoverflow.com/questions/49606821/android-java-how-to-avoid-repetitive-errors-logs/49607561#49607561", "title": "Android/Java: how to avoid repetitive errors logs?", "body": "<p>Have a look at the <a href=\"https://www.martinfowler.com/bliki/CircuitBreaker.html\" rel=\"nofollow noreferrer\">Circuit Breaker Pattern</a> for detecting long-term failures.</p>\n\n<p>You still need a way to not log the errors during the long-term failure, e.g. by throwing a specific exception (LongTermFailure) in the Open or Half-Open state of the Breaker and treating that differently at your logging place.</p>\n"}], "owner": {"reputation": 6119, "user_id": 1792858, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b04b26eb171474c320b91a60392aa7b8?s=128&d=identicon&r=PG", "display_name": "Mr. B.", "link": "https://stackoverflow.com/users/1792858/mr-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 49607561, "answer_count": 1, "score": 0, "last_activity_date": 1524311995, "creation_date": 1522652809, "last_edit_date": 1524311995, "question_id": 49606821, "link": "https://stackoverflow.com/questions/49606821/android-java-how-to-avoid-repetitive-errors-logs", "title": "Android/Java: how to avoid repetitive errors logs?", "body": "<p>I've a <strong>service</strong> that runs every 5 seconds and fires 10-15 HTTP requests each time.</p>\n\n<p>If the requests fail (timeout), I throw <strong>up to 15 errors every 5 seconds</strong>. That <strong>bloats the log files</strong>.</p>\n\n<p>I'd like to <strong>log repetitive errors only every 30 minutes</strong>, even if the service runs every 5 seconds.</p>\n\n<p>Any idea?</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1522654540, "last_edit_date": 1522654540, "creation_date": 1522653094, "answer_id": 49606872, "question_id": 49606765, "link": "https://stackoverflow.com/questions/49606765/how-to-make-an-extension-functions-about-getinteger-for-context-in-kotlin/49606872#49606872", "title": "How to make an extension functions about getInteger for Context in Kotlin?", "body": "<p>You're overcomplicating it a bit. </p>\n\n<ul>\n<li>You won't use the specific type of <code>Context</code> in any way, you don't need to make your extension generic.</li>\n<li>In the parameter list, the name of the parameter comes first, and the type after.</li>\n<li>The integer type's name in Kotlin is <code>Int</code>, with a capital <code>I</code>.</li>\n<li>You can refer to your <code>Context</code> inside the extension function with <code>this</code>.</li>\n<li>You can use support annotations to specify that your parameter is always an integer resource ID.</li>\n</ul>\n\n<p>Overall, with these changes:</p>\n\n<pre><code>inline fun Context.getInteger(@IntegerRes id: Int): Int {\n    return this.resources.getInteger(id)\n}\n</code></pre>\n\n<p>There was also some general confusion about syntax, you should look into the documentation for <a href=\"https://kotlinlang.org/docs/reference/functions.html\" rel=\"nofollow noreferrer\">functions</a> and then <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extensions</a>.</p>\n\n<hr>\n\n<p>Additionally, you can convert the function to an expression body and omit the explicit <code>this</code>:</p>\n\n<pre><code>inline fun Context.getInteger(@IntegerRes id: Int) = resources.getInteger(id)\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 49606872, "answer_count": 1, "score": 2, "last_activity_date": 1522654540, "creation_date": 1522652536, "question_id": 49606765, "link": "https://stackoverflow.com/questions/49606765/how-to-make-an-extension-functions-about-getinteger-for-context-in-kotlin", "title": "How to make an extension functions about getInteger for Context in Kotlin?", "body": "<p>I'm a beginner of Kotlin, the Code A get a int value from resource file.</p>\n\n<p>I hope to use an extension functions to do it, and invoke it just like <code>this.getInteger(R.integer.ActivityEditBackup)</code></p>\n\n<p>But Code B I made is incorrect, how can I fix it?</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>mContext.resources.getInteger(R.integer.ActivityEditBackup)) \n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>inline fun &lt;reified T : Activity&gt;Context.getInteger(int id): int {\n    return T.resources.getInteger(id)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "coroutine", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1522661498, "post_id": 49607256, "comment_id": 86223915, "body": "Do Kotlin coroutines automatically spawn threads when necessary (when many cores are needed)? Or just coroutine context does spawn threads?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 1, "creation_date": 1522662125, "post_id": 49607256, "comment_id": 86224181, "body": "A coroutine itself has nothing to do with threads. A suspended coroutine is nothing more than a plain Java object with a <code>resume()</code> method. All the thread manipulations are in the coroutine dispatcher (which is a part of the context). The <code>UI</code> dispatcher never spawns threads, it just submits the coroutine to the UI thread. <code>Unconfined</code> just resumes the coroutine on the calling thread. Even <code>CommonPool</code> doesn&#39;t spawn threads on its own, but simply submits the coroutine to a global <code>ExecutorService</code>, which will then do whatever it&#39;s configured to do."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 10, "last_activity_date": 1601276047, "last_edit_date": 1601276047, "creation_date": 1522654920, "answer_id": 49607256, "question_id": 49606471, "link": "https://stackoverflow.com/questions/49606471/why-and-when-to-use-co-routines-instead-of-threads-in-android-using-kotlin-as-th/49607256#49607256", "title": "Why and when to use co-routines instead of threads in Android using Kotlin as there is no parallelism?", "body": "<p>Threads and coroutines are almost orthogonal features.</p>\n<p>Coroutines are about your <em>programming model</em> and threads are about your <em>execution model</em>.</p>\n<p>If you want to fetch a URL or perform a heavyweight computation in Android, you have to use async programming. You have the choice to do it the old-fashioned way, with callbacks, or with coroutines, which make those crutches disappear. You simply call a suspendable function and get the result as its return value.</p>\n<p>Note that for the heavyweight computation you'll use extra threads with or without coroutines. For network ops you don't need extra threads, with or without coroutines.</p>\n<p>A great analogy is that threads are to coroutines what CPU cores are to threads:</p>\n<p>The OS assigns a thread to a CPU core until the thread suspends. Later on, the same thread can resume on another core.</p>\n<p>The coroutine dispatcher assigns a coroutine to a thread until the coroutine suspends. Later on, the same coroutine can resume on another thread.</p>\n"}], "owner": {"reputation": 2539, "user_id": 2484327, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/159Yf.jpg?s=128&g=1", "display_name": "Ritesh", "link": "https://stackoverflow.com/users/2484327/ritesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1299, "favorite_count": 1, "accepted_answer_id": 49607256, "answer_count": 1, "score": 10, "last_activity_date": 1601276047, "creation_date": 1522651143, "last_edit_date": 1552981150, "question_id": 49606471, "link": "https://stackoverflow.com/questions/49606471/why-and-when-to-use-co-routines-instead-of-threads-in-android-using-kotlin-as-th", "title": "Why and when to use co-routines instead of threads in Android using Kotlin as there is no parallelism?", "body": "<p>I was going through the concept of co-routines and it's usage and implementation in <strong>kotlin</strong>.</p>\n\n<p>I googled and read few answers as in how it is different from threads in terms of architecture and performance.</p>\n\n<p>Very well explained here,</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1934715/difference-between-a-coroutine-and-a-thread\">Difference between a &quot;coroutine&quot; and a &quot;thread&quot;?</a> </p>\n\n<p>Fair enough, co-routines are great, no memory overhead, great performance, no dead-locks, race-conditions and etc. and easy to use.</p>\n\n<p>Now, here are few things, I am confused about and would like more clarity on the same - </p>\n\n<ol>\n<li>When should I use co-routines and thread in Android? Or should I stick with just co-routines?</li>\n<li>If, I just stick with co-routines then how it will take advantage of CPU-cores, as it runs on a single thread.</li>\n</ol>\n\n<p>Co-routines are great to use, but how it takes advantage of multiple cores for performance. </p>\n"}, {"tags": ["annotations", "kotlin", "annotation-processing", "kapt"], "answers": [{"comments": [{"owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "edited": false, "score": 0, "creation_date": 1522651335, "post_id": 49606444, "comment_id": 86219691, "body": "Thanks! Is there any plan?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "edited": false, "score": 2, "creation_date": 1522752485, "post_id": 49606444, "comment_id": 86263125, "body": "kapt is inherently tied to javac, so any annotation processing tool for Kotlin/JS or Native would be a completely separate design. At this time we&#39;re not working on any such tool."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 2, "last_activity_date": 1522650964, "creation_date": 1522650964, "answer_id": 49606444, "question_id": 49606420, "link": "https://stackoverflow.com/questions/49606420/does-kaptkotlin-annotation-processing-support-kotlin-js/49606444#49606444", "title": "Does KAPT(Kotlin Annotation Processing) support Kotlin-JS?", "body": "<p>No, kapt does not support Kotlin/JS. kapt integrates into the Java compiler and uses its annotation processing API, and none of this exists in the Kotlin/JS compilation pipeline.</p>\n"}, {"tags": [], "owner": {"reputation": 5291, "user_id": 5279156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHs51.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/5279156/vlad"}, "is_accepted": false, "score": 0, "last_activity_date": 1586681798, "creation_date": 1586681798, "answer_id": 61169011, "question_id": 49606420, "link": "https://stackoverflow.com/questions/49606420/does-kaptkotlin-annotation-processing-support-kotlin-js/61169011#61169011", "title": "Does KAPT(Kotlin Annotation Processing) support Kotlin-JS?", "body": "<p>I found a library that does it <a href=\"https://github.com/Foso/MpApt\" rel=\"nofollow noreferrer\">https://github.com/Foso/MpApt</a>  </p>\n\n<p>From README:</p>\n\n<blockquote>\n  <p>I wrote an annotation processing libary that can detect annotations in Kotlin Native/JS and Jvm projects, because Kapt is only working with KotlinJvm. The library can be used in Kotlin Compiler plugins. Tested with Kotlin 1.3.41, 1.3.50, 1.3.71</p>\n</blockquote>\n"}], "owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1586681798, "creation_date": 1522650876, "last_edit_date": 1522651386, "question_id": 49606420, "link": "https://stackoverflow.com/questions/49606420/does-kaptkotlin-annotation-processing-support-kotlin-js", "title": "Does KAPT(Kotlin Annotation Processing) support Kotlin-JS?", "body": "<p>I see an <a href=\"https://github.com/JetBrains/kotlin-examples/tree/master/gradle/kotlin-code-generation\" rel=\"nofollow noreferrer\">example</a> explains KATP for Kotlin JVM, which is working. </p>\n\n<p>I wonder if it supports Kotlin JS? Is there any example?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 1725347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D7VoR.jpg?s=128&g=1", "display_name": "wax911", "link": "https://stackoverflow.com/users/1725347/wax911"}, "edited": false, "score": 3, "creation_date": 1545038218, "post_id": 49606439, "comment_id": 94472412, "body": "After seeing this answer I immediately realised understood what target annotation meant, thank you!"}, {"owner": {"reputation": 140, "user_id": 8344055, "user_type": "registered", "profile_image": "https://graph.facebook.com/1500126920010375/picture?type=large", "display_name": "Beast77", "link": "https://stackoverflow.com/users/8344055/beast77"}, "edited": false, "score": 4, "creation_date": 1570949201, "post_id": 49606439, "comment_id": 103074277, "body": "How do you write the serilizer/deserializer for the Any type?"}, {"owner": {"reputation": 5882, "user_id": 4598169, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42f0c50fc77c68c1b4bc96740d701fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/4598169/tarun"}, "reply_to_user": {"reputation": 140, "user_id": 8344055, "user_type": "registered", "profile_image": "https://graph.facebook.com/1500126920010375/picture?type=large", "display_name": "Beast77", "link": "https://stackoverflow.com/users/8344055/beast77"}, "edited": false, "score": 0, "creation_date": 1571044648, "post_id": 49606439, "comment_id": 103096477, "body": "@Beast77 Please use normal writeToParcel and readFromParcel Methods for same as is used without Parcelize keyword."}, {"owner": {"reputation": 862, "user_id": 3408685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8e1e9b09a530720587d2a1e820fd224?s=128&d=identicon&r=PG", "display_name": "frapeti", "link": "https://stackoverflow.com/users/3408685/frapeti"}, "edited": false, "score": 0, "creation_date": 1572147643, "post_id": 49606439, "comment_id": 103468649, "body": "@Tarun why would you use Parcelize for then?"}], "tags": [], "owner": {"reputation": 5882, "user_id": 4598169, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42f0c50fc77c68c1b4bc96740d701fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/4598169/tarun"}, "is_accepted": true, "score": 74, "last_activity_date": 1522650951, "creation_date": 1522650951, "answer_id": 49606439, "question_id": 49606163, "link": "https://stackoverflow.com/questions/49606163/rawvalue-annotation-is-not-applicable-to-target-value-parameter/49606439#49606439", "title": "@RawValue annotation is not applicable to target value parameter", "body": "<p>I got the answer to this problem from <code>Kotlang</code> community.\nAnswer is you can not annotate the variable itself \nbut you have to annotate its type.</p>\n\n<p>So annotating in the following way removes the error :</p>\n\n<pre><code> var tokenType: @RawValue Any? = null\n</code></pre>\n\n<p>Though do not forget to write serilizer/deserializer for this property manually as it will not be done automatically.</p>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 5882, "user_id": 4598169, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42f0c50fc77c68c1b4bc96740d701fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/4598169/tarun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11183, "favorite_count": 2, "accepted_answer_id": 49606439, "answer_count": 1, "score": 31, "last_activity_date": 1608296614, "creation_date": 1522649342, "last_edit_date": 1608296614, "question_id": 49606163, "link": "https://stackoverflow.com/questions/49606163/rawvalue-annotation-is-not-applicable-to-target-value-parameter", "title": "@RawValue annotation is not applicable to target value parameter", "body": "<p>I am trying to <code>Parcelize</code> a data class.\nIt contains one parameter :</p>\n<pre><code>var tokenType: Any? = null\n</code></pre>\n<p>For this variable compiler complains at compile time that :</p>\n<pre><code>Type is not directly supported by Parcelize. \nAnnotate the parameter with @RawValue if you want it to be serialized via \nwriteValue()\n</code></pre>\n<p>Though the error is self-explanatory, when I add @RawValue like this:</p>\n<pre><code>@RawValue var tokenType: Any? = null\n</code></pre>\n<p>it gives an error :</p>\n<pre><code>This annotation is not applicable to the target value parameter\n</code></pre>\n<p>Any hints on how to handle this?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1522650629, "post_id": 49606134, "comment_id": 86219413, "body": "The string is zero length. Empty. Nothing in it. Nada. Niente. Nulla."}, {"owner": {"reputation": 167, "user_id": 1788205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f935555f1c1d8a111c25c4083c9f910b?s=128&d=identicon&r=PG", "display_name": "MARSH", "link": "https://stackoverflow.com/users/1788205/marsh"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1522650748, "post_id": 49606134, "comment_id": 86219472, "body": "what condition we should apply i have applied string.length greater than zero then also its not working  @EJP"}, {"owner": {"reputation": 892, "user_id": 3351697, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c10bb1b770829238f0f34ca53b81d78d?s=128&d=identicon&r=PG&f=1", "display_name": "Afgan", "link": "https://stackoverflow.com/users/3351697/afgan"}, "edited": false, "score": 0, "creation_date": 1522651120, "post_id": 49606134, "comment_id": 86219608, "body": "are you getting SOBE at line nameLetter += if (index == -1) &quot;&quot; else str.substring(index + 1)[0]"}, {"owner": {"reputation": 167, "user_id": 1788205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f935555f1c1d8a111c25c4083c9f910b?s=128&d=identicon&r=PG", "display_name": "MARSH", "link": "https://stackoverflow.com/users/1788205/marsh"}, "reply_to_user": {"reputation": 892, "user_id": 3351697, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c10bb1b770829238f0f34ca53b81d78d?s=128&d=identicon&r=PG&f=1", "display_name": "Afgan", "link": "https://stackoverflow.com/users/3351697/afgan"}, "edited": false, "score": 0, "creation_date": 1522651325, "post_id": 49606134, "comment_id": 86219683, "body": "yes ejectly i am getting there only @Afgan"}, {"owner": {"reputation": 892, "user_id": 3351697, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c10bb1b770829238f0f34ca53b81d78d?s=128&d=identicon&r=PG&f=1", "display_name": "Afgan", "link": "https://stackoverflow.com/users/3351697/afgan"}, "edited": false, "score": 0, "creation_date": 1522651497, "post_id": 49606134, "comment_id": 86219750, "body": "index + 1 causes problem, because if you string length 2 [0,1] . suppose  your index value is 1 then index + 1 -&gt; would be 2 which which is not present, hence it will throw SOBE"}, {"owner": {"reputation": 167, "user_id": 1788205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f935555f1c1d8a111c25c4083c9f910b?s=128&d=identicon&r=PG", "display_name": "MARSH", "link": "https://stackoverflow.com/users/1788205/marsh"}, "reply_to_user": {"reputation": 892, "user_id": 3351697, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c10bb1b770829238f0f34ca53b81d78d?s=128&d=identicon&r=PG&f=1", "display_name": "Afgan", "link": "https://stackoverflow.com/users/3351697/afgan"}, "edited": false, "score": 0, "creation_date": 1522651653, "post_id": 49606134, "comment_id": 86219809, "body": "so how i will handle it can you please tell me Solution @Afgan"}, {"owner": {"reputation": 892, "user_id": 3351697, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c10bb1b770829238f0f34ca53b81d78d?s=128&d=identicon&r=PG&f=1", "display_name": "Afgan", "link": "https://stackoverflow.com/users/3351697/afgan"}, "edited": false, "score": 0, "creation_date": 1522651731, "post_id": 49606134, "comment_id": 86219835, "body": "Try to use Index directly instead of index+1 -&gt; str.substring(index)"}, {"owner": {"reputation": 167, "user_id": 1788205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f935555f1c1d8a111c25c4083c9f910b?s=128&d=identicon&r=PG", "display_name": "MARSH", "link": "https://stackoverflow.com/users/1788205/marsh"}, "edited": false, "score": 0, "creation_date": 1522652184, "post_id": 49606134, "comment_id": 86220021, "body": "but if we will use that one then i am not able to get first charter after Space  like if we  Shaun Marsh then it should print S M"}, {"owner": {"reputation": 2159, "user_id": 6183182, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh6.googleusercontent.com/-XSZxct_alBc/AAAAAAAAAAI/AAAAAAAAAgw/l470-GF6nW0/photo.jpg?sz=128", "display_name": "swayamraina", "link": "https://stackoverflow.com/users/6183182/swayamraina"}, "edited": false, "score": 0, "creation_date": 1522653225, "post_id": 49606134, "comment_id": 86220388, "body": "can you tell me the input for which this is happening?"}, {"owner": {"reputation": 167, "user_id": 1788205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f935555f1c1d8a111c25c4083c9f910b?s=128&d=identicon&r=PG", "display_name": "MARSH", "link": "https://stackoverflow.com/users/1788205/marsh"}, "reply_to_user": {"reputation": 2159, "user_id": 6183182, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh6.googleusercontent.com/-XSZxct_alBc/AAAAAAAAAAI/AAAAAAAAAgw/l470-GF6nW0/photo.jpg?sz=128", "display_name": "swayamraina", "link": "https://stackoverflow.com/users/6183182/swayamraina"}, "edited": false, "score": 0, "creation_date": 1522653704, "post_id": 49606134, "comment_id": 86220562, "body": "(#) or (9989892) or &quot;Basi&quot; like this @swayamraina"}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 1788205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f935555f1c1d8a111c25c4083c9f910b?s=128&d=identicon&r=PG", "display_name": "MARSH", "link": "https://stackoverflow.com/users/1788205/marsh"}, "edited": false, "score": 0, "creation_date": 1522654788, "post_id": 49607160, "comment_id": 86220992, "body": "i added same thing u can see  in my code @swayamraina"}, {"owner": {"reputation": 2159, "user_id": 6183182, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh6.googleusercontent.com/-XSZxct_alBc/AAAAAAAAAAI/AAAAAAAAAgw/l470-GF6nW0/photo.jpg?sz=128", "display_name": "swayamraina", "link": "https://stackoverflow.com/users/6183182/swayamraina"}, "reply_to_user": {"reputation": 167, "user_id": 1788205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f935555f1c1d8a111c25c4083c9f910b?s=128&d=identicon&r=PG", "display_name": "MARSH", "link": "https://stackoverflow.com/users/1788205/marsh"}, "edited": false, "score": 0, "creation_date": 1522654860, "post_id": 49607160, "comment_id": 86221019, "body": "the second update I have mentioned. Please try that too. <code>if (index == str.length-1)</code>"}, {"owner": {"reputation": 167, "user_id": 1788205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f935555f1c1d8a111c25c4083c9f910b?s=128&d=identicon&r=PG", "display_name": "MARSH", "link": "https://stackoverflow.com/users/1788205/marsh"}, "edited": false, "score": 0, "creation_date": 1522659079, "post_id": 49607160, "comment_id": 86222785, "body": "but i am not getting after space first charter i am getting like this like Saun Marsh then its printing SN @swayamraina"}, {"owner": {"reputation": 2159, "user_id": 6183182, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh6.googleusercontent.com/-XSZxct_alBc/AAAAAAAAAAI/AAAAAAAAAgw/l470-GF6nW0/photo.jpg?sz=128", "display_name": "swayamraina", "link": "https://stackoverflow.com/users/6183182/swayamraina"}, "reply_to_user": {"reputation": 167, "user_id": 1788205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f935555f1c1d8a111c25c4083c9f910b?s=128&d=identicon&r=PG", "display_name": "MARSH", "link": "https://stackoverflow.com/users/1788205/marsh"}, "edited": false, "score": 0, "creation_date": 1522659844, "post_id": 49607160, "comment_id": 86223152, "body": "What should be the output for <code>Saun Marsh</code>?"}, {"owner": {"reputation": 2159, "user_id": 6183182, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh6.googleusercontent.com/-XSZxct_alBc/AAAAAAAAAAI/AAAAAAAAAgw/l470-GF6nW0/photo.jpg?sz=128", "display_name": "swayamraina", "link": "https://stackoverflow.com/users/6183182/swayamraina"}, "reply_to_user": {"reputation": 167, "user_id": 1788205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f935555f1c1d8a111c25c4083c9f910b?s=128&d=identicon&r=PG", "display_name": "MARSH", "link": "https://stackoverflow.com/users/1788205/marsh"}, "edited": false, "score": 0, "creation_date": 1522662783, "post_id": 49607160, "comment_id": 86224513, "body": "Please check now, @MARSH"}], "tags": [], "owner": {"reputation": 2159, "user_id": 6183182, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh6.googleusercontent.com/-XSZxct_alBc/AAAAAAAAAAI/AAAAAAAAAgw/l470-GF6nW0/photo.jpg?sz=128", "display_name": "swayamraina", "link": "https://stackoverflow.com/users/6183182/swayamraina"}, "is_accepted": false, "score": 0, "last_activity_date": 1522662144, "last_edit_date": 1522662144, "creation_date": 1522654526, "answer_id": 49607160, "question_id": 49606134, "link": "https://stackoverflow.com/questions/49606134/java-lang-stringindexoutofboundsexception-length-0-index-0/49607160#49607160", "title": "java.lang.StringIndexOutOfBoundsException: length=0; index=0", "body": "<p>For the example string \"Basi\"\n<code>If (index &gt; 0)</code> part of the code handles the error. the index variable returns -1 if <code>\" \"</code> is not found.<br>\nFor the string <code>\"Basi \"</code>, you should update the code<br>\n<code>if (index == -1)</code> <br>to<br>\n<code>if (index == str.length-1)</code>\n<br><br>\nFor getting an extra space, you can update the <code>else</code> part to <br><br>\n<code>\" \" + str.substring(index + 1)[0]</code> i.e. <br><br>\n<code>if (index == str.length-1) \"\" else \" \" + str.substring(index + 1)[0]</code></p>\n"}], "owner": {"reputation": 167, "user_id": 1788205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f935555f1c1d8a111c25c4083c9f910b?s=128&d=identicon&r=PG", "display_name": "MARSH", "link": "https://stackoverflow.com/users/1788205/marsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1549, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522662144, "creation_date": 1522649177, "last_edit_date": 1522653820, "question_id": 49606134, "link": "https://stackoverflow.com/questions/49606134/java-lang-stringindexoutofboundsexception-length-0-index-0", "title": "java.lang.StringIndexOutOfBoundsException: length=0; index=0", "body": "<pre><code> fun getNameAlias(str: String): String {\n\n        var nameLetter = \"\"\n        if (!TextUtils.isEmpty(str)) {\n            nameLetter = str!![0].toString()\n        }\n        if (!TextUtils.isEmpty(str.split(\"\\\\s \")[0])) {\n            var index: Int = str.indexOf(\" \")\n            if (index &gt; 0) {\n\n                nameLetter += if (index == -1) \"\" else str.substring(index + 1)[0]\n            }\n        }\n        return nameLetter\n    }\n</code></pre>\n\n<p>this is  my function to get first charter and last character  when i pass String first character before space and first character  after space but for some character which is blank or  special character i am getting </p>\n\n<blockquote>\n  <p>java.lang.StringIndexOutOfBoundsException: length=0; index=0 </p>\n</blockquote>\n\n<p>how to fix this issue? i tried  <code>if (index &gt; 0) { }</code>  but still same  issue .</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "edited": false, "score": 2, "creation_date": 1522646429, "post_id": 49605696, "comment_id": 86218192, "body": "show your full xml"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1522646689, "post_id": 49605696, "comment_id": 86218246, "body": "show your xml please"}, {"owner": {"reputation": 205, "user_id": 8683396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf4a0461f97de1dc64f19eb57f83ebf?s=128&d=identicon&r=PG&f=1", "display_name": "Siddharth Patel", "link": "https://stackoverflow.com/users/8683396/siddharth-patel"}, "edited": false, "score": 0, "creation_date": 1522646934, "post_id": 49605696, "comment_id": 86218317, "body": "Try <code>android:visibility=&quot;invisible&quot;</code>"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 205, "user_id": 8683396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf4a0461f97de1dc64f19eb57f83ebf?s=128&d=identicon&r=PG&f=1", "display_name": "Siddharth Patel", "link": "https://stackoverflow.com/users/8683396/siddharth-patel"}, "edited": false, "score": 0, "creation_date": 1522646971, "post_id": 49605696, "comment_id": 86218329, "body": "@SiddharthPatel  <code>invisible</code> occupy AREA"}, {"owner": {"reputation": 36, "user_id": 9582403, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PHjhu26Bz58/AAAAAAAAAAI/AAAAAAAAAAQ/0kTt62RjMeY/photo.jpg?sz=128", "display_name": "Keating Smith", "link": "https://stackoverflow.com/users/9582403/keating-smith"}, "edited": false, "score": 0, "creation_date": 1522647322, "post_id": 49605696, "comment_id": 86218437, "body": "I post full xml"}, {"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "edited": false, "score": 0, "creation_date": 1522650595, "post_id": 49605696, "comment_id": 86219405, "body": "notify data set changed after changing the visibility"}], "answers": [{"comments": [{"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 2, "creation_date": 1522646521, "post_id": 49605711, "comment_id": 86218207, "body": "It doesn&#39;t matter if textSize is 36 or 1000 . if the view is set as gone it should be gone"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9064724"}, "is_accepted": false, "score": 0, "last_activity_date": 1522646588, "last_edit_date": 1522646588, "creation_date": 1522646438, "answer_id": 49605711, "question_id": 49605696, "link": "https://stackoverflow.com/questions/49605696/set-view-gone-but-still-take-up-space/49605711#49605711", "title": "Set View Gone but still take up space", "body": "<p>Try this:</p>\n\n<pre><code>&lt;TextView\nandroid:id=\"@+id/year_of_group_memory\"\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"\nandroid:visibility=\"gone\"/&gt;\n</code></pre>\n\n<p>you hide this <code>TextView</code> but youre putting <code>android:textSize=\"36sp\"</code> that it shouldn't have and other margins and <code>app:layout_constraintBottom_toTopOf=</code></p>\n"}, {"comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1522647081, "post_id": 49605775, "comment_id": 86218366, "body": "Kindly check this answer."}, {"owner": {"reputation": 2832, "user_id": 810770, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/68dc9c285c6eba4be6e95db2e66ab86c?s=128&d=identicon&r=PG&f=1", "display_name": "squeeish", "link": "https://stackoverflow.com/users/810770/squeeish"}, "edited": false, "score": 0, "creation_date": 1522647618, "post_id": 49605775, "comment_id": 86218526, "body": "Turn on <code>Show layout bounds</code> in developer options in your emulator. Verify that <code>year_of_group_memory</code> is indeed being shown when it shouldn&#39;t be. If it is, then verify that <code>yearSet.contains(yearOfMemory)</code> is logically correct"}, {"owner": {"reputation": 36, "user_id": 9582403, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PHjhu26Bz58/AAAAAAAAAAI/AAAAAAAAAAQ/0kTt62RjMeY/photo.jpg?sz=128", "display_name": "Keating Smith", "link": "https://stackoverflow.com/users/9582403/keating-smith"}, "edited": false, "score": 0, "creation_date": 1522648050, "post_id": 49605775, "comment_id": 86218639, "body": "yearSet is  HashSet&lt;String&gt;()"}, {"owner": {"reputation": 2832, "user_id": 810770, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/68dc9c285c6eba4be6e95db2e66ab86c?s=128&d=identicon&r=PG&f=1", "display_name": "squeeish", "link": "https://stackoverflow.com/users/810770/squeeish"}, "edited": false, "score": 0, "creation_date": 1522649714, "post_id": 49605775, "comment_id": 86219130, "body": "Btw, your data content ;)"}, {"owner": {"reputation": 2832, "user_id": 810770, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/68dc9c285c6eba4be6e95db2e66ab86c?s=128&d=identicon&r=PG&f=1", "display_name": "squeeish", "link": "https://stackoverflow.com/users/810770/squeeish"}, "edited": false, "score": 0, "creation_date": 1522650309, "post_id": 49605775, "comment_id": 86219301, "body": "I&#39;ve added an alternative solution. <code>ConstraintLayout</code> might be imposing some constraints that you are not aware of."}], "tags": [], "owner": {"reputation": 2832, "user_id": 810770, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/68dc9c285c6eba4be6e95db2e66ab86c?s=128&d=identicon&r=PG&f=1", "display_name": "squeeish", "link": "https://stackoverflow.com/users/810770/squeeish"}, "is_accepted": false, "score": 2, "last_activity_date": 1522651808, "last_edit_date": 1522651808, "creation_date": 1522646772, "answer_id": 49605775, "question_id": 49605696, "link": "https://stackoverflow.com/questions/49605696/set-view-gone-but-still-take-up-space/49605775#49605775", "title": "Set View Gone but still take up space", "body": "<p>Is your code in a RecyclerView adapter? If so, you must explicitly hide it due to the view recycling mechanism. Always have explicit if-else statements when hiding/showing views.</p>\n\n<pre><code>val yearOfMemory = SimpleDateFormat(\"yyyy\").format(memory.timeOfMemory)\nif (!yearSet.contains(yearOfMemory)) {\n  holder.yearOfMemories.visibility = View.VISIBLE\n  holder.yearOfMemories.text = yearOfMemory\n  yearSet.add(yearOfMemory)\n} else {\n  holder.yearOfMemories.visibility = View.GONE\n}\n</code></pre>\n\n<p>Also try replacing your viewholder contents with the following xml:</p>\n\n<pre><code>&lt;RelativeLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/year_of_group_memory\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"8dp\"\n        android:textSize=\"36sp\"\n        android:lines=\"2\"\n        tools:text=\"2017\"\n        /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/month_and_day_of_memory\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_toRightOf=\"@id/year_of_group_memory\"\n        android:layout_alignBottom=\"@id/year_of_group_memory\"\n        android:layout_margin=\"8dp\"\n        android:textSize=\"18sp\"\n        tools:text=\"03-11\"\n        /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/content_of_memory\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_toRightOf=\"@id/month_and_day_of_memory\"\n        android:layout_alignTop=\"@id/month_and_day_of_memory\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginRight=\"8dp\"\n        android:textSize=\"18sp\"\n        tools:text=\"\u7b2c\u4e00\u6b21\u63a5\u543b\"\n        /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>If you use this, you have to set the height of <code>yearOfMemories</code> to 0 or <code>wrap_content</code> accordingly.</p>\n"}], "owner": {"reputation": 36, "user_id": 9582403, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PHjhu26Bz58/AAAAAAAAAAI/AAAAAAAAAAQ/0kTt62RjMeY/photo.jpg?sz=128", "display_name": "Keating Smith", "link": "https://stackoverflow.com/users/9582403/keating-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 663, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1522651808, "creation_date": 1522646285, "last_edit_date": 1522648427, "question_id": 49605696, "link": "https://stackoverflow.com/questions/49605696/set-view-gone-but-still-take-up-space", "title": "Set View Gone but still take up space", "body": "<p>Here is my Code that is used in RecyleViewAdapater!</p>\n\n<pre><code>val yearOfMemory = SimpleDateFormat(\"yyyy\").format(memory.timeOfMemory)\n// if year not show before, show it.\nif (!yearSet.contains(yearOfMemory)) {\n  holder.yearOfMemories.visibility = View.VISIBLE\n  holder.yearOfMemories.text = yearOfMemory\n  yearSet.add(yearOfMemory)\n}\n</code></pre>\n\n<p>Here is my ReccleView XML.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        tools:layout_editor_absoluteY=\"81dp\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/month_and_day_of_memory\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:textSize=\"18sp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@+id/content_of_memory\"\n            app:layout_constraintHorizontal_bias=\"0.8\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/content_of_memory\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:textSize=\"18sp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.6\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/year_of_group_memory\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:textSize=\"36sp\"\n            android:visibility=\"gone\"\n            app:layout_constraintBottom_toTopOf=\"@+id/month_and_day_of_memory\"\n            app:layout_constraintEnd_toStartOf=\"@+id/month_and_day_of_memory\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/5hEtrm.png\" alt=\"enter image description here\"></p>\n\n<p>Like this, I already have set TextView(@+id/year_of_group_memory) Gone, but it still takes up space at the second item,and it don't take up at the third item.</p>\n\n<p>I have tried all kinds. So, how can I fix it.?</p>\n\n<p>I turn on the layout bounds.</p>\n\n<p><img src=\"https://i.stack.imgur.com/q64U6.png\" alt=\"enter image description here\"></p>\n\n<p>So,how can cut off the below height,now?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1522642805, "post_id": 49604887, "comment_id": 86217394, "body": "You are misunderstanding the link. It does say <code>startActivityForResult</code> cannot be called on Context, which includes not only Activities but also Services, ApplicationContexts, Applications, and so on. It does say <code>startActivityForResult</code> should be called on Activities. However, AppCompatActivity is also an Activity. The conversion is unnecessary, and using <code>mContext</code> is useless. Just remove <code>(mContext as Activity).</code> in front of the <code>startActivityForResult</code>."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1522646700, "post_id": 49604887, "comment_id": 86218251, "body": "But an error hint is displayed  -    None of the following functions can be called with the arguments supplied. startActivityForResult(Intent!, Int) defined in ui.UIMain startActivityForResult(Intent!, Int, Bundle?) defined in ui.UIMain when I use <code>startActivityForResult&lt;UIAddEditBackup&gt;(requestCode = 1, &quot;id&quot; to 2L)</code>"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1522646722, "post_id": 49604887, "comment_id": 86218254, "body": "I have import org.jetbrains.anko.*"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1522646756, "post_id": 49604887, "comment_id": 86218263, "body": "startActivity&lt;UIAddEditBackup&gt;(&quot;id&quot; to 2L)  is OK"}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1522647219, "post_id": 49604887, "comment_id": 86218402, "body": "<a href=\"https://kotlinlang.org/docs/reference/functions.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/functions.html</a> <i>When a function is called with both positional and named arguments, all the positional arguments should be placed before the first named one. For example, the call f(1, y = 2) is allowed, but f(x = 1, 2) is not.</i>"}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1522647336, "post_id": 49604887, "comment_id": 86218440, "body": "You should use <code>startActivityForResult&lt;UIAddEditBackup&gt;(1, &quot;id&quot; to 2L)</code> or <code>startActivityForResult&lt;UIAddEditBackup&gt;(requestCode = 1, params=*arrayOf(&quot;id&quot; to 2L))</code> OK. I think this is the answer."}], "answers": [{"tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": true, "score": 6, "last_activity_date": 1522648028, "last_edit_date": 1592644375, "creation_date": 1522647543, "answer_id": 49605862, "question_id": 49604887, "link": "https://stackoverflow.com/questions/49604887/why-cant-i-use-startactivityforresult-in-kotlin/49605862#49605862", "title": "Why can&#39;t I use startActivityForResult in Kotlin?", "body": "<p>According to <a href=\"https://kotlinlang.org/docs/reference/functions.html#named-arguments\" rel=\"noreferrer\">Kotlin Offical Doc on named arguments</a>,</p>\n<blockquote>\n<p>When a function is called with both positional and named arguments, all the positional arguments should be placed before the first named one. For example, the call <code>f(1, y = 2)</code> is allowed, but <code>f(x = 1, 2)</code> is not.</p>\n</blockquote>\n<p>You are using <code>startActivityForResult&lt;UIAddEditBackup&gt;(requestCode = 1, &quot;id&quot; to 2L)</code>. This is the case.</p>\n<p>So, fix like these:</p>\n<pre><code>startActivityForResult&lt;UIAddEditBackup&gt;(1, &quot;id&quot; to 2L)\n</code></pre>\n<p>or</p>\n<pre><code>startActivityForResult&lt;UIAddEditBackup&gt;(requestCode = 1, params = *arrayOf(&quot;id&quot; to 2L))\n</code></pre>\n<p>(Prototype of Anko startActivityForResult is <code>inline fun &lt;reified T: Activity&gt; Activity.startActivityForResult(requestCode: Int, vararg params: Pair&lt;String, Any?&gt;)</code>).</p>\n<p>Referring (<a href=\"https://kotlinlang.org/docs/reference/functions.html#named-arguments\" rel=\"noreferrer\">the same page above</a>)</p>\n<blockquote>\n<p>Variable number of arguments (vararg) can be passed in the named form by using the spread operator:</p>\n<p><code>fun foo(vararg strings: String) { /* ... */ }</code></p>\n<p><code>foo(strings = *arrayOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))</code></p>\n</blockquote>\n<p><code>(mContext as Activity).</code> is not necessary in this case.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4272, "favorite_count": 0, "accepted_answer_id": 49605862, "answer_count": 1, "score": 4, "last_activity_date": 1522648028, "creation_date": 1522639229, "question_id": 49604887, "link": "https://stackoverflow.com/questions/49604887/why-cant-i-use-startactivityforresult-in-kotlin", "title": "Why can&#39;t I use startActivityForResult in Kotlin?", "body": "<p>I hope to open a activity for result in Kotlin.</p>\n\n<p>I have read the artical <a href=\"https://stackoverflow.com/questions/45225642/cant-call-startactivityforresult-in-anko\">Can&#39;t Call StartActivityForResult in Anko</a></p>\n\n<p>So I convert AppCompatActivity as  Activity</p>\n\n<p>But the code  <code>(mContext as Activity).startActivityForResult&lt;UIAddEditBackup&gt;(requestCode = 1, \"id\" to 2L)</code>  doesn't run yet, why?</p>\n\n<p><strong>My Code</strong></p>\n\n<pre><code>class UIMain : AppCompatActivity() {\n\n    private lateinit var mContext: Context\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.layout_main)\n         mContext = this\n         btnExit.setOnClickListener {\n            startActivity&lt;UIAddEditBackup&gt;(\"id\" to 2L)  //OK\n            (mContext as Activity).startActivityForResult&lt;UIAddEditBackup&gt;(requestCode = 1, \"id\" to 2L) //Error          \n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-tablayout"], "comments": [{"owner": {"reputation": 2266, "user_id": 3221380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zaKk5.png?s=128&g=1", "display_name": "Sgdva", "link": "https://stackoverflow.com/users/3221380/sgdva"}, "edited": false, "score": 1, "creation_date": 1522636425, "post_id": 49604540, "comment_id": 86216296, "body": "If you downvote, care to explain please"}, {"owner": {"reputation": 2361, "user_id": 2318843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3548448b5b1c7f1a37fb65dc46996ea?s=128&d=identicon&r=PG", "display_name": "RadekJ", "link": "https://stackoverflow.com/users/2318843/radekj"}, "edited": false, "score": 0, "creation_date": 1522816902, "post_id": 49604540, "comment_id": 86293352, "body": "can you post stacktrace which you are getting ?"}, {"owner": {"reputation": 2266, "user_id": 3221380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zaKk5.png?s=128&g=1", "display_name": "Sgdva", "link": "https://stackoverflow.com/users/3221380/sgdva"}, "reply_to_user": {"reputation": 2361, "user_id": 2318843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3548448b5b1c7f1a37fb65dc46996ea?s=128&d=identicon&r=PG", "display_name": "RadekJ", "link": "https://stackoverflow.com/users/2318843/radekj"}, "edited": false, "score": 0, "creation_date": 1522897968, "post_id": 49604540, "comment_id": 86336956, "body": "@RadekJ I just edited my post with it"}, {"owner": {"reputation": 41130, "user_id": 457982, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ke5Ts.jpg?s=128&g=1", "display_name": "Vikas Patidar", "link": "https://stackoverflow.com/users/457982/vikas-patidar"}, "edited": false, "score": 1, "creation_date": 1522910146, "post_id": 49604540, "comment_id": 86340965, "body": "IllegalStateException means your are using <code>textViewFragment_3</code> even before Fragment UI created, you should use it in <code>onViewCreated</code> method"}, {"owner": {"reputation": 383, "user_id": 7540265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/063381c62cdf0a312317fe70590f3b4a?s=128&d=identicon&r=PG", "display_name": "Danger", "link": "https://stackoverflow.com/users/7540265/danger"}, "reply_to_user": {"reputation": 41130, "user_id": 457982, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ke5Ts.jpg?s=128&g=1", "display_name": "Vikas Patidar", "link": "https://stackoverflow.com/users/457982/vikas-patidar"}, "edited": false, "score": 0, "creation_date": 1522923278, "post_id": 49604540, "comment_id": 86349446, "body": "Sgdva, above is your answer by @VikasPatidar . Initialize all view elements of the fragments in their onCreateView() method, then return."}, {"owner": {"reputation": 2266, "user_id": 3221380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zaKk5.png?s=128&g=1", "display_name": "Sgdva", "link": "https://stackoverflow.com/users/3221380/sgdva"}, "reply_to_user": {"reputation": 383, "user_id": 7540265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/063381c62cdf0a312317fe70590f3b4a?s=128&d=identicon&r=PG", "display_name": "Danger", "link": "https://stackoverflow.com/users/7540265/danger"}, "edited": false, "score": 0, "creation_date": 1522935459, "post_id": 49604540, "comment_id": 86358244, "body": "All the elements are created by the  objPageAdapter!!.addFragments function which is handled by the page adapter class. @Danger Yes! That was the only work around or perhaps the only solution as now.  However I don&#39;t understand why is not working on the main class since when adapter class creates the fragments also creates the UI, after these lines <code>ViewPagerMain.adapter = objPageAdapter                 TabLayoutMain.setupWithViewPager(ViewPagerMain)</code> should be accesible -as happens with fragmentFirst and Second-"}, {"owner": {"reputation": 253, "user_id": 4547911, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-xi2Mp_OzBns/AAAAAAAAAAI/AAAAAAAALZY/4mvPy09xir8/photo.jpg?sz=128", "display_name": "Julian Os", "link": "https://stackoverflow.com/users/4547911/julian-os"}, "edited": false, "score": 1, "creation_date": 1523055982, "post_id": 49604540, "comment_id": 86417848, "body": "Afaik the latter is a syntactical issue. You can&#39;t have multiple statements in the when statement&#39;s &quot;case&quot; without curly brackets: x -&gt; // single statement, 0 -&gt; { // multiple statements }"}], "answers": [{"comments": [{"owner": {"reputation": 2266, "user_id": 3221380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zaKk5.png?s=128&g=1", "display_name": "Sgdva", "link": "https://stackoverflow.com/users/3221380/sgdva"}, "edited": false, "score": 0, "creation_date": 1522899685, "post_id": 49643138, "comment_id": 86337369, "body": "Thanks! It is helpful indeed, however, I can&#39;t call the textviews on page selected"}, {"owner": {"reputation": 2266, "user_id": 3221380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zaKk5.png?s=128&g=1", "display_name": "Sgdva", "link": "https://stackoverflow.com/users/3221380/sgdva"}, "edited": false, "score": 0, "creation_date": 1522983919, "post_id": 49643138, "comment_id": 86380632, "body": "Sadly, it causes a null pointer exception too. It works on the first fragment, but when I scroll to the second one causes a nullpointer exception but now on the first one -the one that created itself-. I&#39;ll edit my post so you see it."}, {"owner": {"reputation": 2266, "user_id": 3221380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zaKk5.png?s=128&g=1", "display_name": "Sgdva", "link": "https://stackoverflow.com/users/3221380/sgdva"}, "edited": false, "score": 0, "creation_date": 1522991491, "post_id": 49643138, "comment_id": 86382599, "body": "2 problems arise as now: 1- <code>kotlin.UninitializedPropertyAccessException: lateinit property fr has not been initialized</code> I tried it above the fun as private and inside the function as lateinit only, both crashed. 2-I can&#39;t assign the textview in the when, it keeps saying to declare it before, which I tried but it doesn&#39;t do anything"}, {"owner": {"reputation": 2266, "user_id": 3221380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zaKk5.png?s=128&g=1", "display_name": "Sgdva", "link": "https://stackoverflow.com/users/3221380/sgdva"}, "edited": false, "score": 0, "creation_date": 1523060280, "post_id": 49643138, "comment_id": 86418804, "body": "It works! However when changing from one item to the other one it &quot;bugs&quot; and doesn&#39;t change the position (int) element at first. Should I open a new question? Or do you think it&#39;s related to this?"}], "tags": [], "owner": {"reputation": 1059, "user_id": 4458354, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003857071120/picture?type=large", "display_name": "Rahul Chaudhary", "link": "https://stackoverflow.com/users/4458354/rahul-chaudhary"}, "is_accepted": true, "score": 4, "last_activity_date": 1522994192, "last_edit_date": 1522994192, "creation_date": 1522818075, "answer_id": 49643138, "question_id": 49604540, "link": "https://stackoverflow.com/questions/49604540/textview-nullpointer-exception-when-casted-in-similar-conditions/49643138#49643138", "title": "textView Nullpointer exception when casted in similar conditions", "body": "<p>Instead of accessing textView in onCreate use onPageChangeListener event</p>\n\n<pre><code> private lateinit var fr: Fragment;\nprivate lateinit var viewPager: ViewPager\nprivate lateinit var textView1:TextView\nprivate lateinit var textView2:TextView\nprivate lateinit var textView3:TextView\noverride fun onPageSelected(position: Int) {\n    when (position) {\n        0 -&gt;{\n            fr = getSupportFragmentManager().findFragmentByTag(\"android:switcher:\" + R.id.viewPager + \":\" + viewPager.getCurrentItem())\n\n            textView1 = fr.textViewFragment_1\n        }\n\n\n\n        1-&gt; {\n            fr = getSupportFragmentManager().findFragmentByTag(\"android:switcher:\" + R.id.viewPager + \":\" + viewPager.getCurrentItem())\n\n            textView2 = fr.textViewFragment_2\n\n            textView2.text = \"rr\"\n        }\n\n\n\n        2-&gt; {\n            fr = getSupportFragmentManager().findFragmentByTag(\"android:switcher:\" + R.id.viewPager + \":\" + viewPager.getCurrentItem())\n\n            textView3= fr.textViewFragment_3\n\n            textView3.text = \"tt\"\n        }\n\n    }\n}\n\noverride fun onPageScrollStateChanged(state: Int) {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n}\n\n\noverride fun onCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {\n    super.onCreate(savedInstanceState, persistentState)\n    setContentView(R.layout.test_layout)\n\n\n}\n</code></pre>\n\n<p>use these lines in onPageselected to get instance of current visible fragment </p>\n\n<pre><code>Fragment fr = getSupportFragmentManager().findFragmentByTag(\u201candroid:switcher:\u201d + R.id.pager + \u201c:\u201d + mViewPager.getCurrentItem());\n</code></pre>\n\n<p>now you can access textview but check if fr instancOf Fragment1\ntextView1=fr.findViewById(textview1Id) and so os..........</p>\n"}], "owner": {"reputation": 2266, "user_id": 3221380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zaKk5.png?s=128&g=1", "display_name": "Sgdva", "link": "https://stackoverflow.com/users/3221380/sgdva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 49643138, "answer_count": 1, "score": -1, "last_activity_date": 1523057139, "creation_date": 1522635844, "last_edit_date": 1523057139, "question_id": 49604540, "link": "https://stackoverflow.com/questions/49604540/textview-nullpointer-exception-when-casted-in-similar-conditions", "title": "textView Nullpointer exception when casted in similar conditions", "body": "<p><strong><em>Background</em></strong>\n<br>I am populating the textview and imageview dynamically for standarized fragments.<br>\nInstead of creating 6 Fragment Layouts and activities, I created 3 and I am setting text/images as needed. This way I would be able to save time and memory instead of creating one fragment per activity when the only thing that changes is the text in the textView and imageView.\n<br><strong><em>Problem</em></strong>\n<br>When it reaches the Fragment 3, I get a nullpointer when the implementation is the same as FragmenFirst,FragmentSecond and I do not why.\n<br><strong><em>Code</em></strong>\n<br>Page adapter which populates the tablayout </p>\n\n<pre><code>package com.company.app\n\nimport android.support.v4.app.Fragment \nimport android.support.v4.app.FragmentManager \nimport android.support.v4.app.FragmentPagerAdapter\n\n\nclass CustomPageAdapter(FragManager:FragmentManager): FragmentPagerAdapter(FragManager) {\n    var fragManagerItems:ArrayList&lt;Fragment&gt; = ArrayList()\n    var fragManagerTitles:ArrayList&lt;String&gt; = ArrayList()\n    fun removeFragments()\n    {\n    fragManagerItems.clear()\n    }\n    fun addFragments(fragmentItem:Fragment,fragmentTitle:String)\n    {\n    fragManagerItems.add(fragmentItem)\n    fragManagerTitles.add(fragmentTitle)\n\n    override fun getItem(position: Int): Fragment {\n        return fragManagerItems[position]\n    }\n\n    override fun getCount(): Int {\n        return fragManagerItems.size\n    }\n    override fun getPageTitle(position: Int): CharSequence {\n        return fragManagerTitles[position]\n    }\n</code></pre>\n\n<p>Fragments are standard, nothing have changed</p>\n\n<pre><code>class FragmentFirst : Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment \"\n\n        return inflater!!.inflate(R.layout.fragment_fragment_first, container, false)\n\n    }\n</code></pre>\n\n<p>Second</p>\n\n<pre><code>class FragmentSecond : Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        return inflater!!.inflate(R.layout.fragment_fragment_second, container, false)\n    }\n\n\n}\n</code></pre>\n\n<p>Third</p>\n\n<pre><code>class FragmentThird : Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        return inflater!!.inflate(R.layout.fragment_fragment_third, container, false)\n    }\n\n\n}\n</code></pre>\n\n<p>Portion where Main Activity change the textViews of each</p>\n\n<pre><code>import android.os.Bundle import android.support.design.widget.NavigationView import android.support.design.widget.TabLayout import android.support.v4.view.GravityCompat import android.support.v7.app.ActionBarDrawerToggle import android.support.v7.app.AppCompatActivity import android.view.Menu import android.view.MenuItem import com.company.app.fragments.* import kotlinx.android.synthetic.main.activity_main.* import kotlinx.android.synthetic.main.app_bar_main.* import kotlinx.android.synthetic.main.content_appbar_main.* import kotlinx.android.synthetic.main.fragment_fragment_first.* import kotlinx.android.synthetic.main.fragment_fragment_second.* import kotlinx.android.synthetic.main.fragment_fragment_third.*\n\nclass MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n    var objPageAdapter:CustomPageAdapter?=null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar) \n     ...\n\noverride fun onNavigationItemSelected(item: MenuItem): Boolean {\n        // Handle navigation view item clicks here.\n        objPageAdapter = CustomPageAdapter(supportFragmentManager)\n\n        when (item.itemId) {\n            R.id.nav_fruits -&gt; {\n                objPageAdapter!!.removeFragments()\n                objPageAdapter!!.addFragments(FragmentFirst(),getString(R.string.txt_tab_fruits_Element_1))\n                objPageAdapter!!.addFragments(FragmentSecond(),getString(R.string.txt_tab_fruits_Element_2))\n                objPageAdapter!!.addFragments(FragmentThird(),getString(R.string.txt_tab_fruits_Element_3))\n                ViewPagerMain.adapter = objPageAdapter\n                TabLayoutMain.setupWithViewPager(ViewPagerMain)\n                this.textViewFragment_1.text = getString(R.string.txt_txtView_fruits_Element_1)\n                this.textViewFragment_2.text = getString(R.string.txt_txtView_fruits_Element_2)\n                this.textViewFragment_3.text = getString(R.string.txt_txtView_fruits_Element_3)\n\n...\n</code></pre>\n\n<p>Error</p>\n\n<p><a href=\"https://i.stack.imgur.com/5OFsX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5OFsX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Xml Fragment 2 and 3 as sample</p>\n\n<p>Fragment 2</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; &lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".fragments.FragmentSecond\"&gt;\n\n\n    &lt;ImageView\n        android:id=\"@+id/imageViewFragment_2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_gravity=\"center_horizontal\"\n        android:src=\"@drawable/ic_banana\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textViewFragment_2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"261dp\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_alignParentStart=\"true\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Fragment 3</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".fragments.FragmentThird\"&gt;\n\n\n\n    &lt;ImageView\n        android:id=\"@+id/imageViewFragment_3\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_gravity=\"center_horizontal\"\n        android:src=\"@drawable/ic_banana\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textViewFragment_3\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"261dp\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_alignParentStart=\"true\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><br><strong><em>Approaches used</em></strong>\n<br> 1. Clear/Rebuild Project \n<br> 2. Shutdown/Restart PC</p>\n\n<p><strong><em>EDIT:Per request, I paste the stacktrace that I am getting</em></strong></p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: com.company.app, PID: 6790\n                  java.lang.IllegalStateException: this.textViewFragment_3 must not be null\n                      at com.company.app.MainActivity.onNavigationItemSelected(MainActivity.kt:111)\n                      at android.support.design.widget.NavigationView$1.onMenuItemSelected(NavigationView.java:154)\n                      at android.support.v7.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:822)\n                      at android.support.v7.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:171)\n                      at android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:973)\n                      at android.support.design.internal.NavigationMenuPresenter$1.onClick(NavigationMenuPresenter.java:342)\n                      at android.view.View.performClick(View.java:6294)\n                      at android.view.View$PerformClick.run(View.java:24770)\n                      at android.os.Handler.handleCallback(Handler.java:790)\n                      at android.os.Handler.dispatchMessage(Handler.java:99)\n                      at android.os.Looper.loop(Looper.java:164)\n                      at android.app.ActivityThread.main(ActivityThread.java:6494)\n                      at java.lang.reflect.Method.invoke(Native Method)\n                      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n\n<p><strong><em>Edit2: To Address Rahul answer</em></strong>\n<br>Embedded code in the Main Activity</p>\n\n<pre><code>...\nViewPagerMain.addOnPageChangeListener(object : ViewPager.OnPageChangeListener {\n                override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {}\n                private lateinit var fr: Fragment\n                private lateinit var viewPager: ViewPager\n                private lateinit var textView1:TextView\n                private lateinit var textView2:TextView\n                private lateinit var textView3:TextView\n                override fun onPageSelected(position: Int) {\n                    when (position) {\n                        0 -&gt;{\n                            fr = getSupportFragmentManager().findFragmentByTag(\"android:switcher:\" + R.id.ViewPagerMain + \":\" + ViewPagerMain.getCurrentItem())\n                            textView1 = fr.textViewFragment_1\n                            textView1.text= \"test1\"\n                        }\n                        1 -&gt;{\n                            fr = getSupportFragmentManager().findFragmentByTag(\"android:switcher:\" + R.id.ViewPagerMain + \":\" + ViewPagerMain.getCurrentItem())\n                            textView2 = fr.textViewFragment_2\n                            textView2.text= \"test2\"\n                        }\n                        2 -&gt;{\n                            fr = getSupportFragmentManager().findFragmentByTag(\"android:switcher:\" + R.id.ViewPagerMain + \":\" + ViewPagerMain.getCurrentItem())\n                            textView3.text= \"test3\"\n                        }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "grid"], "answers": [{"tags": [], "owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "is_accepted": true, "score": 0, "last_activity_date": 1522684700, "creation_date": 1522684700, "answer_id": 49614512, "question_id": 49604174, "link": "https://stackoverflow.com/questions/49604174/automatic-resizing-of-buttons-in-grid-layout-using-xmlandroid-studio/49614512#49614512", "title": "Automatic resizing of buttons in grid layout using xml(android studio)", "body": "<p>There are a few ways to do it.</p>\n\n<ol>\n<li><p>Use Constraint Layout. It's more efficient and modern way. It requires some knowledge to use, but once you get it you'll be able to do any layout in a very efficient way. <a href=\"https://stackoverflow.com/questions/42846261/trying-to-replicate-gridlayout-column-alignment-with-constraintlayout\">Here</a> you can find how to do a grid layout with it. The main concepts you'll need to use are <a href=\"https://developer.android.com/training/constraint-layout/index.html#constrain-to-a-guideline\" rel=\"nofollow noreferrer\">guidelines and barriers</a> </p></li>\n<li><p>You can use weight concept in the Grid Layout. <a href=\"https://stackoverflow.com/questions/10016343/gridlayout-not-gridview-how-to-stretch-all-children-evenly/30245753#30245753\">GridLayout (not GridView) how to stretch all children evenly</a></p></li>\n<li><p>Use a LinearLayout with <code>layout_height=match_parent</code> and vertical orientation.\nInside it place 5 LinearLayouts with a horizontal orientation, <code>layout_width=math_parent</code>, and <code>weight=1</code>, each representing a row of buttons.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 301, "user_id": 9595700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2WX0.jpg?s=128&g=1", "display_name": "Vishal Dobariya", "link": "https://stackoverflow.com/users/9595700/vishal-dobariya"}, "is_accepted": false, "score": 2, "last_activity_date": 1523088195, "creation_date": 1523088195, "answer_id": 49705265, "question_id": 49604174, "link": "https://stackoverflow.com/questions/49604174/automatic-resizing-of-buttons-in-grid-layout-using-xmlandroid-studio/49705265#49705265", "title": "Automatic resizing of buttons in grid layout using xml(android studio)", "body": "<p><strong>try this</strong> </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    &gt;\n\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"0\"\n        android:textStyle=\"bold\"\n        android:textSize=\"40sp\"\n        android:gravity=\"right\"/&gt;\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"\n        &gt;\n       &lt;Button\n           android:layout_width=\"0dp\"\n           android:layout_height=\"wrap_content\"\n           android:layout_weight=\"1\"\n           android:background=\"#D7F8D9\"\n           android:text=\"7\"\n           android:layout_margin=\"1dp\"\n           android:textSize=\"20sp\"\n           /&gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#D7F8D9\"\n            android:text=\"8\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#D7F8D9\"\n            android:text=\"9\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#2AF9CD\"\n            android:text=\"+\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"\n        &gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#D7F8D9\"\n            android:text=\"4\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#D7F8D9\"\n            android:text=\"5\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#D7F8D9\"\n            android:text=\"6\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#2AF9CD\"\n            android:text=\"-\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"\n        &gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#D7F8D9\"\n            android:text=\"1\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#D7F8D9\"\n            android:text=\"2\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#D7F8D9\"\n            android:text=\"3\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#2AF9CD\"\n            android:text=\"*\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"\n        android:weightSum=\"4\"\n        &gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"3\"\n            android:background=\"#D7F8D9\"\n            android:text=\"0\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#2AF9CD\"\n            android:text=\"/\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"\n        &gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#2AF9CD\"\n            android:text=\".\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:background=\"#2AF9CD\"\n            android:text=\"C\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n        &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"2\"\n            android:background=\"#2AF9CD\"\n            android:text=\"=\"\n            android:layout_margin=\"1dp\"\n            android:textSize=\"20sp\"\n            /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;  \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9583899, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Domagoj", "link": "https://stackoverflow.com/users/9583899/domagoj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "accepted_answer_id": 49614512, "answer_count": 2, "score": 0, "last_activity_date": 1523088195, "creation_date": 1522631632, "last_edit_date": 1522631934, "question_id": 49604174, "link": "https://stackoverflow.com/questions/49604174/automatic-resizing-of-buttons-in-grid-layout-using-xmlandroid-studio", "title": "Automatic resizing of buttons in grid layout using xml(android studio)", "body": "<p>I'm currently creating simple android app(Calculator). I don't want excessive empty space below buttons(buttons need to cover the whole screen and resize automatically on various screen sizes).</p>\n\n<p>Images: </p>\n\n<p>Design:\n  <a href=\"https://i.stack.imgur.com/CCMiF.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CCMiF.jpg</a></p>\n\n<p>XML:\n  <a href=\"https://i.stack.imgur.com/Wpvsf.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Wpvsf.jpg</a></p>\n"}, {"tags": ["android", "kotlin", "android-gradle-plugin", "parcelable", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 673, "user_id": 1861769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/as7Ol.jpg?s=128&g=1", "display_name": "JavierSA", "link": "https://stackoverflow.com/users/1861769/javiersa"}, "is_accepted": true, "score": 1, "last_activity_date": 1522618457, "creation_date": 1522618457, "answer_id": 49602834, "question_id": 49602783, "link": "https://stackoverflow.com/questions/49602783/parcelcreator-lint-suppression-not-working/49602834#49602834", "title": "ParcelCreator lint suppression not working", "body": "<p>Put the next code inside <code>android { }</code> in the file <code>build.gradle</code> of your App.</p>\n\n<pre><code>androidExtensions {\n    experimental = true\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 587, "user_id": 1663453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d82b6fba5bd6673dfe7ed0112aa8ccf?s=128&d=identicon&r=PG", "display_name": "Sierisimo", "link": "https://stackoverflow.com/users/1663453/sierisimo"}, "edited": false, "score": 0, "creation_date": 1528811720, "post_id": 49602846, "comment_id": 88643090, "body": "Do you have a link for the bug? It seems like it&#39;s happening still in <code>1.2.41</code>"}], "tags": [], "owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "is_accepted": false, "score": 0, "last_activity_date": 1522618524, "creation_date": 1522618524, "answer_id": 49602846, "question_id": 49602783, "link": "https://stackoverflow.com/questions/49602783/parcelcreator-lint-suppression-not-working/49602846#49602846", "title": "ParcelCreator lint suppression not working", "body": "<p>This is a known issue you can ignore and it's fixed with kotlin 1.2.31, so just update kotlin in your gradle file</p>\n"}], "owner": {"reputation": 121, "user_id": 8789149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/829c25602ea9d5999fa0c4c289d9853c?s=128&d=identicon&r=PG&f=1", "display_name": "user8789149", "link": "https://stackoverflow.com/users/8789149/user8789149"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 681, "favorite_count": 0, "accepted_answer_id": 49602834, "answer_count": 2, "score": 3, "last_activity_date": 1522618524, "creation_date": 1522617915, "last_edit_date": 1522618295, "question_id": 49602783, "link": "https://stackoverflow.com/questions/49602783/parcelcreator-lint-suppression-not-working", "title": "ParcelCreator lint suppression not working", "body": "<p>I'm trying to add Parcelize implementation but it doesn't seem to be working.</p>\n\n<p>This is whaat my project's gradle looks like:</p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.2.30'\n\nrepositories {\n    maven { url \"https://jitpack.io\" }\n    google()\n    jcenter()    }\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.1.0'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n\n    //Realm as ORM\n    classpath \"io.realm:realm-gradle-plugin:4.3.3\"\n}\n}\n\nallprojects {\nrepositories {\n    maven { url \"https://jitpack.io\" }\n    google()\n    jcenter()\n}\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n\n<p>App's build gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\napply plugin: 'realm-android'\n\nandroid {\ncompileSdkVersion 27\ndefaultConfig {\n    applicationId \"com.----.----\"\n    minSdkVersion 21\n    targetSdkVersion 27\n    multiDexEnabled true\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\nkapt {\ngenerateStubs = true\n}\n\ndependencies {\n\ndef supportVersion = '27.1.0'\n\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:' + supportVersion\nimplementation 'com.android.support:preference-v14:' + supportVersion\nimplementation 'com.android.support:support-v4:' + supportVersion\nimplementation 'com.android.support:design:' + supportVersion\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\ntestImplementation 'junit:junit:4.12'\n//noinspection GradleCompatible\nandroidTestImplementation 'com.android.support.test:runner:1.0.1'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nimplementation \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n// Dagger 2\nimplementation 'com.google.dagger:dagger:2.14.1'\nkapt 'com.google.dagger:dagger-compiler:2.14.1'\n\n// Retrofit\nimplementation 'com.squareup.retrofit2:retrofit:2.4.0'\nimplementation 'com.squareup.retrofit2:adapter-rxjava2:2.4.0'\nimplementation 'com.squareup.retrofit2:converter-moshi:2.4.0'\nimplementation 'com.squareup.moshi:moshi-kotlin:1.5.0'\n\n//Rx\nimplementation 'io.reactivex.rxjava2:rxandroid:2.0.2'\nimplementation 'io.reactivex.rxjava2:rxjava:2.1.9'\nimplementation 'io.reactivex.rxjava2:rxkotlin:2.2.0'\n\n//Glide\nimplementation 'com.github.bumptech.glide:glide:4.6.1'\nimplementation 'jp.wasabeef:glide-transformations:3.1.1'\nkapt 'com.github.bumptech.glide:compiler:4.6.1'\n\n//Recycler view, Card view\nimplementation 'com.android.support:recyclerview-v7:27.1.0'\nimplementation 'com.android.support:cardview-v7:27.1.0'\n\n//video player\nimplementation 'com.google.android.exoplayer:exoplayer:r2.5.1'\n\n//circle image view\nimplementation 'de.hdodenhof:circleimageview:2.2.0'\n\n//page indicator\nimplementation 'com.romandanylyk:pageindicatorview:1.0.0'\n\n//spinner\nimplementation 'com.jaredrummler:material-spinner:1.2.4'\n\n}\nrepositories {\nmavenCentral()\n}\n</code></pre>\n\n<p>And this is the model where I am trying to implement Parcelize:</p>\n\n<pre><code>@SuppressLint(\"ParcelCreator\")\n@Parcelize\ndata class StatusMessagesSender(@Json(name = \"firstName\")\n                            val firstName: String?,\n                            @Json(name = \"lastName\")\n                            val lastName: String?,\n                            @Json(name = \"pushDeviceToken\")\n                            val pushDeviceToken: String?,\n                            @Json(name = \"address\")\n                            val address: String?,\n                            @Json(name = \"phoneNumber\")\n                            val phoneNumber: String?,\n                            @Json(name = \"name\")\n                            val name: String?,\n                            @Json(name = \"userId\")\n                            val userId: String?,\n                            @Json(name = \"age\")\n                            val age: Int?,\n                            @Json(name = \"email\")\n                            val email: String?): Parcelable\n</code></pre>\n\n<p>So even if I add this annotation @SuppressLint(\"ParcelCreator\"), nothing changes.. It still gives me the same error without it:</p>\n\n<p>\"Class 'StatusMessagesSender' is not abstract and does not implement abstract member public abstract fun writeToParcel(dest: Parcel!, flags: Int): Unit defined in android.os.Parcelable\"</p>\n\n<p>Anyone can tell if I did something wrong here?</p>\n"}, {"tags": ["android", "kotlin", "popup"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8841227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43d9fb0747e14be8323343aaca93cb83?s=128&d=identicon&r=PG&f=1", "display_name": "Lassley", "link": "https://stackoverflow.com/users/8841227/lassley"}, "edited": false, "score": 0, "creation_date": 1522618915, "post_id": 49602698, "comment_id": 86213006, "body": "Thanks so much, looks like that&#39;s what the problem was! I appreciate the help"}], "tags": [], "owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "is_accepted": true, "score": 1, "last_activity_date": 1522617370, "creation_date": 1522617370, "answer_id": 49602698, "question_id": 49602676, "link": "https://stackoverflow.com/questions/49602676/android-popup-black-screen/49602698#49602698", "title": "Android popup black screen", "body": "<p>Because you're instantiating a new DisplayMetrics.  That's not what you want, you want to get the current display metrics.  Try  <code>getResources().getDisplayMetrics();</code> </p>\n"}], "owner": {"reputation": 25, "user_id": 8841227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43d9fb0747e14be8323343aaca93cb83?s=128&d=identicon&r=PG&f=1", "display_name": "Lassley", "link": "https://stackoverflow.com/users/8841227/lassley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 49602698, "answer_count": 1, "score": 0, "last_activity_date": 1522617370, "creation_date": 1522617175, "last_edit_date": 1522617316, "question_id": 49602676, "link": "https://stackoverflow.com/questions/49602676/android-popup-black-screen", "title": "Android popup black screen", "body": "<p>I am very new to android development, and am trying to have a button open a new screen as a sort of popup. However, when the button is pressed, an all black screen is opened. This happens even though my .xml resource file that I am opening is not a black screen. I followed a tutorial for the code, so I am not 100% sure of it all.</p>\n\n<p>Here is the code that the button activates:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.popup_language)\n\n    var langDM = DisplayMetrics()\n    var width = langDM.widthPixels\n    var height = langDM.heightPixels\n\n    getWindow().setLayout((width*.8).toInt(), (height*.8).toInt())\n}\n</code></pre>\n\n<p>As you can see, I am trying to have the popup take up less than the full screen. The black screen that comes up is the entire screen.</p>\n\n<p>Let me know if I need to give more info on the .xml or can clarify anything else. Thanks for any and all help!</p>\n"}, {"tags": ["android", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 2, "creation_date": 1522617471, "post_id": 49602609, "comment_id": 86212600, "body": "Use <code>startWith ( ProfileModel.UpdateInProgress() as ProfileModel )</code>."}, {"owner": {"reputation": 838, "user_id": 4840115, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f415f711278c3b35aa48b3771d9674e?s=128&d=identicon&r=PG&f=1", "display_name": "JP Lipata", "link": "https://stackoverflow.com/users/4840115/jp-lipata"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1522618188, "post_id": 49602609, "comment_id": 86212802, "body": "@akarnokd That worked!"}], "owner": {"reputation": 838, "user_id": 4840115, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f415f711278c3b35aa48b3771d9674e?s=128&d=identicon&r=PG&f=1", "display_name": "JP Lipata", "link": "https://stackoverflow.com/users/4840115/jp-lipata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 491, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522617258, "creation_date": 1522616688, "last_edit_date": 1522617258, "question_id": 49602609, "link": "https://stackoverflow.com/questions/49602609/nothing-executes-after-startwith-operator-in-rxjava", "title": "Nothing executes after startWith operator in RxJava", "body": "<p>Trying to follow Jake Wharton's example in <a href=\"https://www.youtube.com/watch?v=0IKHxjkgop4\" rel=\"nofollow noreferrer\">Managing State with RxJava</a></p>\n\n<p>My code works fine <strong>without</strong> the <code>startWith</code> operator, but as soon as I add it, only the <code>startWith</code> item is emitted, and the rest of the chain does not execute.</p>\n\n<p>Here's the calling function:</p>\n\n<pre><code>compositeDisposable.add(\n            Observable\n                .just(myUpdateProfileEvent)\n                .compose(update())\n                .subscribe({ state.value = it }, { Timber.e(it) })\n)\n</code></pre>\n\n<p>And my transformer:</p>\n\n<pre><code>fun update(): ObservableTransformer&lt;UpdateProfileEvent, ProfileModel&gt; {\n    return ObservableTransformer {\n        it.flatMap {\n            api\n                .updateUser( \u2026 user params \u2026)\n                .subscribeOn(Schedulers.io())\n                .doOnNext { saveUser(it) }\n                .map { ProfileModel.UpdateSuccessful(it) as ProfileModel }\n                .onErrorReturn { ProfileModel.UpdateError(it) as ProfileModel }\n                .observeOn(AndroidSchedulers.mainThread())\n                .startWith { ProfileModel.UpdateInProgress() as ProfileModel } &lt;--- This is the line in question\n        }\n    }\n</code></pre>\n\n<p>If I remove the <code>.startWith</code> line, everything executes as expected.</p>\n\n<p>However, after adding <code>.startWith</code>, only <code>ProfileModel.UpdateInProgress()</code> is emitted and nothing else after that -- <code>api.updateUser()</code>, etc. is never executed.</p>\n\n<p>Help! </p>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin", "admob"], "answers": [{"tags": [], "owner": {"reputation": 1134, "user_id": 9543983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039f139bbe639fb31015fdfaf4f8e006?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/9543983/jay"}, "is_accepted": false, "score": 0, "last_activity_date": 1572713347, "last_edit_date": 1572713347, "creation_date": 1522995856, "answer_id": 49686641, "question_id": 49602385, "link": "https://stackoverflow.com/questions/49602385/my-ad-mob-unit-wont-work-although-the-test-ad-works/49686641#49686641", "title": "My Ad Mob Unit won&#39;t work, although the test ad works", "body": "<p>Try with this:</p>\n\n<pre><code>val adRequest = AdRequest.Builder()\n    .addTestDevice(\"FDA90AA627BE640EF1DDD475EE720EDA\")\n    .build();\n</code></pre>\n\n<p>Also please share error code.</p>\n"}], "owner": {"reputation": 1, "user_id": 9583309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OfdgC_CSQzk/AAAAAAAAAAI/AAAAAAAAANY/L74rzwb2rmU/photo.jpg?sz=128", "display_name": "LORDCFG X", "link": "https://stackoverflow.com/users/9583309/lordcfg-x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572713347, "creation_date": 1522614923, "last_edit_date": 1522997898, "question_id": 49602385, "link": "https://stackoverflow.com/questions/49602385/my-ad-mob-unit-wont-work-although-the-test-ad-works", "title": "My Ad Mob Unit won&#39;t work, although the test ad works", "body": "<p>When I switch to test ad ad unit, it works, when I switch back to my ad mob unit (referring to Rewarded Video Ad), nothing appears.</p>\n\n<p>Banner works, so is the Interstitial, Rewarded Video doesn't work, I've waited for 2 days already.</p>\n\n<p>I tried with the test ad of google, it works, when I add mine, it doesn't work, even though I added my test device, still nothing works.</p>\n\n<p>My source:</p>\n\n<pre><code>package com.example.h1xpc.litecoinvault    \nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.View\nimport android.widget.TextView\nimport com.google.android.gms.ads.*\n\nimport com.google.android.gms.ads.reward.RewardItem\nimport com.google.android.gms.ads.reward.RewardedVideoAd\nimport com.google.android.gms.ads.reward.RewardedVideoAdListener\n\nclass MainActivity : AppCompatActivity(), RewardedVideoAdListener {\n    private lateinit var mRewardedVideoAd: RewardedVideoAd\n    private var mText: TextView? = null\n    private var currentLevel: Int = 0\n    private var start_level:Int= 0\n    private lateinit var mInterstitialAd: InterstitialAd\n    private lateinit var mAdView: AdView\n    val request = AdRequest.Builder()\n            .addTestDevice(\"FDA90AA627BE640EF1DDD475EE720EDA\")  \n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        currentLevel = start_level.toInt()\n\n        mText = findViewById&lt;View&gt;(R.id.fx) as TextView\n\n        val adView = AdView(this)\n        adView.adSize = AdSize.BANNER\n        adView.adUnitId = \"ca-app-pub-1423729077793422/2760428620\"\n\n\n//For the ads\n        MobileAds.initialize(this, \"ca-app-pub-1423729077793422~2794990168\")\n\n        mAdView = findViewById(R.id.adView)\n        val adRequest = AdRequest.Builder().build()\n        mAdView.loadAd(adRequest)   \n\n        mRewardedVideoAd = MobileAds.getRewardedVideoAdInstance(this)\n        mRewardedVideoAd.rewardedVideoAdListener = this\n\n        loadRewardedVideoAd()   \n\n        //Second Ad \n\n    }\n\n    private fun loadRewardedVideoAd() {\n        mRewardedVideoAd.loadAd(\"ca-app-pub-1423729077793422/5883353784\",\n                AdRequest.Builder().build())\n    }\n\n    fun startVideoAd(view: View) {\n\n        if (mRewardedVideoAd.isLoaded) {\n            mRewardedVideoAd.show()\n        }\n    }\n\n    override fun onRewardedVideoAdLoaded() {\n\n    }\n\n    override fun onRewardedVideoAdOpened() {\n\n    }\n\n    override fun onRewardedVideoStarted() {\n\n    }\n\n    override fun onRewardedVideoAdClosed() {\n\n        loadRewardedVideoAd()\n\n    }\n\n    override fun onRewarded(rewardItem: RewardItem) {\n\n        mText!!.text = \"COINS:\" + (++currentLevel)\n\n    }\n    override fun onRewardedVideoAdLeftApplication() {    \n    }\n\n    override fun onRewardedVideoAdFailedToLoad(i: Int) {    \n    }\n\n    override fun onPause() {\n        mRewardedVideoAd.pause(this)\n        super.onPause()\n    }\n\n    override fun onResume() {\n\n        mRewardedVideoAd.resume(this)\n        super.onResume()\n    }\n\n    override fun onDestroy() {\n        mRewardedVideoAd.destroy(this)\n        super.onDestroy()\n    }\n\n    override fun onRewardedVideoCompleted() {    \n\n    }    \n}\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1522614518, "post_id": 49602284, "comment_id": 86211840, "body": "You could use Maven or Gradle to compile both in one project"}], "answers": [{"tags": [], "owner": {"reputation": 27290, "user_id": 16959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SlC7g.jpg?s=128&g=1", "display_name": "Jason Sperske", "link": "https://stackoverflow.com/users/16959/jason-sperske"}, "is_accepted": false, "score": 1, "last_activity_date": 1522614435, "creation_date": 1522614435, "answer_id": 49602320, "question_id": 49602284, "link": "https://stackoverflow.com/questions/49602284/does-the-kotlin-compiler-compile-java-files/49602320#49602320", "title": "Does the Kotlin compiler compile java files?", "body": "<p>By itself it does not, however one of the requirements to run the Kotlin compiler (according to its documentation <a href=\"https://github.com/JetBrains/kotlin\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin</a>) is the JDK, so if you have Kotlin you also have <code>javac</code></p>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 3310713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665765a5df1348a4fdb50b2e201ebea5?s=128&d=identicon&r=PG&f=1", "display_name": "Gana", "link": "https://stackoverflow.com/users/3310713/gana"}, "edited": false, "score": 1, "creation_date": 1522615969, "post_id": 49602345, "comment_id": 86212196, "body": "Another question: Does the Kotlin compiler compile my Kotlin files to Java bytecode or is there Kotlin bytecode as well? And do you know any good books about it?"}, {"owner": {"reputation": 2667, "user_id": 3358488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6804ecef4a62a5536c875a22733d6594?s=128&d=identicon&r=PG&f=1", "display_name": "user118967", "link": "https://stackoverflow.com/users/3358488/user118967"}, "edited": false, "score": 0, "creation_date": 1544941476, "post_id": 49602345, "comment_id": 94448970, "body": "Both Java and Kotlin compile to the same type of bytecode, the JVM bytecode."}], "tags": [], "owner": {"reputation": 23502, "user_id": 175070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7266ccba60891b8e94000b6d0004e1?s=128&d=identicon&r=PG", "display_name": "Mike Strobel", "link": "https://stackoverflow.com/users/175070/mike-strobel"}, "is_accepted": true, "score": 10, "last_activity_date": 1522614982, "last_edit_date": 1522614982, "creation_date": 1522614625, "answer_id": 49602345, "question_id": 49602284, "link": "https://stackoverflow.com/questions/49602284/does-the-kotlin-compiler-compile-java-files/49602345#49602345", "title": "Does the Kotlin compiler compile java files?", "body": "<p>No, <code>kotlinc</code> compiles only Kotlin files (<code>.kt</code>).  A mixed-language project requires combining both <code>kotlinc</code> and <code>javac</code>.  If the references flow only one way, e.g., if Java code references Kotlin code and not the other way around, then the compilation order is pretty easy to figure out.  In that situation, you would compile the Kotlin code first, then include the output in the classpath to <code>javac</code> when compiling the Java code.</p>\n\n<p>If the two are more intertwined, it becomes a little more complicated.  Looking at <a href=\"https://discuss.kotlinlang.org/t/compiling-mixed-java-and-kotlin-files-on-the-command-line/1553/2\" rel=\"noreferrer\">this thread</a>, it appears you'll need to run <code>kotlinc</code> first, passing in any referenced Java source files (as the <code>.class</code> files won't be available yet).  The class files built by <code>kotlinc</code> can then be included in the classpath when you compile your Java files. </p>\n"}], "owner": {"reputation": 101, "user_id": 3310713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665765a5df1348a4fdb50b2e201ebea5?s=128&d=identicon&r=PG&f=1", "display_name": "Gana", "link": "https://stackoverflow.com/users/3310713/gana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3301, "favorite_count": 0, "accepted_answer_id": 49602345, "answer_count": 2, "score": 5, "last_activity_date": 1522678305, "creation_date": 1522614153, "last_edit_date": 1522678305, "question_id": 49602284, "link": "https://stackoverflow.com/questions/49602284/does-the-kotlin-compiler-compile-java-files", "title": "Does the Kotlin compiler compile java files?", "body": "<p>I have a project with both .java and .kt files. Does the Kotlin compiler compiles both .java and .kt files or does it only compile my .kt files? </p>\n"}]