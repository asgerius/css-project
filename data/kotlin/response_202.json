[{"tags": ["kotlin", "android-livedata", "mutablelivedata", "mutablelist"], "answers": [{"tags": [], "owner": {"reputation": 2563, "user_id": 958580, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CVawG.png?s=128&g=1", "display_name": "Carel", "link": "https://stackoverflow.com/users/958580/carel"}, "is_accepted": false, "score": 3, "last_activity_date": 1542893436, "last_edit_date": 1542893436, "creation_date": 1542882784, "answer_id": 53428953, "question_id": 53421708, "link": "https://stackoverflow.com/questions/53421708/wrapping-mutablelist-in-either-livedata-or-mutablelivedata/53428953#53428953", "title": "Wrapping MutableList in either LiveData or MutableLiveData", "body": "<h2>LiveData vs. MutableLiveData</h2>\n\n<p>I was not sure whether I had to wrap my <code>MutableList</code> as <code>LiveData&lt;MutablList&lt;POJO&gt;&gt;</code> or as <code>MutableLiveData&lt;MutableList&lt;POJO&gt;&gt;</code>, where <code>POJO</code> is an instance of either a database entity or a data class proxying one or more database entities. <a href=\"https://stackoverflow.com/a/46814399/958580\">Sneh Pandaya</a> succinctly explains the difference between the two classes. I was also unsure as to how to instantiate them. The following creates the instance but the <code>value</code> of <code>keyset</code> is initialized as <code>null</code> and one must set an initial value for the <code>MutableLiveData</code>.</p>\n\n<pre><code>class Model(application : Application) : AndroidViewModel(application)\n{ ...\n  val keyset  : LiveData&lt;MutableList&lt;Key&gt;&gt;\n  init { ...\n    keyset = MutableLiveData&lt;MutableList&lt;Key&gt;&gt;() // Initialized as null\n    keyset.value = mutableListOf&lt;Key&gt;()          // Assign an empty list\n  ... }\n... }\n</code></pre>\n\n<p>There is a nuance in <code>MutableLiveData</code>, it does not formally encapsulate the data. That is when it wraps an item it does not expose the wrapped items methods as it's own emitting notifications as the wrapped item is modified. It merely tracks when the wrapped item has been swapped out (See  <a href=\"https://stackoverflow.com/a/52075248/958580\">Gznlt</a>). <a href=\"https://stackoverflow.com/a/50545043/958580\">Samnang CHEA</a> provides a nice method for supporting this.</p>\n\n<h2>Location, Location, Location, ...</h2>\n\n<p>I was unsure of where to formally place the <code>keyset</code> attribute. The <a href=\"https://developer.android.com/topic/libraries/architecture/livedata#observe_livedata_objects\" rel=\"nofollow noreferrer\">Android documentation</a> provides the following information; as it turns out I was on the correct path.</p>\n\n<blockquote>\n  <h3>Update LiveData objects</h3>\n  \n  <p>LiveData has no publicly available methods to update the stored data.\n    The MutableLiveData class exposes the setValue(T) and postValue(T) methods publicly and you must use these if you need to edit the value stored in a LiveData object.\n    Usually MutableLiveData is used in the ViewModel and then the ViewModel only exposes immutable LiveData objects to the observers.</p>\n</blockquote>\n\n<h2>Queries</h2>\n\n<p>What I have not worked out yet is how to trigger an update of the <code>values</code>.</p>\n"}], "owner": {"reputation": 2563, "user_id": 958580, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CVawG.png?s=128&g=1", "display_name": "Carel", "link": "https://stackoverflow.com/users/958580/carel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5955, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542893436, "creation_date": 1542841701, "last_edit_date": 1542882851, "question_id": 53421708, "link": "https://stackoverflow.com/questions/53421708/wrapping-mutablelist-in-either-livedata-or-mutablelivedata", "title": "Wrapping MutableList in either LiveData or MutableLiveData", "body": "<p>What is the recommended means of wrapping a <code>MutableList</code> within either <code>LiveData</code> or <code>MutableLiveData</code> such that one can modify the list and observe the changes it undergoes ?</p>\n\n<p>I have some fairly short tables (&lt;20 items) in Room (It caches the values retrieved from a server). I would like to retain a mutable subset of these items; to be used as filters in queries for other, larger, tables. My thinking was to assign a <code>MutableList</code> to the model class in my application and make it observable by wrapping this class in either <code>MutableLiveData</code> or <code>LiveData</code>. Then by updating the items in these selections I could trigger the necessary queries on the large tables.</p>\n\n<p>Presently my code has the following structure, I've stripped it down in my question to what I thought was relevant. Eventually I would like to use multiple <code>keyset</code> in more complex queries. My simplified model file is as follows,</p>\n\n<pre><code>class Model(application : Application) : AndroidViewModel(application)\n{\n  val keys    : LiveData&lt;List&lt;Key&gt;&gt;\n  val keyset  : LiveData&lt;MutableList&lt;Key&gt;&gt;\n  val values  : LiveData&lt;List&lt;Value&gt;&gt;\n  init {\n    keys   = repository.keys\n    values = repository.values\n    keyset = mutableListOf&lt;Key&gt;() // I'm not entirely sure how to instantiate LiveData&lt;MutableList&lt;Key&gt;&gt;\n  }\n}\n</code></pre>\n\n<p>it relies upon the repository,</p>\n\n<pre><code>class Repository(private val queryset : QuerySet)\n{\n   val keys   : LiveData&lt;List&lt;Key&gt;&gt;   = queryset.getKeys()\n   val values : LiveData&lt;List&lt;Value&gt;&gt; = queryset.getValues()\n}\n</code></pre>\n\n<p>Which relies upon the queryset</p>\n\n<pre><code>@Dao\nclass QuerySet(application : Application) : AndroidViewModel(application)\n{\n  @Query(\"SELECT * FROM KeyEntity\")\n  fun getKeys() : LiveData&lt;list&lt;Key&gt;&gt;\n  @Query(\"SELECT * FROM ValueEntity WHERE key in (:keys)\")\n  fun getValues(keys : MutableList&lt;Key&gt;) : LiveData&lt;list&lt;Value&gt;&gt;\n}\n</code></pre>\n\n<p>The <code>Key</code> and <code>Value</code> classes are simply the POJO for <code>KeyEntity</code> and <code>ValueEntity</code> and simply specify the same fields. </p>\n\n<p>Should I be using <code>MutableLiveData</code> or <code>LiveData</code> for this purpose ? If so how should one implement <code>keyset</code> ? Perhaps there is a more canonical manner for doing so ?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1824, "user_id": 389976, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Vmt2p.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/389976/erik"}, "edited": false, "score": 0, "creation_date": 1597095122, "post_id": 53420917, "comment_id": 112016960, "body": "Services is being deprecated in favor of WorkManager post API 29"}], "tags": [], "owner": {"reputation": 41, "user_id": 8741467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f47386f37a1be9dafc958fa8df91e938?s=128&d=identicon&r=PG&f=1", "display_name": "Dash2TheDot", "link": "https://stackoverflow.com/users/8741467/dash2thedot"}, "is_accepted": false, "score": 0, "last_activity_date": 1542836798, "creation_date": 1542836798, "answer_id": 53420917, "question_id": 53420859, "link": "https://stackoverflow.com/questions/53420859/best-approaches-to-refresh-data-periodically-in-android/53420917#53420917", "title": "Best approaches to refresh data periodically in Android", "body": "<p>You might be looking for services: <a href=\"https://developer.android.com/reference/android/app/Service\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/Service</a></p>\n\n<p>You can think of these like background processes (they're a bit different, though) These run in the background and interact with other Android components like notification manager (<a href=\"https://developer.android.com/reference/android/app/NotificationManager\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/NotificationManager</a>).</p>\n\n<p>So, essentially, you'll want to create a service to check the API every minute or so, then add a notification to the manager.</p>\n"}, {"tags": [], "owner": {"reputation": 346, "user_id": 10482491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JnVqZRNtelk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX4gNBH9YTQ_431oeBOdZGZoKKr_w/mo/photo.jpg?sz=128", "display_name": "Vladimir Gladun", "link": "https://stackoverflow.com/users/10482491/vladimir-gladun"}, "is_accepted": false, "score": 0, "last_activity_date": 1542848896, "creation_date": 1542848896, "answer_id": 53422579, "question_id": 53420859, "link": "https://stackoverflow.com/questions/53420859/best-approaches-to-refresh-data-periodically-in-android/53422579#53422579", "title": "Best approaches to refresh data periodically in Android", "body": "<p>IMHO the best approach is to build for offline: store your result in the persistent store (i.e. Room). Subscribe on the query result for your feature. Then you can use the new JetPack's WorkManager for the regular updates ( <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/workmanager/</a> ). Here is the slightly modified code snippet from the documentation:</p>\n\n<pre><code>val dataCheckBuilder =\n       PeriodicWorkRequestBuilder&lt;DataCheckWorker&gt;(10, TimeUnit.SECONDS)\n// ...if you want, you can apply constraints to the builder here...\n\n// Create the actual work object:\nval dataCheckWork = dataCheckBuilder.build()\n// Then enqueue the recurring task:\nWorkManager.getInstance().enqueue(dataCheckWork)\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 4634416, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/fbab7ef6badd82707410c39c80ce293a?s=128&d=identicon&r=PG&f=1", "display_name": "voximdo", "link": "https://stackoverflow.com/users/4634416/voximdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1542848896, "creation_date": 1542836537, "question_id": 53420859, "link": "https://stackoverflow.com/questions/53420859/best-approaches-to-refresh-data-periodically-in-android", "title": "Best approaches to refresh data periodically in Android", "body": "<p>I have two cases in which I need to update data from webserver using API in background. To obtain data on request I use okHttp and Kotlin courtines. And now I am wondering which approaches are the best, when:</p>\n\n<ol>\n<li>I have listview with data from webserver, and I want to update it, let's say every 10 secs, when application is in that certain view. (I was thinking about using for ex. handler with runnable)</li>\n<li>I want to display notification when some data will change in some certain way. In that case I think that I should use background service? </li>\n</ol>\n\n<p>With regards,</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "is_accepted": false, "score": 0, "last_activity_date": 1542842065, "creation_date": 1542842065, "answer_id": 53421762, "question_id": 53420815, "link": "https://stackoverflow.com/questions/53420815/methods-inside-onplaceselected-are-not-executed/53421762#53421762", "title": "Methods inside onPlaceSelected are not executed", "body": "<p>I set up listener inside oncreate and now all is working fine.</p>\n\n<pre><code>autocompleteFragment.setOnPlaceSelectedListener(object: PlaceSelectionListener\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542844767, "creation_date": 1542836254, "last_edit_date": 1542844767, "question_id": 53420815, "link": "https://stackoverflow.com/questions/53420815/methods-inside-onplaceselected-are-not-executed", "title": "Methods inside onPlaceSelected are not executed", "body": "<p>I'm trying to execute search method inside onPlaceSelected. Method is not executed. When I write code directly inside onPlaceSelected it works.</p>\n\n<pre><code>fun search(latLng: LatLng?){\n        dispose = weatherApiService\n                .requestHourlyWeather(latLng!!.latitude, latLng!!.longitude, client_id, client_secret)\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(\n                        {result -&gt; Log.d(\"Search result:\", result.response[0].periods[0].tempC.toString())},\n                        { error -&gt; Log.d(\"Searching error\", error.message)}\n                )\n    }\n\n\noverride fun onPlaceSelected(p0: Place?) {\n    search(p0?.latLng) //is not executed, but if I place code directly here it is working\n\n}\n</code></pre>\n\n<p>Is there a way to perform action after onPlaceSelected is called and pass just searching result? Example: wait for onPlaceSelected is called -> pass data and start searching?</p>\n"}, {"tags": ["android", "windows", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 465, "user_id": 6182948, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/486846934836956/picture?type=large", "display_name": "Koorosh Ghorbani", "link": "https://stackoverflow.com/users/6182948/koorosh-ghorbani"}, "edited": false, "score": 1, "creation_date": 1542831683, "post_id": 53419808, "comment_id": 93714084, "body": "would you share your build.gradle.kts ?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 2, "creation_date": 1542831692, "post_id": 53419808, "comment_id": 93714091, "body": "Post the actual error logs"}, {"owner": {"reputation": 63, "user_id": 3137833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53947f30a34d195204f7333abe5a5274?s=128&d=identicon&r=PG&f=1", "display_name": "Sk8eR", "link": "https://stackoverflow.com/users/3137833/sk8er"}, "edited": false, "score": 0, "creation_date": 1542834857, "post_id": 53419808, "comment_id": 93715443, "body": "edited to add error log and picture with build.gradle"}, {"owner": {"reputation": 63, "user_id": 3137833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53947f30a34d195204f7333abe5a5274?s=128&d=identicon&r=PG&f=1", "display_name": "Sk8eR", "link": "https://stackoverflow.com/users/3137833/sk8er"}, "edited": false, "score": 0, "creation_date": 1542834985, "post_id": 53419808, "comment_id": 93715492, "body": "in fact this is the project, you have to open candroid <a href=\"https://github.com/instructure/instructure-android\" rel=\"nofollow noreferrer\">github.com/instructure/instructure-android</a>"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 3137833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53947f30a34d195204f7333abe5a5274?s=128&d=identicon&r=PG&f=1", "display_name": "Sk8eR", "link": "https://stackoverflow.com/users/3137833/sk8er"}, "edited": false, "score": 0, "creation_date": 1542874327, "post_id": 53426172, "comment_id": 93727003, "body": "I will try this afternoon! Thanks in advance!"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 1, "last_activity_date": 1542873151, "creation_date": 1542873151, "answer_id": 53426172, "question_id": 53419808, "link": "https://stackoverflow.com/questions/53419808/error-compiling-kotlin-in-windows-android-studio/53426172#53426172", "title": "Error compiling kotlin in Windows / Android Studio", "body": "<p>Looks like this project uses symbolic links, which are not supported on Windows. To get past this immediate problem, you can copy build.gradle.kts from ../../buildSrc/build.gradle.kts to overwrite the file which contains this single line, but it's likely that you will encounter more problems later on.</p>\n"}], "owner": {"reputation": 63, "user_id": 3137833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53947f30a34d195204f7333abe5a5274?s=128&d=identicon&r=PG&f=1", "display_name": "Sk8eR", "link": "https://stackoverflow.com/users/3137833/sk8er"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 53426172, "answer_count": 1, "score": -1, "last_activity_date": 1542873151, "creation_date": 1542831181, "last_edit_date": 1542844808, "question_id": 53419808, "link": "https://stackoverflow.com/questions/53419808/error-compiling-kotlin-in-windows-android-studio", "title": "Error compiling kotlin in Windows / Android Studio", "body": "<p>This project it's an open source project, when I try it in Mac, it works great, but when I try to compile it in Windows I get the following error</p>\n\n<p><a href=\"https://i.stack.imgur.com/YNELW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YNELW.png\" alt=\"enter image description here\"></a></p>\n\n<p>I only have this line in build.gradle.kts</p>\n\n<pre><code>../../buildSrc/build.gradle.kts\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zmrpq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zmrpq.png\" alt=\"enter image description here\"></a>\nIf i open a new project with Kotlin in Android Studio I have no problems... any idea?</p>\n\n<p>Error log:</p>\n\n<pre><code>org.gradle.internal.exceptions.LocationAwareException: Build file 'C:\\prueba21\\candroid\\buildSrc\\build.gradle.kts' line: 1\nScript compilation errors:\n\n  Line 1: ../../buildSrc/build.gradle.kts\n          ^ Expecting an element\n\n  Line 1: ../../buildSrc/build.gradle.kts\n            ^ Unexpected tokens (use ';' to separate expressions on the same line)\n\n2 errors\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler.withKotlinCompiler(KotlinBuildScriptCompiler.kt:507)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler.compileScriptBody(KotlinBuildScriptCompiler.kt:253)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler.access$compileScriptBody(KotlinBuildScriptCompiler.kt:74)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler$loadScriptBodyClass$2.invoke(KotlinBuildScriptCompiler.kt:240)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler$loadScriptBodyClass$2.invoke(KotlinBuildScriptCompiler.kt:74)\n    at org.gradle.kotlin.dsl.provider.KotlinScriptClassloadingCache.loadScriptClass(KotlinScriptClassloadingCache.kt:64)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler.loadScriptBodyClass(KotlinBuildScriptCompiler.kt:236)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler.executeScriptBody(KotlinBuildScriptCompiler.kt:132)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler.prepareAndExecuteScriptBody(KotlinBuildScriptCompiler.kt:127)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler.access$prepareAndExecuteScriptBody(KotlinBuildScriptCompiler.kt:74)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler$compile$1.invoke(KotlinBuildScriptCompiler.kt:107)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler$compile$1.invoke(KotlinBuildScriptCompiler.kt:74)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler$asKotlinScript$1.invoke(KotlinBuildScriptCompiler.kt:121)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler$asKotlinScript$1.invoke(KotlinBuildScriptCompiler.kt:74)\n    at org.gradle.kotlin.dsl.provider.KotlinScriptPluginFactory$createScriptAction$1.invoke(KotlinScriptPluginFactory.kt:58)\n    at org.gradle.kotlin.dsl.provider.KotlinScriptPluginFactory$createScriptAction$1.invoke(KotlinScriptPluginFactory.kt:33)\n    at org.gradle.kotlin.dsl.provider.KotlinScriptPlugin.apply(KotlinScriptPlugin.kt:34)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:61)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:58)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:41)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:64)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:667)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:136)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:60)\n    at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)\n    at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:261)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:173)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n    at org.gradle.initialization.buildsrc.BuildSrcUpdateFactory.build(BuildSrcUpdateFactory.java:50)\n    at org.gradle.initialization.buildsrc.BuildSrcUpdateFactory.create(BuildSrcUpdateFactory.java:40)\n    at org.gradle.initialization.buildsrc.BuildSourceBuilder.buildBuildSrc(BuildSourceBuilder.java:98)\n    at org.gradle.initialization.buildsrc.BuildSourceBuilder.access$000(BuildSourceBuilder.java:37)\n    at org.gradle.initialization.buildsrc.BuildSourceBuilder$2.call(BuildSourceBuilder.java:75)\n    at org.gradle.initialization.buildsrc.BuildSourceBuilder$2.call(BuildSourceBuilder.java:72)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:350)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:340)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:120)\n    at org.gradle.initialization.buildsrc.BuildSourceBuilder.createBuildSourceClasspath(BuildSourceBuilder.java:72)\n    at org.gradle.initialization.buildsrc.BuildSourceBuilder.buildAndCreateClassLoader(BuildSourceBuilder.java:58)\n    at org.gradle.initialization.DefaultSettingsLoader.findSettingsAndLoadIfAppropriate(DefaultSettingsLoader.java:109)\n    at org.gradle.initialization.DefaultSettingsLoader.findAndLoadSettings(DefaultSettingsLoader.java:48)\n    at org.gradle.initialization.DefaultSettingsLoaderFactory$1.findAndLoadSettings(DefaultSettingsLoaderFactory.java:67)\n    at org.gradle.internal.composite.CompositeBuildSettingsLoader.findAndLoadSettings(CompositeBuildSettingsLoader.java:45)\n    at org.gradle.initialization.DefaultGradleLauncher$LoadBuild.run(DefaultGradleLauncher.java:240)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.initialization.DefaultGradleLauncher.loadSettings(DefaultGradleLauncher.java:165)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:128)\n    at org.gradle.initialization.DefaultGradleLauncher.getConfiguredBuild(DefaultGradleLauncher.java:110)\n    at org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:87)\n    at org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:84)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n    at org.gradle.internal.invocation.GradleBuildController.configure(GradleBuildController.java:84)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:64)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: ScriptCompilationException(errors=[ScriptCompilationError(message=Expecting an element, location=C:\\Users\\barce\\.gradle\\caches\\4.6\\gradle-kotlin-dsl\\7fkgaz5gvkj5r4mfp63xbl2li\\build.gradle.kts (1:1)), ScriptCompilationError(message=Unexpected tokens (use ';' to separate expressions on the same line), location=C:\\Users\\barce\\.gradle\\caches\\4.6\\gradle-kotlin-dsl\\7fkgaz5gvkj5r4mfp63xbl2li\\build.gradle.kts (1:3))])\n    at org.gradle.kotlin.dsl.support.KotlinCompilerKt.compileKotlinScriptToDirectory(KotlinCompiler.kt:80)\n    at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler$compileScriptTo$$inlined$run$lambda$1.invoke(CachingKotlinCompiler.kt:143)\n    at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler$compileScriptTo$$inlined$run$lambda$1.invoke(CachingKotlinCompiler.kt:72)\n    at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler.withProgressLoggingFor(CachingKotlinCompiler.kt:203)\n    at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler.compileScriptTo(CachingKotlinCompiler.kt:139)\n    at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler.access$compileScriptTo(CachingKotlinCompiler.kt:72)\n    at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler$compileScript$cacheDir$1.invoke(CachingKotlinCompiler.kt:117)\n    at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler$compileScript$cacheDir$1.invoke(CachingKotlinCompiler.kt:72)\n    at org.gradle.kotlin.dsl.cache.ScriptCacheKt$sam$Action$c91fa422.execute(ScriptCache.kt)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:107)\n    at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:85)\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:200)\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:190)\n    at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\n    at org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:141)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:61)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:34)\n    at org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:92)\n    at org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:66)\n    at org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:124)\n    at org.gradle.kotlin.dsl.cache.ScriptCache.cacheDirFor(ScriptCache.kt:51)\n    at org.gradle.kotlin.dsl.cache.ScriptCache.cacheDirFor$default(ScriptCache.kt:43)\n    at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler.cacheDirFor(CachingKotlinCompiler.kt:157)\n    at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler.compileScript(CachingKotlinCompiler.kt:115)\n    at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler.compileScriptBlock(CachingKotlinCompiler.kt:92)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler$compileScriptBody$1.invoke(KotlinBuildScriptCompiler.kt:254)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler$compileScriptBody$1.invoke(KotlinBuildScriptCompiler.kt:74)\n    at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler.withKotlinCompiler(KotlinBuildScriptCompiler.kt:206)\n    ... 139 more\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1542831086, "post_id": 53419695, "comment_id": 93713830, "body": "That&#39;s because resID is an integer. Ints don&#39;t have a variable called <code>text</code>. You&#39;ll need to grad a <code>View</code> with the ID, and I highly recommend you store it instead of finding it 65 times"}, {"owner": {"reputation": 257, "user_id": 5933012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc65d4f3d2263f04245dc575a031d0fd?s=128&d=identicon&r=PG&f=1", "display_name": "NIKHIL MAURYA", "link": "https://stackoverflow.com/users/5933012/nikhil-maurya"}, "edited": false, "score": 0, "creation_date": 1542831179, "post_id": 53419695, "comment_id": 93713866, "body": "Resource id is an integer value. It represents the Resource saved somewhere in your res directory. To change the text for the button you will need to find the view of the button by using findViewById(). then you can set the text to it."}], "answers": [{"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 1, "last_activity_date": 1542831186, "creation_date": 1542831186, "answer_id": 53419809, "question_id": 53419695, "link": "https://stackoverflow.com/questions/53419695/how-to-set-the-text-of-a-button-using-getresources-in-kotlin/53419809#53419809", "title": "How to set the text of a Button using getResources() in Kotlin?", "body": "<p><code>resID</code> is the integer id of a <code>Button</code> \"named\" <code>S1</code>.  <br/>\nUse it to find the <code>Button</code>:</p>\n\n<pre><code>val resID = resources.getIdentifier(\"S1\", \"id\", getPackageName())\nval button = findViewById&lt;Button&gt;(resID)\nbutton.text = \"\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 465, "user_id": 6182948, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/486846934836956/picture?type=large", "display_name": "Koorosh Ghorbani", "link": "https://stackoverflow.com/users/6182948/koorosh-ghorbani"}, "is_accepted": false, "score": 0, "last_activity_date": 1542831340, "creation_date": 1542831340, "answer_id": 53419849, "question_id": 53419695, "link": "https://stackoverflow.com/questions/53419695/how-to-set-the-text-of-a-button-using-getresources-in-kotlin/53419849#53419849", "title": "How to set the text of a Button using getResources() in Kotlin?", "body": "<p>based on <a href=\"https://developer.android.com/reference/android/content/res/Resources#getIdentifier(java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">Docs</a> getIdentifier returns Int , so you need <code>findViewById</code> and use the getIdentifier result in order to use the object</p>\n"}, {"tags": [], "owner": {"reputation": 267, "user_id": 4151099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H5914.jpg?s=128&g=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/4151099/marco"}, "is_accepted": false, "score": -1, "last_activity_date": 1542833119, "last_edit_date": 1542833119, "creation_date": 1542832617, "answer_id": 53420119, "question_id": 53419695, "link": "https://stackoverflow.com/questions/53419695/how-to-set-the-text-of-a-button-using-getresources-in-kotlin/53420119#53420119", "title": "How to set the text of a Button using getResources() in Kotlin?", "body": "<p><strong>Kotlin Extensions do not work if the referenced int is not coming from</strong> <code>R.id</code>.</p>\n\n<ol>\n<li><p><strong>Button</strong> is a view, then you can access to it by using \n<code>findViewById&lt;Button&gt;(buttonId)</code></p></li>\n<li><p>If you want to retrieve id from resources, just <code>getResources().getIdentifier(\"S1\", \"id\", getPackageName())</code>  </p></li>\n</ol>\n\n<p>In conclusion, you see how this is going to be:</p>\n\n<pre><code>val buttonId = getResources().getIdentifier(\"S1\", \"id\", getPackageName())\nval button = findViewById&lt;Button&gt;(buttonId)\nbutton.setText(\"\")\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7159358"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1246, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1542833119, "creation_date": 1542830550, "question_id": 53419695, "link": "https://stackoverflow.com/questions/53419695/how-to-set-the-text-of-a-button-using-getresources-in-kotlin", "title": "How to set the text of a Button using getResources() in Kotlin?", "body": "<p>I'm trying to identify a button using getResources() and getIdentifier(), then set the text for it. The below code shows how I thought it should work (simply setting the ID and setting the text for the object).</p>\n\n<pre><code>while (c &lt; 65) {\n    val resID = getResources().getIdentifier(\"S1\", \"id\", getPackageName())\n    resID.text = \"\"\n}\n</code></pre>\n\n<p>Instead I get an error, with \".text\" showing red. How should I go about setting this up to run how I expected.</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542828540, "post_id": 53419253, "comment_id": 93712705, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/&hellip;</a>"}, {"owner": {"reputation": 1582, "user_id": 2227064, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/mVMvn.png?s=128&g=1", "display_name": "Vegard", "link": "https://stackoverflow.com/users/2227064/vegard"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542828784, "post_id": 53419253, "comment_id": 93712823, "body": "the interface is in Java, not Kotlin. What I want is to figure out &quot;SomeFault&quot; from my post. The Implementation of the interface and the aspectJ Aspect is in Kotlin."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1542828992, "post_id": 53419253, "comment_id": 93712926, "body": "If I understand correctly, what you&#39;re examining is the signature of the method of the Kotlin subclass. So if you want it to have a declared thrown exception, use Throws. Otherwise, don&#39;t examine that method, but instead the overridden method of the Java interface"}, {"owner": {"reputation": 1582, "user_id": 2227064, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/mVMvn.png?s=128&g=1", "display_name": "Vegard", "link": "https://stackoverflow.com/users/2227064/vegard"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542830982, "post_id": 53419253, "comment_id": 93713786, "body": "you are right, I found a solution now based on your anwser, I just assumed wrong that this works the same way in pure Java and in a Java/Kotlin mixed world."}], "answers": [{"tags": [], "owner": {"reputation": 1582, "user_id": 2227064, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/mVMvn.png?s=128&g=1", "display_name": "Vegard", "link": "https://stackoverflow.com/users/2227064/vegard"}, "is_accepted": true, "score": 0, "last_activity_date": 1542831119, "creation_date": 1542831119, "answer_id": 53419800, "question_id": 53419253, "link": "https://stackoverflow.com/questions/53419253/declared-exceptions-in-java-interface-from-kotlin/53419800#53419800", "title": "Declared exceptions in Java interface from Kotlin", "body": "<p>Found a solution based on JBs comment:</p>\n\n<pre><code>Class.forName(methodSignature.declaringType.genericInterfaces[0].typeName).declaredMethods\n.filter { method -&gt; method.name == methodSignature.name }\n.forEach { method -&gt; method.exceptionTypes[0] &lt;executed&gt;}\n</code></pre>\n"}], "owner": {"reputation": 1582, "user_id": 2227064, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/mVMvn.png?s=128&g=1", "display_name": "Vegard", "link": "https://stackoverflow.com/users/2227064/vegard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 53419800, "answer_count": 1, "score": 0, "last_activity_date": 1542831119, "creation_date": 1542828415, "question_id": 53419253, "link": "https://stackoverflow.com/questions/53419253/declared-exceptions-in-java-interface-from-kotlin", "title": "Declared exceptions in Java interface from Kotlin", "body": "<p>I have a set of web services that are intercepted by an Aspect with @AfterThrowing. The implementations of the web services are done in Kotlin, but it is based on generated Java code.</p>\n\n<p>So I have a Java interface, and a Kotlin class implementing the interface. When the code throws I want to generically throw the defined fault in the Java interface instead (SomeFault):</p>\n\n<pre><code>public SomeResponseType methodName() throws SomeFault\n</code></pre>\n\n<p>If everything was in Java it could be done rather easily like this:</p>\n\n<pre><code>MethodSignature methodSignature = (MethodSignature) joinPoint.getStaticPart().getSignature();\nClass&lt;? extends Exception&gt;[] declaredExceptions = methodSignature.getExceptionTypes();\n</code></pre>\n\n<p>...and then just execute the constructor of <code>declaredExceptions[0]</code></p>\n\n<p>But when I do something similar in Kotlin it seems like I can't find the exceptions declared in the Java interface:</p>\n\n<pre><code>val declaredExceptions = methodSignature.exceptionTypes\n</code></pre>\n\n<p>... gives me an empty list</p>\n\n<p><strong><em>question:</strong> How can I find the Exceptions declared in a java interface when intercepting a Kotlin class implementing that interface?</em></p>\n"}, {"tags": ["android", "kotlin", "build", "kapt"], "comments": [{"owner": {"reputation": 1219, "user_id": 6243324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zH73q.png?s=128&g=1", "display_name": "Sub 6 Resources", "link": "https://stackoverflow.com/users/6243324/sub-6-resources"}, "edited": false, "score": 0, "creation_date": 1542826811, "post_id": 53418890, "comment_id": 93711890, "body": "What is the error message when the build fails?"}, {"owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "edited": false, "score": 0, "creation_date": 1542869634, "post_id": 53418890, "comment_id": 93724840, "body": "You are missing <code>kapt &quot;com.android.databinding:compiler:$android_plugin_version&quot;</code> in app/build.gradle dependencies section"}, {"owner": {"reputation": 31, "user_id": 10687490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffac928dffa9417b459568e47ec56f2f?s=128&d=identicon&r=PG&f=1", "display_name": "PAF", "link": "https://stackoverflow.com/users/10687490/paf"}, "edited": false, "score": 0, "creation_date": 1542910950, "post_id": 53418890, "comment_id": 93746658, "body": "I have edited the question adding the errors"}, {"owner": {"reputation": 31, "user_id": 10687490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffac928dffa9417b459568e47ec56f2f?s=128&d=identicon&r=PG&f=1", "display_name": "PAF", "link": "https://stackoverflow.com/users/10687490/paf"}, "edited": false, "score": 0, "creation_date": 1542912517, "post_id": 53418890, "comment_id": 93747145, "body": "I have managed to make it work downgrading the android plugin to 3.1.0 but I&#39;m still wondering why it doesn&#39;t work with 3.2.1"}, {"owner": {"reputation": 301, "user_id": 5577745, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MSm831Rk9k4/AAAAAAAAAAI/AAAAAAAAAP4/Qghp_VMZ898/photo.jpg?sz=128", "display_name": "M&#225;rio Augusto", "link": "https://stackoverflow.com/users/5577745/m%c3%a1rio-augusto"}, "edited": false, "score": 0, "creation_date": 1544617504, "post_id": 53418890, "comment_id": 94338527, "body": "I have faced the same issue here.. lost a day trying everything to solve it and it just worked for me when I downgraded the com.android.tools.build:gradle to 3.0.1. I think it&#39;s a good idea to report this issue."}], "answers": [{"tags": [], "owner": {"reputation": 2297, "user_id": 1726296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8mT7.jpg?s=128&g=1", "display_name": "Tejasvi Hegde", "link": "https://stackoverflow.com/users/1726296/tejasvi-hegde"}, "is_accepted": false, "score": 1, "last_activity_date": 1546852949, "creation_date": 1546852949, "answer_id": 54071539, "question_id": 53418890, "link": "https://stackoverflow.com/questions/53418890/android-build-fails-with-databinding-and-kapt-with-gradle-3-2-1/54071539#54071539", "title": "Android - Build fails with databinding and kapt with gradle 3.2.1", "body": "<p>Please refer to answer at <a href=\"https://stackoverflow.com/a/54071510/1726296\">https://stackoverflow.com/a/54071510/1726296</a></p>\n\n<blockquote>\n  <p>As of Android Studio 3.2, this kapt plugin is no longer required. </p>\n</blockquote>\n\n<p>However, without this plug in, the error message in case of any error, while compiling is cryptic. \nSo, only option now it seems now is to downgrade your Gradle version to 3.1.4.</p>\n\n<p>Thanks to article at <a href=\"http://mobiledevhub.com/2018/01/05/android-two-way-databinding/\" rel=\"nofollow noreferrer\">http://mobiledevhub.com/2018/01/05/android-two-way-databinding/</a></p>\n"}], "owner": {"reputation": 31, "user_id": 10687490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffac928dffa9417b459568e47ec56f2f?s=128&d=identicon&r=PG&f=1", "display_name": "PAF", "link": "https://stackoverflow.com/users/10687490/paf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2577, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1546852949, "creation_date": 1542826765, "last_edit_date": 1542910744, "question_id": 53418890, "link": "https://stackoverflow.com/questions/53418890/android-build-fails-with-databinding-and-kapt-with-gradle-3-2-1", "title": "Android - Build fails with databinding and kapt with gradle 3.2.1", "body": "<p>I'm facing a problem with databinding and kapt\nI am using kotlin with Android Studio 3.2.1 \nThe problem is when I use kapt (which I have to use I think if I want to use DBFlow), the build fails. </p>\n\n<p>I have tried several solutions I found like invalidating caches and restarting or cleaning the project and rebuilding it, adding or deleting kapt 'com.android.databinding:compiler:3.1.4' \nbut it is apparently useless to add it with the recent versions of kapt</p>\n\n<p>Here is the gradle file of the project</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.10'\n    ext.dbflow_version = '4.2.4'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        mavenCentral()\n        maven { url \"https://www.jitpack.io\" }\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>And the gradle file of the app</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 28\n\n    defaultConfig {\n        applicationId \"paf.songrecorder\"\n        minSdkVersion 16\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    dataBinding {\n        enabled = true\n    }\n\n    androidExtensions {\n        experimental = true\n    }\n\n    kapt {\n        generateStubs = true\n    }\n\n}\n\ndependencies {\n    annotationProcessor \"com.github.raizlabs.dbflow:dbflow-processor:$dbflow_version\"\n    kapt \"com.github.raizlabs.dbflow:dbflow-processor:$dbflow_version\"\n\n    implementation \"com.github.raizlabs.dbflow:dbflow-core:$dbflow_version\"\n    implementation \"com.github.raizlabs.dbflow:dbflow:$dbflow_version\"\n    implementation \"com.github.raizlabs.dbflow:dbflow-kotlinextensions:$dbflow_version\"\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n\n    implementation 'com.squareup.retrofit2:retrofit:2.4.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n\n    implementation 'com.android.support:design:28.0.0'\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n\n<p>When the app is building it can't find in the DataBinderMapperImpl class the BindingImpl classes </p>\n\n<p>[Edit]</p>\n\n<p>I have this error without adding the line : </p>\n\n<pre><code>import paf.songrecorder.databinding.SongBindingImpl; ^ symbol: class SongBindingImpl location: package paf.songrecorder.databinding \u2013 PAF 11 mins ago\n</code></pre>\n\n<p>And after adding \n    kapt \"com.android.databinding:compiler:$android_plugin_version\" : </p>\n\n<p>Do you have any idea of what could be the cause of this issue? </p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:kaptGenerateStubsDebugKotlin'.\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:49)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n    at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:46)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:kapt'.\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:944)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$1600(DefaultConfiguration.java:120)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:918)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.getFiles(DefaultConfiguration.java:415)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration_Decorated.getFiles(Unknown Source)\n    at org.gradle.api.internal.file.CompositeFileCollection.getFiles(CompositeFileCollection.java:56)\n    at org.gradle.api.internal.file.AbstractFileCollection.iterator(AbstractFileCollection.java:68)\n    at org.jetbrains.kotlin.gradle.internal.SubpluginUtilsKt$withWrappedKaptOptions$1.apply(subpluginUtils.kt:71)\n    at org.jetbrains.kotlin.gradle.internal.SubpluginUtilsKt$withWrappedKaptOptions$1.apply(subpluginUtils.kt)\n    at java.util.HashMap.compute(HashMap.java:1196)\n    at org.jetbrains.kotlin.gradle.internal.SubpluginUtilsKt.withWrappedKaptOptions(subpluginUtils.kt:50)\n    at org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask.setupCompilerArgs(KaptGenerateStubsTask.kt:73)\n    at org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask.setupCompilerArgs(KaptGenerateStubsTask.kt:36)\n    at org.jetbrains.kotlin.gradle.internal.CompilerArgumentAware$DefaultImpls.setupCompilerArgs$default(CompilerArgumentAware.kt:37)\n    at org.jetbrains.kotlin.gradle.internal.CompilerArgumentAwareKt.prepareCompilerArguments(CompilerArgumentAware.kt:41)\n    at org.jetbrains.kotlin.gradle.internal.CompilerArgumentAware$DefaultImpls.getFilteredArgumentsMap(CompilerArgumentAware.kt:34)\n    at org.jetbrains.kotlin.gradle.internal.CompilerArgumentAwareWithInput$DefaultImpls.getFilteredArgumentsMap(CompilerArgumentAware.kt:54)\n    at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompileTool.getFilteredArgumentsMap(Tasks.kt:50)\n    at org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask_Decorated.getFilteredArgumentsMap(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.api.internal.tasks.properties.DefaultPropertyWalker$DefaultPropertyValue$1$1.create(DefaultPropertyWalker.java:90)\n    at org.gradle.util.SingleMessageLogger.whileDisabled(SingleMessageLogger.java:240)\n    at org.gradle.api.internal.tasks.properties.DefaultPropertyWalker$DefaultPropertyValue$1.get(DefaultPropertyWalker.java:87)\n    at com.google.common.base.Suppliers$MemoizingSupplier.get(Suppliers.java:125)\n    at org.gradle.api.internal.tasks.properties.DefaultPropertyWalker$DefaultPropertyValue.getValue(DefaultPropertyWalker.java:139)\n    at org.gradle.api.internal.tasks.properties.DefaultPropertyWalker$DefaultPropertyValue.validate(DefaultPropertyWalker.java:150)\n    at org.gradle.api.internal.tasks.DefaultTaskInputPropertySpec.validate(DefaultTaskInputPropertySpec.java:61)\n    at org.gradle.api.internal.tasks.execution.DefaultTaskProperties.validate(DefaultTaskProperties.java:193)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:47)\n    ... 103 more\nCaused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find com.android.databinding:compiler:3.2.1.\nSearched in the following locations:\n    file:/C:/Users/PAF/AppData/Local/Android/Sdk/extras/m2repository/com/android/databinding/compiler/3.2.1/compiler-3.2.1.pom\n    file:/C:/Users/PAF/AppData/Local/Android/Sdk/extras/m2repository/com/android/databinding/compiler/3.2.1/compiler-3.2.1.jar\n    file:/C:/Users/PAF/AppData/Local/Android/Sdk/extras/google/m2repository/com/android/databinding/compiler/3.2.1/compiler-3.2.1.pom\n    file:/C:/Users/PAF/AppData/Local/Android/Sdk/extras/google/m2repository/com/android/databinding/compiler/3.2.1/compiler-3.2.1.jar\n    file:/C:/Users/PAF/AppData/Local/Android/Sdk/extras/android/m2repository/com/android/databinding/compiler/3.2.1/compiler-3.2.1.pom\n    file:/C:/Users/PAF/AppData/Local/Android/Sdk/extras/android/m2repository/com/android/databinding/compiler/3.2.1/compiler-3.2.1.jar\n    https://dl.google.com/dl/android/maven2/com/android/databinding/compiler/3.2.1/compiler-3.2.1.pom\n    https://dl.google.com/dl/android/maven2/com/android/databinding/compiler/3.2.1/compiler-3.2.1.jar\n    https://jcenter.bintray.com/com/android/databinding/compiler/3.2.1/compiler-3.2.1.pom\n    https://jcenter.bintray.com/com/android/databinding/compiler/3.2.1/compiler-3.2.1.jar\n    https://www.jitpack.io/com/android/databinding/compiler/3.2.1/compiler-3.2.1.pom\n    https://www.jitpack.io/com/android/databinding/compiler/3.2.1/compiler-3.2.1.jar\nRequired by:\n    project :app\n</code></pre>\n"}, {"tags": ["kotlin", "android-gradle-plugin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1542825794, "post_id": 53417153, "comment_id": 93711374, "body": "can you share the project?"}, {"owner": {"reputation": 1219, "user_id": 6243324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zH73q.png?s=128&g=1", "display_name": "Sub 6 Resources", "link": "https://stackoverflow.com/users/6243324/sub-6-resources"}, "edited": false, "score": 0, "creation_date": 1542826919, "post_id": 53417153, "comment_id": 93711947, "body": "Based on this, it looks like you&#39;re extending from CoroutineScope. It&#39;s hard to tell without the code, though."}, {"owner": {"reputation": 671, "user_id": 837857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sPflk.jpg?s=128&g=1", "display_name": "gtcompscientist", "link": "https://stackoverflow.com/users/837857/gtcompscientist"}, "edited": false, "score": 0, "creation_date": 1542854664, "post_id": 53417153, "comment_id": 93720789, "body": "In your migration have you also done all of the other required conversion? ie: <code>launch</code> -&gt; <code>GlobalScope.launch</code>, and such? If not, it may be that the old Coroutine code is muddying the waters."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1542873249, "post_id": 53417153, "comment_id": 93726514, "body": "Adding the kotlinx.coroutines dependency to all of your modules is actually the correct way to fix this issue. Please make sure you run gradle sync after you do that."}, {"owner": {"reputation": 1651, "user_id": 992380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G7SKc.jpg?s=128&g=1", "display_name": "Alexey Belkov", "link": "https://stackoverflow.com/users/992380/alexey-belkov"}, "edited": false, "score": 0, "creation_date": 1542888071, "post_id": 53417153, "comment_id": 93735006, "body": "Please also read the migration guide here: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/COMPATIBILITY.md#migration-to-100-version-with-kotlin-13\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/blob/master/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 348, "user_id": 2144828, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/vdGt8.jpg?s=128&g=1", "display_name": "silvio.pereira", "link": "https://stackoverflow.com/users/2144828/silvio-pereira"}, "is_accepted": false, "score": 3, "last_activity_date": 1562212537, "creation_date": 1562212537, "answer_id": 56880465, "question_id": 53417153, "link": "https://stackoverflow.com/questions/53417153/migrating-to-non-experimental-coroutines/56880465#56880465", "title": "Migrating to non-experimental coroutines", "body": "<p>I had the same problem and it was happening because I was implementing the CoroutineScope in my \"core\" module and extending the class in the \"app\" module, which didn't have the coroutines import in build.gradle. Adding the import there as well fixed the problem.</p>\n"}], "owner": {"reputation": 1699, "user_id": 1250729, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1ea5965e8ccfe7c15b24f100b6a7b3a6?s=128&d=identicon&r=PG", "display_name": "JakeP", "link": "https://stackoverflow.com/users/1250729/jakep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562212537, "creation_date": 1542819697, "question_id": 53417153, "link": "https://stackoverflow.com/questions/53417153/migrating-to-non-experimental-coroutines", "title": "Migrating to non-experimental coroutines", "body": "<p>I've been trying to migrate from the experimental version of coroutines (0.23.4) to the recently released one (1.0.1).</p>\n\n<p>I also changed my version of Kotlin from 1.2.60 to 1.3.10.</p>\n\n<p>I updated all of the import statements and removed the \"experimental\" bit from the gradle file.</p>\n\n<p>When I try to compile my project, I get the following error:\nSupertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:</p>\n\n<pre><code>class some.package.SomeClassName, unresolved supertypes: kotlinx.coroutines.CoroutineScope\n</code></pre>\n\n<p><code>SomeClassName</code> doesn't even contain any reference to a coroutine -- it merely calls a method from a different module which in turn deals with some coroutines.</p>\n\n<p>I tried adding the dependency on the coroutine packages to all of my gradle modules but that didn't help.</p>\n\n<p>The only thing I found that describes a similar problem is <a href=\"https://youtrack.jetbrains.com/issue/KT-28223\" rel=\"nofollow noreferrer\">this</a>\nbut I can't understand how that would help or why my compilation fails anyway.</p>\n\n<p>Any help please?</p>\n"}, {"tags": ["kotlin", "idioms"], "answers": [{"tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 4, "last_activity_date": 1542819859, "creation_date": 1542819859, "answer_id": 53417202, "question_id": 53417080, "link": "https://stackoverflow.com/questions/53417080/kotlins-let-plus-elvis-and-accidental-null-return-values/53417202#53417202", "title": "Kotlin&#39;s &#39;let&#39; plus elvis, and accidental null return values", "body": "<p>You could use <code>also</code> instead of <code>let</code>. <code>also</code> will return <code>nullableThing</code>, whereas <code>let</code> will return whatever the lambda returns.</p>\n\n<p>See this article: <a href=\"https://medium.com/@elye.project/mastering-kotlin-standard-functions-run-with-let-also-and-apply-9cd334b0ef84\" rel=\"nofollow noreferrer\">https://medium.com/@elye.project/mastering-kotlin-standard-functions-run-with-let-also-and-apply-9cd334b0ef84</a> (point \"3. Return this vs. other type\").</p>\n"}, {"tags": [], "owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1542820253, "creation_date": 1542820253, "answer_id": 53417310, "question_id": 53417080, "link": "https://stackoverflow.com/questions/53417080/kotlins-let-plus-elvis-and-accidental-null-return-values/53417310#53417310", "title": "Kotlin&#39;s &#39;let&#39; plus elvis, and accidental null return values", "body": "<p>Your case is a candidate for <code>also</code> thematic. Compare two <code>block</code> actions:</p>\n\n<pre><code>fun &lt;T&gt; T.also(block: (T) -&gt; Unit): T\nfun &lt;T, R&gt; T.let(block: (T) -&gt; R): R\n\nnullableThing?.also {\n    print(\"Nullable thing was non-null\")\n    nullThing?.apply { println(\"Never happens\") }\n} ?: run {\n    fail(\"This shouldn't have run\")\n}\n</code></pre>\n\n<p>Another idiomatic way is to use <code>when</code> statement</p>\n\n<pre><code>when (nullableThing) {\n    null -&gt;\n        print(\"Nullable thing was non-null\")\n        nullThing?.apply { println(\"Never happens\") }\n    else -&gt; fail(\"This shouldn't have run\")\n}\n</code></pre>\n"}], "owner": {"reputation": 4056, "user_id": 635075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KsEUG.jpg?s=128&g=1", "display_name": "Rob Pridham", "link": "https://stackoverflow.com/users/635075/rob-pridham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1925, "favorite_count": 0, "accepted_answer_id": 53417202, "answer_count": 2, "score": 6, "last_activity_date": 1542820253, "creation_date": 1542819462, "question_id": 53417080, "link": "https://stackoverflow.com/questions/53417080/kotlins-let-plus-elvis-and-accidental-null-return-values", "title": "Kotlin&#39;s &#39;let&#39; plus elvis, and accidental null return values", "body": "<p>I was surprised today to learn that this take on apparently idiomatic code fails:</p>\n\n<pre><code>class QuickTest {\n\n    var nullableThing: Int? = 55\n\n    var nullThing: Int? = null\n\n    @Test\n    fun `test let behaviour`() {\n        nullableThing?.let {\n            print(\"Nullable thing was non-null\")\n            nullThing?.apply { print(\"Never happens\") }\n        } ?: run {\n            fail(\"This shouldn't have run\")\n        }\n    }\n}\n</code></pre>\n\n<p>It happens because, combined with implicit return, <code>nullThing?.apply{...}</code> passes null to the let, and therefore the elvis operator evaluates on null and runs the second block.</p>\n\n<p>This is pretty horrible to detect. Do we have an appropriate alternative beyond conventional <code>if/else</code> without this pitfall?</p>\n"}, {"tags": ["android", "database", "kotlin", "android-room", "accountmanager"], "comments": [{"owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "edited": false, "score": 0, "creation_date": 1560924043, "post_id": 53416907, "comment_id": 99890788, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52187050/android-multiple-database-one-project\">Android - Multiple database one project</a>"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 1884742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72d25d3470d8c4c8f7c834d4f2a83f53?s=128&d=identicon&r=PG", "display_name": "karthi", "link": "https://stackoverflow.com/users/1884742/karthi"}, "edited": false, "score": 1, "creation_date": 1542867536, "post_id": 53418468, "comment_id": 93724032, "body": "Thank you for your comment. But you didn&#39;t understand my query. I want to keep multiple logged in user in App like gmail. whenever I switch the account, I want  to access the specific user data. I don&#39;t think this approach is wrong. Still you are thinking that this approach is wrong please explain me with clear example or any reference."}, {"owner": {"reputation": 433, "user_id": 8633758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71530e17cb1735434d44476942a25579?s=128&d=identicon&r=PG&f=1", "display_name": "Notsileous", "link": "https://stackoverflow.com/users/8633758/notsileous"}, "reply_to_user": {"reputation": 115, "user_id": 1884742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72d25d3470d8c4c8f7c834d4f2a83f53?s=128&d=identicon&r=PG", "display_name": "karthi", "link": "https://stackoverflow.com/users/1884742/karthi"}, "edited": false, "score": 0, "creation_date": 1543329565, "post_id": 53418468, "comment_id": 93873348, "body": "You really think gmail has a database for every user? Or that they store all the email on your phone? Whether you store the data on a phone or on a server the principal is the same, one database with table entries for all users. In the case of something like gmail the only thing they store On the phone are the email addresses for each person who has logged in."}, {"owner": {"reputation": 115, "user_id": 1884742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72d25d3470d8c4c8f7c834d4f2a83f53?s=128&d=identicon&r=PG", "display_name": "karthi", "link": "https://stackoverflow.com/users/1884742/karthi"}, "edited": false, "score": 0, "creation_date": 1543399748, "post_id": 53418468, "comment_id": 93902600, "body": "Thats okay but you are miss understood my question."}, {"owner": {"reputation": 496, "user_id": 10246734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSx4J.jpg?s=128&g=1", "display_name": "Show Young Soyinka", "link": "https://stackoverflow.com/users/10246734/show-young-soyinka"}, "reply_to_user": {"reputation": 115, "user_id": 1884742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72d25d3470d8c4c8f7c834d4f2a83f53?s=128&d=identicon&r=PG", "display_name": "karthi", "link": "https://stackoverflow.com/users/1884742/karthi"}, "edited": false, "score": 2, "creation_date": 1546089564, "post_id": 53418468, "comment_id": 94777266, "body": "@karthi , I think you do not understand what is being explained above. The best way to tackle the issue is to define a table which is unique to every user."}, {"owner": {"reputation": 1104, "user_id": 2154011, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/u0iO8.jpg?s=128&g=1", "display_name": "Maxim Firsoff", "link": "https://stackoverflow.com/users/2154011/maxim-firsoff"}, "edited": false, "score": 0, "creation_date": 1581494272, "post_id": 53418468, "comment_id": 106448465, "body": "Yes, the migration process will be a painful thing for multiple databases."}], "tags": [], "owner": {"reputation": 433, "user_id": 8633758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71530e17cb1735434d44476942a25579?s=128&d=identicon&r=PG&f=1", "display_name": "Notsileous", "link": "https://stackoverflow.com/users/8633758/notsileous"}, "is_accepted": false, "score": 3, "last_activity_date": 1542825100, "creation_date": 1542825100, "answer_id": 53418468, "question_id": 53416907, "link": "https://stackoverflow.com/questions/53416907/room-with-multi-user-database-in-single-android-app/53418468#53418468", "title": "Room with Multi user Database in Single android App", "body": "<p>Maybe you could but this approach is wrong for several reasons. You dont make separate databases for users you make tables with relations to each other, each row is an entry for a user.<br>\nSome tables have a one-to-many relationship like a table that holds order numbers. One user may have many orders. Or the table may have a one-to-one relationship like a user profile. What it breaks down to is, each user has a unique entry and ID, that ID would relate to other tables with their data. You use the ID for the logged in person to get their data.\nBeyond that, you really shouldnt be storing other peoples data in your app, what is the situation where you feel multiple people will be using the same phone for the app? The ideal situation is to have a cloud based server/database that you get your data from so only the current users data is retrieved.<br>\nThe final reason you dont do multiple databases is that if you want to add a new field you would have to update every DB created instead of just one.</p>\n"}, {"comments": [{"owner": {"reputation": 782, "user_id": 10319730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NGw6f.jpg?s=128&g=1", "display_name": "Andr&#233; Ramon", "link": "https://stackoverflow.com/users/10319730/andr%c3%a9-ramon"}, "edited": false, "score": 0, "creation_date": 1617534500, "post_id": 55888451, "comment_id": 118326689, "body": "How would this work with dependency inject frameworks like Hilt? How do you scope this? If database is scoped to singleton, every user would still get the same db instance"}], "tags": [], "owner": {"reputation": 2931, "user_id": 1263556, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dc5bce9b8411cb44aa99a73bfb0f9b21?s=128&d=identicon&r=PG", "display_name": "Stony", "link": "https://stackoverflow.com/users/1263556/stony"}, "is_accepted": false, "score": 5, "last_activity_date": 1556440548, "creation_date": 1556440548, "answer_id": 55888451, "question_id": 53416907, "link": "https://stackoverflow.com/questions/53416907/room-with-multi-user-database-in-single-android-app/55888451#55888451", "title": "Room with Multi user Database in Single android App", "body": "<p>I did that like below,</p>\n\n<pre><code>    private static AppDatabase buildDatabase(final Context appContext, int userId) {\n    return Room.databaseBuilder(appContext, AppDatabase.class, DATABASE_NAME + \"_\" + userId)\n            .addCallback(new Callback() {\n                @Override\n                public void onCreate(@NonNull SupportSQLiteDatabase db) {\n                    super.onCreate(db);\n\n                }\n            })\n        .build();\n}\n</code></pre>\n\n<p>I understand your requirement totally. There are 3 ways,\n(Let's say only need a table userTable, but actually we have more.)</p>\n\n<ol>\n<li>Create a database for each login user.   (You asked, I also used it)</li>\n<li>Only a database, but create a table for each user, such as userTable_1.  (It seems that Room can't support it )</li>\n<li>Only a database and a table for all users, so we have to add a extra column user_id to the table; if we have 20 table, we have to add \"user_id\" to all 20 tables.  (We did it in the backend development at the most time; but in the case, I really do NOT prefer to this one)</li>\n</ol>\n"}], "owner": {"reputation": 115, "user_id": 1884742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72d25d3470d8c4c8f7c834d4f2a83f53?s=128&d=identicon&r=PG", "display_name": "karthi", "link": "https://stackoverflow.com/users/1884742/karthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2399, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1560923253, "creation_date": 1542818967, "question_id": 53416907, "link": "https://stackoverflow.com/questions/53416907/room-with-multi-user-database-in-single-android-app", "title": "Room with Multi user Database in Single android App", "body": "<p>Can we have a multiple databases in single android App using Room? I want to create a new database for every single user. If user1 logged in I have to create  a Database for that user like UserDB1, If any new account added I have to create a another Database for that user like UserDb2. If account switch happened between that accounts I should access the user specific Database.How can i achieve that?</p>\n"}, {"tags": ["lambda", "kotlin"], "comments": [{"owner": {"reputation": 2268, "user_id": 3133286, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8eb9502875ead75092230df8fdcf5dd7?s=128&d=identicon&r=PG", "display_name": "ordonezalex", "link": "https://stackoverflow.com/users/3133286/ordonezalex"}, "edited": false, "score": 0, "creation_date": 1542820491, "post_id": 53416539, "comment_id": 93709013, "body": "The problem with your sample is that <code>forEach</code> does not return a value. In @Sergey Rybalkin&#39;s answer, they use <code>map</code>."}], "answers": [{"comments": [{"owner": {"reputation": 6006, "user_id": 444423, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cde8758b981f38410371c4c7a9d3a784?s=128&d=identicon&r=PG", "display_name": "Killrazor", "link": "https://stackoverflow.com/users/444423/killrazor"}, "edited": false, "score": 0, "creation_date": 1542820867, "post_id": 53416597, "comment_id": 93709200, "body": "I used that List(100){Random.nextInt()} statement. What I don&#39;t understand is what is the origin of that kind of structure (Collection constructor and a body). I&#39;m jumping from the verbosity of java and I&#39;m completely lost."}, {"owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "reply_to_user": {"reputation": 6006, "user_id": 444423, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cde8758b981f38410371c4c7a9d3a784?s=128&d=identicon&r=PG", "display_name": "Killrazor", "link": "https://stackoverflow.com/users/444423/killrazor"}, "edited": false, "score": 2, "creation_date": 1542821313, "post_id": 53416597, "comment_id": 93709414, "body": "@Killrazor lets check step by step: 1. List(10,(index: Int) -&gt; { index*index })"}, {"owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "reply_to_user": {"reputation": 6006, "user_id": 444423, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cde8758b981f38410371c4c7a9d3a784?s=128&d=identicon&r=PG", "display_name": "Killrazor", "link": "https://stackoverflow.com/users/444423/killrazor"}, "edited": false, "score": 2, "creation_date": 1542821415, "post_id": 53416597, "comment_id": 93709451, "body": "@Killrazor kotlin allows to omit 2. List(10, { index*index })"}, {"owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "reply_to_user": {"reputation": 6006, "user_id": 444423, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cde8758b981f38410371c4c7a9d3a784?s=128&d=identicon&r=PG", "display_name": "Killrazor", "link": "https://stackoverflow.com/users/444423/killrazor"}, "edited": false, "score": 2, "creation_date": 1542821472, "post_id": 53416597, "comment_id": 93709476, "body": "@Killrazor it&#39;s possible to move last parameter out of () braces if it is lambda 3: List(10) { index*index }"}], "tags": [], "owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "is_accepted": true, "score": 33, "last_activity_date": 1542819361, "last_edit_date": 1542819361, "creation_date": 1542817942, "answer_id": 53416597, "question_id": 53416539, "link": "https://stackoverflow.com/questions/53416539/generate-a-list-with-lambdas-in-kotlin/53416597#53416597", "title": "Generate a list with lambdas in kotlin", "body": "<p>It's way better to use <code>kotlin.collections</code> function to do this:</p>\n\n<pre><code>List(100) {\n    Random.nextInt()\n}\n</code></pre>\n\n<p>According to <code>Collections.kt</code></p>\n\n<pre><code>inline fun &lt;T&gt; List(size: Int, init: (index: Int) -&gt; T): List&lt;T&gt; = MutableList(size, init)\n</code></pre>\n\n<p>It's also possible to generate using range like in your case:</p>\n\n<pre><code>(1..100).map { Random.nextInt() }\n</code></pre>\n\n<p>The reason you can't use <code>forEach</code> is that it return <code>Unit</code> (which is sort of like <code>void</code> in Java, C#, etc.).  <code>map</code> operates  <code>Iterable</code> (in this case the <code>range</code> of numbers from 1 to 100) to <strong>map</strong> them to a different value. It then returns a list with all those values.  In this case, it makes more sense to use the <code>List</code> constructor above because you're not really \"mapping\" the values, but creating a list</p>\n"}], "owner": {"reputation": 6006, "user_id": 444423, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cde8758b981f38410371c4c7a9d3a784?s=128&d=identicon&r=PG", "display_name": "Killrazor", "link": "https://stackoverflow.com/users/444423/killrazor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8075, "favorite_count": 2, "accepted_answer_id": 53416597, "answer_count": 1, "score": 22, "last_activity_date": 1542819361, "creation_date": 1542817775, "question_id": 53416539, "link": "https://stackoverflow.com/questions/53416539/generate-a-list-with-lambdas-in-kotlin", "title": "Generate a list with lambdas in kotlin", "body": "<p>I'm new to Kotlin and lambdas and I'm trying to understand it. I'm trying to generate a list of 100 random numbers. \nThis works:</p>\n\n<pre><code>private val maxRandomValues = (1..100).toList()\n</code></pre>\n\n<p>But I want to do something like that:</p>\n\n<pre><code>private val maxRandomValues = (1..100).forEach { RandomGenerator().nextDouble() }.toList()\n</code></pre>\n\n<p>But this is not working. I'm trying to figure out how to use the values generated into <code>forEach</code> are used in the <code>toList()</code></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 653, "user_id": 10261731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e089a67dcafde373ee26d0b56175dd?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Mukhametshin", "link": "https://stackoverflow.com/users/10261731/stanislav-mukhametshin"}, "edited": false, "score": 0, "creation_date": 1542818113, "post_id": 53416505, "comment_id": 93707670, "body": "loadmorefilghtsbeforday.setOnClickListener(this)"}, {"owner": {"reputation": 1016, "user_id": 1168929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cdf37b92432bd12a09c2165842e36f6?s=128&d=identicon&r=PG", "display_name": "mariopce", "link": "https://stackoverflow.com/users/1168929/mariopce"}, "edited": false, "score": 0, "creation_date": 1542896089, "post_id": 53416505, "comment_id": 93739409, "body": "Is it compile? Because you writing code after return keyword in method."}, {"owner": {"reputation": 1016, "user_id": 1168929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cdf37b92432bd12a09c2165842e36f6?s=128&d=identicon&r=PG", "display_name": "mariopce", "link": "https://stackoverflow.com/users/1168929/mariopce"}, "edited": false, "score": 0, "creation_date": 1542896149, "post_id": 53416505, "comment_id": 93739447, "body": "And use correct brackets (this) for sure not {this}"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542903341, "post_id": 53416505, "comment_id": 93743386, "body": "it is same problem"}], "answers": [{"comments": [{"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542821975, "post_id": 53417107, "comment_id": 93709715, "body": "same problem no event"}], "tags": [], "owner": {"reputation": 1016, "user_id": 1168929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cdf37b92432bd12a09c2165842e36f6?s=128&d=identicon&r=PG", "display_name": "mariopce", "link": "https://stackoverflow.com/users/1168929/mariopce"}, "is_accepted": false, "score": 0, "last_activity_date": 1542896954, "last_edit_date": 1542896954, "creation_date": 1542819544, "answer_id": 53417107, "question_id": 53416505, "link": "https://stackoverflow.com/questions/53416505/no-event-onclicklistener-in-fragment-button-kotlin/53417107#53417107", "title": "no event OnClickListener in fragment button kotlin", "body": "<p><code>loadmorefilghtsbeforday.setOnClickListener{}</code> body of the lambda is empty - nothing happen. \nPlease register your listener by  </p>\n\n<pre><code> override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view = inflater.inflate(R.layout.fragment_arrivel,container,false)\n\n\n    loadmorefilghtsbeforday.setOnClickListener(this)\n    return view\n}\n</code></pre>\n\n<p>or if you prefer using lambdas \n<code>loadmorefilghtsbeforday.setOnClickListener{ onClick(null) }</code> could be called but then your fragment don't need to implements View.OnClickListener. </p>\n\n<p>and class names in Kotlin/java should start from capital later: FragmentArr. \n<code>_</code> is not recommended </p>\n"}], "owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542896954, "creation_date": 1542817684, "last_edit_date": 1542821994, "question_id": 53416505, "link": "https://stackoverflow.com/questions/53416505/no-event-onclicklistener-in-fragment-button-kotlin", "title": "no event OnClickListener in fragment button kotlin", "body": "<p>I am working kotlin. I have a fragment on my Activity . l want when click on button inside of fragment activity go to another activity .</p>\n\n<p>this code my used in fragment class </p>\n\n<pre><code>class fragment_Arr :Fragment(), View.OnClickListener {\n    override fun onClick(v: View?) {\n        val intent = Intent(activity, FlightDeatilasDep::class.java)\n        startActivity(intent)\n    }\n\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_arrivel,container,false)\n\n\n        loadmorefilghtsbeforday.setOnClickListener{this}\n    }\n\n\n\n}\n</code></pre>\n\n<p>when l debug app and click on button no event happening !</p>\n"}, {"tags": ["java", "spring", "angular", "kotlin", "oauth-2.0"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10686793, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WNxmWhkOtMg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jxIGUuHhyksMqpqFBvE6pHq2A4qQ/mo/photo.jpg?sz=128", "display_name": "mremil6", "link": "https://stackoverflow.com/users/10686793/mremil6"}, "edited": false, "score": 0, "creation_date": 1542816531, "post_id": 53416049, "comment_id": 93706639, "body": "add cors to questions body."}, {"owner": {"reputation": 101, "user_id": 4897013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HMEQc.jpg?s=128&g=1", "display_name": "Romano Schoonheim", "link": "https://stackoverflow.com/users/4897013/romano-schoonheim"}, "reply_to_user": {"reputation": 13, "user_id": 10686793, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WNxmWhkOtMg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jxIGUuHhyksMqpqFBvE6pHq2A4qQ/mo/photo.jpg?sz=128", "display_name": "mremil6", "link": "https://stackoverflow.com/users/10686793/mremil6"}, "edited": false, "score": 0, "creation_date": 1542816799, "post_id": 53416049, "comment_id": 93706796, "body": "Could you provide me the response headers?"}, {"owner": {"reputation": 101, "user_id": 4897013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HMEQc.jpg?s=128&g=1", "display_name": "Romano Schoonheim", "link": "https://stackoverflow.com/users/4897013/romano-schoonheim"}, "reply_to_user": {"reputation": 13, "user_id": 10686793, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WNxmWhkOtMg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jxIGUuHhyksMqpqFBvE6pHq2A4qQ/mo/photo.jpg?sz=128", "display_name": "mremil6", "link": "https://stackoverflow.com/users/10686793/mremil6"}, "edited": false, "score": 0, "creation_date": 1542876780, "post_id": 53416049, "comment_id": 93728240, "body": "Could you try to add the OPTIONS method to the Access-control-allow-methods header? You are making a OPTIONS request, and only POST has been defined in this header. Information about this header: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Methods\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Headers/&hellip;</a>"}, {"owner": {"reputation": 13, "user_id": 10686793, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WNxmWhkOtMg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jxIGUuHhyksMqpqFBvE6pHq2A4qQ/mo/photo.jpg?sz=128", "display_name": "mremil6", "link": "https://stackoverflow.com/users/10686793/mremil6"}, "edited": false, "score": 0, "creation_date": 1542877337, "post_id": 53416049, "comment_id": 93728540, "body": "I try it, but it did not work..          val config = CorsConfiguration()         config.allowCredentials = java.lang.Boolean.TRUE         config.addAllowedOrigin(&quot;<a href=\"http://localhost:4200&quot;\" rel=\"nofollow noreferrer\">localhost:4200&quot;</a>)         config.addAllowedHeader(&quot;<i>&quot;)         config.addAllowedMethod(&quot;GET, OPTIONS, HEAD, PUT, POST&quot;)         source.registerCorsConfiguration(&quot;/*</i>&quot;, config)"}, {"owner": {"reputation": 101, "user_id": 4897013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HMEQc.jpg?s=128&g=1", "display_name": "Romano Schoonheim", "link": "https://stackoverflow.com/users/4897013/romano-schoonheim"}, "reply_to_user": {"reputation": 13, "user_id": 10686793, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WNxmWhkOtMg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jxIGUuHhyksMqpqFBvE6pHq2A4qQ/mo/photo.jpg?sz=128", "display_name": "mremil6", "link": "https://stackoverflow.com/users/10686793/mremil6"}, "edited": false, "score": 0, "creation_date": 1542877433, "post_id": 53416049, "comment_id": 93728601, "body": "What response headers did you received?"}, {"owner": {"reputation": 101, "user_id": 4897013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HMEQc.jpg?s=128&g=1", "display_name": "Romano Schoonheim", "link": "https://stackoverflow.com/users/4897013/romano-schoonheim"}, "reply_to_user": {"reputation": 13, "user_id": 10686793, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WNxmWhkOtMg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jxIGUuHhyksMqpqFBvE6pHq2A4qQ/mo/photo.jpg?sz=128", "display_name": "mremil6", "link": "https://stackoverflow.com/users/10686793/mremil6"}, "edited": false, "score": 0, "creation_date": 1542882274, "post_id": 53416049, "comment_id": 93731600, "body": "The Access-control-Allow-methods still doesn&#39;t contain OPTIONS. I&#39;m not familiar with spring/kotlin. But I&#39;m sure this causes your problems."}, {"owner": {"reputation": 101, "user_id": 4897013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HMEQc.jpg?s=128&g=1", "display_name": "Romano Schoonheim", "link": "https://stackoverflow.com/users/4897013/romano-schoonheim"}, "reply_to_user": {"reputation": 13, "user_id": 10686793, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WNxmWhkOtMg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jxIGUuHhyksMqpqFBvE6pHq2A4qQ/mo/photo.jpg?sz=128", "display_name": "mremil6", "link": "https://stackoverflow.com/users/10686793/mremil6"}, "edited": false, "score": 0, "creation_date": 1542890687, "post_id": 53416049, "comment_id": 93736410, "body": "@mremil6 could you send me an update if this was the issue?"}, {"owner": {"reputation": 13, "user_id": 10686793, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WNxmWhkOtMg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jxIGUuHhyksMqpqFBvE6pHq2A4qQ/mo/photo.jpg?sz=128", "display_name": "mremil6", "link": "https://stackoverflow.com/users/10686793/mremil6"}, "edited": false, "score": 0, "creation_date": 1542892818, "post_id": 53416049, "comment_id": 93737531, "body": "for now i use different cors configure and have new error. I set withCredentials: true  <a href=\"https://imgur.com/a/2iIUDsp\" rel=\"nofollow noreferrer\">imgur.com/a/2iIUDsp</a>  if i use without credentials true i have: Post 401 error  in credentials i set client id as login and client secret as password, but i can not set grant type.."}], "tags": [], "owner": {"reputation": 101, "user_id": 4897013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HMEQc.jpg?s=128&g=1", "display_name": "Romano Schoonheim", "link": "https://stackoverflow.com/users/4897013/romano-schoonheim"}, "is_accepted": true, "score": 0, "last_activity_date": 1542816277, "creation_date": 1542816277, "answer_id": 53416049, "question_id": 53415982, "link": "https://stackoverflow.com/questions/53415982/can-not-get-token-oauth2-spring-kotlin/53416049#53416049", "title": "Can not get token (OAUTH2, Spring, Kotlin)", "body": "<p>It seems you have issues with CORS, please read the following article about to learn more about CORS.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a></p>\n\n<p>This answer should be an comment, but I'm unable to comment.. </p>\n"}], "owner": {"reputation": 13, "user_id": 10686793, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WNxmWhkOtMg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jxIGUuHhyksMqpqFBvE6pHq2A4qQ/mo/photo.jpg?sz=128", "display_name": "mremil6", "link": "https://stackoverflow.com/users/10686793/mremil6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 53416049, "answer_count": 1, "score": 0, "last_activity_date": 1542818700, "creation_date": 1542816052, "last_edit_date": 1542818700, "question_id": 53415982, "link": "https://stackoverflow.com/questions/53415982/can-not-get-token-oauth2-spring-kotlin", "title": "Can not get token (OAUTH2, Spring, Kotlin)", "body": "<p>I try to get token but it not works. Request work in postman, but when I try reproduce this in angular I getting:</p>\n\n<p><a href=\"https://i.stack.imgur.com/suVCt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/suVCt.png\" alt=\"error1\"></a></p>\n\n<p>My request in postman:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BN01D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BN01D.png\" alt=\"error2\"></a></p>\n\n<p>My request in angular:</p>\n\n<pre><code>getToken() {\nconst headers = new HttpHeaders();\nheaders.set('Authorization', 'Basic ZGV2Z2xhbi1jbGllbnQ6ZGV2Z2xhbi1zZWNyZXQ=');\nheaders.set('Content-Type', 'application/x-www-form-urlencoded');\n\nconst body = new URLSearchParams();\nbody.append('username', 'Alex123');\nbody.append('password', 'password');\nbody.append('grant_type', 'password');\n\nthis.http.post&lt;AuthToken&gt;('http://localhost:8080/oauth/token', body, {headers: headers})\n  .subscribe(\n    success =&gt; {\n      debugger\n      this.token = success.access_token;\n    }\n  );\n}\n</code></pre>\n\n<p>my CORS configure, i thing all is good with it.:</p>\n\n<pre><code>   @Throws(Exception::class)\noverride fun configure(http: HttpSecurity) {\n    http\n        .csrf().disable()\n        .anonymous().disable()\n        .authorizeRequests()\n        .antMatchers(\"/api-docs/**\").permitAll()\n    http\n        .csrf().disable()\n        .anonymous().disable()\n        .authorizeRequests()\n        .antMatchers(\"/auth/token\").permitAll()\n}\n\n@Bean\nfun corsFilter(): FilterRegistrationBean&lt;*&gt; {\n    val source = UrlBasedCorsConfigurationSource()\n    val config = CorsConfiguration()\n    config.allowCredentials = java.lang.Boolean.TRUE\n    config.addAllowedOrigin(\"*\")\n    config.addAllowedHeader(\"*\")\n    config.addAllowedMethod(\"*\")\n    source.registerCorsConfiguration(\"/**\", config)\n    val bean = FilterRegistrationBean(CorsFilter(source))\n    bean.order = 0\n    return bean\n}\n</code></pre>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1542815818, "post_id": 53415832, "comment_id": 93706199, "body": "How are you calling that code?"}, {"owner": {"reputation": 23, "user_id": 10686716, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F4SPzI2ipp0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g4YnFH_vZDeGCt5H5JbiChFI3mEw/mo/photo.jpg?sz=128", "display_name": "Tim van de Wal", "link": "https://stackoverflow.com/users/10686716/tim-van-de-wal"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1542816802, "post_id": 53415832, "comment_id": 93706799, "body": "The SDK has a reference to my Activity which is &#39;listener&#39;"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1542873428, "post_id": 53415832, "comment_id": 93726592, "body": "Try annotating the MyActivity class with @JvmSuppressWildcards. If I correctly understand what the problem is, this should help. <a href=\"http://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#variant-generics\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 10686716, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F4SPzI2ipp0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g4YnFH_vZDeGCt5H5JbiChFI3mEw/mo/photo.jpg?sz=128", "display_name": "Tim van de Wal", "link": "https://stackoverflow.com/users/10686716/tim-van-de-wal"}, "edited": false, "score": 0, "creation_date": 1542964234, "post_id": 53415832, "comment_id": 93760177, "body": "@JvmSuppressWildcards does not work unfortunately. The result of the reflection as written above is still the same -&gt; It returns &#39;Object&#39; instead of &#39;ModelClass&#39;. I updated the post with some information about the Listener."}], "owner": {"reputation": 23, "user_id": 10686716, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F4SPzI2ipp0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g4YnFH_vZDeGCt5H5JbiChFI3mEw/mo/photo.jpg?sz=128", "display_name": "Tim van de Wal", "link": "https://stackoverflow.com/users/10686716/tim-van-de-wal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542964041, "creation_date": 1542815594, "last_edit_date": 1542964041, "question_id": 53415832, "link": "https://stackoverflow.com/questions/53415832/kotlin-reflection-returns-incorrect-type", "title": "Kotlin reflection returns incorrect type", "body": "<p>I have an activity that implements a listener with a generic type that requires me to implement the onResponse function.</p>\n\n<p>The listener is defined in the following format:</p>\n\n<pre><code>public interface ListenerClass&lt;T&gt; {\n    onResponse(T type)\n}\n</code></pre>\n\n<p>And my activity implements it using <code>T == ModelClass</code>.</p>\n\n<pre><code>class MyActivity : ListenerClass&lt;ModelClass&gt; {\n\n    (...)\n\n    override fun onResponse(response: ModelClass) {\n         (...)\n    }\n}\n</code></pre>\n\n<p>The listener is part of an SDK so I cannot change any code in there. They use a piece of reflection to get the type of my 'ModelClass' using the following code:</p>\n\n<pre><code>listener.getClass().getDeclaredMethods()[onResponseIndex].getParameterTypes()[0]\n</code></pre>\n\n<p>The result of this code should be <code>Class&lt;ModelClass&gt;</code> but I get <code>Class&lt;Object&gt;</code>. I found out that when I call the code above on a Java class, I get the correct result, but my activity is written in Kotlin.</p>\n\n<p>1) How can I get the parameter type of a kotlin function using reflection?</p>\n\n<p>2) If I have an answer to question 1 I still won't be able to change the SDK's code. Is there anything I can write in my Kotlin code that makes the piece of code above find the correct parameter class type?</p>\n"}, {"tags": ["android", "kotlin", "mpandroidchart"], "comments": [{"owner": {"reputation": 1088, "user_id": 6235974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nchYR.jpg?s=128&g=1", "display_name": "Merov", "link": "https://stackoverflow.com/users/6235974/merov"}, "edited": false, "score": 0, "creation_date": 1542815307, "post_id": 53415450, "comment_id": 93705852, "body": "Maybe it&#39;ll help <a href=\"https://stackoverflow.com/questions/39772646/mpandroidchart-can-i-set-different-colours-for-the-x-axis-labels\" title=\"mpandroidchart can i set different colours for the x axis labels\">stackoverflow.com/questions/39772646/&hellip;</a>"}, {"owner": {"reputation": 343, "user_id": 7179198, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6415b764f772a6ce4b9825efbb94fc92?s=128&d=identicon&r=PG&f=1", "display_name": "A.Danibo", "link": "https://stackoverflow.com/users/7179198/a-danibo"}, "reply_to_user": {"reputation": 1088, "user_id": 6235974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nchYR.jpg?s=128&g=1", "display_name": "Merov", "link": "https://stackoverflow.com/users/6235974/merov"}, "edited": false, "score": 0, "creation_date": 1542815975, "post_id": 53415450, "comment_id": 93706302, "body": "I already saw this question before typing mine. In his case, the bars colors are rendered and then the color doesn&#39;t change. The XAxisRenderer is totally fine for this, because the colors won&#39;t change later. What I need to do is that if I highlight a bar (click on it), the color changes, and if I click on another bar, it returns to the base color and the other clicked element takes the highlighted color."}, {"owner": {"reputation": 1088, "user_id": 6235974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nchYR.jpg?s=128&g=1", "display_name": "Merov", "link": "https://stackoverflow.com/users/6235974/merov"}, "edited": false, "score": 1, "creation_date": 1542817177, "post_id": 53415450, "comment_id": 93707046, "body": "I see. I have no time to test it myself now for my regret. But also found this, hope it can help: <a href=\"https://github.com/PhilJay/MPAndroidChart/wiki/Highlighting\" rel=\"nofollow noreferrer\">github.com/PhilJay/MPAndroidChart/wiki/Highlighting</a>"}], "owner": {"reputation": 343, "user_id": 7179198, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6415b764f772a6ce4b9825efbb94fc92?s=128&d=identicon&r=PG&f=1", "display_name": "A.Danibo", "link": "https://stackoverflow.com/users/7179198/a-danibo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 431, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542816227, "creation_date": 1542814364, "last_edit_date": 1542816227, "question_id": 53415450, "link": "https://stackoverflow.com/questions/53415450/mpandroidchart-barchart-set-the-color-of-the-label-associated-to-the-highlighte", "title": "MPAndroidChart Barchart: Set the color of the label associated to the highlighted bar", "body": "<p>I am currently using MPAndroidChart on a project. I am using a BarChart with a custom BarChartRenderer and XAxisRenderer.</p>\n\n<p>The problem I'm facing is that I would like the label associated to the highlighted (clicked) bar to be colored the same color as the bar.</p>\n\n<p>Is there a way to do that by overriding lib functions/classes?</p>\n\n<p>Here is a screenshot of the actual state of my chart (the bar on Oct. 16th is highlighted).</p>\n\n<p><a href=\"https://i.stack.imgur.com/n2uce.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n2uce.png\" alt=\"enter image description here\"></a></p>\n\n<p>And here is what I would like to have as a final result</p>\n\n<p><a href=\"https://i.stack.imgur.com/IqmNc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IqmNc.png\" alt=\"enter image description here\"></a></p>\n\n<p>Has anyone tried to do this kind of thing on MPAndroidChart?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 19418, "user_id": 436938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72902e381169328186e2b089032aeee1?s=128&d=identicon&r=PG", "display_name": "Sergey Glotov", "link": "https://stackoverflow.com/users/436938/sergey-glotov"}, "edited": false, "score": 0, "creation_date": 1542814562, "post_id": 53415323, "comment_id": 93705405, "body": "How do you invoke the method?"}], "answers": [{"tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 2, "last_activity_date": 1542816067, "creation_date": 1542816067, "answer_id": 53415989, "question_id": 53415323, "link": "https://stackoverflow.com/questions/53415323/i-cant-invoke-object-method-from-activity/53415989#53415989", "title": "I can&#39;t invoke object method from activity", "body": "<p>If you want to make it static,just put <code>@JvmStatic</code> annotation before your function &amp; call :</p>\n\n<pre><code>StaticMethods.clearProgressPreferences()\n</code></pre>\n\n<p>If you want to access it as it is then use like this :</p>\n\n<pre><code>StaticMethods.INSTANCE.clearProgressPreferences()\n</code></pre>\n"}], "owner": {"reputation": 863, "user_id": 10585833, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xIf_dd5wUlc/AAAAAAAAAAI/AAAAAAAAAE4/qj4bCa_d6mE/photo.jpg?sz=128", "display_name": "Dima", "link": "https://stackoverflow.com/users/10585833/dima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542818717, "creation_date": 1542813998, "last_edit_date": 1542818717, "question_id": 53415323, "link": "https://stackoverflow.com/questions/53415323/i-cant-invoke-object-method-from-activity", "title": "I can&#39;t invoke object method from activity", "body": "<p>I have an object method instead of static in java</p>\n\n<pre><code>object StaticMethods{\nfun clearProgressPreferences(sp: SharedPreferences, level:String, test:String){\n    val edit = sp.edit()\n    edit.putInt(level+test+\"array_size\", 0)\n    edit.apply()\n}\n</code></pre>\n\n<p>When i try to invoke it, i get the <code>java.lang.reflect.InvocationTargetException</code></p>\n\n<p>The same thing with companion object of any classes</p>\n"}, {"tags": ["kotlin", "async-await", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1542811747, "post_id": 53414607, "comment_id": 93703642, "body": "Try with <code>return@launch player</code>; but remember, you&#39;ll have to <code>await</code> the launch to return from the method itself. <code>launch</code> is async"}, {"owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1542811942, "post_id": 53414607, "comment_id": 93703764, "body": "@Zoe Thanks but now it says <code>type mismatch Required Unit Found Player</code>"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1542812008, "post_id": 53414607, "comment_id": 93703802, "body": "Nvm then. Launch probably doesn&#39;t support returning values. Besides, when you launch async like that, you can&#39;t return from the method without blocking the thread. You could use <code>runBlocking</code> instead of <code>launch</code>"}, {"owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1542812148, "post_id": 53414607, "comment_id": 93703900, "body": "@Zoe Yep. That compiles.  I will try that thanks"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1542812199, "post_id": 53414607, "comment_id": 93703940, "body": "Note that it will block the thread; be careful if you use it on the main thread, or you risk the OS considering it to be timed out."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1542820061, "post_id": 53414607, "comment_id": 93708788, "body": "@Zoe <code>runBlocking { async { blockingFunction() }.await() }</code> is a very silly way to write <code>blockingFunction()</code>. Both snippets achieve exactly the same thing and the former doesn&#39;t just look more complex, it&#39;s executed in a much more complex way, too."}], "answers": [{"comments": [{"owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "edited": false, "score": 0, "creation_date": 1542812492, "post_id": 53414747, "comment_id": 93704123, "body": "Thank you.  Is <code>Dispatchers</code> new in Kotlin as I have <code>1.2.61</code> and get <code>Unresolved reference</code>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "edited": false, "score": 0, "creation_date": 1542812621, "post_id": 53414747, "comment_id": 93704201, "body": "Yes, this answer uses the official coroutines API."}, {"owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "edited": false, "score": 0, "creation_date": 1542812761, "post_id": 53414747, "comment_id": 93704285, "body": "Sweet.  I will upgrade and take your advise.  I&#39;ll get back here later and mark the answer as correct if it helps me."}, {"owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "edited": false, "score": 0, "creation_date": 1542816512, "post_id": 53414747, "comment_id": 93706630, "body": "Turns out I&#39;ll need to refactor my code a little for the 1.3.0 Coroutines but I will respond to your answer once I have.  Probably a day or so."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 4, "last_activity_date": 1542813307, "last_edit_date": 1542813307, "creation_date": 1542812115, "answer_id": 53414747, "question_id": 53414607, "link": "https://stackoverflow.com/questions/53414607/how-can-i-return-an-awaited-value-in-kotlin/53414747#53414747", "title": "How can I return an awaited value in Kotlin?", "body": "<p>It is impossible to run a coroutine on a raw thread. At the very least you must turn an existing thread into one that spins a top-level event loop. You achieve this with a <code>runBlocking</code> call on the very top of the thread's call stack (i.e., inside its <code>run()</code> method).</p>\n\n<p>On a GUI thread or any other kind of thread that runs an event loop, you need a matching <code>Dispatcher</code> that submits coroutines to this event loop. Kotlin already provides dispatchers for Swing, JavaFX, Android etc. In these cases you need to <code>launch</code> a coroutine from some existing GUI event handler, like this:</p>\n\n<pre><code>myScope.launch {\n    val player = test()\n    ... use the player ...\n}\n</code></pre>\n\n<p><code>myScope</code> must be an object that implements <code>CoroutineScope</code> with something like this:</p>\n\n<pre><code>override val coroutineContext = Dispatchers.Main + SupervisorJob()\n</code></pre>\n\n<p>This will give you a way to cleanly cancel all the coroutines running within the same scope, by calling</p>\n\n<pre><code>coroutineContext[Job]!!.cancel()\n</code></pre>\n\n<p>My example uses the <code>Main</code> dispatcher, which resolves to the GUI thread when you import the Kotlin coroutines library matching your UI framework.</p>\n\n<p>The <code>test()</code> function must become a <code>suspend fun</code> that temporarily switches the dispatcher to a thread pool for blocking operations. Here's how a basic example could look:</p>\n\n<pre><code>suspend fun test() = withContext(Dispatchers.IO) {\n    MainActivity.database?.playerDao()!!.loadPlayer()\n}\n</code></pre>\n\n<p>Finally, note I don't mention <code>async</code> at all in this answer. Kotlin's <code>async</code> has a very specific purpose, it is not a general facility like in other languages. Its purpose is strictly parallel decomposition, where you decompose a single task into several concurrent subtasks.</p>\n"}], "owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1986, "favorite_count": 0, "accepted_answer_id": 53414747, "answer_count": 1, "score": 1, "last_activity_date": 1552980455, "creation_date": 1542811661, "last_edit_date": 1552980455, "question_id": 53414607, "link": "https://stackoverflow.com/questions/53414607/how-can-i-return-an-awaited-value-in-kotlin", "title": "How can I return an awaited value in Kotlin?", "body": "<p>I need <code>test()</code> to return a player from my db.  I know I can use a callback but how can I make this work with <code>async</code> <code>await</code>?</p>\n\n<pre><code>fun test(): Player {\n    launch(UI) {\n        val player = async(CommonPool) { MainActivity.database?.playerDao()!!.loadPlayer() }.await()\n        return player\n    }\n}\n</code></pre>\n\n<p>Currently the error is <code>return is not allowed here</code></p>\n\n<p>In <code>JavaScript</code> for example I would make <code>test</code> <code>async</code> then <code>await</code> it's result from where it's called.</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 4638, "user_id": 183665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/57fbdf96ca9ee1dc118068304d323a11?s=128&d=identicon&r=PG", "display_name": "Jonas Schmid", "link": "https://stackoverflow.com/users/183665/jonas-schmid"}, "edited": false, "score": 0, "creation_date": 1542869481, "post_id": 53421662, "comment_id": 93724784, "body": "With this method, the channel is closed as soon as I leave <code>produce()</code>. I want to keep it alive because the <code>channel.send()</code> are asynchronous. They come from a callback from an object that I don&#39;t own. I updated my sample to make it a bit clearer."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1542870611, "post_id": 53421662, "comment_id": 93725282, "body": "Do you want to create a new <code>Job</code> on each access of <code>coroutineContext</code>?"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "reply_to_user": {"reputation": 4638, "user_id": 183665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/57fbdf96ca9ee1dc118068304d323a11?s=128&d=identicon&r=PG", "display_name": "Jonas Schmid", "link": "https://stackoverflow.com/users/183665/jonas-schmid"}, "edited": false, "score": 0, "creation_date": 1542880899, "post_id": 53421662, "comment_id": 93730717, "body": "@Jonas Channel is closed when you tell it to close. In your case, you probably want to wrap <code>channel.send()</code> in either a loop over incoming channel or as a callback listener."}, {"owner": {"reputation": 4638, "user_id": 183665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/57fbdf96ca9ee1dc118068304d323a11?s=128&d=identicon&r=PG", "display_name": "Jonas Schmid", "link": "https://stackoverflow.com/users/183665/jonas-schmid"}, "edited": false, "score": 0, "creation_date": 1542992483, "post_id": 53421662, "comment_id": 93773643, "body": "<code>channel.send()</code> is indeed called from a callback listener of Android Fused Location Provider. But right when the code returns from <code>produce()</code>, the channel is closed and the callback never has a chance to send values."}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1542841338, "creation_date": 1542841338, "answer_id": 53421662, "question_id": 53414253, "link": "https://stackoverflow.com/questions/53414253/close-a-coroutine-channel-when-consumers-job-is-cancelled/53421662#53421662", "title": "Close a Coroutine channel when consumer&#39;s Job is cancelled", "body": "<p>You expect that <code>job.cancel()</code> will propagate to your producer, but <code>Producer</code> is actually not related to anything. Marking function as <code>suspend</code> doesn't make it a coroutine.</p>\n\n<p>Here's one way to fix this with structured concurrency:</p>\n\n<pre><code>class Producer: CoroutineScope {\n    override val coroutineContext: CoroutineContext\n        get() = Job() + Dispatchers.Default\n\n    suspend fun start() = produce&lt;String&gt; {\n        channel.send(\"A\")\n\n        channel.invokeOnClose {\n            println(\"Closed\")\n        }\n    }\n}\n</code></pre>\n\n<p>Now your <code>Producer</code> is aware of <code>CoroutineScope</code>.</p>\n\n<p>And since we're using <code>produce</code>, you don't need to initialize your channel, as you did before.</p>\n"}], "owner": {"reputation": 4638, "user_id": 183665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/57fbdf96ca9ee1dc118068304d323a11?s=128&d=identicon&r=PG", "display_name": "Jonas Schmid", "link": "https://stackoverflow.com/users/183665/jonas-schmid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1108, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1542869515, "creation_date": 1542810426, "last_edit_date": 1542869515, "question_id": 53414253, "link": "https://stackoverflow.com/questions/53414253/close-a-coroutine-channel-when-consumers-job-is-cancelled", "title": "Close a Coroutine channel when consumer&#39;s Job is cancelled", "body": "<p>I have a simple producer and a consumer that use Coroutine channels. Here is a dumbed down version:</p>\n\n<pre><code>class Producer {\n\n  suspend fun start(): ReceiveChannel&lt;String&gt; {\n\n    val channel = Channel&lt;String&gt;(Channel.UNLIMITED)\n\n    // Asynchronous channel.send(it) from an object callback\n\n    channel.invokeOnClose {\n      // Channel is closed...\n    }\n\n    return channel\n  }\n\n}\n\nclass Consumer : CoroutineScope {\n\n  private val producer = Producer()\n\n  private val job = Job()\n  override val coroutineContext = job + Dispatchers.Default\n\n  fun start() {\n    launch {\n      val channel = producer.start()\n\n      for (currentValue in channel) {\n        // use currentValue\n      }\n    }\n  }\n\n  fun stop() {\n    job.cancel()\n  }\n\n}\n</code></pre>\n\n<p>The <code>Producer</code> create a channel, then fills it with values from an async job. The <code>Consumer</code> iterates over it and uses the values.</p>\n\n<p>My expectation was that when I call <code>job.cancel()</code> from the consumer, the channel iterator would throw and the channel would be closed. The <code>invokeOnClose</code> callback is never called.</p>\n\n<p>I could maintain a reference to the channel in the <code>Consumer</code> and do <code>channel.close()</code>. I want to know if there is a more clever solution to this. Maybe another way to iterate over the channel's values? Thanks?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>It looks like using </p>\n\n<pre><code>launch {\n    val channel = producer.start()\n\n    channel.consumeEach { currentValue -&gt;\n    // use currentValue\n    }\n}\n</code></pre>\n\n<p>Would do the trick. However <code>consumeEach()</code> is marked as Obsolete.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1542809020, "post_id": 53413776, "comment_id": 93702068, "body": "could you add some code?"}, {"owner": {"reputation": 352, "user_id": 2621411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XrhGf.png?s=128&g=1", "display_name": "inspiredMichael", "link": "https://stackoverflow.com/users/2621411/inspiredmichael"}, "edited": false, "score": 1, "creation_date": 1542809858, "post_id": 53413776, "comment_id": 93702577, "body": "Remove the private modifier in the [class name] Also ensure you do &quot;Sync Gradle&quot; after adding that library to your gradle file."}, {"owner": {"reputation": 10948, "user_id": 3066406, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/df99d2d2b4b56c850eede1315ae2aab5?s=128&d=identicon&r=PG&f=1", "display_name": "JohnL", "link": "https://stackoverflow.com/users/3066406/johnl"}, "edited": false, "score": 1, "creation_date": 1542810685, "post_id": 53413776, "comment_id": 93703034, "body": "I only have the jar file."}, {"owner": {"reputation": 2655, "user_id": 2294985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2d36P.jpg?s=128&g=1", "display_name": "Omar HossamEldin", "link": "https://stackoverflow.com/users/2294985/omar-hossameldin"}, "edited": false, "score": 0, "creation_date": 1542836051, "post_id": 53413776, "comment_id": 93715918, "body": "If this class is in a jar then you can do nothing about it, Such search another way for getting an instance, Maybe a static getInstance method, or a builder."}], "answers": [{"comments": [{"owner": {"reputation": 436, "user_id": 5897324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c09fb21483c5541c5e43e882d8e4ff0?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Miller", "link": "https://stackoverflow.com/users/5897324/richard-miller"}, "edited": false, "score": 0, "creation_date": 1588860681, "post_id": 53414600, "comment_id": 109067612, "body": "Thank you @Zoe How have you concluded that this error origins due to private constructor? I would like to read more about it."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 436, "user_id": 5897324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c09fb21483c5541c5e43e882d8e4ff0?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Miller", "link": "https://stackoverflow.com/users/5897324/richard-miller"}, "edited": false, "score": 2, "creation_date": 1588861118, "post_id": 53414600, "comment_id": 109067911, "body": "@Hatzil because that&#39;s exactly what the error says. <code>init</code>, which means the constructor in this context, is private in XYZ."}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 15, "last_activity_date": 1587543244, "last_edit_date": 1587543244, "creation_date": 1542811642, "answer_id": 53414600, "question_id": 53413776, "link": "https://stackoverflow.com/questions/53413776/is-there-a-solution-to-cannot-access-init-it-is-private-in-xyz/53414600#53414600", "title": "Is there a solution to &quot;Cannot access &#39;&lt;init&gt;&#39;: it is private in XYZ", "body": "<p>The error means the constructor is private. Given your <a href=\"https://stackoverflow.com/questions/53413776/is-there-a-solution-to-cannot-access-init-it-is-private-in-xyz#comment93703034_53413776\">comment</a>, I'm assuming you're using a library. If this is the case, you'll have to find a different way to initialize it. Some libraries have factories or builders for classes, so look up any applicable documentation (if it is a library or framework). Others also use the singleton pattern, or other forms of initialization where you, the developer, don't use the constructor directly.</p>\n\n<p>If, however, it is your code, remove <code>private</code> from the constructor(s). If it's <code>internal</code> and you're trying to access it outside the module, remove <code>internal</code>. Remember, <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/visibility-modifiers.html\" rel=\"noreferrer\">the default accessibility is <code>public</code></a>. Alternatively, you can use the builder pattern, factory pattern, or anything similar yourself. </p>\n"}, {"comments": [{"owner": {"reputation": 499, "user_id": 5048226, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a6f66f52bc861376c41ad78706becb2e?s=128&d=identicon&r=PG&f=1", "display_name": "limonik", "link": "https://stackoverflow.com/users/5048226/limonik"}, "edited": false, "score": 0, "creation_date": 1611934403, "post_id": 59042377, "comment_id": 116617465, "body": "The first unique feature in my case solved my problem. I am using two different data classes that are extended from sealed class. However I defined my data classes in different files. And I saw the same problem as it is here defined."}], "tags": [], "owner": {"reputation": 111, "user_id": 3663026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fde87e02a228e4fc2d5b932314ee015?s=128&d=identicon&r=PG&f=1", "display_name": "RJ.", "link": "https://stackoverflow.com/users/3663026/rj"}, "is_accepted": false, "score": 9, "last_activity_date": 1574750886, "last_edit_date": 1574750886, "creation_date": 1574731218, "answer_id": 59042377, "question_id": 53413776, "link": "https://stackoverflow.com/questions/53413776/is-there-a-solution-to-cannot-access-init-it-is-private-in-xyz/59042377#59042377", "title": "Is there a solution to &quot;Cannot access &#39;&lt;init&gt;&#39;: it is private in XYZ", "body": "<p>I came across this issue when trying to extend a sealed class in another file. Without seeing the library code it is hard to know if that is also what you are attempting to do.</p>\n\n<p>The sealed classes have the following unique features:</p>\n\n<blockquote>\n  <ul>\n  <li><p>A sealed class can have subclasses, but all of them must be declared in the same file as the sealed class itself.</p></li>\n  <li><p>A sealed class is abstract by itself, it cannot be instantiated directly and can have abstract members.</p></li>\n  <li><p>Sealed classes are not allowed to have non-private constructors (their constructors are private by default).</p></li>\n  <li><p>Classes that extend subclasses of a sealed class (indirect inheritors) can be placed anywhere, not necessarily in the same file.</p></li>\n  </ul>\n</blockquote>\n\n<p>For more info, have a read at <a href=\"https://www.ericdecanini.com/2019/10/14/kotlins-sealed-class-enums-on-steroids/\" rel=\"noreferrer\">https://www.ericdecanini.com/2019/10/14/kotlins-sealed-class-enums-on-steroids/</a></p>\n\n<p>Hopefully, this will help others new to Kotlin who are also encountering this issue.</p>\n"}], "owner": {"reputation": 10948, "user_id": 3066406, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/df99d2d2b4b56c850eede1315ae2aab5?s=128&d=identicon&r=PG&f=1", "display_name": "JohnL", "link": "https://stackoverflow.com/users/3066406/johnl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10597, "favorite_count": 0, "answer_count": 2, "score": 9, "last_activity_date": 1587543244, "creation_date": 1542808892, "last_edit_date": 1543265558, "question_id": 53413776, "link": "https://stackoverflow.com/questions/53413776/is-there-a-solution-to-cannot-access-init-it-is-private-in-xyz", "title": "Is there a solution to &quot;Cannot access &#39;&lt;init&gt;&#39;: it is private in XYZ", "body": "<p>I'm a Kotlin newbie.  I included a library I'd like to use, but in accessing on of it's classes I get the error message, \"Cannot access '&lt;init>': it is private in [class name]. Is there something I can do to rectify this on my side, or am I just stuck throwing out the package.</p>\n"}, {"tags": ["kotlin", "formatting", "code-documentation", "kdoc"], "answers": [{"tags": [], "owner": {"reputation": 8716, "user_id": 2938364, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vNRRo.jpg?s=128&g=1", "display_name": "Markus Weninger", "link": "https://stackoverflow.com/users/2938364/markus-weninger"}, "is_accepted": true, "score": 15, "last_activity_date": 1542806745, "creation_date": 1542806745, "answer_id": 53413064, "question_id": 53413060, "link": "https://stackoverflow.com/questions/53413060/how-to-add-formatting-such-as-bold-italic-underscore-etc-to-kotlin-documenat/53413064#53413064", "title": "How to add formatting such as bold, italic, underscore, etc. to Kotlin documenation (KDoc)", "body": "<p>As I wrote this question, I found the answer to it.\nSilly me, the link I was looking for even was <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html\" rel=\"noreferrer\">on the page I referenced</a> in the question.</p>\n\n<p>So, I will write an answer to my own question, probably someone else can profit from it in the future.</p>\n\n<p>The documentation states:</p>\n\n<blockquote>\n  <p><strong>Inline Markup</strong>\n  For inline markup, KDoc uses the regular <a href=\"https://daringfireball.net/projects/markdown/syntax\" rel=\"noreferrer\">Markdown</a> syntax, extended to support a shorthand syntax for linking to other elements in the code.</p>\n</blockquote>\n\n<p>So, to highlight a few points of <a href=\"https://daringfireball.net/projects/markdown/syntax\" rel=\"noreferrer\">Markdown</a>:</p>\n\n<ul>\n<li>Markdown treats asterisks (<code>*</code>) and underscores (<code>_</code>) as indicators of emphasis. Text wrapped with one <code>*</code> or <code>_</code> will be wrapped with an HTML <code>&lt;em&gt;</code> tag; double <code>*</code>\u2019s or <code>_</code>\u2019s will be wrapped with an HTML <code>&lt;strong&gt;</code> tag. Typically, a single asterik results in <em>italic</em>, while double asterik results in <strong>bold</strong>.</li>\n<li>Headers can be started with <code>#</code> (h1), <code>##</code> (h2), or <code>###</code> (h3). For example: <code># This is an H1</code></li>\n<li>Code can be wrapped in backticks</li>\n<li>Quotes start with a right arrow (<code>&gt;</code>)</li>\n<li>Markdown also supports unordered and ordered lists</li>\n<li><a href=\"https://daringfireball.net/projects/markdown/syntax#list\" rel=\"noreferrer\">... and more</a></li>\n</ul>\n"}], "owner": {"reputation": 8716, "user_id": 2938364, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vNRRo.jpg?s=128&g=1", "display_name": "Markus Weninger", "link": "https://stackoverflow.com/users/2938364/markus-weninger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1895, "favorite_count": 2, "accepted_answer_id": 53413064, "answer_count": 1, "score": 11, "last_activity_date": 1542806745, "creation_date": 1542806735, "question_id": 53413060, "link": "https://stackoverflow.com/questions/53413060/how-to-add-formatting-such-as-bold-italic-underscore-etc-to-kotlin-documenat", "title": "How to add formatting such as bold, italic, underscore, etc. to Kotlin documenation (KDoc)", "body": "<p>I found the page <em><a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html\" rel=\"noreferrer\">Documenting Kotlin Code</a></em> in the official Kotlin Reference.</p>\n\n<p>Yet, I could not find out how to highlight certain parts of the documentation, e.g., marking it as italic or bold.</p>\n\n<p>I am new to Kotlin, coming from Java, and have previously only been using JavaDoc, where we used <code>&lt;i&gt;</code> and <code>&lt;b&gt;</code> HTML tags to highlight parts in the documentation.</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1542807762, "post_id": 53412886, "comment_id": 93701255, "body": "I found the description in this github issue useful to read: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/410\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/issues/410</a>. As explained there, &quot;... coroutine builders like <code>launch { ... }</code> and <code>async { ... }</code> start a global coroutine by default... This seems to be a wrong default. Global coroutines are error-prone.&quot;  Now you can still do the same as the old behaviour if you want, by using <code>GlobalScope</code>, but it means you&#39;re explicitly doing this instead of accidentally doing it. And it&#39;s recommended that in most cases you shouldn&#39;t use <code>GlobalScope</code>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1542920610, "post_id": 53412886, "comment_id": 93749586, "body": "To cancel the job&#39;s children"}], "answers": [{"tags": [], "owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "is_accepted": false, "score": 4, "last_activity_date": 1542806627, "creation_date": 1542806627, "answer_id": 53413025, "question_id": 53412886, "link": "https://stackoverflow.com/questions/53412886/whats-the-concept-behind-a-coroutinescope/53413025#53413025", "title": "Whats the concept behind a CoroutineScope?", "body": "<p>It is related to the concept of <strong>structured concurrency</strong>, which defines a structure between coroutines.</p>\n\n<blockquote>\n  <p><a href=\"https://medium.com/@elizarov/structured-concurrency-722d765aa952\" rel=\"nofollow noreferrer\">On a more philosophical level</a>, you rarely launch coroutines \u201cglobally\u201d, like you do with threads. Coroutines are always related to some local scope in your application, which is an entity with a limited life-time, like a UI element. So, with structured concurrency we now require that launch is invoked in a CoroutineScope, which is an interface implemented by your life-time limited objects (like UI elements or their corresponding view models).</p>\n</blockquote>\n\n<p>As an evident consequence of this concept: by <code>cancel</code>ling the context of a <code>scope</code>, all it's subcoroutines will be canceled, too.</p>\n"}, {"comments": [{"owner": {"reputation": 4441, "user_id": 1716487, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cb7969a127a12e8707cfa9fb95431d58?s=128&d=identicon&r=PG", "display_name": "morpheus05", "link": "https://stackoverflow.com/users/1716487/morpheus05"}, "edited": false, "score": 1, "creation_date": 1542808420, "post_id": 53413431, "comment_id": 93701694, "body": "I&#39;m still unsure what the actual Job of a Scope is in relation to a coroutine. Its lifetime and job handling? Association with the actual threads (I mean in the end, code has to be executed by a thread, so someone, somehow needs to decide on which thread a coroutine needs to be executed)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 4441, "user_id": 1716487, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cb7969a127a12e8707cfa9fb95431d58?s=128&d=identicon&r=PG", "display_name": "morpheus05", "link": "https://stackoverflow.com/users/1716487/morpheus05"}, "edited": false, "score": 0, "creation_date": 1542808847, "post_id": 53413431, "comment_id": 93701960, "body": "It\u2019s about a coroutine\u2018s lifecycle in the end. The <code>CoroutineDispatcher</code> (just one part of the <code>CoroutineScope</code>) defines what threads to run on. You can for example say <code>launch(Dispatchers.Default)</code> to specify a dispatcher. Otherwise, you inherit from the outer scope"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 4441, "user_id": 1716487, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cb7969a127a12e8707cfa9fb95431d58?s=128&d=identicon&r=PG", "display_name": "morpheus05", "link": "https://stackoverflow.com/users/1716487/morpheus05"}, "edited": false, "score": 1, "creation_date": 1542811569, "post_id": 53413431, "comment_id": 93703530, "body": "@morpheus05 Don&#39;t forget that the same coroutine can pass from thread to thread, there is no single decision on which thread it will run. While it&#39;s suspended, it&#39;s not assigned to any thread, and a new decision is made each time it resumes. You can also switch threads without suspending, using <code>withContext</code>. The best mental model to use is that a coroutine&#39;s &quot;substrate&quot; on which it runs is a thread, just like a CPU core is the substrate on which a thread runs."}, {"owner": {"reputation": 4441, "user_id": 1716487, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cb7969a127a12e8707cfa9fb95431d58?s=128&d=identicon&r=PG", "display_name": "morpheus05", "link": "https://stackoverflow.com/users/1716487/morpheus05"}, "edited": false, "score": 1, "creation_date": 1542829602, "post_id": 53413431, "comment_id": 93713187, "body": "If I look at the CoroutineScope its an interface with one field, coroutineContext: CoroutineContext. But why then this interface? Can the context change during the lifecycle of a scope? Why was this interface introduced and lets say we would only work with CoroutineContext?"}, {"owner": {"reputation": 1537, "user_id": 1392366, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/FBF0r.png?s=128&g=1", "display_name": "LiTTle", "link": "https://stackoverflow.com/users/1392366/little"}, "edited": false, "score": 0, "creation_date": 1547816114, "post_id": 53413431, "comment_id": 95332709, "body": "I have written an example (<a href=\"https://github.com/BILLyTheLiTTle/KotlinExperiments/blob/master/src/main/kotlin/coroutines/Scopes.kt\" rel=\"nofollow noreferrer\">github.com/BILLyTheLiTTle/KotlinExperiments/blob/master/src&zwnj;&#8203;/&hellip;</a>) on my own just to understand. I am wondering, is there any advantage/disadvantage using <code>GlobalScope.launch(Dispatchers.IO) {...}</code> instead of <code>CoroutineScope(Dispatchers.IO).launch {...}</code> or vice versa?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 7, "last_activity_date": 1542920309, "last_edit_date": 1542920309, "creation_date": 1542807816, "answer_id": 53413431, "question_id": 53412886, "link": "https://stackoverflow.com/questions/53412886/whats-the-concept-behind-a-coroutinescope/53413431#53413431", "title": "Whats the concept behind a CoroutineScope?", "body": "<p>You can still use global \"standalone\" coroutines by spawning them in <code>GlobalScope</code>:</p>\n\n<pre><code>GlobalScope.launch {\n    println(\"I'm running unstructured\")\n}\n</code></pre>\n\n<p>However, it's not recommended to do this since creating coroutines on a global scope is basically the same we did with good old threads. You create them but somehow need to keep track of a reference to later join/cancel them.</p>\n\n<p>Using structured concurrency, that is nesting coroutines in their scopes, you will have a more maintainable system overall. For example, if you spawn a coroutine inside another one, you inherit the outer scope. This has multiple advantages. If you cancel the outer coroutine, the cancellation will be delegated to its inner coroutines. Also, you can be sure that the outer coroutine will not complete before all its children coroutines have done their work.</p>\n\n<p>There's also a very good example shown in the <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-scope/\" rel=\"nofollow noreferrer\">documentation</a> for <code>CoroutineScope</code>.</p>\n\n<blockquote>\n  <p>CoroutineScope should be implemented on entities with well-defined lifecycle that are responsible for launching children coroutines. Example of such entity on Android is Activity.</p>\n</blockquote>\n\n<p>After all, the first version of your shown <code>produceSquares</code> methods is better as it is only executable if invoked in a <code>CoroutineScope</code>. That means you can run it inside any other coroutine:</p>\n\n<pre><code>launch {\n    produceSquares()\n}\n</code></pre>\n\n<p>The coroutine created inside <code>produceSquares</code> inherits the scope of <code>launch</code>. You can be sure that <code>launch</code> does not complete before <code>produceSquares</code>. Also, if you cancelled <code>launch</code>, this would also effect <code>produceSquares</code>.</p>\n\n<p>Furthermore, you can still create a globally running coroutine like this:</p>\n\n<pre><code>GlobalScope.produceSquares()\n</code></pre>\n\n<p>But, as mentioned, that's not the best option in most cases.</p>\n\n<p>I'd also like to promote an article I wrote. There are some examples demonstrating what scopes mean: <a href=\"https://kotlinexpertise.com/kotlin-coroutines-concurrency/\" rel=\"nofollow noreferrer\">https://kotlinexpertise.com/kotlin-coroutines-concurrency/</a></p>\n"}], "owner": {"reputation": 4441, "user_id": 1716487, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cb7969a127a12e8707cfa9fb95431d58?s=128&d=identicon&r=PG", "display_name": "morpheus05", "link": "https://stackoverflow.com/users/1716487/morpheus05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1576, "favorite_count": 0, "answer_count": 2, "score": 14, "last_activity_date": 1542920309, "creation_date": 1542806127, "last_edit_date": 1542811316, "question_id": 53412886, "link": "https://stackoverflow.com/questions/53412886/whats-the-concept-behind-a-coroutinescope", "title": "Whats the concept behind a CoroutineScope?", "body": "<p>After reading the introduction and the javadoc of <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-scope/index.html\" rel=\"noreferrer\">CoroutineScope</a> I'm still a little confused what the idea behind a <code>CoroutineScope</code> is.</p>\n\n<p>The first sentence of the doc \"Defines a scope for new coroutines.\" is not clear to me: Why do my coroutines need a scope?</p>\n\n<p>Also, why are standalone coroutine builders deprecated? Why is it better to do this:</p>\n\n<pre><code>fun CoroutineScope.produceSquares(): ReceiveChannel&lt;Int&gt; = produce {\n    for (x in 1..5) send(x * x)\n}\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>fun produceSquares(): ReceiveChannel&lt;Int&gt; = produce { //no longer an extension function\n    for (x in 1..5) send(x * x)\n}\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "drawable", "bottomnavigationview"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1542804720, "post_id": 53412393, "comment_id": 93699516, "body": "We need to whole stacktrace."}, {"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1542805042, "post_id": 53412393, "comment_id": 93699701, "body": "@TheWanderer it&#39;s on :)"}, {"owner": {"reputation": 400, "user_id": 235513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZS77z.png?s=128&g=1", "display_name": "Ankhwatcher", "link": "https://stackoverflow.com/users/235513/ankhwatcher"}, "edited": false, "score": 0, "creation_date": 1542805261, "post_id": 53412393, "comment_id": 93699812, "body": "Do you have the dependency in gradle? <a href=\"https://developer.android.com/topic/libraries/support-library/packages#design\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/support-library/&hellip;</a>"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1542805278, "post_id": 53412393, "comment_id": 93699829, "body": "<code>The style on this component requires your app theme to be Theme.AppCompat (or a descendant)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "is_accepted": true, "score": 2, "last_activity_date": 1542812134, "creation_date": 1542812134, "answer_id": 53414752, "question_id": 53412393, "link": "https://stackoverflow.com/questions/53412393/kotlin-bottomnavigation-in-item-of-recyclerview-android-view-inflateexception/53414752#53414752", "title": "Kotlin - BottomNavigation in item of RecyclerView- android.view.InflateException: Binary XML file line #91: Error inflating class", "body": "<p>Thank you @TheWanderer, for the right answer!</p>\n\n<p>I just added the <code>android:theme=\"@style/Base.Theme.AppCompat</code> to my <code>BottomNavigationView</code> in XML. It works!</p>\n"}], "owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 1, "accepted_answer_id": 53414752, "answer_count": 1, "score": 3, "last_activity_date": 1542812134, "creation_date": 1542804531, "last_edit_date": 1542805009, "question_id": 53412393, "link": "https://stackoverflow.com/questions/53412393/kotlin-bottomnavigation-in-item-of-recyclerview-android-view-inflateexception", "title": "Kotlin - BottomNavigation in item of RecyclerView- android.view.InflateException: Binary XML file line #91: Error inflating class", "body": "<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.rita.mpds, PID: 8331\n    android.view.InflateException: Binary XML file line #91: Binary XML file line #91: Error inflating class &lt;unknown&gt;\n    Caused by: android.view.InflateException: Binary XML file line #91: Error inflating class &lt;unknown&gt;\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at com.example.rita.mpds.Auxiliares.CartaoTipologiaAdapter.onCreateViewHolder(CartaoTipologiaAdapter.kt:17)\n        at com.example.rita.mpds.Auxiliares.CartaoTipologiaAdapter.onCreateViewHolder(CartaoTipologiaAdapter.kt:15)\n        at android.support.v7.widget.RecyclerView$Adapter.createViewHolder(RecyclerView.java:6794)\n        at android.support.v7.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:5975)\n        at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5858)\n        at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5854)\n        at android.support.v7.widget.LayoutState.next(LayoutState.java:100)\n        at android.support.v7.widget.StaggeredGridLayoutManager.fill(StaggeredGridLayoutManager.java:1609)\n        at android.support.v7.widget.StaggeredGridLayoutManager.onLayoutChildren(StaggeredGridLayoutManager.java:683)\n        at android.support.v7.widget.StaggeredGridLayoutManager.onLayoutChildren(StaggeredGridLayoutManager.java:605)\n        at android.support.v7.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:3924)\n        at android.support.v7.widget.RecyclerView.onMeasure(RecyclerView.java:3336)\n        at android.view.View.measure(View.java:23279)\n        at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:715)\n        at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:461)\n        at android.view.View.measure(View.java:23279)\n        at android.widget.ScrollView.measureChildWithMargins(ScrollView.java:2226)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.widget.ScrollView.onMeasure(ScrollView.java:566)\n        at android.view.View.measure(View.java:23279)\n        at android.support.v4.widget.NestedScrollView.measureChildWithMargins(NestedScrollView.java:1502)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.support.v4.widget.NestedScrollView.onMeasure(NestedScrollView.java:556)\n        at android.view.View.measure(View.java:23279)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6928)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.view.View.measure(View.java:23279)\n        at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1638)\n        at android.view.View.measure(View.java:23279)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6928)\n        at android.support.design.widget.CoordinatorLayout.onMeasureChild(CoordinatorLayout.java:733)\n        at android.support.design.widget.HeaderScrollingViewBehavior.onMeasureChild(HeaderScrollingViewBehavior.java:95)\n        at android.support.design.widget.AppBarLayout$ScrollingViewBehavior.onMeasureChild(AppBarLayout.java:1556)\n        at android.support.design.widget.CoordinatorLayout.onMeasure(CoordinatorLayout.java:803)\n        at android.view.View.measure(View.java:23279)\nE/AndroidRuntime:     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6928)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:143)\n        at android.view.View.measure(View.java:23279)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6928)\n        at android.support.v7.widget.ActionBarOverlayLayout.onMeasure(ActionBarOverlayLayout.java:401)\n        at android.view.View.measure(View.java:23279)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6928)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.view.View.measure(View.java:23279)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6928)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1514)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:806)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:685)\n        at android.view.View.measure(View.java:23279)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6928)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at com.android.internal.policy.DecorView.onMeasure(DecorView.java:898)\n        at android.view.View.measure(View.java:23279)\n        at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2873)\n        at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1910)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2221)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1779)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7810)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:911)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:723)\n        at android.view.Choreographer.doFrame(Choreographer.java:658)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:897)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6938)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n     Caused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.AppCompat (or a descendant).\n        at android.support.design.internal.ThemeEnforcement.checkTheme(ThemeEnforcement.java:221)\n        at android.support.design.internal.ThemeEnforcement.checkAppCompatTheme(ThemeEnforcement.java:196)\n        at android.support.design.internal.ThemeEnforcement.checkCompatibleTheme(ThemeEnforcement.java:131)\n        at android.support.design.internal.ThemeEnforcement.obtainTintedStyledAttributes(ThemeEnforcement.java:110)\n        at android.support.design.widget.BottomNavigationView.&lt;init&gt;(BottomNavigationView.java:138)\n        at android.support.design.widget.BottomNavigationView.&lt;init&gt;(BottomNavigationView.java:114)\n            ... 83 more\n</code></pre>\n\n<p>This is the error that AS gave me, and I know this type a answer has been answered many times before but... I think we got a different problem now. I've checked all the sizes of the items that BottomNavigation has, and here it go one exemple of it:</p>\n\n<pre><code>&lt;vector android:height=\"24dp\" android:viewportHeight=\"24\"\nandroid:viewportWidth=\"24\" android:width=\"24dp\" xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;path android:fillColor=\"#FFFFFF\" android:pathData=\"M21,9H15V22H13V16H11V22H9V9H3V7H21M12,2A2,2 0,0 1,14 4A2,2 0,0 1,12 6C10.89,6 10,5.1 10,4C10,2.89 10.89,2 12,2Z\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>So, the BottomNavigation is part of the item of the RecyclerView, and when I comment it the app run, thus... maybe the problem is here:</p>\n\n<pre><code>&lt;android.support.design.widget.BottomNavigationView\n            android:id=\"@+id/nav_bottom\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"15dp\"\n            android:background=\"#c2766f\"\n            app:itemIconTint=\"@color/white\"\n            app:itemTextColor=\"@color/white\"\n            app:layout_constraintTop_toBottomOf=\"@id/pageIndicatorView\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:labelVisibilityMode=\"labeled\"\n            app:menu=\"@menu/menu_cdu\"/&gt;\n</code></pre>\n\n<p>The menu:</p>\n\n<pre><code> &lt;menu\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n    &lt;item\n        android:id=\"@+id/localizacao_barra_cartao\"\n        android:orderInCategory=\"1\"\n        android:icon=\"@drawable/ic_chart\"\n        app:showAsAction=\"always|collapseActionView\"\n        android:title=\"Localiza\u00e7\u00e3o\"&gt;\n    &lt;/item&gt;\n\n    &lt;item\n        android:id=\"@+id/relatorio_barra_cartao\"\n        android:orderInCategory=\"2\"\n        android:icon=\"@drawable/ic_chart\"\n        app:showAsAction=\"always|collapseActionView\"\n        android:title=\"Relat\u00f3rio\"&gt;\n    &lt;/item&gt;\n\n    &lt;item\n        android:id=\"@+id/sopiniao_barra_cartao\"\n        android:orderInCategory=\"3\"\n        android:icon=\"@drawable/ic_chart\"\n        app:showAsAction=\"always|collapseActionView\"\n        android:title=\"2\u00aa Opini\u00e3o\"&gt;\n    &lt;/item&gt;\n\n    &lt;item\n        android:id=\"@+id/nova_foto_barra_cartao\"\n        android:orderInCategory=\"4\"\n        android:icon=\"@drawable/ic_chart\"\n        app:showAsAction=\"always|collapseActionView\"\n        tools:ignore=\"MenuTitle\"\n        android:visible=\"true\"\n        android:title=\"Nova foto\"&gt;\n    &lt;/item&gt;\n&lt;/menu&gt;\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542804250, "post_id": 53412248, "comment_id": 93699265, "body": "I don&#39;t know of any <code>where</code>-keyword... what do you mean? Note: generic type information is erased at runtime, so think of it as if you just have written <code>t: Any</code>. Clearly you can&#39;t access <code>Any.name</code> as it does not exist... You could access it via reflection though..."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542804778, "post_id": 53412248, "comment_id": 93699552, "body": "Note: if you do not require to support objects created via <code>object { val name : String }</code> then both shown answers will probably already suite your needs. If you require more, you need to take the reflection route."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542804822, "post_id": 53412248, "comment_id": 93699571, "body": "Is it like that &quot;generics&quot; in kotlin are same shity generic like stuff like in Java?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542804929, "post_id": 53412248, "comment_id": 93699624, "body": "basically yes, because it&#39;s just the same ;-) but in Kotlin you can also make use of <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\"><code>reified</code> type parameters</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542805101, "post_id": 53412248, "comment_id": 93699733, "body": "I just started with this language and it seems I like it same as Java :D"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542805207, "post_id": 53412248, "comment_id": 93699783, "body": "it is similar to Java... I come from the Java-world and can just say: it&#39;s very easy to switch and it is way more convenient/pragmatic in many cases. I will add an answer just showing how you could deal with the generics part in Kotlin..."}, {"owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "edited": false, "score": 0, "creation_date": 1542805239, "post_id": 53412248, "comment_id": 93699799, "body": "<code>reified</code> works with <code>inline fun</code> only.  And again you cannot access members with even <code>reified</code>, you can access only the class information. like in java <code>T.class</code> won&#39;t be possible whereas with <code>reified</code> you can do <code>T::class.java</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "edited": false, "score": 0, "creation_date": 1542805397, "post_id": 53412248, "comment_id": 93699886, "body": "I though the point is to fix retarded Java quirks not to replicate them :D"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542805516, "post_id": 53412248, "comment_id": 93699946, "body": "well usually you have a type, do you? And if you have a type, you could use any of the shown answers. But your sample shows an anonymous type... and that&#39;s... well... special ;-)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "edited": false, "score": 0, "creation_date": 1542805806, "post_id": 53412248, "comment_id": 93700074, "body": "the point is I don&#39;t have."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542805894, "post_id": 53412248, "comment_id": 93700131, "body": "that&#39;s not completely true... actually you have one... but still: it is anonymous... you can&#39;t access it, except via reflection."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "edited": false, "score": 0, "creation_date": 1542806007, "post_id": 53412248, "comment_id": 93700200, "body": "I know, wand I would like to stay only with this &quot;implicit&quot; type, cause its only onstance of it , and creating Java lovers factory bridge creator whatever to call it to thousends of fuctions its ridicouls and shadows the case i want to solve as possible as simple"}], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542804545, "post_id": 53412380, "comment_id": 93699426, "body": "with the given sample <code>object { val name = &quot;Foo&quot; }</code> this will not work however..."}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542805723, "post_id": 53412380, "comment_id": 93700040, "body": "in c++ you&#39;ve done it using template, so created a specific type that has <code>name</code> field. in the case of object expression precise type is anonymous, because it is &quot;one-time&quot; only. if some specific member is needed, than some specific type should be provided as a boundary."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "edited": false, "score": 0, "creation_date": 1542805907, "post_id": 53412380, "comment_id": 93700144, "body": "it is same in the case of c++ example"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1542805994, "post_id": 53412380, "comment_id": 93700196, "body": "sorry, may be I ain&#39;t right about c++: I&#39;m not qualified with this language. but as far as I can understand, a pointer is used here"}], "tags": [], "owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "is_accepted": false, "score": 0, "last_activity_date": 1542804506, "creation_date": 1542804506, "answer_id": 53412380, "question_id": 53412248, "link": "https://stackoverflow.com/questions/53412248/acces-object-atribute-in-generic-funtion/53412380#53412380", "title": "Acces object atribute in generic funtion", "body": "<p>If you want to access some specific type's members, then you should apply an <strong>upper bound to the type parameter</strong>.\nIt is possible to implement like so:</p>\n\n<pre><code>fun &lt;T : MyTypeThatHasNameProperty&gt; foo(t: T): String{\n    return t.name\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542804687, "post_id": 53412388, "comment_id": 93699501, "body": "with the given sample <code>object { val name = &quot;Foo&quot; }</code> this will not work however..."}, {"owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542805073, "post_id": 53412388, "comment_id": 93699717, "body": "@Roland Yes, Thats the reason I provided alternative approach.  See the updated answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "edited": false, "score": 0, "creation_date": 1542805224, "post_id": 53412388, "comment_id": 93699790, "body": "Your alteranet aproach wont help at all"}, {"owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "edited": false, "score": 0, "creation_date": 1542805452, "post_id": 53412388, "comment_id": 93699914, "body": "@majkrzak Honestly I don&#39;t think you need to go with generics at all in your case."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "edited": false, "score": 0, "creation_date": 1542805729, "post_id": 53412388, "comment_id": 93700044, "body": "Consider following object (in JSON) called a <code>{&quot;foo&quot;:{&quot;name&quot;:&quot;Foo&quot;}, &quot;bar&quot;:{&quot;name&quot;:&quot;Bar&quot;}}</code> Will be nice to handle it like `f(a.foo) f(b.foo)"}, {"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "edited": false, "score": 1, "creation_date": 1542806730, "post_id": 53412388, "comment_id": 93700615, "body": "maybe use an <code>interface</code> instead of an <code>abstract</code> type: <code>interface Nameable{ val name: String }</code>"}], "tags": [], "owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "is_accepted": false, "score": 0, "last_activity_date": 1542806986, "last_edit_date": 1542806986, "creation_date": 1542804525, "answer_id": 53412388, "question_id": 53412248, "link": "https://stackoverflow.com/questions/53412248/acces-object-atribute-in-generic-funtion/53412388#53412388", "title": "Acces object atribute in generic funtion", "body": "<p>You can't. <code>T</code> could be instance of any type at runtime. So you can't access the property.</p>\n\n<p>You can do something like this though</p>\n\n<pre><code>fun &lt;T : SomeType&gt; foo(t: T): String {\n    return t.name\n}\n\nopen class SomeType(val name: String)\n\nfoo(SomeType(\"value\"))\n</code></pre>\n\n<p><strong>EDIT:</strong>\nIf you really want to achieve this using <code>non-named object</code> then I can think of something like this.</p>\n\n<pre><code>fun &lt;T : BaseType&gt; foo(t: T): String {\n    return t.name\n}\n\ninterface BaseType {\n   val name: String\n}\n\nfoo(object :BaseType {\n        override val name = \"value\"\n})\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "edited": false, "score": 0, "creation_date": 1542805870, "post_id": 53412666, "comment_id": 93700119, "body": "use refelection seems to be akward cause it&#39;s runtime stuff, definitly not needed there"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542805951, "post_id": 53412666, "comment_id": 93700173, "body": "I know... do you know <a href=\"https://kotlinlang.org/docs/reference/type-safe-builders.html\" rel=\"nofollow noreferrer\">Kotlins Type-Safe Builders</a>? It&#39;s not really the same, but it may help you solve your problem?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "edited": false, "score": 0, "creation_date": 1542806043, "post_id": 53412666, "comment_id": 93700221, "body": "it might be what i need lets see"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "edited": false, "score": 0, "creation_date": 1542806119, "post_id": 53412666, "comment_id": 93700259, "body": "nope, it&#39;s not it requieres definitions of all the astaff apriori"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542806272, "post_id": 53412666, "comment_id": 93700339, "body": "yes... that is required... maybe <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map\" rel=\"nofollow noreferrer\">delegated properties in a map</a> is something for you? (still you would need at least a basic type from which everyone else extends... or work (again) with reflection :-P )... and of course... it&#39;s still not equivalent, but may help to workaround the problem ;-)"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542806597, "post_id": 53412666, "comment_id": 93700538, "body": "you may also want to read about c++-templates and Kotlin here (from the lead language designer of Kotlin, Andrey Breslav): <a href=\"https://discuss.kotlinlang.org/t/on-generics/1137/4\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/on-generics/1137/4</a>"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 1, "last_activity_date": 1542808866, "last_edit_date": 1542808866, "creation_date": 1542805390, "answer_id": 53412666, "question_id": 53412248, "link": "https://stackoverflow.com/questions/53412248/acces-object-atribute-in-generic-funtion/53412666#53412666", "title": "Acces object atribute in generic funtion", "body": "<p>Here is a sample how you could do it in Kotlin, using reflection (note: you don't even need that generic type information here the way you use that function):</p>\n\n<pre><code>fun foo(t : Any) = with(t::class.java.getDeclaredField(\"name\")) {\n  isAccessible = true\n  get(t) as String\n}\n</code></pre>\n\n<p><code>with</code> is not really required. You can of course do it completely different. Just wanted to show how this could look like in Kotlin.</p>\n\n<p>I said something of a <code>reified</code> type in the comments, but you actually don't need it here.</p>\n\n<p>The biggest problem to solve your problem is, that you have an anonymous type, which basically narrows down the possible solutions to just \"use reflection\" ;-)</p>\n\n<p>If you would have a type/interface as follows:</p>\n\n<pre><code>interface Nameable {\n  val name : String\n}\n</code></pre>\n\n<p>then you could change your <code>foo</code> method to:</p>\n\n<pre><code>fun foo(t : Nameable) = t.name\n</code></pre>\n\n<p>and calling it, would result in:</p>\n\n<pre><code>foo(object : Nameable {\n  override val name = \"Foo\"\n}\n</code></pre>\n\n<p>But still, it's not a C++-template and you would have to create lots of appropriate interfaces if you would like to be fully dynamic and you would have to use them when creating your anonymous types, etc. pp.</p>\n"}, {"tags": [], "owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1542817298, "last_edit_date": 1542817298, "creation_date": 1542816838, "answer_id": 53416239, "question_id": 53412248, "link": "https://stackoverflow.com/questions/53412248/acces-object-atribute-in-generic-funtion/53416239#53416239", "title": "Acces object atribute in generic funtion", "body": "<p>It is possible if you will use Kotlin <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">reified type parameters</a> in generics.</p>\n\n<pre><code>foo(object {\n    val name = \"Foo\"\n})\n\n\ninline fun &lt;reified T&gt; foo(t: T): String =\n    T::class.declaredMembers.find { it.name == \"name\" }!!\n    .call(t) as String\n</code></pre>\n\n<p>The second option is to get <code>::class</code> directly from <code>t</code></p>\n\n<pre><code>fun &lt;T: Any&gt; foo(t: T): String =\n    t::class.declaredMembers.find { it.name == \"name\" }!!.call(t) as String\n</code></pre>\n\n<p>The third option is to provide an upper bound for you generic parameter:</p>\n\n<pre><code>foo( NameProvider {\n    val name = \"Foo\"\n})\n\ninterface NameProvider {\n    val name: String\n}\n\nfun &lt;T: NameProvider&gt; foo(t: T): String = t.name\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1553543272, "creation_date": 1542804032, "last_edit_date": 1553543272, "question_id": 53412248, "link": "https://stackoverflow.com/questions/53412248/acces-object-atribute-in-generic-funtion", "title": "Acces object atribute in generic funtion", "body": "<p>How can I access object property in generic function? Code, I've currently made claims about <code>error: unresolved reference: name</code>. How can I make it work?\nThere is <code>where</code> keyword but i din't found much information about it.</p>\n\n<pre><code>fun &lt;T&gt; foo(t:T): String{\n    return t.name\n}\n\nfoo(object {\n    val name = \"Foo\"\n})\n</code></pre>\n\n<p>C++ equivalent:</p>\n\n<pre><code>struct {\n    int name{10};\n}a;\n\ntemplate&lt;typename T&gt;\nint foo(T&amp;t) {\n    return t.name;\n}\n\nfoo(a);\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1542803554, "post_id": 53412077, "comment_id": 93698860, "body": "How about <code>mapNotNull().toArray()</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1542809087, "post_id": 53412201, "comment_id": 93702116, "body": "<i>array.requireNoNulls() is safer to use</i> in what sense? It throws an <code>IllegalArgumentException</code> if there are any <code>null</code> elements."}, {"owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1542809304, "post_id": 53412201, "comment_id": 93702239, "body": "@forpas Good catch. I have updated the answer. Thanks!"}], "tags": [], "owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "is_accepted": true, "score": 3, "last_activity_date": 1542809269, "last_edit_date": 1542809269, "creation_date": 1542803869, "answer_id": 53412201, "question_id": 53412077, "link": "https://stackoverflow.com/questions/53412077/create-array-without-nullable-types-from-array-with-nullable-types/53412201#53412201", "title": "Create Array without nullable types from Array with nullable types", "body": "<p><code>array.requireNoNulls()</code> returns same array <code>Array&lt;T?&gt;</code> with non-optional type <code>Array&lt;T&gt;</code> (But throws <code>IllegalArgmentException</code> if any of the item found <code>null</code>).</p>\n\n<p>if you are sure that your array doesn't have <code>null</code> then you can typecast.</p>\n\n<p><code>array as Array&lt;String&gt;</code></p>\n"}, {"comments": [{"owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "edited": false, "score": 0, "creation_date": 1542805864, "post_id": 53412244, "comment_id": 93700113, "body": "question says without copying it. <code>filterNotNull</code> creates new <code>ArrayList</code> and adds <code>Non-Null</code> values to that before returning it."}], "tags": [], "owner": {"reputation": 665, "user_id": 2219787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a55bc3361868c44c9165241a5e7011d4?s=128&d=identicon&r=PG", "display_name": "Michi Gysel", "link": "https://stackoverflow.com/users/2219787/michi-gysel"}, "is_accepted": false, "score": 0, "last_activity_date": 1542808800, "last_edit_date": 1542808800, "creation_date": 1542804025, "answer_id": 53412244, "question_id": 53412077, "link": "https://stackoverflow.com/questions/53412077/create-array-without-nullable-types-from-array-with-nullable-types/53412244#53412244", "title": "Create Array without nullable types from Array with nullable types", "body": "<p>Array.<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-not-null.html\" rel=\"nofollow noreferrer\">filterNotNull</a> might be the safer way to do it. But it will create a new Array.</p>\n\n<pre><code>val items: Array&lt;String?&gt; = arrayOf(\"one\", \"two\", null, \"three\")\nval itemsWithoutNull: List&lt;String&gt; = items.filterNotNull()\n</code></pre>\n"}], "owner": {"reputation": 6194, "user_id": 2047987, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WY0Zw.png?s=128&g=1", "display_name": "Cilenco", "link": "https://stackoverflow.com/users/2047987/cilenco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 53412201, "answer_count": 2, "score": 0, "last_activity_date": 1542809269, "creation_date": 1542803390, "question_id": 53412077, "link": "https://stackoverflow.com/questions/53412077/create-array-without-nullable-types-from-array-with-nullable-types", "title": "Create Array without nullable types from Array with nullable types", "body": "<p>In Kotlin we have to distinguish between nullable types and not nullable types. Let's say I have an <code>Array&lt;String?&gt;</code> fom which I know that every value within it is actually not null. Is there an easy way to create an <code>Array&lt;String&gt;</code> from the source array without copying it?</p>\n"}, {"tags": ["kotlin", "delegates", "immutability"], "owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542798522, "creation_date": 1542798522, "question_id": 53410819, "link": "https://stackoverflow.com/questions/53410819/property-delegation-by-map-for-open-hierarchies", "title": "Property delegation by Map for open hierarchies", "body": "<p>Consider I have a base of an open hierarchy where all the properties are <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map\" rel=\"nofollow noreferrer\">delegated</a> to a single map:</p>\n\n<pre><code>interface JsonExternalizable {\n    fun serialize(): MutableMap&lt;String, JsonNode&gt;\n}\n\nabstract class AbstractJsonExternalizable protected constructor(private val map: Map&lt;String, Any?&gt;) : JsonExternalizable {\n    override fun serialize(): MutableMap&lt;String, JsonNode&gt; {\n        // ...\n    }\n}\n</code></pre>\n\n<p>Now a sample <strong>immutable</strong> implementation (I want to have an additional secondary constructor where the list of arguments would \"mirror\" the type's corresponding properties):</p>\n\n<pre><code>open class Bean1 protected constructor(map: Map&lt;String, Any?&gt;) : AbstractJsonExternalizable(map) {\n    constructor(property1: String,\n                property2: Int,\n                property3: Boolean) : this(mapOf(Bean1::property1 to property1,\n                                                 Bean1::property2 to property2,\n                                                 Bean1::property3 to property3).mapKeys { it.key.name })\n\n    val property1: String by map\n    val property2: Int by map\n    val property3: Boolean by map\n}\n</code></pre>\n\n<p>Things get worse for more \"distant\" descendants, as I have to list <strong>every</strong> supertype property (along with the own properties) in the secondary constructor:</p>\n\n<pre><code>class Bean3 private constructor(map: Map&lt;String, Any?&gt;) : Bean1(map) {\n    val propertyX: Array&lt;Byte&gt; by map\n\n    constructor(property1: String,\n                property2: Int,\n                property3: Boolean,\n                propertyX: Array&lt;Byte&gt;) : this(mapOf(Bean3::property1 to property1,\n                                                     Bean3::property2 to property2,\n                                                     Bean3::property3 to property3,\n                                                     Bean3::propertyX to propertyX).mapKeys { it.key.name })\n}\n</code></pre>\n\n<p>Is there a more elegant way to express the same idea, with less boilerplate code?</p>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1542796319, "post_id": 53409640, "comment_id": 93694941, "body": "Your list adapter is parametrized with <code>Plant</code>. What else can its items be?"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1542797026, "post_id": 53409640, "comment_id": 93695394, "body": "But <code>val plant = </code> is just a local variable that has nothing to do with the list adapter. It&#39;s type is dependent upon what getItem returns. I could just as well name plant to &quot;p&quot; and it still knows that it is a Plant."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1542797277, "post_id": 53409640, "comment_id": 93695541, "body": "&quot;and it still knows that it is a Plant.&quot; - Yes, because getItem returns T. The same T that is in the class template. Which is set to Plant. That&#39;s just how generics work."}], "answers": [{"comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1542798343, "post_id": 53410710, "comment_id": 93696148, "body": "Doesn&#39;t modern java have type inference too?"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1542798454, "post_id": 53410710, "comment_id": 93696212, "body": "@SergioTulentsev AFAIK Java 11 supports it in the context of <b>variable declaration and initialization</b> (<code>val num = 5</code>). But in previous version we are forced to specify the type directly (<code>int num = 5</code>)."}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1542798548, "post_id": 53410710, "comment_id": 93696265, "body": "Java supports type inference in the context of generics (type parameterizing), sure, but these concepts aren&#39;t same."}], "tags": [], "owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "is_accepted": true, "score": 3, "last_activity_date": 1542798167, "creation_date": 1542798167, "answer_id": 53410710, "question_id": 53409640, "link": "https://stackoverflow.com/questions/53409640/how-does-android-studio-know-the-return-type-of-a-generic-method-in-edit-mode/53410710#53410710", "title": "How does Android Studio know the return type of a generic method in edit mode", "body": "<p><code>ListAdapter</code> is parameterized with <code>Plant</code> type as a presentation model type that the list will receive in this case. So, if <code>getItem</code>'s method definition in <code>ListAdapter</code> is specified as follows:</p>\n\n<pre><code>protected T getItem(int position) {\n    return mHelper.getItem(position);\n}\n</code></pre>\n\n<p>then after providing <code>Plant</code> as the type argument this method will \"transform\" (let's skip type erasure and bridge methods in this example) into this:</p>\n\n<pre><code>protected Plant getItem(int position) {\n    return mHelper.getItem(position);\n}\n</code></pre>\n\n<p>Kotlin supports type inference in variable initialization. It means that if a type of the variable was not specified explicitly (e.g. <code>val plant: Plant = ...</code>), then the type will be <strong>inferred</strong> from the expression result type. As we know that after parameterizing <code>ListAdapter</code> with <code>Plant</code> method <code>getItem</code> will return us a <code>Plant</code> instance, then this type will be inferred for the declared variable in <code>val plant = getItem(position)</code>.</p>\n\n<p>In Java a corresponding declaration would look like this:</p>\n\n<pre><code>Plant plant = this.getItem(position);\n</code></pre>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 53410710, "answer_count": 1, "score": 0, "last_activity_date": 1542798167, "creation_date": 1542794909, "question_id": 53409640, "link": "https://stackoverflow.com/questions/53409640/how-does-android-studio-know-the-return-type-of-a-generic-method-in-edit-mode", "title": "How does Android Studio know the return type of a generic method in edit mode", "body": "<p>In this Kotlin code for an Android app:</p>\n\n<pre><code>class PlantAdapter : ListAdapter&lt;Plant, PlantAdapter.ViewHolder&gt;(PlantDiffCallback()) {\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val plant = getItem(position)\n        holder.apply {\n            bind(createOnClickListener(plant.plantId), plant)\n            itemView.tag = plant\n        }\n    }\n}\n</code></pre>\n\n<p>In Android Studio when I type plant followed by a dot, the list of member fields and methods for plant are listed. It isn't clear to me how Android Studio knows this. If I run the app and single step into the getItem method, the getItem method is a generic method that knows nothing about the data type for plant. It just grabs the item from the list and returns it. Only upon returning does plant variable show up as a Plant type.</p>\n\n<p>So how does Android Studio know what type this is when the app is not running?</p>\n"}, {"tags": ["kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "edited": false, "score": 0, "creation_date": 1542797821, "post_id": 53409630, "comment_id": 93695857, "body": "What result do you have? Why safe call is used in <code>repository.getHumanById(friendConnection.humanId)?.map</code> if you have <code>fun getHumanById(id: Long) : Single&lt;Human&gt;</code> signature?"}, {"owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "edited": false, "score": 0, "creation_date": 1542799257, "post_id": 53409630, "comment_id": 93696636, "body": "Why you want to do this with Rx ? you can achieve this using kotlin operators itself. is your <code>repository.getHumanById</code> making call to API ?"}, {"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 0, "creation_date": 1542800374, "post_id": 53409630, "comment_id": 93697240, "body": "No, it&#39;s just a local database call."}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1542800860, "post_id": 53409630, "comment_id": 93697503, "body": "Are you sure that <code>fun getHumanById(id: Long)</code> returns <code>Single&lt;Human&gt;</code> and not <code>Single&lt;Human&gt;?</code>(nullable type) ?"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1542800976, "post_id": 53409630, "comment_id": 93697572, "body": "Because in the expression<code>repository.getHumanById(friendConnection.humanId)?&zwnj;&#8203;.map {...}</code>  question mark denotes nullable type."}, {"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 0, "creation_date": 1542802624, "post_id": 53409630, "comment_id": 93698404, "body": "It&#39;s nullable now, but i tried with !!. It not works and here is no error"}], "answers": [{"comments": [{"owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1542800548, "post_id": 53410976, "comment_id": 93697322, "body": "True. if <code>repository.getHumanById</code> makes API call then it should be <code>flatMap</code>. (Updated the answer based on assumption)"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1542800621, "post_id": 53410976, "comment_id": 93697367, "body": "there is no assumption, it doesn&#39;t matter what the method is doing. It returns a Single, therefore you need flatMap"}], "tags": [], "owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "is_accepted": false, "score": 0, "last_activity_date": 1542802351, "last_edit_date": 1542802351, "creation_date": 1542799098, "answer_id": 53410976, "question_id": 53409630, "link": "https://stackoverflow.com/questions/53409630/rxjava2-iterate-list-and-call-single-for-every-item/53410976#53410976", "title": "RxJava2 Iterate list and call single for every item", "body": "<p>You could do something like this,</p>\n\n<pre><code>Observable.fromIterable(friendConnections)\n        .flatMap { Observable.just(Friend(it.id, it.humanId, repository.getHumanById(it.humanId).blockingGet())) }\n        .toList()\n        .subscribe {it --&gt; /*Your Operation*/\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 0, "creation_date": 1542801377, "post_id": 53411349, "comment_id": 93697780, "body": "This does not work for me. I have 50 item in the friendConnection list, but only first 2 times called the flatMapSingle, why?"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "reply_to_user": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 0, "creation_date": 1542801469, "post_id": 53411349, "comment_id": 93697823, "body": "@vihkat, please, answer my comment under the question. Maybe the problem lies here. Also, it would be cool if we could know why it does not work. Compile-time error, run-time error, unexpected result?"}, {"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 0, "creation_date": 1542801747, "post_id": 53411349, "comment_id": 93697970, "body": "It works with your mock. But not work with my Single, but I&#39;m sure it not returning null because I burned in a fix ID witch is work good"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "reply_to_user": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 0, "creation_date": 1542803396, "post_id": 53411349, "comment_id": 93698785, "body": "Are you completely sure that <code>getHumanById</code> returns exactly <code>Single&lt;Human&gt;</code> ? It is not either <code>Single&lt;Human?&gt;</code> or <code>Single&lt;Human&gt;?</code> or even <code>Single&lt;Human?&gt;?</code> ?"}, {"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 0, "creation_date": 1542803633, "post_id": 53411349, "comment_id": 93698907, "body": "Yes. I&#39;m sure about it"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "reply_to_user": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 0, "creation_date": 1542804225, "post_id": 53411349, "comment_id": 93699252, "body": "Then why <code>repository.getHumanById(friendConnection.humanId)?.map {... }</code> contains null assertion as a question mark?"}], "tags": [], "owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "is_accepted": true, "score": 1, "last_activity_date": 1542800751, "creation_date": 1542800751, "answer_id": 53411349, "question_id": 53409630, "link": "https://stackoverflow.com/questions/53409630/rxjava2-iterate-list-and-call-single-for-every-item/53411349#53411349", "title": "RxJava2 Iterate list and call single for every item", "body": "<p>Is this solution suitable for you?</p>\n\n<pre><code>Observable.fromIterable(\n        listOf(\n            FriendConnection(1, 101),\n            FriendConnection(2, 102)\n        )\n    )\n        .flatMapSingle { connection -&gt;\n            getHumanById(connection.humanId)\n                .map { human -&gt; Friend(connection.id, connection.humanId, human) }\n        }\n        .toList()\n        .subscribe { list -&gt; println(list) } //method reference generates error due to methods ambiguity\n</code></pre>\n\n<p>Mock function for getting a human by id:</p>\n\n<pre><code>private fun getHumanById(id: Long): Single&lt;Human&gt; = Single.just(Human(id, id.toString()))\n</code></pre>\n"}], "owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "accepted_answer_id": 53411349, "answer_count": 2, "score": 0, "last_activity_date": 1542802351, "creation_date": 1542794868, "last_edit_date": 1542795171, "question_id": 53409630, "link": "https://stackoverflow.com/questions/53409630/rxjava2-iterate-list-and-call-single-for-every-item", "title": "RxJava2 Iterate list and call single for every item", "body": "<p>I have a database table with friend connections:</p>\n\n<p>The next example is just a <code>Imagined</code> example, so please not suggest me to implement this in another way.</p>\n\n<p>FriendConnection:</p>\n\n<ul>\n<li>id</li>\n<li>humanId</li>\n</ul>\n\n<p>I have a list with these id's.</p>\n\n<pre><code>val friendConnections = arrayListOf(\n    FriendConnection(id=10, humanId=141),\n    FriendConnection(id=13, humanId=142)\n)\n</code></pre>\n\n<p>I want to make this result list with RxJava.</p>\n\n<pre><code>val friendList = arrayListOf(\n    Friend(friendConnectionId = 10, humanId = 141, humanInstance = (...)),\n    Friend(friendConnectionId = 13, humanId = 142, humanInstance = (...))\n)\n</code></pre>\n\n<p>How I can get a human?</p>\n\n<pre><code>fun getHumanById(id: Long) : Single&lt;Human&gt;\n</code></pre>\n\n<p>So I need to iterate the <code>friendConnections</code> and make a Single call for every Human. Than I need to map the FriendConnection with the new Human instance to Friend instance.</p>\n\n<p>I tried it but it's not work:</p>\n\n<pre><code>Observable.fromIterable(arrayListOf(\n                FriendConnection(id=10, humanId=141),\n                FriendConnection(id=13, humanId=142)\n        ))\n                .flatMapSingle { friendConnection -&gt;\n                    repository.getHumanById(friendConnection.humanId)\n                            ?.map {human -&gt;\n                                Friend(friendConnection.id,friendConnection.humanId,human)\n                            }\n                }\n                .toList()\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({ it -&gt;\n                    Timber.i(\"friendList is here: $it\")\n                }, {\n                    throw it \n                })\n</code></pre>\n\n<p>Someone have idea what's wrong? (I want to implement it with Rx, not with Room)</p>\n\n<p><a href=\"https://i.stack.imgur.com/IoOcB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IoOcB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["multithreading", "kotlin", "project-reactor"], "answers": [{"comments": [{"owner": {"reputation": 1009, "user_id": 3245855, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3759ad0106125fee2ac0347816e2256b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3245855/andrew"}, "edited": false, "score": 0, "creation_date": 1542810105, "post_id": 53412864, "comment_id": 93702727, "body": "So flatMap doesn&#39;t break your streams into sub-streams that are processed in parallel? This is how the method was documented and thought only subscribeOn is necessary."}, {"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "reply_to_user": {"reputation": 1009, "user_id": 3245855, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3759ad0106125fee2ac0347816e2256b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3245855/andrew"}, "edited": false, "score": 1, "creation_date": 1542883179, "post_id": 53412864, "comment_id": 93732191, "body": "<code>flatmap</code> will only parallelize if you create a new Observable(Flux, Mono) inside the block. In your example with <code>it +1</code> the operator  <code>flatMap</code> will not compile and you should use <code>map</code>. I just updated my answer. See <a href=\"https://stackoverflow.com/questions/43269275/parallelflux-vs-flatmap-for-a-blocking-i-o-task\" title=\"parallelflux vs flatmap for a blocking i o task\">stackoverflow.com/questions/43269275/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 4, "last_activity_date": 1542882993, "last_edit_date": 1542882993, "creation_date": 1542806035, "answer_id": 53412864, "question_id": 53409567, "link": "https://stackoverflow.com/questions/53409567/how-can-i-perform-flatmap-using-multiple-threads-in-reactor/53412864#53412864", "title": "How can I perform flatMap using multiple threads in Reactor?", "body": "<p>You can create a <a href=\"https://projectreactor.io/docs/core/release/reference/#advanced-parallelizing-parralelflux\" rel=\"nofollow noreferrer\"><code>ParallelFlux</code></a> as follows:</p>\n\n<pre><code>Flux.range(0, 100000).parallel(2).runOn(Schedulers.parallel()).log().map{ it + 1 }.subscribe()\n                      ^^^^^^^^^^^  ^^^^^^use runOn ^^^^^^^^^^^\n</code></pre>\n"}], "owner": {"reputation": 1009, "user_id": 3245855, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3759ad0106125fee2ac0347816e2256b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3245855/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 964, "favorite_count": 0, "accepted_answer_id": 53412864, "answer_count": 1, "score": 4, "last_activity_date": 1542882993, "creation_date": 1542794643, "last_edit_date": 1542795919, "question_id": 53409567, "link": "https://stackoverflow.com/questions/53409567/how-can-i-perform-flatmap-using-multiple-threads-in-reactor", "title": "How can I perform flatMap using multiple threads in Reactor?", "body": "<p>I have tried running a <code>flatMap</code> on a <code>Flux</code> <code>range</code> followed by <code>subscribeOn</code> and it seems all operations run on the same thread. Is this normal?</p>\n\n<pre><code>Flux.range(0, 1000000).log().flatMap{ it + 1 }.subscribeOn(Schedulers.parallel()).subscribe()\n</code></pre>\n"}, {"tags": ["android", "networking", "kotlin", "wifi", "android-wifi"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1542796458, "post_id": 53409290, "comment_id": 93695033, "body": "probably <code>NetworkCapabilities</code> will return you the max link speed available for your device and connection type"}, {"owner": {"reputation": 4936, "user_id": 7408927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3014b6a57c88143a2a0784fb9c2708e8?s=128&d=identicon&r=PG&f=1", "display_name": "Sevastyan Savanyuk", "link": "https://stackoverflow.com/users/7408927/sevastyan-savanyuk"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1542798874, "post_id": 53409290, "comment_id": 93696424, "body": "So you are saying that there is a different link available except WiFi on my device that is faster than WiFi? I&#39;ve checked available link types (<code>NetworkCapabilities.hasTransport(Int)</code>) and the only <code>true</code> I got was for <code>NetworkCapabilities.TRANSPORT_WIFI</code>. Am I doing it right? Why google guys even call it &quot;transport&quot;? I think it should be &quot;link&quot; (as in OSI model)."}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 2, "creation_date": 1542802404, "post_id": 53409290, "comment_id": 93698301, "body": "WIFI of type AC is probably able to link to 1GBPS. Anyway that is just my guess"}, {"owner": {"reputation": 4936, "user_id": 7408927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3014b6a57c88143a2a0784fb9c2708e8?s=128&d=identicon&r=PG&f=1", "display_name": "Sevastyan Savanyuk", "link": "https://stackoverflow.com/users/7408927/sevastyan-savanyuk"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1542805540, "post_id": 53409290, "comment_id": 93699957, "body": "That&#39;s probably the case. Thanks for giving a lead on this."}], "owner": {"reputation": 4936, "user_id": 7408927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3014b6a57c88143a2a0784fb9c2708e8?s=128&d=identicon&r=PG&f=1", "display_name": "Sevastyan Savanyuk", "link": "https://stackoverflow.com/users/7408927/sevastyan-savanyuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 311, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542793799, "creation_date": 1542793799, "question_id": 53409290, "link": "https://stackoverflow.com/questions/53409290/why-readings-for-wifi-link-speed-and-bandwidth-dont-correlate", "title": "Why readings for WiFi link speed and bandwidth don&#39;t correlate?", "body": "<p>I want to get the \"speed\" for my WiFi connection.</p>\n\n<p>From <code>NetworkCapabilities</code> class, I get:</p>\n\n<pre><code>Link downstream bandwidth: 1048576 Kbps\nLink upstream bandwidth:   1048576 Kbps\n</code></pre>\n\n<p>However, using <code>WiFiInfo</code> class I get:</p>\n\n<pre><code>Link speed:                200000 Kbps\n</code></pre>\n\n<p>Why values are different?</p>\n\n<p>From my research, I concluded, that <code>NetworkCapabilities</code> class doesn't actually MEASURE bandwidth - it just returns EXPECTED values for detected technology (WiFi, cellular, etc.). I guess, that <code>WiFiInfo</code> does the same thing. I ran the code many times during extended period of time and got the same values you see above.</p>\n\n<hr>\n\n<h2>Code</h2>\n\n<p>Here is the code with <code>NetworkCapabilities</code>:</p>\n\n<pre><code>val connectivityManager = context.getSystemService(ConnectivityManager::class.java)    \n\nval networkCapabilities: NetworkCapabilities?\n            get() = connectivityManager.getNetworkCapabilities(connectivityManager.activeNetwork)\n\n    networkCapabilities?.linkDownstreamBandwidthKbps // 1048576\n    networkCapabilities?.linkUpstreamBandwidthKbps   // 1048576\n</code></pre>\n\n<p>Here is the code with <code>WiFiInfo</code>:</p>\n\n<pre><code>val wifiManager = context.getSystemService(WifiManager::class.java)\nwifiManager.connectionInfo.linkSpeed // returns 200 Mbps\n</code></pre>\n"}, {"tags": ["serialization", "kotlin", "gson"], "comments": [{"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1542793004, "post_id": 53408946, "comment_id": 93692970, "body": "Show us the json file please"}, {"owner": {"reputation": 1144, "user_id": 3198230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YQjH2.jpg?s=128&g=1", "display_name": "Drake", "link": "https://stackoverflow.com/users/3198230/drake"}, "reply_to_user": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1542794542, "post_id": 53408946, "comment_id": 93693915, "body": "@Skizo-oz\u1d09\u029eS added"}, {"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1542795230, "post_id": 53408946, "comment_id": 93694294, "body": "I need to see what you receive from server"}, {"owner": {"reputation": 1144, "user_id": 3198230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YQjH2.jpg?s=128&g=1", "display_name": "Drake", "link": "https://stackoverflow.com/users/3198230/drake"}, "reply_to_user": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1542795952, "post_id": 53408946, "comment_id": 93694718, "body": "@Skizo-oz\u1d09\u029eS I&#39;m trying to configure request in this case I don&#39;t interacting with server at all"}, {"owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "edited": false, "score": 0, "creation_date": 1542799719, "post_id": 53408946, "comment_id": 93696866, "body": "Are you sure your <code>query</code> object contains list value for <code>contentTypeKeys</code> not <code>null</code> ?"}, {"owner": {"reputation": 1144, "user_id": 3198230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YQjH2.jpg?s=128&g=1", "display_name": "Drake", "link": "https://stackoverflow.com/users/3198230/drake"}, "reply_to_user": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "edited": false, "score": 0, "creation_date": 1542800700, "post_id": 53408946, "comment_id": 93697415, "body": "@IDon&#39;tExist yes, I put break point to model before it maps to json. And model contains valid contentTypeKeys"}], "owner": {"reputation": 1144, "user_id": 3198230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YQjH2.jpg?s=128&g=1", "display_name": "Drake", "link": "https://stackoverflow.com/users/3198230/drake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542793961, "creation_date": 1542792685, "last_edit_date": 1542793961, "question_id": 53408946, "link": "https://stackoverflow.com/questions/53408946/gson-ignores-list-of-strings", "title": "Gson ignores list of Strings", "body": "<p>I have model which contains list of strings </p>\n\n<p><code>data class BSLQuery(var contentTypeKeys: List&lt;String&gt;? = null, ...)</code></p>\n\n<p>When I'm trying to convert model to JSON </p>\n\n<p><code>gson.toJson(query)</code></p>\n\n<p>gson always ignores contentTypeKeys.</p>\n\n<p>Typical data for unmapped field </p>\n\n<p><code>BSLQuery(contentTypeKeys = listOf(\"com.assignment.attachment\")</code>  </p>\n\n<p>How I can convert it correctly? </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Actual result JSON: <code>{...}</code></p>\n\n<p>Required result JSON: <code>{\"contentTypeKeys\":[\"com.assignment.attachment\"], ...}</code></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 484, "user_id": 1985175, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79bfec2dc04ab592a98905a8dd4399ec?s=128&d=identicon&r=PG", "display_name": "hunter", "link": "https://stackoverflow.com/users/1985175/hunter"}, "edited": false, "score": 0, "creation_date": 1598095660, "post_id": 53408643, "comment_id": 112349833, "body": "This does not behave like google maps. When I tilt my phone upright (vertical), or past vertical, the azimuth is heavily distorted, whereas google maps calculates the correct value"}, {"owner": {"reputation": 484, "user_id": 1985175, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79bfec2dc04ab592a98905a8dd4399ec?s=128&d=identicon&r=PG", "display_name": "hunter", "link": "https://stackoverflow.com/users/1985175/hunter"}, "edited": false, "score": 0, "creation_date": 1598096244, "post_id": 53408643, "comment_id": 112350010, "body": "I take that back! My mistake was using a rotationMatrix with 16 elements instead of 9 (as per your code). Now it works perfectly. I can&#39;t believe how simple and elegant your solution is. I&#39;ve lost about a week on this problems, investigating different sensors, quaternions, even entire libraries. Many many thanks!"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 484, "user_id": 1985175, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79bfec2dc04ab592a98905a8dd4399ec?s=128&d=identicon&r=PG", "display_name": "hunter", "link": "https://stackoverflow.com/users/1985175/hunter"}, "edited": false, "score": 0, "creation_date": 1598185086, "post_id": 53408643, "comment_id": 112369201, "body": "I lost about a week as well, so I wrote this to help others avoid the same ordeal. I&#39;m really sorry to hear it wasn&#39;t easier to google this one out."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 7, "last_activity_date": 1543157660, "last_edit_date": 1543157660, "creation_date": 1542791635, "answer_id": 53408643, "question_id": 53408642, "link": "https://stackoverflow.com/questions/53408642/azimuth-reading-changes-to-opposite-when-user-holds-the-phone-upright/53408643#53408643", "title": "Azimuth reading changes to opposite when user holds the phone upright", "body": "<h2>Analysis</h2>\n\n<blockquote>\n  <p>Apparently this code tracks the orientation of the phone's y-axis, which becomes vertical on an upright phone, and its ground orientation is towards you when the phone leans towards you.</p>\n</blockquote>\n\n<p>Yes, this is correct. You can inspect the code of <code>getOrientation()</code> to see what's going on:</p>\n\n<pre><code>public static float[] getOrientation(float[] R, float[] values) {\n    /*\n     *   /  R[ 0]   R[ 1]   R[ 2]  \\\n     *   |  R[ 3]   R[ 4]   R[ 5]  |\n     *   \\  R[ 6]   R[ 7]   R[ 8]  /\n     */\n     values[0] = (float) Math.atan2(R[1], R[4]);\n     ...\n</code></pre>\n\n<p><code>values[0]</code> is the azimuth value you got.</p>\n\n<p>You can interpret the rotation matrix <code>R</code> as the components of the vectors that point in the device's three major axes: </p>\n\n<ul>\n<li>column 0: vector pointing to phone's <em>right</em></li>\n<li>column 1: vector pointing to phone's <em>up</em></li>\n<li>column 2: vector pointing to phone's <em>front</em></li>\n</ul>\n\n<p>The vectors are described from the perspective of the Earth's coordinate system (<em>east</em>, <em>north</em>, and <em>sky</em>).</p>\n\n<p>With this in mind we can interpret the code in <code>getOrientation()</code>:</p>\n\n<ol>\n<li>select the phone's <em>up</em> axis (matrix column 1, stored in array elements 1, 4, 7)</li>\n<li>project it to the Earth's horizontal plane (this is easy, just ignore the  <em>sky</em> component stored in element 7)</li>\n<li>Use <code>atan2</code> to deduce the angle from the remaining <em>east</em> and <em>north</em> components of the vector.</li>\n</ol>\n\n<p>There's another subtlety hiding here: the signature of <code>atan2</code> is</p>\n\n<pre><code>public static double atan2(double y, double x);\n</code></pre>\n\n<p>Note the parameter order: <code>y</code>, then <code>x</code>. But <code>getOrientation</code> passes the arguments in the <em>east</em>, <em>north</em> order. This achieves two things:</p>\n\n<ul>\n<li>makes <em>north</em> the reference axis (in geometry it's the <code>x</code> axis)</li>\n<li>mirrors the angle: geometrical angles are anti-clockwise, but azimuth must be the clockwise angle from north</li>\n</ul>\n\n<p>Naturally, when the phone's <em>up</em> axis goes vertical (\"skyward\") and then beyond, its azimuth flips by 180 degrees. We can fix this in a very simple way: we'll use the phone's <em>right</em> axis instead. Note the following:</p>\n\n<ul>\n<li>when the phone is horizontal and facing north, its <em>right</em> axis is aligned with the <em>east</em> axis. The <em>east</em> axis, in the Earth's coordinate system, is the \"x\" geometrical axis, so our 0-angle reference is correct out-of-the-box.</li>\n<li>when the phone turns right (eastwards), its azimuth should rise, but its geometrical angle goes negative. Therefore we must flip the sign of the geometrical angle.</li>\n</ul>\n\n<h2>Solution</h2>\n\n<p>So our new formula is this:</p>\n\n<pre><code>val azimuth = -atan2(R[3], R[0])\n</code></pre>\n\n<p>And this trivial change is all you need! No need to call <code>getOrientation</code>, just apply this to the orientation matrix.</p>\n\n<h2>Improved Solution</h2>\n\n<p>So far, so good. But what if the user is using the phone in the landscape orientation? The phone's axes are unaffected, but now the user perceives the phone's \"left\" or \"right\" direction as \"ahead\" (depending on how the user turned the phone). We can correct for this by inspecting the <code>Display.rotation</code> property. If the screen is rotated, we'll use the <em>up</em> axis of the phone to play the same role as the <em>right</em> axis above.</p>\n\n<p>So the full code of the orientation listener becomes this:</p>\n\n<pre><code>private class OrientationListener(\n        private val activity: Activity,\n        private val azimuthChanged: (Float) -&gt; Unit,\n        private val accuracyChanged: (Int) -&gt; Unit\n) : SensorEventListener {\n    private val rotationMatrix = FloatArray(9)\n\n    override fun onSensorChanged(event: SensorEvent) {\n        if (event.sensor.type != Sensor.TYPE_ROTATION_VECTOR) return\n        SensorManager.getRotationMatrixFromVector(rotationMatrix, event.values)\n        val (matrixColumn, sense) = when (val rotation = \n                activity.windowManager.defaultDisplay.rotation\n        ) {\n            Surface.ROTATION_0 -&gt; Pair(0, 1)\n            Surface.ROTATION_90 -&gt; Pair(1, -1)\n            Surface.ROTATION_180 -&gt; Pair(0, -1)\n            Surface.ROTATION_270 -&gt; Pair(1, 1)\n            else -&gt; error(\"Invalid screen rotation value: $rotation\")\n        }\n        val x = sense * rotationMatrix[matrixColumn]\n        val y = sense * rotationMatrix[matrixColumn + 3]\n        azimuthChanged(-atan2(y, x))\n    }\n\n    override fun onAccuracyChanged(sensor: Sensor, accuracy: Int) {\n        if (sensor.type == Sensor.TYPE_ROTATION_VECTOR) {\n            accuracyChanged(accuracy)\n        }\n    }\n}\n</code></pre>\n\n<p>With this code, you're getting the exact same behavior as on Google Maps.</p>\n"}], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 5, "answer_count": 1, "score": 2, "last_activity_date": 1543157660, "creation_date": 1542791635, "last_edit_date": 1542804951, "question_id": 53408642, "link": "https://stackoverflow.com/questions/53408642/azimuth-reading-changes-to-opposite-when-user-holds-the-phone-upright", "title": "Azimuth reading changes to opposite when user holds the phone upright", "body": "<p>I have implemented the compass reading according to the usual recommendations that I could find on the web. I use the <code>ROTATION_VECTOR</code> sensor type and I transform it into the <code>(azimuth, pitch, roll)</code> triple using the standard API calls. Here's my code:</p>\n\n<pre><code>fun Fragment.receiveAzimuthUpdates(\n        azimuthChanged: (Float) -&gt; Unit,\n        accuracyChanged: (Int) -&gt; Unit\n) {\n    val sensorManager = activity!!.getSystemService(Context.SENSOR_SERVICE)\n            as SensorManager\n    val sensor = sensorManager.getDefaultSensor(Sensor.TYPE_ROTATION_VECTOR)!!\n    sensorManager.registerListener(OrientationListener(azimuthChanged, accuracyChanged),\n            sensor, 10_000)\n}\n\nprivate class OrientationListener(\n        private val azimuthChanged: (Float) -&gt; Unit,\n        private val accuracyChanged: (Int) -&gt; Unit\n) : SensorEventListener {\n    private val rotationMatrix = FloatArray(9)\n    private val orientation = FloatArray(3)\n\n    override fun onSensorChanged(event: SensorEvent) {\n        if (event.sensor.type != Sensor.TYPE_ROTATION_VECTOR) return\n        SensorManager.getRotationMatrixFromVector(rotationMatrix, event.values)\n        SensorManager.getOrientation(rotationMatrix, orientation)\n        azimuthChanged(orientation[0])\n    }\n\n    override fun onAccuracyChanged(sensor: Sensor, accuracy: Int) {\n        if (sensor.type == Sensor.TYPE_ROTATION_VECTOR) {\n            accuracyChanged(accuracy)\n        }\n    }\n}\n</code></pre>\n\n<p>This results in behavior that's quite good when you hold the phone horizontally, like you would a real compass. However, when you hold it like a camera, upright and in front of you, the reading breaks down. If you tilt it even slightly beyond upright, so it leans towards you, the azimuth turns to the opposite direction (sudden 180 degree rotation).</p>\n\n<p>Apparently this code tracks the orientation of the phone's y-axis, which becomes vertical on an upright phone, and its ground orientation is towards you when the phone leans towards you.</p>\n\n<p>What could I do to improve this behavior so it's not sensitive to the phone's pitch?</p>\n"}, {"tags": ["generics", "dependency-injection", "kotlin"], "comments": [{"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "edited": false, "score": 0, "creation_date": 1542807803, "post_id": 53408628, "comment_id": 93701279, "body": "and what exactly does not work for you? The DI of the different <code>ExecutableNode</code>s?"}, {"owner": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "reply_to_user": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "edited": false, "score": 0, "creation_date": 1542807985, "post_id": 53408628, "comment_id": 93701400, "body": "I don&#39;t know to configure Kodein (or any other DI container) to be able to resolve generic types with different type arguments. The first code snippet shows how I&#39;d like to be able to resolve generic types, the question I have is how to register bindings with a DI container to permit that."}, {"owner": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "reply_to_user": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "edited": false, "score": 0, "creation_date": 1542808056, "post_id": 53408628, "comment_id": 93701448, "body": "Or in other words - how do I create a working implementation of <code>NodeCatalog</code>?"}, {"owner": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "reply_to_user": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "edited": false, "score": 0, "creation_date": 1543565422, "post_id": 53408628, "comment_id": 93972659, "body": "Based on discussions in the Kodein Slack channel it seems like this is impossible. I&#39;ve worked around this by not using Kodein and instead doing the most God-awful and hacky reflection-based source-code-manipulation-during-compilation imaginable. But it works."}], "owner": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542791580, "creation_date": 1542791580, "question_id": 53408628, "link": "https://stackoverflow.com/questions/53408628/how-can-i-create-di-bindings-for-generic-types-in-kotlin", "title": "How can I create DI bindings for generic types in Kotlin?", "body": "<p>I'm trying to find a Kotlin-based dependency injection system that will allow me to bind generic types like <code>Foo&lt;T&gt;</code> and resolve <code>Foo&lt;Int&gt;</code>, <code>Foo&lt;String&gt;</code>, etc. as needed.</p>\n\n<p>Kodein seems to be one of the more popular DI frameworks and I've looked into that, but don't see how it's possible. <a href=\"https://github.com/Kodein-Framework/Kodein-DI/issues/83\" rel=\"nofollow noreferrer\">Issue #83</a> in the Kodein repository has some discussion around this topic.</p>\n\n<p>In my case, I'd like to be able to do something like this:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.atpgroup.testmaster.domain.ExecutableNode\nimport kotlin.reflect.KClass\n\nannotation class TypeClass\nannotation class Instance\n\n/**\n * Represents a catalog of nodes.\n *\n * Factory functions to generate nodes are initially registered to this catalog during setup and used to create\n * instances of nodes.\n */\ninterface NodeCatalog {\n    fun &lt;U : ExecutableNode&gt; resolve(nodeType: KClass&lt;U&gt;, id: String): U\n}\n\n/**\n * Simplifies resolution of nodes from a reified context.\n */\ninline fun &lt;reified T : ExecutableNode&gt; NodeCatalog.resolve(id: String) = resolve(T::class, id)\n\n/**\n * Dummy implementation of a node catalog.\n */\nclass DummyNodeCatalog : NodeCatalog {\n    override fun &lt;U : ExecutableNode&gt; resolve(nodeType: KClass&lt;U&gt;, id: String): U = TODO(\"not implemented\")\n}\n\n/**\n * A type class representing the set of types that can behave like numbers.\n */\n@TypeClass\ninterface Num&lt;T&gt;\n\n// Int and Double both behave like numbers.\n@Instance object IntNumInstance : Num&lt;Int&gt;\n@Instance object DoubleNumInstance : Num&lt;Double&gt;\n\n/**\n * An executable node that adds two numbers together.\n *\n * @param T the type of the numbers that will be added together\n */\nclass AddNode&lt;T&gt;(override val id: String, private val N: Num&lt;T&gt;) : ExecutableNode {\n    override suspend fun execute() = TODO(\"not implemented\")\n}\n\n// Resolve two \"add nodes\" that operate on different types of numbers.\nval catalog = DummyNodeCatalog()\nval addInts = catalog.resolve&lt;AddNode&lt;Int&gt;&gt;(\"integer adder\")\nval addDoubles = catalog.resolve&lt;AddNode&lt;Double&gt;&gt;(\"double adder\")\n</code></pre>\n\n<p>In C# this is pretty straightforward using Autofac. The snippet below is a working implementation in C# of what I'd like:</p>\n\n<pre class=\"lang-C# prettyprint-override\"><code>using System;\nusing Autofac;\n\nnamespace Experiment\n{\n    internal class Program\n    {\n        public static void Main()\n        {\n            var builder = new ContainerBuilder();\n\n            builder.RegisterType&lt;IntNumInstance&gt;().As&lt;INum&lt;int&gt;&gt;();\n            builder.RegisterType&lt;DoubleNumInstance&gt;().As&lt;INum&lt;double&gt;&gt;();\n            builder.RegisterGeneric(typeof(Add&lt;&gt;));\n\n            var container = builder.Build();\n            var addA = container.Resolve&lt;Add&lt;int&gt;.Factory&gt;()(\"add integers\");\n            var addB = container.Resolve&lt;Add&lt;double&gt;.Factory&gt;()(\"add doubles\");\n            Console.WriteLine(addA);\n            Console.WriteLine(addB);\n            Console.ReadLine();\n        }\n    }\n\n    interface INum&lt;T&gt; {}\n    class IntNumInstance : INum&lt;int&gt; {}\n    class DoubleNumInstance : INum&lt;double&gt; {}\n\n    class Add&lt;T&gt;\n    {\n        public delegate Add&lt;T&gt; Factory(string id);\n\n        public Add(string id, INum&lt;T&gt; N)\n        {\n            Id = id;\n            this.N = N;\n        }\n\n        public string Id { get; }\n\n        private INum&lt;T&gt; N { get; }\n\n        public override string ToString() =&gt; $\"Add Node ({Id} - {N})\";\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Add Node (add integers - Experiment.IntNumInstance)\nAdd Node (add doubles - Experiment.DoubleNumInstance)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1542791357, "post_id": 53408498, "comment_id": 93691992, "body": "it refers to any usage of &#39;<code>T</code>&#39; in the function signature and body"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1542791845, "post_id": 53408498, "comment_id": 93692285, "body": "I updated my question to include the inflate method. &quot;T&quot; is not used in the body, so it isn&#39;t clear what it is being used for."}, {"owner": {"reputation": 9874, "user_id": 4326936, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/71a107e53f14a27c4e83fb0adae2552c?s=128&d=identicon&r=PG&f=1", "display_name": "alijandro", "link": "https://stackoverflow.com/users/4326936/alijandro"}, "edited": false, "score": 0, "creation_date": 1542792230, "post_id": 53408498, "comment_id": 93692515, "body": "<code>T</code> is used for the inferred return type"}], "answers": [{"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1542792803, "post_id": 53408782, "comment_id": 93692842, "body": "After updating my question and noted that the inflate method was Java, I suddenly realized that while your answer is true, what is missing is that behind-the-scenes, Android is providing a mapping between Kotlin and Java that causes the &quot;T&quot; type to also be used as the return type for the Java method."}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1542792095, "creation_date": 1542792095, "answer_id": 53408782, "question_id": 53408498, "link": "https://stackoverflow.com/questions/53408498/multiple-parameters-in-a-generic-function/53408782#53408782", "title": "Multiple parameters in a generic function", "body": "<p>As you can see <a href=\"https://android.googlesource.com/platform/frameworks/data-binding/+/e4cd38824a6627b9fef229c549c636e35ad63b5f/library/src/main/java/android/databinding/DataBindingUtil.java\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>public static &lt;T extends ViewDataBinding&gt; T inflate(\n    LayoutInflater inflater, \n    int layoutId,\n    @Nullable ViewGroup parent, \n    boolean attachToParent\n) {\n    return inflate(inflater, layoutId, parent, attachToParent, sDefaultComponent);\n}\n</code></pre>\n\n<p><code>T</code> specifies the return type of <code>inflate</code>.</p>\n\n<p>So, your variable <code>binding</code> will be of type <code>FragmentPlantDetailBinding</code>.</p>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 53408782, "answer_count": 1, "score": 0, "last_activity_date": 1542792095, "creation_date": 1542791076, "last_edit_date": 1542791748, "question_id": 53408498, "link": "https://stackoverflow.com/questions/53408498/multiple-parameters-in-a-generic-function", "title": "Multiple parameters in a generic function", "body": "<p>In the Kotlin docs, the example shown for calling a generic function looks like this:</p>\n\n<pre><code>fun &lt;T&gt; singletonList(item: T): List&lt;T&gt; {\n\n}\n\nval l = singletonList&lt;Int&gt;(1)\n</code></pre>\n\n<p>I came across the following code:</p>\n\n<pre><code>val binding = DataBindingUtil.inflate&lt;FragmentPlantDetailBinding&gt;(\n        inflater, R.layout.fragment_plant_detail, container, false).apply {\n    }\n}\n</code></pre>\n\n<p>and the inflate method looks like this:</p>\n\n<pre><code>public static &lt;T extends ViewDataBinding&gt; T inflate(@NonNull LayoutInflater inflater,\n        int layoutId, @Nullable ViewGroup parent, boolean attachToParent) {\n    return inflate(inflater, layoutId, parent, attachToParent, sDefaultComponent);\n}\n</code></pre>\n\n<p>I thought I understood how calling a generic function works but in the second example, the function has 4 parameters. So what does FragmentPlantDetailBinding refer to? T isn't even being used in the inflate method. It should be noted that the inflate method is Java code while DataBindingUtil.inflate is Kotlin code. Is something going on here when a transition from Kotlin to Java is carried out?</p>\n\n<p>In the Kotlin document example, it is clear that <code>&lt;T&gt;</code> is the type the function is using for both the parameter and the return value. But in that example there is only one parameter, so this is obvious. But if there are multiple parameters, what does it refer to?</p>\n"}, {"tags": ["android", "kotlin", "dagger"], "answers": [{"comments": [{"owner": {"reputation": 13162, "user_id": 4969827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q57nx.jpg?s=128&g=1", "display_name": "Sergey Shustikov", "link": "https://stackoverflow.com/users/4969827/sergey-shustikov"}, "edited": false, "score": 0, "creation_date": 1542791421, "post_id": 53408556, "comment_id": 93692027, "body": "How Dagger knows (in this case) about where it should inject Context?"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "reply_to_user": {"reputation": 13162, "user_id": 4969827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q57nx.jpg?s=128&g=1", "display_name": "Sergey Shustikov", "link": "https://stackoverflow.com/users/4969827/sergey-shustikov"}, "edited": false, "score": 0, "creation_date": 1542791485, "post_id": 53408556, "comment_id": 93692064, "body": "you need a <code>@Provide</code> method for that"}, {"owner": {"reputation": 13162, "user_id": 4969827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q57nx.jpg?s=128&g=1", "display_name": "Sergey Shustikov", "link": "https://stackoverflow.com/users/4969827/sergey-shustikov"}, "edited": false, "score": 0, "creation_date": 1542791725, "post_id": 53408556, "comment_id": 93692216, "body": "sir, can you post more detailed answer? With full description of classes? Sorry, my head is burning of this Dagger(("}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "reply_to_user": {"reputation": 13162, "user_id": 4969827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q57nx.jpg?s=128&g=1", "display_name": "Sergey Shustikov", "link": "https://stackoverflow.com/users/4969827/sergey-shustikov"}, "edited": false, "score": 0, "creation_date": 1542791971, "post_id": 53408556, "comment_id": 93692358, "body": "I did edit my answer. You just need to add the method to AppModule and move inject before oncreate. The rest should work"}], "tags": [], "owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "is_accepted": true, "score": 2, "last_activity_date": 1542791930, "last_edit_date": 1542791930, "creation_date": 1542791309, "answer_id": 53408556, "question_id": 53408496, "link": "https://stackoverflow.com/questions/53408496/how-to-inject-dagger-dependendcies-anywhere-except-activity/53408556#53408556", "title": "How to inject Dagger dependendcies anywhere, except Activity?", "body": "<p>one way is constructor injection</p>\n\n<pre><code>class ChildClazz\n@Inject\nconstructor(private val context: Context) {\n\n}\n</code></pre>\n\n<p>and then, in your activity you can inject it. If dagger is able to resolve all the dependencies of your <code>ChildClazz</code> you are good to go</p>\n\n<pre><code>@Inject\nlateinit var child: ChildClazz;\n</code></pre>\n\n<p>in your <code>AppModule</code> you could have somethng like</p>\n\n<pre><code>@Provides\nfun provideContext(app: Application): Context = app.applicationContext\n</code></pre>\n\n<p>this will provide you with the application context</p>\n\n<p><code>AndroidSupportInjection.inject(this/*activity*/)</code> has to be called before the <code>super.onCreate</code></p>\n"}], "owner": {"reputation": 13162, "user_id": 4969827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q57nx.jpg?s=128&g=1", "display_name": "Sergey Shustikov", "link": "https://stackoverflow.com/users/4969827/sergey-shustikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 53408556, "answer_count": 1, "score": 0, "last_activity_date": 1542805206, "creation_date": 1542791070, "last_edit_date": 1542805206, "question_id": 53408496, "link": "https://stackoverflow.com/questions/53408496/how-to-inject-dagger-dependendcies-anywhere-except-activity", "title": "How to inject Dagger dependendcies anywhere, except Activity?", "body": "<p>I'm new to Dagger, so couple of things are still hard to grasp for me. </p>\n\n<p>I have a component:</p>\n\n<pre><code>@Singleton\n@Component(\n    modules = [\n        AndroidInjectionModule::class,\n        AndroidSupportInjectionModule::class,\n        AppModule::class,\n        AuthModule::class\n    ]\n)\ninterface AppComponent {\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(app: Application): Builder\n\n        @BindsInstance\n        fun appModule(@Named(\"application\") app:Application): Builder\n\n        fun build(): AppComponent\n    }\n\n    fun inject(application: CommonApplication)\n}\n</code></pre>\n\n<p>and a module:</p>\n\n<pre><code>@Module\nclass AppModule {\n    @Inject\n    @Named(\"application\")\n    internal lateinit var application: Application\n\n    @Provides\n    @Singleton\n    fun provideApplicationContext() = application.applicationContext\n\n    @Provides\n    @Singleton\n    fun provideApplication() = application\n}\n</code></pre>\n\n<p>In Activity where I want to inject dependencies I use </p>\n\n<pre><code>AndroidSupportInjection.inject(this/*activity*/)\n</code></pre>\n\n<p>And here is a question: </p>\n\n<p>Just for understanding. If I want to inject <code>applicationContext</code>, that provides by AppModule into  child class. For example I have a class MainActivity with child class. And I want to Inject applicationContext only to this child, <strong>instead of passing it as parameter.</strong> How to do this?</p>\n\n<pre><code>class MainActivity {\n\n    ChildClazz child;    \n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        AndroidSupportInjection.inject(this/*activity*/)\n    }\n\n}\n\nclass ChildClazz {\n    /* HOW TO INJECT DEPENDENCY HERE?*/\n    @Inject\n    context:Context\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "event-bus"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10684624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3M6XkTOE-3c/AAAAAAAAAAI/AAAAAAAAAAk/t9YCnYVETWU/photo.jpg?sz=128", "display_name": "user10684624", "link": "https://stackoverflow.com/users/10684624/user10684624"}, "is_accepted": false, "score": 0, "last_activity_date": 1542791093, "creation_date": 1542791093, "answer_id": 53408503, "question_id": 53408348, "link": "https://stackoverflow.com/questions/53408348/android-globalbus-getbus-isregisteredthis-not-working/53408503#53408503", "title": "android GlobalBus.getBus().isRegistered(this) not working", "body": "<p>Im using like this.</p>\n\n<pre><code>    @Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    registerBus();\n\n}\n\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    unRegisterBus();\n}\n</code></pre>\n"}], "owner": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542791093, "creation_date": 1542790537, "question_id": 53408348, "link": "https://stackoverflow.com/questions/53408348/android-globalbus-getbus-isregisteredthis-not-working", "title": "android GlobalBus.getBus().isRegistered(this) not working", "body": "<p>I have used <a href=\"https://github.com/greenrobot/EventBus\" rel=\"nofollow noreferrer\">EventBus</a> in the project. I have a navigation drawer from which I am navigatinng through fragments. What I am facing is I am trying to register EventBus in <code>onCreateView()</code> of the fragment using <code>GlobalBus.getBus().register(this)</code></p>\n\n<p>Then I open drawer and open second fragment. Then again when I open drawer and re-open the first fragment, <code>onCreateView()</code> called and <code>GlobalBus.getBus().register(this)</code> again called. which register EventBus again (twice,thrice and on)</p>\n\n<p>So to not to register again, I did</p>\n\n<pre><code>if (!GlobalBus.getBus().isRegistered(this))\n            GlobalBus.getBus().register(this)\n</code></pre>\n\n<p>But it always returns <strong>false</strong>.</p>\n\n<p>I have unregister EventBus from </p>\n\n<pre><code>override fun onDestroyView() {\n    GlobalBus.getBus().unregister(this)\n        }\n</code></pre>\n\n<p>Can anyone tell me why</p>\n\n<pre><code>if (!GlobalBus.getBus().isRegistered(this))\n            GlobalBus.getBus().register(this)\n</code></pre>\n\n<p>not working? And how could I register only single time for any fragment so that subscriber method won't call multiple times?</p>\n"}, {"tags": ["email", "kotlin", "outlook", "jakarta-mail", "icalendar"], "comments": [{"owner": {"reputation": 27744, "user_id": 1040885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXgVZ.jpg?s=128&g=1", "display_name": "Bill Shannon", "link": "https://stackoverflow.com/users/1040885/bill-shannon"}, "edited": false, "score": 0, "creation_date": 1542835061, "post_id": 53408299, "comment_id": 93715527, "body": "That&#39;s pretty weird.  You message clearly has recipients so that&#39;s not what it&#39;s complaining about.  The fact that the message is delivered when you remove method=REQUEST suggests that it&#39;s complaining about something in the calendar appointment.  Should the calendar appointment also mention foo2@foo2.com somehow?  Maybe the invitation needs to mention the person you&#39;re sending the message to?"}, {"owner": {"reputation": 1800, "user_id": 5654715, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HYPra.jpg?s=128&g=1", "display_name": "Baptiste Arnaud", "link": "https://stackoverflow.com/users/5654715/baptiste-arnaud"}, "reply_to_user": {"reputation": 27744, "user_id": 1040885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXgVZ.jpg?s=128&g=1", "display_name": "Bill Shannon", "link": "https://stackoverflow.com/users/1040885/bill-shannon"}, "edited": false, "score": 0, "creation_date": 1542835208, "post_id": 53408299, "comment_id": 93715588, "body": "The person email is mentioned in the invitation as an attendee so that&#39;s not the problem... I&#39;ll try to focus my debug in the calendar. Thanks for the suggestion!"}], "answers": [{"tags": [], "owner": {"reputation": 1800, "user_id": 5654715, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HYPra.jpg?s=128&g=1", "display_name": "Baptiste Arnaud", "link": "https://stackoverflow.com/users/5654715/baptiste-arnaud"}, "is_accepted": true, "score": 2, "last_activity_date": 1542892233, "creation_date": 1542892233, "answer_id": 53431775, "question_id": 53408299, "link": "https://stackoverflow.com/questions/53408299/send-ics-file-rsvp-format-not-working-properly-using-outlook-smtp-server/53431775#53431775", "title": "Send ics file RSVP format not working properly using Outlook smtp server?", "body": "<p>As mentioned @Bill Shannon in the comment section, the problem came from the calendar formatting.</p>\n\n<p>You need to make sure your ics pass <a href=\"http://ical-validator.herokuapp.com/validate/\" rel=\"nofollow noreferrer\">this kind of validator</a>.</p>\n\n<p>For example, in my implementation :</p>\n\n<pre><code>\"\"\"BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//GRTgaz Corporation//NONSGML Togaz'er//FR\nMETHOD:REQUEST\nBEGIN:VEVENT\nUID:$id\nORGANIZER;RSVP=FALSE;PARTSTAT=ACCEPTED;\nROLE=CHAIR:mailto:SVC_ToGazer@uccint.onmicrosoft.com\nATTENDEE;RSVP=FALSE;PARTSTAT=ACCEPTED;\nROLE=REQ-PARTICIPANT:mailto:${to.email}\nDTSTAMP:${startDate[0]}T${startDate[1]}Z\nDTSTART:${startDate[0]}T${startDate[1]}\nDTEND:${endDate[0]}T${endDate[1]}\nSUMMARY:${meetup.name}\nLOCATION:${meetup.address}\nDESCRIPTION:${meetup.description}\nEND:VEVENT\nEND:VCALENDAR\n\"\"\"\n</code></pre>\n\n<p>The <code>ORGANIZER</code> and <code>ATTENDEE</code> props weren't valid. the property <code>ROLE</code> must be in the same line. So I modified it to:</p>\n\n<pre><code>\"\"\"BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//GRTgaz Corporation//NONSGML Togaz'er//FR\nMETHOD:REQUEST\nBEGIN:VEVENT\nUID:$id\nORGANIZER;RSVP=FALSE;PARTSTAT=ACCEPTED;ROLE=CHAIR\n :mailto:SVC_ToGazer@uccint.onmicrosoft.com\nATTENDEE;RSVP=FALSE;PARTSTAT=ACCEPTED;ROLE=REQ-PARTICIPANT\n :mailto:${to.email}\nDTSTAMP:${startDate[0]}T${startDate[1]}Z\nDTSTART:${startDate[0]}T${startDate[1]}\nDTEND:${endDate[0]}T${endDate[1]}\nSUMMARY:${meetup.name}\nLOCATION:${meetup.address}\nDESCRIPTION:${meetup.description}\nEND:VEVENT\nEND:VCALENDAR\n\"\"\"\n</code></pre>\n\n<p>Now, it works properly.</p>\n"}, {"tags": [], "owner": {"reputation": 507, "user_id": 4217158, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/PG1pT.png?s=128&g=1", "display_name": "Fran Cano", "link": "https://stackoverflow.com/users/4217158/fran-cano"}, "is_accepted": false, "score": 1, "last_activity_date": 1573040451, "creation_date": 1573040451, "answer_id": 58729358, "question_id": 53408299, "link": "https://stackoverflow.com/questions/53408299/send-ics-file-rsvp-format-not-working-properly-using-outlook-smtp-server/58729358#58729358", "title": "Send ics file RSVP format not working properly using Outlook smtp server?", "body": "<p>As mentioned before, there are several types of online validators that can check if the format is valid. These two validators detect different types of errors.</p>\n\n<ul>\n<li><a href=\"http://ical-validator.herokuapp.com/validate/\" rel=\"nofollow noreferrer\">http://ical-validator.herokuapp.com/validate/</a></li>\n<li><a href=\"https://icalendar.org/validator.html#results\" rel=\"nofollow noreferrer\">https://icalendar.org/validator.html#results</a></li>\n</ul>\n\n<p>For example, one of the things the validators will notice is that, whenever you use text, you have to escape the following characters:\n <code>\\</code> <code>;</code> <code>,</code> <code>\\n</code></p>\n\n<p>Some things the validators treat as warnings (no <code>CRLF</code> line breaks, too much characters in the same line) can be ignored.</p>\n\n<p>There are some errors that the validators won't be able to detect. For example, I got this SMTP error when the organizer's email was equal to the recipient's email. Finding it was non-obvious but I finally detected the source of the problem.</p>\n\n<pre><code>ORGANIZER;CN=Example:mailto:sameEmailAsTheRecipient@example.com\n</code></pre>\n\n<p>I hope Outlook can improve the feedback / error messages for iCal validation!</p>\n"}], "owner": {"reputation": 1800, "user_id": 5654715, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HYPra.jpg?s=128&g=1", "display_name": "Baptiste Arnaud", "link": "https://stackoverflow.com/users/5654715/baptiste-arnaud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1483, "favorite_count": 0, "accepted_answer_id": 53431775, "answer_count": 2, "score": 2, "last_activity_date": 1573040451, "creation_date": 1542790357, "last_edit_date": 1542815353, "question_id": 53408299, "link": "https://stackoverflow.com/questions/53408299/send-ics-file-rsvp-format-not-working-properly-using-outlook-smtp-server", "title": "Send ics file RSVP format not working properly using Outlook smtp server?", "body": "<p>I have a code that works well when using gmail smtp server with my personal credentials :</p>\n\n<pre><code>fun sendEventInvitation(from: Profile, to: Profile, meetup: Meetup) {\n    val message: MimeMessage = emailSender.createMimeMessage()\n\n    message.setFrom(InternetAddress(\"foo1@foo1.com\"))\n    message.setRecipient(Message.RecipientType.TO, InternetAddress(\"foo2@foo2.com\"))\n    message.subject = \"foo\"\n\n    val messageBodyEvent = MimeBodyPart()\n    val id = UUID.randomUUID().toString()\n    val eventIcs = formatCalendarFile(id, from, to, meetup)\n    messageBodyEvent.dataHandler = DataHandler(ByteArrayDataSource(eventIcs, \"text/calendar; charset=\\\"utf-8\\\"; method=REQUEST\"))\n    messageBodyEvent.setHeader(\"Content-Transfer-Encoding\", \"base64\")\n\n    val multiPart = MimeMultipart()\n    multiPart.addBodyPart(messageBodyEvent)\n\n    message.setContent(multiPart)\n\n    emailSender.send(message)\n}\n</code></pre>\n\n<p><code>eventIcs</code> is basically a <code>String</code> of an iCal correct format.</p>\n\n<p>But whenever I switch to the outlook server using company's credentials, It gives the following error :</p>\n\n<pre><code>554 5.2.0 STOREDRV.Submission.Exception:InvalidRecipientsException; Failed to process message due to a permanent exception with message A message can't be sent because it contains no recipients. InvalidRecipientsException: A message can't be sent because it contains no recipients. [Hostname=AM6PR01MB5011.eurprd01.prod.exchangelabs.com]\nDEBUG SMTP: got response code 554, with response: 554 5.2.0 STOREDRV.Submission.Exception:InvalidRecipientsException; Failed to process message due to a permanent exception with message A message can't be sent because it contains no recipients. InvalidRecipientsException: A message can't be sent because it contains no recipients. [Hostname=AM6PR01MB5011.eurprd01.prod.exchangelabs.com]\n</code></pre>\n\n<p>Now, weirdly enough, when I remove the <code>method=REQUEST</code> attachment header :</p>\n\n<pre><code>messageBodyEvent.dataHandler = DataHandler(ByteArrayDataSource(eventIcs, \"text/calendar; charset=\\\"utf-8\\\"))\n</code></pre>\n\n<p>It works but because there's not this header, the ICS isn't well recognized by Outlook client and doesn't display RSVP options to the recipients as explained <a href=\"https://stackoverflow.com/questions/19523861/multipart-email-with-text-and-calendar-outlook-doesnt-recognize-ics\">here</a>.</p>\n\n<p>I tried to send an invitation from Thunderbird using the same credentials and it works. So it's not link to rules whatsoever.</p>\n\n<p>Here is the complete debug output :</p>\n\n<pre><code>DEBUG: JavaMail version 1.6.1\nDEBUG: URL jar:file:/Users/baptistearnaud/.m2/repository/com/amazonaws/aws-java-sdk-ses/1.11.373/aws-java-sdk-ses-1.11.373.jar!/META-INF/javamail.providers\nDEBUG: successfully loaded resource: jar:file:/Users/baptistearnaud/.m2/repository/com/amazonaws/aws-java-sdk-ses/1.11.373/aws-java-sdk-ses-1.11.373.jar!/META-INF/javamail.providers\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\nDEBUG: Tables of loaded providers\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], com.amazonaws.services.simpleemail.AWSJavaMailTransport=javax.mail.Provider[TRANSPORT,aws,com.amazonaws.services.simpleemail.AWSJavaMailTransport,Amazon Web Services LLC]}\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], aws=javax.mail.Provider[TRANSPORT,aws,com.amazonaws.services.simpleemail.AWSJavaMailTransport,Amazon Web Services LLC]}\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host \"smtp.office365.com\", port 587, isSSL false\n220 LO2P265CA0439.outlook.office365.com Microsoft ESMTP MAIL Service ready at Wed, 21 Nov 2018 11:01:22 +0000\nDEBUG SMTP: connected to host \"smtp.office365.com\", port: 587\nEHLO mbp-de-baptiste.lan\n250-LO2P265CA0439.outlook.office365.com Hello [89.227.204.114]\n250-SIZE 157286400\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-STARTTLS\n250-8BITMIME\n250-BINARYMIME\n250-CHUNKING\n250 SMTPUTF8\nDEBUG SMTP: Found extension \"SIZE\", arg \"157286400\"\nDEBUG SMTP: Found extension \"PIPELINING\", arg \"\"\nDEBUG SMTP: Found extension \"DSN\", arg \"\"\nDEBUG SMTP: Found extension \"ENHANCEDSTATUSCODES\", arg \"\"\nDEBUG SMTP: Found extension \"STARTTLS\", arg \"\"\nDEBUG SMTP: Found extension \"8BITMIME\", arg \"\"\nDEBUG SMTP: Found extension \"BINARYMIME\", arg \"\"\nDEBUG SMTP: Found extension \"CHUNKING\", arg \"\"\nDEBUG SMTP: Found extension \"SMTPUTF8\", arg \"\"\nSTARTTLS\n220 2.0.0 SMTP server ready\nEHLO mbp-de-baptiste.lan\n250-LO2P265CA0439.outlook.office365.com Hello [89.227.204.114]\n250-SIZE 157286400\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-AUTH LOGIN XOAUTH2\n250-8BITMIME\n250-BINARYMIME\n250-CHUNKING\n250 SMTPUTF8\nDEBUG SMTP: Found extension \"SIZE\", arg \"157286400\"\nDEBUG SMTP: Found extension \"PIPELINING\", arg \"\"\nDEBUG SMTP: Found extension \"DSN\", arg \"\"\nDEBUG SMTP: Found extension \"ENHANCEDSTATUSCODES\", arg \"\"\nDEBUG SMTP: Found extension \"AUTH\", arg \"LOGIN XOAUTH2\"\nDEBUG SMTP: Found extension \"8BITMIME\", arg \"\"\nDEBUG SMTP: Found extension \"BINARYMIME\", arg \"\"\nDEBUG SMTP: Found extension \"CHUNKING\", arg \"\"\nDEBUG SMTP: Found extension \"SMTPUTF8\", arg \"\"\nDEBUG SMTP: protocolConnect login, host=smtp.office365.com, user=SVC_ToGazer@uccint.onmicrosoft.com, password=&lt;non-null&gt;\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \nDEBUG SMTP: Using mechanism LOGIN\nDEBUG SMTP: AUTH LOGIN command trace suppressed\nDEBUG SMTP: AUTH LOGIN succeeded\nDEBUG SMTP: use8bit false\nMAIL FROM:&lt;foo1@foo1.com&gt;\n250 2.1.0 Sender OK\nRCPT TO:&lt;foo2@foo2.com&gt;\n250 2.1.5 Recipient OK\nDEBUG SMTP: Verified Addresses\nDEBUG SMTP:   foo2@foo2.com\nDATA\n354 Start mail input; end with &lt;CRLF&gt;.&lt;CRLF&gt;\nDate: Wed, 21 Nov 2018 11:00:41 +0000 (UTC)\nFrom: foo1@foo1.com\nTo: foo2@foo2.com\nMessage-ID: &lt;681000169.0.1542798041668@mbp-de-baptiste.lan&gt;\nSubject: FOO\nMIME-Version: 1.0\nContent-Type: multipart/mixed; \n    boundary=\"----=_Part_1_1921144901.1542798041673\"\n\n------=_Part_1_1921144901.1542798041673\nContent-Type: text/calendar; charset=\"utf-8\"; method=REQUEST\nContent-Transfer-Encoding: base64\n\nQkVHSU46VkNBTEVOREFSClZFUlNJT046Mi4wClBST0RJRDotLy9HUlRnYXogQ29ycG9yYXRpb24v\nL05PTlNHTUwgVG9nYXonZXIvL0ZSCk1FVEhPRDpSRVFVRVNUCkJFR0lOOlZFVkVOVApVSUQ6YTQ5\nODVkZjUtNzI1YS00NTA0LTgzNWYtZDhkNTU2ZjliMDIzQHRvZ2F6ZXIuY29tCkRUU1RBTVA6MjAx\nODExMjlUMTgwMDAwWgpPUkdBTklaRVI7Q049dG9nYXplckBpbnQuZ3J0Z2F6LmV1Om1haWx0bzp0\nb2dhemVyQGludC5ncnRnYXouZXUKQVRURU5ERUU7Q1VUWVBFPUlORElWSURVQUw7Uk9MRT1SRVEt\nUEFSVElDSVBBTlQ7ClBBUlRTVEFUPU5FRURTLUFDVElPTjtSU1ZQPVRSVUU7Q049QmFwdGlzdGUg\nQXJuYXVkOwpYLU5VTS1HVUVTVFM9MDptYWlsdG86YmFwdF9pczJAaG90bWFpbC5jb20KRFRTVEFS\nVDoyMDE4MTEyOVQxODAwMDAKRFRFTkQ6MjAxODExMjlUMjIwMDAwClNVTU1BUlk6QWZ0ZXJ3b3Jr\nIGdheidwYWNobwpMT0NBVElPTjpQYXJpcyA4ZSBhcnIKREVTQ1JJUFRJT046QWZ0ZXJ3b3JrIG/D\nuSBsJ29uIHZhIGTDqWd1c3RlciBkdSBib24gZ2FzcGFjaG8uIEonZXNww6hyZSBxdWUgbGUgamV1\nIGRlIG1vdCB2b3VzIHBsYcOudC4uLiBFeGNlbGxlbnQhCkVORDpWRVZFTlQKRU5EOlZDQUxFTkRB\nUgo=\n------=_Part_1_1921144901.1542798041673--\n.\n554 5.2.0 STOREDRV.Submission.Exception:InvalidRecipientsException; Failed to process message due to a permanent exception with message A message can't be sent because it contains no recipients. InvalidRecipientsException: A message can't be sent because it contains no recipients. [Hostname=AM6PR01MB5011.eurprd01.prod.exchangelabs.com]\nDEBUG SMTP: got response code 554, with response: 554 5.2.0 STOREDRV.Submission.Exception:InvalidRecipientsException; Failed to process message due to a permanent exception with message A message can't be sent because it contains no recipients. InvalidRecipientsException: A message can't be sent because it contains no recipients. [Hostname=AM6PR01MB5011.eurprd01.prod.exchangelabs.com]\n\nRSET\n250 2.0.0 Resetting\nDEBUG SMTP: MessagingException while sending, THROW: \ncom.sun.mail.smtp.SMTPSendFailedException: 554 5.2.0 STOREDRV.Submission.Exception:InvalidRecipientsException; Failed to process message due to a permanent exception with message A message can't be sent because it contains no recipients. InvalidRecipientsException: A message can't be sent because it contains no recipients. [Hostname=AM6PR01MB5011.eurprd01.prod.exchangelabs.com]\n</code></pre>\n\n<p>Any ideas why there is this behavior ?</p>\n"}, {"tags": ["kotlin", "filtering"], "comments": [{"owner": {"reputation": 69, "user_id": 9051432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939c40722d169f3dee3efebc6114b44a?s=128&d=identicon&r=PG&f=1", "display_name": "IntegratedDigitalSystems IDS", "link": "https://stackoverflow.com/users/9051432/integrateddigitalsystems-ids"}, "reply_to_user": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1542790585, "post_id": 53408246, "comment_id": 93691525, "body": "check please the edited answer"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1542790719, "post_id": 53408246, "comment_id": 93691611, "body": "this code you are getting duplicate values?"}], "answers": [{"comments": [{"owner": {"reputation": 3222, "user_id": 4068240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35facdddfc74d23ee378790b905226?s=128&d=identicon&r=PG", "display_name": "Clijsters", "link": "https://stackoverflow.com/users/4068240/clijsters"}, "edited": false, "score": 0, "creation_date": 1542793223, "post_id": 53408423, "comment_id": 93693108, "body": "While this code snippet may solve the question, <a href=\"http://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."}], "tags": [], "owner": {"reputation": 69, "user_id": 9051432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939c40722d169f3dee3efebc6114b44a?s=128&d=identicon&r=PG&f=1", "display_name": "IntegratedDigitalSystems IDS", "link": "https://stackoverflow.com/users/9051432/integrateddigitalsystems-ids"}, "is_accepted": false, "score": 0, "last_activity_date": 1542796435, "last_edit_date": 1542796435, "creation_date": 1542790803, "answer_id": 53408423, "question_id": 53408246, "link": "https://stackoverflow.com/questions/53408246/kotlin-filter-list-according-to-another-list/53408423#53408423", "title": "Kotlin Filter list according to another list", "body": "<pre><code>for (i in marketsFilter.indices) {\n     val market = marketsFilter[i]\n     marketTypes.add(\n         MyApplication.allMarketTypes.single { it.id == market.marketTypeId })\n}\n\nmarketTypes = marketTypes.distinct().toMutableList()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 2, "last_activity_date": 1542795539, "last_edit_date": 1542795539, "creation_date": 1542791732, "answer_id": 53408668, "question_id": 53408246, "link": "https://stackoverflow.com/questions/53408246/kotlin-filter-list-according-to-another-list/53408668#53408668", "title": "Kotlin Filter list according to another list", "body": "<p>You can express that more concise using <code>map</code>:</p>\n\n<pre><code>marketsFilter.map { market -&gt;\n   MyApplication.allMarketTypes.single { it.id == market.marketTypeId }\n}.distinct()\n</code></pre>\n\n<p>No need to handle raw indices.</p>\n\n<p>Note: If you want to use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/single.html\" rel=\"nofollow noreferrer\">single</a> dependes on your use case, take a look the list below and decide for yourself.</p>\n\n<hr>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/single.html\" rel=\"nofollow noreferrer\"><code>single</code></a>: Returns the single element matching the given predicate, or throws exception if there is no or more than one matching element.</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/single-or-null.html\" rel=\"nofollow noreferrer\"><code>singleOrNull</code></a>: Returns the single element matching the given predicate, or <code>null</code> if element was not found or more than one element was found.</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/first.html\" rel=\"nofollow noreferrer\"><code>first</code></a>: Returns the first element matching the given predicate or throws an exception if there is none.</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/first-or-null.html\" rel=\"nofollow noreferrer\"><code>firstOrNull</code></a>: \nReturns the first element matching the given predicate, or <code>null</code> if element was not found.</p>\n\n<p>If you decide to use a <code>...OrNull</code> variant use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-not-null.html\" rel=\"nofollow noreferrer\"><code>mapNotNull</code></a> to discard the null values.</p>\n\n<pre><code>marketsFilter.mapNotNull { market -&gt;\n    // ...\n}.distinct()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 0, "last_activity_date": 1542793925, "last_edit_date": 1542793925, "creation_date": 1542792194, "answer_id": 53408813, "question_id": 53408246, "link": "https://stackoverflow.com/questions/53408246/kotlin-filter-list-according-to-another-list/53408813#53408813", "title": "Kotlin Filter list according to another list", "body": "<p>You may be interested in the following:</p>\n\n<pre><code>val marketTypes = marketsFilter.mapNotNull { market -&gt;\n                                  MyApplication.allMarketTypes\n                                                        .singleOrNull { it.id == market.marketTypeId }\n                               }.distinct().toMutableList()\n</code></pre>\n\n<p>You may also be interested in the vice-versa approach, basically filtering just the market types for the ids of the market filter, e.g.:</p>\n\n<pre><code>val marketTypes = MyApplication.allMarketTypes.filter { type -&gt; marketsFilter.any { it.marketTypeId == type.id } }\n                                              .toMutableList() // no distinct needed\n</code></pre>\n\n<p>You may also want to replace any <code>.distinct().toMutableList()</code> with a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-mutable-set.html\" rel=\"nofollow noreferrer\"><code>.toMutableSet()</code></a> if that also suites your needs.</p>\n\n<p>Note also, if you check your <code>allMarketTypes</code> often, you may rather want to put them in a map, e.g.:</p>\n\n<pre><code>val allMarketTypesMap = allMarketTypes.associateBy { it.id }\n</code></pre>\n\n<p>That way your further mappings will become much easier, e.g.:</p>\n\n<pre><code>val marketTypes = marketsFilter.mapNotNull { allMarketTypesMap[it.marketTypeId] }\n                               .distinct().toMutableList() // or just .toMutableSet()\n</code></pre>\n\n<p>As a side-note regarding duplicates in the <code>allMarketTypes</code> (in case there are any): <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate-by.html#associateby\" rel=\"nofollow noreferrer\"><code>associateBy</code></a> will collect just the last of all entries with the same id, basically discarding any duplicate market type. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/single.html\" rel=\"nofollow noreferrer\"><code>single</code></a> on the other hand will basically fail if there are more then one market type with same id or none (or if you use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/single-or-null.html\" rel=\"nofollow noreferrer\"><code>singleOrNull</code></a> it will instead return <code>null</code>). Just keep that in mind.</p>\n"}], "owner": {"reputation": 69, "user_id": 9051432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939c40722d169f3dee3efebc6114b44a?s=128&d=identicon&r=PG&f=1", "display_name": "IntegratedDigitalSystems IDS", "link": "https://stackoverflow.com/users/9051432/integrateddigitalsystems-ids"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1962, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1542796435, "creation_date": 1542790182, "last_edit_date": 1542792544, "question_id": 53408246, "link": "https://stackoverflow.com/questions/53408246/kotlin-filter-list-according-to-another-list", "title": "Kotlin Filter list according to another list", "body": "<p>I have a list of all market types, and a list of all markets (each object having a market typeId)</p>\n\n<p>I want to have a market type list containing only the market types in the all markets list (without having the market types duplicated). How to do so?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>for (i in marketsFilter.indices) {\n    val market = marketsFilter[i]\n    marketTypes.add(MyApplication.allMarketTypes.single { \n        it.id == market.marketTypeId \n    })\n}\n</code></pre>\n"}, {"tags": ["android", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 3161, "user_id": 10510491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4QsPKELpII/AAAAAAAAAAI/AAAAAAAAV14/3oA6QmFw68U/photo.jpg?sz=128", "display_name": "Aaron", "link": "https://stackoverflow.com/users/10510491/aaron"}, "edited": false, "score": 1, "creation_date": 1542789741, "post_id": 53408123, "comment_id": 93691034, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/11102337/can-you-have-two-activities-running-at-the-same-time\">Can you have two activities running at the same time?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10684624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3M6XkTOE-3c/AAAAAAAAAAI/AAAAAAAAAAk/t9YCnYVETWU/photo.jpg?sz=128", "display_name": "user10684624", "link": "https://stackoverflow.com/users/10684624/user10684624"}, "is_accepted": false, "score": 0, "last_activity_date": 1542790190, "last_edit_date": 1542790190, "creation_date": 1542789868, "answer_id": 53408179, "question_id": 53408123, "link": "https://stackoverflow.com/questions/53408123/how-can-i-show-two-activities-on-the-same-screen/53408179#53408179", "title": "How can I show two activities on the same screen?", "body": "<p>At first, Android system can show only one activity on the screen.</p>\n\n<p>You should not use Activity. </p>\n\n<p>Please use <a href=\"https://developer.android.com/guide/components/fragments\" rel=\"nofollow noreferrer\">Fragment</a>. You can use multiple fragment on the same screen.</p>\n"}, {"tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1542790076, "creation_date": 1542790076, "answer_id": 53408223, "question_id": 53408123, "link": "https://stackoverflow.com/questions/53408123/how-can-i-show-two-activities-on-the-same-screen/53408223#53408223", "title": "How can I show two activities on the same screen?", "body": "<p>Use Fragment.Fragment are Runs inside the Activity.\nyou can display multiple fragment in same time.</p>\n\n<p>Refer <a href=\"https://developer.android.com/guide/components/fragments\" rel=\"nofollow noreferrer\">Fragments</a></p>\n\n<p><a href=\"https://developer.android.com/training/basics/fragments/creating\" rel=\"nofollow noreferrer\">Create a fragment</a></p>\n"}, {"tags": [], "owner": {"reputation": 5476, "user_id": 2128166, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/87fc02ec60657bdadb80a43b088a7017?s=128&d=identicon&r=PG", "display_name": "Wasim K. Memon", "link": "https://stackoverflow.com/users/2128166/wasim-k-memon"}, "is_accepted": false, "score": 1, "last_activity_date": 1542790647, "last_edit_date": 1542790647, "creation_date": 1542790148, "answer_id": 53408237, "question_id": 53408123, "link": "https://stackoverflow.com/questions/53408123/how-can-i-show-two-activities-on-the-same-screen/53408237#53408237", "title": "How can I show two activities on the same screen?", "body": "<p>You have 2 ways to complete task.</p>\n\n<ol>\n<li><p>Fragments, They can do same things as activity. Its lite weight activity class with more flexible to attach and detach from the screen. </p></li>\n<li><p>Views, If you think your task can be done by only activity then use views for it. you can apply different animations and show/hide feature to display content on the screen within single activity.</p></li>\n</ol>\n\n<p><a href=\"https://developer.android.com/guide/components/fragments\" rel=\"nofollow noreferrer\">Fragment</a> is a part of an activity, which contributes its own UI to that activity. Fragment can be thought like a sub activity. Where as the complete screen with which user interacts is called as activity. An activity can contain multiple fragments.Fragments are mostly a sub part of an activity.</p>\n\n<p>From document</p>\n\n<blockquote>\n  <p>For example, a news application can use one fragment to show a list of\n  articles on the left and another fragment to display an article on the\n  right\u2014both fragments appear in one activity, side by side, and each\n  fragment has its own set of lifecycle callback methods and handle\n  their own user input events. Thus, instead of using one activity to\n  select an article and another activity to read the article, the user\n  can select an article and read it all within the same activity</p>\n</blockquote>\n"}], "owner": {"reputation": 46, "user_id": 10079691, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xi3J6rsSlts/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rKdOpdR8y0yvcskudsr4ONoC4Trw/mo/photo.jpg?sz=128", "display_name": "medusa", "link": "https://stackoverflow.com/users/10079691/medusa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1542790647, "creation_date": 1542789638, "last_edit_date": 1542790519, "question_id": 53408123, "link": "https://stackoverflow.com/questions/53408123/how-can-i-show-two-activities-on-the-same-screen", "title": "How can I show two activities on the same screen?", "body": "<p>I am trying to find a way to show two activities on the same screen, I have two activities main and content activity, the main activity has a mini-player that's implemented and only works in an activity and the content activity has some implementations that also only work in an activity so the solution of converting them into a fragment does not work for me. I need to find a way to show the mini-player in the main activity inside of the content activity. I have looked online and none of the solutions so far have been working for me!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1542789053, "post_id": 53407912, "comment_id": 93690637, "body": "Use it inside  <code>onActivityCreated</code> method and check"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1542789061, "post_id": 53407912, "comment_id": 93690646, "body": "shouldn&#39;t you be using <code>val</code> instead of <code>var</code>"}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 2, "creation_date": 1542789087, "post_id": 53407912, "comment_id": 93690658, "body": "<code>onCreateView()</code> is too early. You can only use synthetic view refs after <code>onCreateView()</code> in the fragment lifecycle. <a href=\"https://stackoverflow.com/questions/34541650/nullpointerexception-when-trying-to-access-views-in-a-kotlin-fragment\" title=\"nullpointerexception when trying to access views in a kotlin fragment\">stackoverflow.com/questions/34541650/&hellip;</a>"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1542789125, "post_id": 53407912, "comment_id": 93690682, "body": "<code>btnOpen</code> is <code>NULL</code>."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1542789447, "post_id": 53407912, "comment_id": 93690854, "body": "Thanks! But why is <code>var s= rootView.findViewById&lt;Button&gt;(R.id.btnOpen)</code> OK ?"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 1, "creation_date": 1542789643, "post_id": 53407912, "comment_id": 93690985, "body": "@HelloCW because it&#39;s not accessed as a synthetic view."}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1542789107, "answer_count": 0, "score": 0, "last_activity_date": 1542789401, "creation_date": 1542788871, "last_edit_date": 1542789401, "question_id": 53407912, "link": "https://stackoverflow.com/questions/53407912/why-does-btnopen-return-null-when-i-invoke-it-on-oncreateview-with-kotlin", "closed_reason": "Duplicate", "title": "Why does btnOpen return null when I invoke it on onCreateView with Kotlin?", "body": "<p>I get the error information </p>\n\n<pre><code> Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n</code></pre>\n\n<p>when I run the code <code>btnOpen.setOnClickListener</code>.</p>\n\n<p>But the system is OK when I run the code </p>\n\n<pre><code>var s= rootView.findViewById&lt;Button&gt;(R.id.btnOpen)\n</code></pre>\n\n<p>why?</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>import kotlinx.android.synthetic.main.layout_tab_clipboard.*\n\nimport info.dodata.clipboard.R\nimport utility.openActivity\n\nclass UITabClipboard: Fragment(){\n    private lateinit var  mContext: Context\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val rootView = inflater.inflate(R.layout.layout_tab_clipboard, container, false)\n        mContext = rootView.context\n\n        var s= rootView.findViewById&lt;Button&gt;(R.id.btnOpen) //It's OK\n        s.setOnClickListener(){\n            mContext.openActivity&lt;UIAbout&gt;()\n        }     \n\n\n        btnOpen.setOnClickListener {           //It cause error\n            mContext.openActivity&lt;UIAbout&gt;()\n        }\n\n        return rootView\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "edited": false, "score": 0, "creation_date": 1542801123, "post_id": 53411294, "comment_id": 93697653, "body": "again   &quot;android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.&quot;  thrown"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "edited": false, "score": 0, "creation_date": 1542801341, "post_id": 53411294, "comment_id": 93697761, "body": "This indicates that you didn&#39;t set up <code>uiScope</code> to actually be a UI-based coroutine scope. Its <code>coroutineContext</code> must return <code>Dispatchers.Main + job</code>."}, {"owner": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "edited": false, "score": 0, "creation_date": 1542802144, "post_id": 53411294, "comment_id": 93698175, "body": "but Dispatchers.Main throws:  android.os.NetworkOnMainThreadException"}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1542804410, "last_edit_date": 1542804410, "creation_date": 1542800482, "answer_id": 53411294, "question_id": 53407838, "link": "https://stackoverflow.com/questions/53407838/how-to-acces-view-properties-from-coroutines-result/53411294#53411294", "title": "How to acces view properties from coroutines result", "body": "<p>Your <code>uiScope</code> isn't set up correctly, apparently its dispatcher is not <code>Dispatchers.Main</code>. So the first thing to fix is your implementation of the <code>coroutineContext</code> property, which should be</p>\n\n<pre><code>override val coroutineContext = Dispatchers.Main + SupervisorJob()\n</code></pre>\n\n<p>Once you fix that, your code will be making a blocking call on the UI thread. To make the blocking call on a background thread, but still keep the rest of the coroutine on the UI thread, write</p>\n\n<pre><code>uiScope.launch {\n    try {\n         text.text = withContext(Dispatchers.IO) {\n             URL(\"https://httpbin.org/get\").readText()\n         }\n    } catch (e: Exception) {\n        text.text = e.message\n    } finally {\n        log(this@MainActivity, result)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "is_accepted": true, "score": 1, "last_activity_date": 1557384717, "last_edit_date": 1557384717, "creation_date": 1542812071, "answer_id": 53414735, "question_id": 53407838, "link": "https://stackoverflow.com/questions/53407838/how-to-acces-view-properties-from-coroutines-result/53414735#53414735", "title": "How to acces view properties from coroutines result", "body": "<p>I found solution. I can not access UI component from another thread, at the same time I can not make internet request on the main thread. So I should chouse one of them. Solution was to use ViewModel components and update it's LiveDate value which subsequently will chane the UI</p>\n\n<pre><code>    var viewModel = ViewModelProviders.of(this).get(MyViewModel::class.java)\n    viewModel.selected.observe(this, Observer{ users -&gt;\n\n        text.text = users\n    })\n    uiScope.launch {\n            try {\n                result = URL(\"http://jsonplaceholder.typicode.com/posts\").readText()\n                viewModel.selected.postValue(result)\n            } catch (error: Error) {\n                viewModel.selected.postValue(error.toString())\n            }\n\n    }\n    log(this@MainActivity,result)\n</code></pre>\n"}], "owner": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "accepted_answer_id": 53414735, "answer_count": 2, "score": 0, "last_activity_date": 1557384717, "creation_date": 1542788598, "last_edit_date": 1542802244, "question_id": 53407838, "link": "https://stackoverflow.com/questions/53407838/how-to-acces-view-properties-from-coroutines-result", "title": "How to acces view properties from coroutines result", "body": "<p>I am trying to do simple request to backend with coroutines</p>\n\n<pre><code>    uiScope.launch {\n        try {\n             result = URL(\"https://httpbin.org/get\").readText()\n            text.text = result\n        } catch (error: Error) {\n            text.text = error.message\n        } finally {\n                log(this@MainActivity,result)\n\n        }\n    }\n</code></pre>\n\n<p>but this exeption is thrown: </p>\n\n<blockquote>\n  <p><code>android.view.ViewRootImpl$CalledFromWrongThreadException</code>: Only the original thread that created a view hierarchy can touch its views.</p>\n</blockquote>\n\n<p>How to solve it?</p>\n"}, {"tags": ["java", "kotlin", "casting"], "answers": [{"comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1542788940, "post_id": 53407900, "comment_id": 93690577, "body": "Type erasure is exactly the reason why this doesn&#39;t work. The <code>castToContext</code> function doesn&#39;t have any access to the type used at the call site, so it doesn&#39;t perform any cast and simply returns the object. That&#39;s why the IDE reports an unchecked cast warning in the function."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 3, "last_activity_date": 1609019522, "last_edit_date": 1609019522, "creation_date": 1542788842, "answer_id": 53407900, "question_id": 53407633, "link": "https://stackoverflow.com/questions/53407633/getting-exception-when-safe-casting-to-generic-type-in-kotlin/53407900#53407900", "title": "Getting Exception when Safe-Casting to Generic Type in Kotlin", "body": "<p>To fix your problem you could use a <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\"><code>reified</code> type</a>:</p>\n<pre><code>inline fun &lt;reified CONTEXT&gt; castToContext() = data as? CONTEXT\n</code></pre>\n<p>The reason, why it didn't work as you expect, is, that generic types are erased at runtime.</p>\n<p>If we look at the byte code, we see that wherever your <code>CONTEXT</code>-generic type is written, it becomes <code>java/lang/Object</code>:</p>\n<pre><code>private final castToContext()Ljava/lang/Object;\n L0\n  LINENUMBER 12 L0\n    ALOAD 0\n    GETFIELD CastTest.data : Ljava/lang/Object;\n    DUP\n    INSTANCEOF java/lang/Object // (1)\n    IFNE L1                     // (1)\n    POP          // (2)\n    ACONST_NULL  // (2)\n   L1\n    ARETURN\n   L2\n    LOCALVARIABLE this LCastTest; L0 L2 0\n    MAXSTACK = 2\n    MAXLOCALS = 1\n</code></pre>\n<p>So the safe cast actually makes a check whether the given object is not of type <code>java/lang/Object</code> (1) and sets the value to be returned to <code>null</code> if that's the case. But as it is of type <code>java/lang/Object</code>, the value is just returned as is. On the calling side however the byte code looks as follows:</p>\n<pre><code>LINENUMBER 4 L0\nALOAD 0\nINVOKESPECIAL CastTest.castToContext ()Ljava/lang/Object; // the call\nCHECKCAST TypeA // the type check\nARETURN\n</code></pre>\n<p>It does an additional <code>CHECKCAST TypeA</code> after calling <code>castToContext</code> and there you get your <code>ClassCastException</code> as the value was not nullified (generic type information was erased at runtime).</p>\n"}], "owner": {"reputation": 1505, "user_id": 4138572, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ReX3s.jpg?s=128&g=1", "display_name": "Vivek Gupta", "link": "https://stackoverflow.com/users/4138572/vivek-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 694, "favorite_count": 0, "accepted_answer_id": 53407900, "answer_count": 1, "score": 4, "last_activity_date": 1609019522, "creation_date": 1542787639, "last_edit_date": 1609011555, "question_id": 53407633, "link": "https://stackoverflow.com/questions/53407633/getting-exception-when-safe-casting-to-generic-type-in-kotlin", "title": "Getting Exception when Safe-Casting to Generic Type in Kotlin", "body": "<p>I am using safe casting option in kotlin i.e. <code>as?</code> still i am getting class cast exception when the data types are not compatible, this is happening when I am doing this via a generic method written to perform case, however if I directly perform the cast it returns null as expected from a safe cast</p>\n<pre><code>class CastTest(val data: Any) {\n\n   fun castViaGenericMethod(): TypeA? {\n      return castToContext&lt;TypeA&gt;()\n   }\n\n   fun castDirectly(): TypeA? {\n      return data as? TypeA\n   }\n\n   private fun &lt;CONTEXT&gt; castToContext(): CONTEXT? = data as? CONTEXT\n\n}\n</code></pre>\n<p><code>castViaGenericMethod()</code> -&gt; this method throws <code>ClassCastException</code> when the data is not of the type <code>TypeA</code>.\n<code>castDirectly()</code> -&gt; this returns <code>null</code> when the cast is not possible.</p>\n<p>Please suggest how can this be done.</p>\n"}, {"tags": ["generics", "kotlin", "generic-variance", "type-projection"], "answers": [{"comments": [{"owner": {"reputation": 241, "user_id": 1192471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d436ec8e078b174e605f3b9c4d5f0e7?s=128&d=identicon&r=PG", "display_name": "Onur Eren Elibol", "link": "https://stackoverflow.com/users/1192471/onur-eren-elibol"}, "edited": false, "score": 0, "creation_date": 1542788909, "post_id": 53407651, "comment_id": 93690561, "body": "I tried this but this time validation.validate(this) doesn&#39;t work. it requires <code>this</code> as <code>T</code> but receives <code>Validatable&lt;T&gt;</code>. Compiler complains for this."}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 241, "user_id": 1192471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d436ec8e078b174e605f3b9c4d5f0e7?s=128&d=identicon&r=PG", "display_name": "Onur Eren Elibol", "link": "https://stackoverflow.com/users/1192471/onur-eren-elibol"}, "edited": false, "score": 0, "creation_date": 1542790842, "post_id": 53407651, "comment_id": 93691678, "body": "Yup, you&#39;re right, my mistake. I&#39;ve updated my answer with a slightly different approach, though I think there must be a better way of doing this."}, {"owner": {"reputation": 241, "user_id": 1192471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d436ec8e078b174e605f3b9c4d5f0e7?s=128&d=identicon&r=PG", "display_name": "Onur Eren Elibol", "link": "https://stackoverflow.com/users/1192471/onur-eren-elibol"}, "edited": false, "score": 0, "creation_date": 1542796693, "post_id": 53407651, "comment_id": 93695193, "body": "Very clever solution. Thank you."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 2, "last_activity_date": 1542790925, "last_edit_date": 1542790925, "creation_date": 1542787717, "answer_id": 53407651, "question_id": 53407487, "link": "https://stackoverflow.com/questions/53407487/how-can-i-handle-this-which-is-not-a-subtype-of-overridden-error/53407651#53407651", "title": "How can I handle this &quot;which is not a subtype of overridden&quot; error", "body": "<p>You could make the abstract class <code>Validatable</code> a generic class, and make the subclass provide an object which exposes both the <code>Validation</code> object, and also itself as the <code>target</code> to validate, e.g.</p>\n\n<pre><code>abstract class Validatable&lt;T&gt; {\n    protected class ValidationInfo&lt;T&gt;(val target: T, val validation: Validation&lt;T&gt;)\n\n    protected abstract val validationInfo: ValidationInfo&lt;T&gt;\n\n    fun validate() = validationInfo.let { it.validation.validate(it.target) }\n}\n\nclass LoginForm : Validatable&lt;LoginForm&gt;() {\n    val name: String = \"Onur\"\n    val age: Int = 23\n\n    override val validationInfo = ValidationInfo(this, Validation {\n        \"name\" {\n            be { name.length &gt;= 5 } not \"5 characters or more\"\n            be { name.length &lt;= 10 } not \"10 characters or less\"\n        }\n        \"age\" {\n            be { age &gt;= 20 } not \"Over 20 years old\"\n        }\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 241, "user_id": 1192471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d436ec8e078b174e605f3b9c4d5f0e7?s=128&d=identicon&r=PG", "display_name": "Onur Eren Elibol", "link": "https://stackoverflow.com/users/1192471/onur-eren-elibol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 0, "accepted_answer_id": 53407651, "answer_count": 1, "score": 0, "last_activity_date": 1542790925, "creation_date": 1542787011, "question_id": 53407487, "link": "https://stackoverflow.com/questions/53407487/how-can-i-handle-this-which-is-not-a-subtype-of-overridden-error", "title": "How can I handle this &quot;which is not a subtype of overridden&quot; error", "body": "<p>I'm trying to write some validatable form interface in Kotlin. In the validation part I'm using <a href=\"https://github.com/kamedon/Validation\" rel=\"nofollow noreferrer\">https://github.com/kamedon/Validation</a>.</p>\n\n<p>Here is the very simple code I'm trying to run;</p>\n\n<pre><code>import com.kamedon.validation.Validation\n\n\nabstract class Validatable {\n    abstract val validation: Validation&lt;Any&gt;\n\n    fun validate() = validation.validate(this)\n}\n\nclass LoginForm : Validatable() {\n    val name: String = \"Onur\"\n    val age: Int = 23\n\n    override val validation = Validation&lt;LoginForm&gt; {\n        \"name\" {\n            be { name.length &gt;= 5 } not \"5 characters or more\"\n            be { name.length &lt;= 10 } not \"10 characters or less\"\n        }\n        \"age\" {\n            be { age &gt;= 20 } not \"Over 20 years old\"\n        }\n    }\n}\n\n\nfun main(args: Array&lt;String&gt;) {\n    val user = LoginForm()\n    val result = user.validate()\n    println(result)\n}\n</code></pre>\n\n<p>This code gives me;</p>\n\n<pre><code>Type of 'validation' is not a subtype of the overridden property 'public abstract val validation: Validation&lt;Any&gt; defined in Validatable'\n</code></pre>\n\n<p>If I use <code>Validation&lt;out Any&gt;</code> in Validatable it says;</p>\n\n<pre><code>Kotlin: Out-projected type 'Validation&lt;out Any&gt;' prohibits the use of 'public final fun validate(value: T): Map&lt;String, List&lt;String&gt;&gt; defined in com.kamedon.validation.Validation'\n</code></pre>\n\n<p>If I use <code>Validation&lt;in Any&gt;</code> in Validatable it says;</p>\n\n<pre><code>Kotlin: Type of 'validation' is not a subtype of the overridden property 'public abstract val validation: Validation&lt;in Any&gt; defined in Validatable'\n</code></pre>\n\n<p>If I use <code>Validation&lt;Any&gt;</code> instead of <code>Validation&lt;LoginForm&gt;</code> in LoginForm, the code runs but this time name and age inside of <code>validation</code> are used from the class inside itself. I don't want to change this in respect of the usage of the library.</p>\n\n<p>Is there anyway to use <code>in</code> and <code>out</code> keywords together or may be there is another way to achieve my goal. </p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "thumbnails"], "comments": [{"owner": {"reputation": 217, "user_id": 10396176, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pxcWjannmmI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXLPXFlrgcQHEe4_-91HTPM5Z7LCw/mo/photo.jpg?sz=128", "display_name": "JEFF", "link": "https://stackoverflow.com/users/10396176/jeff"}, "edited": false, "score": 0, "creation_date": 1542789181, "post_id": 53407101, "comment_id": 93690711, "body": "Refer to this link, it may help you. <a href=\"https://stackoverflow.com/a/26181091/10396176\">stackoverflow.com/a/26181091/10396176</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4092, "user_id": 3894930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uNXJu.jpg?s=128&g=1", "display_name": "Dhaval Solanki", "link": "https://stackoverflow.com/users/3894930/dhaval-solanki"}, "is_accepted": false, "score": 0, "last_activity_date": 1542785814, "creation_date": 1542785814, "answer_id": 53407245, "question_id": 53407101, "link": "https://stackoverflow.com/questions/53407101/how-to-make-thumbnail-image-with-initials-two-char-from-name-android/53407245#53407245", "title": "how to make thumbnail image with initials two char from name android?", "body": "<p>Hi you can using following way </p>\n\n<pre><code>String str = \"FirstWord SecondWOrd\";\n        String[] strArray = str.split(\" \");\n        StringBuilder builder = new StringBuilder();\n        if (strArray.length &gt; 0)\n            builder.append(strArray[0], 0, 1);\n        if (strArray.length &gt; 1)\n            builder.append(strArray[1], 0, 1);\n        Log.d(\"New Text\" , builder.toString());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 434, "user_id": 6116090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bWBZ2.png?s=128&g=1", "display_name": "Gadget Guru", "link": "https://stackoverflow.com/users/6116090/gadget-guru"}, "is_accepted": false, "score": 0, "last_activity_date": 1542786460, "last_edit_date": 1542786460, "creation_date": 1542786038, "answer_id": 53407295, "question_id": 53407101, "link": "https://stackoverflow.com/questions/53407101/how-to-make-thumbnail-image-with-initials-two-char-from-name-android/53407295#53407295", "title": "how to make thumbnail image with initials two char from name android?", "body": "<p>it look's like your using substring to only grab the letters from position 0 to position 1, This is P in Petter    </p>\n\n<pre><code>holder.imgName?.text=teamData[position].userImage  \n</code></pre>\n\n<p><strong>.substring(0,1)</strong>   </p>\n\n<p>If you'd like to grab the words Petter Parker, you have a few options.<br>\n\u2022 IndexOf &amp; Substring  - find the position of a string and get the subtext after.<br>\n\u2022 Substring -  Subtext of string based on parameters   </p>\n\n<p>If you plan to change the text length at any stage, you'll need to find the start of the word ( <code>int start = yourString.indexOf(\"Petter\")</code>);<br>\nand end of the word   ( <code>int end = yourString.indexOf(\" \"</code>))</p>\n\n<p>IndexOf will return the position of the first letter in your query - Your case it's P in Petter --- So    start+\"petter\".length()    </p>\n\n<p>Here's an example of a barcode price checker app I'm working on     </p>\n\n<pre><code>                    // STRING  FORMAT 00000899999:0.99   \n\n                    String currentLine = \"00000899999:0.99\";\n                    int breakPoint = currentLine.indexOf(\":\");\n                    int end = currentLine.length();\n                    int start = breakPoint + 1;\n                    String Price = currentLine.substring(start,end);\n</code></pre>\n\n<p>Price will be starting after (:) With +1 or include (:) with no + 1  and end at the lines length.  </p>\n"}, {"comments": [{"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1603535741, "post_id": 53407308, "comment_id": 114072097, "body": "we have two options here one is to use Reduce and Second is to Use Fold. Reduce will take first element/index of array as accumulated value(incremental,stringbuilder,counter etc ) , where for fold ,we have to pass a default value . moreover mapNotnull will return array of non null value."}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1603537409, "post_id": 53407308, "comment_id": 114072445, "body": "is there any way we can add filter or break point to it.? like do not show more than two initials?"}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 3, "creation_date": 1603538872, "post_id": 53407308, "comment_id": 114072740, "body": "@AtifAbbAsi sure, just add <code>.take(2)</code> after <code>mapNotNull</code>"}], "tags": [], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "is_accepted": true, "score": 21, "last_activity_date": 1542786077, "creation_date": 1542786077, "answer_id": 53407308, "question_id": 53407101, "link": "https://stackoverflow.com/questions/53407101/how-to-make-thumbnail-image-with-initials-two-char-from-name-android/53407308#53407308", "title": "how to make thumbnail image with initials two char from name android?", "body": "<p>You can do it functional way:</p>\n\n<pre><code>val peterParker = \"Peter Parker\"\n\nval initials = peterParker\n        .split(' ')\n        .mapNotNull { it.firstOrNull()?.toString() }                     \n        .reduce { acc, s -&gt; acc + s }\n\nprintln(initials) //PP\n</code></pre>\n\n<p>This would cover cases when a person's name consists of more than 2 words.</p>\n"}, {"tags": [], "owner": {"reputation": 219, "user_id": 9475689, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CVF58GAFNk4/AAAAAAAAAAI/AAAAAAAAAEE/23_UQGrDkP4/photo.jpg?sz=128", "display_name": "AndroWaqar", "link": "https://stackoverflow.com/users/9475689/androwaqar"}, "is_accepted": false, "score": 5, "last_activity_date": 1560348009, "creation_date": 1560348009, "answer_id": 56564031, "question_id": 53407101, "link": "https://stackoverflow.com/questions/53407101/how-to-make-thumbnail-image-with-initials-two-char-from-name-android/56564031#56564031", "title": "how to make thumbnail image with initials two char from name android?", "body": "<p>I have done some Trick &amp; implemented this avatar with a Button lol ;p</p>\n\n<p>create <strong>profile_bg.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;solid\n        android:color=\"@color/colorWhite\"/&gt;\n\n    &lt;corners\n        android:radius=\"500dp\"/&gt;\n&lt;/shape&gt;\n</code></pre>\n\n<p>then <strong>main_activity.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#4300313A\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;Button\n        android:onClick=\"clicked\"\n        android:id=\"@+id/avatar\"\n        android:clickable=\"false\"\n        android:focusable=\"false\"\n        android:textColor=\"@color/colorPrimary\"\n        android:textSize=\"65sp\"\n        android:focusableInTouchMode=\"false\"\n        android:layout_width=\"150dp\"\n        android:layout_height=\"150dp\"\n        android:background=\"@drawable/profile_bg\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"50dp\"/&gt;\n\n    &lt;EditText\n        android:id=\"@+id/edtname\"\n        android:layout_below=\"@+id/avatar\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"50dp\"\n        android:layout_width=\"250dp\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"18sp\"\n        android:hint=\"Enter your name\"/&gt;\n\n    &lt;Button\n        android:onClick=\"clicked\"\n        android:textColor=\"@color/colorBackground\"\n        android:text=\"Submit Name\"\n        android:textStyle=\"bold\"\n        android:focusableInTouchMode=\"false\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_below=\"@+id/edtname\"\n        android:layout_marginTop=\"50dp\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>then in <strong>MainActivity.java</strong> (to split the string and get the first letter of each word ~ name in if condition with stringbuilder)</p>\n\n<pre><code>    public class MainActivity extends AppCompatActivity {\n\n        EditText editText;\n        Button button;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n\n            editText = (EditText) findViewById(R.id.edtname);\n            button = (Button) findViewById(R.id.avatar);\n\n        }\n\n        public void clicked(View view) {\n\n            String str = editText.getText().toString();\n\n            String[] strArray = str.split(\" \");\n            StringBuilder builder = new StringBuilder();\n\n//First name\n            if (strArray.length &gt; 0){\n                builder.append(strArray[0], 0, 1);\n            }\n//Middle name\n            if (strArray.length &gt; 1){\n                builder.append(strArray[1], 0, 1);\n            }\n//Surname\n            if (strArray.length &gt; 2){\n                builder.append(strArray[2], 0, 1);\n            }\n\n            button.setText(builder.toString());\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 9594518, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OieT3qO6T2g/AAAAAAAAAAI/AAAAAAAADlY/GLTP1jIstE8/photo.jpg?sz=128", "display_name": "Subhash Pandey", "link": "https://stackoverflow.com/users/9594518/subhash-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2702, "favorite_count": 2, "accepted_answer_id": 53407308, "answer_count": 4, "score": 4, "last_activity_date": 1560348009, "creation_date": 1542785135, "last_edit_date": 1543427734, "question_id": 53407101, "link": "https://stackoverflow.com/questions/53407101/how-to-make-thumbnail-image-with-initials-two-char-from-name-android", "title": "how to make thumbnail image with initials two char from name android?", "body": "<p>I want to thumbnail initials with two word for my image view like \"Peter Parker\" but am able to get only one word \"P\"while running code how can get second word after space my code is.</p>\n\n<pre><code>  holder.imgName?.text=teamData[position].userImage.substring(0,1)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "reply_to_user": {"reputation": 8398, "user_id": 1315447, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6YH8k.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1315447/ali"}, "edited": false, "score": 0, "creation_date": 1542787550, "post_id": 53407247, "comment_id": 93689910, "body": "Can you try annotating <code>Companion Object</code> with <code>@Module</code> ? I have updated the answer."}, {"owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "reply_to_user": {"reputation": 8398, "user_id": 1315447, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6YH8k.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1315447/ali"}, "edited": false, "score": 0, "creation_date": 1542788511, "post_id": 53407247, "comment_id": 93690358, "body": "So what was happening is that - <code>@JvmStatic</code> indeed adds a static method <code>provideMovie</code> to <code>DetailModule</code> itself. But <code>companion class</code> will also contains same method with <code>@Provides</code> annotation that was causing this issue since <code>companion class</code> is not a <code>Module</code>. Adding <code>@Module</code> to <code>companion object</code> will make this error go away."}], "tags": [], "owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "is_accepted": true, "score": 1, "last_activity_date": 1542787435, "last_edit_date": 1542787435, "creation_date": 1542785816, "answer_id": 53407247, "question_id": 53407039, "link": "https://stackoverflow.com/questions/53407039/convert-static-method-in-dagger-module-class-to-kotlin/53407247#53407247", "title": "Convert Static method in Dagger Module class to Kotlin", "body": "<p><code>Comanion Object</code> is technically different class and not annotated with <code>@Module</code>. (So you are getting that error)</p>\n\n<p>you need to use JVM Annotations for methods. So Kotlin will create a static method inside <code>DetailModule</code> itself.</p>\n\n<p>Try <code>@JvmStatic</code></p>\n\n<pre><code>@Module\n    companion object {\n         @JvmStatic\n         @Provides\n         @ActivityScoped\n         internal fun provideMovie(activity: DetailActivity): Movie {\n             return activity.intent.extras.getParcelable(EXTRA_MOVIE)\n         }\n    }\n</code></pre>\n"}], "owner": {"reputation": 8398, "user_id": 1315447, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6YH8k.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1315447/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "accepted_answer_id": 53407247, "answer_count": 1, "score": 2, "last_activity_date": 1542787435, "creation_date": 1542784810, "question_id": 53407039, "link": "https://stackoverflow.com/questions/53407039/convert-static-method-in-dagger-module-class-to-kotlin", "title": "Convert Static method in Dagger Module class to Kotlin", "body": "<p>I have following project in Github : <a href=\"https://github.com/Ali-Rezaei/TMDb-Paging\" rel=\"nofollow noreferrer\">https://github.com/Ali-Rezaei/TMDb-Paging</a> which I use Dagger2 for dependency injection.</p>\n\n<p>One of my <code>Module</code> classes is as Follow in java :</p>\n\n<pre><code>@Module\npublic abstract class DetailModule {\n\n    @FragmentScoped\n    @ContributesAndroidInjector\n    abstract DetailFragment detailFragment();\n\n    @Provides\n    @ActivityScoped\n    static Movie provideMovie(DetailActivity activity) {\n        return activity.getIntent().getExtras().getParcelable(EXTRA_MOVIE);\n    }\n}\n</code></pre>\n\n<p>As you can see <code>provideMovie</code> method is <code>static</code>. When I convert it to Kotlin :</p>\n\n<pre><code>@Module\nabstract class DetailModule {\n\n    @FragmentScoped\n    @ContributesAndroidInjector\n    internal abstract fun detailFragment(): DetailFragment\n\n    companion object {\n\n        @Provides\n        @ActivityScoped\n        internal fun provideMovie(activity: DetailActivity): Movie {\n            return activity.intent.extras.getParcelable(EXTRA_MOVIE)\n        }\n    }\n}\n</code></pre>\n\n<p>But when I build the project I get following Kotlin compiler error :</p>\n\n<pre><code>error: @Provides methods can only be present within a @Module or @ProducerModule\n        public final com.sample.android.tmdb.vo.Movie provideMovie$app_debug(@org.jetbrains.annotations.NotNull()\n</code></pre>\n\n<p>Could be any solution to have the class in Kotlin?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2643, "user_id": 10471480, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aWUWhOQArrE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWERAmHGe3PKyq4hS8cPDJgpMay1A/mo/photo.jpg?sz=128", "display_name": "Mangaldeep Pannu", "link": "https://stackoverflow.com/users/10471480/mangaldeep-pannu"}, "is_accepted": true, "score": 1, "last_activity_date": 1542785074, "creation_date": 1542785074, "answer_id": 53407086, "question_id": 53406779, "link": "https://stackoverflow.com/questions/53406779/why-does-the-tabbed-activity-work-well-after-i-remove-the-code-setsupportactionb/53407086#53407086", "title": "Why does the Tabbed Activity work well after I remove the code setSupportActionBar(toolbar) created by the Create New Project wizard?", "body": "<p>setSupportActionBar() method is used to designate the Toolbar as the ActionBar.</p>\n\n<p>If you want to add backButton or add menu items, etc. in the Toolbar it should be designated as ActionBar.</p>\n\n<p>Here you have not done any above things. So you were able to safely remove the line of code.</p>\n\n<p>For details about Toolbar refer: <a href=\"https://developer.android.com/reference/android/widget/Toolbar\" rel=\"nofollow noreferrer\">Toolbar | Android Developers</a></p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 53407086, "answer_count": 1, "score": 0, "last_activity_date": 1542785074, "creation_date": 1542783606, "question_id": 53406779, "link": "https://stackoverflow.com/questions/53406779/why-does-the-tabbed-activity-work-well-after-i-remove-the-code-setsupportactionb", "title": "Why does the Tabbed Activity work well after I remove the code setSupportActionBar(toolbar) created by the Create New Project wizard?", "body": "<p>The following code is created by the Create New Project wizard of Android Studio 3.2.1 , it's a Tabbed Activity.</p>\n\n<p>I'm so strange why Android Studio 3.2.1 want to add the code <code>setSupportActionBar(toolbar)</code>, and why the App works well and can display 3 tabs after I delete <code>setSupportActionBar(toolbar)</code>.</p>\n\n<p>Could you tell me?</p>\n\n<p><strong>Code</strong> </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private var mSectionsPagerAdapter: SectionsPagerAdapter? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        setSupportActionBar(toolbar)  //I can delete it\n\n\n        mSectionsPagerAdapter = SectionsPagerAdapter(supportFragmentManager)\n\n        // Set up the ViewPager with the sections adapter.\n        container.adapter = mSectionsPagerAdapter\n\n        container.addOnPageChangeListener(TabLayout.TabLayoutOnPageChangeListener(tabs))\n        tabs.addOnTabSelectedListener(TabLayout.ViewPagerOnTabSelectedListener(container))\n\n    }\n\n\n\n    inner class SectionsPagerAdapter(fm: FragmentManager) : FragmentPagerAdapter(fm) {\n\n        override fun getItem(position: Int): Fragment {\n\n        }\n\n        override fun getCount(): Int {\n            // Show 3 total pages.\n            return 3\n        }\n    }\n\n\n    class PlaceholderFragment : Fragment() {\n\n\n    }\n}\n</code></pre>\n\n<p><strong>Layout</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                                                 xmlns:tools=\"http://schemas.android.com/tools\"\n                                                 xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                                                 android:id=\"@+id/main_content\"\n                                                 android:layout_width=\"match_parent\"\n                                                 android:layout_height=\"match_parent\"\n                                                 android:fitsSystemWindows=\"true\"\n                                                 tools:context=\".MainActivity\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n            android:id=\"@+id/appbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:paddingTop=\"@dimen/appbar_padding_top\"\n            android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                app:title=\"@string/app_name\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                android:layout_weight=\"1\"\n                android:background=\"?attr/colorPrimary\"\n                app:popupTheme=\"@style/AppTheme.PopupOverlay\"\n                app:layout_scrollFlags=\"scroll|enterAlways\"&gt;\n\n        &lt;/android.support.v7.widget.Toolbar&gt;\n\n        &lt;android.support.design.widget.TabLayout\n                android:id=\"@+id/tabs\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"&gt;\n\n            &lt;android.support.design.widget.TabItem\n                    android:id=\"@+id/tabItem\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"@string/tab_text_1\"/&gt;\n\n            &lt;android.support.design.widget.TabItem\n                    android:id=\"@+id/tabItem2\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"@string/tab_text_2\"/&gt;\n\n            &lt;android.support.design.widget.TabItem\n                    android:id=\"@+id/tabItem3\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"@string/tab_text_3\"/&gt;\n\n        &lt;/android.support.design.widget.TabLayout&gt;\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;android.support.v4.view.ViewPager\n            android:id=\"@+id/container\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"/&gt;\n\n    &lt;android.support.design.widget.FloatingActionButton\n            android:id=\"@+id/fab\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"end|bottom\"\n            android:layout_margin=\"@dimen/fab_margin\"\n            app:srcCompat=\"@android:drawable/ic_dialog_email\"/&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "android-layout", "android-recyclerview", "kotlin", "staggered-gridview"], "comments": [{"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1542781669, "post_id": 53406261, "comment_id": 93687511, "body": "post your recyclerview  xml full code"}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "reply_to_user": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1542781908, "post_id": 53406261, "comment_id": 93687610, "body": "@sasikumar posted"}, {"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1542785324, "post_id": 53406261, "comment_id": 93688989, "body": "both of the ConstraintLayouts are unnecessary because RecyclerView as well as ImageView are only child of its parent. They can be root element. Also, try to fix RecyclerView width and height as match_parent and put ImageView&#39;s width as match_parent. Let me know if this works."}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "reply_to_user": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1542786532, "post_id": 53406261, "comment_id": 93689469, "body": "@RahulKumar thanks for your comment sir but its not working"}], "answers": [{"comments": [{"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "reply_to_user": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1542782019, "post_id": 53406413, "comment_id": 93687646, "body": "did you set height and width of imageview to 0dp?"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "reply_to_user": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1542782070, "post_id": 53406413, "comment_id": 93687669, "body": "set it to 0dp and try."}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1542782362, "post_id": 53406413, "comment_id": 93687793, "body": "any other suggestions sir ?"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "reply_to_user": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1542782691, "post_id": 53406413, "comment_id": 93687915, "body": "is your image too large, can you check the dimensions from source image?"}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1542782857, "post_id": 53406413, "comment_id": 93687981, "body": "yes image was too large but this code is working on old project i will past the output"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "reply_to_user": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1542782929, "post_id": 53406413, "comment_id": 93688010, "body": "are you using glide to load image?"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "reply_to_user": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1542783394, "post_id": 53406413, "comment_id": 93688191, "body": "If using constraint layout is of not importance, try using linear or relative layourt."}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1542783720, "post_id": 53406413, "comment_id": 93688331, "body": "both tried linearlayout and relative layout as parent of imageview"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "reply_to_user": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1542783740, "post_id": 53406413, "comment_id": 93688339, "body": "did you clean and build after changing?"}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1542783852, "post_id": 53406413, "comment_id": 93688379, "body": "yes i clean the project and run again gots same output"}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1542784012, "post_id": 53406413, "comment_id": 93688451, "body": "let me tell one thing after getting bitmap i will modify the bitmap just writing some text on it, i am not changing the height width of bitmap then showing in recyclerview"}], "tags": [], "owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "is_accepted": false, "score": 0, "last_activity_date": 1542781907, "creation_date": 1542781907, "answer_id": 53406413, "question_id": 53406261, "link": "https://stackoverflow.com/questions/53406261/imageview-height-too-large-in-recyclerview-with-use-of-staggeredgridlayoutmanage/53406413#53406413", "title": "ImageView height too large in recyclerview with use of StaggeredGridLayoutManager [Android/Kotlin]", "body": "<p><code>wrap_content</code> does not behave in a similar way with constraint layout. To achieve what you want you will need to add below code to your <code>ImageView</code> and set its width and height to <code>0dp</code></p>\n\n<pre><code>app:layout_constraintWidth_default=\"wrap\"\napp:layout_constraintHeight_default=\"wrap\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "reply_to_user": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1542783500, "post_id": 53406498, "comment_id": 93688240, "body": "can you set  imageview height as  android:layout_height=&quot;200dp&quot;"}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 1, "creation_date": 1542783636, "post_id": 53406498, "comment_id": 93688296, "body": "if we want to fix the height of image then why we use StaggeredGridLayoutManager sir"}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1542783516, "last_edit_date": 1542783516, "creation_date": 1542782382, "answer_id": 53406498, "question_id": 53406261, "link": "https://stackoverflow.com/questions/53406261/imageview-height-too-large-in-recyclerview-with-use-of-staggeredgridlayoutmanage/53406498#53406498", "title": "ImageView height too large in recyclerview with use of StaggeredGridLayoutManager [Android/Kotlin]", "body": "<p>your image view should be like this</p>\n\n<pre><code>   &lt;ImageView\n    android:id=\"@+id/processedImage\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"200dp\"\n    android:padding=\"2dp\"\n    android:scaleType=\"fitXY\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 387, "user_id": 10021128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4adc95bfa3760ffbee2d43ea4fc391a2?s=128&d=identicon&r=PG&f=1", "display_name": "Aaditya Brahmbhatt", "link": "https://stackoverflow.com/users/10021128/aaditya-brahmbhatt"}, "is_accepted": false, "score": 1, "last_activity_date": 1542782382, "creation_date": 1542782382, "answer_id": 53406499, "question_id": 53406261, "link": "https://stackoverflow.com/questions/53406261/imageview-height-too-large-in-recyclerview-with-use-of-staggeredgridlayoutmanage/53406499#53406499", "title": "ImageView height too large in recyclerview with use of StaggeredGridLayoutManager [Android/Kotlin]", "body": "<p>Try to adding this to your processedImage <code>ImageView</code>.</p>\n\n<pre><code>android:scaleType=\"centerCrop\"\nandroid:adjustViewBounds=\"true\"\n//use centerCrop to fill staggered view or centerInside to avoid cropping.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14653921, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eaX71bP0S3I/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnTBPuotCRAVMe4gz8MnCLtr8rr-Q/s96-c/photo.jpg?sz=128", "display_name": "Adil Mushtaq", "link": "https://stackoverflow.com/users/14653921/adil-mushtaq"}, "is_accepted": false, "score": 0, "last_activity_date": 1613401204, "creation_date": 1613401204, "answer_id": 66210344, "question_id": 53406261, "link": "https://stackoverflow.com/questions/53406261/imageview-height-too-large-in-recyclerview-with-use-of-staggeredgridlayoutmanage/66210344#66210344", "title": "ImageView height too large in recyclerview with use of StaggeredGridLayoutManager [Android/Kotlin]", "body": "<p>My Out put is\n<a href=\"https://i.stack.imgur.com/JsvmD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JsvmD.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>  android:scaleType=&quot;fitXY&quot;\n</code></pre>\n<p>All Code is Here\nLayout</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_margin=&quot;5dp&quot;&gt;\n\n&lt;com.google.android.material.card.MaterialCardView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    app:cardCornerRadius=&quot;4dp&quot;\n    app:cardElevation=&quot;2dp&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;5dp&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/image_preview&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:scaleType=&quot;fitXY&quot;\n            android:src=&quot;@mipmap/ic_launcher&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/title&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/image_preview&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:text=&quot;Name&quot;\n            android:textColor=&quot;#000&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/com.google.android.material.card.MaterialCardView&gt;\n</code></pre>\n\nand Code is\n<pre><code>recyclerView = (RecyclerView) view.findViewById(R.id.recycler_view);\n    StaggeredGridLayoutManager layoutManager = new StaggeredGridLayoutManager(2,StaggeredGridLayoutManager.VERTICAL);\n    layoutManager.setGapStrategy(StaggeredGridLayoutManager.GAP_HANDLING_NONE);\n    layoutManager.setGapStrategy(StaggeredGridLayoutManager.GAP_HANDLING_MOVE_ITEMS_BETWEEN_SPANS);\n    recyclerView.setLayoutManager(layoutManager);\n    recyclerView.setHasFixedSize(true);\n</code></pre>\n"}], "owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1613401204, "creation_date": 1542781088, "last_edit_date": 1542782947, "question_id": 53406261, "link": "https://stackoverflow.com/questions/53406261/imageview-height-too-large-in-recyclerview-with-use-of-staggeredgridlayoutmanage", "title": "ImageView height too large in recyclerview with use of StaggeredGridLayoutManager [Android/Kotlin]", "body": "<p>It Working in fine in old project <strong>which is written in java</strong></p>\n\n<p>When same things written in <strong>kotlin</strong> its not working...</p>\n\n<p>Problem RecyclerView Item <strong>Height Too Large</strong></p>\n\n<pre><code>lateinit var mImageProcessedRecyclerViewAdapater:ImageProcessedRecyclerViewAdapater\nlateinit var mImageContainerAfterProcess: RecyclerView\n</code></pre>\n\n<p>//initializing adapter and itemdecoration</p>\n\n<pre><code>    mImageContainerAfterProcess= findViewById(R.id.ImageContainerAfterProcess)\n\n    mImageContainerAfterProcess.addItemDecoration(RecyclerViewItemDecoration(16))\n\n    mImageContainerAfterProcess.layoutManager=StaggeredGridLayoutManager(2, StaggeredGridLayoutManager.VERTICAL)\n\n    mImageContainerAfterProcess.adapter=mImageProcessedRecyclerViewAdapater\n</code></pre>\n\n<blockquote>\n  <p>item view xml file</p>\n</blockquote>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n&lt;ImageView\n    android:id=\"@+id/processedImage\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:padding=\"2dp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<blockquote>\n  <p>Activity Layout File which contains recyclerview</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".activitis.ImageProcess\"&gt;\n\n    // layout height and width is match_constraint \n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/ImageContainerAfterProcess\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        tools:listitem=\"@layout/processd_image_item_view\"\n        app:layout_constraintEnd_toEndOf=\"parent\" app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>i cant find out what i am doing wrong</strong></p>\n\n<p><strong>output capture via layout inspector</strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/iXl2D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iXl2D.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>My Old Project output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/it3SC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/it3SC.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "google-signin"], "answers": [{"tags": [], "owner": {"reputation": 772, "user_id": 6328841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NfdCH.jpg?s=128&g=1", "display_name": "Saurabh Verma", "link": "https://stackoverflow.com/users/6328841/saurabh-verma"}, "is_accepted": true, "score": 2, "last_activity_date": 1550490402, "creation_date": 1550490402, "answer_id": 54746603, "question_id": 53406073, "link": "https://stackoverflow.com/questions/53406073/google-plus-api-is-deprecated-how-do-i-get-gender-and-birth-date-from-requestsc/54746603#54746603", "title": "Google Plus API is Deprecated. How do i get gender and birth date from requestScopes(Scope(Scopes.PROFILE))", "body": "<p>Since the google plus api is deprecated we must migrate the application from google plus authentication to Google Auth. The solution to your problem lies below.\nthe people api of google will be helpful for you in getting the required details\n<a href=\"https://developers.google.com/people/api/rest/v1/people/get\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p><a href=\"https://www.googleapis.com/auth/userinfo.profile\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/userinfo.profile</a></p>\n\n<p><a href=\"https://www.googleapis.com/auth/contacts\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/contacts</a></p>\n\n<p><a href=\"https://www.googleapis.com/auth/contacts.readonly\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/contacts.readonly</a></p>\n\n<p><a href=\"https://www.googleapis.com/auth/userinfo.email\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/userinfo.email</a></p>\n\n<p><a href=\"https://www.googleapis.com/auth/profile.agerange.read\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/profile.agerange.read</a></p>\n\n<p><a href=\"https://www.googleapis.com/auth/profile.language.read\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/profile.language.read</a></p>\n\n<p><a href=\"https://www.googleapis.com/auth/user.addresses.read\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/user.addresses.read</a></p>\n\n<p><a href=\"https://www.googleapis.com/auth/user.birthday.read\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/user.birthday.read</a></p>\n\n<p><a href=\"https://www.googleapis.com/auth/user.phonenumbers.read\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/user.phonenumbers.read</a></p>\n\n<p><a href=\"https://www.googleapis.com/auth/user.emails.read\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/user.emails.read</a></p>\n\n<p>You need to request exactly which fields you want. The \"gender\" and \"birthdate\" fields will probably be the ones most important to you, but there are others available. You'll get an array of possible values, each indicating their source. You will probably want the source type of \"PROFILE\", but you can certainly evaluate others.</p>\n\n<p>So if you issued a request with</p>\n\n<pre><code>GET https://people.googleapis.com/v1/people/101852559274654726533?personFields=gender%2Cbirthdate&amp;key={YOUR_API_KEY}\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 6394263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3czB9.jpg?s=128&g=1", "display_name": "Abhishek Chaniyara", "link": "https://stackoverflow.com/users/6394263/abhishek-chaniyara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1005, "favorite_count": 2, "accepted_answer_id": 54746603, "answer_count": 1, "score": 2, "last_activity_date": 1550490402, "creation_date": 1542779982, "last_edit_date": 1542784883, "question_id": 53406073, "link": "https://stackoverflow.com/questions/53406073/google-plus-api-is-deprecated-how-do-i-get-gender-and-birth-date-from-requestsc", "title": "Google Plus API is Deprecated. How do i get gender and birth date from requestScopes(Scope(Scopes.PROFILE))", "body": "<p>Google Plus API is Deprecated. How do i get gender and birth date from request Scope. Below is my code:</p>\n\n<pre><code>val gso = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(\"xxxxxxxxx.apps.googleusercontent.com\")\n                .requestEmail()\n                .requestProfile()\n                .requestScopes(Scope(Scopes.PROFILE))\n                .build()\n\n   val mGoogleSignInClient = GoogleSignIn.getClient(this, gso)\n</code></pre>\n\n<p>From this sign in option i want gender and birth date of google user.</p>\n\n<pre><code> public override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n        super.onActivityResult(requestCode, resultCode, data)\n        callbackManager.onActivityResult(requestCode, resultCode, data)\n\n        if (requestCode == RC_SIGN_IN) {\n            val result = GoogleSignIn.getSignedInAccountFromIntent(data)\n            try {\n                val account = result.getResult(ApiException::class.java)\n                //Here I want gender and date of birth from google sign in option\n            } catch (e: ApiException) {\n                e.printStackTrace()\n            }\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 388, "user_id": 10165703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Poawjnhbv84/AAAAAAAAAAI/AAAAAAAAABE/-NxDiAVkiwI/photo.jpg?sz=128", "display_name": "Abhi", "link": "https://stackoverflow.com/users/10165703/abhi"}, "edited": false, "score": 0, "creation_date": 1542780585, "post_id": 53405872, "comment_id": 93687118, "body": "try marking the flag as &quot;@Volatile var flag = true&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 2311, "user_id": 8850875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/14YWL.jpg?s=128&g=1", "display_name": "PradyumanDixit", "link": "https://stackoverflow.com/users/8850875/pradyumandixit"}, "edited": false, "score": 2, "creation_date": 1542779152, "post_id": 53405908, "comment_id": 93686646, "body": "Ah, you beat me by 2 seconds for the same answer :)"}, {"owner": {"reputation": 61, "user_id": 6750756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/539f04c72e33e92d57415160443b66cc?s=128&d=identicon&r=PG&f=1", "display_name": "Void Young", "link": "https://stackoverflow.com/users/6750756/void-young"}, "edited": false, "score": 0, "creation_date": 1543113951, "post_id": 53405908, "comment_id": 93799521, "body": "Thank you very much for letting me know the use of volatile"}], "tags": [], "owner": {"reputation": 65694, "user_id": 330280, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/CcQGn.jpg?s=128&g=1", "display_name": "aleroot", "link": "https://stackoverflow.com/users/330280/aleroot"}, "is_accepted": true, "score": 5, "last_activity_date": 1542779096, "creation_date": 1542779096, "answer_id": 53405908, "question_id": 53405872, "link": "https://stackoverflow.com/questions/53405872/why-cant-whileflag-end/53405908#53405908", "title": "Why can&#39;t while(flag){} end", "body": "<p>Because you are getting a cached version of your flag. Take a look at the volatile keyword.</p>\n\n<p>Basically here you are updating the flag in one thread, but the other is still seeing is own cached version of the flag.</p>\n"}, {"comments": [{"owner": {"reputation": 6429, "user_id": 5039498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9x2q7.jpg?s=128&g=1", "display_name": "Amit Bera", "link": "https://stackoverflow.com/users/5039498/amit-bera"}, "edited": false, "score": 0, "creation_date": 1542779844, "post_id": 53405948, "comment_id": 93686858, "body": "So why the &quot;time over&quot; is also not printing in 2nd case of OP?"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "reply_to_user": {"reputation": 6429, "user_id": 5039498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9x2q7.jpg?s=128&g=1", "display_name": "Amit Bera", "link": "https://stackoverflow.com/users/5039498/amit-bera"}, "edited": false, "score": 0, "creation_date": 1542780162, "post_id": 53405948, "comment_id": 93686976, "body": "println(&quot;time over&quot;) is printing but not printing &quot;finish&quot; in 2nd case"}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1542779341, "creation_date": 1542779341, "answer_id": 53405948, "question_id": 53405872, "link": "https://stackoverflow.com/questions/53405872/why-cant-whileflag-end/53405948#53405948", "title": "Why can&#39;t while(flag){} end", "body": "<p>The problem is first thread need time to set your flag is false but while loop execute before thread finish that means still your flag is true so that  its never get false. \nwe need to set flow after thread finish then check while condition for that use thread sleep.</p>\n\n<pre><code>var flag = true\nThread {\n    Thread.sleep(2000)\n    println(\"time over\")\n    flag = false\n}.start()\nThread.sleep(3000)\nwhile (flag) {\n\n}\n\nprintln(\"finish\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 6750756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/539f04c72e33e92d57415160443b66cc?s=128&d=identicon&r=PG&f=1", "display_name": "Void Young", "link": "https://stackoverflow.com/users/6750756/void-young"}, "edited": false, "score": 0, "creation_date": 1543113960, "post_id": 53406191, "comment_id": 93799522, "body": "Thank you very much for letting me know the use of volatile"}], "tags": [], "owner": {"reputation": 311, "user_id": 6594017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6dd1729e81df16db231944e587ce0a?s=128&d=identicon&r=PG&f=1", "display_name": "Pranjal", "link": "https://stackoverflow.com/users/6594017/pranjal"}, "is_accepted": false, "score": 0, "last_activity_date": 1542781783, "last_edit_date": 1542781783, "creation_date": 1542780697, "answer_id": 53406191, "question_id": 53405872, "link": "https://stackoverflow.com/questions/53405872/why-cant-whileflag-end/53406191#53406191", "title": "Why can&#39;t while(flag){} end", "body": "<p>When the variable flag is not declared <code>volatile</code>, the compiler sometimes (depends on the one used) optimises your while loop code to the following :</p>\n\n<pre><code>if (condition) {\n    while (true) {\n        // Do nothing\n    }\n}\n</code></pre>\n\n<p>Refer <a href=\"https://www.netiq.com/communities/cool-solutions/friends-optimizing-compilers-who-needs-enemies-volatile-variables-loop-invariants-and-thr/\" rel=\"nofollow noreferrer\">this link</a> for more. Here is a <a href=\"https://stackoverflow.com/questions/38635952/why-does-an-empty-while-in-java-not-break-when-condition-is-set-by-other-thread\">similar SO question</a>.</p>\n"}], "owner": {"reputation": 61, "user_id": 6750756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/539f04c72e33e92d57415160443b66cc?s=128&d=identicon&r=PG&f=1", "display_name": "Void Young", "link": "https://stackoverflow.com/users/6750756/void-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 53405908, "answer_count": 3, "score": 2, "last_activity_date": 1542781783, "creation_date": 1542778920, "question_id": 53405872, "link": "https://stackoverflow.com/questions/53405872/why-cant-whileflag-end", "title": "Why can&#39;t while(flag){} end", "body": "<p>code like this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\nvar flag = true\nThread {\n    Thread.sleep(2000)\n    println(\"time over\")\n    flag = false\n}.start()\nwhile (flag) {\n    Thread.sleep(100)\n}\nprintln(\"finish\")\n}\n</code></pre>\n\n<p>the run result is :</p>\n\n<pre><code>time over\nfinish\n</code></pre>\n\n<p>The program is over</p>\n\n<p>if change to:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\nvar flag = true\nThread {\n    Thread.sleep(2000)\n    println(\"time over\")\n    flag = false\n}.start()\nwhile (flag) {\n   //Do nothing\n}\nprintln(\"finish\")\n}\n</code></pre>\n\n<p>\"finish\" cannot be print,The program is stuck. Why is that?</p>\n"}, {"tags": ["android", "image", "android-intent", "kotlin", "whatsapp"], "comments": [{"owner": {"reputation": 8266, "user_id": 5305430, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hxqD2.jpg?s=128&g=1", "display_name": "sushildlh", "link": "https://stackoverflow.com/users/5305430/sushildlh"}, "edited": false, "score": 0, "creation_date": 1542774985, "post_id": 53405286, "comment_id": 93685577, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19081654/send-text-to-specific-contact-programmatically-whatsapp\">Send text to specific contact programmatically (whatsapp)</a>"}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 8481417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07af5a9aa657722642ff4affc11c4e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Ratri", "link": "https://stackoverflow.com/users/8481417/ratri"}, "edited": false, "score": 0, "creation_date": 1542776791, "post_id": 53405462, "comment_id": 93686047, "body": "it doesn&#39;t work sir @Nagendra.. when I click the whatsapp icon it do nothing"}, {"owner": {"reputation": 412, "user_id": 7789575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xxbOV.jpg?s=128&g=1", "display_name": "Nagendra Hari Karthick", "link": "https://stackoverflow.com/users/7789575/nagendra-hari-karthick"}, "reply_to_user": {"reputation": 303, "user_id": 8481417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07af5a9aa657722642ff4affc11c4e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Ratri", "link": "https://stackoverflow.com/users/8481417/ratri"}, "edited": false, "score": 0, "creation_date": 1542777224, "post_id": 53405462, "comment_id": 93686170, "body": "Does the phone number in your code match with your whatsapp contact number?"}, {"owner": {"reputation": 303, "user_id": 8481417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07af5a9aa657722642ff4affc11c4e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Ratri", "link": "https://stackoverflow.com/users/8481417/ratri"}, "edited": false, "score": 0, "creation_date": 1542778314, "post_id": 53405462, "comment_id": 93686436, "body": "PhoneNumberUtils.stripSeparators(tempDatas!![position].custH&zwnj;&#8203;pWa) , custHpWa is 081944877002, indonesian code"}, {"owner": {"reputation": 303, "user_id": 8481417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07af5a9aa657722642ff4affc11c4e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Ratri", "link": "https://stackoverflow.com/users/8481417/ratri"}, "edited": false, "score": 0, "creation_date": 1542778769, "post_id": 53405462, "comment_id": 93686551, "body": "i change this com.whatsapp.ContactPicker into com.whatsapp.Conversation, it works but only for opening the convo , but my number becoming +081944877002 also the image not include"}, {"owner": {"reputation": 412, "user_id": 7789575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xxbOV.jpg?s=128&g=1", "display_name": "Nagendra Hari Karthick", "link": "https://stackoverflow.com/users/7789575/nagendra-hari-karthick"}, "reply_to_user": {"reputation": 303, "user_id": 8481417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07af5a9aa657722642ff4affc11c4e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Ratri", "link": "https://stackoverflow.com/users/8481417/ratri"}, "edited": false, "score": 0, "creation_date": 1542778852, "post_id": 53405462, "comment_id": 93686570, "body": "make sure you pass the correct image url else it will show error message like error sharing media file."}, {"owner": {"reputation": 303, "user_id": 8481417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07af5a9aa657722642ff4affc11c4e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Ratri", "link": "https://stackoverflow.com/users/8481417/ratri"}, "edited": false, "score": 0, "creation_date": 1542782034, "post_id": 53405462, "comment_id": 93687653, "body": "yes the image url exactly correct bcs i already try it from my previous code. Do you have any idea why the number include + ?"}, {"owner": {"reputation": 412, "user_id": 7789575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xxbOV.jpg?s=128&g=1", "display_name": "Nagendra Hari Karthick", "link": "https://stackoverflow.com/users/7789575/nagendra-hari-karthick"}, "reply_to_user": {"reputation": 303, "user_id": 8481417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07af5a9aa657722642ff4affc11c4e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Ratri", "link": "https://stackoverflow.com/users/8481417/ratri"}, "edited": false, "score": 0, "creation_date": 1542782158, "post_id": 53405462, "comment_id": 93687707, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/184006/discussion-between-nagendra-hari-karthick-and-ratri\">continue this discussion in chat</a>."}, {"owner": {"reputation": 412, "user_id": 7789575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xxbOV.jpg?s=128&g=1", "display_name": "Nagendra Hari Karthick", "link": "https://stackoverflow.com/users/7789575/nagendra-hari-karthick"}, "reply_to_user": {"reputation": 303, "user_id": 8481417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07af5a9aa657722642ff4affc11c4e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Ratri", "link": "https://stackoverflow.com/users/8481417/ratri"}, "edited": false, "score": 0, "creation_date": 1542783248, "post_id": 53405462, "comment_id": 93688140, "body": "check my message"}], "tags": [], "owner": {"reputation": 412, "user_id": 7789575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xxbOV.jpg?s=128&g=1", "display_name": "Nagendra Hari Karthick", "link": "https://stackoverflow.com/users/7789575/nagendra-hari-karthick"}, "is_accepted": true, "score": 1, "last_activity_date": 1542775978, "creation_date": 1542775978, "answer_id": 53405462, "question_id": 53405286, "link": "https://stackoverflow.com/questions/53405286/open-conversation-based-on-clicked-number-then-intent-the-image/53405462#53405462", "title": "Open conversation based on clicked number then intent the image", "body": "<p>Hope this works. Just pass the path the file location of the file variable and make sure you pass the correct phone number.</p>\n\n<pre><code>    val sendIntent = Intent(\"android.intent.action.SEND\")\n    val f = File(\"path to the file\")\n    val uri = Uri.fromFile(f)\n    sendIntent.component = ComponentName(\"com.whatsapp\", \"com.whatsapp.ContactPicker\")\n    sendIntent.type = \"image\"\n    sendIntent.putExtra(Intent.EXTRA_STREAM, uri)\n    sendIntent.putExtra(\"jid\", PhoneNumberUtils.stripSeparators(\"91**********\") + \"@s.whatsapp.net\")\n    sendIntent.putExtra(Intent.EXTRA_TEXT, \"sample text you want to send along with the image\")\n    startActivity(sendIntent)\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 8481417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07af5a9aa657722642ff4affc11c4e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Ratri", "link": "https://stackoverflow.com/users/8481417/ratri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 53405462, "answer_count": 1, "score": 2, "last_activity_date": 1542791456, "creation_date": 1542774656, "last_edit_date": 1542791456, "question_id": 53405286, "link": "https://stackoverflow.com/questions/53405286/open-conversation-based-on-clicked-number-then-intent-the-image", "title": "Open conversation based on clicked number then intent the image", "body": "<p>I know this is a common question that has been asked. But my problem is different now. So I create a share button which if I click it will open list of phone number like below :</p>\n\n<p><a href=\"https://i.stack.imgur.com/etGQ3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/etGQ3.jpg\" alt=\"List of phone number\"></a></p>\n\n<p>So when I click one of them, it will immediately open conversation in whats app base on the phone number I click. I use this code </p>\n\n<pre><code> val url = \"https://api.whatsapp.com/send?phone=62\"+tempDatas!![position].custHpWa\n                                val intent = Intent(Intent.ACTION_VIEW);\n                                intent.putExtra(Intent.EXTRA_TEXT,intent.getStringExtra(\"DESCRIPTION\") );\n                                intent.data = Uri.parse(url)\n                                startActivity(intent);\n</code></pre>\n\n<p>Then I add this code for intent image into the conversation </p>\n\n<pre><code> rvListWa!!.addOnItemTouchListener(RecyclerItemClickListener(this@ShareFileActivity,\n            RecyclerItemClickListener.OnItemClickListener { view, position -&gt;\n\n                Glide\n                        .with(this@ShareFileActivity)\n                        .load(baseURLPicasso+intent.getStringExtra(\"PICTURE\"))\n                        .asBitmap()\n                        .into(object : SimpleTarget&lt;Bitmap&gt;() {\n                            override fun onResourceReady(resource: Bitmap?, glideAnimation: GlideAnimation&lt;in Bitmap&gt;?) {\n\n                                val url = \"https://api.whatsapp.com/send?phone=62\"+tempDatas!![position].custHpWa\n                                val intent = Intent(Intent.ACTION_SEND);\n                                intent.putExtra(Intent.EXTRA_TEXT,intent.getStringExtra(\"DESCRIPTION\") );\n                                val path = MediaStore.Images.Media.insertImage(getContentResolver(), resource, \"\", null);\n                                val image = Uri.parse(path);\n\n                                intent.data = Uri.parse(url)\n                                intent.putExtra(Intent.EXTRA_STREAM, image);\n                                intent.setType(\"image/*\");\n                                startActivity(intent);\n\n\n                            }\n\n                        })\n            }))\n</code></pre>\n\n<p>Instead of open conversation base on number and send image. It turns out open whats app and choose to who we want to send it.</p>\n\n<p>Is there any solution. Because I already try to make the <code>Intent.ACTION_VIEW</code> it will open gallery.</p>\n\n<p>My image url is from database</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 2, "last_activity_date": 1542777536, "creation_date": 1542777536, "answer_id": 53405668, "question_id": 53405166, "link": "https://stackoverflow.com/questions/53405166/why-my-function-is-not-work-with-receiver/53405668#53405668", "title": "Why my function is not work with receiver", "body": "<p>This line of your code:</p>\n\n<pre><code>b.apply{ initFunc }   // doesn't do anything\n</code></pre>\n\n<p>Does not call a function, it just gets the reference to a function and does nothing with it.  Add <code>()</code> to call the function.</p>\n\n<pre><code>b.apply{ initFunc() } // works!\n</code></pre>\n\n<p>But technically if you are just wanting to change the context (receiver) of a call, use <code>with</code> instead of <code>apply</code>:</p>\n\n<pre><code>with (b) { initFunc() }\n</code></pre>\n"}], "owner": {"reputation": 273, "user_id": 5475014, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9cfa79cbcfcd32f2511f5e36e46a4f4?s=128&d=identicon&r=PG", "display_name": "iammini", "link": "https://stackoverflow.com/users/5475014/iammini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 53405668, "answer_count": 1, "score": 0, "last_activity_date": 1542777536, "creation_date": 1542773674, "question_id": 53405166, "link": "https://stackoverflow.com/questions/53405166/why-my-function-is-not-work-with-receiver", "title": "Why my function is not work with receiver", "body": "<pre><code>class A {\n   var initFunc: B.() -&gt; Unit\n   fun initWith(func: B.() -&gt; Unit) {\n        this.initFunc = func\n    } \n    fun test() {\n      val b = B()\n      b.apply{ initFunc }\n    }\n}\n\nclass B {\n    fun init() {...}\n}\n...\nval a = A()\na.initWith{ init() }\na.test()\n</code></pre>\n\n<p>I found the function init inside B is never called during the debug of test(), what's wrong with my code ?</p>\n"}, {"tags": ["android", "android-activity", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 681, "user_id": 5768459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y5pIr.jpg?s=128&g=1", "display_name": "Rohit Surwase", "link": "https://stackoverflow.com/users/5768459/rohit-surwase"}, "is_accepted": false, "score": 0, "last_activity_date": 1542853564, "creation_date": 1542853564, "answer_id": 53423054, "question_id": 53405022, "link": "https://stackoverflow.com/questions/53405022/standalone-transparent-activity-is-showing-in-recents-holding-previous-intent/53423054#53423054", "title": "Standalone transparent activity is showing in recents holding previous intent", "body": "<p>I have tried to recreate the same setup with a simple demo app and after playing around with diffrent launch modes and flags I got the solution.\nI have to exclude this activity from the recents, so I added following to the StandaloneActivity in the manifest along with existing setup-</p>\n\n<pre><code>android:excludeFromRecents=\"true\"\n</code></pre>\n"}], "owner": {"reputation": 681, "user_id": 5768459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y5pIr.jpg?s=128&g=1", "display_name": "Rohit Surwase", "link": "https://stackoverflow.com/users/5768459/rohit-surwase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542853564, "creation_date": 1542772313, "last_edit_date": 1542773134, "question_id": 53405022, "link": "https://stackoverflow.com/questions/53405022/standalone-transparent-activity-is-showing-in-recents-holding-previous-intent", "title": "Standalone transparent activity is showing in recents holding previous intent", "body": "<p>I have a StandaloneActivity which handles action.SEND which does some work and finishes.</p>\n\n<pre><code>&lt;activity\n        android:name=\".StandaloneActivity\"\n        android:launchMode=\"singleInstance\"\n        android:theme=\"@style/Theme.Transparent\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.SEND\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n\n            &lt;data android:mimeType=\"text/plain\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>It has transparent theme:</p>\n\n<pre><code>&lt;style name=\"Theme.Transparent\" parent=\"Theme.AppCompat\"&gt;\n    &lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@android:color/transparent&lt;/item&gt;\n    &lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n    &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:backgroundDimEnabled\"&gt;false&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>StandaloneActivity.kt</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    handleIntentExtras(intent)\n}\n\noverride fun onNewIntent(intent: Intent) {\n    super.onNewIntent(intent)\n    handleIntentExtras(intent)\n}\nprivate fun handleIntentExtras(intent: Intent) {\n// do some work and set extras to intent\n//Calling setResult() as I start this activity from another activity with startActivityForResult() for another usecase.\n    setResult(Activity.RESULT_OK, intent)\n    finish()\n}\n</code></pre>\n\n<p><strong>Expected is, whenever a user shares something with my app from another app, user should not leave current app but StandaloneActivity should be able to do work and finish. StandaloneActivity (my app) should not remain in recents.</strong></p>\n\n<p>The weird this is above setup works as expected in Java version of app but with Kotlin (migrating from Java to Kotlin) <strong>StandaloneActivity (my app) is visible in recents and on opening it, it is processing the previous intent and getting finished. StandaloneActivity remains in the recents.</strong></p>\n"}, {"tags": ["unit-testing", "spring-boot", "kotlin", "reactive-programming", "spring-webflux"], "comments": [{"owner": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 0, "creation_date": 1542791602, "post_id": 53404580, "comment_id": 93692138, "body": "Which Spring Boot version are you using?"}, {"owner": {"reputation": 313, "user_id": 3458402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d6a028e023eec85dc816733ae0323c?s=128&d=identicon&r=PG&f=1", "display_name": "Avv", "link": "https://stackoverflow.com/users/3458402/avv"}, "reply_to_user": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 0, "creation_date": 1542854035, "post_id": 53404580, "comment_id": 93720649, "body": "I&#39;m using 2.0.6 <code>id &#39;org.springframework.boot&#39; version &#39;2.0.6.RELEASE&#39;</code>"}, {"owner": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 0, "creation_date": 1542866825, "post_id": 53404580, "comment_id": 93723781, "body": "The question you\u2019re pointing to says it\u2019s been fixed in 2.1.x"}, {"owner": {"reputation": 313, "user_id": 3458402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d6a028e023eec85dc816733ae0323c?s=128&d=identicon&r=PG&f=1", "display_name": "Avv", "link": "https://stackoverflow.com/users/3458402/avv"}, "reply_to_user": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 0, "creation_date": 1542872704, "post_id": 53404580, "comment_id": 93726227, "body": "Now I updated spring boot version to 2.1.0 but still facing same issue."}, {"owner": {"reputation": 313, "user_id": 3458402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d6a028e023eec85dc816733ae0323c?s=128&d=identicon&r=PG&f=1", "display_name": "Avv", "link": "https://stackoverflow.com/users/3458402/avv"}, "reply_to_user": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 0, "creation_date": 1542874626, "post_id": 53404580, "comment_id": 93727157, "body": "My bad. I missed to add <code>.controllerAdvice(ExceptionsHandler())</code> in webTestClient builder. It worked now. Thanks for your time."}], "answers": [{"tags": [], "owner": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "is_accepted": false, "score": 0, "last_activity_date": 1542876132, "creation_date": 1542876132, "answer_id": 53426893, "question_id": 53404580, "link": "https://stackoverflow.com/questions/53404580/springboottest-test-exception-when-request-is-invalid/53426893#53426893", "title": "SpringBootTest - Test exception when request is invalid", "body": "<p>As mentioned on another related question, this has been fixed in Spring Boot 2.1.0.</p>\n\n<p>Also, you shouldn't have to build <code>WebTestClient</code> yourself but instead inject it in your test class (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-webflux-tests\" rel=\"nofollow noreferrer\">see reference documentation about that</a>):</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@WebFluxTest(MyValidationController.class)\npublic class MyValidationControllerTests {\n\n    @Autowired\n    private WebTestClient webClient;\n\n    @Test\n    public void testWhenInvalidEmail() {\n        //...\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 3458402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d6a028e023eec85dc816733ae0323c?s=128&d=identicon&r=PG&f=1", "display_name": "Avv", "link": "https://stackoverflow.com/users/3458402/avv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 734, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542876132, "creation_date": 1542768149, "last_edit_date": 1542872773, "question_id": 53404580, "link": "https://stackoverflow.com/questions/53404580/springboottest-test-exception-when-request-is-invalid", "title": "SpringBootTest - Test exception when request is invalid", "body": "<p>I developed an API using web-flux which is working fine when I make request using POSTMAN. My code is:</p>\n\n<p>Controller:</p>\n\n<pre><code>@PostMapping(\"/post\", produces = [\"application/xml\"])\nfun post(@Valid request: RequestData): Mono&lt;Response&gt; {\n    return Mono.just(request)\n    ...\n    ...\n    ...\n}\n</code></pre>\n\n<p>dto:</p>\n\n<pre><code>data class RequestData(\n\n    @get:NotBlank\n    @get:Email\n    val email: String = \"\",\n)\n</code></pre>\n\n<p>So whenever I pass invalid email via POSTMAN, I'm catching the exception like below and its working:</p>\n\n<pre><code>@ExceptionHandler\nfun bindingExceptionHandler(e: WebExchangeBindException) = \"Custom Error Message\"\n</code></pre>\n\n<p>But now when I write UT(@WebFluxTest) for this case (Invalid emaid), It failed.</p>\n\n<pre><code>@Test\nfun testWhenInvalidEmail() {\n\n    // Request body\n    val email = \"invalidemail\"\n    val request = LinkedMultiValueMap&lt;String, String&gt;()\n    request.add(\"email\", email)\n\n    webTestClient.post().uri(\"/post\")\n        .body(BodyInserters.fromFormData(request))\n        .exchange()\n        .expectStatus().isOk\n}\n</code></pre>\n\n<p>When I debug this, I found that my exceptionHandler not coming into picture when request coming through unit test. I'm using <code>application/x-www-form-urlencoded</code> content type in POST request.</p>\n\n<p>Please let me know where I'm doing wrong. \n<a href=\"https://stackoverflow.com/questions/48162730/how-to-test-exception-with-webfluxtest\">I followed this question as well but didn't work.</a></p>\n"}, {"tags": ["android", "charts", "kotlin", "mpandroidchart"], "answers": [{"tags": [], "owner": {"reputation": 2187, "user_id": 1077539, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ac36a35b456dd2b335b368d32ebd0f15?s=128&d=identicon&r=PG", "display_name": "sadat", "link": "https://stackoverflow.com/users/1077539/sadat"}, "is_accepted": false, "score": 0, "last_activity_date": 1542773964, "creation_date": 1542773964, "answer_id": 53405193, "question_id": 53404377, "link": "https://stackoverflow.com/questions/53404377/how-to-use-two-sets-of-data-for-drawing-graph-using-mpandroidchart-in-android/53405193#53405193", "title": "How to use two sets of data for drawing graph using MPAndroidChart in Android", "body": "<p>I got the answer, the mode needs to be changed.</p>\n\n<pre><code>set.mode = LineDataSet.Mode.HORIZONTAL_BEZIER\n</code></pre>\n"}], "owner": {"reputation": 2187, "user_id": 1077539, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ac36a35b456dd2b335b368d32ebd0f15?s=128&d=identicon&r=PG", "display_name": "sadat", "link": "https://stackoverflow.com/users/1077539/sadat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542773964, "creation_date": 1542766193, "question_id": 53404377, "link": "https://stackoverflow.com/questions/53404377/how-to-use-two-sets-of-data-for-drawing-graph-using-mpandroidchart-in-android", "title": "How to use two sets of data for drawing graph using MPAndroidChart in Android", "body": "<p>I was trying to use two sets of data while using <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"nofollow noreferrer\">MPAndroidChart</a> </p>\n\n<pre><code>val values1 = ArrayList&lt;Entry&gt;()\nvalues1.add(Entry(3f,2f))\nvalues1.add(Entry(3.5f,4f))\nvalues1.add(Entry(4f,3f))\nval values = ArrayList&lt;Entry&gt;()\nvalues.add(Entry(3f,2f))\nvalues.add(Entry(3.5f,4f))\nvalues.add(Entry(4f,3f))\nvalues.add(Entry(4.5f,6f))\nvalues.add(Entry(5f,10f))\nvalues.add(Entry(5.5f,4f))\nvalues.add(Entry(6f,3f))\n</code></pre>\n\n<p>And drawing the Line graph </p>\n\n<pre><code>var set1:LineDataSet\nvar set2:LineDataSet\nset1 = LineDataSet(values, \"DataSet 1\")\nset2 = LineDataSet(values1, \"DataSet 2\")\n\nset1.mode = LineDataSet.Mode.CUBIC_BEZIER\nset1.cubicIntensity = 0.2f\nset1.setDrawFilled(true)\nset1.setDrawCircles(false)\nset1.lineWidth = 1.8f\nset1.color = ContextCompat.getColor(activity!!, R.color.colorAccent)\nset1.fillColor = ContextCompat.getColor(activity!!, R.color.colorAccent)\nset1.fillAlpha = 100\nset1.setDrawHorizontalHighlightIndicator(false)\n//set1.setFillFormatter { dataSet, dataProvider -&gt; chart.axisLeft.minWidth }\n\nset2.mode = LineDataSet.Mode.CUBIC_BEZIER\nset2.cubicIntensity = 0.2f\nset2.setDrawFilled(true)\nset2.setDrawCircles(false)\nset2.lineWidth = 1.8f\nset2.color = ContextCompat.getColor(activity!!, R.color.colorPrimary)\nset2.fillColor = ContextCompat.getColor(activity!!, R.color.colorPrimary)\nset2.fillAlpha = 100\nset2.setDrawHorizontalHighlightIndicator(false)\n//set2.setFillFormatter { dataSet, dataProvider -&gt; chart.axisLeft.zeroLineWidth }\n\n// create a data object with the data sets\nval list= mutableListOf&lt;LineDataSet&gt;()\nlist.add(set1)\nlist.add(set2)\nval data = LineData(list as List&lt;ILineDataSet&gt;?)\ndata.setValueTextSize(9f)\ndata.setDrawValues(false)\n\n// set data\nchart.data = data\n</code></pre>\n\n<p>The outcome is like this\n<a href=\"https://i.stack.imgur.com/bZbD5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bZbD5.png\" alt=\"enter image description here\"></a></p>\n\n<p>I just want to improve or smooth the graph of set2 [arrow marked] so that the line exactly overlaps the set1 and hide that part of data.</p>\n"}, {"tags": ["android", "kotlin", "bottomnavigationview", "android-jetpack", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 1, "creation_date": 1542764052, "post_id": 53403692, "comment_id": 93683212, "body": "Why are you using a BottomNavigationView for a wizard like flow? BottomNavigationView is for global navigation between separate parts of your app."}, {"owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1542768439, "post_id": 53403692, "comment_id": 93684166, "body": "my intentation was to use something common to all fragments related to this activity, just changing the command executed by the button in the context of each fragment, but keeping the navigation flow."}], "answers": [{"tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": false, "score": 2, "last_activity_date": 1542773167, "creation_date": 1542773167, "answer_id": 53405116, "question_id": 53403692, "link": "https://stackoverflow.com/questions/53403692/how-to-intercept-mainactivitys-bottomnavigationview-menu-clicks-from-fragment/53405116#53405116", "title": "How to intercept MainActivity&#39;s BottomNavigationView menu clicks from fragment", "body": "<p>There's no way to 'cancel' a navigation event - you need to put your business logic on your button/listener itself and only call <code>navigate()</code> when you actually want to navigate.</p>\n\n<p>The <a href=\"https://developer.android.com/guide/components/fragments#EventCallbacks\" rel=\"nofollow noreferrer\">Creating event callbacks to the activity documentation</a> goes over one approach for connecting your Activity and Fragment together by using <code>onAttach(Context)</code> to get a reference to your Activity and set a property, callback, etc.</p>\n\n<p>For example, you might consider doing something like:</p>\n\n<pre><code>// In your Activity\nvar onNextClicked: () -&gt; Unit = {}\n\n// In your Activity's onCreate()\nbutton.setOnClickListener = View.OnClickListener {\n  onNextClicked.invoke()\n}\n\n// In your Fragment\noverride fun onAttach(context: Context) {\n  (context as YourActivity).onNextClicked = {\n    val teams = teamAdapter.getItems()\n    if (validateSubmit(teams)){\n      presenter.saveTeams(teams)\n      findNavController().navigate(R.id.action_next)\n    }\n  }\n}\n</code></pre>\n\n<p>Each Fragment would set what they want the next button to do, allowing you full control over what the button does.</p>\n\n<p>If you're dead set on the BottomNavigationView instead of just using an actual Button, you'd want to set your own <code>OnNavigationItemSelectedListener</code> and have that listener call the <code>onNextClicked</code> lambda if you're using this example.</p>\n"}], "owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1542773167, "creation_date": 1542760527, "question_id": 53403692, "link": "https://stackoverflow.com/questions/53403692/how-to-intercept-mainactivitys-bottomnavigationview-menu-clicks-from-fragment", "title": "How to intercept MainActivity&#39;s BottomNavigationView menu clicks from fragment", "body": "<p>My app works like a Wizard. I have an Activity that serves as a centralization for all my fragments. There is a BottomNavigationView with a \"Next\" button that appears in each fragment to drive the wizard. </p>\n\n<p>When I want to go next I call \"action_next\" from BottomNavMenu and it navigate to the next fragment.</p>\n\n<p>But I need to perform some action's when the user presses the Next Button in the context of that fragment (like store the data inputted). Further, I need to cancel the navigation if there is any problem with data inputted by the user. </p>\n\n<p>At first try i did this in my fragment:</p>\n\n<pre><code>val controller = NavHostFragment.findNavController(this)\n\n        controller.addOnNavigatedListener { controller, navDestination: NavDestination -&gt;\n\n            when (navDestination.id) {\n                R.id.destination_setup_tournment -&gt; {\n                    proceedNavigation(controller, navDestination)\n\n                }\n\n            }\n        }\n\n\nprivate fun proceedNavigation(controller: NavController, navDestination: NavDestination) {\n    val teams = teamAdapter.getItems()\n    if (validateSubmit(teams)){\n        presenter.saveTeams(teams)\n    }else{\n        //how to cancel navigation and stay on this fragment?\n    }\n}\n</code></pre>\n\n<p>But it does not look good or even correct for me and I don't know how to cancel the navigation if something is wrong.</p>\n\n<p>Here is the App's related files:</p>\n\n\n\n<p>MainActivity:</p>\n\n<p></p>\n\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n    android:id=\"@+id/toolbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"?colorPrimary\"\n    android:theme=\"@style/ToolbarTheme\" /&gt;\n\n&lt;fragment\n    android:id=\"@+id/nav_host_fragment\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1\"\n    android:name=\"androidx.navigation.fragment.NavHostFragment\"\n    app:navGraph=\"@navigation/navigation\"\n    app:defaultNavHost=\"true\" /&gt;\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=\"@+id/bottom_nav_view\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"bottom\"\n    app:menu=\"@menu/bottom_nav\"\n    style=\"@style/Widget.MaterialComponents.BottomNavigationView\"\n    &gt;\n\n\n&lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\n</code></pre>\n\n<p></p>\n\n<p>\n\n    \n        \n    \n    \n        \n    \n</p>\n\n<p>bottom_nav.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:id=\"@+id/action_next\" android:title=\"@string/tornment_mode\" android:icon=\"@drawable/ic_navigate_next_black_24dp\" /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "architecture"], "comments": [{"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1542757694, "post_id": 53403128, "comment_id": 93681797, "body": "It is OOD question and it will, no doubt, spawn a lot of controversial answers. Here is a dangerous line between objective and subjective... Also, details are too opaque to offer a single win-win solution.    Surely, this architecutre looks dreadfully. I mean, singleton mutable object to serve as a mediator? Haven&#39;t you consider insantiating an object that knows how to perform business process and relies on abstractions to delegate or ask for some functionality, whereas concrete implementors of these interfaces will be located in <code>moduleB</code>?"}, {"owner": {"reputation": 60, "user_id": 2300057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c66f7f28393cae8f789cd90c2a77a220?s=128&d=identicon&r=PG", "display_name": "Wilson Castiblanco", "link": "https://stackoverflow.com/users/2300057/wilson-castiblanco"}, "reply_to_user": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1542760383, "post_id": 53403128, "comment_id": 93682367, "body": "@AndreyIlyunin yeah .. I don&#39;t feel good with this. is the object that you propose like BridgeSharedImpl, what kind of details can I give you to clarify the implementation?"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1542770095, "post_id": 53403128, "comment_id": 93684523, "body": "If you could provide some abstract steps (fake, of course) that are being performed in both sides (<code>...because of there is some shared logic that needs to run in both sides</code>), it would be cool. What I see now is that <code>moduleA</code> uses a singleton object so obtain an object that should be used to execute a part of the buisness-logic flow. Then why the singleton is needed? If I understood correctly, then specific implementations of <code>BridgeShared</code> could just be passed as a constructor parameter to an object in <code>moduleA</code> instead of contacting between modules via the singleton."}, {"owner": {"reputation": 60, "user_id": 2300057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c66f7f28393cae8f789cd90c2a77a220?s=128&d=identicon&r=PG", "display_name": "Wilson Castiblanco", "link": "https://stackoverflow.com/users/2300057/wilson-castiblanco"}, "reply_to_user": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1542820281, "post_id": 53403128, "comment_id": 93708916, "body": "@AndreyIlyunin just added an update. (... then specific implementations of BridgeShared could just be passed as a constructor parameter to an object in moduleA... )  .. got it, but I need the <code>BridgeShared</code> in another places in the same <code>moduleA</code>"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1542874678, "post_id": 53403128, "comment_id": 93727185, "body": "It&#39;s extremely complicated architecture... First thing I would recommend is to eliminate &quot;singleton access&quot;. The most lightweight thing that can be done is, sure, passing <code>Listener</code> to a constructor of <code>EventProcessor</code> and <code>DataFetcher</code> classes. If you need a one instance, you can just create an <code>Abstract Factory</code> that will take singleton instance and will pass it to the constructors of mentioned classes. Thus, unwanted coupling and dependency will be removed from these classes."}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1542877846, "post_id": 53403128, "comment_id": 93728829, "body": "Sure, this advice is bounded with existing solution: I ain&#39;t offer to change something globally. I want to make changes cheap. Honestly, I think that singleton abstract factory is preferable over singleton business logic object. Personally I don&#39;t like singletons in any representation, and by some people it is considered as antipattern, but Erich Gamma in his Design Patterns book recommends to use singleton with abstract factories if a single configuration is needed for the factory."}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1542877926, "post_id": 53403128, "comment_id": 93728872, "body": "So, if single factory will be configured with <code>Listener</code> instance and will provide instances of <code>DataFetcher</code> and <code>EventProcessor</code>, then the only place of coupling will be in this factory instead of <b>all the objects that need to notify about some event</b>. But if you want something more clean, I would recommend to analyze some DI solutions that exist for the platform/language you are working with."}, {"owner": {"reputation": 60, "user_id": 2300057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c66f7f28393cae8f789cd90c2a77a220?s=128&d=identicon&r=PG", "display_name": "Wilson Castiblanco", "link": "https://stackoverflow.com/users/2300057/wilson-castiblanco"}, "reply_to_user": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1542909771, "post_id": 53403128, "comment_id": 93746219, "body": "Thank you so much for your answer @AndreyIlyunin. I wanted to use a DI framework, but, for internal desitions, it is not possible. I was thinking about the solution about the Abstract Factory, that sounds good, but, if the Abstract Factory class is initialized with the <code>Listener</code> it should be <code>static</code> to be able to send it in the new instances of the classes <code>DataFetcher</code> and <code>EventProcessor</code> which are inside a static function, isn&#39;t it?"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1542921160, "post_id": 53403128, "comment_id": 93749722, "body": "I think that the less evil is to have singleton abstract factory (I mean, your <b>class</b> will have, for example, one static field, which is <code>INSTANCE</code>, and two static methods: <code>getInstance()</code> which will return the factorie&#39;s singleton instance, and <code>initialize(Listener listener)</code>, that will create an object for static <code>INSTANCE</code> reference with a constructor that recevies a <code>Listener</code> object. Than, <b>instance methods</b> (non-static) would be something like <code>DataFetcher createDataFetcher() {  return new DataFetcher(this.listener);  }</code>, whereas <code>this.listener</code> is a instance field of the factory."}, {"owner": {"reputation": 60, "user_id": 2300057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c66f7f28393cae8f789cd90c2a77a220?s=128&d=identicon&r=PG", "display_name": "Wilson Castiblanco", "link": "https://stackoverflow.com/users/2300057/wilson-castiblanco"}, "reply_to_user": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1543006909, "post_id": 53403128, "comment_id": 93778291, "body": "@AndreyIlyunin just follow your recommendations, I will post the solution."}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1543048626, "post_id": 53403128, "comment_id": 93785058, "body": "Sure :) But beware about thread visibility issues here, if you use parallel environment. Proper synchronization should be used to guarantee that all threads won&#39;t see stale reference value. Good luck! :)"}], "answers": [{"tags": [], "owner": {"reputation": 60, "user_id": 2300057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c66f7f28393cae8f789cd90c2a77a220?s=128&d=identicon&r=PG", "display_name": "Wilson Castiblanco", "link": "https://stackoverflow.com/users/2300057/wilson-castiblanco"}, "is_accepted": false, "score": 0, "last_activity_date": 1543007708, "creation_date": 1543007708, "answer_id": 53453013, "question_id": 53403128, "link": "https://stackoverflow.com/questions/53403128/listener-declared-in-a-kotlin-object-class/53453013#53453013", "title": "Listener declared in a Kotlin Object class", "body": "<p>Based on the recommendations, I applied the Factory solution to avoid saving the <code>BridgeShared</code> inside a Singleton.</p>\n\n<p><strong>moduleA</strong></p>\n\n<pre><code>class BridgeFactory(private val bridgeShared: BridgeShared) {\n\n    companion object {\n\n        lateinit var bridgeFactory: BridgeFactory\n\n        fun initialize(bridgeShared: BridgeShared) {\n            bridgeFactory = BridgeFactory(emmaShared)\n        }\n    }\n\n    fun eventProcessor(): EventProcessor {\n        return EventProcessor(bridgeShared)\n    }\n\n    fun dataFetcher(): DataFetcher {\n        return DataFetcher(bridgeShared)\n    }\n\n}\n\nclass EventProcessor(private val bridgeShared: BridgeShared) {\n\n  fun eventReceived() {\n    //stuff\n    bridgeShared.eventProcessed()\n  }  \n\n}\n\nclass DataFetcher(private val bridgeShared: BridgeShared) {\n\n  fun dataReceived() {\n    //stuff\n    bridgeShared.fetchedData()\n  }  \n\n}\n</code></pre>\n\n<p><strong>moduleB</strong></p>\n\n<pre><code>class BridgeSharedImpl : BridgeShared {\n\n    init {\n        BridgeFactory.initialize(this)\n    }\n\n   override fun eventProcessed() {\n      //stuff\n   }\n\n   override fun fetchData() {\n     //stuff\n   }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 60, "user_id": 2300057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c66f7f28393cae8f789cd90c2a77a220?s=128&d=identicon&r=PG", "display_name": "Wilson Castiblanco", "link": "https://stackoverflow.com/users/2300057/wilson-castiblanco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 526, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543007708, "creation_date": 1542756275, "last_edit_date": 1542820037, "question_id": 53403128, "link": "https://stackoverflow.com/questions/53403128/listener-declared-in-a-kotlin-object-class", "title": "Listener declared in a Kotlin Object class", "body": "<p>I have an <code>object</code> class in Kotlin which is a manager - let's call it <code>KManager</code> - that manager is inside an independent module (<em>moduleA</em>). There is another module (<em>moduleB</em>) where I'm using <code>KManager</code>.</p>\n\n<p><strong>Rule:</strong> <em>moduleB</em> knows about <em>moduleA</em>, but <em>moduleA</em> shouldn't know anything about <em>moduleB</em>.</p>\n\n<p>I created like a bridge (interface) to communicate <em>moduleA</em> with <em>moduleB</em>, because of there is some shared logic that needs to run in both sides. The interface is declared in the <code>KManager</code> as:</p>\n\n<pre><code>//moduleA\nobject KManager {\n\n    var bridgeShared: BridgeShared? = null\n    ....\n}\n</code></pre>\n\n<p>Interface:</p>\n\n<pre><code>interface BridgeShared {\n    fun foo()\n}\n</code></pre>\n\n<p>Now, I have a class in the <em>moduleB</em> where implements <code>BridgeShared</code>. When the app starts I'm initializing <code>bridgeShared</code> like this:</p>\n\n<pre><code>//moduleB\nclass BridgeSharedImpl : BridgeShared {\n\n        KManager.bridgeShared = this\n        ....\n}\n</code></pre>\n\n<p>I'm getting <code>KManager.bridgeShared</code> in the <em>moduleB</em> and executing the interface's functions in another classes, something like:</p>\n\n<pre><code>KManager.bridgeShared.foo()\n</code></pre>\n\n<p>The question here is, is it harmful to have a listener declared inside an <code>object</code> Kotlin class and grab it whenever I need it? </p>\n\n<p><strong>NOTE:</strong> No real names used here, just to describe the scenario.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Extra Steps:</p>\n\n<p><em>moduleA</em> receives like an external event, it is processed and then the result is received by the \"Observer\" who subscribed to the <code>BridgeShared</code> listener, that \"Observer\" is the <em>moduleB</em> but <em>moduleA</em> doesn't care about it (the rule).</p>\n\n<p><strong>moduleB</strong></p>\n\n<pre><code>class BridgeSharedImpl : BridgeShared {\n\n   KManager.bridgeShared = this\n\n   override fun eventProcessed() {\n      //stuff\n   }\n\n   override fun fetchData() {\n     //stuff\n   }\n\n   fun callAnotherFunction1() {\n     KManager.anotherFunction1()\n   }\n}\n</code></pre>\n\n<p><strong>moduleA</strong></p>\n\n<pre><code>interface BridgeShared {\n    fun eventProcessed()\n    fun fetchedData()\n}\n\nobject KManager {\n\n    var bridgeShared: BridgeShared? = null\n\n    fun anotherFunction1() {\n      //not-related to BridgeShared, called from outside\n    }\n\n    fun anotherFunction2() {\n      //not-related to BridgeShared, called from outside\n    }\n}\n\nclass EventProcessor {\n\n  fun eventReceived() {\n    //stuff\n    KManager.bridgeShared?.eventProcessed()\n  }  \n\n}\n\nclass DataFetcher {\n\n  fun dataReceived() {\n    //stuff\n    KManager.bridgeShared?.fetchedData()\n  }  \n\n}\n</code></pre>\n\n<p>On the other hand, I'm taking advantage of <code>KManager.bridgeShared</code> in the <em>moduleB</em> to call the same functions inside the same <em>moduleB</em> because I don't have access to the instance of <code>BridgeSharedImpl</code>everywhere, just where it was instantiated.</p>\n\n<p>Now, the <em>moduleB</em> uses the <code>KManager</code> singleton to execute other functions not related to the BridgeShared.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1542751658, "post_id": 53402128, "comment_id": 93679936, "body": "Your question was marked as <a href=\"https://stackoverflow.com/questions/2786720/how-to-ping-a-url-in-an-android-service\">a duplicate of this</a>, so it would be better to post your answer there. In your answer it would be worth explaining how it relates to that question and how it solves it (code-only answers are usually not very useful)."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 1, "creation_date": 1542751704, "post_id": 53402128, "comment_id": 93679957, "body": "Unfortunately, this post needs to be regarded as off-topic because it is an answer to another question, not a question in its own right."}, {"owner": {"reputation": 178, "user_id": 4061507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ec5adfba2baf16b87c2220735bb685?s=128&d=identicon&r=PG&f=1", "display_name": "quietbits", "link": "https://stackoverflow.com/users/4061507/quietbits"}, "reply_to_user": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1542756409, "post_id": 53402128, "comment_id": 93681494, "body": "Maybe I didn&#39;t explain my initial question correctly, but I think it&#39;s on topic, because there are 2 parts to my question: 1) ping and 2) use that answer in MainActivity to show WebView. I spent hours searching for that and didn&#39;t find anything that worked, so I had to piece it together."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1542824139, "post_id": 53402128, "comment_id": 93710679, "body": "I have edited this to try to make it into more of a question. It is still not ideal, since if your original post was wrongly closed, that should be reopened, rather than a genuine duplicate being created. Since this has an answer, it may well survive - close voters are less likely to close material that is posted in a spirit of helpfulness. It would be ideal if you would cast a reopen vote on your earlier question, and if that is successful, perhaps you can move this there (and then delete this)."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1542824162, "post_id": 53402128, "comment_id": 93710688, "body": "In the meantime, please accept your answer below, to indicate that you&#39;re happy with the solution."}, {"owner": {"reputation": 178, "user_id": 4061507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ec5adfba2baf16b87c2220735bb685?s=128&d=identicon&r=PG&f=1", "display_name": "quietbits", "link": "https://stackoverflow.com/users/4061507/quietbits"}, "reply_to_user": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1542825094, "post_id": 53402128, "comment_id": 93711081, "body": "Thanks, @halfer! I opted to delete my original post and will keep this one. It says that I can&#39;t accept my own answer here."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1542825134, "post_id": 53402128, "comment_id": 93711095, "body": "You will be able to accept your own answer - there is just a delay on it. Please do accept it in the near future."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1542825362, "post_id": 53402128, "comment_id": 93711186, "body": "Since you&#39;ve deleted the other one, that does tidy things somewhat. However, this question is now too sparse, and could do with some expansion. While I don&#39;t develop for Android, I would also advise you not to repost every time your original question is closed as duplicate - doing so is a downvote magnet. You appear to have gotten away with it this time."}, {"owner": {"reputation": 178, "user_id": 4061507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ec5adfba2baf16b87c2220735bb685?s=128&d=identicon&r=PG&f=1", "display_name": "quietbits", "link": "https://stackoverflow.com/users/4061507/quietbits"}, "reply_to_user": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1542826214, "post_id": 53402128, "comment_id": 93711573, "body": "Sorry about that, I&#39;m new to this and thought that someone might stumble upon the same problem I was having. Since original question was marked as duplicate I thought I needed to create a new one explaining what was the different."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1542833721, "post_id": 53402128, "comment_id": 93714936, "body": "You&#39;re right, the advice on the close reason is surprising to me (<i>This question has been asked before and already has an answer. If those answers do not fully address your question, please ask a new question</i>). In general, questions that are closed should be edited, and then people may choose to reopen them after the edit. So, in this case, it seems that you did everything right. I will withdraw my close vote."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1542833761, "post_id": 53402128, "comment_id": 93714955, "body": "(If I get a chance I will ask a <i>Meta</i> question about whether the advice is correct, but for now, let us assume it is. I apologise if I have given you some incorrect advice)."}, {"owner": {"reputation": 178, "user_id": 4061507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ec5adfba2baf16b87c2220735bb685?s=128&d=identicon&r=PG&f=1", "display_name": "quietbits", "link": "https://stackoverflow.com/users/4061507/quietbits"}, "reply_to_user": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1542844706, "post_id": 53402128, "comment_id": 93718703, "body": "I appreciate your advice, @halfer!"}], "answers": [{"tags": [], "owner": {"reputation": 178, "user_id": 4061507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ec5adfba2baf16b87c2220735bb685?s=128&d=identicon&r=PG&f=1", "display_name": "quietbits", "link": "https://stackoverflow.com/users/4061507/quietbits"}, "is_accepted": false, "score": 1, "last_activity_date": 1542823961, "last_edit_date": 1542823961, "creation_date": 1542750689, "answer_id": 53402129, "question_id": 53402128, "link": "https://stackoverflow.com/questions/53402128/ping-website-url-before-loading-it-in-webview-in-android-kotlin/53402129#53402129", "title": "Ping website URL before loading it in WebView in Android Kotlin", "body": "<p>My solution below is trying to do two things:</p>\n\n<ol>\n<li><p>Using <code>AsyncTask</code> \"ping\" a website and then</p></li>\n<li><p>By passing context from <code>MainActivity</code>, call a function to show WebView (using <code>WeakReference</code> here to achieve that)</p></li>\n</ol>\n\n\n\n<pre><code>class MainActivity : AppCompatActivity() {\nprivate var websiteURL = \"https://www.google.com\"\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    // ...\n    webView.webViewClient = WebViewClient()\n}\n\n// I called this function after checking that there is Internet connection\nprivate fun connectionResponseFunction(): String {\n    return if (isConnected) {\n        // *** is connected\n        // pass in \"this\" context from MainActivity\n        val downloadData = CheckLink(this)\n        downloadData.execute(websiteURL)\n    } else {\n      // *** not connected\n    }\n}\n\nprivate fun showWebView() {\n    webView.loadUrl(websiteURL)\n}\n\ncompanion object {\n    class CheckLink internal constructor(context: MainActivity) : AsyncTask&lt;String, Void, String&gt;() {\n      // Needed if you want to use webView or anything else from MainActivity\n        private val activityReference: WeakReference&lt;MainActivity&gt; = WeakReference(context)\n\n        override fun onPostExecute(result: String?) {\n            super.onPostExecute(result)\n            val activity = activityReference.get()\n            if (activity == null || activity.isFinishing) return\n\n            if (result == \"success\") {\n                // URL loaded, show webView\n                activity.showWebView()\n            } else {\n                // URL didn't load\n            }\n        }\n\n        override fun doInBackground(vararg url: String?): String {\n            val linkLoaded = loadLink(url[0])\n            if (!linkLoaded) {\n                return \"failure\"\n            }\n            return \"success\"\n        }\n\n        private fun loadLink(urlPath: String?): Boolean {\n            try {\n                val url = URL(urlPath)\n                val connection: HttpURLConnection = url.openConnection() as HttpURLConnection\n                connection.setRequestProperty(\"Connection\", \"close\")\n                connection.connectTimeout = 3000\n                connection.connect()\n\n                val response = connection.responseCode\n\n                // 200 for success\n                return if (response == 200) {\n                    true\n                } else {\n                    false\n                }\n            } catch (e: Exception) {\n              // Handle exceptions\n                when (e) {\n                    is MalformedURLException -&gt; \"loadLink: Invalid URL ${e.message}\"\n                    is IOException -&gt; \"loadLink: IO Exception reading data: ${e.message}\"\n                    is SecurityException -&gt; { e.printStackTrace()\n                        \"loadLink: Security Exception. Needs permission? ${e.message}\"\n                    }\n                    else -&gt; \"Unknown error: ${e.message}\"\n                }\n            }\n            return false  // Error\n        }\n    }\n}\n}\n</code></pre>\n\n<p>I'm quite new to Android and Kotlin, so I'm open to any suggestions to make it better.</p>\n\n<p>I could not find any recent code that works for API 25+.</p>\n"}, {"tags": [], "owner": {"reputation": 314, "user_id": 12083845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ATpdC.jpg?s=128&g=1", "display_name": "BWappsandmore", "link": "https://stackoverflow.com/users/12083845/bwappsandmore"}, "is_accepted": false, "score": 0, "last_activity_date": 1591099809, "creation_date": 1591099809, "answer_id": 62151695, "question_id": 53402128, "link": "https://stackoverflow.com/questions/53402128/ping-website-url-before-loading-it-in-webview-in-android-kotlin/62151695#62151695", "title": "Ping website URL before loading it in WebView in Android Kotlin", "body": "<p>Another (shorter) alternative to <code>AsyncTask</code> would it be using <code>Thread</code>: </p>\n\n<pre><code>Thread {\n    val result = isHostAvailable(BuildConfig.BASE_URL)\n    runOnUiThread {\n        if (result) {\n            // do something ...\n        }\n        else showToast(\"no connection to server\")\n    }\n}.start()\n</code></pre>\n\n<p>and </p>\n\n<pre><code>fun isHostAvailable(urlPath: String): Boolean {\n    try {\n        val url = URL(urlPath)\n        val connection: HttpURLConnection = url.openConnection() as HttpURLConnection\n        connection.setRequestProperty(\"Connection\", \"close\")\n        connection.connectTimeout = 3000\n        connection.connect()\n\n        return when (connection.responseCode) {\n            200, 403 -&gt; true\n            else -&gt; false\n        }\n\n    } catch (e: Exception) {\n        when (e) {\n            is MalformedURLException -&gt; \"loadLink: Invalid URL ${e.message}\"\n            is IOException -&gt; \"loadLink: IO Exception reading data: ${e.message}\"\n            is SecurityException -&gt; {\n                e.printStackTrace()\n                \"loadLink: Security Exception. Needs permission? ${e.message}\"\n            }\n            else -&gt; \"Unknown error: ${e.message}\"\n        }\n    }\n    return false\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 5378135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v5xWZ.jpg?s=128&g=1", "display_name": "Ramiro G.M.", "link": "https://stackoverflow.com/users/5378135/ramiro-g-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1595525920, "last_edit_date": 1595525920, "creation_date": 1595475004, "answer_id": 63046431, "question_id": 53402128, "link": "https://stackoverflow.com/questions/53402128/ping-website-url-before-loading-it-in-webview-in-android-kotlin/63046431#63046431", "title": "Ping website URL before loading it in WebView in Android Kotlin", "body": "<p>Looks like ping doesn't work on emulators (<a href=\"https://stackoverflow.com/questions/3905358/how-to-ping-external-ip-from-java-android\">How to Ping External IP from Java Android</a>)...instead, try this on a real device, it'll work:</p>\n<pre><code>val process = Runtime.getRuntime().exec(&quot;/system/bin/ping -c 1 $SERVIDOR&quot;)\nval pingResult = process .waitFor()\nreturn pingResult == 0\n</code></pre>\n<p>By the way, the answer given by @quietbits is pretty obsolete...AsyncTask class was the way to go like 5 years ago...Since Android Studio supports kotlin, you should use coroutines!! the code line difference is huge...check this code labs for more info (<a href=\"https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#0\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#0</a>)</p>\n"}], "owner": {"reputation": 178, "user_id": 4061507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ec5adfba2baf16b87c2220735bb685?s=128&d=identicon&r=PG&f=1", "display_name": "quietbits", "link": "https://stackoverflow.com/users/4061507/quietbits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 826, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1595525920, "creation_date": 1542750689, "last_edit_date": 1542825179, "question_id": 53402128, "link": "https://stackoverflow.com/questions/53402128/ping-website-url-before-loading-it-in-webview-in-android-kotlin", "title": "Ping website URL before loading it in WebView in Android Kotlin", "body": "<p>Before loading a website in WebView, I want to check the URL and make sure that it loads. If it does, show the WebView; if not, show another View with a message.</p>\n\n<p>The idea is to check if the website can be loaded and depending on the response show either the \"Website cannot be loaded\" screen or show the WebView with URL loaded.</p>\n\n<p>I have already checked if the connection is available, so no need to worry about that.</p>\n\n<p>Need to support API 25+.</p>\n"}, {"tags": ["android-studio", "android-layout", "kotlin", "splash-screen"], "comments": [{"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1542750687, "post_id": 53402095, "comment_id": 93679500, "body": "The difference is between <code>debug</code> and <code>release</code> build types. Where exactly is your <code>styles.xml</code>?"}, {"owner": {"reputation": 31, "user_id": 10682598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8189985054006a9b6949836389a2c2b?s=128&d=identicon&r=PG&f=1", "display_name": "L P", "link": "https://stackoverflow.com/users/10682598/l-p"}, "reply_to_user": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1542754899, "post_id": 53402095, "comment_id": 93681067, "body": "I think I am buidling debug APKs. That&#39;s what the files are named. I think what goes on the emulator is debug, too, no? styles is in E:\\AndroidStudioProjects\\gb\\base\\src\\main\\res\\values\\styles.&zwnj;&#8203;xml (gb is project name). I was wondering about location of styles, and tried to put styles elsewhere, but couldn&#39;t make it work that way."}, {"owner": {"reputation": 31, "user_id": 10682598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8189985054006a9b6949836389a2c2b?s=128&d=identicon&r=PG&f=1", "display_name": "L P", "link": "https://stackoverflow.com/users/10682598/l-p"}, "reply_to_user": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1542755419, "post_id": 53402095, "comment_id": 93681266, "body": "Note that the kotlin code that generates the problem is in a different directory. E:\\AndroidStudioProjects\\gb\\feature\\src\\main\\java\\com\\zwsi\\g&zwnj;&#8203;b\\feature\\MainActivi&zwnj;&#8203;ty.kt"}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1542780236, "post_id": 53402095, "comment_id": 93687000, "body": "Ok - both are from <code>main</code>  but in different modules <code>base</code> and <code>feature</code> - how does <code>feature</code> module include <code>base</code>? build.gradle files please"}, {"owner": {"reputation": 31, "user_id": 10682598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8189985054006a9b6949836389a2c2b?s=128&d=identicon&r=PG&f=1", "display_name": "L P", "link": "https://stackoverflow.com/users/10682598/l-p"}, "reply_to_user": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1542816724, "post_id": 53402095, "comment_id": 93706752, "body": "Thanks @laalto for your help. I added the build.gradle files to the orginal question above. I don&#39;"}, {"owner": {"reputation": 31, "user_id": 10682598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8189985054006a9b6949836389a2c2b?s=128&d=identicon&r=PG&f=1", "display_name": "L P", "link": "https://stackoverflow.com/users/10682598/l-p"}, "reply_to_user": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1542817076, "post_id": 53402095, "comment_id": 93706987, "body": "I added the build.gradle files to the orginal question above. They are mostly what AS set them up for initial tutorial. I have base for styles, and strings. Most of my code is in feature. I did create an additional directory gblib for code that is not Android specific."}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1542835294, "post_id": 53402095, "comment_id": 93715625, "body": "Ok, nothing obviously wrong there. I have no hands-on experience with these <code>com.android.feature</code> modules and <code>feature</code> / <code>application</code> dependencies so I don&#39;t know how they affect the build process."}], "owner": {"reputation": 31, "user_id": 10682598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8189985054006a9b6949836389a2c2b?s=128&d=identicon&r=PG&f=1", "display_name": "L P", "link": "https://stackoverflow.com/users/10682598/l-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 760, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542816629, "creation_date": 1542750547, "last_edit_date": 1542816629, "question_id": 53402095, "link": "https://stackoverflow.com/questions/53402095/setthemer-style-apptheme-not-working-when-creating-apk", "title": "setTheme(R.style.AppTheme) not working when creating APK", "body": "<p>I display a splash screen on my Android app by using a theme for loading. In the MainActivity I change the theme using setTheme. It works when I build the app from Android Studio on the emulator (it compiles and runs). When I try to build an APK using Build->Build APKs, I get an error.</p>\n\n<p><code>E:\\AndroidStudioProjects\\gb\\feature\\src\\main\\java\\com\\zwsi\\gb\\feature\\MainActivity.kt: (25, 20): Unresolved reference: style</code></p>\n\n<p>What is different when building APK vs. building an app?</p>\n\n<p>AndroidManifest.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      package=\"com.perrochon.gb\"&gt;\n\n&lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme.Launcher\"&gt;\n        &lt;meta-data\n            android:name=\"aia-compat-api-min-version\"\n            android:value=\"1\"/&gt;\n&lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>styles.xml</p>\n\n<pre><code>&lt;resources&gt;\n&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.NoActionBar\"&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@drawable/app_background&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"AppTheme.Launcher\"&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@drawable/launch_background&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n\n    setTheme(R.style.AppTheme) // TODO switch back from the Launcher Theme, but this won't compile to APK\n    // setTheme(R.style.AppTheme) works in Android Studio -&gt; Emulator, but not when building APKs. Error is\n    // E:\\AndroidStudioProjects\\gb\\feature\\src\\main\\java\\com\\zwsi\\gb\\feature\\MainActivity.kt: (25, 20): Unresolved reference: style\n\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n</code></pre>\n\n<p>Edit: Adding build gradle files. I haven't really done anything with the gradel build files, they are the way Android Studio set them up.</p>\n\n<p>build.gradle from gb</p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.2.71'\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.2.1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n\nallprojects {\nrepositories {\n    google()\n    jcenter()\n}\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>build.gradle from gb\\feature</p>\n\n<pre><code>apply plugin: 'com.android.feature'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\ncompileSdkVersion 28\ndefaultConfig {\n    minSdkVersion 15\n    targetSdkVersion 28\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \n\"android.support.test.runner.AndroidJUnitRunner\"\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation project(':base')\nimplementation project(':gblib')\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n}\n</code></pre>\n\n<p>build.gradle from gb\\base</p>\n\n<pre><code>apply plugin: 'com.android.feature'\n\nandroid {\ncompileSdkVersion 28\nbaseFeature true\ndefaultConfig {\n    minSdkVersion 15\n    targetSdkVersion 28\n    versionCode 1\n    versionName \"1.0\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\napi 'com.android.support:appcompat-v7:28.0.0'\napi 'com.android.support.constraint:constraint-layout:1.1.3'\napi 'com.android.support:support-v4:28.0.0'\napplication project(':app')\nfeature project(':feature')\n}\n</code></pre>\n\n<p>build.gradle from gb\\app</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 28\n\n\n\ndefaultConfig {\n    applicationId \"com.zwsi.gb.app\"\n    minSdkVersion 15\n    targetSdkVersion 28\n    versionCode 1\n    versionName \"1.0\"\n\n\n}\n\nbuildTypes {\n   release {\n       minifyEnabled false\n       proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n   }\n}\n\n}\n\ndependencies {\nimplementation project(':feature')\nimplementation project(':base')\nimplementation project(':gblib')\n}\n</code></pre>\n\n<p>I also have gblib directory with a library of non-Android code. build.gradle from gb\\lib</p>\n\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.jvm'\n}\napply plugin: 'java-library'\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\ntestImplementation 'junit:junit:4.12'\n}\n\nsourceCompatibility = \"6\"\ntargetCompatibility = \"6\"\nrepositories {\nmavenCentral()\n}\ncompileKotlin {\nkotlinOptions {\n    jvmTarget = \"1.8\"\n}\n}\ncompileTestKotlin {\nkotlinOptions {\n    jvmTarget = \"1.8\"\n}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dialog", "rounded-corners"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 10517706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab38954e5bdc7ba4bfe636b74b73deb1?s=128&d=identicon&r=PG&f=1", "display_name": "radekdob", "link": "https://stackoverflow.com/users/10517706/radekdob"}, "edited": false, "score": 0, "creation_date": 1542833880, "post_id": 53406188, "comment_id": 93715008, "body": "Thanks ! Works fine :)"}, {"owner": {"reputation": 708, "user_id": 2719243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQYVa.jpg?s=128&g=1", "display_name": "Vahab Ghadiri", "link": "https://stackoverflow.com/users/2719243/vahab-ghadiri"}, "reply_to_user": {"reputation": 77, "user_id": 10517706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab38954e5bdc7ba4bfe636b74b73deb1?s=128&d=identicon&r=PG&f=1", "display_name": "radekdob", "link": "https://stackoverflow.com/users/10517706/radekdob"}, "edited": false, "score": 0, "creation_date": 1544953068, "post_id": 53406188, "comment_id": 94450688, "body": "@radekdob Your welcome, if it helped you please mark it as correct answer. Thanks"}], "tags": [], "owner": {"reputation": 708, "user_id": 2719243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQYVa.jpg?s=128&g=1", "display_name": "Vahab Ghadiri", "link": "https://stackoverflow.com/users/2719243/vahab-ghadiri"}, "is_accepted": false, "score": 4, "last_activity_date": 1542780679, "creation_date": 1542780679, "answer_id": 53406188, "question_id": 53401638, "link": "https://stackoverflow.com/questions/53401638/dialogfragment-rounded-corners-ho-to-set-transparency/53406188#53406188", "title": "DialogFragment rounded corners - ho to set transparency", "body": "<p>just put it in oncreatedialog like :</p>\n\n<pre><code> override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n    val dialog = super.onCreateDialog(savedInstanceState)\n    dialog.window.setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))\n    return dialog\n}\n</code></pre>\n\n<p>and i suggest that you use a framelayout as a root view for your dialog ( match parent frame ) and design your center layout in it</p>\n"}], "owner": {"reputation": 77, "user_id": 10517706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab38954e5bdc7ba4bfe636b74b73deb1?s=128&d=identicon&r=PG&f=1", "display_name": "radekdob", "link": "https://stackoverflow.com/users/10517706/radekdob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1465, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542781037, "creation_date": 1542748503, "question_id": 53401638, "link": "https://stackoverflow.com/questions/53401638/dialogfragment-rounded-corners-ho-to-set-transparency", "title": "DialogFragment rounded corners - ho to set transparency", "body": "<p>I've made custom layout for dialogFragment with rounded corners but when dialog is called corners are rounded he looks like below. </p>\n\n<p><a href=\"https://i.imgur.com/aE4PMhZ.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/aE4PMhZ.png</a></p>\n\n<p>I know i need to set transparency <code>dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);</code>\nbut I dont know where to put this in my code, additionally I'm using Kotlin.</p>\n\n<p><em>Below is the part of code where Dialog is called.</em></p>\n\n<pre><code> myDialog = Event_Dialog.newInstance(args,args1)\n                myDialog.show(fragmentManager, \"MyDialog\")\n</code></pre>\n\n<p>This is Event_Dialog class.</p>\n\n<pre><code>class Event_Dialog : DialogFragment() {\n\ncompanion object {\n\n    fun newInstance(bundle: String, bundle1: String): Event_Dialog {\n        //description\n        val args: Bundle = Bundle()\n        args.putString(\"desc\", bundle)\n        //link\n        args.putString(\"link\", bundle1)\n\n        val fragmentDialog = Event_Dialog()\n        fragmentDialog.arguments = args\n\n        return fragmentDialog\n    }\n}\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val x = inflater.inflate(R.layout.event_detail, container, false)\nsome code.......\nreturn x\n</code></pre>\n\n<p>Could you tell me guys where I should set the transparency of custom background ?\nThanks !</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "spring-framework-beans"], "comments": [{"owner": {"reputation": 3624, "user_id": 10664446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7dc12bb95214084eff7e94526ef0be?s=128&d=identicon&r=PG&f=1", "display_name": "stacker", "link": "https://stackoverflow.com/users/10664446/stacker"}, "edited": false, "score": 1, "creation_date": 1542748076, "post_id": 53401442, "comment_id": 93678325, "body": "you can separate your configurations using profiles"}], "answers": [{"comments": [{"owner": {"reputation": 799, "user_id": 1032484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/szaxF.png?s=128&g=1", "display_name": "andy", "link": "https://stackoverflow.com/users/1032484/andy"}, "edited": false, "score": 0, "creation_date": 1616149390, "post_id": 53403170, "comment_id": 117917927, "body": "Great solution. I wonder why this is not set to <code>true</code> by default when using <code>@SpringBootTest</code>."}, {"owner": {"reputation": 84621, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "reply_to_user": {"reputation": 799, "user_id": 1032484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/szaxF.png?s=128&g=1", "display_name": "andy", "link": "https://stackoverflow.com/users/1032484/andy"}, "edited": false, "score": 1, "creation_date": 1616149800, "post_id": 53403170, "comment_id": 117918077, "body": "It isn&#39;t enabled by default as that could result in your tests all passing even though your application won&#39;t start due to a duplicate bean."}], "tags": [], "owner": {"reputation": 84621, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "is_accepted": true, "score": 19, "last_activity_date": 1542756588, "creation_date": 1542756588, "answer_id": 53403170, "question_id": 53401442, "link": "https://stackoverflow.com/questions/53401442/registering-test-bean-with-same-name-in-spring-framework-5-1/53403170#53403170", "title": "Registering test bean with same name in Spring Framework 5.1", "body": "<p>You could use the <code>properties</code> attribute of <code>@SpringBootTest</code> to set <code>spring.main.allow-bean-definition-overriding=true</code>.</p>\n"}], "owner": {"reputation": 21112, "user_id": 296427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8692a55fc3524ed4e7cb85b0b3b4693c?s=128&d=identicon&r=PG", "display_name": "pixel", "link": "https://stackoverflow.com/users/296427/pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4774, "favorite_count": 0, "closed_date": 1581117665, "accepted_answer_id": 53403170, "answer_count": 1, "score": 11, "last_activity_date": 1542756588, "creation_date": 1542747602, "last_edit_date": 1542752245, "question_id": 53401442, "link": "https://stackoverflow.com/questions/53401442/registering-test-bean-with-same-name-in-spring-framework-5-1", "closed_reason": "Duplicate", "title": "Registering test bean with same name in Spring Framework 5.1", "body": "<p>I'm having following config in my production files:</p>\n\n<pre><code>@Configuration\ninternal class Config {\n\n  @Bean\n  fun clock() = Clock.systemUTC()\n}\n</code></pre>\n\n<p>In tests:</p>\n\n<pre><code>@Configuration\nclass ClockTestConfiguration {\n\n  @Bean\n  fun clock() = SetableClock()\n}\n</code></pre>\n\n<p>My test annotations:</p>\n\n<pre><code>@SpringBootTest(\n  webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n  classes = [\n    MyApplication::class,\n    ClockTestConfiguration::class\n  ]\n)\nclass MyTest {\n...\n</code></pre>\n\n<p>When I was using Spring Boot <code>2.0.5.RELEASE</code> it worked like a charm. After upgrading to <code>2.1.0.RELEASE</code> it fails during bean registration.</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'clock' defined in com.foo.clock.ClockTestConfiguration: \nCannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=clockTestConfiguration; factoryMethodName=clock; initMethodName=null; destroyMethodName=(inferred); \ndefined in com.foo.clock.ClockTestConfiguration] for bean 'clock': There is already [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=config; factoryMethodName=clock; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/foo/clock/Config.class]] bound.\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.registerBeanDefinition(DefaultListableBeanFactory.java:894)\n</code></pre>\n\n<p>Is there a clean way to override such bean?</p>\n"}, {"tags": ["java", "android", "kotlin", "zxing"], "answers": [{"comments": [{"owner": {"reputation": 2191, "user_id": 135530, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5e0f1916b37bae33f2e5fc954d6045bc?s=128&d=identicon&r=PG", "display_name": "Lance", "link": "https://stackoverflow.com/users/135530/lance"}, "edited": false, "score": 0, "creation_date": 1542745478, "post_id": 53400941, "comment_id": 93677112, "body": "That&#39;s correct, I just figure out that you can convert a java class to kotlin in android studio and that&#39;s what I got. Thanks for the answer, will mark it as correct."}], "tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": true, "score": 3, "last_activity_date": 1542745295, "creation_date": 1542745295, "answer_id": 53400941, "question_id": 53400876, "link": "https://stackoverflow.com/questions/53400876/what-is-the-equivalent-of-the-java-code-someactivity-this-in-kotlin/53400941#53400941", "title": "What is the equivalent of the java code SomeActivity.this in kotlin?", "body": "<p>It's</p>\n\n<pre><code>this@SomeActivity\n</code></pre>\n\n<p>If you start typing <code>this</code>, you should see that appear in the suggested auto-completions.</p>\n"}], "owner": {"reputation": 2191, "user_id": 135530, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5e0f1916b37bae33f2e5fc954d6045bc?s=128&d=identicon&r=PG", "display_name": "Lance", "link": "https://stackoverflow.com/users/135530/lance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 53400941, "answer_count": 1, "score": 1, "last_activity_date": 1542745295, "creation_date": 1542745009, "question_id": 53400876, "link": "https://stackoverflow.com/questions/53400876/what-is-the-equivalent-of-the-java-code-someactivity-this-in-kotlin", "title": "What is the equivalent of the java code SomeActivity.this in kotlin?", "body": "<p>I have a code that scans bar/qr code using zxing in java: </p>\n\n<pre><code> IntentIntegrator integrator = new IntentIntegrator(SomeScanActivity.this);\n integrator.initiateScan();\n</code></pre>\n\n<p>Here's how I did it in kotlin: </p>\n\n<pre><code>IntentIntegrator(this).initiateScan()\n</code></pre>\n\n<p>In java, the constructor for IntentIntegrator won't accept 'this' as a constructor parameter, but in kotlin it does accept 'this' as a constructor parameter. My suspicion is that this is the cause of the problem that I'm having where I get a null value on the result. </p>\n\n<p>What is the correct equivalent of the java code in kotlin? </p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "edited": false, "score": 0, "creation_date": 1542742005, "post_id": 53400170, "comment_id": 93675413, "body": "nice language :D <code>${&#39;$&#39;}</code> is best stuff I&#39;ve ever saw"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1542742877, "post_id": 53400170, "comment_id": 93675855, "body": "defining <code>val `$` = &quot;$&quot;</code> allows <code>&quot;$`$`&quot;</code> maybe you like that better ;)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 0, "last_activity_date": 1542742008, "last_edit_date": 1542742008, "creation_date": 1542741985, "answer_id": 53400170, "question_id": 53400111, "link": "https://stackoverflow.com/questions/53400111/is-there-posibility-to-disable-string-templates/53400170#53400170", "title": "Is there posibility to disable &quot;string templates&quot;?", "body": "<p>You can't disable them in any way. String templates are always interpreted, even inside raw strings, as the <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#string-templates\" rel=\"nofollow noreferrer\">related documentation</a> describes.</p>\n\n<p>There's a way to input a literal <code>$</code> character, if that's your issue with it (described in the same docs). Otherwise, if you just find it odd or it's inconvenient for some specific use case, you're probably out of luck.</p>\n"}, {"tags": [], "owner": {"reputation": 3032, "user_id": 1037002, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5afb55f9a8f5f3c3ec4710288014bd5a?s=128&d=identicon&r=PG", "display_name": "Suryavel TR", "link": "https://stackoverflow.com/users/1037002/suryavel-tr"}, "is_accepted": false, "score": 1, "last_activity_date": 1542743058, "creation_date": 1542743058, "answer_id": 53400453, "question_id": 53400111, "link": "https://stackoverflow.com/questions/53400111/is-there-posibility-to-disable-string-templates/53400453#53400453", "title": "Is there posibility to disable &quot;string templates&quot;?", "body": "<p>You can't disable. But you can escape it using <code>\\</code>.</p>\n\n<pre><code>val my_variable = \"Some Value\"\nprintln(\"this --&gt; \\$my_variable\")\n</code></pre>\n\n<p>Above code will print <code>this --&gt; $my_variable</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1553543258, "creation_date": 1542741741, "last_edit_date": 1553543258, "question_id": 53400111, "link": "https://stackoverflow.com/questions/53400111/is-there-posibility-to-disable-string-templates", "title": "Is there posibility to disable &quot;string templates&quot;?", "body": "<p>Kotlin have amazing, which is not present in java, but it is possible to do not use it somehow? Like for example in php:</p>\n\n<pre><code>\"$foo\"\n'$foo'\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1542783875, "post_id": 53399881, "comment_id": 93688384, "body": "Did you check the stack trace?? getting any exception or anything?"}, {"owner": {"reputation": 31, "user_id": 10650255, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_Gg_Fn_4764/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA478s61TD-77eUcWNGGWVD5gsoyg/mo/photo.jpg?sz=128", "display_name": "terer erererr", "link": "https://stackoverflow.com/users/10650255/terer-erererr"}, "reply_to_user": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1542792738, "post_id": 53399881, "comment_id": 93692803, "body": "2018-11-21 02:24:09.543 1893-1907/system_process I/GnssLocationProvider: WakeLock released by handleMessage(REPORT_SV_STATUS, 0, com.android.server.location.GnssLocationProvider$SvStatusInf&zwnj;&#8203;o@f7129de)"}, {"owner": {"reputation": 31, "user_id": 10650255, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_Gg_Fn_4764/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA478s61TD-77eUcWNGGWVD5gsoyg/mo/photo.jpg?sz=128", "display_name": "terer erererr", "link": "https://stackoverflow.com/users/10650255/terer-erererr"}, "reply_to_user": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1542792753, "post_id": 53399881, "comment_id": 93692817, "body": "Nothing useful error message."}, {"owner": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1542793145, "post_id": 53399881, "comment_id": 93693058, "body": "remove <code>super.onCodeSent(s, forceResendingToken);</code> on <code>onCodeSent</code>"}, {"owner": {"reputation": 31, "user_id": 10650255, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_Gg_Fn_4764/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA478s61TD-77eUcWNGGWVD5gsoyg/mo/photo.jpg?sz=128", "display_name": "terer erererr", "link": "https://stackoverflow.com/users/10650255/terer-erererr"}, "reply_to_user": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1542793709, "post_id": 53399881, "comment_id": 93693425, "body": "Disabled this line but still I didn&#39;t receive the OTP number. //super.onCodeSent(s, forceResendingToken);"}, {"owner": {"reputation": 31, "user_id": 10650255, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_Gg_Fn_4764/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA478s61TD-77eUcWNGGWVD5gsoyg/mo/photo.jpg?sz=128", "display_name": "terer erererr", "link": "https://stackoverflow.com/users/10650255/terer-erererr"}, "reply_to_user": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1542794261, "post_id": 53399881, "comment_id": 93693743, "body": "@RakeshKumar I think onVerificationCompleted method is not working for me becuase I am not getting the code value. What might be the issue?"}, {"owner": {"reputation": 163, "user_id": 13233657, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gh8GMFY0_imONNeOYIeFGR4pscENQNAKbzxUDfP=k-s128", "display_name": "50_Seconds _Of_Coding", "link": "https://stackoverflow.com/users/13233657/50-seconds-of-coding"}, "edited": false, "score": 0, "creation_date": 1606599088, "post_id": 53399881, "comment_id": 115010947, "body": "Are you using emulator cause on emulators it will not work ? And check if you are providing your country code before your number suppose in my case it&#39;s +91"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 10650255, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_Gg_Fn_4764/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA478s61TD-77eUcWNGGWVD5gsoyg/mo/photo.jpg?sz=128", "display_name": "terer erererr", "link": "https://stackoverflow.com/users/10650255/terer-erererr"}, "edited": false, "score": 0, "creation_date": 1542795680, "post_id": 53409728, "comment_id": 93694547, "body": "I compared your code and my code both looks same but still not sure why the method is invoked."}, {"owner": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "reply_to_user": {"reputation": 31, "user_id": 10650255, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_Gg_Fn_4764/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA478s61TD-77eUcWNGGWVD5gsoyg/mo/photo.jpg?sz=128", "display_name": "terer erererr", "link": "https://stackoverflow.com/users/10650255/terer-erererr"}, "edited": false, "score": 0, "creation_date": 1542795780, "post_id": 53409728, "comment_id": 93694621, "body": "Which method not invoked in this code? Did you give that try??"}, {"owner": {"reputation": 31, "user_id": 10650255, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_Gg_Fn_4764/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA478s61TD-77eUcWNGGWVD5gsoyg/mo/photo.jpg?sz=128", "display_name": "terer erererr", "link": "https://stackoverflow.com/users/10650255/terer-erererr"}, "edited": false, "score": 0, "creation_date": 1542796403, "post_id": 53409728, "comment_id": 93694995, "body": "@Override         public void onVerificationCompleted(PhoneAuthCredential phoneAuthCredential) {              Log.d(TAG,&quot;onVerificationCompleted:&quot; + phoneAuthCredential);              String code = phoneAuthCredential.getSmsCode();            // String code=&quot;000000&quot;;             if (code != null) {                 editText.setText(code);               // verifyCode(code);                 signInWithCredential(phoneAuthCredential);                  System.out.println(&quot;Hello Phone Number2&quot;+code);             }           }"}, {"owner": {"reputation": 31, "user_id": 10650255, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_Gg_Fn_4764/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA478s61TD-77eUcWNGGWVD5gsoyg/mo/photo.jpg?sz=128", "display_name": "terer erererr", "link": "https://stackoverflow.com/users/10650255/terer-erererr"}, "edited": false, "score": 0, "creation_date": 1542796417, "post_id": 53409728, "comment_id": 93695007, "body": "this method is having issue now."}, {"owner": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "reply_to_user": {"reputation": 31, "user_id": 10650255, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_Gg_Fn_4764/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA478s61TD-77eUcWNGGWVD5gsoyg/mo/photo.jpg?sz=128", "display_name": "terer erererr", "link": "https://stackoverflow.com/users/10650255/terer-erererr"}, "edited": false, "score": 0, "creation_date": 1542796637, "post_id": 53409728, "comment_id": 93695159, "body": "Have you tried this code that I shared above??? was that worked for you?? Are you getting the exception of firebase or any other exception???"}, {"owner": {"reputation": 31, "user_id": 10650255, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_Gg_Fn_4764/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA478s61TD-77eUcWNGGWVD5gsoyg/mo/photo.jpg?sz=128", "display_name": "terer erererr", "link": "https://stackoverflow.com/users/10650255/terer-erererr"}, "edited": false, "score": 0, "creation_date": 1542817697, "post_id": 53409728, "comment_id": 93707383, "body": "Your code looks pretty much same but my concern is why my code is not working?"}], "tags": [], "owner": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1542795172, "creation_date": 1542795172, "answer_id": 53409728, "question_id": 53399881, "link": "https://stackoverflow.com/questions/53399881/not-receiving-fire-base-otp-message/53409728#53409728", "title": "Not Receiving Fire base OTP message", "body": "<p>Use like this following:</p>\n\n<p><code>onCreate</code></p>\n\n<pre><code>mAuth = FirebaseAuth.getInstance();\nmCallbacks = new PhoneAuthProvider.OnVerificationStateChangedCallbacks()\n        {\n\n            @Override\n            public void onVerificationCompleted(PhoneAuthCredential credential)\n            {\n                // This callback will be invoked in two situations:\n                // 1 - Instant verification. In some cases the phone number can be instantly\n                //     verified without needing to send or enter a verification code.\n                // 2 - Auto-retrieval. On some devices Google Play services can automatically\n                //     detect the incoming verification SMS and perform verificaiton without\n                //     user action.\n                Log.d(TAG, \"onVerificationCompleted:\" + credential);\n\n                Log.e(\"number\",\"credential=-=-=&gt;&gt;&gt;&lt;&lt;&gt;&gt;&gt;signInWithPhoneAuthCredential--&gt;&gt;\");\n                signInWithPhoneAuthCredential(credential);\n\n            }\n            @Override\n            public void onVerificationFailed(FirebaseException e)\n            {\n                // This callback is invoked in an invalid request for verification is made,\n                // for instance if the the phone number format is not valid.\n                Log.e(TAG, \"onVerificationFailed\", e);\n\n                // Show a message and update the UI\n                // ...\n            }\n\n\n\n            @Override\n            public void onCodeSent(String verificationId,\n                                   PhoneAuthProvider.ForceResendingToken token)\n            {\n\n                // The SMS verification code has been sent to the provided phone number, we\n                // now need to ask the user to enter the code and then construct a credential\n                // by combining the code with a verification ID.\n                Log.e(TAG, \"onCodeSent:\" + verificationId+\"&lt;&lt;token&gt;&gt;\"+token);\n\n                // Save verification ID and resending token so we can use them later\n                mVerificationId = verificationId;\n\n                //mResendToken = token;\n\n                // ...\n            }\n        };\n\n        //String phoneNumber=Settings.PREFIX + Settings.PREFIX_PHONE;\n\n        String phoneNumber=\"your phone number with prefix\";\n\n        Log.e(\"number\",\"credential=-=-=&gt;&gt;&gt;22222&gt;&gt;\"+phoneNumber);\n\n        if(phoneNumber!=null &amp;&amp; !phoneNumber.isEmpty())\n        {\n            startPhoneNumberVerification(phoneNumber);\n        }\n</code></pre>\n\n<p>Method:</p>\n\n<pre><code>private void startPhoneNumberVerification(String phoneNumber)\n    {\n        Log.e(\"startPhoneNumber\",\"startPhoneNumberVerification------&gt;&gt;\"+phoneNumber);\n        PhoneAuthProvider.getInstance().verifyPhoneNumber(\n                phoneNumber,        // Phone number to verify\n                60,                 // Timeout duration\n                TimeUnit.SECONDS,   // Unit of timeout\n                this,               // Activity (for callback binding)\n                mCallbacks);        // OnVerificationStateChangedCallbacks\n        Log.e(\"startPhoneNumber\",\"startPhoneNumberVerification--2222222----&gt;&gt;\"+phoneNumber);\n    }\n</code></pre>\n\n<p>Method:</p>\n\n<pre><code>private void signInWithPhoneAuthCredential(PhoneAuthCredential credential)\n    {\n        mAuth.signInWithCredential(credential)\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;()\n                {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task)\n                    {\n                        if (task.isSuccessful())\n                        {\n                            // Sign in success, update UI with the signed-in user's information\n                            Log.e(TAG, \"signInWithCredential:success\");\n\n\n\n                        } else\n                            {\n                            // Sign in failed, display a message and update the UI\n                            Log.e(TAG, \"signInWithCredential:failure\", task.getException());\n                            if (task.getException() instanceof FirebaseAuthInvalidCredentialsException)\n                            {\n\n                            }\n                        }\n                    }\n                });\n    }\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10650255, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_Gg_Fn_4764/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA478s61TD-77eUcWNGGWVD5gsoyg/mo/photo.jpg?sz=128", "display_name": "terer erererr", "link": "https://stackoverflow.com/users/10650255/terer-erererr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2217, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1585569311, "creation_date": 1542740788, "last_edit_date": 1542782287, "question_id": 53399881, "link": "https://stackoverflow.com/questions/53399881/not-receiving-fire-base-otp-message", "title": "Not Receiving Fire base OTP message", "body": "<p>I am new to Android development. I am not getting OTP message from Fire base but if I enter the code manually then it works. I am not sure why I am not getting text message. Your help is highly appreciated. I am not sure whether I am doing correctly sendVerificationcode method correctly or not. </p>\n\n<p>Steps Completed:\n 1) I added GSON file to app directory\n 2) I added test phone number in the firebase console\n 3) I added SHA1 code to fire base\n 4) I added SMS permission in the Android manifest file.\n 5) I enabled firebase authentication in Android studio\n 6) I tried different phone numbers too</p>\n\n<pre><code>VerifyPhoneActivity.java\npublic class VerifyPhoneActivity extends AppCompatActivity {\n\n\n    private String verificationId;\n    private FirebaseAuth mAuth;\n    private ProgressBar progressBar;\n    private EditText editText;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_verify_phone);\n\n        mAuth = FirebaseAuth.getInstance();\n\n        progressBar = findViewById(R.id.progressbar);\n        editText = findViewById(R.id.editTextCode);\n\n        String phonenumber = getIntent().getStringExtra(\"phonenumber\");\n        sendVerificationCode(phonenumber);\n\n        findViewById(R.id.buttonSignIn).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                String code = editText.getText().toString().trim();\n\n                if (code.isEmpty() || code.length() &lt; 6) {\n\n                    editText.setError(\"Enter code...\");\n                    editText.requestFocus();\n                    return;\n                }\n              verifyCode(code);\n            }\n        });\n\n    }\n\n   private void verifyCode(String code) {\n    PhoneAuthCredential credential = PhoneAuthProvider.getCredential(verificationId, code);\n    signInWithCredential(credential);\n }\n\n\n\n    private void signInWithCredential(PhoneAuthCredential credential) {\n  // private void signInWithCredential(PhoneAuthCredential) {\n        mAuth.signInWithCredential(credential)\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n\n                            Intent intent = new Intent(VerifyPhoneActivity.this, ProfileActivity.class);\n                            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n\n                            startActivity(intent);\n\n                        } else {\n                            Toast.makeText(VerifyPhoneActivity.this, task.getException().getMessage(), Toast.LENGTH_LONG).show();\n                        }\n                    }\n                });\n    }\n\n    private void sendVerificationCode(String number) {\n        progressBar.setVisibility(View.VISIBLE);\n        PhoneAuthProvider.getInstance().verifyPhoneNumber(\n                number,\n                60,\n                TimeUnit.SECONDS,\n                TaskExecutors.MAIN_THREAD,\n                mCallBack\n        );\n\n    }\n\n    private PhoneAuthProvider.OnVerificationStateChangedCallbacks\n            mCallBack = new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\n\n        @Override\n        public void onCodeSent(String s, PhoneAuthProvider.ForceResendingToken forceResendingToken) {\n            super.onCodeSent(s, forceResendingToken);\n            verificationId = s;\n        }\n\n        @Override\n        public void onVerificationCompleted(PhoneAuthCredential phoneAuthCredential) {\n            String code = phoneAuthCredential.getSmsCode();\n            if (code != null) {\n                editText.setText(code);\n                verifyCode(code);\n            }\n\n            System.out.println(\"Hello Phone Number\"+code);\n        }\n\n        @Override\n        public void onVerificationFailed(FirebaseException e) {\n            Toast.makeText(VerifyPhoneActivity.this, e.getMessage(), Toast.LENGTH_LONG).show();\n        }\n    };\n}\n</code></pre>\n\n<p>Below code looks like not working:</p>\n\n<pre><code>@Override\npublic void onVerificationCompleted(PhoneAuthCredential phoneAuthCredential) {\n    String code = phoneAuthCredential.getSmsCode();\n   // String code=\"000000\";\n    if (code != null) {\n        editText.setText(code);\n        verifyCode(code);\n    }\n\n    System.out.println(\"Hello Phone Number2\"+code);\n}\n</code></pre>\n"}, {"tags": ["javafx", "web-applications", "kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 420, "user_id": 9359459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9o8Pi.png?s=128&g=1", "display_name": "charles Lgn", "link": "https://stackoverflow.com/users/9359459/charles-lgn"}, "edited": false, "score": 0, "creation_date": 1542791029, "post_id": 53402707, "comment_id": 93691798, "body": "I don&#39;t say it is the best way but I saw an <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf\" rel=\"nofollow noreferrer\">Oracle Document</a>, a <a href=\"https://stackoverflow.com/questions/19102000/javafx-can-it-really-be-deployed-in-a-browser\">stack of JFX on Browser</a> and an explaination of oracle to <a href=\"https://docs.oracle.com/javafx/2/get_started/basic_deployment.htm\" rel=\"nofollow noreferrer\">run as a webapp</a> so it is maybe possible no ?"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 420, "user_id": 9359459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9o8Pi.png?s=128&g=1", "display_name": "charles Lgn", "link": "https://stackoverflow.com/users/9359459/charles-lgn"}, "edited": false, "score": 1, "creation_date": 1542801362, "post_id": 53402707, "comment_id": 93697771, "body": "That document is talking about deployment through a web browser, not actually running the application in the browser. JNLP deployment is still supported, but does not actually use the browser to run your application."}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 4, "last_activity_date": 1542753851, "creation_date": 1542753851, "answer_id": 53402707, "question_id": 53399873, "link": "https://stackoverflow.com/questions/53399873/kotlin-fx-can-a-tornadofx-app-be-deploy-as-a-web-app/53402707#53402707", "title": "Kotlin FX - Can a TornadoFx App be deploy as a web app?", "body": "<p>Anything you can do with JavaFX, you can do with TornadoFX, as it is basically a higher level API on top of JavaFX. </p>\n\n<p>JavaFX itself has no rendering capability that targets the web, but JPro has rather geniously made that possible by \"rendering\" the JavaFX UI as SVG directly to the browser using WebSockets.</p>\n\n<p>Infact, TornadoFX has special support to make it easier to create JPro based apps.</p>\n\n<p>Your starting point would be <a href=\"https://www.jpro.one/\" rel=\"nofollow noreferrer\">https://www.jpro.one/</a></p>\n\n<p>The TornadoFX guide contains information about how to use JPro as well:</p>\n\n<p><a href=\"https://github.com/edvin/tornadofx-guide/blob/master/part2/Scopes.md#using-tornadofx-with-jpro\" rel=\"nofollow noreferrer\">https://github.com/edvin/tornadofx-guide/blob/master/part2/Scopes.md#using-tornadofx-with-jpro</a></p>\n\n<p>JPro is a commercial offering, starting av 99 EURO per month for one server with 8GB memory at the time of writing (2018-11-20). Each user would get their own instance of the application, though still running within the same JVM.</p>\n\n<p>While this system works remarkably well, it is best suited for situations where there is low latency and preferably high bandwidth between the client and the server, as every event will be transferred over the WebSocket connection. It would typically be a bad choice for a public facing web page, but it is doable. In fact, <a href=\"http://jpro.one\" rel=\"nofollow noreferrer\">http://jpro.one</a> is actually a JavaFX app!</p>\n\n<p>Disclaimer: I am not affiliated with JPro, I'm merely telling you about the (only) way to make JavaFX apps available through the browser.</p>\n"}], "owner": {"reputation": 420, "user_id": 9359459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9o8Pi.png?s=128&g=1", "display_name": "charles Lgn", "link": "https://stackoverflow.com/users/9359459/charles-lgn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1164, "favorite_count": 1, "accepted_answer_id": 53402707, "answer_count": 1, "score": 0, "last_activity_date": 1542887238, "creation_date": 1542740746, "last_edit_date": 1542887238, "question_id": 53399873, "link": "https://stackoverflow.com/questions/53399873/kotlin-fx-can-a-tornadofx-app-be-deploy-as-a-web-app", "title": "Kotlin FX - Can a TornadoFx App be deploy as a web app?", "body": "<p>I am interested in Kotlin GUI system and I found Tornado FX.</p>\n\n<p>I noticed that we can transform javaFX app as a webapp, so my question is : Can we do the same with Tornado FX and if we can, How should we do that?</p>\n"}, {"tags": ["java", "kotlin", "jackson", "objectmapper"], "owner": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542740399, "creation_date": 1542740399, "question_id": 53399798, "link": "https://stackoverflow.com/questions/53399798/objectmapper-desserialize-flattened-object", "title": "ObjectMapper - Desserialize flattened object", "body": "<p>I have the following class that uses internally a HashMap:</p>\n\n<pre><code>open class I18n&lt;T&gt; {\n\n    var i18n: MutableMap&lt;LanguageEnum, T?&gt; = mutableMapOf()\n        @JsonAnyGetter get\n\n    fun add(lang: LanguageEnum, value: T?) {\n        i18n[lang] = value\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>Thanks to the <code>@JsonAnyGetter</code> annotation, when I serialize this into Json I have the following format:</p>\n\n<pre><code>{\n    \"pt\": \"Texto exemplo\",\n    \"en\": \"Example text\"\n}\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>{\n    i18n: {\n        \"pt\": \"Texto exemplo\",\n        \"en\": \"Example text\"\n    }\n}\n</code></pre>\n\n<p>Now I need to make the way back. I have a HashMap containing the languages key and I need to desserialize it into my <code>I18n</code> object.</p>\n\n<p>The caveat here is that I'm doing this among a lot of reflections and abstractions and it would be really nice if it could work like this:</p>\n\n<pre><code>// Here I am going through the fields of a given POJO. \n// One of those fields is a I18n type. \n// My model variable is a Map containing the same keys as my POJO field's name, so I'm basically trying to map them all\nfor (f in fields) {\n    if (model.containsKey(f.name)) {\n\n        // when f.type is I18n, value is a HashMap&lt;string, string&gt;\n        val value = model[f.name]\n        f.isAccessible = true\n\n        // when f.type is I18n.class, the field is set to an empty instance of I18n because it could not desserialize\n        f.set(dto, mapper.convertValue(value, f.type))\n        f.isAccessible = false\n    }\n}\n</code></pre>\n\n<p>I would not like to do things like:</p>\n\n<pre><code>if (f.type === I18n.class) {\n    // Special treatment\n}\n</code></pre>\n\n<p>Any ideas? Thanks in advance.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1542741241, "post_id": 53399750, "comment_id": 93675047, "body": "You can&#39;t do that directly. You can declare an enum and convert each enum entry from/to a string if needed."}], "answers": [{"comments": [{"owner": {"reputation": 59187, "user_id": 1463, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d9f2c02c23a3013166710a1d24bca056?s=128&d=identicon&r=PG", "display_name": "Guy", "link": "https://stackoverflow.com/users/1463/guy"}, "edited": false, "score": 0, "creation_date": 1542841379, "post_id": 53401000, "comment_id": 93717698, "body": "Thanks @s1m0nw1 - if the strings had spaces or other wacky characters how would you change the solution?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 59187, "user_id": 1463, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d9f2c02c23a3013166710a1d24bca056?s=128&d=identicon&r=PG", "display_name": "Guy", "link": "https://stackoverflow.com/users/1463/guy"}, "edited": false, "score": 0, "creation_date": 1542841949, "post_id": 53401000, "comment_id": 93717889, "body": "You can add properties to enums like with normal classes. I will adjust the answer"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1542842050, "last_edit_date": 1542842050, "creation_date": 1542745546, "answer_id": 53401000, "question_id": 53399750, "link": "https://stackoverflow.com/questions/53399750/how-to-declare-a-kotlin-type-of-a-fixed-set-of-strings/53401000#53401000", "title": "How to declare a Kotlin type of a fixed set of strings?", "body": "<p>In Kotlin, you would create an <code>enum</code> for this</p>\n\n<pre><code>enum class Status {\n    GOOD, MEDIUM, POOR\n}\n</code></pre>\n\n<p>In this basic case, you can then use the <code>enum</code> constant's <code>name</code> as follows:</p>\n\n<pre><code>val state: Status = Status.MEDIUM\nval stateString: String = state.name\n</code></pre>\n\n<p>If you want to have more sophisticated enums, you can give them custom properties:</p>\n\n<pre><code>enum class Status(val description: String) {\n    GOOD(\"Good State\"), MEDIUM(\"Medium State\"), POOR(\"Poor State\")\n}\n</code></pre>\n"}], "owner": {"reputation": 59187, "user_id": 1463, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d9f2c02c23a3013166710a1d24bca056?s=128&d=identicon&r=PG", "display_name": "Guy", "link": "https://stackoverflow.com/users/1463/guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 53401000, "answer_count": 1, "score": 1, "last_activity_date": 1542842050, "creation_date": 1542740224, "question_id": 53399750, "link": "https://stackoverflow.com/questions/53399750/how-to-declare-a-kotlin-type-of-a-fixed-set-of-strings", "title": "How to declare a Kotlin type of a fixed set of strings?", "body": "<p>In Typescript I can declare a limited set of strings as a type:</p>\n\n<pre><code>declare type Status = 'GOOD' | 'MEDIUM' | 'POOR';\n</code></pre>\n\n<p>and I can then use this type to restrict the strings assigned to the <code>status</code> property:</p>\n\n<pre><code>interface Foo {\n  status: Status;\n}\n</code></pre>\n\n<p>How do I do that in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "edited": false, "score": 0, "creation_date": 1542738605, "post_id": 53399256, "comment_id": 93673800, "body": "I have already looked here (<a href=\"https://stackoverflow.com/questions/46445964/room-not-sure-how-to-convert-a-cursor-to-this-methods-return-type-which-meth?rq=1\" title=\"room not sure how to convert a cursor to this methods return type which meth\">stackoverflow.com/questions/46445964/&hellip;</a>) and I have already tried returning <code>LiveData&lt;List&lt;BigDog&gt;&gt;</code>. I still get the same error."}, {"owner": {"reputation": 361, "user_id": 6265187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a210f1f5873fa4eddd160f6a5c746d4?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Anand", "link": "https://stackoverflow.com/users/6265187/shubham-anand"}, "edited": false, "score": 0, "creation_date": 1565949593, "post_id": 53399256, "comment_id": 101511782, "body": "I am also facing the same problem. Did you get the solution?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7245896, "user_type": "registered", "profile_image": "https://graph.facebook.com/1334459303254770/picture?type=large", "display_name": "Andrii Kichmarenko", "link": "https://stackoverflow.com/users/7245896/andrii-kichmarenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1544362557, "creation_date": 1544362557, "answer_id": 53692872, "question_id": 53399256, "link": "https://stackoverflow.com/questions/53399256/not-sure-how-to-convert-a-cursor-to-this-methods-return-type/53692872#53692872", "title": "Not sure how to convert a Cursor to this method&#39;s return type", "body": "<p>Check your app gradle file. Try don't mix Pre-AndroidX and AndroidX components dependencies in your project.<br>Pay attention to dependencies namespace group. They should have a similar beginning.<br>In my example it's <code>\"android.arch.____:X.X.X\"</code> </p>\n\n<pre><code>dependencies{\n   ...\n\n   def lifecycle_version = \"1.1.1\"\n   def room_version = \"1.1.1\"\n\n   // Lifecycle components\n   implementation \"android.arch.lifecycle:extensions:$lifecycle_version\"\n   annotationProcessor \"android.arch.lifecycle:compiler:$lifecycle_version\"\n\n   // Room components\n   implementation \"android.arch.persistence.room:runtime:$room_version\"\n   annotationProcessor \"android.arch.persistence.room:compiler:$room_version\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 211, "user_id": 7942905, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b732710568dcd44ecff443f0883cfb9f?s=128&d=identicon&r=PG&f=1", "display_name": "noob-Sci-Bot", "link": "https://stackoverflow.com/users/7942905/noob-sci-bot"}, "edited": false, "score": 0, "creation_date": 1567510275, "post_id": 56499603, "comment_id": 101976663, "body": "This is a valuable answer. Thanks."}], "tags": [], "owner": {"reputation": 643, "user_id": 9301369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/995818df21b57ba633e4ed9fd08d9957?s=128&d=identicon&r=PG&f=1", "display_name": "nickc", "link": "https://stackoverflow.com/users/9301369/nickc"}, "is_accepted": false, "score": 1, "last_activity_date": 1559932214, "creation_date": 1559932214, "answer_id": 56499603, "question_id": 53399256, "link": "https://stackoverflow.com/questions/53399256/not-sure-how-to-convert-a-cursor-to-this-methods-return-type/56499603#56499603", "title": "Not sure how to convert a Cursor to this method&#39;s return type", "body": "<p>Check the logs when you deploy to see if there are any notifications besides this error. If there are go through and fix them. It is possible to get this error if there is something wrong somewhere else wrong with your room code.</p>\n\n<p>For my specific problem it was that I accidentally added a duplicate variable to one of my entities.</p>\n\n<pre><code>public int routeId;\n/* other code */\npublic int routeid; \n</code></pre>\n\n<p>This caused this warning to pop up in the build log.</p>\n\n<blockquote>\n  <p>Room cannot create an SQLite connection to verify the queries. Query verification will be disabled. Error: [SQLITE_ERROR] SQL error or missing database (duplicate column name: routeId)</p>\n</blockquote>\n\n<p>I went through and fixed everything up so there was no warnings and Query verification was re-enabled and I no longer got</p>\n\n<blockquote>\n  <p>error: Not sure how to convert a Cursor to this method's return type.</p>\n</blockquote>\n"}], "owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4203, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1559979015, "creation_date": 1542738338, "last_edit_date": 1559979015, "question_id": 53399256, "link": "https://stackoverflow.com/questions/53399256/not-sure-how-to-convert-a-cursor-to-this-methods-return-type", "title": "Not sure how to convert a Cursor to this method&#39;s return type", "body": "<p>I am quite baffled here. So maybe someone can shed some light for me. I have what seems to be a simple pattern (full code below), and yet I am getting compiler error saying </p>\n\n<blockquote>\n  <p>error: Not sure how to convert a Cursor to this method's return\n  type.</p>\n</blockquote>\n\n<p>What's the problem? I am on <code>room_version = \"2.1.0-alpha02\"</code></p>\n\n<pre><code>@Entity(tableName = \"big_dog\")\nclass BigDog(val big: Boolean, @PrimaryKey val id:Int=1)\n\n@Dao\ninterface BigDogDao {\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insert(dog: BigDog)\n\n    @Query(\"SELECT * FROM big_dog LIMIT 1\")\n    fun getBigDog(): LiveData&lt;BigDog&gt;\n\n}\n</code></pre>\n"}, {"tags": ["java", "javafx", "kotlin"], "comments": [{"owner": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "edited": false, "score": 0, "creation_date": 1542740980, "post_id": 53398392, "comment_id": 93674910, "body": "Is that the full stack trace of your <code>LoadException</code>?"}, {"owner": {"reputation": 135, "user_id": 6651906, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U58io.jpg?s=128&g=1", "display_name": "Liz3", "link": "https://stackoverflow.com/users/6651906/liz3"}, "reply_to_user": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "edited": false, "score": 0, "creation_date": 1542741277, "post_id": 53398392, "comment_id": 93675065, "body": "no, here the full stacktrace: <a href=\"https://hastebin.com/lesorudewa.cs\" rel=\"nofollow noreferrer\">hastebin.com/lesorudewa.cs</a>"}, {"owner": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "edited": false, "score": 0, "creation_date": 1542741476, "post_id": 53398392, "comment_id": 93675170, "body": "Ohhhh... FXML is using the built in classloader to load the FX beans, which of course doesn&#39;t know about those classes."}, {"owner": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "edited": false, "score": 0, "creation_date": 1542742026, "post_id": 53398392, "comment_id": 93675426, "body": "You&#39;ll probably need to call <code>FXMLLoader.setClassLoader(urlClassLoader)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 6651906, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U58io.jpg?s=128&g=1", "display_name": "Liz3", "link": "https://stackoverflow.com/users/6651906/liz3"}, "edited": false, "score": 0, "creation_date": 1542741069, "post_id": 53399212, "comment_id": 93674960, "body": "&gt; &quot;So, correct me if I&#39;m wrong, but it seems like the method is being invoked but is throwing a javafx.fxml.LoadException which gets wrapped by the other two exceptions. My guess is that the new URLClassLoader you create is missing some FXML files that it&#39;s trying to load. What is the full stack trace of your LoadException?&quot; - Correct"}, {"owner": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "reply_to_user": {"reputation": 135, "user_id": 6651906, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U58io.jpg?s=128&g=1", "display_name": "Liz3", "link": "https://stackoverflow.com/users/6651906/liz3"}, "edited": false, "score": 0, "creation_date": 1542741153, "post_id": 53399212, "comment_id": 93675005, "body": "Did you find which resources it was trying to load, and make sure they are included in your Classloader?"}, {"owner": {"reputation": 135, "user_id": 6651906, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U58io.jpg?s=128&g=1", "display_name": "Liz3", "link": "https://stackoverflow.com/users/6651906/liz3"}, "edited": false, "score": 0, "creation_date": 1542741435, "post_id": 53399212, "comment_id": 93675146, "body": "No, since i don&#180;t exactly know how to load them, i am assuming: <code>val child = URLClassLoader(                     arrayOf(URL(ideFile.toURI().toURL().toString())), Installer::class.java.classLoader)</code> is loading all classes and resources."}, {"owner": {"reputation": 135, "user_id": 6651906, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U58io.jpg?s=128&g=1", "display_name": "Liz3", "link": "https://stackoverflow.com/users/6651906/liz3"}, "edited": false, "score": 0, "creation_date": 1542742074, "post_id": 53399212, "comment_id": 93675452, "body": "&gt; &quot;You should instead consider creating a new class loader for that.&quot; Seams like the best solution"}, {"owner": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "reply_to_user": {"reputation": 135, "user_id": 6651906, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U58io.jpg?s=128&g=1", "display_name": "Liz3", "link": "https://stackoverflow.com/users/6651906/liz3"}, "edited": false, "score": 0, "creation_date": 1542742160, "post_id": 53399212, "comment_id": 93675500, "body": "I think you&#39;ve already covered that part with creating the <code>URLClassLoader</code>, I think now you just need to set that classloader on your <code>FXMLLoader</code>."}, {"owner": {"reputation": 135, "user_id": 6651906, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U58io.jpg?s=128&g=1", "display_name": "Liz3", "link": "https://stackoverflow.com/users/6651906/liz3"}, "edited": false, "score": 0, "creation_date": 1542742369, "post_id": 53399212, "comment_id": 93675587, "body": "Yeah right, but that needs to happen in the new process right? So adding a function to the loaded jar which sets the ClassLoader and invoking that function through reflection"}, {"owner": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "reply_to_user": {"reputation": 135, "user_id": 6651906, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U58io.jpg?s=128&g=1", "display_name": "Liz3", "link": "https://stackoverflow.com/users/6651906/liz3"}, "edited": false, "score": 0, "creation_date": 1542742736, "post_id": 53399212, "comment_id": 93675780, "body": "Yea, I think the <code>CoreManager</code> class that was loading the fxml needs to set the classloader on the <code>FXMLLoader</code>. Read the source of <code>FXMLLoader</code> to get an idea of how it handles class loading. You might also be able to set a <code>SecurityManager</code> to help get past this issue."}], "tags": [], "owner": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "is_accepted": true, "score": 4, "last_activity_date": 1542743674, "last_edit_date": 1592644375, "creation_date": 1542738128, "answer_id": 53399212, "question_id": 53398392, "link": "https://stackoverflow.com/questions/53398392/jdk-11-run-a-jar-archive-through-reflection-which-depends-on-libraries/53399212#53399212", "title": "(JDK 11) Run a JAR Archive through reflection which depends on Libraries", "body": "<p>When you are using the new <code>URLClassLoader</code> it seems like the method <strong>is</strong> being invoked but is throwing a <code>javafx.fxml.LoadException</code> which gets wrapped by the <code>PrivilegedActionException</code> and <code>InvocationTargetException</code>.</p>\n<p>Even though you load your class with your own <code>URLClassloader</code> it looks like the FXML parser is trying to load the FX beans with the built-in classloader, which doesn't know about those classes in the FXML.</p>\n<p><strong>You'll need to make FXMLLoader use the right classloader that contains all the classes referenced by the fxml</strong>. Read the source of <code>FXMLLoader</code> to get an idea of how it handles classloading. You may need to modify the library doing the fxml loading if possible. Look into <code>FXMLLoader.setClassLoader(urlClassLoader)</code> or possibly setting a <code>SecurityManager</code> so that the <code>FXMLLoader</code> will use the calling classloader.</p>\n<hr />\n<p><code>FXMLLoader.java</code></p>\n<pre><code>/**\n * Returns the classloader used by this serializer.\n * @since JavaFX 2.1\n */\n@CallerSensitive\npublic ClassLoader getClassLoader() {\n    if (classLoader == null) {\n        final SecurityManager sm = System.getSecurityManager();\n        final Class caller = (sm != null) ?\n                Reflection.getCallerClass() :\n                null;\n        return getDefaultClassLoader(caller);\n    }\n    return classLoader;\n}\n\nprivate static ClassLoader getDefaultClassLoader(Class caller) {\n    if (defaultClassLoader == null) {\n        final SecurityManager sm = System.getSecurityManager();\n        if (sm != null) {\n            final ClassLoader callerClassLoader = (caller != null) ?\n                    caller.getClassLoader() :\n                    null;\n            if (needsClassLoaderPermissionCheck(callerClassLoader, FXMLLoader.class.getClassLoader())) {\n                sm.checkPermission(GET_CLASSLOADER_PERMISSION);\n            }\n        }\n        return Thread.currentThread().getContextClassLoader();\n    }\n    return defaultClassLoader;\n}\n</code></pre>\n<hr />\n<p>I had a guess that Java11 may have changed it's classloader.</p>\n<p>See <a href=\"https://blog.codefx.org/java/java-11-migration-guide/#Casting-To-URL-Class-Loader\" rel=\"nofollow noreferrer\">this link</a> (contents pasted below)</p>\n<blockquote>\n<p><strong>Casting To URL Class Loader</strong><br />\nJava 9 and the module system improved the platform\u2019s class loading strategy, which is implemented in a new type and in Java 11 the application class loader is of that type. That means it is not a <code>URLClassLoader</code>, anymore, so the occasional <code>(URLClassLoader) getClass().getClassLoader()</code> or <code>(URLClassLoader) ClassLoader.getSystemClassLoader()</code> sequences <strong>will no longer execute</strong>. This is another typical example where Java 11 is backwards compatible in the strict sense (because that it\u2019s a URLCassLoader was never specified) but which can nonetheless cause migration challenges.</p>\n<p><strong>Symptoms</strong><br />\nThis one is very obvious. You\u2019ll get a ClassCastException complaining that the new AppClassLoader is no URLClassLoader:</p>\n</blockquote>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException:\njava.base/jdk.internal.loader.ClassLoaders$AppClassLoader\ncannot be cast to java.base/java.net.URLClassLoader\n    at monitor.Main.logClassPathContent(Main.java:46)\n    at monitor.Main.main(Main.java:28)\n</code></pre>\n<blockquote>\n<p><strong>Fixes</strong><br />\nThe class loader was probably cast to access methods specific to URLClassLoader. If so, you might have to face some serious changes.<br />\n...<br />\nIf you\u2019ve used the <code>URLClassLoader</code> to dynamically load user provided code (for example as part of a plugin infrastructure) by appending to the class path, then you have to find a new way to do that as it can not be done with Java 11. <strong>You should instead consider creating a new class loader for that</strong>. This has the added advantage that you\u2019ll be able to get rid of the new classes as they are not loaded into the application class loader. You should also read up on layers \u2013 they give you a clean abstraction for loading an entirely new module graph.</p>\n</blockquote>\n"}], "owner": {"reputation": 135, "user_id": 6651906, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U58io.jpg?s=128&g=1", "display_name": "Liz3", "link": "https://stackoverflow.com/users/6651906/liz3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1218, "favorite_count": 0, "accepted_answer_id": 53399212, "answer_count": 1, "score": 4, "last_activity_date": 1542744056, "creation_date": 1542734869, "last_edit_date": 1542744056, "question_id": 53398392, "link": "https://stackoverflow.com/questions/53398392/jdk-11-run-a-jar-archive-through-reflection-which-depends-on-libraries", "title": "(JDK 11) Run a JAR Archive through reflection which depends on Libraries", "body": "<p><strong>Note</strong>: I have very little experience with the Module system introduced in Java 9.</p>\n\n<p>I have a Java Process which should run another Jar file by loading and executing it through reflection.\nNote that both Jar files depend on the JavaFX framework which got detached from the JDK in Version 11 and as a result could get loaded a second time.</p>\n\n<p>Here the Original version which worked on JDK version 8:</p>\n\n<pre><code>val ideFile = File(binFolder, \"Sk-IDE.jar\")\nval classLoader = ClassLoader.getSystemClassLoader() as URLClassLoader\nval method = URLClassLoader::class.java.getDeclaredMethod(\"addURL\", URL::class.java)\nmethod.isAccessible = true\nmethod.invoke(classLoader, ideFile.toURI().toURL())\nval coreManager = Class.forName(\"com.skide.CoreManager\")\nval instance = coreManager.newInstance()\ncoreManager.getDeclaredMethod(\"bootstrap\", Array&lt;String&gt;::class.java).invoke(instance, State.args)\n</code></pre>\n\n<p>(The Reflective call to addURL was necessary because otherwise the loader Jar was unable to load its fxml files)</p>\n\n<p>This approach throws this Exception on JDK 11:</p>\n\n<pre><code>java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader 'bootstrap')\n</code></pre>\n\n<p>The approach to create a new <code>URLClassLoader</code>:</p>\n\n<pre><code>val child = URLClassLoader(arrayOf(URL(ideFile.toURI().toURL().toString())), Installer::class.java.classLoader)\nval coreManager = Class.forName(\"com.skide.CoreManager\", true, child)\nval instance = coreManager.newInstance()\nPlatform.runLater {\n    coreManager.getDeclaredMethod(\"bootstrap\", Array&lt;String&gt;::class.java).invoke(instance, State.args)\n}\n</code></pre>\n\n<p>Throws a JavaFX related Exception:</p>\n\n<pre><code>Exception in thread \"JavaFX Application Thread\" [20.11.2018 20:13:41 | ERROR] java.security.PrivilegedActionException: java.lang.reflect.InvocationTargetException\n[20.11.2018 20:13:41 | ERROR]   at java.base/java.security.AccessController.doPrivileged(Native Method)\n[20.11.2018 20:13:41 | ERROR]   at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n[20.11.2018 20:13:41 | ERROR]   at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n[20.11.2018 20:13:41 | ERROR]   at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n[20.11.2018 20:13:41 | ERROR]   at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n[20.11.2018 20:13:41 | ERROR]   at java.base/java.lang.Thread.run(Thread.java:834)\n[20.11.2018 20:13:41 | ERROR] Caused by: java.lang.reflect.InvocationTargetException\n[20.11.2018 20:13:41 | ERROR]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[20.11.2018 20:13:41 | ERROR]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[20.11.2018 20:13:41 | ERROR]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[20.11.2018 20:13:41 | ERROR]   at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n[20.11.2018 20:13:41 | ERROR]   at com.skide.installer.Installer$start$2$1$1.run(Installer.kt:249)\n[20.11.2018 20:13:41 | ERROR]   at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n[20.11.2018 20:13:41 | ERROR]   ... 6 more\n[20.11.2018 20:13:41 | ERROR] Caused by: javafx.fxml.LoadException: \nunknown path:9\n\n[20.11.2018 20:13:41 | ERROR]   at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\n[20.11.2018 20:13:41 | ERROR]   at javafx.fxml.FXMLLoader.access$700(FXMLLoader.java:105)\n[20.11.2018 20:13:41 | ERROR]   at javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:930)\n[20.11.2018 20:13:41 | ERROR]   at javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:980)\n[20.11.2018 20:13:41 | ERROR]   at javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:227)\n[20.11.2018 20:13:41 | ERROR]   at javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:752)\n[20.11.2018 20:13:41 | ERROR]   at javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2722)\n[20.11.2018 20:13:41 | ERROR]   at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2552)\n[20.11.2018 20:13:41 | ERROR]   at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2450)\n[20.11.2018 20:13:41 | ERROR]   at com.skide.CoreManager$bootstrap$1.invoke(CoreManager.kt:47)\n[20.11.2018 20:13:41 | ERROR]   at com.skide.CoreManager$bootstrap$1.invoke(CoreManager.kt:24)\n[20.11.2018 20:13:41 | ERROR]   at com.skide.CoreManager.bootstrap(CoreManager.kt:136)\n[20.11.2018 20:13:41 | ERROR]   ... 12 more\n[20.11.2018 20:13:41 | ERROR] Caused by: java.lang.ClassNotFoundException: com.skide.gui.controllers.SplashGuiController\n[20.11.2018 20:13:41 | ERROR]   at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n[20.11.2018 20:13:41 | ERROR]   at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n[20.11.2018 20:13:41 | ERROR]   at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n[20.11.2018 20:13:41 | ERROR]   at javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:928)\n[20.11.2018 20:13:41 | ERROR]   ... 21 more\n</code></pre>\n\n<p>Whats the best way to solve this?</p>\n\n<p>Regards,\nLiz3</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>With the help of xtratic, the solution was actually straight forward:</p>\n\n<p>I simply added the <code>child</code> URLClassloader to the CoreManager#bootstrap reflective call, the bootstrap method of the CoreManager(loaded jar) than passes that URLClassloader to all FXML loaders.</p>\n"}, {"tags": ["android", "kotlin", "itext"], "comments": [{"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1542755002, "post_id": 53398299, "comment_id": 93681108, "body": "That code works only for very primitively built pdfs if at all. At the same time, though, it is dangerous and can damage the stream."}, {"owner": {"reputation": 165, "user_id": 9726895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a9c8ce076627c988360c247683ff06?s=128&d=identicon&r=PG&f=1", "display_name": "RodGers", "link": "https://stackoverflow.com/users/9726895/rodgers"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1542774582, "post_id": 53398299, "comment_id": 93685488, "body": "@mkl What other ways are there to change the text in pdf?"}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1542883972, "post_id": 53398299, "comment_id": 93732625, "body": "Usually text content in a PDF should be considered final. Adding some stuff is simple but removing specific parts is difficult. A dirty way would be to paint a white rectangle over the existing term and drawn the new one over it. A better way would involve the use of redaction methods which actually remove the pre-existing glyphs."}], "owner": {"reputation": 165, "user_id": 9726895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a9c8ce076627c988360c247683ff06?s=128&d=identicon&r=PG&f=1", "display_name": "RodGers", "link": "https://stackoverflow.com/users/9726895/rodgers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542751912, "creation_date": 1542734523, "last_edit_date": 1542751912, "question_id": 53398299, "link": "https://stackoverflow.com/questions/53398299/android-replace-text-in-pdf", "title": "Android replace text in pdf", "body": "<p>I tried to replace text in my pdf with IText library, but then I get Contents and get string from bytes. I get \n0.0800 7996 instead of letters/\nBut val text right string.</p>\n\n<pre><code>fun manipulatePdf(src: String, dest: String) {\n    val reader = PdfReader(src);\n    val dict = reader.getPageN(1);\n    val obj = dict.getDirectObject(PdfName.CONTENTS);\n    val text = PdfTextExtractor.getTextFromPage(reader, 1);\n\n    if (obj is PRStream) {\n        val data = PdfReader.getStreamBytes(obj);\n        val string = String(data)\n        string.replace(\"number\", \"1\")\n        obj.setData(string.toByteArray());\n    }\n\n    val stamper = PdfStamper(reader, FileOutputStream(dest));\n    stamper.close();\n    reader.close();\n}\n</code></pre>\n"}, {"tags": ["kotlin", "type-conversion"], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 0, "last_activity_date": 1542736502, "last_edit_date": 1542736502, "creation_date": 1542736154, "answer_id": 53398716, "question_id": 53397504, "link": "https://stackoverflow.com/questions/53397504/how-to-implement-custom-casting/53398716#53398716", "title": "How to implement custom casting", "body": "<p>Kotlin does not have implicit conversions, as an intentional design decision.  You would need to make it explicit.  You can do this either putting the burden on the caller, or on the receiver.</p>\n\n<p>For example, if I had:</p>\n\n\n\n<pre><code>class One() \nclass Two()\n\nobject Utilities {\n    fun foo(one: One) {\n      ...\n    }\n}\n</code></pre>\n\n<p>If I want to pass an instance of <code>Two</code> to <code>foo()</code> I would either:</p>\n\n<pre><code>// add extension function for explicit conversion:\nfun Two.toOne(): One { ... convert my instance to other type }\n\n// now caller must convert:\nUtilities.foo(myTwo.toOne())\n</code></pre>\n\n<p>The burden above is on the caller to convert, given this new extension function to do the conversion. This is typical of how Kotlin handles everything in the standard library.  </p>\n\n<p>But maybe you want to make it feel more implicit, so you could also add:</p>\n\n<pre><code>// add an extension to the callee, for implicit conversion:\nfun Utilities.foo(two: Two) { foo(two.toOne()) }\n\n// now caller doesn't have to convert:  \nUtilities.foo(myTwo)\n</code></pre>\n\n<p>Now the caller never sees the conversion, although they have to import your extension function and their IDE hopefully will auto-suggest this for them.  So it feels implicit but they had to choose to use that extension, which is easy to do.</p>\n\n<p>Notice that <em>none</em> of the <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extension functions</a> above needed any modifications to the actual classes.  These extensions can be imported individually or in the whole package import.  They can be done independently from classes you do or do not control.  They can be done from anywhere at any time.</p>\n\n<p>Final code, in its entirety:</p>\n\n<pre><code>// original classes\n\nclass One() \nclass Two()\n\nobject Utilities {\n    fun foo(one: One) {\n      ...\n    }\n}\n\n// extensions\n\nfun Two.toOne(): One { \n   // ... convert my instance to other type \n}\n\nfun Utilities.foo(two: Two) { foo(two.toOne()) }\n</code></pre>\n\n<p>And now you can use either model as your code style desires.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9303491"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 757, "favorite_count": 0, "accepted_answer_id": 53398716, "answer_count": 1, "score": 0, "last_activity_date": 1553543246, "creation_date": 1542731703, "last_edit_date": 1553543246, "question_id": 53397504, "link": "https://stackoverflow.com/questions/53397504/how-to-implement-custom-casting", "title": "How to implement custom casting", "body": "<p>I would like to implement custom conversion function of my class <code>Foo</code> to be able to pass it to the function that requres <code>Bar</code> object.</p>\n\n<p>Equivalent C++ construction <a href=\"https://en.cppreference.com/w/cpp/language/cast_operator\" rel=\"nofollow noreferrer\">https://en.cppreference.com/w/cpp/language/cast_operator</a></p>\n\n<pre><code>class Foo {\n    operator Bar () {...}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "colors", "sharedpreferences"], "answers": [{"comments": [{"owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "edited": false, "score": 0, "creation_date": 1542733259, "post_id": 53397642, "comment_id": 93671091, "body": "I understand your aproach, the problem is that despite all activities having some equal views, like the toolbar_layout where it is present on all activities, some of them have different views, like the add_button is only present on some activities. Would this work if it is the case?"}, {"owner": {"reputation": 251, "user_id": 1387323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDJlz.jpg?s=128&g=1", "display_name": "ahuja007", "link": "https://stackoverflow.com/users/1387323/ahuja007"}, "reply_to_user": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "edited": false, "score": 0, "creation_date": 1542795093, "post_id": 53397642, "comment_id": 93694225, "body": "for getting color settings you can add that function in BaseActivity and fr setting views only for those activity you have to manage by adding new function"}], "tags": [], "owner": {"reputation": 251, "user_id": 1387323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDJlz.jpg?s=128&g=1", "display_name": "ahuja007", "link": "https://stackoverflow.com/users/1387323/ahuja007"}, "is_accepted": false, "score": 1, "last_activity_date": 1542732197, "creation_date": 1542732197, "answer_id": 53397642, "question_id": 53397448, "link": "https://stackoverflow.com/questions/53397448/implement-a-color-setting/53397642#53397642", "title": "Implement a color setting", "body": "<p>You can create a <strong>BaseActivity</strong> extend every activity from this class and place <strong>setSettings</strong> function in <strong>BaseActivity</strong>. In that way you will only write <strong>setSettings</strong> only once</p>\n"}], "owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542732197, "creation_date": 1542731540, "question_id": 53397448, "link": "https://stackoverflow.com/questions/53397448/implement-a-color-setting", "title": "Implement a color setting", "body": "<p>In my application I have a settings screen that lets you change some colors of the application. I have defined the colorPrimary and colorPrimaryDark on my color resource file, and I know that after the build is complete, it is impossible to change those values.</p>\n\n<p>So the way I am doing this is by saving the color Integer in the SharedPreferences:</p>\n\n<pre><code>private val preferences = context.getSharedPreferences(\"my.package.name\", Context.MODE_PRIVATE)\n\nvar primaryColor: Int\n    get() = preferences.getInt(\"KEY_PRIMARY_COLOR\", ContextCompat.getColor(context, R.color.color_primary))\n    set(color) {\n        val editor = preferences.edit()\n        editor.putInt(\"KEY_PRIMARY_COLOR\", color)\n        editor.apply()\n    }\n</code></pre>\n\n<p>And when the user start each activity, run a method to get the settings color and change the views color:</p>\n\n<pre><code>class MainActivity : FragmentActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.main_activity)\n        setSettings()\n    }\n\n    private fun setSettings() {\n        val settings = Settings(this)\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) window.statusBarColor = settings.secondaryColor\n        toolbar_layout.setBackgroundColor(settings.primaryColor)\n\n        add_button.backgroundTintList = ColorStateList.valueOf(settings.primaryColor)\n        add_button.rippleColor = settings.secondaryColor\n\n        //...\n    }\n}\n</code></pre>\n\n<p>My problem here is that doing like this, I have to repeat a lot of code for all activities. Also the activities are started with the \"default\" color when setContentView is run, and just after that I run the setSettings and I have to re-color all the views again.</p>\n\n<p>Is there any way to do this? I am concerned with repeated code and performance issues. What should be the best approach to do this?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1104, "user_id": 3271729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90fc036972c653f06e511ebe6bbdf4b?s=128&d=identicon&r=PG&f=1", "display_name": "Eamon Scullion", "link": "https://stackoverflow.com/users/3271729/eamon-scullion"}, "edited": false, "score": 0, "creation_date": 1542728719, "post_id": 53396527, "comment_id": 93668515, "body": "What directory is the file stored in? Why not add some print statements or breakpoints so you can see what it happening?"}, {"owner": {"reputation": 153, "user_id": 10318120, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7BnbfxPEmzY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNcSvbCrloLNFVvHmUuf8usi0d7Tg/mo/photo.jpg?sz=128", "display_name": "Leon Zaii", "link": "https://stackoverflow.com/users/10318120/leon-zaii"}, "reply_to_user": {"reputation": 1104, "user_id": 3271729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90fc036972c653f06e511ebe6bbdf4b?s=128&d=identicon&r=PG&f=1", "display_name": "Eamon Scullion", "link": "https://stackoverflow.com/users/3271729/eamon-scullion"}, "edited": false, "score": 0, "creation_date": 1542729343, "post_id": 53396527, "comment_id": 93668928, "body": "Can I have some example? I tried to put breakpoint at the <code>dbHelper?.writableDatabase.use { db -&gt;</code>, It will loop until it says &quot;Updating 200/1&quot;, Then jump to <code>return null</code>. No errors, So I don&#39;t know where should I fix. @EamonScullion"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1542767252, "post_id": 53396527, "comment_id": 93683938, "body": "try change <code>if</code> to <code>while</code> and see"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1543224381, "post_id": 53396527, "comment_id": 93826060, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/53476189/initialize-database-using-kotlin-in-asynctask\">Initialize database using kotlin in AsyncTask</a>"}], "owner": {"reputation": 153, "user_id": 10318120, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7BnbfxPEmzY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNcSvbCrloLNFVvHmUuf8usi0d7Tg/mo/photo.jpg?sz=128", "display_name": "Leon Zaii", "link": "https://stackoverflow.com/users/10318120/leon-zaii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542728415, "creation_date": 1542728415, "question_id": 53396527, "link": "https://stackoverflow.com/questions/53396527/how-to-import-data-into-the-app-using-kotlin", "title": "How to import data into the app using Kotlin?", "body": "<p>In my phone's Storage, There is a file which is \"<strong>MyFile.sql</strong>\". There are <strong>200 records</strong> at the file. What should I do is to import those 200 records into the app.</p>\n\n<p><strong>First, I just Initialize</strong> </p>\n\n<pre><code> llUpdate.setOnClickListener { UpgradeDB(txtUpdate!!).execute(\"\", \"\", \"\") }\n</code></pre>\n\n<p>After that, I start a <strong>method</strong>, I don't know why It found the file and read already, But it doesn't import to the app. Is this because I write <code>return = null</code> So it didn't import to the app?</p>\n\n<pre><code>override fun doInBackground(vararg params: String): String? {\n                val filename = \"MyFile.sql\"\n                val sdcard = Environment.getExternalStorageDirectory()\n                val file = File(sdcard, filename)\n\n                if (!file.exists()) isCancelled\n\n                var dbHelper: MyDBHelper? = null\n                dbHelper?.writableDatabase.use { db -&gt;\n                    var intTotalLine = 0\n                    var intLine = 1\n                    BufferedReader(FileReader(file)).useLines { _ -&gt; intTotalLine++ }\n                    BufferedReader(FileReader(file)).use { r -&gt;\n                        r.lineSequence().forEach {\n                            if (it.isNotEmpty()) {\n                                db?.execSQL(it)\n                                publishProgress(String.format(\"Updating %s/%s records\", intLine, intTotalLine))\n                                intLine++\n                            }\n                        }\n                    }\n                }\n                return null\n\n        }\n</code></pre>\n\n<p>Can you guys Please Help me to check where are the mistakes? Thanks in advance.</p>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542726759, "post_id": 53395798, "comment_id": 93667288, "body": "do you really need that function as is? isn&#39;t <code>fun sumItems(values: Array&lt;String&gt;) : Int</code> already enough? If not, then just use <code>Array&lt;out String?&gt;</code> as parameter type. Yoni Gibbs answer already shows this and also how that method can even be more simplified..."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1542726948, "post_id": 53395798, "comment_id": 93667415, "body": "I would declare it as <code>sumItems(values: Array&lt;String&gt;)</code> and when I need to pass an <code>Array&lt;String?&gt;</code> I would filter it with <code>filterNotNull</code>."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1542727038, "post_id": 53395798, "comment_id": 93667462, "body": "I would take the same route as @m0skit0. That makes the code way more clearer and cleaner ;-)"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1542727125, "post_id": 53395798, "comment_id": 93667517, "body": "However filterNotNull returns a list :("}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1542727148, "post_id": 53395798, "comment_id": 93667533, "body": "The problem with calling <code>filterNotNull</code> is that you&#39;re creating a second collection in memory. And you&#39;re having to do the loop twice. In most cases this is probably negligible, but if working with a lot of data it&#39;s not the most efficient way."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542727526, "post_id": 53395798, "comment_id": 93667785, "body": "well... I think that performance impact is negligible and I even go so far, that I would rather try to omit that <code>Array&lt;String?&gt;</code> instead and try to work with non-nullable types here instead... ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1542726719, "post_id": 53395967, "comment_id": 93667259, "body": "I think that&#39;s not what is being asked: <i>&quot;I can not call this method for Array&lt;String&gt; because I get a type mismatch error then&quot;</i>."}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1542726764, "post_id": 53395967, "comment_id": 93667291, "body": "You can call it for both <code>Array&lt;String&gt;</code> and <code>Array&lt;String?&gt;</code>. I&#39;ll update my answer with more details.."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1542727209, "post_id": 53395967, "comment_id": 93667576, "body": "Oh you&#39;re correct, I&#39;m not very used to use out/in modifiers, very nice answer!"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542728011, "post_id": 53395967, "comment_id": 93668065, "body": "while being the correct answer to solve the problem, I can only suggest to eliminate the <code>null</code> values as soon as possible so that the code is not filled with tons of null-safe calls ;-)"}, {"owner": {"reputation": 6194, "user_id": 2047987, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WY0Zw.png?s=128&g=1", "display_name": "Cilenco", "link": "https://stackoverflow.com/users/2047987/cilenco"}, "edited": false, "score": 0, "creation_date": 1543326016, "post_id": 53395967, "comment_id": 93871156, "body": "Why doesn&#39;t this work with <code>lists</code> as well? If I have <code>fun foo(c: MutableCollection&lt;out String&gt;)</code> I can call <code>foo(mutableListOf&lt;String&gt;())</code> but not <code>foo(mutableListOf&lt;String?&gt;())</code>. Any notes to that as well?"}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1543328853, "post_id": 53395967, "comment_id": 93872878, "body": "It should be <code>fun foo(c: MutableCollection&lt;out String?&gt;)</code> (note the <code>?</code>). If you do that you can call it both the ways you mention above."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 2, "last_activity_date": 1542727010, "last_edit_date": 1542727010, "creation_date": 1542726587, "answer_id": 53395967, "question_id": 53395798, "link": "https://stackoverflow.com/questions/53395798/method-call-with-nullable-and-not-nullable-generic-array/53395967#53395967", "title": "Method call with nullable and not nullable generic array", "body": "<p>Try this:</p>\n\n<pre><code>fun sumItems(values: Array&lt;out String?&gt;) = values.sumBy { it?.length ?: 0 }\n</code></pre>\n\n<p>You might want to make it an extension method instead:</p>\n\n<pre><code>fun Array&lt;out String?&gt;.sumItems() = sumBy { it?.length ?: 0 }\n</code></pre>\n\n<p>This will work for both <code>Array&lt;String&gt;</code> and <code>Array&lt;String?&gt;</code> because of the <code>out</code> modifier on the generic type.  What this states is that the <code>values</code> parameter (or the receiver of the extension method) must be an array that <strong>produces</strong> nullable strings. Obviously <code>Array&lt;String?&gt;</code> produces nullable strings so that's valid to pass in.  But <code>Array&lt;String&gt;</code> <strong>also</strong> produces nullable strings, because strings can always be cast to nullable strings. This is explained in more detail <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1542727494, "post_id": 53396182, "comment_id": 93667757, "body": "Just be aware of my comment on the question itself: calling <code>filterNotNull</code> creates a new list in memory.  Most probably the overhead here is negligible, but if you&#39;re working with large data sets you might want to avoid this. You could call <code>asSequence</code> on the original array to get round this though."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1542727936, "post_id": 53396182, "comment_id": 93668026, "body": "I see no real reason to keep <code>null</code> values within an array... that performance impact is negligible and probably completely avoidable ;-) Even if we would work with large data sets (then I assume even more that there are no <code>null</code> values), I would rather filter it once and use non-nullable types everywhere else..."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 2, "last_activity_date": 1542727720, "last_edit_date": 1542727720, "creation_date": 1542727260, "answer_id": 53396182, "question_id": 53395798, "link": "https://stackoverflow.com/questions/53395798/method-call-with-nullable-and-not-nullable-generic-array/53396182#53396182", "title": "Method call with nullable and not nullable generic array", "body": "<p>Even though Yoni Gibbs answer is correct, I would rather take another route here, i.e. working with a non-nullable type, e.g.:</p>\n\n<pre><code>fun sumItems(values: Array&lt;String&gt;) = values.sumBy { it.length }\n</code></pre>\n\n<p>And as also m0skit0 mentioned in the comment: if you really have <code>null</code> values in your list, filter them out before making the sum, e.g.:</p>\n\n<pre><code>val arrayWithNulls = arrayOf(\"hello\", null, \"world\")\narrayWithNulls.filterNotNull()\n              .let(::sumItems)\n</code></pre>\n\n<p>Or better yet: just skip that method and do:</p>\n\n<pre><code>arrayWithNulls.filterNotNull()\n              .sumBy { it.length } // or .sumBy(String::length)\n</code></pre>\n\n<p>Why introducing a new function, if applying existing ones already suffices?</p>\n\n<p>Try to eliminate the null values from your array early. Otherwise your code just gets more complex (adding lots of null-safe things) and that makes the code just less readable. That way you could also skip that <code>filterNotNull</code>.</p>\n"}], "owner": {"reputation": 6194, "user_id": 2047987, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WY0Zw.png?s=128&g=1", "display_name": "Cilenco", "link": "https://stackoverflow.com/users/2047987/cilenco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 53395967, "answer_count": 2, "score": 0, "last_activity_date": 1542727720, "creation_date": 1542726057, "question_id": 53395798, "link": "https://stackoverflow.com/questions/53395798/method-call-with-nullable-and-not-nullable-generic-array", "title": "Method call with nullable and not nullable generic array", "body": "<p>I would like to write a function in Kotlin which takes a String array and sums up the length of all items in the array. I thought about something like this:</p>\n\n<pre><code>fun sumItems(values: Array&lt;String?&gt;): Int {\n    var sum: Int = 0\n    values.forEach { if(it != null) sum += it.length }\n    return sum\n}\n</code></pre>\n\n<p>This works great but unfortunately I can not call this method for <code>Array&lt;String&gt;</code> because I get a type mismatch error then. I also can not create a function <code>sumItems(values: Array&lt;String&gt;): Int</code> because it has the same JVM signature. I could cast my argument to <code>Array&lt;String?&gt;</code> but this is unsafe.</p>\n\n<p>So is there any better way to do this in Kotlin?</p>\n"}, {"tags": ["xml", "soap", "kotlin", "sabre", "ktor"], "comments": [{"owner": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "edited": false, "score": 0, "creation_date": 1542726651, "post_id": 53394491, "comment_id": 93667223, "body": "Sorry, I&#39;am not aware of Sabre API. Are you looking for a way to create SOAP endpoint in ktor?"}, {"owner": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "edited": false, "score": 0, "creation_date": 1542726736, "post_id": 53394491, "comment_id": 93667272, "body": "Or maybe you need ktor-client to make SOAP calls?"}, {"owner": {"reputation": 1, "user_id": 4575332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53708185c8b6becff26d8fc8781e7f62?s=128&d=identicon&r=PG&f=1", "display_name": "Mehtab Khan", "link": "https://stackoverflow.com/users/4575332/mehtab-khan"}, "reply_to_user": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "edited": false, "score": 0, "creation_date": 1543231516, "post_id": 53394491, "comment_id": 93829880, "body": "looking to create ktor-client to make SOAP call."}], "owner": {"reputation": 1, "user_id": 4575332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53708185c8b6becff26d8fc8781e7f62?s=128&d=identicon&r=PG&f=1", "display_name": "Mehtab Khan", "link": "https://stackoverflow.com/users/4575332/mehtab-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542735082, "creation_date": 1542721805, "last_edit_date": 1542735082, "question_id": 53394491, "link": "https://stackoverflow.com/questions/53394491/need-to-integrate-sabre-api-into-soap-xml-using-ktor-framework", "title": "Need to integrate sabre API into SOAP xml using Ktor framework", "body": "<p>I need to integrate sabre API into SOAP xml using Ktor framework(Kotlin), I'm not able to find any documentation regarding this.I'm looking for help regarding KTOR with SOAP XML API integration. </p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 1637, "user_id": 5318705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9XRK.jpg?s=128&g=1", "display_name": "Andrei Vinogradov", "link": "https://stackoverflow.com/users/5318705/andrei-vinogradov"}, "edited": false, "score": 0, "creation_date": 1542721234, "post_id": 53394203, "comment_id": 93663911, "body": "Why not simply to iterate INSIDE coroutine scope?"}, {"owner": {"reputation": 2131, "user_id": 2914560, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/c415df2b8378c5fa7124996b82aa8984?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan Ve", "link": "https://stackoverflow.com/users/2914560/karthikeyan-ve"}, "edited": false, "score": 0, "creation_date": 1555930378, "post_id": 53394203, "comment_id": 98255373, "body": "@Razvan Barbu Have u got solution ?. I am stuck with same . The for loop execution speed is high where i need to create separate thread for each download."}], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 1, "last_activity_date": 1542722763, "creation_date": 1542722763, "answer_id": 53394792, "question_id": 53394203, "link": "https://stackoverflow.com/questions/53394203/chain-requests-kotlin-coroutines/53394792#53394792", "title": "Chain Requests Kotlin Coroutines", "body": "<p>Turn your blocking download function into a suspending one:</p>\n\n<pre><code>suspend fun downloadResourceArchiveFromUrl(\n    urlString: String, context: Context\n): Boolean = withContext(Dispatchers.IO) {\n   ... your function body\n}\n</code></pre>\n\n<p>Now run your loop inside a coroutine you <code>launch</code>:</p>\n\n<pre><code>myActivity.launch {\n    resources.forEach {\n        val success = downloadResourceArchiveFromUrl(it.url, context)\n        ... react to success/failure ...\n    }\n}\n</code></pre>\n\n<p>Also be sure to properly implement <a href=\"https://stackoverflow.com/a/52587412/1103872\">structured concurrency</a> on your activity.</p>\n"}], "owner": {"reputation": 169, "user_id": 2420353, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4SDlj.jpg?s=128&g=1", "display_name": "R\u0103zvan Barbu", "link": "https://stackoverflow.com/users/2420353/r%c4%83zvan-barbu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2674, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1542722763, "creation_date": 1542720873, "last_edit_date": 1542722298, "question_id": 53394203, "link": "https://stackoverflow.com/questions/53394203/chain-requests-kotlin-coroutines", "title": "Chain Requests Kotlin Coroutines", "body": "<p>I have an array of URLs, each providing a zip file. I want to download them and store them in my app folders, inside the internal memory.</p>\n\n<p>Question:</p>\n\n<p>Since I do not know the number of URLs I will need to access, what is the best way to go about this? I am just beginning to work with Kotlin coroutines.</p>\n\n<p>This is my 'download from url' method</p>\n\n<pre><code>fun downloadResourceArchiveFromUrl(urlString: String, context: Context): Boolean {\n\n    Timber.d(\"-&gt; Started downloading resource archive.. $urlString\")\n    lateinit var file: File\n    try {\n        val url = URL(urlString)\n\n        val urlConn = url.openConnection()\n        urlConn.readTimeout = 5000\n        urlConn.connectTimeout = 10000\n\n        val inputStream = urlConn.getInputStream()\n        val buffInStream = BufferedInputStream(inputStream, 1024 * 5)\n\n        val fileNameFromUrl = urlString.substringAfterLast(\"/\")\n\n        file = File(context.getDir(\"resources\", Context.MODE_PRIVATE) , fileNameFromUrl)\n\n        val outStream = FileOutputStream(file)\n        val buff = ByteArray(5 * 1024)\n\n        while (buffInStream.read(buff)  != -1){\n            outStream.write(buff, 0, buffInStream.read(buff))\n        }\n\n        outStream.flush()\n        outStream.close()\n        buffInStream.close()\n\n    } catch (e: Exception) {\n        e.printStackTrace()\n        Timber.d(\"Download finished with exception: ${e.message} -&lt;\")\n        return false\n    }\n\n    Timber.d(\"Download finished -&lt;\")\n    return true\n}\n</code></pre>\n\n<p>Could you simply create a loop and call download method each time?</p>\n\n<pre><code>        for (i in resources.indices) {\n            asyncAwait {\n                downloadResourcesFromUrl(resources[i].url, context)\n                return@asyncAwait\n            }\n</code></pre>\n\n<p>Also, is it a good idea to do this synchronously? Wait for every file to download then proceed to the next one?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 653, "user_id": 5534518, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/891732804251866/picture?type=large", "display_name": "Ionut J. Bejan", "link": "https://stackoverflow.com/users/5534518/ionut-j-bejan"}, "edited": false, "score": 0, "creation_date": 1542720459, "post_id": 53394003, "comment_id": 93663406, "body": "I think this should be handled from <code>getItemViewType</code> method of <code>RecyclerView.Adapter</code>"}, {"owner": {"reputation": 111, "user_id": 10441139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d60ffb00fc256c0608765ae6a75934?s=128&d=identicon&r=PG&f=1", "display_name": "alexC", "link": "https://stackoverflow.com/users/10441139/alexc"}, "reply_to_user": {"reputation": 653, "user_id": 5534518, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/891732804251866/picture?type=large", "display_name": "Ionut J. Bejan", "link": "https://stackoverflow.com/users/5534518/ionut-j-bejan"}, "edited": false, "score": 0, "creation_date": 1542720789, "post_id": 53394003, "comment_id": 93663632, "body": "Can you tell me how exactly can I do that? I am relatively new to this."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 10441139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d60ffb00fc256c0608765ae6a75934?s=128&d=identicon&r=PG&f=1", "display_name": "alexC", "link": "https://stackoverflow.com/users/10441139/alexc"}, "edited": false, "score": 0, "creation_date": 1543220400, "post_id": 53394187, "comment_id": 93824126, "body": "Can I set my cardView visibility in another way? I can&#39;t access it in adapter."}, {"owner": {"reputation": 1757, "user_id": 5474351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yy9hB.png?s=128&g=1", "display_name": "Reza.Abedini", "link": "https://stackoverflow.com/users/5474351/reza-abedini"}, "reply_to_user": {"reputation": 111, "user_id": 10441139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d60ffb00fc256c0608765ae6a75934?s=128&d=identicon&r=PG&f=1", "display_name": "alexC", "link": "https://stackoverflow.com/users/10441139/alexc"}, "edited": false, "score": 0, "creation_date": 1543222208, "post_id": 53394187, "comment_id": 93824949, "body": "if cardview is in your list-item you should findViewById it in ViewHolder and access it same as holder.name (for example holder.cardView.visibility) but if cardview is in your activity you should hide it by passing an interface that implemented in your activity or pass it in adapter constructor"}, {"owner": {"reputation": 111, "user_id": 10441139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d60ffb00fc256c0608765ae6a75934?s=128&d=identicon&r=PG&f=1", "display_name": "alexC", "link": "https://stackoverflow.com/users/10441139/alexc"}, "edited": false, "score": 0, "creation_date": 1543222791, "post_id": 53394187, "comment_id": 93825229, "body": "Thank you so much it works now. One more thing though...even if I set the visibility to View.GONE the space of the cardView is still showing in the list."}, {"owner": {"reputation": 1757, "user_id": 5474351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yy9hB.png?s=128&g=1", "display_name": "Reza.Abedini", "link": "https://stackoverflow.com/users/5474351/reza-abedini"}, "reply_to_user": {"reputation": 111, "user_id": 10441139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d60ffb00fc256c0608765ae6a75934?s=128&d=identicon&r=PG&f=1", "display_name": "alexC", "link": "https://stackoverflow.com/users/10441139/alexc"}, "edited": false, "score": 0, "creation_date": 1543224029, "post_id": 53394187, "comment_id": 93825875, "body": "set your item&#39;s height wrap_content and add this code in your activity : recyclerView.hasFixedSize = false it should works"}], "tags": [], "owner": {"reputation": 1757, "user_id": 5474351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yy9hB.png?s=128&g=1", "display_name": "Reza.Abedini", "link": "https://stackoverflow.com/users/5474351/reza-abedini"}, "is_accepted": true, "score": 2, "last_activity_date": 1542721202, "last_edit_date": 1542721202, "creation_date": 1542720833, "answer_id": 53394187, "question_id": 53394003, "link": "https://stackoverflow.com/questions/53394003/if-data-in-a-recycler-view-item-is-null-dont-display-the-view-holder/53394187#53394187", "title": "If data in a recycler view item is null don&#39;t display the view holder", "body": "<p>you should do something like this:</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    var firstName = itemsList[position].firstName\n    var lastName = itemsList[position].lastName\n\n    if (firstName.isNullOrEmpty() &amp;&amp; lastName.isNullOrEmpty()) {\n        yourCardView.visibility = View.INVISIBLE //or GONE if you do not want to keep its space\n        holder.name?.text = \"\"\n    } else {\n        yourCardView.visibility = View.VISIBLE\n        holder.name?.text = firstName + \" \" + lastName\n     }\n}\n\nclass ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    val name = itemView.name\n}\n</code></pre>\n\n<p>but if cardview is your root item and you do not want to show the list item at all,you should change your main list with a code like this in your adapter constructor:</p>\n\n<pre><code>        filteredList = itemsList?.filter {\n            (it.firstname.isNullOrEmpty() || it.lastName.isNullOrEmpty()).not()\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 0, "last_activity_date": 1542721269, "creation_date": 1542721269, "answer_id": 53394346, "question_id": 53394003, "link": "https://stackoverflow.com/questions/53394003/if-data-in-a-recycler-view-item-is-null-dont-display-the-view-holder/53394346#53394346", "title": "If data in a recycler view item is null don&#39;t display the view holder", "body": "<p>Even if you change the visibility of the <code>CardView</code> the gap in the <code>RecyclerView</code> will be there.  <br/>\nIt's better to remove the empty items from the list, prior to setting the adapter:</p>\n\n<pre><code>list.removeIf { it.firstName.isNullOrEmpty() &amp;&amp; it.lastName.isNullOrEmpty() }\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 10441139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d60ffb00fc256c0608765ae6a75934?s=128&d=identicon&r=PG&f=1", "display_name": "alexC", "link": "https://stackoverflow.com/users/10441139/alexc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1294, "favorite_count": 0, "accepted_answer_id": 53394187, "answer_count": 2, "score": 1, "last_activity_date": 1542721269, "creation_date": 1542720296, "question_id": 53394003, "link": "https://stackoverflow.com/questions/53394003/if-data-in-a-recycler-view-item-is-null-dont-display-the-view-holder", "title": "If data in a recycler view item is null don&#39;t display the view holder", "body": "<p>I want to check if data that comes from the server is null or not. If is not null then populate the recycler view item in my case being a CardView and if it is null don't display the CardView at all.</p>\n\n<p>In my recycler view adapter i have this: </p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    var firstName = itemsList[position].firstName\n    var lastName = itemsList[position].lastName\n\n    if (firstName.isNullOrEmpty() &amp;&amp; lastName.isNullOrEmpty()) {\n        //...what shoud i write here ?\n    } else {\n        holder.name?.text = firstName + \" \" + lastName\n     }\n}\n\nclass ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    val name = itemView.name\n}\n</code></pre>\n"}, {"tags": ["kotlin", "micronaut"], "comments": [{"owner": {"reputation": 729, "user_id": 2923710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff7b4622483547899dd09918d83732e?s=128&d=identicon&r=PG", "display_name": "&#193;lvaro S&#225;nchez-Mariscal", "link": "https://stackoverflow.com/users/2923710/%c3%81lvaro-s%c3%a1nchez-mariscal"}, "edited": false, "score": 0, "creation_date": 1542722146, "post_id": 53393903, "comment_id": 93664486, "body": "With this level of details is hard to tell. If you believe it&#39;s an issue, please report it here: <a href=\"https://github.com/micronaut-projects/micronaut-core/issues\" rel=\"nofollow noreferrer\">github.com/micronaut-projects/micronaut-core/issues</a>"}, {"owner": {"reputation": 71, "user_id": 10680229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/445a849ce25141b5367ba924574c0b0e?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/10680229/jamie"}, "reply_to_user": {"reputation": 729, "user_id": 2923710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff7b4622483547899dd09918d83732e?s=128&d=identicon&r=PG", "display_name": "&#193;lvaro S&#225;nchez-Mariscal", "link": "https://stackoverflow.com/users/2923710/%c3%81lvaro-s%c3%a1nchez-mariscal"}, "edited": false, "score": 0, "creation_date": 1542744013, "post_id": 53393903, "comment_id": 93676464, "body": "Thanks.  I did and Graeme has labeled it a bug."}, {"owner": {"reputation": 729, "user_id": 2923710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff7b4622483547899dd09918d83732e?s=128&d=identicon&r=PG", "display_name": "&#193;lvaro S&#225;nchez-Mariscal", "link": "https://stackoverflow.com/users/2923710/%c3%81lvaro-s%c3%a1nchez-mariscal"}, "edited": false, "score": 0, "creation_date": 1542812161, "post_id": 53393903, "comment_id": 93703912, "body": "For future reference to potential users, it&#39;d be great if you can share here the link to the issue."}, {"owner": {"reputation": 71, "user_id": 10680229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/445a849ce25141b5367ba924574c0b0e?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/10680229/jamie"}, "reply_to_user": {"reputation": 729, "user_id": 2923710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff7b4622483547899dd09918d83732e?s=128&d=identicon&r=PG", "display_name": "&#193;lvaro S&#225;nchez-Mariscal", "link": "https://stackoverflow.com/users/2923710/%c3%81lvaro-s%c3%a1nchez-mariscal"}, "edited": false, "score": 1, "creation_date": 1542899406, "post_id": 53393903, "comment_id": 93741287, "body": "<a href=\"https://github.com/micronaut-projects/micronaut-core/issues/936\" rel=\"nofollow noreferrer\">github.com/micronaut-projects/micronaut-core/issues/936</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11498, "user_id": 1264846, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/87e2978960ad82ab77fcd409e0dd72d6?s=128&d=identicon&r=PG", "display_name": "James Kleeh", "link": "https://stackoverflow.com/users/1264846/james-kleeh"}, "is_accepted": false, "score": 1, "last_activity_date": 1542814190, "creation_date": 1542814190, "answer_id": 53415387, "question_id": 53393903, "link": "https://stackoverflow.com/questions/53393903/micronaut-not-allowing-two-controllers-derived-from-same-base-class-that-implem/53415387#53415387", "title": "micronaut not allowing two controllers derived from same base class (that implements an interface) to be registered with router", "body": "<p>This was indeed a bug and fixed for 1.0.2</p>\n"}], "owner": {"reputation": 71, "user_id": 10680229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/445a849ce25141b5367ba924574c0b0e?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/10680229/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542814190, "creation_date": 1542719956, "last_edit_date": 1542742807, "question_id": 53393903, "link": "https://stackoverflow.com/questions/53393903/micronaut-not-allowing-two-controllers-derived-from-same-base-class-that-implem", "title": "micronaut not allowing two controllers derived from same base class (that implements an interface) to be registered with router", "body": "<p>Seems like Micronaut is not allowing two controllers inherited from the same base class (that implements an interface) to be registered with the router.  </p>\n\n<p>Here is my simplified code that throws the same exception:\nThen I get this exception:</p>\n\n<pre><code>package hello.world\nimport io.micronaut.http.annotation.Controller\nimport io.micronaut.http.annotation.Get\n\ninterface RestOperations {\n    @Get(\"/{id}\")\n    fun read(id: Long): Map&lt;String, Any?&gt;\n}\n\nopen class RestController : RestOperations {\n    @Get(\"/{id}\")\n    override fun read(id: Long): Map&lt;String, Any?&gt; {\n        return mapOf(\"number\" to id)\n    }\n}\n\n@Controller(\"/foo\")\nclass FooController : RestController() {}\n\n@Controller(\"/bar\")\nclass BarController : RestController() {}\n</code></pre>\n\n<p>This will work for only one controller.  It will also work if you remove the interface RestOperations from RestController.</p>\n\n<pre><code>io.micronaut.context.exceptions.DependencyInjectionException: Failed \nto inject value for parameter [router] of class: \nio.micronaut.web.router.DefaultRouter\n</code></pre>\n\n<p>Long stack trace originating with Netty... ending in:</p>\n\n<pre><code>Caused by: \nio.micronaut.context.exceptions.BeanInstantiationException: \nError instantiating bean of \ntype[io.micronaut.web.router.DefaultRouter]\n</code></pre>\n\n<p>Let me know if you have any ideas.  Thank you.  </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1542720673, "post_id": 53393856, "comment_id": 93663549, "body": "If you think you have identified a bug in something related to Android, file an issue in <a href=\"https://issuetracker.google.com/issues\" rel=\"nofollow noreferrer\">the issue tracker</a>. &quot;It is trying to import from <code>androidx.constraintlayout.Guideline</code>&quot; -- that is what your layout has. Beyond all of that, it is unclear what your question is."}, {"owner": {"reputation": 486, "user_id": 3932468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cIhIp.jpg?s=128&g=1", "display_name": "Serj", "link": "https://stackoverflow.com/users/3932468/serj"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1542720929, "post_id": 53393856, "comment_id": 93663721, "body": "@CommonsWare you are very right I completely missed that. As I said, I had copied the layout from another project and I guess when I used the refactor tool in AndroidStudio to refactor to androidx it converted the guideline xml tag without the Widget package. I guess if I change the tags now it should work fine!"}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 3792205, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/709854004/picture?type=large", "display_name": "Tanner Hallman", "link": "https://stackoverflow.com/users/3792205/tanner-hallman"}, "edited": false, "score": 1, "creation_date": 1583209927, "post_id": 53394330, "comment_id": 107029466, "body": "It&#39;s worth pointing out that Widget should be lowercase for all my copypastas out there &lt;3"}], "tags": [], "owner": {"reputation": 486, "user_id": 3932468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cIhIp.jpg?s=128&g=1", "display_name": "Serj", "link": "https://stackoverflow.com/users/3932468/serj"}, "is_accepted": true, "score": 10, "last_activity_date": 1594869075, "last_edit_date": 1594869075, "creation_date": 1542721240, "answer_id": 53394330, "question_id": 53393856, "link": "https://stackoverflow.com/questions/53393856/can-not-find-symbol-class-guideline/53394330#53394330", "title": "Can not find symbol class Guideline", "body": "<p>@CommonsWare pointed out something I completely missed out that my layout file contained <code>androidx.constraintlayout.Guideline</code> instead of <code>androidx.constraintlayout.widget.Guideline</code> that fixed the problem. However, I guess when I used the refactoring tool to migrate to AndroidX it converted the Guideline tags to the initial instead of the latter. Thank you @CommonsWare for pointing out the silly mistake!</p>\n"}], "owner": {"reputation": 486, "user_id": 3932468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cIhIp.jpg?s=128&g=1", "display_name": "Serj", "link": "https://stackoverflow.com/users/3932468/serj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1828, "favorite_count": 2, "accepted_answer_id": 53394330, "answer_count": 1, "score": 1, "last_activity_date": 1594869075, "creation_date": 1542719780, "last_edit_date": 1542720458, "question_id": 53393856, "link": "https://stackoverflow.com/questions/53393856/can-not-find-symbol-class-guideline", "title": "Can not find symbol class Guideline", "body": "<p>I started creating a new project with the latest androidx and jetpack and databinding. Everything is going fine except when I coupled using <code>androidx.constraintlayout</code> with <code>databinding</code>. The auto-generated databinding class can't import the right package for the <code>Guideline</code> class. It is trying to import from <code>androidx.constraintlayout.Guideline</code> when in reality the class exists in <code>androidx.constraintlayout.Widget.Guideline</code>. </p>\n\n<h2>Expected Behavior</h2>\n\n<p>AndroidStudio should import the package from <code>androidx.constraintlayout.Widget.Guideline</code> instead of <code>androidx.constraintlayout.Guideline</code> and it should compile fine.</p>\n\n<h2>Current Behavior</h2>\n\n<p>The compiler throws the following Error:</p>\n\n<ul>\n<li>Cannot find symbol class Guideline</li>\n</ul>\n\n<h2>Possible Solution</h2>\n\n<p>Well I could stop using Databinding with the guideline class but... Since its an auto-generated databinding class i also can't change the import package as it will be generated and overwritten again anyways at build time. I'm not sure if there is any way to enforce Android studio to import from the correct package.</p>\n\n<p>Update: </p>\n\n<p>I did stop using the Guidelines I had this code from another developer and realized the Guidelines were completely useless I could do without them. However, I do think this is still a bug in Android.</p>\n\n<h2>Steps to Reproduce</h2>\n\n<p>Enable databinding for android project:</p>\n\n<pre><code>dataBinding {\n        enabled = true\n}\n</code></pre>\n\n<p>Import the following androidx libraries that I'm also using:</p>\n\n<pre><code>/**\n * AndroidX Libraries\n */\nimplementation 'androidx.core:core-ktx:1.0.1'\nimplementation 'androidx.fragment:fragment:1.0.0'\nimplementation 'androidx.appcompat:appcompat:1.0.2'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\nimplementation 'androidx.recyclerview:recyclerview:1.0.0'\nimplementation 'com.google.android.material:material:1.0.0'\nimplementation 'androidx.preference:preference:1.1.0-alpha01'\nimplementation 'androidx.lifecycle:lifecycle-viewmodel:2.0.0'\nimplementation 'androidx.lifecycle:lifecycle-extensions:2.0.0'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n</code></pre>\n\n<p>Create a Fragment with Databinding my case is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    tools:context=\".fragments.emailConfirmation.EmailConfirmationFragment\"&gt;\n\n    &lt;data&gt;\n\n        &lt;import type=\"androidx.fragment.app.Fragment\" /&gt;\n\n        &lt;variable\n            name=\"viewModel\"\n            type=\"android.thespikeapp.com.spike.fragments.emailConfirmation.EmailConfirmationViewModel\" /&gt;\n    &lt;/data&gt;\n\n    &lt;FrameLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:focusableInTouchMode=\"true\"&gt;\n\n            &lt;androidx.constraintlayout.Guideline\n                android:id=\"@+id/image_left_guideline\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"\n                app:layout_constraintGuide_percent=\".33\" /&gt;\n\n            &lt;androidx.constraintlayout.Guideline\n                android:id=\"@+id/image_right_guideline\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"\n                app:layout_constraintGuide_percent=\".66\" /&gt;\n\n            &lt;androidx.constraintlayout.Guideline\n                android:id=\"@+id/text_left_guideline\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"\n                app:layout_constraintGuide_percent=\".16\" /&gt;\n\n            &lt;androidx.constraintlayout.Guideline\n                android:id=\"@+id/text_right_guideline\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"\n                app:layout_constraintGuide_percent=\".84\" /&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/imageView\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"48dp\"\n                app:layout_constraintBottom_toTopOf=\"@id/horizontalGuideline\"\n                app:layout_constraintEnd_toEndOf=\"@id/image_right_guideline\"\n                app:layout_constraintStart_toStartOf=\"@id/image_left_guideline\"\n                app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n            &lt;!--android:src=\"@drawable/ic_confirm_email\"--&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textView\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"48dp\"\n                android:gravity=\"center_horizontal\"\n                android:text=\"@string/confirm_email_description\"\n                android:textColor=\"@android:color/black\"\n                android:textSize=\"18sp\"\n                app:layout_constraintEnd_toEndOf=\"@id/text_right_guideline\"\n                app:layout_constraintStart_toStartOf=\"@id/text_left_guideline\"\n                app:layout_constraintTop_toBottomOf=\"@id/imageView\" /&gt;\n\n            &lt;androidx.constraintlayout.Guideline\n                android:id=\"@+id/horizontalGuideline\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\"\n                app:layout_constraintGuide_percent=\"0.35\" /&gt;\n\n            &lt;com.google.android.material.textfield.TextInputLayout\n                android:id=\"@+id/textInputLayout\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"24dp\"\n                android:textColorHint=\"@color/colorPrimaryLightest\"\n                app:layout_constraintEnd_toEndOf=\"@id/text_right_guideline\"\n                app:layout_constraintStart_toStartOf=\"@id/text_left_guideline\"\n                app:layout_constraintTop_toBottomOf=\"@id/textView\"&gt;\n\n                &lt;com.google.android.material.textfield.TextInputEditText\n                    android:id=\"@+id/emailAddressEditText\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:gravity=\"center_horizontal\"\n                    android:hint=\"@string/email_address\"\n                    android:inputType=\"textEmailAddress\"\n                    android:maxLines=\"1\"\n                    android:text=\"@={viewModel.email}\"\n                    android:textSize=\"18sp\" /&gt;\n\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n            &lt;Button\n                android:id=\"@+id/updateButton\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"48dp\"\n                android:text=\"@string/submit\"\n                android:textAllCaps=\"false\"\n                app:layout_constraintEnd_toEndOf=\"@id/text_right_guideline\"\n                app:layout_constraintStart_toStartOf=\"@id/text_left_guideline\"\n                app:layout_constraintTop_toBottomOf=\"@id/textInputLayout\" /&gt;\n\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/FrameLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>Try building the app you should get the same error</p>\n\n<h2>Context (Environment)</h2>\n\n<p>This code won't compile on the version of AndroidStudio Version 3.2.1 using kotlin 1.3.10. Also minSdkVersion is set to 21 and compileSdkVersion 28.</p>\n\n<p>Thank you for your help in advance!</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 4, "creation_date": 1542718019, "post_id": 53393182, "comment_id": 93661878, "body": "there is no way that you ever get such a list out of that map. The reason is, that when you create the map this way you actually get a map containing: <code>&quot;a&quot;</code> with <code>2</code> and <code>&quot;b&quot;</code> with value <code>4</code>. Otherwise: yes... you can flatten it... maybe with something like: <code>mapOf(...).flatMap { (string, int) -&gt; listOf(string, int) }</code> or similar... <code>map.flatMap { (string, ints) -&gt; listOf(string).plus(ints) }</code>"}, {"owner": {"reputation": 3174, "user_id": 4858147, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-WvQqad2FrJE/AAAAAAAAAAI/AAAAAAAAAeM/8CaDjrq8nHw/photo.jpg?sz=128", "display_name": "svkaka", "link": "https://stackoverflow.com/users/4858147/svkaka"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542726948, "post_id": 53393182, "comment_id": 93667416, "body": "@Roland sorry my bad, I updated question. Your <code>map.flatMap { (string, ints) -&gt; listOf(string).plus(ints) }</code> works well for me. thanks"}], "answers": [{"comments": [{"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1542728673, "post_id": 53394416, "comment_id": 93668483, "body": "This answer was added before the question was updated.  I&#39;ll add a comment on the answer to explain as you&#39;re right that, as the question now stands, the answer is no longer correct."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": false, "score": 2, "last_activity_date": 1542728750, "last_edit_date": 1542728750, "creation_date": 1542721549, "answer_id": 53394416, "question_id": 53393182, "link": "https://stackoverflow.com/questions/53393182/kotlin-is-there-a-way-to-flatten-mapk-out-t-listv-out-t-to-listt/53394416#53394416", "title": "Kotlin Is there a way to flatten Map&lt;K out T , List&lt;V out T&gt; to List&lt;T&gt;", "body": "<p><strong>UPDATE</strong>: the answer below was written before the question was updated and changed how the map was created (see the history of the question for details). As the question now stands, the answer below will no longer work. It does work for the question as originally asked though, I believe.</p>\n\n<p>@Roland is right that your map will never result in that list because there can only ever be a single value in the map against any given key. So I think you need to replace that map with a list of pairs.  You can then group it and flatmap it to get your desired result:</p>\n\n<pre><code>val pairs = listOf(\"a\" to 1, \"a\" to 2, \"b\" to 3, \"b\" to 4)\nval result = pairs\n        .groupBy { it.first }\n        .flatMap { (key, values) -&gt; listOf(key).plus(values.map { it.second }) }\n</code></pre>\n\n<p>Another slightly different option which you might decide is more readable is this:</p>\n\n<pre><code>val result = pairs\n        .groupBy({ it.first }, { it.second })\n        .flatMap { (key, values) -&gt; listOf(key).plus(values) }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 3174, "user_id": 4858147, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-WvQqad2FrJE/AAAAAAAAAAI/AAAAAAAAAeM/8CaDjrq8nHw/photo.jpg?sz=128", "display_name": "svkaka", "link": "https://stackoverflow.com/users/4858147/svkaka"}, "edited": false, "score": 1, "creation_date": 1542728290, "post_id": 53396197, "comment_id": 93668240, "body": "Once you get used to functional programming it will be immediately clear what it does. I dont think it gets any simpler, if you want to preserve the order of the keys and values. In the link you also find a different version with <code>fold</code> maybe you like that one better ;)"}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 1, "last_activity_date": 1542729132, "last_edit_date": 1542729132, "creation_date": 1542727342, "answer_id": 53396197, "question_id": 53393182, "link": "https://stackoverflow.com/questions/53393182/kotlin-is-there-a-way-to-flatten-mapk-out-t-listv-out-t-to-listt/53396197#53396197", "title": "Kotlin Is there a way to flatten Map&lt;K out T , List&lt;V out T&gt; to List&lt;T&gt;", "body": "<p>You can <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/flat-map.html\" rel=\"nofollow noreferrer\"><code>flatMap</code></a> over <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/entries.html#kotlin.collections.Map%24entries\" rel=\"nofollow noreferrer\"><code>map.entries</code></a>. Have a look at this <a href=\"https://try.kotlinlang.org/#/UserProjects/g2od0cbc3o3denc4inrihp384o/4kd0f4pv84s4gk0adjauv123bh\" rel=\"nofollow noreferrer\">function</a>:</p>\n\n<pre><code>val map = mapOf(\"a\" to listOf(1,2), \n                \"b\" to listOf(3,4))\nprintln(map)\nval flattened : List&lt;Any&gt; = map.entries.flatMap {entry -&gt; \n    //create list with key as only element, must be type &lt;Any&gt; to add other stuff later\n    val list = mutableListOf&lt;Any&gt;(entry.key)\n    //add values\n    list.addAll(entry.value)\n    list\n}\nprintln(flattened)\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>{a=[1, 2], b=[3, 4]}\n[a, 1, 2, b, 3, 4]\n</code></pre>\n\n<p>@Rolands answer inspired this even simpler, more idiomatic version. It essentially does the same, but crams everything into one line:</p>\n\n<pre><code> val flattened: List&lt;Any&gt; = map.flatMap {entry -&gt; \n        listOf(entry.key) + entry.value\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 7, "last_activity_date": 1542729231, "last_edit_date": 1542729231, "creation_date": 1542728252, "answer_id": 53396473, "question_id": 53393182, "link": "https://stackoverflow.com/questions/53393182/kotlin-is-there-a-way-to-flatten-mapk-out-t-listv-out-t-to-listt/53396473#53396473", "title": "Kotlin Is there a way to flatten Map&lt;K out T , List&lt;V out T&gt; to List&lt;T&gt;", "body": "<p>My second comment variant as answer for a <code>Map&lt;String, List&lt;Int&gt;&gt;</code>:</p>\n\n<pre><code>mapOf(\"a\" to listOf(1,2),\n      \"b\" to listOf(3,4))\n     .flatMap { (key, values) -&gt; listOf(key) + values }\n</code></pre>\n\n<p>which gives a <code>List&lt;Any&gt;</code> with the keys followed by their values.</p>\n\n<p>This example makes use of <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"noreferrer\">destructuring declaration</a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/flat-map.html\" rel=\"noreferrer\"><code>Map.flatMap</code></a>.</p>\n"}], "owner": {"reputation": 3174, "user_id": 4858147, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-WvQqad2FrJE/AAAAAAAAAAI/AAAAAAAAAeM/8CaDjrq8nHw/photo.jpg?sz=128", "display_name": "svkaka", "link": "https://stackoverflow.com/users/4858147/svkaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2676, "favorite_count": 0, "accepted_answer_id": 53396473, "answer_count": 3, "score": 1, "last_activity_date": 1542729231, "creation_date": 1542717544, "last_edit_date": 1542727989, "question_id": 53393182, "link": "https://stackoverflow.com/questions/53393182/kotlin-is-there-a-way-to-flatten-mapk-out-t-listv-out-t-to-listt", "title": "Kotlin Is there a way to flatten Map&lt;K out T , List&lt;V out T&gt; to List&lt;T&gt;", "body": "<p>I would like to transform the Map to List</p>\n\n<p>e.g I have</p>\n\n<pre><code>mapOf(\"a\" to listOf(1,2),\n      \"b\" to listOf(3,4)\n)\n</code></pre>\n\n<p>I want the result to be</p>\n\n<pre><code>listOf(\"a\", 1, 2, \"b\", 3, 4)\n</code></pre>\n\n<p>order must be Key and its Values, Key and its Values, ...</p>\n\n<p>is there some function in kotlin that could help me with that?</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-cache", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 27474, "user_id": 613628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81249832e79806754a4bd9c915164fbf?s=128&d=identicon&r=PG", "display_name": "Stephane Nicoll", "link": "https://stackoverflow.com/users/613628/stephane-nicoll"}, "edited": false, "score": 0, "creation_date": 1542720718, "post_id": 53393116, "comment_id": 93663585, "body": "I&#39;d remove <code>sync</code>, you don&#39;t want to pay the cost of the synchronization just to avoid two concurrent HTTP calls on the same tuple. It&#39;s impossible to say what is going on with the details you&#39;ve given. What is the cache library? Have you looked at the auto-configuration report that caching is active?"}, {"owner": {"reputation": 105, "user_id": 6232572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a834a5ba600f66d3b6f49c7bd7b3fe?s=128&d=identicon&r=PG&f=1", "display_name": "H3npi", "link": "https://stackoverflow.com/users/6232572/h3npi"}, "reply_to_user": {"reputation": 27474, "user_id": 613628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81249832e79806754a4bd9c915164fbf?s=128&d=identicon&r=PG", "display_name": "Stephane Nicoll", "link": "https://stackoverflow.com/users/613628/stephane-nicoll"}, "edited": false, "score": 0, "creation_date": 1542722160, "post_id": 53393116, "comment_id": 93664494, "body": "thanks for the <code>sync</code> note! Currently i am using the default cache library, no additional configuration done. The cache should be working, because i see a <code>] o.s.c.a.AnnotationCacheOperationSource   : Adding cacheable method &#39;getLogicalTimeById&#39; with attribute: </code> in my log"}, {"owner": {"reputation": 27474, "user_id": 613628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81249832e79806754a4bd9c915164fbf?s=128&d=identicon&r=PG", "display_name": "Stephane Nicoll", "link": "https://stackoverflow.com/users/613628/stephane-nicoll"}, "edited": false, "score": 0, "creation_date": 1542786213, "post_id": 53393116, "comment_id": 93689331, "body": "Sorry I can&#39;t help you with the details you&#39;ve shared. Perhaps you can share a small sample on github that reproduces the problem. If the cache isn&#39;t working, it should be quite easy to replicate."}, {"owner": {"reputation": 105, "user_id": 6232572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a834a5ba600f66d3b6f49c7bd7b3fe?s=128&d=identicon&r=PG&f=1", "display_name": "H3npi", "link": "https://stackoverflow.com/users/6232572/h3npi"}, "reply_to_user": {"reputation": 27474, "user_id": 613628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81249832e79806754a4bd9c915164fbf?s=128&d=identicon&r=PG", "display_name": "Stephane Nicoll", "link": "https://stackoverflow.com/users/613628/stephane-nicoll"}, "edited": false, "score": 0, "creation_date": 1542788978, "post_id": 53393116, "comment_id": 93690603, "body": "i&#39;ll set up a sample project and send you the link!"}, {"owner": {"reputation": 105, "user_id": 6232572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a834a5ba600f66d3b6f49c7bd7b3fe?s=128&d=identicon&r=PG&f=1", "display_name": "H3npi", "link": "https://stackoverflow.com/users/6232572/h3npi"}, "reply_to_user": {"reputation": 27474, "user_id": 613628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81249832e79806754a4bd9c915164fbf?s=128&d=identicon&r=PG", "display_name": "Stephane Nicoll", "link": "https://stackoverflow.com/users/613628/stephane-nicoll"}, "edited": false, "score": 0, "creation_date": 1542791342, "post_id": 53393116, "comment_id": 93691983, "body": "I just added a small example to the main post"}, {"owner": {"reputation": 27474, "user_id": 613628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81249832e79806754a4bd9c915164fbf?s=128&d=identicon&r=PG", "display_name": "Stephane Nicoll", "link": "https://stackoverflow.com/users/613628/stephane-nicoll"}, "edited": false, "score": 0, "creation_date": 1542804004, "post_id": 53393116, "comment_id": 93699117, "body": "You are calling the method within the same class, it doesn&#39;t go through the proxy as explained in the documentation <a href=\"https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/integration.html#cache-annotation-enable\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/&hellip;</a>"}, {"owner": {"reputation": 105, "user_id": 6232572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a834a5ba600f66d3b6f49c7bd7b3fe?s=128&d=identicon&r=PG&f=1", "display_name": "H3npi", "link": "https://stackoverflow.com/users/6232572/h3npi"}, "reply_to_user": {"reputation": 27474, "user_id": 613628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81249832e79806754a4bd9c915164fbf?s=128&d=identicon&r=PG", "display_name": "Stephane Nicoll", "link": "https://stackoverflow.com/users/613628/stephane-nicoll"}, "edited": false, "score": 0, "creation_date": 1542810454, "post_id": 53393116, "comment_id": 93702912, "body": "Thanks for the input, totaly forgot that in my example! I just moved the spapi calls to another class, so i guess it should be working now, but it doesn&#39;t"}], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 6232572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a834a5ba600f66d3b6f49c7bd7b3fe?s=128&d=identicon&r=PG&f=1", "display_name": "H3npi", "link": "https://stackoverflow.com/users/6232572/h3npi"}, "is_accepted": true, "score": 0, "last_activity_date": 1542893767, "creation_date": 1542893767, "answer_id": 53432200, "question_id": 53393116, "link": "https://stackoverflow.com/questions/53393116/spring-boot-kotlin-coroutine-caching-of-http-calls/53432200#53432200", "title": "Spring Boot Kotlin Coroutine Caching of Http Calls", "body": "<p>The problem was: My Component was not autowired. Autowiring fixed the issue.</p>\n"}], "owner": {"reputation": 105, "user_id": 6232572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a834a5ba600f66d3b6f49c7bd7b3fe?s=128&d=identicon&r=PG&f=1", "display_name": "H3npi", "link": "https://stackoverflow.com/users/6232572/h3npi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "accepted_answer_id": 53432200, "answer_count": 1, "score": 0, "last_activity_date": 1542893767, "creation_date": 1542717295, "last_edit_date": 1542810406, "question_id": 53393116, "link": "https://stackoverflow.com/questions/53393116/spring-boot-kotlin-coroutine-caching-of-http-calls", "title": "Spring Boot Kotlin Coroutine Caching of Http Calls", "body": "<p>i am trying to use the spring-boot caching mechanism to cache a http response which i get. Currently i have an http client which makes an \nrest call for me. I want the result to be cached.</p>\n\n<p>So i created a service which adds a cachable layer:</p>\n\n<pre><code>@Cacheable(\"logicalTime\", sync = true)\nopen fun getLogicalTimeById(dsId: String, idLogicalTimes: String): LogicalTime {\n    return logicalTimeResource.getById(dsId, idLogicalTimes)\n}\n</code></pre>\n\n<p>logicalTimeResource is a proxy to the rest api.</p>\n\n<p>The application framework looks like this:</p>\n\n<ul>\n<li>a sheduler which is called every second</li>\n<li>iterates through a List with entries</li>\n<li><p>Calls getLogicalTimeById for each entry in a Coroutine:</p>\n\n<p><code>GlobalScope.launch {\ngetLogicalTime(element.dsId, element.idLogicalTime\n}</code></p></li>\n</ul>\n\n<p>i'd expect that the cache is looked up for the dsId and idLogicalTimes, and when there is an entry for this pair of values, it is returned from the cache. Otherwise <code>logicalTimeResource.getById(dsId, idLogicalTimes)</code></p>\n\n<p>Now the problem is that <code>logicalTimeResource.getById(dsId, idLogicalTimes)</code> is called for every element in the List.\nYes i have <code>@EnableCaching</code> at my Applicaiton.kt</p>\n\n<p>Edit:</p>\n\n<p>I created a small gist which shows that the cache is not working:\n<a href=\"https://gist.github.com/H3npi/799df85d4570e3cbe8b02ede24bea5a8\" rel=\"nofollow noreferrer\">https://gist.github.com/H3npi/799df85d4570e3cbe8b02ede24bea5a8</a></p>\n\n<p>The main Application looks like this:</p>\n\n<pre><code>package com.example.cachetest\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\nimport org.springframework.cache.annotation.EnableCaching\n\n@SpringBootApplication\n@EnableCaching\nclass CachetestApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;CachetestApplication&gt;(*args)\n}\n</code></pre>\n\n<p>I see both requests hitting my api service on localhost.</p>\n\n<p>Edit v2:</p>\n\n<p>Thanks to Stephane Nicoll pointing out that caching in the same class doesn't work, i updated the gist and moved all calls to a repo class. This looks like this: <a href=\"https://gist.github.com/H3npi/af37ea97ea3450deeca2ab8933072c94\" rel=\"nofollow noreferrer\">https://gist.github.com/H3npi/af37ea97ea3450deeca2ab8933072c94</a></p>\n"}, {"tags": ["android", "listview", "kotlin"], "comments": [{"owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "edited": false, "score": 0, "creation_date": 1542720153, "post_id": 53392099, "comment_id": 93663185, "body": "Are you wanting to search and apply the search results to the <code>ListView</code>?"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "reply_to_user": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "edited": false, "score": 0, "creation_date": 1542727036, "post_id": 53392099, "comment_id": 93667461, "body": "yes . l want search item from inside the list view example like this <a href=\"https://youtu.be/ZuFC3C3NpX0\" rel=\"nofollow noreferrer\">youtu.be/ZuFC3C3NpX0</a> . but l want to apply this steps on my code above ."}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "reply_to_user": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "edited": false, "score": 0, "creation_date": 1542798011, "post_id": 53392099, "comment_id": 93695986, "body": "Do you have answer code please"}, {"owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "edited": false, "score": 0, "creation_date": 1542805007, "post_id": 53392099, "comment_id": 93699674, "body": "Sorry Pablo, was too busy yesterday, posted answer now"}, {"owner": {"reputation": 11466, "user_id": 4700156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/EVkWU.png?s=128&g=1", "display_name": "Rohit Singh", "link": "https://stackoverflow.com/users/4700156/rohit-singh"}, "edited": false, "score": 0, "creation_date": 1542807514, "post_id": 53392099, "comment_id": 93701089, "body": "I dont know how to code in Kotlin. But if you know Java then maybe this might help you <a href=\"https://stackoverflow.com/questions/27378981/how-to-use-searchview-in-toolbar-android/49064027#49064027\" title=\"how to use searchview in toolbar android\">stackoverflow.com/questions/27378981/&hellip;</a>"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542807592, "post_id": 53392099, "comment_id": 93701135, "body": "unfortunately l dont know things in java , thank you for try help"}], "answers": [{"comments": [{"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542805925, "post_id": 53412529, "comment_id": 93700158, "body": "l add your code in my main activity class or in  ListAdapte class ?"}, {"owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "reply_to_user": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542806831, "post_id": 53412529, "comment_id": 93700672, "body": "Add the method i suggested inside your adapter"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542807002, "post_id": 53412529, "comment_id": 93700789, "body": "l got error red line under <code>notifyDataSeChanged</code> . unresolved reference  <code>notifyDataSeChanged</code>"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542807117, "post_id": 53412529, "comment_id": 93700865, "body": "and in that case how l use search bar filter ? l mean  <code>val search= view.findViewById(R.id.searchFlightId) as EditText</code> used in method you  suggested ?"}, {"owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "reply_to_user": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542807186, "post_id": 53412529, "comment_id": 93700901, "body": "Assuming it will be if an item in the list contains your search term?"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542807478, "post_id": 53412529, "comment_id": 93701074, "body": "yes  , check my update question  . l added search bar filter to search on any item inside listview but the there still not function to do this . l want function to do this operation in my list adater class"}, {"owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "reply_to_user": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542807740, "post_id": 53412529, "comment_id": 93701241, "body": "Updated my answer; in <code>searchList()</code> method i suggested you could use it like  <code>it.fieldA.contains(search.text.toString()) || it.fieldB.contains(search.text.toString())</code>  but replace <code>fieldA</code> and <code>fieldB</code> with whatever your model is composed of"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542807883, "post_id": 53412529, "comment_id": 93701333, "body": "my goodness , l still have a lot errors . <code>unresolved reference filteredList</code>  <code>unresolved referenceadapter </code> . any way thanks for trying help me . l have to find another way ."}, {"owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "reply_to_user": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542808564, "post_id": 53412529, "comment_id": 93701787, "body": "I told you, you have to add these variables to your activity aha. <code>val baseList: List&lt;FlightShdu&gt;</code> and  <code>var filteredList: MutableList&lt;FlightShdu&gt; = mutableListOf()</code>  <code>adapter</code> reference will be whatever you have called your adapter  Next time you ask a question like this post all of your activity too so I can see the references pls"}, {"owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "reply_to_user": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542809638, "post_id": 53412529, "comment_id": 93702439, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/184036/discussion-between-blue-jones-and-pabloescobar\">continue this discussion in chat</a>."}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1542809658, "post_id": 53412529, "comment_id": 93702452, "body": "what about this topic ! <a href=\"https://camposha.info/android/kotlin-android-listview-searchview\" rel=\"nofollow noreferrer\">camposha.info/android/kotlin-android-listview-searchview</a> can you convert that code in link to my code ? and which class you need even l update my question"}, {"owner": {"reputation": 1043, "user_id": 5928383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KKwjPNE7ua8/AAAAAAAAAAI/AAAAAAAAN60/hM6HTo6vPWY/photo.jpg?sz=128", "display_name": "Adam", "link": "https://stackoverflow.com/users/5928383/adam"}, "edited": false, "score": 0, "creation_date": 1570172619, "post_id": 53412529, "comment_id": 102836810, "body": "this will make the baselist change as well since the adapter is using the baselist refernce to avoid that only interact with filteredList in adapter (addAll to filteredList before passing to adapter)"}], "tags": [], "owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "is_accepted": false, "score": 1, "last_activity_date": 1542816409, "last_edit_date": 1542816409, "creation_date": 1542804977, "answer_id": 53412529, "question_id": 53392099, "link": "https://stackoverflow.com/questions/53392099/how-add-search-filter-bar-in-listview-kotlin/53412529#53412529", "title": "how add search filter bar in listview kotlin", "body": "<p>In your activity perform your search on your list and reassign the value(keep a <code>val baseList</code> and <code>var filteredList</code> so you can default back to the original if need be. First of all we want to move the nested adapter to the top of the activity so we can access it after its instantiated. We also want to use two lists for this so aff the <code>baseList</code> and <code>filteredList</code> as i have below the <code>private lateinit var adapter: ListAdapteArr? = null</code> at the top of the activity.</p>\n\n<pre><code>private lateinit var adapter: ListAdapteArr? = null\n\nprivate var baseList: List&lt;FlightShdu&gt; = listOf()\nprivate var filteredList: MutableList&lt;FlightShdu&gt; = mutableListOf()\n</code></pre>\n\n<p>In your <code>handleJson()</code> method, once the list has been populated with all the <code>FlightShdu</code> objects, assign it to the <code>baseList</code></p>\n\n<pre><code>baseList = list\n</code></pre>\n\n<p>Then assign your <code>private lateinit var adapter</code>:</p>\n\n<pre><code> adapter = ListAdapteArr(this@MainActivity, baseList)\n                flight_arrivel_list.adapter = adapter\n</code></pre>\n\n<p>Have a method that takes the edit text search term and compares it with your list</p>\n\n<pre><code>   fun searchList() {\n       filteredList.clear()\n       baseList.forEach { \n       if (it.contains(search.text.toString())) {\n          filteredList.add(it)\n       }\n    }\n    adapter.updateList(filteredList)\n</code></pre>\n\n<p>Then within your adapter change:</p>\n\n<p><code>val list: ArrayList&lt;FlightShdu&gt;</code> to <code>var list: ArrayList&lt;FlightShdu&gt;</code> </p>\n\n<p>and have a method like:</p>\n\n<pre><code> fun updateList(filteredList: List&lt;FlightShdu&gt;) {\n    list.clear()\n    list.addAll(filteredList)\n    notifyDataSetChanged()\n }\n</code></pre>\n\n<p>With the updated list in activity, call the method with <code>adapter.updateList(filteredList)</code></p>\n\n<p>I would also recommend using a <code>recyclerview</code> instead of a <code>listview</code>\n<a href=\"https://stackoverflow.com/questions/26728651/recyclerview-vs-listview\">RecyclerView vs. ListView</a></p>\n\n<p>You could also look into using <code>DiffUtils</code> as it offers nice smooth animations when transitioning between lists in the adapter. This answer was just to get the ball rolling for you.</p>\n\n<pre><code>val diffResult = DiffUtil.calculateDiff(object : DiffUtil.Callback() {\n\n                override fun areItemsTheSame(oldItemPosition: Int, newItemPosition: Int): Boolean = newList[newItemPosition] == oldList[oldItemPosition]\n\n                override fun getOldListSize(): Int = oldList.size\n\n                override fun getNewListSize(): Int = newList.size\n\n                override fun areContentsTheSame(oldItemPosition: Int, newItemPosition: Int): Boolean = newList[newItemPosition] == oldList[oldItemPosition]\n            }\n\ndiffResult.dispatchUpdatesTo(adapter)\n</code></pre>\n"}], "owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1989, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542816409, "creation_date": 1542713555, "last_edit_date": 1542811290, "question_id": 53392099, "link": "https://stackoverflow.com/questions/53392099/how-add-search-filter-bar-in-listview-kotlin", "title": "how add search filter bar in listview kotlin", "body": "<p>l  have created a list view and the code working fine . also created a search box . I want to implement search functionality on the basis of particular fields of the list. l used list adapter in Separated class is not in main activity class . l want use search bar filter in class list adapter .  </p>\n\n<p>main activity class </p>\n\n<pre><code>package com.iraqairoirt.iraqairports\n\nimport android.app.AlertDialog\nimport android.os.AsyncTask\nimport android.support.design.widget.TabLayout\nimport android.support.v7.app.AppCompatActivity\n\nimport android.support.v4.app.Fragment\nimport android.support.v4.app.FragmentManager\nimport android.support.v4.app.FragmentPagerAdapter\nimport android.os.Bundle\n\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.android.synthetic.main.fragment_arrivel.*\nimport kotlinx.android.synthetic.main.fragment_dep.*\nimport org.json.JSONArray\nimport org.json.JSONObject\nimport java.net.HttpURLConnection\nimport java.net.URL\n\nimport android.widget.TextView\nimport com.iraqairoirt.iraqairports.flightsDep.ListAdapteDep\nimport com.iraqairoirt.iraqairports.flightsArr.ListAdapteArr\n\n\n    class MainActivity : AppCompatActivity() {\n\n\n        private var mSectionsPagerAdapter: SectionsPagerAdapter? = null\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_main)\n\n\n\n\n            val url = \"xxxxxxxxxxxxxxxxxxxxxxx\"\n            Arr().execute(url)\n            Dep().execute(url)\n\n\n            setSupportActionBar(toolbar)\n            // Create the adapter that will return a fragment for each of the three\n            // primary sections of the activity.\n            mSectionsPagerAdapter = SectionsPagerAdapter(supportFragmentManager)\n\n            // Set up the ViewPager with the sections adapter.\n            container.adapter = mSectionsPagerAdapter\n\n            container.addOnPageChangeListener(TabLayout.TabLayoutOnPageChangeListener(tabs))\n            tabs.addOnTabSelectedListener(TabLayout.ViewPagerOnTabSelectedListener(container))\n\n\n        }\n        //    full class for json api\n        inner class Arr : AsyncTask&lt;String, String, String&gt;(){\n\n            val progressDialog = AlertDialog.Builder(this@MainActivity)\n            val dialogView = layoutInflater.inflate(R.layout.progress_dialog,null)\n            val message = dialogView.findViewById&lt;TextView&gt;(R.id.message_id)\n            val dialog = progressDialog.create()\n\n            override fun onPreExecute() {\n                super.onPreExecute()\n\n                dialog.setMessage(\"loading\")\n                dialog.setCancelable(false)\n                dialog.show()\n\n\n            }\n\n            //        for build connection\n            override fun doInBackground(vararg url: String?): String{\n\n                var text : String\n                val connection = URL(url[0]).openConnection() as HttpURLConnection\n\n                try {\n                    connection.connect()\n                    text = connection.inputStream.use { it.reader().use{reader -&gt; reader.readText()} }\n\n\n                } finally{\n\n                    connection.disconnect()\n\n                }\n                return text\n            }\n\n            override fun onPostExecute(result: String?) {\n\n                super.onPostExecute(result)\n                handleJson(result)\n\n                dialog.dismiss();\n\n            }\n\n            override fun onProgressUpdate(vararg text: String?) {\n\n\n            }\n            private fun handleJson (jsonString: String?){\n\n                val schedule = pluginData.getJSONObject(\"schedule\")\n                val arrivals = schedule.getJSONObject(\"arrivals\")\n    //        val data = arrivals.getJSONObject(\"data\")\n                val jsonArray = JSONArray(arrivals.get(\"data\").toString())\n\n                val list =  ArrayList&lt;FlightShdu&gt;()\n                var x = 0\n                while (x &lt; jsonArray.length()){\n\n                    val jsonObject = jsonArray.getJSONObject(x)\n\n\n\n                    list.add(FlightShdu(\n                        jsonObject.getJSONObject(\"flight\").getJSONObject(\"identification\").getJSONObject(\"number\").getString(\"default\"),\n                        jsonObject.getJSONObject(\"flight\").getJSONObject(\"airline\").getString(\"short\"),\n                        jsonObject.getJSONObject(\"flight\").getJSONObject(\"status\").getJSONObject(\"generic\").getJSONObject(\"status\").getString(\"text\"),\n                        jsonObject.getJSONObject(\"flight\").getJSONObject(\"airline\").getJSONObject(\"code\").getString(\"icao\"),\n                        jsonObject.getJSONObject(\"flight\").getJSONObject(\"time\").getJSONObject(\"scheduled\").getString(\"arrival\"),\n                        jsonObject.getJSONObject(\"flight\").getJSONObject(\"airport\").getJSONObject(\"origin\").getJSONObject(\"code\").getString(\"iata\"),\n                        jsonObject.getJSONObject(\"flight\").getJSONObject(\"aircraft\").getJSONObject(\"model\").getString(\"text\"),\n    //                    for more information\n                        jsonObject.getJSONObject(\"flight\").getJSONObject(\"time\").getJSONObject(\"real\").getString(\"departure\"),\n                        jsonObject.getJSONObject(\"flight\").getJSONObject(\"time\").getJSONObject(\"estimated\").getString(\"arrival\"),\n    //                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"time\").getJSONObject(\"estimated\").getString(\"arrival\"),\n                        jsonObject.getJSONObject(\"flight\").getJSONObject(\"aircraft\").getString(\"registration\"),\n                        jsonObject.getJSONObject(\"flight\").getJSONObject(\"status\").getJSONObject(\"generic\").getJSONObject(\"status\").getString(\"diverted\"),\n                        arrivals.getString(\"timestamp\"),\n                        jsonObject.getJSONObject(\"flight\").getJSONObject(\"status\").getString(\"icon\")\n\n\n\n\n\n                        ))\n\n\n                    x++\n                }\n                list.forEach(::println)\n\n                val adapter = ListAdapteArr(this@MainActivity, list)\n                flight_arrivel_list.adapter = adapter\n\n\n\n\n            }\n\n\n\n\n        }\n\n\n\n\n        /**\n         * A [FragmentPagerAdapter] that returns a fragment corresponding to\n         * one of the sections/tabs/pages.\n         */\n        inner class SectionsPagerAdapter(fm: FragmentManager) : FragmentPagerAdapter(fm) {\n\n            override fun getItem(position: Int): Fragment? {\n\n                return when (position) {\n                    0 -&gt; {\n                        fragment_Arr()\n                    }\n                    1 -&gt;{\n\n                        fragment_Dep()\n                    }\n                    2-&gt;{\n                        fragment_Weather()\n                    }\n                    else-&gt; {\n                        return null\n                    }\n                }\n\n            }\n\n            override fun getCount(): Int {\n                // Show 3 total pages.\n                return 2\n            }\n\n        }\n\n\n    }\n</code></pre>\n\n<p>List Adapter</p>\n\n<pre><code>   class ListAdapteArr (val context: MainActivity, val list: ArrayList&lt;FlightShdu&gt;): BaseAdapter() {\n        @SuppressLint(\"ViewHolder\", \"NewApi\")\n        override fun getView(p0: Int, convertView: View?, parent: ViewGroup?): View {\n\n            val view : View = LayoutInflater.from(context).inflate(R.layout.arr_list,parent,false)\n\n\n            val searchBar = view.findViewById(R.id.searchFlightId) as MaterialSearchBar\n\n            Airport.text= list.Airport\n\n\n\n\n            return view\n\n        }\n\n\n\n\n        override fun getItem(p0: Int): Any {\n            return list [p0]\n        }\n\n        override fun getItemId(p0: Int): Long {\n            return p0.toLong()\n        }\n\n        override fun getCount(): Int {\n            return list.size\n        }\n\n\n\n    }\n</code></pre>\n\n<p>xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n    &lt;ListView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:id=\"@+id/flight_arrivel_list\"\n            style=\"@style/Widget.AppCompat.ListView\"\n            android:paddingStart=\"10sp\"\n            android:paddingEnd=\"10sp\"\n            android:paddingTop=\"0dp\" android:layout_alignParentStart=\"true\" android:layout_alignParentTop=\"true\"\n            android:layout_marginTop=\"58dp\" android:layout_marginStart=\"0dp\"/&gt;\n    &lt;com.mancj.materialsearchbar.MaterialSearchBar\n            style=\"@style/MaterialSearchBarLight\"\n            app:mt_speechMode=\"true\"\n            app:mt_hint=\"Custom hint\"\n            app:mt_maxSuggestionsCount=\"10\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/searchBar\" /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/KDIrg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KDIrg.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>l added search bar filter to search on any item inside listview but the there still not funcation to do this </p>\n"}, {"tags": ["android", "tensorflow", "kotlin", "tensorflow-lite"], "comments": [{"owner": {"reputation": 464, "user_id": 8974303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f95ced23f4d1b89a0e46357acdcac91a?s=128&d=identicon&r=PG&f=1", "display_name": "Nupur Garg", "link": "https://stackoverflow.com/users/8974303/nupur-garg"}, "edited": false, "score": 0, "creation_date": 1549584654, "post_id": 53391669, "comment_id": 95965423, "body": "Please provide your code that is resulting in this error."}, {"owner": {"reputation": 33, "user_id": 10456906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2039478d62cb9f54be96c430d99c7896?s=128&d=identicon&r=PG&f=1", "display_name": "rossp", "link": "https://stackoverflow.com/users/10456906/rossp"}, "reply_to_user": {"reputation": 464, "user_id": 8974303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f95ced23f4d1b89a0e46357acdcac91a?s=128&d=identicon&r=PG&f=1", "display_name": "Nupur Garg", "link": "https://stackoverflow.com/users/8974303/nupur-garg"}, "edited": false, "score": 0, "creation_date": 1549828663, "post_id": 53391669, "comment_id": 96033662, "body": "@NupurGarg I edited the post"}, {"owner": {"reputation": 1341, "user_id": 5471095, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qyfDm.jpg?s=128&g=1", "display_name": "harshithdwivedi", "link": "https://stackoverflow.com/users/5471095/harshithdwivedi"}, "edited": false, "score": 0, "creation_date": 1585821791, "post_id": 53391669, "comment_id": 107899899, "body": "Hey @rossp did you manage to find a solution to this error?"}, {"owner": {"reputation": 33, "user_id": 10456906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2039478d62cb9f54be96c430d99c7896?s=128&d=identicon&r=PG&f=1", "display_name": "rossp", "link": "https://stackoverflow.com/users/10456906/rossp"}, "reply_to_user": {"reputation": 1341, "user_id": 5471095, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qyfDm.jpg?s=128&g=1", "display_name": "harshithdwivedi", "link": "https://stackoverflow.com/users/5471095/harshithdwivedi"}, "edited": false, "score": 0, "creation_date": 1585905950, "post_id": 53391669, "comment_id": 107934313, "body": "@harshithdwivedi No, sadly not."}, {"owner": {"reputation": 2212, "user_id": 9936228, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ykeCBMuQ1es/AAAAAAAAAAI/AAAAAAAAAXw/dzZSGd09TGA/photo.jpg?sz=128", "display_name": "Vishnuvardhan Janapati", "link": "https://stackoverflow.com/users/9936228/vishnuvardhan-janapati"}, "edited": false, "score": 0, "creation_date": 1586076786, "post_id": 53391669, "comment_id": 107987733, "body": "Does this answer&#39;s your question <a href=\"https://stackoverflow.com/questions/52783747/how-to-do-batching-with-tensorflow-lite?noredirect=1&amp;lq=1\" title=\"how to do batching with tensorflow lite\">stackoverflow.com/questions/52783747/&hellip;</a>"}], "owner": {"reputation": 33, "user_id": 10456906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2039478d62cb9f54be96c430d99c7896?s=128&d=identicon&r=PG&f=1", "display_name": "rossp", "link": "https://stackoverflow.com/users/10456906/rossp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 431, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1549828623, "creation_date": 1542712057, "last_edit_date": 1549828623, "question_id": 53391669, "link": "https://stackoverflow.com/questions/53391669/tensorflow-lite-batching-with-mobilenet-v2", "title": "TensorFlow Lite: Batching with Mobilenet_V2", "body": "<p>I want to do batching with Mobilenet_V2_1.0_224 in TensorFlow Lite . </p>\n\n<p>I tried this answer <a href=\"https://stackoverflow.com/questions/52783747/how-to-do-batching-with-tensorflow-lite/53125376#53125376\">(https://stackoverflow.com/questions/52783747/how-to-do-batching-with-tensorflow-lite/53125376#53125376</a>), but this works only for Inception_V4. </p>\n\n<p>When I try to use a batch size >1 (in this case batch_size 2) for Mobilenet i get the following error:</p>\n\n<pre><code>  ComposedException 1 :\n    java.lang.NullPointerException: Internal error: Cannot allocate memory for the interpreter: tensorflow/contrib/lite/kernels/reshape.cc:68 num_input_elements != num_output_elements (2002 != 1001)Node 64 failed to prepare.\n\n    at org.tensorflow.lite.NativeInterpreterWrapper.allocateTensors(Native Method)\n    at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:118)\n    at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:168)\n    at org.tensorflow.lite.Interpreter.run(Interpreter.java:145)\n</code></pre>\n\n<p>Edit:\nThis is the tflite code resulting in this error:</p>\n\n<pre><code>    DIM_BATCH_SIZE = 4\n    var tfliteOptions: Interpreter.Options = Interpreter.Options()\n    tfliteOptions.setUseNNAPI(true)\n    var interpreter = Interpreter(loadModelFile(assetManager, \"mobilenet_v2_1.0_224.tflite\")!!, tfliteOptions)    \n    interpreter!!.resizeInput(0,intArrayOf(DIM_BATCH_SIZE,224,224,3))\n\n    interpreter!!.run(imgData, labelProb)\n</code></pre>\n\n<p>imgData is a ByteBuffer containing the preprocessed images, labelProb the FloatArray for the predictions.</p>\n"}, {"tags": ["android", "kotlin", "mocking", "mockk"], "comments": [{"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1542714209, "post_id": 53391611, "comment_id": 93659771, "body": "post your Foo.kt full code"}, {"owner": {"reputation": 37399, "user_id": 906362, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/677b4a116774ecdee4b161903bdcfb28?s=128&d=identicon&r=PG", "display_name": "Budius", "link": "https://stackoverflow.com/users/906362/budius"}, "reply_to_user": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1542714542, "post_id": 53391611, "comment_id": 93659956, "body": "@sasikumar I&#39;m working on a separate test project to try to isolate the error. So there&#39;s really nothing on Foo, edited the question. It&#39;s all there."}, {"owner": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "edited": false, "score": 0, "creation_date": 1563362236, "post_id": 53391611, "comment_id": 100672530, "body": "Any available solution ?"}, {"owner": {"reputation": 37399, "user_id": 906362, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/677b4a116774ecdee4b161903bdcfb28?s=128&d=identicon&r=PG", "display_name": "Budius", "link": "https://stackoverflow.com/users/906362/budius"}, "reply_to_user": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "edited": false, "score": 0, "creation_date": 1563452226, "post_id": 53391611, "comment_id": 100709933, "body": "@HardikBambhania I&#39;ve marked the solution just now"}], "answers": [{"tags": [], "owner": {"reputation": 3623, "user_id": 3525279, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fa5c25e2a4bab328940986b0c0f5fffd?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/3525279/phil"}, "is_accepted": true, "score": 14, "last_activity_date": 1545671274, "creation_date": 1545671274, "answer_id": 53916053, "question_id": 53391611, "link": "https://stackoverflow.com/questions/53391611/mockk-missing-calls-inside-every-block/53916053#53916053", "title": "Mockk Missing calls inside every { ... } block", "body": "<p>It seems to be a Mockk opened issue: <a href=\"https://github.com/mockk/mockk/issues/182\" rel=\"noreferrer\">https://github.com/mockk/mockk/issues/182</a></p>\n\n<p>2 possible quick fixes (<strong>pick one</strong>):</p>\n\n<ol>\n<li>Run the Instrumented Tests in an emulator >= Android-P</li>\n<li>Set <code>Foo</code> class as open (and the method(s) you want to mock too)</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 2063, "user_id": 3531558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kH9pf.jpg?s=128&g=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/3531558/allen"}, "is_accepted": false, "score": 12, "last_activity_date": 1558099533, "creation_date": 1558099533, "answer_id": 56187396, "question_id": 53391611, "link": "https://stackoverflow.com/questions/53391611/mockk-missing-calls-inside-every-block/56187396#56187396", "title": "Mockk Missing calls inside every { ... } block", "body": "<p>Try to check the <a href=\"https://mockk.io/#object-mocks\" rel=\"noreferrer\">official guide</a> and see what is missing.</p>\n\n<p>In my case, I tried to mock an extension in Kotlin but missed the <code>mockkStatic</code> </p>\n\n<pre><code>fun Date.asMyTime() : DateTime = DateTime(this, DateTimeZone.getDefault())\n\nmockkStatic(\"packageName.FileNameKt\") // This is what I was missing\nevery {\n    DateTime().asMyTime()\n} returns mock(DateTime::class.java)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5236, "user_id": 692167, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/414107f42456622acd7bb1d083f0b074?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/692167/tom"}, "is_accepted": false, "score": 9, "last_activity_date": 1585867548, "creation_date": 1585867548, "answer_id": 61002359, "question_id": 53391611, "link": "https://stackoverflow.com/questions/53391611/mockk-missing-calls-inside-every-block/61002359#61002359", "title": "Mockk Missing calls inside every { ... } block", "body": "<p>In my case I forgot to <code>spyk</code> the class I was applying <code>every {...}</code> to. \ud83d\ude33</p>\n\n<pre><code>val presenter = spyk(MyPresenter())\n\nevery { view.myFun(any()) } returns Unit\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 13672099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5b3c3a84661318f3a96015e977424a1?s=128&d=identicon&r=PG&f=1", "display_name": "Aneczka", "link": "https://stackoverflow.com/users/13672099/aneczka"}, "is_accepted": false, "score": 3, "last_activity_date": 1591183478, "creation_date": 1591183478, "answer_id": 62171656, "question_id": 53391611, "link": "https://stackoverflow.com/questions/53391611/mockk-missing-calls-inside-every-block/62171656#62171656", "title": "Mockk Missing calls inside every { ... } block", "body": "<p>In my case, I've missed </p>\n\n<pre><code>@Before\nfun setUp() {\n    MockKAnnotations.init(this)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 855, "user_id": 599743, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fff621ebecc8d67b4690b4cfe7e8c69f?s=128&d=identicon&r=PG", "display_name": "tonisives", "link": "https://stackoverflow.com/users/599743/tonisives"}, "is_accepted": false, "score": 0, "last_activity_date": 1604976782, "last_edit_date": 1604976782, "creation_date": 1604975165, "answer_id": 64762000, "question_id": 53391611, "link": "https://stackoverflow.com/questions/53391611/mockk-missing-calls-inside-every-block/64762000#64762000", "title": "Mockk Missing calls inside every { ... } block", "body": "<p>Make sure the object is really a mock, not the real object.</p>\n<p>For instance:</p>\n<pre><code>- Sdk sdk = Sdk()\n+ Sdk sdk = mockk()\n  every { sdk.crypto } returns mockk()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1920, "user_id": 2775651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100005966371861/picture?type=large", "display_name": "Sergey  Bulavkin", "link": "https://stackoverflow.com/users/2775651/sergey-bulavkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1605532113, "creation_date": 1605532113, "answer_id": 64858599, "question_id": 53391611, "link": "https://stackoverflow.com/questions/53391611/mockk-missing-calls-inside-every-block/64858599#64858599", "title": "Mockk Missing calls inside every { ... } block", "body": "<p>In my case I tried to mock using mock() function instead mock<strong>k</strong>() (double k)</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3422296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ad722d09a5793787543272bf938ee2?s=128&d=identicon&r=PG", "display_name": "Ankitech", "link": "https://stackoverflow.com/users/3422296/ankitech"}, "is_accepted": false, "score": 0, "last_activity_date": 1614766526, "creation_date": 1614766526, "answer_id": 66454972, "question_id": 53391611, "link": "https://stackoverflow.com/questions/53391611/mockk-missing-calls-inside-every-block/66454972#66454972", "title": "Mockk Missing calls inside every { ... } block", "body": "<p>try like this</p>\n<pre><code>`when`(mock.getData()).thenReturn(listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;))\n</code></pre>\n"}], "owner": {"reputation": 37399, "user_id": 906362, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/677b4a116774ecdee4b161903bdcfb28?s=128&d=identicon&r=PG", "display_name": "Budius", "link": "https://stackoverflow.com/users/906362/budius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24631, "favorite_count": 1, "accepted_answer_id": 53916053, "answer_count": 7, "score": 24, "last_activity_date": 1614766526, "creation_date": 1542711880, "last_edit_date": 1542714483, "question_id": 53391611, "link": "https://stackoverflow.com/questions/53391611/mockk-missing-calls-inside-every-block", "title": "Mockk Missing calls inside every { ... } block", "body": "<p>I'm stuck trying to mock some stuff with mockk:</p>\n\n<p>I have the following setup on gradle</p>\n\n<pre><code>root:\n  |-- App (just a sample app for the SDK)\n  |-- SDK (SDK we develop) &lt;&lt; apply plugin: 'com.android.library'\n       |-- SDKimpl.kt\n  |-- Foo (wrapper around a .jar library) &lt;&lt; apply plugin: 'com.android.library'\n       |-- Foo.kt\n</code></pre>\n\n<p>So I'm writing an <code>androidTest</code> for the SDK and trying to mock <code>Foo.kt</code>.\nThere's nothing unusual about Foo class, just direct <code>class Foo(private val someParams) {</code></p>\n\n<p>So using <code>androidTestImplementation \"io.mockk:mockk-android:1.8.13\"</code> the mock goes:</p>\n\n<pre><code>val mock: Foo = mockk()\n// val mock: Foo = mockkClass(Foo::class) // also tried this\nevery { mock.getData() } returns listOf(\"1\", \"2\", \"3\")\n</code></pre>\n\n<p>I'm always getting the following crash:</p>\n\n<pre><code>io.mockk.MockKException: Missing calls inside every { ... } block.\nat io.mockk.impl.recording.states.StubbingState.checkMissingCalls(StubbingState.kt:14)\nat io.mockk.impl.recording.states.StubbingState.recordingDone(StubbingState.kt:8)\nat io.mockk.impl.recording.CommonCallRecorder.done(CommonCallRecorder.kt:42)\n</code></pre>\n\n<p>Also tried just to gather information:</p>\n\n<ul>\n<li>running inside JVM test folder. It gets mocked without issues, but I can't run my test as JVM</li>\n<li>running <code>androidTest</code> inside <code>Foo</code> module. Got the same crash</li>\n<li>using mockkClass(Foo::class). Got some crash</li>\n<li>using annotation <code>@MockK</code> and <code>MockKAnnotations.init(this)</code>. Got some crash.</li>\n<li>added <code>Log.d</code> before <code>every {</code> line and inside <code>getData()</code> method and it seems the actual real method from the class is getting called during the mock setup. That seems super weird to me.</li>\n</ul>\n\n<p>Any idea what's going wrong here?</p>\n\n<p><strong>edit:</strong></p>\n\n<p>as requested, full code. I'm current working on an isolated project to try to isolate the error, so Foo is just:</p>\n\n<pre><code>class Foo {\n\n    fun getData(): String {\n        Log.d(TAG, \"invoked foo.getData()\")\n        return \"trolololo\"\n    }\n\n}\n</code></pre>\n\n<p>and then I have FooTest in <code>androidTest</code>:</p>\n\n<pre><code>class FooTest {\n\n    @Test\n    fun mock_foo() {\n        val foo = mockk&lt;Foo&gt;()\n        every { foo.getData() } returns \"zero\"\n        assertEquals(\"zero\", foo.getData())\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 725, "user_id": 9016353, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v4QNe5aDP_I/AAAAAAAAAAI/AAAAAAAAAKE/HuOAaU1hj40/photo.jpg?sz=128", "display_name": "kAliert", "link": "https://stackoverflow.com/users/9016353/kaliert"}, "edited": false, "score": 0, "creation_date": 1542725675, "post_id": 53391025, "comment_id": 93666684, "body": "How do you open your fragments? Can you provide your code, which is responsible for opening your fragments?"}, {"owner": {"reputation": 4394, "user_id": 1565635, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/47afd04b281fd1fb5ff38a9cc5378562?s=128&d=identicon&r=PG", "display_name": "Tobias Reich", "link": "https://stackoverflow.com/users/1565635/tobias-reich"}, "reply_to_user": {"reputation": 725, "user_id": 9016353, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v4QNe5aDP_I/AAAAAAAAAAI/AAAAAAAAAKE/HuOAaU1hj40/photo.jpg?sz=128", "display_name": "kAliert", "link": "https://stackoverflow.com/users/9016353/kaliert"}, "edited": false, "score": 0, "creation_date": 1542725959, "post_id": 53391025, "comment_id": 93666817, "body": "Okay, I added the important part of showFragment(). Simply spoken, this just replaces the Fragment below."}, {"owner": {"reputation": 725, "user_id": 9016353, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v4QNe5aDP_I/AAAAAAAAAAI/AAAAAAAAAKE/HuOAaU1hj40/photo.jpg?sz=128", "display_name": "kAliert", "link": "https://stackoverflow.com/users/9016353/kaliert"}, "edited": false, "score": 0, "creation_date": 1542726920, "post_id": 53391025, "comment_id": 93667396, "body": "Im not quite sure, but maybe its a problem with the given tags (<code>fragment::class.java.simpleName</code>). You use the same tags for the <code>replace</code> and <code>addToBackStack</code> method. Maybe you can check if this is the right way to call this methods."}, {"owner": {"reputation": 4394, "user_id": 1565635, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/47afd04b281fd1fb5ff38a9cc5378562?s=128&d=identicon&r=PG", "display_name": "Tobias Reich", "link": "https://stackoverflow.com/users/1565635/tobias-reich"}, "reply_to_user": {"reputation": 725, "user_id": 9016353, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v4QNe5aDP_I/AAAAAAAAAAI/AAAAAAAAAKE/HuOAaU1hj40/photo.jpg?sz=128", "display_name": "kAliert", "link": "https://stackoverflow.com/users/9016353/kaliert"}, "edited": false, "score": 0, "creation_date": 1542727010, "post_id": 53391025, "comment_id": 93667450, "body": "Nah, that works. As mentioned in the question, everything works fine if I do it slowly enough. The Fragments get popped the underlying one is shown. Just the &quot;move to background&quot; seems to mess up with the pop-back-animation or something like that. It&#39;s not a matter of not identifying the Fragments or so."}], "answers": [{"comments": [{"owner": {"reputation": 4394, "user_id": 1565635, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/47afd04b281fd1fb5ff38a9cc5378562?s=128&d=identicon&r=PG", "display_name": "Tobias Reich", "link": "https://stackoverflow.com/users/1565635/tobias-reich"}, "edited": false, "score": 0, "creation_date": 1554624752, "post_id": 55542873, "comment_id": 97814584, "body": "Thanks for your suggestion but my problem is not the fragment transparency. The real problem is having one fragment being &quot;stuck&quot; in the transition process. It looks like the transition is done only half and then forgotten. The fragment below is being blocked by that half gone fragment. So it&#39;s no visibility issue but something with the fragment stack / transition."}], "tags": [], "owner": {"reputation": 1, "user_id": 4512917, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PKXDz-XK-mQ/AAAAAAAAAAI/AAAAAAAAGaY/r34R_hLxZKg/photo.jpg?sz=128", "display_name": "Beto NaranjoF", "link": "https://stackoverflow.com/users/4512917/beto-naranjof"}, "is_accepted": false, "score": 0, "last_activity_date": 1554495935, "creation_date": 1554495935, "answer_id": 55542873, "question_id": 53391025, "link": "https://stackoverflow.com/questions/53391025/android-fragments-overlapping-when-popping-back/55542873#55542873", "title": "Android Fragments overlapping when popping back", "body": "<p>Try this....</p>\n\n<p>on you xml with FrameLayout</p>\n\n<pre><code>android:background=\"#ffffff\"\n</code></pre>\n\n<p>and add too in all your fragments .xml on main view component, example:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#ffffff\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt; \n</code></pre>\n"}], "owner": {"reputation": 4394, "user_id": 1565635, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/47afd04b281fd1fb5ff38a9cc5378562?s=128&d=identicon&r=PG", "display_name": "Tobias Reich", "link": "https://stackoverflow.com/users/1565635/tobias-reich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554495935, "creation_date": 1542709898, "last_edit_date": 1542725915, "question_id": 53391025, "link": "https://stackoverflow.com/questions/53391025/android-fragments-overlapping-when-popping-back", "title": "Android Fragments overlapping when popping back", "body": "<p>I have a Fragment container which gets the current Fragment shown. When pressing the back button I want to remove the topmost Fragment but when it's the first one, I want to move the App in the background instead. (Otherwise, my main fragment would get removed, too.)</p>\n\n<p>So my (Kotlin) code looks like that:</p>\n\n<pre><code>override fun onBackPressed() {\n    ...\n    when (supportFragmentManager.backStackEntryCount) {\n        1    -&gt; {\n            moveTaskToBack(true)\n        }\n        else -&gt; {\n           super.onBackPressed()\n           //supportFragmentManager.popBackStackImmediate()\n        }\n    }\n</code></pre>\n\n<p>This works fine with one exception. When I start the app and show the second Fragment I press the back button twice (rapidly). That way the top Fragment starts to get removed but the second back press kicks in directly afterward (with the top Fragment not removed completely).\nThe app goes into the background (as intended) but when I bring the app into the foreground again, the top Fragment is still there (sometimes partially removed already) but it does not react anymore. If I replace another fragment in my container, it appears behind the stuck Fragment.\nI also tried using supportFragmentManager.popBackStackImmediate() instead but it also didn't work.</p>\n\n<p><strong>So I have two questions here:</strong></p>\n\n<ul>\n<li><p>how can I continue the cleanup afterward (when the App becomes visible again)</p></li>\n<li><p>or if that's not the solution, how can I check if there is still a Fragment transaction ongoing in the FragementManager (before putting the app into the background with the second back press)</p></li>\n</ul>\n\n<p>---- Edit 1 ----</p>\n\n<p>I noticed this only happens when I set transaction animation when replacing the fragments. So if I remove that line the moment I add the Fragments (not when back pressing) it seems to work:</p>\n\n<pre><code>  ft.setCustomAnimations(R.anim.enter_from_bottom, R.anim.exit_to_top,\n   R.anim.enter_from_top, R.anim.exit_to_bottom)\n</code></pre>\n\n<p>---- Edit 2 ----</p>\n\n<p>When using this code here it also works (just with the difference that it removes the first (bottom) fragment, too. But obviously the native Android method seems to avoid that problem.</p>\n\n<pre><code>super.onBackPressed() // Remove bottom fragement\nsuper.onBackPressed() // No more fragments -&gt; move App into background\n</code></pre>\n\n<p>---- This is how the Fragments are \"created\" ----</p>\n\n<pre><code>val ft = supportFragmentManager.beginTransaction()\nft.setCustomAnimations(R.anim.enter_from_bottom, R.anim.exit_to_top, \n    R.anim.enter_from_top, R.anim.exit_to_bottom)\nft.replace(R.id.fragmentContainer, fragment, fragment::class.java.simpleName)\n    .addToBackStack(fragment::class.java.simpleName)\n    .commitAllowingStateLoss()\n</code></pre>\n\n<p>Here is a screenshot of how the overlapping Fragments are looking:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zk1XX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zk1XX.png\" alt=\"Screenshot of the overlapping Fragments\"></a></p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1542709385, "post_id": 53390622, "comment_id": 93657174, "body": "Here\u2019s an article I wrote about these functions: <a href=\"https://kotlinexpertise.com/coping-with-kotlins-scope-functions/\" rel=\"nofollow noreferrer\">kotlinexpertise.com/coping-with-kotlins-scope-functions</a> but actually with is the best option for these scenarios. To be clear, this is possible due to the use of <i>lambdas with receiver</i>"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1542709445, "post_id": 53390622, "comment_id": 93657210, "body": "This does not compile. It generates an error of &quot;Unresolved reference: foo&quot;. Can you provide an actual example that works? Thanks."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1542709610, "post_id": 53390622, "comment_id": 93657310, "body": "The code I posted compiles without issues actually. Can you share your version?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1542710018, "post_id": 53390622, "comment_id": 93657547, "body": "@AndroidDev this code does not work on its own when used in a .kt file, please wrap it in a <code>main</code> for instance"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1542710680, "post_id": 53390622, "comment_id": 93657902, "body": "Well, since there is no &quot;main&quot; in an Android app, I can&#39;t do that. I tried placing this in the onCreate method of an activity but that didn&#39;t help either. It&#39;s not important. Just curious why this sample code would get posted on the official kotlin site which is primarily for Android development yet shows no practical way of using it."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1542710732, "post_id": 53390622, "comment_id": 93657932, "body": "<code>main</code> was just an example, should work in any function, also <code>onCreate</code>. Want to show the code?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1542714713, "post_id": 53390622, "comment_id": 93660055, "body": "@AndroidDev I use Kotlin solely in <i>non</i>-Android-projects. The shown constellation makes total sense in cases where you want to enhance some classes in a specific context (the more common/standard the classes are, the more appropriate is this constellation). Imagine the following example: <code>fun String.toPojo()</code> within your class <code>PojoReader</code>. As long as your context is <code>PojoReader</code> that function is avaiable to strings, but you probably do not want to make it generally available (even more so, if the <code>PojoReader</code> requires additional setup/configuration to even transform strings to POJOs)."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1542708520, "creation_date": 1542708520, "answer_id": 53390622, "question_id": 53390306, "link": "https://stackoverflow.com/questions/53390306/how-to-call-a-function-on-an-inner-class/53390622#53390622", "title": "How to call a function on an inner class", "body": "<p>In this case, <code>foo</code> is an extension function defined in <code>B</code>. You cannot call these <a href=\"https://kotlinlang.org/docs/reference/extensions.html#declaring-extensions-as-members\" rel=\"nofollow noreferrer\">member extension functions</a> from outside by default. However, it's possible to execute the function when you get into the scope of <code>B</code>, which can be achieved with scoping functions such as <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/with.html\" rel=\"nofollow noreferrer\"><code>with</code></a>. Please be aware that this extension function can only be called on instances of <code>Int</code>.</p>\n\n<pre><code>val a = A()\nval b = a.B()\nwith(b) {\n    5.foo()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1542709529, "post_id": 53390638, "comment_id": 93657262, "body": "Can you please provide an actual example of calling &quot;foo on an Int within the same scope as the extension function&quot;. Thank you."}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1542726073, "post_id": 53390638, "comment_id": 93666875, "body": "That clarifies it but I now realize that you cannot call an extension function (Int.foo). It has to be through another function that is not an extension (caller)"}], "tags": [], "owner": {"reputation": 1104, "user_id": 3271729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90fc036972c653f06e511ebe6bbdf4b?s=128&d=identicon&r=PG&f=1", "display_name": "Eamon Scullion", "link": "https://stackoverflow.com/users/3271729/eamon-scullion"}, "is_accepted": true, "score": 3, "last_activity_date": 1542713104, "last_edit_date": 1542713104, "creation_date": 1542708560, "answer_id": 53390638, "question_id": 53390306, "link": "https://stackoverflow.com/questions/53390306/how-to-call-a-function-on-an-inner-class/53390638#53390638", "title": "How to call a function on an inner class", "body": "<p>Lets look at a more simple example:</p>\n\n<pre><code>class A { \n\n    inner class B { \n\n        fun foo() { \n          // ...\n        }\n    }\n}\n</code></pre>\n\n<p>To call a function within an inner class, you must access it using an instance of the outer class, like so:</p>\n\n<pre><code>A().B().foo()\n</code></pre>\n\n<p>What makes your example more difficult is that <code>Int.foo()</code> is an extension function, so to access it you must call <code>foo()</code> on an <code>Int</code> within the same scope as the extension function:</p>\n\n<pre><code>class A { // outer class A\n    inner class B { // inner class B\n        fun Int.foo() { // entension function foo\n            print(\"Foo called on integer $this\")\n        }\n\n        fun caller(i: Int) { // calls extension function\n            i.foo()\n        }\n    }\n}\n\nfun main() {\n    A().B().caller(10)   // calls extension function in inner class B\n}\n</code></pre>\n\n<p>Here we have added a function <code>caller</code> which is in the same scope as the extension function. The code outputs the following: </p>\n\n<p><code>Foo called on integer 10</code></p>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 53390638, "answer_count": 2, "score": 1, "last_activity_date": 1542713104, "creation_date": 1542707515, "question_id": 53390306, "link": "https://stackoverflow.com/questions/53390306/how-to-call-a-function-on-an-inner-class", "title": "How to call a function on an inner class", "body": "<p>The following code is posted on Kotlin's website:</p>\n\n<pre><code>class A { // implicit label @A\n    inner class B { // implicit label @B\n        fun Int.foo() { // implicit label @foo\n            val a = this@A // A's this\n            val b = this@B // B's this\n\n            val c = this // foo()'s receiver, an Int\n            val c1 = this@foo // foo()'s receiver, an Int\n\n            val funLit = lambda@ fun String.() {\n                val d = this // funLit's receiver\n            }\n\n\n            val funLit2 = { s: String -&gt;\n                // foo()'s receiver, since enclosing lambda expression\n                // doesn't have any receiver\n                val d1 = this\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>It isn't clear to me how you call a function in an inner class. For example, how do you call Int.foo()</p>\n\n<pre><code>var a = A()\na.Int.foo() // This is not allowed.\n</code></pre>\n"}, {"tags": ["arrays", "kotlin"], "comments": [{"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 1, "creation_date": 1542712807, "post_id": 53390285, "comment_id": 93658987, "body": "Could you remove the explicit type check and instead do a safe cast to <code>V1</code> and if that fails then throw the exception?  e.g. <code>return value as? V1 ?: throw ClassCastException(...</code> ?"}, {"owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "reply_to_user": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1542787383, "post_id": 53390285, "comment_id": 93689821, "body": "@YoniGibbs This way it works, thanks a lot! Could you convert your comment to an answer so I can up-vote it?"}], "answers": [{"tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 1, "last_activity_date": 1542787594, "creation_date": 1542787594, "answer_id": 53407625, "question_id": 53390285, "link": "https://stackoverflow.com/questions/53390285/custom-property-delegation-for-arrays-using-a-map/53407625#53407625", "title": "Custom property delegation for arrays using a map", "body": "<p>You could remove the explicit type check and instead do a safe cast to <code>V1</code> and if that fails then throw the exception, e.g.</p>\n\n<pre><code>return value as? V1 ?: throw ClassCastException(... \n</code></pre>\n"}], "owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 53407625, "answer_count": 1, "score": 1, "last_activity_date": 1542787594, "creation_date": 1542707440, "question_id": 53390285, "link": "https://stackoverflow.com/questions/53390285/custom-property-delegation-for-arrays-using-a-map", "title": "Custom property delegation for arrays using a map", "body": "<p>Consider I'm trying to implement <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map\" rel=\"nofollow noreferrer\">delegation by storing properties in a <code>Map</code> instance</a>, and one of the properties delegated is an array:</p>\n\n<pre><code>class Foo private constructor(map: Map&lt;String, Any?&gt;) {\n    constructor(value: Array&lt;Byte&gt;) : this(mapOf(Foo::value.name to value))\n\n    val value: Array&lt;Byte&gt; by map\n}\n\nobject PropertyDelegationTest {\n    @JvmStatic\n    fun main(vararg args: String) {\n        val foo = Foo(arrayOf(42.toByte(), 127.toByte()))\n        println(foo.value[0]) // 42\n        println(foo.value[1]) // 127\n    }\n}\n</code></pre>\n\n<p>The above compiles just fine and works as expected.</p>\n\n<p>Now consider I want to enhance my property delegation mechanism by implementing a custom <code>Map.getValue(thisRef: Any?, property: KProperty&lt;*&gt;)</code> extension method (overriding the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/get-value.html\" rel=\"nofollow noreferrer\">default extension</a>):</p>\n\n<pre><code>import kotlin.reflect.KProperty\nimport kotlin.reflect.full.isSubtypeOf\nimport kotlin.reflect.full.starProjectedType\nimport kotlin.reflect.jvm.jvmName\n\n// ...\n\noperator fun &lt;V, V1 : V&gt; Map&lt;in String, V&gt;.getValue(thisRef: Any?, property: KProperty&lt;*&gt;): V1 {\n    val value = this[property.name]\n                ?: throw NoSuchElementException(\"Key ${property.name} is missing in the map.\")\n    val clazz = (value as Any)::class\n    @Suppress(\"UNCHECKED_CAST\")\n    return when {\n        clazz.starProjectedType.isSubtypeOf(property.returnType) -&gt; value as V1\n        else -&gt; throw ClassCastException(\"${clazz.starProjectedType} (${clazz.jvmName}) cannot be cast to ${property.returnType}\")\n    }\n}\n</code></pre>\n\n<p>This fails at run time:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassCastException: kotlin.Array&lt;*&gt; ([Ljava.lang.Byte;) cannot be cast to kotlin.Array&lt;kotlin.Byte&gt;\n    at com.example.PropertyDelegationTestKt.getValue(PropertyDelegationTest.kt:30)\n    at com.example.Foo.getValue(PropertyDelegationTest.kt)\n    at com.example.PropertyDelegationTest.main(PropertyDelegationTest.kt:18)\n</code></pre>\n\n<p>Despite the effective JVM type is known (<code>[Ljava.lang.Byte;</code>), Kotlin-specific run time type of the value is <code>Array&lt;*&gt;</code> while <code>Array&lt;Byte&gt;</code> is required. Consistently, <code>clazz.typeParameters[0].upperBounds[0]</code> evaluates to <code>kotlin.Any?</code>, <strong>not</strong> <code>kotlin.Byte?</code>.</p>\n\n<p>How do I implement my custom type checking which would also work correctly for arrays? Kotlin version is 1.2.71.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3043, "user_id": 10300673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17821ef80e645b03b63bc87a23152d0d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikos Hidalgo", "link": "https://stackoverflow.com/users/10300673/nikos-hidalgo"}, "edited": false, "score": 0, "creation_date": 1542706791, "post_id": 53390002, "comment_id": 93655591, "body": "where and how are you using those methods? Also does the recycler view disappear?"}, {"owner": {"reputation": 111, "user_id": 10441139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d60ffb00fc256c0608765ae6a75934?s=128&d=identicon&r=PG&f=1", "display_name": "alexC", "link": "https://stackoverflow.com/users/10441139/alexc"}, "reply_to_user": {"reputation": 3043, "user_id": 10300673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17821ef80e645b03b63bc87a23152d0d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikos Hidalgo", "link": "https://stackoverflow.com/users/10300673/nikos-hidalgo"}, "edited": false, "score": 0, "creation_date": 1542707060, "post_id": 53390002, "comment_id": 93655776, "body": "I&#39;ve updated my post. I just want the progress bar to be displayed until the data loads. and then dissapear and show the list."}, {"owner": {"reputation": 111, "user_id": 10441139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d60ffb00fc256c0608765ae6a75934?s=128&d=identicon&r=PG&f=1", "display_name": "alexC", "link": "https://stackoverflow.com/users/10441139/alexc"}, "edited": false, "score": 0, "creation_date": 1542710778, "post_id": 53390002, "comment_id": 93657953, "body": "You are right, my bad. I updated the name of the recycler view. Also the visible() methods are like when you are setting setVisibility(View.VISIBLE) and so on. They are predefined methods in View.kt"}], "owner": {"reputation": 111, "user_id": 10441139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d60ffb00fc256c0608765ae6a75934?s=128&d=identicon&r=PG&f=1", "display_name": "alexC", "link": "https://stackoverflow.com/users/10441139/alexc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542710711, "creation_date": 1542706480, "last_edit_date": 1542710711, "question_id": 53390002, "link": "https://stackoverflow.com/questions/53390002/set-progress-bar-in-center-of-recycler-view-before-the-data-loads-and-disappear", "title": "Set progress bar in center of recycler view before the data loads and disappear after", "body": "<p>So I am following for my project this clean architecure in kotlin (<a href=\"https://github.com/android10/Android-CleanArchitecture-Kotlin\" rel=\"nofollow noreferrer\">https://github.com/android10/Android-CleanArchitecture-Kotlin</a>) and I want to add a progress bar before recycler view loads the data and make it dissapear after the data loads. In this example the progress bar is in a separate toolbar but in my case i want to be in center of the recycler view. </p>\n\n<p>This is my layout:</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=\"@+id/list_wrapper_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"32dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:background=\"@drawable/layout_background\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"parent\"&gt;\n\n   &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=\"@+id/movieList_recyclerView\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginTop=\"16dp\"\n            app:layout_constraintBottom_toTopOf=\"@+id/bottom_navigation_bar\"\n            app:layout_constraintEnd_toEndOf=\"@+id/list_horizontal_guideline_end\"\n            app:layout_constraintStart_toStartOf=\"@+id/list_horizontal_guideline_start\"\n            app:layout_constraintTop_toBottomOf=\"@+id/searchView\"    /&gt;\n\n        &lt;ProgressBar\n            android:id=\"@+id/progressBar\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:indeterminateTint=\"@color/black\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>And in my class: </p>\n\n<pre><code>class MoviesFragment : BaseFragment() {\n\n@Inject lateinit var navigator: Navigator\n@Inject lateinit var moviesAdapter: MoviesAdapter\n\nprivate lateinit var moviesViewModel: MoviesViewModel\n\noverride fun layoutId() = R.layout.fragment_movies\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    appComponent.inject(this)\n    moviesViewModel = viewModel(viewModelFactory) {\n        observe(movies, ::renderMoviesList)\n        failure(failure, ::handleFailure)\n    }\n}\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    initializeView()\n    loadMoviesList()\n}\nprivate fun initializeView() {\n    movieList_recyclerView.layoutManager = StaggeredGridLayoutManager(3, StaggeredGridLayoutManager.VERTICAL)\n    movieList_recyclerView.adapter = moviesAdapter\n}\n\nprivate fun loadMoviesList() {\n    progressBar.visible()\n    movieList_recyclerView.invisibile()\n    moviesViewModel.loadMovies()\n}\nprivate fun renderMoviesList(movies: List&lt;MovieView&gt;?) {\n    moviesAdapter.collection = movies.orEmpty()\n    progressBar.invisible()\n    movieList_recyclerView.visible()\n}\nprivate fun handleFailure(failure: Failure?) {\n    when (failure) {\n        is NetworkConnection -&gt; renderFailure(R.string.failure_network_connection)\n        is ServerError -&gt; renderFailure(R.string.failure_server_error)\n        is ListNotAvailable -&gt; renderFailure(R.string.failure_movies_list_unavailable)\n    }\n}\nprivate fun renderFailure(@StringRes message: Int) {\n    movieList.invisible()\n    emptyView.visible()\n    hideProgress()\n    notifyWithAction(message, R.string.action_refresh, ::loadMoviesList)\n}\n}\n</code></pre>\n\n<p>But the progress bar doesn't show up at all. What am I doing wrong?</p>\n"}, {"tags": ["android", "kotlin", "android-relativelayout", "android-layoutparams"], "owner": {"reputation": 345, "user_id": 6218324, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/df515b182fe93b8fdad41b06f17a5e67?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/6218324/mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542703516, "creation_date": 1542703516, "question_id": 53389175, "link": "https://stackoverflow.com/questions/53389175/view-move-to-top-after-remove-relativelayout-rule-in-android", "title": "View move to top after remove Relativelayout Rule in android", "body": "<p>I've added <code>RelativeLayout</code> into <code>RelativeLayout</code> by using below code.</p>\n\n<pre><code>var _root: ViewGroup? = null\nprivate var _xDelta: Float = 0F\nprivate var _yDelta: Float = 0F\n\nlateinit var layoutParams: RelativeLayout.LayoutParams\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_add)\n\n    _root = findViewById(R.id.root)\n\n    _view = RelativeLayout(this)\n    _view?.setBackgroundColor(Color.BLUE)\n\n    layoutParams = RelativeLayout.LayoutParams(280, 280)\n    layoutParams.leftMargin = 0\n    layoutParams.topMargin = 0\n    layoutParams.bottomMargin = 0\n    layoutParams.rightMargin = 0\n\n    // Adding Rule\n    layoutParams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM)\n    layoutParams.addRule(RelativeLayout.ALIGN_PARENT_RIGHT)\n\n    _view?.layoutParams = layoutParams\n\n    _view?.setOnTouchListener(this)\n    _root?.addView(_view)\n\n}\n</code></pre>\n\n<p>If I touch the view and I move the finger, It will move the view to follow my finger.\nBelow is the code for it :-</p>\n\n<pre><code>override fun onTouch(view: View, event: MotionEvent): Boolean {\n    val X = event.rawX\n    val Y = event.rawY\n    when (event.action and MotionEvent.ACTION_MASK) {\n        MotionEvent.ACTION_DOWN -&gt; {\n            val lParams = view.layoutParams as RelativeLayout.LayoutParams\n            _xDelta = X - lParams.leftMargin\n            _yDelta = Y - lParams.topMargin\n        }\n        MotionEvent.ACTION_UP -&gt; {\n        }\n        MotionEvent.ACTION_POINTER_DOWN -&gt; {\n        }\n        MotionEvent.ACTION_POINTER_UP -&gt; {\n        }\n        MotionEvent.ACTION_MOVE -&gt; {\n\n            // Removing the rule to apply the effects\n            layoutParams.removeRule(RelativeLayout.ALIGN_PARENT_BOTTOM)\n            layoutParams.removeRule(RelativeLayout.ALIGN_PARENT_RIGHT)\n\n            layoutParams = view.layoutParams as RelativeLayout.LayoutParams\n            layoutParams.leftMargin = (X - _xDelta).toInt()\n            layoutParams.topMargin = (Y - _yDelta).toInt()\n            layoutParams.rightMargin = 0\n            layoutParams.bottomMargin = 0\n\n            view.layoutParams = layoutParams\n\n        }\n    }\n    _root?.invalidate()\n    return true\n}\n</code></pre>\n\n<p>But when I touch the view, it moves to the top - left corner. I want it to be at my finger touch area only. It works fine after I touch again. Is ther any solution? Please help.</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1542698819, "post_id": 53387963, "comment_id": 93651572, "body": "Please post the relevant part of your <code>MainActivity</code> too."}], "answers": [{"tags": [], "owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "is_accepted": true, "score": 0, "last_activity_date": 1542699538, "creation_date": 1542699538, "answer_id": 53388275, "question_id": 53387963, "link": "https://stackoverflow.com/questions/53387963/rxjava-networking-cannot-be-instantiated/53388275#53388275", "title": "RxJava Networking cannot be instantiated", "body": "<p>I found out what the issue was. It seems by using the code complete option it ended up making the MainActivity class abstract </p>\n\n<pre><code>abstract class MainActivity : AppCompatActivity()\n{\n /// code base\n}\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>class MainActivity : AppCompatActivity()\n{\n // code base\n}\n</code></pre>\n"}], "owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 53388275, "answer_count": 1, "score": 0, "last_activity_date": 1542699538, "creation_date": 1542698026, "last_edit_date": 1542699398, "question_id": 53387963, "link": "https://stackoverflow.com/questions/53387963/rxjava-networking-cannot-be-instantiated", "title": "RxJava Networking cannot be instantiated", "body": "<p>I am trying to run an application that I rewrote in Kotlin from the following link:\n<a href=\"https://www.androidhive.info/RxJava/android-rxjava-networking-with-retrofit-gson-notes-app/\" rel=\"nofollow noreferrer\">https://www.androidhive.info/RxJava/android-rxjava-networking-with-retrofit-gson-notes-app/</a></p>\n\n<p>The example was originally code base was coded in Java. I am getting the following error upon running the application.</p>\n\n<pre><code>2018-11-16 12:12:38.173 11843-11843/com.touchsides.rxjavanetworking E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.touchsides.rxjavanetworking, PID: 11843\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.touchsides.rxjavanetworking/com.touchsides.rxjavanetworking.view.MainActivity}: java.lang.InstantiationException: java.lang.Class&lt;com.touchsides.rxjavanetworking.view.MainActivity&gt; cannot be instantiated\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2843)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n     Caused by: java.lang.InstantiationException: java.lang.Class&lt;com.touchsides.rxjavanetworking.view.MainActivity&gt; cannot be instantiated\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:69)\n        at android.support.v4.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:43)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1215)\n</code></pre>\n\n<p>The MainActivity code is as follows:</p>\n\n<pre><code>abstract class MainActivity : AppCompatActivity()\n{\n\n    lateinit var apiService: ApiService\n    var disposable = CompositeDisposable()\n    lateinit var mAdapter: NotesAdapter\n    var noteList = ArrayList&lt;Note&gt;()\n\n    companion object\n    {\n        val TAG = MainActivity::class.java.simpleName;\n\n    }\n\n    @BindView(R.id.coordinator_layout) var coordinatorLayout: CoordinatorLayout? = null\n\n    @BindView(R.id.recycler_view) var recyclerView: RecyclerView? = null\n\n    @BindView(R.id.txt_empty_notes_view) var noNotesView: TextView? = null\n\n    override fun onCreate(savedInstanceState: Bundle?)\n    {\n        super.onCreate(savedInstanceState)\n\n        getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR);\n        setContentView(R.layout.activity_main);\n        ButterKnife.bind(this);\n\n        val toolbar = findViewById&lt;Toolbar&gt;(R.id.toolbar)\n        toolbar.setTitle(getString(R.string.activity_title_home))\n        setSupportActionBar(toolbar)\n\n        fab.setOnClickListener { view -&gt;\n\n            showNoteDialog(false, null, -1);\n\n        }\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean\n    {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        menuInflater.inflate(R.menu.menu_main, menu)\n        return true\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean\n    {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        return when (item.itemId)\n        {\n            R.id.action_settings -&gt; true\n            else -&gt; super.onOptionsItemSelected(item)\n        }\n    }\n\n    /**\n     * Registering new user\n     * sending unique id as device identification\n     * https://developer.android.com/training/articles/user-data-ids.html\n     */\n    private fun registerUser()\n    {\n        // unique id to identify the device\n        val uniqueId = UUID.randomUUID().toString()\n\n        disposable.add(apiService.register(uniqueId).subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread()).subscribeWith(\n            object : DisposableSingleObserver&lt;User&gt;()\n            {\n                override fun onSuccess(user: User)\n                {\n                    // Storing user API Key in preferences\n                    user.apiKey?.let { PrefUtils.storeApiKey(applicationContext, it) }\n\n                    Toast.makeText(applicationContext,\n                        \"Device is registered successfully! ApiKey: \" + PrefUtils.getApiKey(applicationContext),\n                        Toast.LENGTH_LONG).show()\n                }\n\n                override fun onError(e: Throwable)\n                {\n                    Log.e(TAG, \"onError: \" + e.message)\n                    showError(e)\n                }\n            }))\n    }\n\n\n    /**\n     * Creating new note\n     */\n    private fun createNote(note: String)\n    {\n        disposable.add(apiService.createNote(note).subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread()).subscribeWith(\n            object : DisposableSingleObserver&lt;Note&gt;()\n            {\n\n                override fun onSuccess(note: Note)\n                {\n                    if (!TextUtils.isEmpty(note.error))\n                    {\n                        Toast.makeText(applicationContext, note.error, Toast.LENGTH_LONG).show()\n                        return\n                    }\n\n                    Log.d(TAG, \"new note created: \" + note.id + \", \" + note.note + \", \" + note.timestamp)\n\n                    // Add new item and notify adapter\n                    noteList.add(0, note)\n                    mAdapter.notifyItemInserted(0)\n\n                    toggleEmptyNotes()\n                }\n\n                override fun onError(e: Throwable)\n                {\n                    Log.e(TAG, \"onError: \" + e.message)\n                    showError(e)\n                }\n            }))\n    }\n\n    /**\n     * Updating a note\n     */\n    private fun updateNote(noteId: Int, note: String, position: Int)\n    {\n        disposable.add(apiService.updateNote(noteId,\n            note).subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread()).subscribeWith(object :\n            DisposableCompletableObserver()\n        {\n            override fun onComplete()\n            {\n                Log.d(TAG, \"Note updated!\")\n\n                val n = noteList.get(position)\n                n.note = (note)\n\n                // Update item and notify adapter\n                noteList.set(position, n)\n                mAdapter.notifyItemChanged(position)\n            }\n\n            override fun onError(e: Throwable)\n            {\n                Log.e(TAG, \"onError: \" + e.message)\n                showError(e)\n            }\n        }))\n    }\n\n    /**\n     * Deleting a note\n     */\n    private fun deleteNote(noteId: Int, position: Int)\n    {\n        Log.e(TAG, \"deleteNote: $noteId, $position\")\n        disposable.add(apiService.deleteNote(noteId).subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread()).subscribeWith(\n            object : DisposableCompletableObserver()\n            {\n                override fun onComplete()\n                {\n                    Log.d(TAG, \"Note deleted! $noteId\")\n\n                    // Remove and notify adapter about item deletion\n                    noteList.removeAt(position)\n                    mAdapter.notifyItemRemoved(position)\n\n                    Toast.makeText(this@MainActivity, \"Note deleted!\", Toast.LENGTH_SHORT).show()\n\n                    toggleEmptyNotes()\n                }\n\n                override fun onError(e: Throwable)\n                {\n                    Log.e(TAG, \"onError: \" + e.message)\n                    showError(e)\n                }\n            }))\n    }\n\n    /**\n     * Shows alert dialog with EditText options to enter / edit\n     * a note.\n     * when shouldUpdate=true, it automatically displays old note and changes the\n     * button text to UPDATE\n     */\n    private fun showNoteDialog(shouldUpdate: Boolean, note: Note?, position: Int)\n    {\n        val layoutInflaterAndroid = LayoutInflater.from(applicationContext)\n        val view = layoutInflaterAndroid.inflate(R.layout.note_dialog, null)\n\n        val alertDialogBuilderUserInput = AlertDialog.Builder(this@MainActivity)\n        alertDialogBuilderUserInput.setView(view)\n\n        val inputNote = view.findViewById&lt;EditText&gt;(R.id.note)\n        val dialogTitle = view.findViewById&lt;TextView&gt;(R.id.dialog_title)\n        dialogTitle.setText(if (!shouldUpdate) getString(R.string.lbl_new_note_title) else getString(R.string.lbl_edit_note_title))\n\n        if (shouldUpdate &amp;&amp; note != null)\n        {\n            inputNote.setText(note.note)\n        }\n        alertDialogBuilderUserInput.setCancelable(false).setPositiveButton(if (shouldUpdate) \"update\" else \"save\",\n            DialogInterface.OnClickListener { dialogBox, id -&gt; })\n            .setNegativeButton(\"cancel\", DialogInterface.OnClickListener { dialogBox, id -&gt; dialogBox.cancel() })\n\n        val alertDialog = alertDialogBuilderUserInput.create()\n        alertDialog.show()\n\n        alertDialog.getButton(AlertDialog.BUTTON_POSITIVE).setOnClickListener(View.OnClickListener {\n            // Show toast message when no text is entered\n            if (TextUtils.isEmpty(inputNote.text.toString()))\n            {\n                Toast.makeText(this@MainActivity, \"Enter note!\", Toast.LENGTH_SHORT).show()\n                return@OnClickListener\n            } else\n            {\n                alertDialog.dismiss()\n            }\n\n            // check if user updating note\n            if (shouldUpdate &amp;&amp; note != null)\n            {\n                // update note by it's id\n                updateNote(note.id, inputNote.text.toString(), position)\n            } else\n            {\n                // create new note\n                createNote(inputNote.text.toString())\n            }\n        })\n    }\n\n    /**\n     * Opens dialog with Edit - Delete options\n     * Edit - 0\n     * Delete - 0\n     */\n    private fun showActionsDialog(position: Int)\n    {\n        val colors = arrayOf&lt;CharSequence&gt;(\"Edit\", \"Delete\")\n\n        val builder = AlertDialog.Builder(this)\n        builder.setTitle(\"Choose option\")\n        builder.setItems(colors) { dialog, which -&gt;\n            if (which == 0)\n            {\n                showNoteDialog(true, noteList.get(position), position)\n            } else\n            {\n                deleteNote(noteList.get(position).id, position)\n            }\n        }\n        builder.show()\n    }\n\n    private fun toggleEmptyNotes()\n    {\n        if (noteList.size &gt; 0)\n        {\n            noNotesView?.setVisibility(View.GONE)\n        } else\n        {\n            noNotesView?.setVisibility(View.VISIBLE)\n        }\n    }\n\n\n    /**\n     * Showing a Snackbar with error message\n     * The error body will be in json format\n     * {\"error\": \"Error message!\"}\n     */\n    fun showError(e: Throwable)\n    {\n        var message = \"\"\n        try\n        {\n            if (e is IOException)\n            {\n                message = \"No internet connection!\"\n            }\n            else (e is HttpException)\n            {\n                var error = e as HttpException\n                var errorBody = error.response().errorBody().toString()\n                val jObj = JSONObject(errorBody)\n                message = jObj.getString(\"error\")\n            }\n\n        }\n        catch (e1: IOException)\n        {\n            e1.printStackTrace()\n        }\n        catch (e1: JSONException)\n        {\n            e1.printStackTrace()\n        }\n        catch (e1: Exception)\n        {\n            e1.printStackTrace()\n        }\n\n        if (TextUtils.isEmpty(message))\n        {\n            message = \"Unknown error occurred! Check LogCat.\";\n        }\n\n        val snackbar = coordinatorLayout?.let { Snackbar.make(it, message, Snackbar.LENGTH_LONG) }\n\n        val sbView = snackbar?.getView()\n        val textView = sbView?.findViewById&lt;TextView&gt;(android.support.design.R.id.snackbar_text)\n        textView?.setTextColor(Color.YELLOW)\n        snackbar?.show()\n    }\n\n    fun whiteNotificationBar(view: View)\n    {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M)\n        {\n            var flags = view.getSystemUiVisibility();\n            flags = View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR;\n            view.setSystemUiVisibility(flags);\n            getWindow().setStatusBarColor(Color.WHITE);\n        }\n    }\n\n    override fun onDestroy()\n    {\n        super.onDestroy()\n        disposable.dispose()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 2, "last_activity_date": 1542696676, "creation_date": 1542696676, "answer_id": 53387672, "question_id": 53387642, "link": "https://stackoverflow.com/questions/53387642/kotlin-how-to-create-a-class-member-function-similar-to-textview-settextstrin/53387672#53387672", "title": "Kotlin - How to create a class member function similar to TextView.setText(String) that can be invoked as TextView.text = &quot;&quot;", "body": "<p>You need to define a property:</p>\n\n<pre><code>var text: String\n    get() = txt_title.text\n    set(value) { txt_title.text = value }\n</code></pre>\n"}], "owner": {"reputation": 1754, "user_id": 5251407, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/o4raw.jpg?s=128&g=1", "display_name": "Akhil Soman", "link": "https://stackoverflow.com/users/5251407/akhil-soman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 53387672, "answer_count": 1, "score": 1, "last_activity_date": 1542696676, "creation_date": 1542696535, "question_id": 53387642, "link": "https://stackoverflow.com/questions/53387642/kotlin-how-to-create-a-class-member-function-similar-to-textview-settextstrin", "title": "Kotlin - How to create a class member function similar to TextView.setText(String) that can be invoked as TextView.text = &quot;&quot;", "body": "<p>What i am trying to create is a Custom AlertDialogBox for which i would like to invoke the \"setTitle()\" method as <code>alertObject.title = \"SomeTitle\"</code>. My current AlertDialog code is as below</p>\n\n<pre><code>class AlertBox(context: Context) : BaseDialogHelper() {\n\noverride val dialogView: View by lazy {\n    LayoutInflater.from(context).inflate(R.layout.custom_dialog, null)\n}\n\noverride val builder: AlertDialog.Builder = AlertDialog.Builder(context).setView(dialogView)\n\nval txt_title: TextView by lazy {\n    dialogView.findViewById&lt;TextView&gt;(R.id.txt_title)\n}\n\nval txt_message: TextView by lazy {\n    dialogView.findViewById&lt;TextView&gt;(R.id.txt_message)\n}\n\nval btn_ok: Button by lazy {\n    dialogView.findViewById&lt;Button&gt;(R.id.btn_done)\n}\n\nval btn_cancel: Button by lazy {\n    dialogView.findViewById&lt;Button&gt;(R.id.btn_cancel)\n}\n\n//These are the methods that i want to change\nfun setTitle(title: String) {\n    txt_title.text = title\n}\n\nfun setMessage(message: String) {\n    txt_message.text = message\n}\n\n\nfun onOkButtonClickListener(func: (() -&gt; Unit)? = null) = with(btn_ok) {\n    setClickListenerToButton(func)\n}\n\nfun onCancelButtonClickListener(func: (() -&gt; Unit)? = null) = with(btn_cancel) {\n    setClickListenerToButton(func)\n}\n\n\nprivate fun View.setClickListenerToButton(func: (() -&gt; Unit)?) = setOnClickListener {\n    func?.invoke()\n    dialog?.dismiss()\n}\n\n\n}\n</code></pre>\n\n<p>I would like create a class member function similar to TextView.setText(String) that can be invoked as TextView.text = \"\". Can this be done for custom classes...?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 340, "user_id": 7771545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TmMPXnIpzBc/AAAAAAAAAAI/AAAAAAAAABc/5fjz56hpjBs/photo.jpg?sz=128", "display_name": "Rafael Guimar&#227;es", "link": "https://stackoverflow.com/users/7771545/rafael-guimar%c3%a3es"}, "edited": false, "score": 0, "creation_date": 1559159700, "post_id": 53387550, "comment_id": 99338268, "body": "Is there a way to build push notifications withou firebase? example: android app with php backend-server, send notification to app from server."}], "tags": [], "owner": {"reputation": 1346, "user_id": 2534612, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/80092c09953205432249cc4ab1003e14?s=128&d=identicon&r=PG", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/2534612/jarvis"}, "is_accepted": false, "score": 0, "last_activity_date": 1542696000, "creation_date": 1542696000, "answer_id": 53387550, "question_id": 53387399, "link": "https://stackoverflow.com/questions/53387399/notification-not-showing-when-app-is-in-foreground-in-kotlin/53387550#53387550", "title": "Notification not showing when app is in foreground in Kotlin", "body": "<p>FCM has sent two type of notification</p>\n\n<ol>\n<li>Notification Message</li>\n<li>Data Message</li>\n</ol>\n\n<p>Send the <strong>data message</strong> to show a notification when the app in the background </p>\n\n<p>For more details check the below link</p>\n\n<p><a href=\"https://firebase.google.com/docs/cloud-messaging/concept-options#data_messages\" rel=\"nofollow noreferrer\">Firebase data message</a></p>\n"}, {"comments": [{"owner": {"reputation": 1089, "user_id": 498146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22d0ded7ef92729f7ed3894cbb515b35?s=128&d=identicon&r=PG", "display_name": "Ramesh Yankati", "link": "https://stackoverflow.com/users/498146/ramesh-yankati"}, "reply_to_user": {"reputation": 429, "user_id": 6274671, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NR69m.jpg?s=128&g=1", "display_name": "Rakesh kushwaha", "link": "https://stackoverflow.com/users/6274671/rakesh-kushwaha"}, "edited": false, "score": 0, "creation_date": 1542699114, "post_id": 53387764, "comment_id": 93651736, "body": "channel ID has to be same but name can be anything.I mean what you pass to notification builder and the created channel ID has to be same."}], "tags": [], "owner": {"reputation": 1089, "user_id": 498146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22d0ded7ef92729f7ed3894cbb515b35?s=128&d=identicon&r=PG", "display_name": "Ramesh Yankati", "link": "https://stackoverflow.com/users/498146/ramesh-yankati"}, "is_accepted": false, "score": 0, "last_activity_date": 1542697132, "creation_date": 1542697132, "answer_id": 53387764, "question_id": 53387399, "link": "https://stackoverflow.com/questions/53387399/notification-not-showing-when-app-is-in-foreground-in-kotlin/53387764#53387764", "title": "Notification not showing when app is in foreground in Kotlin", "body": "<p>Are you creating channel by name   \"bks-channel\" ? Looks like you are not creating bks-channel instead you are creating channel by name bks.</p>\n\n<p>Update your create channel method.</p>\n\n<pre><code> @TargetApi(26)\n  private fun createChannel(notificationManager: NotificationManager)  {\n    val name = \"bks-channel\"\n    val description = \"bks\"\n    val importance = NotificationManager.IMPORTANCE_DEFAULT\n    val mChannel = NotificationChannel(name, name, importance)\n    mChannel.description = description\n    mChannel.enableLights(true)\n    mChannel.lightColor = Color.BLUE\n    notificationManager.createNotificationChannel(mChannel)\n  }\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 6274671, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NR69m.jpg?s=128&g=1", "display_name": "Rakesh kushwaha", "link": "https://stackoverflow.com/users/6274671/rakesh-kushwaha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 924, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1542697499, "creation_date": 1542695193, "last_edit_date": 1542697499, "question_id": 53387399, "link": "https://stackoverflow.com/questions/53387399/notification-not-showing-when-app-is-in-foreground-in-kotlin", "title": "Notification not showing when app is in foreground in Kotlin", "body": "<p>I am using Firebase push notification in kotlin and below are the code snippet for showing push notification </p>\n\n<pre><code> mNotifyManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n        createChannel(mNotifyManager)\n    val mBuilder = NotificationCompat.Builder(this, \"bks-channel\")\n            .setLargeIcon(largeIcon)\n            .setContentTitle(\"Bks\")\n            .setSmallIcon(R.drawable.app_icon)\n            .setContentText(message)\n            .setSound(defaultSoundUri)\n            .setContentIntent(pendingIntent)\n    mNotifyManager.notify(getRandomNumber(), mBuilder.build())\n</code></pre>\n\n<p>And the createChannel() function is :</p>\n\n<pre><code>    @TargetApi(26)\nprivate fun createChannel(notificationManager: NotificationManager)\n{\n    val name = \"bks\"\n    val description = \"bks\"\n    val importance = NotificationManager.IMPORTANCE_DEFAULT\n\n    val mChannel = NotificationChannel(name, name, importance)\n    mChannel.description = description\n    mChannel.enableLights(true)\n    mChannel.lightColor = Color.BLUE\n    notificationManager.createNotificationChannel(mChannel)\n}\n</code></pre>\n\n<p>Below are the server logs:</p>\n\n<pre><code> array(1) {\n  [9]=&gt;\n  array(2) {\n    [\"name\"]=&gt;\n    string(14) \"ABL Staff USER\"\n    [\"fcm_response\"]=&gt;\n    array(2) {\n      [\"fields\"]=&gt;\n      array(3) {\n        [\"data\"]=&gt;\n        array(4) {\n          [\"click_action\"]=&gt;\n          int(2)\n          [\"title\"]=&gt;\n          string(19) \"Attendance Reminder\"\n          [\"body\"]=&gt;\n          string(49) \"Hi ABL Staff USER, Please mark your attendance ! \"\n          [\"sound\"]=&gt;\n          string(7) \"default\"\n        }\n        [\"registration_ids\"]=&gt;\n        array(11) {\n          [0]=&gt;\n          string(152) \"device_token_1\"\n        }\n        [\"notification\"]=&gt;\n        array(4) {\n          [\"click_action\"]=&gt;\n          int(2)\n          [\"title\"]=&gt;\n          string(19) \"Attendance Reminder\"\n          [\"body\"]=&gt;\n          string(49) \"Hi ABL Staff USER, Please mark your attendance ! \"\n          [\"sound\"]=&gt;\n          string(7) \"default\"\n        }\n      }\n</code></pre>\n\n<p>Same are working for below android o in foreground and background but not in android o or above</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 681, "user_id": 5768459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y5pIr.jpg?s=128&g=1", "display_name": "Rohit Surwase", "link": "https://stackoverflow.com/users/5768459/rohit-surwase"}, "edited": false, "score": 1, "creation_date": 1542694413, "post_id": 53387147, "comment_id": 93649938, "body": "Is it necessary? I thought fallbackToDestructiveMigration() would drop old DB and create a new one but if we need to upgrade DB version it is like a workaround for database migration. Please correct me if I am wrong."}, {"owner": {"reputation": 681, "user_id": 5768459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y5pIr.jpg?s=128&g=1", "display_name": "Rohit Surwase", "link": "https://stackoverflow.com/users/5768459/rohit-surwase"}, "edited": false, "score": 0, "creation_date": 1542694573, "post_id": 53387147, "comment_id": 93649998, "body": "Realm DB does have a similar flag which drops old DB and creates a new one if required."}], "tags": [], "owner": {"reputation": 171, "user_id": 10678139, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bsXV1J-Wf_w/AAAAAAAAAAI/AAAAAAAAABQ/UqfRUX5VKiw/photo.jpg?sz=128", "display_name": "Toe Lie", "link": "https://stackoverflow.com/users/10678139/toe-lie"}, "is_accepted": false, "score": 0, "last_activity_date": 1542694627, "last_edit_date": 1542694627, "creation_date": 1542693974, "answer_id": 53387147, "question_id": 53387024, "link": "https://stackoverflow.com/questions/53387024/getting-error-room-cannot-verify-the-data-integrity-even-after-adding-fallbac/53387147#53387147", "title": "Getting error Room cannot verify the data integrity... even after adding fallbackToDestructiveMigration()", "body": "<p>I think you forgot to increase the database <strong>version</strong>. You have to increase the database <strong>version</strong> after you update the database schemas.</p>\n\n<pre><code>@Database(\n        entities = [SampleEntity::class],\n        version = 1\n)\n\nabstract class AppDatabase : RoomDatabase() {\n}\n</code></pre>\n"}], "owner": {"reputation": 681, "user_id": 5768459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y5pIr.jpg?s=128&g=1", "display_name": "Rohit Surwase", "link": "https://stackoverflow.com/users/5768459/rohit-surwase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1360, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1542694627, "creation_date": 1542693267, "question_id": 53387024, "link": "https://stackoverflow.com/questions/53387024/getting-error-room-cannot-verify-the-data-integrity-even-after-adding-fallbac", "title": "Getting error Room cannot verify the data integrity... even after adding fallbackToDestructiveMigration()", "body": "<p>Why am I getting error <code>Room cannot verify the data integrity. Looks like you've changed schema but forgot to update the version number. You can simply fix this by increasing the version number.</code> even after adding <code>.fallbackToDestructiveMigration()</code> in Android?</p>\n\n<pre><code>private fun buildDatabase(context: Context): AppDatabase {\n        val appDatabase = Room.databaseBuilder(context.applicationContext,\n                AppDatabase::class.java,\n                DATABASE_NAME\n        )\n        if (BuildConfig.DEBUG) {\n            appDatabase.fallbackToDestructiveMigration()\n        }\n        return appDatabase.build()\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "button"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1542690149, "post_id": 53386498, "comment_id": 93648613, "body": "That IDE message about the special ID data type is from lint. You should be able to suppress it. Put your cursor on the problematic line, and hit alt-enter. There should be a menu item for it."}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1542690281, "post_id": 53386498, "comment_id": 93648648, "body": "if you have only your custom buttons with id you can get all the childs of coordinator layout and iterate over them."}, {"owner": {"reputation": 5, "user_id": 10677582, "user_type": "registered", "profile_image": "https://graph.facebook.com/2335056523203267/picture?type=large", "display_name": "Roman  Voronov", "link": "https://stackoverflow.com/users/10677582/roman-voronov"}, "edited": false, "score": 1, "creation_date": 1542691104, "post_id": 53386498, "comment_id": 93648885, "body": "Mike, thanks! I&#39;ve tryed to use <b>val btn = constraintLayout.findViewById&lt;View&gt;(101) as Button</b> and via <b>toast</b> I was able to confirm it&#39;s the right button by <b>btn.text.toString()</b>"}], "answers": [{"comments": [{"owner": {"reputation": 528, "user_id": 1552960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f0b8658a9c8761c7cfad055caed0c0a?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1552960/brandon"}, "edited": false, "score": 0, "creation_date": 1542691270, "post_id": 53386625, "comment_id": 93648941, "body": "If you set that buttons iD can you access it via the id like you would with views in XML file?"}], "tags": [], "owner": {"reputation": 472, "user_id": 7002689, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207379979364379/picture?type=large", "display_name": "Leonardo Velozo", "link": "https://stackoverflow.com/users/7002689/leonardo-velozo"}, "is_accepted": true, "score": 0, "last_activity_date": 1542691535, "last_edit_date": 1542691535, "creation_date": 1542690862, "answer_id": 53386625, "question_id": 53386498, "link": "https://stackoverflow.com/questions/53386498/how-to-refer-to-a-dynamically-generated-button/53386625#53386625", "title": "How to refer to a dynamically generated button?", "body": "<p>If you created it dynamically you can save it in a variable (or an array) for later use.</p>\n\n<pre><code>val myButtons = ArrayList&lt;Button&gt;()\n\nfor (i in 1..size) {\n    for (j in 1..size){\n        val button = Button(this)\n        myButtons.add(button)\n        constraintLayout.addView(button)\n    }\n}\n</code></pre>\n\n<p>if you have a layout with dynamically created views and you know their order you can get them with <code>getChildAt(index)</code>.</p>\n\n<p>Alternatively you can assign ids saved in xml <a href=\"https://stackoverflow.com/a/3217786/7002689\">like this</a>.</p>\n"}], "owner": {"reputation": 5, "user_id": 10677582, "user_type": "registered", "profile_image": "https://graph.facebook.com/2335056523203267/picture?type=large", "display_name": "Roman  Voronov", "link": "https://stackoverflow.com/users/10677582/roman-voronov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "accepted_answer_id": 53386625, "answer_count": 1, "score": 0, "last_activity_date": 1598202988, "creation_date": 1542690008, "last_edit_date": 1598202988, "question_id": 53386498, "link": "https://stackoverflow.com/questions/53386498/how-to-refer-to-a-dynamically-generated-button", "title": "How to refer to a dynamically generated button?", "body": "<p>I am trying to interact with dynamically generated buttons. I want to update text and background color for those player clicked and for those who is near by horizontal or vertical axis at the moment of a click.</p>\n<p><strong>What I've tried</strong>. I've found an id property of a button in XML which led me to idea that I can make a text key to refer to a programmatically generated button. But when I've tried to assign an id - IDE was expecting a number (Int), not a string. Since buttons form a square array - I decided to encode each button via 4 digit number where first 2 digits stand for a row number and other two stand for a column number. Though when I tried to use <strong>findViewById</strong> IDE told me that it was expecting a special id data type, not a number.</p>\n<p>That's how it looks for now:</p>\n<pre><code>for (i in 1..size) {\n    for (j in 1..size){\n        val button = Button(this)\n        button.id = i*100 + j\n        constraintLayout.addView(button)\n    }\n}\n</code></pre>\n<p>What idea or method could I look at?</p>\n"}, {"tags": ["android", "ios", "swift", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 469, "user_id": 318991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rsOP6.jpg?s=128&g=1", "display_name": "Andreas ZUERCHER", "link": "https://stackoverflow.com/users/318991/andreas-zuercher"}, "is_accepted": false, "score": 0, "last_activity_date": 1616723610, "creation_date": 1616723610, "answer_id": 66809997, "question_id": 53386214, "link": "https://stackoverflow.com/questions/53386214/using-a-swift-framework-in-kotlin/66809997#66809997", "title": "Using A Swift Framework In Kotlin", "body": "<p>Your question mixes several goals in ways that are unlikely to ever result in a productive outcome.  You have several choices:</p>\n<ol>\n<li>Develop in Swift on Android.  Apple's own advice for starting down this path is at <a href=\"https://github.com/apple/swift/blob/main/docs/Android.md\" rel=\"nofollow noreferrer\">https://github.com/apple/swift/blob/main/docs/Android.md</a>  but certainly this will be a lengthy journey far beyond what Apple initiates in that introduction.</li>\n<li>Meticulously &amp; faithfully duplicate the Swift source code's functionality in Kotlin source code and forget about all interest in Swift frameworks (especially Swift frameworks from Apple, because they will never be on Android).</li>\n<li>Rearchitect your application so that it uses VIPER (View, Interactor, Presenter, Entity, and Routing) software architecture so that Swift on iOS/MacOS/WatchOS/tvOS is quarantined into view &amp; presenter zones and so that Kotlin on Android is quarantined into view &amp; presenter zones but business logic written in a portable lingua-franca language (say, C++) is quarantined in interactor zone.  This is substantially similar to the MVVM software architecture utilized by Xamarin.Mac &amp; Xamarin.Android to quarantine UI stuff away from business-logic stuff (although usually the language utilized everywhere in a nonForms Xamarin app is C# throughout).  VIPER simply goes to the Nth degree further toward these strict-separation-of-concerns goals than MVVM tries to go.</li>\n</ol>\n"}], "owner": {"reputation": 4398, "user_id": 2234641, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sQDp3.jpg?s=128&g=1", "display_name": "Alex Pelletier", "link": "https://stackoverflow.com/users/2234641/alex-pelletier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1616723610, "creation_date": 1542687948, "question_id": 53386214, "link": "https://stackoverflow.com/questions/53386214/using-a-swift-framework-in-kotlin", "title": "Using A Swift Framework In Kotlin", "body": "<p>Background: I have a large swift application with a substantial amount of business logic for an app. We have recently begun work on an android clone of the app (in Kotlin). </p>\n\n<p>I would like to refactor the business logic into several swift frameworks and then export the swift frameworks for android. I understand only the swift stdlib can be used in shared code. </p>\n\n<p>I seen some examples like <a href=\"https://github.com/apple/swift/blob/master/docs/Android.md\" rel=\"nofollow noreferrer\">this one</a> that show how to run swift code on an android device. However I have also read that swift does nothing to help the bridging to java. I've seen some swift -> kotlin converters, but I don't want to do that.</p>\n\n<p>tl;dr; What is the best way to run a swift framework on android and interface with it in Kotlin?</p>\n"}, {"tags": ["android", "button", "kotlin", "size"], "comments": [{"owner": {"reputation": 7532, "user_id": 1753073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84fc25306e27dd3393559721ba869cd?s=128&d=identicon&r=PG", "display_name": "navylover", "link": "https://stackoverflow.com/users/1753073/navylover"}, "edited": false, "score": 0, "creation_date": 1542680744, "post_id": 53385270, "comment_id": 93646620, "body": "Maybe you set minwidth or the button may be constrained by its parent. Layout xml file could tell us."}, {"owner": {"reputation": 381, "user_id": 2661298, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4c426e73a97e5a01eb1ef6b020d34f73?s=128&d=identicon&r=PG", "display_name": "Andrey Busik", "link": "https://stackoverflow.com/users/2661298/andrey-busik"}, "edited": false, "score": 0, "creation_date": 1542680776, "post_id": 53385270, "comment_id": 93646630, "body": "Can you show us your xml layout? Is it necessarily for you to create button from code?"}, {"owner": {"reputation": 5, "user_id": 10677582, "user_type": "registered", "profile_image": "https://graph.facebook.com/2335056523203267/picture?type=large", "display_name": "Roman  Voronov", "link": "https://stackoverflow.com/users/10677582/roman-voronov"}, "edited": false, "score": 0, "creation_date": 1542681699, "post_id": 53385270, "comment_id": 93646801, "body": "I&#39;ve added xml of Activity to the main post. Yes, it is necessary for me to create a button from code: I want to make a logic game with a square grid of buttons. The higher difficulty - the more buttons I want to place on the screen."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 10677582, "user_type": "registered", "profile_image": "https://graph.facebook.com/2335056523203267/picture?type=large", "display_name": "Roman  Voronov", "link": "https://stackoverflow.com/users/10677582/roman-voronov"}, "edited": false, "score": 0, "creation_date": 1542684732, "post_id": 53385752, "comment_id": 93647347, "body": "Thanks, but it didn&#39;t help. I&#39;ve placed setOnClickListener part stright after addView method. Android Studio wrote &quot;it: View!&quot; after &quot;{&quot; bracket. This method didn&#39;t work with height inside &quot;{}&quot; brackets either."}, {"owner": {"reputation": 381, "user_id": 2661298, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4c426e73a97e5a01eb1ef6b020d34f73?s=128&d=identicon&r=PG", "display_name": "Andrey Busik", "link": "https://stackoverflow.com/users/2661298/andrey-busik"}, "reply_to_user": {"reputation": 5, "user_id": 10677582, "user_type": "registered", "profile_image": "https://graph.facebook.com/2335056523203267/picture?type=large", "display_name": "Roman  Voronov", "link": "https://stackoverflow.com/users/10677582/roman-voronov"}, "edited": false, "score": 0, "creation_date": 1542684858, "post_id": 53385752, "comment_id": 93647365, "body": "Have you clicked on the button?:)"}, {"owner": {"reputation": 5, "user_id": 10677582, "user_type": "registered", "profile_image": "https://graph.facebook.com/2335056523203267/picture?type=large", "display_name": "Roman  Voronov", "link": "https://stackoverflow.com/users/10677582/roman-voronov"}, "edited": false, "score": 0, "creation_date": 1542685121, "post_id": 53385752, "comment_id": 93647419, "body": "Uh... Actually I didn&#39;t :D Thanks! Now new width applies after button is clicked. Is there a way to apply those conditions without tapping manually?"}, {"owner": {"reputation": 5, "user_id": 10677582, "user_type": "registered", "profile_image": "https://graph.facebook.com/2335056523203267/picture?type=large", "display_name": "Roman  Voronov", "link": "https://stackoverflow.com/users/10677582/roman-voronov"}, "edited": false, "score": 0, "creation_date": 1542685635, "post_id": 53385752, "comment_id": 93647523, "body": "I got it! The trick is inside <b>button.layoutParams.width</b>! In my case usual <b>button.width</b> can be excluded. Thanks again!"}, {"owner": {"reputation": 5, "user_id": 10677582, "user_type": "registered", "profile_image": "https://graph.facebook.com/2335056523203267/picture?type=large", "display_name": "Roman  Voronov", "link": "https://stackoverflow.com/users/10677582/roman-voronov"}, "edited": false, "score": 1, "creation_date": 1542685997, "post_id": 53385752, "comment_id": 93647616, "body": "UPD: as I see, width must be changed AFTER <b>addView</b> is applied. Othervise app crashes or renders inappropriate width (and so does height)."}], "tags": [], "owner": {"reputation": 381, "user_id": 2661298, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4c426e73a97e5a01eb1ef6b020d34f73?s=128&d=identicon&r=PG", "display_name": "Andrey Busik", "link": "https://stackoverflow.com/users/2661298/andrey-busik"}, "is_accepted": true, "score": 1, "last_activity_date": 1542685917, "last_edit_date": 1542685917, "creation_date": 1542684140, "answer_id": 53385752, "question_id": 53385270, "link": "https://stackoverflow.com/questions/53385270/android-kotlin-how-to-overcome-a-minimal-width-limit-of-a-button/53385752#53385752", "title": "Android - Kotlin - How to overcome a minimal width limit of a button?", "body": "<p>Short answer:</p>\n\n<pre><code>val button = Button(this)\nval layoutParams = ViewGroup.LayoutParams(\n    50, // you can set initial width here\n    ViewGroup.LayoutParams.WRAP_CONTENT\n)\nconstraintLayout.addView(button, layoutParams)\n</code></pre>\n\n<hr>\n\n<p>Some details:</p>\n\n<pre><code>// create a button\nval button = Button(this)\n\n// crate a layout params you want this button to be added to ViewGroup with\nval layoutParams = ViewGroup.LayoutParams(\n    ViewGroup.LayoutParams.WRAP_CONTENT,\n    ViewGroup.LayoutParams.WRAP_CONTENT\n)\n\n// add a button to ViewGroup with layout params\nconstraintLayout.addView(button, layoutParams)\n\n// set initial width\nbutton.layoutParams.width = 50\nbutton.width = 50\n\n// increase width of button for 10 with each click\nbutton.setOnClickListener {\n    button.layoutParams.width += 10\n    button.width += 10\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 10677582, "user_type": "registered", "profile_image": "https://graph.facebook.com/2335056523203267/picture?type=large", "display_name": "Roman  Voronov", "link": "https://stackoverflow.com/users/10677582/roman-voronov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "accepted_answer_id": 53385752, "answer_count": 1, "score": 0, "last_activity_date": 1542685917, "creation_date": 1542680121, "last_edit_date": 1542683747, "question_id": 53385270, "link": "https://stackoverflow.com/questions/53385270/android-kotlin-how-to-overcome-a-minimal-width-limit-of-a-button", "title": "Android - Kotlin - How to overcome a minimal width limit of a button?", "body": "<p>I am trying to manipulate a width of an android button with Kotlin using minSdkVersion 19 or higher (test phone has Android 8.0.0, API 26). When I try to make a button smaller I see that it's width couldn't pass some threshold approximately above 200px.</p>\n\n<p>That's how I create and manipulate a button:</p>\n\n<pre><code>val button = Button(this)\nbutton.width = btn_side // btn_side = 175\nconstraintLayout.addView(button)\n</code></pre>\n\n<p><strong>What I've already tryed</strong>. Different layouts: TableLayout, ConstraintLayout. I've tryed to set textSize to zero in case if it interfered with button width. Or to replace any button text with null string. I've tryed to apply zero or 10px minWidth to a button. I've played with setPadding button method. I've tryed to assign width via layoutParams property. None of which helped.</p>\n\n<p>What am I missing?</p>\n\n<p>Here is my xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".GameFieldActivity\"\n        android:id=\"@+id/constraintLayout\"\n&gt;\n</code></pre>\n\n<p><strong>* UPD *</strong>\nSomeone deleted an answer with possibly useful hint: there might be a way to use different <a href=\"https://developer.android.com/reference/android/widget/Button\" rel=\"nofollow noreferrer\">button constructors</a>. Might be there is a way to pass desired button width through <a href=\"https://developer.android.com/reference/android/util/AttributeSet\" rel=\"nofollow noreferrer\">AttributeSet</a>.</p>\n"}, {"tags": ["kotlin", "jvm-bytecode"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1542678422, "post_id": 53384931, "comment_id": 93646119, "body": "What do you mean by &quot;the output&quot;, output of what?  The class bytecodes decompiled into Java?"}], "answers": [{"comments": [{"owner": {"reputation": 276, "user_id": 4242110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee80115f74d16a2c1707f713431f2d16?s=128&d=identicon&r=PG&f=1", "display_name": "Jenus Dong", "link": "https://stackoverflow.com/users/4242110/jenus-dong"}, "edited": false, "score": 0, "creation_date": 1585709285, "post_id": 53385135, "comment_id": 107855260, "body": "Thanks for your explanation, yes,  this way it can be understood rightly.  What way does your actual output come from? No using decompiler?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 276, "user_id": 4242110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee80115f74d16a2c1707f713431f2d16?s=128&d=identicon&r=PG&f=1", "display_name": "Jenus Dong", "link": "https://stackoverflow.com/users/4242110/jenus-dong"}, "edited": false, "score": 0, "creation_date": 1585949618, "post_id": 53385135, "comment_id": 107955587, "body": "@JenusDong Kotlin plugins to Intellij has a View Bytecode option, anyone can see what the compiler is doing."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 7, "last_activity_date": 1542678796, "creation_date": 1542678796, "answer_id": 53385135, "question_id": 53384931, "link": "https://stackoverflow.com/questions/53384931/why-kotlin-decompiler-generates-null-instance/53385135#53385135", "title": "Why Kotlin decompiler generates null.INSTANCE", "body": "<p>Use the Kotlin bytecode inspector to see what is being generated as JVM bytecode rather than trying to decompile bytecode to Java, which likely won't work for code generated by a different language compiler because it might not follow the expected patterns.  A bytecode decompiler does not always generate working code.</p>\n\n<blockquote>\n  <p>JVM bytecode != Java language specific</p>\n  \n  <p>Kotlin generated JVM bytecode != Java generated JVM bytecode</p>\n</blockquote>\n\n<p>The NULL instance you are seeing is a misinterpretation by your decompiler, and you can see all references to <code>INSTANCE</code> in the bytecode are setting values correctly.</p>\n\n<p>This is the actual output:</p>\n\n\n\n<pre><code>// ================Stackoverflow_53384931Kt.class =================\n// class version 52.0 (52)\n// access flags 0x31\npublic final class Stackoverflow_53384931Kt {\n\n\n  // access flags 0x1A\n  // signature Lkotlin/jvm/functions/Function0&lt;Lkotlin/Unit;&gt;;\n  // declaration: kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt;\n  private final static Lkotlin/jvm/functions/Function0; printKotlin\n  @Lorg/jetbrains/annotations/NotNull;() // invisible\n\n  // access flags 0x19\n  // signature ()Lkotlin/jvm/functions/Function0&lt;Lkotlin/Unit;&gt;;\n  // declaration: kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt; getPrintKotlin()\n  public final static getPrintKotlin()Lkotlin/jvm/functions/Function0;\n  @Lorg/jetbrains/annotations/NotNull;() // invisible\n   L0\n    LINENUMBER 3 L0\n    GETSTATIC Stackoverflow_53384931Kt.printKotlin : Lkotlin/jvm/functions/Function0;\n    ARETURN\n   L1\n    MAXSTACK = 1\n    MAXLOCALS = 0\n\n  // access flags 0x8\n  static &lt;clinit&gt;()V\n   L0\n    LINENUMBER 3 L0\n    GETSTATIC Stackoverflow_53384931Kt$printKotlin$1.INSTANCE : LStackoverflow_53384931Kt$printKotlin$1;\n    CHECKCAST kotlin/jvm/functions/Function0\n    PUTSTATIC Stackoverflow_53384931Kt.printKotlin : Lkotlin/jvm/functions/Function0;\n    RETURN\n    MAXSTACK = 1\n    MAXLOCALS = 0\n\n  @Lkotlin/Metadata; ... \n  // access flags 0x18\n  final static INNERCLASS Stackoverflow_53384931Kt$printKotlin$1 null null\n  // compiled from: stackoverflow-53384931.kt\n}\n\n\n// ================Stackoverflow_53384931Kt$printKotlin$1.class =================\n// class version 52.0 (52)\n// access flags 0x30\n// signature Lkotlin/jvm/internal/Lambda;Lkotlin/jvm/functions/Function0&lt;Lkotlin/Unit;&gt;;\n// declaration: Stackoverflow_53384931Kt$printKotlin$1 extends kotlin.jvm.internal.Lambda implements kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt;\nfinal class Stackoverflow_53384931Kt$printKotlin$1 extends kotlin/jvm/internal/Lambda  implements kotlin/jvm/functions/Function0  {\n\n\n  // access flags 0x1041\n  public synthetic bridge invoke()Ljava/lang/Object;\n    ALOAD 0\n    INVOKEVIRTUAL Stackoverflow_53384931Kt$printKotlin$1.invoke ()V\n    GETSTATIC kotlin/Unit.INSTANCE : Lkotlin/Unit;\n    ARETURN\n    MAXSTACK = 1\n    MAXLOCALS = 1\n\n  // access flags 0x11\n  public final invoke()V\n   L0\n    LINENUMBER 4 L0\n    LDC \"Hello Kotlin\"\n    ASTORE 1\n   L1\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\n    ALOAD 1\n    INVOKEVIRTUAL java/io/PrintStream.print (Ljava/lang/Object;)V\n   L2\n   L3\n    LINENUMBER 5 L3\n    RETURN\n   L4\n    LOCALVARIABLE this LStackoverflow_53384931Kt$printKotlin$1; L0 L4 0\n    MAXSTACK = 2\n    MAXLOCALS = 2\n\n  // access flags 0x0\n  &lt;init&gt;()V\n    ALOAD 0\n    ICONST_0\n    INVOKESPECIAL kotlin/jvm/internal/Lambda.&lt;init&gt; (I)V\n    RETURN\n    MAXSTACK = 2\n    MAXLOCALS = 1\n\n  // access flags 0x19\n  public final static LStackoverflow_53384931Kt$printKotlin$1; INSTANCE\n\n  // access flags 0x8\n  static &lt;clinit&gt;()V\n    NEW Stackoverflow_53384931Kt$printKotlin$1\n    DUP\n    INVOKESPECIAL Stackoverflow_53384931Kt$printKotlin$1.&lt;init&gt; ()V\n    PUTSTATIC Stackoverflow_53384931Kt$printKotlin$1.INSTANCE : LStackoverflow_53384931Kt$printKotlin$1;\n    RETURN\n    MAXSTACK = 2\n    MAXLOCALS = 0\n\n  @Lkotlin/Metadata; ...\n  OUTERCLASS Stackoverflow_53384931Kt null\n  // access flags 0x18\n  final static INNERCLASS Stackoverflow_53384931Kt$printKotlin$1 null null\n  // compiled from: stackoverflow-53384931.kt\n  // debug info: SMAP\n  ...\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 696, "user_id": 3131706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e54881bd511584e97170f8f29e0fda?s=128&d=identicon&r=PG&f=1", "display_name": "shubhamgarg1", "link": "https://stackoverflow.com/users/3131706/shubhamgarg1"}, "is_accepted": false, "score": 1, "last_activity_date": 1593974518, "last_edit_date": 1593974518, "creation_date": 1593972350, "answer_id": 62744502, "question_id": 53384931, "link": "https://stackoverflow.com/questions/53384931/why-kotlin-decompiler-generates-null-instance/62744502#62744502", "title": "Why Kotlin decompiler generates null.INSTANCE", "body": "<p>You can use JD-GUI for this.</p>\n<p><a href=\"http://java-decompiler.github.io/\" rel=\"nofollow noreferrer\">http://java-decompiler.github.io/</a></p>\n<p>This worked better for me as compared to the inbuilt IntelliJ plugin for decompilation. You just need to feed it your *.class files.</p>\n<p>Kotlin Code</p>\n<pre><code>//TryingOutLamdas.kt\n\nclass TryingOutLambdas {\n\n    public fun performSomething()\n    {\n        takingAOnclickListener { x -&gt; print(&quot;Hello $x&quot;).toString() }\n    }\n    \n    fun takingAOnclickListener(onClickListener: (Int) -&gt; (String))\n    {\n        onClickListener.invoke(6)\n    }\n\n} \n</code></pre>\n<p>Converted  bytecode for this using  JD-GUI.</p>\n<pre><code>public final class TryingOutLambdas {\n\n\n    public final void performSomething() {\n        \n       takingAOnclickListener(TryingOutLambdas$performSomething$1\n        .INSTANCE);\n    }\n\n    public final void takingAOnclickListener(@NotNull Function1 onClickListener) {\n        Intrinsics.checkParameterIsNotNull(onClickListener, &quot;onClickListener&quot;);\n        onClickListener.invoke(Integer.valueOf(6));\n    }\n\n    static final class TryingOutLambdas$performSomething$1 extends Lambda implements Function1&lt;Integer, String&gt; {\n        public static final TryingOutLambdas$performSomething$1 INSTANCE = new TryingOutLambdas$performSomething$1();\n        \n        @NotNull\n        public final String invoke(int x) {\n          String str = &quot;Hello &quot; + x;\n          boolean bool = false;\n          System.out.print(str);\n          return Unit.INSTANCE.toString();\n        }\n        \n        TryingOutLambdas$performSomething$1() {\n          super(1);\n        }\n    } \n\n} \n</code></pre>\n<p>In case a lambda expression accesses any variables from the function it is declared, a new object implementing that interface will be created instead of creating a Singleton instance created above.</p>\n"}], "owner": {"reputation": 16326, "user_id": 883033, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/lkrDS.jpg?s=128&g=1", "display_name": "Chandra Sekhar", "link": "https://stackoverflow.com/users/883033/chandra-sekhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1593974518, "creation_date": 1542677015, "last_edit_date": 1542678827, "question_id": 53384931, "link": "https://stackoverflow.com/questions/53384931/why-kotlin-decompiler-generates-null-instance", "title": "Why Kotlin decompiler generates null.INSTANCE", "body": "<p>I am trying to understand few of the Kotlin features by checking how it looks in Java side.</p>\n\n<p>So as an experiment, I tried with this:</p>\n\n<pre><code>val printKotlin = fun () {\n    print(\"Hello Kotlin\")\n}\n</code></pre>\n\n<p>So the output for the above snippet is:</p>\n\n<pre><code>public final class FunAsVariableKt {\n    private static final Function0 printKotlin;\n\n    public static final Function0 getPrintKotlin() {\n        return printKotlin;\n    }\n\n    static {\n        printKotlin = (Function0)null.INSTANCE;\n    }\n}\n</code></pre>\n\n<p>How do I understand the static block of the above decompiled code? Why it is generating this non working code?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1542673199, "post_id": 53384457, "comment_id": 93644939, "body": "The first argument passed in the <code>replace()</code> call is the ID for the <code>ViewGroup</code> \u2013 e.g., an empty <code>FrameLayout</code> \u2013 that the <code>Fragment</code>&#39;s <code>View</code> will be placed into. I don&#39;t see anything in your <code>Activity</code>&#39;s layout with ID <code>autocompleteHolder1</code>. Should it be in <code>app_bar_main</code>?"}, {"owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1542673565, "post_id": 53384457, "comment_id": 93645030, "body": "@MikeM. autocompleteHolder is placed in search layout which is header layout of DrawerLayout. What should I do in this situation?"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1542674095, "post_id": 53384457, "comment_id": 93645143, "body": "Ah, that&#39;s what you mean. It&#39;s not always clear what users mean by Navigation Drawer, exactly. Hmm, you might have to set that header programmatically, rather than with the <code>headerLayout</code> XML attribute. <code>NavigationView</code> takes a bit to get itself setup, and the header <code>View</code>s are not going to be available right away, when it&#39;s set in the layout. Try removing that <code>headerLayout</code>, and using <code>NavigationView#inflateHeaderView()</code> instead, before your <code>FragmentTransaction</code>. I&#39;m not sure if that&#39;ll work, though, as I&#39;m not sure when that header actually gets attached to the <code>Activity</code>&#39;s hierarchy."}, {"owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1542675742, "post_id": 53384457, "comment_id": 93645460, "body": "@MikeM. Thanks but I&#39;m still getting errors, if you can please look at this again. Thread is updated"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1542675800, "post_id": 53384457, "comment_id": 93645478, "body": "I don;t think you can easily put Fragments in Fragments, so not clear what <code>fragmentManager!!.findFragmentById</code> is trying to do"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1542676436, "post_id": 53384457, "comment_id": 93645642, "body": "I&#39;m getting a little confused, now. What is <code>searchfraglay</code>, exactly? If that&#39;s what you have labelled as &quot;Search fragment layout:&quot;, why are you trying to set it as a header, <i>and</i> using it as the layout for <code>AutoComplete</code>? Also, which <code>Fragment</code> is supposed to be in the header, <code>AutoComplete</code> or <code>SupportPlaceAutocompleteFragment</code>?"}, {"owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1542677458, "post_id": 53384457, "comment_id": 93645905, "body": "@MikeM. Sorry for weird name, searchfraglay is a layout with PlaceAutocomplete inside. I&#39;ll try to explain what I&#39;m trying to do. I want to implement PlaceAutocomplete inside NavigationDrawer (something like in AccuWeather app). In header should be PlaceAutocomplete fragment. I tried to put PlaceAutoComplete inside second fragment because I wasn&#39;t sure how to handle listener when place is selected when PlaceAutocomplete  is inside Nav Drawer. Without putting autocomplete inside fragment it is working fine but I don&#39;t know where to implement onPlaceSelected."}, {"owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1542677798, "post_id": 53384457, "comment_id": 93645977, "body": "Solved, it should be implemented in MainActivity. Sorry for wasting your time guys, I didn&#39;t check simplest way to do it. Thanks a lot for your time @MikeM."}], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "is_accepted": true, "score": 0, "last_activity_date": 1542677954, "creation_date": 1542677954, "answer_id": 53385047, "question_id": 53384457, "link": "https://stackoverflow.com/questions/53384457/placeautocomplete-inside-navigation-drawer/53385047#53385047", "title": "PlaceAutocomplete inside Navigation Drawer", "body": "<p>I should implement <code>PlaceSelectionListener</code> inside MainActivity not in fragment.</p>\n"}], "owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 53385047, "answer_count": 1, "score": 0, "last_activity_date": 1542677954, "creation_date": 1542672917, "last_edit_date": 1542675678, "question_id": 53384457, "link": "https://stackoverflow.com/questions/53384457/placeautocomplete-inside-navigation-drawer", "title": "PlaceAutocomplete inside Navigation Drawer", "body": "<p>I'm trying to put PlaceAutocomplete inside Navigation Drawer. Also any project with placeautocomplete api posted on github can be an answer or any source how to make custom nav drawer with placeautocomplete</p>\n\n<p>Here is my code:</p>\n\n<p>Search fragment layout:</p>\n\n<pre><code>&lt;FrameLayout\nandroid:id=\"@+id/autocompleteHolder\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\napp:layout_constraintEnd_toEndOf=\"parent\"\napp:layout_constraintStart_toStartOf=\"parent\"\napp:layout_constraintTop_toBottomOf=\"@+id/customViewPager\"\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n&lt;fragment\n    android:id=\"@+id/autocomplete_fragment\"\n    android:name=\"com.x.egerg.fragments.AutoComplete\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\" /&gt;\n</code></pre>\n\n<p>\nDrawerLayout</p>\n\n<pre><code>    &lt;include\n        layout=\"@layout/app_bar_main\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;android.support.design.widget.NavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:fitsSystemWindows=\"true\"\n        app:headerLayout=\"@layout/searchfraglay\"\n        app:menu=\"@menu/activity_main_drawer\" /&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>AutoComplete fragment</p>\n\n<pre><code>class AutoComplete : Fragment(), PlaceSelectionListener {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    val autocompleteFragment = fragmentManager!!.findFragmentById(R.id.autocomplete_fragment) as SupportPlaceAutocompleteFragment\n    autocompleteFragment.setOnPlaceSelectedListener(this)\n    super.onCreate(savedInstanceState)\n}\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n\n    return inflater.inflate(R.layout.searchfraglay, container, false)\n    }\n\n\noverride fun onPlaceSelected(p0: Place?) {\n    Log.d(\"OnPlaceSelected\", p0?.name.toString())\n}\n\noverride fun onError(p0: Status?) {\n    Log.d(\"OnPlaceSelected\", \"error\")\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>inside MainActivity</p>\n\n<pre><code>nav_view.inflateHeaderView(R.layout.searchfraglay)\n\n    val ft = supportFragmentManager.beginTransaction()\n    ft.replace(R.id.autocompleteHolder, AutoComplete())\n    ft.commit()\n</code></pre>\n\n<p>Logcat</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.x.egerg/com.x.egerg.MainActivity}: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n Caused by: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\n Caused by: android.view.InflateException: Binary XML file line #11: Error inflating class fragment\n Caused by: java.lang.ClassCastException: com.x.egerg.fragments.AutoComplete cannot be cast to com.google.android.gms.location.places.ui.SupportPlaceAutocompleteFragment\n    at com.x.egerg.fragments.AutoComplete.onCreate(AutoComplete.kt:30)\n   xxx\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n    at android.support.design.internal.NavigationMenuPresenter.inflateHeaderView(NavigationMenuPresenter.java:211)\n    at android.support.design.widget.NavigationView.inflateHeaderView(NavigationView.java:267)\n    at com.x.egerg.MainActivity.onCreate(MainActivity.kt:21)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room"], "owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 307, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542708858, "creation_date": 1542667050, "last_edit_date": 1542708858, "question_id": 53383652, "link": "https://stackoverflow.com/questions/53383652/polymorphism-in-android-room-when-extending-a-non-entity-class", "title": "Polymorphism in Android Room when extending a non-Entity class", "body": "<p>My server is sending me a list of object type Parent, as <code>List&lt;Parent&gt; parents.</code> I need to save this list in Room and to do so I need a PrimaryKey. So what I try to do in room is create something like</p>\n\n<pre><code>@Entity\nclass Child(mApple:String,mOrange:String):Parent(mApple,mOrange){\n    @PrimaryKeyy(autoGenerate=true)\n    var id:Int=0\n}\n</code></pre>\n\n<p>And here is what parent looks like:</p>\n\n<pre><code>//it's a java class and so to be complete I will recreate it in Java\nclass Parent{\n    private final String mApple;\n    private final String mOrange;\n    private final String mDerivative;\n\n    public Parent(String apple, String orange){\n        mApple=apple;\n        mOrange=orange;\n    mDerivation = someMagic(apple,orange)\n    }\n\n    //then a bunch of methods for dealing with the state variables\n}\n</code></pre>\n\n<p>The reason I want to extend Child from Parent is because it makes working with both Child and Parent together easy. But room is not compiling and I suspect it has to do with this. Unfortunately, Kotlin is not pointing me to where the error is occuring.</p>\n\n<ol>\n<li><p>Is the error really due to the fact that Parent is not an Entity and that <code>derivative</code> does not provide a setter?</p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/53380655/kotlin-compiler-errors-without-line-numbers\">How do I get Android Studio to show me more details about this bug, such as line number?</a> (linked to related questions)</p></li>\n</ol>\n\n<p>The only errors I am able to get from the <code>build</code> tab:</p>\n\n<pre><code>error: Cannot figure out how to save this field into database. You can consider adding a type converter for it. \nerror: Cannot find getter for field.    \nerror: Cannot find setter for field.    \nerror: Cannot figure out how to read this field from a cursor.  \nerror: Cannot find getter for field.    \nerror: Cannot find setter for field.\n</code></pre>\n"}, {"tags": ["kotlin", "io", "append"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1542667037, "post_id": 53383505, "comment_id": 93643259, "body": "Not directly a solution, but I highly recommend you avoid <code>File</code> if you can. See <a href=\"http://java7fs.wikia.com/wiki/Why_File_sucks\" rel=\"nofollow noreferrer\">java7fs.wikia.com/wiki/Why_File_sucks</a>"}, {"owner": {"reputation": 123, "user_id": 3575511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f6024e7f57a90d8e7aaafcea40ddab2?s=128&d=identicon&r=PG&f=1", "display_name": "user3575511", "link": "https://stackoverflow.com/users/3575511/user3575511"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1542669084, "post_id": 53383505, "comment_id": 93643880, "body": "Thanks! I`ll look into it."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 3575511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f6024e7f57a90d8e7aaafcea40ddab2?s=128&d=identicon&r=PG&f=1", "display_name": "user3575511", "link": "https://stackoverflow.com/users/3575511/user3575511"}, "edited": false, "score": 1, "creation_date": 1542669067, "post_id": 53383842, "comment_id": 93643874, "body": "Thank you! Now I get it. Unfortunately my reputation here is too low and I`m not allowed to make +1 to your answer, but it indeed clears things for me."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 26, "last_activity_date": 1542668725, "last_edit_date": 1542668725, "creation_date": 1542668295, "answer_id": 53383842, "question_id": 53383505, "link": "https://stackoverflow.com/questions/53383505/kotlin-append-to-file/53383842#53383842", "title": "Kotlin append to file", "body": "<p>Both <code>File.bufferedWriter</code> and <code>File.printWriter</code> actually rewrite the target file, replacing its content with what you write with them. This is mostly equivalent to what would happen if you used <code>f.writeText(...)</code>, not <code>f.appendText(...)</code>.</p>\n\n<p>One solution would be to create a <code>FileOutputStream</code> in the append mode by using the appropriate constructor <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html#FileOutputStream(java.io.File,%20boolean)\" rel=\"noreferrer\"><code>FileOutputStream(file: File, append: Boolean)</code></a>, for example: </p>\n\n<pre><code>FileOutputStream(f, true).bufferedWriter().use { writer -&gt;\n    //... \n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 3575511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f6024e7f57a90d8e7aaafcea40ddab2?s=128&d=identicon&r=PG&f=1", "display_name": "user3575511", "link": "https://stackoverflow.com/users/3575511/user3575511"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5151, "favorite_count": 1, "accepted_answer_id": 53383842, "answer_count": 1, "score": 12, "last_activity_date": 1542668725, "creation_date": 1542666153, "question_id": 53383505, "link": "https://stackoverflow.com/questions/53383505/kotlin-append-to-file", "title": "Kotlin append to file", "body": "<p>I absolutely new to Kotlin and seems I just can not get the append-to-file procedure. \nI have filename given by val path: String = \".....txt\"\nI want a method in my class that takes line: String and appends it at the end of my file (on new line). \nMy test case is: two consequtive calls to method with two different lines for example \"foo\" and \"bar\" and I expect file like:</p>\n\n<pre><code>foo\nbar\n</code></pre>\n\n<p>It works if my method looks like this:</p>\n\n<pre><code>fun writeLine(line: String) {\n    val f = File(path!!)\n    f.appendText(line + System.getProperty(\"line.separator\"))\n}\n</code></pre>\n\n<p>And it absolutely doesn`t work in any way like this:</p>\n\n<pre><code>    fun writeLine(line: String) {\n        val f = File(path!!)\n        f.bufferedWriter().use { out-&gt;\n        out.append(line)\n        out.newLine()\n        }\n    }\n</code></pre>\n\n<p>It rewrites my file with each call so I get only \"bar\" in my file.\nIt doesn`t work with printWriter either:</p>\n\n<pre><code>    fun writeLine(line: String) {\n        val f = File(path!!)\n        f.printWriter().use { out-&gt;\n        out.append(line)\n        }\n    }\n</code></pre>\n\n<p>I`ve got the same result as for BufferedWriter. Why? I just can not get it. How do I append with BufferedWriter or PrintWriter?</p>\n"}, {"tags": ["spring", "kotlin", "controller"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542661288, "post_id": 53382226, "comment_id": 93641002, "body": "I can&#39;t understand what you&#39;re asking. What are you trying to achieve?"}, {"owner": {"reputation": 381, "user_id": 10630698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JJ Redikes", "link": "https://stackoverflow.com/users/10630698/jj-redikes"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542661714, "post_id": 53382226, "comment_id": 93641191, "body": "@JBNizet can you tell me what you don&#39;t understand? in general I&#39;m trying to pass to the controller the same object but I want that this object could be from type A or from type B"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542661955, "post_id": 53382226, "comment_id": 93641308, "body": "Just don&#39;t. There is no good reason to send two completely different objects to the same resource. Create two different controller (or controller methods), doing two different things, and accepting two different types of objects."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1542662032, "post_id": 53382226, "comment_id": 93641337, "body": "Also, using GET to send a request body doesn&#39;t make any sense. GET requests don&#39;t have a body."}], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 10630698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JJ Redikes", "link": "https://stackoverflow.com/users/10630698/jj-redikes"}, "edited": false, "score": 0, "creation_date": 1542661584, "post_id": 53382559, "comment_id": 93641149, "body": "the only problem that you can&#39;t create to different objects with the same name in java... so YourCustomClass can be only one of the option. how can I know if its option 1 or 2?"}, {"owner": {"reputation": 3, "user_id": 10676876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc1483cbc4237d1b5e7897f6f25b255?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/10676876/j-doe"}, "reply_to_user": {"reputation": 381, "user_id": 10630698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JJ Redikes", "link": "https://stackoverflow.com/users/10630698/jj-redikes"}, "edited": false, "score": 0, "creation_date": 1542663940, "post_id": 53382559, "comment_id": 93642112, "body": "Then do it like this: <code>@RequestBody Object body</code> <code>if(body instance of com.example.class.CustomClass){} else if (body instance of com.example.another.class.CustomClass){}</code>"}, {"owner": {"reputation": 381, "user_id": 10630698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JJ Redikes", "link": "https://stackoverflow.com/users/10630698/jj-redikes"}, "edited": false, "score": 0, "creation_date": 1542664537, "post_id": 53382559, "comment_id": 93642356, "body": "its almost fine. the problem here that java recognize the &#39;body&#39; as list of key and value like a Jason... what do you recommenced to fix that?"}, {"owner": {"reputation": 3, "user_id": 10676876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc1483cbc4237d1b5e7897f6f25b255?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/10676876/j-doe"}, "reply_to_user": {"reputation": 381, "user_id": 10630698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JJ Redikes", "link": "https://stackoverflow.com/users/10630698/jj-redikes"}, "edited": false, "score": 0, "creation_date": 1542665893, "post_id": 53382559, "comment_id": 93642853, "body": "As far as I know if you give it the proper Json it should map it to Object without any problem. Just add the annotation <code>@RestController</code> for the whole controller class"}, {"owner": {"reputation": 381, "user_id": 10630698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JJ Redikes", "link": "https://stackoverflow.com/users/10630698/jj-redikes"}, "edited": false, "score": 0, "creation_date": 1542727078, "post_id": 53382559, "comment_id": 93667486, "body": "I know how to map to object but not on the way that you recommends. it not working this way, im sure there is different way to do it..."}], "tags": [], "owner": {"reputation": 3, "user_id": 10676876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc1483cbc4237d1b5e7897f6f25b255?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/10676876/j-doe"}, "is_accepted": false, "score": 0, "last_activity_date": 1542661307, "creation_date": 1542661307, "answer_id": 53382559, "question_id": 53382226, "link": "https://stackoverflow.com/questions/53382226/how-to-get-custom-object-in-java-spring/53382559#53382559", "title": "How to get Custom object in java spring?", "body": "<p>Just as you have written, you can do it just like that:</p>\n\n<pre><code>@RequestMapping(...)\npublic void method(@RequestBody YourCustomClass body)\n</code></pre>\n\n<p><code>YourCustomClass</code> can be either option 1 or option 2.</p>\n\n<p>And that's all :)</p>\n"}], "owner": {"reputation": 381, "user_id": 10630698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JJ Redikes", "link": "https://stackoverflow.com/users/10630698/jj-redikes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542679241, "creation_date": 1542659631, "last_edit_date": 1542679241, "question_id": 53382226, "link": "https://stackoverflow.com/questions/53382226/how-to-get-custom-object-in-java-spring", "title": "How to get Custom object in java spring?", "body": "<p>I'm using java spring for my server.</p>\n\n<p>My question is how can I get custom object through the controller.</p>\n\n<p>Example for what I mean:</p>\n\n<p>I know I can do that by doing two functions:</p>\n\n<pre><code>      @RequestMapping(\n        path = arrayOf(\"getObject\", \"getObject/\"),\n        method = arrayOf(RequestMethod.GET))\nopen fun getRecord1(@RequestBody data: CustomObjectOption1): ResponseEntity&lt;*&gt; {\n    return ResponseEntity&lt;Any&gt;(data.name,HttpStatus.OK)\n\n}\n\n     @RequestMapping(\n        path = arrayOf(\"getObject\", \"getObject/\"),\n        method = arrayOf(RequestMethod.GET))\nopen fun getRecord2(@RequestBody data: CustomObjectOption2): ResponseEntity&lt;*&gt; {\n    return ResponseEntity&lt;Any&gt;(data.number,HttpStatus.OK)\n\n}\n</code></pre>\n\n<p>but I want to do it by only one endpoint:</p>\n\n<pre><code> @RequestMapping(\n        path = arrayOf(\"getObject\", \"getObject/\"),\n        method = arrayOf(RequestMethod.GET))\nopen fun getRecord(@RequestBody data: CustomObjectOption): ResponseEntity&lt;*&gt; {\n\n  if(data instance option1)\n    return ResponseEntity&lt;Any&gt;(data.name,HttpStatus.OK)\n</code></pre>\n\n<p>else\n      return ResponseEntity(data.number,HttpStatus.OK)\nelse\n    }</p>\n\n<p>such that the object can be like this:</p>\n\n<p>option 1:</p>\n\n<pre><code>  public class CustomObject {\n\n      private String name;\n      private Long id;\n\n   }\n</code></pre>\n\n<p>or option 2:</p>\n\n<pre><code>     public class CustomObject {\n\n      private List&lt;Integer&gt; number;\n      private List&lt;Long&gt; count;\n\n   }\n</code></pre>\n\n<p>Is that possible to do that in java spring?</p>\n\n<p>The only solution I was thinking is to use <strong>inheritance</strong> but I would like to know if there's different way...</p>\n\n<p>Thank you for the help</p>\n"}, {"tags": ["oop", "kotlin", "interface"], "answers": [{"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1542671297, "post_id": 53381233, "comment_id": 93644520, "body": "And perhaps a third advantage is that you can have another interface with its own EMPTY member, without a clash of names."}], "tags": [], "owner": {"reputation": 50933, "user_id": 360211, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3baKW.png?s=128&g=1", "display_name": "weston", "link": "https://stackoverflow.com/users/360211/weston"}, "is_accepted": true, "score": 3, "last_activity_date": 1542655366, "last_edit_date": 1542655366, "creation_date": 1542655057, "answer_id": 53381233, "question_id": 53381142, "link": "https://stackoverflow.com/questions/53381142/what-is-the-benefit-of-having-an-object-of-interface-itself-declare-inside-the-i/53381233#53381233", "title": "what is the benefit of having an object of interface itself declare inside the interface for kotlin", "body": "<p>You don't need to do it that way.</p>\n\n<pre><code>interface StateInterface {\n\n    val variationTypes: List&lt;VariationType&gt;\n        get() = emptyList()\n\n}\n\nobject EMPTY : StateInterface\n</code></pre>\n\n<p>Would work fine, but the author decided that they wanted the usage to read <code>StateInterface.EMPTY</code> and not just <code>EMPTY</code>.</p>\n\n<p>One advantage or reason for choosing this way is that <code>EMPTY</code> appears in the code completion after typing <code>StateInterface.</code> making it easier to find.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XBI91.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XBI91.png\" alt=\"Code Completion\"></a></p>\n\n<p>Another readability advantage is that anyone who references <code>StateInterface.EMPTY</code> does not need an additional <code>import</code> line which they would if it wasn't a nested object.</p>\n\n<pre><code>import com.example.StateInterface\n\nval x = StateInterface.EMPTY\n</code></pre>\n\n<p>This bit <code>open val stateInterface: StateInterface = StateInterface.EMPTY</code> is a property on an object. It's <code>open</code> so descendant implementations can <code>override</code> it. If they do not, <code>StateInterface.EMPTY</code> will be the value of this property.</p>\n"}], "owner": {"reputation": 6278, "user_id": 2646226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7030bd05d9dc7920f066578f878b4688?s=128&d=identicon&r=PG", "display_name": "Ezeewei", "link": "https://stackoverflow.com/users/2646226/ezeewei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 53381233, "answer_count": 1, "score": 1, "last_activity_date": 1542655366, "creation_date": 1542654682, "question_id": 53381142, "link": "https://stackoverflow.com/questions/53381142/what-is-the-benefit-of-having-an-object-of-interface-itself-declare-inside-the-i", "title": "what is the benefit of having an object of interface itself declare inside the interface for kotlin", "body": "<p>for example</p>\n\n<p>An interface of</p>\n\n<pre><code>interface StateInterface {\n\n    val variationTypes: List&lt;VariationType&gt;\n        get() = emptyList()\n\n    object EMPTY : StateInterface\n}\n</code></pre>\n\n<p>then its been declared inside an actionbean like this</p>\n\n<p><code>open val stateInterface: StateInterface = StateInterface.EMPTY</code></p>\n\n<p>Is it all it does it just create a new interface? Why we need to do it this way?</p>\n"}]