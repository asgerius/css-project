[{"tags": ["kotlin", "junit4", "junit5"], "comments": [{"owner": {"reputation": 5901, "user_id": 350021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29485dc11300be70f314e5deb2ac352f?s=128&d=identicon&r=PG", "display_name": "Imre L", "link": "https://stackoverflow.com/users/350021/imre-l"}, "edited": false, "score": 0, "creation_date": 1550945078, "post_id": 54797139, "comment_id": 96462177, "body": "Dont mix junit4 and junit5 in same test class. You can use same @MethhodSource on multiple test easily."}, {"owner": {"reputation": 149, "user_id": 1595254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/702e5de601f0a2d9aa5679648c6798aa?s=128&d=identicon&r=PG", "display_name": "Rjbcc58", "link": "https://stackoverflow.com/users/1595254/rjbcc58"}, "reply_to_user": {"reputation": 5901, "user_id": 350021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29485dc11300be70f314e5deb2ac352f?s=128&d=identicon&r=PG", "display_name": "Imre L", "link": "https://stackoverflow.com/users/350021/imre-l"}, "edited": false, "score": 0, "creation_date": 1551041348, "post_id": 54797139, "comment_id": 96484297, "body": "Hey Imre, can you provide an example of what you mean?"}], "answers": [{"tags": [], "owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "is_accepted": true, "score": 1, "last_activity_date": 1553090852, "creation_date": 1553090852, "answer_id": 55262701, "question_id": 54797139, "link": "https://stackoverflow.com/questions/54797139/how-to-combine-junit4-runwithparameterized-class-and-junit5-parameterizedtes/55262701#55262701", "title": "How to combine JUnit4 @RunWith(Parameterized.class) and JUnit5 @ParameterizedTest", "body": "<blockquote>\n  <p>I tried the same but in the end I came to the conclusion that: <strong>you can't</strong>.</p>\n</blockquote>\n\n<p>There is no way you can use the JUnit 4 <code>Parameterized</code> test runner using the annotations which came with JUnit 5.</p>\n\n<p>You need to move to JUnit 5 to use the latest features like <code>TestFactory</code> or all the powerful annotations of parameterized tests described <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 149, "user_id": 1595254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/702e5de601f0a2d9aa5679648c6798aa?s=128&d=identicon&r=PG", "display_name": "Rjbcc58", "link": "https://stackoverflow.com/users/1595254/rjbcc58"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "accepted_answer_id": 55262701, "answer_count": 1, "score": 2, "last_activity_date": 1553090852, "creation_date": 1550707107, "last_edit_date": 1553090660, "question_id": 54797139, "link": "https://stackoverflow.com/questions/54797139/how-to-combine-junit4-runwithparameterized-class-and-junit5-parameterizedtes", "title": "How to combine JUnit4 @RunWith(Parameterized.class) and JUnit5 @ParameterizedTest", "body": "<p>I am trying to combine the concept of a Parameterized runner from JUnit4 with the JUnit5 Parameterized Test. Essentially I want to test two separate functions on the same set of data. </p>\n\n<p>I know I could just add the function as another argument to the parameterized test itself but I am trying to make changing or adding new functions to test easy.</p>\n\n<p>Would I be able to leverage nested test classes to achieve this? I am not sure the best way to approach. </p>\n\n<pre><code>@RunWith(Parameterized::class)\nclass RomanNumeralTest(val func: (Int) -&gt; String) {\n\n    @ParameterizedTest(name = \"{index} - Expect [{0}] should return [{1}]\")\n    @MethodSource(\"testData\")\n    fun `Test roman numeral from integer values`(num: Int, expected: String) =\n            assertEquals(expected, func(num))\n\n    companion object {\n\n        @JvmStatic\n        @Parameterized.Parameters\n        fun data(): Collection&lt;Array&lt;(Int) -&gt; String&gt;&gt; {\n            return listOf(\n                    arrayOf({num -&gt; roman(num)}),\n                    arrayOf({num -&gt; num.toRomanNumeral()})\n            )\n        }\n\n        @JvmStatic\n        private fun testData() = sequenceOf(\n                arrayOf(1, \"I\"),\n                arrayOf(2, \"II\"),\n                arrayOf(3, \"III\"),\n                arrayOf(4, \"IV\"),\n                arrayOf(5, \"V\")\n        ).asStream()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "android-maps", "hexagonal-tiles"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 11078194, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0IH2gidYzyE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOGO6EtbHWZYuBV_vjdVFCHHsJ_Jg/mo/photo.jpg?sz=128", "display_name": "Alex", "link": "https://stackoverflow.com/users/11078194/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1550749372, "last_edit_date": 1550749372, "creation_date": 1550749037, "answer_id": 54806202, "question_id": 54797074, "link": "https://stackoverflow.com/questions/54797074/kotlin-hexagonal-grip-google-maps-api-v3-optimize-code/54806202#54806202", "title": "Kotlin - Hexagonal Grip Google Maps API v3 - Optimize Code", "body": "<p>I have found an answer myself.\nI will post it here for the archive if someone has the same problem.</p>\n\n<pre><code>private fun drawHexagonGrid(){\n    var radius = 3.5  //radius in metre\n    var curPos = heartAlveole  //hierdann Heart Alveole aus den Prefs nehmen\n    var northAlveoles = 5  //Das alles aus den Prefs holen.\n    var eastAlveoles = 10\n    var southAlveoles = 5\n    var westAlveoles = 5\n    val width = radius.toDouble() * 2.0 * Math.sqrt(3.0) / 2\n\n\n    //Move to NorthWest Corner of HexGrid\n\n    val westMove = if (northAlveoles % 2 == 0) width*westAlveoles else (width*westAlveoles)-(width/2)\n\n    //If northAlveoles is unequal, add half width to westMove to\n\n    curPos = SphericalUtil.computeOffset(curPos,westMove,270.0)\n    curPos = SphericalUtil.computeOffset(curPos,radius * 6/4*northAlveoles,0.0)\n\n    //nested for loop to produce hexagonal grid\n\n    for (n in 1..northAlveoles+southAlveoles+1){\n        //draw horizontal hexagons\n        for (e in 1..eastAlveoles+westAlveoles+1) {\n            drawHorizontalHexagon(curPos, radius, \".\")\n            curPos = SphericalUtil.computeOffset(curPos, width,90.0);\n        }\n\n        //Go back to the initial position + width/2 or - width/2 every second iteration\n        if (n % 2 == 0) {\n            curPos = SphericalUtil.computeOffset(curPos, width*((westAlveoles+eastAlveoles)+0.5),270.0)\n        } else {\n            curPos = SphericalUtil.computeOffset(curPos, width*((westAlveoles+eastAlveoles)+1.5),270.0)\n        }\n        //go south\n        curPos = SphericalUtil.computeOffset(curPos,radius * 6/4 ,180.0)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 11078194, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0IH2gidYzyE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOGO6EtbHWZYuBV_vjdVFCHHsJ_Jg/mo/photo.jpg?sz=128", "display_name": "Alex", "link": "https://stackoverflow.com/users/11078194/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550749372, "creation_date": 1550706658, "question_id": 54797074, "link": "https://stackoverflow.com/questions/54797074/kotlin-hexagonal-grip-google-maps-api-v3-optimize-code", "title": "Kotlin - Hexagonal Grip Google Maps API v3 - Optimize Code", "body": "<p>I need some help to optimize my code.\nEven though it works I have the strong feeling, this can be made in WAY less lines of code and much more efficient.\nBut I can't figure it out myself.</p>\n\n<p>Actually it doesn't even work perfectly yet.</p>\n\n<p>I have a marker at a center.\nI want this center to be the center of a hexagonal grid of polygons on top of Google Maps.</p>\n\n<p>In the Apps Setting the user can set the number of Hexagons he wants to have in north, east, west  and south direction.\nSo what I want to achieve is to draw all these Hexagons starting from my center of the HEX Grid.</p>\n\n<p>Here you find my code which is giving me something but not exactly the right thing.</p>\n\n<pre><code>private fun drawHexagonGrid(){\n        var radius = 3.5  //radius in metre\n        var curPos = heartAlveole  //hierdann Heart Alveole aus den Prefs nehmen\n        var northAlveoles = 5  //Das alles aus den Prefs holen.\n        var eastAlveoles = 10\n        var southAlveoles = 5\n        var westAlveoles = 5\n        val width = radius.toDouble() * 2.0 * Math.sqrt(3.0) / 2\n\n\n        //North East of Heart\n\n        curPos = heartAlveole\n        for (n in 0..northAlveoles){\n            //East Alveoles\n            for (i in 0..eastAlveoles) {\n                drawHorizontalHexagon(curPos, radius, \".\")\n                curPos = SphericalUtil.computeOffset(curPos, width,90.0);\n            }\n            curPos = SphericalUtil.computeOffset(curPos, width*eastAlveoles,270.0)\n            //Every Second Iteration go half width west or east\n            if (n % 2 == 0) {\n                curPos = SphericalUtil.computeOffset(curPos, width/2,270.0)\n            }\n            else {\n                curPos = SphericalUtil.computeOffset(curPos, width/2,90.0)\n            }\n            //go north\n            curPos = SphericalUtil.computeOffset(curPos,5.25 ,0.0)\n\n        }\n\n        //North West of Heart\n\n        curPos = heartAlveole\n        for (n in 0..northAlveoles){\n            //East Alveoles\n            for (i in 0..westAlveoles) {\n                drawHorizontalHexagon(curPos, radius, \".\")\n                curPos = SphericalUtil.computeOffset(curPos, width,270.0);\n            }\n            curPos = SphericalUtil.computeOffset(curPos, width*westAlveoles,90.0)\n\n            //Every Second Iteration go half width west or east\n            if (n % 2 == 0) {\n                curPos = SphericalUtil.computeOffset(curPos, width/2,270.0)\n            }\n            else {\n                curPos = SphericalUtil.computeOffset(curPos, width/2,90.0)\n            }\n            //go north\n            curPos = SphericalUtil.computeOffset(curPos,5.25 ,0.0)\n\n        }\n\n        //South East of Heart\n\n        curPos= heartAlveole\n        for (n in 0..southAlveoles){\n            //Every Second Iteration go half width west or east\n            if (n % 2 == 0) {\n                curPos = SphericalUtil.computeOffset(curPos, width/2,270.0)\n            }\n            else {\n                curPos = SphericalUtil.computeOffset(curPos, width/2,90.0)\n            }\n            //go south\n            curPos = SphericalUtil.computeOffset(curPos,5.25 ,180.0)\n            //East Alveoles\n            for (i in 0..eastAlveoles) {\n                drawHorizontalHexagon(curPos, radius, \".\")\n                curPos = SphericalUtil.computeOffset(curPos, width,90.0);\n            }\n\n            curPos = SphericalUtil.computeOffset(curPos, width*eastAlveoles,270.0)\n\n\n        }\n\n        //South West of Heart\n\n        curPos= heartAlveole\n        for (n in 0..southAlveoles){\n            //Every Second Iteration go half width west or east\n            if (n % 2 == 0) {\n                curPos = SphericalUtil.computeOffset(curPos, width/2,270.0)\n            }\n            else {\n                curPos = SphericalUtil.computeOffset(curPos, width/2,90.0)\n            }\n            //go south\n            curPos = SphericalUtil.computeOffset(curPos,5.25 ,180.0)\n            //West Alveoles\n            for (i in 0..westAlveoles) {\n                drawHorizontalHexagon(curPos, radius, \".\")\n                curPos = SphericalUtil.computeOffset(curPos, width,270.0);\n            }\n\n            curPos = SphericalUtil.computeOffset(curPos, width*westAlveoles,90.0)\n\n        }\n\n\n\n    }\n\n    private fun drawHorizontalHexagon(position : LatLng, radius : Double, label : String){\n        var coordinates : MutableList&lt;LatLng&gt; = arrayListOf()\n\n        for (angle in 0..360 step 60) {\n            coordinates.add(SphericalUtil.computeOffset(position,radius,angle.toDouble()))\n        }\n\n        var opts : PolygonOptions = PolygonOptions().addAll(coordinates)\n            .fillColor(Color.argb(35,255, 0,0))\n            .strokeColor(Color.RED).strokeWidth(3f)\n\n        mMap.addPolygon(opts)\n\n\n        //Funktioniert theoretisch. Noch \u00fcberlegen ob ich es wirklich brauche.\n        //M\u00fcsste noch das Transparent \u00e4ndern und die Gr\u00f6\u00dfe der Schrift anpassen.\n        //this.showText(position, label)\n\n    }\n</code></pre>\n\n<p>As you can see, I have the drawHexagon function. As well as some Looping functions.\nGoing south you have to iterate between going half width to the left or to the right.\nIt's not as trivial as it looks ;)</p>\n\n<p>Thanks for all your help!</p>\n"}, {"tags": ["kotlin", "functional-interface"], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 5254851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bda79f379e5dcd2ef2525f5440d40570?s=128&d=identicon&r=PG&f=1", "display_name": "semidude", "link": "https://stackoverflow.com/users/5254851/semidude"}, "is_accepted": false, "score": 1, "last_activity_date": 1550700264, "creation_date": 1550700264, "answer_id": 54795944, "question_id": 54795618, "link": "https://stackoverflow.com/questions/54795618/java8-higher-order-functions-and-kotlin-lambdas-interoperability/54795944#54795944", "title": "Java8 Higher-Order Functions and Kotlin Lambdas interoperability", "body": "<p>When returning lambda as Java's functional interface, you have to use explicit SAM constructor:</p>\n\n<pre><code>override fun fitness(): Function&lt;ISeq&lt;Item&gt;, Double&gt; {\n    return Function { items:ISeq&lt;Item&gt; -&gt;\n        val sum = items.stream().collect(Item.toSum())\n        if (sum.size &lt;= _knapsackSize) sum.value else 0.0\n    }\n}\n</code></pre>\n\n<p>Also don't forget to import <code>java.util.function.Function</code> since Kotlin has its own class of that name</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 3, "last_activity_date": 1550700904, "last_edit_date": 1550700904, "creation_date": 1550700601, "answer_id": 54796002, "question_id": 54795618, "link": "https://stackoverflow.com/questions/54795618/java8-higher-order-functions-and-kotlin-lambdas-interoperability/54796002#54796002", "title": "Java8 Higher-Order Functions and Kotlin Lambdas interoperability", "body": "<p><strong>Problem:</strong></p>\n\n<p>You are returning a (Kotlin) lambda <code>ISeq&lt;Knapsack.Item&gt; -&gt; Double</code>. But this is not what you want. You want to return a Java <code>Function&lt;ISeq&lt;Knapsack.Item&gt;, Double&gt;</code>.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>You can use a <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM Conversion</a> to create a <code>Function</code>.</p>\n\n<blockquote>\n  <p>Just like Java 8, Kotlin supports SAM conversions. This means that\n  Kotlin function literals can be automatically converted into\n  implementations of Java interfaces with a single non-default method,\n  as long as the parameter types of the interface method match the\n  parameter types of the Kotlin function.</p>\n</blockquote>\n\n<p>I created a minimal example to demonstrate that. Consider you have a Java class like this:</p>\n\n<pre><code>public class Foo {\n    public Function&lt;String, Integer&gt; getFunction() {\n        return item -&gt; Integer.valueOf(item);\n    }\n}\n</code></pre>\n\n<p>If you want to override <code>getFunction</code> in Kotlin you would do it like this:</p>\n\n<pre><code>class Bar: Foo() {\n    override fun getFunction(): Function&lt;String, Int&gt; {\n        return Function {\n            it.toInt()\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 903, "user_id": 2123288, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/9f1916fda63be8e3ddeb6eeb283c95e3?s=128&d=identicon&r=PG", "display_name": "user2123288", "link": "https://stackoverflow.com/users/2123288/user2123288"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1550700904, "creation_date": 1550698690, "question_id": 54795618, "link": "https://stackoverflow.com/questions/54795618/java8-higher-order-functions-and-kotlin-lambdas-interoperability", "title": "Java8 Higher-Order Functions and Kotlin Lambdas interoperability", "body": "<p>I have a Java example where a method is implemented as</p>\n\n<pre><code>@Override\npublic Function&lt;ISeq&lt;Item&gt;, Double&gt; fitness() {\n    return items -&gt; {\n        final Item sum = items.stream().collect(Item.toSum());\n        return sum._size &lt;= _knapsackSize ? sum._value : 0;\n    };\n}\n</code></pre>\n\n<p>IntelliJ's automatic translation of it to Kotlin is</p>\n\n<pre><code>override fun fitness(): Function&lt;ISeq&lt;Item&gt;, Double&gt; {\n    return { items:ISeq&lt;Item&gt; -&gt;\n        val sum = items.stream().collect(Item.toSum())\n        if (sum.size &lt;= _knapsackSize) sum.value else 0.0\n    }\n}\n</code></pre>\n\n<p>(I made the type of items explicit and changed return to 0.0)</p>\n\n<p>Still I see that there are compatibility problems with Java's Function and Kotlin native lambdas, but I'm not that the most familiar with these. Error is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OJp7X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OJp7X.png\" alt=\"enter image description here\"></a></p>\n\n<p>Question is: is it possible to override in Kotlin the external Java library's fitness() method on this example and if so how ?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1550692969, "post_id": 54794250, "comment_id": 96366750, "body": "Your IDE can generate methods you need to implement on a class that is trying to implement an interface or abstract class. Learn to use the IDE. If IntelliJ/AndroidStudio , try Alt+Enter while the cursor is on top of your class name, <code>RecentAdapter</code>."}], "answers": [{"comments": [{"owner": {"reputation": 424, "user_id": 10642456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wi2PJ.jpg?s=128&g=1", "display_name": "Eduard Unruh", "link": "https://stackoverflow.com/users/10642456/eduard-unruh"}, "edited": false, "score": 0, "creation_date": 1550693314, "post_id": 54794346, "comment_id": 96366914, "body": "It works! Thanks! The thing is it worked this way before!! I&#39;m serious, I got it from a tutorial where it ofc also works and it worked in my other app. I&#39;m rly so sick and tired of the whole overengineered harder than is needs to be annying piece of crap android.."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 424, "user_id": 10642456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wi2PJ.jpg?s=128&g=1", "display_name": "Eduard Unruh", "link": "https://stackoverflow.com/users/10642456/eduard-unruh"}, "edited": false, "score": 0, "creation_date": 1550693646, "post_id": 54794346, "comment_id": 96367092, "body": "You will get used to such (harmless) errors that can be fixed easily. Android development is much more complicated than this."}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 1, "last_activity_date": 1550692792, "creation_date": 1550692792, "answer_id": 54794346, "question_id": 54794250, "link": "https://stackoverflow.com/questions/54794250/android-recyclerview-class-is-not-abstract-and-does-not-implement-abstract-bas/54794346#54794346", "title": "Android RecyclerView - Class is not abstract and does not implement abstract base class member", "body": "<p>Change <code>onBindViewHolder()</code>'s signature to this:</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int)\n</code></pre>\n\n<p>The 1st argument's type is <code>ViewHolder</code> and not <code>RecyclerView.ViewHolder</code></p>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 3444398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1657310df84cfb5575b018506592b5bf?s=128&d=identicon&r=PG", "display_name": "jguerinet", "link": "https://stackoverflow.com/users/3444398/jguerinet"}, "is_accepted": false, "score": 0, "last_activity_date": 1550692881, "creation_date": 1550692881, "answer_id": 54794375, "question_id": 54794250, "link": "https://stackoverflow.com/questions/54794250/android-recyclerview-class-is-not-abstract-and-does-not-implement-abstract-bas/54794375#54794375", "title": "Android RecyclerView - Class is not abstract and does not implement abstract base class member", "body": "<p>For the first question: </p>\n\n<p>You are not overriding the right method. In your constructor, you are declaring that the <code>ViewHolder</code> to use is <code>RecentAdapter.ViewHolder</code>, but your <code>onBindViewHolder</code> references the generic <code>RecyclerView.ViewHolder</code>. To fix this, simply change</p>\n\n<pre><code>override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n</code></pre>\n\n<p>to </p>\n\n<pre><code>override fun onBindViewHolder(holder: RecentAdapter.ViewHolder, position: Int) {\n</code></pre>\n\n<p>For the second question, I am not sure what the error is with the given files. Make sure you that there are views with Ids <code>videoViewTitle</code> and <code>videoViewRemove</code> within the <code>videoview</code> layout file to start?</p>\n"}], "owner": {"reputation": 424, "user_id": 10642456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wi2PJ.jpg?s=128&g=1", "display_name": "Eduard Unruh", "link": "https://stackoverflow.com/users/10642456/eduard-unruh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1599, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1550695393, "creation_date": 1550692332, "last_edit_date": 1550695393, "question_id": 54794250, "link": "https://stackoverflow.com/questions/54794250/android-recyclerview-class-is-not-abstract-and-does-not-implement-abstract-bas", "title": "Android RecyclerView - Class is not abstract and does not implement abstract base class member", "body": "<p>I got this:</p>\n\n<pre><code>class RecentAdapter(private val context: Context, private val videolist: MutableList&lt;Videos&gt;) : RecyclerView.Adapter&lt;RecentAdapter.ViewHolder&gt;(){\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n        val video = videolist[position]\n\n        holder.title.text = video.title\n\n        holder.remove.setOnClickListener {\n\n            videolist.removeAt(holder.adapterPosition)\n            notifyItemRemoved(holder.adapterPosition)\n\n        }\n\n    }\n\n    override fun getItemCount() = videolist.size\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.videoview, parent, false)\n        return ViewHolder(view)\n    }\n\n    class ViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView!!){\n\n        val title = itemView!!.videoviewTitle!!\n        val remove = itemView!!.videoviewRemove!!\n        val like = itemView!!.videoviewLike!!\n\n    }\n}\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>Class 'RecentAdapter' is not abstract and does not implement abstract base class member public abstract fun onBindViewHolder(@NonNull p0: RecentAdapter.ViewHolder, p1: Int): Unit defined in android.support.v7.widget.RecyclerView.Adapter\n</code></pre>\n\n<p>on <code>class RecentAdapter</code></p>\n\n<p>And</p>\n\n<pre><code>'onBindViewHolder' overrides nothing\n</code></pre>\n\n<p>And</p>\n\n<p>Unresolved reference on <code>title</code> and <code>remove</code></p>\n\n<p>Can someone help me?</p>\n"}, {"tags": ["android", "reflection", "kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1550679891, "post_id": 54790948, "comment_id": 96360115, "body": "do you just want to return the value of <code>it.name</code>? or do you actually want something like a supplier or similar that will return the name, when you access the supplier? (something like a lazy evaluation?)"}, {"owner": {"reputation": 282, "user_id": 7179940, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153405241138103/picture?type=large", "display_name": "fhomovc", "link": "https://stackoverflow.com/users/7179940/fhomovc"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1550680199, "post_id": 54790948, "comment_id": 96360294, "body": "Hi @Roland I want the name of the variable, not a property called &quot;name&quot;. So for the first case it would be <code>map.add(someClassVariable, &quot;someClassVariable&quot;)</code>"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1550680655, "post_id": 54790948, "comment_id": 96360559, "body": "ah ok... now I got you... interesting... this doesn&#39;t seem to work yet, even though <code>::someClassVariable.name</code> would... what are you trying to accomplish that way? maybe there is another approach too... I mean: now you manually put all the variables into the list... if that becomes more dynamic maybe also the rest will solve itself more easily? ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 282, "user_id": 7179940, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153405241138103/picture?type=large", "display_name": "fhomovc", "link": "https://stackoverflow.com/users/7179940/fhomovc"}, "edited": false, "score": 0, "creation_date": 1550682384, "post_id": 54791487, "comment_id": 96361631, "body": "Nice approach ;-) Thanks!"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 3, "last_activity_date": 1550681398, "creation_date": 1550681398, "answer_id": 54791487, "question_id": 54790948, "link": "https://stackoverflow.com/questions/54790948/access-variable-name-in-lambda-function/54791487#54791487", "title": "Access variable name in lambda function", "body": "<p>You could do it vice-versa, i.e. having a list of references to your class variables and iterate over them and then get the actual value by calling invoke on it:</p>\n\n<pre><code>listOf(::someClassVariable, ::anotherClassVariable, ::yetAnotherClassVariable).forEach { varRef -&gt;\n    val varValue = varRef() // assignment optional... you can also just do it the way you want ;-)\n    if (varValue.foo())\n        map.add(varValue, varRef.name)\n}\n</code></pre>\n"}], "owner": {"reputation": 282, "user_id": 7179940, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153405241138103/picture?type=large", "display_name": "fhomovc", "link": "https://stackoverflow.com/users/7179940/fhomovc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 54791487, "answer_count": 1, "score": 2, "last_activity_date": 1550681398, "creation_date": 1550679693, "question_id": 54790948, "link": "https://stackoverflow.com/questions/54790948/access-variable-name-in-lambda-function", "title": "Access variable name in lambda function", "body": "<p>I'm trying to access the name of a variable inside an iterator</p>\n\n<pre><code>listOf(someClassVariable, anotherClassVariable, yetAnotherClassVariable).forEach {\n    if (it.foo()) {\n        map.add(it, ::it.name)\n    }\n}\n</code></pre>\n\n<p>but getting <code>unsupported [references to variables aren't supported yet]</code> error at <code>::it.name</code>. Any ideas/workarounds?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 1, "last_activity_date": 1550680130, "creation_date": 1550680130, "answer_id": 54791083, "question_id": 54790540, "link": "https://stackoverflow.com/questions/54790540/why-are-the-contents-of-some-globalscope-launch-calls-in-kotlin-silently-failing/54791083#54791083", "title": "Why are the contents of some GlobalScope.launch calls in Kotlin silently failing to execute?", "body": "<p>The problem is probably that you are using a shared single-thread dispatcher with <code>cameraDispatcher</code> which you then block by using <code>runBlocking</code>. I'm not sure what this code is based in but <code>runBlocking</code> has a warning in its documentation that it should only be used when bridging between coroutines and a strictly thread-bound execution like <code>main</code> or a testing framework.</p>\n\n<p>Your code should still work if you remove all the calls to <code>runBlocking</code></p>\n"}], "owner": {"reputation": 10289, "user_id": 15394, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9757acb5b356cbf87576c2005f2cf33c?s=128&d=identicon&r=PG", "display_name": "glenatron", "link": "https://stackoverflow.com/users/15394/glenatron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550680130, "creation_date": 1550678520, "question_id": 54790540, "link": "https://stackoverflow.com/questions/54790540/why-are-the-contents-of-some-globalscope-launch-calls-in-kotlin-silently-failing", "title": "Why are the contents of some GlobalScope.launch calls in Kotlin silently failing to execute?", "body": "<p>I am new to Kotlin - in fact it was never my plan to use it, but I am trying to use the <a href=\"https://camerakit.io/\" rel=\"nofollow noreferrer\">CameraKit</a> library which uses what appears to be a generated Kotlin layer for its API interface. I have been having trouble with the Camera not being disconnected properly, the code in question ( or at least what seems to me the most relevant parts of it )  looks like this:</p>\n\n<pre><code>class CameraPreview : FrameLayout, CameraEvents {\n    var TAG = \"CameraPreview.kt\"\n    var lifecycleState: LifecycleState = LifecycleState.STOPPED\n    var surfaceState: SurfaceState = SurfaceState.SURFACE_WAITING\n    var cameraState: CameraState = CameraState.CAMERA_CLOSED\n        set(state) {\n            field = state\n            when (state) {\n                CameraState.CAMERA_OPENED -&gt; {\n                    listener?.onCameraOpened()\n                }\n                CameraState.PREVIEW_STARTED -&gt; {\n                    listener?.onPreviewStarted()\n                }\n                CameraState.PREVIEW_STOPPED -&gt; {\n                    listener?.onPreviewStopped()\n                }\n                CameraState.CAMERA_CLOSING -&gt; {\n                    listener?.onCameraClosed()\n                }\n                else -&gt; {\n                    // ignore\n                }\n            }\n        }\n\n\n    private val cameraDispatcher: CoroutineDispatcher = newSingleThreadContext(\"CAMERA\")\n    private var cameraOpenContinuation: Continuation&lt;Unit&gt;? = null\n    private var previewStartContinuation: Continuation&lt;Unit&gt;? = null\n\n\n    init {\n        val windowManager = context.getSystemService(Context.WINDOW_SERVICE) as WindowManager\n        displayOrientation = windowManager.defaultDisplay.rotation * 90\n\n        cameraSurfaceView.cameraSurfaceTextureListener = object : CameraSurfaceTextureListener {\n            override fun onSurfaceReady(cameraSurfaceTexture: CameraSurfaceTexture) {\n                surfaceTexture = cameraSurfaceTexture\n                surfaceState = SurfaceState.SURFACE_AVAILABLE\n                if (lifecycleState == LifecycleState.STARTED || lifecycleState == LifecycleState.RESUMED) {\n                    resume()\n                }\n            }\n        }\n\n        addView(cameraSurfaceView)\n    }\n\n    fun start(facing: CameraFacing) {\n        GlobalScope.launch(cameraDispatcher) {\n            runBlocking {\n                Log.i(TAG, \"Start preview state is \"+lifecycleState)\n                lifecycleState = LifecycleState.STARTED\n                cameraFacing = facing\n                openCamera()\n            }\n        }\n    }\n\n    fun resume() {\n        GlobalScope.launch(cameraDispatcher) {\n            runBlocking {\n                Log.i(\"CameraPreview.kt\", \"Resume preview state is \"+lifecycleState)\n                lifecycleState = LifecycleState.RESUMED\n                try {\n                    startPreview()\n                } catch (e: Exception) {\n                    Log.i(\"CameraPreview.kt\", \"Start preview hit an exception: \"+e.message)\n                    // camera or surface not ready, wait.\n                }\n            }\n        }\n    }\n\n    fun pause() {\n        Log.i(\"CameraPreview.kt\", \"Pause called\");\n        GlobalScope.launch(cameraDispatcher) {\n            Log.i(TAG, \"Pause scope launched, runblocking call ahead.\")\n            runBlocking {\n                Log.i(\"CameraPreview.kt\", \"Pause initiated, stop preview state is \"+lifecycleState)\n                lifecycleState = LifecycleState.PAUSED\n                stopPreview()\n            }  \n        }\n\n    }\n\n    fun stop() {\n        Log.i(\"CameraPreview.kt\", \"Stop called\");\n        GlobalScope.launch(cameraDispatcher) {\n            Log.i(TAG, \"Stop scope launched, runblocking call ahead.\")\n            runBlocking {\n                Log.i(\"CameraPreview.kt\", \"Stop initiated, close camera state is \"+lifecycleState)\n                lifecycleState = LifecycleState.STOPPED\n                closeCamera()\n            }\n\n        }\n\n    }\n\n\n\n    enum class CameraState {\n        CAMERA_OPENING,\n        CAMERA_OPENED,\n        PREVIEW_STARTING,\n        PREVIEW_STARTED,\n        PREVIEW_STOPPING,\n        PREVIEW_STOPPED,\n        CAMERA_CLOSING,\n        CAMERA_CLOSED;\n    }\n\n    // Camera control:\n\n    private suspend fun openCamera(): Unit = suspendCoroutine {\n        cameraOpenContinuation = it\n        cameraState = CameraState.CAMERA_OPENING\n        Log.i(\"CameraPreview.kt\", \"openCamera call state is \"+lifecycleState)\n        cameraApi.open(cameraFacing)\n    }\n\n    private suspend fun startPreview(): Unit = suspendCoroutine {\n        Log.i(\"CameraPreview.kt\", \"startPreview, lifecyclestate \"+ lifecycleState);\n        // do stuff\n\n    }\n\n    private suspend fun stopPreview(): Unit = suspendCoroutine {\n        Log.i(\"CameraPreview.kt\", \"Stop preview state is \"+lifecycleState)\n        cameraState = CameraState.PREVIEW_STOPPING\n        cameraApi.stopPreview()\n        it.resume(Unit)\n    }\n\n    private suspend fun closeCamera(): Unit = suspendCoroutine {\n        Log.i(\"CameraPreview.kt\", \"Close camera state is \"+lifecycleState)\n        cameraState = CameraState.CAMERA_CLOSING\n        cameraApi.release()\n        it.resume(Unit)\n    }\n\n\n}\n</code></pre>\n\n<p>Now when <code>start</code> and <code>resume</code> are called, they do what they are supposed to. When <code>pause</code> and <code>stop</code> are called, there is no perceptible change and the camera preview is neither paused nor stopped.</p>\n\n<p>My logging indicates that when <code>pause()</code> is called, the initial call is logged, but the log statement inside the <code>GlobalScope.launch(cameraDispatcher)</code> never appears. It seems like the GlobalScope just launches the co-routine into the void. As <code>start</code> and <code>resume</code> do work, there doesn't seem to be a problem with the call or the dispatcher, but it is hard to know where else to look</p>\n\n<p>If I take the contents of the <code>pause</code> or <code>stop</code> co-routine and place it outside the <code>GlobalScope.launch</code> to create something like this:</p>\n\n<pre><code>fun pause() {\n    Log.i(\"CameraPreview.kt\", \"Pause called\");\n    GlobalScope.launch(cameraDispatcher) {\n        Log.i(TAG, \"Pause scope launched, runblocking call ahead.\")\n        runBlocking {\n            Log.i(\"CameraPreview.kt\", \"Pause initiated, stop preview state is \"+lifecycleState)\n            lifecycleState = LifecycleState.PAUSED\n            stopPreview()\n        }\n    }\n    cameraState = CameraState.PREVIEW_STOPPING\n    cameraApi.stopPreview()\n}\n</code></pre>\n\n<p>Not only does it now work, but the co-routine also starts working on subsequent calls, as though the content of what was being called is somehow getting it jammed up. I see no error messages in Logcat when this is running.</p>\n\n<p>This is my first introduction to Kotlin, so I am not completely sure how it is supposed to work, but it seems as though completely bypassing essential code might not be part of the spec. Can anyone suggest what is happening here or how I could track down the true source of the problem?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 2, "creation_date": 1550677154, "post_id": 54790023, "comment_id": 96358385, "body": "<code>.typeface</code> this is not reassignable"}, {"owner": {"reputation": 1129, "user_id": 1191678, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/733e90c64bd48ebc0eb2e3e7c1d13592?s=128&d=identicon&r=PG&f=1", "display_name": "Navid Abutorab", "link": "https://stackoverflow.com/users/1191678/navid-abutorab"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1550677632, "post_id": 54790023, "comment_id": 96358701, "body": "@TimCastelijns yes it&#39;s , I just edit my post"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1550677826, "post_id": 54790023, "comment_id": 96358838, "body": "which line is causing the issue? Are you shadowing any variables with function arguments (which are implicitly <code>final</code>)?"}, {"owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "edited": false, "score": 0, "creation_date": 1550678419, "post_id": 54790023, "comment_id": 96359205, "body": "What is the error message you&#39;re getting?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1550679260, "post_id": 54790023, "comment_id": 96359726, "body": "&quot;yes it is&quot; no it&#39;s not"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1550679867, "post_id": 54790023, "comment_id": 96360097, "body": "Are you sure that the error is not at this line: <code>ln_onvan=findViewById&lt;TextInputLayout&gt;(R.id.ln_onvan)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 3711574, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d99cffa2ea59b24890e7f8f7259892ab?s=128&d=identicon&r=PG&f=1", "display_name": "R&#233;mi P", "link": "https://stackoverflow.com/users/3711574/r%c3%a9mi-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1550678887, "creation_date": 1550678887, "answer_id": 54790665, "question_id": 54790023, "link": "https://stackoverflow.com/questions/54790023/val-cannot-be-reassigned-while-using-var-for-declaration/54790665#54790665", "title": "val cannot be reassigned while using var for declaration", "body": "<p>ln_onvan.typeface does not refer to your local variable typeface.\nYou should refer to this existing question to change typeface of your TextInputLayout : <a href=\"https://stackoverflow.com/questions/30765287/change-font-of-the-floating-label-edittext-and-textinputlayout\">Change font of the floating label EditText and TextInputLayout</a></p>\n"}], "owner": {"reputation": 1129, "user_id": 1191678, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/733e90c64bd48ebc0eb2e3e7c1d13592?s=128&d=identicon&r=PG&f=1", "display_name": "Navid Abutorab", "link": "https://stackoverflow.com/users/1191678/navid-abutorab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1550679482, "creation_date": 1550677114, "last_edit_date": 1550679482, "question_id": 54790023, "link": "https://stackoverflow.com/questions/54790023/val-cannot-be-reassigned-while-using-var-for-declaration", "title": "val cannot be reassigned while using var for declaration", "body": "<p>This is my code, it's very strange, I'm using var for the declaration </p>\n\n<pre><code>lateinit var ln_onvan: TextInputLayout\nlateinit var typeface: Typeface\n\ntypeface = Func.getTypeface(this)\nln_onvan=findViewById&lt;TextInputLayout&gt;(R.id.ln_onvan)\n\n///on this line I get this error\nln_onvan.typeface=typeface;\n</code></pre>\n\n<p>I don't understand it, could you help me to solve this problem? </p>\n"}, {"tags": ["kotlin", "visual-studio-code", "vscode-code-runner"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10949197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2c7f64e042e2edb6c53c146154db29?s=128&d=identicon&r=PG&f=1", "display_name": "Hasan &#214;.", "link": "https://stackoverflow.com/users/10949197/hasan-%c3%96"}, "edited": false, "score": 0, "creation_date": 1550765072, "post_id": 54789866, "comment_id": 96399495, "body": "java 10 2018-03-20 Java(TM) SE Runtime Environment 18.3 (build 10+46) Java HotSpot(TM) 64-Bit Server VM 18.3 (build 10+46, mixed mode)"}, {"owner": {"reputation": 3, "user_id": 10949197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2c7f64e042e2edb6c53c146154db29?s=128&d=identicon&r=PG&f=1", "display_name": "Hasan &#214;.", "link": "https://stackoverflow.com/users/10949197/hasan-%c3%96"}, "edited": false, "score": 0, "creation_date": 1550765116, "post_id": 54789866, "comment_id": 96399521, "body": "java 10 2018-03-20"}, {"owner": {"reputation": 3, "user_id": 10949197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2c7f64e042e2edb6c53c146154db29?s=128&d=identicon&r=PG&f=1", "display_name": "Hasan &#214;.", "link": "https://stackoverflow.com/users/10949197/hasan-%c3%96"}, "edited": false, "score": 0, "creation_date": 1550765127, "post_id": 54789866, "comment_id": 96399530, "body": "Java(TM) SE Runtime Environment 18.3 (build 10+46)"}, {"owner": {"reputation": 3, "user_id": 10949197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2c7f64e042e2edb6c53c146154db29?s=128&d=identicon&r=PG&f=1", "display_name": "Hasan &#214;.", "link": "https://stackoverflow.com/users/10949197/hasan-%c3%96"}, "edited": false, "score": 0, "creation_date": 1550765132, "post_id": 54789866, "comment_id": 96399538, "body": "Java HotSpot(TM) 64-Bit Server VM 18.3 (build 10+46, mixed mode)"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "reply_to_user": {"reputation": 3, "user_id": 10949197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2c7f64e042e2edb6c53c146154db29?s=128&d=identicon&r=PG&f=1", "display_name": "Hasan &#214;.", "link": "https://stackoverflow.com/users/10949197/hasan-%c3%96"}, "edited": false, "score": 0, "creation_date": 1550766791, "post_id": 54789866, "comment_id": 96400647, "body": "You have a pre-release java version, please upgrade to Java 11 LTS release"}, {"owner": {"reputation": 3, "user_id": 10949197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2c7f64e042e2edb6c53c146154db29?s=128&d=identicon&r=PG&f=1", "display_name": "Hasan &#214;.", "link": "https://stackoverflow.com/users/10949197/hasan-%c3%96"}, "edited": false, "score": 0, "creation_date": 1550770390, "post_id": 54789866, "comment_id": 96402709, "body": "Thanks I will update.But I try to Mac laptop and its works.My teachers laptop.I thought it could be path manager.Because we adjust windows systems path but mac unix based so problem related to path."}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "reply_to_user": {"reputation": 3, "user_id": 10949197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2c7f64e042e2edb6c53c146154db29?s=128&d=identicon&r=PG&f=1", "display_name": "Hasan &#214;.", "link": "https://stackoverflow.com/users/10949197/hasan-%c3%96"}, "edited": false, "score": 0, "creation_date": 1550866167, "post_id": 54789866, "comment_id": 96443609, "body": "It should just work in IntelliJ Community. I assume it has the most advanced support for Kotlin too"}, {"owner": {"reputation": 3, "user_id": 10949197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2c7f64e042e2edb6c53c146154db29?s=128&d=identicon&r=PG&f=1", "display_name": "Hasan &#214;.", "link": "https://stackoverflow.com/users/10949197/hasan-%c3%96"}, "edited": false, "score": 0, "creation_date": 1551093755, "post_id": 54789866, "comment_id": 96500571, "body": "Thanks mr Eugene.I guess it should be"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1550676619, "creation_date": 1550676619, "answer_id": 54789866, "question_id": 54789637, "link": "https://stackoverflow.com/questions/54789637/kotlin-java-lang-arrayindexoutofboundsexception448/54789866#54789866", "title": "Kotlin java.lang.ArrayIndexOutOfBoundsException:448", "body": "<p>What Java version do you use? Try <code>java -version</code> to see that. You may probably need Java 11 (or 8). Also, I see <code>fun fun</code> in the code snippet, probably a typoe</p>\n\n<p>I found that related issue for that\n<a href=\"https://youtrack.jetbrains.com/issue/KT-21303\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-21303</a></p>\n\n<p>Try using the fresh version of Kotlin compiler, e.g. <code>1.3.21</code></p>\n"}, {"tags": [], "owner": {"reputation": 516, "user_id": 7550227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DJs3x.jpg?s=128&g=1", "display_name": "Simileoluwa Aluko", "link": "https://stackoverflow.com/users/7550227/simileoluwa-aluko"}, "is_accepted": false, "score": 0, "last_activity_date": 1575814492, "creation_date": 1575814492, "answer_id": 59236264, "question_id": 54789637, "link": "https://stackoverflow.com/questions/54789637/kotlin-java-lang-arrayindexoutofboundsexception448/59236264#59236264", "title": "Kotlin java.lang.ArrayIndexOutOfBoundsException:448", "body": "<p>You can try updating your kotlin version. I had the same issue with the error below using Intellij. I updated Kotlin plugin from a version 1.2. something to 1.3.11 and the hello world code was able to run.</p>\n\n<pre><code>Error:Kotlin: [Internal Error] java.lang.ArrayIndexOutOfBoundsException: 10883\nat org.jetbrains.org.objectweb.asm.ClassReader.readUnsignedShort\n(ClassReader.java:2464)\nat org.jetbrains.org.objectweb.asm.ClassReader.readUTF8(ClassReader.java:2525)\nat org.jetbrains.org.objectweb.asm.ClassReader.readModule(ClassReader.java:761)\n.......\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10949197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2c7f64e042e2edb6c53c146154db29?s=128&d=identicon&r=PG&f=1", "display_name": "Hasan &#214;.", "link": "https://stackoverflow.com/users/10949197/hasan-%c3%96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "accepted_answer_id": 54789866, "answer_count": 2, "score": 0, "last_activity_date": 1575814492, "creation_date": 1550675865, "last_edit_date": 1558034485, "question_id": 54789637, "link": "https://stackoverflow.com/questions/54789637/kotlin-java-lang-arrayindexoutofboundsexception448", "title": "Kotlin java.lang.ArrayIndexOutOfBoundsException:448", "body": "<p>I am learning Kotlin but my computer so bad to use Intellij. I downladed VSCODE and I followed all steps. I mean Code Runner, Kotlin Language extension and add to path. But when I run to code any code. Like this</p>\n\n<pre><code>fun fun main(args: Array&lt;String&gt;) {\nprint(\"Hello\")\n}\n</code></pre>\n\n<p>Vscode return this message</p>\n\n<pre><code>exception: java.lang.ArrayIndexOutOfBoundsException: 448\nat org.jetbrains.org.objectweb.asm.ClassReader.readUnsignedShort(ClassReader.java:2464)\nat org.jetbrains.org.objectweb.asm.ClassReader.readUTF8(ClassReader.java:2525)\nat org.jetbrains.org.objectweb.asm.ClassReader.readModule(ClassReader.java:761)\nat org.jetbrains.org.objectweb.asm.ClassReader.accept(ClassReader.java:646)\nat org.jetbrains.org.objectweb.asm.ClassReader.accept(ClassReader.java:507)\nat org.jetbrains.kotlin.resolve.jvm.modules.JavaModuleInfo$Companion.read(JavaModuleInfo.kt:67)\nat org.jetbrains.kotlin.cli.jvm.modules.CliJavaModuleFinder.findSystemModule(CliJavaModuleFinder.kt:44)\nat org.jetbrains.kotlin.cli.jvm.modules.CliJavaModuleFinder.access$findSystemModule(CliJavaModuleFinder.kt:25)\nat org.jetbrains.kotlin.cli.jvm.modules.CliJavaModuleFinder$systemModules$1.invoke(CliJavaModuleFinder.kt:37)\nat org.jetbrains.kotlin.cli.jvm.modules.CliJavaModuleFinder$systemModules$1.invoke(CliJavaModuleFinder.kt:25)\nat kotlin.sequences.TransformingSequence$iterator$1.next(Sequences.kt:149)\nat kotlin.sequences.FilteringSequence$iterator$1.calcNext(Sequences.kt:109)\nat kotlin.sequences.FilteringSequence$iterator$1.hasNext(Sequences.kt:133)\nat kotlin.sequences.FlatteningSequence$iterator$1.ensureItemIterator(Sequences.kt:254)\nat kotlin.sequences.FlatteningSequence$iterator$1.hasNext(Sequences.kt:241)\nat kotlin.sequences.SequencesKt___SequencesKt.none(_Sequences.kt:1239)\nat org.jetbrains.kotlin.cli.jvm.compiler.ClasspathRootsResolver.addModularRoots(ClasspathRootsResolver.kt:227)\nat org.jetbrains.kotlin.cli.jvm.compiler.ClasspathRootsResolver.computeRoots(ClasspathRootsResolver.kt:124)\nat org.jetbrains.kotlin.cli.jvm.compiler.ClasspathRootsResolver.convertClasspathRoots(ClasspathRootsResolver.kt:79)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment.&lt;init&gt;(KotlinCoreEnvironment.kt:230)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment.&lt;init&gt;(KotlinCoreEnvironment.kt:114)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.createForProduction(KotlinCoreEnvironment.kt:409)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.createCoreEnvironment(K2JVMCompiler.kt:286)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.createEnvironmentWithScriptingSupport(K2JVMCompiler.kt:276)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:196)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)\nat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:109)\nat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:53)\nat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\nat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:70)\nat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:36)\nat org.jetbrains.kotlin.cli.common.CLITool$Companion.doMainNoExit(CLITool.kt:157)\nat org.jetbrains.kotlin.cli.common.CLITool$Companion.doMain(CLITool.kt:148)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler$Companion.main(K2JVMCompiler.kt:343)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.main(K2JVMCompiler.kt)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\nat org.jetbrains.kotlin.preloading.Preloader.run(Preloader.java:81)\nat org.jetbrains.kotlin.preloading.Preloader.main(Preloader.java:43)\n</code></pre>\n"}, {"tags": ["android", "generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 60, "user_id": 5712274, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-E-k_A07auXg/AAAAAAAAAAI/AAAAAAAAQCc/UPVuUsIex-8/photo.jpg?sz=128", "display_name": "Leon Georgi", "link": "https://stackoverflow.com/users/5712274/leon-georgi"}, "is_accepted": false, "score": 0, "last_activity_date": 1550702809, "creation_date": 1550702809, "answer_id": 54796470, "question_id": 54789070, "link": "https://stackoverflow.com/questions/54789070/android-kotling-extension-for-binding-a-generic-view/54796470#54796470", "title": "Android Kotling Extension for Binding a Generic View", "body": "<p>Since you cannot specify the type parameter in the XML and type parameters are also erased in the byte code, you could simply cast the value to the proper generic type <code>MyGenericCustomView&lt;String&gt;</code>.</p>\n\n<p>So something like that should work:</p>\n\n<pre><code>val myView = custom_id as MyGenericCustomView&lt;String&gt;\n</code></pre>\n\n<p>For better usage in your Activity/Fragment I would personally use <code>lazy { }</code> like this:</p>\n\n<pre><code>class MyActivity() : Activity(\u2026) {\n\n    val myView by lazy { custom_id as MyGenericCustomView&lt;String&gt; }\n\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 1753483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c28a57b13cc478491e8bf094a1491e4?s=128&d=identicon&r=PG", "display_name": "William Miranda", "link": "https://stackoverflow.com/users/1753483/william-miranda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1550702809, "creation_date": 1550674225, "question_id": 54789070, "link": "https://stackoverflow.com/questions/54789070/android-kotling-extension-for-binding-a-generic-view", "title": "Android Kotling Extension for Binding a Generic View", "body": "<p>I have a generic custom view like</p>\n\n<pre><code>class MyGenericCustomView&lt;T&gt;(context: Context, attrs: AttributeSet) : AnotherView(context, attrs) {\n    ...\n}\n</code></pre>\n\n<p>In the Activity/Fragment XML I have:</p>\n\n<pre><code>&lt;package.name.MyGenericCustomView\n   android:id=\"@+id/custom_id\"\n   ....\n/&gt;\n</code></pre>\n\n<p>If I use the old way, I can get my \"typed\" custom view using something like:</p>\n\n<pre><code>override fun onCreate(...) {\n    ...\n    val myCustomView = findViewById&lt;MyGenericCustomView&lt;String&gt;&gt;(R.id.custom_id)\n    ...\n}\n</code></pre>\n\n<p>But if I use the Android Kotlin Extension (synthetic) to have an object named with the same ID, I dont have a way to pass the Generic type, so</p>\n\n<pre><code>//custom_id is of type MyGenericCustomView&lt;*&gt;\n</code></pre>\n\n<p>One solution is to create a specific class like</p>\n\n<pre><code>class MySpecificCustomView(context: Context, attrs: AttributeSet) : MyGenericCustomView&lt;String&gt;(context, attrs) {\n    ....\n}\n</code></pre>\n\n<p>But I dont want to create this boilerplate class.\nIs there any solution to specify a custom type using Kotlin Extensions only?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "syntax", "equivalent"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1550673942, "post_id": 54788929, "comment_id": 96356298, "body": "Android Studio can convert the code for you. If the problem you have is with the ternary expression, then the equivalent construct in kotlin is <code>if else</code>."}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1550675460, "post_id": 54788929, "comment_id": 96357279, "body": "It is possible to use the <code>when</code> expression too"}], "answers": [{"comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1550674124, "post_id": 54789007, "comment_id": 96356429, "body": "<code>var</code> would be the correct translation since <code>mBoolean</code> isn&#39;t <code>final</code> in the Java code."}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 1, "creation_date": 1550675380, "post_id": 54789007, "comment_id": 96357224, "body": "It is always better to use <code>val</code> in Kotlin. For example, there are some features, like smart cases that would work with <code>val</code> and not with <code>var</code> declarations"}], "tags": [], "owner": {"reputation": 111, "user_id": 5395982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e1727292ef2c70cedaecd965244f56?s=128&d=identicon&r=PG&f=1", "display_name": "A.Bitner", "link": "https://stackoverflow.com/users/5395982/a-bitner"}, "is_accepted": true, "score": 6, "last_activity_date": 1550674322, "last_edit_date": 1550674322, "creation_date": 1550674048, "answer_id": 54789007, "question_id": 54788929, "link": "https://stackoverflow.com/questions/54788929/kotlin-ternary-operator/54789007#54789007", "title": "Kotlin ternary operator", "body": "<pre><code>val mBoolean = false\nview.visibility = if(mBoolean) View.VISIBLE else View.GONE\n</code></pre>\n\n<p>However I doubt it makes any sense to make <code>mBoolean</code> immutable here, so instead of <code>val mBoolean</code> I'd go with <code>var mBoolean</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 3174, "user_id": 4858147, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-WvQqad2FrJE/AAAAAAAAAAI/AAAAAAAAAeM/8CaDjrq8nHw/photo.jpg?sz=128", "display_name": "svkaka", "link": "https://stackoverflow.com/users/4858147/svkaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1550674158, "creation_date": 1550674158, "answer_id": 54789049, "question_id": 54788929, "link": "https://stackoverflow.com/questions/54788929/kotlin-ternary-operator/54789049#54789049", "title": "Kotlin ternary operator", "body": "<p>You can epannd on <code>view.visibility = if(mBoolean) View.VISIBLE else View.GONE</code> by creating extension function</p>\n\n<pre><code>fun View.makeVisible(show:Boolean){\n    this.visibilility = if(show) View.VISIBLE else View.GONE   \n}\n\n\nvar mBolean = false\nview.makeVisible(mBoolean)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1550676203, "creation_date": 1550676203, "answer_id": 54789744, "question_id": 54788929, "link": "https://stackoverflow.com/questions/54788929/kotlin-ternary-operator/54789744#54789744", "title": "Kotlin ternary operator", "body": "<p>You can also use <strong>when</strong> operator:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code> val mBoolean = false\n        view.visibility = when (mBoolean) {\n            true -&gt; View.VISIBLE\n            false -&gt; View.GONE\n        }\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 3170486, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Bz21X.png?s=128&g=1", "display_name": "petryk33", "link": "https://stackoverflow.com/users/3170486/petryk33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2171, "favorite_count": 0, "closed_date": 1550690638, "accepted_answer_id": 54789007, "answer_count": 3, "score": -1, "last_activity_date": 1551800273, "creation_date": 1550673823, "last_edit_date": 1551800273, "question_id": 54788929, "link": "https://stackoverflow.com/questions/54788929/kotlin-ternary-operator", "closed_reason": "Duplicate", "title": "Kotlin ternary operator", "body": "<p>How can I convert the following code from Java to Kotlin? </p>\n\n<pre><code>Boolean mBoolean = false\nview.setVisibility(mBoolean ? View.VISIBLE : View.GONE);\n</code></pre>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 3475, "user_id": 9681755, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vyDTlPZMld4/AAAAAAAAAAI/AAAAAAAACWY/knwZhoXIt8w/photo.jpg?sz=128", "display_name": "Dirk Deyne", "link": "https://stackoverflow.com/users/9681755/dirk-deyne"}, "edited": false, "score": 0, "creation_date": 1550680074, "post_id": 54788513, "comment_id": 96360220, "body": "are both configurations in same jar?"}, {"owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "reply_to_user": {"reputation": 3475, "user_id": 9681755, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vyDTlPZMld4/AAAAAAAAAAI/AAAAAAAACWY/knwZhoXIt8w/photo.jpg?sz=128", "display_name": "Dirk Deyne", "link": "https://stackoverflow.com/users/9681755/dirk-deyne"}, "edited": false, "score": 0, "creation_date": 1550684338, "post_id": 54788513, "comment_id": 96362626, "body": "Yes, in the same jar"}, {"owner": {"reputation": 3475, "user_id": 9681755, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vyDTlPZMld4/AAAAAAAAAAI/AAAAAAAACWY/knwZhoXIt8w/photo.jpg?sz=128", "display_name": "Dirk Deyne", "link": "https://stackoverflow.com/users/9681755/dirk-deyne"}, "edited": false, "score": 0, "creation_date": 1550684592, "post_id": 54788513, "comment_id": 96362729, "body": "Ok, so maybe you could use <code>@ConditionalOnProperty(name=&quot;app.geolocation.enable&quot;,havingV&zwnj;&#8203;alue=&quot;false&quot;) </code> on <code>CoreConfig</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "edited": false, "score": 0, "creation_date": 1550733962, "post_id": 54793220, "comment_id": 96379532, "body": "Auto-configuration classes looks to me like <i>over-engineering</i> in my case, but thank you for your answer"}], "tags": [], "owner": {"reputation": 84621, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "is_accepted": false, "score": 3, "last_activity_date": 1550693460, "last_edit_date": 1550693460, "creation_date": 1550688227, "answer_id": 54793220, "question_id": 54788513, "link": "https://stackoverflow.com/questions/54788513/why-conditionalonmissingbean-is-invoked-before-the-bean-it-should-check/54793220#54793220", "title": "Why @ConditionalOnMissingBean is invoked before the bean it should check?", "body": "<p><code>ConditionalOnMissingBean</code> is dependent on the order in which <code>@Configuration</code> classes are processed and their beans are defined. In your example, I suspect that <code>CoreConfig</code> is being processed, its conditions evaluated, and its beans defined before your <code>hereApiClient</code> bean has been defined. As a result, when the missing bean conditions are evaluated, there is no matching bean found and the <code>geocoder</code> and <code>travelDistanceCalculator</code> beans are defined.</p>\n\n<p>The javadoc for <code>ConditionalOnMissingBean</code> makes the following recommendation:</p>\n\n<blockquote>\n  <p>The condition can only match the bean definitions that have been processed by the application context so far and, as such, it is strongly recommended to use this condition on auto-configuration classes only. If a candidate bean may be created by another auto-configuration, make sure that the one using this condition runs after.</p>\n</blockquote>\n\n<p>You could follow this recommendation by using <code>@Order</code> on your configuration classes. Alternatively (and preferably, in my opinion) you could make <code>CoreConfig</code> an auto-configuration class by listing it in <code>META-INF/spring.factories</code> under the <code>org.springframework.boot.autoconfigure.EnableAutoConfiguration</code> key and moving it to a package where it will not be picked up by component scanning.</p>\n"}, {"comments": [{"owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "edited": false, "score": 0, "creation_date": 1550733619, "post_id": 54793499, "comment_id": 96379415, "body": "I was thinking <i>core module shouldn&#39;t know anything about geolocation module</i>, that&#39;s why I didn&#39;t refer to &quot;app.geolocation.enable&quot;, but since properties and configs are in the same module I was just overthinking."}, {"owner": {"reputation": 3475, "user_id": 9681755, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vyDTlPZMld4/AAAAAAAAAAI/AAAAAAAACWY/knwZhoXIt8w/photo.jpg?sz=128", "display_name": "Dirk Deyne", "link": "https://stackoverflow.com/users/9681755/dirk-deyne"}, "reply_to_user": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "edited": false, "score": 1, "creation_date": 1550741851, "post_id": 54793499, "comment_id": 96384035, "body": "@noiaverbale if you really want <i>core module shouldn&#39;t know anything about geolocation module</i> you should go for Andy&#39;s approach. On the other hand, you &#39;need&#39;  a property to configure <code>GeolocationConfig</code> so... A small improvement could be that <code>CoreConfig</code> is used on absence of that property. see edit"}], "tags": [], "owner": {"reputation": 3475, "user_id": 9681755, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vyDTlPZMld4/AAAAAAAAAAI/AAAAAAAACWY/knwZhoXIt8w/photo.jpg?sz=128", "display_name": "Dirk Deyne", "link": "https://stackoverflow.com/users/9681755/dirk-deyne"}, "is_accepted": true, "score": 2, "last_activity_date": 1550740720, "last_edit_date": 1550740720, "creation_date": 1550689257, "answer_id": 54793499, "question_id": 54788513, "link": "https://stackoverflow.com/questions/54788513/why-conditionalonmissingbean-is-invoked-before-the-bean-it-should-check/54793499#54793499", "title": "Why @ConditionalOnMissingBean is invoked before the bean it should check?", "body": "<p><code>@ConditionalOn(Missing)Bean</code> is intended to be used on auto-configuration classes. <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnBean.html\" rel=\"nofollow noreferrer\">see javadoc</a>\nIf used in common configiruation-classes then the outcome depends on whichever configuration is loaded first. See andy-wilkinson answer </p>\n\n<p>In your case you could easily use the same property (you are already providing) to configure the correct beans.</p>\n\n<p>Use <code>@ConditionalOnProperty(name=\"app.geolocation.enable\")</code> on <code>GeolocationConfig</code></p>\n\n<p>Use <code>@ConditionalOnProperty(name=\"app.geolocation.enable\",havingValue=\"false\")</code> on/in <code>CoreConfig</code></p>\n\n<p><em>EDIT</em></p>\n\n<p>Use <code>@ConditionalOnProperty(name=\"app.geolocation.enable\",havingValue=\"false\",matchIfMissing = true)</code> if you want the <code>CoreConfig</code> to be used if the property is missing.</p>\n"}], "owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1471, "favorite_count": 0, "accepted_answer_id": 54793499, "answer_count": 2, "score": 1, "last_activity_date": 1550740720, "creation_date": 1550672395, "question_id": 54788513, "link": "https://stackoverflow.com/questions/54788513/why-conditionalonmissingbean-is-invoked-before-the-bean-it-should-check", "title": "Why @ConditionalOnMissingBean is invoked before the bean it should check?", "body": "<p>In my Spring Boot application I want beans to be created only if a module is not enabled.</p>\n\n<p>In CoreConfig I've defined two beans (geocoder and travelDistanceCalculator)\nannotated with <code>@ConditionalOnMissingBean</code> referencing the interfaces those beans should initialize.</p>\n\n\n\n<pre><code>@Configuration\nclass CoreConfig {\n\n    private val logger = loggerFor&lt;CoreConfig&gt;()\n\n    @Bean\n    @ConditionalOnMissingBean(Geocoder::class)\n    fun geocoder(): Geocoder {\n        logger.warn(\"no Geocoder bean instance has been provided. Instantiating default.\")\n\n        return object : Geocoder {\n            override fun getGeocode(address: String) = Coordinates.Unavailable\n        }\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(TravelDistanceCalculator::class)\n    fun travelDistanceCalculator(): TravelDistanceCalculator {\n        logger.warn(\"no TravelDistanceCalculator bean instance has been provided. Instantiating default.\")\n\n        return object : TravelDistanceCalculator {\n            override fun getTravelDistanceInKm(origin: Coordinates, destination: Coordinates) = Double.NaN\n        }\n    }\n\n    // other beans definitions...\n}\n</code></pre>\n\n<p>Then GeolocationConfig defines a bean (HereApiClient) implementing both Geocoder and TravelDistanceCalculator interfaces.</p>\n\n<pre><code>@Configuration\n@ConditionalOnProperty(\"app.geolocation.enable\")\nclass GeolocationConfig {\n\n    @Bean\n    fun hereApiClient(\n        geolocationProperties: GeolocationProperties,\n        restTemplate: RestTemplate\n    ): HereApiClient =\n        HereApiClient(restTemplate, geolocationProperties)\n\n}\n</code></pre>\n\n<p><code>app.geolocation.enable</code> is defined as <code>true</code> in application.yml.</p>\n\n<p>What happens here is that, on startup, geocoder and travelDistanceCalculator default beans defined in CoreConfig are initialized even if GeolocationConfig is enabled and HereApiClient is initialized shortly after them.</p>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 2, "creation_date": 1550671806, "post_id": 54788267, "comment_id": 96354915, "body": "Great explanation! I don&#39;t believe we can say it&#39;s a bug in Kotlin, though. No arguments on the command line means an array of 0 elements, not an absence of array. So even if we were calling this <code>main</code> function from Kotlin code supporting default arguments, I would still believe this natural to call the function with an empty array as parameter."}, {"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "reply_to_user": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1550673394, "post_id": 54788267, "comment_id": 96355958, "body": "@Joffrey Yes - whether or not you&#39;d call this a bug depends on how you interpret what &quot;no arguments on the command line&quot; means."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1550683318, "post_id": 54788267, "comment_id": 96362124, "body": "<code>main()</code> won&#39;t be generated unless you use <code>@JvmOverloads</code> (<a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#overloads-generation\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>). Instead calls to <code>main()</code> without arguments <i>from Kotlin code</i> will become <code>main(methodReturningDefaultArgsValue())</code> (don&#39;t know what name will be used for the method). Since there&#39;s no Kotlin code calling <code>main()</code>, this doesn&#39;t matter. And if <code>@JvmOverloads</code> is used, it&#39;ll still only affect Java code explicitly calling <code>main()</code>."}], "tags": [], "owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "is_accepted": true, "score": 8, "last_activity_date": 1550671840, "last_edit_date": 1550671840, "creation_date": 1550671633, "answer_id": 54788267, "question_id": 54788141, "link": "https://stackoverflow.com/questions/54788141/specifying-default-arguments-for-main/54788267#54788267", "title": "Specifying default arguments for main", "body": "<p>This probably does not work because of how the underlying Java platform works and how Kotlin translates default arguments to something the JVM can understand. You could say it's a bug in Kotlin...</p>\n\n<p>The Java virtual machine looks for a method with the following signature to run your program (this is Java):</p>\n\n<pre><code>public static void main(String[] args)\n</code></pre>\n\n<p>Note that default argument values do not exist in Java, so if you declare a method with default values in Kotlin, the Kotlin compiler generates multiple methods in the Java byte code that will look like this when converted to Java:</p>\n\n<pre><code>public static void main(String[] args) {\n    // the normal main method\n}\n\n// generated because you have a method with default values\npublic static void main() {\n    main(new String[]{ \"abc\" });\n}\n</code></pre>\n\n<p>When you run the program, the JVM will still look for the method with the <code>String[] args</code> argument. It will ignore the method with no arguments, that was generated for the Kotlin <code>main</code> method with default arguments.</p>\n\n<p>So it's always going to call the <code>String[] args</code> version, even if there are no arguments on the command line - leading to the error that you get.</p>\n\n<p>Workaround: Don't use default values for the <code>main</code> method; check if arguments were given inside the method:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val realArgs = if (args.size &gt; 0) args else arrayOf(\"abc\")\n\n    // work with realArgs\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "is_accepted": false, "score": 3, "last_activity_date": 1550671944, "creation_date": 1550671944, "answer_id": 54788373, "question_id": 54788141, "link": "https://stackoverflow.com/questions/54788141/specifying-default-arguments-for-main/54788373#54788373", "title": "Specifying default arguments for main", "body": "<p>I think it's a question of signature the JVM's search for <code>main</code> methods: a <code>main</code> method should have one parameter of <code>String[]</code> type, and this parameter receives value(s) from CLI; if the CLI does not provide any parameter, the <code>main</code> method receives a <code>new String[0]</code>, which causes the error you're experiencing.</p>\n\n<p>I think you can solve the problem slightly changing the approach:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(args)\n    val a = args.getOrElse(0) {\"abc\"}\n    println(a)\n}\n</code></pre>\n\n<p>should work for your scenario: if there is no parameter with index <code>0</code> <code>a</code> gets the default value you passed (as a lambda) to <code>getOrElse</code>.</p>\n"}], "owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 54788267, "answer_count": 2, "score": 4, "last_activity_date": 1550671944, "creation_date": 1550671224, "question_id": 54788141, "link": "https://stackoverflow.com/questions/54788141/specifying-default-arguments-for-main", "title": "Specifying default arguments for main", "body": "<p>What am I doing wrong here?</p>\n\n<pre><code>fun main(args: Array&lt;String&gt; = arrayOf(\"abc\")) {\n    val a = args[0]\n}\n</code></pre>\n\n<p>compiles fine but:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 0</p>\n</blockquote>\n\n<p>I want to make it optional to have an argument and supply a default value if none was specified</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2221, "user_id": 3294034, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d0902d14f101aac2ed225744cddc17fa?s=128&d=identicon&r=PG&f=1", "display_name": "Abid Khan", "link": "https://stackoverflow.com/users/3294034/abid-khan"}, "edited": false, "score": 1, "creation_date": 1550668561, "post_id": 54787174, "comment_id": 96352827, "body": "Whats on the line 254 of PostAdBasicInformationFragment.kt ?"}, {"owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "reply_to_user": {"reputation": 2221, "user_id": 3294034, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d0902d14f101aac2ed225744cddc17fa?s=128&d=identicon&r=PG&f=1", "display_name": "Abid Khan", "link": "https://stackoverflow.com/users/3294034/abid-khan"}, "edited": false, "score": 0, "creation_date": 1550669799, "post_id": 54787174, "comment_id": 96353622, "body": "calling of the method"}], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 1, "last_activity_date": 1550669651, "creation_date": 1550669651, "answer_id": 54787583, "question_id": 54787174, "link": "https://stackoverflow.com/questions/54787174/get-the-content-provider-uri-crash-in-android/54787583#54787583", "title": "get the content provider uri crash in android", "body": "<blockquote>\n  <p>I am trying to get content provider for it</p>\n</blockquote>\n\n<p>That's not going to work. A content <code>Uri</code> has <code>content://</code> as the scheme. Yours has <code>file://</code> as the scheme.</p>\n\n<blockquote>\n  <p>for it to be able to rotate it</p>\n</blockquote>\n\n<p>You can get rid of <code>Uri.getPath()</code> (which will not work for most <code>Uri</code> values, even those with <code>content://</code> schemes). Use <code>openInputStream()</code> on a <code>ContentResovler</code> to open an <code>InputStream</code> on the content identified by the <code>Uri</code> (works for both <code>content://</code> and <code>file://</code> <code>Uri</code> values). Then, use that <code>InputStream</code> to read in the image to rotate it.</p>\n"}], "owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550669651, "creation_date": 1550668300, "question_id": 54787174, "link": "https://stackoverflow.com/questions/54787174/get-the-content-provider-uri-crash-in-android", "title": "get the content provider uri crash in android", "body": "<p>I have the following file path on my device</p>\n\n<p>file:///storage/emulated/0/DCIM/IMG_20190206_141330.jpg</p>\n\n<p>I am trying to get content provider for it to be able to rotate it using this method in kotlin</p>\n\n<pre><code>private fun Uri.getPath(ctx: Context): String? {\n    val projection = arrayOf(MediaStore.Images.Media.DATA)\n    val cursor = ctx.contentResolver.query(this, projection, null, null, null) ?: return null\n    val columnIndex = cursor.getColumnIndexOrThrow(projection[0])\n    cursor.moveToFirst()\n    val s = cursor.getString(columnIndex)\n    cursor.close()\n    return s\n}\n</code></pre>\n\n<p>I am getting the following crash</p>\n\n<pre><code> java.lang.NullPointerException: println needs a message\n        at android.util.Log.println_native(Native Method)\n        at android.util.Log.i(Log.java:198)\n        at com.forsale.app.utils.UriExtensionsKt.rotateImageIfRequired(UriExtensions.kt:80)\n        at com.forsale.app.features.postad.basicinformation.PostAdBasicInformationFragment$onActivityResult$$inlined$let$lambda$1.invokeSuspend(PostAdBasicInformationFragment.kt:254)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:32)\n        at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:236)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6938)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n</code></pre>\n\n<p>can anyone help please?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 2655, "user_id": 4649110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qpll5.jpg?s=128&g=1", "display_name": "Basi", "link": "https://stackoverflow.com/users/4649110/basi"}, "edited": false, "score": 2, "creation_date": 1550667453, "post_id": 54786882, "comment_id": 96352190, "body": "<a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 2655, "user_id": 4649110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qpll5.jpg?s=128&g=1", "display_name": "Basi", "link": "https://stackoverflow.com/users/4649110/basi"}, "edited": false, "score": 0, "creation_date": 1550667474, "post_id": 54786882, "comment_id": 96352203, "body": "try to add some codes"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 11083013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72699827904a24abc759c46a5ef3e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "sansiad", "link": "https://stackoverflow.com/users/11083013/sansiad"}, "edited": false, "score": 0, "creation_date": 1550677542, "post_id": 54786998, "comment_id": 96358640, "body": "ok thank you.I was storing the value in an ArrayList and was doing something wrong.But now it works fine."}, {"owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "reply_to_user": {"reputation": 47, "user_id": 11083013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72699827904a24abc759c46a5ef3e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "sansiad", "link": "https://stackoverflow.com/users/11083013/sansiad"}, "edited": false, "score": 0, "creation_date": 1550742984, "post_id": 54786998, "comment_id": 96384765, "body": "You are welcome. You can also easily convert your list to array in Kotlin. Just use  toTypedArray() function. val array = list.toTypedArray()"}], "tags": [], "owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "is_accepted": true, "score": 0, "last_activity_date": 1550667683, "creation_date": 1550667683, "answer_id": 54786998, "question_id": 54786882, "link": "https://stackoverflow.com/questions/54786882/save-multiple-values-of-checkbox-selected-items-and-show-values-in-next-activity/54786998#54786998", "title": "Save multiple values of checkbox selected items and show values in next activity?", "body": "<p>You can store your values as a Boolean array and then send it to another activity by intent</p>\n\n<pre><code>val intent = Intent().apply { arguments = Bundle().putBooleanArray(\"key\", array) }\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 11083013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72699827904a24abc759c46a5ef3e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "sansiad", "link": "https://stackoverflow.com/users/11083013/sansiad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 1, "accepted_answer_id": 54786998, "answer_count": 1, "score": -2, "last_activity_date": 1550667785, "creation_date": 1550667297, "last_edit_date": 1550667785, "question_id": 54786882, "link": "https://stackoverflow.com/questions/54786882/save-multiple-values-of-checkbox-selected-items-and-show-values-in-next-activity", "title": "Save multiple values of checkbox selected items and show values in next activity?", "body": "<p>I was stuck with this problem from long.\nI want to save values of all selected checkbox items from a recyclerview list and then when clicking on a Button,I want to show the values in the next activity.\nI am using firebase cloud firestore database and kotlin for coding.</p>\n\n<p>This is my checkbox screen(whose selected values I want to access and store):</p>\n\n<p><img src=\"https://i.stack.imgur.com/b8fjn.png\" alt=\"enter image description here\"></p>\n\n<p>this is my next blank activity(which will open on clicking host button) where i want to show the name of all selected users from previous activity{</p>\n\n<p><img src=\"https://i.stack.imgur.com/iqaG9.png\" alt=\"enter image description here\"></p>\n\n<p>Can someone provide me with a workable solution,please help!!</p>\n"}, {"tags": ["kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 375, "user_id": 5673068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0f0d8cc11f2634afab16ed5a6573cc4?s=128&d=identicon&r=PG&f=1", "display_name": "B.mansouri", "link": "https://stackoverflow.com/users/5673068/b-mansouri"}, "edited": false, "score": 0, "creation_date": 1550669714, "post_id": 54786680, "comment_id": 96353562, "body": "try the check the difference between what shown and the database content , just show  the newest items"}, {"owner": {"reputation": 375, "user_id": 5673068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0f0d8cc11f2634afab16ed5a6573cc4?s=128&d=identicon&r=PG&f=1", "display_name": "B.mansouri", "link": "https://stackoverflow.com/users/5673068/b-mansouri"}, "edited": false, "score": 0, "creation_date": 1550670052, "post_id": 54786680, "comment_id": 96353792, "body": "you can check this link <a href=\"https://proandroiddev.com/advanced-usage-of-diffutil-with-kotlin-and-rxjava2-2622e08b552b\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a>"}], "owner": {"reputation": 35, "user_id": 10603591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a40dfad46e1127c26c7a37287b0b4e3?s=128&d=identicon&r=PG&f=1", "display_name": "Qualcomm", "link": "https://stackoverflow.com/users/10603591/qualcomm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550678902, "creation_date": 1550666635, "last_edit_date": 1550678902, "question_id": 54786680, "link": "https://stackoverflow.com/questions/54786680/how-to-clear-recyclerview-in-kotlin", "title": "How to clear RecyclerView in Kotlin?", "body": "<p>I make a chat messenger on <code>Kotlin</code>, works on the principle: Loading data about registered users is stored in RealTime DataBase (<code>FireBase</code>), when sending a letter from user a to user B, <code>JSON</code> is stored in this form on the server see image below<a href=\"https://i.stack.imgur.com/eNxh1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eNxh1.jpg\" alt=\"enter image description here\"></a>. After that, letters are loaded into the dialogue through the listener.</p>\n\n<p>Added clear dialog button, <code>adapter.clear ()</code>, the dialog is cleared, but the listener loads it back. I need to clear the dialog and save the data in <code>FireBase</code>. How i can do this?</p>\n"}, {"tags": ["function", "lambda", "kotlin", "set", "higher-order-functions"], "comments": [{"owner": {"reputation": 488, "user_id": 3510245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ET9Tf.jpg?s=128&g=1", "display_name": "Krizzu", "link": "https://stackoverflow.com/users/3510245/krizzu"}, "edited": false, "score": 0, "creation_date": 1550667261, "post_id": 54786282, "comment_id": 96352073, "body": "<code>listeners.add { listener }</code> adds lambda (new function) instead of your passed argument. Change this to <code>listeners.add(listener)</code> and see if it works. Edit. late with response :)"}], "answers": [{"comments": [{"owner": {"reputation": 312, "user_id": 8746644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a519bf2c839cd239b8c5e24a1704dca2?s=128&d=identicon&r=PG&f=1", "display_name": "michpohl", "link": "https://stackoverflow.com/users/8746644/michpohl"}, "edited": false, "score": 0, "creation_date": 1550668424, "post_id": 54786838, "comment_id": 96352740, "body": "oh, those brackets - not the first time they got me. It&#39;s a little hard to find if you put these wrong...many thanks for pointing out the mistake!"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 6, "last_activity_date": 1550667163, "creation_date": 1550667163, "answer_id": 54786838, "question_id": 54786282, "link": "https://stackoverflow.com/questions/54786282/kotlin-higher-order-functions-how-to-add-functions-to-a-set-and-call-them/54786838#54786838", "title": "Kotlin: Higher order functions, how to add functions to a set and call them", "body": "<p>There is the bug in the code</p>\n\n<pre><code>fun addListener(listener: (Location) -&gt; Unit) {\n    listeners.add { listener }\n}\n</code></pre>\n\n<p>Here you <code>add</code> a new lambda to the <code>listeners</code> collection. The lambda does nothing, as you do not invoke the <code>listener</code>.\nThe right code is</p>\n\n<pre><code>fun addListener(listener: (Location) -&gt; Unit) {\n    listeners.add(listener)\n}\n</code></pre>\n\n<p>Or you may say <code>add { listener() }</code>, but I see no reason for that</p>\n"}], "owner": {"reputation": 312, "user_id": 8746644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a519bf2c839cd239b8c5e24a1704dca2?s=128&d=identicon&r=PG&f=1", "display_name": "michpohl", "link": "https://stackoverflow.com/users/8746644/michpohl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 54786838, "answer_count": 1, "score": 1, "last_activity_date": 1550667163, "creation_date": 1550665246, "last_edit_date": 1550665804, "question_id": 54786282, "link": "https://stackoverflow.com/questions/54786282/kotlin-higher-order-functions-how-to-add-functions-to-a-set-and-call-them", "title": "Kotlin: Higher order functions, how to add functions to a set and call them", "body": "<p>I have a class that holds a set of functions (\"listeners\") that are supposed to get invoked on a certain event (Gps update on Android, but that shouldn't be important here).\nIt looks like this (vastly simplified for clarity):</p>\n\n<pre><code>class myClass {\nprivate var listeners = mutableSetOf&lt;(Location) -&gt; Unit&gt;()\n\nfun addListener(listener: (Location) -&gt; Unit) {\n    listeners.add { listener }\n}\n\nprivate fun updateListeners(location: Location) {\n    if (!listeners.isEmpty()) {\n        listeners.forEach {\n            it.invoke(location)\n        }\n    }\n}\n</code></pre>\n\n<p>Now I'm trying to add a function to my set from another class that I want to get invoked when updateListeners() is called.</p>\n\n<pre><code>class myOtherClass {\n\nprivate fun registerLocationListener() {\n    myClass.addListener (this::onLocationUpdateReceived)\n}\n\nprivate fun onLocationUpdateReceived(location: Location) {\n    // do something with the location data\n}\n</code></pre>\n\n<p>The compiler gives me no warning here, so I first assumed this is right. But onLocationUpdateReceived does not get called. If I log the items in my set with .toString(), I get</p>\n\n<pre><code>Function1&lt;android.location.Location, kotlin.Unit&gt;\n</code></pre>\n\n<p>which seems to be what I want - but I have limited experience with this matter, so I might be wrong. \nSo I know that updateListeners() gets called, I know that \"something\" is put into my set, but onLocationUpdateReceived never gets called.</p>\n\n<p>Can anybody help me with how I have to set this up so it works?</p>\n"}, {"tags": ["java", "android", "ssl", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 1109, "user_id": 4265824, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/zwjaH.jpg?s=128&g=1", "display_name": "Ganesh Gudghe", "link": "https://stackoverflow.com/users/4265824/ganesh-gudghe"}, "edited": false, "score": 1, "creation_date": 1550663120, "post_id": 54785416, "comment_id": 96349516, "body": "you need to add SSL SocketFactory <a href=\"https://www.codota.com/code/java/methods/okhttp3.OkHttpClient$Builder/sslSocketFactory\" rel=\"nofollow noreferrer\">codota.com/code/java/methods/okhttp3.OkHttpClient$Builder/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 268, "user_id": 3081945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rjK08.png?s=128&g=1", "display_name": "Caroline", "link": "https://stackoverflow.com/users/3081945/caroline"}, "is_accepted": true, "score": 3, "last_activity_date": 1550663353, "creation_date": 1550663353, "answer_id": 54785688, "question_id": 54785416, "link": "https://stackoverflow.com/questions/54785416/ssl-connection-error-on-valid-certificate/54785688#54785688", "title": "SSL connection error on valid certificate", "body": "<p>Looking at line <code>Suppressed: java.security.cert.CertPathValidatorException: Could not determine revocation status</code> suggests that the failure occurs at the revocation validation step which relies on the OCSP Protocol.</p>\n\n<p>What might happen here, is that your device is not connected to the internet and can't contact the authority server in order to check the validity of your certificate (it's only a guess).</p>\n\n<p>If you don't want your application to have access to the authority server, you should activate \"OCSP stappling\" on your server. This means that your server is going to send the OCSP validation receipt as well as the certificate.</p>\n"}, {"tags": [], "owner": {"reputation": 27609, "user_id": 247013, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Z0y9n.jpg?s=128&g=1", "display_name": "Vit Khudenko", "link": "https://stackoverflow.com/users/247013/vit-khudenko"}, "is_accepted": false, "score": 6, "last_activity_date": 1563963321, "creation_date": 1563963321, "answer_id": 57180523, "question_id": 54785416, "link": "https://stackoverflow.com/questions/54785416/ssl-connection-error-on-valid-certificate/57180523#57180523", "title": "SSL connection error on valid certificate", "body": "<p>In my case it was enought to just set proper system time on device ('Settings' > 'System' > 'Date &amp; Time' > 'Automatic date &amp; time').</p>\n"}], "owner": {"reputation": 132, "user_id": 7933960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65bed573d5aa6839fa88b0b0b0e85bc9?s=128&d=identicon&r=PG&f=1", "display_name": "JJaviMS", "link": "https://stackoverflow.com/users/7933960/jjavims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1547, "favorite_count": 0, "accepted_answer_id": 54785688, "answer_count": 2, "score": 2, "last_activity_date": 1563963321, "creation_date": 1550662573, "last_edit_date": 1550666037, "question_id": 54785416, "link": "https://stackoverflow.com/questions/54785416/ssl-connection-error-on-valid-certificate", "title": "SSL connection error on valid certificate", "body": "<p>I got an <code>javax.net.ssl.SSLHandshakeException: Chain validation failed</code>, when I\u00b4m trying to connect to my API server, the certificate is valid nowdays, and in the stack trace I got <code>Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date</code>, the certificate is valid and it\u00b4s working on iOS and in the website, the problem is only in Android.</p>\n\n<p>I\u00b4m using Retrofit, here is the clitent generation</p>\n\n<pre><code>fun generateClient(): OkHttpClient {\n        val client = OkHttpClient.Builder()\n        client.addInterceptor {\n            val request = it.request()\n            val url = request.url().newBuilder()\n                .build()\n            val newRequest = it.request().newBuilder().url(url).build()\n            it.proceed(newRequest)\n        }\n        client.connectTimeout(10, TimeUnit.SECONDS)\n        client.readTimeout(30, TimeUnit.SECONDS)\n        return client.build()\n    }\n</code></pre>\n\n<p>And the full trace is this</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: Chain validation failed\n    at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:361)\n    at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:302)\n    at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:270)\n    at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:162)\n    at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\n    at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\n    at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n    at es.app.webservice.WebService$Companion$generateClient$1.intercept(WebService.kt:67)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\n    at okhttp3.RealCall.execute(RealCall.java:77)\n    at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)\n    at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)\n    at es.app.bd.cacheDb.databseRepositories.SplashActivityRepository$getVersions$1.invoke(SplashActivityRepository.kt:28)\n    at es.app.bd.cacheDb.databseRepositories.SplashActivityRepository$getVersions$1.invoke(SplashActivityRepository.kt:17)\n    at kotlin.concurrent.ThreadsKt$thread$thread$1.run(Thread.kt:30)\n Caused by: java.security.cert.CertificateException: Chain validation failed\n    at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:788)\n    at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:612)\n    at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:633)\n    at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:678)\n    at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:499)\n    at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:422)\n    at com.android.org.conscrypt.TrustManagerImpl.getTrustedChainForServer(TrustManagerImpl.java:343)\n    at android.security.net.config.NetworkSecurityTrustManager.checkServerTrusted(NetworkSecurityTrustManager.java:94)\n    at android.security.net.config.RootTrustManager.checkServerTrusted(RootTrustManager.java:88)\n    at com.android.org.conscrypt.Platform.checkServerTrusted(Platform.java:203)\n    at com.android.org.conscrypt.OpenSSLSocketImpl.verifyCertificateChain(OpenSSLSocketImpl.java:607)\n    at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\n    at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:357)\n    at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:302)\u00a0\n    at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:270)\u00a0\n    at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:162)\u00a0\n    at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\u00a0\n    at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\u00a0\n    at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\u00a0\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\u00a0\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\u00a0\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\u00a0\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\u00a0\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n    at es.app.bd.cacheDb.webservice.WebService$Companion$generateClient$1.intercept(WebService.kt:67)\u00a0\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\u00a0\n    at okhttp3.RealCall.execute(RealCall.java:77)\u00a0\n    at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)\u00a0\n    at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)\u00a0\n    at es.app.bd.cacheDb.databseRepositories.SplashActivityRepository$getVersions$1.invoke(SplashActivityRepository.kt:28)\u00a0\n    at es.app.bd.cacheDb.databseRepositories.SplashActivityRepository$getVersions$1.invoke(SplashActivityRepository.kt:17)\u00a0\n    at kotlin.concurrent.ThreadsKt$thread$thread$1.run(Thread.kt:30)\u00a0\n Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\nE/AndroidRuntime:     at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:133)\n    at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:225)\n    at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:143)\n    at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)\n    at com.android.org.conscrypt.DelegatingCertPathValidator.engineValidate(DelegatingCertPathValidator.java:44)\n    at java.security.cert.CertPathValidator.validate(CertPathValidator.java:301)\n    at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:784)\n        ... 39 more\n Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date\n    at sun.security.provider.certpath.OCSPResponse.verify(OCSPResponse.java:619)\n    at sun.security.provider.certpath.RevocationChecker.checkOCSP(RevocationChecker.java:709)\n    at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:363)\n    at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:337)\n    at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)\n        ... 45 more\n    Suppressed: java.security.cert.CertPathValidatorException: Could not determine revocation status\n    at sun.security.provider.certpath.RevocationChecker.buildToNewKey(RevocationChecker.java:1092)\n    at sun.security.provider.certpath.RevocationChecker.verifyWithSeparateSigningKey(RevocationChecker.java:910)\n    at sun.security.provider.certpath.RevocationChecker.checkCRLs(RevocationChecker.java:577)\n    at sun.security.provider.certpath.RevocationChecker.checkCRLs(RevocationChecker.java:465)\n    at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:394)\n            ... 47 more\n</code></pre>\n\n<p>Update 1:\nIf I access the webpage from Chrome on the phone it works, but the app is still crashing.</p>\n"}, {"tags": ["kotlin", "control-flow"], "answers": [{"comments": [{"owner": {"reputation": 1129, "user_id": 6704033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YdHzn.jpg?s=128&g=1", "display_name": "Er1", "link": "https://stackoverflow.com/users/6704033/er1"}, "edited": false, "score": 0, "creation_date": 1582894192, "post_id": 54785578, "comment_id": 106943253, "body": "I think <code>when</code> should also work with labels. This is the best solution to fix this for now."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 4, "last_activity_date": 1550663027, "creation_date": 1550663027, "answer_id": 54785578, "question_id": 54785137, "link": "https://stackoverflow.com/questions/54785137/escape-from-when-statement-like-continue-or-break-in-kotlin/54785578#54785578", "title": "Escape from When-Statement (like continue or break) in Kotlin", "body": "<p>There's no direct way to do this. As an alternative to just returning <code>Unit</code>, which looks fine in this case, you can wrap the <code>when</code> statement in a scoping inline function call, like <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"nofollow noreferrer\"><code>run { ... }</code></a>, and <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"nofollow noreferrer\">use a <code>return@label</code></a>:</p>\n\n<pre><code>run { \n    when {\n        dateFrom == null &amp;&amp; dateTo == null -&gt; return@run\n        /* ... */\n    }\n}\n</code></pre>\n\n<p>This construct may be more useful if the <code>when</code> branches are more complex than a single statement.</p>\n"}, {"comments": [{"owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 0, "creation_date": 1550667750, "post_id": 54786880, "comment_id": 96352342, "body": "Is the else even needed?"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 0, "creation_date": 1550667866, "post_id": 54786880, "comment_id": 96352399, "body": "For the case that both are null then the OP wants to return explicitly <code>Unit</code>"}, {"owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 1, "creation_date": 1550668222, "post_id": 54786880, "comment_id": 96352621, "body": "I think the point of the question is that the OP doesn&#39;t want to return <code>Unit</code>. He wants to get rid of that, like you would skip an iteration in a loop by using <code>continue</code>."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 0, "creation_date": 1550668416, "post_id": 54786880, "comment_id": 96352736, "body": "If this is the case then the else can be omitted."}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 1, "last_activity_date": 1550668428, "last_edit_date": 1550668428, "creation_date": 1550667290, "answer_id": 54786880, "question_id": 54785137, "link": "https://stackoverflow.com/questions/54785137/escape-from-when-statement-like-continue-or-break-in-kotlin/54786880#54786880", "title": "Escape from When-Statement (like continue or break) in Kotlin", "body": "<p>Your <code>else</code> part will never succeed, because 1 of the 1st 3 conditions will be <code>true</code>.<br/>\nSo your code is equivalent to this:</p>\n\n<pre><code>when {\n    dateFrom == null &amp;&amp; dateTo == null -&gt; Unit\n    dateFrom != null -&gt; params[\"lastUpdated\"] = \"$dateFrom,\"\n    dateTo != null -&gt; params[\"lastUpdated\"] = \",$dateTo\"\n}\n</code></pre>\n\n<p>and finally this:</p>\n\n<pre><code>when {\n    dateFrom != null -&gt; params[\"lastUpdated\"] = \"$dateFrom,\"\n    dateTo != null -&gt; params[\"lastUpdated\"] = \",$dateTo\"\n    else -&gt; Unit\n}\n</code></pre>\n\n<p>I think that maybe you wanted to have:</p>\n\n<pre><code>when {\n    dateFrom != null &amp;&amp; dateTo != null -&gt; params[\"lastUpdated\"] = \"$dateFrom,$dateTo\"\n    dateFrom != null -&gt; params[\"lastUpdated\"] = \"$dateFrom,\"\n    dateTo != null -&gt; params[\"lastUpdated\"] = \",$dateTo\"\n}\n</code></pre>\n\n<p>If this is what you wanted then there is no case of further simplification.</p>\n"}, {"tags": [], "owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "is_accepted": false, "score": 1, "last_activity_date": 1550668404, "creation_date": 1550668404, "answer_id": 54787195, "question_id": 54785137, "link": "https://stackoverflow.com/questions/54785137/escape-from-when-statement-like-continue-or-break-in-kotlin/54787195#54787195", "title": "Escape from When-Statement (like continue or break) in Kotlin", "body": "<p>If you rewrite your conditions you can get rid of the case where you now have <code>Unit</code></p>\n\n<pre><code>when {\n    dateFrom != null &amp;&amp; dateTo != null -&gt; params[\"lastUpdated\"] = \"$dateFrom,$dateTo\"\n    dateFrom != null                   -&gt; params[\"lastUpdated\"] = \"$dateFrom,\"\n    dateTo != null                     -&gt; params[\"lastUpdated\"] = \",$dateTo\"\n}\n</code></pre>\n"}], "owner": {"reputation": 1015, "user_id": 3054855, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/774ae7bce6faf0f2227e163399b0809f?s=128&d=identicon&r=PG", "display_name": "puredevotion", "link": "https://stackoverflow.com/users/3054855/puredevotion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 54786880, "answer_count": 3, "score": 1, "last_activity_date": 1550668428, "creation_date": 1550661693, "question_id": 54785137, "link": "https://stackoverflow.com/questions/54785137/escape-from-when-statement-like-continue-or-break-in-kotlin", "title": "Escape from When-Statement (like continue or break) in Kotlin", "body": "<p>I have a piece of code as follows:</p>\n\n<pre><code>when {\n        dateFrom == null &amp;&amp; dateTo == null -&gt; Unit\n        dateFrom != null -&gt; params[\"lastUpdated\"] = \"$dateFrom,\"\n        dateTo != null -&gt; params[\"lastUpdated\"] = \",$dateTo\"\n        else -&gt; params[\"lastUpdated\"] = \"$dateFrom,$dateTo\"\n    }\n</code></pre>\n\n<p>Can I escape the <code>when</code> in a manner like <code>continue</code> in a loop?</p>\n\n<p>I'm now using <code>dateFrom == null &amp;&amp; dateTo == null -&gt; Unit</code> but that's not very elegant. (<code>dateFrom == null &amp;&amp; dateTo == null -&gt; True</code> is also possible, but likewise, not very elegant)</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "fragment", "fragmenttransaction"], "comments": [{"owner": {"reputation": 1868, "user_id": 10395392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LZkM2.jpg?s=128&g=1", "display_name": "Vishal Arora", "link": "https://stackoverflow.com/users/10395392/vishal-arora"}, "edited": false, "score": 0, "creation_date": 1550660997, "post_id": 54784869, "comment_id": 96348251, "body": "add questionnaire_layout xml code"}, {"owner": {"reputation": 402, "user_id": 2976313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a2b53e0a18e0cae992e5ff13b358b1?s=128&d=identicon&r=PG&f=1", "display_name": "Noterezeck", "link": "https://stackoverflow.com/users/2976313/noterezeck"}, "edited": false, "score": 0, "creation_date": 1550661022, "post_id": 54784869, "comment_id": 96348270, "body": "Have you tried using <code>replace()</code> instead of <code>add()</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 2367, "user_id": 3100601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adf267dc04bdbe5b7d8359e54e8fa8ea?s=128&d=identicon&r=PG&f=1", "display_name": "ror", "link": "https://stackoverflow.com/users/3100601/ror"}, "is_accepted": true, "score": 2, "last_activity_date": 1550661531, "creation_date": 1550661531, "answer_id": 54785084, "question_id": 54784869, "link": "https://stackoverflow.com/questions/54784869/android-add-fragment-within-a-fragment/54785084#54785084", "title": "Android Add fragment within a fragment", "body": "<p>Please try to use <code>getChildFragmentManager()</code> (or its kotlin equivalent) instead of <code>getFragmentManager()</code> you are using - it will work.</p>\n"}], "owner": {"reputation": 711, "user_id": 1712184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cde91c1bf1fc45c63b548ffc91914888?s=128&d=identicon&r=PG", "display_name": "Joseph Williamson", "link": "https://stackoverflow.com/users/1712184/joseph-williamson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 54785084, "answer_count": 1, "score": 0, "last_activity_date": 1550661549, "creation_date": 1550660848, "last_edit_date": 1550661549, "question_id": 54784869, "link": "https://stackoverflow.com/questions/54784869/android-add-fragment-within-a-fragment", "title": "Android Add fragment within a fragment", "body": "<p>I'm trying to add a fragment within a subclass of DialogFragment. I have a FrameLayout with an id <code>pref_container</code> that I want to replace with a fragment called <code>settingsFragment</code>.</p>\n\n<p>The problem is that <code>fragmentTransaction</code> can't find <code>R.id.pref_container</code>, I don't know if this is because pref_container is only inflated in <code>onCreateView</code> rather than being part of the activity?</p>\n\n<p>I am very new to Android programming, so thank you for your time.</p>\n\n<pre><code>class QuestionnaireDialog : DialogFragment() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        this.setStyle(DialogFragment.STYLE_NORMAL, R.style.AppTheme)\n\n    }\n\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n        val view = inflater.inflate(R.layout.questionnaire_layout,container,true)\n\n        val settingsFragment = ExercisesOnlySettingsFragment()\n        val ft = fragmentManager?.beginTransaction()\n\n        /// **** Here fragmentTransaction can't find R.id.pref_container because it's inflated later and not loaded as part of the activity? ****\n\n        ft?.add(R.id.pref_container, settingsFragment)\n        ft?.commit()\n\n        return view\n    }\n\n\n}\n</code></pre>\n\n<p>The runtime error I get is</p>\n\n<p><code>No view found for id 0x7f09009c (com.lescadeaux.kegel:id/pref_container) for fragment ExercisesOnlySettingsFragment{4ba4b89 #1 id=0x7f09009c}</code></p>\n\n<p>Here is relavent part of my XML for questionnaire_layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                                             xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                                             xmlns:tools=\"http://schemas.android.com/tools\"\n                                             android:layout_width=\"match_parent\"\n                                             android:layout_height=\"match_parent\"\n                                             android:id=\"@+id/questionnaireLayout\"\n                                             android:background=\"@android:color/background_light\"&gt;\n\n    &lt;HorizontalScrollView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/scrollView\"\n            app:layout_constraintTop_toBottomOf=\"@+id/textView5\"\n            android:layout_marginBottom=\"8dp\"\n            app:layout_constraintBottom_toTopOf=\"@+id/button\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            android:layout_marginEnd=\"8dp\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            android:layout_marginStart=\"8dp\"&gt;\n\n        &lt;LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"match_parent\"\n                android:orientation=\"horizontal\"&gt;\n\n            &lt;!-- RELAVENT PART --&gt;\n            &lt;FrameLayout\n                    android:layout_width=\"300dp\"\n                    android:layout_height=\"match_parent\"\n                    android:id=\"@+id/pref_container\"&gt;\n            &lt;/FrameLayout&gt;\n            &lt;!-- RELAVENT PART --&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/HorizontalScrollView&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "realm", "realm-mobile-platform"], "comments": [{"owner": {"reputation": 1897, "user_id": 1243048, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/92xOo.png?s=128&g=1", "display_name": "Maelig", "link": "https://stackoverflow.com/users/1243048/maelig"}, "edited": false, "score": 0, "creation_date": 1550746382, "post_id": 54784770, "comment_id": 96386898, "body": "please add your code"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550845712, "post_id": 54784770, "comment_id": 96433188, "body": "I can&#39;t answer this question without seeing real realmModels."}], "owner": {"reputation": 19, "user_id": 10346425, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_hizBGEc0mk/AAAAAAAAAAI/AAAAAAAAALY/tXWuXgHTB64/photo.jpg?sz=128", "display_name": "Nabin Bogati", "link": "https://stackoverflow.com/users/10346425/nabin-bogati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550662173, "creation_date": 1550660557, "last_edit_date": 1550662173, "question_id": 54784770, "link": "https://stackoverflow.com/questions/54784770/realm-navigate-model-inside-model-inside-model-and-change-data", "title": "realm navigate model inside model inside model and change data", "body": "<p>say i have model a with id 1,2,3,4,5\na has model b model c model d inside.\nthe data inside b c d is same in a = 1,2,3,4,5</p>\n\n<p>so what i want is i want to change the value of xyz inside model a where id =1 , insideb , inside c, inside d. please check the image.</p>\n\n<p>when i try to edit the xyz string of a =1 and inside a =1 b c d. only\nhow do i change the value of xyz of a =1 only.</p>\n\n<p><img src=\"https://i.stack.imgur.com/AGzuZ.jpg\" alt=\"enter image description here\"></p>\n"}, {"tags": ["android", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 2, "creation_date": 1550660281, "post_id": 54784551, "comment_id": 96347767, "body": "<code>Will the compile just compile the code regardless where the extension is declared and make it re-usable globally or do I have to make it part of a class?</code> You can actually test this out yourself. I personally group extensions by namespace for better organisation"}, {"owner": {"reputation": 7540, "user_id": 4266957, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh5.googleusercontent.com/-hn2_WWVX1LQ/AAAAAAAAAAI/AAAAAAAAADM/AKc2MeKbj_M/photo.jpg?sz=128", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/4266957/ricardo"}, "edited": false, "score": 0, "creation_date": 1550660326, "post_id": 54784551, "comment_id": 96347803, "body": "You can declare wherever you want in your project. Personally I distribute the extension by grouping them in meaningful named classes within an extensions package"}, {"owner": {"reputation": 106, "user_id": 5651695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ae7596ba6f968f1506d5614cc008004?s=128&d=identicon&r=PG&f=1", "display_name": "Guru Karthi R", "link": "https://stackoverflow.com/users/5651695/guru-karthi-r"}, "edited": false, "score": 0, "creation_date": 1550661135, "post_id": 54784551, "comment_id": 96348346, "body": "Actually, it doesn&#39;t matter to where you writing them. The extension function are mapped with a class which is already a part of your application. So, it&#39;s up to you in which you are going write you extension functions."}], "answers": [{"tags": [], "owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "is_accepted": false, "score": 0, "last_activity_date": 1550660262, "creation_date": 1550660262, "answer_id": 54784668, "question_id": 54784551, "link": "https://stackoverflow.com/questions/54784551/where-to-declare-kotlin-extension-functions-in-an-android-app/54784668#54784668", "title": "Where to declare Kotlin extension functions in an Android app", "body": "<p>Yes, extention functions can be declared anywhere you want.</p>\n\n<p>For functions of general utilities (regarding lists), I whould place them under something like <code>/company/app/util/lists.kt</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1414, "user_id": 3757672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/miE8t.png?s=128&g=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/3757672/markus"}, "edited": false, "score": 0, "creation_date": 1617375315, "post_id": 54784707, "comment_id": 118293089, "body": "Please be aware of Daniel Selvans answer - Using the extensions over the project-scope requires importing it (<code>import main_package_name.util.*</code>)."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 7, "last_activity_date": 1550676358, "last_edit_date": 1550676358, "creation_date": 1550660368, "answer_id": 54784707, "question_id": 54784551, "link": "https://stackoverflow.com/questions/54784551/where-to-declare-kotlin-extension-functions-in-an-android-app/54784707#54784707", "title": "Where to declare Kotlin extension functions in an Android app", "body": "<p>You can create some file, e.g. <code>ListExt.kt</code> anywhere you want (for example in package <code>main_package_name/util/ListExt.kt</code>) and place the extension function there and it will be available in the whole project. So the content of the <code>ListExt.kt</code> file can be:</p>\n\n<pre><code>package main_package_name.util\n\nfun &lt;T&gt; MutableList&lt;T&gt;.swap(index1: Int, index2: Int) {\n    val tmp = this[index1] // 'this' corresponds to the list\n    this[index1] = this[index2]\n    this[index2] = tmp\n}\n\n// other extension functions on the Lists\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 456, "user_id": 1225532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X274c.jpg?s=128&g=1", "display_name": "Nelson Wright", "link": "https://stackoverflow.com/users/1225532/nelson-wright"}, "is_accepted": false, "score": 1, "last_activity_date": 1550660416, "creation_date": 1550660416, "answer_id": 54784724, "question_id": 54784551, "link": "https://stackoverflow.com/questions/54784551/where-to-declare-kotlin-extension-functions-in-an-android-app/54784724#54784724", "title": "Where to declare Kotlin extension functions in an Android app", "body": "<p>They can be anywhere, but it seems to make sense to have extensions for a particular class in the same file and/or package.  For example, extensions to String could be in StringExtensions.kt, and that could optionally be in an extensions package.</p>\n"}, {"tags": [], "owner": {"reputation": 611, "user_id": 10773894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pXMEv.jpg?s=128&g=1", "display_name": "Daniel Selvan", "link": "https://stackoverflow.com/users/10773894/daniel-selvan"}, "is_accepted": false, "score": 1, "last_activity_date": 1550660777, "creation_date": 1550660777, "answer_id": 54784844, "question_id": 54784551, "link": "https://stackoverflow.com/questions/54784551/where-to-declare-kotlin-extension-functions-in-an-android-app/54784844#54784844", "title": "Where to declare Kotlin extension functions in an Android app", "body": "<p>For a extension to be global, you need to put it outside of class</p>\n\n<pre><code>package com.extension.globalcontext\n\nfun &lt;T&gt; MutableList&lt;T&gt;.swap(index1: Int, index2: Int)\n</code></pre>\n\n<p>And to call them you need to import the package</p>\n\n<pre><code>import com.extension.globalcontext\nl.swap(0, 2)\n</code></pre>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1260, "favorite_count": 1, "accepted_answer_id": 54784707, "answer_count": 4, "score": 5, "last_activity_date": 1550682658, "creation_date": 1550659898, "last_edit_date": 1550682658, "question_id": 54784551, "link": "https://stackoverflow.com/questions/54784551/where-to-declare-kotlin-extension-functions-in-an-android-app", "title": "Where to declare Kotlin extension functions in an Android app", "body": "<p>Suppose I have the following code that I want to make as a re-usable component:</p>\n\n<pre><code>fun &lt;T&gt; MutableList&lt;T&gt;.swap(index1: Int, index2: Int) {\n    val tmp = this[index1] // 'this' corresponds to the list\n    this[index1] = this[index2]\n    this[index2] = tmp\n}\n</code></pre>\n\n<p>and I want to use it anywhere in my app as follows:</p>\n\n<pre><code>val l = mutableListOf(1, 2, 3)\nl.swap(0, 2)\n</code></pre>\n\n<p>Correct me if I'm wrong but I believe that function extension declarations can exist outside of a class. So in an Android app, where would I put this declaration? Or does it even matter? Will the compile just compile the code regardless where the extension is declared and make it re-usable globally or do I have to make it part of a class?</p>\n"}, {"tags": ["kotlin", "websocket", "okhttp"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 10645615, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4l7OxvZ1bYY/AAAAAAAAAAI/AAAAAAAAAIg/NZpZxGHkEIM/photo.jpg?sz=128", "display_name": "vivek panchal", "link": "https://stackoverflow.com/users/10645615/vivek-panchal"}, "edited": false, "score": 0, "creation_date": 1550944595, "post_id": 54830747, "comment_id": 96462013, "body": "hey, can you provide the full java example if you have implemented it?"}, {"owner": {"reputation": 354, "user_id": 3053987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aa9a3612ff115dc28e39f6c6cf14dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/3053987/manu"}, "reply_to_user": {"reputation": 73, "user_id": 10645615, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4l7OxvZ1bYY/AAAAAAAAAAI/AAAAAAAAAIg/NZpZxGHkEIM/photo.jpg?sz=128", "display_name": "vivek panchal", "link": "https://stackoverflow.com/users/10645615/vivek-panchal"}, "edited": false, "score": 0, "creation_date": 1550951218, "post_id": 54830747, "comment_id": 96463995, "body": "Sorry I don&#39;t have a full java implementation. But will be happy to help if you hit any technical bottlenecks along the way."}], "tags": [], "owner": {"reputation": 354, "user_id": 3053987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aa9a3612ff115dc28e39f6c6cf14dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/3053987/manu"}, "is_accepted": true, "score": 2, "last_activity_date": 1550850795, "creation_date": 1550850795, "answer_id": 54830747, "question_id": 54784410, "link": "https://stackoverflow.com/questions/54784410/how-to-implement-scarlet-websocket-library-with-okhttp-in-java/54830747#54830747", "title": "How to implement scarlet websocket library with okhttp in Java?", "body": "<p>I am assuming here that you want to use scarlet in a java project. First of all, the version you are using is outdated. Please find the latest version of scarlet library <a href=\"https://github.com/Tinder/Scarlet/tree/0.2.x\" rel=\"nofollow noreferrer\">here</a>. It has breaking changes and you will need to migrate your code. </p>\n\n<p>You can use the scarlet library in a java project as is without depending on the kotlin specific modules like<code>scarlet-stream-adapter-coroutines</code>. An example <code>EchoBotModule</code> implementation in java is given below.</p>\n\n<pre><code>  @Module\nclass EchoBotModule {\n    @Provides\n    @EchoBotScope\n    OkHttpClient provideOkHttpClient() {\n        return OkHttpClient.Builder()\n                .addInterceptor(HttpLoggingInterceptor()\n                        .setLevel(HttpLoggingInterceptor.Level.BASIC))\n                .build();\n    }\n\n\n    @Provides\n    @EchoBotScope\n    Lifecycle provideLifecycle(Application application, LoggedInLifecycle loggedInLifecycle) {\n        return AndroidLifecycle.ofApplicationForeground(application)\n                .combineWith(loggedInLifecycle);\n    }\n\n    @Provides\n    @EchoBotScope\n    EchoService provideEchoService(OkHttpClient client, Lifecycle lifecycle) {\n        Protocol pr = new OkHttpWebSocket(client, new OkHttpWebSocket.SimpleRequestFactory(\n                () -&gt; new Request.Builder().url(\"wss://demos.kaazing.com/echo\").build(),\n                () -&gt; ShutdownReason.GRACEFUL\n        ));\n\n        List&lt;MessageAdapter.Factory&gt; messageAdapterFactories = Collections.singletonList(new BitmapMessageAdapter.Factory());\n\n        List&lt;StreamAdapter.Factory&gt; streamAdapterFactories = Collections.singletonList(new RxJava2StreamAdapterFactory());\n\n        Scarlet.Configuration configuration = new Scarlet.Configuration(lifecycle, null, streamAdapterFactories, messageAdapterFactories, false);\n\n        Scarlet scarlet = new Scarlet(pr, configuration);\n        return scarlet.create();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 10645615, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4l7OxvZ1bYY/AAAAAAAAAAI/AAAAAAAAAIg/NZpZxGHkEIM/photo.jpg?sz=128", "display_name": "vivek panchal", "link": "https://stackoverflow.com/users/10645615/vivek-panchal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1861, "favorite_count": 1, "accepted_answer_id": 54830747, "answer_count": 1, "score": 3, "last_activity_date": 1559288270, "creation_date": 1550659433, "last_edit_date": 1559288270, "question_id": 54784410, "link": "https://stackoverflow.com/questions/54784410/how-to-implement-scarlet-websocket-library-with-okhttp-in-java", "title": "How to implement scarlet websocket library with okhttp in Java?", "body": "<p>I wanted to know if there is any java implementation of Scarlet web socket library.</p>\n\n<pre><code> @EchoBotScope\n @Component(modules = [(EchoBotComponent.EchoBotModule::class)], dependencies = [(EchoBotComponent.Dependency::class)])\ninterface EchoBotComponent {\n\n    fun inject(echoBotFragment: EchoBotFragment)\n\n    interface Dependency {\n        fun application(): Application\n    }\n\n    @Component.Builder\n    interface Builder {\n        fun dependency(dependency: Dependency): Builder\n\n        fun build(): EchoBotComponent\n    }\n\n    @Module\n    class EchoBotModule {\n        @Provides\n        @EchoBotScope\n        fun provideOkHttpClient(): OkHttpClient = OkHttpClient.Builder()\n            .addInterceptor(HttpLoggingInterceptor().setLevel(HttpLoggingInterceptor.Level.BASIC))\n            .build()\n\n        @Provides\n        @EchoBotScope\n        fun provideLifecycle(application: Application, loggedInLifecycle: LoggedInLifecycle): Lifecycle =\n            AndroidLifecycle.ofApplicationForeground(application)\n                .combineWith(loggedInLifecycle)\n\n        @Provides\n        @EchoBotScope\n        fun provideEchoService(client: OkHttpClient, lifecycle: Lifecycle): EchoService {\n            val scarlet = Scarlet.Builder()\n                .webSocketFactory(client.newWebSocketFactory(\"wss://demos.kaazing.com/echo\"))\n                .lifecycle(lifecycle)\n                .addMessageAdapterFactory(BitmapMessageAdapter.Factory())\n                .addStreamAdapterFactory(RxJava2StreamAdapterFactory())\n                .build()\n            return scarlet.create()\n        }\n    }\n\n    interface ComponentProvider {\n        val echoBotComponent: EchoBotComponent\n    }\n}\n</code></pre>\n\n<p>How can customize the demo app to make my own okhttp WebSocket client?</p>\n"}, {"tags": ["android", "kotlin", "itext"], "answers": [{"tags": [], "owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "is_accepted": true, "score": 1, "last_activity_date": 1550664801, "creation_date": 1550664801, "answer_id": 54786146, "question_id": 54784126, "link": "https://stackoverflow.com/questions/54784126/how-can-i-use-regular-and-bold-in-a-single-string-using-itext-android/54786146#54786146", "title": "How can I use regular and bold in a single String using iText Android", "body": "<p>If you set a font in the <code>Paragraph</code> constructor, the font used for a later added <code>Chunk</code> object is the font of that chunk <em>supplemented by data from the paragraph font <strong>in properties not set in the chunk font</em></strong>.</p>\n\n<p>The style of the font is a bit field and unfortunately this <em>supplementing</em> in the style field is implemented by means of bit-wise or-ing. Thus, the <strong>BOLD</strong> flag from the paragraph font is or-ed to the styles of all the chunks added to the paragraph!</p>\n\n<p>You can circumvent this by not setting a font at paragraph-level at all (or at least not a font with style bits) and also adding the label as a separate chunk, e.g. instead of</p>\n\n<pre><code>// DOB\nval paragraphTwo = Paragraph(\"Date of Birth: \", semiBoldFont)\nparagraphTwo.add(Chunk(student?.Student_DOB , normalFont))\nparagraphTwo.alignment = Paragraph.ALIGN_CENTER\n</code></pre>\n\n<p>do</p>\n\n<pre><code>// DOB\nval paragraphTwo = Paragraph()\nparagraphTwo.add(Chunk(\"Date of Birth: \", semiBoldFont))\nparagraphTwo.add(Chunk(student?.Student_DOB , normalFont))\nparagraphTwo.alignment = Paragraph.ALIGN_CENTER\n</code></pre>\n\n<p>or probably</p>\n\n<pre><code>// DOB\nval paragraphTwo = Paragraph(\"\", normalFont)\nparagraphTwo.add(Chunk(\"Date of Birth: \", semiBoldFont))\nparagraphTwo.add(Chunk(student?.Student_DOB , normalFont))\nparagraphTwo.alignment = Paragraph.ALIGN_CENTER\n</code></pre>\n\n<p>(The difference between these options is that based on the paragraph font information some spacing is added before the paragraph.)</p>\n"}], "owner": {"reputation": 1387, "user_id": 9444808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/101018510f7941eeaafe96fcaa32633e?s=128&d=identicon&r=PG&f=1", "display_name": "Kanwarpreet Singh", "link": "https://stackoverflow.com/users/9444808/kanwarpreet-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 1, "accepted_answer_id": 54786146, "answer_count": 1, "score": 0, "last_activity_date": 1550664801, "creation_date": 1550658621, "question_id": 54784126, "link": "https://stackoverflow.com/questions/54784126/how-can-i-use-regular-and-bold-in-a-single-string-using-itext-android", "title": "How can I use regular and bold in a single String using iText Android", "body": "<p>I have a String that consists of a constant part and a variable part. I want the variable to be formatted using a regular font within the text paragraph, whereas I want the constant part to be bold.</p>\n\n<p>This is my code:</p>\n\n<pre><code>    val boldFont = Font(Font.FontFamily.TIMES_ROMAN, 22f, Font.BOLD)\n    val semiBoldFont = Font(Font.FontFamily.TIMES_ROMAN, 16f, Font.BOLD)\n    val normalFont = Font(Font.FontFamily.TIMES_ROMAN, 16f, Font.NORMAL)\n    val lineSeparator = LineSeparator()\n    lineSeparator.lineColor = BaseColor(0, 0, 0, 68)\n\n\n//      NAME OF THE STUDENT\n    val paragraph = Paragraph(student?.Student_Name, boldFont)\n    paragraph.alignment = Paragraph.ALIGN_CENTER\n\n//      DOB\n    val paragraphTwo = Paragraph(\"Date of Birth: \", semiBoldFont)\n    paragraphTwo.add(Chunk(student?.Student_DOB , normalFont))\n    paragraphTwo.alignment = Paragraph.ALIGN_CENTER\n\n//      Place and Country of Birth\n    val paragraphThree = Paragraph(\"Place and Country of Birth: \", semiBoldFont)\n    paragraphThree.add(Chunk(student?.Student_City + \", \" + student?.Student_Country, normalFont))\n    paragraphThree.alignment = Paragraph.ALIGN_CENTER\n\n//      Address\n    val paragraphFour = Paragraph(\"Address: \", semiBoldFont)\n    paragraphFour.add(Chunk(student?.Student_Address + \", \" + student?.Student_City + \", \" + student?.Student_Country, normalFont))\n    paragraphFour.alignment = Paragraph.ALIGN_CENTER\n\n//      Nationality\n    val paragraphFive = Paragraph(\"Nationality: \", normalFont)\n    paragraphFive.add(Chunk(student?.Student_Nationality_One + \", \" + student?.Student_Nationality_Two, normalFont))\n    paragraphFive.alignment = Paragraph.ALIGN_CENTER\n\ntry {\n        document.add(paragraph)\n        document.add(Chunk(lineSeparator))\n        document.add(paragraphTwo)\n        document.add(paragraphThree)\n        document.add(paragraphFour)\n        document.add(paragraphFive)\n\n        if (educationList.size &gt; 0) {\n            document.add(Paragraph(\"Education\", boldFont))\n            document.add(Paragraph(\" \"))\n        }\n\n    } catch (e: DocumentException) {\n        e.printStackTrace()\n    }\n</code></pre>\n\n<p>Output: <a href=\"https://i.stack.imgur.com/acq7G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/acq7G.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "edited": false, "score": 0, "creation_date": 1550655801, "post_id": 54783150, "comment_id": 96344874, "body": "Can you show us the code of <code>getCharacteristicInfo()</code>?"}, {"owner": {"reputation": 1598, "user_id": 718559, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fadb73527699b4d00949126acf83ec38?s=128&d=identicon&r=PG", "display_name": "Aaron Lee", "link": "https://stackoverflow.com/users/718559/aaron-lee"}, "reply_to_user": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "edited": false, "score": 0, "creation_date": 1550656202, "post_id": 54783150, "comment_id": 96345097, "body": "Ok. Added it. It it a function getting camera characteristics."}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "edited": false, "score": 0, "creation_date": 1550656912, "post_id": 54783150, "comment_id": 96345530, "body": "It seems <code>t</code> is not actually <code>Array</code> type. Could you edit your code to show type of <code>characteristics</code> and <code>myDataset[position]</code> as well?"}, {"owner": {"reputation": 844, "user_id": 10366757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c89292cdfb40b61addace1e64f154b49?s=128&d=identicon&r=PG&f=1", "display_name": "Prabh deep", "link": "https://stackoverflow.com/users/10366757/prabh-deep"}, "edited": false, "score": 0, "creation_date": 1550657220, "post_id": 54783150, "comment_id": 96345740, "body": "show complete class"}, {"owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "edited": false, "score": 0, "creation_date": 1550673643, "post_id": 54783150, "comment_id": 96356111, "body": "Can you show the type of <code>myDataset[position]</code> variable? <code>getCharacteristicInfo</code> returns value of type <code>T</code> related to <code>Key&lt;T&gt;</code> being passed as parameter. <code>myDataset[position]</code> is some kind of <code>Key&lt;T&gt;</code> (indeed, the code compiles) but may be is - e.g. - <code>Key&lt;String&gt;</code> and this forces <code>t</code> to be of type <code>String</code>..."}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 4, "last_activity_date": 1550682183, "creation_date": 1550682183, "answer_id": 54791744, "question_id": 54783150, "link": "https://stackoverflow.com/questions/54783150/how-to-check-if-a-variable-is-an-array-in-kotlin/54791744#54791744", "title": "How to check if a variable is an array in Kotlin", "body": "<p><code>t is Array&lt;*&gt;</code> is true for object arrays (<code>Array&lt;Whatever&gt;</code>), but false for primitive arrays (<code>IntArray</code> etc.). So you probably want</p>\n\n<pre><code>holder.keyValue.text = when(val t = cameraController.getCharacteristicInfo(myDataset[position])) {\n    is Array&lt;*&gt; -&gt; Arrays.toString(t)\n    is IntArray -&gt; Arrays.toString(t)\n    ...\n    else -&gt; t.toString()\n}\n</code></pre>\n\n<p>(if <code>t</code> is used outside elsewhere, just move the assignment outside). </p>\n\n<p>Note that these are different <code>Arrays.toString</code> overloads, so you couldn't write </p>\n\n<pre><code>is Array&lt;*&gt;, is IntArray, ... -&gt; Arrays.toString(t)\n</code></pre>\n\n<p>even if smart casts were available in this situation (they aren't).</p>\n"}, {"tags": [], "owner": {"reputation": 984, "user_id": 4094167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zLMEW.png?s=128&g=1", "display_name": "Aleksander Stelmaczonek", "link": "https://stackoverflow.com/users/4094167/aleksander-stelmaczonek"}, "is_accepted": false, "score": 0, "last_activity_date": 1571602821, "creation_date": 1571602821, "answer_id": 58476962, "question_id": 54783150, "link": "https://stackoverflow.com/questions/54783150/how-to-check-if-a-variable-is-an-array-in-kotlin/58476962#58476962", "title": "How to check if a variable is an array in Kotlin", "body": "<p>Faced the same issue and used <code>isArray</code> of the <code>Class</code>:</p>\n\n<pre><code>&gt;&gt;&gt; arrayOf(\"a\",\"b\",\"c\")::class.java.isArray\nres1: kotlin.Boolean = true\n&gt;&gt;&gt; IntArray(1)::class.java.isArray\nres2: kotlin.Boolean = true\n&gt;&gt;&gt; Array&lt;String&gt;(1) { \"a\" }::class.java.isArray\nres3: kotlin.Boolean = true\n&gt;&gt;&gt; Any::class.java.isArray\nres4: kotlin.Boolean = false\n</code></pre>\n\n<p>NOTE: That might not be available if your target is not JVM.</p>\n"}], "owner": {"reputation": 1598, "user_id": 718559, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fadb73527699b4d00949126acf83ec38?s=128&d=identicon&r=PG", "display_name": "Aaron Lee", "link": "https://stackoverflow.com/users/718559/aaron-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2128, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1571602821, "creation_date": 1550655713, "last_edit_date": 1550656447, "question_id": 54783150, "link": "https://stackoverflow.com/questions/54783150/how-to-check-if-a-variable-is-an-array-in-kotlin", "title": "How to check if a variable is an array in Kotlin", "body": "<p>My <em>Kotlin</em> code is </p>\n\n<pre><code>val t = cameraController.getCharacteristicInfo(myDataset[position])\nif (t is Array&lt;*&gt;) {\n     holder.keyValue.text = Arrays.toString(t)\n} else {\n     holder.keyValue.text = t.toString()\n}\n</code></pre>\n\n<p>It is <strong>not</strong> working. <code>if (t is Array&lt;*&gt;)</code> always returns <code>false</code>.</p>\n\n<p>The code of the function <code>getCharacteristicInfo</code> is:</p>\n\n<pre><code>public &lt;T&gt; T getCharacteristicInfo(CameraCharacteristics.Key&lt;T&gt; key) {\n    return characteristics.get(key);\n}\n</code></pre>\n\n<p>It is a function for getting camera characteristics.</p>\n\n<p>How to properly check if a variable is an array?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-paging", "dagger"], "comments": [{"owner": {"reputation": 1639, "user_id": 10511266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7sbDQHrPyo/AAAAAAAAAAI/AAAAAAAAAAc/cH8et1hnN-Q/photo.jpg?sz=128", "display_name": "Hussnain Haidar", "link": "https://stackoverflow.com/users/10511266/hussnain-haidar"}, "edited": false, "score": 0, "creation_date": 1550661358, "post_id": 54783112, "comment_id": 96348498, "body": "Your factory code looks fine. can you share dataSource and view model code."}, {"owner": {"reputation": 191, "user_id": 7840286, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DS4eVGfvuFE/AAAAAAAAAAI/AAAAAAAAC-I/f9DaViCSizM/photo.jpg?sz=128", "display_name": "Darthoo", "link": "https://stackoverflow.com/users/7840286/darthoo"}, "reply_to_user": {"reputation": 1639, "user_id": 10511266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7sbDQHrPyo/AAAAAAAAAAI/AAAAAAAAAAc/cH8et1hnN-Q/photo.jpg?sz=128", "display_name": "Hussnain Haidar", "link": "https://stackoverflow.com/users/10511266/hussnain-haidar"}, "edited": false, "score": 0, "creation_date": 1550661571, "post_id": 54783112, "comment_id": 96348638, "body": "edited my question"}, {"owner": {"reputation": 1639, "user_id": 10511266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7sbDQHrPyo/AAAAAAAAAAI/AAAAAAAAAAc/cH8et1hnN-Q/photo.jpg?sz=128", "display_name": "Hussnain Haidar", "link": "https://stackoverflow.com/users/10511266/hussnain-haidar"}, "edited": false, "score": 0, "creation_date": 1550663575, "post_id": 54783112, "comment_id": 96349763, "body": "Sorry i don&#39;t know the actual reason. But i guess that you&#39;re accessing datasource before initialing dataSourceFactory"}, {"owner": {"reputation": 145, "user_id": 4821933, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4b3d968b191495c904febb3f915786b?s=128&d=identicon&r=PG&f=1", "display_name": "G_comp", "link": "https://stackoverflow.com/users/4821933/g-comp"}, "edited": false, "score": 0, "creation_date": 1572972190, "post_id": 54783112, "comment_id": 103724915, "body": "Are you providing the DataSource in your module?"}, {"owner": {"reputation": 191, "user_id": 7840286, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DS4eVGfvuFE/AAAAAAAAAAI/AAAAAAAAC-I/f9DaViCSizM/photo.jpg?sz=128", "display_name": "Darthoo", "link": "https://stackoverflow.com/users/7840286/darthoo"}, "edited": false, "score": 0, "creation_date": 1573044920, "post_id": 54783112, "comment_id": 103751820, "body": "No. I initialize datasource in create() method in datasource factory. Which described in first snippet. Should i write provider for this factory?"}], "answers": [{"tags": [], "owner": {"reputation": 555, "user_id": 5934119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDegK.png?s=128&g=1", "display_name": "HvSimon", "link": "https://stackoverflow.com/users/5934119/hvsimon"}, "is_accepted": false, "score": 1, "last_activity_date": 1584065651, "creation_date": 1584065651, "answer_id": 60664023, "question_id": 54783112, "link": "https://stackoverflow.com/questions/54783112/how-to-inject-data-source-factory-from-android-pagination-library/60664023#60664023", "title": "How to inject data source factory from android pagination library?", "body": "<p>Did you use Android Module? You may need to use <code>api</code> dependency in the base module like</p>\n\n<pre><code>api \"androidx.paging:paging-runtime-ktx:$paging_version\"\n</code></pre>\n\n<p>And there is similar issue <a href=\"https://stackoverflow.com/a/47128596/5934119\">https://stackoverflow.com/a/47128596/5934119</a></p>\n"}], "owner": {"reputation": 191, "user_id": 7840286, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DS4eVGfvuFE/AAAAAAAAAAI/AAAAAAAAC-I/f9DaViCSizM/photo.jpg?sz=128", "display_name": "Darthoo", "link": "https://stackoverflow.com/users/7840286/darthoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 886, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1584065651, "creation_date": 1550655572, "last_edit_date": 1550661551, "question_id": 54783112, "link": "https://stackoverflow.com/questions/54783112/how-to-inject-data-source-factory-from-android-pagination-library", "title": "How to inject data source factory from android pagination library?", "body": "<p>I'm using pagination library and i want to inject datasource into my viewmodel.\nMy factory looks like:</p>\n\n<pre><code>class ArticleDataSourceFactory @Inject constructor(\n    val articleRepository: ArticleRepository\n) : DataSource.Factory&lt;Long, Article&gt;() {\n\n    override fun create(): DataSource&lt;Long, Article&gt; {\n        return ArticleDateKeyedDataSource(articleRepository)\n    }\n}\n</code></pre>\n\n<p>My DataSource:</p>\n\n<pre><code>class ArticleDateKeyedDataSource(\n    private val repository: ArticleRepository\n) : ItemKeyedDataSource&lt;Long, Article&gt;() {\n    override fun loadInitial(params: LoadInitialParams&lt;Long&gt;, callback: LoadInitialCallback&lt;Article&gt;) {\n        val articles = repository.getInitial(params.requestedInitialKey!!, params.requestedLoadSize)\n        callback.onResult(articles)\n    }\n\n    override fun loadAfter(params: LoadParams&lt;Long&gt;, callback: LoadCallback&lt;Article&gt;) {\n        val articles = repository.getAfter(params.key, params.requestedLoadSize)\n        callback.onResult(articles)\n    }\n\n    override fun loadBefore(params: LoadParams&lt;Long&gt;, callback: LoadCallback&lt;Article&gt;) {\n        val articles = repository.getBefore(params.key, params.requestedLoadSize)\n        callback.onResult(articles)\n    }\n\n    override fun getKey(item: Article): Long {\n        return item.createdAt\n    }\n}\n</code></pre>\n\n<p>And my ViewModel:</p>\n\n<pre><code>class ArticleFragmentViewModel @Inject constructor(\n    private val dataSourceFactory: ArticleDataSourceFactory\n) : BaseViewModel() {\n\n    var initialArticlePosition = 0L\n\n    val navigateToArticleDetails: MutableLiveData&lt;SingleEvent&lt;Long&gt;&gt; = MutableLiveData()\n\n    val articlesLiveList: LiveData&lt;PagedList&lt;Article&gt;&gt;\n        get() {\n            val config = PagedList.Config.Builder()\n                .setEnablePlaceholders(false)\n                .setPageSize(5)\n                .build()\n\n            return LivePagedListBuilder(dataSourceFactory, config)\n                .setInitialLoadKey(initialArticlePosition)\n                .setFetchExecutor(Executors.newSingleThreadExecutor())\n                .build()\n        }\n\n\n    fun onArticleSelected(createdAt: Long) {\n        navigateToArticleDetails.value = SingleEvent(createdAt)\n    }\n}\n</code></pre>\n\n<p>After rebuild, i get an error:</p>\n\n<pre><code>error: cannot access DataSource\n  class file for androidx.paging.DataSource not found\n  Consult the following stack trace for details.    \n</code></pre>\n\n<p>What does it mean? I have no idea, what i do wrong.\nFor example, i have no problem to inject repository.</p>\n"}, {"tags": ["android", "data-binding", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1550655541, "post_id": 54783026, "comment_id": 96344724, "body": "Thanks. But isn&#39;t is assigning a value? (<code>binding = ...</code>) not calling it..."}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1550655697, "post_id": 54783026, "comment_id": 96344811, "body": "It sets content view internally, creates a binding object and returns it to the <code>binding</code> variable. The assigning itself not calling it."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1550659412, "post_id": 54783026, "comment_id": 96347224, "body": "Thanks. How do you know when a class like this is calling it internally?"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1550659940, "post_id": 54783026, "comment_id": 96347562, "body": "@Zorgan, it calls it right when you call <code>DataBindingUtil.setContentView</code>... Press <code>Ctrl</code> and click on the <code>DataBindingUtil.setContentView</code> method in your IDE and it will guide you to this method internals."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1550661360, "post_id": 54783026, "comment_id": 96348501, "body": "Thanks. Can you give an example of what the <code>T</code> (type) could be in <code>public static &lt;T extends ViewDataBinding&gt; T setContentView</code>?"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 1, "creation_date": 1550661768, "post_id": 54783026, "comment_id": 96348753, "body": "It could be any class that is extended from <code>ViewDataBinding</code>, in your case it will be  <code>ActivityMainBinding</code>."}], "tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": true, "score": 2, "last_activity_date": 1550655312, "creation_date": 1550655312, "answer_id": 54783026, "question_id": 54782820, "link": "https://stackoverflow.com/questions/54782820/setcontentview-being-initialised-not-called/54783026#54783026", "title": "setContentView() being initialised, not called", "body": "<p>Have you followed the source code? :)\nWhen you're calling </p>\n\n<p><code>DataBindingUtil.setContentView(@NonNull Activity activity, int layoutId)</code></p>\n\n<p>it calls </p>\n\n<p><code>DataBindingUtil.setContentView(@NonNull Activity activity, int layoutId, @Nullable DataBindingComponent bindingComponent)</code></p>\n\n<p>this method internally calls </p>\n\n<p><code>activity.setContentView(layoutId);</code>. </p>\n\n<p>Read more <a href=\"https://android.googlesource.com/platform/frameworks/data-binding/+/e4cd38824a6627b9fef229c549c636e35ad63b5f/library/src/main/java/android/databinding/DataBindingUtil.java\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>And also if your view has <code>id</code> (like R.id.done_button) you don't have to call <code>findViewById</code> method. It should be available through the binding object, like</p>\n\n<p><code>binding.doneButton</code></p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 54783026, "answer_count": 1, "score": 0, "last_activity_date": 1550655312, "creation_date": 1550654615, "question_id": 54782820, "link": "https://stackoverflow.com/questions/54782820/setcontentview-being-initialised-not-called", "title": "setContentView() being initialised, not called", "body": "<p>I'm following a tutorial on DataBinding and it replaces:</p>\n\n<p><code>setContentView(R.layout.activity_main)</code> with </p>\n\n<p><code>binding = DataBindingUtil.setContentView(this, R.layout.activity_main)</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/AOdJF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AOdJF.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm wondering how setting the value of <code>binding</code> to an instance with <code>setContentView()</code> sets the content view. Because it's not calling <code>setContentView()</code>. </p>\n\n<p>I'm also wondering how the <code>ActivityMainBinding</code> object is involved in the following assignment:</p>\n\n<p><code>binding = DataBindingUtil.setContentView(this, R.layout.activity_main)</code></p>\n"}, {"tags": ["kotlin", "extension-methods", "member", "toplevel", "extension-function"], "answers": [{"tags": [], "owner": {"reputation": 800, "user_id": 8176827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-63AittdAhNw/AAAAAAAAAAI/AAAAAAAAC30/7ACJoYQ7F8Q/photo.jpg?sz=128", "display_name": "Andreas Sch&#246;rgenhumer", "link": "https://stackoverflow.com/users/8176827/andreas-sch%c3%b6rgenhumer"}, "is_accepted": true, "score": 5, "last_activity_date": 1550655895, "creation_date": 1550655895, "answer_id": 54783202, "question_id": 54782787, "link": "https://stackoverflow.com/questions/54782787/difference-between-private-top-level-extension-function-and-private-extension-fu/54783202#54783202", "title": "Difference between private top-level extension function and private extension function inside class", "body": "<blockquote>\n  <ol>\n  <li>Is there any difference to those two approaches, except that in <code>C1.kt</code> the extension function <code>String.double()</code> would also be visible to other possible file members (such as further classes in the same file)?</li>\n  </ol>\n</blockquote>\n\n<p>There is one difference: When specifying an extension function inside the class (in your example <code>C2</code>), then you additionally have access to the instance of this class with the <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html#qualified\" rel=\"noreferrer\">qualified <code>this</code></a> syntax (in your example <code>this@C2</code>).</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>Since we want to achieve code \"as kotlinic as possible\", we would like to know which of the two approaches is the suggested one. Is there an official suggestion / style guide on the example above? I think it is considered good practice to declare extension functions as close as possible to its intended use, thus in the above example the structure of <code>C2</code> would be suggested?</li>\n  </ol>\n</blockquote>\n\n<p>That's a good question. Personally, I would put the extension functions outside the class, since they (normally) specify behavior that is related to the <em>extended</em> type and not to the type of the class where they are used. However, if you <em>do</em> need class-related information within the extension function, I would then specify them inside the class.</p>\n"}], "owner": {"reputation": 8716, "user_id": 2938364, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vNRRo.jpg?s=128&g=1", "display_name": "Markus Weninger", "link": "https://stackoverflow.com/users/2938364/markus-weninger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 968, "favorite_count": 0, "accepted_answer_id": 54783202, "answer_count": 1, "score": 5, "last_activity_date": 1550681517, "creation_date": 1550654526, "question_id": 54782787, "link": "https://stackoverflow.com/questions/54782787/difference-between-private-top-level-extension-function-and-private-extension-fu", "title": "Difference between private top-level extension function and private extension function inside class", "body": "<p>We are currently switching our project to Kotlin, and ran across following question:</p>\n\n<p>We need a certain <em>extension function</em> only inside a given class. Thus, we have two possibilities: (1) Declaring the extension function <code>private</code> on the file top-level or (2) declaring the extension function <code>private</code> inside the class.</p>\n\n<p>Following a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>:</p>\n\n<p>Top-level example (file <code>C1.kt</code>):</p>\n\n<pre><code>private fun String.double() = this.repeat(2)\nclass C1 {\n    init {\n        println(\"init\".double())\n    }\n}\n</code></pre>\n\n<p>Inside class example (file <code>C2.kt</code>):</p>\n\n<pre><code>class C2 {\n    private fun String.double() = this.repeat(2)\n    init {\n        println(\"init\".double())\n    }\n}\n</code></pre>\n\n<p><strong>Questions:</strong></p>\n\n<ol>\n<li><p>Is there any difference to those two approaches, except that in <code>C1.kt</code> the extension function <code>String.double()</code> would also be visible to other possible file members (such as further classes in the same file)?</p></li>\n<li><p>Since we want to achieve code \"as kotlinic as possible\", we would like to know which of the two approaches is the suggested one. Is there an official suggestion / style guide on the example above? I think it is considered good practice to declare extension functions as close as possible to its intended use, thus in the above example the structure of <code>C2</code> would be suggested?</p></li>\n</ol>\n"}, {"tags": ["android", "kotlin", "android-room", "rx-android", "rx-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": true, "score": 1, "last_activity_date": 1550654705, "creation_date": 1550654705, "answer_id": 54782844, "question_id": 54782735, "link": "https://stackoverflow.com/questions/54782735/reusing-or-recreating-an-observer/54782844#54782844", "title": "Reusing or recreating an observer?", "body": "<p>I would hold this inside a ViewModel.\nWhen your fragment is recreated, it'll reuse the previous viewmodel. This will increase performance as it won't have to recreate your observer, and recall the database, it'll just use what was previously obtained.</p>\n\n<p>See here: <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">Android ViewModel</a></p>\n"}], "owner": {"reputation": 929, "user_id": 7855177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-avNsBxd4mKE/AAAAAAAAAAI/AAAAAAAAABQ/dSTXwqwzagQ/photo.jpg?sz=128", "display_name": "Piwo", "link": "https://stackoverflow.com/users/7855177/piwo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 54782844, "answer_count": 1, "score": 2, "last_activity_date": 1550656662, "creation_date": 1550654379, "last_edit_date": 1550656662, "question_id": 54782735, "link": "https://stackoverflow.com/questions/54782735/reusing-or-recreating-an-observer", "title": "Reusing or recreating an observer?", "body": "<p>I'm using a custom repository to get observables for data in a room database, e.g:</p>\n\n<pre><code>fun getUsers(): Observable&lt;List&lt;User&gt;&gt; = userDao.getAll()\n        .toObservable()\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .doOnError { Logger.error(tag, \"error getting users: ${it.message}\") }\n        .doOnNext { Logger.debug(tag, \"fetched ${it.size} users\") }\n</code></pre>\n\n<p>In my UI (Fragment) I start the subscription in <code>onResume</code>:</p>\n\n<pre><code>override fun onResume() {\n        super.onResume()\n        userObserver = repository.getUsers()\n            .subscribe {\n                // handle user\n            }\n    }\n</code></pre>\n\n<p>And in the <code>onPause</code> I have:</p>\n\n<pre><code>override fun onPause() {\n        super.onPause()\n        userObserver.dispose()\n    }\n</code></pre>\n\n<p>Since each time <code>repository.getUsers()</code> is called, I'm creating a new Observable-object. Could this lead to memory leaks and should I rather try to reuse the observer instead of disposing and recreating it?</p>\n"}, {"tags": ["reflection", "kotlin", "data-class"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1550654360, "last_edit_date": 1550654360, "creation_date": 1550654034, "answer_id": 54782624, "question_id": 54782505, "link": "https://stackoverflow.com/questions/54782505/kotlin-data-class-access-property-by-variable-to-set-its-value/54782624#54782624", "title": "Kotlin data class - access property by variable to set it&#39;s value", "body": "<p><code>memberProperties</code> returns a <code>Collection&lt;KProperty1&lt;T, *&gt;&gt;</code>, but you need <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-mutable-property/index.html\" rel=\"nofollow noreferrer\"><code>KMutableProperty1</code></a>. So</p>\n\n<pre><code>if (prop is KMutableProperty1) {\n    (prop as KMutableProperty1&lt;T, Any&gt;).set(user, \"Alex\")\n} else { \n    // what do you want to do if the property is immutable?\n}\n</code></pre>\n\n<p>The cast is needed because the smart cast would only give you a <code>KMutableProperty1&lt;T, *&gt;</code> and you couldn't call <code>set</code> anyway because the compiler doesn't know what type to accept as its second parameter.</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 4939437, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ynua5-tWF20/AAAAAAAAAAI/AAAAAAAAf4A/sAzTeLspIDE/photo.jpg?sz=128", "display_name": "Vind Iskald", "link": "https://stackoverflow.com/users/4939437/vind-iskald"}, "edited": false, "score": 0, "creation_date": 1550655144, "post_id": 54782830, "comment_id": 96344475, "body": "It is OK if I want to set exactly &quot;name&quot; property to &quot;toto&quot;. In my case I have an object with more than 20 properties and a hash map with properties&#39; names and values to change in this object. I can iterate over hash map to get (key, value) pairs, but I can&#39;t call data class instance property simply by &quot;user[key]&quot;"}], "tags": [], "owner": {"reputation": 53, "user_id": 8098268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d9bad7cbd76c38dccf5954486d26d96?s=128&d=identicon&r=PG&f=1", "display_name": "Mathieu Heuzey", "link": "https://stackoverflow.com/users/8098268/mathieu-heuzey"}, "is_accepted": false, "score": 0, "last_activity_date": 1550654643, "creation_date": 1550654643, "answer_id": 54782830, "question_id": 54782505, "link": "https://stackoverflow.com/questions/54782505/kotlin-data-class-access-property-by-variable-to-set-its-value/54782830#54782830", "title": "Kotlin data class - access property by variable to set it&#39;s value", "body": "<p>when you got the instance of your object needed, you simply do -> user.name = \"toto\"</p>\n"}, {"tags": [], "owner": {"reputation": 422, "user_id": 8771403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2d4798793091bb636b14e52f79cd640?s=128&d=identicon&r=PG&f=1", "display_name": "tfad334", "link": "https://stackoverflow.com/users/8771403/tfad334"}, "is_accepted": false, "score": 0, "last_activity_date": 1605955100, "creation_date": 1605955100, "answer_id": 64942118, "question_id": 54782505, "link": "https://stackoverflow.com/questions/54782505/kotlin-data-class-access-property-by-variable-to-set-its-value/64942118#64942118", "title": "Kotlin data class - access property by variable to set it&#39;s value", "body": "<p>You can use Java-style reflection if you're targeting the JVM platform.\nTo set the &quot;name&quot; property of the user instance of the class User to &quot;Alex&quot;,</p>\n<pre><code>val field = &quot;name&quot;\nuser.javaClass\n    .getMethod(&quot;set${field.capitalize()}&quot;, String::class.java)\n    .invoke(user, &quot;Alex&quot;)\n</code></pre>\n<p>And to get the &quot;name&quot; property,</p>\n<pre><code>val userName = user.javaClass\n    .getMethod(&quot;get${field.capitalize()}&quot;)\n    .invoke(user) as String\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4939437, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ynua5-tWF20/AAAAAAAAAAI/AAAAAAAAf4A/sAzTeLspIDE/photo.jpg?sz=128", "display_name": "Vind Iskald", "link": "https://stackoverflow.com/users/4939437/vind-iskald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3175, "favorite_count": 0, "accepted_answer_id": 54782624, "answer_count": 3, "score": 4, "last_activity_date": 1605955100, "creation_date": 1550653635, "question_id": 54782505, "link": "https://stackoverflow.com/questions/54782505/kotlin-data-class-access-property-by-variable-to-set-its-value", "title": "Kotlin data class - access property by variable to set it&#39;s value", "body": "<p>I have a Kotlin data class like this:</p>\n\n<pre><code>data class User(\n    var id: Int,\n    var name: String? = null,\n    var email: String? = null,\n    var age: Int? = null,\n    var latitude: Float? = null,\n    var longitude: Float? = null \n)\n</code></pre>\n\n<p>Then I create it's instance </p>\n\n<pre><code>var user = User(1)\n</code></pre>\n\n<p>Then I try this:</p>\n\n<pre><code>val field = \"name\"\nvar prop = User::class.memberProperties.find {it -&gt; it.name == field}!!\nprop.get(user)\n</code></pre>\n\n<p>And it works, but if I try to set value like this:    </p>\n\n<pre><code>prop.setter.call(user, \"Alex\")\n</code></pre>\n\n<p>I get an error:</p>\n\n<blockquote>\n  <p>Unresolved reference: setter</p>\n</blockquote>\n\n<p>Neither it works like this:</p>\n\n<pre><code>prop.set(user, \"Alex\")\n</code></pre>\n\n<p>(This was based on solution provided here, but it isn't work for me: <a href=\"https://stackoverflow.com/questions/51715815/in-kotlin-is-it-possible-to-use-a-variable-to-call-a-method-or-property\">solution</a> )</p>\n"}, {"tags": ["android", "kotlin", "toggle"], "comments": [{"owner": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "edited": false, "score": 0, "creation_date": 1550654309, "post_id": 54782409, "comment_id": 96343933, "body": "Can you click on the button programmatically with this library?"}, {"owner": {"reputation": 1699, "user_id": 5261462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kLUcB.jpg?s=128&g=1", "display_name": "Hoo", "link": "https://stackoverflow.com/users/5261462/hoo"}, "reply_to_user": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "edited": false, "score": 0, "creation_date": 1550654666, "post_id": 54782409, "comment_id": 96344151, "body": "@TamirAbutbul Don&#39;t know how. I only know how to manual click"}, {"owner": {"reputation": 1699, "user_id": 5261462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kLUcB.jpg?s=128&g=1", "display_name": "Hoo", "link": "https://stackoverflow.com/users/5261462/hoo"}, "reply_to_user": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "edited": false, "score": 0, "creation_date": 1550654932, "post_id": 54782409, "comment_id": 96344325, "body": "@TamirAbutbul or do you have any idea on how to create multi state toggle button ?"}, {"owner": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "edited": false, "score": 0, "creation_date": 1550655068, "post_id": 54782409, "comment_id": 96344421, "body": "and by  &quot;I only know how to manual click&quot; do you mean the library or generally"}, {"owner": {"reputation": 1699, "user_id": 5261462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kLUcB.jpg?s=128&g=1", "display_name": "Hoo", "link": "https://stackoverflow.com/users/5261462/hoo"}, "reply_to_user": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "edited": false, "score": 0, "creation_date": 1550655121, "post_id": 54782409, "comment_id": 96344460, "body": "@TamirAbutbul the library"}], "answers": [{"comments": [{"owner": {"reputation": 1699, "user_id": 5261462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kLUcB.jpg?s=128&g=1", "display_name": "Hoo", "link": "https://stackoverflow.com/users/5261462/hoo"}, "edited": false, "score": 0, "creation_date": 1550655314, "post_id": 54782977, "comment_id": 96344581, "body": "there are no setValue in the library"}, {"owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "reply_to_user": {"reputation": 1699, "user_id": 5261462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kLUcB.jpg?s=128&g=1", "display_name": "Hoo", "link": "https://stackoverflow.com/users/5261462/hoo"}, "edited": false, "score": 0, "creation_date": 1550655746, "post_id": 54782977, "comment_id": 96344838, "body": "It&#39;s here: <a href=\"https://github.com/jlhonora/multistatetogglebutton/blob/37275832634a31c7917cb44aa480f3c303031315/multistatetogglebutton/src/org/honorato/multistatetogglebutton/MultiStateToggleButton.java#L330\" rel=\"nofollow noreferrer\">github.com/jlhonora/multistatetogglebutton/blob/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": true, "score": 0, "last_activity_date": 1550655126, "creation_date": 1550655126, "answer_id": 54782977, "question_id": 54782409, "link": "https://stackoverflow.com/questions/54782409/android-multi-state-togglebutton/54782977#54782977", "title": "Android multi state toggleButton", "body": "<p>It looks like you set the chosen button by it's position. You could retrieve all the texts of the buttons, find the index of the text that matches your text, and then set the chosen button with that index.</p>\n\n<p>Pseudo Code:</p>\n\n<pre><code>val dataFromActivityOne = intent.getString(\"blah\")\nmultiStateToggle.setValue(multiStateToggle.texts.indexOf(dataFromActivityOne))\n</code></pre>\n"}], "owner": {"reputation": 1699, "user_id": 5261462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kLUcB.jpg?s=128&g=1", "display_name": "Hoo", "link": "https://stackoverflow.com/users/5261462/hoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 772, "favorite_count": 0, "accepted_answer_id": 54782977, "answer_count": 1, "score": 1, "last_activity_date": 1550655126, "creation_date": 1550653338, "question_id": 54782409, "link": "https://stackoverflow.com/questions/54782409/android-multi-state-togglebutton", "title": "Android multi state toggleButton", "body": "<p>I using this library to make multi state toggleButton\n<a href=\"https://github.com/jlhonora/multistatetogglebutton\" rel=\"nofollow noreferrer\">https://github.com/jlhonora/multistatetogglebutton</a></p>\n\n<p>Everything works fine now.</p>\n\n<p>My issue is how can make the toggle button clicked based on a value given?</p>\n\n<p>Example there are three values in toggle, A,B,and C, which is in Activity B.</p>\n\n<p>I'm passing value <code>A</code> from <strong>Activity One</strong> to <strong>Activity Two</strong>. When it comes to <strong>Activity Two</strong>, the toggle which has value A should be clicked. </p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "notifydatasetchanged"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1550644420, "post_id": 54780143, "comment_id": 96339172, "body": "Where you are removing item from your list?"}, {"owner": {"reputation": 645, "user_id": 5649898, "user_type": "registered", "profile_image": "https://graph.facebook.com/986007284788847/picture?type=large", "display_name": "Chandrakant Dvivedi", "link": "https://stackoverflow.com/users/5649898/chandrakant-dvivedi"}, "edited": false, "score": 0, "creation_date": 1550644430, "post_id": 54780143, "comment_id": 96339175, "body": "You need to remove item from data list also."}], "answers": [{"comments": [{"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1550644953, "post_id": 54780201, "comment_id": 96339382, "body": "I need to use <code>removeAt</code> instead of <code>remove</code>"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1550645041, "post_id": 54780201, "comment_id": 96339415, "body": "@JohnJoe didn&#39;t get u buddy"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1550645133, "post_id": 54780201, "comment_id": 96339459, "body": "I get this <code>Using &#39;remove(Int): T&#39; is an error. Use removeAt(index) instead</code>"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1550647760, "post_id": 54780201, "comment_id": 96340571, "body": "hi bro, I have another button called <code>A</code> in the recyclerView. If <code>A</code> clicked, it will call some function, then I want A to be invisible.  How can I achieve ?"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1550647967, "post_id": 54780201, "comment_id": 96340670, "body": "@JohnJoe than you need to  take a boolean variable for that and maintain  boolean  visibilty of button called <code>A</code> using that boolean varble, means when user click on button change the state of boolean variable and disply button based on that Boolean variable"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1550648034, "post_id": 54780201, "comment_id": 96340700, "body": "@JohnJoe for hint check my previous answer <a href=\"https://stackoverflow.com/a/54103578/7666442\">stackoverflow.com/a/54103578/7666442</a>"}], "tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": true, "score": 3, "last_activity_date": 1550645301, "last_edit_date": 1550645301, "creation_date": 1550644505, "answer_id": 54780201, "question_id": 54780143, "link": "https://stackoverflow.com/questions/54780143/notifydatasetchanged-in-adapter-doesnt-seem-to-work/54780201#54780201", "title": "notifyDataSetChanged() in Adapter doesn&#39;t seem to work", "body": "<p>You are not removing item from your list that's why <code>notifyItemRemoved(position)</code>\nand <code>notifyDataSetChanged()</code> is not working</p>\n\n<p>Make below changes in your code</p>\n\n<pre><code>handler.postDelayed(Runnable {\n                    dialog.dismiss()\n                    // remove here item from yourlist then use notifyItemRemoved(position)\n                    arrayList.removeAt(position)\n                    notifyItemRemoved(position)\n                    //notifyDataSetChanged() // Is not necessary.\n                    context.longToast(\"Done\")\n                }, 5000)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2007, "user_id": 8770663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/boGWf.png?s=128&g=1", "display_name": "Masoud Mokhtari", "link": "https://stackoverflow.com/users/8770663/masoud-mokhtari"}, "is_accepted": false, "score": 2, "last_activity_date": 1550645406, "last_edit_date": 1550645406, "creation_date": 1550644571, "answer_id": 54780214, "question_id": 54780143, "link": "https://stackoverflow.com/questions/54780143/notifydatasetchanged-in-adapter-doesnt-seem-to-work/54780214#54780214", "title": "notifyDataSetChanged() in Adapter doesn&#39;t seem to work", "body": "<p>You must remove selected item from your list then notify adapter.</p>\n\n<p>Please try this code:</p>\n\n<pre><code>yourDataset.removeAt(position);\nnotifyItemRemoved(position);\nnotifyItemRangeChanged(position, yourDataset.size()); //If needed\n</code></pre>\n\n<p>Hopefully this steps will help you removing items from a recycler view.</p>\n"}], "owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "accepted_answer_id": 54780201, "answer_count": 2, "score": 1, "last_activity_date": 1550645406, "creation_date": 1550644307, "question_id": 54780143, "link": "https://stackoverflow.com/questions/54780143/notifydatasetchanged-in-adapter-doesnt-seem-to-work", "title": "notifyDataSetChanged() in Adapter doesn&#39;t seem to work", "body": "<p>There is a delete button in my <code>recyclerView</code>. When the button is clicked,user can delete it based on position. After that I would like the <code>recyclerView</code> to update. I have added below code in my adapter class but it still doesn't work.</p>\n\n<pre><code> notifyItemRemoved(position)\n notifyDataSetChanged()\n</code></pre>\n\n<p><strong>Adapter</strong> </p>\n\n<pre><code> holder.mDeleteImage.setOnClickListener {\n            val builder = AlertDialog.Builder(context)\n\n            // Set the alert dialog title\n            builder.setTitle(\"Delete Item\")\n\n            // Display grid_item message on alert dialog\n            builder.setMessage(\"Are you want to delete this item ?\")\n\n            // Display grid_item negative button on alert dialog\n            builder.setNegativeButton(\"No\") { dialog, which -&gt;\n                dialog.dismiss()\n            }\n\n            // Set grid_item positive button and its click listener on alert dialog\n            builder.setPositiveButton(\"YES\") { dialog, which -&gt;\n\n                var dialog = Util().callDialog(context)\n\n                GlobalScope.launch(Dispatchers.Main) {\n\n                    val service = RetrofitFactory.makeRetrofitService()\n                    service.delete(item.id)\n                }\n                val handler = Handler()\n                handler.postDelayed(Runnable {\n                    dialog.dismiss()\n                    notifyItemRemoved(position)\n                    notifyDataSetChanged()\n                    context.longToast(\"Done\")\n                }, 5000)\n            }\n            // Finally, make the alert dialog using builder\n            val dialog: AlertDialog = builder.create()\n\n            // Display the alert dialog on app interface\n            dialog.show()\n        }\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2938, "user_id": 1191020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5ce80185030a0922f13a04584f080960?s=128&d=identicon&r=PG", "display_name": "FatalCatharsis", "link": "https://stackoverflow.com/users/1191020/fatalcatharsis"}, "edited": false, "score": 0, "creation_date": 1550654190, "post_id": 54782252, "comment_id": 96343874, "body": "It&#39;s cool that the language can produce such an elegant type safe workaround, but annoying that I have to use language features to work around this. Is there no plan to allow overwriting declaration site variance with use-site notation, for when a use site should demand invariance upon a covariant type during type inference? Also, in my specific case, I wanted non-nullable and nullable types to be accepted (both a and b). Is that possible? Thanks for your time."}, {"owner": {"reputation": 2938, "user_id": 1191020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5ce80185030a0922f13a04584f080960?s=128&d=identicon&r=PG", "display_name": "FatalCatharsis", "link": "https://stackoverflow.com/users/1191020/fatalcatharsis"}, "edited": false, "score": 0, "creation_date": 1550655922, "post_id": 54782252, "comment_id": 96344940, "body": "@Eugene_Petrenko I found that if I declare my infix function as such from your example <code>infix fun &lt;T : KWrapper&lt;out R&gt;, R&gt; T.equal(rhs : T) = false</code> with the out prefix, it infers to most common ancestor of Long? and Long, which is Long?, so that suits my needs well enough (accepts case a and b, but rejects c)."}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1550652756, "creation_date": 1550652756, "answer_id": 54782252, "question_id": 54779553, "link": "https://stackoverflow.com/questions/54779553/kotlin-generic-constraints-require-param-to-be-of-same-type-as-other/54782252#54782252", "title": "Kotlin generic constraints - require param to be of same type as other", "body": "<p>It is not possible to do right now. You may follow the issue for more details\n<a href=\"https://youtrack.jetbrains.com/issue/KT-13198\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-13198</a></p>\n\n<p>I see a workaround here (similar to the one from the issue). The idea is to wrap the <code>KProperty&lt;R&gt;</code> into a wrapper class without variance. As you see, the <code>KProperty</code> type has <code>out R</code> variance, which works against us in the example. You may follow the link for the details on the declaration-side variance in Kotlin\n<a href=\"https://kotlinlang.org/docs/reference/generics.html#declaration-site-variance\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html#declaration-site-variance</a></p>\n\n<p>The workaround works as strict as expected</p>\n\n<pre><code>class KWrapper&lt;R&gt;(val p : KProperty&lt;R&gt;)\ninfix fun &lt;T : KWrapper&lt;R&gt;, R&gt; T.equal(rhs : T) = false\nval &lt;T&gt; KProperty&lt;T&gt;.wrap get() = KWrapper(this)\n\nval a = Test::id.wrap equal TestOther::id.wrap //fails: Long vs Long?\nval b = Test::id.wrap equal Test::id.wrap //works\nval c = Test::id.wrap equal TestOther::isCool.wrap // fails Long vs Boolean\n</code></pre>\n\n<p>The downside is that you need to use <code>.wrap</code> extension property (or extension function) for the left and right parameters separately</p>\n"}], "owner": {"reputation": 2938, "user_id": 1191020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5ce80185030a0922f13a04584f080960?s=128&d=identicon&r=PG", "display_name": "FatalCatharsis", "link": "https://stackoverflow.com/users/1191020/fatalcatharsis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 54782252, "answer_count": 1, "score": 2, "last_activity_date": 1550652756, "creation_date": 1550641448, "question_id": 54779553, "link": "https://stackoverflow.com/questions/54779553/kotlin-generic-constraints-require-param-to-be-of-same-type-as-other", "title": "Kotlin generic constraints - require param to be of same type as other", "body": "<p>Let's say I have a set of two pojo's like so:</p>\n\n<pre><code>data class Test (\n    var id : Long? = null\n)\n\ndata class TestOther (\n    var id : Long = 0,\n    var isCool : Boolean = false\n}\n</code></pre>\n\n<p>and then I have an infix function like so:</p>\n\n<pre><code>infix fun &lt;T : Any?&gt; KProperty&lt;T&gt;.equal(rhs : KProperty&lt;T&gt;) = BinaryExpression&lt;Boolean&gt;(this, rhs, EQUALS)\n</code></pre>\n\n<p>then this works fine as I'd expect:</p>\n\n<pre><code>Test::id equal TestOther::id\n</code></pre>\n\n<p>but so does this, since T is all types that extend Any?:</p>\n\n<pre><code>Test::id equal TestOther::isCool\n</code></pre>\n\n<p>Is there anyway to specify generic constraints such that nullable and non nullable types can be compared, but objects of different types cannot without having to specify an overload for every possible concrete type?</p>\n"}, {"tags": ["java", "android", "kotlin", "compiler-errors"], "comments": [{"owner": {"reputation": 3345, "user_id": 281657, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ce72c267e12ecd2221ac46d4ce4ec99a?s=128&d=identicon&r=PG", "display_name": "Malcolm Crum", "link": "https://stackoverflow.com/users/281657/malcolm-crum"}, "edited": false, "score": 0, "creation_date": 1550636253, "post_id": 54778651, "comment_id": 96336594, "body": "Is that a full error message, or was there more after it?"}, {"owner": {"reputation": 164, "user_id": 7537880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/afubm.png?s=128&g=1", "display_name": "Jayson Garcia", "link": "https://stackoverflow.com/users/7537880/jayson-garcia"}, "reply_to_user": {"reputation": 3345, "user_id": 281657, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ce72c267e12ecd2221ac46d4ce4ec99a?s=128&d=identicon&r=PG", "display_name": "Malcolm Crum", "link": "https://stackoverflow.com/users/281657/malcolm-crum"}, "edited": false, "score": 0, "creation_date": 1550638118, "post_id": 54778651, "comment_id": 96337044, "body": "@Crummy Hi, I&#39;ve updated the gradle log. Thanks"}, {"owner": {"reputation": 1391, "user_id": 4308897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X67wO4XjVAE/AAAAAAAAAAI/AAAAAAAAADw/NacwJv67gHI/photo.jpg?sz=128", "display_name": "Ercan", "link": "https://stackoverflow.com/users/4308897/ercan"}, "edited": false, "score": 0, "creation_date": 1577179490, "post_id": 54778651, "comment_id": 105112782, "body": "If you got error while setting up crashlytics, this may help you: <a href=\"https://stackoverflow.com/a/59466530/4308897\">stackoverflow.com/a/59466530/4308897</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2277, "user_id": 4290431, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rbSGN.jpg?s=128&g=1", "display_name": "Pooja", "link": "https://stackoverflow.com/users/4290431/pooja"}, "edited": false, "score": 6, "creation_date": 1554736647, "post_id": 54780289, "comment_id": 97852110, "body": "What was the change that you made? @JaysonGarcia"}, {"owner": {"reputation": 164, "user_id": 7537880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/afubm.png?s=128&g=1", "display_name": "Jayson Garcia", "link": "https://stackoverflow.com/users/7537880/jayson-garcia"}, "reply_to_user": {"reputation": 2277, "user_id": 4290431, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rbSGN.jpg?s=128&g=1", "display_name": "Pooja", "link": "https://stackoverflow.com/users/4290431/pooja"}, "edited": false, "score": 0, "creation_date": 1554772425, "post_id": 54780289, "comment_id": 97865521, "body": "@Pooja i added the  ext.kotlin_version = &#39;1.3.11&#39; on the project gradle file. No changes on the App gradle except for the ordering of applying the pluging"}], "tags": [], "owner": {"reputation": 164, "user_id": 7537880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/afubm.png?s=128&g=1", "display_name": "Jayson Garcia", "link": "https://stackoverflow.com/users/7537880/jayson-garcia"}, "is_accepted": true, "score": -1, "last_activity_date": 1554375649, "last_edit_date": 1554375649, "creation_date": 1550644862, "answer_id": 54780289, "question_id": 54778651, "link": "https://stackoverflow.com/questions/54778651/supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure-you-hav/54780289#54780289", "title": "Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:", "body": "<p>Update: Fixed It</p>\n\n<p><b>build.gradle(project)</b></p>\n\n<pre><code> ext.kotlin_version = '1.3.11'\n</code></pre>\n\n<p><b>build.gradle(app)</b></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'io.fabric'\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion \"28.0.3\"\n\n    defaultConfig {\n        versionName \"2.2.4\"\n        versionCode 13\n\n        minSdkVersion 16\n        targetSdkVersion 27\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n\n    buildTypes {\n        debug {\n            applicationIdSuffix \".debug\"\n            versionNameSuffix \".d.5\"\n        }\n\n        release {\n        minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    flavorDimensions \"server\"\n\n    productFlavors {\n        prod {\n            applicationId \"com.tfwm.lighting\"\n            dimension \"server\"\n\n            buildConfigField \"String\", \"SERVER_HOST\", \"\\\"http://www.crescit.com\\\"\"\n        }\n\n        dev {\n            applicationId \"dev.tfwm.lighting\"\n            versionNameSuffix \".dev\"\n            dimension \"server\"\n\n            buildConfigField \"String\", \"SERVER_HOST\", \"\\\"http://192.168.60.120\\\"\"\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation('com.crashlytics.sdk.android:crashlytics:2.7.1@aar') {\n        transitive = true\n    }\n\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n    implementation 'com.github.sparklit:adbutler-android-sdk:1.0'\n    implementation 'com.j256.ormlite:ormlite-core:5.0'\n    implementation 'com.j256.ormlite:ormlite-android:5.0'\n    implementation 'com.squareup.okhttp:okhttp:2.4.0'\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:support-vector-drawable:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.android.support:support-v4:28.0.0'\n    implementation 'com.google.android.gms:play-services-location:16.0.0'\n    implementation 'com.google.firebase:firebase-core:16.0.7'\n    implementation 'com.facebook.fresco:fresco:1.9.0'\n    implementation 'com.jakewharton.timber:timber:4.7.0'\n    implementation 'com.google.android.gms:play-services-maps:16.1.0'\n    testImplementation 'junit:junit:4.12'\n    def nav_version = \"1.0.0-alpha09\"\n    implementation \"android.arch.navigation:navigation-fragment:$nav_version\"\n    // use -ktx for Kotlin\n    implementation \"android.arch.navigation:navigation-ui:$nav_version\"\n    // use -ktx for Kotlin\n\n    implementation 'pub.devrel:easypermissions:1.1.1'\n    implementation 'devlight.io:navigationtabbar:1.2.5'\n}\n\napply plugin: 'com.google.gms.google-services'\n\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"}], "owner": {"reputation": 164, "user_id": 7537880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/afubm.png?s=128&g=1", "display_name": "Jayson Garcia", "link": "https://stackoverflow.com/users/7537880/jayson-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8975, "favorite_count": 2, "accepted_answer_id": 54780289, "answer_count": 1, "score": 2, "last_activity_date": 1554375649, "creation_date": 1550635415, "last_edit_date": 1550640011, "question_id": 54778651, "link": "https://stackoverflow.com/questions/54778651/supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure-you-hav", "title": "Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:", "body": "<p>I can't compile Android Kotlin Project</p>\n\n<p>I recently updated the app from pure Java to Kotlin, I only did it on a single activity yet, but I cannot run the project. </p>\n\n<p><b>Gradle Log</b><BR></p>\n\n<blockquote>\n  <p>e: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\n      class com.google.android.gms.maps.model.LatLng, unresolved supertypes: com.google.android.gms.internal.zzbfm\n      class com.google.android.gms.maps.model.CameraPosition, unresolved supertypes: com.google.android.gms.internal.zzbfm</p>\n</blockquote>\n\n<p><b>build gradle (app)</b></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-android'\napply plugin: 'io.fabric'\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion \"28.0.3\"\n\n    defaultConfig {\n        versionName \"2.2.4\"\n        versionCode 13\n\n        minSdkVersion 16\n        targetSdkVersion 27\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n\n    buildTypes {\n        debug {\n            applicationIdSuffix \".debug\"\n            versionNameSuffix \".d.5\"\n        }\n\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    flavorDimensions \"server\"\n\n    productFlavors {\n        prod {\n            applicationId \"com.app.app\"\n            dimension \"server\"\n\n            buildConfigField \"String\", \"SERVER_HOST\", \"\\\"http://www.test.cm\\\"\"\n    }\n\n        dev {\n            applicationId \"dev.app.app\"\n            versionNameSuffix \".dev\"\n            dimension \"server\"\n\n            buildConfigField \"String\", \"SERVER_HOST\", \"\\\"http://localhost/test\\\"\"\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation('com.crashlytics.sdk.android:crashlytics:2.7.1@aar') {\n        transitive = true\n    }\n\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n    implementation 'com.github.sparklit:adbutler-android-sdk:1.0'\n    implementation 'com.j256.ormlite:ormlite-core:4.48'\n    implementation 'com.j256.ormlite:ormlite-android:4.48'\n    implementation 'com.squareup.okhttp:okhttp:2.4.0'\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:support-vector-drawable:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.2'\n    implementation 'com.android.support:support-v4:28.0.0'\n    implementation 'com.google.android.gms:play-services-location:15.0.0'\n    implementation 'com.google.firebase:firebase-core:16.0.1'\n    implementation 'com.facebook.fresco:fresco:1.9.0'\n    implementation 'com.jakewharton.timber:timber:4.7.0'\n    implementation 'com.google.android.gms:play-services-maps:11.8.0'\n    testImplementation 'junit:junit:4.12'\n    def nav_version = \"1.0.0-alpha09\"\n    implementation \"android.arch.navigation:navigation-fragment:$nav_version\"\n    // use -ktx for Kotlin\n    implementation \"android.arch.navigation:navigation-ui:$nav_version\"\n    // use -ktx for Kotlin\n\n    implementation 'devlight.io:navigationtabbar:1.2.5'\n}\n\n\napply plugin: 'com.google.gms.google-services'\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3345, "user_id": 281657, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ce72c267e12ecd2221ac46d4ce4ec99a?s=128&d=identicon&r=PG", "display_name": "Malcolm Crum", "link": "https://stackoverflow.com/users/281657/malcolm-crum"}, "edited": false, "score": 0, "creation_date": 1550626988, "post_id": 54777314, "comment_id": 96334596, "body": "I don&#39;t know why the &quot;continue&quot; keyword is there. Can you remove it and try again?"}, {"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1550627230, "post_id": 54777314, "comment_id": 96334649, "body": "Have you tried assigning the data retrieved from query to a variable and check its length right before the for-loop?"}, {"owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "reply_to_user": {"reputation": 3345, "user_id": 281657, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ce72c267e12ecd2221ac46d4ce4ec99a?s=128&d=identicon&r=PG", "display_name": "Malcolm Crum", "link": "https://stackoverflow.com/users/281657/malcolm-crum"}, "edited": false, "score": 0, "creation_date": 1550633371, "post_id": 54777314, "comment_id": 96335983, "body": "@Crummy yes, I put &quot;continue&quot; after trying, I thought that maybe with &quot;continue&quot; it was going to be fixed, but it&#39;s still the same."}, {"owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "reply_to_user": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1550633376, "post_id": 54777314, "comment_id": 96335984, "body": "@Ricky Mo, yes I print the retrieved data, and shows me two records, if I quit the MaterialButton instance the loop throws me the two records."}, {"owner": {"reputation": 3345, "user_id": 281657, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ce72c267e12ecd2221ac46d4ce4ec99a?s=128&d=identicon&r=PG", "display_name": "Malcolm Crum", "link": "https://stackoverflow.com/users/281657/malcolm-crum"}, "edited": false, "score": 0, "creation_date": 1550636202, "post_id": 54777314, "comment_id": 96336584, "body": "What if you change the for loop to be <code>for (it in listOf(Pair(2, &quot;LARRY&quot;), Pair(1, &quot;MADISON&quot;)))</code> ?"}, {"owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "reply_to_user": {"reputation": 3345, "user_id": 281657, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ce72c267e12ecd2221ac46d4ce4ec99a?s=128&d=identicon&r=PG", "display_name": "Malcolm Crum", "link": "https://stackoverflow.com/users/281657/malcolm-crum"}, "edited": false, "score": 0, "creation_date": 1550763148, "post_id": 54777314, "comment_id": 96398185, "body": "@Crummy I&#39;ll try it, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "edited": false, "score": 0, "creation_date": 1550763079, "post_id": 54778927, "comment_id": 96398139, "body": "@Vahalaru, I already add the buttons in a LinearLayout, the &quot;zones_item&quot; is my button template that add to my LinearLayou"}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "edited": false, "score": 0, "creation_date": 1550764320, "post_id": 54778927, "comment_id": 96398956, "body": "Ohhh boy, lol if it was a snake it would byte you hang on let me get my computer out and a pen and paper out. You have a mess going on here."}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "edited": false, "score": 0, "creation_date": 1550764425, "post_id": 54778927, "comment_id": 96399027, "body": "Also if you could explain exactly what your trying to do. It looks like your trying to have a row of buttons across the top of the screen that you can scroll through as you add them?"}, {"owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "edited": false, "score": 0, "creation_date": 1550764857, "post_id": 54778927, "comment_id": 96399339, "body": "@Vahalaru Mmmm... something like that you  explain, I need to draw a set of Buttons according to my data retrieved from my anko db,  the data that I put in my anko db is from a webservice, I consume the data and save it in a local db, every (called zone button) the plan is for each button display a set of items in my recycler view. Regards"}], "tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": false, "score": 1, "last_activity_date": 1550647340, "last_edit_date": 1550647340, "creation_date": 1550637345, "answer_id": 54778927, "question_id": 54777314, "link": "https://stackoverflow.com/questions/54777314/why-my-foreach-breaks-when-i-try-to-draw-dynamic-buttons-in-kotlin/54778927#54778927", "title": "Why my foreach breaks when I try to draw dynamic buttons in Kotlin?", "body": "<p>The hint is only one button is showing. Your trying to inflate the same view twice in the same spot.</p>\n\n<p>You need to add an empty linearlayout in your xml. And in your loop change the buttonz..</p>\n\n<pre><code>var btnZone = findViewById(R.layout.btnZone) \nbutton.text = \"Pair\"\nbtnZone.addView(button, layoutParams)\n</code></pre>\n\n<p>That's not the exact code (and probably not even the right syntax) but it shows you how you need to modify your loop. </p>\n\n<p>Basicly you were attempting to inflate the same instance of the same view. When really your not inflating any views this way your just adding views.</p>\n\n<p><strong>Note</strong>\nIf you have a linearlayout in your xml when you add another button view to it it will add it below it. If you set the layout orientation to horizontal the button view then gets added beside the other one. </p>\n\n<p>here's a link to an example.\nSorry I would make sure my code matched your code and variables with proper syntax but I am at work.</p>\n"}], "owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558248397, "creation_date": 1550624914, "last_edit_date": 1558248397, "question_id": 54777314, "link": "https://stackoverflow.com/questions/54777314/why-my-foreach-breaks-when-i-try-to-draw-dynamic-buttons-in-kotlin", "title": "Why my foreach breaks when I try to draw dynamic buttons in Kotlin?", "body": "<p>I need to draw dynamic buttons inside a foreach loop that retrieve data from my anko sqlite, the foreach only enter once and breaks and only draw one button in my layout, what I doing wrong? my code is this: </p>\n\n<pre><code>fun loadZones (ctx: Context, update: String, view: View, layout: LinearLayout) {\n    val zonesParser = rowParser{idzone: Int, zone: String -&gt; Pair(idzone, zone)}\n    for (it in ctx.database.use {\n        select(\"tableplan\")\n            .distinct()\n            .column(\"idzone\")\n            .column(\"zone\")\n            .orderBy(\"zone\")\n            .parseList(zonesParser)\n    }) {\n        val layoutParams = LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT)\n        val btnZone = layoutInflater.inflate(R.layout.zones_item, null) as MaterialButton\n        btnZone.text = it.second\n        btnZone.id = it.first\n        layout.addView(btnZone, layoutParams)\n        Log.e(\"PAIR\", \"FIN DEL CICLO\")\n        continue\n    }\n}\n</code></pre>\n\n<p>The data that retrieves from my query is this: </p>\n\n<pre><code>(2, LARRY)\n(1, MADISON)\n</code></pre>\n\n<p>That's my activity, I need to draw the buttons in <strong>\"lytZonesButtons\"</strong> id </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n             xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n             xmlns:tools=\"http://schemas.android.com/tools\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"match_parent\" tools:context=\".TablePlanFragment\"&gt;\n    &lt;com.google.android.material.appbar.AppBarLayout android:layout_width=\"match_parent\"\n                                                     android:layout_height=\"wrap_content\" android:elevation=\"2dp\"\n                                                     tools:targetApi=\"lollipop\" app:liftOnScroll=\"true\"&gt;\n        &lt;androidx.appcompat.widget.Toolbar\n                android:id=\"@+id/toolbarTablePlan\"\n                style=\"@style/com.madison.Toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                app:title=\"@string/table_title_module\"&gt;\n        &lt;/androidx.appcompat.widget.Toolbar&gt;\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n    &lt;LinearLayout\n            android:layout_marginTop=\"56dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:orientation=\"horizontal\"\n            android:background=\"@color/orangeLighter\"\n            android:gravity=\"center_vertical\"\n            android:padding=\"5dp\" android:id=\"@+id/lytZonesButtons\" /&gt;\n    &lt;androidx.core.widget.NestedScrollView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_marginTop=\"112dp\"\n            android:padding=\"5dp\"&gt;\n        &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=\"@+id/rc_tableplan\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n\n        /&gt;\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>and that's my button template that I called \"zones_item\": </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;com.google.android.material.button.MaterialButton\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\" style=\"@style/com.madison.AppButton\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textAppearance=\"@style/TextAppearance.MaterialComponents.Subtitle2\"\n        tools:text=\"MADISON\"\n        tools:targetApi=\"lollipop\"\n        android:layout_margin=\"5dp\"\n/&gt;\n</code></pre>\n\n<p><strong>EDIT</strong>: I found the solution!</p>\n\n<p>I don't now why my layout instance in the twice iteration of my loop throws <code>NullPointerException</code> but not shows in the log cat, my solution was put the loop code in onCreateView function, this is the code: </p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view = inflater.inflate(R.layout.activity_tableplan, container, false)\n        val iActivity = (activity as AppCompatActivity)\n        iActivity.setSupportActionBar(view.toolbarTablePlan)\n        iActivity.supportActionBar?.setDisplayShowTitleEnabled(true)\n        // view.rc_tableplan.setHasFixedSize(true)\n        // val gridLayoutManager = GridLayoutManager(context, 2, GridLayoutManager.HORIZONTAL, false)\n        // view.rc_tableplan.layoutManager = gridLayoutManager\n        val response = loadTablePlan(this.context!!, \"no\")\n        if (response.trim().toUpperCase() == \"SUCCESS\") {\n            val zonesParser = rowParser{idzone: Int, zone: String -&gt; Pair(idzone, zone)}\n            for (zone in this.context!!.database.use {\n                select(\"tableplan\")\n                    .distinct()\n                    .column(\"idzone\")\n                    .column(\"zone\")\n                    .orderBy(\"zone\")\n                    .parseList(zonesParser)\n            }) {\n                val layout:LinearLayout = view.lytZonesButtons\n                layout.let {\n                    val btnZone = layoutInflater.inflate(R.layout.zones_item, layout, false) as MaterialButton\n                    btnZone.text = zone.second\n                    btnZone.id = zone.first\n                    btnZone.requestLayout()\n                    layout.addView(btnZone)\n                    Log.e(\"PAIR\", \"FIN DEL CICLO\")\n                }\n            }\n        }\n        return view\n    }\n</code></pre>\n\n<p>Thanks a lot for all people that tried help me, some admin can close my question please.</p>\n"}, {"tags": ["android", "json", "http", "parsing", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": true, "score": 1, "last_activity_date": 1550648789, "creation_date": 1550648789, "answer_id": 54781224, "question_id": 54776743, "link": "https://stackoverflow.com/questions/54776743/how-to-recive-and-parse-a-http-json-file-in-kotlin/54781224#54781224", "title": "How to recive and parse a HTTP Json-File in Kotlin", "body": "<p>It sounds like your not just new to android. You will need a webhost server set up. The easiest way would set it up so that when the url is connect to it echos your json response. When your app executes its http get request you parse the resonse. </p>\n\n<p>I highly recommend Fuel for kotlin. It just works. \n<a href=\"https://github.com/kittinunf/fuel\" rel=\"nofollow noreferrer\">Kittinunf/fuel</a></p>\n"}], "owner": {"reputation": 414, "user_id": 11087216, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QfCCZHRqUcM/AAAAAAAAAAI/AAAAAAAAACo/b9jrw08KaX4/photo.jpg?sz=128", "display_name": "Strohhut", "link": "https://stackoverflow.com/users/11087216/strohhut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 54781224, "answer_count": 1, "score": -1, "last_activity_date": 1550648789, "creation_date": 1550620633, "question_id": 54776743, "link": "https://stackoverflow.com/questions/54776743/how-to-recive-and-parse-a-http-json-file-in-kotlin", "title": "How to recive and parse a HTTP Json-File in Kotlin", "body": "<p>I\u00b4m programming an Android App that recives Data from an other device (not jet final what device some kind of Wifi board) via HTTP Json-File but i dont know how to \"pull\" the file and parse it. I\u00b4m new to Kotlin so thanks for your help :)</p>\n"}, {"tags": ["kotlin", "spring-data-mongodb"], "owner": {"reputation": 2842, "user_id": 1042273, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jfTB7.jpg?s=128&g=1", "display_name": "Tarek", "link": "https://stackoverflow.com/users/1042273/tarek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550618938, "creation_date": 1550618938, "question_id": 54776514, "link": "https://stackoverflow.com/questions/54776514/idiomatic-way-to-create-a-variable-spring-data-mongodb-query-in-kotlin", "title": "Idiomatic way to create a variable spring data mongodb Query in Kotlin?", "body": "<p>Using Kotlin and spring data mongodb, I'm trying to find the most idiomatic method that can receive nullable parameters (through user defined filters) and create a MongoTemplate Query with the non-null ones (which, in Java, would be a bunch of ifs). This is what I came up with, so far, but I wonder if there's a better way:</p>\n\n<pre><code>// extending Query\nopen class Filter {\n  // case insensitive 'like' criteria\n  fun Query.like(field: String, value: String?) = value?.let {\n    this.addCriteria(Criteria.where(field).regex(it,\"i\"))\n  }\n\n  // queries from a date, to a date or between two dates\n  fun &lt;T: Comparable&lt;T&gt;&gt; Query.between(field: String, from: T?, to: T?) {\n    if (from != null || to != null) {\n      val criteria = where(field)\n      from?.let { criteria.gte(it) }\n      to?.let { criteria.lte(it) }\n      this.addCriteria(criteria)\n    }\n  }\n\n  fun Query.onlyActive(active: Boolean?) = when (active) {\n    true -&gt; this.addCriteria(Criteria.where(\"active\").`is`(true))\n    else -&gt; null\n  }\n}\n\n// data class extending Filter()\ndata class myFilter(val: name: String, val type: String?, val content:String?,\n  val fromNum: Int?, val toNum: Int?, val fromDate: LocalDateTime?,\n  val toDate: LocalDateTime?, val active? = false): Filter() {\n\n  fun toQuery(): Query {\n    // name is a mandatory param\n    val query = Query.query(Criteria.where(\"name\").`is`(name))\n\n    with(query) {\n      like(\"type\", type)\n      like(\"content\", content)\n      between(\"num\", fromNum, toNum)\n      between(\"date\", fromDate, toDate)\n      onlyActive(active)\n    }\n\n    return query\n  }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "let"], "answers": [{"comments": [{"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1550615946, "post_id": 54775929, "comment_id": 96331921, "body": "Great answer as always, Eugene!"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1550650009, "post_id": 54775929, "comment_id": 96341659, "body": "I&#39;d just add that in this case returning from <code>isDogEating</code> ends up not affecting the result, but mostly by accident."}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 4, "last_activity_date": 1550615412, "creation_date": 1550615412, "answer_id": 54775929, "question_id": 54775761, "link": "https://stackoverflow.com/questions/54775761/kotlin-let-usage/54775929#54775929", "title": "Kotlin &#39;let&#39; usage", "body": "<p>There are no differences in behavior.</p>\n\n<p>Both functions return <code>false</code> if <code>dog == null</code>, because of the <code>?: false</code> at the end.</p>\n\n<p>The <code>let</code> function is only executed if <code>dog != null</code>. \nSame with the <code>eating</code> property in the second example</p>\n\n<p>Note that the <code>return</code> statement in the <code>let</code> lambda means to return from the <code>isDogEating</code> function, not from the lambda! To return from the lambda one may use the <code>return@let</code> or just the expression</p>\n\n<p>I prefer a shorter version:</p>\n\n<pre><code>fun isDogEating() = dog?.eating ?: false\n</code></pre>\n"}], "owner": {"reputation": 1146, "user_id": 5560309, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/a4Gwu.png?s=128&g=1", "display_name": "Hadas Kaminsky", "link": "https://stackoverflow.com/users/5560309/hadas-kaminsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "accepted_answer_id": 54775929, "answer_count": 1, "score": 0, "last_activity_date": 1550615412, "creation_date": 1550614522, "question_id": 54775761, "link": "https://stackoverflow.com/questions/54775761/kotlin-let-usage", "title": "Kotlin &#39;let&#39; usage", "body": "<p>Is there a difference between this piece of code:</p>\n\n<pre><code>fun isDogEating(): Boolean {\n    return dog?.let { return it.eating } ?: false\n}\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>fun isDogEating(): Boolean {\n    return dog?.eating ?: false\n}\n</code></pre>\n\n<p>I bumped into something like the first and was wondering whether the <code>let</code> is redundant here.</p>\n"}, {"tags": ["android", "android-layout", "android-activity", "kotlin", "android-cardview"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1550613345, "post_id": 54775527, "comment_id": 96331046, "body": "obviously <code>android.support.v7.widget.CardView</code> doesn&#39;t come from <code>androidx</code>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550613574, "post_id": 54775527, "comment_id": 96331128, "body": "Sounds like <code>androidx</code> problem. It was moved elsewhere. Try adding the cardview again to the XML without specifying the package, then let it autocomplete the package."}, {"owner": {"reputation": 51, "user_id": 10914931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58d5cc1026c654bee0b9c4eb4007b638?s=128&d=identicon&r=PG&f=1", "display_name": "sapiah", "link": "https://stackoverflow.com/users/10914931/sapiah"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550613929, "post_id": 54775527, "comment_id": 96331276, "body": "@EpicPandaForce You&#39;re right, <code>androidx</code> didn&#39;t auto migrate the xml cardview package."}], "answers": [{"tags": [], "owner": {"reputation": 50428, "user_id": 950427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hq0mB.jpg?s=128&g=1", "display_name": "Jared Burrows", "link": "https://stackoverflow.com/users/950427/jared-burrows"}, "is_accepted": false, "score": 10, "last_activity_date": 1550613843, "creation_date": 1550613843, "answer_id": 54775646, "question_id": 54775527, "link": "https://stackoverflow.com/questions/54775527/error-inflating-class-android-support-v7-widget-cardview-classnotfoundexception/54775646#54775646", "title": "Error inflating class android.support.v7.widget.CardView ClassNotFoundException", "body": "<p>You need <code>androidx.cardview.widget.CardView</code> not <code>android.support.v7.widget.CardView</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 10914931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58d5cc1026c654bee0b9c4eb4007b638?s=128&d=identicon&r=PG&f=1", "display_name": "sapiah", "link": "https://stackoverflow.com/users/10914931/sapiah"}, "is_accepted": false, "score": 1, "last_activity_date": 1550614059, "creation_date": 1550614059, "answer_id": 54775687, "question_id": 54775527, "link": "https://stackoverflow.com/questions/54775527/error-inflating-class-android-support-v7-widget-cardview-classnotfoundexception/54775687#54775687", "title": "Error inflating class android.support.v7.widget.CardView ClassNotFoundException", "body": "<p>Android studio didn't completely migrate my app to androidx. But after changing the package name within the xml layout fixed the issue.</p>\n\n<p>Thanks everyone!</p>\n"}, {"tags": [], "owner": {"reputation": 1122, "user_id": 1874877, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Pdh5f.jpg?s=128&g=1", "display_name": "IPL10", "link": "https://stackoverflow.com/users/1874877/ipl10"}, "is_accepted": false, "score": 2, "last_activity_date": 1552546781, "creation_date": 1552546781, "answer_id": 55156622, "question_id": 54775527, "link": "https://stackoverflow.com/questions/54775527/error-inflating-class-android-support-v7-widget-cardview-classnotfoundexception/55156622#55156622", "title": "Error inflating class android.support.v7.widget.CardView ClassNotFoundException", "body": "<p>When I migrated to <code>androidx</code> my <code>Android Studio</code> did not completely migrate. So the point is that if you are migrating to <code>androidx</code>, ensure that you add <code>CardView</code> dependency to your <code>build.gradle</code></p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>dependencies {\n    // Other dependencies ...\n    implementation 'androidx.cardview:cardview:1.0.0'\n}\n</code></pre>\n\n<p>and in your <code>layout</code> <code>xml</code></p>\n\n<pre><code>&lt;androidx.cardview.widget.CardView\n    android:id=\"@+id/card_view\"\n    android:layout_gravity=\"center\"\n    android:layout_width=\"200dp\"\n    android:layout_height=\"200dp\"\n    card_view:cardCornerRadius=\"4dp\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/info_text\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Text\"/&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 10914931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58d5cc1026c654bee0b9c4eb4007b638?s=128&d=identicon&r=PG&f=1", "display_name": "sapiah", "link": "https://stackoverflow.com/users/10914931/sapiah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4866, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1568218229, "creation_date": 1550613196, "question_id": 54775527, "link": "https://stackoverflow.com/questions/54775527/error-inflating-class-android-support-v7-widget-cardview-classnotfoundexception", "title": "Error inflating class android.support.v7.widget.CardView ClassNotFoundException", "body": "<p>I'm trying to inflate a layout that contains a CardView but I'm dealing with some issues.</p>\n\n<p>Bellow is the error being state, </p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.hearthstonecards, PID: 14895\n    android.view.InflateException: Binary XML file line #8: Binary XML file line #8: Error inflating class android.support.v7.widget.CardView\n    Caused by: android.view.InflateException: Binary XML file line #8: Error inflating class android.support.v7.widget.CardView\n    Caused by: java.lang.ClassNotFoundException: Didn't find class \"android.support.v7.widget.CardView\" on path: DexPathList[[zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/base.apk\", zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/split_lib_dependencies_apk.apk\", zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/split_lib_resources_apk.apk\", zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/split_lib_slice_0_apk.apk\", zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/split_lib_slice_1_apk.apk\", zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/split_lib_slice_2_apk.apk\", zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/split_lib_slice_3_apk.apk\", zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/split_lib_slice_4_apk.apk\", zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/split_lib_slice_5_apk.apk\", zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/split_lib_slice_6_apk.apk\", zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/split_lib_slice_7_apk.apk\", zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/split_lib_slice_8_apk.apk\", zip file \"/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/com.example.hearthstonecards-Kl_z5hCNi7YCycFhods3Tg==/lib/arm64, /system/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:606)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at com.example.hearthstonecards.adapter.RecyclerViewAdapter.onCreateViewHolder(RecyclerViewAdapter.kt:34)\n        at com.example.hearthstonecards.adapter.RecyclerViewAdapter.onCreateViewHolder(RecyclerViewAdapter.kt:15)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.createViewHolder(RecyclerView.java:6942)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6114)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5997)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5993)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2227)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1558)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1518)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:613)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4029)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3746)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4299)\n        at android.view.View.layout(View.java:20672)\n        at android.view.ViewGroup.layout(ViewGroup.java:6194)\n</code></pre>\n\n<p>Kotlin code within the RecyclerViewAdapter,</p>\n\n<pre><code>class RecyclerViewAdapter(private val recyclerViewItems: ArrayList&lt;HearthstoneCardItemData&gt;, context: Context) :\n    RecyclerView.Adapter&lt;RecyclerViewHolder&gt;() {\n\n    private val inflater = LayoutInflater.from(context)\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerViewHolder {\n        val view = inflater.inflate(R.layout.recycler_view_card_item, parent, false)\n        return RecyclerViewHolder(view)\n    }\n}\n</code></pre>\n\n<p>Below is the xml layout.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"wrap_content\"\n              android:orientation=\"vertical\"&gt;\n    &lt;android.support.v7.widget.CardView\n            android:id=\"@+id/cardView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"150dp\"\n            card_view:cardCornerRadius=\"0dp\"\n            card_view:cardElevation=\"@dimen/margin10\"\n            card_view:cardMaxElevation=\"@dimen/margin10\"\n            card_view:contentPadding=\"@dimen/margin10\"&gt;\n        &lt;RelativeLayout\n                android:id=\"@+id/relativeLayout\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:orientation=\"vertical\"\n                android:layout_gravity=\"center\"&gt;\n            &lt;ImageView\n                    android:id=\"@+id/iv_card_item\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_centerInParent=\"true\"\n                    android:tint=\"@android:color/white\"\n                    android:padding=\"5dp\"/&gt;\n        &lt;/RelativeLayout&gt;\n\n    &lt;/android.support.v7.widget.CardView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>I've also added the right dependencies within the gradle file (i think)</p>\n\n<pre><code>implementation 'androidx.appcompat:appcompat:1.1.0-alpha02'\nimplementation 'androidx.recyclerview:recyclerview:1.1.0-alpha02'\nimplementation 'androidx.cardview:cardview:1.0.0'\n</code></pre>\n\n<p>I've cleaned  re-build as well, still no change\nAny advice would be appreciated!</p>\n"}, {"tags": ["kotlin", "kotlin-native", "kotlin-multiplatform"], "answers": [{"comments": [{"owner": {"reputation": 523, "user_id": 1943909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0298402ea3f28ea9945412ed90b7d2f9?s=128&d=identicon&r=PG", "display_name": "wongk", "link": "https://stackoverflow.com/users/1943909/wongk"}, "edited": false, "score": 0, "creation_date": 1550670425, "post_id": 54775447, "comment_id": 96354027, "body": "I hadn&#39;t even noticed that it was an interface. Thanks! The Android Studio editor was also not helping here. It doesn&#39;t seem to recognize any of the types or imports."}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1550612834, "creation_date": 1550612834, "answer_id": 54775447, "question_id": 54774871, "link": "https://stackoverflow.com/questions/54774871/unable-to-reference-kotlinx-cinterop-package-in-kotlin-multiplatform-project/54775447#54775447", "title": "Unable to reference kotlinx.cinterop package in Kotlin Multiplatform project", "body": "<p><code>kotlinx.cinterop.NativePlacement</code> is an interface name, not a class name. You need an instance of the <code>NativePlacement</code> interface to work. For example <code>memscoped{..}</code> block will work, e.g.</p>\n\n<pre><code>import kotlinx.cinterop.*\nimport platform.Foundation.*\n\nval p = memScoped {    \n  allocPointerTo&lt;ObjCObjectVar&lt;NSError?&gt;&gt;()\n}\n</code></pre>\n\n<p>The <code>memscoped{..}</code> accepts a lambda, inside the lambda the receiver implements the <code>NativePlacement</code> type, so there is no need for a qualifier to call a function on it</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver</a></p>\n"}], "owner": {"reputation": 523, "user_id": 1943909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0298402ea3f28ea9945412ed90b7d2f9?s=128&d=identicon&r=PG", "display_name": "wongk", "link": "https://stackoverflow.com/users/1943909/wongk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 3, "accepted_answer_id": 54775447, "answer_count": 1, "score": 4, "last_activity_date": 1550693684, "creation_date": 1550610208, "last_edit_date": 1550693684, "question_id": 54774871, "link": "https://stackoverflow.com/questions/54774871/unable-to-reference-kotlinx-cinterop-package-in-kotlin-multiplatform-project", "title": "Unable to reference kotlinx.cinterop package in Kotlin Multiplatform project", "body": "<p>I created a Kotlin Multiplatform project based on the example for iOS and Android (<a href=\"https://kotlinlang.org/docs/tutorials/native/mpp-ios-android.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/native/mpp-ios-android.html</a>). Within my iOS target, I am using cinterop to link in a 3rd party Objective-C framework. This is working fine. I am able to reference the framework classes in my Kotlin code within the 'iosMain' source set. However, one of the method calls requires an NSError** parameter. I am attempting to use the following to create this variable in my Kotlin code:</p>\n\n<pre><code>kotlinx.cinterop.NativePlacement.allocPointerTo&lt;kotlinx.cinterop.ObjCObjectVar&lt;platform.Foundation.NSError?&gt;()\n</code></pre>\n\n<p>I have not been able to find away around the following errors:</p>\n\n<pre><code>&gt; Task :sharedLib:linkMainDebugFrameworkIOS FAILED\nsrc/iosMain/kotlin/Platform.kt:9:50: error: unresolved reference: allocPointerTo\n    val error = kotlinx.cinterop.NativePlacement.allocPointerTo&lt;kotlinx.cinterop.ObjCObjectVar&lt;platform.Foundation.NSError?&gt;()\n                                                 ^\nsrc/iosMain/kotlin/Platform.kt:9:126: error: no value passed for parameter 'rawPtr'\n    val error = kotlinx.cinterop.NativePlacement.allocPointerTo&lt;kotlinx.cinterop.ObjCObjectVar&lt;platform.Foundation.NSError?&gt;()\n</code></pre>\n\n<p>My understanding is that this package is part of stdlib, which should be added as a dependency automatically. Am I missing a piece of the equation somewhere?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The following is an example of passing an NSError* reference from Kotlin:</p>\n\n<pre><code>memScoped {\n    val errorRef = alloc&lt;ObjCObjectVar&lt;NSError?&gt;&gt;()\n    someObjCObject.method(errorRef.ptr)\n}\n</code></pre>\n"}, {"tags": ["ios", "swift", "kotlin", "realm"], "comments": [{"owner": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1550686071, "post_id": 54773792, "comment_id": 96363418, "body": "For future reference, keep in mind that a Realm Result is a homogenous collection type, so you can&#39;t store different subclasses of Object in the same Results object."}], "answers": [{"comments": [{"owner": {"reputation": 1685, "user_id": 10512612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-54XhkqmYEIo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDZmaNhR610yi-CtiuzNW3HEqCCDA/mo/photo.jpg?sz=128", "display_name": "Mickael Belhassen", "link": "https://stackoverflow.com/users/10512612/mickael-belhassen"}, "edited": false, "score": 1, "creation_date": 1550606762, "post_id": 54773972, "comment_id": 96328257, "body": "Thanks helped me a lot"}], "tags": [], "owner": {"reputation": 10041, "user_id": 10253094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/715dr.jpg?s=128&g=1", "display_name": "Robert Dresler", "link": "https://stackoverflow.com/users/10253094/robert-dresler"}, "is_accepted": true, "score": 2, "last_activity_date": 1550606498, "last_edit_date": 1550606498, "creation_date": 1550606037, "answer_id": 54773972, "question_id": 54773792, "link": "https://stackoverflow.com/questions/54773792/swift-realm-generic-function-with-t-like-kotlin/54773972#54773972", "title": "Swift: Realm generic function with &lt;T&gt; like kotlin", "body": "<p>First, change method declaration to current Swift syntax</p>\n\n<pre><code>func get&lt;T: Object&gt;(completion: ([T]) -&gt; Void) {\n    // ...\n}\n</code></pre>\n\n<p>Next, compiler can infer type of <code>T</code> if you specify this type in closure of <code>get</code> method</p>\n\n<pre><code>get { (customers: [Customer]) -&gt; Void in\n    // ... work with `customers`\n}\n</code></pre>\n\n<p>so then you can use in method just</p>\n\n<pre><code>let results: Results&lt;T&gt;\n</code></pre>\n"}], "owner": {"reputation": 1685, "user_id": 10512612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-54XhkqmYEIo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDZmaNhR610yi-CtiuzNW3HEqCCDA/mo/photo.jpg?sz=128", "display_name": "Mickael Belhassen", "link": "https://stackoverflow.com/users/10512612/mickael-belhassen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 54773972, "answer_count": 1, "score": -2, "last_activity_date": 1550606498, "creation_date": 1550605247, "last_edit_date": 1550605616, "question_id": 54773792, "link": "https://stackoverflow.com/questions/54773792/swift-realm-generic-function-with-t-like-kotlin", "title": "Swift: Realm generic function with &lt;T&gt; like kotlin", "body": "<p>I am writing a class for realm generic, I have already finished in Kotlin, now I try to translate it into swift but it's more complicated because swift seems less flexible than Kotlin</p>\n\n<p>The <strong>Kotlin</strong> code that works:</p>\n\n<pre><code>inline fun &lt;reified T : RealmModel&gt; fetch(sortedBy: String,\n                                          ascending: Boolean = true,\n                                          noinline predicate: Query&lt;T&gt;? = null,\n                                          completion: (error: RealmFileException?, results: List&lt;T&gt;?) -&gt; Unit) {\n\n    val sort = if (ascending) {\n        Sort.ASCENDING\n    } else {\n        Sort.DESCENDING\n    }\n\n    try {\n        val results: List&lt;T&gt; = if (predicate != null) {\n            realm.where(T::class.java).predicate().sort(sortedBy, sort).findAll()\n        } else {\n            realm.where(T::class.java).sort(sortedBy, sort).findAll()\n        }\n\n        completion(null, results)\n        Log.s(\"Successfully retrieve data (size: ${results.size}): $results\")\n    } catch (e: RealmFileException) {\n        Log.e(\"ERROR: ${e.localizedMessage}\")\n        completion(e, null)\n    }\n}\n</code></pre>\n\n<p>The code above is perfect.</p>\n\n<p>Now here is my <strong>Swift</strong> code:</p>\n\n<pre><code>func fetch(object: Object.Type, \n           predicate: NSPredicate?, \n           sortedBy: String, ascending: Bool, \n           completion: (_ error: Error?, _ results: [Object]?) -&gt; ()) {\n    do {\n        let realm = try Realm()\n\n        let objects: Results&lt;Object&gt;!\n\n        if let predicate = predicate {\n            objects = realm.objects(object).filter(predicate).sorted(byKeyPath: sortedBy, ascending: ascending)\n        } else {\n            objects = realm.objects(object).sorted(byKeyPath: sortedBy, ascending: ascending)\n        }\n\n        let objectsArray = Array(objects)\n\n        Log.s(\"Successfully retrieve data (size: \\(objectsArray.count): $results\")\n        completion(nil, objectsArray)\n    } catch let error {\n        Log.e(\"ERROR: \\(error.localizedDescription)\")\n        completion(error, nil)\n    }\n}\n</code></pre>\n\n<p>The problem is the following, in my swift code, in the completion block I currently return a list of type Object</p>\n\n<p>And that does not suit me, I want to be able to do as in kotlin give him a type T and return in completion a list of type T like this:</p>\n\n<pre><code>func get&lt;T: Object&gt;(completion: (_list: [T]) -&gt; ()){\n        ...\n        let results = realmResults as T\n        completion(results)\n}\n</code></pre>\n\n<p>But I have several problems:\n1 - I can not create a realm object like this: <code>realm.objects(T.type)</code> or <code>realm.objects(T.self)</code>, i get error.</p>\n\n<p>2 - I cant cast list like this [Object] as [T]\n<code>'[Object]' is not convertible to '[T]'; did you mean to use 'as!' to force downcast?</code></p>\n\n<p>3 - When i want to call the function like this <code>get&lt;Customer&gt;{ results in }</code> </p>\n\n<p>It does not work <code>cannot explicitly specialize a generic function</code>. What is the way to do it, to make my function generic?</p>\n"}, {"tags": ["android", "kotlin", "android-room", "kotlinx.coroutines", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1550603084, "post_id": 54772865, "comment_id": 96326595, "body": "Could you also add definition of <code>collectionRepo.getCollection()</code> method please, and what is <code>coroutineScope</code>?"}, {"owner": {"reputation": 2283, "user_id": 490375, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/rwhQG.jpg?s=128&g=1", "display_name": "Matt Robertson", "link": "https://stackoverflow.com/users/490375/matt-robertson"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1550603504, "post_id": 54772865, "comment_id": 96326724, "body": "I added code for the method call. coroutineScope is from kotlinx <a href=\"https://kotlinlang.org/docs/reference/coroutines/basics.html#structured-concurrency\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/coroutines/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2283, "user_id": 490375, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/rwhQG.jpg?s=128&g=1", "display_name": "Matt Robertson", "link": "https://stackoverflow.com/users/490375/matt-robertson"}, "edited": false, "score": 0, "creation_date": 1550606275, "post_id": 54773603, "comment_id": 96328015, "body": "Closer than I was, but it still is not working. <code>withContext(Dispatchers.IO)</code> does not seem to be suspending the coroutine. This code sets up a race condition where the order of the collection stack is completely random from one execution to the next (if the stack builds at all)."}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 2283, "user_id": 490375, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/rwhQG.jpg?s=128&g=1", "display_name": "Matt Robertson", "link": "https://stackoverflow.com/users/490375/matt-robertson"}, "edited": false, "score": 0, "creation_date": 1550606766, "post_id": 54773603, "comment_id": 96328262, "body": "According to the docs of <code>withContext()</code> function: <code>Calls the specified suspending block with a given coroutine context, suspends until it completes, and returns the result.</code> it should suspend the coroutine."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 0, "last_activity_date": 1550606356, "last_edit_date": 1550606356, "creation_date": 1550604481, "answer_id": 54773603, "question_id": 54772865, "link": "https://stackoverflow.com/questions/54772865/kotlin-structure-for-sequential-coroutines/54773603#54773603", "title": "Kotlin: structure for sequential coroutines", "body": "<p>Please check next code, it should help you:</p>\n\n<pre><code>    // creating local scope for coroutines\n    private var job: Job = Job()\n    private val scope = CoroutineScope(Dispatchers.Main + job)     \n\n    // call this to cancel job when you don't need it anymore, for example in Activity.onDestroy() method\n    fun cancelJob() {\n        job.cancel()\n    }\n\n    private fun buildBackstackView() {\n        var curKey = collectionViewModel.getCurrentCollectionKey()\n\n        scope.launch {\n            do {\n                val curCollection = when (curKey) {\n                    \"\" -&gt; {\n                        Collection(\"\", 0, \"TOP\", \"\")\n                    }\n                    else -&gt; withContext(Dispatchers.IO) { // runs in background thread suspending the coroutine\n                        collectionRepo.getCollection(curKey)\n                    }\n\n                }\n\n                collectionStack.add(curCollection)\n                curKey = curCollection.key\n\n            } while (curKey != \"\")\n\n            // ...build UI view using collectionStack...\n        }\n    }\n</code></pre>\n\n<p>To use <strong>Dispatchers.Main</strong> import:</p>\n\n<pre><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.1.1'\n</code></pre>\n"}], "owner": {"reputation": 2283, "user_id": 490375, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/rwhQG.jpg?s=128&g=1", "display_name": "Matt Robertson", "link": "https://stackoverflow.com/users/490375/matt-robertson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 707, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550606356, "creation_date": 1550601331, "last_edit_date": 1550605200, "question_id": 54772865, "link": "https://stackoverflow.com/questions/54772865/kotlin-structure-for-sequential-coroutines", "title": "Kotlin: structure for sequential coroutines", "body": "<p>I am building a library manager app for Android and am trying to build a view to show the hierarchy of \"collections\" (i.e. folders) from the current collection up to root.</p>\n\n<p>The database is implemented with Room (accessed indirectly via the collectionRepo). Each Collection object has a unique key and knows its parent's key.</p>\n\n<p>What I'm trying to do:</p>\n\n<ol>\n<li>Given the current collection's key, build the Collection hierarchy\nup to root.</li>\n<li>After this is complete, build a UI rendering of the\nhierarchy.</li>\n</ol>\n\n<p>This seems like it should be pretty straightforward with Kotlin's coroutines, but I haven't been able to get the coroutines structured correctly.</p>\n\n<p>Since each call to <code>collectionRepo.getCollection(curKey)</code> ultimately does a Room db query, it has to be off the main thread. But I need to wait for the query to return in order to know the parentKey needed for the subsequent query.</p>\n\n<pre><code>private suspend fun buildBackstackView() {\n\n    var curKey = collectionViewModel.getCurrentCollectionKey()\n\n    coroutineScope {\n        launch {\n            do {\n                val curCollection = when (curKey) {\n                    \"\" -&gt; {\n                        Collection(\"\", 0, \"TOP\", \"\") // collection's parent is root - create a fake root Collection to push to the stack\n                    }\n                    else -&gt; {\n                        collectionRepo.getCollection(curKey) // ultimately a Room database query\n                    }\n                }\n\n                collectionStack.add(curCollection)\n                curKey = curCollection.key\n\n            } while (curKey != \"\")\n        }\n    }\n\n    withContext(Dispatchers.Main) {\n\n        ...build UI view using collectionStack...\n\n    }\n}\n</code></pre>\n\n<p>In response to Sergey's request, collectionRepo.getCollection() just passes the request along to a DAO method that defines a Room query.</p>\n\n<pre><code>@Query(\"SELECT * FROM collections WHERE `key` = :colKey LIMIT 1\")\nfun getCollection(colKey: String): Collection\n</code></pre>\n"}, {"tags": ["java", "spring", "hibernate", "jpa", "kotlin"], "comments": [{"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 1, "creation_date": 1550607061, "post_id": 54772363, "comment_id": 96328399, "body": "Unrelated, but why are you using Lombok with Kotlin? Data classes already have all you need"}, {"owner": {"reputation": 22888, "user_id": 7606764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff66904cb49ba020965898e8dd6b9d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/7606764/andronicus"}, "edited": false, "score": 0, "creation_date": 1550643079, "post_id": 54772363, "comment_id": 96338623, "body": "What exactly is your problem? Where is the error thrown? Also paste stack trace."}], "owner": {"reputation": 9, "user_id": 8676493, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QWyLtINEpp8/AAAAAAAAAAI/AAAAAAAAAB4/hH8hYjnfFF8/photo.jpg?sz=128", "display_name": "Carlton Leatch", "link": "https://stackoverflow.com/users/8676493/carlton-leatch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550599355, "creation_date": 1550599355, "question_id": 54772363, "link": "https://stackoverflow.com/questions/54772363/infinity-loop-with-many-to-many-in-kotlin-with-subtable", "title": "Infinity loop with many to many in kotlin with subtable", "body": "<p>I have a problem with a Many to Many relation. </p>\n\n<p>Here I'll paste a code</p>\n\n<p><strong>User.kt</strong></p>\n\n<pre><code>@Entity\n@Getter\n@Setter\n@Builder\n@Inheritance(strategy = InheritanceType.JOINED)\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = \"USER\", schema = \"public\")\n data class User(\n    @JsonView(Views.Base::class)\n    var username: String,\n    @JsonView(Views.UserExtended::class)\n    @OneToMany(mappedBy = \"user\", cascade = [CascadeType.ALL], orphanRemoval = true)\n    @JsonManagedReference\n    var projects: List&lt;UserProject&gt;? = mutableListOf()\n</code></pre>\n\n<p><strong>UserProject.kt</strong></p>\n\n<pre><code>@Entity\n@Getter\n@Setter\n@Builder\n@Inheritance(strategy = InheritanceType.JOINED)\n@Table(name = \"USER_PROJECT\", schema = \"public\")\ndata class UserProject(\n    @JsonView(Views.ProjectExtended::class)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"user_id\")\n    val user: User?,\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"project_id\")\n    val project: Project?,\n    @JsonView(Views.ProjectExtended::class)\n    val projectRole: String\n) : BaseEntity() {}\n</code></pre>\n\n<p><strong>Project.kt</strong></p>\n\n<pre><code>@Entity\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@Inheritance(strategy = InheritanceType.JOINED)\n@Table(name = \"PROJECT\", schema = \"public\")\ndata class Project (\n    @JsonView(Views.Base::class)\n    val name: String?,\n    @OneToMany(mappedBy = \"project\", cascade = [CascadeType.ALL], orphanRemoval = true)\n    @JsonView(Views.ProjectExtended::class)\n    var users: List&lt;UserProject&gt;?\n) : BaseEntity() {}\n</code></pre>\n\n<p>And i'm Going throught infinity loop. \nWhat I've done is simply doing a Views to overcome a problem. But I'm also using QueryDSL on @RepositoryRestResource which give me auto predicate on url's\nAnd the problem is, I cannot simply add a <strong>@Jsonview</strong> To RepositoryRestResource interface. </p>\n\n<p>I've tried doing a Projection but it gave me the result of Infinity loop cuz the <strong>@JsonView</strong> doesnt work on Projection and interface</p>\n\n<p>Does someone have a suggestion how could I overcome this problem? </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 8056, "user_id": 1638739, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/9sivj.jpg?s=128&g=1", "display_name": "Muhammed Refaat", "link": "https://stackoverflow.com/users/1638739/muhammed-refaat"}, "edited": false, "score": 0, "creation_date": 1550596587, "post_id": 54771470, "comment_id": 96323328, "body": "so you want to change the resources only not the layout, right ?"}, {"owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "reply_to_user": {"reputation": 8056, "user_id": 1638739, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/9sivj.jpg?s=128&g=1", "display_name": "Muhammed Refaat", "link": "https://stackoverflow.com/users/1638739/muhammed-refaat"}, "edited": false, "score": 1, "creation_date": 1550725479, "post_id": 54771470, "comment_id": 96376321, "body": "yes, i want only text not ui."}], "answers": [{"tags": [], "owner": {"reputation": 1214, "user_id": 855471, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/jRtEr.jpg?s=128&g=1", "display_name": "rawcoder064", "link": "https://stackoverflow.com/users/855471/rawcoder064"}, "is_accepted": true, "score": 1, "last_activity_date": 1550596323, "creation_date": 1550596323, "answer_id": 54771601, "question_id": 54771470, "link": "https://stackoverflow.com/questions/54771470/how-to-protect-my-app-ui-to-change-when-i-changed-my-app-language-programaticall/54771601#54771601", "title": "How to protect my app ui to change when i changed my app language programatically?", "body": "<p>So you dont want RTL support in your app? Try android:supportsRtl=\"false\" in your menifest.</p>\n\n<pre><code>&lt;application\nandroid:allowBackup=\"true\"\nandroid:icon=\"@mipmap/ic_launcher\"\nandroid:label=\"@string/app_name\"\nandroid:supportsRtl=\"false\"\nandroid:theme=\"@style/AppTheme\"&gt;\n...\n&lt;/application&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 631, "user_id": 4589334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18996e70a3f21c8902fa4387eb7f7ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Davi", "link": "https://stackoverflow.com/users/4589334/davi"}, "is_accepted": false, "score": 2, "last_activity_date": 1550596420, "creation_date": 1550596420, "answer_id": 54771627, "question_id": 54771470, "link": "https://stackoverflow.com/questions/54771470/how-to-protect-my-app-ui-to-change-when-i-changed-my-app-language-programaticall/54771627#54771627", "title": "How to protect my app ui to change when i changed my app language programatically?", "body": "<p>Try adding <code>android:supportsRtl=\"false\"</code> to the <strong>manifest.xml</strong> file, inside the <code>&lt;application&gt;</code> tag. This will fix your UI orientation, but might negatively affect your text orientation as right-to-left is necessary in Arabic.</p>\n\n<p>Another solution is to add <code>android:layoutDirection=\"ltr\"</code> inside your activities.</p>\n"}], "owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 54771601, "answer_count": 2, "score": 0, "last_activity_date": 1550603714, "creation_date": 1550595841, "last_edit_date": 1550603714, "question_id": 54771470, "link": "https://stackoverflow.com/questions/54771470/how-to-protect-my-app-ui-to-change-when-i-changed-my-app-language-programaticall", "title": "How to protect my app ui to change when i changed my app language programatically?", "body": "<p>I'm developing a app in two languages English and Arabic. and for this, I have a button in my app to change the language programmatically. I'm able to change it by click on a button but when I change it English to Arabic then my UI also changed left to right, but I want to remain my UI same for both. how Can I do it?\nI'm changing the language using this method\n private static Context updateResourcesLegacy(Context context, String language) {</p>\n\n<pre><code>    Locale locale = new Locale(language);\n    Locale.setDefault(locale);\n\n    Resources resources = context.getResources();\n\n    Configuration configuration = resources.getConfiguration();\n    configuration.locale = locale;\n\n    resources.updateConfiguration(configuration, resources.getDisplayMetrics());\n\n    return context;\n}\n</code></pre>\n\n<p>and it works, but ui reflected.</p>\n"}, {"tags": ["android", "google-maps", "kotlin", "google-play-services"], "comments": [{"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1550596934, "post_id": 54771375, "comment_id": 96323502, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48579993/your-app-is-having-trouble-with-google-play-services-please-try-again-only-on\">&lt;Your App&gt; is having trouble with Google Play services.Please try again. Only on 4.4.X OS devices</a>"}, {"owner": {"reputation": 516, "user_id": 10118242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7BBU.jpg?s=128&g=1", "display_name": "Debashis Nandy", "link": "https://stackoverflow.com/users/10118242/debashis-nandy"}, "reply_to_user": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1550597498, "post_id": 54771375, "comment_id": 96323773, "body": "I saw that post before posting this question. It&#39;s not working for me."}], "answers": [{"comments": [{"owner": {"reputation": 3640, "user_id": 197141, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/aba9a3e00cad339b91c20cf476417078?s=128&d=identicon&r=PG", "display_name": "arberg", "link": "https://stackoverflow.com/users/197141/arberg"}, "edited": false, "score": 2, "creation_date": 1550742990, "post_id": 54772374, "comment_id": 96384769, "body": "Yeah same for me, though that doesn&#39;t tell us why or how to fix it for 16.1.0. Probably Google will fix it. Maybe we need to wait for new emulator updates. I used Nexus Api 27+28 x86 with google services which both failed on google-services 16.1.0 and worked on 16.0.0"}, {"owner": {"reputation": 176, "user_id": 1661613, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7e8674cf1a398099584f254b47768ae9?s=128&d=identicon&r=PG", "display_name": "maddog", "link": "https://stackoverflow.com/users/1661613/maddog"}, "edited": false, "score": 1, "creation_date": 1550954572, "post_id": 54772374, "comment_id": 96464878, "body": "Thank you! You saved me a lot of time."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1557301121, "post_id": 54772374, "comment_id": 98714031, "body": "I tried this on API 19 emulator. With 16.1.0 it showed this error, but with 16.0.0 it wrote: &quot;Google Play Services are updating&quot; forever. Tried on Nox App Player (also API 19), it showed a map. Thanks."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1557314575, "post_id": 54772374, "comment_id": 98721317, "body": "Warning, downgrading will crash your app on Android 9, see <a href=\"https://stackoverflow.com/questions/52139199/google-maps-crashing-on-android-pie/52139307\" title=\"google maps crashing on android pie\">stackoverflow.com/questions/52139199/&hellip;</a>! Shame on you, Google!"}, {"owner": {"reputation": 516, "user_id": 10118242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7BBU.jpg?s=128&g=1", "display_name": "Debashis Nandy", "link": "https://stackoverflow.com/users/10118242/debashis-nandy"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1557321468, "post_id": 54772374, "comment_id": 98725361, "body": "Hey @CoolMind this problem occurred at that time, That&#39;s why I posted this solution. Now this problem is fixed by Google."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1557321618, "post_id": 54772374, "comment_id": 98725466, "body": "@DebashisNandy, what problem do you mean? &quot;App is having trouble with Google Play Services. Please try again&quot; or Android 9 compatibility? What was fixed?"}, {"owner": {"reputation": 516, "user_id": 10118242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7BBU.jpg?s=128&g=1", "display_name": "Debashis Nandy", "link": "https://stackoverflow.com/users/10118242/debashis-nandy"}, "edited": false, "score": 0, "creation_date": 1557321999, "post_id": 54772374, "comment_id": 98725714, "body": "when I was trying to use google map in my app I saw this error <a href=\"https://i.stack.imgur.com/XB5rp.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/XB5rp.png</a> in my emulator and device that runs in naught. But now using the 16.1.0 it&#39;s working fine and it&#39;s also working on android pie."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1557322192, "post_id": 54772374, "comment_id": 98725854, "body": "@DebashisNandy, 16.1.0 works on Android Pie. But doesn&#39;t work on KitKat (4.4). I tested it with AS emulator and Nox emulator. There works 16.0.0. I will test more, and if something changes, will write here."}, {"owner": {"reputation": 516, "user_id": 10118242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7BBU.jpg?s=128&g=1", "display_name": "Debashis Nandy", "link": "https://stackoverflow.com/users/10118242/debashis-nandy"}, "edited": false, "score": 0, "creation_date": 1557323917, "post_id": 54772374, "comment_id": 98726960, "body": "Yea I also noticed this problem. And thank you for informing me about this problem. I will also try to find a solution to this problem."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1557326094, "post_id": 54772374, "comment_id": 98728398, "body": "Currently I use 16.0.0 and <code>&lt;uses-library   android:name=&quot;org.apache.http.legacy&quot;   android:required=&quot;false&quot; &#47;&gt;</code> in AndroidManifest as said in that topic."}, {"owner": {"reputation": 516, "user_id": 10118242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7BBU.jpg?s=128&g=1", "display_name": "Debashis Nandy", "link": "https://stackoverflow.com/users/10118242/debashis-nandy"}, "edited": false, "score": 0, "creation_date": 1557327120, "post_id": 54772374, "comment_id": 98729018, "body": "hey I tried this 16.1.0 in all emulator from KitKat(4.4) to pie it works absolutely fine."}, {"owner": {"reputation": 798, "user_id": 3692177, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/EJrNt.jpg?s=128&g=1", "display_name": "SebasSBM", "link": "https://stackoverflow.com/users/3692177/sebassbm"}, "edited": false, "score": 0, "creation_date": 1561712803, "post_id": 54772374, "comment_id": 100162218, "body": "<code>Now Google fixes the issue you can use this latest gradle dependency.</code> Are you sure? Nowadays I had the same issue with <code>v16.1.0</code>; downgraded to <code>v16.0.0</code> and it solved the problem..."}, {"owner": {"reputation": 516, "user_id": 10118242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7BBU.jpg?s=128&g=1", "display_name": "Debashis Nandy", "link": "https://stackoverflow.com/users/10118242/debashis-nandy"}, "edited": false, "score": 0, "creation_date": 1562032145, "post_id": 54772374, "comment_id": 100240124, "body": "In My current project, I have used this dependency and my app works absolutely fine."}, {"owner": {"reputation": 516, "user_id": 10118242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7BBU.jpg?s=128&g=1", "display_name": "Debashis Nandy", "link": "https://stackoverflow.com/users/10118242/debashis-nandy"}, "edited": false, "score": 0, "creation_date": 1562202445, "post_id": 54772374, "comment_id": 100307473, "body": "Thank you for sharing your experience with this awesome programming community. I have edited my post."}], "tags": [], "owner": {"reputation": 516, "user_id": 10118242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7BBU.jpg?s=128&g=1", "display_name": "Debashis Nandy", "link": "https://stackoverflow.com/users/10118242/debashis-nandy"}, "is_accepted": true, "score": 24, "last_activity_date": 1562202349, "last_edit_date": 1562202349, "creation_date": 1550599400, "answer_id": 54772374, "question_id": 54771375, "link": "https://stackoverflow.com/questions/54771375/app-is-having-trouble-with-google-play-services-please-try-again/54772374#54772374", "title": "App is having trouble with Google Play Services. Please try again", "body": "<p>I solved this problem.</p>\n\n<p>By changing app level gradle dependencies</p>\n\n<p>from this</p>\n\n<pre><code>implementation 'com.google.android.gms:play-services-maps:16.1.0'\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>implementation 'com.google.android.gms:play-services-maps:16.0.0'\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>Now i can use this latest gradle dependency. It works fine for me.</p>\n\n<pre><code>implementation 'com.google.android.gms:play-services-maps:16.1.0'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 482, "user_id": 2064906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f973ed22deafd48758a53e838ea68539?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/2064906/sharad"}, "edited": false, "score": 0, "creation_date": 1560736557, "post_id": 55672097, "comment_id": 99820472, "body": "use this one  ---  implementation &#39;com.google.android.gms:play-services-maps:16.1.0&#39;  ----Don&#39;t forget to update google play services on emulator. You need to login to update google play services. I have 17.4.55 play services and its working with 16.1.0."}], "tags": [], "owner": {"reputation": 2395, "user_id": 2376004, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/DhIW1.png?s=128&g=1", "display_name": "Bad Loser", "link": "https://stackoverflow.com/users/2376004/bad-loser"}, "is_accepted": false, "score": -1, "last_activity_date": 1555218048, "creation_date": 1555218048, "answer_id": 55672097, "question_id": 54771375, "link": "https://stackoverflow.com/questions/54771375/app-is-having-trouble-with-google-play-services-please-try-again/55672097#55672097", "title": "App is having trouble with Google Play Services. Please try again", "body": "<p>Check that the variant (<em>release</em>/<em>debug</em>) that you are building is properly signed...</p>\n\n<p>Right-click <em>module</em> => <strong>Open Module settings</strong><br>\nUnder <strong>Build Types</strong> check <strong>Signing Config</strong></p>\n\n<pre><code>api 'com.google.android.gms:play-services-maps:16.1.0'\n</code></pre>\n\n<p>Above works fine for me in real world - but I don't use the emulator. </p>\n\n<p>AS 3.3.2 / Plugin 3.3.2 / Gradle 4.10.2 / compileSdkVersion 28 / buildToolsVersion \"28.0.3\"</p>\n"}, {"comments": [{"owner": {"reputation": 871, "user_id": 5870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090afb28f773c2af4cc4633b698a2af7?s=128&d=identicon&r=PG", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/5870824/parth-patel"}, "edited": false, "score": 0, "creation_date": 1556342547, "post_id": 55835103, "comment_id": 98414387, "body": "This solution is perfect for an emulator"}, {"owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "edited": false, "score": 0, "creation_date": 1556887481, "post_id": 55835103, "comment_id": 98590785, "body": "if you don&#39;t have the <code>Google Play</code> setting, means you are not using a <code>Google Play</code> image."}, {"owner": {"reputation": 877, "user_id": 847449, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c76dd2c64a9e329a9fabc774929c0dd4?s=128&d=identicon&r=PG", "display_name": "arsenik", "link": "https://stackoverflow.com/users/847449/arsenik"}, "edited": false, "score": 0, "creation_date": 1557063964, "post_id": 55835103, "comment_id": 98632942, "body": "I had to launch Google Play and sign in with a google account. Then update the Google Play service from the Google store."}], "tags": [], "owner": {"reputation": 111, "user_id": 3426262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee54bd0a76c93c09680573b1d6df0fd6?s=128&d=identicon&r=PG&f=1", "display_name": "csk", "link": "https://stackoverflow.com/users/3426262/csk"}, "is_accepted": false, "score": 10, "last_activity_date": 1556125655, "last_edit_date": 1556125655, "creation_date": 1556125040, "answer_id": 55835103, "question_id": 54771375, "link": "https://stackoverflow.com/questions/54771375/app-is-having-trouble-with-google-play-services-please-try-again/55835103#55835103", "title": "App is having trouble with Google Play Services. Please try again", "body": "<p>I also had this problem and when I changed the dependencies to <code>implementation 'com.google.android.gms:play-services-maps:16.0.0'</code> the map was not loading.</p>\n\n<p>So I updated Google Play Services on my emulator:</p>\n\n<p><a href=\"https://i.stack.imgur.com/C5gUQ.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/C5gUQ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>After that, I had to sign in to access the Play Store and then I could update Google Play Services.</p>\n\n<p>Finally, I let the dependency as <code>implementation 'com.google.android.gms:play-services-maps:16.1.0'</code></p>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1557237233, "post_id": 55860860, "comment_id": 98692103, "body": "What emulator version did you use? On API 19 it doesn&#39;t contain Chrome. I tried to install with a browser, it said that GPS had already existed on the emulator. After that tried to show Google Maps (in my appllication), but it again showed an error that GPS were not installed."}], "tags": [], "owner": {"reputation": 410, "user_id": 7514409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5d02db79d41dc3e5a71aac40f5c241b?s=128&d=identicon&r=PG&f=1", "display_name": "pianoman102", "link": "https://stackoverflow.com/users/7514409/pianoman102"}, "is_accepted": false, "score": 0, "last_activity_date": 1556253213, "creation_date": 1556253213, "answer_id": 55860860, "question_id": 54771375, "link": "https://stackoverflow.com/questions/54771375/app-is-having-trouble-with-google-play-services-please-try-again/55860860#55860860", "title": "App is having trouble with Google Play Services. Please try again", "body": "<p>A little late, but I have been having this issue as well. Changing the dependencies as has been suggested here hasn't worked for me. What did work was actually going into chrome on the emulator and searching for Google Play Services. Click on the suggested link to the app store for it and it should take you to the Play Store in the browser. Click on the button at the bottom to open it in the app store on the emulator (because searching for it in the play store doesn't actually bring it up, you have to go through a browser), and hopefully it gives you the option to update Google Play Services. It worked perfect for me after that!</p>\n"}], "owner": {"reputation": 516, "user_id": 10118242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7BBU.jpg?s=128&g=1", "display_name": "Debashis Nandy", "link": "https://stackoverflow.com/users/10118242/debashis-nandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12814, "favorite_count": 1, "accepted_answer_id": 54772374, "answer_count": 4, "score": 12, "last_activity_date": 1562202349, "creation_date": 1550595549, "question_id": 54771375, "link": "https://stackoverflow.com/questions/54771375/app-is-having-trouble-with-google-play-services-please-try-again", "title": "App is having trouble with Google Play Services. Please try again", "body": "<p>I have done this code several times. But from today morning i see this problem occurs. This is a basic code to show a map layout. And showing this error to me. And also I entered the API key correctly.<a href=\"https://i.stack.imgur.com/XB5rp.png\" rel=\"noreferrer\">Screen Shot of Emulator</a>I searched for other StackOverflow posts but nothing workes for me.</p>\n\n<pre><code>package com.example.maptest\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\n\nimport com.google.android.gms.maps.CameraUpdateFactory\nimport com.google.android.gms.maps.GoogleMap\nimport com.google.android.gms.maps.OnMapReadyCallback\nimport com.google.android.gms.maps.SupportMapFragment\nimport com.google.android.gms.maps.model.LatLng\nimport com.google.android.gms.maps.model.MarkerOptions\n\nclass MapsActivity : AppCompatActivity(), OnMapReadyCallback {\n\n    private lateinit var mMap: GoogleMap\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_maps)\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        val mapFragment = supportFragmentManager\n            .findFragmentById(R.id.map) as SupportMapFragment\n        mapFragment.getMapAsync(this)\n    }\n\n    /**\n     * Manipulates the map once available.\n     * This callback is triggered when the map is ready to be used.\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\n     * we just add a marker near Sydney, Australia.\n     * If Google Play services is not installed on the device, the user will be prompted to install\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\n     * installed Google Play services and returned to the app.\n     */\n    override fun onMapReady(googleMap: GoogleMap) {\n        mMap = googleMap\n\n        // Add a marker in Sydney and move the camera\n        val sydney = LatLng(-34.0, 151.0)\n        mMap.addMarker(MarkerOptions().position(sydney).title(\"Marker in Sydney\"))\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney))\n    }\n}\n</code></pre>\n\n<p><strong>Xml file:-</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;fragment xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      xmlns:tools=\"http://schemas.android.com/tools\"\n      xmlns:map=\"http://schemas.android.com/apk/res-auto\"\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"match_parent\"\n      android:id=\"@+id/map\"\n      tools:context=\".MapsActivity\"\n      android:name=\"com.google.android.gms.maps.SupportMapFragment\"/&gt;\n</code></pre>\n\n<p><strong>App level gradle:-</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.example.maptest\"\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.google.android.gms:play-services-maps:16.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n\n<p>Project level gradle:-</p>\n\n<pre><code>    // Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.3.21'\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["java", "rest", "kotlin", "task"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9772620"}, "edited": false, "score": 0, "creation_date": 1550592213, "post_id": 54770113, "comment_id": 96320772, "body": "this question seems way too broad to me.  Too many questions...too open ended."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9772620"}, "edited": false, "score": 0, "creation_date": 1550592327, "post_id": 54770113, "comment_id": 96320849, "body": "...and what does being alone on a project have to do with using cloud services?  leveraging existing services is exactly what you should want to do if you&#39;re a single programmer rather than a team of 10."}, {"owner": {"reputation": 842, "user_id": 4410409, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9a4e809960127f675d3f396fdb9a7bf8?s=128&d=identicon&r=PG&f=1", "display_name": "Gorgia666", "link": "https://stackoverflow.com/users/4410409/gorgia666"}, "edited": false, "score": 0, "creation_date": 1550602375, "post_id": 54770113, "comment_id": 96326273, "body": "@JoeAdmin, you are right about cloud service. I have edited my question; I cannot use them due to company policies. Is really the question that broad? I\u2019m merely looking for suggestion and examples in order to build a WEB UI for spawning long task with  some of the mentioned technologies"}, {"owner": {"reputation": 879, "user_id": 4511375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d62125a37880d73442f533a265fa2f?s=128&d=identicon&r=PG&f=1", "display_name": "Investigator", "link": "https://stackoverflow.com/users/4511375/investigator"}, "edited": false, "score": 1, "creation_date": 1550602434, "post_id": 54770113, "comment_id": 96326306, "body": "Have you checked the JHipster (<a href=\"https://www.jhipster.tech/\" rel=\"nofollow noreferrer\">jhipster.tech</a>) ? It is the perfect tool to bootstrap a new project especially &quot;when you are alone&quot; or you need something fast and the resources that you have are not enough. Related to the scheduler have you considered the ScheduledExecutorService or the @Scheduled annotation ?"}], "owner": {"reputation": 842, "user_id": 4410409, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9a4e809960127f675d3f396fdb9a7bf8?s=128&d=identicon&r=PG&f=1", "display_name": "Gorgia666", "link": "https://stackoverflow.com/users/4410409/gorgia666"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550602095, "creation_date": 1550591220, "last_edit_date": 1550602095, "question_id": 54770113, "link": "https://stackoverflow.com/questions/54770113/rest-interface-to-configure-spawn-monitor-stop-long-tasks-java", "title": "rest interface to configure, spawn, monitor, stop long tasks java", "body": "<p>I'm looking for suggestion about this project.\nI would like to build a web ui from which configure, launch, monitor, long lived task (potentially weeks).<br>\nI was thinking of a mongodb database where to write configuration and a monitoring service from which detect change and eventually spawn new tasks.\nHowever this solution has lots of issues and drawbacks:  </p>\n\n<ul>\n<li>If a service died? how should I know, present part of the result (or the cuase of fail) to the user?  </li>\n<li>If i want to monitor the service (i.e. how much data it is collecting) where shoud i write this info? (maybe i can write them to mongo)  </li>\n<li>If i want to stop a service? I may write the stop condition to mongo (a boolean in the configuration document?)\nDo you know some example project? It can be considered a task list with a real running task behind it.\nOther info that could be related to the problem: I write usually in kotlin (coroutines look like a good alternative I need to study them thoroughly), I use Spring, Camel, and Kafka. I have an ELK stack where to put the message, I'm planning to write the UI with Vue.js (the web server is node.js at the moment). I don't want to use any cloud service. I'm alone on this project.</li>\n</ul>\n"}, {"tags": ["android", "kotlin", "realm", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1550590628, "post_id": 54769574, "comment_id": 96319788, "body": "I assume you have some build error which makes the annotation processing fail. Have you tried checking the build tab / compiler output?"}, {"owner": {"reputation": 11571, "user_id": 1830228, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/8Yfo5.png?s=128&g=1", "display_name": "DolDurma", "link": "https://stackoverflow.com/users/1830228/doldurma"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550595232, "post_id": 54769574, "comment_id": 96322596, "body": "@EpicPandaForce is this what you want to know that: <a href=\"http://paste.debian.net/1068972/\" rel=\"nofollow noreferrer\">paste.debian.net/1068972</a> ?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550595532, "post_id": 54769574, "comment_id": 96322766, "body": "Unfortunately this is just the other side of it aka gradle&#39;s error message (see the exception message saying you should check the compiler output for details :P <code>Caused by: org.gradle.api.internal.tasks.compile.CompilationFailedExcep&zwnj;&#8203;tion: Compilation failed; see the compiler error output for details.</code>) so you should check <a href=\"https://stackoverflow.com/questions/16633956/android-studio-where-is-the-compiler-error-output-window/48005426#48005426\" title=\"android studio where is the compiler error output window\">stackoverflow.com/questions/16633956/&hellip;</a>"}, {"owner": {"reputation": 11571, "user_id": 1830228, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/8Yfo5.png?s=128&g=1", "display_name": "DolDurma", "link": "https://stackoverflow.com/users/1830228/doldurma"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550596870, "post_id": 54769574, "comment_id": 96323476, "body": "@EpicPandaForce I&#39;m so sorry, <a href=\"http://paste.debian.net/1068977/\" rel=\"nofollow noreferrer\">paste.debian.net/1068977</a>  and  full debug link  <a href=\"https://paste.ubuntu.com/p/7m2B5VFsF8/\" rel=\"nofollow noreferrer\">paste.ubuntu.com/p/7m2B5VFsF8</a>"}, {"owner": {"reputation": 11571, "user_id": 1830228, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/8Yfo5.png?s=128&g=1", "display_name": "DolDurma", "link": "https://stackoverflow.com/users/1830228/doldurma"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550598452, "post_id": 54769574, "comment_id": 96324276, "body": "@EpicPandaForce could you know whats problem?"}, {"owner": {"reputation": 11571, "user_id": 1830228, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/8Yfo5.png?s=128&g=1", "display_name": "DolDurma", "link": "https://stackoverflow.com/users/1830228/doldurma"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550599192, "post_id": 54769574, "comment_id": 96324648, "body": "@EpicPandaForce removing Realm from project resolve my problem"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550599637, "post_id": 54769574, "comment_id": 96324920, "body": "It looks like you&#39;re using <code>annotationProcessor</code> scope for Dagger even though you&#39;re using <code>kapt</code>?"}, {"owner": {"reputation": 11571, "user_id": 1830228, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/8Yfo5.png?s=128&g=1", "display_name": "DolDurma", "link": "https://stackoverflow.com/users/1830228/doldurma"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550600074, "post_id": 54769574, "comment_id": 96325151, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/188697/discussion-between-doldurma-and-epicpandaforce\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 11571, "user_id": 1830228, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/8Yfo5.png?s=128&g=1", "display_name": "DolDurma", "link": "https://stackoverflow.com/users/1830228/doldurma"}, "is_accepted": false, "score": 2, "last_activity_date": 1550609287, "creation_date": 1550609287, "answer_id": 54774668, "question_id": 54769574, "link": "https://stackoverflow.com/questions/54769574/adding-kotlin-kapt-cause-of-getting-can-not-resolve-symbol-daggerapplicationcomp/54774668#54774668", "title": "adding kotlin-kapt cause of getting Can not resolve symbol DaggerApplicationComponent error", "body": "<p>Problem resolved, after change <code>annotationProcessor</code> to kapt</p>\n"}], "owner": {"reputation": 11571, "user_id": 1830228, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/8Yfo5.png?s=128&g=1", "display_name": "DolDurma", "link": "https://stackoverflow.com/users/1830228/doldurma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1550609287, "creation_date": 1550589568, "last_edit_date": 1550590594, "question_id": 54769574, "link": "https://stackoverflow.com/questions/54769574/adding-kotlin-kapt-cause-of-getting-can-not-resolve-symbol-daggerapplicationcomp", "title": "adding kotlin-kapt cause of getting Can not resolve symbol DaggerApplicationComponent error", "body": "<p>I did not already have any problem with <code>Dagger</code> as far i don't add <code>Realm</code> in my project, after adding that on my project i expect i can build successful my project but i get this error now:</p>\n\n<pre><code>Can not resolve symbol DaggerApplicationComponent\n</code></pre>\n\n<p>i want to need <code>Realm</code> on my application and i can't remove that, but i dont get any other error on <code>Logcat</code> to know whats problem and i should be fix that and I'm not sure how can i resolve this problem</p>\n\n<p>when i have this lines in build.gradle i dont have problem </p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'com.jakewharton.hugo'\napply plugin: 'com.novoda.bintray-release'\n</code></pre>\n\n<p>but after adding <code>Realm</code> i get </p>\n\n<pre><code>Configuration with name 'kapt' not found\n</code></pre>\n\n<p>error, and after adding <code>kotlin-kapt</code> to this file i get </p>\n\n<pre><code>Can not resolve symbol DaggerApplicationComponent\n</code></pre>\n\n<p>error, for example:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\napply plugin: 'com.jakewharton.hugo'\napply plugin: 'com.novoda.bintray-release'\napply plugin: 'realm-android'\n</code></pre>\n"}, {"tags": ["java", "json", "kotlin", "jackson"], "comments": [{"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "edited": false, "score": 0, "creation_date": 1550589125, "post_id": 54768761, "comment_id": 96318758, "body": "Could you also provide a <code>JSON</code> <code>payload</code>?"}, {"owner": {"reputation": 669, "user_id": 4910896, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7F1pH.jpg?s=128&g=1", "display_name": "Juanca", "link": "https://stackoverflow.com/users/4910896/juanca"}, "reply_to_user": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "edited": false, "score": 0, "creation_date": 1550590724, "post_id": 54768761, "comment_id": 96319861, "body": "sure, check the edit please"}, {"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "edited": false, "score": 1, "creation_date": 1550591413, "post_id": 54768761, "comment_id": 96320323, "body": "I see you also use custome deserialiser - <code>AsymmetricDeserializerString</code>. It also could generate a problem. Could you please show it as well?"}, {"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "edited": false, "score": 1, "creation_date": 1550592219, "post_id": 54768761, "comment_id": 96320775, "body": "your <code>JSON</code> <code>payload</code> looks fine. I think it could be linked with <code>Kotlin</code> language specification and <code>not-null</code> parameters. Take a look on <a href=\"https://github.com/FasterXML/jackson-module-kotlin/issues/87\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-module-kotlin/issues/87</a>"}, {"owner": {"reputation": 32972, "user_id": 150978, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/150978/robert"}, "edited": false, "score": 0, "creation_date": 1550603509, "post_id": 54768761, "comment_id": 96326728, "body": "Jackon requires by default an no-arg constructor for each class. This constructor does not have to be public. Your model classes have only one constructor that takes multiple arguments."}, {"owner": {"reputation": 669, "user_id": 4910896, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7F1pH.jpg?s=128&g=1", "display_name": "Juanca", "link": "https://stackoverflow.com/users/4910896/juanca"}, "reply_to_user": {"reputation": 32972, "user_id": 150978, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/150978/robert"}, "edited": false, "score": 0, "creation_date": 1550605897, "post_id": 54768761, "comment_id": 96327841, "body": "@Robert but kotlin requires at least one arg constructor for data classes, I am confused"}], "owner": {"reputation": 669, "user_id": 4910896, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7F1pH.jpg?s=128&g=1", "display_name": "Juanca", "link": "https://stackoverflow.com/users/4910896/juanca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1739, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550603116, "creation_date": 1550587173, "last_edit_date": 1550603116, "question_id": 54768761, "link": "https://stackoverflow.com/questions/54768761/jsondeserialize-throws-json-parse-error-on-request-in-kotlin", "title": "JsonDeserialize throws JSON parse error on request in Kotlin", "body": "<p>I am trying to use Jackson's JsonDeserialize in Kotlin, but I am having problems setting up the data classes. I get the following error when I throw a request to the controller.</p>\n\n<blockquote>\n  <p>JSON parse error: Instantiation of [simple type, class co.com.bancodebogota.customer.accounts.entities.Customer] value failed for JSON property identificationNumber due to missing (therefore NULL) value for creator parameter identificationNumber which is a non-nullable type</p>\n</blockquote>\n\n<p>My data classes looks like this --> </p>\n\n<pre><code>data class BalanceByAccountRq @JsonCreator constructor(\n    @JsonProperty(\"customer\") var customer: Customer,\n    @JsonProperty(\"account\") var account: Account,\n    @JsonProperty(\"ipAddress\") var ipAddress: String,\n    @JsonProperty(\"bankId\") var bankId: String)\n\ndata class Customer @JsonCreator constructor(\n    @JsonProperty(\"identificationNumber\") @JsonDeserialize(using = AsymmetricDeserializerString::class) var identificationNumber: String,\n    @JsonProperty(\"identificationType\") var identificationType: String)\n\ndata class Account @JsonCreator constructor(\n    @JsonProperty(\"accountId\") var accountId: String,\n    @JsonProperty(\"accountType\") var accountType: String)\n</code></pre>\n\n<p>If I remove the JsonProperty does not make any difference</p>\n\n<p>Has anybody used this in kotlin? Am I missing something?</p>\n\n<p>This is the application class</p>\n\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration\n@ComponentScan(basePackages = arrayOf(\"co.com.adl\", \"co.com.bancodebogota\"))\n@EnableConfigurationProperties\nclass PbBbogAvalProductBalanceDetailApplication\n\n    fun main(args: Array&lt;String&gt;) {\n        SpringApplication.run(PbBbogAvalProductBalanceDetailApplication::class.java, *args)\n    }\n\n    @Bean\n    @Throws(NoSuchAlgorithmException::class, NoSuchPaddingException::class)\n    fun asymmetricCryptography(): AsymmetricCryptography {\n        return AsymmetricCryptography();\n    }\n</code></pre>\n\n<p>And the controller: </p>\n\n<pre><code>@PostMapping(\"/balance\")\nfun getBalanceByAccount(@RequestBody @Valid rq: BalanceByAccountRq, resultOfValidation: BindingResult): ResponseEntity&lt;BalanceByAccountRs&gt; {\n    System.out.println(rq);\n    if (resultOfValidation.hasErrors()) {\n        var fieldErrors : List&lt;FieldError&gt; = resultOfValidation.getFieldErrors();\n        throw RequiredValidator(ERROR_PARAMETROS_DE_ENTRADA, fieldErrors);\n    } else {\n        return gbba.getBalanceByAccount(rq);\n    }\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Payload:</p>\n\n<pre><code>{\n    \"customer\": {\n        \"identificationNumber\": \"80026300\",\n        \"identificationType\": \"CC\"\n    },\n    \"account\": {\n        \"accountId\": \"8929932\",\n        \"accountType\":\"SDA\"\n    },\n    \"bankId\": \"0052\",\n    \"ipAddress\": \"192.168.0.1\"\n}\n</code></pre>\n\n<p>In dev profile does not decrypt, therefore the parameter is not encrypted in this payload. This works fine in a java8 microservice</p>\n"}, {"tags": ["android", "lambda", "kotlin", "callback"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1550649615, "post_id": 54768112, "comment_id": 96341440, "body": "You need to fix the syntax for the anonymous class."}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1550651448, "last_edit_date": 1550651448, "creation_date": 1550585011, "answer_id": 54768112, "question_id": 54767997, "link": "https://stackoverflow.com/questions/54767997/how-to-use-lambda-expression-in-kotlin-android-with-classes-that-has-two-or-more/54768112#54768112", "title": "How to use lambda expression in kotlin android with classes that has two or more callback methods", "body": "<p>It is not possible. Lambda expressions are only a single method.</p>\n\n<p>There is a workaround. You may create your own extension function that takes two lambdas:</p>\n\n<pre><code>fun Service.MakeApiCall(success: (View) -&gt; Unit, \n                        error: (String) -&gt; Unit) {\n     MakeApiCall(object: OnCallListener {\n        override fun onSuccess(v: View) {\n            success(v)\n        }\n\n        override fun onError(x: String) {\n            error(x)\n        }\n    })\n}\n</code></pre>\n\n<p>The API you try to mimic looks similar to the Observer pattern. Probably, Kotlin Coroutines will help \n<a href=\"https://kotlinlang.org/docs/reference/coroutines-overview.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coroutines-overview.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "is_accepted": false, "score": 1, "last_activity_date": 1550585445, "last_edit_date": 1550585445, "creation_date": 1550585143, "answer_id": 54768160, "question_id": 54767997, "link": "https://stackoverflow.com/questions/54767997/how-to-use-lambda-expression-in-kotlin-android-with-classes-that-has-two-or-more/54768160#54768160", "title": "How to use lambda expression in kotlin android with classes that has two or more callback methods", "body": "<p>Lambdas can be applied only for functional interfaces. Use object instead</p>\n\n<pre><code>val listener = object : OnCallListener() {\n        override fun onSuccess(v: View) {\n            //some code\n        }\n\n        override fun onError(x: String){\n            //some code\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 7632040, "user_type": "registered", "profile_image": "https://graph.facebook.com/1580897178593671/picture?type=large", "display_name": "Mina Shaker", "link": "https://stackoverflow.com/users/7632040/mina-shaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550651448, "creation_date": 1550584652, "question_id": 54767997, "link": "https://stackoverflow.com/questions/54767997/how-to-use-lambda-expression-in-kotlin-android-with-classes-that-has-two-or-more", "title": "How to use lambda expression in kotlin android with classes that has two or more callback methods", "body": "<p>Let's make a scenario we have onClickListener() in java</p>\n\n<pre><code>view.setOnClickListener(new OnClickListener() {\n@Override\npublic void onClick(View v) {\n    Toast.makeText(v.getContext(), \"Click\", Toast.LENGTH_SHORT).show();\n}});\n</code></pre>\n\n<p>we can use lambda expressions in kotlin to make it easier</p>\n\n<pre><code> view.setOnClickListener({ view -&gt; toast(\"Click\")})\n</code></pre>\n\n<p>what if we have a class or interface with two callbacks or more,\nlike this one:-</p>\n\n<pre><code>Service.MakeApiCall(new OnCallListener() {\n  @Override\n  public void onSuccess(View v) {\n    //some code\n  }\n\n  @Override\n  public void onError(String x){\n    //some code\n  }\n});\n</code></pre>\n\n<p>How to use Lambda expression in this situation like the OnClickListener Example</p>\n"}, {"tags": ["kotlin", "data-class"], "comments": [{"owner": {"reputation": 392, "user_id": 3474594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6b6e430bba0b548b174385671cb741?s=128&d=identicon&r=PG&f=1", "display_name": "szymon_prz", "link": "https://stackoverflow.com/users/3474594/szymon-prz"}, "edited": false, "score": 0, "creation_date": 1550583747, "post_id": 54767493, "comment_id": 96315445, "body": "are you sure that you have &quot;q&quot; and &quot;search&quot; elements inside your JSONObject during initialization?"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1550584726, "post_id": 54767493, "comment_id": 96316058, "body": "It can be GSON that overwrites these fields while deserialization.  <a href=\"https://github.com/google/gson/blob/master/UserGuide.md#TOC-Excluding-Fields-From-Serialization-and-Deserialization\" rel=\"nofollow noreferrer\">github.com/google/gson/blob/master/&hellip;</a>"}, {"owner": {"reputation": 2317, "user_id": 1135245, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5c183921b037a72e762d910fd012b835?s=128&d=identicon&r=PG", "display_name": "shantanu", "link": "https://stackoverflow.com/users/1135245/shantanu"}, "reply_to_user": {"reputation": 392, "user_id": 3474594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6b6e430bba0b548b174385671cb741?s=128&d=identicon&r=PG&f=1", "display_name": "szymon_prz", "link": "https://stackoverflow.com/users/3474594/szymon-prz"}, "edited": false, "score": 0, "creation_date": 1550637794, "post_id": 54767493, "comment_id": 96336977, "body": "@laughter Yes, key field contains a json object"}], "answers": [{"comments": [{"owner": {"reputation": 2317, "user_id": 1135245, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5c183921b037a72e762d910fd012b835?s=128&d=identicon&r=PG", "display_name": "shantanu", "link": "https://stackoverflow.com/users/1135245/shantanu"}, "edited": false, "score": 0, "creation_date": 1550995209, "post_id": 54769068, "comment_id": 96472010, "body": "Thanks, your way works, just need to add filed != null check. Please update the answer, I&#39;m marking it as correct answer."}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 2317, "user_id": 1135245, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5c183921b037a72e762d910fd012b835?s=128&d=identicon&r=PG", "display_name": "shantanu", "link": "https://stackoverflow.com/users/1135245/shantanu"}, "edited": false, "score": 0, "creation_date": 1551050356, "post_id": 54769068, "comment_id": 96486555, "body": "@shantanu, there&#39;s no need to add a not <code>null</code> check since this variables aren&#39;t <code>nullable</code> :)"}, {"owner": {"reputation": 2317, "user_id": 1135245, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5c183921b037a72e762d910fd012b835?s=128&d=identicon&r=PG", "display_name": "shantanu", "link": "https://stackoverflow.com/users/1135245/shantanu"}, "edited": false, "score": 0, "creation_date": 1551070889, "post_id": 54769068, "comment_id": 96490320, "body": "But filed.isEmptry() is getting null pointer, because initially query or search is empty (null)"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 2317, "user_id": 1135245, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5c183921b037a72e762d910fd012b835?s=128&d=identicon&r=PG", "display_name": "shantanu", "link": "https://stackoverflow.com/users/1135245/shantanu"}, "edited": false, "score": 1, "creation_date": 1551084119, "post_id": 54769068, "comment_id": 96495229, "body": "@shantanu, I see, edited my answer"}], "tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": true, "score": 8, "last_activity_date": 1551166459, "last_edit_date": 1551166459, "creation_date": 1550588110, "answer_id": 54769068, "question_id": 54767493, "link": "https://stackoverflow.com/questions/54767493/data-class-init-function-is-not-called-when-object-generated-from-gson-in-kotlin/54769068#54769068", "title": "Data class init function is not called when object generated from GSON in kotlin", "body": "<p><code>init</code> block is only executed when primary constructor is called. But <code>gson</code> doesn't call primary constructor when parsing json to object.</p>\n\n<p>To solve this, I think, you should implement <code>query</code> and <code>search</code> as a get method or use lazy init. Something like this:</p>\n\n<pre><code>data class Configuration(val groupId: Int, val key: String, val source: String) {\n    var query: String = \"\"\n        get() {\n            if (field == null) {\n                initInternal()\n            }\n            return field\n        }\n        private set\n\n    var search: String? = null\n        get() {\n            if (field == null) {\n                initInternal()\n            }\n            return field\n        }\n        private set\n\n    private fun initInternal() {\n        val obj = JSONObject(key)\n        query = obj.getString(\"q\")\n        search = obj.getString(\"search\")\n    }\n}\n</code></pre>\n\n<p>or any other approach which will suite best to your requirements.</p>\n"}], "owner": {"reputation": 2317, "user_id": 1135245, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5c183921b037a72e762d910fd012b835?s=128&d=identicon&r=PG", "display_name": "shantanu", "link": "https://stackoverflow.com/users/1135245/shantanu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2079, "favorite_count": 0, "closed_date": 1550588175, "accepted_answer_id": 54769068, "answer_count": 1, "score": 8, "last_activity_date": 1551166459, "creation_date": 1550583119, "question_id": 54767493, "link": "https://stackoverflow.com/questions/54767493/data-class-init-function-is-not-called-when-object-generated-from-gson-in-kotlin", "closed_reason": "Duplicate", "title": "Data class init function is not called when object generated from GSON in kotlin", "body": "<p>I'm using <code>Gsson</code> to convert <code>JSON to Kotlin data class</code>. While creating data class object I want to parse the value in <code>init</code> method. But <code>init</code> never called and generated object's values are null.</p>\n\n<pre><code>data class Configuration (val groupId:Int, val key:String, val source:String){\n    val query:String\n    val search:String\n    init {\n        val obj = JSONObject(key)\n        query = obj.getString(\"q\")\n        search = obj.getString(\"search\")\n    }\n}\n</code></pre>\n\n<p>When I got the object of Configuration from <code>Gson</code>, <code>query</code> and <code>search</code> value is always <code>null</code> and <code>init</code> block was never executed. I also tried <code>constructor</code> and without <code>data</code> keyword, results are same.</p>\n"}, {"tags": ["android", "kotlin", "navigation", "material-design", "android-bottomappbar"], "answers": [{"comments": [{"owner": {"reputation": 612, "user_id": 5869630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Iuxo.jpg?s=128&g=1", "display_name": "roghayeh hosseini", "link": "https://stackoverflow.com/users/5869630/roghayeh-hosseini"}, "edited": false, "score": 2, "creation_date": 1567009654, "post_id": 54768601, "comment_id": 101837492, "body": "for remove left margin use this lines in BottomAppBar: app:contentInsetLeft=&quot;0dp&quot;     app:contentInsetStart=&quot;0dp&quot;"}, {"owner": {"reputation": 612, "user_id": 5869630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Iuxo.jpg?s=128&g=1", "display_name": "roghayeh hosseini", "link": "https://stackoverflow.com/users/5869630/roghayeh-hosseini"}, "edited": false, "score": 0, "creation_date": 1567009873, "post_id": 54768601, "comment_id": 101837582, "body": "for center item when overlap by FAB, use empty item in menu xml file"}], "tags": [], "owner": {"reputation": 119, "user_id": 10035225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e1029d37b5b6189127a7d0b13f1cb62?s=128&d=identicon&r=PG&f=1", "display_name": "Philemon Khor", "link": "https://stackoverflow.com/users/10035225/philemon-khor"}, "is_accepted": false, "score": 0, "last_activity_date": 1550586639, "creation_date": 1550586639, "answer_id": 54768601, "question_id": 54767397, "link": "https://stackoverflow.com/questions/54767397/bottom-app-bar-problem-with-placing-icons/54768601#54768601", "title": "Bottom app bar problem with placing icons", "body": "<p>The icons in the your BottomAppBar are regular <strong>action icons</strong> just like the ones in a regular <strong>Toolbar</strong>. So, you can't really position them like the one in the first picture as they will align to the <strong>right</strong>.</p>\n\n<p>However, I managed to achieve something that is visually similar by nesting a <a href=\"https://material.io/develop/android/components/bottom-navigation-view/\" rel=\"nofollow noreferrer\">BottomNavigationView</a> inside a BottomAppBar like this:</p>\n\n<pre><code>    &lt;com.google.android.material.bottomappbar.BottomAppBar\n        android:id=\"@+id/bottom_app_bar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"bottom\"\n        app:fabAlignmentMode=\"center\"\n        app:fabAnimationMode=\"scale\"\n        app:hideOnScroll=\"true\"\n        app:layout_scrollFlags=\"scroll|enterAlways\"&gt;\n\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=\"@+id/navigation\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginRight=\"16dp\"\n            app:menu=\"@menu/bottom_navigation_menu\" /&gt;\n\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=\"@+id/fab\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:src=\"@drawable/fab_icon\"\n        app:layout_anchor=\"@id/bottom_app_bar\" /&gt;\n</code></pre>\n\n<p>You might notice that there's an extra <code>android:layout_marginRight=\"16dp\"</code> attribute in the BottomNavigationView. Try to remove it and you will notice that the BottomNavigationView is pushed to the right and it is not aligned properly in the middle. So, by adding the right margin, it will be aligned perfectly.</p>\n\n<p>Here's a tutorial to guide you on implementing the BottomNavigationView: <a href=\"https://code.tutsplus.com/tutorials/how-to-code-a-bottom-navigation-bar-for-an-android-app--cms-30305\" rel=\"nofollow noreferrer\">https://code.tutsplus.com/tutorials/how-to-code-a-bottom-navigation-bar-for-an-android-app--cms-30305</a></p>\n\n<p>Not sure whether this is the right way but it works. Happy coding!</p>\n"}, {"comments": [{"owner": {"reputation": 339, "user_id": 6301817, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QA1pK.jpg?s=128&g=1", "display_name": "Jendorski Labs", "link": "https://stackoverflow.com/users/6301817/jendorski-labs"}, "edited": false, "score": 0, "creation_date": 1577316838, "post_id": 54769081, "comment_id": 105141449, "body": "This is cool, but i used <code>Linear Layout</code> and set the <code>weightSum</code> to the number of images i wanted to use, then use the <code>layout_weight</code> to define the width for each image"}, {"owner": {"reputation": 1659, "user_id": 2200711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ulo4v.jpg?s=128&g=1", "display_name": "Saadat Sayem", "link": "https://stackoverflow.com/users/2200711/saadat-sayem"}, "edited": false, "score": 0, "creation_date": 1579972353, "post_id": 54769081, "comment_id": 105948105, "body": "Can I use navigation view with nav controller with this???@amatkivskly"}, {"owner": {"reputation": 456, "user_id": 2627884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1a57932fcf6872c119c3c6e365b86c?s=128&d=identicon&r=PG", "display_name": "amatkivskiy", "link": "https://stackoverflow.com/users/2627884/amatkivskiy"}, "reply_to_user": {"reputation": 1659, "user_id": 2200711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ulo4v.jpg?s=128&g=1", "display_name": "Saadat Sayem", "link": "https://stackoverflow.com/users/2200711/saadat-sayem"}, "edited": false, "score": 0, "creation_date": 1580094910, "post_id": 54769081, "comment_id": 105972343, "body": "@Saadat Unfortunately I don&#39;t use nav controller :("}, {"owner": {"reputation": 1659, "user_id": 2200711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ulo4v.jpg?s=128&g=1", "display_name": "Saadat Sayem", "link": "https://stackoverflow.com/users/2200711/saadat-sayem"}, "edited": false, "score": 0, "creation_date": 1580108652, "post_id": 54769081, "comment_id": 105975086, "body": "thanks for your information. @amatkivskiy I want to use this with nav controller"}], "tags": [], "owner": {"reputation": 456, "user_id": 2627884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1a57932fcf6872c119c3c6e365b86c?s=128&d=identicon&r=PG", "display_name": "amatkivskiy", "link": "https://stackoverflow.com/users/2627884/amatkivskiy"}, "is_accepted": true, "score": 15, "last_activity_date": 1589225271, "last_edit_date": 1592644375, "creation_date": 1550588147, "answer_id": 54769081, "question_id": 54767397, "link": "https://stackoverflow.com/questions/54767397/bottom-app-bar-problem-with-placing-icons/54769081#54769081", "title": "Bottom app bar problem with placing icons", "body": "<p>You can place a custom layout inside your <code>BottomAppBar</code>.\nThe only thing is that you will need to align items in your custom layout manually.</p>\n<pre><code>&lt;com.google.android.material.bottomappbar.BottomAppBar xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    style=&quot;@style/Widget.MaterialComponents.BottomAppBar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;bottom&quot;\n    app:backgroundTint=&quot;@android:color/white&quot;\n    app:contentInsetLeft=&quot;0dp&quot;\n    app:contentInsetStart=&quot;0dp&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/first_menu_item&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:layout_marginBottom=&quot;8dp&quot;\n            android:src=&quot;@drawable/ic_first_icon&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/second_menu_item&quot;\n            app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/second_menu_item&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:src=&quot;@drawable/ic_second_icon&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/first_menu_item&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/placeholder&quot;\n            app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/first_menu_item&quot; /&gt;\n\n        &lt;View\n            android:id=&quot;@+id/placeholder&quot;\n            android:layout_width=&quot;70dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:visibility=&quot;invisible&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/first_menu_item&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/third_menu_item&quot;\n            app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/second_menu_item&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/first_menu_item&quot; /&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/third_menu_item&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:src=&quot;@drawable/ic_third_icon&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/first_menu_item&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/fourth_menu_item&quot;\n            app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/placeholder&quot; /&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/fourth_menu_item&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:src=&quot;@drawable/ic_fourth_icon&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/first_menu_item&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/third_menu_item&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/first_menu_item&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\n\n</code></pre>\n<p>You will have something like this:\n<a href=\"https://i.stack.imgur.com/JhWzr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JhWzr.png\" alt=\"Example of the layout\" /></a></p>\n"}, {"tags": [], "owner": {"reputation": 1028, "user_id": 6008948, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208943451847201/picture?type=large", "display_name": "Dagnogo Jean-Fran&#231;ois", "link": "https://stackoverflow.com/users/6008948/dagnogo-jean-fran%c3%a7ois"}, "is_accepted": false, "score": 0, "last_activity_date": 1608367924, "creation_date": 1608367924, "answer_id": 65368119, "question_id": 54767397, "link": "https://stackoverflow.com/questions/54767397/bottom-app-bar-problem-with-placing-icons/65368119#65368119", "title": "Bottom app bar problem with placing icons", "body": "<p>Based on @amatkivskiy response i made a version with ConstraintLayout, guideline and style. I really appreciate what you did @amatkivskiy.</p>\n<p><a href=\"https://i.stack.imgur.com/XZMYy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XZMYy.png\" alt=\"enter image description here\" /></a></p>\n<p>First, create your xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;!-- Note: A RecyclerView can also be used --&gt;\n    &lt;androidx.core.widget.NestedScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:clipToPadding=&quot;false&quot;\n        android:paddingBottom=&quot;100dp&quot;&gt;\n\n        &lt;!-- Scrollable content --&gt;\n\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n\n    &lt;com.google.android.material.bottomappbar.BottomAppBar\n        android:id=&quot;@+id/bar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        app:contentInsetRight=&quot;0dp&quot;\n        app:contentInsetStart=&quot;0dp&quot;\n        android:backgroundTint=&quot;@color/colorPrimary&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;&gt;\n            &lt;!--region GuideLine--&gt;\n            &lt;androidx.constraintlayout.widget.Guideline\n                android:id=&quot;@+id/first_guideline&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintGuide_percent=&quot;0.20&quot; /&gt;\n\n            &lt;androidx.constraintlayout.widget.Guideline\n                android:id=&quot;@+id/second_guideline&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintGuide_percent=&quot;0.40&quot; /&gt;\n\n\n            &lt;androidx.constraintlayout.widget.Guideline\n                android:id=&quot;@+id/third_guideline&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintGuide_percent=&quot;0.60&quot; /&gt;\n\n            &lt;androidx.constraintlayout.widget.Guideline\n                android:id=&quot;@+id/last_guideline&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintGuide_percent=&quot;0.80&quot; /&gt;\n            &lt;!--endregion--&gt;\n\n            &lt;!--region icon 1--&gt;\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:id=&quot;@+id/constraintLayout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@+id/first_guideline&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/first_icon_title&quot;\n                    style=&quot;@style/Menu.Icon.Title&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;0dp&quot;\n                    android:textColor=&quot;@android:color/white&quot;\n                    android:text=&quot;@string/menu_icon_shop&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@id/second_icon_image&quot;\n                    tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatImageView\n                    android:id=&quot;@+id/second_icon_image&quot;\n                    style=&quot;@style/Menu.Icon.Image&quot;\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/first_icon_title&quot;\n                    tools:ignore=&quot;MissingConstraints&quot;\n                    app:srcCompat=&quot;@drawable/ic_food_selected&quot; /&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n            &lt;!--endregion--&gt;\n\n            &lt;!--region icon 2--&gt;\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@+id/second_guideline&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/first_guideline&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/second_icon_title&quot;\n                    style=&quot;@style/Menu.Icon.Title&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;0dp&quot;\n                    android:text=&quot;@string/menu_icon_shop&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@id/imageView&quot;\n                    tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatImageView\n                    android:id=&quot;@+id/imageView&quot;\n                    style=&quot;@style/Menu.Icon.Image&quot;\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/second_icon_title&quot;\n                    app:layout_constraintVertical_chainStyle=&quot;packed&quot;\n                    tools:ignore=&quot;MissingConstraints&quot;\n                    app:srcCompat=&quot;@drawable/ic_food&quot; /&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n            &lt;!--endregion--&gt;\n            &lt;!--region icon 3--&gt;\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:id=&quot;@+id/constraintLayout2&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@+id/last_guideline&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/third_guideline&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/third_icon_title&quot;\n                    style=&quot;@style/Menu.Icon.Title&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;0dp&quot;\n                    android:text=&quot;@string/menu_icon_shop&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@id/third_icon_image&quot;\n                    tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatImageView\n                    android:id=&quot;@+id/third_icon_image&quot;\n                    style=&quot;@style/Menu.Icon.Image&quot;\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/third_icon_title&quot;\n                    app:layout_constraintVertical_chainStyle=&quot;packed&quot;\n                    app:srcCompat=&quot;@drawable/ic_food&quot;\n                    tools:ignore=&quot;MissingConstraints&quot; /&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n            &lt;!--endregion--&gt;\n\n            &lt;!--region icon 4--&gt;\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/last_guideline&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/last_icon_title&quot;\n                    style=&quot;@style/Menu.Icon.Title&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;0dp&quot;\n                    android:text=&quot;@string/menu_icon_shop&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@id/last_icon_image&quot;\n                    tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatImageView\n                    android:id=&quot;@+id/last_icon_image&quot;\n                    style=&quot;@style/Menu.Icon.Image&quot;\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/last_icon_title&quot;\n                    app:layout_constraintVertical_chainStyle=&quot;packed&quot;\n                    app:srcCompat=&quot;@drawable/ic_food&quot;\n                    tools:ignore=&quot;MissingConstraints&quot; /&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n            &lt;!--endregion--&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_anchor=&quot;@id/bar&quot;\n        app:srcCompat=&quot;@drawable/ic_food&quot; /&gt;\n\n   &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n   &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Note that in order to change size or position, change the Style so all of them will have the same modification.</p>\n<p>Next, you need to add those in your style. Put your theme instead of mine</p>\n<blockquote>\n<p>parent=&quot;Theme.ChefJeff&quot;</p>\n</blockquote>\n<pre><code>    &lt;style name=&quot;Menu.Icon.Title&quot; parent=&quot;Theme.ChefJeff&quot;&gt;\n    &lt;item name=&quot;android:gravity&quot;&gt;center&lt;/item&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;12sp&lt;/item&gt;\n    &lt;item name=&quot;layout_constraintVertical_chainStyle&quot;&gt;packed&lt;/item&gt;\n    &lt;item name=&quot;layout_constraintBottom_toBottomOf&quot;&gt;parent&lt;/item&gt;\n    &lt;item name=&quot;layout_constraintEnd_toEndOf&quot;&gt;parent&lt;/item&gt;\n    &lt;item name=&quot;layout_constraintStart_toStartOf&quot;&gt;parent&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;Menu.Icon.Image&quot; parent=&quot;Theme.ChefJeff&quot;&gt;\n    &lt;item name=&quot;android:layout_width&quot;&gt;24dp&lt;/item&gt;\n    &lt;item name=&quot;android:layout_height&quot;&gt;24dp&lt;/item&gt;\n    &lt;item name=&quot;android:layout_marginTop&quot;&gt;3dp&lt;/item&gt;\n    &lt;item name=&quot;layout_constraintEnd_toEndOf&quot;&gt;parent&lt;/item&gt;\n    &lt;item name=&quot;layout_constraintStart_toStartOf&quot;&gt;parent&lt;/item&gt;\n    &lt;item name=&quot;layout_constraintTop_toTopOf&quot;&gt;parent&lt;/item&gt;\n    &lt;item name=&quot;layout_constraintVertical_chainStyle&quot;&gt;packed&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>For more details : I used the guideline in order to align my icons and text. You can play with that in order to the percentage that you like. You can even make icon more bigger, remove the text. I feel like with an imageview and a Textview we have more control and it s more easy to custom it.\n<a href=\"https://i.stack.imgur.com/s0QVA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s0QVA.png\" alt=\"enter image description here\" /></a></p>\n<p>I did not put the code to control the color when you clic on a item as it depends on your architecture and code style. But you can modify all in kotlin or java at runtime =)</p>\n"}], "owner": {"reputation": 63, "user_id": 8874893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z66y2.jpg?s=128&g=1", "display_name": "Lukas John", "link": "https://stackoverflow.com/users/8874893/lukas-john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4491, "favorite_count": 1, "accepted_answer_id": 54769081, "answer_count": 3, "score": 6, "last_activity_date": 1608367924, "creation_date": 1550582763, "last_edit_date": 1553689860, "question_id": 54767397, "link": "https://stackoverflow.com/questions/54767397/bottom-app-bar-problem-with-placing-icons", "title": "Bottom app bar problem with placing icons", "body": "<p>I have a problem with bottom app bar, because I want the icons to be displayed to me in the first picture</p>\n\n<p><a href=\"https://i.stack.imgur.com/Id5Vm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Id5Vm.png\" alt=\"enter image description here\"></a></p>\n\n<p>Instead I got this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hsJch.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hsJch.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["function", "lambda", "kotlin", "anonymous-function"], "answers": [{"comments": [{"owner": {"reputation": 1853, "user_id": 1388943, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/26584dd4a526d6f441abef793bfb0dcc?s=128&d=identicon&r=PG", "display_name": "stdout", "link": "https://stackoverflow.com/users/1388943/stdout"}, "edited": false, "score": 0, "creation_date": 1550584709, "post_id": 54767463, "comment_id": 96316043, "body": "It&#39;s not about &quot;how&quot; to do it. It&#39;s more about the dynamics under the hood like &quot;why&quot; the compiler doesn&#39;t allow it. After all, they&#39;re all &quot;functions types&quot;, right."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 2, "last_activity_date": 1550585206, "last_edit_date": 1550585206, "creation_date": 1550583018, "answer_id": 54767463, "question_id": 54767359, "link": "https://stackoverflow.com/questions/54767359/why-a-lambda-cannot-make-the-enclosing-function-return/54767463#54767463", "title": "Why a lambda cannot make the enclosing function return?", "body": "<p>The problem is here that <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#non-local-returns\" rel=\"nofollow noreferrer\">non-local</a> returns <a href=\"https://www.reddit.com/r/Kotlin/comments/3yybyf/returning_from_lambda_functions/\" rel=\"nofollow noreferrer\">can't be done on the JVM</a>.\nIf you want to return from lambda (local return) you can add label <code>@ordinaryFunction</code>:</p>\n\n<pre><code>fun foo() {\n    ordinaryFunction {\n        return@ordinaryFunction\n    }\n}\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"nofollow noreferrer\">Docs</a> say:</p>\n\n<blockquote>\n  <p>If we need to return from a lambda expression, we have to label it and qualify the <code>return</code>. Oftentimes it is more convenient to use implicit labels: such a label has the same name as the function to which the lambda is passed. In our case it is <code>@ordinaryFunction</code>. </p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 1853, "user_id": 1388943, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/26584dd4a526d6f441abef793bfb0dcc?s=128&d=identicon&r=PG", "display_name": "stdout", "link": "https://stackoverflow.com/users/1388943/stdout"}, "edited": false, "score": 0, "creation_date": 1550585578, "post_id": 54767525, "comment_id": 96316579, "body": "I see your point but then how come it works with anonymous functions but not with lambdas? Lambda also creates a function type."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1550586779, "post_id": 54767525, "comment_id": 96317361, "body": "In an anonymous function, the <code>return</code> is returning from the anonymous function, not from the enclosing function.  (The rule is that <code>return</code> always returns from the nearest <code>fun</code>, unless you qualify it like <code>return@something</code>.)"}], "tags": [], "owner": {"reputation": 1323, "user_id": 368497, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/785ab0ec5c2763808ac1e0aa5224f500?s=128&d=identicon&r=PG", "display_name": "TFennis", "link": "https://stackoverflow.com/users/368497/tfennis"}, "is_accepted": false, "score": 1, "last_activity_date": 1550583256, "creation_date": 1550583256, "answer_id": 54767525, "question_id": 54767359, "link": "https://stackoverflow.com/questions/54767359/why-a-lambda-cannot-make-the-enclosing-function-return/54767525#54767525", "title": "Why a lambda cannot make the enclosing function return?", "body": "<p>Someone else can probably explain this better but in pretty much any programming language, when you call a function, a new entry is created on top of <em>the stack</em>. The stack keeps information about the arguments that the function was called with and the place you should return to when the function completes.</p>\n\n<p>Kotlin doesn't have a feature that lets you return from multiple function calls in one return, so you have to return from each function call manually.</p>\n\n<p>When you inline a function the machine code that would normally execute in a separate subroutine is now copy pasted to the function call site instead. That's why return from an inline function actually returns from the function that called the inlined lambda.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1550649362, "creation_date": 1550649362, "answer_id": 54781369, "question_id": 54767359, "link": "https://stackoverflow.com/questions/54767359/why-a-lambda-cannot-make-the-enclosing-function-return/54781369#54781369", "title": "Why a lambda cannot make the enclosing function return?", "body": "<blockquote>\n  <p>there might be some extra stuff the enclosing function might be doing after the lambda execution.</p>\n</blockquote>\n\n<p>The problem is the other way around: the lambda can \"escape\" from the enclosing function's scope and end up executing after the function returns. E.g. consider </p>\n\n<pre><code>fun foo() {\n    Thread(Runnable { \n        Thread.sleep(1000)\n        return\n    })\n}\n</code></pre>\n\n<p>Or just </p>\n\n<pre><code> fun foo() = // lambda\n</code></pre>\n\n<p>In either case it makes no sense for the lambda to return from <code>foo</code>, does it? And the compiler doesn't know if your <code>ordinaryFunction</code> lets the lambda escape <code>foo</code>'s scope unless it's inline.</p>\n\n<blockquote>\n  <p>you can overcome this by using qualified returns </p>\n</blockquote>\n\n<p>That's not really overcoming, that's just not returning from the enclosing function.</p>\n"}], "owner": {"reputation": 1853, "user_id": 1388943, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/26584dd4a526d6f441abef793bfb0dcc?s=128&d=identicon&r=PG", "display_name": "stdout", "link": "https://stackoverflow.com/users/1388943/stdout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 54767463, "answer_count": 3, "score": 0, "last_activity_date": 1550649362, "creation_date": 1550582631, "question_id": 54767359, "link": "https://stackoverflow.com/questions/54767359/why-a-lambda-cannot-make-the-enclosing-function-return", "title": "Why a lambda cannot make the enclosing function return?", "body": "<p>I'm quite new to Kotlin. I hit this part while I was going over the docs: </p>\n\n<blockquote>\n  <p>\"a lambda cannot return from the enclosing function\" (unless it's inlined). </p>\n</blockquote>\n\n<p>So, this doesn't work;</p>\n\n<pre><code>fun foo() {\n    ordinaryFunction {\n        return // ERROR: cannot make `foo` return here\n    }\n}\n</code></pre>\n\n<p>I wonder why it works that way? </p>\n\n<p>The only thing I can think of it's dangerous since there might be some extra stuff the enclosing function might be doing after the lambda execution. But I'm not sure that's the reason because you can overcome this by using qualified returns or using <code>inline</code> keyword. So, that kind of implies there's a technical reason behind it (apart from any usability/safety reasons) like the compiler cannot figure out where to return unless it's labeled or inlined.</p>\n\n<p>Any help would be great!</p>\n"}, {"tags": ["generics", "kotlin", "spring-kafka"], "comments": [{"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1550585246, "post_id": 54767041, "comment_id": 96316371, "body": "Types erasure in Java does not let you have the <code>Generic&lt;P&gt;</code> like structures. The type will be only for the <code>Generic</code> class. You may capture the type by creating a non-generic object, e.g. <code>object: TypeReference&lt;Generic&lt;MyClass&gt;&gt; {}</code>. Try looking for something similar in Kafka sources, also you may use <code>reified</code> generics of Kotlin to simplify the way you create a TypeReference (or similar) objects <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/erasure.html</a>"}, {"owner": {"reputation": 471, "user_id": 818549, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1abc47d64ca7885cad058c45cde2166c?s=128&d=identicon&r=PG", "display_name": "Ond\u0159ej M&#237;chal", "link": "https://stackoverflow.com/users/818549/ond%c5%99ej-m%c3%adchal"}, "reply_to_user": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1550822918, "post_id": 54767041, "comment_id": 96420036, "body": "Thanks for your answer. To be sure, do you mean to extend/write my own implementation of JsonDeserializer with TypeReference support?"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1550866086, "post_id": 54767041, "comment_id": 96443570, "body": "That may work, but sometimes it may work too <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.0.0/com/fasterxml/jackson/core/type/TypeReference.html\" rel=\"nofollow noreferrer\">fasterxml.github.io/jackson-core/javadoc/2.0.0/com/fasterxml&zwnj;&#8203;/&hellip;</a>"}], "owner": {"reputation": 471, "user_id": 818549, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1abc47d64ca7885cad058c45cde2166c?s=128&d=identicon&r=PG", "display_name": "Ond\u0159ej M&#237;chal", "link": "https://stackoverflow.com/users/818549/ond%c5%99ej-m%c3%adchal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550581478, "creation_date": 1550581478, "question_id": 54767041, "link": "https://stackoverflow.com/questions/54767041/deserialize-json-to-generic-type", "title": "Deserialize JSON to generic type", "body": "<p>I have a generic class to be deserialized from JSON. How do I configure JsonDeserializer in Kotlin?</p>\n\n<pre><code>org.springframework.kafka.support.serializer.JsonDeserializer\n\n...\n\nErrorHandlingDeserializer2(JsonDeserializer(\n        MyGenericClass&lt;MyClass&gt;::class.java,  // this throws \"Only classes are allowed on the left hand side of a class literal\" error\n        objectMapper\n))\n</code></pre>\n\n<p>I found solutions e.g. using <code>reified</code>, but I'm not able to apply it to this Spring Kafka JsonDeserializer.</p>\n"}, {"tags": ["android", "kotlin", "telephony", "telephonymanager"], "comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1550581599, "post_id": 54767020, "comment_id": 96314073, "body": "What&#39;s your Gradle version?"}, {"owner": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "reply_to_user": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1550581692, "post_id": 54767020, "comment_id": 96314135, "body": "Please check edits @ZUNJAE"}], "answers": [{"comments": [{"owner": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "edited": false, "score": 0, "creation_date": 1550588745, "post_id": 54767464, "comment_id": 96318521, "body": "I hope java doc related to this must say something like RequireApi so that we can handle it at compile time. Thanks Anyways"}], "tags": [], "owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "is_accepted": true, "score": 3, "last_activity_date": 1550583019, "creation_date": 1550583019, "answer_id": 54767464, "question_id": 54767020, "link": "https://stackoverflow.com/questions/54767020/java-lang-nosuchmethoderror-no-virtual-method-getmccstringljava-lang-string/54767464#54767464", "title": "java.lang.NoSuchMethodError: No virtual method getMccString()Ljava/lang/String;", "body": "<p>This method was introduced in Android api 28 - check <a href=\"https://developer.android.com/reference/android/telephony/CellIdentityTdscdma.html#getMccString()\" rel=\"nofollow noreferrer\">here</a> - which means it won't be available in versions before.</p>\n\n<p>This will work on devices running api 28+ and will throw that exception in devices running lower api levels.</p>\n\n<p>Usually the correct way to do this is to introduce checks for the version:</p>\n\n<pre><code>if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n   // Safe to use getMccString\n} else {\n   // Use something else that could work if there's something\n}\n</code></pre>\n\n<p>Note that just because you can browse the source in your machine it doesn't mean the device running your app will have the same Android code running - most of the time it doesn't.</p>\n"}], "owner": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2501, "favorite_count": 0, "accepted_answer_id": 54767464, "answer_count": 1, "score": 2, "last_activity_date": 1550583019, "creation_date": 1550581408, "last_edit_date": 1550581811, "question_id": 54767020, "link": "https://stackoverflow.com/questions/54767020/java-lang-nosuchmethoderror-no-virtual-method-getmccstringljava-lang-string", "title": "java.lang.NoSuchMethodError: No virtual method getMccString()Ljava/lang/String;", "body": "<p>I am retrieving cell information data (<code>CellInfo</code>) from <code>TelephonyManager</code></p>\n\n<p>For each cell info object, I am querying for <em>mcc</em> (Mobile Country Code) and <em>mnc</em> (Mobile Network Code) via</p>\n\n<pre><code>eachCellInfo.cellIdentity.mcc\neachCellInfo.cellIdentity.mnc\n</code></pre>\n\n<p>Where eachCellInfo is an object of <a href=\"https://developer.android.com/reference/android/telephony/CellInfo\" rel=\"nofollow noreferrer\">CellInfo</a></p>\n\n<p>The function is deprecated as per the doc:</p>\n\n<pre><code>    /**\n     * @return 2 or 3-digit Mobile Network Code, 0..999, Integer.MAX_VALUE if unknown\n     * @deprecated Use {@link #getMncString} instead.\n     */\n    @Deprecated\n    public int getMnc() {\n        return (mMncStr != null) ? Integer.valueOf(mMncStr) : Integer.MAX_VALUE;\n    }\n</code></pre>\n\n<p>However when I am using the suggested method that is via</p>\n\n<pre><code>    eachCellInfo.cellIdentity.mccString\n</code></pre>\n\n<p>Method Description:</p>\n\n<pre><code>        /**\n         * @return Mobile Country Code in string format, null if unknown\n         */\n        public String getMccString() {\n            return mMccStr;\n        }\n</code></pre>\n\n<p>I am getting following crash logs:</p>\n\n<pre><code>java.lang.NoSuchMethodError: No virtual method getMccString()Ljava/lang/String; in class Landroid/telephony/CellIdentityLte; or its super classes (declaration of 'android.telephony.CellIdentityLte' appears in /system/framework/framework.jar!classes2.dex)\n )\n</code></pre>\n\n<p>Let me know if I am missing any information and possible cause of this behavior.</p>\n\n<p>Other Infor:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.10.1-all.zip \nkotlin_version = '1.3.21' \nclasspath 'com.google.gms:google-services:4.2.0' \nclasspath 'com.android.tools.build:gradle:3.3.1'\nDebug Version\nminifyEnabled false\nshrinkResources false\n</code></pre>\n"}, {"tags": ["android", "kotlin", "moshi"], "answers": [{"comments": [{"owner": {"reputation": 294, "user_id": 4987078, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6atMrGJKga8/AAAAAAAAAAI/AAAAAAAAADY/WshBcns_xe4/photo.jpg?sz=128", "display_name": "Flo We", "link": "https://stackoverflow.com/users/4987078/flo-we"}, "edited": false, "score": 0, "creation_date": 1550659509, "post_id": 54777225, "comment_id": 96347301, "body": "cool that works, was using <code>Any</code> and map to <code>Double</code> in the meantime, thanks! Didn&#39;t know about <code>javaObjectType</code>"}], "tags": [], "owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "is_accepted": true, "score": 8, "last_activity_date": 1550624110, "creation_date": 1550624110, "answer_id": 54777225, "question_id": 54766578, "link": "https://stackoverflow.com/questions/54766578/cant-parse-mapstring-double-with-moshi-in-kotlin-unexpected-primitive-doub/54777225#54777225", "title": "Can&#39;t parse Map&lt;String, Double&gt; with Moshi in Kotlin - Unexpected primitive double", "body": "<p>Use <code>Types.newParameterizedType(Map::class.java, String::class.java, Double::class.javaObjectType)</code></p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java-object-type.html\" rel=\"noreferrer\">javaOjectType</a> returns the corresponding boxed type for primitive types.</p>\n"}], "owner": {"reputation": 294, "user_id": 4987078, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6atMrGJKga8/AAAAAAAAAAI/AAAAAAAAADY/WshBcns_xe4/photo.jpg?sz=128", "display_name": "Flo We", "link": "https://stackoverflow.com/users/4987078/flo-we"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 0, "accepted_answer_id": 54777225, "answer_count": 1, "score": 5, "last_activity_date": 1550624110, "creation_date": 1550579955, "question_id": 54766578, "link": "https://stackoverflow.com/questions/54766578/cant-parse-mapstring-double-with-moshi-in-kotlin-unexpected-primitive-doub", "title": "Can&#39;t parse Map&lt;String, Double&gt; with Moshi in Kotlin - Unexpected primitive double", "body": "<pre><code>val moshi = Moshi.Builder().build()\nval type = Types.newParameterizedType(Map::class.java, String::class.java, Double::class.java)\nval adapter = moshi.adapter&lt;Map&lt;String, Double&gt;&gt;(type)\n\nval result = adapter.fromJson(InitData.json)\n</code></pre>\n\n<p>just switching from Gson to Moshi and i ran into this problem. I expect above code to work since it seems to work fine with <code>Map&lt;String, String&gt;</code>.</p>\n\n<p>I'm getting an <strong>IllegalArgumentException: Unexpected primitive double. Use the boxed type</strong></p>\n\n<p>Same thing for Float. I know what's happening here but is this not possible with Moshi?</p>\n\n<p>This is using <code>com.squareup.moshi:moshi-kotlin:1.8.0</code></p>\n"}, {"tags": ["java", "android", "kotlin", "proguard"], "answers": [{"comments": [{"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1552352335, "post_id": 55111550, "comment_id": 96967695, "body": "But I want it to be enabled - e.g. to catch errors in the UI tests rather than manual testing or even at the user"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1552366611, "post_id": 55111550, "comment_id": 96970763, "body": "@ligi extended my answer with a) an explanation why it cannot work and b) an alternative."}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1552397484, "post_id": 55111550, "comment_id": 96986874, "body": "thanks - but sorry I do not think the explanation is correct and b is not an alternative for me"}], "tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 0, "last_activity_date": 1552366495, "last_edit_date": 1552366495, "creation_date": 1552344599, "answer_id": 55111550, "question_id": 54766535, "link": "https://stackoverflow.com/questions/54766535/no-static-method-deleterecursivelyljava-io-file-in-androidtest-when-enabling/55111550#55111550", "title": "No static method deleteRecursively(Ljava/io/File;) in androidTest when enabling proguard", "body": "<p><code>test</code> builds are <strike>by default</strike> always <code>debug</code> builds - even when setting a <code>testBuildType</code>, this has to have config <code>initWith debug</code>, which hints for a whole other mis-configuration. sorry for not providing the expected answer, but this mis-configuration is based upon a certain  mis-conception. I'd suggest to disable the obfuscation, because it's rather pointless in this case, because this package won't ever be distributed. it might not even be possible to define ProGuard rules for the test application (which is a package on it's own). this behavior is \"by design\", caused by working against the test framework... because the test application will not know about the class/method obfuscation mapping of the other one  application package - and therefore the chances are rather slim, that this could ever work out.</p>\n\n<p>Firebase Test Lab  <a href=\"https://firebase.google.com/docs/test-lab/android/robo-ux-test\" rel=\"nofollow noreferrer\">Robo UX Test</a> is the most similar to what is effectivly being demanded.</p>\n"}, {"tags": [], "owner": {"reputation": 21841, "user_id": 624706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bad65c45f5cbf2c8834baf238846fcdd?s=128&d=identicon&r=PG&f=1", "display_name": "Sergii Pechenizkyi", "link": "https://stackoverflow.com/users/624706/sergii-pechenizkyi"}, "is_accepted": false, "score": 3, "last_activity_date": 1552497909, "creation_date": 1552497909, "answer_id": 55147892, "question_id": 54766535, "link": "https://stackoverflow.com/questions/54766535/no-static-method-deleterecursivelyljava-io-file-in-androidtest-when-enabling/55147892#55147892", "title": "No static method deleteRecursively(Ljava/io/File;) in androidTest when enabling proguard", "body": "<p>I think core issue is that <code>androidTest</code> is a different compilation unit. <code>app/src/androidTest</code> is assembled into <code>app-debug-androidTest.apk</code> while <code>app/src/main</code> is assembled into <code>app-debug.apk</code>. And so Proguard during <code>assembleDebug</code> neither see no includes <code>app/src/androidTest</code> into building \"tree shaking\" usage graph because it is not available on the classpath. Practically, it means that application code which is referenced in tests only is being stipped out. </p>\n\n<p>This topic correlates with \"Should I change visibility from private to public just for the test access?\" dilema. Depending on what kind of tests you are writing you may consider to:</p>\n\n<ul>\n<li>Always keep application extra entry points (used by tests) in shippable to users <code>release.apk</code></li>\n<li>Compile main apk differently when running the test and again accept the risk of shipping to users not exactly the same code which is being run by test</li>\n</ul>\n\n<p>Unfortunately, I don't know any auto-magic solution at the moment (similar to <code>all-open</code> plugin). But it is possible to resolve missing methods issue in a case-by-case way.</p>\n\n<pre><code>buildTypes {\n    debug {\n        minifyEnabled true\n\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-project.txt', 'proguard-project-ext.txt'\n        testProguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-test-project.txt'\n    }\n}      \n</code></pre>\n\n<ul>\n<li><code>proguard-project.txt</code> - configuration for <code>app/src/main</code> and it's <code>implementation</code> dependencies</li>\n<li><code>proguard-project-ext.txt</code> - configuration for <code>app/src/main</code> which contains <code>-keep</code> instructions for every method/field used in tests only which was \"falsely\" removed by proguard. I prefer to keep it separately, to conditionally remove when publishing to google play</li>\n<li><code>proguard-test-project.txt</code> - configuration for <code>app/src/androidTest</code> and it's <code>androidTestImplementation</code> dependencies. Typically contains <code>-dontwarn net.bytebuddy.**</code> and etc. Although note, that test apk doesn't support multidex so it is possible to hit <code>65k</code> limit method by including too many dependencies.</li>\n</ul>\n\n<p>Check <a href=\"https://android.googlesource.com/platform/tools/base/+/studio-master-dev/build-system/integration-test/test-projects/minify\" rel=\"nofollow noreferrer\">android/platform/tools/base/studio-master-dev/./build-system/integration-test/test-projects/minify</a> for the implementation reference. </p>\n"}], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1552497909, "creation_date": 1550579853, "last_edit_date": 1552343873, "question_id": 54766535, "link": "https://stackoverflow.com/questions/54766535/no-static-method-deleterecursivelyljava-io-file-in-androidtest-when-enabling", "title": "No static method deleteRecursively(Ljava/io/File;) in androidTest when enabling proguard", "body": "<p>I am trying to enable proguard on my android tests. But I am facing a strange problem:</p>\n\n<pre><code>java.lang.NoSuchMethodError: No static method deleteRecursively(Ljava/io/File;)Z in class Lkotlin/io/FilesKt; or its super classes (declaration of 'kotlin.io.FilesKt' appears in /data/app/org.walleth.offline-BAciL8erjxU-sHGjQe6uQg==/base.apk!classes2.dex)\nat org.ligi.trulesk.RulesKt.doBefore(Rules.kt:82)\nat org.ligi.trulesk.RulesKt.access$doBefore(Rules.kt:1)\nat org.ligi.trulesk.TruleskIntentRule.beforeActivityLaunched(Rules.kt:58)\nat android.support.test.rule.ActivityTestRule.launchActivity(ActivityTestRule.java:351)\nat android.support.test.rule.ActivityTestRule$ActivityStatement.evaluate(ActivityTestRule.java:525)\nat org.junit.rules.RunRules.evaluate(RunRules.java:20)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.junit.runners.Suite.runChild(Suite.java:128)\nat org.junit.runners.Suite.runChild(Suite.java:27)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\nat android.support.test.internal.runner.TestExecutor.execute(TestExecutor.java:56)\nat android.support.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:384)\nat org.ligi.trulesk.AppReplacingRunnerBase.onStart(AppReplacingRunnerBase.kt:19)\nat android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2145)\n</code></pre>\n\n<p><code>Proguard</code> on the release build works - not sure why it is so aggressive on android tests. Ideally the instrumentation classes would not be removed at all.</p>\n"}, {"tags": ["android-studio", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 3349, "user_id": 293847, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CrlM8.jpg?s=128&g=1", "display_name": "WeNeigh", "link": "https://stackoverflow.com/users/293847/weneigh"}, "edited": false, "score": 0, "creation_date": 1573648873, "post_id": 54766174, "comment_id": 103949029, "body": "Were you able to find a solution that works for you? I&#39;m looking for the same thing."}], "answers": [{"comments": [{"owner": {"reputation": 140, "user_id": 6413479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4c35f4308c1d6efe4e946ff2fefddf?s=128&d=identicon&r=PG&f=1", "display_name": "Serhii Pokrovskyi", "link": "https://stackoverflow.com/users/6413479/serhii-pokrovskyi"}, "edited": false, "score": 0, "creation_date": 1550579690, "post_id": 54766437, "comment_id": 96312998, "body": "Hello, this does nothing. It does not move functions, vars, etc.. in order"}, {"owner": {"reputation": 680, "user_id": 10722655, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d5x1LY2KxiA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdrIKQsHIvCXAah8V3wPd6L0YPHg/mo/photo.jpg?sz=128", "display_name": "BlackBlind", "link": "https://stackoverflow.com/users/10722655/blackblind"}, "reply_to_user": {"reputation": 140, "user_id": 6413479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4c35f4308c1d6efe4e946ff2fefddf?s=128&d=identicon&r=PG&f=1", "display_name": "Serhii Pokrovskyi", "link": "https://stackoverflow.com/users/6413479/serhii-pokrovskyi"}, "edited": false, "score": 0, "creation_date": 1550580733, "post_id": 54766437, "comment_id": 96313605, "body": "may be your code properly arranged. because this command is working when your code not arranged. You can just remove indent from some line after that check above command."}, {"owner": {"reputation": 140, "user_id": 6413479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4c35f4308c1d6efe4e946ff2fefddf?s=128&d=identicon&r=PG&f=1", "display_name": "Serhii Pokrovskyi", "link": "https://stackoverflow.com/users/6413479/serhii-pokrovskyi"}, "edited": false, "score": 0, "creation_date": 1550580856, "post_id": 54766437, "comment_id": 96313673, "body": "Maybe you are talking about code format? I need code arrangement, like in java."}, {"owner": {"reputation": 680, "user_id": 10722655, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d5x1LY2KxiA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdrIKQsHIvCXAah8V3wPd6L0YPHg/mo/photo.jpg?sz=128", "display_name": "BlackBlind", "link": "https://stackoverflow.com/users/10722655/blackblind"}, "reply_to_user": {"reputation": 140, "user_id": 6413479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4c35f4308c1d6efe4e946ff2fefddf?s=128&d=identicon&r=PG&f=1", "display_name": "Serhii Pokrovskyi", "link": "https://stackoverflow.com/users/6413479/serhii-pokrovskyi"}, "edited": false, "score": 0, "creation_date": 1558335072, "post_id": 54766437, "comment_id": 99051904, "body": "<a href=\"https://www.jetbrains.com/help/resharper/Coding_Assistance__Moving_Code_Elements.html\" rel=\"nofollow noreferrer\">Here</a>, you can check out your rearrange format, by JetBrains."}], "tags": [], "owner": {"reputation": 680, "user_id": 10722655, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d5x1LY2KxiA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdrIKQsHIvCXAah8V3wPd6L0YPHg/mo/photo.jpg?sz=128", "display_name": "BlackBlind", "link": "https://stackoverflow.com/users/10722655/blackblind"}, "is_accepted": false, "score": 0, "last_activity_date": 1550579522, "creation_date": 1550579522, "answer_id": 54766437, "question_id": 54766174, "link": "https://stackoverflow.com/questions/54766174/how-can-i-rearrange-kotlin-code-in-the-order/54766437#54766437", "title": "How can I rearrange Kotlin code in the order?", "body": "<p>First select that code which you want to rearrange or reformatted.\nThan Just press ctrl+alt+L for rearrange or reformatted code.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 8813913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-e8BS5MR75zk/AAAAAAAAAAI/AAAAAAAAI0s/LStcb1uKjP0/photo.jpg?sz=128", "display_name": "Vivek Patel", "link": "https://stackoverflow.com/users/8813913/vivek-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1599741806, "creation_date": 1599741806, "answer_id": 63829949, "question_id": 54766174, "link": "https://stackoverflow.com/questions/54766174/how-can-i-rearrange-kotlin-code-in-the-order/63829949#63829949", "title": "How can I rearrange Kotlin code in the order?", "body": "<p>Android Studio/IntelliJ official doesn\u2019t have support for the Kotlin code rearrangement.</p>\n"}], "owner": {"reputation": 140, "user_id": 6413479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4c35f4308c1d6efe4e946ff2fefddf?s=128&d=identicon&r=PG&f=1", "display_name": "Serhii Pokrovskyi", "link": "https://stackoverflow.com/users/6413479/serhii-pokrovskyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 563, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1599741806, "creation_date": 1550578689, "last_edit_date": 1551017511, "question_id": 54766174, "link": "https://stackoverflow.com/questions/54766174/how-can-i-rearrange-kotlin-code-in-the-order", "title": "How can I rearrange Kotlin code in the order?", "body": "<p>First of all, I Google it, and find no answer to this. Also, I've found some questions here, but they dated 2016 and 2017. Now we have 2019.</p>\n\n<p>I'm used to Java in Android Studio. When I override methods, IDE puts them in order - how they placed in parent class or implemented interface.</p>\n\n<p>Also when I'm developing, for example, Repository pattern:</p>\n\n<ul>\n<li><p>I create an interface.</p></li>\n<li><p>Create classes which implements this interface</p></li>\n<li><p>When I am adding functions in interface and then I override (ctrl+o, or alt+Enter on class name) them in my classes: In Java they placed at the same position as they defined in my interface, In Kotlin - the placed in top of the class (this is really bad!)</p></li>\n</ul>\n\n<p>Also, code does not get reformatted automatically, for example: global vars placed on top, then goes constructors, etc.</p>\n\n<p>So I'm asking.</p>\n\n<p>It's just me? I've tried deleting all Android Studio settings, reinstalling, etc. It did nothing. Also, Googling did not take any results.</p>\n\n<p>Is there any solution to all of this? Because I really liked kotlin, but this inconvenience is just very annoying.</p>\n"}, {"tags": ["kotlin", "android-recyclerview", "recyclerview-layout"], "comments": [{"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 1, "creation_date": 1550575551, "post_id": 54765093, "comment_id": 96310449, "body": "You have forgotten to define &quot;not working&quot; ;) See the Verifiable part: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 117, "user_id": 11079014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19d230d6c2c72b82d3f0b11be968a70?s=128&d=identicon&r=PG&f=1", "display_name": "NoamEpstein", "link": "https://stackoverflow.com/users/11079014/noamepstein"}, "reply_to_user": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1550577741, "post_id": 54765093, "comment_id": 96311759, "body": "@Thomas I have &quot;..swiping... not working&quot;"}], "owner": {"reputation": 117, "user_id": 11079014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19d230d6c2c72b82d3f0b11be968a70?s=128&d=identicon&r=PG&f=1", "display_name": "NoamEpstein", "link": "https://stackoverflow.com/users/11079014/noamepstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 444, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550579373, "creation_date": 1550575207, "last_edit_date": 1550579373, "question_id": 54765093, "link": "https://stackoverflow.com/questions/54765093/how-can-i-rearrange-the-order-of-my-recyclerview-items-by-swiping-up-and-down", "title": "How can I rearrange the order of my recyclerview items by swiping up and down?", "body": "<p>I have taken <a href=\"https://github.com/berkeatac/Notes-App\" rel=\"nofollow noreferrer\">this example</a>, to experiment on recycler views. In this example the ordering is solved by setting an explicit priority number. </p>\n\n<p>I would like to make the ordering by a UP or DOWN swipe of these items per finger. </p>\n\n<p>Therefore I enhanced the example by adding code to the <code>onMove()</code> implementation in the <code>onCreate()</code> method:</p>\n\n<pre><code>ItemTouchHelper(object : ItemTouchHelper.SimpleCallback(ItemTouchHelper.UP.or(ItemTouchHelper.DOWN), ItemTouchHelper.LEFT.or(ItemTouchHelper.RIGHT)) {\n\n            override fun onMove(\n                recyclerView: RecyclerView,\n                sourceHolder: RecyclerView.ViewHolder,\n                destinationHolder: RecyclerView.ViewHolder\n            ): Boolean {\n\n                val posOld = sourceHolder.adapterPosition\n                val posNew = destinationHolder.adapterPosition\n\n                val note1 = adapter.getNoteAt(posOld)\n                val note2 = adapter.getNoteAt(posNew)\n\n                noteViewModel.delete(note1)\n                noteViewModel.delete(note2)\n\n                val prio1 = note1.priority\n                note1.priority = note2.priority\n                note2.priority = prio1\n\n                noteViewModel.insert(note1)\n                noteViewModel.insert(note2)\n\n                return true\n            }\n\n            override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n                noteViewModel.delete(adapter.getNoteAt(viewHolder.adapterPosition))\n                Toast.makeText(baseContext, \"Note Deleted!\", Toast.LENGTH_SHORT).show()\n            }\n        }\n        ).attachToRecyclerView(recycler_view)\n</code></pre>\n\n<p>As you can see the first parameter of interface SimpleCallback was 0, I replaced by UP and DOWN gesture and added the code where I swipe manually. </p>\n\n<p>I haven't touched anything else. By applying the modifications above, I can run the app on a device, but swiping UP and DOWN is <strong>not</strong> working? </p>\n\n<p><strong>What have I forgotten?</strong> Is there an easier way?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-spinner"], "answers": [{"comments": [{"owner": {"reputation": 54, "user_id": 10167463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7egP.jpg?s=128&g=1", "display_name": "EliodeBeirut", "link": "https://stackoverflow.com/users/10167463/eliodebeirut"}, "edited": false, "score": 0, "creation_date": 1550575879, "post_id": 54765051, "comment_id": 96310671, "body": "override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {         loadSpinner()         spinner?.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {             override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {             }              override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {             }         }         return inflater.inflate(R.layout.fragment_create_issue, container, false)     }"}], "tags": [], "owner": {"reputation": 149, "user_id": 11021566, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8oGJTYdhWj0/AAAAAAAAAAI/AAAAAAAAJhc/_lvwrNa1Gsc/photo.jpg?sz=128", "display_name": "Ram Mohan dubey", "link": "https://stackoverflow.com/users/11021566/ram-mohan-dubey"}, "is_accepted": false, "score": 0, "last_activity_date": 1550575976, "last_edit_date": 1550575976, "creation_date": 1550575058, "answer_id": 54765051, "question_id": 54765002, "link": "https://stackoverflow.com/questions/54765002/spinner-is-not-opening/54765051#54765051", "title": "Spinner is not opening", "body": "<p>Try replacing like this  :</p>\n\n<pre><code>yourSpinner?.onItemSelectedListener = object : AdapterView.OnItemSelectedListener{\n    override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n\n    }\n\n    override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 54, "user_id": 10167463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7egP.jpg?s=128&g=1", "display_name": "EliodeBeirut", "link": "https://stackoverflow.com/users/10167463/eliodebeirut"}, "is_accepted": true, "score": 0, "last_activity_date": 1550585449, "creation_date": 1550585449, "answer_id": 54768242, "question_id": 54765002, "link": "https://stackoverflow.com/questions/54765002/spinner-is-not-opening/54768242#54768242", "title": "Spinner is not opening", "body": "<pre><code>class CreateIssueFragment : Fragment() {\n\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val rootView: View = inflater.inflate(R.layout.fragment_create_issue, container, false)\n    return rootView\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    loadSpinner()\n\n}\n\nprivate fun loadSpinner() {\n    val list = context?.resources?.getStringArray(R.array.issue_types_array)\n\n\n    ArrayAdapter.createFromResource(context, R.array.issue_types_array, android.R.layout.simple_spinner_item)\n            .also { adapter -&gt;\n                adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n                issueTypesSpinner?.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n\n                    override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {\n                        parent.getItemAtPosition(position)\n                    }\n\n                    override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {\n                    }\n                }\n                issueTypesSpinner?.adapter = adapter\n            }\n\n}\n\n}\n</code></pre>\n"}], "owner": {"reputation": 54, "user_id": 10167463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7egP.jpg?s=128&g=1", "display_name": "EliodeBeirut", "link": "https://stackoverflow.com/users/10167463/eliodebeirut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 54768242, "answer_count": 2, "score": 0, "last_activity_date": 1550585449, "creation_date": 1550574932, "last_edit_date": 1550578235, "question_id": 54765002, "link": "https://stackoverflow.com/questions/54765002/spinner-is-not-opening", "title": "Spinner is not opening", "body": "<p>My spinner is not opening when I click on it to dropdown. Any help??\nMy list of items is inside a string resource.    </p>\n\n<pre><code>class CreateIssueFragment : Fragment() {\n\nvar spinner: Spinner? = null\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val rootView: View = inflater.inflate(R.layout.fragment_create_issue, container, false)\n    spinner = activity?.issueTypesSpinner\n    loadSpinner()\n    return rootView\n}\n\nprivate fun loadSpinner() {\n    ArrayAdapter.createFromResource(context, R.array.issue_types_array, android.R.layout.simple_spinner_item)\n            .also { adapter -&gt;\n                adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n                spinner?.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n                    override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {\n                        parent.getItemAtPosition(position).toString()\n                    }\n\n                    override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {\n                    }\n                }\n                spinner?.adapter = adapter\n\n            }\n}\n}\n</code></pre>\n"}, {"tags": ["postgresql", "kotlin", "kotlin-exposed"], "comments": [{"owner": {"reputation": 1323, "user_id": 368497, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/785ab0ec5c2763808ac1e0aa5224f500?s=128&d=identicon&r=PG", "display_name": "TFennis", "link": "https://stackoverflow.com/users/368497/tfennis"}, "reply_to_user": {"reputation": 434877, "user_id": 330315, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4b152262d9ba55197f609625358ff7e0?s=128&d=identicon&r=PG", "display_name": "a_horse_with_no_name", "link": "https://stackoverflow.com/users/330315/a-horse-with-no-name"}, "edited": false, "score": 0, "creation_date": 1550578921, "post_id": 54764268, "comment_id": 96312492, "body": "I&#39;m really sorry I totally forgot to mention that the problem is most likely with kotlin-exposed. I&#39;m going to update the question in a moment to reflect that the indexes in fact are not created."}], "owner": {"reputation": 1323, "user_id": 368497, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/785ab0ec5c2763808ac1e0aa5224f500?s=128&d=identicon&r=PG", "display_name": "TFennis", "link": "https://stackoverflow.com/users/368497/tfennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 833, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550579327, "creation_date": 1550572829, "last_edit_date": 1550579327, "question_id": 54764268, "link": "https://stackoverflow.com/questions/54764268/how-to-create-an-index-on-foreign-keys-with-kotlin-exposed-on-a-postgresql-datab", "title": "How to create an index on foreign keys with kotlin exposed on a PostgreSQL database", "body": "<p>I'm using Kotlin Exposed to define a table like so</p>\n\n<pre><code>object Headers : Table(\"headers\") {\n    val id = uuid(\"id\").primaryKey()\n    // tons more columns\n}\n</code></pre>\n\n<p>And I have another table defined like this</p>\n\n<pre><code>object Transactions : Table(\"transactions\") {\n    val headerId = (uuid(\"header_id\").references(Headers.id)).index(\"custom_header_index\")\n    // tons more columns\n}\n</code></pre>\n\n<p>Now as you can see I'm attempting to create an index on this reference/FOREIGN KEY because if I try to query this relation I get the following result</p>\n\n<pre><code>EXPLAIN SELECT * FROM  transactions WHERE header_id = 'bdbfc5d6-9cf1-430a-a361-a5f96cc7d799'\n\nGather  (cost=1000.00..13771.31 rows=8 width=171)\"\n  Workers Planned: 2\"\n  -&gt;  Parallel Seq Scan on transactions  (cost=0.00..12770.51 rows=3 width=171)\"\n        Filter: (header_id = 'bdbfc5d6-9cf1-430a-a361-a5f96cc7d799'::uuid)\"\n</code></pre>\n\n<p>It's doing a sequential scan. And since this table will contains hundreds of thousands of records this is unbearably slow.</p>\n\n<p>I've tried a couple of things in order to get it to work but non of the syntactical changes seem to cause any schema changes</p>\n\n<p>exampes:</p>\n\n<pre><code>// no infix\nval headerId = (uuid(\"header_id\").references(Headers.id)).index(\"custom_header_index\")\n// infix\nval headerId = (uuid(\"header_id\") references Headers.id).index(\"custom_header_index\")\n// index before reference\nval headerId = (uuid(\"header_id\").index(\"custom_header_index\") references Headers.id)\n</code></pre>\n\n<p>I've tried all of these with and without custom index names.</p>\n\n<p>I should also note that I'm using </p>\n\n<pre><code>SchemaUtils.createMissingTablesAndColumns(Headers, Transactions)\n</code></pre>\n\n<p>which on every other type of column detects an index change but not on foreign relations.</p>\n\n<p>What am I doing wrong, and how can I get kotlin-exposed to create these indexes?</p>\n\n<p><strong>EDIT: CLARIFICATION</strong></p>\n\n<p>Sorry my question didn't explicitly state that my problem is that Kotlin Exposed does not create these indexes. When I create them manually everything works as expected.</p>\n\n<p>In the mean time I've also found the probable cause of this issue</p>\n\n<pre><code>for (table in tables) {\n    val existingTableIndices = currentDialect.existingIndices(table)[table].orEmpty().filterFKeys() \n    val mappedIndices = table.indices.filterFKeys() // Here foreign keys are filtered\n\n    existingTableIndices.forEach { index -&gt;\n        mappedIndices.firstOrNull { it.onlyNameDiffer(index) }?.let {\n            exposedLogger.trace(\"Index on table '${table.tableName}' differs only in name: in db ${index.indexName} -&gt; in mapping ${it.indexName}\")\n            nameDiffers.add(index)\n            nameDiffers.add(it)\n        }\n    }\n\n    notMappedIndices.getOrPut(table.nameInDatabaseCase(), {hashSetOf()}).addAll(existingTableIndices.subtract(mappedIndices))\n\n    missingIndices.addAll(mappedIndices.subtract(existingTableIndices))\n}\n</code></pre>\n\n<p>The code above is from the Exposed library and filters all indexes that it has to create and removes them if there is a foreign key on the column, making it impossible to create regular indexes on those columns.</p>\n\n<p>I'll probably make an issue in their github repository and update this question if it's ever fixed.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 0, "creation_date": 1572627380, "post_id": 54763975, "comment_id": 103629189, "body": "Little nitpick but this is the <i>definition</i> of the property, not the documentation."}], "answers": [{"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1550574898, "post_id": 54764389, "comment_id": 96310048, "body": "Thankyou. Is <code>&lt;T&gt;</code> type?"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1550575790, "post_id": 54764389, "comment_id": 96310612, "body": "Exactly. See second link, generic is really nice explained in kotlin docs."}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 2, "last_activity_date": 1550573194, "creation_date": 1550573194, "answer_id": 54764389, "question_id": 54763975, "link": "https://stackoverflow.com/questions/54763975/how-to-understand-kotlin-documentation-syntax-in-android-studio/54764389#54764389", "title": "How to understand Kotlin documentation syntax in Android Studio", "body": "<p><code>public val &lt;T : Any&gt; T.javaClass: Class&lt;T&gt;</code></p>\n\n<p>This is actually extension property. Works basically the same as extension function (in fact compiler will generate extension getter function for any type inheriting from <code>Any</code>).</p>\n\n<p>Simpler example, without generics:</p>\n\n<pre><code>val String.withPrefix: String\n    get() = \"_$this\"\n\nfun test() {\n    println(\"Hello\".withPrefix) // prints \"_Hello\"\n}\n</code></pre>\n\n<p>One more example - now for generic type:</p>\n\n<pre><code>val &lt;T: Number&gt; T.hexValue: String\n    get() = convertToHex(this)\n\nfun main(args: Array&lt;String&gt;) {\n    val number: Double = 10.0\n    println(\"Hex value of $number is ${number.hexValue}\")\n}\n</code></pre>\n\n<p>Construction you are asking is quite strange, because connects both generic and extension function. But, as you can see in fact there is just very simple construction - just looks strange.</p>\n\n<p>See more about extensions: <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-properties\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/extensions.html#extension-properties</a></p>\n\n<p>See more about generics: <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html</a></p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1572625382, "creation_date": 1550571952, "last_edit_date": 1572625382, "question_id": 54763975, "link": "https://stackoverflow.com/questions/54763975/how-to-understand-kotlin-documentation-syntax-in-android-studio", "title": "How to understand Kotlin documentation syntax in Android Studio", "body": "<h1>Example</h1>\n\n<p>I'm hovering over a <code>ClassName::javaClass</code> instance in my kotlin/android project - and see a preview of the documentation for <code>javaClass</code>:</p>\n\n<pre><code>public val &lt;T : Any&gt; T.javaClass: Class&lt;T&gt;\n</code></pre>\n\n<h1>Question</h1>\n\n<p>Apologies if this is a basic question but <strong>how can the above be translated?</strong> And is there any resource for me to read that will give me a rundown of that type of documentation syntax?</p>\n"}, {"tags": ["android", "json", "kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 4094, "user_id": 1178759, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FtZkI.jpg?s=128&g=1", "display_name": "SaschaM78", "link": "https://stackoverflow.com/users/1178759/sascham78"}, "edited": false, "score": 0, "creation_date": 1550575021, "post_id": 54764349, "comment_id": 96310123, "body": "Please include some explanation about how your code works so the asker may learn from your answer - thanks!"}, {"owner": {"reputation": 337, "user_id": 4767379, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6DrqtPBX1-k/AAAAAAAAAAI/AAAAAAAAAD4/A3rOSv_Qj2k/photo.jpg?sz=128", "display_name": "Darshan Kachhadiya", "link": "https://stackoverflow.com/users/4767379/darshan-kachhadiya"}, "reply_to_user": {"reputation": 4094, "user_id": 1178759, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FtZkI.jpg?s=128&g=1", "display_name": "SaschaM78", "link": "https://stackoverflow.com/users/1178759/sascham78"}, "edited": false, "score": 0, "creation_date": 1550575527, "post_id": 54764349, "comment_id": 96310428, "body": "its object type hashmap which is iterate one by one all key  so it take dynamic keys from json  please up vote or feedback if code helpful for you"}, {"owner": {"reputation": 99, "user_id": 9759122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ff4a0e741f7d027e3002e753e0d9d?s=128&d=identicon&r=PG&f=1", "display_name": "JerryLi", "link": "https://stackoverflow.com/users/9759122/jerryli"}, "edited": false, "score": 0, "creation_date": 1550578012, "post_id": 54764349, "comment_id": 96311907, "body": "How do I get my &quot;id&quot; or &quot;name&quot;?"}, {"owner": {"reputation": 337, "user_id": 4767379, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6DrqtPBX1-k/AAAAAAAAAAI/AAAAAAAAAD4/A3rOSv_Qj2k/photo.jpg?sz=128", "display_name": "Darshan Kachhadiya", "link": "https://stackoverflow.com/users/4767379/darshan-kachhadiya"}, "edited": false, "score": 0, "creation_date": 1550578264, "post_id": 54764349, "comment_id": 96312050, "body": "view my edited answer and please don&#39;t forgot up vote if its helpful"}], "tags": [], "owner": {"reputation": 337, "user_id": 4767379, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6DrqtPBX1-k/AAAAAAAAAAI/AAAAAAAAAD4/A3rOSv_Qj2k/photo.jpg?sz=128", "display_name": "Darshan Kachhadiya", "link": "https://stackoverflow.com/users/4767379/darshan-kachhadiya"}, "is_accepted": true, "score": 0, "last_activity_date": 1550578211, "last_edit_date": 1550578211, "creation_date": 1550573061, "answer_id": 54764349, "question_id": 54763360, "link": "https://stackoverflow.com/questions/54763360/dealing-random-json-key-use-gson/54764349#54764349", "title": "Dealing random JSON key use Gson", "body": "<p>This is an object type hashmap which is iterated one by one all key so it takes dynamic keys from JSON:</p>\n\n<pre><code>Gson gson = new Gson();\nType mapType = new TypeToken&lt;Map&lt;String,Map&lt;String, String&gt;&gt;&gt;() {}.getType();\nMap&lt;String,Map&lt;String, String&gt;&gt; map = gson.fromJson(new FileReader(\"Put YOur JSOn Here \"), mapType);\n</code></pre>\n\n<p>// show value </p>\n\n<pre><code>for (Map.Entry&lt;String,String&gt; entry : map.entrySet()) {\nString key = entry.getKey();\nString value = entry.getValue();\n// do stuff\n}\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 9759122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ff4a0e741f7d027e3002e753e0d9d?s=128&d=identicon&r=PG&f=1", "display_name": "JerryLi", "link": "https://stackoverflow.com/users/9759122/jerryli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 54764349, "answer_count": 1, "score": 0, "last_activity_date": 1551256157, "creation_date": 1550570153, "last_edit_date": 1551256157, "question_id": 54763360, "link": "https://stackoverflow.com/questions/54763360/dealing-random-json-key-use-gson", "title": "Dealing random JSON key use Gson", "body": "<p>My json: </p>\n\n<pre><code>{\n    random1:{ \n      randomKey1:{\n          \"id\":\"a\", \n          \"name\":\"jack\"\n      }, \n      randomKey2:{\n          \"id\":\"b\", \n          \"name\":\"alice\"\n      }\n    },\n    random2:{\n       randomKey1:{\n          \"id\":\"c\", \n          \"name\":\"paul\"\n      }\n    }\n}\n</code></pre>\n\n<p>Each of my json objects also contains objects.</p>\n\n<p>I use Gson to deserialize. But not my expected result.</p>\n\n<p>I hope to deserialize it output <code>Map&lt;String, Map&lt;String, Any&gt;&gt;</code></p>\n\n<p>I use <code>JsonDeserializer</code> to implement. But there is a problem when <code>for</code> loop.</p>\n\n<pre><code>for ((key, element) in jsonObject.entrySet()) {\n   for ((key2, element2) in element.asJsonObject.entrySet()) {\n      result2[key2] = element2\n   }\n   result[key] = result2\n}\n</code></pre>\n\n<p>Output is always </p>\n\n<pre><code>{random1={randomKey1={value}, randomKey2={value}, randomKey3={value}}, random2={randomKey1={value}}}\n</code></pre>\n\n<p>Expected output</p>\n\n<pre><code>{random1={randomKey1={value}, randomKey2={value}}, random2={randomKey1={value}}}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2", "clean-architecture"], "comments": [{"owner": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 1, "creation_date": 1550568551, "post_id": 54762425, "comment_id": 96305997, "body": "I&#39;m not Dagger expert but, shouldn&#39;t your component have its Modules declared? e.g. @Component(modules = [ContextModule::class])"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1550569046, "post_id": 54762425, "comment_id": 96306286, "body": "Please always include the actual error message (<i>compiler complains that the injected apiService and schedulers in ApiServiceInteractor need a corresponding @Provides</i>). It sounds like you have an error with your dependencies, please read here about <a href=\"https://stackoverflow.com/q/44912080/1837367\">How do I fix Dagger 2 error \u2026 cannot be provided</a>"}], "owner": {"reputation": 483, "user_id": 1089629, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1ebe15bf480f76dc40fe630e05dcbe0f?s=128&d=identicon&r=PG", "display_name": "Myles Bennett", "link": "https://stackoverflow.com/users/1089629/myles-bennett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1550573152, "creation_date": 1550567299, "last_edit_date": 1550573152, "question_id": 54762425, "link": "https://stackoverflow.com/questions/54762425/will-dagger-2-work-in-a-pure-kotlin-module-removed-from-the-android-layer", "title": "Will Dagger 2 work in a pure-Kotlin module, removed from the Android layer?", "body": "<p>I am trying to implement a clean code architecture similar to what's described <a href=\"https://proandroiddev.com/clean-architecture-data-flow-dependency-rule-615ffdd79e29\" rel=\"nofollow noreferrer\">here</a>. To enforce it, each layer is a separate module in Android Studio with the dependency chain thus:</p>\n\n<blockquote>\n  <p>model(pure-kotlin) -> interactor(pure-kotlin) -> viewmodel(android) ->\n  view(android)</p>\n</blockquote>\n\n<p>So to be clear, the <code>view</code> only knows about the <code>viewmodel</code> and the <code>viewmodel</code> only knows about the <code>interactor</code>. The view (normally the <code>app</code> module) is where the <code>MainActivity</code> lives.</p>\n\n<p>I am currently working on the <code>interactor</code> in isolation and I am trying to use Dagger 2 for injection there. I have written the following code all in the <code>interactor</code> module:</p>\n\n<pre><code>... (Build.gradle)\nimplementation 'com.google.dagger:dagger:2.20'\nkapt 'com.google.dagger:dagger-compiler:2.20'\n...\n\nabstract class ApiServiceInteractor() {\n    @Inject lateinit var apiService: ApiService\n    @Inject lateinit var schedulers: InteractorSchedulers\n}\n\nclass Posts @Inject constructor() : ApiServiceInteractor() {\n    fun fetch(): Single&lt;List&lt;PostSummary&gt;&gt; =\n        apiService.getPosts()\n            .subscribeOn(schedulers.io())\n            .toObservable()\n            .flatMapIterable { postList -&gt; postList }\n            .map { post -&gt; PostSummary(post.id, post.title) }\n            .toList()\n}\n\n@Module\nopen class InteractorModule {\n    @Singleton @Provides \n    open fun provideApiService(): ApiService = ApiService.create()\n\n    @Provides \n    open fun provideSchedulers(): InteractorSchedulers = InteractorSchedulers()\n}\n\n@Component\ninterface Component {\n    fun inject(posts: Posts)\n}\n\nval dagger = DaggerComponent.create() // &lt;--- not generated!!!\n</code></pre>\n\n<p>The code does not compile. The compiler complains that the injected <code>apiService</code> and <code>schedulers</code> in <code>ApiServiceInteractor</code> need a corresponding <code>@Provides</code>, furthermore the <code>DaggerComponent</code> implementation is not auto-generated. Now, I realise that the <code>Component</code> interface doesn't make sense here, but you need one to auto-generate <code>DaggerComponent</code> and this is just prototyping at this stage.</p>\n\n<p>If I move the <code>Component</code> interface and the <code>DaggerComponent.create()</code> into the view (and have the inject signature use <code>MainActivity</code> instead of Posts) then everything compiles fine and <code>DaggerComponent</code> is created.</p>\n\n<p>My worry is that when everything is finally written, Dagger will not be able to resolve the <code>@Provides</code> for <code>apiService</code> and <code>schedulers</code> because there is a degree of separation between the <code>view</code> and the <code>interactor</code> (where the <code>@Provides</code> are). The only examples I have seen that are anything similar to this have the <code>@Provides</code> in the <code>view</code> (<code>app</code>) module. If I do that, however, I will break the clean code architecture dependency rule because the <code>view</code> will then have a dependency on the <code>interactor</code>.</p>\n\n<p>So will it work the way it is? Will those values get injected?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I removed the '@Component' and 'DaggerComponent' declarations from <code>view</code>, put them back in <code>interactor</code> and added '@Component(modules = [InteractorModule::class])'. The compiler no longer complains about missing provides (thanks Ivan), but the IDE still reports that DaggerComponent does not exist. Calling <code>DaggerComponent.create().inject(this)</code> in Posts init does not compile because DaggerComponent has not been generated.</p>\n\n<p>So it appears that <code>DaggerComponent</code> can only be generated in the <code>view</code> module which means that the <code>@Component</code> declaration also has to be in the <code>view</code> module, along with the <code>modules = [InteractorModule::class]</code> annotation parameter. And once you do that, you have a dependency between <code>view</code> and <code>interactor</code> on <code>InteractorModule</code>, breaking the clean code architecture dependency rule.</p>\n\n<p>So the main question still remains, how to get Dagger 2 to work in a pure-Kotlin module removed from the Android layer?</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines", "android-viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1550586976, "creation_date": 1550586976, "answer_id": 54768716, "question_id": 54761583, "link": "https://stackoverflow.com/questions/54761583/android-viewmodel-test-using-kotlin-coroutines-not-working/54768716#54768716", "title": "Android: ViewModel test using kotlin coroutines not working", "body": "<p>The <code>TestCoroutineContext</code> dispatcher is useful to handle timing within tests, but you want to run asynchronous calls synchronously. You should be able to achieve this with the <code>Unconfined</code> dispatcher.</p>\n"}, {"tags": [], "owner": {"reputation": 708, "user_id": 2719243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQYVa.jpg?s=128&g=1", "display_name": "Vahab Ghadiri", "link": "https://stackoverflow.com/users/2719243/vahab-ghadiri"}, "is_accepted": false, "score": 0, "last_activity_date": 1593388262, "creation_date": 1593388262, "answer_id": 62629418, "question_id": 54761583, "link": "https://stackoverflow.com/questions/54761583/android-viewmodel-test-using-kotlin-coroutines-not-working/62629418#62629418", "title": "Android: ViewModel test using kotlin coroutines not working", "body": "<p>I believe better approach is to <strong>pass dispatcher to viewModels</strong>, so tests are super easy..\nsee this <a href=\"https://stackoverflow.com/a/62629410/2719243\">https://stackoverflow.com/a/62629410/2719243</a></p>\n"}], "owner": {"reputation": 9908, "user_id": 257948, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/63fc52037c03c7d22c8baf001f55f2f7?s=128&d=identicon&r=PG&f=1", "display_name": "noloman", "link": "https://stackoverflow.com/users/257948/noloman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 54768716, "answer_count": 2, "score": 0, "last_activity_date": 1593388262, "creation_date": 1550564296, "last_edit_date": 1550582657, "question_id": 54761583, "link": "https://stackoverflow.com/questions/54761583/android-viewmodel-test-using-kotlin-coroutines-not-working", "title": "Android: ViewModel test using kotlin coroutines not working", "body": "<p>I'm using coroutines for the first time and I'm having troubles testing my work on a <code>ViewModel</code>. \nThe test fails with </p>\n\n<pre><code>Wanted but not invoked:\nobserver.onChanged(&lt;Capturing argument&gt;);\n</code></pre>\n\n<p>The test is the following:</p>\n\n<pre><code>val androidVersioningMock: Versioning.AndroidVersioning = mock {\n    on { required } doAnswer { \"3.3.6\" }\n}\nval versioningMock: Versioning = mock {\n    on { android } doAnswer { androidVersioningMock }\n}\nwhenever(networkManager.getAppVersionAsync()).thenReturn(GlobalScope.async { versioningMock })\nrunBlocking {\n    updateVersionModel =\n        UpdateViewModel(application, coroutineDispatcherProvider).apply {\n            updateLiveData.observeForever(stateObserver)\n        }\n    verify(stateObserver).onChanged(stateCaptor.capture())\n    assertTrue(stateCaptor.lastValue is UpdateState.NoUpdate)\n    assertEquals(UpdateState.NoUpdate, stateCaptor.lastValue)\n}\n</code></pre>\n\n<p>I have mocked the <code>coroutineDispatcherProvider</code> with </p>\n\n<pre><code>@ExperimentalCoroutinesApi\noverride val coroutineDispatcherProvider = mock&lt;CoroutineDispatcherProvider&gt; {\n    on { main } doAnswer { TestCoroutineContext() }\n    on { io } doAnswer { TestCoroutineContext() }\n}\n</code></pre>\n\n<p>And in my ViewModel, the method that fails is </p>\n\n<pre><code>private suspend fun getUpdateVersion(): Versioning =\n    withContext(coroutineDispatcherProvider.io) {\n        networkManager.getAppVersionAsync().await()\n    }\n</code></pre>\n\n<p>which is executed like :</p>\n\n<pre><code>launch {\n    val versioningModel = getUpdateVersion()\n    ...\n}\n</code></pre>\n\n<p>Am I not mocking something or not doing something? Thanks in advance!</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "okhttp"], "owner": {"reputation": 11, "user_id": 9744152, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WzUVs0qrj3U/AAAAAAAAAAI/AAAAAAAAAI0/cyDy9sUKDyo/photo.jpg?sz=128", "display_name": "Rubin Bajracharya", "link": "https://stackoverflow.com/users/9744152/rubin-bajracharya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550564064, "creation_date": 1550564064, "question_id": 54761516, "link": "https://stackoverflow.com/questions/54761516/how-to-fix-ssl-handshake-error-when-device-is-connected-to-the-network-but-not-l", "title": "How to fix SSL Handshake Error when device is connected to the network but not logged in through website to access Internet?", "body": "<p>On opening the Application when the device is connected to the network but not logged in to the network through web portal to access internet, My Code is having trouble with adding interceptor. </p>\n\n<pre><code>operator fun invoke(prefManager: PrefManager): ApiServices {\n\n   val loggingInterceptor = HttpLoggingInterceptor()\n   loggingInterceptor.level = HttpLoggingInterceptor.Level.BODY\n\n   val client = OkHttpClient().newBuilder()\n       .connectTimeout(5, TimeUnit.MINUTES)\n       .readTimeout(500, TimeUnit.SECONDS)\n       .writeTimeout(500, TimeUnit.SECONDS)\n       .addInterceptor(OkHttpProfilerInterceptor())\n       .addInterceptor(loggingInterceptor)\n\n       if (prefManager.getAccessToken() != DEFAULT) {\n          val interceptor = Interceptor { chain -&gt;\n             val request = chain\n                        .request()\n                        .newBuilder()\n                        .addHeader(\n                 \"Authorization\",\n                 \"${prefManager.getType()} ${prefManager.getAccessToken()}\"\n              )\n              .build()\n                    chain.proceed(request) // -&gt; Error Occurring Here ...\n                }\n                client.addNetworkInterceptor(interceptor)\n            }\n\n            return Retrofit.Builder()\n                .baseUrl(BuildConfig.BASE_URL)\n                .client(client.build())\n                .addCallAdapterFactory(CoroutineCallAdapterFactory())\n                .addConverterFactory(GsonConverterFactory.create())\n                .build().create(ApiServices::class.java)\n        }\n</code></pre>\n\n<p>Getting the following Error Response in LogCat.</p>\n\n<pre><code>Process: com.fusemachines.sagisu, PID: 22011\n    javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\n        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:328)\n        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:318)\n        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:282)\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:167)\n        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\n        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\n        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.java:213)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at com.itkacher.okhttpprofiler.OkHttpProfilerInterceptor.intercept(OkHttpProfilerInterceptor.java:28)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\n        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:147)\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n        at java.lang.Thread.run(Thread.java:818)\n     Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\n        at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:324)\n        at com.android.org.conscrypt.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:225)\n        at com.android.org.conscrypt.Platform.checkServerTrusted(Platform.java:115)\n        at com.android.org.conscrypt.OpenSSLSocketImpl.verifyCertificateChain(OpenSSLSocketImpl.java:556)\n        at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\n        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:324)\n        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:318)\u00a0\n        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:282)\u00a0\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:167)\u00a0\n        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\u00a0\n        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\u00a0\n        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\u00a0\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n        at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.java:213)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n        at com.itkacher.okhttpprofiler.OkHttpProfilerInterceptor.intercept(OkHttpProfilerInterceptor.java:28)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\u00a0\n        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:147)\u00a0\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\u00a0\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\u00a0\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\u00a0\n        at java.lang.Thread.run(Thread.java:818)\u00a0\n     Caused by: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\n        at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:324)\u00a0\n        at com.android.org.conscrypt.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:225)\u00a0\n        at com.android.org.conscrypt.Platform.checkServerTrusted(Platform.java:115)\u00a0\n        at com.android.org.conscrypt.OpenSSLSocketImpl.verifyCertificateChain(OpenSSLSocketImpl.java:556)\u00a0\n        at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\u00a0\n        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:324)\u00a0\n        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:318)\u00a0\n        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:282)\u00a0\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:167)\u00a0\n        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\u00a0\n        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\u00a0\n        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\u00a0\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n        at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.java:213)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n        at com.itkacher.okhttpprofiler.OkHttpProfilerInterceptor.intercept(OkHttpProfilerInterceptor.java:28)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\u00a0\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\u00a0\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\u00a0\n        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:147)\u00a0\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\u00a0\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\u00a0\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\u00a0\n        at java.lang.Thread.run(Thread.java:818)\u00a0\n</code></pre>\n\n<p>Since the Error occured inside the chain call, I am not able to solve this issue.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 2879, "user_id": 1856562, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/73aac0cf3773eb9f6627265c407e0ecc?s=128&d=identicon&r=PG", "display_name": "FarshidABZ", "link": "https://stackoverflow.com/users/1856562/farshidabz"}, "edited": false, "score": 1, "creation_date": 1550563453, "post_id": 54761297, "comment_id": 96303355, "body": "See <a href=\"https://medium.com/@farshidabazari/improve-recyclerview-performance-ede5cec6c5bf\" rel=\"nofollow noreferrer\">this article</a>"}, {"owner": {"reputation": 180, "user_id": 10259099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOFWi.png?s=128&g=1", "display_name": "Rofie Sagara", "link": "https://stackoverflow.com/users/10259099/rofie-sagara"}, "reply_to_user": {"reputation": 2879, "user_id": 1856562, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/73aac0cf3773eb9f6627265c407e0ecc?s=128&d=identicon&r=PG", "display_name": "FarshidABZ", "link": "https://stackoverflow.com/users/1856562/farshidabz"}, "edited": false, "score": 0, "creation_date": 1550566921, "post_id": 54761297, "comment_id": 96304972, "body": "Thanks @FarshidABZ idk if ConstraintLayout so slow in RecycleView"}], "answers": [{"tags": [], "owner": {"reputation": 180, "user_id": 10259099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOFWi.png?s=128&g=1", "display_name": "Rofie Sagara", "link": "https://stackoverflow.com/users/10259099/rofie-sagara"}, "is_accepted": false, "score": 1, "last_activity_date": 1550567065, "creation_date": 1550567065, "answer_id": 54762361, "question_id": 54761297, "link": "https://stackoverflow.com/questions/54761297/optimize-recycleview-for-chat-android/54762361#54762361", "title": "Optimize RecycleView for Chat Android", "body": "<p>Thanks @FarshidABZ\nChange ConstraintLayout to Linear make more fast in RecycleView\nsee this <a href=\"https://medium.com/@farshidabazari/improve-recyclerview-performance-ede5cec6c5bf\" rel=\"nofollow noreferrer\">article</a></p>\n"}], "owner": {"reputation": 180, "user_id": 10259099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOFWi.png?s=128&g=1", "display_name": "Rofie Sagara", "link": "https://stackoverflow.com/users/10259099/rofie-sagara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550567065, "creation_date": 1550563275, "last_edit_date": 1550564932, "question_id": 54761297, "link": "https://stackoverflow.com/questions/54761297/optimize-recycleview-for-chat-android", "title": "Optimize RecycleView for Chat Android", "body": "<p>I have RecycleView to show Chat from local database use Room and it works fine but when I try to scroll fast it does not respond for a couple seconds.\nI already try to make simple logic onBindViewHolder but still the same. its because I use View.GONE and View.Visible in time group? how can I make this faster when scroll and I load data from local with limit 100.</p>\n\n<p>this my Adapter using SortedList</p>\n\n<pre><code>class ContentAdapter(private val userUid: String, private val mListener: (code: Int, data: Content)-&gt;Unit): ExperimentalAdapter&lt;Content, ContentAdapter.Holder&gt;() {\n  private var lastDateTime: DateTime = DateFactory().getDateTimeDefaultTimezone()\n  private var lastPosition = 0\n\n  init {\n    mData = SortedListAsync(\n      Content::class.java,\n      object : SortedListAsyncAdapterCallback&lt;Content&gt;(this) {\n        override fun areContentsTheSame(oldItem: Content?, newItem: Content?): Boolean {\n          if(oldItem!!.dateTime == null){\n            oldItem.calculateDateTime()\n          }\n          if(newItem!!.dateTime == null){\n            newItem.calculateDateTime()\n          }\n          return oldItem.content == newItem.content &amp;&amp;\n              oldItem.status == newItem.status &amp;&amp;\n              oldItem.createdAt == newItem.createdAt\n        }\n\n        override fun areItemsTheSame(item1: Content?, item2: Content?): Boolean {\n          if(item1!!.dateTime == null){\n            item1.calculateDateTime()\n          }\n          if(item2!!.dateTime == null){\n            item2.calculateDateTime()\n          }\n          return item1.uid == item2.uid\n        }\n\n        override fun compare(o1: Content?, o2: Content?): Int {\n          if(o1!!.dateTime == null){\n            o1.calculateDateTime()\n          }\n          if(o2!!.dateTime == null){\n            o2.calculateDateTime()\n          }\n          return o2.createdAt.toDateTime().millis\n            .compareTo(o1.createdAt.toDateTime().millis)\n        }\n      })\n\n    setHasStableIds(true)\n  }\n\n  override fun onBindViewHolder(holder: Holder, position: Int) {\n    val timeExec = measureNanoTime {\n      var item: Content = mData.get(position)\n      var isShowTime = false\n      var timeString = \"\"\n\n      var itemBefore: Content? = null\n\n      if (position != 0) {\n        itemBefore = mData.get(position - 1)\n      }\n\n      if (itemBefore != null) {\n        val nowDate = item.dateTime!!\n        val beforeDate = itemBefore.dateTime!!\n\n        if(item.beforeDateTime == null || item.beforeDateTime != beforeDate){\n          d(\"do checking time\")\n          if (!DateFactory().isStillInOneDay(nowDate, beforeDate)) {\n            when {\n              DateFactory().isStillInOneDay(lastDateTime, beforeDate) -&gt; {\n                isShowTime = true\n                timeString = \"Today\"\n              }\n              DateFactory().isYesterday(lastDateTime, beforeDate) -&gt; {\n                isShowTime = true\n                timeString = \"Yesterday\"\n              }\n              DateFactory().isTheDayBeforeYesterday(lastDateTime, beforeDate) -&gt; {\n                isShowTime = true\n                timeString = \"${beforeDate.dayOfWeek().asShortText}, ${beforeDate.dayOfMonth().get()}/${beforeDate.monthOfYear().get()}/${beforeDate.year().get()}\"\n              }\n              else -&gt; {\n                isShowTime = true\n                timeString = \"${beforeDate.dayOfWeek().asShortText}, ${beforeDate.dayOfMonth().get()}/${beforeDate.monthOfYear().get()}/${beforeDate.year().get()}\"\n              }\n            }\n          }\n\n          mData.get(position).apply {\n            this.timeString = timeString\n            this.isShowTime = isShowTime\n            this.beforeDateTime = beforeDate\n          }\n          item = mData.get(position)\n        }else{\n          d(\"Skip checking time\")\n        }\n        lastPosition = position\n      }\n\n      holder.bind(item, item.isShowTime, item.timeString)\n    }\n    d(\"Time for exec ${mData.get(position).content} is $timeExec\")\n  }\n\n  override fun getItemViewType(position: Int): Int {\n    val type = mData.get(position)\n\n    if(type.type == GlobalConfig.CONTENT_TYPE_IMAGE){\n      return if (type.createdBy == userUid){\n        10\n      }else{\n        11\n      }\n    }else if(type.type == GlobalConfig.CONTENT_TYPE_TEXT){\n      return if (type.createdBy == userUid){\n        20\n      }else{\n        22\n      }\n    }\n    return 99\n  }\n\n  override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): Holder {\n    d(\"inflate calling\")\n    when(viewType){\n      10 -&gt; {\n        val view = LayoutInflater.from(parent.context)\n            .inflate(R.layout.view_item_chat_image_mine, parent, false)\n        return HolderImageMine(view, mListener)\n      }\n      11 -&gt; {\n        val view = LayoutInflater.from(parent.context)\n            .inflate(R.layout.view_item_chat_image_other, parent, false)\n        return HolderImageOther(view, mListener)\n      }\n      20 -&gt; {\n        val view = LayoutInflater.from(parent.context)\n            .inflate(R.layout.view_item_chat_text_mine, parent, false)\n        return HolderTextMine(view, mListener)\n      }\n      22 -&gt; {\n        val view = LayoutInflater.from(parent.context)\n            .inflate(R.layout.view_item_chat_text_other, parent, false)\n        return HolderTextOther(view, mListener)\n      }\n      else -&gt; {\n        val view = LayoutInflater.from(parent.context)\n            .inflate(R.layout.view_item_chat_text_mine, parent, false)\n        return HolderTextMine(view, mListener)\n      }\n    }\n  }\n\n\n  abstract class Holder(v: View): RecyclerView.ViewHolder(v){\n    private val mTimeLastRead: TextView = v.findViewById(R.id.victTVLastRead)\n    private val mTimeLastIndex: TextView = v.findViewById(R.id.victTVTimeIndex)\n    private val mHolderView: ConstraintLayout = v.findViewById(R.id.victRoot) ?: v.findViewById(R.id.include)\n\n    open fun bind(data: Content, isShowTime: Boolean, timeString: String){\n      if (mTimeLastRead.visibility != View.GONE) mTimeLastRead.visibility = View.GONE\n\n\n      if(isShowTime){\n        if (mTimeLastIndex.visibility != View.VISIBLE) mTimeLastIndex.visibility = View.VISIBLE\n\n        if(mTimeLastIndex.text != timeString) mTimeLastIndex.text = timeString\n      }else{\n        if(mTimeLastIndex.visibility != View.GONE) mTimeLastIndex.visibility = View.GONE\n\n        if(mTimeLastIndex.text != timeString)  mTimeLastIndex.text = timeString\n      }\n\n      if(mTimeLastRead.visibility == View.GONE &amp;&amp; mTimeLastIndex.visibility == View.GONE){\n        if(mHolderView.visibility != View.GONE) mHolderView.visibility = View.GONE\n      }else{\n        if(mHolderView.visibility != View.VISIBLE) mHolderView.visibility = View.VISIBLE\n      }\n    }\n  }\n\n  class HolderTextMine(v: View,private val l: (code: Int, data: Content)-&gt;Unit): Holder(v){\n    private val mTimeText: TextView = v.findViewById(R.id.viChatTextMineTime)\n    private val mReadText: TextView = v.findViewById(R.id.viChatTextMineRead)\n    private val mContentText: TextView = v.findViewById(R.id.viChatTextMineContent)\n\n    override fun bind(data: Content, isShowTime: Boolean, timeString: String) {\n      super.bind(data, isShowTime, timeString)\n      mTimeText.text = data.timeContentString\n      mContentText.text = data.content\n\n      mReadText.text = data.statusText\n\n      itemView.apply {\n        setOnClickListener {\n          l(ON_CLICK, data)\n        }\n      }\n    }\n  }\n\n  class HolderTextOther(v: View,private val l: (code: Int, data: Content)-&gt;Unit): Holder(v){\n    private val mTimeText: TextView = v.findViewById(R.id.viChatTextTime)\n    private val mContentText: TextView = v.findViewById(R.id.viChatTextContent)\n\n    override fun bind(data: Content, isShowTime: Boolean, timeString: String) {\n      super.bind(data, isShowTime, timeString)\n      mTimeText.text = data.timeContentString\n      mContentText.text = data.content\n\n      itemView.apply {\n        setOnClickListener {\n          l(ON_CLICK, data)\n        }\n      }\n    }\n  }\n\n  class HolderImageMine(v: View,private val l: (code: Int, data: Content)-&gt;Unit): Holder(v){\n    private val mTimeText: TextView = v.findViewById(R.id.viChatImageTime)\n    private val mReadText: TextView = v.findViewById(R.id.viChatImageRead)\n    private val mImageView: ImageView = v.findViewById(R.id.viChatImageView)\n\n    override fun bind(data: Content, isShowTime: Boolean, timeString: String) {\n      super.bind(data, isShowTime, timeString)\n      mTimeText.text = data.timeContentString\n\n      if(data.status != 0) {\n        val link = MediaApi().createUrlPictureContent(data.content)\n        val token = SharedUtils(itemView.context).getToken()!!\n        Glide.with(itemView).load(Connection.headerUrl(link, token))\n          .thumbnail(0.1f).apply(\n            RequestOptions().dontAnimate().dontTransform().diskCacheStrategy(DiskCacheStrategy.ALL).override(18, 18)\n        ).into(mImageView)\n      }else{\n        Glide.with(itemView).load(data.content).thumbnail(0.1f).apply(\n            RequestOptions().dontAnimate().dontTransform().diskCacheStrategy(DiskCacheStrategy.ALL).override(18, 18)\n        ).into(mImageView)\n      }\n\n      mReadText.text = data.statusText\n\n      itemView.apply {\n        setOnClickListener {\n          l(ON_CLICK, data)\n        }\n      }\n    }\n  }\n\n  class HolderImageOther(v: View,private val l: (code: Int, data: Content)-&gt;Unit): Holder(v){\n    private val mTimeText: TextView = v.findViewById(R.id.viChatImageOtherTime)\n    private val mImageView: ImageView = v.findViewById(R.id.viChatImageOtherView)\n\n    override fun bind(data: Content, isShowTime: Boolean, timeString: String) {\n      super.bind(data, isShowTime, timeString)\n      mTimeText.text = data.timeContentString\n      val link = MediaApi().createUrlPictureContent(data.content)\n      val token = SharedUtils(itemView.context).getToken()!!\n      Glide.with(itemView).load(Connection.headerUrl(link, token)).thumbnail(0.1f).apply(\n          RequestOptions().dontAnimate().dontTransform().diskCacheStrategy(DiskCacheStrategy.ALL).override(18, 18)\n      ).into(mImageView)\n\n      itemView.apply {\n        setOnClickListener {\n          l(ON_CLICK, data)\n        }\n      }\n    }\n  }\n\n  companion object {\n    const val ON_CLICK = 1\n  }\n}\n</code></pre>\n\n<p>and this my RecycleView in Fragment</p>\n\n<pre><code>mRecycleView.apply {\n  layoutManager = object :LinearLayoutManager(context, RecyclerView.VERTICAL, true){\n    override fun supportsPredictiveItemAnimations(): Boolean {\n      return false\n    }\n  }\n  this.layoutManager?.isItemPrefetchEnabled = true\n\n  adapter = ContentAdapter(SharedUtils(context!!).getUid()!!){ code, data -&gt;\n    when(code){\n      ContentAdapter.ON_CLICK -&gt; {\n        if(data.type == GlobalConfig.CONTENT_TYPE_IMAGE){\n          val bundle = bundleOf(\n              Pair(\"image\", data.content)\n          )\n          view?.findNavController()?.navigate(R.id.action_chatFragment_to_viewImageFragment, bundle)\n        }\n      }\n    }\n  }\n\n  clearOnScrollListeners()\n  addOnScrollListener(object :EndlessRecyclerOnScrollListener(layoutManager as LinearLayoutManager) {\n    override fun onLoadMore(current_page: Int, totalItem: Int) {\n      rLaunch {\n        mLoading = true\n        withContext(Dispatchers.Main) {\n          viewModel.isLoading.value = true\n        }\n        viewModel.loadContent(totalItem)\n      }\n      d(\"Load content Chat!\")\n    }\n  })\n\n  itemAnimator = null\n\n  setOnTouchListener { view, motionEvent -&gt;\n    this@ChatFragment.activity?.hideKeyboardFrom(mTextContent)\n    return@setOnTouchListener false }\n   }\n</code></pre>\n\n<p>this is my XML for show image message</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n  xmlns:tools=\"http://schemas.android.com/tools\"\n  android:id=\"@+id/viChatRootImageMine\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"wrap_content\"\n  android:background=\"@android:color/transparent\"\n  android:orientation=\"vertical\"&gt;\n\n  &lt;androidx.cardview.widget.CardView\n    android:id=\"@+id/viChatRoomImageCard\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_margin=\"5dp\"\n    app:cardBackgroundColor=\"#dbe8ff\"\n    app:cardCornerRadius=\"10dp\"\n    app:cardElevation=\"1dp\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n      android:id=\"@+id/viChatRootImageLayout\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      android:layout_marginTop=\"8dp\"\n      android:layout_marginEnd=\"8dp\"\n      app:layout_constraintEnd_toEndOf=\"parent\"\n      app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n      &lt;ImageView\n        android:id=\"@+id/viChatImageView\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"150dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:scaleType=\"fitXY\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toStartOf=\"@+id/viChatImageTime\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:srcCompat=\"@color/white\" /&gt;\n\n      &lt;TextView\n        android:id=\"@+id/viChatImageTime\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"4dp\"\n        android:layout_marginBottom=\"4dp\"\n        android:text=\"07:00\"\n        android:textSize=\"12sp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toStartOf=\"@+id/viChatImageRead\" /&gt;\n\n      &lt;TextView\n        android:id=\"@+id/viChatImageRead\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginBottom=\"4dp\"\n        android:text=\"R\"\n        android:textSize=\"10sp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\" /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n  &lt;/androidx.cardview.widget.CardView&gt;\n\n  &lt;include\n    android:id=\"@+id/include\"\n    layout=\"@layout/view_item_chat_time\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:visibility=\"gone\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/space4\" /&gt;\n\n  &lt;Space\n    android:id=\"@+id/space4\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"1dp\"\n    android:layout_marginEnd=\"8dp\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/viChatRoomImageCard\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>and this for show text</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n  xmlns:tools=\"http://schemas.android.com/tools\"\n  android:id=\"@+id/viChatTextMineRoot\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"wrap_content\"\n  android:background=\"@android:color/transparent\"&gt;\n\n  &lt;androidx.cardview.widget.CardView\n    android:id=\"@+id/viChatTextMineCard\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_margin=\"5dp\"\n    android:padding=\"5dp\"\n    app:cardBackgroundColor=\"#dbe8ff\"\n    app:cardCornerRadius=\"10dp\"\n    app:cardElevation=\"1dp\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n      android:id=\"@+id/viChatTextMineLayout\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      android:layout_marginTop=\"1dp\"\n      android:layout_marginEnd=\"1dp\"\n      app:layout_constraintEnd_toEndOf=\"parent\"\n      app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n      &lt;TextView\n        android:id=\"@+id/viChatTextMineTime\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"4dp\"\n        android:layout_marginBottom=\"4dp\"\n        android:text=\"07:00\"\n        android:textSize=\"12sp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toStartOf=\"@+id/viChatTextMineRead\" /&gt;\n\n      &lt;TextView\n        android:id=\"@+id/viChatTextMineRead\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"8dp\"\n        android:text=\"R\"\n        android:textSize=\"10sp\"\n        app:layout_constraintBottom_toBottomOf=\"@+id/viChatTextMineTime\"\n        app:layout_constraintEnd_toEndOf=\"parent\" /&gt;\n\n      &lt;TextView\n        android:id=\"@+id/viChatTextMineContent\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:paddingLeft=\"5dp\"\n        android:paddingRight=\"5dp\"\n        android:scrollbarStyle=\"outsideOverlay\"\n        android:text=\"Rofie Sagara\"\n        android:textColor=\"@color/black\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toStartOf=\"@+id/viChatTextMineTime\"\n        app:layout_constraintHorizontal_bias=\"1.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constrainedWidth=\"true\" /&gt;\n\n      &lt;androidx.constraintlayout.widget.Guideline\n        android:id=\"@+id/guideline2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"\n        app:layout_constraintGuide_begin=\"22dp\" /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n  &lt;/androidx.cardview.widget.CardView&gt;\n\n  &lt;include\n    android:id=\"@+id/include\"\n    layout=\"@layout/view_item_chat_time\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:visibility=\"gone\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"@+id/space\" /&gt;\n\n  &lt;Space\n    android:id=\"@+id/space\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"1dp\"\n    android:layout_marginEnd=\"8dp\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/viChatTextMineCard\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin", "gson"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1550564540, "post_id": 54761140, "comment_id": 96303788, "body": "Post the &quot;same code is written in java&quot;."}, {"owner": {"reputation": 51, "user_id": 1436913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95390f7e12a77db7756999990bf94f5?s=128&d=identicon&r=PG", "display_name": "megha", "link": "https://stackoverflow.com/users/1436913/megha"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1550565137, "post_id": 54761140, "comment_id": 96304072, "body": "Have edited the code with java code also"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1550567211, "post_id": 54761140, "comment_id": 96305154, "body": "See this: <a href=\"https://stackoverflow.com/questions/19588020/gson-serialize-a-list-of-polymorphic-objects\" title=\"gson serialize a list of polymorphic objects\">stackoverflow.com/questions/19588020/&hellip;</a>"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1550567266, "post_id": 54761140, "comment_id": 96305188, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19588020/gson-serialize-a-list-of-polymorphic-objects\">Gson serialize a list of polymorphic objects</a>"}, {"owner": {"reputation": 51, "user_id": 1436913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95390f7e12a77db7756999990bf94f5?s=128&d=identicon&r=PG", "display_name": "megha", "link": "https://stackoverflow.com/users/1436913/megha"}, "edited": false, "score": 0, "creation_date": 1550569017, "post_id": 54761140, "comment_id": 96306267, "body": "For me with the same library its working in java I don&#39;t know how.For deserialization I agree that we need RuntimeTypeAdapterFactory but I don&#39;t understand do we really need for serialization."}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1550588318, "post_id": 54761140, "comment_id": 96318284, "body": "I ran your code, and it returns the correct results in Kotlin: <code>{&quot;status&quot;:1,&quot;vehicles&quot;:[{&quot;tyre&quot;:4,&quot;number&quot;:1,&quot;name&quot;:&quot;somenam&zwnj;&#8203;e&quot;},{&quot;tyre&quot;:4,&quot;numbe&zwnj;&#8203;r&quot;:1,&quot;name&quot;:&quot;somenam&zwnj;&#8203;e&quot;}]}</code>. As your original examples didn&#39;t compile, my guess is the problem is within your code, and not with Gson."}], "answers": [{"tags": [], "owner": {"reputation": 434, "user_id": 3046335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2990d40e03680147a39b8d65ca86a11?s=128&d=identicon&r=PG&f=1", "display_name": "DEV-Jacol", "link": "https://stackoverflow.com/users/3046335/dev-jacol"}, "is_accepted": false, "score": 0, "last_activity_date": 1550689181, "creation_date": 1550689181, "answer_id": 54793475, "question_id": 54761140, "link": "https://stackoverflow.com/questions/54761140/derived-class-properties-not-getting-serialized-in-kotlin/54793475#54793475", "title": "Derived class properties not getting serialized in kotlin", "body": "<p>your code does not compile and that's why I do not know where the problem is.</p>\n\n<p>my proposition of the code in the kotlin is as follows</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val vehicle = Vehicle(\"somename\", 1)\n    val car = Car(vehicle, 4)\n    val car2 = Car(vehicle, 4)\n    val vehicles = listOf(car, car2)\n\n    val response = SampleClassResponse(1, vehicles)\n    val json = Gson().toJson(response)\n    println(json)\n}\n\nclass SampleClassResponse(val status: Int, val vehicles: List&lt;Vehicle&gt;)\n\nopen class Vehicle(var name: String?, var number: Int = 0)\nclass Car(sample: Vehicle, var tyre: Int) : Vehicle(sample.name, sample.number)\n</code></pre>\n\n<p>now is what you would like to get</p>\n\n<pre><code>{\"status\":1,\"vehicles\":[{\"tyre\":4,\"name\":\"somename\",\"number\":1},{\"tyre\":4,\"name\":\"somename\",\"number\":1}]}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 1436913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95390f7e12a77db7756999990bf94f5?s=128&d=identicon&r=PG", "display_name": "megha", "link": "https://stackoverflow.com/users/1436913/megha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550689181, "creation_date": 1550562651, "last_edit_date": 1550588387, "question_id": 54761140, "link": "https://stackoverflow.com/questions/54761140/derived-class-properties-not-getting-serialized-in-kotlin", "title": "Derived class properties not getting serialized in kotlin", "body": "<p>I am trying to serialize derived object using Gson in Kotlin and on serialization I am getting only parent class attributes Gson is ignoring all derived class attributes.\nHere is my code: </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val somename = Sample(1, \"somename\")\n    val car = Car(somename, 4)\n    val car2 = Car(somename, 4)\n    val vehicles = object : ArrayList&lt;Vehicle&gt;() {\n\n    }\n    vehicles.add(car)\n    vehicles.add(car2)\n    val sampleClassResponse = SampleClassResponse(1, vehicles)\n    val gson = Gson()\n    val x = gson.toJson(sampleClassResponse)\n    println(x)\n    //        System.out.println(car.tyre);\n}\n</code></pre>\n\n<p>// Base class:</p>\n\n<pre><code>public class Vehicle {\nint number;\nString name;\n}\n</code></pre>\n\n<p>Sub class:</p>\n\n<pre><code>import Sample.Sample;\n\npublic class Car extends Vehicle {\n    int tyre;\n    public Car(Vehicle sample, int tyre) {\n        super(sample.number, sample.name);\n        this.tyre = tyre;\n    }\n}\n</code></pre>\n\n<p>SampleResponse class</p>\n\n<pre><code>public class SampleClassResponse {\n    private int status;\n    private List&lt;Vehicle&gt; vehicles;\n    public SampleClassResponse(int status, List&lt;Vehicle&gt; vehicles){\n        this.status = status;\n        this.vehicles = vehicles;\n    }\n}\n</code></pre>\n\n<p>So here in the main class when I am serializing SampleClass response I am getting  output as(with ignored Tyre values) </p>\n\n<p>{\"vehicles\":[{\"number\":1,\"name\":\"somename\"},{\"number\":1,\"name\":\"somename\"}],\"status\":1}</p>\n\n<p>and when same code is written in java I am getting output as: </p>\n\n<p>{\"status\":1,\"vehicles\":[{\"tyre\":4,\"number\":1,\"name\":\"somename\"},{\"tyre\":4,\"number\":1,\"name\":\"somename\"}]}</p>\n\n<p>Could anyone help me in figuring out what am i doing wrong in this kotlin code.</p>\n\n<p>Note: I have used intellij converter to convert code to Kotlin</p>\n\n<p><strong>Here is the java code</strong></p>\n\n<pre><code>public class MainObject {\npublic static void main(String[] args) {\n    Sample somename = new Sample(1, \"somename\");\n    Car car = new Car(somename, 4);\n    Car car2 = new Car(somename, 4);\n    ArrayList vehicles = new ArrayList&lt;Vehicle&gt;() {\n\n    };\n    vehicles.add(car);\n    vehicles.add(car2);\n    SampleClassResponse sampleClassResponse = new \n    SampleClassResponse(1, vehicles);\n    Gson gson = new Gson();\n    String x = gson.toJson(sampleClassResponse);\n    System.out.println(x);\n\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Base Class:</p>\n\n<pre><code>public class Vehicle {\nint number;\nString name;\n}\n</code></pre>\n\n<p>Derived class:</p>\n\n<pre><code>public class Car extends Vehicle {\nint tyre;\npublic Car(Sample sample, int tyre) {\n    this.number = sample.number;\n    this.name = sample.name;\n    this.tyre = tyre;\n}\n}\n</code></pre>\n\n<p>SampleResponse class:</p>\n\n<pre><code>public class SampleClassResponse {\nint status;\nList&lt;Vehicle&gt;  vehicles = new ArrayList&lt;&gt;();\npublic SampleClassResponse(int status, List&lt;Vehicle&gt; vehicles){\n\n    this.status = status;\n    this.vehicles = vehicles;\n}\n}\n</code></pre>\n"}, {"tags": ["kotlin", "types", "null"], "answers": [{"tags": [], "owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": false, "score": 4, "last_activity_date": 1550559681, "last_edit_date": 1592644375, "creation_date": 1550559681, "answer_id": 54760441, "question_id": 54760309, "link": "https://stackoverflow.com/questions/54760309/why-i-cant-assign-nullable-type-to-any-in-kotlin/54760441#54760441", "title": "Why I can&#39;t assign nullable type to Any in Kotlin?", "body": "<p>From the docs:</p>\n<blockquote>\n<p>Kotlin's type system is aimed at eliminating the danger of null references from code, also known as the The <a href=\"https://en.wikipedia.org/wiki/Tony_Hoare#Apologies_and_retractions\" rel=\"nofollow noreferrer\">Billion Dollar Mistake.</a></p>\n<p>In Kotlin, the type system distinguishes between references that can hold null (nullable references) and those that can not (non-null references).</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>var a: String = &quot;abc&quot;\na = null // compilation error\n\nvar b: String? = &quot;abc&quot; //using `String?` allows you to assign null\nb = null // ok\nprint(b)\n</code></pre>\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html\" rel=\"nofollow noreferrer\"><code>Any</code></a> is a class same as <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html\" rel=\"nofollow noreferrer\"><code>String</code></a>, the only difference is that every class has <code>Any</code> as it's superclass. But the above that I wrote regarding <code>NPE</code> is applied to all types in kotlin.</p>\n"}, {"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1550564392, "post_id": 54760508, "comment_id": 96303729, "body": "&quot;Every Kotlin class has Any as a superclass.&quot; This includes <code>Int</code>. So you can assign an <code>Int</code> to an <code>Any</code> without problems, just not an <code>Int?</code>."}], "tags": [], "owner": {"reputation": 5084, "user_id": 4281239, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/aee59cc99dc01815b8d3456c14c9ce9b?s=128&d=identicon&r=PG&f=1", "display_name": "AADProgramming", "link": "https://stackoverflow.com/users/4281239/aadprogramming"}, "is_accepted": false, "score": 0, "last_activity_date": 1550559960, "creation_date": 1550559960, "answer_id": 54760508, "question_id": 54760309, "link": "https://stackoverflow.com/questions/54760309/why-i-cant-assign-nullable-type-to-any-in-kotlin/54760508#54760508", "title": "Why I can&#39;t assign nullable type to Any in Kotlin?", "body": "<p>The 1st line of code <code>val x :Int? = 123</code> is clearly saying that the x is supposed to hold a value of type <code>Int</code>\nKotlin provides the built-in type <code>Int</code> that is used to for representing numbers.</p>\n\n<p>On the next line, <code>val y :Any = x</code>, y is supposed to hold a type of <code>Any</code>, which is the root of the Kotlin class hierarchy. Every Kotlin class has <code>Any</code> as a superclass.</p>\n\n<p>So there is type mismatch - and hence Kotlin compiler complains that it cannot assign an <code>Int</code> to an object which you declared to hold type <code>Any</code></p>\n"}, {"tags": [], "owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "is_accepted": false, "score": 2, "last_activity_date": 1550561105, "creation_date": 1550561105, "answer_id": 54760766, "question_id": 54760309, "link": "https://stackoverflow.com/questions/54760309/why-i-cant-assign-nullable-type-to-any-in-kotlin/54760766#54760766", "title": "Why I can&#39;t assign nullable type to Any in Kotlin?", "body": "<p>Yes. The basic requirement for Kotlin variable is to be marked whether it is Nullable or not to avoid NPE.</p>\n\n<p>Here in your case, </p>\n\n<pre><code>var x: Int? = 123\n</code></pre>\n\n<p>is assigned as nullable value with ? but when you mapped it to Any object, you have missed to add nullable ? to Any object</p>\n\n<p>so <code>var y: Any? = x</code> </p>\n\n<p>will do as we are marking nullable to y also.</p>\n"}, {"tags": [], "owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "is_accepted": true, "score": 7, "last_activity_date": 1550570345, "last_edit_date": 1550570345, "creation_date": 1550568590, "answer_id": 54762815, "question_id": 54760309, "link": "https://stackoverflow.com/questions/54760309/why-i-cant-assign-nullable-type-to-any-in-kotlin/54762815#54762815", "title": "Why I can&#39;t assign nullable type to Any in Kotlin?", "body": "<p>Nullable types are not subtypes of <code>Any</code>, but they <em>are</em> subtypes of <code>Any?</code>.</p>\n\n<p><code>Any</code> is only a superclass of <em>non-nullable</em> types. This makes it possible to write code that requires a non-null instance of anything, and still benefit from the safety of the type-checker (unlike when using Java's <code>Object</code>).</p>\n\n<p>Here is an image that can help:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NphL4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NphL4.png\" alt=\"enter image description here\"></a></p>\n\n<p>The following code is a valid replacement of yours:</p>\n\n<pre><code>val x: Int? = 123\nval y: Any? = x\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 1263585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67f5db2e481286c083dff5d6b35a830?s=128&d=identicon&r=PG", "display_name": "Ruxo", "link": "https://stackoverflow.com/users/1263585/ruxo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1444, "favorite_count": 0, "accepted_answer_id": 54762815, "answer_count": 4, "score": 2, "last_activity_date": 1550570345, "creation_date": 1550559011, "question_id": 54760309, "link": "https://stackoverflow.com/questions/54760309/why-i-cant-assign-nullable-type-to-any-in-kotlin", "title": "Why I can&#39;t assign nullable type to Any in Kotlin?", "body": "<p>Can anyone please explain why doing this in Kotlin is impossible?</p>\n\n<pre><code>val x :Int? = 123\nval y :Any = x\n</code></pre>\n\n<p>I come from .NET background where Nullable type is assignable to Object type, but how are they different?</p>\n"}, {"tags": ["android", "kotlin", "hashmap"], "answers": [{"tags": [], "owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "is_accepted": true, "score": 1, "last_activity_date": 1550559421, "last_edit_date": 1550559421, "creation_date": 1550558936, "answer_id": 54760293, "question_id": 54760210, "link": "https://stackoverflow.com/questions/54760210/count-number-of-elements-in-a-mapstring-mapstring-int-by-its-keys/54760293#54760293", "title": "Count number of elements in a Map&lt;String, Map&lt;String, Int&gt;&gt;? by its keys", "body": "<p>You can iterate over Map and get the Entry for each key .</p>\n\n<pre><code>for (Map.Entry&lt;String, Map&lt;String, Integer&gt;&gt; entry : map.entrySet()) {\n        System.out.println(entry.getKey() + \" = \" + entry.getValue().size());\n    }\n</code></pre>\n\n<p>Kotlin equivalent will be </p>\n\n<pre><code>for ((key, value) in map) {\n        println(key + \" = \" + value.size)\n    }\n</code></pre>\n\n<p>If you are only interested in size then this will do .\nYou can further use <code>entry.getValue()</code> to iterate over inner map in case you need further data.</p>\n"}, {"tags": [], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1550562895, "creation_date": 1550562895, "answer_id": 54761187, "question_id": 54760210, "link": "https://stackoverflow.com/questions/54760210/count-number-of-elements-in-a-mapstring-mapstring-int-by-its-keys/54761187#54761187", "title": "Count number of elements in a Map&lt;String, Map&lt;String, Int&gt;&gt;? by its keys", "body": "<p>In Kotlin you only need to init your list as a Hashmap, then you can easily iterate on the hashMap and get keys and elements count:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val hashMap = hashMapOf(\n            \"jack\" to mapOf(\"a\" to 1, \"b\" to 2, \"c\" to 3),\n            \"amy\" to mapOf(\"d\" to 1, \"a\" to 3, \"c\" to 1, \"e\" to 5)\n        )\n\n        for (e in hashMap) {\n            println(\"Key: ${e.key}, elementsCount: ${e.value.size}, elements: ${e.value}\")\n        }\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 9759122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ff4a0e741f7d027e3002e753e0d9d?s=128&d=identicon&r=PG&f=1", "display_name": "JerryLi", "link": "https://stackoverflow.com/users/9759122/jerryli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 0, "accepted_answer_id": 54760293, "answer_count": 2, "score": 1, "last_activity_date": 1550565086, "creation_date": 1550558523, "last_edit_date": 1550565086, "question_id": 54760210, "link": "https://stackoverflow.com/questions/54760210/count-number-of-elements-in-a-mapstring-mapstring-int-by-its-keys", "title": "Count number of elements in a Map&lt;String, Map&lt;String, Int&gt;&gt;? by its keys", "body": "<p>I have <code>Map&lt;String, Map&lt;String, Int&gt;&gt;</code>.</p>\n\n<p>How should I analyze it? I want to count how many values there are for each key.</p>\n\n<p>Let's say we have a map like: <code>{jack={a=1, b=2, c=3}, amy={d=1, a=3, c=1, e=5}</code></p>\n\n<p>My aim is to getting the number of elements by each key of the map, something like:   <code>[jack=3, amy=4]</code></p>\n"}, {"tags": ["java", "android", "kotlin", "colors", "gradient"], "comments": [{"owner": {"reputation": 11935, "user_id": 6950238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JysE9.jpg?s=128&g=1", "display_name": "Andrii Omelchenko", "link": "https://stackoverflow.com/users/6950238/andrii-omelchenko"}, "edited": false, "score": 1, "creation_date": 1550558915, "post_id": 54760195, "comment_id": 96301339, "body": "Take a look at <a href=\"https://stackoverflow.com/q/22218140/6950238\">this</a> question and answer."}, {"owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "reply_to_user": {"reputation": 11935, "user_id": 6950238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JysE9.jpg?s=128&g=1", "display_name": "Andrii Omelchenko", "link": "https://stackoverflow.com/users/6950238/andrii-omelchenko"}, "edited": false, "score": 0, "creation_date": 1550559362, "post_id": 54760195, "comment_id": 96301522, "body": "@AndriiOmelchenko Oh right that&#39;s exactly my question and it applies in all programming language. Thanks!"}, {"owner": {"reputation": 11935, "user_id": 6950238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JysE9.jpg?s=128&g=1", "display_name": "Andrii Omelchenko", "link": "https://stackoverflow.com/users/6950238/andrii-omelchenko"}, "edited": false, "score": 0, "creation_date": 1550559412, "post_id": 54760195, "comment_id": 96301545, "body": "You&#39;re welcome!"}], "owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550558449, "creation_date": 1550558449, "question_id": 54760195, "link": "https://stackoverflow.com/questions/54760195/how-to-get-a-color-in-a-certain-point-of-a-linear-gradient-in-java-kotlin-a", "title": "How to get a color in a certain point of a linear gradient, in Java / Kotlin / Android?", "body": "<p>Before asking my question, let me clarify 2 things first:</p>\n\n<ol>\n<li>I am developing an Android app</li>\n<li>I do not need nor want to draw the gradient. I just want to know the color.</li>\n</ol>\n\n<h3>Question</h3>\n\n<p>I have 2 colors, let's name them <code>startColor</code> and <code>endColor</code>.</p>\n\n<p>Now please imagine a linear gradient line from <code>startColor</code> to <code>endColor</code>.</p>\n\n<p>Let's say I have a float <code>0.3f</code>.</p>\n\n<p>I want to know at the 30% position, from start to end, the color at the gradient.</p>\n\n<p>How can I do this?</p>\n\n<h3>Things I have tried</h3>\n\n<ul>\n<li>Java awt library's <code>GradientPaint</code> - It is not available in Android context;</li>\n<li>android.graphics.LinearGradient - The best I can do is to get a <code>Matrix</code> from this gradient, but then I don't know what to do next.</li>\n</ul>\n"}, {"tags": ["android", "kotlin", "uri"], "comments": [{"owner": {"reputation": 2654, "user_id": 1711514, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/raBNM.jpg?s=128&g=1", "display_name": "Salman Khan", "link": "https://stackoverflow.com/users/1711514/salman-khan"}, "edited": false, "score": 0, "creation_date": 1550554834, "post_id": 54759444, "comment_id": 96299906, "body": "Is it specific to any platform(Android Version)?"}, {"owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "reply_to_user": {"reputation": 2654, "user_id": 1711514, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/raBNM.jpg?s=128&g=1", "display_name": "Salman Khan", "link": "https://stackoverflow.com/users/1711514/salman-khan"}, "edited": false, "score": 0, "creation_date": 1550554903, "post_id": 54759444, "comment_id": 96299922, "body": "android version 7.0"}, {"owner": {"reputation": 2654, "user_id": 1711514, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/raBNM.jpg?s=128&g=1", "display_name": "Salman Khan", "link": "https://stackoverflow.com/users/1711514/salman-khan"}, "edited": false, "score": 0, "creation_date": 1550555007, "post_id": 54759444, "comment_id": 96299959, "body": "<a href=\"https://stackoverflow.com/questions/53113646/android-capturing-an-image-from-camera-returns-empty-data/53113733#53113733\" title=\"android capturing an image from camera returns empty data\">stackoverflow.com/questions/53113646/&hellip;</a>   I think you are facing the same issue here, see this answer of mine, it might help."}, {"owner": {"reputation": 2654, "user_id": 1711514, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/raBNM.jpg?s=128&g=1", "display_name": "Salman Khan", "link": "https://stackoverflow.com/users/1711514/salman-khan"}, "edited": false, "score": 0, "creation_date": 1550557701, "post_id": 54759444, "comment_id": 96300882, "body": "Did you get any luck?"}, {"owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "reply_to_user": {"reputation": 2654, "user_id": 1711514, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/raBNM.jpg?s=128&g=1", "display_name": "Salman Khan", "link": "https://stackoverflow.com/users/1711514/salman-khan"}, "edited": false, "score": 0, "creation_date": 1550559161, "post_id": 54759444, "comment_id": 96301443, "body": "I have no problem reading the image from activity result, I am already have the uri but I want to rotate it if needed so I do not think the link is what I need, Thanks"}], "owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560955725, "creation_date": 1550554359, "last_edit_date": 1560955725, "question_id": 54759444, "link": "https://stackoverflow.com/questions/54759444/mediastore-images-media-getbitmap-return-null-for-uri", "title": "MediaStore.Images.Media.getBitmap return null for uri", "body": "<p>I have the following method to rotate image if needed \nand it is an extension method for Uri class</p>\n\n<pre><code>suspend fun Uri.rotateImageIfRequired(ctx: Context): Uri {\n\n    Log.i(\"AMIRA3333\" , \"uri2 : \" + this)\n\n    val originalBitmap = MediaStore.Images.Media.getBitmap(ctx.contentResolver, this)\n    val originalImagePath = this.getPath(ctx)\n\n    val exifInterface = ExifInterface(originalImagePath)\n    val orientation = exifInterface.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL)\n\n    return when (orientation) {\n        ExifInterface.ORIENTATION_ROTATE_90 -&gt; TransformationUtils.rotateImage(originalBitmap, 90)\n        ExifInterface.ORIENTATION_ROTATE_180 -&gt; TransformationUtils.rotateImage(originalBitmap, 180)\n        ExifInterface.ORIENTATION_ROTATE_270 -&gt; TransformationUtils.rotateImage(originalBitmap, 270)\n        else -&gt; originalBitmap\n    }.let {\n        GlobalScope.async {\n            File(originalImagePath).deleteOnExit()\n            Uri.parse(\n                MediaStore.Images.Media.insertImage(\n                    ctx.contentResolver,\n                    it,\n                    System.currentTimeMillis().toString(),\n                    null\n                )\n            )\n        }.await()\n    }\n}\n</code></pre>\n\n<p>and this is an example for my uri : file:///storage/emulated/0/DCIM/IMG_20190219_072926.jpg</p>\n\n<p>it is always return null</p>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin", "back-stack"], "comments": [{"owner": {"reputation": 488, "user_id": 3510245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ET9Tf.jpg?s=128&g=1", "display_name": "Krizzu", "link": "https://stackoverflow.com/users/3510245/krizzu"}, "edited": false, "score": 0, "creation_date": 1550558200, "post_id": 54758153, "comment_id": 96301067, "body": "You&#39;ll want to play with <a href=\"https://developer.android.com/reference/android/support/design/widget/BottomNavigationView#setonnavigationitemreselectedlistener\" rel=\"nofollow noreferrer\">setOnNavigationItemReselectedListener</a> and have an interface implemented by activity, to let fragment handle back button click first.  Or maybe look into <a href=\"https://developer.android.com/topic/libraries/architecture/navigation/\" rel=\"nofollow noreferrer\">Navigation Architecture Component</a>, which makes all of this for you, behind the scenes"}, {"owner": {"reputation": 650, "user_id": 5076153, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ced3aecfb433928ab4ae9a73365be71e?s=128&d=identicon&r=PG&f=1", "display_name": "Barcode", "link": "https://stackoverflow.com/users/5076153/barcode"}, "reply_to_user": {"reputation": 488, "user_id": 3510245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ET9Tf.jpg?s=128&g=1", "display_name": "Krizzu", "link": "https://stackoverflow.com/users/3510245/krizzu"}, "edited": false, "score": 0, "creation_date": 1550559900, "post_id": 54758153, "comment_id": 96301728, "body": "the Navigation Architecture Component that you linked me seems interesting, i will take a look at that. thanks"}, {"owner": {"reputation": 650, "user_id": 5076153, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ced3aecfb433928ab4ae9a73365be71e?s=128&d=identicon&r=PG&f=1", "display_name": "Barcode", "link": "https://stackoverflow.com/users/5076153/barcode"}, "reply_to_user": {"reputation": 488, "user_id": 3510245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ET9Tf.jpg?s=128&g=1", "display_name": "Krizzu", "link": "https://stackoverflow.com/users/3510245/krizzu"}, "edited": false, "score": 0, "creation_date": 1550606545, "post_id": 54758153, "comment_id": 96328150, "body": "@Krizzu so i&#39;ve implemented the navigation architecture component, and it works well. but my issues is that i have a Google Maps Fragment, and everytime i switch back to that fragment, it reloads the map, and i lose my last position of the map. Is there a way to keep the state of the fragments?"}, {"owner": {"reputation": 488, "user_id": 3510245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ET9Tf.jpg?s=128&g=1", "display_name": "Krizzu", "link": "https://stackoverflow.com/users/3510245/krizzu"}, "edited": false, "score": 0, "creation_date": 1550667036, "post_id": 54758153, "comment_id": 96351940, "body": "It depends on your navigation map. Fragments are being replaced when navigating and if they&#39;re not in the back stack, they&#39;re being destroyed, hence losing a state. Maybe you could save the last position in shared preferences and retrieve it on fragment recreation or pass last map position in navigations arguments?"}, {"owner": {"reputation": 482, "user_id": 2064906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f973ed22deafd48758a53e838ea68539?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/2064906/sharad"}, "edited": false, "score": 0, "creation_date": 1589852929, "post_id": 54758153, "comment_id": 109451700, "body": "This is solution for that have a look here <a href=\"https://github.com/android/architecture-components-samples/tree/master/NavigationAdvancedSample\" rel=\"nofollow noreferrer\">github.com/android/architecture-components-samples/tree/mast&zwnj;&#8203;er/&hellip;</a>"}], "owner": {"reputation": 650, "user_id": 5076153, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ced3aecfb433928ab4ae9a73365be71e?s=128&d=identicon&r=PG&f=1", "display_name": "Barcode", "link": "https://stackoverflow.com/users/5076153/barcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 874, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1550544415, "creation_date": 1550544415, "question_id": 54758153, "link": "https://stackoverflow.com/questions/54758153/creating-a-backstack-like-instagrams-bottom-navigation-bar", "title": "Creating a backstack like Instagram&#39;s bottom navigation bar", "body": "<p>I was wondering how can i create something that is like instagram's backstack.</p>\n\n<p>I have a an app, that has a bottom navigation bar which opens 3 different fragments (<code>MapFragment</code>, <code>HostFragment</code>, <code>ProfileFragment</code>), inside <code>HostFragment</code>, i create a new one called <code>Host2Fragment</code>, when the user clicks a button:</p>\n\n<pre><code>    Tab1          Tab2           Tab3\n[MapFragment][HostFragment][ProfileFragment]\n                   .\n                   .\n                   .\n             [Host2Fragment] \n</code></pre>\n\n<p><strong>Some examples:</strong></p>\n\n<p>NOTE: Tab1/MapFragment is the home fragment</p>\n\n<ul>\n<li>User is on <code>Host2Fragment</code>, pressing back goes back to <code>HostFragment</code>\n\n<ul>\n<li>pressing back again goes to <strong>Tab1</strong></li>\n</ul></li>\n<li>User is on <code>Host2Fragment</code>, clicking on <strong>Tab2</strong> goes back to <code>HostFragment</code></li>\n</ul>\n\n<p>Essentially, pressing back, should just peel off all the layers back to the home fragment (Tab1), and update the bottom navigation bar while doing so. I also want to keep the state of the fragments, so that when i click back to it, it should still be in the same state</p>\n\n<p>What i have so far:</p>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity(){\n    private val mapFragment: Fragment = MapFragment()\n    private val hostFragment: Fragment = HostFragment()\n    private val profileFragment: Fragment = ProfileFragment()\n    private val fm = supportFragmentManager\n    private var activeFragment = mapFragment\n\n    lateinit var toolbar: ActionBar\n    private val mOnNavigationItemSelectedListener =\n        BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n\n            when (item.itemId) {\n            R.id.navigation_map -&gt; {\n                fm.beginTransaction().hide(activeFragment).show(mapFragment).commit()\n                activeFragment = mapFragment\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_host -&gt; {\n                fm.beginTransaction().hide(activeFragment).show(hostFragment).commit()\n                activeFragment = hostFragment\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_profile -&gt; {\n                fm.beginTransaction().hide(activeFragment).show(profileFragment).commit()\n                activeFragment = profileFragment\n                return@OnNavigationItemSelectedListener true\n            }\n        }\n        false\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        fm.beginTransaction().add(R.id.container, profileFragment, \"profileFragment\").hide(profileFragment).commit()\n        fm.beginTransaction().add(R.id.container, hostFragment, \"hostFragment\").hide(hostFragment).commit()\n        fm.beginTransaction().add(R.id.container, mapFragment, \"mapFragment\").commit()\n\n        toolbar = supportActionBar!!\n        val bottomNavigation: BottomNavigationView = findViewById(R.id.navigationView)\n        bottomNavigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n\n        //the home Fragment\n        bottomNavigation.selectedItemId = R.id.navigation_map\n    }\n}\n</code></pre>\n\n<p><strong>HostFragment</strong></p>\n\n<pre><code>class HostFragment : Fragment(){\n    companion object {\n        private const val TAG = \"HostFragment\"\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        val view = inflater.inflate(R.layout.fragment_host, container, false)\n        return view\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        val button = view.findViewById(R.id.button) as Button\n        button.setOnClickListener{\n            Log.d(HostFragment.TAG, \"Clicked Host button\")\n            fragmentManager?.beginTransaction()?.add(R.id.container, Host2Fragment(), \"host2Fragment\")?.commit()\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "artifactory", "gradle-plugin"], "answers": [{"tags": [], "owner": {"reputation": 18252, "user_id": 154527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9367d0448b8fc3e6d7f6cd421940ac62?s=128&d=identicon&r=PG", "display_name": "Alain O&#39;Dea", "link": "https://stackoverflow.com/users/154527/alain-odea"}, "is_accepted": true, "score": 5, "last_activity_date": 1550585654, "creation_date": 1550585654, "answer_id": 54768309, "question_id": 54757070, "link": "https://stackoverflow.com/questions/54757070/how-do-i-publish-gradle-plugins-to-artifactory/54768309#54768309", "title": "How do I publish Gradle plugins to Artifactory?", "body": "<p>Since you have the <strong>maven-publish</strong> plugin on, the <strong>java-gradle-plugin</strong> already declares publications for you, so you can remove <a href=\"https://github.com/AlainODea/gradle-com.example.hello-plugin/blob/d7a21432311c2d07a29a590638eed71fe3ef50a5/build.gradle.kts#L74-L80\" rel=\"noreferrer\">this explicit publications block</a> from your build:</p>\n\n<pre><code>publishing {\n    publications {\n        create&lt;MavenPublication&gt;(\"mavenJava\") {\n            from(components[\"java\"])\n        }\n    }\n}\n</code></pre>\n\n<p>You can then reference all automatically created publications in <a href=\"https://github.com/AlainODea/gradle-com.example.hello-plugin/blob/d7a21432311c2d07a29a590638eed71fe3ef50a5/build.gradle.kts#L88\" rel=\"noreferrer\">your artifactory publish defaults block</a> as follows:</p>\n\n<pre><code>invokeMethod(\"publications\", publishing.publications.names.toTypedArray())\n</code></pre>\n\n<p>Why not just <strong>publishing.publications.names</strong>?:</p>\n\n<ul>\n<li>publishing.publications.names has type SortedSet&lt;String&gt;</li>\n<li>ArtifactoryTask.publications() expects an Object... which is an Object[] really.</li>\n<li>Calling ArtifactoryTask.publications() with a SortedSet&lt;String&gt; will attempt to add the entire set as if it is a single publication</li>\n<li>So you need toTypedArray() to make it a Object[] so that the varargs call works</li>\n</ul>\n\n<p>Here's the complete, corrected artifactory block:</p>\n\n<pre><code>artifactory {\n    setProperty(\"contextUrl\", \"https://artifactory.verafin.com/artifactory\")\n    publish(delegateClosureOf&lt;PublisherConfig&gt; {\n        repository(delegateClosureOf&lt;GroovyObject&gt; {\n            setProperty(\"repoKey\", \"libs-release-local-maven\")\n        })\n        defaults(delegateClosureOf&lt;GroovyObject&gt; {\n            invokeMethod(\"publications\", publishing.publications.names.toTypedArray())\n        })\n    })\n}\n</code></pre>\n\n<p>Here's a complete adaptation of your build.gradle.kts solving the problem:</p>\n\n<pre><code>import groovy.lang.GroovyObject\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\nimport org.jfrog.gradle.plugin.artifactory.dsl.PublisherConfig\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n}\n\nplugins {\n    `java-gradle-plugin`\n    `maven-publish`\n    `kotlin-dsl`\n    id(\"com.jfrog.artifactory\") version \"4.9.0\"\n    kotlin(\"jvm\") version \"1.3.11\"\n    id(\"io.spring.dependency-management\") version \"1.0.6.RELEASE\"\n}\n\ngroup = \"com.example.hello\"\nversion = \"0.1-SNAPSHOT\"\n\ngradlePlugin {\n    plugins {\n        create(\"helloPlugin\") {\n            id = \"com.example.hello\"\n            implementationClass = \"com.example.HelloPlugin\"\n        }\n    }\n}\nrepositories {\n    mavenCentral()\n}\n\ndependencyManagement {\n    imports {\n        mavenBom(\"org.junit:junit-bom:5.3.2\")\n    }\n}\n\ndependencies {\n    implementation(kotlin(\"stdlib-jdk8\"))\n    testImplementation(kotlin(\"test\"))\n    testImplementation(kotlin(\"test-junit5\"))\n    testImplementation(\"org.junit:junit-bom:latest.release\")\n    testImplementation(\"org.junit.jupiter:junit-jupiter-api\")\n    testImplementation(\"com.natpryce:hamkrest:1.7.0.0\")\n    testRuntimeOnly(\"org.junit.jupiter:junit-jupiter-engine\")\n}\n\ntasks {\n    withType&lt;JavaExec&gt; {\n        jvmArgs = listOf(\"-noverify\", \"-XX:TieredStopAtLevel=1\")\n    }\n\n    withType&lt;KotlinCompile&gt; {\n        val javaVersion = JavaVersion.VERSION_1_8.toString()\n        sourceCompatibility = javaVersion\n        targetCompatibility = javaVersion\n        kotlinOptions {\n            apiVersion = \"1.3\"\n            javaParameters = true\n            jvmTarget = javaVersion\n            languageVersion = \"1.3\"\n        }\n    }\n\n    withType&lt;Test&gt; {\n        @Suppress(\"UnstableApiUsage\")\n        useJUnitPlatform()\n    }\n}\n\nartifactory {\n    publish(delegateClosureOf&lt;PublisherConfig&gt; {\n        repository(delegateClosureOf&lt;GroovyObject&gt; {\n            setProperty(\"repoKey\", \"libs-release-local-maven\")\n        })\n        defaults(delegateClosureOf&lt;GroovyObject&gt; {\n            invokeMethod(\"publications\", publishing.publications.names.toTypedArray())\n        })\n    })\n}\n</code></pre>\n\n<p>Here's a log showing the successful deployment of the plugin artifact to Artifactory:</p>\n\n<pre><code>Deploying artifact: https://artifactory.example.com/artifactory/libs-release-local-maven/com/example/hello/gradle-com.example.hello-plugin/0.1-SNAPSHOT/gradle-com.example.hello-plugin-0.1-SNAPSHOT.jar\nDeploying artifact: https://artifactory.example.com/artifactory/libs-release-local-maven/com/example/hello/gradle-com.example.hello-plugin/0.1-SNAPSHOT/gradle-com.example.hello-plugin-0.1-SNAPSHOT.pom\nDeploying artifact: https://artifactory.example.com/artifactory/libs-release-local-maven/com/example/hello/com.example.hello.gradle.plugin/0.1-SNAPSHOT/com.example.hello.gradle.plugin-0.1-SNAPSHOT.pom\nDeploying build descriptor to: https://artifactory.example.com/artifactory/api/build\nBuild successfully deployed. Browse it in Artifactory under https://artifactory.example.com/artifactory/webapp/builds/gradle-com.example.hello-plugin/1234567890123\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1945, "user_id": 7745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff592f62ae570dc02839e2f09f94910a?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/7745/jason"}, "is_accepted": false, "score": 0, "last_activity_date": 1617975774, "creation_date": 1617975774, "answer_id": 67022254, "question_id": 54757070, "link": "https://stackoverflow.com/questions/54757070/how-do-i-publish-gradle-plugins-to-artifactory/67022254#67022254", "title": "How do I publish Gradle plugins to Artifactory?", "body": "<p>Since version 4.19 of the build-info-extractor-gradle plugin, there's an <code>ALL_PUBLICATIONS</code> constant that can be used:</p>\n<pre><code>artifactory {\n  publish {\n    contextUrl = 'https://url.com/artifactory'\n    repository {\n      // repoKey, etc. here\n    }\n    defaults {\n      publications 'ALL_PUBLICATIONS'\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 18252, "user_id": 154527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9367d0448b8fc3e6d7f6cd421940ac62?s=128&d=identicon&r=PG", "display_name": "Alain O&#39;Dea", "link": "https://stackoverflow.com/users/154527/alain-odea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3204, "favorite_count": 1, "accepted_answer_id": 54768309, "answer_count": 2, "score": 2, "last_activity_date": 1617975774, "creation_date": 1550534121, "last_edit_date": 1583525688, "question_id": 54757070, "link": "https://stackoverflow.com/questions/54757070/how-do-i-publish-gradle-plugins-to-artifactory", "title": "How do I publish Gradle plugins to Artifactory?", "body": "<p>I am working with this example Gradle Plugin project:\n<a href=\"https://github.com/AlainODea/gradle-com.example.hello-plugin\" rel=\"nofollow noreferrer\">https://github.com/AlainODea/gradle-com.example.hello-plugin</a></p>\n\n<p>When I run <strong>./gradlew publishToMavenLocal</strong> it creates these files in M2_HOME:</p>\n\n<ol>\n<li>com/hello/com.example.hello.gradle.plugin/maven-metadata-local.xml</li>\n<li>com/hello/com.example.hello.gradle.plugin/0.1-SNAPSHOT/com.example.hello.gradle.plugin-0.1-SNAPSHOT.pom</li>\n<li>com/hello/com.example.hello.gradle.plugin/0.1-SNAPSHOT/maven-metadata-local.xml</li>\n<li>com/hello/gradle-com.example.hello-plugin/maven-metadata-local.xml</li>\n<li>com/hello/gradle-com.example.hello-plugin/0.1-SNAPSHOT/gradle-com.example.hello-plugin-0.1-SNAPSHOT.jar</li>\n<li>com/hello/gradle-com.example.hello-plugin/0.1-SNAPSHOT/gradle-com.example.hello-plugin-0.1-SNAPSHOT.pom</li>\n<li>com/hello/gradle-com.example.hello-plugin/0.1-SNAPSHOT/maven-metadata-local.xml</li>\n</ol>\n\n<p>When I run <strong>./gradlew artifactoryPublish</strong> it logs:</p>\n\n<pre><code>Deploying artifact: https://artifactory.example.com/artifactory/libs-release-local-maven/com/example/hello/gradle-com.example.hello-plugin/0.1-SNAPSHOT/gradle-com.example.hello-plugin-0.1-SNAPSHOT.jar\nDeploying artifact: https://artifactory.example.com/artifactory/libs-release-local-maven/com/example/hello/gradle-com.example.hello-plugin/0.1-SNAPSHOT/gradle-com.example.hello-plugin-0.1-SNAPSHOT.pom\nDeploying build descriptor to: https://artifactory.example.com/artifactory/api/build\nBuild successfully deployed. Browse it in Artifactory under https://artifactory.example.com/artifactory/webapp/builds/gradle-com.example.hello-plugin/1234567890123\n</code></pre>\n\n<p>Attempting to load the plug-in from another build.gradle:</p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'com.example.hello' version '0.1-SNAPSHOT'\n}\n</code></pre>\n\n<p>With settings.gradle:</p>\n\n<pre><code>pluginManagement {\n    repositories {\n        maven {\n            url 'https://artifactory.example.com/artifactory/libs-release-local-maven/'\n        }\n    }\n}\n</code></pre>\n\n<p>Results in this error:</p>\n\n<pre><code>Plugin [id: 'com.example', version: '0.1-SNAPSHOT'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'com.example.hello:com.example.hello.gradle.plugin:0.1-SNAPSHOT')\n  Searched in the following repositories:\n    maven(https://artifactory.example.com/artifactory/libs-release-local-maven/)\n    Gradle Central Plugin Repository\n</code></pre>\n\n<p>I'd like to get all of the artifacts that publishToMavenLocal creates to be published to Artifactory when I run artifactoryPublish. I am open to alternatives to artifactoryPublish if it is the wrong tool.</p>\n\n<p>How do I publish Gradle plugins to Artifactory?</p>\n"}, {"tags": ["java", "unicode", "kotlin"], "owner": {"reputation": 1225, "user_id": 1394698, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/q9uwI.jpg?s=128&g=1", "display_name": "snowe", "link": "https://stackoverflow.com/users/1394698/snowe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1550536097, "creation_date": 1550532791, "last_edit_date": 1550536097, "question_id": 54756894, "link": "https://stackoverflow.com/questions/54756894/breakiterator-failing-on-unicode-ucd-linebreaktest", "title": "BreakIterator failing on Unicode UCD LineBreakTest", "body": "<p>The Unicode consortium provides a <a href=\"http://www.unicode.org/Public/UCD/latest/ucd/auxiliary/LineBreakTest.txt\" rel=\"nofollow noreferrer\">LineBreakTest file</a> for verifying that your line breaking code works properly. Using Unicode's <em>own library</em> <code>icu4j</code>, I cannot get the <code>\u00d7 [0.3] HYPHEN-MINUS (HY) \u00f7 [999.0] NUMBER SIGN (AL) \u00f7 [0.3]</code> test case to pass. This <strong><em>works</em></strong> with java's built in library. Per the <a href=\"http://www.unicode.org/Public/UCD/latest/ucd/auxiliary/LineBreakTest.html\" rel=\"nofollow noreferrer\">ucd line break table</a>, there should be a break there as well. </p>\n\n<p>What am I missing here? Should there not be a break where it says? Is this locale dependent, but not specified in the LineBreakTest file? </p>\n\n<p>Here is some kotlin code to reproduce.</p>\n\n<pre><code>val lineInstance = java.text.BreakIterator.getLineInstance()\nval lineInstanceIcu4j = com.ibm.icu.text.BreakIterator.getLineInstance()\n\nfun main() {\n    println(lineBreakJava(\"-#\"))\n    println(lineBreakIcu4j(\"-#\"))\n}\n\nfun lineBreakJava(text: String): MutableList&lt;String&gt; {\n    lineInstance.setText(text)\n    var start = lineInstance.first()\n    var end = lineInstance.next()\n    val breakableLocations = mutableListOf&lt;String&gt;()\n    while (end != BreakIterator.DONE) {\n        val substring = text.substring(start, end)\n        breakableLocations.add(substring)\n        start = end\n        end = lineInstance.next()\n    }\n    return breakableLocations\n}\n\nfun lineBreakIcu4j(text: String): MutableList&lt;String&gt; {\n    lineInstanceIcu4j.setText(text)\n    var start = lineInstanceIcu4j.first()\n    var end = lineInstanceIcu4j.next()\n    val breakableLocations = mutableListOf&lt;String&gt;()\n    while (end != BreakIterator.DONE) {\n        val substring = text.substring(start, end)\n        breakableLocations.add(substring)\n        start = end\n        end = lineInstanceIcu4j.next()\n    }\n    return breakableLocations\n}\n</code></pre>\n\n<p>actual output:</p>\n\n<pre><code>[-, #]\n[-#]\n</code></pre>\n\n<p>expected output:</p>\n\n<pre><code>[-, #]\n[-, #]\n</code></pre>\n\n<p>edit: </p>\n\n<p>Apparently IntelliJ had removed my icu4j dependency. After adding it back in I get the reverse of what was happening before. Now test cases that were passing are failing. I've updated the example with <em>one</em> of the failing cases. </p>\n"}, {"tags": ["android", "kotlin", "software-design"], "comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1550528701, "post_id": 54756170, "comment_id": 96294012, "body": "The arguments: <code>a: Int, b: Int</code> have nothing to do with the function argument. They are not its parameter arguments."}, {"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1550540053, "post_id": 54756170, "comment_id": 96296749, "body": "Simply speaking, function types exist in kotlin and <code>function</code>, <code>a</code>, <code>b</code> are the 3 arguments that <code>fun printResult </code> takes,which are a function, an Int, and another Int respectively. They are independent to one another."}], "answers": [{"comments": [{"owner": {"reputation": 727, "user_id": 454404, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4f0a9b5e1a74fba27946abe78b71a124?s=128&d=identicon&r=PG", "display_name": "addzo", "link": "https://stackoverflow.com/users/454404/addzo"}, "edited": false, "score": 0, "creation_date": 1550551911, "post_id": 54756430, "comment_id": 96299147, "body": "OK.  I see my error now.  That&#39;s makes so much more sense!  +1 since you and forpas said almost the same thing."}], "tags": [], "owner": {"reputation": 2693, "user_id": 450356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SOCF1.png?s=128&g=1", "display_name": "Adib Faramarzi", "link": "https://stackoverflow.com/users/450356/adib-faramarzi"}, "is_accepted": false, "score": 3, "last_activity_date": 1550529640, "creation_date": 1550529640, "answer_id": 54756430, "question_id": 54756170, "link": "https://stackoverflow.com/questions/54756170/kotlin-syntax-intended-meaning/54756430#54756430", "title": "Kotlin Syntax Intended Meaning", "body": "<p>The <code>a</code> and <code>b</code> are the arguments of the <code>printResult</code> function, not the <code>function</code> that is in the argument. So <code>printResult</code> takes 3 arguments, a function, <code>a</code>, and <code>b</code>, so whoever designed this function decided that it needs 2 parameters (a and b)  and a function that transforms two <code>Int</code>s into another <code>Int</code>.</p>\n\n<p>On another note (as a general tip), arguments of the lambdas can be named too, so <code>printResult(function: (someInt:Int, anotherInt:Int)-&gt;Int, a:Int, b:Int)</code> is also valid (It also helps with the IDE code completion when using this function)</p>\n\n<p>Also on a side-note, as per Kotlin docs, It is better to put the lambda/function arguments as the last one ( so the above example becomes <code>private fun printResult(a: Int, b: Int, function: (Int, Int) -&gt; Int)</code> ) because in this case, it can be used like so:</p>\n\n<p><code>printResult(1,2) { firstInt, secondInt -&gt; ///</code></p>\n"}, {"comments": [{"owner": {"reputation": 727, "user_id": 454404, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4f0a9b5e1a74fba27946abe78b71a124?s=128&d=identicon&r=PG", "display_name": "addzo", "link": "https://stackoverflow.com/users/454404/addzo"}, "edited": false, "score": 0, "creation_date": 1550551956, "post_id": 54756708, "comment_id": 96299161, "body": "Thank you!  you and Abib together made this much more clear to me.  Your examples took it over the top for me.  Thank you both!"}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 1, "last_activity_date": 1550532663, "last_edit_date": 1550532663, "creation_date": 1550531465, "answer_id": 54756708, "question_id": 54756170, "link": "https://stackoverflow.com/questions/54756170/kotlin-syntax-intended-meaning/54756708#54756708", "title": "Kotlin Syntax Intended Meaning", "body": "<p>Let's say that this is the <code>printResult</code> function:</p>\n\n<pre><code>fun printResult(function: (Int, Int) -&gt; Int, a: Int, b: Int) {\n    println(function(a - b, a + b))\n}\n</code></pre>\n\n<p>and we also define the <code>multiply</code> function that has the signature of the argument <code>function</code> of <code>printResult</code>:</p>\n\n<pre><code>fun multiply(x: Int, y: Int) = x * y\n</code></pre>\n\n<p>Now you can call <code>printResult</code> like this:</p>\n\n<pre><code>printResult(this::multiply, 5, 3)\n</code></pre>\n\n<p>and it will print:</p>\n\n<pre><code>16\n</code></pre>\n\n<p>You can see that the arguments <code>a</code> and <code>b</code> of <code>printResult</code> are not the arguments of <code>function</code>. <br/>\nAs a matter of fact they would not even be used at all not even for calculations for the arguments of <code>function</code>.<br/>\nSo there is no case of: <br/> \n<em>unclear syntax with repeats that don't need to be there and/or the potential for unclear signatures</em></p>\n"}], "owner": {"reputation": 727, "user_id": 454404, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4f0a9b5e1a74fba27946abe78b71a124?s=128&d=identicon&r=PG", "display_name": "addzo", "link": "https://stackoverflow.com/users/454404/addzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 54756708, "answer_count": 2, "score": 0, "last_activity_date": 1550552527, "creation_date": 1550528098, "last_edit_date": 1550552527, "question_id": 54756170, "link": "https://stackoverflow.com/questions/54756170/kotlin-syntax-intended-meaning", "title": "Kotlin Syntax Intended Meaning", "body": "<p>This is not a question about how to do this but a question about the reasoning behind it.\nI have scoured SO, the Kotlin docs and the googs to find WHY the Kotlin people did their syntax this way but can't really understand it.  So I'm hoping that someone brilliant here can help me.</p>\n\n<p>Given:</p>\n\n<pre><code>private fun printResult(function: (Int, Int) -&gt; Int, a: Int, b: Int) {\n</code></pre>\n\n<p>I get that:</p>\n\n<pre><code>\"function: (Int, Int)\" \n</code></pre>\n\n<p>means that this is a function we are passing in and its signature takes two Int parameters.</p>\n\n<p>Further, I get that:</p>\n\n<pre><code>\"-&gt; Int\" \n</code></pre>\n\n<p>means that this function returns an Int</p>\n\n<p>And lastly, I get that:</p>\n\n<pre><code>\"a: Int, b: Int\" \n</code></pre>\n\n<p>is the normal arguments/parameters list, and this is where we receive the actual parameters.</p>\n\n<p>But it seem clunky to me.  </p>\n\n<p>Why go to the trouble of giving the signature:</p>\n\n<pre><code>\"(Int, Int) -&gt; Int\"\n</code></pre>\n\n<p>and then insist on repeating the arguments again:</p>\n\n<pre><code>\"a: Int, b: Int\"\n</code></pre>\n\n<p>But if you have to do that, ok, but why don't you repeat the return for clarity'd sake so that it's something like:</p>\n\n<pre><code>\"private fun printResult(function: (Int, Int) -&gt; Int, a: Int, b: Int): Int\"\n</code></pre>\n\n<p>Or even:</p>\n\n<pre><code>\"private fun printResult(function: (a: Int, b: Int) -&gt; Int) {\"\n</code></pre>\n\n<p>It seems like unclear syntax with repeats that don't need to be there and/or the potential for unclear signatures as your functions get more complicated.</p>\n\n<p>What am I missing?</p>\n\n<p>Thanks</p>\n\n<hr>\n\n<p>Example after Forpas and Abib's explanation - for clarity for anyone thinking like I do:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    printResult(::add, 4, 2)\n    printResult(::subtract, 4, 2)\n}\n\nprivate fun add(a: Int, b: Int): Int {\n    return a + b\n}\n\nprivate fun subtract(a: Int, b: Int): Int {\n    return a - b\n}\n\nprivate fun printResult(passedInFunction: (someInt: Int, anotherInt: Int) -&gt; Int, a: Int, b: Int) {\n    // Simply takes the values of \"a\" and \"b\" and does whatever \n    // the latest version of the \"passedInFunction\" is set up to do.\n    // It does this by passing the arguments that were given to\n    // \"printResult\" into whatever the current version of \"passedInFunction\" is.\n    val result = passedInFunction(a, b)\n    println(\"result: $result\")\n\n    // Manipulates the values from the arguments passed into\n    // \"printResult\" and passes the result into \"passedInFunction\" \n    // as parameters/arguments.\n    println(\"function: \" + passedInFunction(a - b, a + b))\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11081097, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H_uKMfCCWK0/AAAAAAAAAAI/AAAAAAAAADE/Vn0-bBf9n-U/photo.jpg?sz=128", "display_name": "ali rashidi", "link": "https://stackoverflow.com/users/11081097/ali-rashidi"}, "edited": false, "score": 0, "creation_date": 1550527088, "post_id": 54755918, "comment_id": 96293489, "body": "were should i put this cod?"}, {"owner": {"reputation": 34, "user_id": 10636889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WxLkD.jpg?s=128&g=1", "display_name": "Micha\u0142.Pelc", "link": "https://stackoverflow.com/users/10636889/micha%c5%82-pelc"}, "reply_to_user": {"reputation": 3, "user_id": 11081097, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H_uKMfCCWK0/AAAAAAAAAAI/AAAAAAAAADE/Vn0-bBf9n-U/photo.jpg?sz=128", "display_name": "ali rashidi", "link": "https://stackoverflow.com/users/11081097/ali-rashidi"}, "edited": false, "score": 0, "creation_date": 1550527421, "post_id": 54755918, "comment_id": 96293584, "body": "Sure, have fun with your game :)"}], "tags": [], "owner": {"reputation": 34, "user_id": 10636889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WxLkD.jpg?s=128&g=1", "display_name": "Micha\u0142.Pelc", "link": "https://stackoverflow.com/users/10636889/micha%c5%82-pelc"}, "is_accepted": true, "score": 0, "last_activity_date": 1550527459, "last_edit_date": 1550527459, "creation_date": 1550526763, "answer_id": 54755918, "question_id": 54755773, "link": "https://stackoverflow.com/questions/54755773/disable-all-the-button-in-android-studio-and-start-the-program-again/54755918#54755918", "title": "disable all the button in Android Studio and start the program again", "body": "<p>In order to disable button in Kotlin, you need to specify it's <strong>isClickable</strong> property. For example :</p>\n\n<pre><code>button1.isClickable = true  // Enabled\nbutton2.isClickable = false // Disabled\n</code></pre>\n\n<p>Example function in Java :</p>\n\n<pre><code>  public static void disableButtons(Button b1, Button b2)\n  {\n      b1.setEnabled(false);\n      b2.setEnabled(false);\n  }\n</code></pre>\n\n<p>Implementation in Kotlin :</p>\n\n<pre><code>  fun disableButtons(b1 : Button, b2 : Button) \n  {\n      b1.isClickable = false\n      b2.isClickable = false\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13687679, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjyHwSVBI37KtcRNQY0ANTEwF0u9_s3i4kSSdiAJg=k-s128", "display_name": "GODZ ONLY", "link": "https://stackoverflow.com/users/13687679/godz-only"}, "is_accepted": false, "score": 0, "last_activity_date": 1591366732, "creation_date": 1591366732, "answer_id": 62217488, "question_id": 54755773, "link": "https://stackoverflow.com/questions/54755773/disable-all-the-button-in-android-studio-and-start-the-program-again/62217488#62217488", "title": "disable all the button in Android Studio and start the program again", "body": "<p>What you want is to disable all the button as soon as the game gets over to do that in Kotlin</p>\n\n<pre><code> if(winner != -1){\n        Toast.makeText(this,\"Game winner is Player $winner\",Toast.LENGTH_LONG).show()\n        for ( i in 1..9)\n        {\n            var id:Int = getResources().getIdentifier(\"button\"+i,\"id\",getPackageName())\n            var btn:Button = findViewById(id) as Button\n            btn.isClickable = false\n            clear()\n\n        }\n    }\n</code></pre>\n\n<p>And use the function below to clear your data </p>\n\n<pre><code>fun clear()\n{\n    player1.clear()\n    player2.clear()\n    activePlayer=1\n    for (i in 1..9)\n    {\n        var id:Int = getResources().getIdentifier(\"button\"+i,\"id\",getPackageName())\n        var btn:Button = findViewById(id) as Button\n        btn.isEnabled = true\n        btn.setBackgroundColor(Color.LTGRAY)\n        btn.text = \"\"\n    }\n    count = 0\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11081097, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H_uKMfCCWK0/AAAAAAAAAAI/AAAAAAAAADE/Vn0-bBf9n-U/photo.jpg?sz=128", "display_name": "ali rashidi", "link": "https://stackoverflow.com/users/11081097/ali-rashidi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "accepted_answer_id": 54755918, "answer_count": 2, "score": -1, "last_activity_date": 1591366732, "creation_date": 1550525979, "last_edit_date": 1550550703, "question_id": 54755773, "link": "https://stackoverflow.com/questions/54755773/disable-all-the-button-in-android-studio-and-start-the-program-again", "title": "disable all the button in Android Studio and start the program again", "body": "<p>I am a beginner and I am currently making a game. When the game is over, a message is displayed showing the winner. After this message, I want to disable all the buttons.</p>\n\n<pre><code>fun buselect(view: View) {\nval buchice = view as Button\nvar cellid = 0\nwhen (buchice.id) {\n    R.id.button -&gt; cellid = 1\n    R.id.button2 -&gt; cellid = 2\n    R.id.button3 -&gt; cellid = 3\n    R.id.button4 -&gt; cellid = 4\n    R.id.button5 -&gt; cellid = 5\n    R.id.button6 -&gt; cellid = 6\n    R.id.button7 -&gt; cellid = 7\n    R.id.button8 -&gt; cellid = 8\n    R.id.button9 -&gt; cellid = 9\n}\n\nvar player1 = ArrayList&lt;Int&gt;()\nvar player2 = ArrayList&lt;Int&gt;()\nvar activeplayer = 1\n\nfun Playgame(cellid: Int, buchice: Button) {\n    if (activeplayer == 1) {\n        buchice.text = \"x\"\n        buchice.setBackgroundResource(R.color.blue)\n        player1.add(cellid)\n        activeplayer = 2\n\n    } else {\n        buchice.text = \"o\"\n        buchice.setBackgroundResource(R.color.green)\n        player2.add(cellid)\n        activeplayer = 1\n\n\n    }\n\n\n    buchice.isEnabled = false\n    checkwinner()\n}\n\nfun checkwinner() {\n    var winner = -1\n    if (player1.contains(1) &amp;&amp; player1.contains(2) &amp;&amp; player1.contains(3)) {\n        winner = 1\n\n    }\n    if (player2.contains(1) &amp;&amp; player2.contains(2) &amp;&amp; player2.contains(3)) {\n        winner = 2\n    }\n    if (player1.contains(4) &amp;&amp; player1.contains(5) &amp;&amp; player1.contains(6)) {\n        winner = 1\n    }\n    if (player2.contains(4) &amp;&amp; player2.contains(5) &amp;&amp; player2.contains(6)) {\n        winner = 2\n    }\n    if (player1.contains(7) &amp;&amp; player1.contains(8) &amp;&amp; player1.contains(9)) {\n        winner = 1\n    }\n    if (player2.contains(7) &amp;&amp; player2.contains(8) &amp;&amp; player2.contains(9)) {\n        winner = 2\n    }\n    // clon1\n\n    if (player1.contains(1) &amp;&amp; player1.contains(4) &amp;&amp; player1.contains(7)) {\n        winner = 1\n\n    }\n    if (player2.contains(1) &amp;&amp; player2.contains(4) &amp;&amp; player2.contains(7)) {\n        winner = 2\n    }\n    if (player1.contains(2) &amp;&amp; player1.contains(5) &amp;&amp; player1.contains(8)) {\n        winner = 1\n    }\n    if (player2.contains(2) &amp;&amp; player2.contains(5) &amp;&amp; player2.contains(8)) {\n        winner = 2\n    }\n    if (player1.contains(3) &amp;&amp; player1.contains(6) &amp;&amp; player1.contains(9)) {\n        winner = 1\n    }\n    if (player2.contains(3) &amp;&amp; player2.contains(6) &amp;&amp; player2.contains(9)) {\n        winner = 2\n    }\n    if (winner != -1) {\n        if (winner == 1) {\n            Toast.makeText(\n                this,\n                \"player 1 win this sgame \",\n                Toast.LENGTH_LONG\n            ).show()\n        } else {\n            Toast.makeText(\n                this,\n                \"player 2 win this sgame\",\n                Toast.LENGTH_LONG\n            ).show()\n        }\n    }\n}\n}\n</code></pre>\n\n<p>the problem is in the last part were the winner is determined</p>\n\n<p>\n        </p>\n\n<pre><code>        &lt;TableRow android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:gravity=\"center\"&gt;\n            &lt;Button\n                    android:text=\"\"\n                    android:layout_width=\"120dp\"\n                    android:layout_height=\"120dp\" android:id=\"@+id/button3\"\n                    android:background=\"@android:color/background_light\" android:layout_marginRight=\"10dp\"\n                    android:layout_marginBottom=\"10dp\" android:onClick=\"buselect\" android:textSize=\"90sp\"/&gt;\n            &lt;Button\n                    android:text=\"\"\n                    android:layout_width=\"120dp\"\n                    android:layout_height=\"120dp\" android:id=\"@+id/button2\"\n                    android:background=\"@android:color/background_light\" android:layout_marginRight=\"10dp\"\n                    android:layout_marginBottom=\"10dp\" android:onClick=\"buselect\" android:textSize=\"90sp\"/&gt;\n            &lt;Button\n                    android:text=\"\"\n                    android:layout_width=\"120dp\"\n                    android:layout_height=\"120dp\" android:id=\"@+id/button\"\n                    android:background=\"@android:color/background_light\" android:layout_marginBottom=\"10dp\"\n                    android:onClick=\"buselect\" android:textSize=\"90sp\"/&gt;\n        &lt;/TableRow&gt;\n        &lt;TableRow android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:gravity=\"center\"&gt;\n            &lt;Button\n                    android:text=\"\"\n                    android:layout_width=\"120dp\"\n                    android:layout_height=\"120dp\" android:id=\"@+id/button6\"\n                    android:background=\"@android:color/background_light\" android:layout_marginBottom=\"10dp\"\n                    android:layout_marginRight=\"10dp\" android:onClick=\"buselect\" android:textSize=\"90sp\"/&gt;\n            &lt;Button\n                    android:text=\"\"\n                    android:layout_width=\"120dp\"\n                    android:layout_height=\"120dp\" android:id=\"@+id/button5\"\n                    android:background=\"@android:color/background_light\" android:layout_marginBottom=\"10dp\"\n                    android:layout_marginRight=\"10dp\" android:onClick=\"buselect\" android:textSize=\"90sp\"/&gt;\n            &lt;Button\n                    android:text=\"\"\n                    android:layout_width=\"120dp\"\n                    android:layout_height=\"120dp\" android:id=\"@+id/button4\"\n                    android:background=\"@android:color/background_light\" android:layout_marginBottom=\"10dp\"\n                    android:onClick=\"buselect\" android:textSize=\"90sp\"/&gt;\n        &lt;/TableRow&gt;\n        &lt;TableRow android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:gravity=\"center\"&gt;\n            &lt;Button\n                    android:text=\"\"\n                    android:layout_width=\"120dp\"\n                    android:layout_height=\"120dp\" android:id=\"@+id/button9\"\n                    android:background=\"@android:color/background_light\" android:layout_marginRight=\"10dp\"\n                    android:onClick=\"buselect\" android:textSize=\"90sp\"/&gt;\n            &lt;Button\n                    android:text=\"\"\n                    android:layout_width=\"120dp\"\n                    android:layout_height=\"120dp\" android:id=\"@+id/button8\"\n                    android:background=\"@android:color/background_light\" android:layout_marginRight=\"10dp\"\n                    android:onClick=\"buselect\" android:textSize=\"90sp\"/&gt;\n            &lt;Button\n                    android:text=\"\"\n                    android:layout_width=\"120dp\"\n                    android:layout_height=\"120dp\" android:id=\"@+id/button7\"\n                    android:background=\"@android:color/background_light\" android:onClick=\"buselect\"\n                    android:textSize=\"90sp\"/&gt;\n        &lt;/TableRow&gt;\n    &lt;/TableLayout&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 853, "user_id": 5247096, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Pe4_YTYyB8w/AAAAAAAAAAI/AAAAAAAAADo/_9fPiqxMyjE/photo.jpg?sz=128", "display_name": "Hakob Hakobyan", "link": "https://stackoverflow.com/users/5247096/hakob-hakobyan"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1550525031, "post_id": 54755439, "comment_id": 96292665, "body": "Your parameter name is num, you should use num in the method, not i"}], "tags": [], "owner": {"reputation": 853, "user_id": 5247096, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Pe4_YTYyB8w/AAAAAAAAAAI/AAAAAAAAADo/_9fPiqxMyjE/photo.jpg?sz=128", "display_name": "Hakob Hakobyan", "link": "https://stackoverflow.com/users/5247096/hakob-hakobyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1550524380, "creation_date": 1550524380, "answer_id": 54755439, "question_id": 54755311, "link": "https://stackoverflow.com/questions/54755311/pass-parameter-to-function-in-kotlin/54755439#54755439", "title": "Pass parameter to function in Kotlin", "body": "<p>Change your method to accept a parameter</p>\n\n<pre><code>private fun nextUser(num: Int) { }\n</code></pre>\n\n<p>And call the function like this</p>\n\n<pre><code>for (i in 1..numOfPlayers) { ... nextUser(i) } else { blankFields() } }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 566, "user_id": 2256360, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/If0Qb.png?s=128&g=1", "display_name": "Renaissance", "link": "https://stackoverflow.com/users/2256360/renaissance"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1550524998, "post_id": 54755456, "comment_id": 96292650, "body": "tre <code>var nu: Int = 5 + num</code>"}], "tags": [], "owner": {"reputation": 566, "user_id": 2256360, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/If0Qb.png?s=128&g=1", "display_name": "Renaissance", "link": "https://stackoverflow.com/users/2256360/renaissance"}, "is_accepted": false, "score": 0, "last_activity_date": 1550524478, "creation_date": 1550524478, "answer_id": 54755456, "question_id": 54755311, "link": "https://stackoverflow.com/questions/54755311/pass-parameter-to-function-in-kotlin/54755456#54755456", "title": "Pass parameter to function in Kotlin", "body": "<p>Your nextUser should look like as follow:</p>\n\n<pre><code>private fun nextUser(i: Int = DEFAULT_VALUE) {\n\n}\n</code></pre>\n\n<p>DEFAULT_VALUE is optional, if you choose you can delete <code>= DEFAULT_VALUE</code> from you function definition. In that case, you always need to pass value when you make a call to <code>nextUser</code>.</p>\n\n<p>Then, from your for loop you can pass <code>i</code> value to <code>nextUser</code> as follow.</p>\n\n<pre><code>for (i in 1..numOfPlayers) {\n    ...\n    nextUser(i)\n\n} else {\n    blankFields()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6804246, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e2olRGm5bXI/AAAAAAAAAAI/AAAAAAAAACM/C8WR71CSF2c/photo.jpg?sz=128", "display_name": "Bino Benny", "link": "https://stackoverflow.com/users/6804246/bino-benny"}, "is_accepted": false, "score": 0, "last_activity_date": 1550670250, "last_edit_date": 1550670250, "creation_date": 1550669128, "answer_id": 54787430, "question_id": 54755311, "link": "https://stackoverflow.com/questions/54755311/pass-parameter-to-function-in-kotlin/54787430#54787430", "title": "Pass parameter to function in Kotlin", "body": "<p>The <code>NextUser()</code> function must accept one input param.</p>\n\n<p>Now the Code is like </p>\n\n<pre><code>for(i until numOfPlayers) {\n   nextuser(i)\n}\nelse {\n   blankFields()\n}\n</code></pre>\n\n<p>Now the <code>nextUser</code> looks like.</p>\n\n<pre><code>nextUser(value : Int) {\n    TODO(\"perform the action\")\n}\n</code></pre>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1550670250, "creation_date": 1550523787, "question_id": 54755311, "link": "https://stackoverflow.com/questions/54755311/pass-parameter-to-function-in-kotlin", "title": "Pass parameter to function in Kotlin", "body": "<p>Here is my activity:</p>\n\n<pre><code>class PlayerDetails : AppCompatActivity(), View.OnClickListener {\n    ...\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_player_details)\n        val intent = getIntent()\n        numOfPlayers = intent.getIntExtra(\"number_of_players\", 1)\n        next_details.setOnClickListener(this)\n    }\n\n    override fun onClick(v: View?) {\n        for (i in 1..numOfPlayers) {\n                ...\n                nextUser()\n\n            } else {\n                blankFields()\n            }\n\n        }\n    }\n    private fun nextUser() {\n\n    }\n\n}\n</code></pre>\n\n<p>How do I pass the value of <code>i</code> in my for loop to <code>nextUser()</code>?</p>\n\n<p>I tried <code>nextUser(num: Int = i)</code> but it doesn't work.</p>\n\n<p>Any idea?</p>\n"}, {"tags": ["android", "junit", "kotlin", "mocking", "android-espresso"], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 326, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1550752091, "creation_date": 1550523354, "last_edit_date": 1550752091, "question_id": 54755232, "link": "https://stackoverflow.com/questions/54755232/mocking-lateinit-vars", "title": "mocking ``lateinit var``s", "body": "<p>Right, so I have a <code>MainActivity</code> that has a view with ID <code>fragment_container</code>.</p>\n\n<p>I now want to write a test checking that that view is being displayed.</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass Foo{\n\n    @get:Rule\n    val mainActivity = ActivityTestRule(MainActivity::class.java)\n\n    @Test fun startsWithFragmentContainerVisible(){\n        onView(withId(R.id.fragment_container))\n                .check(matches(isDisplayed()))\n    }\n}\n</code></pre>\n\n<p>Ok ... that works IF the user is logged in, already.</p>\n\n<p>Because if he's not, the activity will trigger</p>\n\n<pre><code>private fun startLoginCycle(){\n    startActivity(Intent(this,LoginActivity::class.java))\n}\n</code></pre>\n\n<p>Which means the <code>fragment_container</code> is hidden behind the <code>LoginActivity</code>.</p>\n\n<p>Here's my <code>MainActivity.onCreate</code>:</p>\n\n<pre><code>private lateinit var um: IUserManager\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    um = UserManager(this) //user manager needs a context to get access to shared preferences\n\n    /* [...] */\n\n    val au = um.activeUser\n    if(!au.isLoggedIn) startLoginCycle()\n}\n</code></pre>\n\n<p>Since this test doesn't require any of the <code>UserManager</code>'s functionality, I would like to mock the <code>userManager</code> and have its <code>activeUser</code> simply return the mock of a <code>User</code> that just happens to be logged in.</p>\n\n<p>Can I do that? Or do I need to write a method that checks whether the login activity is visible and if so, use some testing account to log into the app?</p>\n"}, {"tags": ["kotlin", "spring-jdbc"], "answers": [{"tags": [], "owner": {"reputation": 6580, "user_id": 355682, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c02079e74de8563fdfa7e4ac1d87d76?s=128&d=identicon&r=PG", "display_name": "Raven Dreamer", "link": "https://stackoverflow.com/users/355682/raven-dreamer"}, "is_accepted": true, "score": 0, "last_activity_date": 1550522547, "creation_date": 1550522547, "answer_id": 54755065, "question_id": 54755064, "link": "https://stackoverflow.com/questions/54755064/failed-to-execute-dbaction-deleteroot-with-jdbc/54755065#54755065", "title": "&quot;Failed to execute DbAction.DeleteRoot&quot; with JDBC?", "body": "<p>This problem ultimately turned out not to be code-based, but rather schema-based!</p>\n\n<p>The Item database ID was used as a foreign key in two other databases. Trying to delete the Item by ID threw an error because it would have orphaned the rows in the other tables when the foreign key stopped referring to anything.</p>\n\n<p>The exception details (which aren't returned as part of the 500) were as follows: </p>\n\n<blockquote>\n  <p>org.postgresql.util.PSQLException: ERROR: update or delete on table\n  \"item_data\" violates foreign key constraint\n  \"identity_mapping_id_fkey\" on table\n  \"identity_mapping\"   Detail: Key\n  (id)=(99304a5d-5bcc-4f31-a192-625ed8c9059b) is still referenced from\n  table \"identity_mapping\".</p>\n</blockquote>\n\n<p>This is also why some of the data deleted just fine -- it had no corresponding entries in the mapping table, so it didn't trigger this error during a delete.</p>\n\n<p>The ultimate solution is to check for foreign keys before deleting, either removing or updating the corresponding rows before you do.</p>\n"}], "owner": {"reputation": 6580, "user_id": 355682, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c02079e74de8563fdfa7e4ac1d87d76?s=128&d=identicon&r=PG", "display_name": "Raven Dreamer", "link": "https://stackoverflow.com/users/355682/raven-dreamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "accepted_answer_id": 54755065, "answer_count": 1, "score": 0, "last_activity_date": 1550522547, "creation_date": 1550522547, "question_id": 54755064, "link": "https://stackoverflow.com/questions/54755064/failed-to-execute-dbaction-deleteroot-with-jdbc", "title": "&quot;Failed to execute DbAction.DeleteRoot&quot; with JDBC?", "body": "<p>I have a JDBC repository with a \"deleteItem\" method, however when I trigger the method via Postman, I get a strange error: \"Failed to execute DbAction.DeleteRoot\"</p>\n\n<p>Some items delete without issue, only a subset of the data is triggering this bug.</p>\n\n<p>Here's the extent of my @Repository code:</p>\n\n<pre><code>@Repository\ninterface ItemRepository: CrudRepository&lt;Item, UUID&gt;\n{\n    @Query( \"select * from item_data where scopes @&gt; :scopes\")\n    fun findItemsByScope(@Param(\"scopes\") scope: String): List&lt;Item&gt;\n}\n</code></pre>\n\n<p>And here's the @Component that implements it (and is called by my API)</p>\n\n<pre><code>@Component\nclass RepositoryItemPersistenceAdapter(\n        private val repository: ItemRepository\n){\n\n    fun getItemsByScope(scope: String) : List&lt;Item&gt; =\n       repository.findItemsByScope(scope)\n\n    fun deleteItem(id: UUID) = repository.deleteById(id)\n\n    fun getAllItems(): List&lt;Item&gt; = repository.findAll()\n\n}\n</code></pre>\n"}, {"tags": ["kotlin", "java-8", "java-stream"], "answers": [{"comments": [{"owner": {"reputation": 669, "user_id": 4910896, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7F1pH.jpg?s=128&g=1", "display_name": "Juanca", "link": "https://stackoverflow.com/users/4910896/juanca"}, "edited": false, "score": 0, "creation_date": 1550521001, "post_id": 54754225, "comment_id": 96291024, "body": "Man you are a life saver, it was so simple but i couldn&#39;t wrap my head around it."}], "tags": [], "owner": {"reputation": 853, "user_id": 5247096, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Pe4_YTYyB8w/AAAAAAAAAAI/AAAAAAAAADo/_9fPiqxMyjE/photo.jpg?sz=128", "display_name": "Hakob Hakobyan", "link": "https://stackoverflow.com/users/5247096/hakob-hakobyan"}, "is_accepted": true, "score": 7, "last_activity_date": 1596710965, "last_edit_date": 1596710965, "creation_date": 1550518717, "answer_id": 54754225, "question_id": 54753856, "link": "https://stackoverflow.com/questions/54753856/kotlin-how-to-use-java-streams-map-in-kotlin-to-map-a-different-object-respon/54754225#54754225", "title": "Kotlin How to use java streams .map() in kotlin to map a different object response", "body": "<p>some quick prototyping</p>\n<pre><code>    details  = acctBal\n                     .filter{ f -&gt; f.getBalType() != null }\n                     .map { it -&gt; mapToProductDetail (it) }\n</code></pre>\n<p>you can have a look <a href=\"https://stackoverflow.com/questions/34642254/what-java-8-stream-collect-equivalents-are-available-in-the-standard-kotlin-libr\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 669, "user_id": 4910896, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7F1pH.jpg?s=128&g=1", "display_name": "Juanca", "link": "https://stackoverflow.com/users/4910896/juanca"}, "is_accepted": false, "score": 2, "last_activity_date": 1550521149, "creation_date": 1550521149, "answer_id": 54754768, "question_id": 54753856, "link": "https://stackoverflow.com/questions/54753856/kotlin-how-to-use-java-streams-map-in-kotlin-to-map-a-different-object-respon/54754768#54754768", "title": "Kotlin How to use java streams .map() in kotlin to map a different object response", "body": "<p>Thanks to @Hakob Hakobyan for pointing in the right direction,</p>\n\n<p>I left my solution like this:</p>\n\n<pre><code>fun mapRs(rs: AthProductResponse): BalanceByAccountRs {\n    val res = rs.getPartyAcctRelRec();\n    val balances: List&lt;AcctBal&gt; = res.getAcctBals();\n    val account = Account(res.getPartyAcctRelInfo().depAcctId.acctId, res.getPartyAcctRelInfo().depAcctId.acctType)\n    var balanceList: List&lt;BalanceMap&gt; = balances\n        .filter { f -&gt; f.getDesc() != null }\n        .map { it -&gt; mapToProductDetail(it) }\n        .toList()\n    return BalanceByAccountRs(account, balanceList)\n}\n\nfun mapToProductDetail(bal: AcctBal): BalanceMap {\n    var propertyValue: Long = 0L;\n    if(bal.getExpDt() != null) {\n        propertyValue = Timestamp.valueOf(bal.getExpDt()).getTime()\n    } else {\n        propertyValue = bal.getCurAmt().getAmt().toLong()\n    }\n    return BalanceMap(bal.getDesc(), propertyValue)\n}\n</code></pre>\n\n<p>Just in case someone is going through the same. Happy coding</p>\n"}], "owner": {"reputation": 669, "user_id": 4910896, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7F1pH.jpg?s=128&g=1", "display_name": "Juanca", "link": "https://stackoverflow.com/users/4910896/juanca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7041, "favorite_count": 1, "accepted_answer_id": 54754225, "answer_count": 2, "score": 7, "last_activity_date": 1596710965, "creation_date": 1550516972, "last_edit_date": 1550518208, "question_id": 54753856, "link": "https://stackoverflow.com/questions/54753856/kotlin-how-to-use-java-streams-map-in-kotlin-to-map-a-different-object-respon", "title": "Kotlin How to use java streams .map() in kotlin to map a different object response", "body": "<p>I am trying to map an array of objects to another array with different kind of objects, I used to do this using streams in java 8 it was pretty straight forward, instantiate an object set its values and return the object. I just switched to Kotlin and really sometimes is more confusing to do this kind of operations. All the examples I found are really simple and could not find something I want.</p>\n\n<p>I have this BalanceMap class:</p>\n\n<p><code>data class BalanceMap @JsonCreator constructor(\n        var balType: String,\n        var value: Any\n)</code></p>\n\n<p>I am getting the data from web service.</p>\n\n<pre><code>val balances: List&lt;AcctBal&gt; = res.getAcctBals();\n</code></pre>\n\n<p>the AcctBal class looks like this</p>\n\n<pre><code>public class AcctBal {\n\n  @SerializedName(\"CurAmt\")\n  @Expose\n  private CurAmt curAmt;\n\n  @SerializedName(\"Desc\")\n  @Expose\n  private String desc;\n\n  @SerializedName(\"ExpDt\")\n  @Expose\n  private LocalDateTime expDt;\n}\n</code></pre>\n\n<p>and try to map that response to <code>var balanceList: List&lt;BalanceMap&gt;</code></p>\n\n<pre><code>balances.map {}\n</code></pre>\n\n<p>--> <code>var balanceList: List&lt;BalanceMap&gt; = balances.map { t -&gt; fun AcctBal.toBalanceMap() = BalanceMap(\n                balType = \"\",\n                value = \"\"\n        )}</code></p>\n\n<p>I want to do something like this:</p>\n\n<pre><code>List&lt;ProductDetail&gt; details = acctBal.stream().filter(f -&gt; f.getBalType() != null).map(e -&gt; {\n                String bal = e.getBalType();\n                if (avalProductInfo.getBankId().equals(\"00010016\")) {\n                    bal = e.getBalType();\n                }\n                ProductDetail detail = new ProductDetail();\n                detail.setItem(bal);\n                if (e.getCurAmt() != null) {\n                    detail.setValue(e.getCurAmt().getAmt().toString());\n                } else if (e.getRelationDt() != null) {\n                    detail.setValue(e.getRelationDt().toGregorianCalendar().getTimeInMillis());\n                } else if (e.getMemo() != null) {\n                    detail.setValue(e.getMemo());\n                }\n                return detail;\n            }).collect(toList());\n</code></pre>\n\n<p>I've been experimenting but is always wrong, any help will be highly appreciated. Happy coding!</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "navigation"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "edited": false, "score": 0, "creation_date": 1550555518, "post_id": 54754598, "comment_id": 96300144, "body": "I use a navigation graph, so I show the fragment with an onClick(): <code>view.findNavController().navigate(R.id.action_levelSelectFra&zwnj;&#8203;gment_to_chromaticFr&zwnj;&#8203;agment)</code>, and load the following levels with <code>.setPositiveButton(&quot;Play next level!&quot;) { view?.findNavController()?.navigate(R.id.action_chromaticFra&zwnj;&#8203;gment_self)}</code>, but I&#180;ll try your code anyway. Once I manage to translate it to kotlin."}], "tags": [], "owner": {"reputation": 2511, "user_id": 1580500, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/fd636dcbdbb986e43fb4df6b3cac0957?s=128&d=identicon&r=PG", "display_name": "fernandospr", "link": "https://stackoverflow.com/users/1580500/fernandospr"}, "is_accepted": false, "score": 1, "last_activity_date": 1550520371, "creation_date": 1550520371, "answer_id": 54754598, "question_id": 54753794, "link": "https://stackoverflow.com/questions/54753794/custom-back-button-behaviour-in-fragment-using-navigation-graph/54754598#54754598", "title": "Custom Back Button behaviour in Fragment, using Navigation graph", "body": "<p>Assuming you have the following code in the Activity to show the fragments:</p>\n\n<pre><code>FragmentManager fm = getSupportFragmentManager();\nFragmentTransaction t = fm.beginTransaction();\nt.replace(R.id.test, MyFragment.newInstance(), null);\nt.addToBackStack(null);\nt.commit();\n</code></pre>\n\n<p>You can override <code>onBackPressed()</code> in the Activity, for example:</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    // ...\n    builder.setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialog, int which) {\n            MyActivity.super.onBackPressed();\n        }\n    });\n    builder.setNegativeButton(\"Cancel\", null);\n    builder.show();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "is_accepted": false, "score": 0, "last_activity_date": 1550651124, "creation_date": 1550651124, "answer_id": 54781794, "question_id": 54753794, "link": "https://stackoverflow.com/questions/54753794/custom-back-button-behaviour-in-fragment-using-navigation-graph/54781794#54781794", "title": "Custom Back Button behaviour in Fragment, using Navigation graph", "body": "<p>I ended up using the following code in my main activity:</p>\n\n<pre><code>override fun onBackPressed() {\n    val navController = Navigation.findNavController(this, R.id.fragment5)\n    println(navController.currentDestination?.label)\n    if(navController.currentDestination?.label.toString() == \"ChromaticFragment\"){\n        val dialogBuilder = AlertDialog.Builder(this)\n\n        dialogBuilder.setMessage(\"What do you want to do?\")\n\n            .setNeutralButton(\"Resume Level\") { dialog, _ -&gt;\n                dialog.dismiss()\n            }\n            .setPositiveButton(\"Play next level\") { _, _ -&gt;\n                FullscreenActivity.level.levelSelection(FullscreenActivity.makeLevel.nextlevelsetup)\n                navController.navigate(R.id.action_chromaticFragment_self)\n            }\n            .setNegativeButton(\"Exit to Main Menu\") { _, _ -&gt;\n                navController.popBackStack(R.id.mainFragment, true)\n                navController.navigate(R.id.action_global_mainFragment)\n            }\n\n        val alert = dialogBuilder.create()\n        alert.show()\n    }\n    else {\n        super.onBackPressed()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 903, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550651124, "creation_date": 1550516687, "question_id": 54753794, "link": "https://stackoverflow.com/questions/54753794/custom-back-button-behaviour-in-fragment-using-navigation-graph", "title": "Custom Back Button behaviour in Fragment, using Navigation graph", "body": "<p>I am writing a game in which one fragment is loaded several times successively with an increasing number of elements on the screen, so that the difficulty increases. I do this with a Navigation graph in which the level has an action to self in which it passes new parameters each time. So far so good.</p>\n\n<p>The only problem is the BackStack: If I keep the default behaviour, it goes back to the same fragment, but with some weird changes in the score numbers. If I set it to go straight back to the main menu, the user might hit the back button by mistake an end up losing their progress. </p>\n\n<p>So I want to display an alert dialog prompting a decision to either resume game or go back to main menu.</p>\n\n<p>I know how to create the dialog but how do I show it when back is pressed? Trying to override <code>onBackPressed()</code>, <code>onNavigateUp()</code> and <code>onSupportNavigateup()</code> each give me an \"overrides nothing\" message. What else could I try?</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1550518840, "creation_date": 1550518840, "answer_id": 54754253, "question_id": 54753724, "link": "https://stackoverflow.com/questions/54753724/coroutine-job-never-completing/54754253#54754253", "title": "Coroutine job never completing", "body": "<p>There are several functions to wait for a <code>Job()</code> object to complete and to cancel it. You may pick one from the list</p>\n\n<pre><code>job.cancel()\njob.join()\njob.cancelAndJoin()\n</code></pre>\n\n<p>Only the first function is not a <code>suspend</code> function, so you may call it from every other function, not necessarily a <code>suspend</code> functions</p>\n\n<p>There is a better way - the <code>launch{..}</code> function already returns <code>Job</code> object from the call. You may simplify the code to say </p>\n\n<pre><code>val job = GlobalScope.launch { .. }\n</code></pre>\n\n<p>that <code>Job</code> object will automatically complete when launch block is over or failed with an exception </p>\n"}, {"comments": [{"owner": {"reputation": 1922, "user_id": 306047, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9036cb8dc5eafb78f197e3c446aeca7?s=128&d=identicon&r=PG", "display_name": "snorbi", "link": "https://stackoverflow.com/users/306047/snorbi"}, "edited": false, "score": 0, "creation_date": 1609702272, "post_id": 54754792, "comment_id": 115899397, "body": "&quot;main job works only as the parent job and will never complete&quot; - could you please link the corresponding documentation? I try to understand this... :)"}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 2, "last_activity_date": 1550521281, "creation_date": 1550521281, "answer_id": 54754792, "question_id": 54753724, "link": "https://stackoverflow.com/questions/54753724/coroutine-job-never-completing/54754792#54754792", "title": "Coroutine job never completing", "body": "<p>The main job works only as the parent job and will never complete.\nBut you could wait for all children to complete:</p>\n\n<pre><code>runBlocking {\n    job.children.forEach { it.join() }\n    println(\"job done\")\n}\n</code></pre>\n\n<p>Alternatively you should go with Eugene's solution and invoke the <code>join</code> method of the <code>Job</code> you just started, instead of the main job.</p>\n"}], "owner": {"reputation": 8300, "user_id": 654799, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S83OA.jpg?s=128&g=1", "display_name": "vach", "link": "https://stackoverflow.com/users/654799/vach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 559, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550521281, "creation_date": 1550516388, "question_id": 54753724, "link": "https://stackoverflow.com/questions/54753724/coroutine-job-never-completing", "title": "Coroutine job never completing", "body": "<p>Given this piece of code</p>\n\n<pre><code>\nfun main() {\n    val job = Job()\n    val scope = GlobalScope + job\n\n    scope.launch {\n        println(\"working!\")\n        delay(1000L)is ms)\n        println(\"done!\")\n        // how do i finish the job originally associated with this scope?\n    }\n\n\n    runBlocking {\n        job.join()\n        println(\"job done\")\n    }\n}\n</code></pre>\n\n<p>I have a custom coroutine scope for my application, and i'm associating a job with this scope like that, reason being i want all the new coroutines that are created from this scope to be the children of this job, if i cancel it i want everything in it to be cancelled.</p>\n\n<p>But main job itself is never completing. How do i complete the main job when the task is done? or failed...</p>\n"}, {"tags": ["android", "kotlin", "textview"], "answers": [{"tags": [], "owner": {"reputation": 1308, "user_id": 1295419, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/g5QXq.jpg?s=128&g=1", "display_name": "Sermilion", "link": "https://stackoverflow.com/users/1295419/sermilion"}, "is_accepted": false, "score": 0, "last_activity_date": 1550516329, "last_edit_date": 1550516329, "creation_date": 1550515095, "answer_id": 54753457, "question_id": 54753185, "link": "https://stackoverflow.com/questions/54753185/underline-on-textview-only-uderlines-first-line-of-text/54753457#54753457", "title": "Underline on TextView only uderlines first line of text", "body": "<p>Ok, this is stupid, but. <strong>The underline on the second line was not visible due to the absence of bottom padding.</strong> \nI added <code>android:paddingBottom=\"8dp\"</code> and the underline became visible. I am not sure why I have to add it in the first place.</p>\n"}], "owner": {"reputation": 1308, "user_id": 1295419, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/g5QXq.jpg?s=128&g=1", "display_name": "Sermilion", "link": "https://stackoverflow.com/users/1295419/sermilion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550516621, "creation_date": 1550513888, "last_edit_date": 1550516621, "question_id": 54753185, "link": "https://stackoverflow.com/questions/54753185/underline-on-textview-only-uderlines-first-line-of-text", "title": "Underline on TextView only uderlines first line of text", "body": "<p>I need to underline a part of text in a TextView wich has multiple lines. I have added paint flag to underline a text:</p>\n\n<pre><code>textView.text = resources!!.getString(R.string.a_string)\ntextView.paintFlags = textView.paintFlags or Paint.UNDERLINE_TEXT_FLAG \n</code></pre>\n\n<p>However, it only undelines text on the first line and not the second and further. Furthermore, it just randomly does not work on some TextView's and works on others. Can someone explain if there are any special considerations, special cases where this works and where it does not?</p>\n\n<p>Here is my TextView definition (ConstraintLayout):</p>\n\n<pre><code>&lt;TextView\n      android:id=\"@+id/title\"\n      android:layout_width=\"0dp\"\n      android:layout_height=\"wrap_content\"\n      android:layout_marginStart=\"24dp\"\n      android:layout_marginTop=\"32dp\"\n      android:layout_marginEnd=\"32dp\"\n      android:text=\"Some text taht goes to more than one line.\"\n      app:layout_constraintEnd_toEndOf=\"parent\"\n      app:layout_constraintHorizontal_bias=\"0\"\n      app:layout_constraintStart_toStartOf=\"parent\"\n      app:layout_constraintTop_toBottomOf=\"@id/some_id\"\n      app:strokeColor=\"@color/black\"\n      android:lineSpacingExtra=\"8dp\"\n      /&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 775, "user_id": 4903160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10206270666822810/picture?type=large", "display_name": "Tai Nguyen", "link": "https://stackoverflow.com/users/4903160/tai-nguyen"}, "is_accepted": true, "score": 1, "last_activity_date": 1550568654, "creation_date": 1550568654, "answer_id": 54762840, "question_id": 54752140, "link": "https://stackoverflow.com/questions/54752140/android-os-badparcelableexception-parcelable-protocol-requires-a-parcelable-cre/54762840#54762840", "title": "android.os.BadParcelableException: Parcelable protocol requires a Parcelable.Creator object called CREATOR", "body": "<p>I don't know why but I have just to add \"@JvmField\" above val CREATOR</p>\n"}, {"tags": [], "owner": {"reputation": 673, "user_id": 5335382, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yxY9MKKmk4o/AAAAAAAAAAI/AAAAAAAABIQ/33FrI6z6tbM/photo.jpg?sz=128", "display_name": "Shivam Yadav", "link": "https://stackoverflow.com/users/5335382/shivam-yadav"}, "is_accepted": false, "score": -1, "last_activity_date": 1550569501, "creation_date": 1550569501, "answer_id": 54763133, "question_id": 54752140, "link": "https://stackoverflow.com/questions/54752140/android-os-badparcelableexception-parcelable-protocol-requires-a-parcelable-cre/54763133#54763133", "title": "android.os.BadParcelableException: Parcelable protocol requires a Parcelable.Creator object called CREATOR", "body": "<p>The problem is in writing or reading the parcel . To solve the issue delete all the implementation or overridden methods of parcelable and then again override the method with proper implementation . You just need to press alt + enter to override the methods.</p>\n"}, {"tags": [], "owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "is_accepted": false, "score": 0, "last_activity_date": 1598971472, "creation_date": 1598971472, "answer_id": 63689985, "question_id": 54752140, "link": "https://stackoverflow.com/questions/54752140/android-os-badparcelableexception-parcelable-protocol-requires-a-parcelable-cre/63689985#63689985", "title": "android.os.BadParcelableException: Parcelable protocol requires a Parcelable.Creator object called CREATOR", "body": "<p>The syntax you wrote has a problem and JVM cannot recognize it as <code>CREATOR</code> for the <code>Parcelable</code>. Instead of this:</p>\n<pre><code>companion object {\n\n        @SuppressLint(&quot;ParcelCreator&quot;)\n        val CREATOR: Parcelable.Creator&lt;ResultBean&gt; = object : Parcelable.Creator&lt;ResultBean&gt; {\n            override fun createFromParcel(parcel: Parcel): ResultBean {\n                return ResultBean(parcel)\n            }\n\n            override fun newArray(size: Int): Array&lt;ResultBean?&gt; {\n                return arrayOfNulls(size)\n            }\n        }\n    }\n</code></pre>\n<p>Use this syntax:</p>\n<pre><code>companion object CREATOR : Parcelable.Creator&lt;SavedState&gt; {\n            override fun createFromParcel(parcel: Parcel): ResultBean {\n                return ResultBean(parcel)\n            }\n\n            override fun newArray(size: Int): Array&lt;ResultBean?&gt; {\n                return arrayOfNulls(size)\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 775, "user_id": 4903160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10206270666822810/picture?type=large", "display_name": "Tai Nguyen", "link": "https://stackoverflow.com/users/4903160/tai-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 54762840, "answer_count": 3, "score": 1, "last_activity_date": 1598971472, "creation_date": 1550509411, "question_id": 54752140, "link": "https://stackoverflow.com/questions/54752140/android-os-badparcelableexception-parcelable-protocol-requires-a-parcelable-cre", "title": "android.os.BadParcelableException: Parcelable protocol requires a Parcelable.Creator object called CREATOR", "body": "<p>I tried to pass an Extra to another Activity by using intent.putExtra(\"result\", resultBean) but I have this following error</p>\n\n<pre><code>android.os.BadParcelableException: Parcelable protocol requires a Parcelable.Creator object called CREATOR on class com.tai.androidtai.domain.bean.ResultBean\n</code></pre>\n\n<p>I tried to find the solution through stackoverflow but I did not find it.</p>\n\n<p>I tried to follow the same sequence between readparcel and writeparcel but it didnt change anything.</p>\n\n<p>here my following code : </p>\n\n<p>Activity : </p>\n\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_user_details)\n        ButterKnife.bind(this)\n        AndroidInjection.inject(this)\n        mPresenter.subscribe(this)\n\n        displayAllUserInformation(intent.getParcelableExtra(\"result\"))  \n    }\n</code></pre>\n\n<p>Bean : </p>\n\n<pre><code>class ResultBean private constructor(parcel: Parcel) : Parcelable {\n\n    @SerializedName(\"id\")\n    private var mId: Int? = null\n\n    @SerializedName(\"name\")\n    private var mName: String? = \"\"\n\n    @SerializedName(\"status\")\n    private var mStatus: String? = \"\"\n\n    @SerializedName(\"species\")\n    private var mSpecies: String? = \"\"\n\n    @SerializedName(\"gender\")\n    private var mGender: String? = \"\"\n\n    @SerializedName(\"image\")\n    private var mImageUrl: String? = \"\"\n\n    init {\n        mId = parcel.readInt()\n        mName = parcel.readString()\n        mStatus = parcel.readString()\n        mSpecies = parcel.readString()\n        mGender = parcel.readString()\n        mImageUrl = parcel.readString()\n    }\n\n    override fun writeToParcel(dest: Parcel, flags: Int) {\n        dest.writeInt(mId!!)\n        dest.writeString(mName)\n        dest.writeString(mStatus)\n        dest.writeString(mSpecies)\n        dest.writeString(mGender)\n        dest.writeString(mImageUrl)\n    }\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    fun getId(): Int {\n        return mId!!\n    }\n\n    fun getName(): String {\n        if (mName == null) {\n            mName = \"\"\n        }\n        return mName!!\n    }\n\n    fun getStatus(): String {\n        if (mStatus == null) {\n            mStatus = \"\"\n        }\n        return mStatus!!\n    }\n\n    fun getSpecies(): String {\n        if (mSpecies == null) {\n            mSpecies = \"\"\n        }\n        return mSpecies!!\n    }\n\n    fun getGender(): String {\n        if (mGender == null) {\n            mGender = \"\"\n        }\n        return mGender!!\n    }\n\n    fun getImageUrl(): String {\n        if (mImageUrl == null) {\n            mImageUrl = \"\"\n        }\n        return mImageUrl!!\n    }\n\n    companion object {\n\n        @SuppressLint(\"ParcelCreator\")\n        val CREATOR: Parcelable.Creator&lt;ResultBean&gt; = object : Parcelable.Creator&lt;ResultBean&gt; {\n            override fun createFromParcel(parcel: Parcel): ResultBean {\n                return ResultBean(parcel)\n            }\n\n            override fun newArray(size: Int): Array&lt;ResultBean?&gt; {\n                return arrayOfNulls(size)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Thank you for your help</p>\n"}, {"tags": ["java", "kotlin", "extension-methods"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 6, "last_activity_date": 1550509570, "creation_date": 1550509570, "answer_id": 54752170, "question_id": 54752096, "link": "https://stackoverflow.com/questions/54752096/is-there-a-way-to-hide-java-methods-in-kotlin/54752170#54752170", "title": "Is there a way to hide Java methods in Kotlin?", "body": "<p>Unfortunately, this is compiler magic. These are called <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"noreferrer\">mapped types</a>, and the compiler gives them special treatment to make it so that they are visible to Kotlin code as the Kotlin types that have modified interfaces, even though at runtime they are instances of the regular Java types when compiled to the JVM.</p>\n\n<p>Other than <code>String</code>, the most notable examples perhaps are the collections, which have two layers of completely new interfaces applied to them, for the read-only and mutable variants.</p>\n"}], "owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "accepted_answer_id": 54752170, "answer_count": 1, "score": 5, "last_activity_date": 1550509570, "creation_date": 1550509247, "question_id": 54752096, "link": "https://stackoverflow.com/questions/54752096/is-there-a-way-to-hide-java-methods-in-kotlin", "title": "Is there a way to hide Java methods in Kotlin?", "body": "<p>I'm learning Kotlin and I'm reading this days <em>Kotlin in Action</em>.\nReading the chapter about extension functions and standard library improvement, I read about different behaviour exposed by <code>String.split</code> overloads between Java and Kotlin: I think it's a very good idea to move toward an explicit and more type-guided separation between delimiters-based and regex-based overloads.</p>\n\n<p>About this, the book I've mentioned above says that <em>Kotlin hides the confusing method and provides as replacements several overloaded extensions named <code>split</code> that have different arguments</em>.</p>\n\n<p>Extension functions respond to the questione \"How can I add method to an existing class\"; on the other hand, <strong>I can't figure out how it's possibile to <em>hide</em> methods provided by the Java Standard Library</strong>.</p>\n\n<p>I did some attempts writing simple code, and I noticed that</p>\n\n<ol>\n<li><code>val ks = \"Pietro Martinelli\"</code> has <code>ks::class.qualifiedName == \"kotlin.String\"</code></li>\n<li><code>val ks = \"Pietro Martinelli\"</code> has <code>ks::javaClass.name == \"java.lang.String\"</code></li>\n<li>passing the above value <code>ks</code> to a Java method, the received parameter <code>x</code> has <code>x.getClass().getName() == \"java.lang.String\"</code> (as expected)</li>\n<li><code>String js = \"Pietro Martinelli\"</code> (in Java code) has <code>js.getClass().getName() == \"java.lang.String\"</code>, as expected</li>\n<li>passing the above <code>js</code> value to a Kotlin method, the received parameter <code>y</code> has <code>y::class.qualifiedName == \"kotlin.String\"</code> and <code>y.getClass().getName() == \"java.lang.String\"</code> (as so far expected)</li>\n</ol>\n\n<p>So: it seems that (let me say) <em>something magic</em> occurred when I use <code>String</code> values in Kotlin and back and forth from Kotlin to Java. If I undestand correctly, <code>String</code> literals in Kotlin are instances of <code>kotlin.String</code> but they are bounded to a <em>Java type</em> that is transparently used for Java method calls. This way Kotlin library can enhance <code>String</code> experience without affecting <code>java.lang.String</code>: usual Java <code>[java.lang.]String.split</code> methods are <em>hidden</em> to Kotlin code in the sense that Kotlin developers see <code>[kotlin.]String</code> instances and their methods.</p>\n\n<p>So, two (related) question:\n 1. is my understanding right? And, more interesting\n 2. it's only a kind of magic put in place by the compiler, which <em>knows</em> <code>String</code>s as instances of a <em>special</em> type and wraps them behind instances of a different class, or is there some more general approach/mechanic that permits to someway <em>hide</em> some method of a class the same way we can add methods through the extension function mechanic? It can be very dangerous, so <strong>I think it's only a matter of the compiler</strong>, but it can be powerful, too, so I think it's worth the question.</p>\n\n<p>Thank in advance for hints and feedbacks.</p>\n"}, {"tags": ["serialization", "kotlin"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1550565677, "post_id": 54752020, "comment_id": 96304338, "body": "1. Is that the only error? Maybe something happens before <code>serializer()</code> and the rest get generated. 2. Just in case, double-check that <code>User</code> is annotated as <code>@Serializable</code>."}, {"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1550591612, "post_id": 54752020, "comment_id": 96320420, "body": "@AlexeyRomanov 1. yes, that&#39;s the only error, whether I build from command line or in IntelliJ. 2. yes, <code>User</code> is annotated with <code>@Serializable</code>."}], "answers": [{"comments": [{"owner": {"reputation": 174, "user_id": 7507215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EmkH8.png?s=128&g=1", "display_name": "fisio", "link": "https://stackoverflow.com/users/7507215/fisio"}, "edited": false, "score": 0, "creation_date": 1608931981, "post_id": 54780989, "comment_id": 115715875, "body": "if i <code>apply plugin </code>it throws: <code>Plugin with id &#39;kotlinx-serialization&#39; not found</code>. Added dependencies and `   maven { url &quot;<a href=\"https://kotlin.bintray.com/kotlinx\" rel=\"nofollow noreferrer\">kotlin.bintray.com/kotlinx</a>&quot; } ` in buildscript repositories"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 174, "user_id": 7507215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EmkH8.png?s=128&g=1", "display_name": "fisio", "link": "https://stackoverflow.com/users/7507215/fisio"}, "edited": false, "score": 0, "creation_date": 1608934783, "post_id": 54780989, "comment_id": 115716403, "body": "@fisio You may want to ask it as a separate question."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1550647892, "creation_date": 1550647892, "answer_id": 54780989, "question_id": 54752020, "link": "https://stackoverflow.com/questions/54752020/kotlin-serialization-unresolved-reference-serializer/54780989#54780989", "title": "Kotlin Serialization: &quot;Unresolved reference: serializer&quot;", "body": "<p>In <code>plugins</code>, you can't just put a string as you did, <a href=\"https://docs.gradle.org/current/userguide/plugins.html#sec:plugins_block\" rel=\"nofollow noreferrer\">the options are (for <code>.kts</code>)</a>:</p>\n\n<pre><code>plugins {\n    `\u00abplugin id\u00bb`                                             // (1)\n    id(\u00abplugin id\u00bb)                                           // (2)\n    id(\u00abplugin id\u00bb) version \u00abplugin version\u00bb [apply \u00abfalse\u00bb]  // (3)\n} \n</code></pre>\n\n<p>I think the Kotlin plugin itself is activating because of <code>id(\"org.jetbrains.kotlin.jvm\").version(\"1.3.20\")</code>, not because of <code>\"kotlin\"</code>. </p>\n\n<p>The README says</p>\n\n<blockquote>\n  <h1><a href=\"https://github.com/Kotlin/kotlinx.serialization#gradle-with-plugins-block\" rel=\"nofollow noreferrer\">Gradle (with plugins block)</a></h1>\n  \n  <p>You can setup serialization plugin with the kotlin plugin using Gradle plugins DSL instead of traditional apply plugin:</p>\n\n<pre><code>plugins {\n    id 'kotlin-multiplatform' version '1.3.20'\n    id 'kotlinx-serialization' version '1.3.20'\n}\n</code></pre>\n  \n  <p>In this case, since serialization plugin is not published to Gradle plugin portal yet, you'll need to add plugin resolution rules to your settings.gradle:</p>\n\n<pre><code>pluginManagement {\n    resolutionStrategy {\n        eachPlugin {\n            if (requested.id.id == \"kotlin-multiplatform\") {\n                useModule(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${requested.version}\")\n            }\n            if (requested.id.id == \"kotlinx-serialization\") {\n                useModule(\"org.jetbrains.kotlin:kotlin-serialization:${requested.version}\")\n            }\n        }\n    }\n}\n</code></pre>\n  \n  <p>Don't forget to drop classpath dependency on the plugin from the buildscript dependencies, otherwise, you'll get an error about conflicting versions.</p>\n</blockquote>\n\n<p>So the least change would be to remove the two strings from <code>plugins</code> block and\nadd </p>\n\n<pre><code>apply plugin: 'kotlinx-serialization'\n</code></pre>\n\n<p>instead.</p>\n"}], "owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2789, "favorite_count": 1, "accepted_answer_id": 54780989, "answer_count": 1, "score": 2, "last_activity_date": 1550647892, "creation_date": 1550508943, "last_edit_date": 1550509272, "question_id": 54752020, "link": "https://stackoverflow.com/questions/54752020/kotlin-serialization-unresolved-reference-serializer", "title": "Kotlin Serialization: &quot;Unresolved reference: serializer&quot;", "body": "<p>I'm trying out Kotlin Serialization. After setting it up following the directions, I get the <code>Unresolved reference: serializer</code> build error with this code:</p>\n\n<pre><code>val serializer : KSerializer&lt;User&gt; = User.serializer()\n</code></pre>\n\n<p>I'm speculating that somehow the compiler plugin did not kick in, but can't see what I missed in the setup.</p>\n\n<p>Here is my <code>build.gradle.kts</code>:</p>\n\n<pre><code>buildscript {\n    val kotlinVer: String by extra(\"1.3.20\")\n    repositories { jcenter() }\n\n    dependencies {\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVer\")\n        classpath(\"org.jetbrains.kotlin:kotlin-serialization:$kotlinVer\")\n    }\n}\n\nplugins {\n    id(\"org.jetbrains.kotlin.jvm\").version(\"1.3.20\")\n\n    application\n\n    \"kotlin\"\n    \"kotlinx-serialization\"\n}\n\nrepositories {\n    jcenter()\n    maven(\"https://kotlin.bintray.com/kotlinx\")\n}\n\ndependencies {\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    compile(\"org.jetbrains.kotlinx:kotlinx-serialization-runtime:0.10.0\")\n\n    testImplementation(\"org.jetbrains.kotlin:kotlin-test\")\n\n    testImplementation(\"org.jetbrains.kotlin:kotlin-test-junit\")\n}\n\napplication {\n    mainClassName = \"com.digizen.AppKt\"\n}\n</code></pre>\n"}, {"tags": ["java", "android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "edited": false, "score": 0, "creation_date": 1550508697, "post_id": 54751867, "comment_id": 96285997, "body": "Hello Alex, If I do that I will lose backward compatibility with older clients running on the same database"}, {"owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "edited": false, "score": 0, "creation_date": 1550511652, "post_id": 54751867, "comment_id": 96287361, "body": "That is actually what I&#39;m trying to do and I was hoping, I could somehow add my custom logic to the snapshot getValue method. But couldn&#39;t find a way to do that"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "edited": false, "score": 0, "creation_date": 1550511999, "post_id": 54751867, "comment_id": 96287488, "body": "As far as I know there isn&#39;t one since <code>getValue</code> only gets the data. It doesn&#39;t do any other operations."}, {"owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "edited": false, "score": 0, "creation_date": 1550512202, "post_id": 54751867, "comment_id": 96287566, "body": "Thanks Alex! I will leave the question open for now if someone comes with an innovative way of doing so"}, {"owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "edited": false, "score": 0, "creation_date": 1551173112, "post_id": 54751867, "comment_id": 96533440, "body": "Sorry Alex, but if If I didn&#39;t accept your answer it means it hasn&#39;t really helped me. I&#39;m looking for a way to make custom deserialization from Firebase. As I told you, I&#39;m leaving the question open in case someone comes by with an innovative way of plugin custom logic around getValue."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "edited": false, "score": 0, "creation_date": 1551173278, "post_id": 54751867, "comment_id": 96533535, "body": "Fair enough but let&#39;s see why. What was the problem regarding my solution? What was the expected result?"}, {"owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "edited": false, "score": 0, "creation_date": 1551727964, "post_id": 54751867, "comment_id": 96738213, "body": "I was looking for a more practical answer than a theorized solution. Thanks anyway!"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 1, "last_activity_date": 1550692456, "last_edit_date": 1550692456, "creation_date": 1550508394, "answer_id": 54751867, "question_id": 54751675, "link": "https://stackoverflow.com/questions/54751675/how-to-gracefully-support-data-type-change-on-firebase-database/54751867#54751867", "title": "How to gracefully support data type change on firebase database?", "body": "<p>The simplest solution I can think is to change the datatype of the property. This can be done by querying the database to get all the values of that specific property and store it to a boolean value, according to your logic. If the value is <code>0</code> store <code>false</code>, if the value is <code>1</code> store true. Once you got the values, simply remove the property and ad it again using the correct (boolean) datatype.</p>\n\n<p><strong>Edit:</strong> If your app is released, you're right, you cannot do this in a single step. In that case you should do the change only when the user opens the app. What's the flow? You do the update with the following mechanism:</p>\n\n<p>Create a new release of your app in which you have the option to convert the datatype of your property. Once the user reads that child, gets the values as an <code>Int</code>, store it in a boolean variable, remove the property and add it again correctly.</p>\n\n<p>In this way, the users who are using an old version of you app won't be affected since they are using the <code>Int</code> property and the users with the newer version of the app, will use the data correctly.</p>\n"}, {"tags": [], "owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "is_accepted": true, "score": 0, "last_activity_date": 1551727639, "creation_date": 1551727639, "answer_id": 54990250, "question_id": 54751675, "link": "https://stackoverflow.com/questions/54751675/how-to-gracefully-support-data-type-change-on-firebase-database/54990250#54990250", "title": "How to gracefully support data type change on firebase database?", "body": "<p>So I finally came up with clean a solution to this data type migration problem.\nI was able to leverage the use of kotlin <code>property delegate</code> in order to change the type of my data class field.</p>\n\n<p>First, I had to change the type of my property to what data type I wanted to migrate to (in my case from Int to Boolean), and add a custom property delegate:</p>\n\n<pre><code>@Parcelize\ndata class CustomModel (\n    private var _customField: Boolean = false,\n): Parcelable {\n    var customField: Any by FirebaseBooleanDelegate(_customField)\n}\n</code></pre>\n\n<p>The role of the property delegate here is: to proxy the read and write access to the now private property <code>_customField</code> we changed above. \nWe could also have used custom getters and setters. </p>\n\n<p>Here is the code:</p>\n\n<pre><code>class FirebaseBooleanDelegate(var isOn: Boolean) : ReadWriteProperty&lt;Any?, Any&gt; \n{\n\n    override fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): Any {\n        return isOn\n    }\n\n    override fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: Any) {\n        Log.d(\"FirebaseBooleanDelegate\", \"calling setter of ${property.name} with value $value\")\n        isOn = helperSet(value)\n    }\n}\n\nprivate fun &lt;T&gt; helperSet(t: T) = when (t) {\n    is Number -&gt; t.toBoolean()\n    is Boolean -&gt; t\n    else -&gt; throw IllegalArgumentException()\n}\n</code></pre>\n\n<p>In the helperSet method, I have the logic handling the data type migration from Number to Boolean.</p>\n\n<p>Finally and because my dataclass property <code>_customField</code> is now private, I had to write a custom parceler for my @Parcelized class or my new private field will not be serialized back to firebase:</p>\n\n<pre><code>private companion object : Parceler&lt;CustomModel&gt; {\n    override fun CustomModel.write(parcel: Parcel, flags: Int) {\n        parcel.writeByte((if (customField as Boolean) 1 else 0).toByte())\n    }\n\n    override fun create(parcel: Parcel): CustomModel {\n        return CustomModel(\n                _customField = parcel.readByte() != 0.toByte()\n        )\n    }\n}\n</code></pre>\n\n<p>With all this setup the <code>Datasnapshot's getValue</code> method is now able to correctly handle the datatype migration without crashing.</p>\n"}], "owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 671, "favorite_count": 1, "accepted_answer_id": 54990250, "answer_count": 2, "score": 0, "last_activity_date": 1551727639, "creation_date": 1550507773, "question_id": 54751675, "link": "https://stackoverflow.com/questions/54751675/how-to-gracefully-support-data-type-change-on-firebase-database", "title": "How to gracefully support data type change on firebase database?", "body": "<p>Using Firebase real-time database for quickly starting a project and having it up and running is great.</p>\n\n<p>But when the project is alive and sometimes, later on, you need to update the data type of your custom object models, things can become a little less awesome.</p>\n\n<p>Let's say, I started the project with the following model (kotlin example):</p>\n\n<pre><code>@Parcelize\ndata class CustomModel (\n    var customField: Int = 0,\n)\n</code></pre>\n\n<p>customField representing a boolean value 0 or 1 but as a number</p>\n\n<p>A few weeks later, I realize this field should probably be a boolean type of field (natively supported by firebase)</p>\n\n<p>So I want to change the above model to:</p>\n\n<pre><code>@Parcelize\ndata class CustomModel (\n    var customField: Boolean = false,\n)\n</code></pre>\n\n<p>The problem is, I have already added some data with the old format for my <code>customField</code> (Int) into my document storage</p>\n\n<p>And using the firebase DataSnapshot's method:</p>\n\n<pre><code>@PublicApi\npublic &lt;T&gt; T getValue(@NonNull Class&lt;T&gt; valueType)\n</code></pre>\n\n<p>result in a <code>com.google.firebase.database.DatabaseException: Failed to convert value of type java.lang.Int to Boolean</code></p>\n\n<p>So the question is simple, how can we handle database schema migration in Firebase? </p>\n\n<p>I know I can just catch the exception, but I need to truly add some custom convertion logic, in order to transform those Ints into Booleans and the other way around in order to be backward compatible with older clients</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 1, "last_activity_date": 1550505502, "last_edit_date": 1550505502, "creation_date": 1550504895, "answer_id": 54750886, "question_id": 54750771, "link": "https://stackoverflow.com/questions/54750771/in-kotlin-how-to-define-a-property-of-a-generic-type-with-a-upper-bound-limit/54750886#54750886", "title": "In Kotlin, how to define a property of a generic type with a upper bound limit?", "body": "<p>You can use <code>out</code> keyword:</p>\n\n<pre><code>var types: Array&lt;Class&lt;out Number&gt;&gt; = arrayOf(\n    Integer::class.java, \n    Long::class.java, \n    Short::class.java, \n    Byte::class.java, \n    Float::class.java, \n    Double::class.java\n)\n</code></pre>\n\n<p><code>out</code> modifier is used to indicate <strong>covariance</strong> (similar to <code>? extends T</code> in Java). <strong>Covariance</strong> - is the ability to change the generic type argument from a class to one of its parents, i.e. assign <code>List&lt;String&gt;</code> to <code>List&lt;Any&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1550504972, "creation_date": 1550504972, "answer_id": 54750915, "question_id": 54750771, "link": "https://stackoverflow.com/questions/54750771/in-kotlin-how-to-define-a-property-of-a-generic-type-with-a-upper-bound-limit/54750915#54750915", "title": "In Kotlin, how to define a property of a generic type with a upper bound limit?", "body": "<p>What you need here is a covariant array, or <code>out</code> variance on your generic parameter:</p>\n\n<pre><code>var types: Array&lt;Class&lt;out Number&gt;&gt; = arrayOf(\n        Int::class.java,\n        Long::class.java,\n        Short::class.java,\n        Byte::class.java,\n        Float::class.java,\n        Double::class.java\n)\n</code></pre>\n\n<p>This sort of thing is covered in the documentation under <a href=\"https://kotlinlang.org/docs/reference/generics.html#variance\" rel=\"nofollow noreferrer\">variance</a> (although it might take a while to untangle it all, if you're new to it).</p>\n"}, {"tags": [], "owner": {"reputation": 3624, "user_id": 1293087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FuLOs.jpg?s=128&g=1", "display_name": "Laksitha Ranasingha", "link": "https://stackoverflow.com/users/1293087/laksitha-ranasingha"}, "is_accepted": false, "score": 0, "last_activity_date": 1550505282, "creation_date": 1550505282, "answer_id": 54751011, "question_id": 54750771, "link": "https://stackoverflow.com/questions/54750771/in-kotlin-how-to-define-a-property-of-a-generic-type-with-a-upper-bound-limit/54751011#54751011", "title": "In Kotlin, how to define a property of a generic type with a upper bound limit?", "body": "<p>In addition to other answers, you could produce the same code in Kotlin using Kotlin data types as;</p>\n\n<pre><code>var types: Array&lt;KClass&lt;out Number&gt;&gt; = arrayOf(\n        Int::class,\n        Long::class,\n        Short::class,\n        Byte::class,\n        Float::class,\n        Double::class\n    )\n\n</code></pre>\n\n<p>Here we use <code>KClass</code> which is the Kotlin class reference type and <code>out</code> is covariance type annotation (producer).  </p>\n"}], "owner": {"reputation": 397, "user_id": 3397782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EOakV.jpg?s=128&g=1", "display_name": "Firas", "link": "https://stackoverflow.com/users/3397782/firas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 54750886, "answer_count": 3, "score": 1, "last_activity_date": 1550505502, "creation_date": 1550504533, "question_id": 54750771, "link": "https://stackoverflow.com/questions/54750771/in-kotlin-how-to-define-a-property-of-a-generic-type-with-a-upper-bound-limit", "title": "In Kotlin, how to define a property of a generic type with a upper bound limit?", "body": "<p>What is the Kotlin equivalent of the following Java code?</p>\n\n<pre><code>class Test {\n    Class&lt;? extends Number&gt; types = new Class[] {\n            Integer.class, Long.class, Short.class, Byte.class, Float.class, Double.class\n    };\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "jpa", "kotlin", "spring-data-jpa"], "comments": [{"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1550504440, "post_id": 54750634, "comment_id": 96283600, "body": "Why do you think that userRepository.save() should throw and exception? And if it is throw the saveUser transaction will be rolled back."}, {"owner": {"reputation": 637, "user_id": 3061292, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/10ad55e1096331dd8f9c110a40ec77e5?s=128&d=identicon&r=PG&f=1", "display_name": "mpssantos", "link": "https://stackoverflow.com/users/3061292/mpssantos"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1550735869, "post_id": 54750634, "comment_id": 96380522, "body": "In my specific scenario because some constraints fails. So I was expecting an exception to be thrown immediately and sendEmail not even called. In yet the saveUser exception is only thrown when createUser finish. The below approach fixes the issue. Thank you very much Simon"}], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 3061292, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/10ad55e1096331dd8f9c110a40ec77e5?s=128&d=identicon&r=PG&f=1", "display_name": "mpssantos", "link": "https://stackoverflow.com/users/3061292/mpssantos"}, "edited": false, "score": 0, "creation_date": 1550506328, "post_id": 54750781, "comment_id": 96284730, "body": "Thank you so much. Your suggestion worked perfectly."}, {"owner": {"reputation": 22888, "user_id": 7606764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff66904cb49ba020965898e8dd6b9d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/7606764/andronicus"}, "reply_to_user": {"reputation": 637, "user_id": 3061292, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/10ad55e1096331dd8f9c110a40ec77e5?s=128&d=identicon&r=PG&f=1", "display_name": "mpssantos", "link": "https://stackoverflow.com/users/3061292/mpssantos"}, "edited": false, "score": 0, "creation_date": 1550506369, "post_id": 54750781, "comment_id": 96284754, "body": "No problem, glad to help:)"}], "tags": [], "owner": {"reputation": 22888, "user_id": 7606764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff66904cb49ba020965898e8dd6b9d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/7606764/andronicus"}, "is_accepted": true, "score": 4, "last_activity_date": 1550504561, "creation_date": 1550504561, "answer_id": 54750781, "question_id": 54750634, "link": "https://stackoverflow.com/questions/54750634/spring-data-jpa-and-nested-transaction/54750781#54750781", "title": "Spring Data: JPA and Nested Transaction", "body": "<p>It's because you're invoking <code>@Transactional</code> method from within same bean.</p>\n\n<p><code>@Transactional</code> only works on methods invoked on proxies created by spring. It means, that when you create a @Service or other bean, method called from the outside will be transactional. If invoked from within bean, nothing will happen, as it doesn't pass through proxy object.</p>\n\n<p>The easiest solution would be to move the method to another @Service or bean. If you really want to keep it within same component, then you need to invoke it, so that it gets wrapped in proxy by spring AOP. You can do this like that:</p>\n\n<pre><code>private YourClass self;\n\n@Autowired\nprivate ApplicationContext applicationContext;\n\n@PostConstruct\npublic void postContruct(){\n    self = applicationContext.getBean(YourClass.class);\n}\n</code></pre>\n\n<p>Then invoking method on <code>self</code> would result in opening a transaction.</p>\n\n<p>In other words: <strong>you are not experiencing any of those anomalies, because <code>@Transactional</code> over <code>saveUser</code> does not work.</strong></p>\n"}], "owner": {"reputation": 637, "user_id": 3061292, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/10ad55e1096331dd8f9c110a40ec77e5?s=128&d=identicon&r=PG&f=1", "display_name": "mpssantos", "link": "https://stackoverflow.com/users/3061292/mpssantos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 1, "accepted_answer_id": 54750781, "answer_count": 1, "score": 1, "last_activity_date": 1550508838, "creation_date": 1550504111, "last_edit_date": 1550508838, "question_id": 54750634, "link": "https://stackoverflow.com/questions/54750634/spring-data-jpa-and-nested-transaction", "title": "Spring Data: JPA and Nested Transaction", "body": "<p>I am having a problem with Spring JPA Data and nested transactions. Following are two methods with a nested transaction of my service. </p>\n\n<pre><code>@Service\npublic UserService {\n\n    @Transactional\n    public User createUser(UserDto userDto) {\n        ....\n        user = saveUser(user);\n        sendEmail(user);\n        ....\n    }\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public User saveUser(User user) {\n        return userRepository.save(user);\n    }\n</code></pre>\n\n<p>It happens there is one scenario that the method userRepository.save() should throw an exception but somehow is not being thrown, it looks like it is waiting the parent transaction to be finished. I was expecting the exception being thrown on the saveUser method and the sendEmail method not even to be executed.</p>\n\n<p>Because the method <code>UserService.saveUser</code> have the propagation set to <code>Propagation.REQUIRES_NEW</code> I was expecting that transaction to be commited (the SQL statement to be executed) and any exception being propagated.</p>\n\n<p>I did not setup anything related with Transaction, so i believe that the flush mode is set to AUTO.</p>\n\n<p>Can anyone spot what i am doing wrong or what is my misconception?</p>\n"}, {"tags": ["java", "arrays", "kotlin"], "comments": [{"owner": {"reputation": 1998, "user_id": 5914654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b97f9c0f12c8ab7f33a1abeef2d68e2?s=128&d=identicon&r=PG&f=1", "display_name": "vincrichaud", "link": "https://stackoverflow.com/users/5914654/vincrichaud"}, "edited": false, "score": 1, "creation_date": 1550503606, "post_id": 54750416, "comment_id": 96283027, "body": "Maybe you can do it by converting your Byte array to String then use the string methods to find the index"}, {"owner": {"reputation": 9108, "user_id": 2148953, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FeyHn.png?s=128&g=1", "display_name": "aran", "link": "https://stackoverflow.com/users/2148953/aran"}, "edited": false, "score": 0, "creation_date": 1550503722, "post_id": 54750416, "comment_id": 96283108, "body": "I&#39;ll let this here... <a href=\"http://helpdesk.objects.com.au/java/search-a-byte-array-for-a-byte-sequence\" rel=\"nofollow noreferrer\">helpdesk.objects.com.au/java/&hellip;</a>"}, {"owner": {"reputation": 7873, "user_id": 442451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a095ed5b56acd4518d2265e90814889?s=128&d=identicon&r=PG", "display_name": "GriffeyDog", "link": "https://stackoverflow.com/users/442451/griffeydog"}, "edited": false, "score": 1, "creation_date": 1550503889, "post_id": 54750416, "comment_id": 96283215, "body": "<a href=\"https://stackoverflow.com/questions/3940194/find-an-array-inside-another-larger-array\" title=\"find an array inside another larger array\">stackoverflow.com/questions/3940194/&hellip;</a>"}, {"owner": {"reputation": 3968, "user_id": 403952, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0f74ab3bacb6f344bfea131bbdca3a70?s=128&d=identicon&r=PG", "display_name": "Alec Sanger", "link": "https://stackoverflow.com/users/403952/alec-sanger"}, "reply_to_user": {"reputation": 7873, "user_id": 442451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a095ed5b56acd4518d2265e90814889?s=128&d=identicon&r=PG", "display_name": "GriffeyDog", "link": "https://stackoverflow.com/users/442451/griffeydog"}, "edited": false, "score": 2, "creation_date": 1550504480, "post_id": 54750416, "comment_id": 96283629, "body": "Thanks @GriffeyDog - your link got me to the solution that worked the best for my situation. Since I&#39;m doing Android dev, I have access to Google Guava, which provides <code>Bytes.indexOf(ByteArray, ByteArray)</code>."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1550688595, "post_id": 54750416, "comment_id": 96364684, "body": "@AlecSanger pls, create an answer for this :)"}], "answers": [{"tags": [], "owner": {"reputation": 704, "user_id": 183530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3a56ff8a090fc9ffbd1909dea94904?s=128&d=identicon&r=PG", "display_name": "sergeych", "link": "https://stackoverflow.com/users/183530/sergeych"}, "is_accepted": false, "score": 1, "last_activity_date": 1599831707, "creation_date": 1599831707, "answer_id": 63848290, "question_id": 54750416, "link": "https://stackoverflow.com/questions/54750416/finding-a-sequence-of-bytes-in-a-bytearray/63848290#63848290", "title": "Finding a sequence of bytes in a ByteArray", "body": "<p>its too simple to add guava just for it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun ByteArray.findFirst(sequence: ByteArray,startFrom: Int = 0): Int {\n    if(sequence.isEmpty()) throw IllegalArgumentException(&quot;non-empty byte sequence is required&quot;)\n    if(startFrom &lt; 0 ) throw IllegalArgumentException(&quot;startFrom must be non-negative&quot;)\n    var matchOffset = 0\n    var start = startFrom\n    var offset = startFrom\n    while( offset &lt; size ) {\n        if( this[offset] == sequence[matchOffset]) {\n            if( matchOffset++ == 0 ) start = offset\n            if( matchOffset == sequence.size ) return start\n        }\n        else\n            matchOffset = 0\n        offset++\n    }\n    return -1\n}\n</code></pre>\n"}], "owner": {"reputation": 3968, "user_id": 403952, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0f74ab3bacb6f344bfea131bbdca3a70?s=128&d=identicon&r=PG", "display_name": "Alec Sanger", "link": "https://stackoverflow.com/users/403952/alec-sanger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1599831707, "creation_date": 1550503368, "question_id": 54750416, "link": "https://stackoverflow.com/questions/54750416/finding-a-sequence-of-bytes-in-a-bytearray", "title": "Finding a sequence of bytes in a ByteArray", "body": "<p>I need to find a sequence of bytes within a <code>ByteArray</code>, but there doesn't seem to be any direct operations to do so. What's the most direct route to determining if a particular sequence of bytes exists within a <code>ByteArray</code>?</p>\n\n<p>For example, I'd like to capture the range of a sequence (or <code>null</code>) with something like this: </p>\n\n<pre><code>val searchArray = arrayOf(0xF1.toByte(), 0xF2.toByte(), 0xF4.toByte(), 0xF8.toByte())\nval range = myByteArray.range(of: searchArray)\n</code></pre>\n\n<p>I'd also be happy with just the starting index, since I always know the size of my search array.</p>\n"}, {"tags": ["android", "kotlin", "android-dialogfragment", "android-dialog", "dialogfragment"], "comments": [{"owner": {"reputation": 1690, "user_id": 473902, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bf781028e9a8edc6873f6ddd22264509?s=128&d=identicon&r=PG", "display_name": "Ge3ng", "link": "https://stackoverflow.com/users/473902/ge3ng"}, "edited": false, "score": 0, "creation_date": 1550545710, "post_id": 54749729, "comment_id": 96297882, "body": "First you need to call <code>return builder.create()</code> not <code>buildler.show()</code>. Second please post the view xml."}, {"owner": {"reputation": 1690, "user_id": 473902, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bf781028e9a8edc6873f6ddd22264509?s=128&d=identicon&r=PG", "display_name": "Ge3ng", "link": "https://stackoverflow.com/users/473902/ge3ng"}, "edited": false, "score": 0, "creation_date": 1550590332, "post_id": 54749729, "comment_id": 96319592, "body": "You need to use <code>builder.create()</code> do not use <code>builder.show()</code> I need to see the code from your <code>CustomFragment</code> I am betting your issue is there."}], "answers": [{"tags": [], "owner": {"reputation": 521, "user_id": 8209569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f583080cffc9be3d687f3262dcfd143?s=128&d=identicon&r=PG", "display_name": "Niyas", "link": "https://stackoverflow.com/users/8209569/niyas"}, "is_accepted": true, "score": 1, "last_activity_date": 1550859421, "last_edit_date": 1550859421, "creation_date": 1550591330, "answer_id": 54770147, "question_id": 54749729, "link": "https://stackoverflow.com/questions/54749729/dialogfragment-not-appearing/54770147#54770147", "title": "DialogFragment not appearing", "body": "<p>If you override <code>onCreateDialog</code> with <code>AlertDialog</code> instead of overriding <code>onCreateView</code>, you shall bump into IllegalStateException.</p>\n\n<p>please checkout the <a href=\"https://code.luasoftware.com/tutorials/android/android-alertdialog-in-dialogfragment-fragment-does-not-have-a-view/\" rel=\"nofollow noreferrer\">link</a> to solve</p>\n"}], "owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "accepted_answer_id": 54770147, "answer_count": 1, "score": 0, "last_activity_date": 1550859421, "creation_date": 1550501110, "last_edit_date": 1550847178, "question_id": 54749729, "link": "https://stackoverflow.com/questions/54749729/dialogfragment-not-appearing", "title": "DialogFragment not appearing", "body": "<p>For some reason, a <code>DialogFragment</code> that I've just created won't appear whenever I try to launch it from a click event. Why does the dialog not have a view, when my view has been clearly set <code>builder.setView(rootView)</code>?</p>\n\n<p><code>Fragment does not have a view</code></p>\n\n<p><strong>click event to launch DialogFragment</strong></p>\n\n<pre><code>    holder.myButton.setOnClickListener {\n        val dialog = MyDialog()\n        val manager = (holder.itemView.context as FragmentActivity).supportFragmentManager\n        dialog.show(manager, \"example\")\n    }\n</code></pre>\n\n<p><strong>DialogFragment</strong></p>\n\n<pre><code>class MyDialog : DialogFragment() {\n    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n        LayoutInflater.from(requireContext())\n\n        val builder = AlertDialog.Builder(activity)\n        val rootView = LayoutInflater.from(requireContext()).inflate(R.layout.dialog_sample, null, false)\n\n\n        lateinit var tabLayout: TabLayout\n        lateinit var viewPager: ViewPager\n\n        builder.setIconAttribute(R.attr.myImg)\n        builder.setTitle(\"My Program\")\n        builder.setView(rootView)\n        builder.setMessage(\"My Message\")\n        builder.setPositiveButton(getString(R.string.ok)) { dialog, _ -&gt; dialog.dismiss() }\n\n        tabLayout = rootView.findViewById(R.id.tabLayout)\n        viewPager = rootView.findViewById(R.id.masterViewPager)\n\n        val adapter = CustomAdapter(childFragmentManager)\n        adapter.addFragment(\"Boy\", CustomFragment.createInstance(\"John\"))\n        adapter.addFragment(\"Girl\", CustomFragment.createInstance(\"Stacy\"))\n        adapter.addFragment(\"Robot\", CustomFragment.createInstance(\"Aeon\"))\n        viewPager.adapter = adapter\n        tabLayout.setupWithViewPager(viewPager)\n\n       // return builder.create()\n        return builder.show()\n    }\n}\n</code></pre>\n\n<p><strong>dialog_sample.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=\"@+id/tabLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"/&gt;\n\n    &lt;androidx.viewpager.widget.ViewPager\n        android:id=\"@+id/masterViewPager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>CustomFragment class</strong></p>\n\n<pre><code>class CustomFragment : androidx.fragment.app.Fragment() {\n    private var mText = \"\"\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val v = inflater.inflate(R.layout.fragment_sample, container, false)\n        (v.findViewById(R.id.textView_sample) as TextView).text = mText\n        return v\n    }\n\n    companion object {\n        fun createInstance(txt: String): CustomFragment {\n            val fragment = CustomFragment()\n            fragment.mText = txt\n            return fragment\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Logcat</strong></p>\n\n<pre><code>    java.lang.IllegalStateException: Fragment does not have a view\n        at androidx.fragment.app.Fragment$3.onFindViewById(Fragment.java:2396)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:869)\n        at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1229)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1295)\n        at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:686)\n        at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2057)\n        at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1847)\n        at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1802)\n        at androidx.fragment.app.FragmentManagerImpl.execSingleAction(FragmentManagerImpl.java:1679)\n        at androidx.fragment.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:536)\n        at androidx.fragment.app.FragmentPagerAdapter.finishUpdate(FragmentPagerAdapter.java:148)\n        at androidx.viewpager.widget.ViewPager.populate(ViewPager.java:1244)\n        at androidx.viewpager.widget.ViewPager.populate(ViewPager.java:1092)\n        at androidx.viewpager.widget.ViewPager.onMeasure(ViewPager.java:1622)\n        at android.view.View.measure(View.java:23169)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1535)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:825)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:704)\n        at android.view.View.measure(View.java:23169)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.view.View.measure(View.java:23169)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.view.View.measure(View.java:23169)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1535)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:825)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:704)\n        at com.android.internal.widget.AlertDialogLayout.onMeasure(AlertDialogLayout.java:71)\n        at android.view.View.measure(View.java:23169)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.view.View.measure(View.java:23169)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.view.View.measure(View.java:23169)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at com.android.internal.policy.DecorView.onMeasure(DecorView.java:716)\n        at android.view.View.measure(View.java:23169)\n        at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2718)\n        at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1545)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1855)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1460)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7183)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:949)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:761)\n        at android.view.Choreographer.doFrame(Choreographer.java:696)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:935)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\nE/AndroidRuntime:     at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\nI/Process: Sending signal. PID: 4867 SIG: 9\nApplication terminated.\n</code></pre>\n\n<p><strong>adapter class</strong></p>\n\n<pre><code>class MyRVAdapter(private val itemsList: ArrayList&lt;Item&gt;) : RecyclerView.Adapter&lt;MyRVAdapter.ViewHolder&gt;() {\n    override fun getItemCount(): Int {\n        return itemsList.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        // Button click listener\n        holder.myButton.setOnClickListener {\n            val dialog = CustomFragment()\n            val manager = (holder.itemView.context as FragmentActivity).supportFragmentManager\n            dialog.show(manager, dialog.tag)\n        }\n     }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.my_cv, parent, false)\n        return ViewHolder(v)\n    }\n\n    class ViewHolder (itemView : View):RecyclerView.ViewHolder(itemView) {\n        val mCV = itemView.findViewById&lt;CardView&gt;(R.id.cv_main)!!\n\n        val myButton = itemView.findViewById&lt;Button&gt;(R.id.btn_main)!!\n    }\n\n    class MyViewPagerAdapter(manager: androidx.fragment.app.FragmentManager) : androidx.fragment.app.FragmentPagerAdapter(manager){\n        private val fragmentList : MutableList&lt;androidx.fragment.app.Fragment&gt; = java.util.ArrayList()\n        private val titleList : MutableList&lt;String&gt; = java.util.ArrayList()\n\n        override fun getItem(position: Int): androidx.fragment.app.Fragment {\n            return fragmentList[position]\n        }\n\n        override fun getCount(): Int {\n            return fragmentList.size\n        }\n\n        fun addFragment(fragment: androidx.fragment.app.Fragment, title: String){\n            fragmentList.add(fragment)\n            titleList.add(title)\n        }\n\n        override fun getPageTitle(position: Int): CharSequence? {\n            return titleList[position]\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["json", "serialization", "kotlin"], "comments": [{"owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "edited": false, "score": 0, "creation_date": 1550502786, "post_id": 54749230, "comment_id": 96282541, "body": "Can you provide a runnable piece of code that we can use to reproduce your problem and try to fix it? I&#39;ve tried to copy-and-paste the code you showed but the project requires external dependencies and setup you already have..."}, {"owner": {"reputation": 392, "user_id": 1120154, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e15525dc76afbdbee3742fa46aaecc6d?s=128&d=identicon&r=PG", "display_name": "Adrian Le Roy Devezin", "link": "https://stackoverflow.com/users/1120154/adrian-le-roy-devezin"}, "reply_to_user": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "edited": false, "score": 0, "creation_date": 1550514495, "post_id": 54749230, "comment_id": 96288507, "body": "@PietroMartinelli You need to have kotlin serialization plugin and then simply try to serialize the user class. I cannot provide a full intellij build."}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1550565096, "last_edit_date": 1592644375, "creation_date": 1550565096, "answer_id": 54761815, "question_id": 54749230, "link": "https://stackoverflow.com/questions/54749230/kotlin-deserialize-variables-from-abstract-class/54761815#54761815", "title": "Kotlin Deserialize variables from abstract class", "body": "<p>From <a href=\"https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/examples.md\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/examples.md</a>:</p>\n<blockquote>\n<p>Supported properties:</p>\n<ul>\n<li><p>Class constructor val and var properties. It is required for constructor to have only properties (no parameters).</p>\n</li>\n<li><p>In case of usage of internal serialization (@Serializable annotation on class), both body vals and vars are supported with any visibility levels.</p>\n</li>\n</ul>\n</blockquote>\n<p>But <code>cacheDate</code> is neither; it's a body property of the superclass without <code>@Serializable</code>. You can try annotating the superclass, but I would expect it not to work, based on the description in <a href=\"https://github.com/Kotlin/KEEP/blob/serialization/proposals/extensions/serialization.md\" rel=\"nofollow noreferrer\">the proposal</a>; if it doesn't, <a href=\"https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/custom_serializers.md\" rel=\"nofollow noreferrer\">write a custom serializer</a>.</p>\n"}], "owner": {"reputation": 392, "user_id": 1120154, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e15525dc76afbdbee3742fa46aaecc6d?s=128&d=identicon&r=PG", "display_name": "Adrian Le Roy Devezin", "link": "https://stackoverflow.com/users/1120154/adrian-le-roy-devezin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 625, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550565096, "creation_date": 1550499431, "question_id": 54749230, "link": "https://stackoverflow.com/questions/54749230/kotlin-deserialize-variables-from-abstract-class", "title": "Kotlin Deserialize variables from abstract class", "body": "<p>I have an object that extends an abstract class that inherits an interface. When using kotlin serialization, it will not serialize the properties on the abstract class.\nFor example:</p>\n\n<pre><code>@Serializable\nclass User(private val uid: String): BaseClass()\n\nabstract class BaseClass(): CacheClass {\n    override val cacheDate: Long = 0L\n}\n\ninterface CacheClass {\n    val cacheDate: Long\n}\n</code></pre>\n\n<p>The variable <code>cacheDate</code> will never get serialized. How can I ensure that the variables defined on the abstract class will in fact be serialized?\nI am not looking for other libraries to use. I am using Kotlin Serialization found <a href=\"https://github.com/Kotlin/kotlinx.serialization\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": ["kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 8066, "user_id": 192204, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/267bd2f588ab05a83b547964e075dea0?s=128&d=identicon&r=PG", "display_name": "scarpacci", "link": "https://stackoverflow.com/users/192204/scarpacci"}, "edited": false, "score": 0, "creation_date": 1550499578, "post_id": 54749223, "comment_id": 96280626, "body": "Awesome. Thanks! Works now."}], "tags": [], "owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "is_accepted": true, "score": 2, "last_activity_date": 1550499409, "creation_date": 1550499409, "answer_id": 54749223, "question_id": 54748822, "link": "https://stackoverflow.com/questions/54748822/serializing-a-data-class-to-json-always-results-in-null/54749223#54749223", "title": "serializing a data class to json always results in null", "body": "<p>I rewrote you example pulling <code>Msg</code> data class out of <code>main</code> function and... it works: it's a limitation of GSON library, as reported <a href=\"https://sites.google.com/site/gson/gson-user-guide\" rel=\"nofollow noreferrer\">here</a>. If I don't misunderstand, the cause behind this choice is that internal classes should mantain a reference to external object, and this complicates the management of internal classes.</p>\n\n<blockquote>\n  <p>However, Gson can not automatically deserialize the pure inner classes since their no-args constructor also need a reference to the containing Object which is not available at the time of deserialization. You can address this problem by either making the inner class static or by providing a custom InstanceCreator for it. Here is an example: </p>\n</blockquote>\n"}], "owner": {"reputation": 8066, "user_id": 192204, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/267bd2f588ab05a83b547964e075dea0?s=128&d=identicon&r=PG", "display_name": "scarpacci", "link": "https://stackoverflow.com/users/192204/scarpacci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 54749223, "answer_count": 1, "score": 0, "last_activity_date": 1550499409, "creation_date": 1550497955, "question_id": 54748822, "link": "https://stackoverflow.com/questions/54748822/serializing-a-data-class-to-json-always-results-in-null", "title": "serializing a data class to json always results in null", "body": "<p>I am trying to serialize a really simple Kotlin data class to json using the gson library. There is a good chance that there is some dead simple user error that I am missing, but for the life of me, I can't tell what it is. I have searched around and my snippet seems to match the examples. What am I doing wrong? Any help would be greatly appreciated. </p>\n\n<pre><code>import com.google.gson.*\nimport com.google.gson.annotations.SerializedName\n\nfun main(args : Array&lt;String&gt;) {\n    var gson = Gson()\n\n    data class Msg(\n        @SerializedName(\"body\") val body: String = \"\",\n        @SerializedName(\"keywords\") val kwords: Array&lt;String?&gt;,\n        @SerializedName(\"ner\") val ner: Array&lt;String?&gt;)\n\n\n    val msg = Msg(\"Test Body\",arrayOf(\"key1\",\"Key2\"), arrayOf(\"ner1\", \"ner2\"))\n\n\n    val json = gson.toJson(msg)\n    println(json)\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "google-play-services", "google-pay"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1550497408, "post_id": 54748561, "comment_id": 96279238, "body": "I don&#39;t think you should be able to close google pay dialogs"}, {"owner": {"reputation": 89, "user_id": 5620049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff65c16fb2ee4ed002bad9b9120f199e?s=128&d=identicon&r=PG&f=1", "display_name": "user5620049", "link": "https://stackoverflow.com/users/5620049/user5620049"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1550555869, "post_id": 54748561, "comment_id": 96300285, "body": "but there is no method defined in google pay to close the dialog.so that i posted here."}, {"owner": {"reputation": 1761, "user_id": 1172936, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/dhb8Q.png?s=128&g=1", "display_name": "SKT", "link": "https://stackoverflow.com/users/1172936/skt"}, "edited": false, "score": 0, "creation_date": 1595423758, "post_id": 54748561, "comment_id": 111468959, "body": "I know this is old. But if you have found a solution for this kindly update. I am going through the same scenario"}], "owner": {"reputation": 89, "user_id": 5620049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff65c16fb2ee4ed002bad9b9120f199e?s=128&d=identicon&r=PG&f=1", "display_name": "user5620049", "link": "https://stackoverflow.com/users/5620049/user5620049"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1569010019, "creation_date": 1550497082, "last_edit_date": 1569010019, "question_id": 54748561, "link": "https://stackoverflow.com/questions/54748561/how-to-close-google-pay-dialog-programmatically", "title": "How to close google pay dialog programmatically", "body": "<p>In business logic we have a timer So if timer runs out we need to stop user from paying using google pay. For that we want to dismiss google pay dialog programmatically. We dont find any solution in this sample project. This is the link for google pay sample project: <a href=\"https://github.com/payeezy/google_pay\" rel=\"nofollow noreferrer\">https://github.com/payeezy/google_pay</a>. So please help us to solve this.</p>\n\n<pre><code> val transaction = PaymentsUtil.createTransaction(price)\n    val request = PaymentsUtil.createPaymentDataRequest(transaction)\n    futurePayTask = mPaymentsClient.loadPaymentData(request)\n    // Since loadPaymentData may show the UI asking the user to select a payment method, we use\n    // AutoResolveHelper to wait for the user interacting with it. Once completed,\n    // onActivityResult will be called with the result.\n    AutoResolveHelper.resolveTask&lt;PaymentData&gt;(futurePayTask, this, LOAD_PAYMENT_DATA_REQUEST_CODE)  \n</code></pre>\n\n<p>Please tell me how to close the dialog programmatically.Thanks in advance.</p>\n"}, {"tags": ["sqlite", "kotlin", "android-room", "android-architecture-components", "typeconverter"], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 3957538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9YWA.png?s=128&g=1", "display_name": "Jes&#250;s Daniel Medina Cruz", "link": "https://stackoverflow.com/users/3957538/jes%c3%bas-daniel-medina-cruz"}, "edited": false, "score": 0, "creation_date": 1589072865, "post_id": 54748517, "comment_id": 109147720, "body": "Using class instead of object you can avoid the using of @JvmStatic. Object class works as singleton, so that&#39;s the reason why all methods inside an object are static."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 9, "last_activity_date": 1550501280, "last_edit_date": 1550501280, "creation_date": 1550496896, "answer_id": 54748517, "question_id": 54748483, "link": "https://stackoverflow.com/questions/54748483/calendar-typeconverter-for-room-kotlin/54748517#54748517", "title": "Calendar TypeConverter for Room (Kotlin)", "body": "<p>Use:</p>\n\n<pre><code>object Converters {\n    @TypeConverter\n    @JvmStatic\n    fun fromTimestamp(value: Long?): Calendar? = value?.let { value -&gt;\n        GregorianCalendar().also { calendar -&gt;\n            calendar.timeInMillis = value\n        }\n    }\n\n    @TypeConverter\n    @JvmStatic\n    fun toTimestamp(timestamp: Calendar?): Long? = timestamp?.timeInMillis\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>@TypeConverters(Converters::class)\nabstract class AppDatabase : RoomDatabase() {\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 10923311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9d1b0ea82f01c7841055416eb5c544c?s=128&d=identicon&r=PG&f=1", "display_name": "SQLol", "link": "https://stackoverflow.com/users/10923311/sqlol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4249, "favorite_count": 1, "accepted_answer_id": 54748517, "answer_count": 1, "score": 3, "last_activity_date": 1550501280, "creation_date": 1550496759, "question_id": 54748483, "link": "https://stackoverflow.com/questions/54748483/calendar-typeconverter-for-room-kotlin", "title": "Calendar TypeConverter for Room (Kotlin)", "body": "<p>I am trying to persist a timestamp in my room database using the following <code>TypeConverter</code>:</p>\n\n<pre><code>class Converters {\n\n    @TypeConverter\n    fun fromTimestamp(value: Long?): Calendar? {\n\n        if(value == null) return null\n\n        val cal = GregorianCalendar()\n        cal.timeInMillis = value\n        return cal\n    }\n\n    @TypeConverter\n    fun toTimestamp(timestamp: Calendar?): Long? {\n\n        if(timestamp == null) return null\n\n        return timestamp.timeInMillis\n    }\n}\n</code></pre>\n\n<p>Two of my Entities include the following column\n:</p>\n\n<pre><code>@ColumnInfo(name = \"timestamp\")\nval timestamp: Calendar?,\n</code></pre>\n\n<p>But I get a compilation error upon trying to build the project - I had no issues when using the <code>Date</code> <code>TypeConverter</code> example from the developer reference guide. </p>\n\n<p>I am unable to see what the actual error is as I just get a bunch of databinding 'cannot find symbol' errors if there is something wrong with the code related to Room. </p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1550496875, "post_id": 54748305, "comment_id": 96278908, "body": "You should have access to <code>data</code> object in a coroutine. What is this <code>data: &lt;ClassA&gt; type</code> ? it is not being compiled. What do you mean by <code>I don&#39;t get the data argument inside the Coroutine</code>? Can you put logs there and print <code>data</code> to console?"}, {"owner": {"reputation": 2898, "user_id": 829553, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/3adca15700fe635c95bf8361423b8df8?s=128&d=identicon&r=PG", "display_name": "Renjith", "link": "https://stackoverflow.com/users/829553/renjith"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1550496985, "post_id": 54748305, "comment_id": 96278971, "body": "It is a data object of type Person, a normal entity class. I have modified the snippet to have better understanding."}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1550497341, "post_id": 54748305, "comment_id": 96279198, "body": "Are you sure you are calling <code>calculateData()</code> in the right place? is <code>&quot;Some meaningful message&quot;</code> displayed? Try to set logs before <code>launch</code> function and check if <code>calculateData()</code> is invoked at all"}, {"owner": {"reputation": 2898, "user_id": 829553, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/3adca15700fe635c95bf8361423b8df8?s=128&d=identicon&r=PG", "display_name": "Renjith", "link": "https://stackoverflow.com/users/829553/renjith"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1550497593, "post_id": 54748305, "comment_id": 96279347, "body": "Yes, the message &quot;Calling calculateData()...&quot; is displayed"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 1, "creation_date": 1550497723, "post_id": 54748305, "comment_id": 96279421, "body": "Could you please update the question with the code for coroutine scope you are using to launch the coroutine"}, {"owner": {"reputation": 2898, "user_id": 829553, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/3adca15700fe635c95bf8361423b8df8?s=128&d=identicon&r=PG", "display_name": "Renjith", "link": "https://stackoverflow.com/users/829553/renjith"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1550498082, "post_id": 54748305, "comment_id": 96279643, "body": "Spot on! I was using a different context which was the issue. Thanks a bunch man!"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 1, "creation_date": 1550654918, "post_id": 54748305, "comment_id": 96344311, "body": "Could you provide an answer to your question as well? It might help others later."}], "owner": {"reputation": 2898, "user_id": 829553, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/3adca15700fe635c95bf8361423b8df8?s=128&d=identicon&r=PG", "display_name": "Renjith", "link": "https://stackoverflow.com/users/829553/renjith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550497556, "creation_date": 1550496134, "last_edit_date": 1550497556, "question_id": 54748305, "link": "https://stackoverflow.com/questions/54748305/unable-to-access-function-arguments-in-coroutines", "title": "Unable to access function arguments in Coroutines", "body": "<p>I'm writing a sample application using Kotlin Coroutines. Here is a simple function I've used</p>\n\n<pre><code>fun calculateData(data: Person) {\n    println(\"Calling calculateData()...\")\n    launch {\n       withContext(Dispatchers.IO) {\n          println(\"Obtained data is $data\")\n          if(person.age &gt; 18) {\n           //do some long running calculations based on 'data'\n          } \n       }\n       println(\"Some meaningful message\")\n    }\n}\n</code></pre>\n\n<p>The code compiles and runs OK. However, I don't get the data argument inside the Coroutine. Neither can I debug into withContext block. The message \"Obtained data is $data\" never gets displayed</p>\n\n<p>Any clue on what prevents me from accessing that argument from within Coroutine?</p>\n"}, {"tags": ["windows", "dll", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1550492765, "post_id": 54747213, "comment_id": 96276392, "body": "See <a href=\"https://kotlinlang.org/docs/tutorials/native/interop-with-c.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/native/interop-with-c.html</a>"}], "owner": {"reputation": 21, "user_id": 10936673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nBQ6.jpg?s=128&g=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/10936673/michal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 425, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1550492489, "creation_date": 1550492489, "question_id": 54747213, "link": "https://stackoverflow.com/questions/54747213/kotlin-native-how-to-use-external-dll", "title": "Kotlin native how to use external dll", "body": "<p>I need to write extension for some windows 10 app. It can be done via library, delivered in .dll file.</p>\n\n<p>Is it possible to use dll library in kotlin native?\nDo anybody have full, step by step, working example?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1550491444, "post_id": 54746863, "comment_id": 96275618, "body": "Try calling <code>this.showToast(message)</code> in overridden method in your fragment."}, {"owner": {"reputation": 524, "user_id": 10995239, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218634293513962/picture?type=large", "display_name": "Taras Parshenko", "link": "https://stackoverflow.com/users/10995239/taras-parshenko"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1550491915, "post_id": 54746863, "comment_id": 96275892, "body": "Still doesn&#39;t work. <code>this</code>, <code>this@MyFragment</code> are both references to <code>MyFragment</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "edited": false, "score": 0, "creation_date": 1550497217, "post_id": 54748249, "comment_id": 96279120, "body": "you can distinguish between instance and extension method using an import with alias, as I showed in my response... I think this can solve the problem without renaming the extension function, as in your proposal..."}], "tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": false, "score": 1, "last_activity_date": 1550495980, "creation_date": 1550495980, "answer_id": 54748249, "question_id": 54746863, "link": "https://stackoverflow.com/questions/54746863/name-conflicts-when-using-method-extension-and-inheritance/54748249#54748249", "title": "Name conflicts when using Method extension and Inheritance", "body": "<p>You've got two methods that you can call on a <code>Fragment</code> instance with the exact same name and the parameters.</p>\n\n<p>There's no way to distinguish which one you want to call.</p>\n\n<p>I'd change the name of one. </p>\n\n<p>E.g.</p>\n\n<pre><code>fun Fragment.toast(message: String, toastLength: Int = Toast.LENGTH_SHORT) {\n    Toast.makeText(context, message, toastLength).show()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "is_accepted": true, "score": 2, "last_activity_date": 1550496118, "creation_date": 1550496118, "answer_id": 54748294, "question_id": 54746863, "link": "https://stackoverflow.com/questions/54746863/name-conflicts-when-using-method-extension-and-inheritance/54748294#54748294", "title": "Name conflicts when using Method extension and Inheritance", "body": "<p>You could cast your MyFragment class to Fragment and do:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyFragment : Fragment(), MyContract.View {\n    override fun showToast(message: String) {\n        val fragment = this as Fragment\n        fragment.showToast(message)\n    }\n}\n</code></pre>\n\n<p>This way you will refer to the extension function of the <strong>Fragment</strong> class</p>\n"}, {"tags": [], "owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "is_accepted": false, "score": 1, "last_activity_date": 1550518504, "last_edit_date": 1550518504, "creation_date": 1550496938, "answer_id": 54748527, "question_id": 54746863, "link": "https://stackoverflow.com/questions/54746863/name-conflicts-when-using-method-extension-and-inheritance/54748527#54748527", "title": "Name conflicts when using Method extension and Inheritance", "body": "<p>Instance methods have precedence over extension functions, in case of signature conflict, so the behaviour you're experiencing is the expected one.</p>\n\n<p>You can refer directly to <em>shadowed</em> extension function importing it with an alias: pretend you have a file <code>FragmentExt.kt</code> containing the extension method in a package named <code>mypkg</code>:</p>\n\n<pre><code>package mypkg\n\nfun Fragment.showToast(message: String, toastLength: Int = Toast.LENGTH_SHORT) {\n    Toast.makeText(context, message, toastLength).show()\n}\n</code></pre>\n\n<p>So, you can invoke extension function (avoiding to call instance method) as follows:</p>\n\n<pre><code>import mypkg.showToast as extShowToast\nval fragment : Fragment = ...\nfragment.extShowToast(message)\n</code></pre>\n\n<p>This approach works both in the <code>MyFragment</code> subclass and in any client class.</p>\n\n<p>In Java code, you can do something similar by accessing Kotlin extension method as a static method on a class names by the file name: if your extension function is in <code>FragmentExt.kt</code>, Java code can point to extension method using <code>FragmentExtKt.showToats(\"Message here\")</code>.</p>\n"}], "owner": {"reputation": 524, "user_id": 10995239, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218634293513962/picture?type=large", "display_name": "Taras Parshenko", "link": "https://stackoverflow.com/users/10995239/taras-parshenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 54748294, "answer_count": 3, "score": 2, "last_activity_date": 1550518504, "creation_date": 1550491240, "question_id": 54746863, "link": "https://stackoverflow.com/questions/54746863/name-conflicts-when-using-method-extension-and-inheritance", "title": "Name conflicts when using Method extension and Inheritance", "body": "<p>I have an extension</p>\n\n<pre><code>fun Fragment.showToast(message: String, toastLength: Int = Toast.LENGTH_SHORT) {\n    Toast.makeText(context, message, toastLength).show()\n}\n</code></pre>\n\n<p>In project we're using MVP:</p>\n\n<pre><code>interface MyContract {\n    interface View {\n        fun showToast(message: String)\n    }\n}\n\nclass MyFragment : Fragment(), MyContract.View {\n    override fun showToast(message: String) {\n        showToast(message)\n    }\n}\n</code></pre>\n\n<p>So in <code>MyFragment.showToast(message)</code> I expect to call extension function instead of <code>StackOverflowException</code>.</p>\n\n<p>Is it possible to call extension function directly? Something like:</p>\n\n<pre><code>Fragment.showToast(this, message)\n</code></pre>\n\n<p>or I just need to give another name?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 3, "creation_date": 1550489611, "post_id": 54746334, "comment_id": 96274540, "body": "make <code>numOfPlayers</code> global"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "reply_to_user": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1550489992, "post_id": 54746334, "comment_id": 96274749, "body": "Getting this error: <a href=\"https://i.imgur.com/TTLZWuu.png\" rel=\"nofollow noreferrer\">i.imgur.com/TTLZWuu.png</a>"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1550490247, "post_id": 54746334, "comment_id": 96274890, "body": "this is not how the variables are made global"}, {"owner": {"reputation": 683, "user_id": 5759716, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Df6cHI8KWD4/AAAAAAAAAAI/AAAAAAAAMwc/w97owknFTVk/photo.jpg?sz=128", "display_name": "Maksim Novikov", "link": "https://stackoverflow.com/users/5759716/maksim-novikov"}, "edited": false, "score": 1, "creation_date": 1550490273, "post_id": 54746334, "comment_id": 96274908, "body": "@Zorgan No he didn&#39;t mean actually use the keyword <code>global</code>, just declare the variable:"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550671005, "post_id": 54746334, "comment_id": 96354400, "body": "Have you tried moving <code>val numOfPlayers = intent.getIntExtra(&quot;number_of_players&quot;, 1)</code> to <code>onClick</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "is_accepted": false, "score": 0, "last_activity_date": 1550490161, "creation_date": 1550490161, "answer_id": 54746528, "question_id": 54746334, "link": "https://stackoverflow.com/questions/54746334/pass-parameter-from-oncreate-to-onclick/54746528#54746528", "title": "Pass parameter from onCreate to onClick", "body": "<p>Define your variable with global scope like below</p>\n\n<pre><code>var numOfPlayers = 0\n</code></pre>\n\n<p>Make sure to define it above <code>onCreate()</code> method.</p>\n"}, {"tags": [], "owner": {"reputation": 221, "user_id": 4753486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHYF3.jpg?s=128&g=1", "display_name": "bhumik", "link": "https://stackoverflow.com/users/4753486/bhumik"}, "is_accepted": false, "score": 2, "last_activity_date": 1550490230, "creation_date": 1550490230, "answer_id": 54746544, "question_id": 54746334, "link": "https://stackoverflow.com/questions/54746334/pass-parameter-from-oncreate-to-onclick/54746544#54746544", "title": "Pass parameter from onCreate to onClick", "body": "<p>Either make numOfPlayer as global variable or create separate function to call when btn is clicked and pass numOfPlayer as parameter</p>\n\n<p><strong>1. make numOfPlayer as global variable</strong></p>\n\n<pre><code>class PlayerDetails : AppCompatActivity(), View.OnClickListener {\n    var numOfPlayers = 0\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_player_details)\n\n        val intent = getIntent()\n        numOfPlayers = intent.getIntExtra(\"number_of_players\", 1)\n        next_details.setOnClickListener(this)\n    }\n\n    override fun onClick(v: View?) {\n        for (player in 1..numOfPlayers) {\n            // body in here\n        }\n    }\n}\n</code></pre>\n\n<p><strong>2. create separate function to call when btn is clicked and pass numOfPlayer as parameter</strong></p>\n\n<pre><code>class PlayerDetails : AppCompatActivity(), View.OnClickListener {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_player_details)\n        val intent = getIntent()\n        val numOfPlayers = intent.getIntExtra(\"number_of_players\", 1)\n        bottomNav.setOnClickListener {\n            onNextClick(numOfPlayers)\n        }\n    }\n\n    private fun onNextClick(numOfPlayers: Int) {\n        for (player in 1..numOfPlayers) {\n            // body in here\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1550522732, "post_id": 54746611, "comment_id": 96291792, "body": "What&#39;s the benefit of using <code>lateinit var numOfPlayers: Integer</code> over <code>var numOfPlayers: Int = 0</code> ?"}, {"owner": {"reputation": 1062, "user_id": 5082913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2643625611a7dda0fe37cf1dc9513f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Shreck Ye", "link": "https://stackoverflow.com/users/5082913/shreck-ye"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1550552625, "post_id": 54746611, "comment_id": 96299327, "body": "<code>lateinit</code> isn&#39;t necessary, it&#39;s just there to remind you that this variable shall be initialized before being used. If in case you forget to initialize the variable before using it you will get a special exception, while if you use the latter no exceptions will be thrown if you forget to reassign a value. So it can help you prevent potential uninitialized variable bugs."}], "tags": [], "owner": {"reputation": 1062, "user_id": 5082913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2643625611a7dda0fe37cf1dc9513f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Shreck Ye", "link": "https://stackoverflow.com/users/5082913/shreck-ye"}, "is_accepted": false, "score": 0, "last_activity_date": 1550490426, "creation_date": 1550490426, "answer_id": 54746611, "question_id": 54746334, "link": "https://stackoverflow.com/questions/54746334/pass-parameter-from-oncreate-to-onclick/54746611#54746611", "title": "Pass parameter from onCreate to onClick", "body": "<p><code>onCreate</code> is called when the activity is created, and <code>onClick</code> is called when the <code>next_details</code> button is clicked, which definitely happens after <code>onCreate</code>.</p>\n\n<p>So make <code>numOfPlayers</code> a class member and assign the value to it in <code>onCreate</code>, and also add the <code>lateinit</code> keyword to <code>numOfPlayers</code> so you don't need to make it nullable.</p>\n\n<p>The code should look like this: </p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_player_details.*\n\nclass PlayerDetails : AppCompatActivity(), View.OnClickListener {\n\n    lateinit var numOfPlayers: Integer\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_player_details)\n\n        val intent = getIntent()\n        numOfPlayers = intent.getIntExtra(\"number_of_players\", 1)    \n        next_details.setOnClickListener(this)\n    }\n\n    override fun onClick(v: View?) {\n        for (player in 1..numOfPlayers) {\n            // body in here\n\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6804246, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e2olRGm5bXI/AAAAAAAAAAI/AAAAAAAAACM/C8WR71CSF2c/photo.jpg?sz=128", "display_name": "Bino Benny", "link": "https://stackoverflow.com/users/6804246/bino-benny"}, "is_accepted": false, "score": 0, "last_activity_date": 1550670946, "creation_date": 1550670946, "answer_id": 54788056, "question_id": 54746334, "link": "https://stackoverflow.com/questions/54746334/pass-parameter-from-oncreate-to-onclick/54788056#54788056", "title": "Pass parameter from onCreate to onClick", "body": "<p>Make numOfPlayers global\n<code>var numOfPlayers =0</code></p>\n\n<p>In <code>onCreate()</code></p>\n\n<pre><code>val intent = getIntent()\nnumOfPlayers = intent.getIntExtra(\"number_of_players\", 1)\n</code></pre>\n\n<p>In onClick()</p>\n\n<pre><code>for (i in 1..numOfPlayers) {\n            // body in here\n\n        }\n</code></pre>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 437, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1550670946, "creation_date": 1550489529, "question_id": 54746334, "link": "https://stackoverflow.com/questions/54746334/pass-parameter-from-oncreate-to-onclick", "title": "Pass parameter from onCreate to onClick", "body": "<p>Here is my kotlin/android activity:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_player_details.*\n\nclass PlayerDetails : AppCompatActivity(), View.OnClickListener {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_player_details)\n\n        val intent = getIntent()\n        val numOfPlayers = intent.getIntExtra(\"number_of_players\", 1)    \n        next_details.setOnClickListener(this)\n    }\n\n    override fun onClick(v: View?) {\n        for (player in 1..numOfPlayers) {\n            // body in here\n\n        }\n    }\n\n}\n</code></pre>\n\n<p>I want to pass the value of <code>numOfPlayers</code> to my <code>onClick</code> method so I can use it -  how can I achieve this?</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 6712, "user_id": 6678991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vT7P5.jpg?s=128&g=1", "display_name": "Mahdi-Malv", "link": "https://stackoverflow.com/users/6678991/mahdi-malv"}, "edited": false, "score": 0, "creation_date": 1550529474, "post_id": 54755824, "comment_id": 96294255, "body": "Assume the result that will be saved in <code>userForSave</code> received after 4 seconds.  What happens if you try to print it exactly after that line?"}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "reply_to_user": {"reputation": 6712, "user_id": 6678991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vT7P5.jpg?s=128&g=1", "display_name": "Mahdi-Malv", "link": "https://stackoverflow.com/users/6678991/mahdi-malv"}, "edited": false, "score": 0, "creation_date": 1550532921, "post_id": 54755824, "comment_id": 96295271, "body": "I&#39;m not sure I understood the question. <code>blockingFirst</code> will block the execution in the Thread you&#39;re making the call from, if you print the value of <code>userForSave</code> right after the call to <code>blockingFirst</code> you will see the value returned from the Flowable. You will see the value after 4 seconds though."}], "tags": [], "owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "is_accepted": true, "score": 1, "last_activity_date": 1550526255, "creation_date": 1550526255, "answer_id": 54755824, "question_id": 54745763, "link": "https://stackoverflow.com/questions/54745763/get-result-of-the-subscribe-method-of-flowable/54755824#54755824", "title": "Get result of the subscribe method of Flowable", "body": "<p>If you need to get the first emission of the <code>Flowable</code> synchronously, you can call <code>blockingFirst()</code> instead of <code>subscribe(Consumer)</code>. In your case it should look like this:</p>\n\n<pre><code>userForSave = userDao\n        .getAll()\n        .map({ items -&gt; items.first({ it.userName == user!!.userName} )})\n        .blockingFirst()\n</code></pre>\n"}], "owner": {"reputation": 479, "user_id": 4699273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g0H8R.jpg?s=128&g=1", "display_name": "amin mohammadi", "link": "https://stackoverflow.com/users/4699273/amin-mohammadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 54755824, "answer_count": 1, "score": 1, "last_activity_date": 1550532958, "creation_date": 1550487620, "last_edit_date": 1550532958, "question_id": 54745763, "link": "https://stackoverflow.com/questions/54745763/get-result-of-the-subscribe-method-of-flowable", "title": "Get result of the subscribe method of Flowable", "body": "<p>I use a Flowable data in my method and I subscribe on it to get the result. I need to get the result from subscribe method in a way that I can make sure that the next instruction in my code will run immediately.</p>\n\n<p>In my code I put the next instruction just after the subscribe method. Although I think it wont run synchronously.</p>\n\n<pre><code>override fun authenticate(route: Route?, response: Response): Request? {\n    var userForSave: User? = null\n    if(responseCount(response) &gt;= 2) {\n        return null\n    }\n    userDao.getAll().map({ items -&gt; items.first({ it.userName == user!!.userName} )})\n        .subscribe({ res -&gt; userForSave = res })\n// I need to make sure that the next instruction after subscribe is this\n    val tokenDto: TokenDto = TokenDto(token = userForSave!!.token, refreshToken = userForSave!!.refreshToken)\n    val refreshTokenCall = service.refreshToken(tokenDto)\n    val refreshResponse = refreshTokenCall.execute()\n    if(refreshResponse.isSuccessful) {\n        userForSave!!.token = refreshResponse!!.body()!!.token\n        userForSave!!.refreshToken = refreshResponse!!.body()!!.refreshToken\n        userDao.update(userForSave!!)\n        return response.request()\n            .newBuilder()\n            .header(\"Authorization\", \"Bearer ${userForSave!!.token}\")\n            .build()\n    }\n    return null\n}\n</code></pre>\n\n<p>I need to make sure that I can use \"userForSave\" for the next instruction.</p>\n"}, {"tags": ["java", "android", "gradle", "kotlin", "interface"], "answers": [{"comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1550503533, "post_id": 54746067, "comment_id": 96282991, "body": "Well, the Java spec is that you can only have one public member per file.If it&#39;s the visibility that messes with it, that&#39;s the explanation."}], "tags": [], "owner": {"reputation": 363, "user_id": 6311832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14f5b84a6fb31cd1ed9cf3aeab20af8?s=128&d=identicon&r=PG&f=1", "display_name": "ThePMO", "link": "https://stackoverflow.com/users/6311832/thepmo"}, "is_accepted": true, "score": 0, "last_activity_date": 1550488659, "creation_date": 1550488659, "answer_id": 54746067, "question_id": 54745395, "link": "https://stackoverflow.com/questions/54745395/how-do-i-avoid-restarting-android-studio-because-of-a-kotlin-build-error-supert/54746067#54746067", "title": "How do I avoid restarting Android Studio because of a Kotlin build error: Supertypes of the following classes cannot be resolved", "body": "<p>Turns out, while it is frowned upon to declare multiple interfaces in one file the java compiler still allows it, the Kotlin compiler currently does not.\nSplitting up the Interface file into files each with a single (1 line) interface with their respective type names also as file names does the trick.</p>\n"}], "owner": {"reputation": 363, "user_id": 6311832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14f5b84a6fb31cd1ed9cf3aeab20af8?s=128&d=identicon&r=PG&f=1", "display_name": "ThePMO", "link": "https://stackoverflow.com/users/6311832/thepmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 54746067, "answer_count": 1, "score": -1, "last_activity_date": 1550503543, "creation_date": 1550486485, "last_edit_date": 1550503543, "question_id": 54745395, "link": "https://stackoverflow.com/questions/54745395/how-do-i-avoid-restarting-android-studio-because-of-a-kotlin-build-error-supert", "title": "How do I avoid restarting Android Studio because of a Kotlin build error: Supertypes of the following classes cannot be resolved", "body": "<p>I have a Android App written in Java and am now trying out Kotlin for the first time. I've created a new activity using Kotlin that should be called from Java Code via 'startActivityforResult'. The IDE (probably the Kotlin Plugin?) automatically added everything that was necessary to the gradle build files. The new activity uses a keys from the main activity to identify and enumerate parameters and return values. No when I try to build this app in Android Studio 3.3.1 using the Android Gradle plugin v3.3.1 and Kotlin 1.3.20.</p>\n\n<p>Usually this results in an Error: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath ...</p>\n\n<p>The classes listed there are 2 of my own classes (so not a problem with dependencies), the supertype in both cases is the same, namely a Java interface </p>\n\n<pre><code>interface AllDataLoadedListener {\n    void allDataLoaded();\n}\n</code></pre>\n\n<p>located together with other interface definitions in a file named DatabaseInterfaces.java.</p>\n\n<p>Invalidating the cache and restarting Android Studio as proposed <a href=\"https://discuss.kotlinlang.org/t/kotlin-custom-view-class-implements-an-interface-that-cannot-be-resolved-in-app-compiledebugkotlinafterjava-identical-java-version-works-fine/1594/3\" rel=\"nofollow noreferrer\">here</a> helps (not always but mostly), but this step is apparently necessary after EVERY code change which gets annoying very fast. </p>\n\n<p>What is the root problem and how can this be avoided and/or fixed?</p>\n"}]