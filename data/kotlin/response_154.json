[{"tags": ["kotlin", "apache-storm"], "answers": [{"comments": [{"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1513806717, "post_id": 47913977, "comment_id": 82797736, "body": "Your first solution works. I had to do one more cast with the 2nd approach as: <code>(input.values.firstOrNull { it is MyClass }? as MyClass).let...</code>. Otherwise I can not do <code>it.startTime</code> in the <code>let</code> block."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1513843834, "post_id": 47913977, "comment_id": 82808603, "body": "Oops, sorry, you&#39;re right. I&#39;ve fixed my second example with a smart cast. You&#39;re probably better off just going with the first one though."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1513843786, "last_edit_date": 1513843786, "creation_date": 1513802045, "answer_id": 47913977, "question_id": 47913945, "link": "https://stackoverflow.com/questions/47913945/kotlin-looping-through-a-filtered-possibly-empty-and-at-most-one-element-list/47913977#47913977", "title": "Kotlin: looping through a filtered (possibly empty and at most one element) list", "body": "<p>There is a better way! :)</p>\n\n<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/first-or-null.html\" rel=\"nofollow noreferrer\"><code>firstOrNull()</code></a> and then a safe call:</p>\n\n<pre><code>input.values.filterIsInstance(MyClass).firstOrNull()?.let {\n    val endToEndTime = (System.currentTimeMillis() - it.startTime).toInt()\n    stats.recordExecutionTime(\"mytag\", endToEndTime)\n}\n</code></pre>\n\n<p>You could also replace the <code>filterIsInstance</code> call with the version of <code>firstOrNull()</code> that takes a predicate, like so:</p>\n\n<pre><code>input.values.firstOrNull { it is MyClass }?.let {\u0171\n    it as MyClass\n    val endToEndTime = (System.currentTimeMillis() - it.startTime).toInt()\n    stats.recordExecutionTime(\"mytag\", endToEndTime)\n}\n</code></pre>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 47913977, "answer_count": 1, "score": 0, "last_activity_date": 1513843786, "creation_date": 1513801885, "question_id": 47913945, "link": "https://stackoverflow.com/questions/47913945/kotlin-looping-through-a-filtered-possibly-empty-and-at-most-one-element-list", "title": "Kotlin: looping through a filtered (possibly empty and at most one element) list", "body": "<p>I have a storm bolt that gets tuples which contain a value of type <code>MyClass</code>, which in turn carries a time field <code>startTime</code>. At the end of the bolt, I'd like to log the time that the processing took from the beginning (marked by <code>startTime</code>). So I could do:</p>\n\n<pre><code>override fun doExecute(input: Tuple): Boolean {\n    ... // my processing logic\n    input.values.filterIsInstance(MyClass).forEach {\n        val endToEndTime = (System.currentTimeMillis() - it.startTime).toInt()\n        stats.recordExecutionTime(\"mytag\", endToEndTime)\n    }\n} \n</code></pre>\n\n<p>I don't really have a problem with this approach. Just cosmetic wise it looks like I could have more than one instance of <code>MyClass</code> in the tuple (which I do not). So I was thinking if I could just pick the first out of the list like:</p>\n\n<pre><code>override fun doExecute(input: Tuple): Boolean {\n    ... // my processing logic\n    input.values.filterIsInstance(MyClass).first().let {\n        val endToEndTime = (System.currentTimeMillis() - it.startTime).toInt()\n        stats.recordExecutionTime(\"mytag\", endToEndTime)\n    }\n} \n</code></pre>\n\n<p>This seems to be more readable. However, if the <code>filterIsInstance(MyClass)</code> call returns an empty list, I get an exception by calling <code>first</code> on it, while the first solution goes through fine without any exception. Since this is for pure logging purposes, I'd like it to be exception-free.</p>\n\n<p>Is there a better way to do this?</p>\n"}, {"tags": ["android", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1513797735, "post_id": 47912985, "comment_id": 82793701, "body": "The <a href=\"https://firebase.google.com/docs/auth/android/password-auth#create_a_password-based_account\" rel=\"nofollow noreferrer\">sample in the Firebase documentation</a> contains <code>Log.w(TAG, &quot;createUserWithEmail:failure&quot;, task.getException());</code>, which will log the cause of the failure."}, {"owner": {"reputation": 65, "user_id": 5648104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3720c8f2692df3292262456df1e056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ceridoglu", "link": "https://stackoverflow.com/users/5648104/ceridoglu"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1513974381, "post_id": 47912985, "comment_id": 82863886, "body": "@FrankvanPuffelen sorry but i dont know java and stiil i dont how to fix this problem on Kotlin code :("}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 15215836, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgpEu2oy9AaII9llgfoAhINAqZyu8RMZyQapJWcSQ=k-s128", "display_name": "Tanios Hankach", "link": "https://stackoverflow.com/users/15215836/tanios-hankach"}, "is_accepted": false, "score": 0, "last_activity_date": 1613607028, "last_edit_date": 1613607028, "creation_date": 1613602573, "answer_id": 66251153, "question_id": 47912985, "link": "https://stackoverflow.com/questions/47912985/firebase-connection-create-user-error-on-kotlin/66251153#66251153", "title": "Firebase connection create user error on Kotlin", "body": "<ol>\n<li><p>Try to remove <code>return  @setOnClickListener</code> and return\n<code>@addOnCompleteListener</code> from if statements</p>\n</li>\n<li><p>try to initiate firebaseAuth like this:</p>\n</li>\n</ol>\n<pre><code>private  lateinit var fbsignup:FirebaseAuth\n</code></pre>\n<p>(before on create method)</p>\n<p>And after on create method like this:</p>\n<pre><code>fbsignup=FirebaseAuth.getInstance()\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5648104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3720c8f2692df3292262456df1e056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ceridoglu", "link": "https://stackoverflow.com/users/5648104/ceridoglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1613607028, "creation_date": 1513797534, "last_edit_date": 1513797649, "question_id": 47912985, "link": "https://stackoverflow.com/questions/47912985/firebase-connection-create-user-error-on-kotlin", "title": "Firebase connection create user error on Kotlin", "body": "<p>\u0131 try a create user on firebase with kotlin. but i get the error toast all the time \n     Theese are my imports:</p>\n\n<pre><code>import android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.text.TextUtils\nimport android.view.View\nimport android.widget.Toast\nimport com.google.firebase.auth.FirebaseAuth\nimport kotlinx.android.synthetic.main.activity_create_user.*\n</code></pre>\n\n<p>here the rest of my code\n    class createUser : AppCompatActivity() {\n   private var fbsignup: FirebaseAuth = FirebaseAuth.getInstance()</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_create_user)\n\n    submitButton.setOnClickListener {\n        val email = userSaveText.text.toString().trim()\n        val password = passSaveText.text.toString().trim()\n\n        if (TextUtils.isEmpty(email)) {\n            Toast.makeText(this, \"enter a mail \", Toast.LENGTH_SHORT).show()\n            return@setOnClickListener\n        }\n        if (TextUtils.isEmpty(password)) {\n            Toast.makeText(this, \"enter password\", Toast.LENGTH_SHORT).show()\n            return@setOnClickListener\n        }\n\n\n    fbsignup.createUserWithEmailAndPassword(email, password).addOnCompleteListener { task -&gt;\n\n        if (task.isSuccessful) {\n            Toast.makeText(this, \"succesfully created account\", Toast.LENGTH_SHORT).show()\n            return@addOnCompleteListener\n        } else {\n            Toast.makeText(this, \"errore!!\", Toast.LENGTH_SHORT).show()\n            return@addOnCompleteListener\n        }\n\n    }}\n}\n</code></pre>\n\n<p>What am i supposed to do?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 40632, "user_id": 4409409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVAPJ.jpg?s=128&g=1", "display_name": "Daniel Nugent", "link": "https://stackoverflow.com/users/4409409/daniel-nugent"}, "edited": false, "score": 0, "creation_date": 1513794858, "post_id": 47912150, "comment_id": 82792346, "body": "Take a look at the example here: <a href=\"https://stackoverflow.com/a/31529062/4409409\">stackoverflow.com/a/31529062/4409409</a>  It&#39;s Java, not kotlin, but you can see how it uses a <code>SearchView.OnQueryTextListener</code> instead of just opening an activity when the SearchView in the menu is selected, as you have it in your commented-out code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6008330"}, "reply_to_user": {"reputation": 40632, "user_id": 4409409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVAPJ.jpg?s=128&g=1", "display_name": "Daniel Nugent", "link": "https://stackoverflow.com/users/4409409/daniel-nugent"}, "edited": false, "score": 0, "creation_date": 1513796466, "post_id": 47912150, "comment_id": 82793087, "body": "@DanielNugent Thank you! But it did not give me the search bar I put as an example, just like the android contacts bar, or gmail."}, {"owner": {"reputation": 40632, "user_id": 4409409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVAPJ.jpg?s=128&g=1", "display_name": "Daniel Nugent", "link": "https://stackoverflow.com/users/4409409/daniel-nugent"}, "edited": false, "score": 0, "creation_date": 1513801401, "post_id": 47912150, "comment_id": 82795357, "body": "Take a look here: <a href=\"https://stackoverflow.com/questions/38327504/how-to-style-android-searchview-like-in-google-play-store-app\" title=\"how to style android searchview like in google play store app\">stackoverflow.com/questions/38327504/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6008330"}, "reply_to_user": {"reputation": 40632, "user_id": 4409409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVAPJ.jpg?s=128&g=1", "display_name": "Daniel Nugent", "link": "https://stackoverflow.com/users/4409409/daniel-nugent"}, "edited": false, "score": 0, "creation_date": 1513853766, "post_id": 47912150, "comment_id": 82814414, "body": "@DanielNugent I took a look but could not do it. Or I did not understand.This edittext does not appear for me"}], "owner": {"user_type": "does_not_exist", "display_name": "user6008330"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1447, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513796823, "creation_date": 1513794023, "last_edit_date": 1513796823, "question_id": 47912150, "link": "https://stackoverflow.com/questions/47912150/how-to-have-a-searchview-on-the-toolbar-like-google", "title": "How to have a searchview, on the toolbar like google?", "body": "<p>I do not look for any function in the searchview, in the toolbar, the click is treated so that it is directed to a search activity.</p>\n\n<p>Here is the toolbar I want:</p>\n\n<p><a href=\"https://i.stack.imgur.com/20h33.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/20h33.png\" alt=\"enter image description here\"></a></p>\n\n<p>This will always be expanded and clicking will be directed to another activity. Here are the codes:</p>\n\n<p>XML ToolBar Home:</p>\n\n<pre><code>        &lt;android.support.design.widget.AppBarLayout\n            android:id=\"@+id/app_bar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt;\n\n            &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                android:background=\"?attr/colorPrimary\"\n                app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"&gt;\n\n&lt;!--                &lt;SearchView\n                    android:id=\"@+id/search\"\n                    shapeColor=\"@color/white\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"40dp\"\n                    android:background=\"@color/white\"\n                    android:onClick=\"@{(view) -&gt; viewModel.onSearchClicked(view)}\"\n                    android:queryHint=\"Pesquisar\"\n                    android:searchIcon=\"@drawable/ic_search_24dp\"\n                    android:voiceIcon=\"@drawable/ic_settings_voice_black_24px\"\n                    app:iconifiedByDefault=\"false\"&gt;\n//TODO doesn't work\n                &lt;/SearchView&gt;--&gt;\n\n            &lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>Menu Home:</p>\n\n<pre><code>&lt;item\n    android:id=\"@+id/item_search\"\n    android:orderInCategory=\"200\"\n    android:title=\"@string/search\"\n    android:icon=\"@drawable/ic_search_24dp\"\n    app:actionViewClass=\"android.support.v7.widget.SearchView\"\n    app:showAsAction=\"ifRoom|collapseActionView\"\n    android:iconifiedByDefault=\"false\" /&gt;\n</code></pre>\n\n<p>HomeActivity:</p>\n\n<pre><code>    override val contentView = R.layout.view_home\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        menuInflater.inflate(R.menu.menu_home, menu)\n\n        return super.onCreateOptionsMenu(menu)\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean = when (item.itemId) {\n/*        R.id.item_search -&gt; {\n            startActivity(Intent(this, SearchActivity::class.java))\n            true\n        }*/\n        R.id.item_zuk_code -&gt; {\n            givenPermission(android.Manifest.permission.CAMERA, granted = {\n                startActivity(Intent(this@HomeActivity, ZukCodeReaderActivity::class.java))\n            })\n            true\n        }\n//        R.id.item_contacts -&gt; {\n//            startActivity(Intent(this, ContactsSuggestionActivity::class.java))\n//            true\n//        }\n        else -&gt; super.onOptionsItemSelected(item)\n    }\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>HomeActivity Menu:</p>\n\n<pre><code>override fun onCreateOptionsMenu(menu: Menu): Boolean {\n    menuInflater.inflate(R.menu.menu_home, menu)\n\n    val manager = getSystemService(Context.SEARCH_SERVICE) as SearchManager\n    val search = menu.findItem(R.id.item_search).actionView as android.support.v7.widget.SearchView\n    val si = manager.getSearchableInfo(componentName)\n\n    var opt : Int = search.imeOptions\n    search.imeOptions = EditorInfo.IME_FLAG_NO_EXTRACT_UI\n    search.backgroundTintMode\n    search.setSearchableInfo(si)\n    search.setIconifiedByDefault(false)\n\n    return super.onCreateOptionsMenu(menu)\n}\n</code></pre>\n\n<p>What I have:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DajVw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DajVw.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1513794371, "post_id": 47911648, "comment_id": 82792098, "body": "Try to change the code to <code>setOnMapClickListener(GoogleMap.on[...])</code>"}, {"owner": {"reputation": 495, "user_id": 6755801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843afe4ade85ef00319a529e41cc9d73?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Blanquet", "link": "https://stackoverflow.com/users/6755801/thomas-blanquet"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1513796165, "post_id": 47911648, "comment_id": 82792932, "body": "It works, thank you, I didn&#39;t even though about this."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1513811067, "post_id": 47911648, "comment_id": 82799253, "body": "You&#39;re welcome. I made this an answer which you can accept"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1513796196, "creation_date": 1513796196, "answer_id": 47912672, "question_id": 47911648, "link": "https://stackoverflow.com/questions/47911648/maponclicklistener-doesnt-seems-to-work/47912672#47912672", "title": "MapOnClickListener doesn&#39;t seems to work", "body": "<p>You\u2019re passing a lambda to <code>setOnMapClickListener</code> by using <code>{}</code>. In fact, you simply want to pass the <code>GoogleMap.OnMapClickListener</code> as an argument, which will work with parentheses. So change your code to <code>setOnMapClickListener(GoogleMap.OnMapClickListener())</code></p>\n"}, {"tags": [], "owner": {"reputation": 1575, "user_id": 2684278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/430e8e82bdb9cdc5fc0cbceebe87f9be?s=128&d=identicon&r=PG", "display_name": "Mike Critchley", "link": "https://stackoverflow.com/users/2684278/mike-critchley"}, "is_accepted": false, "score": 2, "last_activity_date": 1540709423, "last_edit_date": 1540709423, "creation_date": 1540709087, "answer_id": 53029029, "question_id": 47911648, "link": "https://stackoverflow.com/questions/47911648/maponclicklistener-doesnt-seems-to-work/53029029#53029029", "title": "MapOnClickListener doesn&#39;t seems to work", "body": "<p>Here are two ways to do this. </p>\n\n<p>Method 1: Make a listener var and pass it in</p>\n\n<pre><code>val mapCickListener = object : GoogleMap.OnMapClickListener {\n        override fun onMapClick(p0: LatLng?) {\n            Log.d(\"Map_Tag\", \"CLICK\")\n        }\n    }\n\n    map.setOnMapClickListener(mapCickListener) //Note. Use () and not {}\n</code></pre>\n\n<p>Method 2. Just pass in the object in the call. </p>\n\n<pre><code>  map.setOnMapClickListener(object : GoogleMap.OnMapClickListener {\n        override fun onMapClick(p0: LatLng?) {\n            Log.d(\"Map_Tag\", \"CLICK\")\n        }\n    })\n</code></pre>\n"}], "owner": {"reputation": 495, "user_id": 6755801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843afe4ade85ef00319a529e41cc9d73?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Blanquet", "link": "https://stackoverflow.com/users/6755801/thomas-blanquet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1643, "favorite_count": 0, "accepted_answer_id": 47912672, "answer_count": 2, "score": 3, "last_activity_date": 1540709423, "creation_date": 1513791839, "question_id": 47911648, "link": "https://stackoverflow.com/questions/47911648/maponclicklistener-doesnt-seems-to-work", "title": "MapOnClickListener doesn&#39;t seems to work", "body": "<p><br><br> I'm writing an application using Kotlin and GoogleMap. I've got the map and I tried to set an OnMapClick listener that only logs a message. The build is ok, but when I click on the map, nothing happens.<br> I've looked for documentation but I found nothing about a problem like this.<br><br>\nHere the code of the map:<br><br></p>\n\n<pre><code>class map : FragmentActivity(), OnMapReadyCallback {\n     private var mMap: GoogleMap? = null\n\n     override fun onMapReady(googleMap: GoogleMap) {\n         mMap = googleMap\n         mMap?.setOnMapClickListener {\n             GoogleMap.OnMapClickListener { p0 -&gt; Log.d(\"Map\", p0.toString()) }\n         }\n     }\n}\n</code></pre>\n\n<p>I found a lot of documentation about GoogleMap in Java, but nothing in Kotlin, so I tried this by my own. Thanks for helping me to find what's wrong with this code.</p>\n"}, {"tags": ["android", "kotlin", "android-glide"], "answers": [{"comments": [{"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 1, "creation_date": 1513788013, "post_id": 47910651, "comment_id": 82788843, "body": "Yes, but I want to show an error image if getting image fails. All examples on the web pass a resource ID to error(), but those were either an old version of Glide or GlideApp (not Glide)."}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1513788329, "post_id": 47910651, "comment_id": 82789021, "body": "@DamnVegetables See above screenshot. I&#39;m using 3.7.0 Glide."}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1513788406, "post_id": 47910651, "comment_id": 82789061, "body": "if you want to do something more custom see my callback example for knowing something failed."}], "tags": [], "owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1513788168, "last_edit_date": 1513788168, "creation_date": 1513787903, "answer_id": 47910651, "question_id": 47910536, "link": "https://stackoverflow.com/questions/47910536/glide-4-3-1-how-to-use-error/47910651#47910651", "title": "Glide 4.3.1: how to use error()?", "body": "<p>Glide wants you to pass which image drawable you should show if an error occurs while loading it. This parameter is not required unless you like it. I typically just use.</p>\n\n<pre><code> Glide.with(mContext).load(myModel.getDefaultThumbnailUrl()).dontAnimate().centerCrop().override(mImageSize, mImageSize).into(itemViewHolder.imgHolder);\n</code></pre>\n\n<p>Also if you want callbacks on the glide for error occurred or completed you can create a listener like this.</p>\n\n<pre><code> RequestListener&lt;String, GlideDrawable&gt; glideCallback = new RequestListener&lt;String, GlideDrawable&gt;(){\n        @Override\n        public boolean onException(Exception e, String model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\n            Toast.makeText(myActivity.this, getString(R.string.error_loading_from_url), Toast.LENGTH_LONG).show();\n            return false;\n\n        }\n        @Override\n        public boolean onResourceReady(GlideDrawable resource, String model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\n            new Handler().postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    convertCardToBitmap(mSendWhenComplete);\n\n                }\n            },500);\n\n            return false;\n\n        }\n\n    };\n</code></pre>\n\n<p>then include the .listener(glideCallback) in your chained load call.</p>\n\n<p>error overloads include:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0JETj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0JETj.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 113731, "user_id": 250260, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mLw78.png?s=128&g=1", "display_name": "Jorgesys", "link": "https://stackoverflow.com/users/250260/jorgesys"}, "is_accepted": false, "score": 0, "last_activity_date": 1513788425, "last_edit_date": 1513788425, "creation_date": 1513787977, "answer_id": 47910668, "question_id": 47910536, "link": "https://stackoverflow.com/questions/47910536/glide-4-3-1-how-to-use-error/47910668#47910668", "title": "Glide 4.3.1: how to use error()?", "body": "<p>You specify a drawable in <code>error()</code> and if <code>Glide</code> throw an exception, this image is showed like a dummy image. The image specified in <code>error()</code> method would be a resource of your proyect.</p>\n\n<p>For example:</p>\n\n<pre><code>Glide.with(this)\n            .load(urlImage)\n            .error(R.drawable.error_image).into(new GlideDrawableImageViewTarget(imageView) {\n                @Override\n                public void onResourceReady(GlideDrawable drawable, GlideAnimation anim) {\n                    super.onResourceReady(drawable, anim);\n                }\n            });\n</code></pre>\n\n<blockquote>\n  <p><strong>error()</strong> : Error Drawables are shown when a request permanently fails. Error\n  Drawables are also shown if the requested url/model is null and no\n  fallback Drawable is set</p>\n</blockquote>\n\n<pre><code>GlideApp.with(fragment)\n  .load(url)\n  .error(R.drawable.error)\n  .into(view);\n</code></pre>\n\n<p>or </p>\n\n<pre><code>GlideApp.with(fragment)\n  .load(url)\n  .error(new ColorDrawable(Color.RED))\n  .into(view);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1513845407, "post_id": 47912266, "comment_id": 82809403, "body": "Ah. Thank you. I wonder why an example like this did not pop up when I searched Google for an usage example."}, {"owner": {"reputation": 2334, "user_id": 4749098, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1lqS5.jpg?s=128&g=1", "display_name": "Anand Savjani", "link": "https://stackoverflow.com/users/4749098/anand-savjani"}, "edited": false, "score": 0, "creation_date": 1538246682, "post_id": 47912266, "comment_id": 92079450, "body": "If glide failed to load image then how to reload same URL to show images?"}], "tags": [], "owner": {"reputation": 3559, "user_id": 3111877, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aJpSK.jpg?s=128&g=1", "display_name": "D_Alpha", "link": "https://stackoverflow.com/users/3111877/d-alpha"}, "is_accepted": true, "score": 43, "last_activity_date": 1529923632, "last_edit_date": 1529923632, "creation_date": 1513794491, "answer_id": 47912266, "question_id": 47910536, "link": "https://stackoverflow.com/questions/47910536/glide-4-3-1-how-to-use-error/47912266#47912266", "title": "Glide 4.3.1: how to use error()?", "body": "<p>If you are using <strong>Glide v4</strong> then you have to use <strong>RequestOptions</strong> for including the more options you want, for example \n  <strong>centerCrop()</strong>,  <strong>placeholder()</strong>,  <strong>error()</strong>,  <strong>priority()</strong> , <strong>diskCacheStrategy()</strong>.</p>\n\n<p>So after using RequestOptions your Glide would look like this-</p>\n\n<pre><code>RequestOptions options = new RequestOptions()\n                    .centerCrop()\n                    .placeholder(R.drawable.default_avatar)\n                    .error(R.drawable.default_avatar)\n                    .diskCacheStrategy(DiskCacheStrategy.ALL)\n                    .priority(Priority.HIGH);\n\nGlide.with(mContext).load(imgUrl)\n                    .apply(options)\n                    .into(picThumbnail);\n</code></pre>\n\n<p>Now you can show error image and placeholder set the disk cache etc.</p>\n\n<p><strong>GlideApp</strong> is also a part of Glide v4. It is used to provide more than one <strong>Transformation</strong> in Glide v4, using the transforms() method:</p>\n\n<pre><code>GlideApp.with(mContext)\n  .load(imgUrl)\n  .transforms(new CenterCrop(), new RoundedCorners(20))\n  .into(target);\n</code></pre>\n\n<p>error() and placeholder() using <strong>GlideApp</strong>- </p>\n\n<pre><code>GlideApp.with(mContext)\n            .load(imageUrl)\n            .placeholder(R.drawable.placeholder_image)\n            .error(R.drawable.error_image)\n            .diskCacheStrategy(DiskCacheStrategy.ALL)\n            .priority(Priority.HIGH)\n            .into(offerImage);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1559, "user_id": 2759296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OoPGq.jpg?s=128&g=1", "display_name": "anthonymonori", "link": "https://stackoverflow.com/users/2759296/anthonymonori"}, "is_accepted": false, "score": 10, "last_activity_date": 1513795513, "creation_date": 1513795513, "answer_id": 47912496, "question_id": 47910536, "link": "https://stackoverflow.com/questions/47910536/glide-4-3-1-how-to-use-error/47912496#47912496", "title": "Glide 4.3.1: how to use error()?", "body": "<p>To answer your second question and the one is part of the title, you really only should care about <code>error()</code> if you either expect the url you are calling or drawable/bitmap is null and you may want to invoke a retry, otherwise you can use the <code>error</code> drawable to signal a different state compared to <code>placeholder</code> or <code>fallback</code>. The following chart explains it quite straight-forward:\n<a href=\"https://i.stack.imgur.com/kuRBx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kuRBx.png\" alt=\"Diagram showcasing the three possible fail cases of a Glide call\"></a>\n<em>Unfortunately I cannot remember the original source of the image. Please let me know in the comments if you know so I can properly attribute it to the original author!</em></p>\n\n<p>As you can see from the chart above as well, it is really enough to only set a placeholder if you don't want to represent different states for each of them. </p>\n\n<p>Hope the decision tree clears out some of your questions! Apologies that I have not answered all parts of your questions, but some of the other answers do that already!</p>\n\n<p>Cheers!</p>\n"}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23647, "favorite_count": 5, "closed_date": 1552536479, "accepted_answer_id": 47912266, "answer_count": 4, "score": 20, "last_activity_date": 1529923632, "creation_date": 1513787441, "last_edit_date": 1513787768, "question_id": 47910536, "link": "https://stackoverflow.com/questions/47910536/glide-4-3-1-how-to-use-error", "closed_reason": "Duplicate", "title": "Glide 4.3.1: how to use error()?", "body": "<p>First, what is the difference between <code>Glide</code> and <code>GlideApp</code>? The latter seems to be automatically generated, but the steps seemed to be complicated so I used Glide instead. They both seem to have the same methods.</p>\n\n<p>So, I used <code>Glide.with(activity).load(fileName).error().into(imageView)</code>. The problem is that I cannot understand what to pass to error(). It did not take a drawable resource ID. Android Studio says the parameter is RequestBuilder&lt; Drawable!&gt;?, but I could not find any example.</p>\n\n<p>\"Error: Type mismatch: inferred type is Int but RequestBuilder&lt; Drawable!&gt;? was expected\"</p>\n"}, {"tags": ["class", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 54, "last_activity_date": 1513787567, "last_edit_date": 1513787567, "creation_date": 1513787466, "answer_id": 47910540, "question_id": 47910432, "link": "https://stackoverflow.com/questions/47910432/how-to-check-if-two-objects-have-the-same-class-in-kotlin/47910540#47910540", "title": "How to check if two objects have the same class in Kotlin?", "body": "<p>You can get the type of an object with <a href=\"https://kotlinlang.org/docs/reference/reflection.html#class-references\" rel=\"noreferrer\"><code>::class</code></a>, and compare those:</p>\n\n<pre><code>val sameClass = obj1::class == obj2::class\n</code></pre>\n\n<p>More specifically, <a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-class-references-since-11\" rel=\"noreferrer\">this section</a> of the above documentation describes that <code>::class</code> on an object gives you exactly what you want, the exact class of the instance you're calling it on.</p>\n"}], "owner": {"reputation": 5380, "user_id": 2305095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCenv.jpg?s=128&g=1", "display_name": "Kilian Batzner", "link": "https://stackoverflow.com/users/2305095/kilian-batzner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9135, "favorite_count": 2, "accepted_answer_id": 47910540, "answer_count": 1, "score": 28, "last_activity_date": 1576233994, "creation_date": 1513787095, "last_edit_date": 1576233994, "question_id": 47910432, "link": "https://stackoverflow.com/questions/47910432/how-to-check-if-two-objects-have-the-same-class-in-kotlin", "title": "How to check if two objects have the same class in Kotlin?", "body": "<p>In Kotlin, you can check if an object is an instance of a class (including inheritance) using <code>is</code></p>\n\n<pre><code>myObject is String\n</code></pre>\n\n<p>But how can you check, if two objects are of the <strong>exact</strong> same class? I am searching for an analogue to Python's</p>\n\n<pre><code>type(obj1) is type(obj2)\n</code></pre>\n"}, {"tags": ["multithreading", "concurrency", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1513784572, "post_id": 47909614, "comment_id": 82786760, "body": "To clarify, is that inner block performing writes to <code>s</code> in both cases?"}, {"owner": {"reputation": 129, "user_id": 3491043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a6d98a7b3a84d501ee4f8ab3df8f7e?s=128&d=identicon&r=PG&f=1", "display_name": "user3491043", "link": "https://stackoverflow.com/users/3491043/user3491043"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1513785533, "post_id": 47909614, "comment_id": 82787417, "body": "@OliverCharlesworth No it doesn&#39;t"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1513785595, "post_id": 47909614, "comment_id": 82787449, "body": "Oh, so where are the writes happening?  FWIW, using <code>synchronized</code> is probably the brute-force solution here."}, {"owner": {"reputation": 129, "user_id": 3491043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a6d98a7b3a84d501ee4f8ab3df8f7e?s=128&d=identicon&r=PG&f=1", "display_name": "user3491043", "link": "https://stackoverflow.com/users/3491043/user3491043"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1513786977, "post_id": 47909614, "comment_id": 82788268, "body": "it is written by an other thread in an other class, should I put @synchronized on the &quot;doStuff()&quot; method?"}, {"owner": {"reputation": 129, "user_id": 3491043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a6d98a7b3a84d501ee4f8ab3df8f7e?s=128&d=identicon&r=PG&f=1", "display_name": "user3491043", "link": "https://stackoverflow.com/users/3491043/user3491043"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1513786995, "post_id": 47909614, "comment_id": 82788276, "body": "it is written by an other thread in an other class, should I put @synchronized on the &quot;doStuff()&quot; method?"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1513791210, "post_id": 47909614, "comment_id": 82790523, "body": "I&#39;d strongly recommend containing a shared mutable variable within a single class. Having some external code write to the variable is asking for trouble. If it&#39;s completely encapsulated in one class, you can guarantee thread-safety for users of the variable."}], "answers": [{"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1513789972, "post_id": 47910437, "comment_id": 82789875, "body": "I&#39;m a little confused how this <code>synchronized</code> reduces boilerplate when compared to Java&#39;s. It&#39;s nice being able to express it as a library function instead of a language feature, sure, but boilerplate?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1549005000, "last_edit_date": 1549005000, "creation_date": 1513787114, "answer_id": 47910437, "question_id": 47909614, "link": "https://stackoverflow.com/questions/47909614/concurrency-in-kotlin/47910437#47910437", "title": "Concurrency in Kotlin", "body": "<p>You can simply reuse Java tooling in these cases. </p>\n\n<p>For most simple cases, you would create an object (can be of any type) that will be used as the <em>lock</em> and use that lock for every single access to your state. There's the <code>synchronized</code> function which even let's you return a value directy:</p>\n\n<pre><code>val anyLock = Any()\nfun syncWithArbitraryObjTest(): Int = synchronized(anyLock) { 123 }\n</code></pre>\n\n<p>Note that <code>synchronized</code> is a function in Kotlin which returns a value. This makes it more powerful than Java's synchronized keyword. Technically it doesn\u2019t make a difference on which object you lock, as long as you use the same object for all relevant code blocks that need be <code>synchronized</code> with each other. </p>\n\n<p>If you choose to use a specific <code>Lock</code> object, e.g. an instance of <code>ReentrantLock</code>, you may use <code>withLock</code> instead:</p>\n\n<pre><code>val lock = ReentrantLock()\nfun syncWithLockTest(): Int = lock.withLock { 123 }\n</code></pre>\n\n<hr>\n\n<p>Last but not least, your code <code>val sCopy = s</code> is no copy of <code>s</code>, it's simply a second variable pointing to <em>the same</em> object; this code isn't any safer.</p>\n"}, {"tags": [], "owner": {"reputation": 1092, "user_id": 6962183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ec11751b9bbe4f210f878f4ce3bfb7?s=128&d=identicon&r=PG", "display_name": "al3c", "link": "https://stackoverflow.com/users/6962183/al3c"}, "is_accepted": false, "score": 0, "last_activity_date": 1513789827, "creation_date": 1513789827, "answer_id": 47911138, "question_id": 47909614, "link": "https://stackoverflow.com/questions/47909614/concurrency-in-kotlin/47911138#47911138", "title": "Concurrency in Kotlin", "body": "<p>You need to lock both the writes and the reads to your variable, like this:</p>\n\n<pre><code>class A {\n    var s: String? = null //var accessed by multiple threads\n     set(s) {\n         synchronized(this) {\n             field = s\n         }\n    }\n\n    fun doStuff() {\n        synchronized(this) {\n            //safe now    \n        }\n    }\n}\n</code></pre>\n\n<p>You need the synchronized in the setter beacuse otherwise the value might be overwritten while a thread is in doStuff.</p>\n\n<p>Though in general it's better to avoid situations where multiple threads can write the same variable.</p>\n"}], "owner": {"reputation": 129, "user_id": 3491043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a6d98a7b3a84d501ee4f8ab3df8f7e?s=128&d=identicon&r=PG&f=1", "display_name": "user3491043", "link": "https://stackoverflow.com/users/3491043/user3491043"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1749, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1549005000, "creation_date": 1513784232, "last_edit_date": 1513844070, "question_id": 47909614, "link": "https://stackoverflow.com/questions/47909614/concurrency-in-kotlin", "title": "Concurrency in Kotlin", "body": "<p>I have a class that has a nullable variable that is written by multiple thread, something like</p>\n\n<pre><code>class A {\n    var s: String? = null //var accessed by multiple threads\n\n    fun doStuff() {\n        if (s != null) {\n            //not safe\n        }\n    }\n}\n</code></pre>\n\n<p>To counter this, I usually make an immutable copy like so</p>\n\n<pre><code>class A {\n    var s: String? = null //var accessed by multiple threads\n\n    fun doStuff() {\n        val sCopy = s\n        if (sCopy != null) {\n            //safe now\n        }\n    }\n}\n</code></pre>\n\n<p>I read about concurrency tools like volatile, synchronized etc but I'm not good at multithreading yet to know how should I handle it and I'm pretty sure there is better ways to achieve this than creating an immutable value, how would you do it?</p>\n"}, {"tags": ["android", "kotlin", "bottom-sheet"], "comments": [{"owner": {"reputation": 1462, "user_id": 9113735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CIGz3A3WT4E/AAAAAAAAAAI/AAAAAAAAACo/myM4TbVfPRE/photo.jpg?sz=128", "display_name": "Abubakker Moallim", "link": "https://stackoverflow.com/users/9113735/abubakker-moallim"}, "edited": false, "score": 0, "creation_date": 1513784272, "post_id": 47909119, "comment_id": 82786536, "body": "You mean BottomSheetFragment ?"}, {"owner": {"reputation": 523, "user_id": 1035669, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3c4486dceea153a460f8880273010aa9?s=128&d=identicon&r=PG", "display_name": "martomstom", "link": "https://stackoverflow.com/users/1035669/martomstom"}, "reply_to_user": {"reputation": 1462, "user_id": 9113735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CIGz3A3WT4E/AAAAAAAAAAI/AAAAAAAAACo/myM4TbVfPRE/photo.jpg?sz=128", "display_name": "Abubakker Moallim", "link": "https://stackoverflow.com/users/9113735/abubakker-moallim"}, "edited": false, "score": 0, "creation_date": 1513784466, "post_id": 47909119, "comment_id": 82786685, "body": "Yes.. Thank you I changed it"}], "answers": [{"comments": [{"owner": {"reputation": 523, "user_id": 1035669, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3c4486dceea153a460f8880273010aa9?s=128&d=identicon&r=PG", "display_name": "martomstom", "link": "https://stackoverflow.com/users/1035669/martomstom"}, "edited": false, "score": 0, "creation_date": 1513874191, "post_id": 47909722, "comment_id": 82826841, "body": "I don&#39;t get no callback. <code>code</code>override fun setupDialog(dialog: Dialog?, style: Int) {          val contentView = View.inflate(context, R.layout.fragment_station_detail, null)         dialog!!.setContentView(contentView)             val layoutParams = (contentView.parent as View).layoutParams as CoordinatorLayout.LayoutParams          val behavior = layoutParams.behavior          if (behavior != null &amp;&amp; behavior is BottomSheetBehavior&lt;*&gt;) {           behavior.setBottomSheetCallback(mBottomSheetBehaviorCallback&zwnj;&#8203;)         }     }<code>code</code>"}, {"owner": {"reputation": 1462, "user_id": 9113735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CIGz3A3WT4E/AAAAAAAAAAI/AAAAAAAAACo/myM4TbVfPRE/photo.jpg?sz=128", "display_name": "Abubakker Moallim", "link": "https://stackoverflow.com/users/9113735/abubakker-moallim"}, "reply_to_user": {"reputation": 523, "user_id": 1035669, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3c4486dceea153a460f8880273010aa9?s=128&d=identicon&r=PG", "display_name": "martomstom", "link": "https://stackoverflow.com/users/1035669/martomstom"}, "edited": false, "score": 0, "creation_date": 1513874248, "post_id": 47909722, "comment_id": 82826882, "body": "You mean setUpDialog method not calling ? Update your code what you done"}, {"owner": {"reputation": 1462, "user_id": 9113735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CIGz3A3WT4E/AAAAAAAAAAI/AAAAAAAAACo/myM4TbVfPRE/photo.jpg?sz=128", "display_name": "Abubakker Moallim", "link": "https://stackoverflow.com/users/9113735/abubakker-moallim"}, "reply_to_user": {"reputation": 523, "user_id": 1035669, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3c4486dceea153a460f8880273010aa9?s=128&d=identicon&r=PG", "display_name": "martomstom", "link": "https://stackoverflow.com/users/1035669/martomstom"}, "edited": false, "score": 0, "creation_date": 1513926097, "post_id": 47909722, "comment_id": 82843527, "body": "Post whole your code for BottomSheetFragment and How are you calling this fragment from other activity"}], "tags": [], "owner": {"reputation": 1462, "user_id": 9113735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CIGz3A3WT4E/AAAAAAAAAAI/AAAAAAAAACo/myM4TbVfPRE/photo.jpg?sz=128", "display_name": "Abubakker Moallim", "link": "https://stackoverflow.com/users/9113735/abubakker-moallim"}, "is_accepted": false, "score": 0, "last_activity_date": 1513784570, "creation_date": 1513784570, "answer_id": 47909722, "question_id": 47909119, "link": "https://stackoverflow.com/questions/47909119/bottomsheetcallback-from-modal-bottomsheetfragment/47909722#47909722", "title": "BottomSheetCallback from Modal BottomSheetFragment", "body": "<p>You can set your Behaviour in setUpDialog method. </p>\n\n<pre><code> @Override\n        public void setupDialog(Dialog dialog, int style) {\n            View contentView = View.inflate(getContext(), R.layout.custom_filter_bottom_sheet, null);\n            dialog.setContentView(contentView);\n            CoordinatorLayout.LayoutParams layoutParams =\n                    (CoordinatorLayout.LayoutParams) ((View) contentView.getParent()).getLayoutParams();\n            CoordinatorLayout.Behavior behavior = layoutParams.getBehavior();\n            if (behavior != null &amp;&amp; behavior instanceof BottomSheetBehavior) {\n                ((BottomSheetBehavior) behavior).setBottomSheetCallback(mBottomSheetBehaviorCallback);\n            }\n\n        }\n</code></pre>\n\n<p>and defining the callbacks</p>\n\n<pre><code> private BottomSheetBehavior.BottomSheetCallback mBottomSheetBehaviorCallback = new BottomSheetBehavior.BottomSheetCallback() {\n        @Override\n        public void onStateChanged(@NonNull View bottomSheet, int newState) {\n            if (newState == BottomSheetBehavior.STATE_HIDDEN) {\n                dismiss();\n            }\n        }\n\n        @Override\n        public void onSlide(@NonNull View bottomSheet, float slideOffset) {\n        }\n    };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3793, "user_id": 1023597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OIGyn.png?s=128&g=1", "display_name": "Vishal Pawar", "link": "https://stackoverflow.com/users/1023597/vishal-pawar"}, "is_accepted": false, "score": 0, "last_activity_date": 1513938884, "creation_date": 1513938884, "answer_id": 47940031, "question_id": 47909119, "link": "https://stackoverflow.com/questions/47909119/bottomsheetcallback-from-modal-bottomsheetfragment/47940031#47940031", "title": "BottomSheetCallback from Modal BottomSheetFragment", "body": "<p>If you are interested in creating bottom sheet behavior follow bellow steps </p>\n\n<p>You have set up BottomSheetBehavior in your code as defined in bellow link. </p>\n\n<p><a href=\"https://medium.com/@nullthemall/new-bottomsheet-caab21aff19b\" rel=\"nofollow noreferrer\">https://medium.com/@nullthemall/new-bottomsheet-caab21aff19b</a></p>\n"}, {"tags": [], "owner": {"reputation": 523, "user_id": 1035669, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3c4486dceea153a460f8880273010aa9?s=128&d=identicon&r=PG", "display_name": "martomstom", "link": "https://stackoverflow.com/users/1035669/martomstom"}, "is_accepted": true, "score": 3, "last_activity_date": 1518365233, "last_edit_date": 1518365233, "creation_date": 1516702966, "answer_id": 48399333, "question_id": 47909119, "link": "https://stackoverflow.com/questions/47909119/bottomsheetcallback-from-modal-bottomsheetfragment/48399333#48399333", "title": "BottomSheetCallback from Modal BottomSheetFragment", "body": "<p>Thank you all! The best solution for me was to add my BottomSheet as persistent Bottom Sheet to activity_main.xml</p>\n\n<p>The following explanation helped me\n<a href=\"https://www.androidhive.info/2017/12/android-working-with-bottom-sheet/\" rel=\"nofollow noreferrer\">Android working with Bottom Sheet</a></p>\n\n<p>Finally I found the solution for Modal Bottomsheet with kotlin</p>\n\n<pre><code>  override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n\n\n    val dialog = super.onCreateDialog(savedInstanceState) as BottomSheetDialog\n\n    dialog.setOnShowListener { dialog -&gt;\n        val d = dialog as BottomSheetDialog\n\n        val bottomSheet = d.findViewById&lt;View&gt;(android.support.design.R.id.design_bottom_sheet) as FrameLayout?\n        bottomSheetBehavior = BottomSheetBehavior.from(bottomSheet!!)\n        bottomSheetBehavior.state = BottomSheetBehavior.STATE_EXPANDED\n    }\n\n    return dialog\n\n}\n</code></pre>\n\n<p>My Problem was that I tried to use my Coordinator Layout. But for Modal BottomSheet you have to use android.support.design.R.id.design_bottom_sheet</p>\n"}], "owner": {"reputation": 523, "user_id": 1035669, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3c4486dceea153a460f8880273010aa9?s=128&d=identicon&r=PG", "display_name": "martomstom", "link": "https://stackoverflow.com/users/1035669/martomstom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6315, "favorite_count": 1, "accepted_answer_id": 48399333, "answer_count": 3, "score": 4, "last_activity_date": 1574347637, "creation_date": 1513782777, "last_edit_date": 1571712746, "question_id": 47909119, "link": "https://stackoverflow.com/questions/47909119/bottomsheetcallback-from-modal-bottomsheetfragment", "title": "BottomSheetCallback from Modal BottomSheetFragment", "body": "<p>How to add BottomSheetBehavior if I use Modal BottomSheetFragment ?</p>\n\n<pre><code>var bottomSheetBehaviorCallback = \n    object : BottomSheetBehavior.BottomSheetCallback() {\n\n        override fun onSlide(bottomSheet: View, slideOffset: Float) {\n            Log.d(Constants.LOG_INFO, \"on slide\")\n        }\n\n        override fun onStateChanged(bottomSheet: View, newState: Int) {\n            Log.d(Constants.LOG_INFO, \"onStateChanged\")\n        }\n    }\n\nval detailView = StationDetailFragment.newInstance(selectedStationID, \"\")\ndetailView.show(fragmentManager, \"detailView\")\n</code></pre>\n\n<p>The view is not created at this point</p>\n\n<p>I changed my code and added override setupDialog . But I still don't get callback to work</p>\n\n<pre><code>override fun setupDialog(dialog: Dialog?, style: Int) {\n\n    val contentView = View.inflate(context, R.layout.fragment_station_detail, null)\n    dialog!!.setContentView(contentView)\n\n    val layoutParams = (contentView.parent as View).layoutParams as CoordinatorLayout.LayoutParams\n\n    val behavior = layoutParams.behavior\n\n    if (behavior != null &amp;&amp; behavior is BottomSheetBehavior&lt;*&gt;) {\n      behavior.setBottomSheetCallback(mBottomSheetBehaviorCallback)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-cloud-messaging"], "owner": {"reputation": 772, "user_id": 4968222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-qmiGUb-IyGQ/AAAAAAAAAAI/AAAAAAAACbE/bw99wODIdns/photo.jpg?sz=128", "display_name": "Thomas Klammer", "link": "https://stackoverflow.com/users/4968222/thomas-klammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1513781361, "creation_date": 1513781361, "question_id": 47908629, "link": "https://stackoverflow.com/questions/47908629/firebase-message-received-multiple-times", "title": "Firebase message received multiple times", "body": "<p>I'm using firebase cloudmessaging to grant or revoke users access to the app. \nThe revoke message resets the app via following command:</p>\n\n<pre><code>(appContext.getSystemService(ACTIVITY_SERVICE) as ActivityManager).clearApplicationUserData()\n</code></pre>\n\n<p>Restarting the app later firebase generates a new token and after some time I receive the same revokemessage again and the app resets again.\nIf I send the grant message it gets only sent once.</p>\n\n<p><code>clearApplicationUserData()</code> kills the app right after i receive the message. </p>\n\n<p>Could that cause the problem?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 2339, "user_id": 120599, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/21f83b8b8bea4a758ea590515d90fe6f?s=128&d=identicon&r=PG", "display_name": "Kevin Jones", "link": "https://stackoverflow.com/users/120599/kevin-jones"}, "edited": false, "score": 0, "creation_date": 1513844202, "post_id": 47911292, "comment_id": 82808787, "body": "Thanks, it makes sense now. The suspending functions (delay, join...) propogate the CancellationException, which I didn&#39;t realise. This makes sense as the &#39;parent&#39; should be aware that the &#39;children&#39; have been cancelled"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 2339, "user_id": 120599, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/21f83b8b8bea4a758ea590515d90fe6f?s=128&d=identicon&r=PG", "display_name": "Kevin Jones", "link": "https://stackoverflow.com/users/120599/kevin-jones"}, "edited": false, "score": 0, "creation_date": 1513884942, "post_id": 47911292, "comment_id": 82832156, "body": "Yes, exactly :-)"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1513790392, "creation_date": 1513790392, "answer_id": 47911292, "question_id": 47908590, "link": "https://stackoverflow.com/questions/47908590/how-should-cancelchildren-work-in-kotlin-coroutines/47911292#47911292", "title": "How Should cancelChildren work in Kotlin Coroutines?", "body": "<p>Your <code>delay(5000)</code> in the outer coroutine is cancellable and thus is affected by <code>outer.cancelChildren()</code>. It throws the <code>CancellationException</code> seen in the outer <code>try</code>. The <code>cancelChildren</code> function does not cancel the outer job, which can be made obvious by checking <code>outer.isCancelled</code> after the call.</p>\n\n<p>If the <code>delay</code> invocation is removed from the code, it prints the expected result. Note that coroutines wait for their children <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#parental-responsibilities\" rel=\"nofollow noreferrer\">anyway</a>, delaying is not necessary:</p>\n\n<blockquote>\n  <p>A parent coroutine always waits for completion of all its children. Parent does not have to explicitly track all the children it launches and it does not have to use Job.join to wait for them at the end.</p>\n</blockquote>\n"}], "owner": {"reputation": 2339, "user_id": 120599, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/21f83b8b8bea4a758ea590515d90fe6f?s=128&d=identicon&r=PG", "display_name": "Kevin Jones", "link": "https://stackoverflow.com/users/120599/kevin-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 1, "accepted_answer_id": 47911292, "answer_count": 1, "score": 2, "last_activity_date": 1513790392, "creation_date": 1513781220, "question_id": 47908590, "link": "https://stackoverflow.com/questions/47908590/how-should-cancelchildren-work-in-kotlin-coroutines", "title": "How Should cancelChildren work in Kotlin Coroutines?", "body": "<p>According to the docs cancelChildren should cancel a coroutine's children but leave the parent unaffected (\"the state of this job itself is not affected.\") However if I have code like </p>\n\n<pre><code>    val outer = launch {\n    try {\n        launch (coroutineContext) {\n            try {\n                // work here\n            } catch (ex: Exception) {\n                println(\"In inner catch\")\n            } finally {\n                println(\"In inner finally\")\n            }\n        }\n        delay(5000) // so the outer job is running when I cancel it\n    } catch (ex: CancellationException) {\n        println(\"In outer catch\")\n    } finally {\n        println(\"In outer finally\")\n    }\n}\n\ndelay(100) // give it  a chance to run\nouter.cancelChildren()\n</code></pre>\n\n<p>Then I see the following</p>\n\n<pre><code>In inner catch\nIn inner finally\nIn outer catch\nIn outer finally\n</code></pre>\n\n<p>Why is the 'outer' job getting cancelled?</p>\n\n<p>This is the exact same behaviour I get if I call outer.cancel (but that I expect)</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1513780849, "post_id": 47908148, "comment_id": 82784191, "body": "All of that works fine for me. Maybe an old Kotlin plugin version?"}], "answers": [{"comments": [{"owner": {"reputation": 6552, "user_id": 183133, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/318e718ec9296ec9ffab5824c5c4f668?s=128&d=identicon&r=PG", "display_name": "Rohan Prabhu", "link": "https://stackoverflow.com/users/183133/rohan-prabhu"}, "edited": false, "score": 0, "creation_date": 1513850330, "post_id": 47908472, "comment_id": 82812223, "body": "So this is really weird, but somehow the <code>Action { println(this) }</code> seems to work. I have no idea why the lambda is being treated as one with a receiever than a single parameter, but that seems to be the answer at least in the context of a gradle build. But I don&#39;t expect the compiler to behave differently for gradle scripts?"}], "tags": [], "owner": {"reputation": 111, "user_id": 6350515, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A82F7ueUUc4/AAAAAAAAAAI/AAAAAAAAAsE/TIPgbHJb-ag/photo.jpg?sz=128", "display_name": "Aran Moncusi Ramirez", "link": "https://stackoverflow.com/users/6350515/aran-moncusi-ramirez"}, "is_accepted": false, "score": 0, "last_activity_date": 1513780846, "creation_date": 1513780846, "answer_id": 47908472, "question_id": 47908148, "link": "https://stackoverflow.com/questions/47908148/kotlin-not-able-to-convert-gradles-action-class-to-a-lambda/47908472#47908472", "title": "Kotlin not able to convert gradle&#39;s Action class to a lambda", "body": "<p>You need reference the function with class name, like:</p>\n\n<pre><code>val x: Action&lt;String&gt; = Action { println(it) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "is_accepted": true, "score": 3, "last_activity_date": 1514099225, "creation_date": 1514099225, "answer_id": 47958736, "question_id": 47908148, "link": "https://stackoverflow.com/questions/47908148/kotlin-not-able-to-convert-gradles-action-class-to-a-lambda/47958736#47958736", "title": "Kotlin not able to convert gradle&#39;s Action class to a lambda", "body": "<p>This is because the <code>Action</code> class in gradle is annotated with <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/HasImplicitReceiver.html\" rel=\"nofollow noreferrer\"><code>HasImplicitReceiver</code></a>. From the documentation:</p>\n\n<blockquote>\n  <p>Marks a SAM interface as a target for lambda expressions / closures where the <strong>single parameter is passed as the implicit receiver</strong> of the invocation (<strong><code>this</code> in Kotlin</strong>, <code>delegate</code> in Groovy) as if the lambda expression was an <strong>extension method</strong> of the parameter type.</p>\n</blockquote>\n\n<p><sup>(emphasis mine)</sup></p>\n\n<p>So, the following compiles just fine:</p>\n\n<pre><code>val x = Action&lt;String&gt; {\n    println(\"&gt;&gt; ${this.trim()}\")\n}\n</code></pre>\n\n<p>You could even just write <code>${trim()}</code> and omit the <code>this</code> in front of it.</p>\n"}], "owner": {"reputation": 6552, "user_id": 183133, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/318e718ec9296ec9ffab5824c5c4f668?s=128&d=identicon&r=PG", "display_name": "Rohan Prabhu", "link": "https://stackoverflow.com/users/183133/rohan-prabhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 47958736, "answer_count": 2, "score": 2, "last_activity_date": 1537773908, "creation_date": 1513779848, "last_edit_date": 1537773908, "question_id": 47908148, "link": "https://stackoverflow.com/questions/47908148/kotlin-not-able-to-convert-gradles-action-class-to-a-lambda", "title": "Kotlin not able to convert gradle&#39;s Action class to a lambda", "body": "<p>So, while this is quite a kotlin-dsl for gradle specific issue, I think it overall applies to the kotlin language itself, so I am not going to use that tag.</p>\n\n<p>In the gradle API, the class <code>Action&lt;T&gt;</code> is defined as:</p>\n\n<pre><code>@HasImplicitReceiver\npublic interface Action&lt;T&gt; {\n    /**\n     * Performs this action against the given object.\n     *\n     * @param t The object to perform the action on.\n     */\n    void execute(T t);\n }\n</code></pre>\n\n<p>So ideally, this should work in kotlin (because it is a class with a SAM):</p>\n\n<pre><code>val x : Action&lt;String&gt; = {\n    println(\"&gt;&gt; ${it.trim(0)}\")\n    Unit\n}\n</code></pre>\n\n<p>But I get the following two errors:</p>\n\n<pre><code>Unresolved reference it\nExpected Action&lt;String&gt; but found () -&gt; Unit\n</code></pre>\n\n<p>Fwiw, even <code>Action&lt;String&gt; = { input: String -&gt; ... }</code> doesn't work.</p>\n\n<p>Now here's the really intriguing part. If I do the following in IntelliJ (which btw, works):</p>\n\n<pre><code>object : Action&lt;String&gt; {\n    override fun execute(t: String?) {\n        ...\n    }\n}\n</code></pre>\n\n<p>IntelliJ pops the suggestion <code>Convert to lambda</code>, which when I do, I get:</p>\n\n<pre><code>val x = Action&lt;String&gt; {\n}\n</code></pre>\n\n<p>which is better, but <code>it</code> is still unresolved. Specifying it now:</p>\n\n<pre><code>val x = Action&lt;String&gt; { input -&gt; ... }\n</code></pre>\n\n<p>gives the following errors <code>Could not infer type for input</code> and <code>Expected no parameters</code>. Can someone help me with what is going on?</p>\n"}, {"tags": ["android", "keyboard", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4656, "user_id": 7138492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8KSN4.png?s=128&g=1", "display_name": "Sergei Emelianov", "link": "https://stackoverflow.com/users/7138492/sergei-emelianov"}, "is_accepted": false, "score": 4, "last_activity_date": 1513777575, "creation_date": 1513777575, "answer_id": 47907489, "question_id": 47907441, "link": "https://stackoverflow.com/questions/47907441/close-hide-softinputkeyboard-in-kotlin/47907489#47907489", "title": "Close/Hide SoftinputKeyboard in kotlin", "body": "<p>Call this function to hide the system keyboard:</p>\n\n<pre><code>fun View.hideKeyboard() {\n    val imm = context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n    imm.hideSoftInputFromWindow(windowToken, 0)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 3580057, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002071017658/picture?type=large", "display_name": "user3580057", "link": "https://stackoverflow.com/users/3580057/user3580057"}, "is_accepted": false, "score": 0, "last_activity_date": 1513779189, "creation_date": 1513779189, "answer_id": 47907958, "question_id": 47907441, "link": "https://stackoverflow.com/questions/47907441/close-hide-softinputkeyboard-in-kotlin/47907958#47907958", "title": "Close/Hide SoftinputKeyboard in kotlin", "body": "<pre><code>fun hideSoftKeyboard(mActivity: Activity) {\n        // Check if no view has focus:\n        val view = mActivity.currentFocus\n        if (view != null) {\n            val inputManager = mActivity.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n            inputManager.hideSoftInputFromWindow(view.windowToken, 0)\n        }\n    }\n\n    fun showKeyboard(yourEditText: EditText, activity: Activity) {\n        try {\n            val input = activity\n                    .getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager\n            input.showSoftInput(yourEditText, InputMethodManager.SHOW_IMPLICIT)\n        } catch (e: Exception) {\n            e.printStackTrace()\n\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 504, "user_id": 7852129, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f9d0c267ee6fdb333ef05fd137594c06?s=128&d=identicon&r=PG&f=1", "display_name": "Rushabh Shah", "link": "https://stackoverflow.com/users/7852129/rushabh-shah"}, "is_accepted": true, "score": 2, "last_activity_date": 1513842123, "creation_date": 1513842123, "answer_id": 47920154, "question_id": 47907441, "link": "https://stackoverflow.com/questions/47907441/close-hide-softinputkeyboard-in-kotlin/47920154#47920154", "title": "Close/Hide SoftinputKeyboard in kotlin", "body": "<p>I slightly modify response of @Serj Ardovic </p>\n\n<pre><code>private fun hideKeyboard(view: View) {\n    view?.apply {\n        val imm = getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n        imm.hideSoftInputFromWindow(view.windowToken, 0)\n    }\n}\n</code></pre>\n\n<p>as its really works for my requirement</p>\n"}, {"tags": [], "owner": {"reputation": 9467, "user_id": 4631935, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2Jepc.jpg?s=128&g=1", "display_name": "RediOne1", "link": "https://stackoverflow.com/users/4631935/redione1"}, "is_accepted": false, "score": 1, "last_activity_date": 1520592716, "creation_date": 1520592716, "answer_id": 49192095, "question_id": 47907441, "link": "https://stackoverflow.com/questions/47907441/close-hide-softinputkeyboard-in-kotlin/49192095#49192095", "title": "Close/Hide SoftinputKeyboard in kotlin", "body": "<p>You can extend all <code>EditText</code> with new function, which will be hide soft keyboard always when focus for <code>EditText</code> is lost. If you want hide keyboard, when focus for some <code>EditText</code> is lost, just use this line of code for this <code>EditText</code></p>\n\n<pre><code>editText.hideSoftKeyboardOnFocusLostEnabled(true)\n</code></pre>\n\n<p>In extension for <code>EditText</code> we just add or remove our own <code>OnFocusLostListener</code></p>\n\n<pre><code>fun EditText.hideSoftKeyboardOnFocusLostEnabled(enabled: Boolean) {\n    val listener = if (enabled)\n        OnFocusLostListener()\n    else\n        null\n    onFocusChangeListener = listener\n}\n</code></pre>\n\n<p>Here is implementation of <code>OnFocusLostListener</code> which hides keyboard if focus for attached <code>View</code> is lost.</p>\n\n<pre><code>class OnFocusLostListener: View.OnFocusChangeListener {\n    override fun onFocusChange(v: View, hasFocus: Boolean) {\n        if (!hasFocus) {\n            val imm = v.context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n            imm.hideSoftInputFromWindow(v.windowToken, 0)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 504, "user_id": 7852129, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f9d0c267ee6fdb333ef05fd137594c06?s=128&d=identicon&r=PG&f=1", "display_name": "Rushabh Shah", "link": "https://stackoverflow.com/users/7852129/rushabh-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4578, "favorite_count": 1, "closed_date": 1594940109, "accepted_answer_id": 47920154, "answer_count": 4, "score": 4, "last_activity_date": 1520592716, "creation_date": 1513777409, "question_id": 47907441, "link": "https://stackoverflow.com/questions/47907441/close-hide-softinputkeyboard-in-kotlin", "closed_reason": "Duplicate", "title": "Close/Hide SoftinputKeyboard in kotlin", "body": "<p>I have one button and edittext. I want to close my soft keyboard when user complete input in edittext and press button. </p>\n\n<p>Or any guide or reference link for it.</p>\n"}, {"tags": ["android", "kotlin", "twilio", "ngrok"], "comments": [{"owner": {"reputation": 3559, "user_id": 3111877, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aJpSK.jpg?s=128&g=1", "display_name": "D_Alpha", "link": "https://stackoverflow.com/users/3111877/d-alpha"}, "edited": false, "score": 0, "creation_date": 1513781668, "post_id": 47907116, "comment_id": 82784795, "body": "where are you calling the sendSMS() function?"}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 7866324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a40uV.jpg?s=128&g=1", "display_name": "NaSt", "link": "https://stackoverflow.com/users/7866324/nast"}, "edited": false, "score": 0, "creation_date": 1513781487, "post_id": 47908239, "comment_id": 82784670, "body": "Thank you! I&#39;m trying. I have deleted local functions and have updated the code in the post. But now the words <code>post</code>, <code>catch</code> and <code>e</code> is red and have the issue: &quot;Unresolved reference&quot;. What does it mean?"}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "reply_to_user": {"reputation": 301, "user_id": 7866324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a40uV.jpg?s=128&g=1", "display_name": "NaSt", "link": "https://stackoverflow.com/users/7866324/nast"}, "edited": false, "score": 0, "creation_date": 1513841261, "post_id": 47908239, "comment_id": 82807378, "body": "Well, those are compiler errors. Re-check that your code is correct and the functions you&#39;re calling exist."}, {"owner": {"reputation": 301, "user_id": 7866324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a40uV.jpg?s=128&g=1", "display_name": "NaSt", "link": "https://stackoverflow.com/users/7866324/nast"}, "edited": false, "score": 0, "creation_date": 1513861214, "post_id": 47908239, "comment_id": 82818688, "body": "Well, I have cleaned my code. I have only one compilation error now: <code>post(mContext.getString(&quot;https:&#47;&#47;54c5ffb1.ngrok.io&#47;sms&quot;)</code> I can see that the link is underlined with comment: &quot;Type mismatch: inferred type is String but Int was expected&quot;."}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "reply_to_user": {"reputation": 301, "user_id": 7866324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a40uV.jpg?s=128&g=1", "display_name": "NaSt", "link": "https://stackoverflow.com/users/7866324/nast"}, "edited": false, "score": 0, "creation_date": 1513862868, "post_id": 47908239, "comment_id": 82819724, "body": "You don&#39;t need the <code>mContext.getString</code> part, just pass the URL to the <code>post()</code> as is"}, {"owner": {"reputation": 301, "user_id": 7866324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a40uV.jpg?s=128&g=1", "display_name": "NaSt", "link": "https://stackoverflow.com/users/7866324/nast"}, "edited": false, "score": 0, "creation_date": 1513864886, "post_id": 47908239, "comment_id": 82820934, "body": "Now I use <code>post((&quot;https:&#47;&#47;2b722554.ngrok.io&#47;sms&quot;)</code>. This error has disappeared but now my application doesn&#39;t run on the emulator or real device. I have put all my new code in the post, can you please take a look at it?"}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "reply_to_user": {"reputation": 301, "user_id": 7866324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a40uV.jpg?s=128&g=1", "display_name": "NaSt", "link": "https://stackoverflow.com/users/7866324/nast"}, "edited": false, "score": 0, "creation_date": 1513867980, "post_id": 47908239, "comment_id": 82823102, "body": "&quot;my application doesn&#39;t run on the emulator or real device&quot; is not very descriptive, are you seeing any errors in the logcat? Does the build succeed at all?"}, {"owner": {"reputation": 301, "user_id": 7866324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a40uV.jpg?s=128&g=1", "display_name": "NaSt", "link": "https://stackoverflow.com/users/7866324/nast"}, "edited": false, "score": 0, "creation_date": 1513869644, "post_id": 47908239, "comment_id": 82824136, "body": "A don&#39;t see any errors, I can see that the app starting and crashing at the same time. The screen of my phone just flashing and show me the desktop. But the build in the Android Studio is successful."}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "reply_to_user": {"reputation": 301, "user_id": 7866324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a40uV.jpg?s=128&g=1", "display_name": "NaSt", "link": "https://stackoverflow.com/users/7866324/nast"}, "edited": false, "score": 0, "creation_date": 1513873850, "post_id": 47908239, "comment_id": 82826639, "body": "The fact that the app is crashing suggests that there should be error output in the logcat, this should give you a clue of what&#39;s wrong. Overall, it seems like you don&#39;t have a lot of experience in Android development, and I&#39;d suggest you work through a couple of tutorials and maybe take a beginner&#39;s course on Android before trying to develop your own apps."}], "tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": false, "score": 0, "last_activity_date": 1513780150, "creation_date": 1513780150, "answer_id": 47908239, "question_id": 47907116, "link": "https://stackoverflow.com/questions/47907116/sms-sending-with-twilio-and-android/47908239#47908239", "title": "SMS sending with Twilio and Android", "body": "<p>Looking at the click listener you add to the <code>button</code>:</p>\n\n<pre><code>buttonSend.setOnClickListener {\n  fun onClick(v: View) {\n    ...\n  }\n}\n</code></pre>\n\n<p>this will only create a local function called <code>onClick</code> but it won't execute any code inside the click listener. To get this to work, you need to remove all local function declarations and execute the request right in the click listener body:</p>\n\n<pre><code>buttonSend.setOnClickListener {\n  post(getString(\"https://07eca790.ngrok.io/sms\") ...\n}\n</code></pre>\n\n<p>Here's a reference: <a href=\"https://kotlinlang.org/docs/reference/functions.html#local-functions\" rel=\"nofollow noreferrer\">Local Functions</a></p>\n"}], "owner": {"reputation": 301, "user_id": 7866324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a40uV.jpg?s=128&g=1", "display_name": "NaSt", "link": "https://stackoverflow.com/users/7866324/nast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513864701, "creation_date": 1513776413, "last_edit_date": 1513864701, "question_id": 47907116, "link": "https://stackoverflow.com/questions/47907116/sms-sending-with-twilio-and-android", "title": "SMS sending with Twilio and Android", "body": "<p>I have the Android project. I use Gradle and Kotlin.<br>\nI need to realize the SMS sending mechanism with Twilio.</p>\n\n<p>I used this manual: <a href=\"https://www.twilio.com/blog/2016/05/how-to-send-an-sms-from-android.html\" rel=\"nofollow noreferrer\">How to Send an SMS from Android</a></p>\n\n<p>So, I have created the Backend.<br>\nHere is the <code>build.gradle</code> for Backend:</p>\n\n<pre><code>group 'com.my.app'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    repositories { jcenter() }\n    dependencies {\n        classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.3'\n    }\n}\n\napply plugin: 'java'\napply plugin: 'application'\napply plugin: 'com.github.johnrengelman.shadow'\n\nsourceCompatibility = 1.8\nmainClassName = 'SMSBackend'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation group: 'junit', name: 'junit', version: '4.12'\n    implementation 'com.sparkjava:spark-core:2.6.0'\n    implementation group: 'com.twilio.sdk', name: 'twilio', version: '7.9.0'\n    implementation 'org.slf4j:slf4j-simple:1.6.1'\n}\n</code></pre>\n\n<p>And here is the main activity - <code>SMSBackend.java</code></p>\n\n<pre><code>import com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.api.v2010.account.Message;\nimport com.twilio.rest.api.v2010.account.MessageCreator;\nimport com.twilio.type.PhoneNumber;\nimport static spark.Spark.*;\n\nimport static spark.Spark.get;\nimport static spark.Spark.post;\n\npublic class SMSBackend {\n    public static void main(String[] args) {\n        get(\"/\", (req, res) -&gt; \"Hello, World!\");\n\n        TwilioRestClient client = new TwilioRestClient.Builder(System.getenv(\"AC749....d462247b104a\"), System.getenv(\"096e4788......ed95cc36c\")).build();\n\n    post(\"/sms\", (req, res) -&gt; {\n        String body = req.queryParams(\"Body\");\n        String to = req.queryParams(\"To\");\n        String from = \"+15037381694\";\n\n        Message message = new MessageCreator(\n                new PhoneNumber(to),\n                new PhoneNumber(from),\n                body).create(client);\n\n        return message.getSid();\n    });\n    }\n}\n</code></pre>\n\n<p>After that, I use <a href=\"https://ngrok.com/\" rel=\"nofollow noreferrer\">ngrok</a> in order this app becomes available externally.</p>\n\n<p>I type the command:</p>\n\n<pre><code>ngrok http 4567\n</code></pre>\n\n<p>And have an output as the link below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/m9pUy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m9pUy.png\" alt=\"enter image description here\"></a></p>\n\n<p>And now I go to my Android application. I need to enter my telephone number, click on the button and after that receive the SMS.<br>\nFor this, I put the link from <code>ngrok</code> into my activity.</p>\n\n<p>My <code>MyActivity.kt</code></p>\n\n<pre><code>package com.my.app\n\nimport android.content.Context\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.Menu\nimport android.view.View\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.TextView\nimport android.widget.Toast\n\nimport java.io.IOException;\nimport okhttp3.Call;\nimport okhttp3.Callback;\nimport okhttp3.Response;\n\nclass MyActivity : AppCompatActivity() {\n\nprivate val mClient = OkHttpClient()\nprivate val mContext = getApplicationContext()\nprivate val message = resources.getString(R.string.textSMS)\nprivate val userPhoneNumber = findViewById(R.id.editText) as EditText\nprivate val buttonSend = findViewById(R.id.button) as Button\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_my)\n\n        buttonSend.setOnClickListener {\n            post((\"https://2b722554.ngrok.io/sms\"), object : Callback {\n                        override fun onFailure(call: Call, e: IOException) {\n                            e.printStackTrace()\n                        }\n\n                        @Throws(IOException::class)\n                        override fun onResponse(call: Call, response: Response) {\n                            runOnUiThread(object : Runnable {\n                                public override fun run() {\n                                    userPhoneNumber.setText(\"\")\n                                    message.setText(\"\")\n                                    Toast.makeText(applicationContext, \"SMS Sent!\", Toast.LENGTH_SHORT).show()\n                                }\n                            })\n                        }\n\n            })\n    }\n\n}\n\n@Throws(IOException::class)\n    internal fun post(url: String, callback: Callback): Call {\n        val formBody = FormBody.Builder()\n                .add(\"To\", userPhoneNumber.getText().toString())\n                .add(\"Body\", message.getText().toString())\n                .build()\n             val request = Request.Builder()\n                .url(url)\n                .post(formBody)\n                .build()\n    val response = mClient.newCall(request)\n    response.enqueue(callback)\n    return response\n}\n</code></pre>\n\n<p>So, when I run my application on the emulator or real device I can enter the number but the button is not working.<br>\nBut I can send and receive the SMS from Twilio site, so, my Twilio number is Ok.</p>\n\n<p>What am I missing? </p>\n\n<p><strong>UPD</strong>. I have changed all my kotline code. Now my application doesn't run on the emulator or real device</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1513776697, "post_id": 47907006, "comment_id": 82781414, "body": "You don&#39;t need to go through the dance. <code>println(1513741500f)</code> prints the same value. That&#39;s not specific to Kotlin. Paste it here and see exactly what happens: <a href=\"https://www.h-schmidt.net/FloatConverter/IEEE754.html\" rel=\"nofollow noreferrer\">h-schmidt.net/FloatConverter/IEEE754.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 126, "user_id": 4962800, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23c9bc27c262b83b2d06a6ba6484f1b8?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/4962800/manish"}, "edited": false, "score": 0, "creation_date": 1513777729, "post_id": 47907308, "comment_id": 82782092, "body": "Yeah I understand it will work with double. But I am using a library which limits me to using Float only."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 126, "user_id": 4962800, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23c9bc27c262b83b2d06a6ba6484f1b8?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/4962800/manish"}, "edited": false, "score": 0, "creation_date": 1513780780, "post_id": 47907308, "comment_id": 82784140, "body": "@Manish, Perhaps there&#39;s a way to scale down the values you give to the library. If it takes a float and values this large are required, then it might be worth contacting the library author(s) about it."}, {"owner": {"reputation": 126, "user_id": 4962800, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23c9bc27c262b83b2d06a6ba6484f1b8?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/4962800/manish"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1513781344, "post_id": 47907308, "comment_id": 82784559, "body": "@Chris, Agreed.. There is bound to be a loss of precision when fitting 64 bits into 32 - no way I can get around that. Your suggestion does make sense and I will go that way - scaling them down. Additionally I will also need to  keep a reference to the original value (these are actually timestamps and will need to be converted back to the Date ). Will also have to figure out how to use this solution with the library now. Thanks mate !"}, {"owner": {"reputation": 1329, "user_id": 1412887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qEXsH.png?s=128&g=1", "display_name": "Pnemonic", "link": "https://stackoverflow.com/users/1412887/pnemonic"}, "reply_to_user": {"reputation": 126, "user_id": 4962800, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23c9bc27c262b83b2d06a6ba6484f1b8?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/4962800/manish"}, "edited": false, "score": 0, "creation_date": 1513784831, "post_id": 47907308, "comment_id": 82786924, "body": "@Manish why not just use the original int/long timestamp instead of floating it?"}, {"owner": {"reputation": 126, "user_id": 4962800, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23c9bc27c262b83b2d06a6ba6484f1b8?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/4962800/manish"}, "edited": false, "score": 0, "creation_date": 1513786101, "post_id": 47907308, "comment_id": 82787760, "body": "@Pnemonic - I am using a 3rd party library (MPAndroidChart) which expects values in Floats.. My service returns the values in Long. The issue has been raised with library author by other devs already."}], "tags": [], "owner": {"reputation": 1329, "user_id": 1412887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qEXsH.png?s=128&g=1", "display_name": "Pnemonic", "link": "https://stackoverflow.com/users/1412887/pnemonic"}, "is_accepted": false, "score": 0, "last_activity_date": 1513776989, "creation_date": 1513776989, "answer_id": 47907308, "question_id": 47907006, "link": "https://stackoverflow.com/questions/47907006/kotlin-long-to-float-difference/47907308#47907308", "title": "Kotlin Long to Float difference", "body": "<pre><code>l: Int = 1513741500\nf: Float = 1.51374144E9\nd: Double = 1.5137415E9\n</code></pre>\n\n<p>So if you plan to use large numbers, rather use Double than Float.</p>\n"}], "owner": {"reputation": 126, "user_id": 4962800, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23c9bc27c262b83b2d06a6ba6484f1b8?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/4962800/manish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1822, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1557643405, "creation_date": 1513776047, "question_id": 47907006, "link": "https://stackoverflow.com/questions/47907006/kotlin-long-to-float-difference", "title": "Kotlin Long to Float difference", "body": "<p>I am trying to convert Long value to Float in Kotlin. However I am seeing it is changing the value by a small fraction.\nHere's a simple test run:</p>\n\n<pre><code>import java.text.DecimalFormat\n\nfun main(args: Array&lt;String&gt;) {\n    val l = 1513741500\n    val f:Float = l.toFloat()\n    val df = DecimalFormat(\"0\")\n    println(df.format(f))\n}\n\nOutput:\n1513741440\n</code></pre>\n\n<p>As can be seen there is a slight difference between the values. How can I ensure the same value is returned on conversion?</p>\n"}, {"tags": ["type-conversion", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 7, "last_activity_date": 1513774651, "last_edit_date": 1513774651, "creation_date": 1513774279, "answer_id": 47906504, "question_id": 47906411, "link": "https://stackoverflow.com/questions/47906411/binary-convert-int-to-float-in-kotlin/47906504#47906504", "title": "Binary convert Int to Float in Kotlin", "body": "<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Float.html#intBitsToFloat-int-\" rel=\"noreferrer\"><code>java.lang.Float.intBitsToFloat</code></a>.  Note that this assumes a particular (though conventional) bit layout - see the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Float.html#floatToIntBits-float-\" rel=\"noreferrer\">docs for the inverse (<code>floatToIntBits</code>)</a> for details.</p>\n\n<p>Example:</p>\n\n<pre><code>import java.lang.Float.intBitsToFloat\n\n// ...\n\nval x = 0x4D8EF3C2\nprintln(intBitsToFloat(x))  // 2.99792448E8\n</code></pre>\n\n<p><sup><a href=\"https://ideone.com/KH2u7C\" rel=\"noreferrer\">Live demo.</a></sup></p>\n"}, {"comments": [{"owner": {"reputation": 2177, "user_id": 6247186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ockk6.jpg?s=128&g=1", "display_name": "Hamed Jaliliani", "link": "https://stackoverflow.com/users/6247186/hamed-jaliliani"}, "reply_to_user": {"reputation": 2498, "user_id": 8082162, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2a70924987c60279e283ad820c1bc4ea?s=128&d=identicon&r=PG", "display_name": "aschoerk", "link": "https://stackoverflow.com/users/8082162/aschoerk"}, "edited": false, "score": 0, "creation_date": 1547989959, "post_id": 54276027, "comment_id": 95375485, "body": "Yeah I read it, but I looked for converting the Int to Float &amp; here was the only post! Nevertheless  it doesn\u2019t related to the answer you need, so It might help the others that need just simple convert."}], "tags": [], "owner": {"reputation": 2177, "user_id": 6247186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ockk6.jpg?s=128&g=1", "display_name": "Hamed Jaliliani", "link": "https://stackoverflow.com/users/6247186/hamed-jaliliani"}, "is_accepted": false, "score": 0, "last_activity_date": 1547990131, "last_edit_date": 1547990131, "creation_date": 1547984139, "answer_id": 54276027, "question_id": 47906411, "link": "https://stackoverflow.com/questions/47906411/binary-convert-int-to-float-in-kotlin/54276027#54276027", "title": "Binary convert Int to Float in Kotlin", "body": "<p>It\u2018s not the answer of  this question , but might help the others that need just simple convert.\nIn Kotlin simply convert Int to Float :</p>\n\n<p>1- Add F or f to the end of Integer number: </p>\n\n<pre><code>val result = 123F\n</code></pre>\n\n<p>or </p>\n\n<p>2- Use toFloat() : </p>\n\n<pre><code>var result =  ( intWidth * intHeight ).toFloat()\n</code></pre>\n"}], "owner": {"reputation": 2498, "user_id": 8082162, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2a70924987c60279e283ad820c1bc4ea?s=128&d=identicon&r=PG", "display_name": "aschoerk", "link": "https://stackoverflow.com/users/8082162/aschoerk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3359, "favorite_count": 0, "accepted_answer_id": 47906504, "answer_count": 2, "score": 5, "last_activity_date": 1547990131, "creation_date": 1513773974, "question_id": 47906411, "link": "https://stackoverflow.com/questions/47906411/binary-convert-int-to-float-in-kotlin", "title": "Binary convert Int to Float in Kotlin", "body": "<p>I want to handle a value that has been read from file as 4 byte integer as if it was a 4 byte IEEE Float and convert it into such a variable. \nAre there any experiences, how this can be done in Kotlin in an easy and elegant way.</p>\n"}, {"tags": ["java", "android", "kotlin", "bytebuffer", "short"], "answers": [{"comments": [{"owner": {"reputation": 75887, "user_id": 14731, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ffeccc0bf6020a4c7cfb2f014e02de35?s=128&d=identicon&r=PG", "display_name": "Gili", "link": "https://stackoverflow.com/users/14731/gili"}, "reply_to_user": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "edited": false, "score": 0, "creation_date": 1513773316, "post_id": 47906042, "comment_id": 82779177, "body": "@Sergey What is the value of <code>pcm.size * 2</code>? What is the value of <code>byteBuf.limit()</code>? What is the type of <code>pcm[i]</code>?"}, {"owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "edited": false, "score": 0, "creation_date": 1513773643, "post_id": 47906042, "comment_id": 82779378, "body": "type is short[] -- array , so when convert array short to array byte,  size of byte[] will be size*2"}, {"owner": {"reputation": 75887, "user_id": 14731, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ffeccc0bf6020a4c7cfb2f014e02de35?s=128&d=identicon&r=PG", "display_name": "Gili", "link": "https://stackoverflow.com/users/14731/gili"}, "reply_to_user": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "edited": false, "score": 0, "creation_date": 1513773970, "post_id": 47906042, "comment_id": 82779593, "body": "@Sergey Take a single <code>short</code>. Run it through <code>putShort()</code> versus <code>put(byte[])</code>. Tell us the input value, and the output value you get in each <code>array()</code>."}, {"owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "edited": false, "score": 0, "creation_date": 1513774119, "post_id": 47906042, "comment_id": 82779670, "body": "wiil do it later, now there is no time. need to work, sorry))"}], "tags": [], "owner": {"reputation": 75887, "user_id": 14731, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ffeccc0bf6020a4c7cfb2f014e02de35?s=128&d=identicon&r=PG", "display_name": "Gili", "link": "https://stackoverflow.com/users/14731/gili"}, "is_accepted": false, "score": 0, "last_activity_date": 1513772709, "creation_date": 1513772709, "answer_id": 47906042, "question_id": 47905989, "link": "https://stackoverflow.com/questions/47905989/why-method-for-bytebuffer-putshortvalue-does-not-working-correctly-in-my-case/47906042#47906042", "title": "Why method for ByteBuffer putShort(value) does not working correctly in my case?", "body": "<p><code>byteBuf.array().size</code> will return the size of the buffer (<code>pcm.size * 2</code>) regardless of whether that many bytes were written into the buffer. You probably want <code>byteBuf.limit()</code> instead.</p>\n"}], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 408, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1513773760, "creation_date": 1513772523, "last_edit_date": 1513773760, "question_id": 47905989, "link": "https://stackoverflow.com/questions/47905989/why-method-for-bytebuffer-putshortvalue-does-not-working-correctly-in-my-case", "title": "Why method for ByteBuffer putShort(value) does not working correctly in my case?", "body": "<p>My task is convert short[] array to byte[] array, because need send bytes via socket. This is bytes for AudioTrack (Android)\nFor converting use this <a href=\"https://stackoverflow.com/questions/2188660/convert-short-to-byte-in-java/47905328?noredirect=1#comment82777398_47905328\">post</a>, specifically <a href=\"https://stackoverflow.com/a/2188693/6352712\">this</a> and <a href=\"https://stackoverflow.com/a/6472927/6352712\">this</a>\nThis method gives only white noise, when try to convert short to byte array:</p>\n\n<pre><code> val sampleBuffer = decoder.decodeFrame(frameHeader, bitstream) as SampleBuffer\n val pcm = sampleBuffer.buffer //pcm is short[] array \n\nbyteBuf = ByteBuffer.allocate(pcm.size * 2) // because 1 short = 2 bytes\n\nwhile (pcm.size &gt; i) {\n   byteBuf.putShort(pcm[i]) \n   i++ \n}\n\nauddioTrack.write(byteBuf.array(), 0, byteBuf.limit());\n</code></pre>\n\n<p>But this convert works fine:</p>\n\n<pre><code>var i = 0\n    val byteBuf = ByteBuffer.allocate(pcm.size * 2)\n    val buff =  ByteBuffer.allocate(2)\n\n    //pcm size equals 2304\n    while (pcm.size &gt; i) {\n       // byteBuf.putShort(pcm[i])\n      byteBuf.put(byteArrayOf((pcm[i].toInt() and 0x00FF).toByte(), ((pcm[i].toInt() and 0xFF00) shr (8)).toByte()))                       \n     i++\n    }\n\nauddioTrack.write(byteBuf.array(), 0, byteBuf.limit());\n</code></pre>\n\n<p>Why has it happened?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1513772471, "post_id": 47905890, "comment_id": 82778596, "body": "You are setting it via a menu. Hence, you are getting an icon. What you will have to do it use include <code>Toolbar</code> in layout.xml and add a <code>SearchView</code>inside  <code>Toolbar</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6008330"}, "reply_to_user": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1513772751, "post_id": 47905890, "comment_id": 82778784, "body": "How can I do this?"}, {"owner": {"reputation": 880, "user_id": 6559031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RJppD.jpg?s=128&g=1", "display_name": "Devil10", "link": "https://stackoverflow.com/users/6559031/devil10"}, "edited": false, "score": 0, "creation_date": 1513773223, "post_id": 47905890, "comment_id": 82779104, "body": "have you tried this <a href=\"https://stackoverflow.com/a/24123262/6559031\">solution</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "is_accepted": true, "score": 0, "last_activity_date": 1513773186, "creation_date": 1513773186, "answer_id": 47906176, "question_id": 47905890, "link": "https://stackoverflow.com/questions/47905890/searchview-always-expanded-in-the-toolbar/47906176#47906176", "title": "SearchView always expanded, in the toolbar?", "body": "<p>This how the structure of your layout.xml will look. The you can apply whatever property you want to the layouts and views.</p>\n\n<pre><code>&lt;LinerLayout&gt;\n    &lt;Toolbar&gt;\n        &lt;SearchView/&gt;\n    &lt;/Toolbar&gt;\n&lt;/LinerLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 945, "user_id": 3717124, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/IAf8g.jpg?s=128&g=1", "display_name": "Anbarasu Chinna", "link": "https://stackoverflow.com/users/3717124/anbarasu-chinna"}, "is_accepted": false, "score": 0, "last_activity_date": 1513773927, "last_edit_date": 1513773927, "creation_date": 1513773611, "answer_id": 47906289, "question_id": 47905890, "link": "https://stackoverflow.com/questions/47905890/searchview-always-expanded-in-the-toolbar/47906289#47906289", "title": "SearchView always expanded, in the toolbar?", "body": "<p>Update your menu xml as follows</p>\n\n<pre><code>  app:showAsAction=\"always\"\n  app:iconifiedByDefault=\"true\"\n  android:iconifiedByDefault=\"true\"\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6008330"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1369, "favorite_count": 0, "accepted_answer_id": 47906176, "answer_count": 2, "score": 0, "last_activity_date": 1513773927, "creation_date": 1513772196, "last_edit_date": 1513772695, "question_id": 47905890, "link": "https://stackoverflow.com/questions/47905890/searchview-always-expanded-in-the-toolbar", "title": "SearchView always expanded, in the toolbar?", "body": "<p>I tried several solutions here in stackoverflow, but none worked for me.</p>\n\n<p>I have the icon in the toolbar and it expands when clicked and opens the activity to be done the search.\nCodes below:</p>\n\n<p>XML Menu:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;item\n        android:id=\"@+id/item_search\"\n        android:orderInCategory=\"200\"\n        android:title=\"@string/search\"\n        android:icon=\"@drawable/ic_search_24dp\"\n        app:actionViewClass=\"android.support.v7.widget.SearchView\"\n        app:showAsAction=\"ifRoom|collapseActionView\"\n        android:iconifiedByDefault=\"false\" /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>Activity Code:</p>\n\n<pre><code>class HomeActivity : LoggedActivity&lt;ViewHomeBinding, HomeViewModel&gt;(), HomeView {\n\n    // ATTRIBUTES\n\n    private var pagerAdapter: HomePagerAdapter? = null\n\n    // BASE METHODS\n\n    override fun onInject(component: LoggedActivityComponent) = component.inject(this)\n\n    override val contentView = R.layout.view_home\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        menuInflater.inflate(R.menu.menu_home, menu)\n\n        return super.onCreateOptionsMenu(menu)\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean = when (item.itemId) {\n        R.id.item_search -&gt; {\n            startActivity(Intent(this, SearchActivity::class.java))\n            true\n        }\n        else -&gt; super.onOptionsItemSelected(item)\n    }\n</code></pre>\n\n<p>I wish it would always be expanded.\nAnd of the white color, since it expands green, is it possible?\nThank you</p>\n\n<blockquote>\n  <p>I tried this in XML; android: iconifiedByDefault = \"false\" app:\n  iconifiedByDefault = \"false\"</p>\n</blockquote>\n\n<p>EDIT:</p>\n\n<p>Toobar XML in HomeActivity</p>\n\n<p>\n</p>\n\n<pre><code>&lt;data&gt;\n    &lt;variable\n        name=\"viewModel\"\n        type=\"com.plugapps.zuk.viewmodel.HomeViewModel\"/&gt;\n&lt;/data&gt;\n\n&lt;android.support.design.widget.CoordinatorLayout\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/coordinator\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:id=\"@+id/app_bar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\"\n            app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"&gt;\n\n        &lt;/android.support.v7.widget.Toolbar&gt;\n\n        &lt;android.support.design.widget.TabLayout\n            android:id=\"@+id/tab_layout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            app:tabMode=\"fixed\"\n            app:tabGravity=\"fill\"/&gt;\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;android.support.v4.view.ViewPager\n        android:id=\"@+id/view_pager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"/&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["java", "amazon-web-services", "kotlin", "aws-lambda", "amazon-sqs"], "comments": [{"owner": {"reputation": 329, "user_id": 3389781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WibcS.jpg?s=128&g=1", "display_name": "MiloBellano", "link": "https://stackoverflow.com/users/3389781/milobellano"}, "edited": false, "score": 2, "creation_date": 1513768342, "post_id": 47904490, "comment_id": 82776051, "body": "Maybe you already checked, but what is your timeout max limit? I had similar issue with SES and I had to set it like 5 minutes to avoid time out"}, {"owner": {"reputation": 676, "user_id": 2146559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lCp0g.jpg?s=128&g=1", "display_name": "Deividi Silva", "link": "https://stackoverflow.com/users/2146559/deividi-silva"}, "edited": false, "score": 0, "creation_date": 1513772574, "post_id": 47904490, "comment_id": 82778663, "body": "Have you tried setting your timeout for more time? Maybe the same 2 minutes as the dequeue to see what happens."}, {"owner": {"reputation": 1325, "user_id": 1285611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5938707880c06c25f0d789961f0aebeb?s=128&d=identicon&r=PG", "display_name": "abierto", "link": "https://stackoverflow.com/users/1285611/abierto"}, "edited": false, "score": 0, "creation_date": 1513776516, "post_id": 47904490, "comment_id": 82781296, "body": "It was that! I set timeout to 2 mins, then memory to 1024, and everything worked fine!"}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1513821829, "post_id": 47904490, "comment_id": 82801846, "body": "The CPU cycles available to your containers are directly proportional to the amount of memory you allocate to the functions -- each container gets allocated a proportional slice of an <i>m</i>-family EC2 instance... so a container can warm up faster with more memory available <i>because</i> that setting also makes more CPU available, see &quot;compute resources&quot; mentioned at   <a href=\"https://aws.amazon.com/lambda/faqs/#\" rel=\"nofollow noreferrer\">aws.amazon.com/lambda/faqs/#</a>. Note also that you get a lot more work done in less time in Lambda with Node.js than with Java."}], "answers": [{"tags": [], "owner": {"reputation": 4161, "user_id": 4388776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nj4WL.jpg?s=128&g=1", "display_name": "Keet Sugathadasa", "link": "https://stackoverflow.com/users/4388776/keet-sugathadasa"}, "is_accepted": false, "score": 0, "last_activity_date": 1525112997, "creation_date": 1525112997, "answer_id": 50106200, "question_id": 47904490, "link": "https://stackoverflow.com/questions/47904490/cant-use-sqs-from-lambda/50106200#50106200", "title": "Can&#39;t use SQS from Lambda", "body": "<p>The answer to this question has been discussed in the question's comments section. But I would like to emphasize on how to troubleshoot a problem like this if faced, and so that this question will get an answer and that it may also help the community. </p>\n\n<p>When faced with a problem where Lambda terminates without executing a certain part of a code, it could be due to the following reasons.</p>\n\n<p><strong>Reason 1</strong>: Lambda times out, even before it could finish processing. Lambda is meant to be a server-less architecture that can be used for small tasks. If you want to run a process that needs to be running all the time, I recommend using an EC2 instance. Therefore every Lambda function has a time-out for the process to complete. Therefore increasing the time-out of the Lambda function can solve this problem. (Always refrain from setting time-out to a maximum of 5 mins, because it can cost you a lot for unexpected function time-outs) - <strong>This is the answer to this question</strong>.</p>\n\n<p><strong>Reason 2</strong>: If the function is using asynchronous calls like in NodeJS, your lambda can terminate while you are still executing the asynchronous call. Therefore have a mechanism where lambda does not terminate until all asynchronous calls have returned their values. Best way to solve this is by using sync call libraries instead of async calls.</p>\n\n<p><strong>Reason 3</strong>: Most obvious reason where code has mistakes in it. This will terminate Lambda, where you can see the error and fix it accordingly.</p>\n\n<p><strong>Reason 4</strong>: This could also happen due to lack of proper resource allocation like memory. If your function needs a certain memory to execute, do allocate it before hand by estimating the proper value required by running the function on a test environment beforehand.</p>\n"}], "owner": {"reputation": 1325, "user_id": 1285611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5938707880c06c25f0d789961f0aebeb?s=128&d=identicon&r=PG", "display_name": "abierto", "link": "https://stackoverflow.com/users/1285611/abierto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 906, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1547924776, "creation_date": 1513767610, "last_edit_date": 1547924776, "question_id": 47904490, "link": "https://stackoverflow.com/questions/47904490/cant-use-sqs-from-lambda", "title": "Can&#39;t use SQS from Lambda", "body": "<p><strong>What I've done:</strong></p>\n\n<p>I'm creating an example scheduled lambda that needs to dequeue messages from a SQS queue.\nI've created it using Serverless framework and Kotlin with the following configuration:</p>\n\n<pre><code>service: example\n\nprovider:\n  name: aws\n  runtime: java8\n  region: eu-west-1\n  memorySize: 128\n  environment:\n      sqs_url:\n        Ref: MessagesQueue\n  iamRoleStatements:\n      - Effect: Allow\n        Action:\n          - sqs:*\n        Resource:\n          Fn::GetAtt: [ MessagesQueue, Arn ]\n\npackage:\n  artifact: target/example-1.0.0.jar\n\nfunctions:\n  dequeue:\n    handler: com.example.Handler\n    events:\n      - schedule: rate(2 minutes)\n\nresources:\n  Resources:\n    MessagesQueue:\n      Type: AWS::SQS::Queue\n      Properties:\n        QueueName: ${self:service}-queue\n</code></pre>\n\n<p>Here's the Handler class:</p>\n\n<pre><code>package com.example\n\nimport com.amazonaws.services.lambda.runtime.Context\nimport com.amazonaws.services.lambda.runtime.RequestHandler\nimport org.slf4j.LoggerFactory\nimport com.amazonaws.services.sqs.AmazonSQSClientBuilder\n\nclass Handler:RequestHandler&lt;Map&lt;String, Any&gt;, Any&gt; {\n    override fun handleRequest(input:Map&lt;String, Any&gt;, context:Context):Any {\n\n        LOG.info(\"Initializing SQS Client...\")\n        val sqs = AmazonSQSClientBuilder.defaultClient()\n        LOG.info(\"SQS Client Initialized!\")\n\n        return Any()\n    }\n    companion object {\n        private val LOG = LoggerFactory.getLogger(Handler::class.java)\n    }\n}\n</code></pre>\n\n<p>I'm using the following AWS dependencies on my POM:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-sqs&lt;/artifactId&gt;\n        &lt;version&gt;1.11.251&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>My problem:</strong></p>\n\n<p>My lambda is logging as following:</p>\n\n<pre><code>START RequestId: ac75e49e-e56e-11e7-ba03-39085056ac2f Version: $LATEST\n[2017-12-20 10:15:18.015] ac75e49e-e56e-11e7-ba03-39085056ac2f INFO c.p.Handler - Initializing SQS Client...\nEND RequestId: ac75e49e-e56e-11e7-ba03-39085056ac2f\nREPORT RequestId: ac75e49e-e56e-11e7-ba03-39085056ac2f  Duration: 6006.13 ms  Billed Duration: 6000 ms Memory Size: 128 MB  Max Memory Used: 60 MB  \n2017-12-20T10:15:23.185Z ac75e49e-e56e-11e7-ba03-39085056ac2f Task timed out after 6.01 seconds\n</code></pre>\n\n<p>So basically something bad happens when I'm trying to initialize the SQS client, since I can't see the \"done\" log, bringing Lambda to timeout.</p>\n\n<p>I've searched for some working example using java for a simple lambda that dequeue, but I can't find anything valuable, only SQS SDK example without lambdas.</p>\n\n<p>Am I doing something wrong? Is there maybe another SDK that I need to use inside a Lambda?</p>\n"}, {"tags": ["android", "kotlin", "coroutine", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7457280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17ba127df3caa0c861b8c925d1a87ad?s=128&d=identicon&r=PG&f=1", "display_name": "Vidhi", "link": "https://stackoverflow.com/users/7457280/vidhi"}, "edited": false, "score": 0, "creation_date": 1513836568, "post_id": 47908162, "comment_id": 82805469, "body": "Isn&#39;t <code>runBlocking</code> used to block the main thread while all the coroutines complete their job? I am still confused about the runBlocking execution sequence"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 41, "user_id": 7457280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17ba127df3caa0c861b8c925d1a87ad?s=128&d=identicon&r=PG&f=1", "display_name": "Vidhi", "link": "https://stackoverflow.com/users/7457280/vidhi"}, "edited": false, "score": 0, "creation_date": 1513852753, "post_id": 47908162, "comment_id": 82813814, "body": "Seems to me like this: Runs new coroutine and blocks current thread <i>interruptibly</i> until its completion."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1513779887, "creation_date": 1513779887, "answer_id": 47908162, "question_id": 47904266, "link": "https://stackoverflow.com/questions/47904266/how-can-i-use-runblocking-on-button-click/47908162#47908162", "title": "How can I use runblocking on button click", "body": "<p>Even though you're blocking the code, the operation <code>mBinding.tvNoDataFound.text = \"test\"</code> runs on a pool worker thread.</p>\n\n<blockquote>\n  <p><a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental/run-blocking.html\" rel=\"nofollow noreferrer\"><code>runBlocking</code></a> is designed to bridge regular blocking code to libraries that are written in suspending style, to be used in main functions and in tests.</p>\n</blockquote>\n\n<p>In your case it should not be used. If you need to do background work, you should never block the UI thread. This happens regardless of using <code>launch</code> or <code>launch(UI)</code>. The latter just makes everything run on the same thread and blocks even before the join.</p>\n\n<p>So try not to block the UI thread and schedule a view update later via <code>launch(UI)</code> or with the standard <a href=\"https://developer.android.com/reference/android/view/View.html#post(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>View.post {}</code></a>.</p>\n"}], "owner": {"reputation": 41, "user_id": 7457280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17ba127df3caa0c861b8c925d1a87ad?s=128&d=identicon&r=PG&f=1", "display_name": "Vidhi", "link": "https://stackoverflow.com/users/7457280/vidhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1136, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1513780019, "creation_date": 1513766819, "last_edit_date": 1513780019, "question_id": 47904266, "link": "https://stackoverflow.com/questions/47904266/how-can-i-use-runblocking-on-button-click", "title": "How can I use runblocking on button click", "body": "<p>What is the purpose of runblocking?. Can I use it in OnClickListener?. \nHere I am using runblocking{} in OnClickListener<br>\nThis is my code</p>\n\n<pre><code> mBinding.ivAdd.setOnClickListener{\nprintln(\"before\" + Thread.currentThread().id)\n        runBlocking {\n            println(\"in async\" + Thread.currentThread().id)\n\n            val job = launch {\n                // launch new coroutine and keep a reference to its Job\n                delay(1000L)\n                println(\"World!\" + Thread.currentThread().id)\n                mBinding.tvNoDataFound.text = \"test\"\n            }\n            println(\"Hello,\")\n            println(\"after hello\" + Thread.currentThread().id)\n            delay(5000)\n            job.join() // wait until child coroutine completes\n        }\n        println(\"after runBlocking\" + Thread.currentThread().id)\n    }\n</code></pre>\n\n<p>It shows error like this</p>\n\n<pre><code> 12-20 14:46:31.387 26915-26915/ I/System.out: before1\n 12-20 14:46:31.399 26915-26915/ I/System.out: in async1\n 12-20 14:46:31.405 26915-26915/ I/System.out: Hello,\n 12-20 14:46:31.405 26915-26915/ I/System.out: after hello1\n 12-20 14:46:32.410 26915-26937/I/System.out: World!1561\n 12-20 14:46:32.422 26915-26937/ E/AndroidRuntime: FATAL EXCEPTION: \n ForkJoinPool.commonPool-worker-2\n\n   android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\n       at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:6556)\n       at android.view.ViewRootImpl.requestLayout(ViewRootImpl.java:907)\n       at android.view.View.requestLayout(View.java:18728)\n       at android.view.View.requestLayout(View.java:18728)\n       at android.view.View.requestLayout(View.java:18728)\n       at android.view.View.requestLayout(View.java:18728)\n       at android.view.View.requestLayout(View.java:18728)\n       at android.view.View.requestLayout(View.java:18728)\n       at android.view.View.requestLayout(View.java:18728)\n       at android.view.View.requestLayout(View.java:18728)\n       at android.widget.TextView.checkForRelayout(TextView.java:7169)\n       at android.widget.TextView.setText(TextView.java:4347)\n       at android.widget.TextView.setText(TextView.java:4204)\n       at android.widget.TextView.setText(TextView.java:4179)\n       at MainActivity$onCreate$1$1$job$1.doResume(MainActivity.kt:164)\n       at kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resume(CoroutineImpl.kt:54)\n       at kotlinx.coroutines.experimental.DispatchTask.run(CoroutineDispatcher.kt:123)\n       at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1388)\n       at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:251)\n       at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:845)\n       at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1674)\n       at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1629)\n       at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:108)\n\n12-20 14:46:36.410 26915-26915/I/System.out: after runBlocking1\n12-20 14:46:36.410 26915-26915/ I/Choreographer: Skipped 313 frames!  The \napplication may be doing too much work on its main thread.\n</code></pre>\n\n<p>If I use <strong>launch(UI){ }</strong> instead of <strong>launch{ }</strong>, it gives output like below</p>\n\n<pre><code>12-20 14:57:11.700 27338-27338/ I/System.out: before1\n12-20 14:57:11.710 27338-27338/ I/System.out: in async1\n12-20 14:57:11.714 27338-27338/ I/System.out: Hello,\n12-20 14:57:11.714 27338-27338/ I/System.out: after hello1\n12-20 14:57:16.718 27338-27338/ I/art: Note: end time exceeds epoch: \n</code></pre>\n\n<p>It doesn't print \"World\" which is come from another coroutine.</p>\n\n<p>Here is another example of runblocking, which use runblocking from onCreate()</p>\n\n<pre><code> println(\"before runblocking \" + Thread.currentThread().id)\n        runBlocking {\n            println(\"in runblocking \" + Thread.currentThread().id)\n\n            val job = launch(UI) {\n\n                println(\"In launch \" + Thread.currentThread().id)\n\n            }\n            println(\"after launch \" + Thread.currentThread().id)\n\n        }\n        println(\"after runBlocking \" + Thread.currentThread().id)\n</code></pre>\n\n<p>Output of above code is</p>\n\n<pre><code>12-20 15:58:13.253 8588-8588/? I/System.out: before runblocking 1\n12-20 15:58:13.266 8588-8588/? I/System.out: in runblocking 1\n12-20 15:58:13.271 8588-8588/? I/System.out: after launch 1\n12-20 15:58:13.273 8588-8588/? I/System.out: after runBlocking 1\n12-20 15:58:13.363 8588-8588/? I/System.out: In launch 1\n</code></pre>\n\n<p>As we expect, \"after runblocking\" prints at last but it doesn't.\nIf I use <strong>job.join</strong> to wait completion of sub coroutine, the code is</p>\n\n<pre><code>  println(\"before runblocking \" + Thread.currentThread().id)\n        runBlocking {\n            println(\"in runblocking \" + Thread.currentThread().id)\n\n            val job = launch(UI) {\n                println(\"In launch \" + Thread.currentThread().id)\n            }\n            println(\"after launch \" + Thread.currentThread().id)\n            job.join() // wait until child coroutine completes\n        }\n        println(\"after runBlocking \" + Thread.currentThread().id)\n</code></pre>\n\n<p>Output of above code is</p>\n\n<pre><code>12-20 16:10:43.234 9194-9194/ I/System.out: before runblocking 1\n12-20 16:10:43.249 9194-9194/ I/System.out: in runblocking 1\n12-20 16:10:43.253 9194-9194/ I/System.out: after launch 1\n</code></pre>\n\n<p>Then what is the expected behavior of runblocking?. How can I use runblocking? </p>\n"}, {"tags": ["java", "android", "kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 2205, "user_id": 3290623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/92ac216026ab4480156041a4fb68bff6?s=128&d=identicon&r=PG", "display_name": "Martin Mlostek", "link": "https://stackoverflow.com/users/3290623/martin-mlostek"}, "edited": false, "score": 0, "creation_date": 1513767522, "post_id": 47904433, "comment_id": 82775543, "body": "well, thats just the same thing, my goal is to avoid that one extra gson conversion"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 2205, "user_id": 3290623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/92ac216026ab4480156041a4fb68bff6?s=128&d=identicon&r=PG", "display_name": "Martin Mlostek", "link": "https://stackoverflow.com/users/3290623/martin-mlostek"}, "edited": false, "score": 0, "creation_date": 1513767619, "post_id": 47904433, "comment_id": 82775614, "body": "@martynmlostekk No, it is not, <code>toJson</code> converts it to a string. <code>toJsonTree</code> converts it into an in-memory representation of a JSON element tree (<a href=\"https://google.github.io/gson/apidocs/com/google/gson/JsonElement.html\" rel=\"nofollow noreferrer\"><code>JsonElement</code></a>). I see what you mean though and I do not think Gson has a mechanism to do this. <a href=\"https://stackoverflow.com/a/16430704/7366707\">This is more directly possible with Jackson though</a>."}, {"owner": {"reputation": 2205, "user_id": 3290623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/92ac216026ab4480156041a4fb68bff6?s=128&d=identicon&r=PG", "display_name": "Martin Mlostek", "link": "https://stackoverflow.com/users/3290623/martin-mlostek"}, "edited": false, "score": 0, "creation_date": 1513784604, "post_id": 47904433, "comment_id": 82786780, "body": "okay, thats not exactly what i need but in this case (using with retrofit) i can at least reduce it by the gson conversions by 1 (to a total of 2). thanks. will mark it as solution if nobody else will answer within couple of days"}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 4, "last_activity_date": 1513767527, "last_edit_date": 1513767527, "creation_date": 1513767423, "answer_id": 47904433, "question_id": 47904146, "link": "https://stackoverflow.com/questions/47904146/gson-mapstring-any-to-object/47904433#47904433", "title": "Gson Map&lt;String, Any&gt; to Object", "body": "<p>You can use a <a href=\"https://google.github.io/gson/apidocs/com/google/gson/JsonElement.html\" rel=\"nofollow noreferrer\"><code>JsonElement</code></a>:</p>\n\n<pre><code>val jsonElement = gson.toJsonTree(map)\nval foo = gson.fromJson(jsonElement, Foo::class.java)\n</code></pre>\n\n<p>You can make this look nicer with a utility function:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; Gson.fromMap(map: Map&lt;*, *&gt;) {\n    return fromJson(toJsonTree(map, T::class.java)\n}\n</code></pre>\n\n<p>Then you can call it like this:</p>\n\n<pre><code>gson.fromMap&lt;Foo&gt;(map)\n</code></pre>\n"}], "owner": {"reputation": 2205, "user_id": 3290623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/92ac216026ab4480156041a4fb68bff6?s=128&d=identicon&r=PG", "display_name": "Martin Mlostek", "link": "https://stackoverflow.com/users/3290623/martin-mlostek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1726, "favorite_count": 0, "accepted_answer_id": 47904433, "answer_count": 1, "score": 4, "last_activity_date": 1513767527, "creation_date": 1513766472, "question_id": 47904146, "link": "https://stackoverflow.com/questions/47904146/gson-mapstring-any-to-object", "title": "Gson Map&lt;String, Any&gt; to Object", "body": "<p>What's the most efficient way to convert a JSON in the format of <code>Map&lt;String, Any&gt;</code> to the corresponding java/kotlin object?</p>\n\n<p>For now I have to use it like that which seems like a stupid implementation.</p>\n\n<p><code>gson.fromJson(gson.toJson(mapToConvert), typeToken)</code></p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["android", "kotlin", "clean-architecture", "data-layer"], "comments": [{"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1585781882, "post_id": 47903739, "comment_id": 107888037, "body": "really appreciate what you&#39;ve done by providing the illustration for each use cases. thanks!!"}], "answers": [{"comments": [{"owner": {"reputation": 473, "user_id": 5188125, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e510e714e25ae61b77279c4b2a20496?s=128&d=identicon&r=PG&f=1", "display_name": "Elias ", "link": "https://stackoverflow.com/users/5188125/elias"}, "edited": false, "score": 0, "creation_date": 1513782610, "post_id": 47904595, "comment_id": 82785433, "body": "Ok, I like that answer because it focuses on simplicity because after all it is called clean architecture <b>guideline</b> and for simpler projects that don&#180;t require that much abstraction it is ok to go with the simpler solution. Thanks a lot, it is now more clear how to design the code such that it fits the requirements I have."}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1585782108, "post_id": 47904595, "comment_id": 107888097, "body": "Agreed, approach 1 is I think enough. <code>:domain</code> have <code>Article, </code>:data` have both <code>ArticleResponse</code> &amp; <code>ArticleDbEntity</code>, then <code>:presentation</code> might be enough to show model from <code>:domain</code>, but in specific cases (e.g: android), you might want to have  Parcelable POJO, thus we need to map a different model, e.g: <code>ArticleUi</code>"}], "tags": [], "owner": {"reputation": 417, "user_id": 7162213, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EjJaImll0uc/AAAAAAAAAAI/AAAAAAAAAAo/wm8o5HCus7Q/photo.jpg?sz=128", "display_name": "RDO", "link": "https://stackoverflow.com/users/7162213/rdo"}, "is_accepted": true, "score": 4, "last_activity_date": 1513767944, "creation_date": 1513767944, "answer_id": 47904595, "question_id": 47903739, "link": "https://stackoverflow.com/questions/47903739/android-app-clean-architecture-should-data-layer-have-its-own-model-classes/47904595#47904595", "title": "Android app clean architecture: Should data layer have its own model classes?", "body": "<p>If I were you, I would go with the Image1 process. I think it is the job of your datasource to take whatever object is coming from your database or API or any endpoint you have and transform it into something easier to user in your repository. </p>\n\n<p>Between Image1 and Image2, I think it depend of what data you want to store and what is the object you want to store. You may or may not need an ArticleEntity depending of your business rules. And if you don't need it, you don't have to create one.</p>\n\n<p>But for some use case you may need to create that object to add some informations to your Article. For exemple, if you want to place in that a validity date or any other information that you will only use in your repository, you can go for Image2.</p>\n"}], "owner": {"reputation": 473, "user_id": 5188125, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e510e714e25ae61b77279c4b2a20496?s=128&d=identicon&r=PG&f=1", "display_name": "Elias ", "link": "https://stackoverflow.com/users/5188125/elias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1641, "favorite_count": 4, "accepted_answer_id": 47904595, "answer_count": 1, "score": 6, "last_activity_date": 1513767944, "creation_date": 1513765321, "question_id": 47903739, "link": "https://stackoverflow.com/questions/47903739/android-app-clean-architecture-should-data-layer-have-its-own-model-classes", "title": "Android app clean architecture: Should data layer have its own model classes?", "body": "<p>What\u00b4s the best approach when developing an Android app and trying to follow clean architecture guidelines (but not extremely strict - cause that may be overkill for smaller projects). </p>\n\n<p>In my case, I am unsure which approach is the best (if there is a best one) <strong>regarding the</strong> <strong>data layer</strong> and if the data layer should operate on its own model classes or if it may operate directly on the domain layer models. </p>\n\n<p>Also, if the data layer should operate on its own model classes, should data sources like <code>DB</code> or <code>API</code> have their own models (like for an <code>API</code> using <code>Retrofit</code> and <code>Gson</code> a model class with <code>Gson</code> annotations) and then map to data layer models <strong>OR</strong> should the data layer model itself be the model returned by <code>DB</code> and <code>API</code> (this means the data layer model must be annotated for <code>Gson</code> being able to parse it in case of <code>Retrofit</code> and <code>Gson</code>). </p>\n\n<p><strong>This is the case in this project:</strong>\n<a href=\"https://github.com/android10/Android-CleanArchitecture/blob/master/data/src/main/java/com/fernandocejas/android10/sample/data/entity/UserEntity.java\" rel=\"noreferrer\">https://github.com/android10/Android-CleanArchitecture/blob/master/data/src/main/java/com/fernandocejas/android10/sample/data/entity/UserEntity.java</a></p>\n\n<p><strong>The following images should clarify the 3 approaches I mean:</strong></p>\n\n<p>In <strong>Image 1</strong> the <code>DB</code> and <code>API</code> return specific model classes. In the case of the <code>API</code> it may look like (using <code>Retrofit</code> and <code>Gson</code>): </p>\n\n<pre><code>class ArticleResponse(@SerializedName(\"source\") val source: SourceResponse,\n                          @SerializedName(\"author\") val author: String?,\n                          @SerializedName(\"title\") val title: String,\n                          @SerializedName(\"description\") val description: String?,\n                          @SerializedName(\"url\") val url: String,\n                          @SerializedName(\"urlToImage\") val urlToImage: String?,\n                          @SerializedName(\"publishedAt\") val publishedAt: String?)\n</code></pre>\n\n<p>These are then mapped by the Local/Remote data sources to <code>Article</code> models (which are used by the domain layer). Therefore the repository operates on domain layer models and is breaking boundaries right? That is approach 1.\n<a href=\"https://i.stack.imgur.com/6Pn7n.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6Pn7n.png\" alt=\"Image1\"></a></p>\n\n<p>In <strong>Image 2</strong> the <code>DB</code> and <code>API</code> still return specific model classes. In the case of the <code>API</code> it may look like (using <code>Retrofit</code> and <code>Gson</code>):</p>\n\n<pre><code>class ArticleResponse(@SerializedName(\"source\") val source: SourceResponse,\n                              @SerializedName(\"author\") val author: String?,\n                              @SerializedName(\"title\") val title: String,\n                              @SerializedName(\"description\") val description: String?,\n                              @SerializedName(\"url\") val url: String,\n                              @SerializedName(\"urlToImage\") val urlToImage: String?,\n                              @SerializedName(\"publishedAt\") val publishedAt: String?)\n</code></pre>\n\n<p>However, these models are then mapped to a data-layer model (<code>ArticleEntity</code>) which the data-layer operates on. When responding to the domain-layer the <code>repository</code> maps these <code>ArticleEntity</code>\u00b4s to the domain-layer model <code>Article</code>. This doesn\u00b4t break boundaries (right) but it <strong>needs some extra mapping in the data-layer</strong>. This is approach 2. </p>\n\n<p><a href=\"https://i.stack.imgur.com/eM9Yl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eM9Yl.png\" alt=\"enter image description here\"></a></p>\n\n<p>In <strong>Image 3</strong> the <code>DB</code> and <code>API</code> already return the data-layer model <code>ArticleEntity</code>. Therefore this model class must contain all annotations needed to parse the API request (with <code>Gson</code>):</p>\n\n<pre><code>class ArticleEntity(@SerializedName(\"source\") val source: SourceResponse,\n                                  @SerializedName(\"author\") val author: String?,\n                                  @SerializedName(\"title\") val title: String,\n                                  @SerializedName(\"description\") val description: String?,\n                                  @SerializedName(\"url\") val url: String,\n                                  @SerializedName(\"urlToImage\") val urlToImage: String?,\n                                  @SerializedName(\"publishedAt\") val publishedAt: String?)\n</code></pre>\n\n<p>If the DB also needs some kind of annotations then these would have to be added to this class too (right?). An advantage of this approach I can think of is that there are fewer model classes (because DB and API directly map to data-layer models). However, doesn\u00b4t this blow up the data-layer model class with annotations/properties from all different data sources (DB, API)? Isn\u00b4t the whole point of abstracting the data sources from the repository violated then because the data-layer model is dependent on the specific data source implementation (e.g using Gson to parse API request with exact API response names). So this was approach 3.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Qpzbi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Qpzbi.png\" alt=\"enter image description here\"></a></p>\n\n<p>My question is: <strong>Which of the 3 approaches is the most flexible and future proof one?</strong></p>\n"}, {"tags": ["android", "gradle", "kotlin", "kapt"], "comments": [{"owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "edited": false, "score": 0, "creation_date": 1514222966, "post_id": 47903672, "comment_id": 82910836, "body": "Please try to kill GradleDaemon and KotlinCompileDaemon processes, and start the build again."}], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 4465330, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/231bb5393e36b810886e2b8471b6050f?s=128&d=identicon&r=PG&f=1", "display_name": "Masoudy BaBa", "link": "https://stackoverflow.com/users/4465330/masoudy-baba"}, "is_accepted": false, "score": 0, "last_activity_date": 1514357487, "creation_date": 1514357487, "answer_id": 47987673, "question_id": 47903672, "link": "https://stackoverflow.com/questions/47903672/kapt-gradle-task-exception-class-cast-exception/47987673#47987673", "title": "Kapt gradle task Exception : class cast exception", "body": "<p>after a week of trial and failure and commenting and uncommenting line by line , i realized that it was a bug in kotlin to java compiler and every time i wrote a kotlin function which had no curly braces this exception was thrown</p>\n\n<p>the reason was that i had not specified function return type and my function had only one statement which was appended as the body of function whit an equal sign.this way we depend on kotlin to identify the retuen type of function by the return type of that only statement.</p>\n\n<p>when you put that one line statement in curly braces and specify the return type explicitly , the exception goes away</p>\n"}], "owner": {"reputation": 186, "user_id": 4465330, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/231bb5393e36b810886e2b8471b6050f?s=128&d=identicon&r=PG&f=1", "display_name": "Masoudy BaBa", "link": "https://stackoverflow.com/users/4465330/masoudy-baba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 398, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1514357487, "creation_date": 1513765120, "question_id": 47903672, "link": "https://stackoverflow.com/questions/47903672/kapt-gradle-task-exception-class-cast-exception", "title": "Kapt gradle task Exception : class cast exception", "body": "<p>Execution failed for task ':app:kaptSomethingDebugKotlin'.</p>\n\n<p>i have refactored some of my class and i have added some kotlin classes and classes with bare functions.</p>\n\n<p>when i try to compile the project , these weird things happen and none of the exception stack trace help me.</p>\n\n<p>it seems this problem is due to Kotlin java combination</p>\n\n<pre><code>Unable to receive command from client socket connection from /127.0.0.1:5573 to /127.0.0.1:13020. Discarding connection.\n\norg.gradle.internal.remote.internal.MessageIOException: Could not read message from '/127.0.0.1:13020'.\n        at org.gradle.internal.remote.internal.inet.SocketConnection.receive(SocketConnectin.java:92)\n        at org.gradle.launcher.daemon.server.SynchronizedDispatchConnection.receive(SynchronizedDispatchConnection.java:68)\n        at org.gradle.launcher.daemon.server.DefaultDaemonConnection$1.run(DefaultDaemonConnection.java:63)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n        at java.lang.Thread.run(Thread.java:748)\n\nCaused by: java.lang.IllegalArgumentException: Unexpected type tag 67 found.\n        at org.gradle.internal.serialize.DefaultSerializerRegistry$TaggedTypeSerializer.read(DefaultSerializerRegistry.java:142)\n        at org.gradle.internal.serialize.Serializers$StatefulSerializerAdapter$1.read(Serializers.java:36)\n        at org.gradle.internal.remote.internal.inet.SocketConnection.receive(SocketConnection.java:79)\n        ... 8 more\n\nUnable to receive command from client socket connection from /127.0.0.1:5573 to /127.0\n.0.1:13025. Discarding connection.org.gradle.internal.remote.internal.MessageIOException: Could not read message from '/127.0.0.1:13025'.\n        at org.gradle.internal.remote.internal.inet.SocketConnection.receive(SocketConnection.java:92)\n        at org.gradle.launcher.daemon.server.SynchronizedDispatchConnection.receive(SynchronizedDispatchConnection.java:68)\n        at org.gradle.launcher.daemon.server.DefaultDaemonConnection$1.run(DefaultDaemonConnection.java:63)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n        at java.lang.Thread.run(Thread.java:748)\n\nCaused by: java.lang.IllegalArgumentException: Unexpected type tag 67 found.\n        at org.gradle.internal.serialize.DefaultSerializerRegistry$TaggedTypeSerializer.read(DefaultSerializerRegistry.java:142)\n        at org.gradle.internal.serialize.Serializers$StatefulSerializerAdapter$1.read(Serializers.java:36)\n        at org.gradle.internal.remote.internal.inet.SocketConnection.receive(SocketConnection.java:79)\n        ... 8 more\n\nUnable to receive command from client socket connection from /127.0.0.1:5573 to /127.0.0.1:13033. Discarding connection.\norg.gradle.internal.remote.internal.MessageIOException: Could not read message from '/127.0.0.1:13033'.\n        at org.gradle.internal.remote.internal.inet.SocketConnection.receive(SocketConnection.java:92)\n        at org.gradle.launcher.daemon.server.SynchronizedDispatchConnection.receive(SynchronizedDispatchConnection.java:68)\n        at org.gradle.launcher.daemon.server.DefaultDaemonConnection$1.run(DefaultDaemonConnection.java:63)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n        at java.lang.Thread.run(Thread.java:748)\n\nCaused by: java.lang.IllegalArgumentException: Unexpected type tag 67 found.\n        at org.gradle.internal.serialize.DefaultSerializerRegistry$TaggedTypeSerializer.read(DefaultSerializerRegistry.java:142)\n        at org.gradle.internal.serialize.Serializers$StatefulSerializerAdapter$1.read(Serializers.java:36)\n        at org.gradle.internal.remote.internal.inet.SocketConnection.receive(SocketConnection.java:79)\n        ... 8 more\nUnable to receive command from client socket connection from /127.0.0.1:5573 to /127.0.0.1:13040. Discarding connection.\norg.gradle.internal.remote.internal.MessageIOException: Could not read message from '/127.0.0.1:13040'.\n        at org.gradle.internal.remote.internal.inet.SocketConnection.receive(SocketConnection.java:92)\n        at org.gradle.launcher.daemon.server.SynchronizedDispatchConnection.receive(SynchronizedDispatchConnection.java:68)\n        at org.gradle.launcher.daemon.server.DefaultDaemonConnection$1.run(DefaultDaemonConnection.java:63)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n        at java.lang.Thread.run(Thread.java:748)\n\nCaused by: java.lang.IllegalArgumentException: Unexpected type tag 67 found.\n        at org.gradle.internal.serialize.DefaultSerializerRegistry$TaggedTypeSerializer.read(DefaultSerializerRegistry.java:142)\n        at org.gradle.internal.serialize.Serializers$StatefulSerializerAdapter$1.read(Serializers.java:36)\n        at org.gradle.internal.remote.internal.inet.SocketConnection.receive(SocketConnection.java:79)\n        ... 8 more\n\n\n\ne: java.lang.IllegalStateException: failed to analyze: java.lang.ClassCastException\n        at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:137)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:158)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:61)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\n        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:96)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:892)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)\n        at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:919)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:891)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:385)\n        at sun.reflect.GeneratedMethodAccessor87.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n        at sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassCastException\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 2, "creation_date": 1513765540, "post_id": 47903589, "comment_id": 82774272, "body": "Indeed, that&#39;s some head-scratching material :)"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1522051181, "last_edit_date": 1522051181, "creation_date": 1513767344, "answer_id": 47904416, "question_id": 47903589, "link": "https://stackoverflow.com/questions/47903589/overload-resolution-ambiguity-error-resolved-with-another-overload/47904416#47904416", "title": "&quot;Overload resolution ambiguity error&quot; resolved with another overload", "body": "<p>It even works if you define <code>fun String.toUpperCase() = \"\"</code> in your file again. The compiler chooses the <em>locally defined function</em> to be used and won't consider the ambiguous ones anymore. Since <code>ab</code> becomes <code>Nothing?</code> and this is the subtype of all nullable types, any receiver will make this happen.</p>\n\n<p>Shown here:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(\"hello\".substringBefore(\"e\"))\n}\n\nfun String.substringBefore(e: String) = \"hey\"\n</code></pre>\n\n<p><code>substringBefore</code> from stdlib will not be invoked because the locally defined extension is used.</p>\n"}], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 572, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1522051181, "creation_date": 1513764903, "question_id": 47903589, "link": "https://stackoverflow.com/questions/47903589/overload-resolution-ambiguity-error-resolved-with-another-overload", "title": "&quot;Overload resolution ambiguity error&quot; resolved with another overload", "body": "<p>I saw this <a href=\"https://stackoverflow.com/questions/47884934/im-getting-overload-resolution-ambiguity-error-on-kotlin-safe-call\">question</a>.</p>\n\n<p>How can it be that with this line added</p>\n\n<pre><code>fun Int.toUpperCase() = \"\"\n</code></pre>\n\n<p>This problem </p>\n\n<blockquote>\n  <p>Error:(6, 16)<br>\n  Overload resolution ambiguity:<br>\n  @InlineOnly public\n  inline fun Char.toUpperCase(): Char defined in kotlin.text<br>\n  @InlineOnly public inline fun String.toUpperCase(): String defined in kotlin.text</p>\n</blockquote>\n\n<p>goes away for this piece of code?</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){\n    var ab: String? = \"hello\"\n    ab = null\n    println(ab?.toUpperCase())\n}\n</code></pre>\n\n<p>The answer given for the reference question makes sense, it just doesn't answer what is happening here.</p>\n"}, {"tags": ["kotlin", "jpa-2.1", "metamodel"], "answers": [{"tags": [], "owner": {"reputation": 7291, "user_id": 5065092, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-ZFrQQ1JOBno/AAAAAAAAAAI/AAAAAAAAAEM/wPeTWiESjWk/photo.jpg?sz=128", "display_name": "Aman Tuladhar", "link": "https://stackoverflow.com/users/5065092/aman-tuladhar"}, "is_accepted": true, "score": 4, "last_activity_date": 1520440037, "creation_date": 1520440037, "answer_id": 49156788, "question_id": 47903476, "link": "https://stackoverflow.com/questions/47903476/koitlin-support-for-jpa-static-metamodel/49156788#49156788", "title": "Koitlin support for JPA static metamodel", "body": "<p>I had to use <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"nofollow noreferrer\">kapt plugin</a>.</p>\n\n<p>I had to add following line to my <strong><code>build.gradle</code></strong> file.</p>\n\n<pre><code>kapt \"org.hibernate:hibernate-jpamodelgen:${hibernate_version}\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 618, "user_id": 2804299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b9882f002aa960148ded1304c9979d?s=128&d=identicon&r=PG", "display_name": "Juraj Mlich", "link": "https://stackoverflow.com/users/2804299/juraj-mlich"}, "is_accepted": false, "score": 3, "last_activity_date": 1544465383, "creation_date": 1544465383, "answer_id": 53711309, "question_id": 47903476, "link": "https://stackoverflow.com/questions/47903476/koitlin-support-for-jpa-static-metamodel/53711309#53711309", "title": "Koitlin support for JPA static metamodel", "body": "<p>When using Maven, add the following snippet to <code>&lt;executions&gt;</code> of <code>kotlin-maven-plugin</code>.</p>\n\n<pre><code>&lt;execution&gt;\n   &lt;id&gt;kapt&lt;/id&gt;\n   &lt;goals&gt;\n      &lt;goal&gt;kapt&lt;/goal&gt;\n   &lt;/goals&gt;\n   &lt;configuration&gt;\n      &lt;sourceDirs&gt;\n         &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\n      &lt;/sourceDirs&gt;\n      &lt;annotationProcessorPaths&gt;\n         &lt;annotationProcessorPath&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2.Final&lt;/version&gt;\n         &lt;/annotationProcessorPath&gt;\n      &lt;/annotationProcessorPaths&gt;\n   &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n"}], "owner": {"reputation": 7291, "user_id": 5065092, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-ZFrQQ1JOBno/AAAAAAAAAAI/AAAAAAAAAEM/wPeTWiESjWk/photo.jpg?sz=128", "display_name": "Aman Tuladhar", "link": "https://stackoverflow.com/users/5065092/aman-tuladhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1583, "favorite_count": 1, "accepted_answer_id": 49156788, "answer_count": 2, "score": 6, "last_activity_date": 1551030575, "creation_date": 1513764535, "last_edit_date": 1515418140, "question_id": 47903476, "link": "https://stackoverflow.com/questions/47903476/koitlin-support-for-jpa-static-metamodel", "title": "Koitlin support for JPA static metamodel", "body": "<p>When I create an <code>Entity</code> class using Java JPA static meta models are generated.</p>\n\n<p>If I convert my Entities to Kotlin JPA static metamodels are not generated. </p>\n\n<p>How to solve this problem?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I am using Gradle as build tool.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1513762267, "post_id": 47902656, "comment_id": 82772122, "body": "Well, you could have different source sets for your app (e.g. src/main, src/release and src/debug). An <code>internal</code> symbol would only be visible within its own source set."}], "answers": [{"comments": [{"owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "edited": false, "score": 1, "creation_date": 1513764726, "post_id": 47902749, "comment_id": 82773705, "body": "Had to use a <code>protected</code> modifier in Java for that (and deal with a package restriction). Kotlin&#39;s <code>internal</code> looks much better"}, {"owner": {"reputation": 209, "user_id": 2374556, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0bb17f10e77585ee03aab13f75483820?s=128&d=identicon&r=PG", "display_name": "Nameless", "link": "https://stackoverflow.com/users/2374556/nameless"}, "edited": false, "score": 0, "creation_date": 1537804988, "post_id": 47902749, "comment_id": 91907864, "body": "What about framework classes like Fragment? They need a public constructor in Java. Since Fragment class it&#39;s written in Java, if we override a Fragment in Kotlin and we use &quot;internal&quot; it will work anyways.  But is it the way go?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1537805114, "post_id": 47902749, "comment_id": 91907931, "body": "There&#39;s really no reason to change their visibility to <code>internal</code> instead of using the default <code>public</code> unless you want to hide them from another module."}, {"owner": {"reputation": 209, "user_id": 2374556, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0bb17f10e77585ee03aab13f75483820?s=128&d=identicon&r=PG", "display_name": "Nameless", "link": "https://stackoverflow.com/users/2374556/nameless"}, "edited": false, "score": 0, "creation_date": 1537806526, "post_id": 47902749, "comment_id": 91908680, "body": "To hide them from another module could be a case. But also imagine if this fragment extends a &quot;base class&quot; that&#39;s generic and it takes some type parameter.  If this class type is marked with internal and the Fragment as public, the compiler will complain."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 48, "last_activity_date": 1513762305, "creation_date": 1513762305, "answer_id": 47902749, "question_id": 47902656, "link": "https://stackoverflow.com/questions/47902656/kotlin-internal-visibility-modifier-in-android/47902749#47902749", "title": "Kotlin &quot;internal&quot; visibility modifier in Android", "body": "<p>You can have multiple Gradle modules that depend on each other within a single Android application, in that case, <code>internal</code> restricts visibility to within a given module. This could be useful if, for example, you have a separate <code>data</code> module that handles database and network tasks, and you only want to expose a couple interfaces from that module, but not their implementations.</p>\n\n<p>Otherwise, if you're not using multiple modules, and your entire application is just in the default <code>app</code> module, then the <code>internal</code> modifier makes no difference in comparison to the default <code>public</code> visibility.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 5, "last_activity_date": 1513762434, "creation_date": 1513762434, "answer_id": 47902798, "question_id": 47902656, "link": "https://stackoverflow.com/questions/47902656/kotlin-internal-visibility-modifier-in-android/47902798#47902798", "title": "Kotlin &quot;internal&quot; visibility modifier in Android", "body": "<p>No, because you would only have one module. Take a look at the definition.</p>\n\n<blockquote>\n  <p>The internal visibility modifier means that the member is visible\n  within the same module. More specifically, a module is a set of Kotlin\n  files compiled together:</p>\n  \n  <ul>\n  <li>an IntelliJ IDEA module; </li>\n  <li>a Maven project; a Gradle source set; </li>\n  <li>a set of files compiled with one invocation of the Ant task.  </li>\n  </ul>\n  \n  <p>(<a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#modules\" rel=\"noreferrer\">Source</a>)</p>\n</blockquote>\n\n<p><code>internal</code> only has effect across several modules.</p>\n"}], "owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10590, "favorite_count": 1, "accepted_answer_id": 47902749, "answer_count": 2, "score": 26, "last_activity_date": 1513762434, "creation_date": 1513762037, "question_id": 47902656, "link": "https://stackoverflow.com/questions/47902656/kotlin-internal-visibility-modifier-in-android", "title": "Kotlin &quot;internal&quot; visibility modifier in Android", "body": "<p>Suppose you're writing an Android project (<strong>not a library</strong>). All the files are compiled together so... is there any sense to use an <code>internal</code> visibility modifier in this case?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1513761555, "post_id": 47902405, "comment_id": 82771669, "body": "replace <code>object</code> keyword with <code>class</code>"}, {"owner": {"reputation": 71, "user_id": 8594928, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-55S_1bnE3wU/AAAAAAAAAAI/AAAAAAAAACg/XrLyMQoRnZo/photo.jpg?sz=128", "display_name": "\u97e9\u5efa\u98de", "link": "https://stackoverflow.com/users/8594928/%e9%9f%a9%e5%bb%ba%e9%a3%9e"}, "reply_to_user": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1513763543, "post_id": 47902405, "comment_id": 82772925, "body": "I tried it, and not work.It is still like that"}, {"owner": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1513763780, "post_id": 47902405, "comment_id": 82773065, "body": "You are running this on Android? Because this is not an Android style of code. Android works on the basis of Activity and not based on Main function. To see how a android app looks start a new project in Android Studio and it will automatically create a Hello World app for you."}, {"owner": {"reputation": 71, "user_id": 8594928, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-55S_1bnE3wU/AAAAAAAAAAI/AAAAAAAAACg/XrLyMQoRnZo/photo.jpg?sz=128", "display_name": "\u97e9\u5efa\u98de", "link": "https://stackoverflow.com/users/8594928/%e9%9f%a9%e5%bb%ba%e9%a3%9e"}, "reply_to_user": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1513764232, "post_id": 47902405, "comment_id": 82773367, "body": "Yes you are right, it&#39;s a simple android project. I just want to add a kotlin file and test it. So, android project can&#39;t allow ? But look at the question I changed.When I revert to 2.3.3 and 3.3-all, it&#39;s  ok, it seems that it&#39;s ok to  execute a kotlin file in android project"}, {"owner": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1513764427, "post_id": 47902405, "comment_id": 82773500, "body": "Java program has a main method which gets executed automatically on the start of the program. Android will never have a main method. that is the reason you are getting that error."}, {"owner": {"reputation": 71, "user_id": 8594928, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-55S_1bnE3wU/AAAAAAAAAAI/AAAAAAAAACg/XrLyMQoRnZo/photo.jpg?sz=128", "display_name": "\u97e9\u5efa\u98de", "link": "https://stackoverflow.com/users/8594928/%e9%9f%a9%e5%bb%ba%e9%a3%9e"}, "reply_to_user": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1513764449, "post_id": 47902405, "comment_id": 82773511, "body": "And I&#39;ve tried to create a java project with kotlin, it shows same exception."}, {"owner": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1513764794, "post_id": 47902405, "comment_id": 82773751, "body": "with <code>class</code> replaced in place of <code>object</code>?"}, {"owner": {"reputation": 71, "user_id": 8594928, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-55S_1bnE3wU/AAAAAAAAAAI/AAAAAAAAACg/XrLyMQoRnZo/photo.jpg?sz=128", "display_name": "\u97e9\u5efa\u98de", "link": "https://stackoverflow.com/users/8594928/%e9%9f%a9%e5%bb%ba%e9%a3%9e"}, "reply_to_user": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1513764856, "post_id": 47902405, "comment_id": 82773787, "body": "yes, if you like, I will give you a demo to test"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8594928, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-55S_1bnE3wU/AAAAAAAAAAI/AAAAAAAAACg/XrLyMQoRnZo/photo.jpg?sz=128", "display_name": "\u97e9\u5efa\u98de", "link": "https://stackoverflow.com/users/8594928/%e9%9f%a9%e5%bb%ba%e9%a3%9e"}, "edited": false, "score": 0, "creation_date": 1513820139, "post_id": 47904465, "comment_id": 82801438, "body": "Yes, I&#39;ve seen this issue. It said it would be solved at alpha2, but not. And you guys all say, main of kotlin can&#39;t excecute under android studio, but how to explain that I execute it under gradle tool 3.0 version. like gradle tool 2.3.3 and  gradle 3.3-all. I guess it may be the android studio 3.0&#39;s bug which related to gradle and gradle tool"}, {"owner": {"reputation": 35065, "user_id": 154306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/262629f1a46dad69fbff73e093be37f2?s=128&d=identicon&r=PG", "display_name": "Paul Lammertsma", "link": "https://stackoverflow.com/users/154306/paul-lammertsma"}, "edited": false, "score": 0, "creation_date": 1529058644, "post_id": 47904465, "comment_id": 88748908, "body": "The issue is clear about the problem being resolved for non-android modules. If you create a new module that does not reference the Android SDK, then you can run either Java or Kotlin classes on your local machine."}], "tags": [], "owner": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "is_accepted": false, "score": 1, "last_activity_date": 1513767526, "creation_date": 1513767526, "answer_id": 47904465, "question_id": 47902405, "link": "https://stackoverflow.com/questions/47902405/android-studio3-0-kotlin-classnotfoundexception/47904465#47904465", "title": "Android studio3.0 kotlin classNotFoundException", "body": "<p>This is the <code>main</code> function. There is no support for running <code>main</code> function in Android Studio for Kotlin. You can do that for Java, but not Kotlin.</p>\n\n<p>You can use <code>object</code> or <code>Class</code>, but it wouldn't work because Android studio doesn't support it. There is a bug filed for this: <a href=\"https://issuetracker.google.com/issues/68021152\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/68021152</a></p>\n"}], "owner": {"reputation": 71, "user_id": 8594928, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-55S_1bnE3wU/AAAAAAAAAAI/AAAAAAAAACg/XrLyMQoRnZo/photo.jpg?sz=128", "display_name": "\u97e9\u5efa\u98de", "link": "https://stackoverflow.com/users/8594928/%e9%9f%a9%e5%bb%ba%e9%a3%9e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1503, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1513821779, "creation_date": 1513761190, "last_edit_date": 1513764126, "question_id": 47902405, "link": "https://stackoverflow.com/questions/47902405/android-studio3-0-kotlin-classnotfoundexception", "title": "Android studio3.0 kotlin classNotFoundException", "body": "<p>I create a new project with kotlin\nAnd make a file to execute a main fun, but got a ClassNotFoundException\nDid much research, but didn't get solution. Hearing from websites, it maybe android studio's bug.\nI don't know, so ask </p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassNotFoundException: com.jafir.teststepsensor.TestDelegation\nat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:264)\nat com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:107)\n</code></pre>\n\n<p>this is build.gradle in app</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"com.jafir.teststepsensor\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    api \"org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion\"\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n</code></pre>\n\n<p>And this is build.gradle in project</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlinVersion = '1.1.51'\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>gradle:</p>\n\n<pre><code>gradle: gradle-4.1-all\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>object TestDelegation {\n    @JvmStatic\n    fun main(array: Array&lt;String&gt;) {\n        println(\"main\")\n    }\n}\n</code></pre>\n\n<p>I just simply create a object class, want to execute main fun like java\nIt throws this.</p>\n\n<p>But when I revert gradle to 3.3-all and gradle.build.tool to 2.3.3\nIt's ok \nI don't know why..\nMaby it's related to gradle and gradle build tool's version</p>\n"}, {"tags": ["android", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 53, "user_id": 8152743, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mXl_7mg93Io/AAAAAAAAAAI/AAAAAAAAABQ/7D3zWmllNEY/photo.jpg?sz=128", "display_name": "CrazyZhang", "link": "https://stackoverflow.com/users/8152743/crazyzhang"}, "edited": false, "score": 0, "creation_date": 1513760174, "post_id": 47901916, "comment_id": 82770883, "body": "I think if I now work on two tables in Helper&#39;s onCreate and onUpgrade it will solve the problem, but I actually have another table that does the same thing, but the other table is normal, with no problem.  The previous table and wx table no problem, when I joined the third table cash is broken, it is a problem."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8152743, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mXl_7mg93Io/AAAAAAAAAAI/AAAAAAAAABQ/7D3zWmllNEY/photo.jpg?sz=128", "display_name": "CrazyZhang", "link": "https://stackoverflow.com/users/8152743/crazyzhang"}, "edited": false, "score": 0, "creation_date": 1513762453, "post_id": 47902677, "comment_id": 82772215, "body": "I understand, but I did not have a problem before, ah, this is very strange, I think I still need to understand the internal implementation, thank u~"}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "reply_to_user": {"reputation": 53, "user_id": 8152743, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mXl_7mg93Io/AAAAAAAAAAI/AAAAAAAAABQ/7D3zWmllNEY/photo.jpg?sz=128", "display_name": "CrazyZhang", "link": "https://stackoverflow.com/users/8152743/crazyzhang"}, "edited": false, "score": 0, "creation_date": 1513762485, "post_id": 47902677, "comment_id": 82772236, "body": "Have a look at <a href=\"https://stackoverflow.com/questions/21881992/when-is-sqliteopenhelper-oncreate-onupgrade-run\" title=\"when is sqliteopenhelper oncreate onupgrade run\">stackoverflow.com/questions/21881992/&hellip;</a>"}], "tags": [], "owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "is_accepted": true, "score": 1, "last_activity_date": 1513762122, "creation_date": 1513762122, "answer_id": 47902677, "question_id": 47901916, "link": "https://stackoverflow.com/questions/47901916/two-sqlitedao-objects-are-created-at-the-same-time-one-of-which-does-not-create/47902677#47902677", "title": "Two SQLiteDao objects are created at the same time, one of which does not create a table when Helper is executed", "body": "<p><code>SQLiteOpenHelper</code> manages database files, not individual tables. If you have more than one table in the same database, put the code to manage them in the same database helper.</p>\n"}], "owner": {"reputation": 53, "user_id": 8152743, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mXl_7mg93Io/AAAAAAAAAAI/AAAAAAAAABQ/7D3zWmllNEY/photo.jpg?sz=128", "display_name": "CrazyZhang", "link": "https://stackoverflow.com/users/8152743/crazyzhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 47902677, "answer_count": 1, "score": 0, "last_activity_date": 1513762122, "creation_date": 1513759455, "last_edit_date": 1513761991, "question_id": 47901916, "link": "https://stackoverflow.com/questions/47901916/two-sqlitedao-objects-are-created-at-the-same-time-one-of-which-does-not-create", "title": "Two SQLiteDao objects are created at the same time, one of which does not create a table when Helper is executed", "body": "<p>I have two tables, in the open application is going to check.</p>\n\n<p>But when I create these two SQLite Dao objects there is always a table can not be created.</p>\n\n<p>This table is CashPayDao, even if I changed the implementation of the order to amend and modify the database version number will not be created.</p>\n\n<p>When I commented out WXPayDao will be able to successfully create CashPayDao corresponding table.</p>\n\n<p>First, create two SQLite Dao objects in onCreate</p>\n\n<pre><code>    cashDao = CashPayDao(this)\n    wxDao = WXPayDao(this)\n</code></pre>\n\n<p>CashPayDao content:</p>\n\n<pre><code>class CashPayDao(context: Context) {\n    private val payHelper = CashPayDBHelper(context)\n</code></pre>\n\n<p>CashPayDBHelper content:</p>\n\n<pre><code>class CashPayDBHelper(context: Context) : SQLiteOpenHelper(context, DB_NAME, null, DB_VERSION) {\n    override fun onCreate(db: SQLiteDatabase) {\n        db.execSQL(SQLITE_CREATE)\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n        db.execSQL(SQLITE_DELETE_ENTRIES)\n        onCreate(db)\n    }\n\n    override fun onDowngrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n        onUpgrade(db, oldVersion, newVersion)\n    }\n\n    companion object {\n        private val SQLITE_CREATE = \"create table if not exists \" + CASHPAY_TABLE_NAME + \" (\" +\n                OUT_TRADE_NO + TEXT_TYPE + \" PRIMARY KEY, \" +\n                TEL_SEQ + TEXT_TYPE + COMMA_SEP +\n                TOTAL_FEE + DOUBLE_TYPE + COMMA_SEP +\n                STORE_ID + TEXT_TYPE + COMMA_SEP +\n                ASS_POS + INT_TYPE + COMMA_SEP +\n                NEXT_TRANNO + INT_TYPE + COMMA_SEP +\n                SEQ + TEXT_TYPE + COMMA_SEP +\n                THE_STEP + INT_TYPE + COMMA_SEP +\n                ERROR_MESSAGE + TEXT_TYPE + COMMA_SEP +\n                IS_DONE + INT_TYPE + DEFAULT + COMMA_SEP +\n                IS_UPLOAD + INT_TYPE + DEFAULT + COMMA_SEP +\n                UPLOAD_COUNT + INT_TYPE + DEFAULT + COMMA_SEP +\n                CREATE_TIME + \" DATETIME DEFAULT (datetime(CURRENT_TIMESTAMP,'localtime')))\"\n\n        private val SQLITE_DELETE_ENTRIES = \"DROP TABLE IF EXISTS \" + CASHPAY_TABLE_NAME\n    }\n}\n</code></pre>\n\n<p>WXPayDao content:</p>\n\n<pre><code>class WXPayDao(context: Context) {\n    private val payHelper = WXPayDBHelper(context)\n</code></pre>\n\n<p>WXPayDBHelper content:</p>\n\n<pre><code>class WXPayDBHelper(context: Context) : SQLiteOpenHelper(context, DB_NAME, null, DB_VERSION) {\n    override fun onCreate(db: SQLiteDatabase) {\n        db.execSQL(SQLITE_CREATE)\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n        db.execSQL(SQLITE_DELETE_ENTRIES)\n        onCreate(db)\n    }\n\n    override fun onDowngrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n        onUpgrade(db, oldVersion, newVersion)\n    }\n\n    companion object {\n        private val SQLITE_CREATE = \"create table if not exists \" + WXPAY_TABLE_NAME + \" (\" +\n                OUT_TRADE_NO + TEXT_TYPE + \" PRIMARY KEY, \" +\n                TRANSACTION_ID + TEXT_TYPE + COMMA_SEP +\n                TEL_SEQ + TEXT_TYPE + COMMA_SEP +\n                TOTAL_FEE + DOUBLE_TYPE + COMMA_SEP +\n                STORE_ID + TEXT_TYPE + COMMA_SEP +\n                ASS_POS + INT_TYPE + COMMA_SEP +\n                NEXT_TRANNO + INT_TYPE + COMMA_SEP +\n                SEQ + TEXT_TYPE + COMMA_SEP +\n                OPENID + TEXT_TYPE + COMMA_SEP +\n                COUPON_FEE + DOUBLE_TYPE + COMMA_SEP +\n                THE_STEP + INT_TYPE + COMMA_SEP +\n                ERROR_MESSAGE + TEXT_TYPE + COMMA_SEP +\n                IS_DONE + INT_TYPE + DEFAULT + COMMA_SEP +\n                IS_UPLOAD + INT_TYPE + DEFAULT + COMMA_SEP +\n                UPLOAD_COUNT + INT_TYPE + DEFAULT + COMMA_SEP +\n                CREATE_TIME + \" DATETIME DEFAULT (datetime(CURRENT_TIMESTAMP,'localtime')))\"\n\n        private val SQLITE_DELETE_ENTRIES = \"DROP TABLE IF EXISTS \" + WXPAY_TABLE_NAME\n    }\n}\n</code></pre>\n\n<p>I have carefully identified the table name is different, one is cash_pay, one is wx_pay, the database is the same, and now did not understand why this is so.</p>\n\n<p>What should I do? \nThank!\n(@\u2022\u1d17\u2022@)</p>\n\n<hr>\n\n<p>I've now solved it by running both tables on Helper's onCreate and onUpgrade.</p>\n\n<p>CashPayDBHelper content:</p>\n\n<pre><code>override fun onCreate(db: SQLiteDatabase) {\n    db.execSQL(SQLITE_CREATE)\n    db.execSQL(WXPayDBHelper.SQLITE_CREATE)\n}\n\noverride fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n    db.execSQL(SQLITE_DELETE_ENTRIES)\n    db.execSQL(WXPayDBHelper.SQLITE_DELETE_ENTRIES)\n    onCreate(db)\n}\n</code></pre>\n\n<p>WXPayDBHelper content:</p>\n\n<pre><code>override fun onCreate(db: SQLiteDatabase) {\n        db.execSQL(SQLITE_CREATE)\n        db.execSQL(CashPayDBHelper.SQLITE_CREATE)\n    }\n\noverride fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n        db.execSQL(SQLITE_DELETE_ENTRIES)\n        db.execSQL(CashPayDBHelper.SQLITE_DELETE_ENTRIES)\n        onCreate(db)\n    }\n</code></pre>\n\n<p>I have a bold idea......</p>\n\n<p>I probably know the reason, but I think I now need to study the source code......</p>\n"}, {"tags": ["android", "generics", "kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1513758099, "post_id": 47901233, "comment_id": 82769736, "body": "<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/erasure.html</a>"}, {"owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1513758782, "post_id": 47901233, "comment_id": 82770104, "body": "Could you explain this a bit more detailed? @Mango"}], "answers": [{"comments": [{"owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "edited": false, "score": 1, "creation_date": 1513762435, "post_id": 47902773, "comment_id": 82772210, "body": "So there is no way to achieve the behaviour I was trying to implement?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "edited": false, "score": 0, "creation_date": 1513762791, "post_id": 47902773, "comment_id": 82772441, "body": "Not that way I&#39;m afraid. What do you think about the suggestion I just added"}, {"owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "edited": false, "score": 1, "creation_date": 1513762946, "post_id": 47902773, "comment_id": 82772550, "body": "Thank you for your answer :) Unfortunately, this would make the code I am trying to wrap away become more complicated than it was before. :/"}, {"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1534139299, "post_id": 47902773, "comment_id": 90585906, "body": "have you found another way to do this?"}, {"owner": {"reputation": 303, "user_id": 5315499, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200874021649389/picture?type=large", "display_name": "Trung Le", "link": "https://stackoverflow.com/users/5315499/trung-le"}, "reply_to_user": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1552454184, "post_id": 47902773, "comment_id": 97010385, "body": "@ArchieG.Qui&#241;ones not sure if u have found the solution, but check out my suggestion here <a href=\"https://stackoverflow.com/a/53480529/5315499\">stackoverflow.com/a/53480529/5315499</a>"}, {"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "reply_to_user": {"reputation": 303, "user_id": 5315499, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200874021649389/picture?type=large", "display_name": "Trung Le", "link": "https://stackoverflow.com/users/5315499/trung-le"}, "edited": false, "score": 0, "creation_date": 1552455532, "post_id": 47902773, "comment_id": 97010761, "body": "@TrungLe, that is not a true solution since you would still need to extend that Abstract Base Class. If you would still need to extend the class just to define the view model then you might as well not use generics for it instead. Just define the view model on the child class instead."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1513763014, "last_edit_date": 1513763014, "creation_date": 1513762373, "answer_id": 47902773, "question_id": 47901233, "link": "https://stackoverflow.com/questions/47901233/generic-class-type-usage-in-kotlin/47902773#47902773", "title": "Generic class type usage in Kotlin", "body": "<p>Your class has a type parameter <code>T</code>, which unfortunately gets erased at runtime. As a result, the call <code>get(T)</code> does not work (I guess the method expects a <code>Class</code> actually?). </p>\n\n<p>You seem to have already noticed that and thus tried to fix it with encapsulating the handling into a method using <code>reified</code> type. Yet, you cannot pass <code>T</code> as a reified parameter since this type will already be erased when the <code>reified</code>-typed method is called. As a result, <code>obtainViewModel&lt;T&gt;</code> will not work either. What you can do, is using <code>T</code> for ordinary generic methods, which the following demonstrates:</p>\n\n<pre><code>class Typed&lt;T&gt; {\n    val lazyProp by lazy {\n        listOf&lt;T&gt;()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 5315499, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200874021649389/picture?type=large", "display_name": "Trung Le", "link": "https://stackoverflow.com/users/5315499/trung-le"}, "is_accepted": false, "score": 0, "last_activity_date": 1543233094, "creation_date": 1543233094, "answer_id": 53480529, "question_id": 47901233, "link": "https://stackoverflow.com/questions/47901233/generic-class-type-usage-in-kotlin/53480529#53480529", "title": "Generic class type usage in Kotlin", "body": "<p>maybe a bit late, but I guess this could be the elegant way to achieve it:</p>\n\n<pre><code>abstract class BaseActivity&lt;T : ViewModel&gt;(\n    private var modelClass: Class&lt;T&gt;) : AppCompatActivity() {\n\n    val viewModel by lazy { \n        ViewModelProviders.of(this, getFactory()).get(modelClass) \n    }\n\n}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>class SampleActivity : BaseActivity&lt;SampleViewModel&gt;(SampleViewModel::class.java) {\n    // use viewModel from here\n}\n</code></pre>\n"}], "owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3867, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1543233094, "creation_date": 1513756573, "last_edit_date": 1513763574, "question_id": 47901233, "link": "https://stackoverflow.com/questions/47901233/generic-class-type-usage-in-kotlin", "title": "Generic class type usage in Kotlin", "body": "<p>I am trying to write a generic base activity, that specifies it's ViewModel type a generic parameter:</p>\n\n<pre><code>abstract class BaseActivity&lt;T : ViewModel&gt; : AppCompatActivity()\n</code></pre>\n\n<p>Now I am trying to write a lazy initialized property for my ViewModel:</p>\n\n<pre><code>val viewModel by lazy { ViewModelProviders.of(this, getFactory()).get(T) }\n</code></pre>\n\n<p>The error that is displayed is <code>Type Parameter T is not an expression</code></p>\n\n<p>Also using <code>::class</code> or <code>::class.java</code> did not help. Can anyone explain the problem?</p>\n\n<p><strong>EDIT:</strong> I tried to use a reified inline function like this:</p>\n\n<pre><code>inline fun &lt;reified T : ViewModel?&gt; AppCompatActivity.obtainViewModel(factory: ViewModelProvider.Factory): T {\n    return ViewModelProviders.of(this, factory).get(T::class.java)\n}\n</code></pre>\n\n<p>And used it like this:</p>\n\n<pre><code>abstract class BaseActivity&lt;T&gt; : AppCompatActivity() {\n    val viewModel by lazy { obtainViewModel&lt;T&gt;(getFactory()) \n}\n</code></pre>\n\n<p>Now I get the error, that T cannot be used as a reified parameter.</p>\n\n<p><strong>EDIT2:</strong> The best solution so far seems to be this: <a href=\"https://stackoverflow.com/questions/36012190/kotlin-abstract-class-with-generic-param-and-methods-which-use-type-param\">Link</a>, but its overhead to implement the abstract token in every extending class.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 3, "creation_date": 1513750021, "post_id": 47899621, "comment_id": 82765984, "body": "FYI, trying to compile this in Kotlin &lt;1.2 gives a pretty descriptive error message of what it is. <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/whatsnew12.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7017, "user_id": 816416, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cea2d43b65bd3fbc1a0991c30ace34f6?s=128&d=identicon&r=PG", "display_name": "Vishnu Haridas", "link": "https://stackoverflow.com/users/816416/vishnu-haridas"}, "edited": false, "score": 0, "creation_date": 1543302207, "post_id": 47900490, "comment_id": 93858199, "body": "Is it still called a &quot;scope resolution&quot; operator? Couldn&#39;t see that name anywhere in the documentation."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 7017, "user_id": 816416, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cea2d43b65bd3fbc1a0991c30ace34f6?s=128&d=identicon&r=PG", "display_name": "Vishnu Haridas", "link": "https://stackoverflow.com/users/816416/vishnu-haridas"}, "edited": false, "score": 0, "creation_date": 1543303076, "post_id": 47900490, "comment_id": 93858573, "body": "@VishnuHaridas No, because it never call like that. <a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-function-and-property-references-since-11\" rel=\"nofollow noreferrer\">Here</a> may be what you needed. Also, you should ask a new question instead of writing comment."}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": 5, "last_activity_date": 1513754133, "last_edit_date": 1513754133, "creation_date": 1513753504, "answer_id": 47900490, "question_id": 47899621, "link": "https://stackoverflow.com/questions/47899621/scope-resolution-operator-in-kotlin/47900490#47900490", "title": "Scope Resolution Operator in Kotlin", "body": "<p><code>::</code> is a short form for <code>this::</code> in Kotlin.</p>\n\n<p><code>::</code> is a operator to creates a member reference or a class reference. For example,</p>\n\n<pre><code>class Test {        \n    fun foo() {\n\n    }\n\n    fun foo2(value: Int) {\n\n    }\n\n    fun bar() {\n        val fooFunction = ::foo\n        fooFunction.invoke()  // equals to this.foo()\n        val foo2Function = ::foo2\n        foo2Function.invoke(1)  // equals to this.foo2(1)\n        val fooFunction2 = Test::foo\n        val testObject = Test()\n        fooFunction2.invoke(this) // equals to this.foo()\n        fooFunction2.invoke(testObject) // equals to testObject.foo()\n    }\n}\n</code></pre>\n\n<p>This is mainly used in reflection and passing function.</p>\n"}], "owner": {"reputation": 21, "user_id": 8987309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5d5a51cda4aebae5ff4c5fd50854d7f?s=128&d=identicon&r=PG&f=1", "display_name": "Kasim Rangwala", "link": "https://stackoverflow.com/users/8987309/kasim-rangwala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1562646612, "creation_date": 1513749331, "last_edit_date": 1562646612, "question_id": 47899621, "link": "https://stackoverflow.com/questions/47899621/scope-resolution-operator-in-kotlin", "title": "Scope Resolution Operator in Kotlin", "body": "<p>I have read the following syntax. I have no idea why scope resolution operator is used in it.</p>\n\n<pre><code>class XyzFragment : Fragment() {\n\n    lateinit var adapter: ChatAdapter\n\n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        if (!::adapter.isInitialized) { &lt;-- This one\n            adapter = ChatAdapter(this, arrayListOf())\n        }\n    }\n}\n</code></pre>\n\n<p>I want to know what is <code>::</code> in <code>if (!::adapter.isInitialized) {</code> statement.</p>\n"}, {"tags": ["android", "kotlin", "google-fit"], "comments": [{"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1513742077, "post_id": 47898403, "comment_id": 82763786, "body": "<code>readDailyTotal</code> should also take in the client as a parameter, no? I guess it&#39;s not giving you any compile errors. but I don&#39;t see a signature in the doc that only takes in the DataType."}, {"owner": {"reputation": 2225, "user_id": 2517849, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GCGSi.jpg?s=128&g=1", "display_name": "Naveed", "link": "https://stackoverflow.com/users/2517849/naveed"}, "reply_to_user": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1513742849, "post_id": 47898403, "comment_id": 82763941, "body": "It is available under <a href=\"https://developers.google.com/android/reference/com/google/android/gms/fitness/HistoryClient.html#readDailyTotal(com.google.android.gms.fitness.data.DataType)\" rel=\"nofollow noreferrer\">history client</a>"}], "owner": {"reputation": 2225, "user_id": 2517849, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GCGSi.jpg?s=128&g=1", "display_name": "Naveed", "link": "https://stackoverflow.com/users/2517849/naveed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 677, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513750994, "creation_date": 1513740832, "last_edit_date": 1513750994, "question_id": 47898403, "link": "https://stackoverflow.com/questions/47898403/how-to-retrieve-google-fit-step-data-from-server", "title": "How to retrieve Google Fit Step data from server?", "body": "<p>I have recently started playing around with the GoogleFit APIs.  I have gone through several stackoverflow posts about this problem but have not seen a good answer yet that works for me.  Most answers point to outdated API.</p>\n\n<p>The task I want to accomplish is simple:\nRead the daily step count from the <strong>server</strong>.</p>\n\n<p>Ideally I want the step count retrieved to match what is displayed on <a href=\"https://fit.google.com/\" rel=\"nofollow noreferrer\">https://fit.google.com/</a> but I have not been able to do so.</p>\n\n<p>Here is my set up:</p>\n\n<p><strong>Request access</strong>:</p>\n\n<pre><code>  val fitnessOptions = FitnessOptions.builder()\n                    .addDataType(DataType.TYPE_STEP_COUNT_DELTA, FitnessOptions.ACCESS_READ)\n                    .addDataType(DataType.AGGREGATE_STEP_COUNT_DELTA, FitnessOptions.ACCESS_READ)\n                    .build()\n\n            if (GoogleSignIn.hasPermissions(GoogleSignIn.getLastSignedInAccount(this), fitnessOptions)) {\n                Toast.makeText(this, \"Already Has permission\", Toast.LENGTH_SHORT).show()\n            } else {\n\n                GoogleSignIn.requestPermissions(\n                        this, // your activity\n                        FIT_REQUEST_CODE,\n                        GoogleSignIn.getLastSignedInAccount(this),\n                        fitnessOptions)\n            }\n</code></pre>\n\n<p>To my understanding the method below should reach out to the server and retrieve the step count. \nAccording to the documentation there is  <code>readDailyTotalFromLocalDevice(...)</code> method so if I wanted to get the data from the device I would just use that method. But both of these methods seem to return the same exact values.</p>\n\n<p><strong>Query Data</strong></p>\n\n<pre><code>Fitness.getHistoryClient(this, GoogleSignIn.getLastSignedInAccount(this))\n                .readDailyTotal(DataType.TYPE_STEP_COUNT_DELTA)\n                .addOnSuccessListener {\n                    tvResult.text = \"Steps: ${it.dataPoints[0].getValue(Field.FIELD_STEPS)}\"\n                }\n                .addOnFailureListener {\n                    tvResult.text = \"Error\"\n                }\n</code></pre>\n\n<p>For context: the step count (at the time of writing this) on <a href=\"https://fit.google.com\" rel=\"nofollow noreferrer\">https://fit.google.com</a> is <strong>6000</strong> and the value I am getting back from the method above is <strong>4</strong> Furthermore I do not see any traffic being generated on the GoogleAPI console for fitness api which confirms the hypothesis that the request is never going out to the server.</p>\n\n<p>What I have tried (without success):</p>\n\n<ul>\n<li>Manually constructing the request and explicitly adding enable server\nquery </li>\n<li>Adding subscription for the same data type that I am trying to read </li>\n</ul>\n\n<p><strong>How can I read the daily step count data that is stored on the cloud fitness data store?</strong></p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 5648104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3720c8f2692df3292262456df1e056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ceridoglu", "link": "https://stackoverflow.com/users/5648104/ceridoglu"}, "edited": false, "score": 1, "creation_date": 1513732335, "post_id": 47897307, "comment_id": 82761737, "body": "It&#39;s perfectly works on the MainActivity, but on createUser program stopped somehow.."}], "tags": [], "owner": {"reputation": 113731, "user_id": 250260, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mLw78.png?s=128&g=1", "display_name": "Jorgesys", "link": "https://stackoverflow.com/users/250260/jorgesys"}, "is_accepted": true, "score": 6, "last_activity_date": 1513764231, "last_edit_date": 1513764231, "creation_date": 1513730777, "answer_id": 47897307, "question_id": 47896586, "link": "https://stackoverflow.com/questions/47896586/kotlin-setonclicklistener-button-is-not-working/47897307#47897307", "title": "Kotlin setOnclickListener button is not working", "body": "<p>You don\u00b4t need to define a function declaration (<code>fun</code>), try this:</p>\n\n<pre><code>singupButton.setOnClickListener {view -&gt;\n                val intent = Intent(applicationContext,createUser::class.java)\n                startActivity(intent)\n }\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>singupButton.setOnClickListener {\n                  val intent = Intent(applicationContext,createUser::class.java)\n                  startActivity(intent)\n}\n</code></pre>\n\n<hr>\n\n<p>This is a basic sample</p>\n\n<pre><code>val myButton = findViewById&lt;Button&gt;(R.id.myButton) as Button\n    //set listener\n    myButton.setOnClickListener {\n        //Action perform when the user clicks on the button.\n        Toast.makeText(this@MainActivity, \"You clicked me.\", Toast.LENGTH_SHORT).show()\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 5648104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3720c8f2692df3292262456df1e056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ceridoglu", "link": "https://stackoverflow.com/users/5648104/ceridoglu"}, "edited": false, "score": 0, "creation_date": 1513732735, "post_id": 47897396, "comment_id": 82761847, "body": "I try both but program been stopped But your and @jorgesys answer work on the MainActivity part"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1513731761, "creation_date": 1513731761, "answer_id": 47897396, "question_id": 47896586, "link": "https://stackoverflow.com/questions/47896586/kotlin-setonclicklistener-button-is-not-working/47897396#47897396", "title": "Kotlin setOnclickListener button is not working", "body": "<p>Your problem is, you defined a function in the click listener, you didn't invoke it.</p>\n\n<p>Your original code:</p>\n\n<pre><code>singupButton.setOnClickListener {\n     fun crtUser (view: View) {\n         val intent = Intent(applicationContext,createUser::class.java)\n         startActivity(intent)\n     }\n}\n</code></pre>\n\n<p>You should call this function:</p>\n\n<pre><code>singupButton.setOnClickListener { view -&gt;\n     fun crtUser (view: View) {\n         val intent = Intent(applicationContext,createUser::class.java)\n         startActivity(intent)\n     }\n     crtUser(view)\n}\n</code></pre>\n\n<p>Or don't define this function, just call it:</p>\n\n<pre><code>singupButton.setOnClickListener {\n    val intent = Intent(applicationContext,createUser::class.java)\n    startActivity(intent)\n}\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5648104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3720c8f2692df3292262456df1e056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ceridoglu", "link": "https://stackoverflow.com/users/5648104/ceridoglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9620, "favorite_count": 1, "accepted_answer_id": 47897307, "answer_count": 2, "score": 5, "last_activity_date": 1513764231, "creation_date": 1513725411, "question_id": 47896586, "link": "https://stackoverflow.com/questions/47896586/kotlin-setonclicklistener-button-is-not-working", "title": "Kotlin setOnclickListener button is not working", "body": "<p>Hello guys i have a problem on click button </p>\n\n<pre><code>    fun mainPage(view: View) {\n            val intent = Intent(applicationContext, MainActivity::class.java)\n            intent.putExtra(\"input\", userText.text.toString())\n            startActivity(intent)\n        }\n\n       //second button started in here\n         singupButton.setOnClickListener {\n            fun crtUser (view: View) {\n                val intent = Intent(applicationContext,createUser::class.java)\n                startActivity(intent)\n            }\n        }\n</code></pre>\n\n<p>but my buttons are not working. Where is my problem?</p>\n"}, {"tags": ["java", "android", "kotlin", "retrofit", "rx-java"], "comments": [{"owner": {"reputation": 1721, "user_id": 3796083, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/533f65ff463f37e5540bac8059583a8c?s=128&d=identicon&r=PG", "display_name": "AndroidRuntimeException", "link": "https://stackoverflow.com/users/3796083/androidruntimeexception"}, "edited": false, "score": 0, "creation_date": 1513731944, "post_id": 47896548, "comment_id": 82761639, "body": "Check my answers here <a href=\"https://stackoverflow.com/questions/41275856/can-we-use-retrofit-rxjava-rxandroid-together/41287745#41287745\" title=\"can we use retrofit rxjava rxandroid together\">stackoverflow.com/questions/41275856/&hellip;</a>"}, {"owner": {"reputation": 3278, "user_id": 3282461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v6pSx.png?s=128&g=1", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/3282461/ankit-kumar"}, "edited": false, "score": 0, "creation_date": 1513749986, "post_id": 47896548, "comment_id": 82765978, "body": "<a href=\"https://github.com/AnkitDroidGit/DaggerRxAdnroid\" rel=\"nofollow noreferrer\">github.com/AnkitDroidGit/DaggerRxAdnroid</a> A simple example of RxJava with Retfrofit in Android"}], "answers": [{"tags": [], "owner": {"reputation": 3424, "user_id": 856588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kg8G7.jpg?s=128&g=1", "display_name": "Maxim Volgin", "link": "https://stackoverflow.com/users/856588/maxim-volgin"}, "is_accepted": false, "score": 0, "last_activity_date": 1513771299, "creation_date": 1513771299, "answer_id": 47905624, "question_id": 47896548, "link": "https://stackoverflow.com/questions/47896548/retrofit-rxjava-retry-with-different-link/47905624#47905624", "title": "Retrofit + RxJava retry with different link", "body": "<p>Try using <em>.switchIfEmpty()</em> operator.</p>\n"}], "owner": {"reputation": 605, "user_id": 7795994, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh6.googleusercontent.com/-H2bwqr5eJyE/AAAAAAAAAAI/AAAAAAAAACU/IAo1YJ1hehQ/photo.jpg?sz=128", "display_name": "Mayr Technologies", "link": "https://stackoverflow.com/users/7795994/mayr-technologies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1513771299, "creation_date": 1513725179, "last_edit_date": 1513725645, "question_id": 47896548, "link": "https://stackoverflow.com/questions/47896548/retrofit-rxjava-retry-with-different-link", "title": "Retrofit + RxJava retry with different link", "body": "<p>I am using an Api which requires to queries:</p>\n\n<ol>\n<li>Title of the Movie</li>\n<li>Release Year of the Movie</li>\n</ol>\n\n<p>But my other Api gives me only the release year for a specific country, so I might have to retry the request with + / - one year. With other words, if the first attemp Fails, I want to retry with a different link/ queries.</p>\n\n<p>How can I achieve this using Retrofit and RxJava?</p>\n"}, {"tags": ["android", "generics", "kotlin", "parcelable"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1513728033, "post_id": 47896351, "comment_id": 82760715, "body": "No idea if it&#39;s related, but why is your T declared <code>out</code> when you&#39;re passing it in for the constructor? Doesn&#39;t that mean it&#39;s not covariant and thus shouldn&#39;t be <code>out</code>? What happens if you remove <code>out</code>?"}, {"owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1513728494, "post_id": 47896351, "comment_id": 82760799, "body": "@PaulHicks true but it doesn&#39;t affect the issue"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1513728655, "post_id": 47896351, "comment_id": 82760838, "body": "Yep didn&#39;t think so. Remember, T isn&#39;t a class, it&#39;s a formal parameter. You can use a <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">reified inline function</a> for this sort of thing, but that won&#39;t work in a secondary constructor. You would have to use a normal reified inline function in a factory, or more likely, on a companion object."}, {"owner": {"reputation": 3604, "user_id": 1643723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e16eeec789c8b7281a9d7dd56b8030?s=128&d=identicon&r=PG", "display_name": "user1643723", "link": "https://stackoverflow.com/users/1643723/user1643723"}, "edited": false, "score": 0, "creation_date": 1513736490, "post_id": 47896351, "comment_id": 82762699, "body": "Could you please elaborate, why do you want such layout? For me it sounds like all potential callers will need to know type of <code>T</code> in advance... which makes the use of generics kind-of dubious."}], "answers": [{"comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1513729790, "post_id": 47897142, "comment_id": 82761126, "body": "Obviously a trivial case here since I don&#39;t have your <code>readParcelable</code> method. Hopefully it&#39;s easy to translate to your exact case."}, {"owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "edited": false, "score": 0, "creation_date": 1513730622, "post_id": 47897142, "comment_id": 82761308, "body": "The problem in my case is that I don&#39;t have instance of <code>T</code> . The <code>constructor(parcel: Parcel)</code> is auto invoked :("}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "reply_to_user": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "edited": false, "score": 0, "creation_date": 1513731258, "post_id": 47897142, "comment_id": 82761483, "body": "You&#39;ll need to change that, or else change the primary constructor."}], "tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": false, "score": 1, "last_activity_date": 1513729556, "creation_date": 1513729556, "answer_id": 47897142, "question_id": 47896351, "link": "https://stackoverflow.com/questions/47896351/get-generics-class-loader-for-parsing-nested-parcelable-generic-field/47897142#47897142", "title": "Get generics class loader for parsing nested Parcelable generic field", "body": "<p>You can use a <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">reified inline function</a> as a factory method to achieve this. I prefer to do this on a companion object. Here's an MCVE:</p>\n\n<pre><code>class MyItem&lt;T&gt; (val model: T) {\n    companion object {\n        inline fun &lt;reified T&gt; from(parcel : T) : MyItem&lt;T&gt; {\n            return MyItem&lt;T&gt;(T::class.java.newInstance())\n        }\n    }\n}\nfun main(args: Array&lt;String&gt;) {\n    val mi = MyItem.from(\"hi\")\n    println(\"mi is a ${mi::class}\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1513733942, "post_id": 47897441, "comment_id": 82762143, "body": "When I replaced String with Parcel, I found some significant issues with my first answer here :) Try this second version."}, {"owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "edited": false, "score": 0, "creation_date": 1513782395, "post_id": 47897441, "comment_id": 82785293, "body": "10x for your  assistance it was very helpful"}], "tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": false, "score": 1, "last_activity_date": 1513734447, "last_edit_date": 1513734447, "creation_date": 1513732102, "answer_id": 47897441, "question_id": 47896351, "link": "https://stackoverflow.com/questions/47896351/get-generics-class-loader-for-parsing-nested-parcelable-generic-field/47897441#47897441", "title": "Get generics class loader for parsing nested Parcelable generic field", "body": "<p>If you <em>need</em> to have a Parcel-type constructor, you could change that to be the primary constructor, and figure out the type of the MyItem then.</p>\n\n<pre><code>class Parcel\n\nclass MyItem(val parcel: Parcel) {\n    inline fun &lt;reified T&gt; model() : T {\n         // You code would be calling\n         // `parcel.readParcelable(T::class.java.classLoader)`\n        return T::class.java.newInstance() as T\n    }\n}\nfun main(args: Array&lt;String&gt;) {\n    // You don't ned to know the out type when constructing MyItem.\n    val mi = MyItem(Parcel())\n\n    // But you do need to know it when calling model()\n    val model : String = mi.model()\n\n    println(\"mi.model is a ${model::class}\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1513799650, "post_id": 47908946, "comment_id": 82794582, "body": "That works. You&#39;re not calling <code>createFromParcel</code> or <code>newArray</code> in any of the example code, how will those be used? The Builder pattern is often used to do this sort of thing, rather than a model / template object. Are external dependencies prevent you from using that this time?"}, {"owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1513801175, "post_id": 47908946, "comment_id": 82795253, "body": "@PaulHicks I&#39;m not sure I follow your thought exactly but I think you mean that I don&#39;t use the static  methods? The provided methods in the example aswell as <code>CREATOR</code>  are minimum requirement to extend <code>Parcelable</code>. My guess is <code>putParcelableArrayList</code> and <code>getParcelableArrayList</code> or <code>putParcelable</code> and  <code>getParcelable</code> methods use these. Unfortunately the source isn&#39;t downloaded on the API I use :("}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1513810691, "post_id": 47908946, "comment_id": 82799126, "body": "Ah, there&#39;s a specific well-known <code>Parcelable</code> API. I didn&#39;t know that. It&#39;s probably not important for this question though."}, {"owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 1, "creation_date": 1513812697, "post_id": 47908946, "comment_id": 82799681, "body": "@PaulHicks somewhat it&#39;s a part of the Android API as alternative to <code>Serializable</code>"}], "tags": [], "owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "is_accepted": true, "score": 4, "last_activity_date": 1513903927, "last_edit_date": 1513903927, "creation_date": 1513782284, "answer_id": 47908946, "question_id": 47896351, "link": "https://stackoverflow.com/questions/47896351/get-generics-class-loader-for-parsing-nested-parcelable-generic-field/47908946#47908946", "title": "Get generics class loader for parsing nested Parcelable generic field", "body": "<p>In order to get the whole picture here is what I ended up with:</p>\n\n<p>The use case is one has a <code>Parcelable</code> generic instance let's call it <code>model</code> which  should be completed with common properties of <code>Parcelable</code> wrapper in order to not pollute the model with extrinsic fields. For example <code>Item</code> wrapper. </p>\n\n<p>In the example below the wrapper extra property gives us some type of <code>index</code>  :</p>\n\n<pre><code>class Item&lt;T : Parcelable&gt; (val model: T, val index: Int ) : Parcelable {\n\n    constructor(parcel: Parcel) :\n        this(parcel.readParcelable(\n          Item&lt;T&gt;::model.javaClass.classLoader),\n          parcel.readInt()\n        ) {}\n\n    override fun writeToParcel(parcel: Parcel?, flag: Int) {\n        parcel?.writeParcelable(model, 0)\n        parcel?.writeInt(index)\n    }\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    companion object CREATOR : Parcelable.Creator&lt;Item&lt;Parcelable&gt;&gt; {\n        override fun createFromParcel(parcel: Parcel): Item&lt;Parcelable&gt; {\n            return Item(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;Item&lt;Parcelable&gt;?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n}\n</code></pre>\n\n<p>So in the end we can have something like: <code>Item(Person(\"John\"), 0)</code>, <code>Item(Person(\"Bill\"), 1)</code>...</p>\n\n<pre><code>class PersonPagerFragment() : BasePagerFragment&lt;Person&gt;() {\n    companion object {\n        fun newInstance(itemList: ArrayList&lt;Item&lt;Person&gt;&gt;) \n          : PersonPagerFragment {\n\n            val args = Bundle()\n            val fragment = PersonPagerFragment()\n            args.putParcelableArrayList(\"items\", itemList)\n            fragment.arguments = args\n\n            return fragment\n        }\n    }\n}\n</code></pre>\n\n<p>extending class like:</p>\n\n<pre><code>class BasePagerFragment&lt;T : Parcelable&gt; : Fragment(){\n    protected fun readBundle(bundle: Bundle?) {\n        bundle.getParcelableArrayList&lt;Item&lt;T&gt;&gt;(\"items\")    \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1808, "favorite_count": 0, "accepted_answer_id": 47908946, "answer_count": 3, "score": 1, "last_activity_date": 1513903927, "creation_date": 1513723917, "last_edit_date": 1513730247, "question_id": 47896351, "link": "https://stackoverflow.com/questions/47896351/get-generics-class-loader-for-parsing-nested-parcelable-generic-field", "title": "Get generics class loader for parsing nested Parcelable generic field", "body": "<p>I have a wrapper of <code>Parcelable</code> generic type but <code>Parcel</code> constructing fails to compile because <code>T</code> class can not be determined generically</p>\n\n<pre><code>class MyItem&lt;T : Parcelable&gt; (val model: T) : Parcelable {\n    constructor(parcel: Parcel) : \n      this(parcel.readParcelable(T::class.java.classLoader)) {\n\n    }\n}\n</code></pre>\n\n<p>Is there any solution to this case?</p>\n"}, {"tags": ["kotlin", "corda"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8920018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/74f11bd8bc6a3f3c95befe73fba656fc?s=128&d=identicon&r=PG&f=1", "display_name": "Omganesh", "link": "https://stackoverflow.com/users/8920018/omganesh"}, "edited": false, "score": 0, "creation_date": 1513787419, "post_id": 47901228, "comment_id": 82788510, "body": "Looks like I have not explained in proper way... 1) Bank node create state and send to Client (i.e., committed in both ledgers using FinalityFlow). 2) Client node copy that (UNCONSUMED) state and modify the values then send back to Bank&#39;s and Client&#39;s ledger. Total 2 flows here Bank to Client and Client to Bank. Now my issue is: If Client node try to start flow 2nd time it should not be allowed since Client need UNCONSUMED input state from Bank."}, {"owner": {"reputation": 15, "user_id": 8920018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/74f11bd8bc6a3f3c95befe73fba656fc?s=128&d=identicon&r=PG&f=1", "display_name": "Omganesh", "link": "https://stackoverflow.com/users/8920018/omganesh"}, "edited": false, "score": 0, "creation_date": 1513801737, "post_id": 47901228, "comment_id": 82795532, "body": "I checked bank node has received the transactions. But I don&#39;t see that input state as consumed. Can you let me know how to change vault state&#39;s status to consumed manually please?"}, {"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "reply_to_user": {"reputation": 15, "user_id": 8920018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/74f11bd8bc6a3f3c95befe73fba656fc?s=128&d=identicon&r=PG&f=1", "display_name": "Omganesh", "link": "https://stackoverflow.com/users/8920018/omganesh"}, "edited": false, "score": 0, "creation_date": 1513955814, "post_id": 47901228, "comment_id": 82856927, "body": "The state will be marked as consumed automatically. This isn&#39;t something you do manually. As soon as the node sees a transaction that consumes a given state, it will mark the state as consumed."}, {"owner": {"reputation": 3585, "user_id": 1352127, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/SQIQ5.jpg?s=128&g=1", "display_name": "Shailesh Pratapwar", "link": "https://stackoverflow.com/users/1352127/shailesh-pratapwar"}, "reply_to_user": {"reputation": 15, "user_id": 8920018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/74f11bd8bc6a3f3c95befe73fba656fc?s=128&d=identicon&r=PG&f=1", "display_name": "Omganesh", "link": "https://stackoverflow.com/users/8920018/omganesh"}, "edited": false, "score": 0, "creation_date": 1521626560, "post_id": 47901228, "comment_id": 85807559, "body": "@Omganesh Try to check if you see any error in Notary node logs."}], "tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": false, "score": 0, "last_activity_date": 1513756557, "creation_date": 1513756557, "answer_id": 47901228, "question_id": 47895201, "link": "https://stackoverflow.com/questions/47895201/vault-states-status-to-unconsumed-consumed/47901228#47901228", "title": "Vault state&#39;s status to UNCONSUMED/CONSUMED", "body": "<p>As part of <code>FinalityFlow</code>, the transaction will be sent to all the participants of all the states in the transaction (or all of the states' owners, if they are <code>OwnableState</code>s). Upon receiving the transaction, each node will verify that it is valid and fully signed, and then record it in its vault. At this point, the node's vault will mark any input states to the transaction as consumed.</p>\n\n<p>If you're finding that after running the flow, one of the input states is not being marked as consumed on the bank node, you should check whether the bank node is receiving the transaction as part of <code>FinalityFlow</code>.</p>\n"}], "owner": {"reputation": 15, "user_id": 8920018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/74f11bd8bc6a3f3c95befe73fba656fc?s=128&d=identicon&r=PG&f=1", "display_name": "Omganesh", "link": "https://stackoverflow.com/users/8920018/omganesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 423, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571223249, "creation_date": 1513717630, "question_id": 47895201, "link": "https://stackoverflow.com/questions/47895201/vault-states-status-to-unconsumed-consumed", "title": "Vault state&#39;s status to UNCONSUMED/CONSUMED", "body": "<p>I have taken Bank flow's output as input and updated the value. But I don't know that how to update the vault's state status to \"CONSUMED\". I thought it will happen automatically based on flowlogic.</p>\n\n<p>Bank Node initiated the flow and committed to both Bank and Customer ledger.\nCustomer Node initiated another flow and take Bank's state as input, updated the value and committed on both Customer and Bank ledger as new state.\nI have done up to this level and below the is sample code.</p>\n\n<pre><code> @Suspendable\n    override fun call(): SignedTransaction {\n        // Obtain a reference to the notary we want to use.\n        val notary = serviceHub.networkMapCache.notaryIdentities[0]\n        // Stage1.\n        progressTracker.currentStep = GENERATING_TRANSACTION\n        // Extract state from ledger as input for Customer node\n        val criteria = QueryCriteria.VaultQueryCriteria(status = Vault.StateStatus.UNCONSUMED)\n        val results = serviceHub.vaultService.queryBy&lt;POCState&gt;(criteria)\n        val pocState = results.states.last().state.data\n        // Customer reset the approval status\n        val ourOtherOutputStateVB: POCState = pocState.copy(stateCode = pocStateCodeVB, stateCodeMessage = pocStateStringVB)\n        // Generate an unsigned transaction.\n        val txCommand = Command(BankContract.Commands.Create(), pocState.participants.map { it.owningKey })\n        val txBuilder = TransactionBuilder(notary).withItems(StateAndContract(ourOtherOutputStateVB, POC_CONTRACT_ID), txCommand)\n\n        // Stage 2.\n       progressTracker.currentStep = VERIFYING_TRANSACTION\n       // Verify that the transaction is valid.\n       txBuilder.verify(serviceHub)\n\n        // Stage 3.\n        progressTracker.currentStep = SIGNING_TRANSACTION\n        // Sign the transaction.\n        val partSignedTx = serviceHub.signInitialTransaction(txBuilder)\n\n        // Stage 4.\n        val otherPartyFlow = initiateFlow(otherParty)\n        progressTracker.currentStep = GATHERING_SIGS\n        // Send the state to the counterparty, and receive it back with their signature.\n        val fullySignedTx = subFlow(CollectSignaturesFlow(partSignedTx, setOf(otherPartyFlow), GATHERING_SIGS.childProgressTracker()))\n\n        // Stage 5.\n        progressTracker.currentStep = FINALISING_TRANSACTION\n        // Notarise and record the transaction in both parties' vaults.\n        return subFlow(FinalityFlow(fullySignedTx, FINALISING_TRANSACTION.childProgressTracker()))\n    }\n</code></pre>\n\n<p>Now, my question is:\nHow to change Bank's state to \"Consumed\" after Customer node used that as input. So that Customer node can not initiate the flow again for that same Bank state. This will ensure that ALWAYS Bank should initiate the flow and then customer can respond to that flow.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "edited": false, "score": 0, "creation_date": 1513715960, "post_id": 47894729, "comment_id": 82756360, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/27965662/how-can-i-change-default-dialog-button-text-color-in-android-5\">How can I change default dialog button text color in android 5</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3559, "user_id": 3111877, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aJpSK.jpg?s=128&g=1", "display_name": "D_Alpha", "link": "https://stackoverflow.com/users/3111877/d-alpha"}, "is_accepted": true, "score": 7, "last_activity_date": 1513717377, "creation_date": 1513717377, "answer_id": 47895144, "question_id": 47894729, "link": "https://stackoverflow.com/questions/47894729/how-can-i-change-the-color-of-the-positive-button-on-alertdialog/47895144#47895144", "title": "How can I change the color of the positive button on alertdialog?", "body": "<p>Some small changes will do the thing you want-</p>\n\n<pre><code>val builder: AlertDialog.Builder = AlertDialog.Builder(this)\nval dialog: AlertDialog = builder.setTitle(\"SomeText\")\n           .setMessage(\"SomeMessage\")\n           .setPositiveButton(\"OK\") {\n               dialog, which -&gt; dialog.dismiss()\n           }\n           .setNegativeButton(\"Cancel\") { dialog, which -&gt; dialog.dismiss()\n\n           }\n           .create()\ndialog.show()\n\ndialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(Color.BLUE)\n\ndialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(Color.DKGRAY)\n</code></pre>\n\n<p>hope it will be helpful.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6008330"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3880, "favorite_count": 2, "accepted_answer_id": 47895144, "answer_count": 1, "score": 3, "last_activity_date": 1513769364, "creation_date": 1513715424, "last_edit_date": 1513769364, "question_id": 47894729, "link": "https://stackoverflow.com/questions/47894729/how-can-i-change-the-color-of-the-positive-button-on-alertdialog", "title": "How can I change the color of the positive button on alertdialog?", "body": "<p>I would like to change the color of the positive button. How can I do this?</p>\n\n<p>AlerDialog:</p>\n\n<pre><code>fun onSomeClicked(view: View) {\n    val dialog: AlertDialog.Builder = AlertDialog.Builder(view.context)\n    dialog.setTitle(\"SomeText\")\n            .setMessage(\"SomeMessage\")\n            .setPositiveButton(view.context.getString(R.string.ok_dialog)) { p0, p1 -&gt;\n                onCheckPassword(view)\n            }\n            .setNegativeButton(context.getString(R.string.cancel_dialog)) { p0, p1 -&gt;\n\n            }\n            .create()\n            .show()\n\n}\n</code></pre>\n\n<p>Thanks!\n(My question is in kotlin, with do in kotlin.)</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1513709677, "post_id": 47893445, "comment_id": 82753448, "body": "But Java doesn&#39;t have notion of <code>Unit</code>."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 6, "creation_date": 1513709778, "post_id": 47893445, "comment_id": 82753489, "body": "What would be your use case for this?"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1513709921, "post_id": 47893445, "comment_id": 82753554, "body": "@SergioTulentsev - Yes it does - you can execute <code>System.out.println(kotlin.Unit.class);</code> from Java code."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1513710287, "post_id": 47893445, "comment_id": 82753725, "body": "@OliverCharlesworth: I meant, in the language. <code>void</code> <i>is</i> java&#39;s <code>Unit</code>. But you&#39;re right, of course."}, {"owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1513713464, "post_id": 47893445, "comment_id": 82755261, "body": "@zsmb13 added my use case to question"}], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1513752851, "post_id": 47898275, "comment_id": 82767116, "body": "<code>Unit is meaningless</code> - what would that mean?"}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1513753003, "post_id": 47898275, "comment_id": 82767179, "body": "@voddan I mean return <code>Unit</code> is meaningless. There is only <b>ONE</b> instance of <code>Unit</code>. It cannot be created or subclass. Just like <code>Void</code> in Java, you cannot create a <code>Void</code>. You can only return <code>null</code>."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1513753436, "post_id": 47898275, "comment_id": 82767379, "body": "but you can return <code>Unit.INSTANCE</code>. Or accept <code>Unit</code> as a parameter. Or put it into <code>List&lt;Unit&gt;</code>. It is just a final class with a private constructor &#175;_(\u30c4)_/&#175;"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1513753699, "post_id": 47898275, "comment_id": 82767516, "body": "@Joshua &quot;There is only ONE instance of Unit. It cannot be created or subclass.&quot; This applies to all <code>object</code>s. Do you think they are meaningless too?"}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1513753724, "post_id": 47898275, "comment_id": 82767530, "body": "@voddan Yes, you can do that but Kotlin does not intend to let users to use <code>Unit</code>. It is a internal class for void function mapping."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1513753938, "post_id": 47898275, "comment_id": 82767633, "body": "@AlexeyRomanov &quot;This applies to all objects.&quot; This statement is false as it does not apply to all objects. Singleton object has its own usage but <code>Unit</code> is not design for you to use. All its does it let Kotlin maps void function in Java."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1513754654, "post_id": 47898275, "comment_id": 82768006, "body": "@Joshua &quot;There is only one instance of <code>Foo</code>. It cannot be created or subclassed. The only valid value of <code>Foo</code> is <code>Foo</code> itself.&quot; All of these statements are correct for any <code>object Foo</code>. So if they mean <code>Unit</code> is meaningless, they also mean <code>Foo</code> is meaningless."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1513755779, "post_id": 47898275, "comment_id": 82768545, "body": "@AlexeyRomanov Your statement is true if and only if <code>Foo</code> is a final class with private constructor and only has a one instance.Are all objects a final class with private constructor and only has a one instance? No, therefore you statement is false. Second, I said &quot;return <code>Unit</code>&quot; is meaningless because it is always the same value. Third, meaningless does not equal useless. <code>if (true)</code> is meaningless because it is always true."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1513758486, "post_id": 47898275, "comment_id": 82769943, "body": "@Joshua 1. I was talking about <code>object</code>s (as in the Kotlin keyword), not all objects. 2. Your answer says <code>Unit</code> is meaningless, not returning it. 3. <code>if (true)</code> has a very simple meaning, not no meaning."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1513759281, "post_id": 47898275, "comment_id": 82770380, "body": "@AlexeyRomanov 1. <code>object</code> is a special term in OOP. For you meaning &quot;Kotlin object&quot; is called <code>companion object</code>. It is a singleton and can use for static replacement  in Java which is different from Unit. 2. See my first reply to voddan. 3. &quot;meaningless&quot; means &quot;without meaning, significance, <b>purpose</b>, or value; purposeless; insignificant:&quot; (from dictionary.com). It does not always mean no meaning. <code>if(true)</code> will always run,  therefore  that <code>if</code> serves no purpose. Many compilers will remove it in bytecode because it is meaningless. In Kotlin, return <code>Unit</code> is meaningless."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1513765086, "post_id": 47898275, "comment_id": 82773941, "body": "No, the OOP term is object. Just as <code>class</code> the keyword is not the same as class the term and not the same as <code>Class&lt;T&gt;</code>. And of course not all <code>object</code>s are <code>companion object</code>s: <code>Unit</code> is an example."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1513771799, "post_id": 47898275, "comment_id": 82778175, "body": "@Joshua I see that this thread turned into a word fight, which is unfortunate. Simply put, your statements like &quot;Kotlin does not intend to let users to use Unit&quot; are misleading and generally false. Kotlin uses <code>Unit</code> to resolve complex generic cases or as a default return object. For an example see functions like <code>runBlocking&lt;Unit&gt;</code>"}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": -2, "last_activity_date": 1513739717, "creation_date": 1513739717, "answer_id": 47898275, "question_id": 47893445, "link": "https://stackoverflow.com/questions/47893445/possible-to-keep-unit-as-the-return-type-of-a-kotlin-function-when-called-from/47898275#47898275", "title": "Possible to keep `Unit` as the return type of a Kotlin function when called from Java?", "body": "<p>I may have misunderstood your question.</p>\n\n<p>First, in Kotlin,</p>\n\n<pre><code>fun invoke(callback: Callback): Unit\n</code></pre>\n\n<p>is equivalent to </p>\n\n<pre><code>fun invoke(callback: Callback)\n</code></pre>\n\n<p>In Java, if you override a function like that, you do not need to return anything.</p>\n\n<blockquote>\n  <p>Is it possible to instruct the Kotlin compiler to keep <code>Unit</code> as the return type for Java? (not <code>void</code>)</p>\n</blockquote>\n\n<p>No, because <code>Unit</code> is meaningless. The only valid value of <code>Unit</code> is <code>Unit</code> itself.</p>\n"}, {"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1513753192, "creation_date": 1513753192, "answer_id": 47900414, "question_id": 47893445, "link": "https://stackoverflow.com/questions/47893445/possible-to-keep-unit-as-the-return-type-of-a-kotlin-function-when-called-from/47900414#47900414", "title": "Possible to keep `Unit` as the return type of a Kotlin function when called from Java?", "body": "<p>It would certainly be possible to do this in Java:</p>\n\n<pre><code>public kotlin.Unit test() { return null; }\n</code></pre>\n\n<p>But in Kotlin your best option seems to be to go with a function object:</p>\n\n<pre><code>val invoke: (Callback) -&gt; Unit = {}\n\n// from Java:\nreturn abstractClass.getInvoke(callback)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "edited": false, "score": 0, "creation_date": 1513785199, "post_id": 47900669, "comment_id": 82787191, "body": "this looks like it will work! will try it and report back"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1513754225, "creation_date": 1513754225, "answer_id": 47900669, "question_id": 47893445, "link": "https://stackoverflow.com/questions/47893445/possible-to-keep-unit-as-the-return-type-of-a-kotlin-function-when-called-from/47900669#47900669", "title": "Possible to keep `Unit` as the return type of a Kotlin function when called from Java?", "body": "<p>For your edge case, you'd still have to deal with Java methods returning <code>void</code>. So just solve it once:</p>\n\n<pre><code>fun &lt;T&gt; fromConsumer(consumer: Consumer&lt;T&gt;): (T) -&gt; Unit = { consumer.consume(it) }\n</code></pre>\n\n<p>and then instead of implementing <code>(Result) -&gt; Unit</code> directly, implement/create a <code>Consumer&lt;Result&gt;</code> and pass it to this function. It could be written in Java as well, just would be more complicated.</p>\n"}], "owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1513754225, "creation_date": 1513709564, "last_edit_date": 1592644375, "question_id": 47893445, "link": "https://stackoverflow.com/questions/47893445/possible-to-keep-unit-as-the-return-type-of-a-kotlin-function-when-called-from", "title": "Possible to keep `Unit` as the return type of a Kotlin function when called from Java?", "body": "<p>I have a kotlin function inside a sealed class.</p>\n<pre><code>fun invoke(callback: Callback): Unit\n</code></pre>\n<p>Java sees the method signature as a function that returns <code>void</code>.</p>\n<p>Is it possible to instruct the Kotlin compiler to keep <code>Unit</code> as the return type for Java? (not <code>void</code>)</p>\n<h1>Use case</h1>\n<p>My use case is a jvm interop issue from Java where I need to implement <code>(Result) -&gt; Unit</code>.</p>\n<pre><code>// inside a java method (currently)\nabstractClass.invoke(callback)\nreturn Unit.INSTANCE\n\n// what I'd prefer instead\nreturn abstractClass.invoke(callback) // invoke returns Unit, but it's in Kotlin, so it maps to void in Java. So this doesn't work\n</code></pre>\n"}, {"tags": ["performance", "kotlin", "jmh"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 2, "creation_date": 1513711882, "post_id": 47891568, "comment_id": 82754466, "body": "Not directly related to question but I don&#39;t seem to understand how come <code>Thread.currentThread().id</code> could have changed after <code>block</code> execution?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1513744425, "post_id": 47891568, "comment_id": 82764301, "body": "@miensol good question, I guess it cannot. Edited, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1513745027, "creation_date": 1513745027, "answer_id": 47898917, "question_id": 47891568, "link": "https://stackoverflow.com/questions/47891568/reliably-measure-jvm-allocations/47898917#47898917", "title": "Reliably measure JVM allocations", "body": "<p>My current solution is to collect statistics with several runs:</p>\n\n<pre><code>private inline fun stabiliseMeasureAllocatedBytes(block: () -&gt; Unit): Long {\n    val runs = List(7) { measureAllocatedBytes(block) }\n    val results = runs.drop(2) // skip warm-up\n\n    val counts = results.groupingBy { it }.eachCount()\n    val (commonResult, commonCount) = counts.entries.maxBy { (result, count) -&gt; count }!!\n\n    if (commonCount &gt;= results.size / 2)\n        return commonResult\n    else\n        throw RuntimeException(\"Allocation measurements vary too much: $runs\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1513935161, "post_id": 47938403, "comment_id": 82847085, "body": "Can it be embedded into a unit test? (preferably without parsing a bash output)"}, {"owner": {"reputation": 17271, "user_id": 2613885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iN9n.jpg?s=128&g=1", "display_name": "Aleksey Shipilev", "link": "https://stackoverflow.com/users/2613885/aleksey-shipilev"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1513941237, "post_id": 47938403, "comment_id": 82850227, "body": "Well, yeah, you can run JMH benchmark with JMH API, and parse out profiler result."}, {"owner": {"reputation": 17271, "user_id": 2613885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iN9n.jpg?s=128&g=1", "display_name": "Aleksey Shipilev", "link": "https://stackoverflow.com/users/2613885/aleksey-shipilev"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1513941492, "post_id": 47938403, "comment_id": 82850346, "body": "I was just reacting to &quot;I understand that JMH doesn&#39;t do that&quot; -- it does. :) But maybe for the sake of unit tests it would be better to understand the reason why your original code has hiccups. I&#39;d say you need to filter out first few invocations of the <code>block()</code> and <code>ThreadMXBean</code> methods, so that JVM may do lazy initializations first, without profiling."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1513953221, "post_id": 47938403, "comment_id": 82855841, "body": "Oh, sorry about the wording, I hope now it is better. Could you please look at what I do (the other answer) to confirm that it is close to what should work. Basically I skip first few runs, then select the most common measurement."}, {"owner": {"reputation": 17271, "user_id": 2613885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iN9n.jpg?s=128&g=1", "display_name": "Aleksey Shipilev", "link": "https://stackoverflow.com/users/2613885/aleksey-shipilev"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1514044175, "post_id": 47938403, "comment_id": 82876890, "body": "I think picking up distribution &quot;mode&quot; is fine."}], "tags": [], "owner": {"reputation": 17271, "user_id": 2613885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iN9n.jpg?s=128&g=1", "display_name": "Aleksey Shipilev", "link": "https://stackoverflow.com/users/2613885/aleksey-shipilev"}, "is_accepted": true, "score": 3, "last_activity_date": 1513932427, "creation_date": 1513932427, "answer_id": 47938403, "question_id": 47891568, "link": "https://stackoverflow.com/questions/47891568/reliably-measure-jvm-allocations/47938403#47938403", "title": "Reliably measure JVM allocations", "body": "<p>JMH has <code>-prof gc</code> profiler, which is supposed to be accurate with allocation profiling. Although it uses the same <code>ThreadMXBean</code> under cover, it can filter out warmup effects, and average the hiccups out over multiple <code>@Benchmark</code> invocations. The typical errors are within 0.001 byte/op there.</p>\n"}], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 1, "accepted_answer_id": 47938403, "answer_count": 2, "score": 3, "last_activity_date": 1513952880, "creation_date": 1513702084, "last_edit_date": 1513952880, "question_id": 47891568, "link": "https://stackoverflow.com/questions/47891568/reliably-measure-jvm-allocations", "title": "Reliably measure JVM allocations", "body": "<p>I have two implementations of the same algorithm. I would like to verify that non of them uses more memory than necessary, or, in other words, that they allocate exactly the same number of objects.</p>\n\n<p>My current solution is to measure the number of allocated bytes before and after the procedures via <code>threadMXBean.getThreadAllocatedBytes(threadId)</code> and use that as an approximation of the memory footprint.</p>\n\n<p>The problem is that this method is unstable, e.i. sometimes it returns a much greater number than it should. It especially shows on algorithms that don't allocate objects. One problematic example is a method that sums an <code>int[]</code>.</p>\n\n<p>Actual code (Kotlin):</p>\n\n<pre><code>class MemAllocationTest {\n\n    private val threadMXBean = (ManagementFactory.getThreadMXBean() as? com.sun.management.ThreadMXBean)\n            ?: throw RuntimeException(\"Runtime does not support com.sun.management.ThreadMXBean\")\n\n    /**\n     * May run [block] several times\n     * */\n    private inline fun measureAllocatedBytes(block: () -&gt; Unit): Long {\n        val threadId = Thread.currentThread().id\n\n        val before = threadMXBean.getThreadAllocatedBytes(threadId)\n        block()\n        val after = threadMXBean.getThreadAllocatedBytes(threadId)\n\n        return after - before\n    }\n\n....\n</code></pre>\n\n<p>Is there a better solution?</p>\n\n<p>(I don't know how to do that with JMH, but IMHO this is a very close topic)</p>\n"}, {"tags": ["java", "android", "kotlin", "parcelable", "parcel"], "answers": [{"tags": [], "owner": {"reputation": 98, "user_id": 1909634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/092705e84e0e07c8f6ed2afd1e0d181f?s=128&d=identicon&r=PG", "display_name": "Marc Poppleton", "link": "https://stackoverflow.com/users/1909634/marc-poppleton"}, "is_accepted": true, "score": 0, "last_activity_date": 1513784138, "creation_date": 1513784138, "answer_id": 47909581, "question_id": 47890020, "link": "https://stackoverflow.com/questions/47890020/android-resolveinfo-parcelable-not-completely-unparceled/47909581#47909581", "title": "Android ResolveInfo Parcelable not completely unparceled", "body": "<p>Ok so I've found how to solve the problem, it had nothing to do with the Parcelable Creator methods but with the way I was using the Parcel. Once you're done writing in the Parcel you have to call setDataPosition with 0 as arguments value.</p>\n\n<p>My code is now the following:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun failingFunction(resolveInfo:ResolveInfo){\n    Log.d(TAG,\"original label ${resolveInfo.loadLabel(this.packageManager)}\")\n    val p = Parcel.obtain()\n    resolveInfo.writeToParcel(p, 0)\n    p.setDataPosition(0)\n    val copy = ResolveInfo.CREATOR.createFromParcel(p)\n    Log.d(TAG,\"copy label ${copy.loadLabel(this.packageManager)}\") // no longer throws java.lang.IllegalStateException\n}\n</code></pre>\n"}], "owner": {"reputation": 98, "user_id": 1909634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/092705e84e0e07c8f6ed2afd1e0d181f?s=128&d=identicon&r=PG", "display_name": "Marc Poppleton", "link": "https://stackoverflow.com/users/1909634/marc-poppleton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 47909581, "answer_count": 1, "score": 0, "last_activity_date": 1513784138, "creation_date": 1513696695, "question_id": 47890020, "link": "https://stackoverflow.com/questions/47890020/android-resolveinfo-parcelable-not-completely-unparceled", "title": "Android ResolveInfo Parcelable not completely unparceled", "body": "<p>I'm stumbling on what I would have expected to be an easy task, that is writing a ResolveInfo object to a Parcel and then creating a ResolveInfo from this Parcel. Sadly it is not as my code crashes and throws a java.lang.IllegalStateException.</p>\n\n<p>Here is my code</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun failingFunction(resolveInfo:ResolveInfo){\n    Log.d(TAG,\"original label ${resolveInfo.loadLabel(this.packageManager)}\")\n    val p = Parcel.obtain()\n    resolveInfo.writeToParcel(p, 0)\n    val copy = ResolveInfo.CREATOR.createFromParcel(p)\n    Log.d(TAG,\"copy label ${copy.loadLabel(this.packageManager)}\") // throws java.lang.IllegalStateException: Missing ComponentInfo!\n}\n</code></pre>\n\n<p>Looking at the source code of the ResolveInfo class the exception is thrown when none of the ResolveInfo ActivityInfo, ServiceInfo or ProviderInfo attributes are present. I therefore added logs to check if these were missing.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun failingFunction(resolveInfo:ResolveInfo){\n    Log.d(TAG,\"original activity info ${resolveInfo.activityInfo}\")\n    Log.d(TAG,\"original service info ${resolveInfo.serviceInfo}\")\n    Log.d(TAG,\"original provider info ${resolveInfo.providerInfo}\")\n    Log.d(TAG,\"original label ${resolveInfo.loadLabel(this.packageManager)}\")\n    val p = Parcel.obtain()\n    resolveInfo.writeToParcel(p, 0)\n    val copy = ResolveInfo.CREATOR.createFromParcel(p)\n    Log.d(TAG,\"copy activity info ${copy.activityInfo}\")\n    Log.d(TAG,\"copy service info ${copy.serviceInfo}\")\n    Log.d(TAG,\"copy provider info ${copy.providerInfo}\")\n    Log.d(TAG,\"copy label ${copy.loadLabel(this.packageManager)}\")\n}\n</code></pre>\n\n<p>My original ResolveInfo object has an ActivityInfo but my copy doesn't. ActivityInfo implements Parcelable so I don't quite understand why it isn't written in the Parcel. According to the source of ResolveInfo it should be written in the parcel and read from it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void writeToParcel(Parcel dest, int parcelableFlags) {\n    if (activityInfo != null) {\n        dest.writeInt(1);\n        activityInfo.writeToParcel(dest, parcelableFlags);\n    } else if (serviceInfo != null) {\n        dest.writeInt(2);\n        serviceInfo.writeToParcel(dest, parcelableFlags);\n    } else if (providerInfo != null) {\n        dest.writeInt(3);\n        providerInfo.writeToParcel(dest, parcelableFlags);\n    } else {\n        dest.writeInt(0);\n    }\n    if (filter != null) {\n        dest.writeInt(1);\n        filter.writeToParcel(dest, parcelableFlags);\n    } else {\n        dest.writeInt(0);\n    }\n    dest.writeInt(priority);\n    dest.writeInt(preferredOrder);\n    dest.writeInt(match);\n    dest.writeInt(specificIndex);\n    dest.writeInt(labelRes);\n    TextUtils.writeToParcel(nonLocalizedLabel, dest, parcelableFlags);\n    dest.writeInt(icon);\n    dest.writeString(resolvePackageName);\n    dest.writeInt(targetUserId);\n    dest.writeInt(system ? 1 : 0);\n    dest.writeInt(noResourceId ? 1 : 0);\n    dest.writeInt(iconResourceId);\n    dest.writeInt(handleAllWebDataURI ? 1 : 0);\n    dest.writeInt(isInstantAppAvailable ? 1 : 0);\n}\n\nprivate ResolveInfo(Parcel source) {\n    activityInfo = null;\n    serviceInfo = null;\n    providerInfo = null;\n    switch (source.readInt()) {\n        case 1:\n            activityInfo = ActivityInfo.CREATOR.createFromParcel(source);\n            break;\n        case 2:\n            serviceInfo = ServiceInfo.CREATOR.createFromParcel(source);\n            break;\n        case 3:\n            providerInfo = ProviderInfo.CREATOR.createFromParcel(source);\n            break;\n        default:\n            Slog.w(TAG, \"Missing ComponentInfo!\");\n            break;\n    }\n    if (source.readInt() != 0) {\n        filter = IntentFilter.CREATOR.createFromParcel(source);\n    }\n    priority = source.readInt();\n    preferredOrder = source.readInt();\n    match = source.readInt();\n    specificIndex = source.readInt();\n    labelRes = source.readInt();\n    nonLocalizedLabel\n            = TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(source);\n    icon = source.readInt();\n    resolvePackageName = source.readString();\n    targetUserId = source.readInt();\n    system = source.readInt() != 0;\n    noResourceId = source.readInt() != 0;\n    iconResourceId = source.readInt();\n    handleAllWebDataURI = source.readInt() != 0;\n    instantAppAvailable = isInstantAppAvailable = source.readInt() != 0;\n}\n</code></pre>\n\n<p>Clue anyone as to why this nested Parcelable isn't unparceled properly? Am I missing useful flags I should use?</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["java", "maven", "kotlin"], "comments": [{"owner": {"reputation": 2477, "user_id": 158037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1b81dd76dea2a6e58fa4c8606301e92?s=128&d=identicon&r=PG", "display_name": "user158037", "link": "https://stackoverflow.com/users/158037/user158037"}, "edited": false, "score": 0, "creation_date": 1513696263, "post_id": 47889454, "comment_id": 82745935, "body": "What is your maven version? Do examples from <a href=\"https://codeload.github.com/JetBrains/kotlin-examples/zip/master\" rel=\"nofollow noreferrer\">codeload.github.com/JetBrains/kotlin-examples/zip/master</a> build?"}, {"owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "reply_to_user": {"reputation": 2477, "user_id": 158037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1b81dd76dea2a6e58fa4c8606301e92?s=128&d=identicon&r=PG", "display_name": "user158037", "link": "https://stackoverflow.com/users/158037/user158037"}, "edited": false, "score": 0, "creation_date": 1513696458, "post_id": 47889454, "comment_id": 82746069, "body": "my maven version is <code>3.5.2</code>. I already tried your example, it works but in the example kotlin version is really old <code>1.0.3</code>. when I tried your example with kotlin version <code>1.2.10</code> it doesn&#39;t work"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1513703806, "post_id": 47889454, "comment_id": 82750608, "body": "Just created test project using maven 3.5.2. Pasted your pom file from above, and created a simple Kotlin file in src/main/kotlin. Compiles without issue. Successfully did &#39;mvn clean install&#39;. Perhaps something isn&#39;t getting resolved correctly by Maven when you&#39;re building, and you&#39;re getting an older dependency?"}, {"owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "reply_to_user": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1513706348, "post_id": 47889454, "comment_id": 82751880, "body": "@Mikezx6r my dependicies are fresh ones, what is your java version ? mine is 1.8.0_151"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1513722986, "post_id": 47889454, "comment_id": 82759210, "body": "Apache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T03:58:13-04:00) Java version: 1.8.0_152, vendor: Azul Systems, Inc.  On OSX Sierra"}, {"owner": {"reputation": 2372, "user_id": 468778, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/XgvcC.jpg?s=128&g=1", "display_name": "Roger Hill", "link": "https://stackoverflow.com/users/468778/roger-hill"}, "edited": false, "score": 0, "creation_date": 1540920221, "post_id": 47889454, "comment_id": 93037824, "body": "Tried changing the kotlin version in pom file to 1.1.61, failed with same error."}], "answers": [{"comments": [{"owner": {"reputation": 886, "user_id": 299109, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1047889abb6608efeb6129803737335a?s=128&d=identicon&r=PG", "display_name": "Elifarley", "link": "https://stackoverflow.com/users/299109/elifarley"}, "edited": false, "score": 1, "creation_date": 1531974132, "post_id": 48464715, "comment_id": 89799888, "body": "I&#39;m using Kotlin 1.2.51 and I have the same issue. The project compiles fine in IntelliJ though. Deleting org/jetbrains didn&#39;t solve the issue."}, {"owner": {"reputation": 2372, "user_id": 468778, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/XgvcC.jpg?s=128&g=1", "display_name": "Roger Hill", "link": "https://stackoverflow.com/users/468778/roger-hill"}, "edited": false, "score": 0, "creation_date": 1540920164, "post_id": 48464715, "comment_id": 93037791, "body": "Ditto here, deleted and re-run reproduced the same error."}], "tags": [], "owner": {"reputation": 31, "user_id": 1989715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d8eeb2cdd94b665ea6113f42adfce24?s=128&d=identicon&r=PG", "display_name": "swiss_steve", "link": "https://stackoverflow.com/users/1989715/swiss-steve"}, "is_accepted": false, "score": 2, "last_activity_date": 1516981517, "creation_date": 1516981517, "answer_id": 48464715, "question_id": 47889454, "link": "https://stackoverflow.com/questions/47889454/maven-with-kotlin-1-2-a-required-class-was-missing-kotlin-reflect-kdeclaration/48464715#48464715", "title": "Maven with Kotlin 1.2 : A required class was missing kotlin/reflect/KDeclarationContainer", "body": "<p>I had a very similar issue with kotlin-maven-plugin/1.2.20 which went away after I deleted org/jetbrains out of my local maven repo and re-ran the build. I can only think something was corrupted or missing.</p>\n"}], "owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1612, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1539666740, "creation_date": 1513694848, "last_edit_date": 1518542037, "question_id": 47889454, "link": "https://stackoverflow.com/questions/47889454/maven-with-kotlin-1-2-a-required-class-was-missing-kotlin-reflect-kdeclaration", "title": "Maven with Kotlin 1.2 : A required class was missing kotlin/reflect/KDeclarationContainer", "body": "<p>I tried to use Kotlin with Maven so I followed the <a href=\"https://kotlinlang.org/docs/reference/using-maven.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<p>I have this configuration in the <code>pom.xml</code> file</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;kotlin.version&gt;1.2.10&lt;/kotlin.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>The sources folders are <code>src/main/kotlin</code> and <code>src/test/kotlin</code></p>\n\n<p>When I do <code>mvn clean install</code> I got this error </p>\n\n<pre><code>[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.2.10:compile (compile) on project kotlin-starter: Execution compile of goal org.jetbrains.kotlin:kotlin-maven-plugin:1.2.10:compile failed: A required class was missing while executing org.jetbrains.kotlin:kotlin-maven-plugin:1.2.10:compile: kotlin/reflect/KDeclarationContainer\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.jetbrains.kotlin:kotlin-maven-plugin:1.2.10\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n...\n</code></pre>\n\n<p>I also tried using <code>kotlin-stdlib</code> instead of <code>kotlin-stdlib-jdk8</code> but I got the same error. When I open the library I see the class<code>KDeclarationContainer</code> in the package <code>kotlin.reflect</code> so I don't understand why I got this error ?</p>\n\n<p><strong>EDIT</strong> : when I change kotlin version to <code>&lt;kotlin.version&gt;1.1.61&lt;/kotlin.version&gt;</code>, everything works perfectly...</p>\n"}, {"tags": ["intellij-idea", "kotlin", "kotlin-dokka"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1513695826, "post_id": 47889445, "comment_id": 82745639, "body": "What do you mean by usable? <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html#block-tags\" rel=\"nofollow noreferrer\"><code>sample</code> is one of the built in KDoc block tags</a>."}, {"owner": {"reputation": 1253, "user_id": 3423236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2c79cddb8cb48d678ef9d12fad4b6f82?s=128&d=identicon&r=PG&f=1", "display_name": "Marek J", "link": "https://stackoverflow.com/users/3423236/marek-j"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1513720160, "post_id": 47889445, "comment_id": 82758146, "body": "In other words: is it possible to see the samples that are marked with @Sample annotation?"}], "owner": {"reputation": 1253, "user_id": 3423236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2c79cddb8cb48d678ef9d12fad4b6f82?s=128&d=identicon&r=PG&f=1", "display_name": "Marek J", "link": "https://stackoverflow.com/users/3423236/marek-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1513694816, "creation_date": 1513694816, "question_id": 47889445, "link": "https://stackoverflow.com/questions/47889445/cannot-navigate-to-sample-tag", "title": "Cannot navigate to @sample tag", "body": "<p>In standard library of Kotlin we have <code>Preconditions.kt</code> that uses <code>@sample</code> tag:</p>\n\n<pre><code>/**\n * Throws an [IllegalStateException] if the [value] is false.\n *\n * @sample samples.misc.Preconditions.failCheckWithLazyMessage\n */\n@kotlin.internal.InlineOnly\npublic inline fun check(value: Boolean): Unit {\n</code></pre>\n\n<p>Is it possible to make this tag usable in IntelliJ? I mean to see the content of <code>samples.misc.Preconditions</code> in-place or make it navigable. I wasn't able to find any dependency that should be added to classpath to make it working.</p>\n"}, {"tags": ["kotlin", "nullable"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1513768067, "last_edit_date": 1513768067, "creation_date": 1513679783, "answer_id": 47885028, "question_id": 47884934, "link": "https://stackoverflow.com/questions/47884934/im-getting-overload-resolution-ambiguity-error-on-kotlin-safe-call/47885028#47885028", "title": "I&#39;m getting Overload resolution ambiguity error on kotlin safe call", "body": "<p>I'm not sure but that seems to be a bug due to smart casting (to <code>Nothing?</code>, subtype of every nullable type). This one works:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var ab: String? = \"hello\"\n    ab = makeNull()\n    println(ab?.toUpperCase())\n}\n\nfun makeNull(): String? = null\n</code></pre>\n\n<p>The only difference: The compiler does not know the <code>null</code> assignment directly, which seems to cause the error in your example. But still, yours should probably work too. </p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 2, "last_activity_date": 1513680691, "last_edit_date": 1513680691, "creation_date": 1513680358, "answer_id": 47885192, "question_id": 47884934, "link": "https://stackoverflow.com/questions/47884934/im-getting-overload-resolution-ambiguity-error-on-kotlin-safe-call/47885192#47885192", "title": "I&#39;m getting Overload resolution ambiguity error on kotlin safe call", "body": "<p>It really seems like a bug. The type <code>String?</code> is lost somehow upon assigning <code>null</code>, so you have to tell the compiler explicitely that it should deal with a <code>String?</code>.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){\n    var ab: String? = \"hello\"\n    ab = null\n    println((ab as String?)?.toUpperCase()) // explicit cast\n\n    // ...or\n\n    println(ab?.let { it.toUpperCase() }) // use let\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1513686786, "post_id": 47886533, "comment_id": 82739861, "body": "&quot;type of variable ab is simply null&quot; null is not a type!"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1513686909, "post_id": 47886533, "comment_id": 82739926, "body": "&quot;Considering that toUpperString() extension function is defined only for Char and String (and not Char? or String?), there is no way to choose between them.&quot; the safe call operator is used, and therefore toUpperString() is never called on ab in case it is null."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1513687364, "post_id": 47886533, "comment_id": 82740232, "body": "&quot;...there is no way ab might contain a String)&quot; what if I assign ab = &quot;hello2&quot; after the null assignment. suddenly there is <i>a way</i> that it contains a String again."}, {"owner": {"reputation": 575, "user_id": 5901877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc74af4b180a5ab4af2230f2860c6faa?s=128&d=identicon&r=PG", "display_name": "code_x386", "link": "https://stackoverflow.com/users/5901877/code-x386"}, "edited": false, "score": 0, "creation_date": 1513687741, "post_id": 47886533, "comment_id": 82740431, "body": "Yes, there is no <code>null</code> type which you can use, but it is likely that compiler might use &quot;kind of&quot; <code>null</code> type underneath (basically, imagine Typescript where it is not allowed to use <code>null</code> explicitly) when making type inference. This is only assumption, of course, yet the actual behaviour is rather consistent with this assumption. We&#39;ll need comment from someone on Kotlin development team to clarify how smart-casts actually work."}, {"owner": {"reputation": 575, "user_id": 5901877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc74af4b180a5ab4af2230f2860c6faa?s=128&d=identicon&r=PG", "display_name": "code_x386", "link": "https://stackoverflow.com/users/5901877/code-x386"}, "edited": false, "score": 0, "creation_date": 1513688053, "post_id": 47886533, "comment_id": 82740625, "body": "Yes, the compiler <i>could be</i> able do decide that no call to <code>toUpperCase()</code> would be made anyway, so it could ignore the whole thing completely.   However, Kotlin devs decided to make this check nevertheless. Whether this is a good decision is the question of personal preference, and for me it seems rather reasonable to make such check."}, {"owner": {"reputation": 575, "user_id": 5901877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc74af4b180a5ab4af2230f2860c6faa?s=128&d=identicon&r=PG", "display_name": "code_x386", "link": "https://stackoverflow.com/users/5901877/code-x386"}, "edited": false, "score": 0, "creation_date": 1513688255, "post_id": 47886533, "comment_id": 82740762, "body": "I am referring to the particular example of code, not any modifications to it. And still, variable type would remain (kind of) <code>null</code> up to the point where new assignment is made."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1513703826, "post_id": 47886533, "comment_id": 82750622, "body": "...oh, my bad, I didn&#39;t see the smart cast note on this answer :/"}], "tags": [], "owner": {"reputation": 575, "user_id": 5901877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc74af4b180a5ab4af2230f2860c6faa?s=128&d=identicon&r=PG", "display_name": "code_x386", "link": "https://stackoverflow.com/users/5901877/code-x386"}, "is_accepted": false, "score": 1, "last_activity_date": 1513688366, "last_edit_date": 1513688366, "creation_date": 1513684771, "answer_id": 47886533, "question_id": 47884934, "link": "https://stackoverflow.com/questions/47884934/im-getting-overload-resolution-ambiguity-error-on-kotlin-safe-call/47886533#47886533", "title": "I&#39;m getting Overload resolution ambiguity error on kotlin safe call", "body": "<p>I believe this is due to <a href=\"http://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">smart casts</a> used by Kotlin. In other words, Kotlin is able to infer that after this line of code:\n</p>\n\n<pre><code>ab = null\n</code></pre>\n\n<p>type of variable <code>ab</code> is simply <code>null</code> (this is not actual type you can use in Kotlin - I am simply referring to range of allowed values), not <code>String?</code> (in other words, there is <strong>no way</strong> <code>ab</code> might contain a <code>String</code>).</p>\n\n<p>Considering that toUpperString() extension function is defined only for Char and String (and not Char? or String?), there is no way to choose between them.</p>\n\n<p>To avoid this behaviour see answers proposed by other guys (e.g. explicit casting to String?), but this definitely looks like a feature (and quite a useful one) rather than a bug for me.</p>\n"}, {"comments": [{"owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 0, "creation_date": 1513699929, "post_id": 47890672, "comment_id": 82748242, "body": "Wait, isn&#39;t <code>ab</code> already defined as a Nullable String in the first line? So why should a cast to String? be necessary?"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 0, "creation_date": 1513700544, "post_id": 47890672, "comment_id": 82748591, "body": "@donfuxx Since the type of <code>ab</code> is smart casted to <code>Nothing?</code> and <code>Nothing?</code> is subtype of both <code>String?</code> and <code>Char?</code>. At the same time, there is a extension function <code>toUpperCase()</code> declared with receiver type <code>String</code> and <code>Char</code>. So, we have to tell the compiler that we want to call the extension function with <code>String</code> as the receiver."}, {"owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 0, "creation_date": 1513701319, "post_id": 47890672, "comment_id": 82749046, "body": "Holy cow, just stepped through the question&#39;s code in the debugger and <code>ab is Nothing?</code> evaluated to true. So &quot;smart&quot; cast happened I guess.. but probably &quot;dumb&quot; cast would be a better name ;-) I prefer to see this as a kotlin bug like the other answers do, but still thumbs up since this answer helped analyzing :-)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1513702037, "post_id": 47890672, "comment_id": 82749497, "body": "Nice analysis, that totally makes sense"}, {"owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 0, "creation_date": 1513702323, "post_id": 47890672, "comment_id": 82749693, "body": "just reading this a 2nd time and it makes all sense to me. However I wonder if there exists a case where a smart cast to Nothing? could ever be useful, though"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 1, "creation_date": 1513860239, "post_id": 47890672, "comment_id": 82818072, "body": "@donfuxx This is a very constructed case. When do you ever assign <code>null</code> to something and then execute a safe-call? The call won&#39;t ever be performed anyway. If anything, I would prefer a compiler warning along the lines of &quot;ab is known to be null, call will never be executed&quot;."}], "tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 6, "last_activity_date": 1513763649, "last_edit_date": 1513763649, "creation_date": 1513698957, "answer_id": 47890672, "question_id": 47884934, "link": "https://stackoverflow.com/questions/47884934/im-getting-overload-resolution-ambiguity-error-on-kotlin-safe-call/47890672#47890672", "title": "I&#39;m getting Overload resolution ambiguity error on kotlin safe call", "body": "<p>As stated in this <a href=\"https://jetbrains.github.io/kotlin-spec/#_smart_casts\" rel=\"nofollow noreferrer\">doc about smart-casts</a>:</p>\n\n<blockquote>\n  <p>x = y makes x of the type of y after the assignment</p>\n</blockquote>\n\n<p>The line <code>ab = null</code> probably smart casts <code>ab</code> to <code>Nothing?</code>. If you check <code>ab is Nothing?</code> it is indeed <code>true</code>.</p>\n\n<pre><code>var ab: String? = \"hello\"\nab = null\nprintln(ab?.toUpperCase())\nprintln(ab is Nothing?) // true\n</code></pre>\n\n<p>Since <code>Nothing?</code> is subtype of all types (including <code>Char?</code> and <code>String?</code>), it explains why you get the <code>Overload resolution ambiguity</code> error. The solution for this error will be what Willi Mentzel mentioned in <a href=\"https://stackoverflow.com/a/47885192/1788806\">his answer</a>, casting <code>ab</code> to the type of <code>String</code> before calling <code>toUpperCase()</code>.\n<hr/>\nRemarks:\nThis kind of error will occur when a class implements two interfaces and both interface have extension function of the same signature:</p>\n\n<pre><code>//interface\ninterface A {}\ninterface B {}\n\n//extension function\nfun A.x() = 0\nfun B.x() = 0\n\n//implementing class\nclass C : A, B {}\n\nC().x()    //Overload resolution ambiguity\n(C() as A).x()    //OK. Call A.x()\n(C() as B).x()    //OK. Call B.x()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1513703161, "post_id": 47891495, "comment_id": 82750201, "body": "Note: I used <code>toInt</code> instead of <code>toUpperCase</code> to be able to compile/decompile the code"}], "tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": 1, "last_activity_date": 1513761146, "last_edit_date": 1513761146, "creation_date": 1513701849, "answer_id": 47891495, "question_id": 47884934, "link": "https://stackoverflow.com/questions/47884934/im-getting-overload-resolution-ambiguity-error-on-kotlin-safe-call/47891495#47891495", "title": "I&#39;m getting Overload resolution ambiguity error on kotlin safe call", "body": "<p>I decompiled your function and I figured: after the moment you make <code>ab = null</code> the compiler will smartcast it, putting <code>null</code> <code>(ACONST_NULL)</code> in every ocurrence of <code>ab</code>. Then as <code>null</code> has no type. you can't infer the type for the receiver of <code>toUpperCase()</code>. </p>\n\n<p>This is the java equivalent code generated from the kotlin byte code:</p>\n\n<pre><code>public final void main(@NotNull String[] args) {\n   Intrinsics.checkParameterIsNotNull(args, \"args\");\n   String ab = \"hello\";\n   ab = (String)null;\n   Object var3 = null;\n   System.out.println(var3);\n}\n</code></pre>\n\n<p>It looks as an issue that should be resolved by the kotlin team.</p>\n"}], "owner": {"reputation": 682, "user_id": 5765771, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/90fbd7abadc8251d7607728aa531dd90?s=128&d=identicon&r=PG&f=1", "display_name": "Al Mamun", "link": "https://stackoverflow.com/users/5765771/al-mamun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2759, "favorite_count": 2, "answer_count": 5, "score": 12, "last_activity_date": 1513779460, "creation_date": 1513679451, "last_edit_date": 1513779460, "question_id": 47884934, "link": "https://stackoverflow.com/questions/47884934/im-getting-overload-resolution-ambiguity-error-on-kotlin-safe-call", "title": "I&#39;m getting Overload resolution ambiguity error on kotlin safe call", "body": "<p>I have a nullable string variable <code>ab</code>. If I call <code>toUpperCase</code> via safe call operator after I assign null to it, kotlin gives error.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){\n    var ab:String? = \"hello\"\n    ab = null\n    println(ab?.toUpperCase())\n}\n</code></pre>\n\n<blockquote>\n  <p>Error:(6, 16)<br>\n  Overload resolution ambiguity:<br>\n  @InlineOnly public\n  inline fun Char.toUpperCase(): Char defined in kotlin.text<br>\n  @InlineOnly public inline fun String.toUpperCase(): String defined in kotlin.text</p>\n</blockquote>\n\n<p>What's the problem here?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37311, "user_id": 468724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YiUg8.jpg?s=128&g=1", "display_name": "Inder Kumar Rathore", "link": "https://stackoverflow.com/users/468724/inder-kumar-rathore"}, "edited": false, "score": 1, "creation_date": 1513679184, "post_id": 47884804, "comment_id": 82735324, "body": "<code>SharedPreference</code> is the counter part of <code>UserDefaults</code> in android, don&#39;t know the code to do it in kotlin"}, {"owner": {"reputation": 37311, "user_id": 468724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YiUg8.jpg?s=128&g=1", "display_name": "Inder Kumar Rathore", "link": "https://stackoverflow.com/users/468724/inder-kumar-rathore"}, "edited": false, "score": 0, "creation_date": 1513679237, "post_id": 47884804, "comment_id": 82735360, "body": "This tutorial may help : <a href=\"http://blog.teamtreehouse.com/making-sharedpreferences-easy-with-kotlin\" rel=\"nofollow noreferrer\">blog.teamtreehouse.com/&hellip;</a>"}, {"owner": {"reputation": 3285, "user_id": 3505534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Etrmc.jpg?s=128&g=1", "display_name": "Ramesh sambu", "link": "https://stackoverflow.com/users/3505534/ramesh-sambu"}, "edited": false, "score": 1, "creation_date": 1513679249, "post_id": 47884804, "comment_id": 82735371, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3584267/android-equivalent-of-nsuserdefaults-in-ios\">android-equivalent-of-nsuserdefaults-in-ios</a>"}, {"owner": {"reputation": 8840, "user_id": 2450755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rwZ73.png?s=128&g=1", "display_name": "Andrea Mugnaini", "link": "https://stackoverflow.com/users/2450755/andrea-mugnaini"}, "edited": false, "score": 0, "creation_date": 1513679568, "post_id": 47884804, "comment_id": 82735579, "body": "synchronize() is not needed anymore"}], "answers": [{"tags": [], "owner": {"reputation": 539, "user_id": 4182575, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-8bL4zcAPHVw/AAAAAAAAAAI/AAAAAAAAAEs/8TWJ4s1Vj3w/photo.jpg?sz=128", "display_name": "Alban Gashi", "link": "https://stackoverflow.com/users/4182575/alban-gashi"}, "is_accepted": false, "score": 3, "last_activity_date": 1513724437, "creation_date": 1513724437, "answer_id": 47896434, "question_id": 47884804, "link": "https://stackoverflow.com/questions/47884804/set-userdefaultskeysswift-in-kotlin/47896434#47896434", "title": "set UserDefaultsKeys(swift) in kotlin", "body": "<p>The equivalent of UserDefaults in Android is SharedPreferences</p>\n\n<p>To use SharedPreferences first you can get an object of SharedPreferences this way:</p>\n\n<pre><code>val sharedPreferences = getSharedPreferences(name:String!, mode: Int)\n</code></pre>\n\n<p>in case you are in an activity you can call the method directly since activity inherits from Context otherwise you need a context object to call getSharedPreferences. The name can be anything you'd like to call your preferences and for the mode you can find more <a href=\"https://developer.android.com/reference/android/content/Context.html#getSharedPreferences%28java.lang.String,%20int%29\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Next to save data in the sharedPreferences you call the method sharedPreferences.edit() which returns an Editor object, you put data in the editor and to save the changes you call commit() for example:</p>\n\n<pre><code>sharedPreferences.edit().putInt(key: String!, value: Int).commit()\n</code></pre>\n\n<p>as you can see we've put an integer to the editor and then we called commit().</p>\n\n<p>To fetch the data we save is pretty simple we just call the corresponding get method to the type for example</p>\n\n<pre><code>sharedPreferences.getInt(key: String!, defaultValue: Int)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 338, "user_id": 8865784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/plYOV.jpg?s=128&g=1", "display_name": "Acetech", "link": "https://stackoverflow.com/users/8865784/acetech"}, "is_accepted": true, "score": 2, "last_activity_date": 1514019489, "creation_date": 1514019489, "answer_id": 47951147, "question_id": 47884804, "link": "https://stackoverflow.com/questions/47884804/set-userdefaultskeysswift-in-kotlin/47951147#47951147", "title": "set UserDefaultsKeys(swift) in kotlin", "body": "<pre><code>const val SHARED_PREF = \"sharedPreferences\"\nval sharedPreferences = getSharedPreferences(SHARED_PREF, Context.MODE_PRIVATE)\n         &lt;----- Start of Setting the value -----&gt;\n        val userLoggedIn = sharedPreferences.edit()\n        // setting it as a boolean\n        userLoggedIn.putBoolean(\"isloggedin\", true)\n\n        // setting it as a string\n       userLoggedIn.putString(\"isloggedin\", \"1\")\n\n       // setting it as an Int\n       userLoggedIn.putInt(\"isloggedin\", 1)\n\n       // committing or applying is the last step to save, without this those data above wont be saved. commit returns a boolean, apply does not\n        userLoggedIn.commit() or userLoggedIn.apply()\n\n            &lt;----- End Of Setting the value -----/&gt;\n---------------------------------------------------------------------------\n             &lt;----- Start of Retrieving the value -----&gt;\n       // Retrieving it as String\n       //\"nil\" below is a default value, just incase \"isloggedin\" as a string does not exist, it returns \"nil\"\n       val retrieveIsLoggedin =  sharedPreferences.getString(\"isloggedin\", \"nil\")\n\n       // Retrieving it as an Int\n      //0 below is a default value, just incase \"isloggedin\" as an int does not exist, it returns 0\n       val retrieveIsLoggedin =  sharedPreferences.getInt(\"isloggedin\", 0)\n\n       // Retrieving it as an Boolean\n      //false below is a default value, just incase \"isloggedin\" as a boolean does not exist, it returns false\n       val retrieveIsLoggedin=  sharedPreferences.getBoolean(\"isloggedin\", false)\n\n\n             &lt;----- End of Retrieving the value -----&gt;\n</code></pre>\n"}], "owner": {"reputation": 338, "user_id": 8865784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/plYOV.jpg?s=128&g=1", "display_name": "Acetech", "link": "https://stackoverflow.com/users/8865784/acetech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1644, "favorite_count": 0, "accepted_answer_id": 47951147, "answer_count": 2, "score": -1, "last_activity_date": 1514019489, "creation_date": 1513679015, "last_edit_date": 1513679074, "question_id": 47884804, "link": "https://stackoverflow.com/questions/47884804/set-userdefaultskeysswift-in-kotlin", "title": "set UserDefaultsKeys(swift) in kotlin", "body": "<p>how do i set UserDefaultsKeys(swift) in kotlin. will like to set userdata and login in state. an example in swift </p>\n\n<pre><code>//swift example; how is this possible with kotlin?\nset(value, forKey: UserDefaultsKeys.userid.rawValue)\nsynchronize()\n</code></pre>\n"}, {"tags": ["vue.js", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "is_accepted": true, "score": 3, "last_activity_date": 1513745616, "last_edit_date": 1513745616, "creation_date": 1513715089, "answer_id": 47894652, "question_id": 47884245, "link": "https://stackoverflow.com/questions/47884245/how-can-i-add-data-to-a-kotlin-object-and-get-it-on-a-vuejs-page/47894652#47894652", "title": "How can I add data to a Kotlin object and get it on a Vuejs page", "body": "<p>First off all it's not simple question. Kotlin/Js not so mature as Kotlin/Jvm so there are many not so simple tasks. </p>\n\n<p>First you need to somehow compile to javascript and then you need to attach <code>Vue</code> to kotlin/javascript code.</p>\n\n<p><code>Webpack</code> can make it easer, so I write a simple example to show you how to write your example in Kotlin. </p>\n\n<p><strong>!Warning!: all code below is just draft (and has been writen only in demonstration purpose), so use it in your projects with special caution!</strong> </p>\n\n<p>Lets create project with below structure:\n<a href=\"https://i.stack.imgur.com/Dhfwz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dhfwz.png\" alt=\"project structure\"></a></p>\n\n<p>Application.kt:</p>\n\n<pre><code>package vue_test\n\nfun VueJs(init: VueContext.() -&gt; Unit) = Vue(VueContext().apply(init))\n\nclass VueContext {\n    var el: String = \"\"\n    var data: dynamic = js(\"{}\")\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val app: dynamic = VueJs {\n        el = \"#app\"\n        data = mapOf(\"items\" to listOf(\n                Item(\"NY\", \"Bill\"),\n                Item(\"Test\", \"Test2\")\n        )).toJs()\n    }\n}\n\ndata class Item(\n        val city: String,\n        val name: String\n)\n\nfun Map&lt;String, Any&gt;.toJs(): dynamic {\n    val result: dynamic = object {}\n\n    for ((key, value) in this) {\n        when (value) {\n            is String -&gt; result[key] = value\n            is List&lt;*&gt; -&gt; result[key] = (value as List&lt;Any&gt;).toJs()\n            else -&gt; throw RuntimeException(\"value has invalid type\")\n        }\n    }\n\n    return result\n}\n\nfun List&lt;Any&gt;.toJs(): dynamic {\n    val result: dynamic = js(\"[]\")\n\n    for (value in this) {\n        when (value) {\n            is String -&gt; result.push(value)\n            is Item -&gt; {\n                result.push(value.toJs())\n            }\n            else -&gt; throw RuntimeException(\"value has invalid type\")\n        }\n    }\n\n    return result\n}\n\nfun Item.toJs(): dynamic {\n    val result: dynamic = object {}\n\n    result[\"city\"] = this.city\n    result[\"name\"] = this.name\n\n    return result\n}\n</code></pre>\n\n<p>I have write few function <code>toJs</code> which converts Kotlin object to Js object. It theory you may use JSON serialization to simplify this, or other more simple solution (if exists). </p>\n\n<p>Vue.kt</p>\n\n<pre><code>@file:JsModule(\"vue\")\npackage vue_test\n\n@JsName(\"default\")\nexternal open class Vue(init: dynamic)\n</code></pre>\n\n<p>In this file we have only Vue declarations. </p>\n\n<p>index.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Test project&lt;/title&gt;\n\n&lt;/head&gt;\n&lt;body class=\"testApp\"&gt;\n&lt;h1&gt;Kotlin-Js test&lt;/h1&gt;\n\n&lt;div id=\"app\"&gt;\n    &lt;div class=\"main-header\"&gt;\n        &lt;div v-for=\"item in items\" class=\"items\"&gt;\n            &lt;span class=\"city\"&gt;{{item.city}}&lt;/span&gt;\n            &lt;span class=\"name\"&gt;{{item.name}}&lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script type=\"text/javascript\" language=\"JavaScript\" src=\"frontend.bundle.js\"&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Buldle has been created by webpack, and I has put this script to bottom because <code>Vue</code> needed to start his manipulations only then all necessary html tags has been already exists. </p>\n\n<p>My build.gradle file with kotlin-frontend plugin and kotlin-js plugin:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.10'\n\n    repositories {\n        mavenCentral()\n        jcenter()\n        maven {\n            url \"https://dl.bintray.com/kotlin/kotlin-eap\"\n        }\n        maven {\n            url \"https://repo.gradle.org/gradle/libs-releases-local\"\n        }\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-frontend-plugin:0.0.21\"\n    }\n}\n\ngroup 'test'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'kotlin-platform-js'\napply plugin: 'org.jetbrains.kotlin.frontend'\n\nrepositories {\n    mavenCentral()\n}\n\nkotlinFrontend {\n    sourceMaps = true\n\n    npm {\n        dependency(\"vue\")\n    }\n\n    webpackBundle {\n        port = 8080\n        bundleName = \"frontend\"\n        contentPath = file('src/main/web')\n        webpackConfigFile = project.projectDir.path + '/webpack.config.js'\n    }\n}\n\ncompileKotlin2Js {\n    kotlinOptions.metaInfo = true\n    kotlinOptions.outputFile = \"$project.buildDir.path/js/${project.name}.js\"\n    kotlinOptions.sourceMap = true\n    kotlinOptions.moduleKind = 'commonjs'\n    kotlinOptions.main = \"call\"\n}\n\nkotlin {\n    experimental {\n        coroutines 'enable'\n    }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-js:$kotlin_version\"\n}\n</code></pre>\n\n<p>settings.gradle</p>\n\n<pre><code>rootProject.name = 'test-kotlin-vue'\n</code></pre>\n\n<p>and last file, custom webpack configuration:</p>\n\n<pre><code>var config = require('./build/WebPackHelper.js')\nvar path = require('path')\n\nmodule.exports = {\n    entry: config.moduleName,\n    output: {\n        path: path.resolve('./bundle'),\n        publicPath: '/build/',\n        filename: 'frontend.bundle.js'\n    },\n    module: {\n        rules: []\n    },\n    resolve: {\n        modules: [path.resolve('js'), path.resolve('..', 'src'), path.resolve('.'), path.resolve('node_modules')],\n        extensions: ['.js', '.css'],\n        alias: {\n            'vue$': 'vue/dist/vue.esm.js' // 'vue/dist/vue.common.js' for webpack 1\n        }\n    },\n    devtool: '#source-map'\n};\n\nconsole.log(module.exports.resolve.modules);\n</code></pre>\n\n<p>With <code>kotlin-frontend</code> plugin you could not use separate webpack config, but in this example <code>Vue</code> needed a full version to compile template, so it's needed to add alias in webpack. And I don't know how to do this in build.gradle. </p>\n\n<p>Hope this will help you!</p>\n\n<p>To start project with dev bundle run this command: <code>gradle build webpack-run</code>, and then open <code>http://localhost:8080</code> in your browser</p>\n\n<p>To stop test run command: <code>gradle webpack-stop</code></p>\n"}], "owner": {"reputation": 702, "user_id": 1912193, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Q8AOQ.jpg?s=128&g=1", "display_name": "Max Gabderakhmanov", "link": "https://stackoverflow.com/users/1912193/max-gabderakhmanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 992, "favorite_count": 2, "accepted_answer_id": 47894652, "answer_count": 1, "score": 1, "last_activity_date": 1513745616, "creation_date": 1513677270, "last_edit_date": 1513679256, "question_id": 47884245, "link": "https://stackoverflow.com/questions/47884245/how-can-i-add-data-to-a-kotlin-object-and-get-it-on-a-vuejs-page", "title": "How can I add data to a Kotlin object and get it on a Vuejs page", "body": "<p>I'm absolutely new to Kotlin. I'm trying to make a simple object on the backend side by <strong>Kotlin</strong> and get it on frontend <strong>Vuejs</strong>. How can I do something like this (this is the <strong>raw code</strong> of <code>HeaderBar.kt</code>, all my attempts were denied by compiler):</p>\n\n<pre><code>    object HeaderBar {\n\n        val computed = object {\n            fun items(): Array&lt;Item&gt; {\n                items.add(Item(\n                        \"NY\",\n                        \"Bill\"\n                ))\n                return items\n            }\n        }\n\n        data class Item(\n                val city: String,\n                val name: String\n        )\n\n    }\n</code></pre>\n\n<p>on Kotlin side?</p>\n\n<p>And get the <code>items</code> on <code>HeaderBar.vue</code>. I'm not sure, but I do this by:</p>\n\n<pre><code>    &lt;template&gt;\n        &lt;div class=\"main-header\"&gt;\n            &lt;div v-for=\"item in items\" class=\"items\"&gt;\n                &lt;span class=\"city\"&gt;{{item.city}}&lt;/span&gt;\n                &lt;span class=\"name\"&gt;{{item.name}}&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;template&gt;\n\n    &lt;script&gt;\n        export default path.to.HeaderBar\n    &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1513666788, "post_id": 47881526, "comment_id": 82728882, "body": "No, this is the point of inheritance in the first place. Use an interface called <code>Identifiable</code> or something like that, or use annotations and reflection to find the <code>id</code> property. I&#39;m not sure what you mean by &quot;problems associated with inheritance.&quot;"}, {"owner": {"reputation": 34805, "user_id": 248521, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86ea17138ffa218a4d8ebb172d56c4c9?s=128&d=identicon&r=PG", "display_name": "jax", "link": "https://stackoverflow.com/users/248521/jax"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1513666897, "post_id": 47881526, "comment_id": 82728925, "body": "Effective java Item 16 : Favour composition over inheritance"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1513666993, "post_id": 47881526, "comment_id": 82728964, "body": "I have read this book, but how else do you expect to be able to retrieve <code>id</code> regardless of the type? The point of item 16 IIRC was mainly to say <i>do not</i> extend a type when it is possible to use a member instead, such as <code>Point</code> vs <code>ColoredPoint</code>. This is a different issue."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1513667091, "post_id": 47881526, "comment_id": 82728999, "body": "This use case definitely shouts interface, and in Kotlin, you can have properties in interfaces, so it works. If you don&#39;t put any implementation in this interface, you won&#39;t be facing any of the problems described in the Effective Java item either."}, {"owner": {"reputation": 78771, "user_id": 831878, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1d1a4823c46ad92f357b4bb7e74a64b0?s=128&d=identicon&r=PG", "display_name": "Ray Toal", "link": "https://stackoverflow.com/users/831878/ray-toal"}, "edited": false, "score": 0, "creation_date": 1513667159, "post_id": 47881526, "comment_id": 82729027, "body": "Modern languages love to say they aren&#39;t exactly using &quot;implementation inheritance&quot; when they introduce things like traits, protocols, and interfaces. Kotlin&#39;s interfaces can have properties and default methods and should be perfect for what you want. All without &quot;the problems associated with inheritance.&quot;"}, {"owner": {"reputation": 34805, "user_id": 248521, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86ea17138ffa218a4d8ebb172d56c4c9?s=128&d=identicon&r=PG", "display_name": "jax", "link": "https://stackoverflow.com/users/248521/jax"}, "edited": false, "score": 0, "creation_date": 1513667195, "post_id": 47881526, "comment_id": 82729043, "body": "I was initially thinking composable objects in kotlin might be the solution here but from my research it will not. Being new to Kotlin I was thinking that the language might have a nice way of doing this."}, {"owner": {"reputation": 34805, "user_id": 248521, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86ea17138ffa218a4d8ebb172d56c4c9?s=128&d=identicon&r=PG", "display_name": "jax", "link": "https://stackoverflow.com/users/248521/jax"}, "reply_to_user": {"reputation": 78771, "user_id": 831878, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1d1a4823c46ad92f357b4bb7e74a64b0?s=128&d=identicon&r=PG", "display_name": "Ray Toal", "link": "https://stackoverflow.com/users/831878/ray-toal"}, "edited": false, "score": 0, "creation_date": 1513667323, "post_id": 47881526, "comment_id": 82729091, "body": "@RayToal so it looks like an interface is the way to go.  Annotations on the interface properties will be respected I assume."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517431169, "post_id": 47881526, "comment_id": 84098172, "body": "any conclusion?"}], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 0, "last_activity_date": 1513667559, "creation_date": 1513667559, "answer_id": 47881721, "question_id": 47881526, "link": "https://stackoverflow.com/questions/47881526/define-common-properties-without-inheritance/47881721#47881721", "title": "Define common properties without inheritance", "body": "<p>As was mentioned in the comments:</p>\n\n<pre><code>interface Animal {\n    var id: UUID?\n}\nclass Dog: Animal\nclass Cat: Animal\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 1, "last_activity_date": 1513668302, "creation_date": 1513668302, "answer_id": 47881884, "question_id": 47881526, "link": "https://stackoverflow.com/questions/47881526/define-common-properties-without-inheritance/47881884#47881884", "title": "Define common properties without inheritance", "body": "<p>You can, of course, use an <code>interface</code> instead of a base class:</p>\n\n<pre><code>interface HasId {\n    val id: UUID\n}\n\ndata class Dog(override val id: UUID) : HasId\ndata class Cat(override val id: UUID) : HasId\n</code></pre>\n\n<p>However, the above is still using inheritance. If you have more common properties that would be used in multiple classes it may be a sign that they should be grouped together to form a separate value object e.g.</p>\n\n<pre><code>data class Address(val city: String, val street: String, val country: String)\n\nclass Person(val name: String, val address: Address)\nclass School(val name: String, val address: Address, val studentsCount: Int)\n</code></pre>\n\n<p>And if you want to treat <code>Person</code> and <code>School</code> uniformly with regards to <code>address</code> property you can still use the interface to denote the common attribute:</p>\n\n<pre><code>interface HasAddress {\n    val address: Address\n}\n\nclass Person(val name: String,\n             override val address: Address) : HasAddress\n\nclass School(val name: String,\n             override val address: Address,\n             val studentsCount: Int) : HasAddress\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 575, "user_id": 5901877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc74af4b180a5ab4af2230f2860c6faa?s=128&d=identicon&r=PG", "display_name": "code_x386", "link": "https://stackoverflow.com/users/5901877/code-x386"}, "is_accepted": false, "score": 1, "last_activity_date": 1513677105, "creation_date": 1513677105, "answer_id": 47884179, "question_id": 47881526, "link": "https://stackoverflow.com/questions/47881526/define-common-properties-without-inheritance/47884179#47884179", "title": "Define common properties without inheritance", "body": "<p>It might be possible that delegation will suit your needs:\n</p>\n\n<pre><code>interface WithId {\n    var id: Int\n}\n\nclass IdStorage : WithId {\n    override var id: Int = 0\n}\n\nclass Dog(withId: WithId) : WithId by withId {\n    constructor() : this(IdStorage()) {}\n}\n\nclass Cat(withId: WithId) : WithId by withId {\n    constructor() : this(IdStorage()) {}\n}\n</code></pre>\n\n<p>This code is rather verbose, but what it allows you to do is:</p>\n\n<ul>\n<li>Avoid using superclass just for the sake of having <code>id</code> property, which allows you to extend other classes if you need</li>\n<li>Usage of interface, which guarantees other pieces of code that your class has <code>id</code></li>\n<li>Allows to move implementation of your properties (or functions) to separate class, hence no need for duplicate code in case of complex property/function implementation</li>\n<li>Allows implementing <em>multiple</em> properties/functions in a separate class</li>\n</ul>\n"}], "owner": {"reputation": 34805, "user_id": 248521, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86ea17138ffa218a4d8ebb172d56c4c9?s=128&d=identicon&r=PG", "display_name": "jax", "link": "https://stackoverflow.com/users/248521/jax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 47881721, "answer_count": 3, "score": 3, "last_activity_date": 1513678297, "creation_date": 1513666697, "question_id": 47881526, "link": "https://stackoverflow.com/questions/47881526/define-common-properties-without-inheritance", "title": "Define common properties without inheritance", "body": "<p>Is there a way of defining common properties without using inheritance in Kotlin?</p>\n\n<p>For example</p>\n\n<p>If I have two classes that both require an \"id\" property.</p>\n\n<pre><code>class Dog() {\n  var id: UUID?\n}\n\nclass Cat() {\n  var id: UUID?\n}\n</code></pre>\n\n<p>The general JAVA way to solve this is introduce a super class</p>\n\n<pre><code>class Animal() {\n  var id: UUID?\n}\nclass Dog: Animal()\nclass Cat: Animal()\n</code></pre>\n\n<p>But now \"Dog\" and \"Cat\" are of type \"Animal\".  What if I introduce a \"Chair\" class that also requires a unique identifier.</p>\n\n<p>Essentially what I want to the ability to create a set of properties I can include in a number of different classes for programming convenience only.  I don't want all the problems associated with inheritance.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "vibration"], "comments": [{"owner": {"reputation": 3285, "user_id": 3505534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Etrmc.jpg?s=128&g=1", "display_name": "Ramesh sambu", "link": "https://stackoverflow.com/users/3505534/ramesh-sambu"}, "edited": false, "score": 1, "creation_date": 1513661231, "post_id": 47880450, "comment_id": 82726842, "body": "Have you added  &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt; Permission in your manifest?"}, {"owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "reply_to_user": {"reputation": 3285, "user_id": 3505534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Etrmc.jpg?s=128&g=1", "display_name": "Ramesh sambu", "link": "https://stackoverflow.com/users/3505534/ramesh-sambu"}, "edited": false, "score": 0, "creation_date": 1513661336, "post_id": 47880450, "comment_id": 82726873, "body": "yes.. i have already added that permission in menifest"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1513661516, "post_id": 47880450, "comment_id": 82726925, "body": "Where is it in your manifest? A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is most helpful."}], "answers": [{"tags": [], "owner": {"reputation": 3285, "user_id": 3505534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Etrmc.jpg?s=128&g=1", "display_name": "Ramesh sambu", "link": "https://stackoverflow.com/users/3505534/ramesh-sambu"}, "is_accepted": false, "score": 2, "last_activity_date": 1513662828, "creation_date": 1513662828, "answer_id": 47880789, "question_id": 47880450, "link": "https://stackoverflow.com/questions/47880450/how-to-vibrate-android-device-on-button-click-using-vibrator-effects-using-kotli/47880789#47880789", "title": "How to vibrate Android device on button click using vibrator effects using Kotlin?", "body": "<p>Vibration using kotlin working sample try this</p>\n\n<p>Manifest.xml </p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.VIBRATE\" /&gt;\n</code></pre>\n\n<p>In kotlin:</p>\n\n<pre><code> val vibratorService = getSystemService(Context.VIBRATOR_SERVICE) as Vibrator\n        vibratorService.vibrate(500)\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_vibrate\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Vibrate\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main);\n        val btn_click_me = findViewById(R.id.btn_vibrate) as Button\n        btn_click_me.setOnClickListener {\n            val vibratorService = getSystemService(Context.VIBRATOR_SERVICE) as Vibrator\n            vibratorService.vibrate(500)\n\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7099, "user_id": 1475548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/09sbK.jpg?s=128&g=1", "display_name": "Octopus", "link": "https://stackoverflow.com/users/1475548/octopus"}, "edited": false, "score": 0, "creation_date": 1544047979, "post_id": 48250684, "comment_id": 94142562, "body": "You create vibratorService with getSystemService, then your code doesn&#39;t use it. Instead, it uses something called vibrator, which you never created. I&#39;m sure that&#39;s just a typo in your answer."}], "tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 11, "last_activity_date": 1550839331, "last_edit_date": 1550839331, "creation_date": 1515940764, "answer_id": 48250684, "question_id": 47880450, "link": "https://stackoverflow.com/questions/47880450/how-to-vibrate-android-device-on-button-click-using-vibrator-effects-using-kotli/48250684#48250684", "title": "How to vibrate Android device on button click using vibrator effects using Kotlin?", "body": "<p>Answer given by @R2R is perfect. But <code>vibrate()</code> method of <code>Vibrator</code> class is <strong>deprecated</strong> from <strong>API Level 26</strong>. So, I am giving you the updated code:</p>\n\n<p>You don't have to change everything. Just update the code for <strong>vibration</strong> in <strong>MainActivity.kt</strong>.</p>\n\n<p><strong>MainActivity.kt:</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main);\n\n        val btn_click_me = findViewById(R.id.btn_vibrate) as Button\n        btn_click_me.setOnClickListener {\n            val vibrator = getSystemService(Context.VIBRATOR_SERVICE) as Vibrator\n            if (vibrator.hasVibrator()) { // Vibrator availability checking\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    vibrator.vibrate(VibrationEffect.createOneShot(500, VibrationEffect.DEFAULT_AMPLITUDE)) // New vibrate method for API Level 26 or higher\n                } else {\n                    vibrator.vibrate(500) // Vibrate method for below API Level 26\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1146, "user_id": 10211127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b76fcb38d289a2261fc1cd8430ef7d9?s=128&d=identicon&r=PG&f=1", "display_name": "jo jo", "link": "https://stackoverflow.com/users/10211127/jo-jo"}, "is_accepted": true, "score": 22, "last_activity_date": 1536661446, "creation_date": 1536661446, "answer_id": 52273785, "question_id": 47880450, "link": "https://stackoverflow.com/questions/47880450/how-to-vibrate-android-device-on-button-click-using-vibrator-effects-using-kotli/52273785#52273785", "title": "How to vibrate Android device on button click using vibrator effects using Kotlin?", "body": "<p>You can create a <code>fun</code> and use from it (<code>Kotlin</code>):</p>\n\n<pre><code>fun Fragment.vibratePhone() {\n    val vibrator = context?.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator\n    if (Build.VERSION.SDK_INT &gt;= 26) {\n        vibrator.vibrate(VibrationEffect.createOneShot(200, VibrationEffect.DEFAULT_AMPLITUDE))\n    } else {\n        vibrator.vibrate(200)\n    }\n}\n</code></pre>\n\n<p>And in your <code>fragment</code>:</p>\n\n<pre><code>vibratePhone()\n</code></pre>\n\n<p>Finally in you <code>manifest</code>:</p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.VIBRATE\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 10253304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6df88e9dce6b857410efacc01b994239?s=128&d=identicon&r=PG&f=1", "display_name": "Developer534255", "link": "https://stackoverflow.com/users/10253304/developer534255"}, "is_accepted": false, "score": 2, "last_activity_date": 1586251434, "creation_date": 1586251434, "answer_id": 61076741, "question_id": 47880450, "link": "https://stackoverflow.com/questions/47880450/how-to-vibrate-android-device-on-button-click-using-vibrator-effects-using-kotli/61076741#61076741", "title": "How to vibrate Android device on button click using vibrator effects using Kotlin?", "body": "<p>Simplify it could be like </p>\n\n<pre><code>val buzzer = activity?.getSystemService&lt;Vibrator&gt;()\n\nbuzzer?.let {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                buzzer.vibrate(VibrationEffect.createWaveform(pattern, -1))\n            } else {\n                //deprecated in API 26\n                buzzer.vibrate(pattern, -1)\n            }\n        }\n</code></pre>\n\n<p>When pattern could be like </p>\n\n<pre><code>val pattern = longArrayOf(0, 200, 100, 300)\n</code></pre>\n\n<p>Elements of buzzing and non-buzzing takes -> wait 0 ms, buzz 200ms, wait 100ms, buzz 300ms</p>\n\n<p>Of course with permission in Manifest</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.VIBRATE\" /&gt;\n</code></pre>\n\n<p>Hope, it will help somebody in future</p>\n"}], "owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11529, "favorite_count": 3, "accepted_answer_id": 52273785, "answer_count": 4, "score": 12, "last_activity_date": 1606652752, "creation_date": 1513660949, "last_edit_date": 1606652752, "question_id": 47880450, "link": "https://stackoverflow.com/questions/47880450/how-to-vibrate-android-device-on-button-click-using-vibrator-effects-using-kotli", "title": "How to vibrate Android device on button click using vibrator effects using Kotlin?", "body": "<p>How to vibrate an Android device coding with Kotlin when pressing any buttons? I have used this code below, but there aren't any effects or vibrations performed.</p>\n<pre><code>//click listener\n    imgNextBtn.setOnClickListener {\n        val vibe:Vibrator = activity?.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator\n        vibe.vibrate(500)\n        Utilities.alertDialog(this,\n                activity!!,\n                mContent!!\n    }\n}\n</code></pre>\n<p>Or</p>\n<pre><code> //click listener\n    imgNextBtn.setOnClickListener {\n        val vibe:Vibrator = activity?.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator\n        var effect:VibrationEffect = VibrationEffect.createOneShot(1000, VibrationEffect.DEFAULT_AMPLITUDE);\n\n    vibe.vibrate(effect)\n        \n        Utilities.alertDialog(this,\n                activity!!,\n                mContent!!\n    }\n}\n</code></pre>\n<p>Android Manifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\npackage=&quot;com.china.openkey&quot;&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "user-input", "subroutine"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1513667640, "post_id": 47879908, "comment_id": 82729202, "body": "&quot;The code has no errors&quot; - that&#39;s what I always say!"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1513671618, "post_id": 47879908, "comment_id": 82730942, "body": "Friendly advice: set up auto-reformatting in your editor. Bad formatting renders code completely unreadable."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1513674460, "post_id": 47879908, "comment_id": 82732413, "body": "&quot;The code has no errors, BUT...&quot; so, the code has errors... :D"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1513686656, "post_id": 47879908, "comment_id": 82739774, "body": "Debug your code and you&#39;ll find your issue. Hint. Look at the &#39;answer&#39; variable and how it&#39;s used in &#39;loop&#39;."}, {"owner": {"reputation": 3, "user_id": 9116219, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ry_WsoOcwl8/AAAAAAAAAAI/AAAAAAAAqS4/_gVyY8FDTys/photo.jpg?sz=128", "display_name": "Carl Summers", "link": "https://stackoverflow.com/users/9116219/carl-summers"}, "edited": false, "score": 0, "creation_date": 1529693419, "post_id": 47879908, "comment_id": 88982590, "body": "Six months prior I was definitely a lot less knowledgeable about debugging. I will take into consideration the autoreformatting since I wasn&#39;t aware of that."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9116219, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ry_WsoOcwl8/AAAAAAAAAAI/AAAAAAAAqS4/_gVyY8FDTys/photo.jpg?sz=128", "display_name": "Carl Summers", "link": "https://stackoverflow.com/users/9116219/carl-summers"}, "edited": false, "score": 0, "creation_date": 1529693307, "post_id": 47880323, "comment_id": 88982556, "body": "This looks like the most promising answer on this; definitely going to give this a try again in Android Studio. Thank you!"}], "tags": [], "owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "is_accepted": true, "score": 0, "last_activity_date": 1513659971, "creation_date": 1513659971, "answer_id": 47880323, "question_id": 47879908, "link": "https://stackoverflow.com/questions/47879908/calling-subroutines-in-kotlin/47880323#47880323", "title": "Calling Subroutines in Kotlin", "body": "<p>Do while loop can give the effect you want to achieve so try this - </p>\n\n<pre><code>fun loop (){\n    do {\n        println(\"Enter your name\")\n        val name = readLine()\n\n        println(\"Enter your email\")\n        val email = readLine()\n\n        println(\"Enter your location\")\n        val location = readLine()\n\n        println(\"$name $location $email\")\n        println(\"Are you sure this is the correct information about you? Type yes or no.\")\n        val answer = readLine()\n\n        if(answer == \"yes\"){\n            println(\"Awesome. Details have been saved.\")\n            break\n        }\n    }\n    while(answer == \"no\")\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9116219, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ry_WsoOcwl8/AAAAAAAAAAI/AAAAAAAAqS4/_gVyY8FDTys/photo.jpg?sz=128", "display_name": "Carl Summers", "link": "https://stackoverflow.com/users/9116219/carl-summers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "accepted_answer_id": 47880323, "answer_count": 1, "score": -1, "last_activity_date": 1513671554, "creation_date": 1513656630, "last_edit_date": 1513671554, "question_id": 47879908, "link": "https://stackoverflow.com/questions/47879908/calling-subroutines-in-kotlin", "title": "Calling Subroutines in Kotlin", "body": "<p>I can't seem to find any information on subroutines and how to call them in Kotlin. I'm practicing by creating a system which takes input from a user and displays the content prompting the user to say yes if their information is correct, or no if it is not. It then asks them to input \"reset\" to enter the subroutine until they enter yes. </p>\n\n<p>The code has no errors, but when I get to the \"reset\" phase, the subroutine is never called and the program just hangs. It allows me to input something else but then just ends the program. </p>\n\n<p>Here is the code below:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(\"Enter your name\")\n    val name = readLine()\n\n    println(\"Enter your email\")\n    val email = readLine()\n\n    println(\"Enter your location\")\n    val location = readLine()\n\n    println(\"$name $location $email\")\n    println(\"Are you sure this is the correct information about you? Type yes or no.\")\n    val answer = readLine()\n\n    if (answer == \"yes\") {\n        println(\"Awesome. Details have been saved.\")\n        return\n    } else if (answer == \"no\") {\n        println(\"Type reset to retry\")\n        val reset = readLine()\n        if (reset == \"reset\") {\n            loop()\n        }\n    } else {\n        println(\"Error has occurred\")\n    }\n}\n\nfun loop (){\n    val answer = readLine()\n    while(answer == \"no\"){\n        println(\"Enter your name\")\n        val name = readLine()\n\n        println(\"Enter your email\")\n        val email = readLine()\n\n        println(\"Enter your location\")\n        val location = readLine()\n\n        println(\"$name $location $email\")\n        println(\"Are you sure this is the correct information about you? Type yes or no.\")\n        if(answer != \"yes\"){\n            println(\"Awesome. Details have been saved.\")\n            break\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-proguard"], "answers": [{"comments": [{"owner": {"reputation": 1462, "user_id": 9113735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CIGz3A3WT4E/AAAAAAAAAAI/AAAAAAAAACo/myM4TbVfPRE/photo.jpg?sz=128", "display_name": "Abubakker Moallim", "link": "https://stackoverflow.com/users/9113735/abubakker-moallim"}, "reply_to_user": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "edited": false, "score": 0, "creation_date": 1513664434, "post_id": 47880469, "comment_id": 82727967, "body": "Can you keep the screenshot of Error and Also your Proguard file?"}, {"owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "edited": false, "score": 0, "creation_date": 1513665994, "post_id": 47880469, "comment_id": 82728549, "body": "I updated my question for your review, could you please take a look?"}, {"owner": {"reputation": 1462, "user_id": 9113735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CIGz3A3WT4E/AAAAAAAAAAI/AAAAAAAAACo/myM4TbVfPRE/photo.jpg?sz=128", "display_name": "Abubakker Moallim", "link": "https://stackoverflow.com/users/9113735/abubakker-moallim"}, "reply_to_user": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "edited": false, "score": 0, "creation_date": 1513667724, "post_id": 47880469, "comment_id": 82729234, "body": "Try keeping ViewModel class in your Proguard. <code>-keep class com.xxx.** {*;}</code> where xxx is path to your ViewModel class including the class"}, {"owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "edited": false, "score": 0, "creation_date": 1513668548, "post_id": 47880469, "comment_id": 82729560, "body": "I tried keeping all ViewModel class, but still, I got the same error."}, {"owner": {"reputation": 1462, "user_id": 9113735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CIGz3A3WT4E/AAAAAAAAAAI/AAAAAAAAACo/myM4TbVfPRE/photo.jpg?sz=128", "display_name": "Abubakker Moallim", "link": "https://stackoverflow.com/users/9113735/abubakker-moallim"}, "reply_to_user": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "edited": false, "score": 0, "creation_date": 1513668885, "post_id": 47880469, "comment_id": 82729731, "body": "I have updated my answer for RxJava proguard file. Trying adding that . Also I would like ask that are you using viewModel or Single class some different place and not getting the error."}, {"owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "edited": false, "score": 0, "creation_date": 1513669114, "post_id": 47880469, "comment_id": 82729835, "body": "Yes, I&#39;m using viewModels and Single class in other places too, and they are okay. But the Singe and Observable are not in ViewModel.observe scope."}, {"owner": {"reputation": 1462, "user_id": 9113735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CIGz3A3WT4E/AAAAAAAAAAI/AAAAAAAAACo/myM4TbVfPRE/photo.jpg?sz=128", "display_name": "Abubakker Moallim", "link": "https://stackoverflow.com/users/9113735/abubakker-moallim"}, "reply_to_user": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "edited": false, "score": 0, "creation_date": 1513670055, "post_id": 47880469, "comment_id": 82730240, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/161499/discussion-between-abdevelopers-and-expert-wanna-be\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1462, "user_id": 9113735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CIGz3A3WT4E/AAAAAAAAAAI/AAAAAAAAACo/myM4TbVfPRE/photo.jpg?sz=128", "display_name": "Abubakker Moallim", "link": "https://stackoverflow.com/users/9113735/abubakker-moallim"}, "is_accepted": true, "score": 0, "last_activity_date": 1513671193, "last_edit_date": 1513671193, "creation_date": 1513661071, "answer_id": 47880469, "question_id": 47879672, "link": "https://stackoverflow.com/questions/47879672/proguard-warning-cant-find-referenced-class-on-observable/47880469#47880469", "title": "Proguard Warning: can&#39;t find referenced class on Observable", "body": "<p>You can try keeping this line in your Proguard :</p>\n\n<pre><code>-keepnames class rx.Single\n\n\n\n #rxjava\n-keep class rx.schedulers.Schedulers {\n    public static &lt;methods&gt;;\n}\n-keep class rx.schedulers.ImmediateScheduler {\n    public &lt;methods&gt;;\n}\n-keep class rx.schedulers.TestScheduler {\n    public &lt;methods&gt;;\n}\n-keep class rx.schedulers.Schedulers {\n    public static ** test();\n}\n\n-keep class rx.internal.util.unsafe.** {\n    *;\n}\n-keepclassmembers class rx.internal.util.unsafe.*ArrayQueue*Field* {\n    long producerIndex;\n    long consumerIndex;\n}\n-keepclassmembers class rx.internal.util.unsafe.BaseLinkedQueueProducerNodeRef {\n    long producerNode;\n    long consumerNode;\n}\n</code></pre>\n"}], "owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1554, "favorite_count": 0, "accepted_answer_id": 47880469, "answer_count": 1, "score": 0, "last_activity_date": 1513671193, "creation_date": 1513654518, "last_edit_date": 1513665912, "question_id": 47879672, "link": "https://stackoverflow.com/questions/47879672/proguard-warning-cant-find-referenced-class-on-observable", "title": "Proguard Warning: can&#39;t find referenced class on Observable", "body": "<p>When I build with Proguard, I got the 'can't find referenced class on Observable' warning on Observable.</p>\n\n<p>But I'm using the Observable in many places, but the warning point to only below code. </p>\n\n<pre><code>viewModel.data.observe(this, Observer&lt;Boolean&gt; {\n\n    // Warning: can't find referenced class\n    Single.fromCallable {\n        updateSomething()\n    }\n    .delay(2, TimeUnit.SECONDS)\n    .subscribe({}, {\n        it.printStackTrace()\n    })\n})\n</code></pre>\n\n<p>Maybe it related to the ViewModel observe? If I comment out 'Single.fromCallable...' block, I can build without any warning.</p>\n\n<p>How can I fix this problem?</p>\n\n<p>[Edit] my current proguard-rules.pro</p>\n\n<pre><code>############################################################\n## Retrofit2\n############################################################\n-dontwarn retrofit2.**\n-keep class retrofit2.** { *; }\n-keepattributes Signature\n-keepattributes Exceptions\n-dontwarn javax.annotation.**\n-keepclasseswithmembers class * {\n    @retrofit2.http.* &lt;methods&gt;;\n}\n\n############################################################\n## okhttp3\n############################################################\n-dontwarn okhttp3.**\n-dontwarn okio.**\n\n############################################################\n## For picasso\n############################################################\n-dontwarn com.squareup.okhttp.**\n\n############################################################\n## For com.caverock:androidsvg\n############################################################\n-dontwarn com.caverock.androidsvg.**\n\n############################################################\n## For Gson\n############################################################\n-keep class com.google.** {*;}\n-keep interface com.google.** {*;}\n\n# For using GSON @Expose annotation\n-keepattributes *Annotation*\n\n# Gson specific classes\n-dontwarn sun.misc.**\n#-keep class com.google.gson.stream.** { *; }\n\n# Application classes that will be serialized/deserialized over Gson\n-keep class com.google.gson.examples.android.model.** { *; }\n\n# Prevent proguard from stripping interface information from TypeAdapterFactory,\n# JsonSerializer, JsonDeserializer instances (so they can be used in @JsonAdapter)\n-keep class * implements com.google.gson.TypeAdapterFactory\n-keep class * implements com.google.gson.JsonSerializer\n-keep class * implements com.google.gson.JsonDeserializer\n\n############################################################\n## For NonSwipeableViewPager\n############################################################\n-keep class android.support.v4.view.ViewPager { *; }\n\n############################################################\n## For RxJava\n############################################################\n-keepclassmembers class rx.internal.util.unsafe.*ArrayQueue*Field* {\n   long producerIndex;\n   long consumerIndex;\n}\n\n-keepclassmembers class rx.internal.util.unsafe.BaseLinkedQueueProducerNodeRef {\n    rx.internal.util.atomic.LinkedQueueNode producerNode;\n}\n\n-keepclassmembers class rx.internal.util.unsafe.BaseLinkedQueueConsumerNodeRef {\n    rx.internal.util.atomic.LinkedQueueNode consumerNode;\n}\n\n-dontnote rx.internal.util.PlatformDependent\n</code></pre>\n\n<p>The error messages, </p>\n\n<blockquote>\n  <p>Warning: com.test/view.list.PhotoListFragment$observeUpdates$2$1$1$3:\n  can't find referenced class\n  com.test/view.list.PhotoListFragment$observeUpdates$2$1 Warning:\n  com.test/view.list.PhotoListFragment$observeUpdates$2$1$1$3: can't\n  find referenced class\n  com.test/view.list.PhotoListFragment$observeUpdates$2$1 Warning:\n  com.test/view.list.PhotoListFragment$observeUpdates$2$1$1$4: can't\n  find referenced class\n  com.test/view.list.PhotoListFragment$observeUpdates$2$1 Warning:\n  com.test/view.list.PhotoListFragment$observeUpdates$2$1$1$4: can't\n  find referenced class\n  com.test/view.list.PhotoListFragment$observeUpdates$2$1</p>\n</blockquote>\n\n<p>observeUpdates() method contains the above codes.</p>\n"}, {"tags": ["java", "linux", "spring", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 1, "creation_date": 1513659770, "post_id": 47879629, "comment_id": 82726467, "body": "It&#39;s hard to say what&#39;s going wrong. But if you <a href=\"https://firebase.google.com/docs/reference/admin/java/reference/com/google/firebase/database/FirebaseDatabase.html#setLogLevel(com.google.firebase.database.Logger.Level)\" rel=\"nofollow noreferrer\">enable debug logging</a> you might get a clue in the output."}, {"owner": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "edited": false, "score": 0, "creation_date": 1513681170, "post_id": 47879629, "comment_id": 82736542, "body": "its  giving you log &quot;got data&quot;?"}, {"owner": {"reputation": 172, "user_id": 2923343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/501e3c2128a8f804db16750e18c41ead?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver Adam", "link": "https://stackoverflow.com/users/2923343/oliver-adam"}, "edited": false, "score": 0, "creation_date": 1513685850, "post_id": 47879629, "comment_id": 82739301, "body": "No, there is no log showing"}, {"owner": {"reputation": 172, "user_id": 2923343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/501e3c2128a8f804db16750e18c41ead?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver Adam", "link": "https://stackoverflow.com/users/2923343/oliver-adam"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1513690453, "post_id": 47879629, "comment_id": 82742191, "body": "@FrankvanPuffelen i set the loglevel to debug and now firebase put this out: <code>Tue Dec 19 15:31:41 CET 2017 [DEBUG] com.google.firebase.database.connection.PersistentConnection&zwnj;&#8203;: pc_0 - Trying to fetch auth token Tue Dec 19 15:31:41 CET 2017 [DEBUG] com.google.firebase.database.connection.PersistentConnection&zwnj;&#8203;: pc_0 - Error fetching token: java.io.IOException: Error getting access token for service account:</code>. I have the service_account in a string, which I parse with a ByteArrayInputStream. I think this is working, but i have the assumption that it can&#39;t connect to firebase itself?"}], "answers": [{"tags": [], "owner": {"reputation": 172, "user_id": 2923343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/501e3c2128a8f804db16750e18c41ead?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver Adam", "link": "https://stackoverflow.com/users/2923343/oliver-adam"}, "is_accepted": true, "score": 0, "last_activity_date": 1513693923, "creation_date": 1513693923, "answer_id": 47889179, "question_id": 47879629, "link": "https://stackoverflow.com/questions/47879629/firebase-connection-not-working-on-linux-in-springboot/47889179#47889179", "title": "Firebase connection not working on Linux in SpringBoot", "body": "<p>The problem was that the time on our Linux server was not synchronized automatically. I have found this <a href=\"https://serverfault.com/questions/885049/firebase-admin-sdk-unable-to-fetch-token\">article</a> where he mentioned the solution. I have then followed this <a href=\"https://www.howtogeek.com/tips/how-to-sync-your-linux-server-time-with-network-time-servers-ntp/\" rel=\"nofollow noreferrer\">guide</a> and added NTP servers which are equal to our server location.</p>\n"}], "owner": {"reputation": 172, "user_id": 2923343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/501e3c2128a8f804db16750e18c41ead?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver Adam", "link": "https://stackoverflow.com/users/2923343/oliver-adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 47889179, "answer_count": 1, "score": -1, "last_activity_date": 1513693923, "creation_date": 1513654203, "last_edit_date": 1513690601, "question_id": 47879629, "link": "https://stackoverflow.com/questions/47879629/firebase-connection-not-working-on-linux-in-springboot", "title": "Firebase connection not working on Linux in SpringBoot", "body": "<p>What I'm trying to achieve is to open a connection to my firebase database and get some data which i need to parse. I am running Spring with the Spring Boot framework, the admin sdk of firebase, kotlin and gradle. On Windows 10 it is working like expected, but when i try to run the .jar file on my linux server it doesn't get any data or errors. It gets stuck at the ValueEventListener. I have ufw installed, but disabling it or adding ports 5228:5230 (tcp/udp), didn't solve the problem. </p>\n\n<pre><code>    val dataMinifiedRef = database.reference.child(\"minifiedData\").child(\"areas\")\n    dataMinifiedRef.addListenerForSingleValueEvent(object : ValueEventListener {\n        override fun onCancelled(error: DatabaseError?) {\n            log.info(error!!.message)\n        }\n\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n            log.info(\"Got data\")\n        }\n    })\n</code></pre>\n\n<p>EDIT:\nThis is how I parse the service account.</p>\n\n<pre><code>    val str = \"{\\n\" +\n              ...\n              \"}\\n\"\n\n    // convert String into InputStream\n    val serviceAccount = ByteArrayInputStream(str.toByteArray())\n\n    val options = FirebaseOptions.Builder()\n            .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n            .setDatabaseUrl(\"https://xxx.firebaseio.com\")\n            .build()\n</code></pre>\n\n<p>I get the following error.</p>\n\n<pre><code>Tue Dec 19 15:31:41 CET 2017 [DEBUG] com.google.firebase.database.connection.PersistentConnection\u200c\u200b: pc_0 - Trying to fetch auth token \nTue Dec 19 15:31:41 CET 2017 [DEBUG] com.google.firebase.database.connection.PersistentConnection\u200c\u200b: pc_0 - Error fetching token: java.io.IOException: Error getting access token for service account:\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1513650036, "post_id": 47878591, "comment_id": 82724319, "body": "The example may be confusing me; is the question specifically about classes with formal parameters matching constructor parameters? In your example code, I&#39;d recommend simply dropping the formal parameter from <code>AnimalDescriptor</code> since it adds nothing, but that may be avoiding the point of your question?"}, {"owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1513656708, "post_id": 47878591, "comment_id": 82725763, "body": "Hi , @PaulHicks , <code>AnimalDescriptor</code> is inevitable if I want to do some String template . Please see my updated question."}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1513718246, "post_id": 47878591, "comment_id": 82757330, "body": "So the (valid and good) unpretty code is because of a design choice: you have two mirroring class hierarchies. This is a reasonable design choice but not the only one. Either or both hierarchy can be broken/reworked in order to avoid the unprettiness. You can decide if inheritance is more valuable than terseness and composability (leave the code as-is) or if one of the alternative designs would be better."}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 1, "creation_date": 1513719195, "post_id": 47878591, "comment_id": 82757724, "body": "The first alternative design that pops into my head would be to get rid of AnimalDescriptor entirely. Assuming <code>getSummary</code> is the only reason for AnimalDescriptor, then replace that class hierarchy with extension properties or functions."}], "owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513656627, "creation_date": 1513644899, "last_edit_date": 1513656627, "question_id": 47878591, "link": "https://stackoverflow.com/questions/47878591/generics-class-type-constraints", "title": "Generics class type constraints?", "body": "<p>Suppose I have the following code :</p>\n\n<pre><code>sealed class Animal(val type: String) {\n  data class Cat(val color: String) : Animal(\"cat\")\n  data class Dog(val mood: String , val ownersName : String) : Animal(\"dog\")\n}\n\nabstract class AnimalDescriptor&lt;out T : Animal&gt;(val a: T) {\n  abstract fun getSummary(): String\n}\n\nclass CatDescriptor(a: Animal.Cat) : AnimalDescriptor&lt;Animal.Cat&gt;(a) {\n  override fun getSummary(): String {\n     return \"The color of this ${a.type} is ${a.color}\"\n  }\n}\n\nclass DogDescriptor(a : Animal.Dog) : AnimalDescriptor&lt;Animal.Dog&gt;(a) {\n  override fun getSummary(): String {\n    return \"${a.ownersName}'s ${a.type} is ${a.mood}\"\n  }\n}\n\nfun main(args: Array&lt;String&gt;) {\n\n  fun summary(a : Animal) : String {\n    return when(a) {\n      is Animal.Cat -&gt; CatDescriptor(a)\n      is Animal.Dog -&gt; DogDescriptor(a)\n    }.getSummary()\n  }\n\n  val kitten = Animal.Cat(\"yellow\")\n  val doggy = Animal.Dog(\"happy\" , \"John\")\n\n  println(summary(kitten))\n  println(summary(doggy))\n}\n</code></pre>\n\n<p>The output is :</p>\n\n<pre><code>The color of this cat is yellow\nJohn's dog is happy\n</code></pre>\n\n<p>It indeed is what I want .</p>\n\n<p>But I feel a little \u2018fishy\u2019 , because the duplicated type declaration in the initialization of <code>AnimalDescriptor</code> :</p>\n\n<pre><code>class CatDescriptor(a: Animal.Cat) : AnimalDescriptor&lt;Animal.Cat&gt;(a)\n</code></pre>\n\n<p>Moreover , it cannot forbid us writing this class :</p>\n\n<pre><code>class ADescriptor(a : Animal) : AnimalDescriptor&lt;Animal&gt;(a) {\n  override fun getSummary(): String {\n    return \"type = ${a.type} \"\n  }\n}\n</code></pre>\n\n<p>Which is meaningless in this scenario.</p>\n\n<p>Is there a better design ?</p>\n\n<p>Functional style or even Kategory incorporation is welcome.</p>\n\n<p><strong>But at least preserve the <code>sealed class</code> design.</strong></p>\n\n<p><a href=\"https://youtu.be/s9oMED6ZikQ?t=1279\" rel=\"nofollow noreferrer\">KotlinConf 2017 </a> This slide caught my eyeballs :</p>\n\n<p><a href=\"https://i.stack.imgur.com/xVJkw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xVJkw.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/5dGp4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5dGp4.png\" alt=\"It blows my mind\"></a></p>\n\n<p>I am not sure if pure Kotlin (means without other 3rd library) can achieve my requirement , but it seems with Kategory it somehow can do this , is it possible in Kategory ? how ?</p>\n\n<p>-----  updated reply to @PaulHicks -----</p>\n\n<p><code>AnimalDescriptor</code> is inevitable if I want to do some <code>template</code> inside , such as :</p>\n\n<pre><code>abstract class AnimalDescriptor&lt;out T : Animal&gt;(val a: T) {\n  fun sayHello() : String {\n    return \"Hello : \" + getSummary()\n  }\n  abstract fun getSummary(): String\n}\n\n\n  fun hello(a: Animal): String {\n    return when (a) {\n      is Animal.Cat -&gt; CatDescriptor(a)\n      is Animal.Dog -&gt; DogDescriptor(a)\n    }.sayHello()\n  }\n\n  val kitten = Animal.Cat(\"yellow\")\n  val doggy = Animal.Dog(\"happy\", \"John\")\n\n  println(hello(kitten))\n  println(hello(doggy))\n</code></pre>\n\n<p>And , it outputs :</p>\n\n<pre><code>Hello : The color of this cat is yellow\nHello : John's dog is happy\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9115630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3de321354071fc4dea7c85f6363b2c2?s=128&d=identicon&r=PG&f=1", "display_name": "A.C", "link": "https://stackoverflow.com/users/9115630/a-c"}, "edited": false, "score": 0, "creation_date": 1513651869, "post_id": 47878668, "comment_id": 82724738, "body": "It is disabled and it makes no difference. Thanks though."}], "tags": [], "owner": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "is_accepted": false, "score": 0, "last_activity_date": 1513645647, "creation_date": 1513645647, "answer_id": 47878668, "question_id": 47877906, "link": "https://stackoverflow.com/questions/47877906/how-to-resolve-dexarchivebuilderexception-for-gradle/47878668#47878668", "title": "How to resolve DexArchiveBuilderException for Gradle?", "body": "<p>Inside your run configurations Edit Run Configurations window, disable advanced profiling field in run configurations</p>\n"}], "owner": {"reputation": 21, "user_id": 9115630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3de321354071fc4dea7c85f6363b2c2?s=128&d=identicon&r=PG&f=1", "display_name": "A.C", "link": "https://stackoverflow.com/users/9115630/a-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1513645647, "creation_date": 1513639448, "last_edit_date": 1513640894, "question_id": 47877906, "link": "https://stackoverflow.com/questions/47877906/how-to-resolve-dexarchivebuilderexception-for-gradle", "title": "How to resolve DexArchiveBuilderException for Gradle?", "body": "<p>I have been getting the following build issue in Android Studio 3.0.1, and I have been unable to resolve it. I cannot run my app in the  meantime.  </p>\n\n<pre><code>com.android.builder.dexing.DexArchiveBuilderException:com.android.builder.dexing.DexArchiveBuilderException: Failed to process /home/Code/StudioProjects/aac/app/build/intermediates/transforms/instantRunSlicer/debug/7\n</code></pre>\n\n<p>...</p>\n\n<p>The Gradle Console says the NoSuchElementException plays a role, however it doesn't link this exception to anything in my code.</p>\n\n<pre><code>Caused by: java.util.NoSuchElementException\n    at java.util.LinkedList$ListItr.previous(LinkedList.java:905)\n</code></pre>\n\n<p>My build.gradle is as follows. </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"this.app.id.is\" // had to change appID for privacy\n        minSdkVersion 21\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\nbuildToolsVersion '26.0.2'\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'com.android.support:recyclerview-v7:26.1.0'\n    compile 'com.theartofdev.edmodo:android-image-cropper:2.5.+'  // Third-party library. Copyright 2016, Arthur Teplitzki, 2013, Edmodo, Inc\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.0'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.0'\n}\n</code></pre>\n\n<p>If anyone has any ideas on how to resolve this error, the help would be appreciated. </p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1513635539, "post_id": 47877007, "comment_id": 82720295, "body": "I would <i>guess</i> that you try to <code>@Inject fm : FragmentManager</code> and not <code>@Inject @Named(ACTIVITY_FRAGMENT_MANAGER) fm : FragmentManager</code>? This could explain your issue. Please include <b>the full error message</b> and the relevant code, e.g. see here: <a href=\"https://stackoverflow.com/q/44912080/1837367\">stackoverflow.com/q/44912080/1837367</a>"}, {"owner": {"reputation": 453, "user_id": 6405022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869af770a142f5cf49cc29df3b2d6dd3?s=128&d=identicon&r=PG&f=1", "display_name": "kkaun", "link": "https://stackoverflow.com/users/6405022/kkaun"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1513637696, "post_id": 47877007, "comment_id": 82721120, "body": "@DavidMedenjak, thanks for reply! I edited the question. So i tried to remove @Named(...) from all the relevant code, but nothing changes for now :( Anyway, thanks for the link - mb i&#39;ll find smth interesting in it."}, {"owner": {"reputation": 453, "user_id": 6405022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869af770a142f5cf49cc29df3b2d6dd3?s=128&d=identicon&r=PG&f=1", "display_name": "kkaun", "link": "https://stackoverflow.com/users/6405022/kkaun"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1513639289, "post_id": 47877007, "comment_id": 82721621, "body": "@DavidMedenjak, actually I&#39;ve tried to place <code>@Named</code> as well as remove it all across the code :) Just missed the clue while reading reply for the first time."}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1513640746, "post_id": 47877007, "comment_id": 82722078, "body": "Was it <i>the same</i> error after adding the named annotation? I could imagine that you have a similar error in your BaseFragment. Adding <code>@Named</code> should resolve your issue. Please check your errors thoroughly"}, {"owner": {"reputation": 453, "user_id": 6405022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869af770a142f5cf49cc29df3b2d6dd3?s=128&d=identicon&r=PG&f=1", "display_name": "kkaun", "link": "https://stackoverflow.com/users/6405022/kkaun"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1513642545, "post_id": 47877007, "comment_id": 82722578, "body": "Well, stack trace hasn&#39;t changed after adding/removing <code>@Named</code> or <code>@field:Named</code> on desired fields. Hence I wonder: could the <code>@Provides</code> provider module&#39;s methods be the cause? Should I try other <code>@Qualifier</code> or smth instead? Here i have to say that i tried to completely remove <code>@Named</code> from module&#39;s providers too, but nothing changes. The other thought is: could the reason be in grabbing base classes (<code>BaseActivitiy</code> in my case), injected fields and use them as properties in extending activities, eg <code>fragmentManager?.putFragment()</code> or <code>fragmentManager!!.putFragment()</code>?"}, {"owner": {"reputation": 453, "user_id": 6405022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869af770a142f5cf49cc29df3b2d6dd3?s=128&d=identicon&r=PG&f=1", "display_name": "kkaun", "link": "https://stackoverflow.com/users/6405022/kkaun"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1513642917, "post_id": 47877007, "comment_id": 82722686, "body": "Edited the question and added <code>BaseFragment</code> code."}], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 7136857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hDyq1.jpg?s=128&g=1", "display_name": "Ecnill", "link": "https://stackoverflow.com/users/7136857/ecnill"}, "is_accepted": false, "score": 0, "last_activity_date": 1513637535, "creation_date": 1513637535, "answer_id": 47877598, "question_id": 47877007, "link": "https://stackoverflow.com/questions/47877007/android-support-v4-app-fragmentmanager-cannot-be-provided-without-an-provides/47877598#47877598", "title": "android.support.v4.app.FragmentManager cannot be provided without an @Provides- or @Produces-annotated method", "body": "<p>Please try <code>@Inject @field:Named</code> instead <code>@Inject @Named</code> in every case where you use named annotation. It's helped me.</p>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 6405022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869af770a142f5cf49cc29df3b2d6dd3?s=128&d=identicon&r=PG&f=1", "display_name": "kkaun", "link": "https://stackoverflow.com/users/6405022/kkaun"}, "is_accepted": true, "score": 0, "last_activity_date": 1513693545, "creation_date": 1513693545, "answer_id": 47889074, "question_id": 47877007, "link": "https://stackoverflow.com/questions/47877007/android-support-v4-app-fragmentmanager-cannot-be-provided-without-an-provides/47889074#47889074", "title": "android.support.v4.app.FragmentManager cannot be provided without an @Provides- or @Produces-annotated method", "body": "<p>Ok, in this separate case the reason was in non-proper assignments of <code>Fragment</code> objects in activity and operating them as own properties - more specifically, inside <code>MainActivity</code>, which extend the base class with filed injection of topical type. </p>\n\n<p>So yes, dagger error log gave indirect hint where to dig.</p>\n"}, {"tags": [], "owner": {"reputation": 3014, "user_id": 5148795, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PC5b4qkB2x8/AAAAAAAAAAI/AAAAAAAABFE/v8lpqfero1M/photo.jpg?sz=128", "display_name": "Haroun Hajem", "link": "https://stackoverflow.com/users/5148795/haroun-hajem"}, "is_accepted": false, "score": 0, "last_activity_date": 1544805251, "creation_date": 1544805251, "answer_id": 53783623, "question_id": 47877007, "link": "https://stackoverflow.com/questions/47877007/android-support-v4-app-fragmentmanager-cannot-be-provided-without-an-provides/53783623#53783623", "title": "android.support.v4.app.FragmentManager cannot be provided without an @Provides- or @Produces-annotated method", "body": "<p>It looks like you are missing <code>AndroidInjectionModule</code> \n(or <code>AndroidSupportInjectionModule</code> if you use support fragments) installed on you <code>AppComponent</code>.</p>\n\n<p>It should be like:</p>\n\n<pre><code>@Component(modules = {AndroidInjectionModule.class, MainAppModule.class}\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 6405022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869af770a142f5cf49cc29df3b2d6dd3?s=128&d=identicon&r=PG&f=1", "display_name": "kkaun", "link": "https://stackoverflow.com/users/6405022/kkaun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1045, "favorite_count": 0, "accepted_answer_id": 47889074, "answer_count": 3, "score": 2, "last_activity_date": 1544805251, "creation_date": 1513634158, "last_edit_date": 1513684827, "question_id": 47877007, "link": "https://stackoverflow.com/questions/47877007/android-support-v4-app-fragmentmanager-cannot-be-provided-without-an-provides", "title": "android.support.v4.app.FragmentManager cannot be provided without an @Provides- or @Produces-annotated method", "body": "<p>So i'm quite new to Dagger and trying to \"daggerify\" Kotlin MVP project with activities plus independent fragments plus independent navigation.</p>\n\n<p>The fact that i'm using a good few views based on support lib's Fragment made me try recent dagger android support features.\nAfter some struggling with compononent graph building i've faced the issue which is represented by this error:</p>\n\n<pre><code>e: ...\\MyApp\\app\\build\\tmp\\kapt3\\stubs\\debug\\com\\...\\di\\app\\MyAppComponent.java:6: error: [dagger.android.AndroidInjector.inject(T)] android.support.v4.app.FragmentManager cannot be provided without an @Provides- or @Produces-annotated method.\ne: \ne: public abstract interface MyAppComponent extends dagger.android.AndroidInjector&lt;myapp.ui.MyApp&gt; {\ne:                 ^\ne:       android.support.v4.app.FragmentManager is injected at\ne:           myapp.ui.common.BaseActivity.fragmentManager\ne:       myapp.ui.main.MainActivity is injected at\ne:           dagger.android.AndroidInjector.inject(arg0)\ne: java.lang.IllegalStateException: failed to analyze: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n    at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:137)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:158)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:61)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:892)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:919)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:891)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:385)\n    at sun.reflect.GeneratedMethodAccessor95.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:90)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:42)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:205)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:166)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:83)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:376)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:67)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:367)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:132)\n    ... 29 more\n\nFAILED\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptDebugKotlin'.\n</code></pre>\n\n<p>Here is some code.</p>\n\n<p><strong>App:</strong></p>\n\n<pre><code>class MyApp : MultiDexApplication(), HasActivityInjector {\n\n    @Inject\n    @JvmField\n    var activityInjector: DispatchingAndroidInjector&lt;Activity&gt;? = null\n\n    override fun onCreate() {\n        super.onCreate()\n        DaggerMyAppComponent.builder().create(this).inject(this)\n    }\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt;? {\n        return activityInjector\n    }\n}\n</code></pre>\n\n<p><strong>AppComponent:</strong></p>\n\n<pre><code>@Singleton\n@Component(modules = [\n    MyAppModule::class,\n    DataModule::class,\n    PreferencesModule::class,\n    ServiceModule::class\n])\ninterface MyAppComponent : AndroidInjector&lt;MyApp&gt; {\n\n    @Component.Builder\n    abstract class Builder : AndroidInjector.Builder&lt;MyApp&gt;()\n}\n</code></pre>\n\n<p><strong>AppModule:</strong></p>\n\n<pre><code>@Module(includes = [AndroidSupportInjectionModule::class])\nabstract class MyAppModule {\n\n    @Binds\n    @Singleton\n    abstract fun application(myApp: MyApp): Application\n\n    @PerActivity\n    @ContributesAndroidInjector(modules = [(MainActivityModule::class)])\n    abstract fun mainActivityInjector(): MainActivity\n\n    //... other activity injectors\n}\n</code></pre>\n\n<p><strong>BaseActivityModule:</strong></p>\n\n<pre><code>@Module\nabstract class BaseActivityModule {\n\n    @Binds\n    @PerActivity\n    internal abstract fun activity(appCompatActivity: AppCompatActivity): Activity\n\n    @Binds\n    @PerActivity\n    internal abstract fun activityContext(activity: Activity): Context\n\n    @Module\n    companion object {\n\n        const val ACTIVITY_FRAGMENT_MANAGER = \"BaseActivityModule.activityFragmentManager\"\n\n        @JvmStatic\n        @Provides\n        @Named(ACTIVITY_FRAGMENT_MANAGER)\n        @PerActivity\n        fun activityFragmentManager(activity: AppCompatActivity): FragmentManager {\n            return activity.supportFragmentManager\n        }\n    }\n}\n</code></pre>\n\n<p><strong>BaseFragmentModule:</strong></p>\n\n<pre><code>@Module\nclass BaseFragmentModule {\n\n    @Module\n    companion object {\n\n        const val FRAGMENT = \"BaseFragmentModule.fragment\"\n        const val CHILD_FRAGMENT_MANAGER = \"BaseFragmentModule.childFragmentManager\"\n\n        @JvmStatic\n        @Provides\n        @Named(CHILD_FRAGMENT_MANAGER)\n        @PerFragment\n        fun childFragmentManager(@Named(FRAGMENT) fragment: Fragment): FragmentManager {\n            return fragment.childFragmentManager\n        }\n    }\n}\n</code></pre>\n\n<p><strong>BaseChildFragmentModule:</strong></p>\n\n<pre><code>@Module\nclass BaseChildFragmentModule {\n    companion object {\n        const val CHILD_FRAGMENT = \"BaseChildFragmentModule.childFragment\"\n    }\n}\n</code></pre>\n\n<p><strong>Sample MainActivityModule:</strong></p>\n\n<pre><code>@Module(includes = [\n    BaseActivityModule::class\n])\nabstract class MainActivityModule {\n\n    @Binds\n    @PerActivity\n    abstract fun appCompatActivity(mainActivity: MainActivity): AppCompatActivity\n\n    @PerFragment\n    @ContributesAndroidInjector(modules = [LocationFragmentModule::class])\n    abstract fun locationFragmentInjector(): LocationFragment\n\n    //... other related fragments injection methods\n}\n</code></pre>\n\n<p>I treat fragments as independent views, so each fragment has 1 View Module and 1 Presenter Module ATM. Here is the sample of <strong>fragment's DI parts</strong>:</p>\n\n<pre><code>@Module(includes = [BaseFragmentModule::class, LocationPresenterModule::class])\nabstract class LocationFragmentModule {\n\n    @Binds\n    @Named(BaseFragmentModule.FRAGMENT)\n    @PerFragment\n    abstract fun fragment(locationFragment: LocationFragment): Fragment\n\n    @Binds\n    @PerFragment\n    abstract fun locationView(locationFragment: LocationFragment): LocationView\n}\n\n@Module\nabstract class LocationPresenterModule {\n\n    @Binds\n    @PerFragment\n    abstract fun locationPresenter(locationPresenterImpl: LocationPresenterImpl): LocationPresenter\n}\n</code></pre>\n\n<p><strong>Gradle dagger dependencies:</strong></p>\n\n<pre><code>implementation \"com.google.dagger:dagger:$dagger_version\"\nkapt  \"com.google.dagger:dagger-compiler:$dagger_version\"\nimplementation \"com.google.dagger:dagger-android:$dagger_version\"\nkapt  \"com.google.dagger:dagger-android-processor:$dagger_version\"\nimplementation \"com.google.dagger:dagger-android-support:$dagger_version\"\nkapt  \"com.google.dagger:dagger-android-support:$dagger_version\"\n</code></pre>\n\n<p>I've tried to move AndroidSupportInjectionModule::class one level higher, to main component's modules array.</p>\n\n<p>I hope it's framework-related code generation issue and I just have a bad understanding of support mechanism behaviour, \nbecause all module's parts where @Provides is supposed to be already contain this annotation.</p>\n\n<p>As it can be seen from MyApp class code snippet, currently i'm stuck to extend MultiDexApplication, so i wonder could this issue be related to MultiDex supporting.</p>\n\n<p>The situation looks strange to me, so I'd like to be pointed in the right direction by more experienced dagger users.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Here is <strong>BaseActivity</strong> code:</p>\n\n<pre><code>abstract class BaseActivity : AppCompatActivity(), HasSupportFragmentInjector {\n\n    @Inject\n    @JvmField\n    var navigationManager: NavigationManager? = null\n\n    @Inject\n    @JvmField\n    var locationManager: MyLocationManagerImpl? = null\n\n    @Inject\n    @JvmField\n    @Named(BaseActivityModule.ACTIVITY_FRAGMENT_MANAGER)\n    //Tried to replace with option below\n    //@field:Named(BaseActivityModule.ACTIVITY_FRAGMENT_MANAGER)\n    var fragmentManager: FragmentManager? = null\n\n    @Inject\n    @JvmField\n    var fragmentInjector: DispatchingAndroidInjector&lt;Fragment&gt;? = null\n\n    override fun onCreate(@Nullable savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n    }\n\n    override fun supportFragmentInjector(): AndroidInjector&lt;Fragment&gt;? {\n        return fragmentInjector\n    }\n}\n</code></pre>\n\n<p><strong>BaseFragment</strong>:</p>\n\n<pre><code>abstract class BaseFragment : Fragment(), HasSupportFragmentInjector {\n\n    @Inject\n    @JvmField\n    var activityContext: Context? = null\n\n    @Inject\n    @JvmField\n    var parentActivity: FragmentActivity? = null\n\n    @Inject\n    @JvmField\n    var fragmentListener: FragmentListener? = null\n\n    @Inject\n    @JvmField\n    @Named(BaseFragmentModule.CHILD_FRAGMENT_MANAGER) \n    //Also tried option below\n    //@field:Named(BaseFragmentModule.CHILD_FRAGMENT_MANAGER)\n    var ownChildFragmentManager: FragmentManager? = null\n\n    @Inject\n    @JvmField\n    var childFragmentInjector: DispatchingAndroidInjector&lt;Fragment&gt;? = null\n\n    override fun onAttach(context: Context) {\n        AndroidSupportInjection.inject(this)\n        if (context is FragmentListener) {\n            parentActivity = context as FragmentActivity\n            fragmentListener = context\n        }\n        super.onAttach(context)\n    }\n\n    @Suppress(\"DEPRECATION\")\n    override fun onAttach(activity: Activity) {\n        AndroidSupportInjection.inject(this)\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M) {\n            if(activity is FragmentListener) {\n                parentActivity = activity as FragmentActivity\n                fragmentListener = activity\n            }\n        }\n        super.onAttach(activity)\n    }\n\n    override fun supportFragmentInjector(): AndroidInjector&lt;Fragment&gt;? {\n        return childFragmentInjector\n    }\n\n    fun addChildFragment(@IdRes containerViewId: Int, fragment: Fragment) {\n        childFragmentManager!!.beginTransaction()\n                .add(containerViewId, fragment)\n                .commit()\n    }\n}\n</code></pre>\n\n<p>Also, full error code was added to the top.</p>\n"}, {"tags": ["android", "lambda", "kotlin"], "comments": [{"owner": {"reputation": 983, "user_id": 2259854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hEB3l.jpg?s=128&g=1", "display_name": "clownba0t", "link": "https://stackoverflow.com/users/2259854/clownba0t"}, "edited": false, "score": 1, "creation_date": 1513618959, "post_id": 47873589, "comment_id": 82712853, "body": "Based on this answer, I would say no: <a href=\"https://stackoverflow.com/a/43042442/2259854\">stackoverflow.com/a/43042442/2259854</a>"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1513619449, "post_id": 47873589, "comment_id": 82713080, "body": "<a href=\"https://youtu.be/ihdEjDoXOgc?t=17m45s\" rel=\"nofollow noreferrer\">No, and you shouldn&#39;t use nested <code>it</code>s anyway</a>."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 8, "last_activity_date": 1513620052, "creation_date": 1513620052, "answer_id": 47873985, "question_id": 47873589, "link": "https://stackoverflow.com/questions/47873589/kotlin-multiple-layer-it-reference/47873985#47873985", "title": "Kotlin Multiple Layer it Reference", "body": "<p>No, the <code>it</code> symbol always references the innermost implicit single lambda parameter.</p>\n\n<p>To resolve this, and also to improve the code readability, use <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax\" rel=\"noreferrer\">named lambda parameters</a> every time when you have nested lambdas with parameters, as suggested in the <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#lambdas\" rel=\"noreferrer\">Coding conventions</a>:</p>\n\n<pre><code>data.arrayresults.forEach { result -&gt;    \n    result.myData.let { myData -&gt;\n        val itemView - inflater.inflate(R.layout.somelayout)\n\n        itemView.setOnClickListener(View.OnClickListener { view -&gt;\n\n            // the it references the view but I want it to reference the result.myData\n            SomeActivity.startActivity(context, myData.id.toString())\n        })\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 857, "favorite_count": 0, "accepted_answer_id": 47873985, "answer_count": 1, "score": 1, "last_activity_date": 1513620052, "creation_date": 1513618456, "question_id": 47873589, "link": "https://stackoverflow.com/questions/47873589/kotlin-multiple-layer-it-reference", "title": "Kotlin Multiple Layer it Reference", "body": "<p>How do you reference the second layer \"it\" from the third layer without creating a new val/var?  I know you can do val mydata = it and then do mydata.id.toString()  I was just wondering is there something in Kotlin that can let me reference an it from a higher level?</p>\n\n<pre><code>data.arrayresults.forEach {\n    val result = it\n\n    result.myData.let {\n        val itemView - inflater.inflate(R.layout.somelayout)\n\n        itemView.setOnClickListener(View.OnClickListener {\n\n            // the it references the view but I want it to reference the result.myData\n            SomeActivity.startActivity(context, it.id.toString())\n        })\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "kapt"], "comments": [{"owner": {"reputation": 989, "user_id": 2957893, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Mkizg.jpg?s=128&g=1", "display_name": "Den Drobiazko", "link": "https://stackoverflow.com/users/2957893/den-drobiazko"}, "edited": false, "score": 0, "creation_date": 1513686796, "post_id": 47873480, "comment_id": 82739864, "body": "A downvote without edit suggestion, without comment... nothing. How is that supposed to be useful?"}], "answers": [{"comments": [{"owner": {"reputation": 989, "user_id": 2957893, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Mkizg.jpg?s=128&g=1", "display_name": "Den Drobiazko", "link": "https://stackoverflow.com/users/2957893/den-drobiazko"}, "edited": false, "score": 0, "creation_date": 1513677855, "post_id": 47874371, "comment_id": 82734517, "body": "Compiler says we cannot specify that class to get annotation: it has internal visibility"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 989, "user_id": 2957893, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Mkizg.jpg?s=128&g=1", "display_name": "Den Drobiazko", "link": "https://stackoverflow.com/users/2957893/den-drobiazko"}, "edited": false, "score": 0, "creation_date": 1513679413, "post_id": 47874371, "comment_id": 82735466, "body": "You will either need to use reflection or write the check in Java, since <code>internal</code> becomes <code>public</code> when dealing with java interop."}, {"owner": {"reputation": 989, "user_id": 2957893, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Mkizg.jpg?s=128&g=1", "display_name": "Den Drobiazko", "link": "https://stackoverflow.com/users/2957893/den-drobiazko"}, "edited": false, "score": 1, "creation_date": 1513686675, "post_id": 47874371, "comment_id": 82739786, "body": "OR... I managed to resolve <code>isKotlinClass</code> check using this method: <code>isKotlinClass = elementUtils.getAllAnnotationMirrors(typeElement).any { (it.annotationType.asElement() as TypeElement).qualifiedName.toString() == &quot;kotlin.Metadata&quot; }</code>"}, {"owner": {"reputation": 989, "user_id": 2957893, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Mkizg.jpg?s=128&g=1", "display_name": "Den Drobiazko", "link": "https://stackoverflow.com/users/2957893/den-drobiazko"}, "edited": false, "score": 0, "creation_date": 1514221852, "post_id": 47874371, "comment_id": 82910605, "body": "btw, example above (once re-written to Java) allows to determine <code>isKotlinClass</code> without adding kotlin dependency, which is handy."}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 989, "user_id": 2957893, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Mkizg.jpg?s=128&g=1", "display_name": "Den Drobiazko", "link": "https://stackoverflow.com/users/2957893/den-drobiazko"}, "edited": false, "score": 0, "creation_date": 1514233149, "post_id": 47874371, "comment_id": 82913080, "body": "Added a version using <code>Elements</code> to extract the annotation name."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 4, "last_activity_date": 1514233111, "last_edit_date": 1514233111, "creation_date": 1513621671, "answer_id": 47874371, "question_id": 47873480, "link": "https://stackoverflow.com/questions/47873480/kotlin-annotation-processing-check-if-given-typeelement-is-from-kotlin-class/47874371#47874371", "title": "kotlin annotation processing: check if given TypeElement is from kotlin-class", "body": "<p>In theory any class compiled from kotlin will be annotated with <code>kotlin.Metadata</code>.\nYou can use the <code>getAnnotation</code> method on <code>TypeElement</code> to check if that annotation is present in order to verify if they were written in kotlin.</p>\n\n<pre><code>val metaDataClass = Class.forName(\"kotlin.Metadata\").asSubclass(Annotation::class.java)\nval isKotlinClass = &lt;TypeElement&gt;.getAnnotation(metaDataClass) != null\n</code></pre>\n\n<p>Version that works without having the kotlin standard library in the processing environment:</p>\n\n<pre><code>elementUtils.getAllAnnotationMirrors(typeElement).any { \n    elementUtils.getBinaryName(it.annotationType).contentEquals(\"kotlin.Metadata\") \n}\n</code></pre>\n"}], "owner": {"reputation": 989, "user_id": 2957893, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Mkizg.jpg?s=128&g=1", "display_name": "Den Drobiazko", "link": "https://stackoverflow.com/users/2957893/den-drobiazko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1177, "favorite_count": 0, "accepted_answer_id": 47874371, "answer_count": 1, "score": 1, "last_activity_date": 1514233111, "creation_date": 1513618024, "question_id": 47873480, "link": "https://stackoverflow.com/questions/47873480/kotlin-annotation-processing-check-if-given-typeelement-is-from-kotlin-class", "title": "kotlin annotation processing: check if given TypeElement is from kotlin-class", "body": "<p>I am implementing annotation processing library that generates code using java poet based on classes that have specific annotation.</p>\n\n<p>To also consume classes written in kotlin I've switched to kapt instead of apt in my sample project. It works with annotated java-classes just fine. Bun kotlin-classes have a different approach with accessing class fields: getters and setters should be used.</p>\n\n<p>Is there a way to determine whether given class (more specifically - not a class but a TypeElement - since this is happening prior to compilation) is java-class or is written in kotlin? Based on that I can write code that generates fields accessing or getters-used accessing.</p>\n"}, {"tags": ["android", "parse-platform", "kotlin", "realm"], "comments": [{"owner": {"reputation": 983, "user_id": 2259854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hEB3l.jpg?s=128&g=1", "display_name": "clownba0t", "link": "https://stackoverflow.com/users/2259854/clownba0t"}, "edited": false, "score": 0, "creation_date": 1513616291, "post_id": 47872748, "comment_id": 82711448, "body": "Has the data from the Parse platform definitely been received, parsed, and entered into the Realm before <code>getData</code> is called for the first time?"}, {"owner": {"reputation": 430, "user_id": 5906110, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yi1uiwuqY_8/AAAAAAAAAAI/AAAAAAAABMw/BXPCHT2jjAo/photo.jpg?sz=128", "display_name": "vinay kumar", "link": "https://stackoverflow.com/users/5906110/vinay-kumar"}, "reply_to_user": {"reputation": 983, "user_id": 2259854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hEB3l.jpg?s=128&g=1", "display_name": "clownba0t", "link": "https://stackoverflow.com/users/2259854/clownba0t"}, "edited": false, "score": 0, "creation_date": 1513616377, "post_id": 47872748, "comment_id": 82711493, "body": "Yes I debugged the application and first the insert is performed and data is entered into Realm and then Get method is called and when the application is launched for the first time RealmResults is empty."}, {"owner": {"reputation": 983, "user_id": 2259854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hEB3l.jpg?s=128&g=1", "display_name": "clownba0t", "link": "https://stackoverflow.com/users/2259854/clownba0t"}, "edited": false, "score": 1, "creation_date": 1513616792, "post_id": 47872748, "comment_id": 82711697, "body": "Unfortunately debugging can cause false positives when dealing with multiple threads - while your debugger is blocking one thread, another thread can be running and carry out an operation that would normally not be done before the first thread needs the result of that operation. Perhaps try simply logging instead and see if you get the same result? :)"}, {"owner": {"reputation": 430, "user_id": 5906110, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yi1uiwuqY_8/AAAAAAAAAAI/AAAAAAAABMw/BXPCHT2jjAo/photo.jpg?sz=128", "display_name": "vinay kumar", "link": "https://stackoverflow.com/users/5906110/vinay-kumar"}, "reply_to_user": {"reputation": 983, "user_id": 2259854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hEB3l.jpg?s=128&g=1", "display_name": "clownba0t", "link": "https://stackoverflow.com/users/2259854/clownba0t"}, "edited": false, "score": 0, "creation_date": 1513617364, "post_id": 47872748, "comment_id": 82712007, "body": "I am sorry that I did not mention I put a Log message before insert method and also a Log message before Get method and I have the same result."}, {"owner": {"reputation": 3477, "user_id": 1396606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8806428fd1451cf727350f163e5c13d7?s=128&d=identicon&r=PG", "display_name": "beeender", "link": "https://stackoverflow.com/users/1396606/beeender"}, "edited": false, "score": 0, "creation_date": 1513653472, "post_id": 47872748, "comment_id": 82725054, "body": "When dealing with multiple threads and Realm, you need to use Realm notifications to know when does the Realm db version change on the dedicated thread. see <a href=\"https://realm.io/docs/java/latest/#notifications\" rel=\"nofollow noreferrer\">realm.io/docs/java/latest/#notifications</a>"}, {"owner": {"reputation": 430, "user_id": 5906110, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yi1uiwuqY_8/AAAAAAAAAAI/AAAAAAAABMw/BXPCHT2jjAo/photo.jpg?sz=128", "display_name": "vinay kumar", "link": "https://stackoverflow.com/users/5906110/vinay-kumar"}, "reply_to_user": {"reputation": 3477, "user_id": 1396606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8806428fd1451cf727350f163e5c13d7?s=128&d=identicon&r=PG", "display_name": "beeender", "link": "https://stackoverflow.com/users/1396606/beeender"}, "edited": false, "score": 0, "creation_date": 1513659958, "post_id": 47872748, "comment_id": 82726521, "body": "@beeender Thank You I will go through the documentation."}], "owner": {"reputation": 430, "user_id": 5906110, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yi1uiwuqY_8/AAAAAAAAAAI/AAAAAAAABMw/BXPCHT2jjAo/photo.jpg?sz=128", "display_name": "vinay kumar", "link": "https://stackoverflow.com/users/5906110/vinay-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1513615103, "creation_date": 1513615103, "question_id": 47872748, "link": "https://stackoverflow.com/questions/47872748/receiving-empty-list-from-realm-when-i-launch-the-android-application-for-the-fi", "title": "Receiving empty list from realm when I launch the android application for the first time.", "body": "<p>I have a separate class to do database operations and I am inserting the data into realm which I receive from Parse Platform and in my Main Activity I am retrieving the data from Realm and as I do this when I launch the application for the first time I am receiving an empty list but when I close the application and reopen I have the full list\n    This is my insert function </p>\n\n<pre><code>    fun insertUserIntoDb(name: String, id: String, detail : String) {\n\n        realm.executeTransaction {\n            val stream: Stream = realm.createObject(Stream::class.java, \n            id)\n            stream.name = name\n            stream.detail = detail\n        }\n    }\n\n This is my getData function\n\n\n fun getUserFromDb() : ArrayList&lt;Stream&gt; {\n    val list = ArrayList&lt;Stream&gt;()\n    val streams: RealmResults&lt;Stream&gt; = \n    realm.where(Stream::class.java).findAll()\n    list.addAll(realm.copyFromRealm(streams))\n\n    //Log.d(\"\", \"path: \" + realm.get\n\nPath())\n        return list\n    }\n</code></pre>\n"}, {"tags": ["android", "makefile", "kotlin", "bazel", "build-system"], "answers": [{"tags": [], "owner": {"reputation": 2364, "user_id": 383676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/512533dbca12b5d8f03aade683e2fdd4?s=128&d=identicon&r=PG", "display_name": "fejd", "link": "https://stackoverflow.com/users/383676/fejd"}, "is_accepted": true, "score": 1, "last_activity_date": 1536691845, "creation_date": 1536691845, "answer_id": 52282463, "question_id": 47872330, "link": "https://stackoverflow.com/questions/47872330/is-it-possible-to-build-an-android-app-that-uses-kotlin-with-make-or-soong/52282463#52282463", "title": "Is it possible to build an Android app that uses Kotlin with make or Soong?", "body": "<p>With the latest AOSP it's now possible to build system apps written in Kotlin with Soong, with some limitations. See <a href=\"https://github.com/jzoran/kotlin-privapp\" rel=\"nofollow noreferrer\">https://github.com/jzoran/kotlin-privapp</a> for more details.</p>\n"}], "owner": {"reputation": 2364, "user_id": 383676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/512533dbca12b5d8f03aade683e2fdd4?s=128&d=identicon&r=PG", "display_name": "fejd", "link": "https://stackoverflow.com/users/383676/fejd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 1, "accepted_answer_id": 52282463, "answer_count": 1, "score": 1, "last_activity_date": 1536691845, "creation_date": 1513613639, "question_id": 47872330, "link": "https://stackoverflow.com/questions/47872330/is-it-possible-to-build-an-android-app-that-uses-kotlin-with-make-or-soong", "title": "Is it possible to build an Android app that uses Kotlin with make or Soong?", "body": "<p>I'm working on an Android app that gets built into the system image, and I'd like to add Kotlin support to it. </p>\n\n<p>Currently it builds with Gradle (regular development) and make (Android.mk, system build). Adding Kotlin support to Gradle is very smooth, but I'm stuck on the make based parts. I'm thinking of moving the make based parts to Soong, after seeing that it's somewhat similar to Bazel (at least semantically, what about feature wise?), which seems to support building Android apps. I realize this is a rare setup, and I haven't found any examples where Kotlin is used with make or Soong.</p>\n"}, {"tags": ["android", "webview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 489, "user_id": 6116863, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/hj2OW.jpg?s=128&g=1", "display_name": "Ayan Chakraborty", "link": "https://stackoverflow.com/users/6116863/ayan-chakraborty"}, "edited": false, "score": 0, "creation_date": 1513614285, "post_id": 47872253, "comment_id": 82710322, "body": "how to enable javascript in kotlin??"}, {"owner": {"reputation": 3285, "user_id": 3505534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Etrmc.jpg?s=128&g=1", "display_name": "Ramesh sambu", "link": "https://stackoverflow.com/users/3505534/ramesh-sambu"}, "reply_to_user": {"reputation": 489, "user_id": 6116863, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/hj2OW.jpg?s=128&g=1", "display_name": "Ayan Chakraborty", "link": "https://stackoverflow.com/users/6116863/ayan-chakraborty"}, "edited": false, "score": 6, "creation_date": 1513615151, "post_id": 47872253, "comment_id": 82710802, "body": "webView.getSettings().setJavaScriptEnabled(true);"}, {"owner": {"reputation": 379, "user_id": 4955822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tyvEV.jpg?s=128&g=1", "display_name": "Aayush Goyal", "link": "https://stackoverflow.com/users/4955822/aayush-goyal"}, "edited": false, "score": 0, "creation_date": 1547759401, "post_id": 47872253, "comment_id": 95313187, "body": "I think in Kotlin the proper way to do this is via: <code>webView!!.settings.javaScriptEnabled = true</code>"}, {"owner": {"reputation": 167, "user_id": 9278174, "user_type": "registered", "profile_image": "https://graph.facebook.com/114354632712120/picture?type=large", "display_name": "Thomas Daniel", "link": "https://stackoverflow.com/users/9278174/thomas-daniel"}, "edited": false, "score": 2, "creation_date": 1550802648, "post_id": 47872253, "comment_id": 96413931, "body": "If you are using Kotlin Android Extensions.  <code>webview.settings.javaScriptEnabled = true</code>"}, {"owner": {"reputation": 583, "user_id": 3939389, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-1yt3NZPhuN0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcG92ZAUOmKSDDnfS6dr87vvXeIpw/mo/photo.jpg?sz=128", "display_name": "Tiago", "link": "https://stackoverflow.com/users/3939389/tiago"}, "edited": false, "score": 0, "creation_date": 1557862687, "post_id": 47872253, "comment_id": 98905954, "body": "How to enable camera access?"}, {"owner": {"reputation": 2039, "user_id": 5595926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fSHYE.jpg?s=128&g=1", "display_name": "snorlax", "link": "https://stackoverflow.com/users/5595926/snorlax"}, "edited": false, "score": 0, "creation_date": 1597660249, "post_id": 47872253, "comment_id": 112195781, "body": "if (url != null) {                     view?.loadUrl(url)                 }"}], "tags": [], "owner": {"reputation": 3285, "user_id": 3505534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Etrmc.jpg?s=128&g=1", "display_name": "Ramesh sambu", "link": "https://stackoverflow.com/users/3505534/ramesh-sambu"}, "is_accepted": true, "score": 56, "last_activity_date": 1603180595, "last_edit_date": 1603180595, "creation_date": 1513613386, "answer_id": 47872253, "question_id": 47872078, "link": "https://stackoverflow.com/questions/47872078/how-to-load-an-url-inside-a-webview-using-android-kotlin/47872253#47872253", "title": "How to load an URL inside a WebView using Android Kotlin?", "body": "<p>1.activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.constraint.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;com.kotlinwebview.MainActivity&quot;&gt;\n\n\n&lt;WebView\n    android:id=&quot;@+id/webview&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:ignore=&quot;MissingConstraints&quot;\n    tools:layout_editor_absoluteX=&quot;8dp&quot;\n    tools:layout_editor_absoluteY=&quot;8dp&quot; /&gt;\n</code></pre>\n<p>&lt;/android.support.constraint.ConstraintLayout&gt;</p>\n<p>2.MainActivity.kt</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var webView: WebView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        webView = findViewById(R.id.webview)\n        webView.settings.setJavaScriptEnabled(true)\n\n        webView.webViewClient = object : WebViewClient() {\n            override fun shouldOverrideUrlLoading(view: WebView?, url: String?): Boolean {\n                view?.loadUrl(url)\n                return true\n            }\n        }\n        webView.loadUrl(&quot;https://www.google.co.in/&quot;)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 583, "user_id": 3939389, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-1yt3NZPhuN0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcG92ZAUOmKSDDnfS6dr87vvXeIpw/mo/photo.jpg?sz=128", "display_name": "Tiago", "link": "https://stackoverflow.com/users/3939389/tiago"}, "edited": false, "score": 0, "creation_date": 1557862743, "post_id": 48221442, "comment_id": 98905982, "body": "How to enable camera access?"}, {"owner": {"reputation": 1362, "user_id": 6398434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf03f633221b8c49331261022688105?s=128&d=identicon&r=PG", "display_name": "JorgeAmVF", "link": "https://stackoverflow.com/users/6398434/jorgeamvf"}, "reply_to_user": {"reputation": 583, "user_id": 3939389, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-1yt3NZPhuN0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcG92ZAUOmKSDDnfS6dr87vvXeIpw/mo/photo.jpg?sz=128", "display_name": "Tiago", "link": "https://stackoverflow.com/users/3939389/tiago"}, "edited": false, "score": 0, "creation_date": 1557890169, "post_id": 48221442, "comment_id": 98912692, "body": "You&#39;d need to request permission in real-time, I guess. Have you tried it, @Tiago?"}, {"owner": {"reputation": 1362, "user_id": 6398434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf03f633221b8c49331261022688105?s=128&d=identicon&r=PG", "display_name": "JorgeAmVF", "link": "https://stackoverflow.com/users/6398434/jorgeamvf"}, "reply_to_user": {"reputation": 583, "user_id": 3939389, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-1yt3NZPhuN0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcG92ZAUOmKSDDnfS6dr87vvXeIpw/mo/photo.jpg?sz=128", "display_name": "Tiago", "link": "https://stackoverflow.com/users/3939389/tiago"}, "edited": false, "score": 0, "creation_date": 1557897244, "post_id": 48221442, "comment_id": 98914213, "body": "Does it work on the chrome browser and it doesn&#39;t work just in the <code>WebView</code>?"}, {"owner": {"reputation": 583, "user_id": 3939389, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-1yt3NZPhuN0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcG92ZAUOmKSDDnfS6dr87vvXeIpw/mo/photo.jpg?sz=128", "display_name": "Tiago", "link": "https://stackoverflow.com/users/3939389/tiago"}, "edited": false, "score": 0, "creation_date": 1557922264, "post_id": 48221442, "comment_id": 98927385, "body": "Exactly. It works in the browser, but it does not work in webview."}, {"owner": {"reputation": 1362, "user_id": 6398434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf03f633221b8c49331261022688105?s=128&d=identicon&r=PG", "display_name": "JorgeAmVF", "link": "https://stackoverflow.com/users/6398434/jorgeamvf"}, "reply_to_user": {"reputation": 583, "user_id": 3939389, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-1yt3NZPhuN0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcG92ZAUOmKSDDnfS6dr87vvXeIpw/mo/photo.jpg?sz=128", "display_name": "Tiago", "link": "https://stackoverflow.com/users/3939389/tiago"}, "edited": false, "score": 1, "creation_date": 1557931902, "post_id": 48221442, "comment_id": 98933811, "body": "Look, I&#39;m not sure if the following solutions will be enough, but here are at least a couple of possible workarounds: <a href=\"https://stackoverflow.com/a/48271743/6398434\">one</a> and <a href=\"https://stackoverflow.com/a/49403612/6398434\">another</a>. However, I&#39;m not sure if they work because I&#39;ve never tested to implement permissions on a <code>WebView</code>. Hope it helps you somehow anyway!"}, {"owner": {"reputation": 1362, "user_id": 6398434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf03f633221b8c49331261022688105?s=128&d=identicon&r=PG", "display_name": "JorgeAmVF", "link": "https://stackoverflow.com/users/6398434/jorgeamvf"}, "reply_to_user": {"reputation": 583, "user_id": 3939389, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-1yt3NZPhuN0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcG92ZAUOmKSDDnfS6dr87vvXeIpw/mo/photo.jpg?sz=128", "display_name": "Tiago", "link": "https://stackoverflow.com/users/3939389/tiago"}, "edited": false, "score": 2, "creation_date": 1557931992, "post_id": 48221442, "comment_id": 98933878, "body": "Also, @Tiago, I&#39;d suggest you to directly ask the question explaining your issue and showing pieces of your actual code so others could help you more precisely."}], "tags": [], "owner": {"reputation": 1362, "user_id": 6398434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf03f633221b8c49331261022688105?s=128&d=identicon&r=PG", "display_name": "JorgeAmVF", "link": "https://stackoverflow.com/users/6398434/jorgeamvf"}, "is_accepted": false, "score": 5, "last_activity_date": 1515741847, "creation_date": 1515741847, "answer_id": 48221442, "question_id": 47872078, "link": "https://stackoverflow.com/questions/47872078/how-to-load-an-url-inside-a-webview-using-android-kotlin/48221442#48221442", "title": "How to load an URL inside a WebView using Android Kotlin?", "body": "<p>Add this to your activity:</p>\n\n<pre><code>@SuppressLint(\"SetJavaScriptEnabled\")\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    setContentView(R.layout.activity_webview)\n\n    val mWebView = findViewById&lt;WebView&gt;(R.id.webview)\n\n    val webSettings = mWebView.settings\n    webSettings.javaScriptEnabled = true\n    mWebView.loadUrl(getString(R.string.website_url))\n    mWebView.webViewClient = HelloWebViewClient()\n    WebView.setWebContentsDebuggingEnabled(false)\n\n}\n</code></pre>\n\n<p>And add the following to the <code>HelloWebViewClient()</code> class in order to allow back button navigation and to outbound external links:</p>\n\n<pre><code>    override fun shouldOverrideUrlLoading(view: WebView, url: String): Boolean {\n        if (Uri.parse(url).host == getString(R.string.website_domain)) {\n            return false\n        }\n        val intent = Intent(Intent.ACTION_VIEW, Uri.parse(url))\n        startActivity(intent)\n        return true\n    }\n\n    override fun onPageFinished(view: WebView, url: String) {\n        // TODO Auto-generated method stub\n        super.onPageFinished(view, url)\n    }\n\n}\n\noverride fun onKeyDown(keyCode: Int, event: KeyEvent): Boolean {\n    if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; webview.canGoBack()) {\n        webview.goBack()\n        return true\n    }\n    return super.onKeyDown(keyCode, event)\n}\n</code></pre>\n\n<p>Add strings defining <code>website_domain</code> (<a href=\"https://stackoverflow.com/\">https://stackoverflow.com/</a>) and <code>website_host</code> (stackoverflow.com).</p>\n\n<p>If you're dealing with difficulties in order to achieve what you're trying, try <a href=\"https://github.com/QuaestioOrg/kotlin-converted-webview\" rel=\"noreferrer\">this full sample</a> and just follow the instructions so as you just need to edit the URL and the clean domain name of your website.</p>\n"}, {"comments": [{"owner": {"reputation": 583, "user_id": 3939389, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-1yt3NZPhuN0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcG92ZAUOmKSDDnfS6dr87vvXeIpw/mo/photo.jpg?sz=128", "display_name": "Tiago", "link": "https://stackoverflow.com/users/3939389/tiago"}, "edited": false, "score": 0, "creation_date": 1557862736, "post_id": 54819074, "comment_id": 98905979, "body": "How to enable camera access?"}, {"owner": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "edited": false, "score": 3, "creation_date": 1585884746, "post_id": 54819074, "comment_id": 107927360, "body": "Horrible site to send someone too, its very un-organized."}], "tags": [], "owner": {"reputation": 167, "user_id": 9278174, "user_type": "registered", "profile_image": "https://graph.facebook.com/114354632712120/picture?type=large", "display_name": "Thomas Daniel", "link": "https://stackoverflow.com/users/9278174/thomas-daniel"}, "is_accepted": false, "score": 4, "last_activity_date": 1554004488, "last_edit_date": 1554004488, "creation_date": 1550801453, "answer_id": 54819074, "question_id": 47872078, "link": "https://stackoverflow.com/questions/47872078/how-to-load-an-url-inside-a-webview-using-android-kotlin/54819074#54819074", "title": "How to load an URL inside a WebView using Android Kotlin?", "body": "<p>Use Android Kotlin Extension plugin. If you are using Android Studio 3.0 and above, don't worry about that. That already installed on your Project.</p>\n\n<p>Use the id of WebView in layout and call loadUrl() method.</p>\n\n<p><a href=\"https://androidride.com/android-webview-example-tutorial-kotlin-java-download-source-code/\" rel=\"nofollow noreferrer\">Android WebView Example - Kotlin &amp; Java</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/95lDu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95lDu.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here id of WebView : webview </p>\n\n<p><code>webview.loadUrl(\"https://www.androidride.com\")</code></p>\n\n<p>don't forget to add</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n\n<p>If your third-party browser open with any URL that loaded in WebView, then provide WebViewClient.</p>\n\n<pre><code>webview.webViewClient = WebViewClient()\n</code></pre>\n\n<p>If you want to play youtube videos in your WebView, then you must enable JavaScript in WebView.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ACrdH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ACrdH.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>webview.settings.javaScriptEnabled = true</code></p>\n\n<p>If you are a beginner in Android app development, then this tutorial will help you to clear almost all your doubts about WebView.</p>\n\n<p><a href=\"https://androidride.com/android-webview-example-tutorial-kotlin-java-download-source-code/\" rel=\"nofollow noreferrer\">click here </a></p>\n"}, {"comments": [{"owner": {"reputation": 1048, "user_id": 2803310, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/00078de72f3a94724909b5bcc5ef11ad?s=128&d=identicon&r=PG&f=1", "display_name": "Rocstar", "link": "https://stackoverflow.com/users/2803310/rocstar"}, "edited": false, "score": 0, "creation_date": 1595929560, "post_id": 63067808, "comment_id": 111636844, "body": "How I can use your GitHub project on my android studio without copy/past all file manually, thank you"}, {"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "reply_to_user": {"reputation": 1048, "user_id": 2803310, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/00078de72f3a94724909b5bcc5ef11ad?s=128&d=identicon&r=PG&f=1", "display_name": "Rocstar", "link": "https://stackoverflow.com/users/2803310/rocstar"}, "edited": false, "score": 1, "creation_date": 1595935368, "post_id": 63067808, "comment_id": 111639585, "body": "You need to clone the repository and open it from android studio."}, {"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "reply_to_user": {"reputation": 1048, "user_id": 2803310, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/00078de72f3a94724909b5bcc5ef11ad?s=128&d=identicon&r=PG&f=1", "display_name": "Rocstar", "link": "https://stackoverflow.com/users/2803310/rocstar"}, "edited": false, "score": 0, "creation_date": 1595936449, "post_id": 63067808, "comment_id": 111640143, "body": "Take a look here:<a href=\"https://londonappdeveloper.com/2015/02/21/how-to-clone-a-github-project-on-android-studio/\" rel=\"nofollow noreferrer\">londonappdeveloper.com/2015/02/21/&hellip;</a>"}], "tags": [], "owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "is_accepted": false, "score": 2, "last_activity_date": 1595570979, "creation_date": 1595570979, "answer_id": 63067808, "question_id": 47872078, "link": "https://stackoverflow.com/questions/47872078/how-to-load-an-url-inside-a-webview-using-android-kotlin/63067808#63067808", "title": "How to load an URL inside a WebView using Android Kotlin?", "body": "<p>Here is the complete working code to load a website in android <code>webView</code>. Just create a new project from the android studio and use the following code to load the web view. Just change the URL you want to load it in the web view.</p>\n<ul>\n<li>It will load a website in the webview</li>\n<li>It will check internet connection availability</li>\n<li>If there is no internet ask the user to enable WiFi from the snack bar message</li>\n<li>Loads the progress until website loads</li>\n<li>Handles the error if something went wrong while loading website</li>\n<li>Handles the back button press cases</li>\n<li>Handles exit from the app confirmation with toast</li>\n</ul>\n<p>activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/rootView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/webView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/infoTV&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>MainActivity.kt:</p>\n<pre><code>import android.annotation.SuppressLint\nimport android.content.Context\nimport android.content.Intent\nimport android.graphics.Bitmap\nimport android.net.ConnectivityManager\nimport android.net.NetworkCapabilities\nimport android.os.Bundle\nimport android.os.Handler\nimport android.os.Looper\nimport android.provider.Settings\nimport android.util.Log\nimport android.view.KeyEvent\nimport android.webkit.WebResourceError\nimport android.webkit.WebResourceRequest\nimport android.webkit.WebView\nimport android.webkit.WebViewClient\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport com.google.android.material.snackbar.Snackbar\nimport kotlinx.android.synthetic.main.activity_main.*\n\n\nclass MainActivity : AppCompatActivity() {\n\n    private var progress: Progress? = null\n    private var isLoaded: Boolean = false\n    private var doubleBackToExitPressedOnce = false\n    private var webURL = &quot;https://www.geeklabs.co.in/&quot; // Change it with your URL\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        webView.settings.javaScriptEnabled = true\n        if (!isOnline()) {\n            showToast(getString(R.string.no_internet))\n            infoTV.text = getString(R.string.no_internet)\n            showNoNetSnackBar()\n            return\n        }\n    }\n\n    override fun onResume() {\n        if (isOnline() &amp;&amp; !isLoaded) loadWebView()\n        super.onResume()\n    }\n\n    private fun loadWebView() {\n        infoTV.text = &quot;&quot;\n        webView.loadUrl(webURL)\n        webView.webViewClient = object : WebViewClient() {\n            override fun shouldOverrideUrlLoading(view: WebView?, request: WebResourceRequest?): Boolean {\n                val url = request?.url.toString()\n                view?.loadUrl(url)\n                return super.shouldOverrideUrlLoading(view, request)\n            }\n\n            override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\n                setProgressDialogVisibility(true)\n                super.onPageStarted(view, url, favicon)\n            }\n\n            override fun onPageFinished(view: WebView?, url: String?) {\n                isLoaded = true\n                setProgressDialogVisibility(false)\n                super.onPageFinished(view, url)\n            }\n\n            override fun onReceivedError(view: WebView, request: WebResourceRequest, error: WebResourceError) {\n                isLoaded = false\n                val errorMessage = &quot;Got Error! $error&quot;\n                showToast(errorMessage)\n                infoTV.text = errorMessage\n                setProgressDialogVisibility(false)\n                super.onReceivedError(view, request, error)\n            }\n        }\n    }\n\n    override fun onKeyDown(keyCode: Int, event: KeyEvent): Boolean {\n        if (event.action == KeyEvent.ACTION_DOWN) {\n            if (keyCode == KeyEvent.KEYCODE_BACK) {\n                if (webView.canGoBack()) {\n                    webView.goBack()\n                } else {\n                    showToastToExit()\n                }\n                return true\n            }\n        }\n        return super.onKeyDown(keyCode, event)\n    }\n\n    private fun showToastToExit() {\n        when {\n            doubleBackToExitPressedOnce -&gt; {\n                onBackPressed()\n            }\n            else -&gt; {\n                doubleBackToExitPressedOnce = true\n                showToast(getString(R.string.back_again_to_exit))\n                Handler(Looper.myLooper()!!).postDelayed({ doubleBackToExitPressedOnce = false }, 2000)\n            }\n        }\n    }\n\n    private fun setProgressDialogVisibility(visible: Boolean) {\n        if (visible) progress = Progress(this, R.string.please_wait, cancelable = true)\n        progress?.apply { if (visible) show() else dismiss() }\n    }\n\n    private fun isOnline(): Boolean {\n        val connectivityManager =\n                getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        val capabilities =\n                connectivityManager.getNetworkCapabilities(connectivityManager.activeNetwork)\n        if (capabilities != null) {\n            when {\n                capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; {\n                    Log.i(&quot;Internet&quot;, &quot;NetworkCapabilities.TRANSPORT_CELLULAR&quot;)\n                    return true\n                }\n                capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) -&gt; {\n                    Log.i(&quot;Internet&quot;, &quot;NetworkCapabilities.TRANSPORT_WIFI&quot;)\n                    return true\n                }\n                capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET) -&gt; {\n                    Log.i(&quot;Internet&quot;, &quot;NetworkCapabilities.TRANSPORT_ETHERNET&quot;)\n                    return true\n                }\n            }\n        }\n        return false\n    }\n\n    private fun showToast(message: String) {\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show()\n    }\n\n    private fun showNoNetSnackBar() {\n        val snack = Snackbar.make(rootView, getString(R.string.no_internet), Snackbar.LENGTH_INDEFINITE)\n        snack.setAction(getString(R.string.settings)) {\n            startActivity(Intent(Settings.ACTION_WIFI_SETTINGS))\n        }\n        snack.show()\n    }\n}\n</code></pre>\n<p>Progress.kt:</p>\n<pre><code>import android.app.AlertDialog\nimport android.app.Dialog\nimport android.content.Context\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.widget.TextView\nimport androidx.annotation.StringRes\n\nclass Progress constructor(\n    context: Context?,\n    @StringRes private val titleRes: Int,\n    cancelable: Boolean = false\n) {\n\n    private var view: View? = null\n    private var builder: AlertDialog.Builder\n    private var dialog: Dialog\n\n    init {\n        view = LayoutInflater.from(context).inflate(R.layout.progress, null)\n        view?.findViewById&lt;TextView&gt;(R.id.text)?.setText(titleRes)\n        builder = AlertDialog.Builder(context)\n        builder.setView(view)\n        dialog = builder.create()\n        dialog.setCancelable(cancelable)\n    }\n\n    fun setProgressMessage(@StringRes titleRes: Int) {\n        view?.findViewById&lt;TextView&gt;(R.id.text)?.setText(titleRes)\n    }\n\n    fun show() {\n        dialog.show()\n    }\n\n    fun dismiss() {\n        if (dialog.isShowing) {\n            dialog.dismiss()\n        }\n    }\n\n    fun setProgressDialogVisibility(isVisible: Boolean) {\n\n    }\n}\n</code></pre>\n<p>pregress.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/linearLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center_vertical&quot;&gt;\n\n    &lt;ProgressBar\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;16dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.SearchResult.Subtitle&quot;\n        tools:text=&quot;Loading&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Manifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.geeklabs.webviewkotlin&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:fullBackupContent=&quot;false&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>strings.xml:</p>\n<pre><code>&lt;resources&gt;\n    &lt;string name=&quot;app_name&quot;&gt;WebViewKotlin&lt;/string&gt;\n    &lt;string name=&quot;please_wait&quot;&gt;Please wait&amp;#8230;&lt;/string&gt;\n    &lt;string name=&quot;no_internet&quot;&gt;No internet connection!&lt;/string&gt;\n    &lt;string name=&quot;settings&quot;&gt;Settings&lt;/string&gt;\n    &lt;string name=&quot;back_again_to_exit&quot;&gt;Please click BACK again to exit&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.0&quot;\n\n    defaultConfig {\n        applicationId &quot;com.geeklabs.webviewkotlin&quot;\n        minSdkVersion 23\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\n    implementation 'androidx.core:core-ktx:1.3.1'\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.android.material:material:1.1.0'\n    testImplementation 'junit:junit:4.13'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\n}\n</code></pre>\n<p>Here is the complete working code in Git hub. <a href=\"https://github.com/shylendramadda/android-webview-kotlin\" rel=\"nofollow noreferrer\">Click here to navigate to Git Hub</a></p>\n"}], "owner": {"reputation": 489, "user_id": 6116863, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/hj2OW.jpg?s=128&g=1", "display_name": "Ayan Chakraborty", "link": "https://stackoverflow.com/users/6116863/ayan-chakraborty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68214, "favorite_count": 1, "accepted_answer_id": 47872253, "answer_count": 4, "score": 19, "last_activity_date": 1603180595, "creation_date": 1513612833, "last_edit_date": 1515746114, "question_id": 47872078, "link": "https://stackoverflow.com/questions/47872078/how-to-load-an-url-inside-a-webview-using-android-kotlin", "title": "How to load an URL inside a WebView using Android Kotlin?", "body": "<p>I am new to both Android and Kotlin.</p>\n\n<p>Anyone can help me to load an URL in a <code>webView</code>?</p>\n\n<p>I just want to load the URL and view the webpage when the app is open.</p>\n"}, {"tags": ["kotlin", "async-await", "suspend", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 40, "last_activity_date": 1559576830, "last_edit_date": 1559576830, "creation_date": 1515152524, "answer_id": 48112934, "question_id": 47871868, "link": "https://stackoverflow.com/questions/47871868/what-does-the-suspend-function-mean-in-a-kotlin-coroutine/48112934#48112934", "title": "What does the suspend function mean in a Kotlin Coroutine?", "body": "<p>To understand what exactly it means to suspend a coroutine, I suggest you go through this code:</p>\n\n<pre><code>import kotlinx.coroutines.Dispatchers.Unconfined\nimport kotlinx.coroutines.launch\nimport kotlinx.coroutines.runBlocking\nimport kotlin.coroutines.Continuation\nimport kotlin.coroutines.resume\nimport kotlin.coroutines.suspendCoroutine\n\nvar continuation: Continuation&lt;Int&gt;? = null\n\nfun main() = runBlocking {\n    launch(Unconfined) {\n        val a = a()\n        println(\"Result is $a\")\n    }\n    10.downTo(0).forEach {\n        continuation!!.resume(it)\n    }\n}\n\nsuspend fun a(): Int {\n    return b()\n}\n\nsuspend fun b(): Int {\n    while (true) {\n        val i = suspendCoroutine&lt;Int&gt; { cont -&gt; continuation = cont }\n        if (i == 0) {\n            return 0\n        }\n    }\n}\n</code></pre>\n\n<p>The <code>Unconfined</code> coroutine dispatcher eliminates the magic of <em>coroutine dispatching</em> and allows us to focus directly on bare coroutines. </p>\n\n<p>The code inside the <code>launch</code> block starts executing right away on the current thread, as a part of the <code>launch</code> call. What happens is as follows:</p>\n\n<ol>\n<li>Evaluate <code>val a = a()</code></li>\n<li>This chains to <code>b()</code>, reaching <code>suspendCoroutine</code>.</li>\n<li>Function <code>b()</code> executes the block passed to <code>suspendCoroutine</code> and then returns a special <code>COROUTINE_SUSPENDED</code> value. This value is not observable through the Kotlin programming model, but that's what the compiled Java method does.</li>\n<li>Function <code>a()</code>, seeing this return value, itself also returns it.</li>\n<li>The <code>launch</code> block does the same and control now returns to the line after the <code>launch</code> invocation: <code>10.downTo(0)...</code></li>\n</ol>\n\n<p>Note that, at this point, you have the same effect as if the code inside the <code>launch</code> block and your <code>fun main</code> code are executing concurrently. It just happens that all this is happening on a single native thread so the <code>launch</code> block is \"suspended\".</p>\n\n<p>Now, inside the <code>forEach</code> looping code, the program reads the <code>continuation</code> that the <code>b()</code> function wrote and <code>resumes</code> it with the value of <code>10</code>. <code>resume()</code> is implemented in such a way that it will be as if the <code>suspendCoroutine</code> call returned with the value you passed in. So you suddenly find yourself in the middle of executing <code>b()</code>. The value you passed to <code>resume()</code> gets assigned to <code>i</code> and checked against <code>0</code>. If it's not zero, the <code>while (true)</code> loop goes on inside <code>b()</code>, again reaching <code>suspendCoroutine</code>, at which point your <code>resume()</code> call returns, and now you go through another looping step in <code>forEach()</code>. This goes on until finally you resume with <code>0</code>, then the <code>println</code> statement runs and the program completes.</p>\n\n<p>The above analysis should give you the important intuition that \"suspending a coroutine\" means returning the control back to the innermost <code>launch</code> invocation (or, more generally, <em>coroutine builder</em>). If a coroutine suspends again after resuming, the <code>resume()</code> call ends and control returns to the caller of <code>resume()</code>.</p>\n\n<p>The presence of a coroutine dispatcher makes this reasoning less clear-cut because most of them immediately submit your code to another thread. In that case the above story happens in that other thread, and the coroutine dispatcher also manages the <code>continuation</code> object so it can resume it when the return value is available.</p>\n"}, {"comments": [{"owner": {"reputation": 10444, "user_id": 458668, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/3RGgN.jpg?s=128&g=1", "display_name": "WindRider", "link": "https://stackoverflow.com/users/458668/windrider"}, "edited": false, "score": 27, "creation_date": 1544542241, "post_id": 52925057, "comment_id": 94308216, "body": "I wonder how is this function actually paused? They always say that <code>suspend fun</code> can be paused but how exactly?"}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "reply_to_user": {"reputation": 10444, "user_id": 458668, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/3RGgN.jpg?s=128&g=1", "display_name": "WindRider", "link": "https://stackoverflow.com/users/458668/windrider"}, "edited": false, "score": 3, "creation_date": 1549481862, "post_id": 52925057, "comment_id": 95921669, "body": "@WindRider It just means that the current thread starts executing some other coroutine, and will come back to this one later."}, {"owner": {"reputation": 10444, "user_id": 458668, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/3RGgN.jpg?s=128&g=1", "display_name": "WindRider", "link": "https://stackoverflow.com/users/458668/windrider"}, "edited": false, "score": 4, "creation_date": 1549539190, "post_id": 52925057, "comment_id": 95942437, "body": "I&#39;ve figured out the &quot;mysterious&quot; mechanism. It can be easily unveiled with the help of Tools &gt; Kotlin &gt; Bytecode &gt; Decompile btn. It shows how the so called &quot;suspension point&quot; is implemented - via Continuation and so on. Anyone can take a look for yourselves."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 812, "user_id": 951917, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Bogl2.jpg?s=128&g=1", "display_name": "Bulma", "link": "https://stackoverflow.com/users/951917/bulma"}, "edited": false, "score": 4, "creation_date": 1581240590, "post_id": 52925057, "comment_id": 106358574, "body": "@buzaa Here&#39;s a <a href=\"https://www.youtube.com/watch?v=YrrUCSi72E8\" rel=\"nofollow noreferrer\">talk</a> from 2017 by Roman Elizarov that explains it at the bytecode level."}, {"owner": {"reputation": 1037, "user_id": 2020940, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b857c82cca81d28d1655d3b68dcf9530?s=128&d=identicon&r=PG", "display_name": "Rahul Matte", "link": "https://stackoverflow.com/users/2020940/rahul-matte"}, "edited": false, "score": 0, "creation_date": 1598052666, "post_id": 52925057, "comment_id": 112342527, "body": "Awesome This is how the answer should be. Elegant +1"}], "tags": [], "owner": {"reputation": 2611, "user_id": 1816112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hf1DE.jpg?s=128&g=1", "display_name": "Sofien Rahmouni", "link": "https://stackoverflow.com/users/1816112/sofien-rahmouni"}, "is_accepted": false, "score": 169, "last_activity_date": 1577693147, "last_edit_date": 1577693147, "creation_date": 1540196606, "answer_id": 52925057, "question_id": 47871868, "link": "https://stackoverflow.com/questions/47871868/what-does-the-suspend-function-mean-in-a-kotlin-coroutine/52925057#52925057", "title": "What does the suspend function mean in a Kotlin Coroutine?", "body": "<p><strong>Suspending functions</strong> are at the center of everything coroutines.\n A suspending function is simply a function that can be paused and resumed at a later time. They can execute a long running operation and wait for it to complete without blocking.</p>\n\n<p>The syntax of a suspending function is similar to that of a regular function except for the addition of the <code>suspend</code> keyword. It can take a parameter and have a return type. However, suspending functions can only be invoked by another suspending function or within a coroutine.</p>\n\n<pre><code>suspend fun backgroundTask(param: Int): Int {\n     // long running operation\n}\n</code></pre>\n\n<p>Under the hood, suspend functions are converted by the compiler to another function without the suspend keyword, that takes an addition parameter of type <code>Continuation&lt;T&gt;</code>. The function above for example, will be converted by the compiler to this:</p>\n\n<pre><code>fun backgroundTask(param: Int, callback: Continuation&lt;Int&gt;): Int {\n   // long running operation\n}\n</code></pre>\n\n<p><code>Continuation&lt;T&gt;</code> is an interface that contains two functions that are invoked to resume the coroutine with a return value or with an exception if an error had occurred while the function was suspended.</p>\n\n<pre><code>interface Continuation&lt;in T&gt; {\n   val context: CoroutineContext\n   fun resume(value: T)\n   fun resumeWithException(exception: Throwable)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 427, "user_id": 1860130, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/847dc1cc346e1e7150c0cb924c836edc?s=128&d=identicon&r=PG", "display_name": "bernardo.g", "link": "https://stackoverflow.com/users/1860130/bernardo-g"}, "edited": false, "score": 8, "creation_date": 1550584302, "post_id": 54561432, "comment_id": 96315797, "body": "Great answer, I miss that kind of really basic explanation when  it comes to coroutines."}, {"owner": {"reputation": 361, "user_id": 2234208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28da66fc8aff5f45cc6895ffff9ecd32?s=128&d=identicon&r=PG", "display_name": "PEZO", "link": "https://stackoverflow.com/users/2234208/pezo"}, "edited": false, "score": 0, "creation_date": 1591064216, "post_id": 54561432, "comment_id": 109907808, "body": "Why is not that implemented in any other language? Or am I missing something? I am thinking about that solution for so long, glad Kotlin has it, but not sure why TS or Rust have something like that"}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "reply_to_user": {"reputation": 361, "user_id": 2234208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28da66fc8aff5f45cc6895ffff9ecd32?s=128&d=identicon&r=PG", "display_name": "PEZO", "link": "https://stackoverflow.com/users/2234208/pezo"}, "edited": false, "score": 0, "creation_date": 1591082041, "post_id": 54561432, "comment_id": 109912791, "body": "@PEZO well coroutines have been around for a long time. Kotlin didn&#39;t invent them, but the syntax and library make them shine. Go has goroutines, JavaScript and TypeScript have promises. The only difference is in the details of syntax to use them. I find it quite annoying/disturbing for JS&#39;s <code>async</code> functions to be marked this way and yet still return a Promise."}, {"owner": {"reputation": 361, "user_id": 2234208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28da66fc8aff5f45cc6895ffff9ecd32?s=128&d=identicon&r=PG", "display_name": "PEZO", "link": "https://stackoverflow.com/users/2234208/pezo"}, "edited": false, "score": 0, "creation_date": 1591490703, "post_id": 54561432, "comment_id": 110076157, "body": "Sorry, my comment was not clear. I am referring to the suspend keyword. It is not the same as async."}, {"owner": {"reputation": 662, "user_id": 5716030, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AqzTct9RaxY/AAAAAAAAAAI/AAAAAAAAAHw/OxjjJel3zRA/photo.jpg?sz=128", "display_name": "Siva S", "link": "https://stackoverflow.com/users/5716030/siva-s"}, "edited": false, "score": 0, "creation_date": 1610770158, "post_id": 54561432, "comment_id": 116243539, "body": "Good explanation. my understanding is -  In the case of multithreaded/multicore machine, Coroutines may run in parallel on other thread or concurrently on the same thread and dispatching point would be the line calling the suspending function and the suspending point would be the line of await(). Is my understanding correct @Joffrey? and and any idea on how it decides to start another thread or continue on the same thread and whats the cost of new threads and how it optimized to reduce the context switching for a code with a lot of long running coroutines?"}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "reply_to_user": {"reputation": 662, "user_id": 5716030, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AqzTct9RaxY/AAAAAAAAAAI/AAAAAAAAAHw/OxjjJel3zRA/photo.jpg?sz=128", "display_name": "Siva S", "link": "https://stackoverflow.com/users/5716030/siva-s"}, "edited": false, "score": 0, "creation_date": 1610792184, "post_id": 54561432, "comment_id": 116247046, "body": "@Siva S Correct. The way coroutines are dispatched between threads is decided by the coroutine dispatcher, which can be customized. The dispatcher is one element of the Coroutine context, so you can switch to a different dispatcher at any point using <code>withContext</code>. You can also pass a dispatcher when calling coroutine builders such as <code>launch</code> or <code>async</code>. On the JVM, common dispatchers are <code>Dispatchers.Default</code> and <code>Dispatchers.IO</code> (look them up to learn how they behave). You can also create a custom dispatcher, for instance by creating an ExecutorService and calling <code>asDispatcher()</code>"}, {"owner": {"reputation": 145, "user_id": 4304753, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wgXGK.jpg?s=128&g=1", "display_name": "Sergio Rodriguez", "link": "https://stackoverflow.com/users/4304753/sergio-rodriguez"}, "edited": false, "score": 0, "creation_date": 1617804245, "post_id": 54561432, "comment_id": 118409493, "body": "This should be the accepted answer. It directly answers the two questions from the original post."}], "tags": [], "owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "is_accepted": false, "score": 39, "last_activity_date": 1589980079, "last_edit_date": 1589980079, "creation_date": 1549482422, "answer_id": 54561432, "question_id": 47871868, "link": "https://stackoverflow.com/questions/47871868/what-does-the-suspend-function-mean-in-a-kotlin-coroutine/54561432#54561432", "title": "What does the suspend function mean in a Kotlin Coroutine?", "body": "<p>First of all, the best source to understand this IMO is the talk <a href=\"https://www.youtube.com/watch?v=YrrUCSi72E8\" rel=\"noreferrer\">\"Deep Dive into Coroutines\"</a> by Roman Elizarov.</p>\n\n<blockquote>\n  <p>Coroutine or function gets suspended?</p>\n</blockquote>\n\n<p>Calling a suspend<strong>ing</strong> function suspend<strong>s</strong> the coroutine, meaning the current thread can start executing another coroutine. So, the <em>coroutine</em> is said to be suspended rather than the function.</p>\n\n<p>In fact, call sites of suspending functions are called \"suspension points\" for this reason.</p>\n\n<blockquote>\n  <p>Which coroutine gets suspended?</p>\n</blockquote>\n\n<p>Let's look at your code and break down what happens:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>// 1. this call starts a new coroutine (let's call it C1).\n//    If there were code after it, it would be executed concurrently with\n//    the body of this async\nasync {\n    ...\n    // 2. this is a regular function call\n    val deferred = computation()\n    // 4. because await() is suspendING, it suspends coroutine C1.\n    //    This means that if we had a single thread in our dispatcher, \n    //    it would now be free to go execute C2\n    // 7. once C2 completes, C1 is resumed with the result `true` of C2's async\n    val result = deferred.await() \n    ...\n    // 8. C1 can now keep going in the current thread until it gets \n    //    suspended again (or not)\n}\n\nfun computation(): Deferred&lt;Boolean&gt; {\n    // 3. this async call starts a second coroutine (C2). Depending on the \n    //    dispatcher you're using, you may have one or more threads.\n    // 3.a. If you have multiple threads, the block of this async could be\n    //      executed in parallel of C1 in another thread. The control flow \n    //      of the current thread returns to the caller of computation().\n    // 3.b. If you have only one thread, the block is sort of \"queued\" but \n    //      not executed right away, and the control flow returns to the \n    //      caller of computation(). (unless a special dispatcher or \n    //      coroutine start argument is used, but let's keep it simple).\n    //    In both cases, we say that this block executes \"concurrently\"\n    //    with C1.\n    return async {\n        // 5. this may now be executed\n        true\n        // 6. C2 is now completed, so the thread can go back to executing \n        //    another coroutine (e.g. C1 here)\n    }\n}\n</code></pre>\n\n<p>The outer <code>async</code> starts a coroutine. When it calls <code>computation()</code>, the inner <code>async</code> starts a second coroutine. Then, the call to <code>await()</code> suspends the execution of the <em>outer</em> <code>async</code> coroutine, until the execution of the <em>inner</em> <code>async</code>'s coroutine is over.</p>\n\n<p>You can even see that with a single thread: the thread will execute the outer <code>async</code>'s beginning, then call <code>computation()</code> and reach the inner <code>async</code>. At this point, the body of the inner async is skipped, and the thread continues executing the outer <code>async</code> until it reaches <code>await()</code>.\n<code>await()</code> is a \"suspension point\", because <code>await</code> is a suspending function.\nThis means that the outer coroutine is suspended, and thus the thread starts executing the inner one. When it is done, it comes back to execute the end of the outer <code>async</code>.</p>\n\n<blockquote>\n  <p>Does suspend mean that while outer async coroutine is waiting (await) for the inner computation coroutine to finish, it (the outer async coroutine) idles (hence the name suspend) and returns thread to the thread pool, and when the child computation coroutine finishes, it (the outer async coroutine) wakes up, takes another thread from the pool and continues?</p>\n</blockquote>\n\n<p>Yes, precisely.</p>\n\n<p>The way this is actually achieved is by turning every suspending function into a state machine, where each \"state\" corresponds to a suspension point inside this suspend function. Under the hood, the function can be called multiple times, with the information about which suspension point it should start executing from (you should really watch the video I linked for more info about that).</p>\n"}, {"tags": [], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "is_accepted": false, "score": 9, "last_activity_date": 1576565322, "last_edit_date": 1576565322, "creation_date": 1559731405, "answer_id": 56458911, "question_id": 47871868, "link": "https://stackoverflow.com/questions/47871868/what-does-the-suspend-function-mean-in-a-kotlin-coroutine/56458911#56458911", "title": "What does the suspend function mean in a Kotlin Coroutine?", "body": "<p>I wanted to give you a simple example of the concept of continuation. This is what a suspend function does, it can freeze/suspend and then it continues/resumes. Stop thinking of coroutine in terms of threads and Semaphore. Think of it in terms of continuation and even callback hooks.   </p>\n\n<p>To be clear, a coroutine can be paused by using a <code>suspend</code> function.  lets investigate this: </p>\n\n<p>In android we could do this for example :</p>\n\n<pre><code>var TAG = \"myTAG:\"\n        fun myMethod() { // function A in image\n            viewModelScope.launch(Dispatchers.Default) {\n                for (i in 10..15) {\n                    if (i == 10) { //on first iteration, we will completely FREEZE this coroutine (just for loop here gets 'suspended`)\n                        println(\"$TAG im a tired coroutine - let someone else print the numbers async. i'll suspend until your done\")\n                        freezePleaseIAmDoingHeavyWork()\n                    } else\n                        println(\"$TAG $i\")\n                    }\n            }\n\n            //this area is not suspended, you can continue doing work\n        }\n\n\n        suspend fun freezePleaseIAmDoingHeavyWork() { // function B in image\n            withContext(Dispatchers.Default) {\n                async {\n                    //pretend this is a big network call\n                    for (i in 1..10) {\n                        println(\"$TAG $i\")\n                        delay(1_000)//delay pauses coroutine, NOT the thread. use  Thread.sleep if you want to pause a thread. \n                    }\n                    println(\"$TAG phwww finished printing those numbers async now im tired, thank you for freezing, you may resume\")\n                }\n            }\n        }\n</code></pre>\n\n<p>Above code prints the following : </p>\n\n<pre><code>I: myTAG: my coroutine is frozen but i can carry on to do other things\n\nI: myTAG: im a tired coroutine - let someone else print the numbers async. i'll suspend until your done\n\nI: myTAG: 1\nI: myTAG: 2\nI: myTAG: 3\nI: myTAG: 4\nI: myTAG: 5\nI: myTAG: 6\nI: myTAG: 7\nI: myTAG: 8\nI: myTAG: 9\nI: myTAG: 10\n\nI: myTAG: phwww finished printing those numbers async now im tired, thank you for freezing, you may resume\n\nI: myTAG: 11\nI: myTAG: 12\nI: myTAG: 13\nI: myTAG: 14\nI: myTAG: 15\n</code></pre>\n\n<p>imagine it working like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/371XX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/371XX.png\" alt=\"enter image description here\"></a></p>\n\n<p>So the current function you launched from does not stop, just a coroutine would suspend while it continues. The thread is not paused by running a suspend function.   </p>\n\n<p>I think <a href=\"https://medium.com/@elye.project/understanding-suspend-function-of-coroutines-de26b070c5ed\" rel=\"noreferrer\">this site can help</a> you straight things out and is my reference.  </p>\n\n<p>Let's do something cool and freeze our suspend function in the middle of an iteration. We will resume it later in <code>onResume</code></p>\n\n<p>Store a variable called <code>continuation</code> and we'll load it with the coroutines continuation object for us :</p>\n\n<pre><code>var continuation: CancellableContinuation&lt;String&gt;? = null\n\nsuspend fun freezeHere() = suspendCancellableCoroutine&lt;String&gt; {\n            continuation = it\n        }\n\n fun unFreeze() {\n            continuation?.resume(\"im resuming\") {}\n        }\n</code></pre>\n\n<p>Now, let's return to our suspended function and make it freeze in middle of iteration :</p>\n\n<pre><code> suspend fun freezePleaseIAmDoingHeavyWork() {\n        withContext(Dispatchers.Default) {\n            async {\n                //pretend this is a big network call\n                for (i in 1..10) {\n                    println(\"$TAG $i\")\n                    delay(1_000)\n                    if(i == 3)\n                        freezeHere() //dead pause, do not go any further\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Then somewhere else like in onResume (for example):</p>\n\n<pre><code>override fun onResume() {\n        super.onResume()\n        unFreeze()\n    }\n</code></pre>\n\n<p>And the loop will continue. Its pretty neat to know we can freeze a suspend function at any point and resume it after some time has beeb passed. You can also look into <a href=\"https://kotlinlang.org/docs/reference/coroutines/channels.html\" rel=\"noreferrer\">channels</a></p>\n"}, {"tags": [], "owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "is_accepted": false, "score": 10, "last_activity_date": 1573723224, "last_edit_date": 1573723224, "creation_date": 1562226493, "answer_id": 56883057, "question_id": 47871868, "link": "https://stackoverflow.com/questions/47871868/what-does-the-suspend-function-mean-in-a-kotlin-coroutine/56883057#56883057", "title": "What does the suspend function mean in a Kotlin Coroutine?", "body": "<p>I've found that the best way to understand <code>suspend</code> is to make an analogy between <code>this</code> keyword and <code>coroutineContext</code> property.</p>\n\n<p>Kotlin functions can be declared as local or global. Local functions magically have access to <code>this</code> keyword while global don't.</p>\n\n<p>Kotlin functions can be declared as <code>suspend</code> or blocking. <code>suspend</code> functions magically have access to <code>coroutineContext</code> property while blocking functions don't.</p>\n\n<p>The thing is: <code>coroutineContext</code> property\n<a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/kotlin/coroutines/Continuation.kt#L154\" rel=\"nofollow noreferrer\">is declared like a \"normal\" property</a> in Kotlin stdlib but this declaration is just a stub for documentation/navigation purposes. In fact <code>coroutineContext</code> is <a href=\"https://youtrack.jetbrains.com/issue/KT-17609#focus=streamItem-27-2262995.0-0\" rel=\"nofollow noreferrer\">builtin intrinsic property</a> that means under the hood compiler magic aware of this property like it aware of language keywords.</p>\n\n<p>What <code>this</code> keyword does for local functions is what <code>coroutineContext</code> property does for <code>suspend</code> functions: it gives access to current context of execution.</p>\n\n<p><strong>So, you need <code>suspend</code> to get an access to <code>coroutineContext</code> property - the instance of currently executed coroutine context</strong></p>\n"}, {"comments": [{"owner": {"reputation": 662, "user_id": 447233, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/yjjHg.png?s=128&g=1", "display_name": "\u0295 \u1d54\u1d25\u1d54 \u0294", "link": "https://stackoverflow.com/users/447233/%ca%95-%e1%b5%94%e1%b4%a5%e1%b5%94-%ca%94"}, "edited": false, "score": 0, "creation_date": 1601044671, "post_id": 59353966, "comment_id": 113290687, "body": "Thanks for describing the use cases."}], "tags": [], "owner": {"reputation": 6630, "user_id": 1994950, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5f16e6eff1f8a47146a95c3234218946?s=128&d=identicon&r=PG&f=1", "display_name": "Kushal", "link": "https://stackoverflow.com/users/1994950/kushal"}, "is_accepted": false, "score": 14, "last_activity_date": 1576489288, "creation_date": 1576489288, "answer_id": 59353966, "question_id": 47871868, "link": "https://stackoverflow.com/questions/47871868/what-does-the-suspend-function-mean-in-a-kotlin-coroutine/59353966#59353966", "title": "What does the suspend function mean in a Kotlin Coroutine?", "body": "<p>As many good answers are already there, I would like to post a simpler example for others.</p>\n\n<blockquote>\n  <p><strong>runBlocking</strong> use case :</p>\n</blockquote>\n\n<ul>\n<li>myMethod() is <code>suspend</code> function</li>\n<li><code>runBlocking { }</code> starts a Coroutine in blocking way. It is similar to how we were blocking normal threads with <code>Thread</code> class and notifying blocked threads after certain events. </li>\n<li><p><code>runBlocking { }</code> does <strong>block</strong> the current executing thread, until the coroutine (body between <code>{}</code>) gets completed</p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.main_activity)\n    Log.i(TAG,\"Outer code started on Thread : \" + Thread.currentThread().name);\n    runBlocking {\n        Log.d(TAG,\"Inner code started  on Thread : \" + Thread.currentThread().name + \" making outer code suspend\");\n        myMethod();\n    }\n    Log.i(TAG,\"Outer code resumed on Thread : \" + Thread.currentThread().name);\n}\n\nprivate suspend fun myMethod() {\n    withContext(Dispatchers.Default) {\n    for(i in 1..5) {\n        Log.d(TAG,\"Inner code i : $i on Thread : \" + Thread.currentThread().name);\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>This outputs : </p>\n\n<pre><code>I/TAG: Outer code started on Thread : main\nD/TAG: Inner code started  on Thread : main making outer code suspend\n// ---- main thread blocked here, it will wait until coroutine gets completed ----\nD/TAG: Inner code i : 1 on Thread : DefaultDispatcher-worker-2\nD/TAG: Inner code i : 2 on Thread : DefaultDispatcher-worker-2\nD/TAG: Inner code i : 3 on Thread : DefaultDispatcher-worker-2\nD/TAG: Inner code i : 4 on Thread : DefaultDispatcher-worker-2\nD/TAG: Inner code i : 5 on Thread : DefaultDispatcher-worker-2\n// ---- main thread resumes as coroutine is completed ----\nI/TAG: Outer code resumed on Thread : main\n</code></pre>\n\n<blockquote>\n  <p><strong>launch</strong> use case :</p>\n</blockquote>\n\n<ul>\n<li><code>launch { }</code> starts a coroutine concurrently. </li>\n<li>This means that when we specify launch, a coroutine starts execution on <code>worker</code> thread.</li>\n<li>The <code>worker</code> thread and outer thread (from which we called <code>launch { }</code>) both runs concurrently. Internally, JVM may perform <strong>Preemptive Threading</strong></li>\n<li><p>When we require multiple tasks to run in parallel, we can use this. There are <code>scopes</code> which specify lifetime of coroutine. If we specify <code>GlobalScope</code>, the coroutine will work until application lifetime ends.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.main_activity)\n    Log.i(TAG,\"Outer code started on Thread : \" + Thread.currentThread().name);\n\n    GlobalScope.launch(Dispatchers.Default) {\n        Log.d(TAG,\"Inner code started  on Thread : \" + Thread.currentThread().name + \" making outer code suspend\");\n        myMethod();\n    }\n    Log.i(TAG,\"Outer code resumed on Thread : \" + Thread.currentThread().name);\n}\n\nprivate suspend fun myMethod() {\n    withContext(Dispatchers.Default) {\n        for(i in 1..5) {\n            Log.d(TAG,\"Inner code i : $i on Thread : \" + Thread.currentThread().name);\n        }\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>This Outputs :</p>\n\n<pre><code>10806-10806/com.example.viewmodelapp I/TAG: Outer code started on Thread : main\n10806-10806/com.example.viewmodelapp I/TAG: Outer code resumed on Thread : main\n// ---- In this example, main had only 2 lines to execute. So, worker thread logs start only after main thread logs complete\n// ---- In some cases, where main has more work to do, the worker thread logs get overlap with main thread logs\n10806-10858/com.example.viewmodelapp D/TAG: Inner code started  on Thread : DefaultDispatcher-worker-1 making outer code suspend\n10806-10858/com.example.viewmodelapp D/TAG: Inner code i : 1 on Thread : DefaultDispatcher-worker-1\n10806-10858/com.example.viewmodelapp D/TAG: Inner code i : 2 on Thread : DefaultDispatcher-worker-1\n10806-10858/com.example.viewmodelapp D/TAG: Inner code i : 3 on Thread : DefaultDispatcher-worker-1\n10806-10858/com.example.viewmodelapp D/TAG: Inner code i : 4 on Thread : DefaultDispatcher-worker-1\n10806-10858/com.example.viewmodelapp D/TAG: Inner code i : 5 on Thread : DefaultDispatcher-worker-1\n</code></pre>\n\n<blockquote>\n  <p><strong>async</strong> and <strong>await</strong> use case :</p>\n</blockquote>\n\n<ul>\n<li>When we have multiple tasks to do <strong>and</strong> they depend on other's completion, <code>async</code> and <code>await</code> would help. </li>\n<li>For example, in below code, there are <code>2</code> suspend functions myMethod() and myMethod2(). <code>myMethod2()</code> should get executed only after full completion of <code>myMethod()</code> <strong>OR</strong> <code>myMethod2()</code> depends on result of <code>myMethod()</code>, we can use <code>async</code> and <code>await</code></li>\n<li><code>async</code> starts a coroutine in parallel similar to <code>launch</code>. But, it provides a way to wait for one coroutine before starting another coroutine in parallel.</li>\n<li><p>That way is <code>await()</code>. <code>async</code> returns an instance of <code>Deffered&lt;T&gt;</code>. <code>T</code> would be <code>Unit</code> for default. When we need to wait for any <code>async</code>'s completion, we need to call <code>.await()</code> on <code>Deffered&lt;T&gt;</code> instance of that <code>async</code>. Like in below example, we called <code>innerAsync.await()</code> which implies that the execution would get suspended until <code>innerAsync</code> gets completed. We can observe the same in output. The <code>innerAsync</code> gets completed first, which calls <code>myMethod()</code>. And then next <code>async</code> <code>innerAsync2</code> starts, which calls <code>myMethod2()</code></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.main_activity)\n    Log.i(TAG,\"Outer code started on Thread : \" + Thread.currentThread().name);\n\n     job = GlobalScope.launch(Dispatchers.Default) {\n         innerAsync = async {\n             Log.d(TAG, \"Inner code started  on Thread : \" + Thread.currentThread().name + \" making outer code suspend\");\n             myMethod();\n         }\n         innerAsync.await()\n\n         innerAsync2 = async {\n             Log.w(TAG, \"Inner code started  on Thread : \" + Thread.currentThread().name + \" making outer code suspend\");\n             myMethod2();\n         }\n    }\n\n    Log.i(TAG,\"Outer code resumed on Thread : \" + Thread.currentThread().name);\n    }\n\nprivate suspend fun myMethod() {\n    withContext(Dispatchers.Default) {\n        for(i in 1..5) {\n            Log.d(TAG,\"Inner code i : $i on Thread : \" + Thread.currentThread().name);\n        }\n    }\n}\n\nprivate suspend fun myMethod2() {\n    withContext(Dispatchers.Default) {\n        for(i in 1..10) {\n            Log.w(TAG,\"Inner code i : $i on Thread : \" + Thread.currentThread().name);\n        }\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>This outputs : </p>\n\n<pre><code>11814-11814/? I/TAG: Outer code started on Thread : main\n11814-11814/? I/TAG: Outer code resumed on Thread : main\n11814-11845/? D/TAG: Inner code started  on Thread : DefaultDispatcher-worker-2 making outer code suspend\n11814-11845/? D/TAG: Inner code i : 1 on Thread : DefaultDispatcher-worker-2\n11814-11845/? D/TAG: Inner code i : 2 on Thread : DefaultDispatcher-worker-2\n11814-11845/? D/TAG: Inner code i : 3 on Thread : DefaultDispatcher-worker-2\n11814-11845/? D/TAG: Inner code i : 4 on Thread : DefaultDispatcher-worker-2\n11814-11845/? D/TAG: Inner code i : 5 on Thread : DefaultDispatcher-worker-2\n// ---- Due to await() call, innerAsync2 will start only after innerAsync gets completed\n11814-11848/? W/TAG: Inner code started  on Thread : DefaultDispatcher-worker-4 making outer code suspend\n11814-11848/? W/TAG: Inner code i : 1 on Thread : DefaultDispatcher-worker-4\n11814-11848/? W/TAG: Inner code i : 2 on Thread : DefaultDispatcher-worker-4\n11814-11848/? W/TAG: Inner code i : 3 on Thread : DefaultDispatcher-worker-4\n11814-11848/? W/TAG: Inner code i : 4 on Thread : DefaultDispatcher-worker-4\n11814-11848/? W/TAG: Inner code i : 5 on Thread : DefaultDispatcher-worker-4\n11814-11848/? W/TAG: Inner code i : 6 on Thread : DefaultDispatcher-worker-4\n11814-11848/? W/TAG: Inner code i : 7 on Thread : DefaultDispatcher-worker-4\n11814-11848/? W/TAG: Inner code i : 8 on Thread : DefaultDispatcher-worker-4\n11814-11848/? W/TAG: Inner code i : 9 on Thread : DefaultDispatcher-worker-4\n11814-11848/? W/TAG: Inner code i : 10 on Thread : DefaultDispatcher-worker-4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 148, "user_id": 3058943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e872906b74dd73118dfae3d8aef4f392?s=128&d=identicon&r=PG&f=1", "display_name": "West_JR", "link": "https://stackoverflow.com/users/3058943/west-jr"}, "is_accepted": false, "score": 1, "last_activity_date": 1601707127, "last_edit_date": 1601707127, "creation_date": 1601706319, "answer_id": 64181361, "question_id": 47871868, "link": "https://stackoverflow.com/questions/47871868/what-does-the-suspend-function-mean-in-a-kotlin-coroutine/64181361#64181361", "title": "What does the suspend function mean in a Kotlin Coroutine?", "body": "<p>There are a lot of great answers here, but I think there are two additional things that are important to note.</p>\n<p>launch  / withContext / runBlocking and a lot of other things in the examples are from the coroutines library. which actually have nothing to do with suspend. you don't need the coroutines library to use coroutines. Coroutines are a compiler &quot;trick&quot;. Yes, the library sure makes things easier, but the compiler is doing the magic of suspending &amp; resuming things.</p>\n<p>The second thing, is the compiler is just taking code that looks procedural and turning it into callbacks under the hood.</p>\n<p>Take the following minimal coroutine that suspends that does not use the coroutine library :</p>\n<pre><code>lateinit var context: Continuation&lt;Unit&gt;\n\n    suspend {\n        val extra=&quot;extra&quot;\n        println(&quot;before suspend $extra&quot;)\n        suspendCoroutine&lt;Unit&gt; { context = it }\n        println(&quot;after suspend $extra&quot;)\n    }.startCoroutine(\n        object : Continuation&lt;Unit&gt; {\n            override val context: CoroutineContext = EmptyCoroutineContext\n            // called when a coroutine ends. do nothing.\n            override fun resumeWith(result: Result&lt;Unit&gt;) {\n                result.onFailure { ex : Throwable -&gt; throw ex }\n            }\n        }\n    )\n\n    println(&quot;kick it&quot;)\n    context.resume(Unit)\n</code></pre>\n<p>I think an important way to understand it is to look at what the compiler does with this code. effecticvly it creates a class for the lamba. it creates a property in the class for the &quot;extra&quot; string, then it creates two function, one that prints the &quot;before&quot; and another the prints the &quot;after&quot;.</p>\n<p>effectivly the compuler took what looks like prodecrual code and turned it into callbacks.</p>\n<p>so what does the &quot;suspend&quot; keyword do? It tell the compiler how far back to look for context that the generated callbacks will need. The compiler needs to know which variables are used in which &quot;callbacks&quot;, and the suspend keyword help it. In this example the &quot;extra&quot; variable is used both before and after the suspend. so it needs to be pulled out to a properity of the class containing the callbacks the compiler makes.</p>\n<p>It also tells the compiler that this is the &quot;beginning&quot; of state and to prepare to split up the following code into callbacks. The &quot;startCourtine&quot; only exists on suspend lambda.</p>\n<p>The actual java code generate by the kotlin compiler is here. It's a switch statement instead of calls backs, but it's effectively the same thing. called first w/ case 0, then w/ case 1 after the resume.</p>\n<pre><code>            @Nullable\n            public final Object invokeSuspend(@NotNull Object $result) {\n                var10_2 = IntrinsicsKt.getCOROUTINE_SUSPENDED();\n                switch (this.label) {\n                    case 0: {\n                        ResultKt.throwOnFailure((Object)$result);\n                        extra = &quot;extra&quot;;\n                        var3_4 = &quot;before delay &quot; + extra;\n                        var4_9 = false;\n                        System.out.println((Object)var3_4);\n                        var3_5 = this;\n                        var4_9 = false;\n                        var5_10 = false;\n                        this.L$0 = extra;\n                        this.L$1 = var3_5;\n                        this.label = 1;\n                        var5_11 = var3_5;\n                        var6_12 = false;\n                        var7_13 = new SafeContinuation(IntrinsicsKt.intercepted((Continuation)var5_11));\n                        it = (Continuation)var7_13;\n                        $i$a$-suspendCoroutine-AppKt$main$1$1 = false;\n                        this.$context.element = it;\n                        v0 = var7_13.getOrThrow();\n                        if (v0 == IntrinsicsKt.getCOROUTINE_SUSPENDED()) {\n                            DebugProbesKt.probeCoroutineSuspended((Continuation)var3_5);\n                        }\n                        v1 = v0;\n                        if (v0 == var10_2) {\n                            return var10_2;\n                        }\n                        ** GOTO lbl33\n                    }\n                    case 1: {\n                        var3_6 = this.L$1;\n                        extra = (String)this.L$0;\n                        ResultKt.throwOnFailure((Object)$result);\n                        v1 = $result;\nlbl33:\n                        // 2 sources\n\n                        var3_8 = &quot;after suspend &quot; + extra;\n                        var4_9 = false;\n                        System.out.println((Object)var3_8);\n                        return Unit.INSTANCE;\n                    }\n                }\n                throw new IllegalStateException(&quot;call to 'resume' before 'invoke' with coroutine&quot;);\n            }\n</code></pre>\n"}], "owner": {"reputation": 38571, "user_id": 1418457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/16bebb36e0e28572a316ba0450e190d1?s=128&d=identicon&r=PG", "display_name": "onmyway133", "link": "https://stackoverflow.com/users/1418457/onmyway133"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67658, "favorite_count": 56, "answer_count": 7, "score": 159, "last_activity_date": 1602887395, "creation_date": 1513612051, "last_edit_date": 1602887395, "question_id": 47871868, "link": "https://stackoverflow.com/questions/47871868/what-does-the-suspend-function-mean-in-a-kotlin-coroutine", "title": "What does the suspend function mean in a Kotlin Coroutine?", "body": "<p>I'm reading Kotlin Coroutine and know that it is based on <code>suspend</code> function. But what does <code>suspend</code> mean?</p>\n<p><strong>Coroutine or function gets suspended?</strong></p>\n<p>From <a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/coroutines.html</a></p>\n<blockquote>\n<p>Basically, coroutines are computations that can be suspended without blocking a thread</p>\n</blockquote>\n<p>I heard people often say &quot;suspend function&quot;. But I think it is the coroutine who gets suspended because it is waiting for the function to finished? &quot;suspend&quot; usually means &quot;cease operation&quot;, in this case the coroutine is idle.</p>\n<p>Should we say the coroutine is suspended ?</p>\n<p><strong>Which coroutine gets suspended?</strong></p>\n<p>From <a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/coroutines.html</a></p>\n<blockquote>\n<p>To continue the analogy, await() can be a suspending function (hence also callable from within an async {} block) that suspends a coroutine until some computation is done and returns its result:</p>\n</blockquote>\n<pre><code>async { // Here I call it the outer async coroutine\n    ...\n    // Here I call computation the inner coroutine\n    val result = computation.await()\n    ...\n}\n</code></pre>\n<p>It says &quot;that suspends a coroutine until some computation is done&quot;, but coroutine is like a lightweight thread. So if the coroutine is suspended, how can the computation is done ?</p>\n<p>We see <code>await</code> is called on <code>computation</code>, so it might be <code>async</code> that returns <code>Deferred</code>, which means it can start another coroutine</p>\n<pre><code>fun computation(): Deferred&lt;Boolean&gt; {\n    return async {\n        true\n    }\n}\n</code></pre>\n<p>The quote say <em><strong>that suspends a coroutine</strong></em>. Does it mean <code>suspend</code> the outer <code>async</code> coroutine, or <code>suspend</code> the inner <code>computation</code> coroutine?</p>\n<p>Does <code>suspend</code> mean that while outer <code>async</code> coroutine is waiting (<code>await</code>) for the inner <code>computation</code> coroutine to finish, it (the outer <code>async</code> coroutine) idles (hence the name suspend) and returns thread to the thread pool, and when the child <code>computation</code> coroutine finishes, it (the outer <code>async</code> coroutine) wakes up, takes another thread from the pool and continues?</p>\n<p>The reason I mention the thread is because of <a href=\"https://kotlinlang.org/docs/tutorials/coroutines-basic-jvm.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/tutorials/coroutines-basic-jvm.html</a></p>\n<blockquote>\n<p>The thread is returned to the pool while the coroutine is waiting, and when the waiting is done, the coroutine resumes on a free thread in the pool</p>\n</blockquote>\n"}, {"tags": ["java", "io", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 854, "user_id": 5488468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uZFd2.jpg?s=128&g=1", "display_name": "Bipin Bharti", "link": "https://stackoverflow.com/users/5488468/bipin-bharti"}, "edited": false, "score": 1, "creation_date": 1572586890, "post_id": 47871790, "comment_id": 103613262, "body": "it&#39;s called kotlin extension function. Awsome ;)"}, {"owner": {"reputation": 507, "user_id": 5959593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/78d489b31ec60519733298259e8c1dc7?s=128&d=identicon&r=PG&f=1", "display_name": "Minh Ngh\u0129a", "link": "https://stackoverflow.com/users/5959593/minh-ngh%c4%a9a"}, "edited": false, "score": 0, "creation_date": 1605953575, "post_id": 47871790, "comment_id": 114814806, "body": "Hi, could you explain or give me some clue about the dependence of this method on JVM? I thought JVM is just an executor, it does not and should not affect the availability of a method."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1605954575, "post_id": 47871790, "comment_id": 114815049, "body": "Kotlin in the JVM reuses the JDK and its capacities such as the File class. This class is not available natively when running Kotlin e.g. natively"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 22, "last_activity_date": 1548401621, "last_edit_date": 1548401621, "creation_date": 1513611779, "answer_id": 47871790, "question_id": 47871768, "link": "https://stackoverflow.com/questions/47871768/kotlin-get-files-extension-e-g-txt/47871790#47871790", "title": "Kotlin: Get file&#39;s extension e.g. &quot;.txt&quot;", "body": "<p>Disclaimer: <em>This is only available on the JVM.</em></p>\n\n<p>You can find very neat extensions on <code>java.io</code> classes like <code>File</code> in <code>kotlin.io</code>. In order to get the file extension, use the following:</p>\n\n<pre><code>File(\"a/b/file.txt\").extension\n</code></pre>\n\n<p>This extension property is defined <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/extension.html\" rel=\"noreferrer\">here</a>:</p>\n\n<pre><code>public val File.extension: String\n        get() = name.substringAfterLast('.', \"\")\n</code></pre>\n"}], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7587, "favorite_count": 0, "accepted_answer_id": 47871790, "answer_count": 1, "score": 11, "last_activity_date": 1548401621, "creation_date": 1513611701, "last_edit_date": 1548401498, "question_id": 47871768, "link": "https://stackoverflow.com/questions/47871768/kotlin-get-files-extension-e-g-txt", "title": "Kotlin: Get file&#39;s extension e.g. &quot;.txt&quot;", "body": "<p>Is there a standard way to get the extension of a <code>File</code> in Kotlin?</p>\n\n<pre><code>File(\"a/b/file.txt\")\n</code></pre>\n"}, {"tags": ["io", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1513691241, "post_id": 47871539, "comment_id": 82742710, "body": "Be aware that <code>File</code> class does not ensure that the file really exists, so you might end up getting a name of a file that does not exist. Use <code>file.exists()</code> to check if the resource <b>really</b> exists or not"}], "tags": [], "owner": {"reputation": 3038, "user_id": 923557, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b23414bad0323fc9258c50a931edf1a?s=128&d=identicon&r=PG", "display_name": "Nino van Hooff", "link": "https://stackoverflow.com/users/923557/nino-van-hooff"}, "is_accepted": false, "score": 9, "last_activity_date": 1513610942, "creation_date": 1513610942, "answer_id": 47871539, "question_id": 47871538, "link": "https://stackoverflow.com/questions/47871538/how-to-get-a-filename-without-extension-in-kotlin/47871539#47871539", "title": "How to get a filename without extension in Kotlin", "body": "<p>I found that creating a File object is a straightforward way to achieve this. No actual file will be created on disk</p>\n\n<pre><code>File(\"myFile.txt\").nameWithoutExtension\n</code></pre>\n\n<blockquote>\n  <p>result: \"myFile\"</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7992743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6bdc29fa91147a01b2819a6efaccea0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/7992743/alexandr"}, "is_accepted": false, "score": 0, "last_activity_date": 1614951187, "creation_date": 1614951187, "answer_id": 66493513, "question_id": 47871538, "link": "https://stackoverflow.com/questions/47871538/how-to-get-a-filename-without-extension-in-kotlin/66493513#66493513", "title": "How to get a filename without extension in Kotlin", "body": "<p>I can not post this as comment, so I have to post this as separate answer.</p>\n<p>Your solution will work, but seems like a little bit overkill. Implementation of this function simply calls <code>substringBeforeLast(&quot;.&quot;)</code> on filename, so I suggest to use this function. By default it will return exact same string, if string has no dot, but you can override this behaviour by providing second parameter.</p>\n"}], "owner": {"reputation": 3038, "user_id": 923557, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b23414bad0323fc9258c50a931edf1a?s=128&d=identicon&r=PG", "display_name": "Nino van Hooff", "link": "https://stackoverflow.com/users/923557/nino-van-hooff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2310, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1614951187, "creation_date": 1513610942, "last_edit_date": 1513628594, "question_id": 47871538, "link": "https://stackoverflow.com/questions/47871538/how-to-get-a-filename-without-extension-in-kotlin", "title": "How to get a filename without extension in Kotlin", "body": "<p>What is the best way to get the filename from a String or a File object, removing the extension?</p>\n"}, {"tags": ["spring", "kotlin", "reactive-programming", "project-reactor"], "answers": [{"comments": [{"owner": {"reputation": 2651, "user_id": 1182469, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a61e18af00dc8935b37875d5ffba3708?s=128&d=identicon&r=PG", "display_name": "xander27", "link": "https://stackoverflow.com/users/1182469/xander27"}, "edited": false, "score": 0, "creation_date": 1513617839, "post_id": 47873051, "comment_id": 82712252, "body": "What makes actual call?"}, {"owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "reply_to_user": {"reputation": 2651, "user_id": 1182469, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a61e18af00dc8935b37875d5ffba3708?s=128&d=identicon&r=PG", "display_name": "xander27", "link": "https://stackoverflow.com/users/1182469/xander27"}, "edited": false, "score": 0, "creation_date": 1513618311, "post_id": 47873051, "comment_id": 82712495, "body": "In example above it makes subscribe"}], "tags": [], "owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "is_accepted": true, "score": 2, "last_activity_date": 1513616766, "last_edit_date": 1513616766, "creation_date": 1513616306, "answer_id": 47873051, "question_id": 47871325, "link": "https://stackoverflow.com/questions/47871325/dont-understand-how-to-make-flux-subscription-working-in-kotlin/47873051#47873051", "title": "Dont understand how to make flux subscription working in kotlin", "body": "<p>In your code lambda from 'doOnComplete' has been never called, because you created infinite stream. Method 'doOnEach' as 'map' is intermediate operations (like <code>map</code> in streams), its doesn't make a call. \nAnd you have another mistake, reactive suggests \"fluent pattern\". </p>\n\n<p>Try this simple example:</p>\n\n<pre><code>import reactor.core.publisher.Flux\nimport java.time.Duration\n\nfun main(args: Array&lt;String&gt;) {\n    val flux = Flux.interval(Duration.ofSeconds(1)).map { HeartBeat(it) }\n\n    println(\"start\")\n\n    flux.take(3)\n            .doOnEach { println(\"on each $it\") }\n            .map { println(\"before map\");HeartBeat(it.value * 2) }\n            .doOnNext { println(\"on next $it\") }\n            .doOnComplete { println(\"on complete\") }\n            .subscribe { println(\"subscribe $it\") }\n\n    Thread.sleep(5000)\n}\n\ndata class HeartBeat(val value: Long)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2651, "user_id": 1182469, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a61e18af00dc8935b37875d5ffba3708?s=128&d=identicon&r=PG", "display_name": "xander27", "link": "https://stackoverflow.com/users/1182469/xander27"}, "edited": false, "score": 0, "creation_date": 1513695149, "post_id": 47883958, "comment_id": 82745197, "body": "Thanks for good points. I think your comment will save me a lot of time"}], "tags": [], "owner": {"reputation": 20335, "user_id": 1113486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda20bf9d9c85c4390ca7237beba45a2?s=128&d=identicon&r=PG", "display_name": "Simon Basl&#233;", "link": "https://stackoverflow.com/users/1113486/simon-basl%c3%a9"}, "is_accepted": false, "score": 3, "last_activity_date": 1513676396, "creation_date": 1513676396, "answer_id": 47883958, "question_id": 47871325, "link": "https://stackoverflow.com/questions/47871325/dont-understand-how-to-make-flux-subscription-working-in-kotlin/47883958#47883958", "title": "Dont understand how to make flux subscription working in kotlin", "body": "<p>three pretty common mistakes here:</p>\n\n<ul>\n<li>operators like <code>doOnEach</code> return a new <code>Flux</code> instance with the added behavior, so you need to (re)assign to a variable or use a fluent style</li>\n<li>nothing happens until you <code>subscribe()</code> (or a variant of it. <code>blockXXX</code> do also <code>subscribe</code> under the hood for instance...)</li>\n<li>such a pipeline is fully asynchronous, and runs on a separate <code>Thread</code> due to the time dimension of the source, <code>interval</code>. As a result, control would immediately return in <code>init</code> even if you had subscribed, potentially causing the main thread and then the app to exit.</li>\n</ul>\n"}], "owner": {"reputation": 2651, "user_id": 1182469, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a61e18af00dc8935b37875d5ffba3708?s=128&d=identicon&r=PG", "display_name": "xander27", "link": "https://stackoverflow.com/users/1182469/xander27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2731, "favorite_count": 0, "accepted_answer_id": 47873051, "answer_count": 2, "score": 1, "last_activity_date": 1513676396, "creation_date": 1513610103, "last_edit_date": 1513610533, "question_id": 47871325, "link": "https://stackoverflow.com/questions/47871325/dont-understand-how-to-make-flux-subscription-working-in-kotlin", "title": "Dont understand how to make flux subscription working in kotlin", "body": "<p>I'm new to reactive programming. I expect to see </p>\n\n<pre><code>test provider started\nBeat 1000\nBeat 2000\n</code></pre>\n\n<p>in logs but there is only <code>test provider started</code> and no <code>Beat</code> or <code>on complete</code> messages. Looks like I miss something</p>\n\n<pre><code>@Service\nclass ProviderService {\n\n    @PostConstruct\n    fun start(){\n        val hb: Flux&lt;HeartBeat&gt; = Flux.interval(Duration.ofSeconds(1)).map { HeartBeat(it) }\n        val provider = Provider(\"test\", hb)\n    }\n\n}\n////////////////////////\n\nopen class Provider(name: String, heartBests: Flux&lt;HeartBeat&gt;) {\n    companion object {\n        val log = LoggerFactory.getLogger(Provider::class.java)!!\n    }\n\n    init {\n        log.info(\"$name provider started\")\n        heartBests.doOnComplete { log.info(\"on complete\") }\n        heartBests.doOnEach { onBeat(it.get().number) }\n    }\n\n    fun onBeat(n: Number){\n        log.info(\"Beat $n\")\n    }\n}\n\n/////\nclass HeartBeat(val number: Number)\n</code></pre>\n"}, {"tags": ["java", "gradle", "junit", "libgdx", "kotlin"], "comments": [{"owner": {"reputation": 1330, "user_id": 1828709, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9d30794d8e70dbecd9bf3f4863024ffd?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1828709/john"}, "edited": false, "score": 0, "creation_date": 1513721095, "post_id": 47871181, "comment_id": 82758496, "body": "Are you sure gradle has actually downloaded junit? Try running <code>.&#47;gradlew --refresh-dependencies</code> in the command line to tell it to recheck those dependencies."}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 1, "creation_date": 1513775045, "post_id": 47871181, "comment_id": 82780340, "body": "Did you try putting <code>BagelTest.kt</code> in <code>&#47;core&#47;src&#47;test&#47;kotlin&#47;</code>?"}, {"owner": {"reputation": 3219, "user_id": 1983904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wBNSn.jpg?s=128&g=1", "display_name": "Bolling", "link": "https://stackoverflow.com/users/1983904/bolling"}, "edited": false, "score": 0, "creation_date": 1582192323, "post_id": 47871181, "comment_id": 106695369, "body": "Make sure that your test folder is in the main folder of the project."}, {"owner": {"reputation": 119, "user_id": 2594647, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fd0fd345af74e8308f9db5bc5cd617f?s=128&d=identicon&r=PG", "display_name": "AdiAtAnd", "link": "https://stackoverflow.com/users/2594647/adiatand"}, "edited": false, "score": 0, "creation_date": 1597671677, "post_id": 47871181, "comment_id": 112201485, "body": "I am using Android Studio 4.0 version and there is (test) package already in the android project it&#39;s a default package , I have put my kotlin test file there and there is no problem with it. I didn&#39;t run the file yet but there are no import errors for junit etc. I hope this is helpful."}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 2594647, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fd0fd345af74e8308f9db5bc5cd617f?s=128&d=identicon&r=PG", "display_name": "AdiAtAnd", "link": "https://stackoverflow.com/users/2594647/adiatand"}, "edited": false, "score": 0, "creation_date": 1597671654, "post_id": 48659145, "comment_id": 112201470, "body": "I am using Android Studio 4.0 version and there is (test) package already in the android project it&#39;s a default package  , I have put my kotlin test file there and there is no problem with it. I didn&#39;t run the file yet but there are no import errors for junit etc. I hope this is helpful."}], "tags": [], "owner": {"reputation": 174, "user_id": 2104300, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZItmM.jpg?s=128&g=1", "display_name": "elenatres", "link": "https://stackoverflow.com/users/2104300/elenatres"}, "is_accepted": false, "score": 6, "last_activity_date": 1517992327, "creation_date": 1517992327, "answer_id": 48659145, "question_id": 47871181, "link": "https://stackoverflow.com/questions/47871181/unresolved-reference-junit/48659145#48659145", "title": "Unresolved reference: junit", "body": "<p>I've configured junit tests for libGdx+kotlin by following steps:</p>\n\n<ol>\n<li><p>Create 'test' folder in the core project folder - it will be the root folder for test code files: [project-root]/core/test</p></li>\n<li><p>Add junit dependencies in project main gradle.build file to the project(\":core\") section:</p>\n\n<pre><code>project(\":core\") {\n  ....\n  dependencies {\n    ...\n    testCompile 'junit:junit:4.12'\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit:$kotlinVersion\"\n   }\n }\n</code></pre></li>\n<li><p>Add test source set in [project-root]/core/build.gradle file, right under the 'sourceSets.main.java.srcDirs = [ \"src/\" ]' line:</p>\n\n<pre><code>sourceSets.test.java.srcDirs = [\"test/\"]\n</code></pre></li>\n<li><p>Now the [project-root]/core/test folder will be highlighted with green, which means that this folder is recognized as test source directory. Now you can place there a .kt file with simple junut test, for example:</p>\n\n<pre><code>import org.junit.Test\nimport kotlin.test.assertEquals\n\nclass SimpleTest{\n\n    @Test\n    fun testEquals(){\n        var b=true\n        assertEquals(true,b)\n    }\n}\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 231, "user_id": 9193052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCV2A.png?s=128&g=1", "display_name": "Constantin Chernishov", "link": "https://stackoverflow.com/users/9193052/constantin-chernishov"}, "is_accepted": false, "score": 0, "last_activity_date": 1518015748, "creation_date": 1518015748, "answer_id": 48666934, "question_id": 47871181, "link": "https://stackoverflow.com/questions/47871181/unresolved-reference-junit/48666934#48666934", "title": "Unresolved reference: junit", "body": "<p>You should: </p>\n\n<p>1) remove <code>internal</code> word - it is not required </p>\n\n<p>2) using simple <code>assert</code> method in tests is wrong - use methonds from <code>org.junit.Assert.*</code> </p>\n"}, {"tags": [], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "is_accepted": false, "score": 4, "last_activity_date": 1590872113, "last_edit_date": 1590872113, "creation_date": 1552902664, "answer_id": 55218573, "question_id": 47871181, "link": "https://stackoverflow.com/questions/47871181/unresolved-reference-junit/55218573#55218573", "title": "Unresolved reference: junit", "body": "<p>In my case problem was I didn't import </p>\n\n<pre><code>androidTestImplementation \"org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version\"\n</code></pre>\n\n<p>Update May 2020: This should be placed in build.gradle's <code>dependencies { }</code>. As of Android Studio version 4 and current gradle version, the variable should be named $<em>version_kotlin</em> for gradle to properly re-sync.</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 2594647, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fd0fd345af74e8308f9db5bc5cd617f?s=128&d=identicon&r=PG", "display_name": "AdiAtAnd", "link": "https://stackoverflow.com/users/2594647/adiatand"}, "is_accepted": false, "score": 0, "last_activity_date": 1597671744, "creation_date": 1597671744, "answer_id": 63452086, "question_id": 47871181, "link": "https://stackoverflow.com/questions/47871181/unresolved-reference-junit/63452086#63452086", "title": "Unresolved reference: junit", "body": "<p>I am using Android Studio 4.0 version and there is (test) package already in the android project it's a default package , I have put my kotlin test file there and there is no problem with it. I didn't run the file yet but there are no import errors for junit etc. I hope this is helpful.</p>\n"}, {"tags": [], "owner": {"reputation": 3453, "user_id": 838355, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/AIvqN.png?s=128&g=1", "display_name": "ir2pid", "link": "https://stackoverflow.com/users/838355/ir2pid"}, "is_accepted": false, "score": 2, "last_activity_date": 1612960245, "last_edit_date": 1612960245, "creation_date": 1605294196, "answer_id": 64826612, "question_id": 47871181, "link": "https://stackoverflow.com/questions/47871181/unresolved-reference-junit/64826612#64826612", "title": "Unresolved reference: junit", "body": "<p>in app module's <code>build.gradle</code></p>\n<p>replace <code>testImplementation</code>\nwith\n<code>androidTestImplementation</code></p>\n"}, {"tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": 0, "last_activity_date": 1613936635, "last_edit_date": 1613936635, "creation_date": 1613777627, "answer_id": 66286369, "question_id": 47871181, "link": "https://stackoverflow.com/questions/47871181/unresolved-reference-junit/66286369#66286369", "title": "Unresolved reference: junit", "body": "<p>First make sure that the kotlin version defined in <code>build.gradle.kts (project)</code> is the same as the <a href=\"https://stackoverflow.com/a/62374153/5279996\">selected in the compiler</a>.</p>\n<pre><code>plugins {\n    kotlin(&quot;jvm&quot;) version &quot;1.4.21&quot; apply false\n}\n</code></pre>\n<p>If these versions are matting and still not working then proceed with the following steps:</p>\n<hr />\n<ol>\n<li><p>Delete all cache folders including:</p>\n<ul>\n<li>.gradle</li>\n<li>.idea</li>\n</ul>\n</li>\n<li><p>Invalidate Caches / Restart...</p>\n</li>\n<li><p>Open any gradle file (settings.gradle.kts)</p>\n</li>\n<li><p>In the IDE at the top right click in <code>Link Gradle project</code></p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/bH311.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bH311.png\" alt=\"Link Gradle project\" /></a></p>\n<ol start=\"5\">\n<li>Finally, specifies that JUnit 5 should be used to execute the tests</li>\n</ol>\n<h3>build.gradle.kts</h3>\n<pre><code>tasks.test {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><em>Note</em>: This behavior can be defined <a href=\"https://stackoverflow.com/a/58125215/5279996\">by gradle</a> or <a href=\"https://stackoverflow.com/a/60270401/5279996\">from the IDE</a></p>\n<hr />\n<p>It is very likely that if it worked and you have the dependencies it is a cache problem or gradle configuration.</p>\n<p>GL</p>\n"}], "owner": {"reputation": 1586, "user_id": 7717409, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/252d073ff000e1f38cd389d20d136952?s=128&d=identicon&r=PG&f=1", "display_name": "icarumbas", "link": "https://stackoverflow.com/users/7717409/icarumbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12296, "favorite_count": 0, "answer_count": 6, "score": 13, "last_activity_date": 1613936635, "creation_date": 1513609529, "question_id": 47871181, "link": "https://stackoverflow.com/questions/47871181/unresolved-reference-junit", "title": "Unresolved reference: junit", "body": "<p>I'm writing game using Kotlin and LibGDX framework. I'm new to testing. I have passed some basic tutorial how to create simple test. And how to configure gradle. I just clicked on class and choose create test.</p>\n\n<p>But, when i try to build project i get an error:</p>\n\n<pre><code>e: /Users/maximternovtsi/bagel/core/src/test/test/BagelTest.kt: (1, 12): Unresolved reference: junit\ne: /Users/maximternovtsi/bagel/core/src/test/test/BagelTest.kt: (2, 12): Unresolved reference: junit\ne: /Users/maximternovtsi/bagel/core/src/test/test/BagelTest.kt: (6, 6): Unresolved reference: Test\ne: /Users/maximternovtsi/bagel/core/src/test/test/BagelTest.kt: (8, 9): Unresolved reference: Assertions\ne: /Users/maximternovtsi/bagel/core/src/test/test/BagelTest.kt: (11, 6): Unresolved reference: Test\ne: /Users/maximternovtsi/bagel/core/src/test/test/BagelTest.kt: (13, 9): Unresolved reference: Assertions\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':core:compileKotlin'.\n</code></pre>\n\n<p>BagelTest looks like this: </p>\n\n<pre><code>import org.junit.jupiter.api.Test\n\nimport org.junit.jupiter.api.BeforeEach\n\n\ninternal class BagelTest {\n\n\n    @BeforeEach\n    internal fun setUp() {\n    }\n\n    @Test\n    internal fun passes() {\n        assert(true)\n    }\n}\n</code></pre>\n\n<p>I guess that gradle doesn't see junit, but i followed all instructions. Maybe i missed something.</p>\n\n<pre><code>   buildscript {\n    repositories {\n\n        jcenter()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0'\n        classpath 'org.multi-os-engine:moe-gradle:1.4.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.51\"\n    }\n}\n\nallprojects {\n    apply plugin: \"eclipse\"\n    apply plugin: \"idea\"\n\n    version = '1.0'\n    ext {\n        appName = \"Bagel\"\n        gdxVersion = '1.9.8'\n        junitJupiterVersion  = '5.0.2'\n    }\n\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        maven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n        maven { url \"https://oss.sonatype.org/content/repositories/releases/\" }\n    }\n}\n\nproject(\":desktop\") {\n    apply plugin: \"kotlin\"\n\n    dependencies {\n        compile project(\":core\")\n        compile \"com.badlogicgames.gdx:gdx-backend-lwjgl:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop\"\n        compile \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop\"\n        compile \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop\"\n    }\n}\n\nproject(\":android\") {\n    apply plugin: \"android\"\n    apply plugin: \"kotlin-android\"\n\n    configurations { natives }\n\n    dependencies {\n        compile project(\":core\")\n        compile \"org.jetbrains.kotlin:kotlin-stdlib:1.1.51\"\n        compile \"com.badlogicgames.gdx:gdx-backend-android:$gdxVersion\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64\"\n        compile \"com.badlogicgames.gdx:gdx-box2d:$gdxVersion\"\n        natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi\"\n        natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a\"\n        natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-arm64-v8a\"\n        natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86\"\n        natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86_64\"\n        compile \"com.badlogicgames.gdx:gdx-freetype:$gdxVersion\"\n        natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi\"\n        natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi-v7a\"\n        natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-arm64-v8a\"\n        natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86\"\n        natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86_64\"\n    }\n}\n\nproject(\":core\") {\n    apply plugin: \"kotlin\"\n\n    /*kotlin {\n        experimental {\n            coroutines 'enable'\n        }\n    }*/\n\n    sourceSets.test.java.srcDirs = [\"/test\"]\n\n    dependencies {\n        compile \"com.badlogicgames.gdx:gdx:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-box2d:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-freetype:$gdxVersion\"\n        compile \"org.jetbrains.kotlin:kotlin-stdlib:1.1.51\"\n        compile \"com.badlogicgames.ashley:ashley:1.7.3\"\n\n        testCompile(\"org.junit.jupiter:junit-jupiter-api:${junitJupiterVersion}\")\n//        testCompile \"org.mockito:mockito-core:2.2.7\"\n    }\n}\n\ntasks.eclipse.doLast {\n    delete \".project\"\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1513605201, "post_id": 47869867, "comment_id": 82704887, "body": "why not using .map ?"}, {"owner": {"reputation": 789, "user_id": 4684896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c52i1.jpg?s=128&g=1", "display_name": "hamid ghasemi", "link": "https://stackoverflow.com/users/4684896/hamid-ghasemi"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1513605373, "post_id": 47869867, "comment_id": 82704983, "body": "I&#39;m new in kotlin and couldn&#39;t create E objects in <code>alist</code> map function. I don&#39;t know is this even possible :-/"}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 1, "creation_date": 1513605715, "post_id": 47869867, "comment_id": 82705179, "body": "assuming you have an E constructor. You can use: <code>val elist = alist.map { E(it.c1+it.c2, it.d1+it.d2)</code>"}, {"owner": {"reputation": 789, "user_id": 4684896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c52i1.jpg?s=128&g=1", "display_name": "hamid ghasemi", "link": "https://stackoverflow.com/users/4684896/hamid-ghasemi"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1513606761, "post_id": 47869867, "comment_id": 82705775, "body": "Thank you, I think found the way with your hint :)"}], "answers": [{"tags": [], "owner": {"reputation": 789, "user_id": 4684896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c52i1.jpg?s=128&g=1", "display_name": "hamid ghasemi", "link": "https://stackoverflow.com/users/4684896/hamid-ghasemi"}, "is_accepted": false, "score": 1, "last_activity_date": 1513608841, "last_edit_date": 1513608841, "creation_date": 1513607216, "answer_id": 47870540, "question_id": 47869867, "link": "https://stackoverflow.com/questions/47869867/how-to-sum-multiple-elements-after-grouping-in-kotlin/47870540#47870540", "title": "How to sum multiple elements after grouping in Kotlin", "body": "<p>I solved it by following code:</p>\n\n<pre><code>alist.groupby { b }. mapValues {\n   it.value.map {\n      E(it.c1+it.c2, it.d1+it.d2)\n   }.reduce { \n      acc, e -&gt; E(acc.sum_of_c_types + e.sum_of_c_types, acc.sum_of_d_types + e.sum_of_d_types)\n   }.values\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 7, "last_activity_date": 1513635424, "last_edit_date": 1513635424, "creation_date": 1513608101, "answer_id": 47870783, "question_id": 47869867, "link": "https://stackoverflow.com/questions/47869867/how-to-sum-multiple-elements-after-grouping-in-kotlin/47870783#47870783", "title": "How to sum multiple elements after grouping in Kotlin", "body": "<p>I've solved it by using a sequence of <code>groupBy</code>, <code>map</code> and <code>sumBy</code>. It's probably not the cleanest solution I guess.</p>\n\n<pre><code>data class A(val b: Int,\n             val c1: Int,\n             val c2: Int,\n             val d1: Int,\n             val d2: Int)\n\ndata class E(val sumC: Int, val sumD: Int)\n\nfun main(args: Array&lt;String&gt;) {\n    val alist = listOf(A(1, 2, 1, 4, 5), A(1, 3, 4, 6, 3), A(2, 2, 2, 2, 2), A(3, 1, 2, 1, 2))\n    val grouped: Map&lt;Int, E&gt; = alist.groupBy(A::b).mapValues {\n        E(it.value.sumBy { it.c1 + it.c2 }, it.value.sumBy { it.d1 + it.d2 })\n    }\n    grouped.forEach {\n        println(\"Group b=${it.key}: ${it.value}\")\n    }\n}\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>Group b=1: E(sumC=10, sumD=18)\nGroup b=2: E(sumC=4, sumD=4)\nGroup b=3: E(sumC=3, sumD=3)\n</code></pre>\n\n<p><strong>Edit</strong>:</p>\n\n<p>With <code>Grouping</code> (using <code>groupingBy</code> instead of <code>groupBy</code>), it looks even better because you don't have to handle map entities:</p>\n\n<pre><code> val grouped = alist.groupingBy(A::b).aggregate { _, acc: E?, e, _ -&gt;\n        E((acc?.sumC ?: 0) + e.c1 + e.c2, (acc?.sumD ?: 0) + e.d1 + e.d2)\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16438, "user_id": 241986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lFsRO.gif?s=128&g=1", "display_name": "Boris Treukhov", "link": "https://stackoverflow.com/users/241986/boris-treukhov"}, "is_accepted": false, "score": 3, "last_activity_date": 1513610112, "last_edit_date": 1513610112, "creation_date": 1513609469, "answer_id": 47871161, "question_id": 47869867, "link": "https://stackoverflow.com/questions/47869867/how-to-sum-multiple-elements-after-grouping-in-kotlin/47871161#47871161", "title": "How to sum multiple elements after grouping in Kotlin", "body": "<p>I think it's just grouping with folding</p>\n\n<pre><code>fun group(a: List&lt;A&gt;) = a.groupingBy(A::b).fold(E(0, 0),\n        { acc, elem -&gt;\n            E(acc.sum_of_c_types + elem.c1 + elem.c2,\n                    acc.sum_of_d_types + elem.d1 + elem.d2)\n        })\n</code></pre>\n"}], "owner": {"reputation": 789, "user_id": 4684896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c52i1.jpg?s=128&g=1", "display_name": "hamid ghasemi", "link": "https://stackoverflow.com/users/4684896/hamid-ghasemi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6250, "favorite_count": 2, "accepted_answer_id": 47870783, "answer_count": 3, "score": 4, "last_activity_date": 1513635424, "creation_date": 1513604840, "last_edit_date": 1513610480, "question_id": 47869867, "link": "https://stackoverflow.com/questions/47869867/how-to-sum-multiple-elements-after-grouping-in-kotlin", "title": "How to sum multiple elements after grouping in Kotlin", "body": "<p>I have a list of objects A (<code>alist</code>).</p>\n\n<pre><code>A { \n  val b : Int\n  val c1 : Int\n  val c2 : Int\n  val d1 : Int\n  val d2 : Int\n}\n</code></pre>\n\n<p>and I want to group them by <code>b</code> and calculate sum of <code>c1+c2</code> and <code>d1+d2</code> on each group and put the results in list of E objects <code>elist</code>.</p>\n\n<pre><code>E {\n  val sum_of_c_types : Int\n  val sum_of_d_types : Int\n}\n</code></pre>\n\n<p>How do I achieve in kotlin using any collection inbuilt function?</p>\n\n<p>note:</p>\n\n<p>I know I can do it with <code>reduce</code> function and create temporary A objects, but this is important to dont use temporary A object in code.</p>\n"}, {"tags": ["android", "list", "kotlin", "parcelable"], "answers": [{"tags": [], "owner": {"reputation": 229, "user_id": 4759349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/461fb1bfd0a7bc76f6029d5ee7bd6d7a?s=128&d=identicon&r=PG", "display_name": "lllyct", "link": "https://stackoverflow.com/users/4759349/lllyct"}, "is_accepted": false, "score": 3, "last_activity_date": 1513689558, "last_edit_date": 1513689558, "creation_date": 1513613354, "answer_id": 47872245, "question_id": 47869281, "link": "https://stackoverflow.com/questions/47869281/creating-a-parcelable-class-with-a-secondary-constructor-that-takes-a-list-as-pa/47872245#47872245", "title": "Creating a Parcelable class with a secondary constructor that takes a list as parameter in Kotlin", "body": "<p>You can't use fields in secondary constructor. Use <code>createStringArrayList()</code> instead of <code>readStringList(mStringList)</code></p>\n\n<pre><code>constructor(parcel: Parcel) : this(parcel.createStringArrayList())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1156, "user_id": 1473401, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/AhZUr.jpg?s=128&g=1", "display_name": "alexm", "link": "https://stackoverflow.com/users/1473401/alexm"}, "edited": false, "score": 0, "creation_date": 1513619324, "post_id": 47873078, "comment_id": 82713029, "body": "it makes a lot of sense. Will try this."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1513616395, "creation_date": 1513616395, "answer_id": 47873078, "question_id": 47869281, "link": "https://stackoverflow.com/questions/47869281/creating-a-parcelable-class-with-a-secondary-constructor-that-takes-a-list-as-pa/47873078#47873078", "title": "Creating a Parcelable class with a secondary constructor that takes a list as parameter in Kotlin", "body": "<p>For this specific case, you could write it as</p>\n\n<pre><code>constructor(parcel: Parcel) : this(mutableListOf&lt;String&gt;()) {\n  parcel.readStringList(mStringList)\n}\n</code></pre>\n\n<p>But I would prefer just to make it a factory method, not a constructor. Especially since you need it for a factory method anyway. Namely:</p>\n\n<pre><code>companion object CREATOR : Parcelable.Creator&lt;StringChecker&gt; {\n    override fun createFromParcel(parcel: Parcel): StringChecker {\n        val stringList = mutableListOf&lt;String&gt;()\n        parcel.readStringList(stringList)\n        return StringChecker(stringList)\n    }\n\n    override fun newArray(size: Int): Array&lt;StringChecker?&gt; {\n        return arrayOfNulls(size)\n    }\n}\n</code></pre>\n\n<p>Some more: you probably don't want to have both <code>stringList</code> and <code>mStringList</code> properties, as your code currently does. If it needs to be <code>var</code>, just do <code>class StringChecker(var stringList : List&lt;String&gt;)</code> instead. Also look at <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/extensions/android-parcelable.md\" rel=\"nofollow noreferrer\"><code>@Parcelize</code></a>.</p>\n"}], "owner": {"reputation": 1156, "user_id": 1473401, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/AhZUr.jpg?s=128&g=1", "display_name": "alexm", "link": "https://stackoverflow.com/users/1473401/alexm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1384, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1513689558, "creation_date": 1513602810, "last_edit_date": 1513619241, "question_id": 47869281, "link": "https://stackoverflow.com/questions/47869281/creating-a-parcelable-class-with-a-secondary-constructor-that-takes-a-list-as-pa", "title": "Creating a Parcelable class with a secondary constructor that takes a list as parameter in Kotlin", "body": "<p>I'm getting started with Kotlin and trying to implement a parcelable object that receives a list of strings as parameter of the secondary constructor. However, I'm getting the error:</p>\n\n<blockquote>\n  <p>Cannot access '&lt; this >' before super class constructor has been called</p>\n</blockquote>\n\n<p>here is my code:</p>\n\n<pre><code>class StringChecker(val stringList : List&lt;String&gt;) : Parcelable {\n\n    var mStringList = stringList\n\n    constructor(parcel: Parcel) : this(parcel.readStringList(mStringList))\n\n    override fun writeToParcel(parcel: Parcel, flags: Int) {\n        parcel.writeStringList(mStringList)\n    }\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    companion object CREATOR : Parcelable.Creator&lt;StringChecker&gt; {\n        override fun createFromParcel(parcel: Parcel): StringChecker {\n            return StringChecker(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;StringChecker?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n\n}\n</code></pre>\n\n<p>I understand that I cannot call the member variable mStringList before creating the object and that of course makes sense, however the readStringList method requires a string list parameter. How can I resolve this issue? Is this a problem of my design parcelable vs taking list as constructor parameter?</p>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1513606088, "post_id": 47868672, "comment_id": 82705381, "body": "one problem is for sure that journey.date is nullable and toSimpleString accepts only a non-nullable Date."}], "answers": [{"comments": [{"owner": {"reputation": 463, "user_id": 4528799, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/82e50d02932244f9122956b0e629e43d?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4528799/kevin"}, "edited": false, "score": 1, "creation_date": 1513620810, "post_id": 47868894, "comment_id": 82713729, "body": "thank you for your explanation. I have tried the  Extension Function and called it in the xml like this <code>android:text=&quot;@{journey.date.toSimpleString())</code>but this did not work. How do i call the extension Function from the xml?"}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "reply_to_user": {"reputation": 463, "user_id": 4528799, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/82e50d02932244f9122956b0e629e43d?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4528799/kevin"}, "edited": false, "score": 0, "creation_date": 1513673781, "post_id": 47868894, "comment_id": 82732062, "body": "@Kevin Xml does use the java syntax to resolve the code, you have to use it as static funtion as described in the end of my answer, read <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">this doc</a> for more understanding"}], "tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": true, "score": 23, "last_activity_date": 1513673917, "last_edit_date": 1513673917, "creation_date": 1513601387, "answer_id": 47868894, "question_id": 47868672, "link": "https://stackoverflow.com/questions/47868672/kotlin-java-util-date-to-string-for-databindings/47868894#47868894", "title": "Kotlin: Java Util Date to String for Databindings", "body": "<p>Using the reserved word <strong>object</strong> in kotlin, that you really doing is declare a single instance. the equivalent in java is something more or less like:</p>\n\n<pre><code>class DataUtils {\n    static DataUtils INSTANCE;\n    public String toSimpleString()...\n}\n</code></pre>\n\n<p>then when you call it you do a <code>DateUtils.INSTANCE.toSimpleString()</code></p>\n\n<p>You should capable to use <code>DateUtils.INSTANCE.toSimpleString()</code> in your xml</p>\n\n<hr>\n\n<p>In order to make <code>toSimpleString</code> accessible from static context, you have to flag the method with<code>@JvmStatic</code></p>\n\n<pre><code>object DateUtils {\n    @JvmStatic\n    fun toSimpleString(date: Date) : String {\n        val format = SimpleDateFormat(\"dd/MM/yyy\")\n        return format.format(date)\n    }\n}\n</code></pre>\n\n<p><strong>Using extension function</strong>(<a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"noreferrer\">doc</a>)</p>\n\n<pre><code>@file:JvmName(\"DateUtils\")//Use this to change your class name in java, by default is &lt;the file name&gt;Kt (DateUtilsKt in your case)\n\nfun Date.toSimpleString() : String {\n    val format = SimpleDateFormat(\"dd/MM/yyy\")\n    return format.format(this)\n}\n</code></pre>\n\n<p>Then you can use it directly in xml as you are already doing:</p>\n\n<pre><code>android:text=\"@{DateUtils.toSimpleString(journey.date)}\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1513606455, "creation_date": 1513606455, "answer_id": 47870313, "question_id": 47868672, "link": "https://stackoverflow.com/questions/47868672/kotlin-java-util-date-to-string-for-databindings/47870313#47870313", "title": "Kotlin: Java Util Date to String for Databindings", "body": "<p>Why don't you just use a top-level function which is static by default? A top-level function is not defined in any class.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){\n    println(toSimpleString(Date())) \n}\n\nfun toSimpleString(date: Date?) = with(date ?: Date()) {\n    SimpleDateFormat(\"dd/MM/yyy\").format(this)\n}\n</code></pre>\n\n<p>Also, notice how Jouney's date is nullable in your example and your <code>toSimpleString</code> only accepts a non-nullable Date!</p>\n\n<p>I changed it, so that it will return the string of the current date in case null is passed.</p>\n"}, {"comments": [{"owner": {"reputation": 2243, "user_id": 3466808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pr9RU.jpg?s=128&g=1", "display_name": "Sam Chen", "link": "https://stackoverflow.com/users/3466808/sam-chen"}, "edited": false, "score": 0, "creation_date": 1605635454, "post_id": 53040848, "comment_id": 114709398, "body": "Then you have to write 10 times of the same method if you have 10 model classes (if they all have <code>Date</code> property)."}], "tags": [], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "is_accepted": false, "score": 0, "last_activity_date": 1540798824, "creation_date": 1540798824, "answer_id": 53040848, "question_id": 47868672, "link": "https://stackoverflow.com/questions/47868672/kotlin-java-util-date-to-string-for-databindings/53040848#53040848", "title": "Kotlin: Java Util Date to String for Databindings", "body": "<p><strong>More easy way</strong> would be to make a <code>getDateString</code> in model class.</p>\n\n<pre><code>android:text=\"@{journey.dateString)}\"\n\nclass Journey {\n    lateinit var date: Date\n    fun getDateString(){\n        return DataUtils.toSimpleString(date)\n    }\n}\n</code></pre>\n\n<p>I like this way because I don't need to import any class in this case.</p>\n"}], "owner": {"reputation": 463, "user_id": 4528799, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/82e50d02932244f9122956b0e629e43d?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4528799/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32352, "favorite_count": 2, "accepted_answer_id": 47868894, "answer_count": 3, "score": 8, "last_activity_date": 1540798824, "creation_date": 1513600606, "last_edit_date": 1513603438, "question_id": 47868672, "link": "https://stackoverflow.com/questions/47868672/kotlin-java-util-date-to-string-for-databindings", "title": "Kotlin: Java Util Date to String for Databindings", "body": "<p>I want to use the Date value of my Data class in view via Databinding.\nIf I use the toString() method on the Date field it works. But I want to customize the Date value. \nSo I created the Utils object with Method. This is the Util object</p>\n\n<pre><code>object DateUtils {\n\n     fun toSimpleString(date: Date) : String {\n        val format = SimpleDateFormat(\"dd/MM/yyy\")\n        return format.format(date)\n    }\n}\n</code></pre>\n\n<p>But if I want to use this method in the xml like this</p>\n\n<pre><code>&lt;data&gt;\n    &lt;import type=\"de.mjkd.journeylogger.Utils.DateUtils\"/&gt;\n\n    &lt;variable\n        name=\"journey\"\n        type=\"de.mjkd.journeylogger.data.Journey\"/&gt;\n&lt;/data&gt;\n...\n    android:text=\"@{DateUtils.toSimpleString(journey.date)}\"\n</code></pre>\n\n<p>I get an error <code>cannot find method toSimpleString(java.util.Date) in class ...</code></p>\n\n<p>This is my Dataclass:</p>\n\n<pre><code>data class Journey(var title: String, var date: Date?, var destination: String)\n</code></pre>\n\n<p>Whats wrong with this code?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 461, "user_id": 5990846, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nLq8yPuDPic/AAAAAAAAAAI/AAAAAAAAAE0/g0JqD8k91y0/photo.jpg?sz=128", "display_name": "Jay", "link": "https://stackoverflow.com/users/5990846/jay"}, "edited": false, "score": 0, "creation_date": 1513600536, "post_id": 47868559, "comment_id": 82702250, "body": "You can use this library function arrayOf(&quot;a&quot;,&quot;b&quot;)."}], "answers": [{"tags": [], "owner": {"reputation": 3380, "user_id": 8094213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHg3X.jpg?s=128&g=1", "display_name": "Alexey Denysenko", "link": "https://stackoverflow.com/users/8094213/alexey-denysenko"}, "is_accepted": true, "score": 16, "last_activity_date": 1513600505, "creation_date": 1513600505, "answer_id": 47868640, "question_id": 47868559, "link": "https://stackoverflow.com/questions/47868559/how-to-initiate-string-array-in-kotlin/47868640#47868640", "title": "How to initiate String array in Kotlin?", "body": "<p>You can use <code>arrayOf()</code> fuction as it described in Kotlin <a href=\"http://kotlinlang.org/docs/reference/basic-types.html\" rel=\"noreferrer\">Basic Type</a> article.<br>\nYour code will be the next:</p>\n\n<pre><code>val errorSoon = arrayOf(\"Hello\", \"World\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1513600986, "last_edit_date": 1513600986, "creation_date": 1513600627, "answer_id": 47868679, "question_id": 47868559, "link": "https://stackoverflow.com/questions/47868559/how-to-initiate-string-array-in-kotlin/47868679#47868679", "title": "How to initiate String array in Kotlin?", "body": "<p>Try this <code>arrayOf()</code> to create array in <code>Kotlin</code></p>\n\n<pre><code>val errorSoon = arrayOf(\"a\", \"b\", \"c\")        \n</code></pre>\n\n<p>to get values from array use below code</p>\n\n<pre><code>for (i in errorSoon.indices) {\n    print(errorSoon[i]+\" \")\n}\n</code></pre>\n\n<p>You can read more <strong><a href=\"http://kotlinlang.org/docs/reference/basic-types.html\" rel=\"nofollow noreferrer\">here about it</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 4656, "user_id": 7138492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8KSN4.png?s=128&g=1", "display_name": "Sergei Emelianov", "link": "https://stackoverflow.com/users/7138492/sergei-emelianov"}, "is_accepted": false, "score": 1, "last_activity_date": 1513601275, "last_edit_date": 1513601275, "creation_date": 1513601266, "answer_id": 47868859, "question_id": 47868559, "link": "https://stackoverflow.com/questions/47868559/how-to-initiate-string-array-in-kotlin/47868859#47868859", "title": "How to initiate String array in Kotlin?", "body": "<pre><code>val errorSoon = arrayOf(\"Hello\", \"World\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3278, "user_id": 3282461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v6pSx.png?s=128&g=1", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/3282461/ankit-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1513754981, "creation_date": 1513754981, "answer_id": 47900849, "question_id": 47868559, "link": "https://stackoverflow.com/questions/47868559/how-to-initiate-string-array-in-kotlin/47900849#47900849", "title": "How to initiate String array in Kotlin?", "body": "<pre><code>val array= arrayOf(\"Hello\", \"World\")\n</code></pre>\n\n<p>And there is one more way to create String Array.</p>\n\n<pre><code>// Creates an Array&lt;String&gt; with values [\"0\", \"1\", \"4\", \"9\", \"16\"]\nval asc = Array(5, { i -&gt; (i * i).toString() })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6265, "user_id": 3387925, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mtLre.jpg?s=128&g=1", "display_name": "Mayank Patel", "link": "https://stackoverflow.com/users/3387925/mayank-patel"}, "edited": false, "score": 0, "creation_date": 1521011145, "post_id": 49270554, "comment_id": 85545984, "body": "Please add a short description of how your code answers the question. It would help others understand your answer better."}], "tags": [], "owner": {"reputation": 273, "user_id": 8420957, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3X6w8x9MhTI/AAAAAAAAAAI/AAAAAAAAABg/H5wT0dTRHMk/photo.jpg?sz=128", "display_name": "Bharat Vasoya", "link": "https://stackoverflow.com/users/8420957/bharat-vasoya"}, "is_accepted": false, "score": 1, "last_activity_date": 1521013107, "last_edit_date": 1521013107, "creation_date": 1521006681, "answer_id": 49270554, "question_id": 47868559, "link": "https://stackoverflow.com/questions/47868559/how-to-initiate-string-array-in-kotlin/49270554#49270554", "title": "How to initiate String array in Kotlin?", "body": "<p>Declare array at global</p>\n\n<pre><code>names = arrayOf(String())\n</code></pre>\n\n<p>Now in onCreate method Initialize you array with value</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    //Init array here\n    names = arrayOf(\"Friends List\", \"Notification\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4341, "user_id": 1152643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/095bf83a49faf8a8c8282020b28dfb5b?s=128&d=identicon&r=PG", "display_name": "Oleg Gryb", "link": "https://stackoverflow.com/users/1152643/oleg-gryb"}, "edited": false, "score": 1, "creation_date": 1571581692, "post_id": 54608431, "comment_id": 103281096, "body": "not supported in Android&#39;s Kotlin: &quot;collection literals are outside of annotations&quot;"}], "tags": [], "owner": {"reputation": 1623, "user_id": 4936616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1IFsX.jpg?s=128&g=1", "display_name": "Jose", "link": "https://stackoverflow.com/users/4936616/jose"}, "is_accepted": false, "score": 2, "last_activity_date": 1549731286, "creation_date": 1549731286, "answer_id": 54608431, "question_id": 47868559, "link": "https://stackoverflow.com/questions/47868559/how-to-initiate-string-array-in-kotlin/54608431#54608431", "title": "How to initiate String array in Kotlin?", "body": "<p>array of strings can be initialized with square brackets too.</p>\n\n<pre><code>values = [ \"a\", \"b\" ]\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6008330"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8005, "favorite_count": 0, "accepted_answer_id": 47868640, "answer_count": 6, "score": 5, "last_activity_date": 1549731286, "creation_date": 1513600253, "last_edit_date": 1513762102, "question_id": 47868559, "link": "https://stackoverflow.com/questions/47868559/how-to-initiate-string-array-in-kotlin", "title": "How to initiate String array in Kotlin?", "body": "<p>I would like to know how to start an array similar to this <code>String [] errorSoon = {\"Hello\", \"World\"};</code> in <code>Kotlin</code>. How is done?</p>\n"}, {"tags": ["android", "kotlin", "android-constraintlayout", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1513589684, "post_id": 47865436, "comment_id": 82695897, "body": "have look <a href=\"https://stackoverflow.com/questions/44449495/toggle-visibility-of-chain-group-in-constraint-layout\">this</a>"}, {"owner": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "edited": false, "score": 0, "creation_date": 1513599833, "post_id": 47865436, "comment_id": 82701856, "body": "whats the problem give the log"}, {"owner": {"reputation": 433, "user_id": 6859603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad767187ed8d8098b2e67eadbd92d93?s=128&d=identicon&r=PG&f=1", "display_name": "SS2095", "link": "https://stackoverflow.com/users/6859603/ss2095"}, "edited": false, "score": 0, "creation_date": 1513629869, "post_id": 47865436, "comment_id": 82717648, "body": "there is no error in the log.it just doesn&#39;t do anything"}, {"owner": {"reputation": 13174, "user_id": 467592, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BhIvX.jpg?s=128&g=1", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/467592/rohit-sharma"}, "edited": false, "score": 0, "creation_date": 1566149049, "post_id": 47865436, "comment_id": 101556892, "body": "Was beating my head with screen to figure this out."}], "answers": [{"comments": [{"owner": {"reputation": 725, "user_id": 1121274, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/17aed402897f8f204a06c070aea02bfe?s=128&d=identicon&r=PG", "display_name": "filipproch", "link": "https://stackoverflow.com/users/1121274/filipproch"}, "edited": false, "score": 3, "creation_date": 1528100306, "post_id": 47883210, "comment_id": 88361841, "body": "I don&#39;t agree with this answer, this question is specifically about using View.INVISIBLE. Using ConstraintLayout.GONE is the same as using View.GONE. It&#39;s a different type of visibility setting that works."}], "tags": [], "owner": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "is_accepted": false, "score": 0, "last_activity_date": 1513680817, "last_edit_date": 1513680817, "creation_date": 1513673816, "answer_id": 47883210, "question_id": 47865436, "link": "https://stackoverflow.com/questions/47865436/cant-set-visibility-on-constraint-group/47883210#47883210", "title": "Can&#39;t set visibility on constraint group", "body": "<p>just add follow line you can change it .\nso it visible .</p>\n\n<pre><code>group.visibility=ConstraintLayout.GONE\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 433, "user_id": 6859603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad767187ed8d8098b2e67eadbd92d93?s=128&d=identicon&r=PG&f=1", "display_name": "SS2095", "link": "https://stackoverflow.com/users/6859603/ss2095"}, "edited": false, "score": 0, "creation_date": 1513772655, "post_id": 47893965, "comment_id": 82778720, "body": "that works but was hoping for a way that didn&#39;t require having to loop through the elements.thanks for the answer.hope it gets resolved."}, {"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "reply_to_user": {"reputation": 433, "user_id": 6859603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad767187ed8d8098b2e67eadbd92d93?s=128&d=identicon&r=PG&f=1", "display_name": "SS2095", "link": "https://stackoverflow.com/users/6859603/ss2095"}, "edited": false, "score": 0, "creation_date": 1513772918, "post_id": 47893965, "comment_id": 82778885, "body": "@SS2095 If it&#39;s a bug then you will have to wait for a future release. (And I think that it is a bug.) This is the best that can be done in the interim if you need that functionality."}, {"owner": {"reputation": 321, "user_id": 4856311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5zLbk.jpg?s=128&g=1", "display_name": "Torsten Grote", "link": "https://stackoverflow.com/users/4856311/torsten-grote"}, "edited": false, "score": 0, "creation_date": 1551464159, "post_id": 47893965, "comment_id": 96663151, "body": "Has somebody reported that bug and has a link to it?"}, {"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "reply_to_user": {"reputation": 321, "user_id": 4856311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5zLbk.jpg?s=128&g=1", "display_name": "Torsten Grote", "link": "https://stackoverflow.com/users/4856311/torsten-grote"}, "edited": false, "score": 1, "creation_date": 1551464933, "post_id": 47893965, "comment_id": 96663480, "body": "@TorstenGrote Maybe <a href=\"https://issuetracker.google.com/issues/117485026\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/117485026</a>? I also see a reference to a <code>ConstraintLayout</code> 2.0 &quot;Layer&quot; feature that may be somehow applicable."}, {"owner": {"reputation": 681, "user_id": 4099786, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RWcsJ97XmBc/AAAAAAAAAAI/AAAAAAAAAwc/gHXd1dtHWmI/photo.jpg?sz=128", "display_name": "Julien Arzul", "link": "https://stackoverflow.com/users/4099786/julien-arzul"}, "edited": false, "score": 0, "creation_date": 1576039049, "post_id": 47893965, "comment_id": 104764582, "body": "I actually raised an issue related to this a while ago as I agree with @Cheticamp that this is a bug in the Group class: <a href=\"https://issuetracker.google.com/issues/130524019\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/130524019</a>"}], "tags": [], "owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "is_accepted": true, "score": 39, "last_activity_date": 1591443413, "last_edit_date": 1591443413, "creation_date": 1513711790, "answer_id": 47893965, "question_id": 47865436, "link": "https://stackoverflow.com/questions/47865436/cant-set-visibility-on-constraint-group/47893965#47893965", "title": "Can&#39;t set visibility on constraint group", "body": "<p><strong>Update:</strong> This was reported as fixed in ConstraintLayout version 2.0.0 beta 6. See <a href=\"https://androidstudio.googleblog.com/2020/05/constraintlayout-200-beta-6.html\" rel=\"nofollow noreferrer\">bug fixes for ConstraintLayout 2.0.0 beta 6 </a>.</p>\n\n<hr>\n\n<hr>\n\n<p>This looks like a bug to me. <code>GONE</code> works but <code>INVISIBLE</code> doesn't and I think it should. It may be worth a bug report unless someone can post where my thinking is wrong. (I am using <code>constraint-layout:1.1.0-beta4</code>.)</p>\n\n<p>In the meantime, here is a work-around that explicitly retrieves the ids within the group and sets the visibility of each retrieved view.</p>\n\n<p><strong>Within MainActivity.kt</strong></p>\n\n<pre><code>private fun toggleLoginUI(show: Boolean) {\n    if (show) {\n        setGroupVisibility(mLayout, group, Group.VISIBLE)\n    } else {\n        setGroupVisibility(mLayout, group, Group.INVISIBLE)\n    }\n}\n\nprivate fun setGroupVisibility(layout: ConstraintLayout, group: Group, visibility: Int) {\n    val refIds = group.referencedIds\n    for (id in refIds) {\n        layout.findViewById&lt;View&gt;(id).visibility = visibility\n    }\n}\n</code></pre>\n\n<p><code>mLayout</code> is the <code>ConstraintLayout</code>.</p>\n\n<p><strong>Update:</strong> Here is another work-around that takes advantage of the fact that changing to/from <code>GONE</code> works as expected:</p>\n\n<pre><code>private fun toggleLoginUI(show: Boolean) {\n    if (show) {\n        group.visibility = GONE\n        group.visibility = VISIBLE\n    } else {\n        group.visibility = GONE\n        group.visibility = INVISIBLE\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1407, "user_id": 4350650, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/75576b43d474eb5562979f119092a79b?s=128&d=identicon&r=PG&f=1", "display_name": "Mayeul sgc", "link": "https://stackoverflow.com/users/4350650/mayeul-sgc"}, "edited": false, "score": 2, "creation_date": 1551709352, "post_id": 50712951, "comment_id": 96728074, "body": "Thx, spent 2 days to find that &#39;requestLayout()&#39; solver &lt;3"}, {"owner": {"reputation": 612, "user_id": 9416912, "user_type": "registered", "profile_image": "https://graph.facebook.com/1925749814104817/picture?type=large", "display_name": "Lee Boon Kong", "link": "https://stackoverflow.com/users/9416912/lee-boon-kong"}, "edited": false, "score": 0, "creation_date": 1571131056, "post_id": 50712951, "comment_id": 103128940, "body": "Thanks! This worked for me, but can this be considered as a bug of constraint layout? Calling requestLayout() after every visibility change seems not quite normal"}, {"owner": {"reputation": 177, "user_id": 6004215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8162d2dcb6ecfa418c34b284fd7a1b0?s=128&d=identicon&r=PG&f=1", "display_name": "DannyP", "link": "https://stackoverflow.com/users/6004215/dannyp"}, "edited": false, "score": 0, "creation_date": 1572527571, "post_id": 50712951, "comment_id": 103593514, "body": "group.requestLayout() fixed it for me as well.  That must be a bug"}], "tags": [], "owner": {"reputation": 4827, "user_id": 1722808, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lQuCP.png?s=128&g=1", "display_name": "lukjar", "link": "https://stackoverflow.com/users/1722808/lukjar"}, "is_accepted": false, "score": 32, "last_activity_date": 1528263828, "creation_date": 1528263828, "answer_id": 50712951, "question_id": 47865436, "link": "https://stackoverflow.com/questions/47865436/cant-set-visibility-on-constraint-group/50712951#50712951", "title": "Can&#39;t set visibility on constraint group", "body": "<p>You can also simply call <code>requestLayout</code> method after changing Group visibility to <code>View.INVISIBLE</code>. </p>\n\n<pre><code>fun makeGroupInvisible(group: Group) {\n    group.visibility = View.INVISIBLE\n    group.requestLayout()\n}\n</code></pre>\n\n<p>Problem is that <code>android.support.constraint.Group</code> updates visibility of its members in <code>updatePreLayout</code> method which is called from <code>onMeasure</code> in <code>ConstraintLayout</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 157, "user_id": 7535579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V3Hra.jpg?s=128&g=1", "display_name": "Nicol&#225;s Vera", "link": "https://stackoverflow.com/users/7535579/nicol%c3%a1s-vera"}, "edited": false, "score": 0, "creation_date": 1563175113, "post_id": 51893016, "comment_id": 100598188, "body": "This answer is simple, works and uses a method provided by the library. This should be the correct answer"}], "tags": [], "owner": {"reputation": 91, "user_id": 8591150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d38c1a5987ea5405c143d0d9bca7b92?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver1123", "link": "https://stackoverflow.com/users/8591150/oliver1123"}, "is_accepted": false, "score": 6, "last_activity_date": 1534500329, "creation_date": 1534500329, "answer_id": 51893016, "question_id": 47865436, "link": "https://stackoverflow.com/questions/47865436/cant-set-visibility-on-constraint-group/51893016#51893016", "title": "Can&#39;t set visibility on constraint group", "body": "<p>android.support.constraint.Group has a public method</p>\n\n<pre><code> public void updatePreLayout(ConstraintLayout container) {\n   ...\n }\n</code></pre>\n\n<p>that updates children visibilities, so calling </p>\n\n<pre><code>dataGroup.visibility = if (visible) View.VISIBLE else View.INVISIBLE\ndataGroup.updatePreLayout(root)\n</code></pre>\n\n<p>worked for me</p>\n"}, {"comments": [{"owner": {"reputation": 27882, "user_id": 383414, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a0252c97758708e419523490aa848ded?s=128&d=identicon&r=PG", "display_name": "Richard Le Mesurier", "link": "https://stackoverflow.com/users/383414/richard-le-mesurier"}, "edited": false, "score": 0, "creation_date": 1542813674, "post_id": 52762357, "comment_id": 93704883, "body": "This makes no sense that this should be the fix, but it is. Clearly something about group is buggy and likely related to Android Studio."}, {"owner": {"reputation": 1314, "user_id": 8650422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_JNDDkGkTYE/AAAAAAAAAAI/AAAAAAAAADY/ah_Y5aSbqYQ/photo.jpg?sz=128", "display_name": "jan4co", "link": "https://stackoverflow.com/users/8650422/jan4co"}, "edited": false, "score": 0, "creation_date": 1548368295, "post_id": 52762357, "comment_id": 95527431, "body": "This doesn&#39;t help me"}, {"owner": {"reputation": 128, "user_id": 7263926, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9VPr7442WQI/AAAAAAAAAAI/AAAAAAAAAJ8/pDTtcrHiS34/photo.jpg?sz=128", "display_name": "Sushant Garg", "link": "https://stackoverflow.com/users/7263926/sushant-garg"}, "edited": false, "score": 0, "creation_date": 1548658370, "post_id": 52762357, "comment_id": 95604630, "body": "Please share your code so that we can understand your problem"}], "tags": [], "owner": {"reputation": 128, "user_id": 7263926, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9VPr7442WQI/AAAAAAAAAAI/AAAAAAAAAJ8/pDTtcrHiS34/photo.jpg?sz=128", "display_name": "Sushant Garg", "link": "https://stackoverflow.com/users/7263926/sushant-garg"}, "is_accepted": false, "score": 1, "last_activity_date": 1539267323, "creation_date": 1539267323, "answer_id": 52762357, "question_id": 47865436, "link": "https://stackoverflow.com/questions/47865436/cant-set-visibility-on-constraint-group/52762357#52762357", "title": "Can&#39;t set visibility on constraint group", "body": "<p>Just clean your project or Rebuild your project</p>\n"}, {"tags": [], "owner": {"reputation": 465, "user_id": 1004550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c64980c3628c16413bcfcb241f9a0f1?s=128&d=identicon&r=PG", "display_name": "zoki", "link": "https://stackoverflow.com/users/1004550/zoki"}, "is_accepted": false, "score": 1, "last_activity_date": 1542957927, "creation_date": 1542957927, "answer_id": 53442279, "question_id": 47865436, "link": "https://stackoverflow.com/questions/47865436/cant-set-visibility-on-constraint-group/53442279#53442279", "title": "Can&#39;t set visibility on constraint group", "body": "<p>Had the same problem and nothing from above helps. My solution was to <code>setVisibility(viewId, ConstraintSet.VISIBLE)</code> inside constraint set and apply that to ConstraintLayout view.</p>\n\n<p>For example:</p>\n\n<pre><code>myContstraintSet.apply {\n    setVisibility(firstGroup.id, ConstraintSet.VISIBLE)\n    setVisibility(secondGroup.id, ConstraintSet.GONE)\n\n    connect(oneView.id, ConstraintSet.BOTTOM, R.id.secondView, ConstraintSet.TOP)\n    clear(anotherView.id, ConstraintSet.TOP)\n}\nmyContstraintSet.applyTo(myConstraintLayout)\n</code></pre>\n"}], "owner": {"reputation": 433, "user_id": 6859603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad767187ed8d8098b2e67eadbd92d93?s=128&d=identicon&r=PG&f=1", "display_name": "SS2095", "link": "https://stackoverflow.com/users/6859603/ss2095"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17914, "favorite_count": 3, "accepted_answer_id": 47893965, "answer_count": 6, "score": 43, "last_activity_date": 1591443413, "creation_date": 1513589426, "question_id": 47865436, "link": "https://stackoverflow.com/questions/47865436/cant-set-visibility-on-constraint-group", "title": "Can&#39;t set visibility on constraint group", "body": "<p>When i try to set the visibility of the group on button click,it doesn't affect the view's visibility.Using com.android.support.constraint:constraint-layout:1.1.0-beta4. I've tried setting it element-wise without problems,but no success with the group. </p>\n\n<p><strong>My MainActivity.kt</strong></p>\n\n<pre><code>private fun toggleLoginUI(show: Boolean) {\n    if (show) {\n        group.visibility = VISIBLE\n    } else {\n        group.visibility = INVISIBLE\n    }\n}\n\nfun onClick(view: View) {\n    when (view.id) {\n        R.id.button -&gt; toggleLoginUI(true)\n        R.id.button4 -&gt; toggleLoginUI(false)\n    }\n}\n</code></pre>\n\n<p><strong>My activity_main.xml</strong></p>\n\n<pre><code>    &lt;android.support.constraint.ConstraintLayout..\n\n            &lt;TextView\n                android:id=\"@+id/textView\"\n... /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textView2\"\n... /&gt;\n\n            &lt;Button\n                android:id=\"@+id/button\"\n.../&gt;\n\n            &lt;Button\n                android:id=\"@+id/button4\"\n... /&gt;\n\n\n            &lt;android.support.constraint.Group\n                android:id=\"@+id/group\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"visible\"\n                app:constraint_referenced_ids=\"textView,textView2\" /&gt;\n            &lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-native"], "answers": [{"tags": [], "owner": {"reputation": 6188, "user_id": 172690, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3759fa3ad04a0fd20729382956f24a3?s=128&d=identicon&r=PG", "display_name": "Grzegorz Adam Hankiewicz", "link": "https://stackoverflow.com/users/172690/grzegorz-adam-hankiewicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1513684195, "creation_date": 1513684195, "answer_id": 47886362, "question_id": 47864311, "link": "https://stackoverflow.com/questions/47864311/using-c-library-functions-in-kotlin/47886362#47886362", "title": "Using C library functions in kotlin", "body": "<p>What are you replacing <code>$COMPILER_ARGS</code> with? Presumably you pass there the C libraries that define those C references and which are required by your program. For example, for the <a href=\"https://stackoverflow.com/questions/10409032/why-am-i-getting-undefined-reference-to-sqrt-error-even-though-i-include-math/10409061\">sqrt undefined reference you would add '-lm'</a>. Same for anything else that the compiler tells you is missing.</p>\n"}, {"tags": [], "owner": {"reputation": 547, "user_id": 8214382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7qW7kcTPFrw/AAAAAAAAAAI/AAAAAAAAAAs/HZb3KjbYlFs/photo.jpg?sz=128", "display_name": "Nikolay Igotti", "link": "https://stackoverflow.com/users/8214382/nikolay-igotti"}, "is_accepted": false, "score": 1, "last_activity_date": 1521975165, "creation_date": 1521975165, "answer_id": 49475000, "question_id": 47864311, "link": "https://stackoverflow.com/questions/47864311/using-c-library-functions-in-kotlin/49475000#49475000", "title": "Using C library functions in kotlin", "body": "<p><code>compilerOpts = -lm</code> in the <code>.def</code> file shall do the trick.</p>\n"}], "owner": {"reputation": 81, "user_id": 8854949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69965e456e56fbf3e33eb32de7ddcff3?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Bisarahalli", "link": "https://stackoverflow.com/users/8854949/manoj-bisarahalli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521975165, "creation_date": 1513584525, "question_id": 47864311, "link": "https://stackoverflow.com/questions/47864311/using-c-library-functions-in-kotlin", "title": "Using C library functions in kotlin", "body": "<p>I have been trying to follow this <a href=\"https://superkotlin.com/kotlin-native/\" rel=\"nofollow noreferrer\">blog</a> and I have run all the steps successfully but however when I run the last command</p>\n\n<p><code>konanc $COMPILER_ARGS -target macbook src/main/kotlin/logogen.kt -library build/c_interop/png -linkerOpts \"-L/usr/local/lib -lpng\" -o build/bin/logogen</code></p>\n\n<p>I get errors which say sqrt,pow,fopen,fclose are all unresolved</p>\n\n<p><code>error: unresolved reference: sqrt</code></p>\n\n<p>This is what is in my png.def file</p>\n\n<p><code>headers = /usr/local/include/png.h stdio.h stdlib.h string.h math.h</code></p>\n\n<p>Imported it in my logogen.kt file as</p>\n\n<p><code>import png.*</code></p>\n\n<p>Thank you!</p>\n"}, {"tags": ["java", "kotlin", "subtyping"], "comments": [{"owner": {"reputation": 5711, "user_id": 1398418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30a1570b27c1389f4decdd649ebe9d9?s=128&d=identicon&r=PG", "display_name": "Oleg", "link": "https://stackoverflow.com/users/1398418/oleg"}, "edited": false, "score": 0, "creation_date": 1513566715, "post_id": 47861636, "comment_id": 82688242, "body": "Not possible in Java, don&#39;t know about Kotlin."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 5711, "user_id": 1398418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30a1570b27c1389f4decdd649ebe9d9?s=128&d=identicon&r=PG", "display_name": "Oleg", "link": "https://stackoverflow.com/users/1398418/oleg"}, "edited": false, "score": 0, "creation_date": 1513566841, "post_id": 47861636, "comment_id": 82688284, "body": "Oh no, bad news TAT @Oleg"}, {"owner": {"reputation": 3706, "user_id": 2018455, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e75a41fc224930ef1fa9ddcc9c714174?s=128&d=identicon&r=PG", "display_name": "Neil Locketz", "link": "https://stackoverflow.com/users/2018455/neil-locketz"}, "edited": false, "score": 0, "creation_date": 1513567658, "post_id": 47861636, "comment_id": 82688489, "body": "@ice1000 I&#39;ve used this library, and I think it is what you are looking for: <a href=\"https://github.com/h0tk3y/kotlin-monads\" rel=\"nofollow noreferrer\">github.com/h0tk3y/kotlin-monads</a> ;)"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 3706, "user_id": 2018455, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e75a41fc224930ef1fa9ddcc9c714174?s=128&d=identicon&r=PG", "display_name": "Neil Locketz", "link": "https://stackoverflow.com/users/2018455/neil-locketz"}, "edited": false, "score": 0, "creation_date": 1513567793, "post_id": 47861636, "comment_id": 82688514, "body": "@NeilLocketz I opened your link, and see <code>Unstar</code> at the top right corner... LOL"}, {"owner": {"reputation": 3706, "user_id": 2018455, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e75a41fc224930ef1fa9ddcc9c714174?s=128&d=identicon&r=PG", "display_name": "Neil Locketz", "link": "https://stackoverflow.com/users/2018455/neil-locketz"}, "edited": false, "score": 0, "creation_date": 1513567948, "post_id": 47861636, "comment_id": 82688549, "body": "That&#39;s Hilarious! hahaha"}], "answers": [{"comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1513567651, "post_id": 47861750, "comment_id": 82688484, "body": "Ah, many thanks! prpr"}], "tags": [], "owner": {"reputation": 349, "user_id": 7659948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9y5X1.png?s=128&g=1", "display_name": "Glavo", "link": "https://stackoverflow.com/users/7659948/glavo"}, "is_accepted": true, "score": 3, "last_activity_date": 1513567472, "creation_date": 1513567472, "answer_id": 47861750, "question_id": 47861636, "link": "https://stackoverflow.com/questions/47861636/can-we-represent-self-class-in-java-or-kotlin/47861750#47861750", "title": "Can we represent &quot;self class&quot; in Java (or Kotlin)?", "body": "<p>Not possible, but you can do that</p>\n\n<pre><code>interface A&lt;T extends A&gt; { T bla();}\nclass B implements A&lt;B&gt; { @Override public B bla() { return this; } }\nclass C implements A&lt;C&gt; { @Override public C bla() { return this; } }\n</code></pre>\n"}], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "closed_date": 1513582290, "accepted_answer_id": 47861750, "answer_count": 1, "score": 1, "last_activity_date": 1513598330, "creation_date": 1513566445, "last_edit_date": 1513598330, "question_id": 47861636, "link": "https://stackoverflow.com/questions/47861636/can-we-represent-self-class-in-java-or-kotlin", "closed_reason": "Duplicate", "title": "Can we represent &quot;self class&quot; in Java (or Kotlin)?", "body": "<p>I think the question title is a little bit confusing, but I can't find a more precise way to say this.<br>\nI just need a simple code example to tell you what I want.</p>\n\n<p>I have:</p>\n\n<pre><code>// code 1\ninterface A { A bla(); }\nclass B implements A { @Override public B bla() { return this; } }\nclass C implements A { @Override public C bla() { return this; } }\n</code></pre>\n\n<p>But actually, this code will compile too (diff: look at the return type declaration):</p>\n\n<pre><code>// code 2\ninterface A { A bla(); }\nclass B implements A { @Override public A bla() { return this; } }\nclass C implements A { @Override public A bla() { return this; } }\n</code></pre>\n\n<p>I want code 2 to be a type error.<br>\nSay, I want to force every <code>A</code>'s subclass' <code>bla</code> method to return their self, instead of an <code>A</code>.</p>\n\n<p>I think there can be a fake code to represent what I want:</p>\n\n<pre><code>interface A { this.Type bla(); }\n</code></pre>\n\n<p>Just like Haskell's typeclasses:</p>\n\n<pre class=\"lang-hs prettyprint-override\"><code>class Monad (m :: * -&gt; *) where\n  -- here m is restricted to the subclass\n  (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b\n</code></pre>\n\n<p>Is this possible?</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-livedata"], "owner": {"reputation": 946, "user_id": 1194998, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/UcVSS.jpg?s=128&g=1", "display_name": "rdiaz82", "link": "https://stackoverflow.com/users/1194998/rdiaz82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 777, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1513552715, "creation_date": 1513552715, "question_id": 47860404, "link": "https://stackoverflow.com/questions/47860404/recursive-call-on-a-lazy-value-using-livedata-and-observeforever", "title": "Recursive call on a lazy value using LiveData and ObserveForever", "body": "<p>I have the following class structure:</p>\n\n<p>Activity > ViewModel > DataManager > ApiManager</p>\n\n<p>I'm trying to use <code>LiveData</code> to share objects between layers. The DataManager and the ApiManager are kotlin <code>object</code> so they haven't any reference to activities. In order to implement the \"callback\" I'm using <code>observeforever</code> in the DataManager and ApiManager in the following way:</p>\n\n<pre><code>fun doStuff(inParam:String, inParam2:String)LiveData&lt;Pair&lt;String,Boolean&gt;&gt;{\n   var reponse:MutableLiveData&lt;Pair&lt;String,Boolean&gt;&gt; = MutableData()\n   val requestResponse: LiveData&lt;Pair&lt;String, CustomType&gt;&gt;= ApiManager.doStuff(inParam1, inParam2)\n   requestResponse.observeForever {\n        //Do some task here\n        response.value = Pair(\"ok\",true)\n   }\n   return response\n} \n</code></pre>\n\n<p>In practice it works as expected, with this structure I get my activity updated using the <code>LiveData</code>. My problems appear when I export the signed apk. During this process is called the <code>VitalLint</code> and in spite of the signed apk is generated it is showing the following error pointing to the activity when I read the <code>LiveData</code>:</p>\n\n<pre><code>Error:java.lang.IllegalStateException: Recursive call in a lazy value under LockBasedStorageManager@351242ee (&lt;unknown creating class&gt;)\n</code></pre>\n\n<p>The error is associated with this line:</p>\n\n<pre><code>val status:Boolean = either.second\n</code></pre>\n\n<p>I suspect the this could be related with my way to implement the observe with the <code>observeForever</code> but I don't find any other way to observe without having a lifecycle aware component in my object classes. Any ideas?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-lateinit"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1513552030, "post_id": 47860289, "comment_id": 82685403, "body": "Can you share the code?"}], "answers": [{"comments": [{"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1513553437, "post_id": 47860466, "comment_id": 82685698, "body": "Ah thanks - was reading the example wrong - so it is just ::foo.isInitialized()"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 27, "last_activity_date": 1513580699, "last_edit_date": 1513580699, "creation_date": 1513553306, "answer_id": 47860466, "question_id": 47860289, "link": "https://stackoverflow.com/questions/47860289/lateinitvar-cannot-be-resolved-to-use-isinitialized-from-kotlin-1-2-10/47860466#47860466", "title": "lateinitVar cannot be resolved to use isInitialized from Kotlin 1.2.10", "body": "<p>There\u2019s no variable with name <code>lateinitVar</code> in your code, thus the error. Look at the example again: </p>\n\n<pre><code>this::lateinitVar.isInitialized\n</code></pre>\n\n<p>There\u2019s a variable <code>lateinitVar</code> defined in <code>this</code>, which the function is called on. The code snippet in the example can be expanded (little plus sign at the beginning of the listing) and looks as follows:</p>\n\n<pre><code>class Foo {\n    lateinit var lateinitVar: String\n\n    fun initializationLogic() {\n        println(\"isInitialized before assignment: \" + this::lateinitVar.isInitialized)\n        lateinitVar = \"value\"\n        println(\"isInitialized after assignment: \" + this::lateinitVar.isInitialized)    \n\n    }\n}\n</code></pre>\n\n<p>This might make it more clear.</p>\n\n<p>Also, be aware that <code>lateinit</code> can\u2019t be applied to <code>val</code> but only <code>var</code>.</p>\n"}], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6526, "favorite_count": 0, "accepted_answer_id": 47860466, "answer_count": 1, "score": 7, "last_activity_date": 1513580699, "creation_date": 1513551668, "last_edit_date": 1513552484, "question_id": 47860289, "link": "https://stackoverflow.com/questions/47860289/lateinitvar-cannot-be-resolved-to-use-isinitialized-from-kotlin-1-2-10", "title": "lateinitVar cannot be resolved to use isInitialized from Kotlin 1.2.10", "body": "<p>I want to use <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#lateinit-top-level-properties-and-local-variables\" rel=\"noreferrer\">this feature</a></p>\n\n<p>the simplest thing like in the example does not work for me:</p>\n\n<pre><code>lateinit val foo = 1\nval bar = foo::lateinitVar.isInitialized()\n</code></pre>\n\n<p>But I am getting </p>\n\n<pre><code>unresolved reference lateinitVar\n</code></pre>\n\n<p>I am using Kotlin 1.2.10 via gradle in Android-Studio (also the Kotlin 1.2.10 plugin installed there)</p>\n"}, {"tags": ["java", "io", "kotlin", "output"], "comments": [{"owner": {"reputation": 313, "user_id": 188291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2e74cfcc8ac58504f8e47fad5251690?s=128&d=identicon&r=PG", "display_name": "tweitzel", "link": "https://stackoverflow.com/users/188291/tweitzel"}, "edited": false, "score": 2, "creation_date": 1513539472, "post_id": 47858624, "comment_id": 82681984, "body": "Most programs are sending their diagnostics output to STDERR instead of STDOUT (like <code>java -version</code>). Have you tried reading from there: <code>val buf = p.errorStream</code>?"}, {"owner": {"reputation": 91, "user_id": 8325398, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/85deb2123a4c47323167af0a52b603f6?s=128&d=identicon&r=PG&f=1", "display_name": "Baptiste", "link": "https://stackoverflow.com/users/8325398/baptiste"}, "reply_to_user": {"reputation": 313, "user_id": 188291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2e74cfcc8ac58504f8e47fad5251690?s=128&d=identicon&r=PG", "display_name": "tweitzel", "link": "https://stackoverflow.com/users/188291/tweitzel"}, "edited": false, "score": 0, "creation_date": 1513539981, "post_id": 47858624, "comment_id": 82682158, "body": "For java -version reading the errorStream work. But when I use &quot;java -jar myfile.jar someargs&quot; It didn&#39;t work..."}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1513775497, "post_id": 47858624, "comment_id": 82780629, "body": "Do you know if <code>myfile.jar</code> prints to stderr or stdout? You should consider using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> instead of <code>Runtime.exec</code>, because then you can choose to redirect stderr to stdout so you only have to read from the 1 stream."}], "answers": [{"tags": [], "owner": {"reputation": 6797, "user_id": 246622, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3b4d046f78bd2fbc54e4eacd2d746107?s=128&d=identicon&r=PG", "display_name": "tomsv", "link": "https://stackoverflow.com/users/246622/tomsv"}, "is_accepted": false, "score": 0, "last_activity_date": 1590839104, "creation_date": 1590839104, "answer_id": 62101937, "question_id": 47858624, "link": "https://stackoverflow.com/questions/47858624/read-output-from-exec-kotlin/62101937#62101937", "title": "Read output from exec kotlin", "body": "<pre><code>    val p = Runtime.getRuntime().exec(command)\n    p.waitFor()\n    val stdOut = IOUtils.toString(p.inputStream, Charsets.UTF_8)\n    val stdErr = IOUtils.toString(p.errorStream, Charsets.UTF_8)\n</code></pre>\n\n<p>using <code>org.apache.commons.io</code> for <code>IOUtils</code></p>\n"}], "owner": {"reputation": 91, "user_id": 8325398, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/85deb2123a4c47323167af0a52b603f6?s=128&d=identicon&r=PG&f=1", "display_name": "Baptiste", "link": "https://stackoverflow.com/users/8325398/baptiste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1551, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1590839104, "creation_date": 1513538615, "question_id": 47858624, "link": "https://stackoverflow.com/questions/47858624/read-output-from-exec-kotlin", "title": "Read output from exec kotlin", "body": "<p>I need to exec a jar file and redirect the output from my executed process to the output of my main process.</p>\n\n<p>I using the following code :</p>\n\n<pre><code>val command = \"java.exe -version\"\nval p = Runtime.getRuntime().exec(command)\nval buf = p.getInputStream()\nval inputAsString = buf.bufferedReader().use { it.readText() }\nprintln(inputAsString)\n</code></pre>\n\n<p>I have no output...</p>\n\n<p>I have tested this code :</p>\n\n<pre><code>val command = \"cmd /c chcp\"\nval p = Runtime.getRuntime().exec(command)\nval sc = Scanner(p.inputStream)\nprintln(sc.nextLine())\nsc.close()\n</code></pre>\n\n<p>I have an output but when I replace \"cmd /c chcp\" I have an error...</p>\n\n<p>How can I read the output of \"test.jar\" which write \"ok\" for example ?</p>\n"}, {"tags": ["generics", "math", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1513544525, "post_id": 47858718, "comment_id": 82683526, "body": "Hi, thanks for your answer. However, i have an bug in my method. Maybe you can help? I&#39;ve updated my question"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1513546176, "post_id": 47858718, "comment_id": 82683980, "body": "Thanks for checking, please see my updated question(update 2)"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1513547367, "post_id": 47858718, "comment_id": 82684298, "body": "Aaah, OK. Thanks. Sorry, i am a bit tired"}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 3, "last_activity_date": 1513541692, "last_edit_date": 1513541692, "creation_date": 1513539319, "answer_id": 47858718, "question_id": 47858584, "link": "https://stackoverflow.com/questions/47858584/kotlin-count-standard-deviation-with-generics/47858718#47858718", "title": "Kotlin count standard deviation with generics", "body": "<p>There is no nice way to genericise over different numeric types in the way that you're imagining; <code>Int</code>, <code>Double</code> etc. only extend <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-number/index.html\" rel=\"nofollow noreferrer\"><code>Number</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-comparable/index.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>, neither of which defines <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\"><code>operator plus</code></a>.</p>\n\n<p>However, in your particular use case, you could just take advantage of the fact that your accumulator variables are always <code>Double</code>:</p>\n\n<pre><code>fun &lt;T : Number&gt; calculateSD(numArray: List&lt;T&gt;): Double {\n    //   ^^^^^^\n\n    // ... code code code ...\n\n    for (num in numArray) {\n        sum += num.toDouble()  // This *is* available via Number interface\n    }\n\n    // ... code code code ...\n}\n</code></pre>\n\n<hr>\n\n<p>FWIW, you could get rid of the explicit loops thus:</p>\n\n<pre><code>val sum = numArray.sumByDouble { it.toDouble() }\n</code></pre>\n\n<p>or thus:</p>\n\n<pre><code>val sum = numArray\n    .map { it.toDouble() }\n    .sum()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 793, "user_id": 3742608, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/oiDRc.jpg?s=128&g=1", "display_name": "Joost Verbraeken", "link": "https://stackoverflow.com/users/3742608/joost-verbraeken"}, "is_accepted": false, "score": 0, "last_activity_date": 1612112514, "creation_date": 1612112514, "answer_id": 65981853, "question_id": 47858584, "link": "https://stackoverflow.com/questions/47858584/kotlin-count-standard-deviation-with-generics/65981853#65981853", "title": "Kotlin count standard deviation with generics", "body": "<p>As @Oliver Charlesworth already answered, what you want is not possible. However, you can write your code <strong>much more concise</strong>:</p>\n<pre><code>private fun IntArray.std(): Double {\n    val std = this.fold(0.0) { a, b -&gt; a + (b-this.average()).pow(2) }\n    return Math.sqrt(std / 10)\n}\n\nprivate fun FloatArray.std(): Double {\n    val std = this.fold(0.0) { a, b -&gt; a + (b-this.average()).pow(2) }\n    return Math.sqrt(std / 10)\n}\n\nprivate fun DoubleArray.std(): Double {\n    val std = this.fold(0.0) { a, b -&gt; a + (b-this.average()).pow(2) }\n    return Math.sqrt(std / 10)\n}\n</code></pre>\n<p>And you can use it by calling:</p>\n<pre><code>val numArray1 = intArrayOf(6, 1, 1, 0,  1,  9,  0,  9,  6,  6)\nval SD1 = numArray1.std()\nval numArray2 = floatArrayOf(0.6f, 1.0f, 1.0f,  0.8f,   1.0f,   0.9f,   0.0f,   0.9f,   0.6f,   0.6f)\nval SD2 = numArray2.std()\nval numArray3 = doubleArrayOf(0.6, 1.0, 1.0,    0.8,    1.0,    0.9,    0.0,    0.9,    0.6,    0.6)\nval SD3 = numArray3.std()\n\nprintln(&quot;Standard Deviation = $SD1&quot;)\nprintln(&quot;Standard Deviation = $SD2&quot;)\nprintln(&quot;Standard Deviation = $SD3&quot;)\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 47858718, "answer_count": 2, "score": 0, "last_activity_date": 1612112514, "creation_date": 1513538310, "last_edit_date": 1513547594, "question_id": 47858584, "link": "https://stackoverflow.com/questions/47858584/kotlin-count-standard-deviation-with-generics", "title": "Kotlin count standard deviation with generics", "body": "<p>I want to write a method which counts the standard deviation from provided numbers.</p>\n\n<p>Here it is how it looks like:</p>\n\n<pre><code>fun calculateSD(numArray: List&lt;Int&gt;): Double {\nvar sum = 0.0\nvar standardDeviation = 0.0\n\nfor (num in numArray) {\n    sum += num\n}\n\nval mean = sum / numArray.size\n\nfor (num in numArray) {\n    standardDeviation += Math.pow(num - mean, 2.0)\n}\n\nval divider = numArray.size - 1\n\nreturn Math.sqrt(standardDeviation / divider)\n}\n</code></pre>\n\n<p>However, i want this also work for list of Double, Float etc.</p>\n\n<p>So it need to use generics:</p>\n\n<pre><code>fun &lt;T&gt;calculateSD(numArray: List&lt;T&gt;): Double {\nvar sum = 0.0\nvar standardDeviation = 0.0\n\nfor (num in numArray) {\n    sum += num\n}\n\nval mean = sum / numArray.size\n\nfor (num in numArray) {\n    standardDeviation += Math.pow(num - mean, 2.0)\n}\n\nval divider = numArray.size - 1\n\nreturn Math.sqrt(standardDeviation / divider)\n}\n</code></pre>\n\n<p>But when i try to do this i get and Android Studio IDE error, which underlines the '+=' operator and the '-' operator.</p>\n\n<p>How can i make it work?</p>\n"}, {"tags": ["kotlin", "kotlin-js-interop"], "comments": [{"owner": {"reputation": 704, "user_id": 2192545, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/mYRd5.png?s=128&g=1", "display_name": "Zackline", "link": "https://stackoverflow.com/users/2192545/zackline"}, "edited": false, "score": 0, "creation_date": 1513608322, "post_id": 47858423, "comment_id": 82706812, "body": "Please provide a comment on how this question could be improved or whether sharing knowledge QA style is not appreciated instead of just downvoting."}], "answers": [{"tags": [], "owner": {"reputation": 704, "user_id": 2192545, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/mYRd5.png?s=128&g=1", "display_name": "Zackline", "link": "https://stackoverflow.com/users/2192545/zackline"}, "is_accepted": true, "score": 2, "last_activity_date": 1513537083, "creation_date": 1513537083, "answer_id": 47858424, "question_id": 47858423, "link": "https://stackoverflow.com/questions/47858423/kotlinjs-unresolved-reference-element-style/47858424#47858424", "title": "KotlinJS unresolved reference element.style", "body": "<p>The <code>Element</code> needs to be cast to the more specific <code>HTMLElement</code> type:</p>\n\n<pre><code>val button = document.createElement(\"button\") as HTMLElement\nbutton.style.width = \"50px\"\n</code></pre>\n"}], "owner": {"reputation": 704, "user_id": 2192545, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/mYRd5.png?s=128&g=1", "display_name": "Zackline", "link": "https://stackoverflow.com/users/2192545/zackline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 47858424, "answer_count": 1, "score": 0, "last_activity_date": 1513537083, "creation_date": 1513537083, "question_id": 47858423, "link": "https://stackoverflow.com/questions/47858423/kotlinjs-unresolved-reference-element-style", "title": "KotlinJS unresolved reference element.style", "body": "<p>I want to change the style of an element created using <code>document.createElement(\"button\")</code>.</p>\n\n<p>I tried using:</p>\n\n<pre><code>element.style.width = \"50px\"\n</code></pre>\n\n<p>However, the style field cannot be found.</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1513536188, "post_id": 47858284, "comment_id": 82681024, "body": "What is myList?"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 7, "creation_date": 1513536311, "post_id": 47858284, "comment_id": 82681062, "body": "It&#39;s not suggesting <code>get()[0]</code>. That shouldn&#39;t compile. It&#39;s suggesting <code>myList[0]</code>. I&#39;ve also tested that IntelliJ&#39;s quick-fix replaces it with that."}], "answers": [{"comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1513537854, "post_id": 47858364, "comment_id": 82681483, "body": "Well, strangely, <a href=\"https://stackoverflow.com/questions/47579524/strange-java-lang-classcastexception-when-using-call/47579973#47579973\">it isn&#39;t <i>exactly</i> the same</a> (at least for arrays)."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 12, "last_activity_date": 1552214136, "last_edit_date": 1552214136, "creation_date": 1513536634, "answer_id": 47858364, "question_id": 47858284, "link": "https://stackoverflow.com/questions/47858284/kotlin-index-operator-0-vs-get0/47858364#47858364", "title": "Kotlin Index Operator [0] vs get(0)", "body": "<p>You can replace <code>myList.get(0)</code> with <code>myList[0]</code>. It\u2019s compiled down to basically the same, but the index operator is more intuitive and recommended as per IntelliJ itself for instance. You can replace <code>get</code> calls since <code>get</code> is defined as an <code>operator</code>, which can, <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">by convention</a>, be replaced with the index operator.</p>\n"}], "owner": {"reputation": 8690, "user_id": 592898, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/34d7ae9644180567ca551ea126e0ce1f?s=128&d=identicon&r=PG", "display_name": "Frederic Close", "link": "https://stackoverflow.com/users/592898/frederic-close"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2442, "favorite_count": 1, "accepted_answer_id": 47858364, "answer_count": 1, "score": 1, "last_activity_date": 1552214136, "creation_date": 1513536024, "last_edit_date": 1513580809, "question_id": 47858284, "link": "https://stackoverflow.com/questions/47858284/kotlin-index-operator-0-vs-get0", "title": "Kotlin Index Operator [0] vs get(0)", "body": "<p>when my code looks like</p>\n\n<pre><code>myList.get(0)\n</code></pre>\n\n<p>Intellij suggest me to replace it with </p>\n\n<pre><code>myList.get()[0]\n</code></pre>\n\n<p>what's the advantage ? </p>\n\n<p><a href=\"https://i.stack.imgur.com/A0ddJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A0ddJ.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Update</strong> ... sorry for asking too fast\ncode was actually </p>\n\n<pre><code>myList.get().get(0)\n</code></pre>\n\n<p>myList was holding an <strong>optional</strong> and it all make senses now</p>\n"}, {"tags": ["android", "kotlin", "converter", "android-databinding"], "answers": [{"tags": [], "owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "is_accepted": true, "score": 3, "last_activity_date": 1513590777, "creation_date": 1513590777, "answer_id": 47865798, "question_id": 47857875, "link": "https://stackoverflow.com/questions/47857875/how-to-make-a-two-way-converter-in-kotlin-working-in-java/47865798#47865798", "title": "How to make a Two-way Converter in Kotlin? (Working in java)", "body": "<p>In Kotlin <code>object</code> methods not truly <code>static</code>. For make it static you need to add annotation <code>@JvmStatic</code> for this methods:</p>\n\n<pre><code>object Converters {\n\n    @JvmStatic\n    fun indexFromModel(list: ObservableList&lt;GrupoDoPrincipal&gt;, model: GrupoDoPrincipal): Int {\n        return list.indexOfFirst { it?.id == model?.id }\n    }\n\n    @JvmStatic\n    @InverseMethod(\"indexFromModel\")\n    fun indexToModel(list: ObservableList&lt;GrupoDoPrincipal&gt;, index: Int): GrupoDoPrincipal {\n        return index.let { list[it] }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 774, "user_id": 858257, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f03aa5f9018dfc97f5d54d187a8c4a35?s=128&d=identicon&r=PG", "display_name": "melanke", "link": "https://stackoverflow.com/users/858257/melanke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 969, "favorite_count": 0, "accepted_answer_id": 47865798, "answer_count": 1, "score": 3, "last_activity_date": 1513590777, "creation_date": 1513533038, "last_edit_date": 1513545004, "question_id": 47857875, "link": "https://stackoverflow.com/questions/47857875/how-to-make-a-two-way-converter-in-kotlin-working-in-java", "title": "How to make a Two-way Converter in Kotlin? (Working in java)", "body": "<p>I am getting this error:</p>\n\n<blockquote>\n  <p>Error:(32, 50) cannot find method indexFromModel(android.databinding.ObservableList&lt;br.com.martinlabs.usecase.model.GrupoDoPrincipal&gt;, br.com.martinlabs.usecase.model.GrupoDoPrincipal) in class br.com.martinlabs.usecase.viewtools.Converters </p>\n</blockquote>\n\n<p>But I have this methods on <code>Converters</code>: (I have tried with a class with companion object inside it too)</p>\n\n<pre><code>object Converters {\n\n    fun indexFromModel(list: ObservableList&lt;GrupoDoPrincipal&gt;, model: GrupoDoPrincipal): Int {\n        return list.indexOfFirst { it?.id == model?.id }\n    }\n\n    @InverseMethod(\"indexFromModel\")\n    fun indexToModel(list: ObservableList&lt;GrupoDoPrincipal&gt;, index: Int): GrupoDoPrincipal {\n        return index.let { list[it] }\n    }\n\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&lt;Spinner\n    android:selectedItemPosition=\"@={Converters.indexFromModel(vm.allGrupoDoPrincipal, vm.principal.grupoDoPrincipal)}\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"/&gt;\n</code></pre>\n\n<hr>\n\n<p>This methods works on Java:</p>\n\n<pre><code>public static int indexFromModel(ObservableList&lt;GrupoDoPrincipal&gt; list, GrupoDoPrincipal model) {\n    for (int i = 0; i &lt; list.size(); i++) {\n        if (list.get(i).getId() == model.getId()) {\n            return i;\n        }\n    }\n\n    return -1;\n}\n\n@InverseMethod(\"indexFromModel\")\npublic static GrupoDoPrincipal indexToModel(ObservableList&lt;GrupoDoPrincipal&gt; list, int index) {\n    return list.get(index);\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6721, "user_id": 3199927, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c899baa07af6e20669ac8867f08a7ddc?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3199927/tom"}, "edited": false, "score": 0, "creation_date": 1513533844, "post_id": 47857935, "comment_id": 82680331, "body": "Noted. I had made <code>apply</code> abstract and then overridden it in the base class with <code>when</code> matching. It&#39;s an okay solution, just was hoping to get rid of <code>when</code> in the derived classes."}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 2, "last_activity_date": 1513534963, "last_edit_date": 1513534963, "creation_date": 1513533383, "answer_id": 47857935, "question_id": 47857832, "link": "https://stackoverflow.com/questions/47857832/delegating-to-derived-class-methods-via-dynamic-dispatch/47857935#47857935", "title": "Delegating to derived class methods via dynamic dispatch", "body": "<p>Because dynamic dispatch only applies to <code>this</code>, i.e. to method <em>overrides</em>.  It doesn't apply to the arguments of a method; method <em>overloads</em> are resolved statically, at compile time.</p>\n\n<p>The problem you're facing is traditionally solved with things like the <a href=\"https://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\"><em>visitor pattern</em></a>.  An alternative is performing a lookup based on the runtime type of the argument, which Kotlin allows you to do more elegantly via a <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\"><code>when</code> expression</a>.</p>\n"}], "owner": {"reputation": 6721, "user_id": 3199927, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c899baa07af6e20669ac8867f08a7ddc?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3199927/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 47857935, "answer_count": 1, "score": 0, "last_activity_date": 1513534963, "creation_date": 1513532642, "last_edit_date": 1513534152, "question_id": 47857832, "link": "https://stackoverflow.com/questions/47857832/delegating-to-derived-class-methods-via-dynamic-dispatch", "title": "Delegating to derived class methods via dynamic dispatch", "body": "<p>Given the below scenario, where there is some base class that should simply delegate to the derived classes, why is it that the two <code>apply()</code> methods in the derived classes are never called?</p>\n\n<p>To demonstrate: in the <code>main</code> function, I will call <code>apply</code> with two events. In the abstract class, I will <code>apply</code> both of these events. There is a generic <code>apply(Event)</code> function in the base class, but it should be ignored and via dynamic dispatch go to the individual <code>apply(EventOne)</code> and <code>apply(EventTwo)</code> methods in the derived class.</p>\n\n<p>I've also tried this with each individual <code>apply</code> method returning itself, and the <code>applyFromHistory</code> function using a <code>fold</code> instead, but got the same result.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val subject = SomeAggregate()\n\n    subject.applyFromHistory(listOf(\n        EventOne(123),\n        EventTwo(\"foobar\")\n    ))\n}\n\nsealed class Event\ndata class EventOne(val id: Int) : Event()\ndata class EventTwo(val content: String) : Event()\n\nabstract class AggregateRoot(\n    private val events : MutableList&lt;Event&gt; = mutableListOf()\n) {\n\n    fun applyFromHistory(history: List&lt;Event&gt;) {\n        history.forEach { apply(it) }\n    }\n\n    fun apply(event: Event) { /* does nothing */ }\n}\n\nclass SomeAggregate(var id: Int = 0, var content: String = \"\") : AggregateRoot() {\n    fun apply(event: EventOne) {\n        id = event.id\n    }\n\n    fun apply(event: EventTwo) {\n        content = event.content\n    }\n}\n</code></pre>\n\n<p>I was hoping to get away from:</p>\n\n<pre><code>abstract class AggregateRoot(... {\n\n   ...\n\n   abstract fun apply(event: Event)\n}\n\nclass SomeAggregate(... : AggregateRoot() {\n\n   ...\n\n   override fun apply(event: Event) {\n       when(event) {\n           is EventOne -&gt; apply(event)\n           is EventTwo -&gt; apply(event)\n       }\n   }\n\n   ...\n}\n</code></pre>\n"}, {"tags": ["android", "git", "kotlin", "gitignore"], "comments": [{"owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 1, "creation_date": 1513526450, "post_id": 47856864, "comment_id": 82677942, "body": "It is pretty much the same gitignore file for kotlin than for java"}, {"owner": {"reputation": 2450, "user_id": 4071001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15fe366ba78ef16d877f2ff9f6f094e5?s=128&d=identicon&r=PG&f=1", "display_name": "lcnicolau", "link": "https://stackoverflow.com/users/4071001/lcnicolau"}, "edited": false, "score": 0, "creation_date": 1585497243, "post_id": 47856864, "comment_id": 107773893, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/16736856/what-should-be-in-my-gitignore-for-an-android-studio-project\">What should be in my .gitignore for an Android Studio project?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "reply_to_user": {"reputation": 6835, "user_id": 6021597, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/iyl6H.jpg?s=128&g=1", "display_name": "Ayush Gupta", "link": "https://stackoverflow.com/users/6021597/ayush-gupta"}, "edited": false, "score": 0, "creation_date": 1513528343, "post_id": 47857077, "comment_id": 82678557, "body": "It has a lot of unnecessary stuff, like Jira and Mongo files. If you are not using them, I recommend that you removing it. But besides it, this gitignore is really good, it has everything that I remember it needs."}], "tags": [], "owner": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "is_accepted": true, "score": -1, "last_activity_date": 1513527821, "creation_date": 1513527821, "answer_id": 47857077, "question_id": 47856864, "link": "https://stackoverflow.com/questions/47856864/ideal-android-studio-kotlin-gitignore/47857077#47857077", "title": "Ideal Android Studio Kotlin gitignore", "body": "<p>There are no big differences between a gitignore from android with java to android with kotlin.</p>\n\n<p>The differences are in the build directory, so since you should have a build entry in your .gitignore, this one will be enough.</p>\n\n<p>One possible difference is if you have an entry like:</p>\n\n<pre><code>!**/src/java/build\n!**/test/java/build\n</code></pre>\n\n<p>Then you will need to update it, but a better one can be:</p>\n\n<pre><code>!**/src/**/build\n!**/test/**/build\n</code></pre>\n\n<p>If you don't have any .gitignore in your current repo, you can check this repo:</p>\n\n<p><a href=\"https://github.com/JetBrains/kotlin-examples/tree/master/gradle\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin-examples/tree/master/gradle</a></p>\n\n<p>It has a lot of examples of projects with android and kotlin and each one has a .gitignore that you can copy.</p>\n"}], "owner": {"reputation": 6835, "user_id": 6021597, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/iyl6H.jpg?s=128&g=1", "display_name": "Ayush Gupta", "link": "https://stackoverflow.com/users/6021597/ayush-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4347, "favorite_count": 0, "accepted_answer_id": 47857077, "answer_count": 1, "score": 8, "last_activity_date": 1513527821, "creation_date": 1513526317, "question_id": 47856864, "link": "https://stackoverflow.com/questions/47856864/ideal-android-studio-kotlin-gitignore", "title": "Ideal Android Studio Kotlin gitignore", "body": "<p>I want to commit my Android App code to a git repository. For this purpose I require a proper .gitignore file so that I can avoid commiting unnecessary and bloating stuff to the repo. </p>\n\n<p>So I was wondering if anyone could provide me a good one for a <strong>kotlin</strong> project.</p>\n\n<p>I have went through some questions here on StackOverflow, but those .gitignore are JAVA Project oriented, and I want one with <strong>kotlin</strong> orientation.</p>\n"}, {"tags": ["listview", "firebase", "arraylist", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1513524344, "post_id": 47856535, "comment_id": 82677267, "body": "By ignoring <code>onCancelled</code> you could be hiding the reason why this code doesn&#39;t work. <code>throw databaseError.toException()</code> is a simple way to prevent hiding security problems."}], "answers": [{"tags": [], "owner": {"reputation": 1223, "user_id": 4897420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153375565148586/picture?type=large", "display_name": "Kaloglu", "link": "https://stackoverflow.com/users/4897420/kaloglu"}, "is_accepted": false, "score": 0, "last_activity_date": 1513621365, "last_edit_date": 1513621365, "creation_date": 1513620954, "answer_id": 47874205, "question_id": 47856535, "link": "https://stackoverflow.com/questions/47856535/firebase-listview-shows-blank-page/47874205#47874205", "title": "firebase listview shows blank page", "body": "<p>If you want a child collection you can use ValuEventListener.</p>\n\n<p>Or use like that...</p>\n\n<pre><code>override fun onChildAdded(dataSnapShot: DataSnapshot?, p1: String?) {\n    dataSnapShot?.getValue&lt;Model&gt;(Model::class.java)?.let { model -&gt; \n        modelList.add(model) \n        adaptr.notifyItemInserted(modelList.size())\n    }\n}\n\n\noverride fun onChildRemoved(dataSnapShot: DataSnapshot?) {\n    dataSnapShot?.getValue&lt;Model&gt;(Model::class.java)?.let { model -&gt; \n        modelList.remove(model)\n        adaptr.notifyItemRemoved(modelList.size())\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "is_accepted": false, "score": 0, "last_activity_date": 1513686772, "creation_date": 1513686772, "answer_id": 47887145, "question_id": 47856535, "link": "https://stackoverflow.com/questions/47856535/firebase-listview-shows-blank-page/47887145#47887145", "title": "firebase listview shows blank page", "body": "<p>use this code for getting value from Database.</p>\n\n<pre><code> val reference = database.getReference.child(\"user\")\n    reference.addValueEventListener(object : ValueEventListener {\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n          var s: String = dataSnapshot.value as String\n            Log.e(TAG, \"Data : value\"+s)\n        }\n\n        override fun onCancelled(databaseError: DatabaseError) {\n            Log.e(TAG, \"onCancelled:kkkkkkk \")\n        }\n    })\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1513686772, "creation_date": 1513524099, "question_id": 47856535, "link": "https://stackoverflow.com/questions/47856535/firebase-listview-shows-blank-page", "title": "firebase listview shows blank page", "body": "<p>My app is showing blank page after retrieving data from firebase in arraylist.\nbelow is my code which does not show any error on run</p>\n\n<pre><code>class Main4Activity : AppCompatActivity() {\n        private lateinit var data : ListView\n       lateinit var arraylst:ArrayList&lt;String&gt;\n    lateinit var ref :DatabaseReference\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main4)\n        data =findViewById(R.id.abcd)\n        arraylst = arrayListOf()\n         val  ref = FirebaseDatabase.getInstance().getReference().child(\"User\")\n         val adptr = ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1,arraylst)\n        data.adapter = adptr\n        ref.addChildEventListener(object :ChildEventListener{\n            override fun onCancelled(p0: DatabaseError?) {}\n            override fun onChildMoved(p0: DataSnapshot?, p1: String?) {}\n            override fun onChildChanged(p0: DataSnapshot?, p1: String?) {}\n\n            override fun onChildAdded(p0: DataSnapshot?, p1: String?) {\n\n                if (p0!!.exists()) {\n                    for (h in p0.children) {\n                        adptr.clear()\n                        val rdata = h.getValue(String::class.java)\n                        arraylst.add(rdata!!)\n                        adptr.notifyDataSetChanged()\n\n                    }\n                }\n            }\n              override fun onChildRemoved(p0: DataSnapshot?) {}\n\n        })\n</code></pre>\n\n<p>the app does not show any error but listview items are blank</p>\n"}, {"tags": ["android", "kotlin", "fragment", "ontouchlistener", "touch-event"], "answers": [{"tags": [], "owner": {"reputation": 1223, "user_id": 4897420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153375565148586/picture?type=large", "display_name": "Kaloglu", "link": "https://stackoverflow.com/users/4897420/kaloglu"}, "is_accepted": false, "score": 0, "last_activity_date": 1513619020, "creation_date": 1513619020, "answer_id": 47873749, "question_id": 47854535, "link": "https://stackoverflow.com/questions/47854535/how-i-can-do-disable-ontouch-in-kotlin/47873749#47873749", "title": "How I can do disable onTouch in Kotlin", "body": "<p>Try to add a listener as AnimationListener.\n<em>Example:</em></p>\n\n<pre><code>Mechanics.addAnimationListener(new Animation.AnimationListener() {\n    @Override\n    public void onAnimationStart(Animation animation) {\n        yourView.setEnabled(false);\n    }\n\n    @Override\n    public void onAnimationEnd(Animation animation) {\n        yourView.setEnabled(true);\n    }\n\n    @Override\n    public void onAnimationRepeat(Animation animation) {\n\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 7809349, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-xxj8AcvmCrU/AAAAAAAAAAI/AAAAAAAAF_o/XRDsjNGm0QE/photo.jpg?sz=128", "display_name": "manwhotrycoding", "link": "https://stackoverflow.com/users/7809349/manwhotrycoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 271, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513619020, "creation_date": 1513509483, "question_id": 47854535, "link": "https://stackoverflow.com/questions/47854535/how-i-can-do-disable-ontouch-in-kotlin", "title": "How I can do disable onTouch in Kotlin", "body": "<p>I have a fragment <code>class FlipFragment : Fragment()</code>\nwhich include CircleShape. When I press to the CircleShape , I call method which change resource of it with some animation. I need to do that , when animation is working - onTouch is disable. How I can do it?</p>\n\n<pre><code>class FlipFragment : Fragment() {\n  private var layout = R.layout.view_flip\n  private lateinit var CircleShape: ImageView\n\n\n  override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n      savedInstanceState: Bundle?): View? {\n    var view: View = inflater!!.inflate(layout, container, false)\n    CircleShape = view.findViewById&lt;ImageView&gt;(R.id.fShapeView)\n    Log.i(\"TAG\", CircleShape.isClickable.toString())\n    CircleShape.setOnClickLiastener { mechanics() }\n\n    return view\n  }\n   private fun mechanics() {\n    var mechanics = Mechanics(context, this.CircleShape, R.drawable.front_circle,\n        R.drawable.back_circle,\n        fCircleShapeView)\n    mechanics.animation()   ///when this method is working - onTouch should be disable\n    mechanics.random()\n\n  }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-annotations", "anko"], "comments": [{"owner": {"reputation": 11451, "user_id": 747412, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/de6e669bbd75c4d1f5467b2de159798b?s=128&d=identicon&r=PG", "display_name": "WonderCsabo", "link": "https://stackoverflow.com/users/747412/wondercsabo"}, "edited": false, "score": 0, "creation_date": 1550260830, "post_id": 47854418, "comment_id": 96218298, "body": "Are you starting the generated <code>LoginActivity_</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7206283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LmcjqJG_7X4/AAAAAAAAAAI/AAAAAAAACCI/7wlLKQCTfj4/photo.jpg?sz=128", "display_name": "Edwin Bello", "link": "https://stackoverflow.com/users/7206283/edwin-bello"}, "edited": false, "score": 0, "creation_date": 1513509248, "post_id": 47854441, "comment_id": 82673049, "body": "Can there be another tag of  <code>android-annotation</code>  like <code>@OnCreate</code> to do that ?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 33, "user_id": 7206283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LmcjqJG_7X4/AAAAAAAAAAI/AAAAAAAACCI/7wlLKQCTfj4/photo.jpg?sz=128", "display_name": "Edwin Bello", "link": "https://stackoverflow.com/users/7206283/edwin-bello"}, "edited": false, "score": 0, "creation_date": 1513509614, "post_id": 47854441, "comment_id": 82673122, "body": "Not as far as I know. Could be in a later version though"}, {"owner": {"reputation": 4568, "user_id": 8712097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hevmE.jpg?s=128&g=1", "display_name": "Tom Aranda", "link": "https://stackoverflow.com/users/8712097/tom-aranda"}, "edited": false, "score": 1, "creation_date": 1515555489, "post_id": 47854441, "comment_id": 83339899, "body": "@Zoe. I think your answer is okay, but it could be improved by providing a code sample of exactly how to override <code>onCreate</code>.  Still I would not have down voted this answer."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 4568, "user_id": 8712097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hevmE.jpg?s=128&g=1", "display_name": "Tom Aranda", "link": "https://stackoverflow.com/users/8712097/tom-aranda"}, "edited": false, "score": 0, "creation_date": 1515563087, "post_id": 47854441, "comment_id": 83341859, "body": "@tom the downvote came ages ago, and I have no intention of blaming anyone. And overriding isn&#39;t rocket science, just adding it with the annotation is enough. But sure, I&#39;ll add it"}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1513676591, "last_edit_date": 1513676591, "creation_date": 1513508734, "answer_id": 47854441, "question_id": 47854418, "link": "https://stackoverflow.com/questions/47854418/how-can-i-display-my-anko-view-without-calling-overriding-oncreate/47854441#47854441", "title": "How can i display my anko view without calling overriding onCreate?", "body": "<p>You have to override <code>onCreate</code> as per the activity lifecycle.</p>\n\n<p><img src=\"https://3.bp.blogspot.com/-Xno3EmEEBLw/USGI775GtfI/AAAAAAAAGtE/r6ps1Adsu10/s1600/android_activity_lifecycle.png\" alt=\"Activity lifecycle\"></p>\n"}], "owner": {"reputation": 33, "user_id": 7206283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LmcjqJG_7X4/AAAAAAAAAAI/AAAAAAAACCI/7wlLKQCTfj4/photo.jpg?sz=128", "display_name": "Edwin Bello", "link": "https://stackoverflow.com/users/7206283/edwin-bello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513676591, "creation_date": 1513508609, "question_id": 47854418, "link": "https://stackoverflow.com/questions/47854418/how-can-i-display-my-anko-view-without-calling-overriding-oncreate", "title": "How can i display my anko view without calling overriding onCreate?", "body": "<p>This is a my view activity<code>LoginActivity</code>. <code>LoginActivityUI</code> is my anko <code>AnkoComponent</code> for the view to be shown.</p>\n\n<pre><code>@EActivity//not using R.layout.activity_login \nopen class LoginActivity : BaseActivity() {\n\n    //Anko view injection with dagger2\n    @Inject lateinit var ui: LoginActivityUI\n\n    //Forced to do this and its not neat\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        ui.setContentView(this)\n    }\n\n\n    @AfterViews\n    fun afterView() {\n        //Never called\n        ui.setContentView(this)\n    }\n\n    @AfterInject\n    fun afterInject() {\n\n        //Called but ui not initialized\n        ui.setContentView(this)\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "broadcastreceiver", "wifip2p"], "comments": [{"owner": {"reputation": 1349, "user_id": 977855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myTUS.jpg?s=128&g=1", "display_name": "vinS", "link": "https://stackoverflow.com/users/977855/vins"}, "edited": false, "score": 0, "creation_date": 1513493305, "post_id": 47852849, "comment_id": 82670016, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19239721/creating-p2p-connections-with-wi-fi-on-android\">Creating P2P Connections with Wi-Fi on Android</a>"}, {"owner": {"reputation": 97, "user_id": 6587836, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X5qkb.jpg?s=128&g=1", "display_name": "tonystark", "link": "https://stackoverflow.com/users/6587836/tonystark"}, "reply_to_user": {"reputation": 1349, "user_id": 977855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myTUS.jpg?s=128&g=1", "display_name": "vinS", "link": "https://stackoverflow.com/users/977855/vins"}, "edited": false, "score": 0, "creation_date": 1513493396, "post_id": 47852849, "comment_id": 82670027, "body": "No, I used that answer to tackle the problem of defining a Channel object. But, I am stuck after that point, where I need to create a BroadcastReceiver class."}, {"owner": {"reputation": 1349, "user_id": 977855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myTUS.jpg?s=128&g=1", "display_name": "vinS", "link": "https://stackoverflow.com/users/977855/vins"}, "edited": false, "score": 0, "creation_date": 1513493445, "post_id": 47852849, "comment_id": 82670034, "body": "There are number of existing questions on this topic. Have you tried all?"}, {"owner": {"reputation": 97, "user_id": 6587836, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X5qkb.jpg?s=128&g=1", "display_name": "tonystark", "link": "https://stackoverflow.com/users/6587836/tonystark"}, "reply_to_user": {"reputation": 1349, "user_id": 977855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myTUS.jpg?s=128&g=1", "display_name": "vinS", "link": "https://stackoverflow.com/users/977855/vins"}, "edited": false, "score": 0, "creation_date": 1513493569, "post_id": 47852849, "comment_id": 82670051, "body": "I read them, they dealt mostly with different errors people got after creating a connection. But, I&#39;m unable to create it in the first place."}], "owner": {"reputation": 97, "user_id": 6587836, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X5qkb.jpg?s=128&g=1", "display_name": "tonystark", "link": "https://stackoverflow.com/users/6587836/tonystark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 435, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513494109, "creation_date": 1513493194, "last_edit_date": 1513494109, "question_id": 47852849, "link": "https://stackoverflow.com/questions/47852849/creating-p2p-connections-with-wi-fi-on-android-creating-broadcastreceiver-class", "title": "Creating P2P Connections with Wi-Fi on Android: creating BroadcastReceiver class", "body": "<p>I am trying to create Wi-Fi P2P connection on Android. I am referring to the API <a href=\"https://developer.android.com/training/connect-devices-wirelessly/wifi-direct.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/connect-devices-wirelessly/wifi-direct.html</a> but I am stuck on creating the BroadcastReceiver class. </p>\n\n<p>It says: \"Now create a new BroadcastReceiver class that you'll use to listen for changes to the System's Wi-Fi P2P state. In the onReceive() method, add a condition to handle each P2P state change listed above.\"</p>\n\n<pre><code>@Override\npublic void onReceive(Context context, Intent intent) {\n    String action = intent.getAction();\n    if (WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION.equals(action)) {\n        // Determine if Wifi P2P mode is enabled or not, alert\n        // the Activity.\n        int state = intent.getIntExtra(WifiP2pManager.EXTRA_WIFI_STATE, -1);\n        if (state == WifiP2pManager.WIFI_P2P_STATE_ENABLED) {\n            activity.setIsWifiP2pEnabled(true);\n        } else {\n            activity.setIsWifiP2pEnabled(false);\n        }\n    } else if (WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION.equals(action)) {\n\n        // The peer list has changed! We should probably do something about\n        // that.\n\n    } else if (WifiP2pManager.WIFI_P2P_CONNECTION_CHANGED_ACTION.equals(action)) {\n\n        // Connection state changed! We should probably do something about\n        // that.\n\n    } else if (WifiP2pManager.WIFI_P2P_THIS_DEVICE_CHANGED_ACTION.equals(action)) {\n        DeviceListFragment fragment = (DeviceListFragment) activity.getFragmentManager()\n                .findFragmentById(R.id.frag_list);\n        fragment.updateThisDevice((WifiP2pDevice) intent.getParcelableExtra(\n                WifiP2pManager.EXTRA_WIFI_P2P_DEVICE));\n\n    }\n}\n</code></pre>\n\n<p>Now I have the following questions regarding this API code snippet:-</p>\n\n<p>1) What is the <code>activity</code> used in the above code.Both <code>mManager</code> and <code>mChannel</code> have been defined before use in the API snippet, but I am unable to find where <code>activity</code> has been defined.</p>\n\n<p>2) To resolve the above issue, I had a class description as follows</p>\n\n<pre><code>class MyBroadcastReceiver(\n        val manager: WifiP2pManager,\n        val channel: WifiP2pManager.Channel,\n        val activity: PlayOverNetworkActivity\n): BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        val action = intent.action\n\n        when(action) {\n            WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION -&gt; {\n                // Determine if Wifi P2P mode is enabled or not, alert the activity\n                val state = intent.getIntExtra(WifiP2pManager.EXTRA_WIFI_STATE, -1)\n                if (state == WifiP2pManager.WIFI_P2P_STATE_ENABLED) {\n                    activity.setIsWifiP2pEnabled(true)\n                } else {\n                    activity.setIsWifiP2pEnabled(false)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>In the above code, I am not finding any method <code>setIsWifiP2pEnabled()</code>. So, do I need to define this method or am I doing this wrong in the first place by passing the activity <code>PlayOverNetworkActivity</code> which is actually the activity initialising the <code>mManager</code> and <code>mChannel</code> objects in its <code>onCreate()</code> method.</p>\n\n<p>NOTE: Though I'm writing the code in Kotlin, both Kotlin and Android are very new to me. So, it'd be nice if you use Kotlin for the answer so that I can follow easily.</p>\n"}, {"tags": ["java", "scala", "generics", "types", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1513499820, "post_id": 47852144, "comment_id": 82671072, "body": "&quot;Scala supports type fields, it solves this problem by reflection.&quot; <code>type</code> fields aren&#39;t relevant to this question and it doesn&#39;t solve this problem by reflection."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1513503842, "post_id": 47852144, "comment_id": 82671818, "body": "&quot;If you use other languages to invoke a reified inline function &quot; - does it work? Could you provide an example?"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1513504163, "post_id": 47852144, "comment_id": 82671899, "body": "Write a Kotlin inline function, and call it in Java. You&#39;ll see. I&#39;ll add an exmaple.."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1513504531, "post_id": 47852144, "comment_id": 82671976, "body": "And, you need reflection. Because they&#39;re compiled to be private."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1513505166, "post_id": 47852144, "comment_id": 82672104, "body": "Wait. I didn&#39;t actually invoked it before (I just read the generated code carelessly), and I realized it&#39;s impossible to invoke it in Java/Scala. See the update. @voddan"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 11, "last_activity_date": 1563904301, "last_edit_date": 1563904301, "creation_date": 1513484108, "answer_id": 47852144, "question_id": 47852106, "link": "https://stackoverflow.com/questions/47852106/what-does-kotlins-type-reification-make-possible-that-is-not-possible-in-java-o/47852144#47852144", "title": "What does Kotlin&#39;s type reification make possible that is not possible in Java or Scala?", "body": "<h2>What is reification?</h2>\n\n<p>Type reification is one of Kotlin's tricks. It happens only in inlined generic functions, if you declare the generic parameter as <code>reified</code>.</p>\n\n<p>Since it's inlined, the generic parameter can be a concrete <code>class</code>, instead of just a compile-time type information.<br>\nYou can do something impossible in Java like:</p>\n\n<h2>instanceof</h2>\n\n<p>You can now use <code>instanceof</code>s (in Kotlin, <code>is</code>s):</p>\n\n<pre><code>inline fun &lt;reified T&gt; f(a: Any) {\n    if (a is T) println(\"Hi!\")\n}\n</code></pre>\n\n<p>This is obviously impossible in Java.</p>\n\n<h2>reflection</h2>\n\n<p>You're possible to get the java <code>java.lang.Class&lt;T&gt;</code> instance from the generic parameter now.</p>\n\n<pre><code>inline fun &lt;reified T&gt; f(a: Any) {\n    println(\"Hey! my class is ${T::class.java}!\")\n    if (a.javaClass == T::class.java) println(\"Hi!\")\n}\n</code></pre>\n\n<p>Also, <code>KClass</code> as well:</p>\n\n<pre><code>inline fun &lt;reified T&gt; f(a: Any) {\n    println(\"KClass: ${T::class}\")\n}\n</code></pre>\n\n<p>You can create instances with the empty constructor:</p>\n\n<pre><code>inline fun &lt;reified T&gt; f(a: Any) {\n    val o: T = T::class.java.newInstance()\n}\n</code></pre>\n\n<h2>calling other reifieds</h2>\n\n<p>Only <code>reified</code> generic parameter is possible to be passed to other <code>reified</code> functions.</p>\n\n<pre><code>inline fun &lt;reified T&gt; f(a: Any) {\n    g&lt;T&gt;(a)\n}\n\ninline fun &lt;reified T&gt; g(a: Any) {\n    if (a is T) println(\"Bingo!\")\n}\n</code></pre>\n\n<p>This is impossible in Kotlin:</p>\n\n<pre><code>inline fun &lt;reified T&gt; f(a: Any) {\n}\n\nfun &lt;T&gt; g(a: Any) {\n    f&lt;T&gt;(a) // error\n}\n</code></pre>\n\n<h2>shortcomings (edited)</h2>\n\n<p><del>If you use other languages to invoke a <code>reified</code> inline function in Kotlin, the function parameter will be <code>java.lang.Object</code>.</del></p>\n\n<p>You can't use other languages to invoke a <code>reified</code> function.</p>\n\n<p>Like, if we have a reified function in <code>A.kt</code>:</p>\n\n<pre><code>inline fun &lt;reified T&gt; f(a: T) = println(T::class.java)\n</code></pre>\n\n<p>And get it using reflection (it will be compiled as private):</p>\n\n<pre><code>Method method = AKt.class.getDeclaredMethod(\"f\", Object.class);\n</code></pre>\n\n<p>This code will successfully run without exceptions.<br>\nBut you can't invoke it (I didn't read the generated bytecode carefully, sorry) due to it's implementation:</p>\n\n<pre><code>private static final void f(Object a) {\n  Intrinsics.reifiedOperationMarker(4, \"T\"); // I didn't see\n  // the implementation of this line, so I thought it's\n  // possible to call it in other languages\n  Class var2 = Object.class;\n  System.out.println(var2);\n}\n</code></pre>\n\n<p>Look at the comment. And look at the definition of <code>reifiedOperationMarker</code>:</p>\n\n<pre><code>public static void reifiedOperationMarker(int id, String typeParameterIdentifier) {\n    throwUndefinedForReified();\n}\n</code></pre>\n\n<p>And it will throw an <code>UnsupportedOperationException</code>.</p>\n\n<p>Conclusion: <code>reified</code> can only be used in Kotlin.</p>\n\n<h2>about scala</h2>\n\n<p>It's really difficult to say whether Kotlin or Scala is better, because Scala's has more ways to get type information at runtime.</p>\n\n<p>Alexey Romanov said that Scala can but Kotlin can't:</p>\n\n<blockquote>\n  <p>using ClassTags in a recursive function</p>\n</blockquote>\n\n<p>I think this can be solved by using functions inside functions:</p>\n\n<pre><code>inline fun &lt;reified T&gt; g(a: Any): Int {\n  var recur: ((Any) -&gt; T)? = null\n  recur = { recur!!.invoke(it) as T } // use T is possible here\n  return recur(a)\n}\n</code></pre>\n\n<p>Note that this is only an example that syntactically correct.<br>\nIt's infinite loop and unnecessary cast, of course.</p>\n\n<p>He also said:</p>\n\n<blockquote>\n  <p>storing them in collections and using them to call ClassTag-using functions later.</p>\n</blockquote>\n\n<p>This is a true problem, because this needs <code>noinline</code> lambdas, while Kotlin's <code>reified</code> is based on inline.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 3, "last_activity_date": 1513500565, "last_edit_date": 1513500565, "creation_date": 1513499741, "answer_id": 47853451, "question_id": 47852106, "link": "https://stackoverflow.com/questions/47852106/what-does-kotlins-type-reification-make-possible-that-is-not-possible-in-java-o/47853451#47853451", "title": "What does Kotlin&#39;s type reification make possible that is not possible in Java or Scala?", "body": "<p>When Kotlin inlines a generic function, it naturally substitutes the type parameters by the type it was called with. E.g. with <code>inline fun &lt;T&gt; foo(x: T) = ...</code></p>\n\n<pre><code>foo(File(\".\"))\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>val x = File(\".\")\n// body of foo with File used everywhere T was\n</code></pre>\n\n<p>What <code>reified</code> does is just to allow using operations in body of <code>foo</code> which will only make sense <em>after</em> this substitution but are illegal for non-<code>reified</code> type parameters, such as <code>T::class</code>.</p>\n\n<p>The relevant Scala feature is <code>ClassTag</code>/<code>TypeTag</code>, not the \"sophisticated type system\". Effectively, it automates passing the <code>Class&lt;T&gt;</code> (or <code>TypeToken&lt;T&gt;</code>) as an argument, which can be done manually in Java and often is. Note that this is a <em>completely</em> different approach than <code>reified</code>.</p>\n\n<p>I don't think there's anything which <code>reified</code> does which isn't possible in Scala, but the advantage of the Kotlin approach is more natural syntax: e.g. in in Scala you can't just write <code>classOf[T]</code> in a <code>ClassTag</code>-using method like you would <code>classOf[File]</code>. </p>\n\n<p>OTOH, Scala allows things which aren't possible with <code>reified</code>, e.g.: </p>\n\n<ol>\n<li><p>using <code>ClassTag</code>s in a recursive function</p></li>\n<li><p>storing them in collections and using them to call <code>ClassTag</code>-using functions later.</p></li>\n</ol>\n"}], "owner": {"reputation": 2497, "user_id": 4280615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vNe8H.png?s=128&g=1", "display_name": "Nate Vaughan", "link": "https://stackoverflow.com/users/4280615/nate-vaughan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3271, "favorite_count": 2, "accepted_answer_id": 47852144, "answer_count": 2, "score": 11, "last_activity_date": 1563904301, "creation_date": 1513483420, "question_id": 47852106, "link": "https://stackoverflow.com/questions/47852106/what-does-kotlins-type-reification-make-possible-that-is-not-possible-in-java-o", "title": "What does Kotlin&#39;s type reification make possible that is not possible in Java or Scala?", "body": "<p>I am most familiar with Java type erasure (with all its issues and benefits). I have some limited exposure to the expanded possibilities with Kotlin's type system, but I don't have a clear understanding of how type reification works on an erasure-oriented JVM. What is type reification, how does Kotlin make it possible on the JVM, and how does this differ from Java's type erasure and Scala's sophisticated type system?</p>\n"}, {"tags": ["intellij-idea", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1513472314, "post_id": 47851308, "comment_id": 82667064, "body": "When you open the decompiled JAR class, it should have a link top right labeled &quot;set source&quot; or something similar. Unfortunately you might have to do that manually for each class."}, {"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1513474411, "post_id": 47851308, "comment_id": 82667407, "body": "@m0skit0 it does not open the decompiled class. It opens the source file in the sources jar, which is downloaded along with the binary jar itself."}], "answers": [{"comments": [{"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 0, "creation_date": 1513524386, "post_id": 47855287, "comment_id": 82677282, "body": "The IntelliJ part works out nicely. Thanks! Also thanks for letting me know about gradle&#39;s composite build. I&#39;m not doing that part for now because at gradle level I&#39;d like to still keep them separate. Fortunately the composite build config in IntelliJ appears to survive gradle refreshes. :-)"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "reply_to_user": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 0, "creation_date": 1513570390, "post_id": 47855287, "comment_id": 82689016, "body": "If you do want to do from CLI in gradle, you can do a build with the --include-build argument. In application dir, <code>.&#47;gradlew build --include-build ..&#47;core-module</code>. I use this all the time, and never use the explicit &#39;new build that&#39;s only to create a composite build&#39; approach either.  And yes, the composite build setting remains until you explicitly turn it off."}, {"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 0, "creation_date": 1513609425, "post_id": 47855287, "comment_id": 82707515, "body": "very useful. Thanks."}], "tags": [], "owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "is_accepted": true, "score": 2, "last_activity_date": 1513515199, "creation_date": 1513515199, "answer_id": 47855287, "question_id": 47851308, "link": "https://stackoverflow.com/questions/47851308/how-to-make-intellij-reference-source-code-in-another-module/47855287#47855287", "title": "How to make IntelliJ reference source code in another module?", "body": "<p>Use Gradle's composite build. Gradle has composite builds <a href=\"https://docs.gradle.org/4.4/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/4.4/userguide/composite_builds.html</a> that allow one to 'include' a build directly, rather than from a repository.</p>\n\n<p>IntelliJ also supports this functionality. This was added in 2016.3.</p>\n\n<p>Here's a webcast:<a href=\"https://blog.jetbrains.com/idea/2017/03/webinar-recording-composite-builds-with-gradle/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/idea/2017/03/webinar-recording-composite-builds-with-gradle/</a></p>\n\n<p>In the Gradle tab, right-click on your application module. The menu will have a 'composite builds' option. On the dialog that appears, check the 'core-module' module and close.</p>\n\n<p>Now, right-click on application module and do a 'refresh Gradle project'. I've found if I don't do this, the dependency doesn't get updated correctly.</p>\n\n<p>To verify, look at the dependencies under the sourceSets. Instead of a version #, it will now look like a module dependency.</p>\n\n<p>This provides many benefits. One is the navigation you were looking for. In addition, any changes made in core-module are immediately available, and used for the application.</p>\n\n<p>Refactor a method in core-module that is used by application, and IntelliJ will refactor all usages. </p>\n\n<p>Enjoy!</p>\n"}], "owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 0, "accepted_answer_id": 47855287, "answer_count": 1, "score": 3, "last_activity_date": 1513515199, "creation_date": 1513472099, "question_id": 47851308, "link": "https://stackoverflow.com/questions/47851308/how-to-make-intellij-reference-source-code-in-another-module", "title": "How to make IntelliJ reference source code in another module?", "body": "<p>I have a typical project structure:</p>\n\n<pre><code>- root-dir (not a project)\n \\- core-module (a gradle project)\n \\- application (a gradle project)\n</code></pre>\n\n<p>Both <code>core-module</code> and <code>application</code> are imported into IntelliJ and kept on Auto Import. In <code>application</code>'s <code>build.gradle</code>, <code>core-module</code> is referenced as:</p>\n\n<pre><code>compile('my-group-id:core-module:0.2.0-SNAPSHOT')\n</code></pre>\n\n<p>where <code>0.2.0-SNAPSHOT</code> is the current version as declared in <code>core-module</code>'s <code>gradle.properties</code>.</p>\n\n<p>In <code>application</code>, when I try to view a class from <code>core-module</code>, I'm brought to the source code in <code>core-module-0.2.0-SNAPSHOT-sources.jar</code>, instead of the corresponding source code in the <code>core-module</code> module.</p>\n\n<p>I know I can manually add <code>core-module</code> as a module dependency in <code>application</code>, but next time anything in <code>application</code>'s <code>build.gradle</code> changes, auto import will overwrite that dependency.</p>\n\n<p><strong>Is there any way to make IntelliJ recognize automatically that I'm trying to view a class from another module and go there instead of the downloaded sources jar?</strong></p>\n\n<p>Furthermore, is there any way to make IntelliJ always prefer the <code>core-module</code> module over the dependency jar, not only for code viewing, but for building/running/debugging/etc.?</p>\n\n<p>All the source files are in Kotlin, FWIW.</p>\n"}, {"tags": ["random", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 7853, "user_id": 3453226, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8c681e1b2ff238b273596e227be778ac?s=128&d=identicon&r=PG&f=1", "display_name": "sponge", "link": "https://stackoverflow.com/users/3453226/sponge"}, "edited": false, "score": 1, "creation_date": 1513462243, "post_id": 47850157, "comment_id": 82665295, "body": "Beware of using a newly-initialized <code>Random</code> instance each time. Usually randomness takes a few calls to adjust to an acceptable threshold."}, {"owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "reply_to_user": {"reputation": 7853, "user_id": 3453226, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8c681e1b2ff238b273596e227be778ac?s=128&d=identicon&r=PG&f=1", "display_name": "sponge", "link": "https://stackoverflow.com/users/3453226/sponge"}, "edited": false, "score": 0, "creation_date": 1513462719, "post_id": 47850157, "comment_id": 82665387, "body": "interesting, I can think of a variant of this method that takes prespecified Random. I will add it. thanks for the note."}, {"owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "reply_to_user": {"reputation": 7853, "user_id": 3453226, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8c681e1b2ff238b273596e227be778ac?s=128&d=identicon&r=PG&f=1", "display_name": "sponge", "link": "https://stackoverflow.com/users/3453226/sponge"}, "edited": false, "score": 2, "creation_date": 1513472104, "post_id": 47850157, "comment_id": 82667038, "body": "Current implementation of <code>Random()</code> is:  <code>public Random() { this(seedUniquifier() ^ System.nanoTime());}</code>  @FrancescoMenzani , what is your concern regarding newly-initialized instances?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1513491501, "post_id": 47850157, "comment_id": 82669743, "body": "My concern would be more about object creation on every call. Also, I&#39;d suggest making the one stored instance private so that it&#39;s only accessible in the file where it&#39;s declared."}], "tags": [], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "is_accepted": false, "score": 26, "last_activity_date": 1513463129, "last_edit_date": 1513463129, "creation_date": 1513460002, "answer_id": 47850157, "question_id": 47850156, "link": "https://stackoverflow.com/questions/47850156/get-a-random-item-from-list-using-kotlin-streams/47850157#47850157", "title": "Get a random item from list using kotlin streams", "body": "<p>I think the easiest and the most concise way is to create extension function that returns a random element so it can be used this way:  </p>\n\n<pre><code>val random = list.random()\n</code></pre>\n\n<p>the extension function:</p>\n\n<pre><code>/**\n * Returns a random element.\n */\nfun &lt;E&gt; List&lt;E&gt;.random(): E? = if (size &gt; 0) get(Random().nextInt(size)) else null\n</code></pre>\n\n<p>thanks to @Francesco comment here is another function that takes a Random instance as the source of randomness</p>\n\n<pre><code>/**\n * Returns a random element using the specified [random] instance as the source of randomness.\n */\nfun &lt;E&gt; List&lt;E&gt;.random(random: java.util.Random): E? = if (size &gt; 0) get(random.nextInt(size)) else null\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "edited": false, "score": 2, "creation_date": 1516715692, "post_id": 48403280, "comment_id": 83795086, "body": "I was using this method but I need to shuffle the whole list which is externally inefficient. when all you want is to get a random element."}, {"owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "edited": false, "score": 0, "creation_date": 1516715841, "post_id": 48403280, "comment_id": 83795183, "body": "the implementation of shuffled iterate over all the list items.   and how this is more more flexible and work on multi-platform context."}, {"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "reply_to_user": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "edited": false, "score": 0, "creation_date": 1516716137, "post_id": 48403280, "comment_id": 83795398, "body": "java.util.Random is not available on Kotlin-js or Kotlin-native. If you doesn&#39;t want to re-implement your own random number generator, it&#39;s the only possible method.  If you need to pick 3 values randomly from your list, shuffled().take() can do it, not your method (but it&#39;s not your use case)."}, {"owner": {"reputation": 171, "user_id": 6668743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e37ab0542960c7db9de3e96745916f8?s=128&d=identicon&r=PG&f=1", "display_name": "Lyn", "link": "https://stackoverflow.com/users/6668743/lyn"}, "edited": false, "score": 2, "creation_date": 1534991560, "post_id": 48403280, "comment_id": 90905151, "body": "why not &quot;list.shuffled()[0]&quot;"}, {"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "edited": false, "score": 0, "creation_date": 1534996464, "post_id": 48403280, "comment_id": 90905985, "body": "Because with take you can extract 1 or more value. If you need only one value your solution is pretty the same."}], "tags": [], "owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "is_accepted": false, "score": 46, "last_activity_date": 1616751217, "last_edit_date": 1616751217, "creation_date": 1516715177, "answer_id": 48403280, "question_id": 47850156, "link": "https://stackoverflow.com/questions/47850156/get-a-random-item-from-list-using-kotlin-streams/48403280#48403280", "title": "Get a random item from list using kotlin streams", "body": "<h2>Kotlin 1.3 and above:</h2>\n<p><strong>Kotlin 1.3 is now available with Multiplatform Random Number Generator!</strong>\nYou can use it like this :</p>\n<pre><code>import kotlin.random.Random\n\nfun main() {\n    println(Random.nextBoolean())\n    println(Random.nextInt())\n}\n</code></pre>\n<p><a href=\"https://pl.kotl.in/BJViWYa27\" rel=\"nofollow noreferrer\">Try it online!</a></p>\n<p>or in your case</p>\n<pre><code>fun main() {\n    val list = (1..9).filter { it % 2 == 0 }\n    println(list.random())\n}\n</code></pre>\n<p><a href=\"https://pl.kotl.in/rJJomKanm\" rel=\"nofollow noreferrer\">Try it online!</a></p>\n<hr />\n<h2>Kotlin 1.2</h2>\n<p>Since Kotlin 1.2, we have <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/shuffled.html\" rel=\"nofollow noreferrer\"><code>Iterable.shuffled()</code></a>. This method could help you with the use of <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/take.html\" rel=\"nofollow noreferrer\"><code>List.take()</code></a> to extract the number of element you want (only one in this example).</p>\n<pre><code>val list = (1..9).filter { it % 2 == 0 }\nreturn list.shuffled().take(1)[0]\n</code></pre>\n<p>This method is less optimized than before 1.2 one but it work on multiplatform context. Use the one you need according to your context.</p>\n<hr />\n<h2>Before Kotlin 1.2</h2>\n<p>Before Kotlin 1.2, no solution exists on a Multiplatform context to generate Random Number. The most easy solution is to call the Platform Random directly.</p>\n<h3>JVM</h3>\n<p>On the JVM we use <code>Random</code> or even <code>ThreadLocalRandom</code> if we're on JDK &gt; 1.6.</p>\n<pre><code>import java.util.Random\n\nfun IntRange.random() = Random().nextInt((endInclusive + 1) - start) + start\n</code></pre>\n<h3>JS</h3>\n<p>On the JS, we use <code>Math.Random</code>.</p>\n<pre><code>fun IntRange.random() = (Math.random() * ((endInclusive + 1) - start) + start).toInt()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 17, "last_activity_date": 1547070644, "creation_date": 1547070644, "answer_id": 54118892, "question_id": 47850156, "link": "https://stackoverflow.com/questions/47850156/get-a-random-item-from-list-using-kotlin-streams/54118892#54118892", "title": "Get a random item from list using kotlin streams", "body": "<p>Shuffling the whole list just to get a single random number is a waste of performance.</p>\n\n<p>Use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/random.html\" rel=\"noreferrer\"><code>random()</code></a> instead which was introduced in Kotin 1.3    </p>\n\n<pre><code>val randomNumber = listOf(1, 6, 8).random()\n</code></pre>\n\n<hr>\n\n<p>For your special use-case it would make sense to first filter the list and choose a random number from the remaining items.</p>\n\n<pre><code>val randomEvenNumber = listOf(1, 2, 3, 4, 5, 6, 7, 9).filter { it % 2 == 0 }.random()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 9881651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ce06f335bd7654d162fe72699e0b46d?s=128&d=identicon&r=PG", "display_name": "hardiBSalih", "link": "https://stackoverflow.com/users/9881651/hardibsalih"}, "is_accepted": false, "score": 0, "last_activity_date": 1591258050, "last_edit_date": 1591258050, "creation_date": 1558373308, "answer_id": 56225618, "question_id": 47850156, "link": "https://stackoverflow.com/questions/47850156/get-a-random-item-from-list-using-kotlin-streams/56225618#56225618", "title": "Get a random item from list using kotlin streams", "body": "<p>If you want 25 random elements from a list, I do it like this:</p>\n\n<pre><code>var suliTraffic = ArrayList&lt;SuliTraffic&gt;()\nvar randomsuliTraffic = ArrayList&lt;SuliTraffic&gt;()\n\n// I have add some data to my Array List\nrandomsuliTraffic.add(new)\n\n// Here i shuffle all the information i have wich is over 400 object\nrandomsuliTraffic.shuffle()\n\n// now you can just simply get 25 item from this randomsuliTraffic like this\nfor (i in randomsuliTraffic.take(25)){\n    suliTraffic.add(i)\n} \n</code></pre>\n\n<p>Now you can find 25 random elements in the <code>suliTraffic</code> list.</p>\n"}, {"tags": [], "owner": {"reputation": 1455, "user_id": 969478, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/mLNKv.jpg?s=128&g=1", "display_name": "Giszmo", "link": "https://stackoverflow.com/users/969478/giszmo"}, "is_accepted": false, "score": 2, "last_activity_date": 1592439365, "creation_date": 1592439365, "answer_id": 62440346, "question_id": 47850156, "link": "https://stackoverflow.com/questions/47850156/get-a-random-item-from-list-using-kotlin-streams/62440346#62440346", "title": "Get a random item from list using kotlin streams", "body": "<p>As stated by others, <code>list.random()</code> should do the trick now but if you don't know if the list is empty, <code>.random()</code> could throw an exception. Short of implementing <code>.randomOrNull()</code> as an extension function you can also hack it using <code>list.shuffled().firstOrNull()</code> but beware this is slow for long lists.</p>\n\n<p>The <code>.randomOrNull()</code> approach:</p>\n\n<pre><code>fun &lt;E&gt; List&lt;E&gt;.randomOrNull(): E? = if (size &gt; 0) random() else null\n</code></pre>\n"}], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26348, "favorite_count": 5, "answer_count": 5, "score": 39, "last_activity_date": 1616751217, "creation_date": 1513460002, "last_edit_date": 1513461367, "question_id": 47850156, "link": "https://stackoverflow.com/questions/47850156/get-a-random-item-from-list-using-kotlin-streams", "title": "Get a random item from list using kotlin streams", "body": "<p>How to get a random item from a list in an easy and concise way.<br>\nex: if I want to get an even random number from this list that.</p>\n\n<pre><code>val list = listOf(1, 2, 3, 4, 5, 6, 7, 9).filter { it % 2 == 0 }\n</code></pre>\n\n<p>Note:<br>\nI know there are some similar answers in java that solves this problem but I think we can have a more concise way in kotlin.</p>\n"}, {"tags": ["json", "jackson", "kotlin"], "comments": [{"owner": {"reputation": 166, "user_id": 8513267, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aCqIsULG6dw/AAAAAAAAAAI/AAAAAAAAAA8/CqkOXCyCaUQ/photo.jpg?sz=128", "display_name": "panda_eye", "link": "https://stackoverflow.com/users/8513267/panda-eye"}, "edited": false, "score": 0, "creation_date": 1513458808, "post_id": 47849987, "comment_id": 82664513, "body": "<code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of my_package.managers.DataModel$Companion$ValueResponseDataMod&zwnj;&#8203;el out of START_ARRAY token</code>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 3, "creation_date": 1513459128, "post_id": 47849987, "comment_id": 82664599, "body": "Your JSON object&#39;s <code>v</code> field is an array of arrays. Each inner array contains 3 different objects. Your Kotlin structure doesn&#39;t match this structure at all."}], "owner": {"reputation": 166, "user_id": 8513267, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aCqIsULG6dw/AAAAAAAAAAI/AAAAAAAAAA8/CqkOXCyCaUQ/photo.jpg?sz=128", "display_name": "panda_eye", "link": "https://stackoverflow.com/users/8513267/panda-eye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 487, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1513458700, "creation_date": 1513458700, "question_id": 47849987, "link": "https://stackoverflow.com/questions/47849987/cannot-parse-json-using-jackson-in-kotlin", "title": "Cannot parse json using Jackson in Kotlin", "body": "<p>I have the next json returned from server</p>\n\n<pre><code>{\"s\":2,\"v\":[[{\"g\":\"value\"},{\"s\":\"value\"},{\"t\":\"value\"}],[{\"g\":\"value\"},{\"s\":\"value\"},{\"t\":\"value\"}]]}\n</code></pre>\n\n<p>I get an error parsing this so how should I build my classes?\nNow I have:</p>\n\n<pre><code>companion object {\n    class ResponseDataModel {\n        @JsonProperty(\"s\", required = true) var s: Int = 0\n        @JsonProperty(\"v\", required = true) lateinit var v: Array&lt;SubjectsValueResponseDataModel&gt;\n    }\n\n    class ValueResponseDataModel {\n        @JsonProperty(\"s\", required = true) lateinit var s: String\n        @JsonProperty(\"t\", required = true) lateinit var t: String\n    }\n}\n</code></pre>\n\n<p>Value g is ignored</p>\n\n<pre><code>    val mapper = ObjectMapper().registerKotlinModule()\n    var respObject: DataModel.Companion.ResponseDataModel? = null\n    try {\n        val reader = BufferedReader(InputStreamReader(iStr, \"UTF-8\"), 8)\n        val respContent = reader.readLine()\n        Log.d(\"Response Data\", respContent)\n        respObject = mapper.readValue(respContent, DataModel.Companion.ResponseDataModel::class.java)\n    } catch (e: Exception) {\n        Log.e(\"Response Data\", \"Error converting result \" + e.toString())\n    } finally {\n        iStr.close()\n        return respObject\n    }\n</code></pre>\n"}, {"tags": ["android", "data-binding", "kotlin", "android-databinding"], "answers": [{"tags": [], "owner": {"reputation": 2873, "user_id": 7822962, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/VAPYJ.png?s=128&g=1", "display_name": "Humble Student", "link": "https://stackoverflow.com/users/7822962/humble-student"}, "is_accepted": true, "score": 10, "last_activity_date": 1529811336, "last_edit_date": 1529811336, "creation_date": 1513459643, "answer_id": 47850102, "question_id": 47849808, "link": "https://stackoverflow.com/questions/47849808/how-to-solve-cannot-find-getter-for-attribute-androidtext-when-implementin/47850102#47850102", "title": "How to solve: &quot;cannot find getter for attribute &#39;android:text&#39;&quot; when implementing two-way data binding with custom view?", "body": "<p>Funny but I was able to find a great <a href=\"https://medium.com/google-developers/android-data-binding-2-way-your-way-ccac20f6313\" rel=\"noreferrer\">post on medium</a> that helped me with this issue. Basically what I needed was a <code>CustomEditTextBinder</code>:</p>\n\n<pre><code>@InverseBindingMethods(\n        InverseBindingMethod(\n                type = CustomEditText::class,\n                attribute = \"android:text\",\n                method = \"getText\"\n        )\n)\nclass CustomEditTextBinder {\n    companion object {\n        @JvmStatic\n        @BindingAdapter(value = [\"android:textAttrChanged\"])\n        fun setListener(editText: CustomEditText, listener: InverseBindingListener?) {\n            if (listener != null) {\n                editText.addTextChangedListener(object : TextWatcher {\n                    override fun beforeTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {\n\n                    }\n\n                    override fun onTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {\n\n                    }\n\n                    override fun afterTextChanged(editable: Editable) {\n                        listener.onChange()\n                    }\n                })\n            }\n        }\n\n        @JvmStatic\n        @BindingAdapter(\"android:text\")\n        fun setText(editText: CustomEditText, text: String?) {\n            text?.let {\n                 if (it != editText.text) {\n                     editText.text = it\n                 }\n            }\n         }\n</code></pre>\n\n<p>It might seem weird but you don't actually need to call it anywhere, just add the class and the framework will take care of finding it through the annotation processing. Note that the <code>setText</code> is really really important in order to prevent infinite loops. I also added: </p>\n\n<pre><code>var text: String?\n    get() = editText_input.text.toString()\n    set(value) {\n        editText_input.setText(value)\n    }\n\nfun addTextChangedListener(listener: TextWatcher) =\n        editText_input.addTextChangedListener(listener)\n</code></pre>\n\n<p>on <code>CustomEditText</code>.</p>\n\n<p>Here is an <a href=\"https://github.com/williamgdev/CustomViews/tree/master/app/src/main/java/com/adnroid/devcuba/messengerproject/customview\" rel=\"noreferrer\">example of the implementation</a></p>\n"}], "owner": {"reputation": 2873, "user_id": 7822962, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/VAPYJ.png?s=128&g=1", "display_name": "Humble Student", "link": "https://stackoverflow.com/users/7822962/humble-student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6718, "favorite_count": 2, "accepted_answer_id": 47850102, "answer_count": 1, "score": 10, "last_activity_date": 1529811336, "creation_date": 1513457196, "question_id": 47849808, "link": "https://stackoverflow.com/questions/47849808/how-to-solve-cannot-find-getter-for-attribute-androidtext-when-implementin", "title": "How to solve: &quot;cannot find getter for attribute &#39;android:text&#39;&quot; when implementing two-way data binding with custom view?", "body": "<p>I went through many kinda-similar questions but none of the answers seemed to solve my problem. I implemented a custom <code>EditText</code> that I want to be compatible with two-way data binding. The problem is, every time I try to compile I get the error:</p>\n\n<pre><code>Error:java.lang.IllegalStateException: failed to analyze: android.databinding.tool.util.LoggedErrorException: Found data binding errors.\n****/ data binding error ****msg:Cannot find the getter for attribute 'android:text' with value type java.lang.String on com.app.toolkit.presentation.view.CustomEditText. file:/Users/humble-student/Home/workspace/android/application/app/src/main/res/layout/login_view.xml loc:68:8 - 81:69 ****\\ data binding error ****\n\n    at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:137)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:158)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:61)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:892)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:919)\n    at \n</code></pre>\n\n<p>Here is my implementation:</p>\n\n<h2>CustomEditText</h2>\n\n<pre><code>class CustomEditText @JvmOverloads constructor(\n        context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0\n) : LinearLayout(context, attrs, defStyleAttr) {\n\n    // ...\n    private lateinit var editText_input: EditText\n    private lateinit var textView_errorMessage: TextView\n\n    private var isErrorDisplayed = false\n    private var inputTextOriginalColor: ColorStateList? = null\n\n    init {\n        orientation = VERTICAL\n        clearContainerFormatting()\n\n        createEditTextInput(context, attrs, defStyleAttr)\n        createTextViewErrorMessage(context)\n\n        addView(editText_input)\n        addView(textView_errorMessage)\n    }\n\n    fun setError(message: String) {\n        //...\n    }\n\n    fun getText(): String = editText_input.text.toString()\n\n    fun setText(text: String) = editText_input.setText(text)\n\n    // ...\n}\n</code></pre>\n\n<h2>Model</h2>\n\n<pre><code>data class SampleData(\n        private var _content: String\n) : BaseObservable() {\n    var content: String\n        @Bindable get() = _content\n        set(value) {\n            _content = value\n            notifyPropertyChanged(BR.content)\n        }\n}\n</code></pre>\n\n<h2>Client that uses the CustomView with data binding</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n\n        &lt;import type=\"android.view.View\" /&gt;\n\n        &lt;variable\n            name=\"data\"\n            type=\"SampleData\" /&gt;\n\n        &lt;variable\n            name=\"presenter\"\n            type=\"SamplePresenter\" /&gt;\n    &lt;/data&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:animateLayoutChanges=\"true\"\n        tools:context=\".sample_view.presentation.view.SampleView\"&gt;\n\n        &lt;NotificationPopup\n            android:id=\"@+id/notificationPopup\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:clipToPadding=\"false\"\n            android:elevation=\"4dp\"\n            app:allowManualExit=\"true\" /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_centerInParent=\"true\"\n            android:gravity=\"center\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textView_mirror\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:fontFamily=\"sans-serif\"\n                android:text=\"@{data.content}\"\n                android:textSize=\"16sp\"\n                android:textStyle=\"bold\"\n                tools:text=\"test\" /&gt;\n\n            &lt;CustomEditText\n                android:id=\"@+id/customEditText_sample\"\n                style=\"@style/RegisterInput\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:hint=\"Type anything\"\n                android:text=\"@={data.content}\" /&gt;\n\n            &lt;Button\n                android:id=\"@+id/button_validateInput\"\n                style=\"@style/Widget.AppCompat.Button.Colored\"\n                android:layout_width=\"150dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"8dp\"\n                android:layout_marginStart=\"8dp\"\n                android:layout_marginTop=\"8dp\"\n                android:onClick='@{(v) -&gt; presenter.onValidateDataClick(customEditTextSample.getText())}'\n                android:text=\"Validate Input\" /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><strong>P.S.: If I replace <code>CustomEditText</code> for regular <code>EditText</code> widget, it works perfectly</strong></p>\n"}, {"tags": ["android", "kotlin", "illegalargumentexception"], "answers": [{"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 1, "creation_date": 1548086425, "post_id": 47849255, "comment_id": 95407784, "body": "Does this code <code>onEditorAction(v: TextView, actionId: Int, event: KeyEvent)</code> insert IDE? If so, that&#39;s an error of IDE..."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 52, "last_activity_date": 1513452791, "creation_date": 1513452791, "answer_id": 47849255, "question_id": 47849219, "link": "https://stackoverflow.com/questions/47849219/java-lang-illegalargumentexception-parameter-specified-as-non-null-is-null-me/47849255#47849255", "title": "java.lang.IllegalArgumentException : Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull", "body": "<p>The last parameter can be <code>null</code>, as described by the <a href=\"https://developer.android.com/reference/android/widget/TextView.OnEditorActionListener.html#onEditorAction(android.widget.TextView,%20int,%20android.view.KeyEvent)\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p><code>KeyEvent</code>: If triggered by an enter key, this is the event; otherwise, this is null.</p>\n</blockquote>\n\n<p>So what you have to do is make the Kotlin type nullable to account for this, otherwise the injected <code>null</code> check will crash your application when it gets a call with a <code>null</code> value as you've already seen it:</p>\n\n<pre><code>edtSearch?.setOnEditorActionListener(object : TextView.OnEditorActionListener {\n    override fun onEditorAction(v: TextView, actionId: Int, event: KeyEvent?): Boolean {\n        ...\n    }\n})\n</code></pre>\n\n<p>More explanation about platform types in <a href=\"https://stackoverflow.com/a/47480019/4465208\">this answer</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1918, "user_id": 3520299, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a102e18ea81e973678e73d37465328e5?s=128&d=identicon&r=PG&f=1", "display_name": "SamIAmHarris", "link": "https://stackoverflow.com/users/3520299/samiamharris"}, "edited": false, "score": 0, "creation_date": 1567032014, "post_id": 54293795, "comment_id": 101845525, "body": "If <code>title</code> could be null then you should change the type of <code>title</code> to be String?. The <code>?</code> indicates that the parameter is a nullable type meaning it may be null. Then when you access it, you need to account for the chance that it is null."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "reply_to_user": {"reputation": 1918, "user_id": 3520299, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a102e18ea81e973678e73d37465328e5?s=128&d=identicon&r=PG&f=1", "display_name": "SamIAmHarris", "link": "https://stackoverflow.com/users/3520299/samiamharris"}, "edited": false, "score": 0, "creation_date": 1567062346, "post_id": 54293795, "comment_id": 101852179, "body": "@SamIAmHarris, sure. I didn&#39;t know, that <code>title</code> could be <code>null</code> (it was gotten from JSON). So, I changed to <code>String?</code>. I wrote this answer in order to show how this exception can be thrown."}], "tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 1, "last_activity_date": 1583142946, "last_edit_date": 1583142946, "creation_date": 1548087070, "answer_id": 54293795, "question_id": 47849219, "link": "https://stackoverflow.com/questions/47849219/java-lang-illegalargumentexception-parameter-specified-as-non-null-is-null-me/54293795#54293795", "title": "java.lang.IllegalArgumentException : Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull", "body": "<p>I got a similar exception: \"java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter <code>title</code>\". </p>\n\n<p>Then researched a function and found a parameter that became <code>null</code> while must not:</p>\n\n<pre><code>class Item(\n    val id: Int,\n    val title: String,\n    val address: String\n)\n</code></pre>\n\n<p>When I called it like <code>Item(id, name, address)</code> and <code>name</code> was <code>null</code>, I got this exception.</p>\n\n<p>So, add <code>?</code> to all suspecting variables types: <code>val title: String?</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 333, "user_id": 8357361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f7d97361bb2bfd950794764fa2bb2f6?s=128&d=identicon&r=PG&f=1", "display_name": "Snehal", "link": "https://stackoverflow.com/users/8357361/snehal"}, "is_accepted": false, "score": 6, "last_activity_date": 1583142733, "last_edit_date": 1583142733, "creation_date": 1559650777, "answer_id": 56443768, "question_id": 47849219, "link": "https://stackoverflow.com/questions/47849219/java-lang-illegalargumentexception-parameter-specified-as-non-null-is-null-me/56443768#56443768", "title": "java.lang.IllegalArgumentException : Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull", "body": "<p>To solve this issue, make the <code>event</code> parameter nullable, if you use <code>TextView.OnEditorActionListener</code>. Add <code>?</code> at the end of the declaration:</p>\n\n<pre><code>override fun onEditorAction(v: TextView, actionId: Int, event: KeyEvent?)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 6247186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ockk6.jpg?s=128&g=1", "display_name": "Hamed Jaliliani", "link": "https://stackoverflow.com/users/6247186/hamed-jaliliani"}, "is_accepted": false, "score": 1, "last_activity_date": 1587452635, "last_edit_date": 1587452635, "creation_date": 1569423053, "answer_id": 58101192, "question_id": 47849219, "link": "https://stackoverflow.com/questions/47849219/java-lang-illegalargumentexception-parameter-specified-as-non-null-is-null-me/58101192#58101192", "title": "java.lang.IllegalArgumentException : Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull", "body": "<p>This error would happen if you pass parameters  with null value from Java class to Kotlin class [by calling methods &amp; implemented callback between classes].</p>\n\n<p>And even pass null to  a parameter that Compiler can not detect it as compile time, so crash will happen in run time.</p>\n\n<p>Because Kotlin is null-safe so the app will crash!</p>\n\n<p>Fix: Change parameters type in kotlin method to Nullable types by adding ? to the end of type.</p>\n\n<p>For example your kotlin funcion will be call in Java class by:</p>\n\n<pre><code>//java class file\n ClassKotlin cls = new ClassKotlin()\n cls.function1(\"name\", null, true) //Call func from inside kotlin class\n</code></pre>\n\n<p>but your func declaration in ClassKotlin is:</p>\n\n<pre><code>//Kotlin class file\n  ClassKotlin {\n  fun function1(firstname : String , lastName : String , status : Bool){\n  //...\n  }\n } // class\n</code></pre>\n\n<p>So you passed a null value to a non Null paremeter in kotlin func.</p>\n\n<p>How to fix:</p>\n\n<p>Just change the Kotlin func as:</p>\n\n<pre><code> fun function1(firstname : String , lastName : String? , status : Boolean){\n  //...\n  }\n</code></pre>\n\n<p>* a ? added to String data type</p>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 8063735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59748a05ad5a13e339ee709022bb3231?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin Nirmale", "link": "https://stackoverflow.com/users/8063735/ashwin-nirmale"}, "is_accepted": false, "score": 1, "last_activity_date": 1586634146, "creation_date": 1586634146, "answer_id": 61162716, "question_id": 47849219, "link": "https://stackoverflow.com/questions/47849219/java-lang-illegalargumentexception-parameter-specified-as-non-null-is-null-me/61162716#61162716", "title": "java.lang.IllegalArgumentException : Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull", "body": "<blockquote>\n  <p>isMinifyEnabled = false  or remove this</p>\n</blockquote>\n\n<p>in my case, this issue caused due to <code>isMinifyEnabled = true</code> line in gradle file. After removing this line it works.</p>\n"}], "owner": {"reputation": 1436, "user_id": 7326400, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5371e1f9948326c44d671fcc75ece028?s=128&d=identicon&r=PG&f=1", "display_name": "Nirvan Anjirbag", "link": "https://stackoverflow.com/users/7326400/nirvan-anjirbag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43521, "favorite_count": 5, "accepted_answer_id": 47849255, "answer_count": 5, "score": 47, "last_activity_date": 1587452635, "creation_date": 1513452513, "question_id": 47849219, "link": "https://stackoverflow.com/questions/47849219/java-lang-illegalargumentexception-parameter-specified-as-non-null-is-null-me", "title": "java.lang.IllegalArgumentException : Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull", "body": "<p>I'm getting this error </p>\n\n<p><code>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter event</code></p>\n\n<p>for the line</p>\n\n<p><code>override fun onEditorAction(v: TextView, actionId: Int, event: KeyEvent)</code></p>\n\n<p>Following is the entire code. This code was originally in java, I converted it to Kotlin using Android Studio, but now I'm getting this error. I tried rebuilding and cleaning the project, but that didn't work.</p>\n\n<pre><code>val action = supportActionBar //get the actionbar\naction!!.setDisplayShowCustomEnabled(true) //enable it to display a custom view in the action bar.\naction.setCustomView(R.layout.search_bar)//add the custom view\naction.setDisplayShowTitleEnabled(false) //hide the title\n\nedtSearch = action.customView.findViewById(R.id.edtSearch) as EditText //the text editor\n\n\n//this is a listener to do a search when the user clicks on search button\nedtSearch?.setOnEditorActionListener(object : TextView.OnEditorActionListener {\n    override fun onEditorAction(v: TextView, actionId: Int, event: KeyEvent): Boolean {\n    if (actionId == EditorInfo.IME_ACTION_SEARCH) {\n         Log.e(\"TAG\",\"search button pressed\")  //doSearch()\n         return true\n        }\n     return false\n    }\n})\n</code></pre>\n"}, {"tags": ["hashmap", "kotlin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1513452098, "post_id": 47849076, "comment_id": 82662689, "body": "Do you want to return true if the map contains all of the keys or just any of it?"}, {"owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1513452162, "post_id": 47849076, "comment_id": 82662707, "body": "If it contains all the keys."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1513452442, "last_edit_date": 1513452442, "creation_date": 1513452140, "answer_id": 47849167, "question_id": 47849076, "link": "https://stackoverflow.com/questions/47849076/kotlin-hashmap-contain-keys-using-an-array/47849167#47849167", "title": "Kotlin HashMap contain keys using an array", "body": "<p>You can start from the keys themselves, and use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/all.html\" rel=\"nofollow noreferrer\"><code>all</code></a> function from the standard library:</p>\n\n<pre><code>val map = hashMapOf(...)\nval keys = arrayOf(\"2018-01-16\", \"2018-01-17\", \"2018-01-18\")\nval containsAllKeys = keys.all { map.containsKey(it) }\n</code></pre>\n\n<hr>\n\n<p>If you do this a lot and want to have this functionality on the <code>Map</code> type, you can always add it as an extension:</p>\n\n<pre><code>fun &lt;K, V&gt; Map&lt;K, V&gt;.containsKeys(keys: Array&lt;K&gt;) = keys.all { this.containsKey(it) }\n\nval containsAllKeys = map.containsKeys(arrayOf(\"2018-01-16\", \"2018-01-17\"))\n</code></pre>\n\n<p>You might also want to overload the extension with another function that takes an <code>Iterable&lt;K&gt;</code> as the parameter.</p>\n"}, {"tags": [], "owner": {"reputation": 4435, "user_id": 812598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad6c769fb4cb6525f4ea6c6e7bf8983a?s=128&d=identicon&r=PG", "display_name": "GoRoS", "link": "https://stackoverflow.com/users/812598/goros"}, "is_accepted": false, "score": 0, "last_activity_date": 1513453632, "creation_date": 1513453632, "answer_id": 47849383, "question_id": 47849076, "link": "https://stackoverflow.com/questions/47849076/kotlin-hashmap-contain-keys-using-an-array/47849383#47849383", "title": "Kotlin HashMap contain keys using an array", "body": "<p>You could use <code>ArrayList&lt;T&gt;</code> as a key, since it's equals is different as the <code>Array&lt;T&gt;</code> one. Let's see this test:</p>\n\n<pre><code>class ExampleUnitTest {\n  @Test\n  fun arrayAsKeyTest() {\n    val hashMapOne = HashMap&lt;Array&lt;String&gt;, Int&gt;()\n    val stringKeysOne1 = arrayOf(\"a\", \"b\")\n    hashMapOne.set(stringKeysOne1, 2)\n    val stringKeysOne2 = arrayOf(\"a\", \"b\")\n    // NOT MATCH! As stringKeysOne1 == stringKeysOne2 is false\n    assertFalse(hashMapOne.containsKey(stringKeysOne2)) // NOT MATCH\n\n    val hashMapTwo = HashMap&lt;ArrayList&lt;String&gt;, Int&gt;()\n    val stringKeysTwo1 = arrayListOf(\"a\", \"b\")\n    hashMapTwo.set(stringKeysTwo1, 2)\n    val stringKeysTwo2 = arrayListOf(\"a\", \"b\")\n    // MATCH! As stringKeysTwo1 == stringKeysTwo2 is true (although stringKeysTwo1 === stringKeysTwo2 is false)\n    assertTrue(hashMapTwo.containsKey(stringKeysTwo2)) // MATCH\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 2, "last_activity_date": 1513454972, "creation_date": 1513454972, "answer_id": 47849542, "question_id": 47849076, "link": "https://stackoverflow.com/questions/47849076/kotlin-hashmap-contain-keys-using-an-array/47849542#47849542", "title": "Kotlin HashMap contain keys using an array", "body": "<p><code>Map</code> has <code>keys</code> collection, which as every collection implements <code>containsAll</code> method, so you can use it to check whether the <code>keys</code> collection contains all of the keys:</p>\n\n<pre><code>map.keys.containsAll(keysArray.asList())\n</code></pre>\n"}], "owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3973, "favorite_count": 0, "accepted_answer_id": 47849167, "answer_count": 3, "score": 4, "last_activity_date": 1513454972, "creation_date": 1513451375, "last_edit_date": 1513452978, "question_id": 47849076, "link": "https://stackoverflow.com/questions/47849076/kotlin-hashmap-contain-keys-using-an-array", "title": "Kotlin HashMap contain keys using an array", "body": "<p>Is there any way to check a HashMap if it contains a certain set of keys which keys are given in an array. When I try something like the code below it returns false.</p>\n\n<pre><code>map.containsKey(arrayOf(\"2018-01-16\"))\n</code></pre>\n\n<p>If I try the following code it works but I need to check for the keys and the numbers of keys that I need to search is not fixed.</p>\n\n<pre><code>map.containsKey(\"2018-01-16\")\n</code></pre>\n"}, {"tags": ["intellij-idea", "lambda", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1513464110, "last_edit_date": 1513464110, "creation_date": 1513453150, "answer_id": 47849309, "question_id": 47849048, "link": "https://stackoverflow.com/questions/47849048/kotlin-expected-no-parameters-when-attempting-to-return-inline-lambda/47849309#47849309", "title": "Kotlin &quot;expected no parameters&quot; when attempting to return inline lambda", "body": "<p>There is a curious moment in the design of functional types and lambda expressions in Kotlin.</p>\n\n<p>In fact, the behavior can be described in these two statements:</p>\n\n<ul>\n<li><p>Named values of functional types are interchangeable between the ordinary functional type like <code>(A, B) -&gt; C</code> and the corresponding type of function with the first parameter turned into receiver <code>A.(B) -&gt; C</code>. These types are <a href=\"https://github.com/JetBrains/kotlin/blob/master/spec-docs/function-types.md\" rel=\"nofollow noreferrer\">assignable from each other</a>.</p>\n\n<p>So, when you declare a variable that is typed as <code>(T) -&gt; Unit</code>, you can pass it or use it where <code>T.() -&gt; Unit</code> is expected, and vice versa.</p></li>\n<li><p>Lambda expressions, however, cannot be used in such free manner.</p>\n\n<p>When a function with receiver <code>T.() -&gt; Unit</code> is expected, you cannot place a lambda with a parameter of <code>T</code> in that position, the lambda should exactly match the signature, a receiver and the first parameter cannot be converted into each other:</p>\n\n<blockquote>\n  <p>Shape of a function literal argument or a function expression must exactly match the extension-ness of the corresponding parameter. You can't pass an extension function literal or an extension function expression where a function is expected and vice versa. If you really want to do that, change the shape, assign literal to a variable or use the <code>as</code> operator.</p>\n</blockquote>\n\n<p><sup>(from the <a href=\"https://github.com/JetBrains/kotlin/blob/master/spec-docs/function-types.md#extension-functions\" rel=\"nofollow noreferrer\">document linked above</a>)</sup></p>\n\n<p>This rule makes lambdas easier to read: they always match the expected type. For instance, there's no ambiguity between a lambda with receiver and a lambda with implicit <code>it</code> that is simply unused.</p></li>\n</ul>\n\n<p>Compare:</p>\n\n<pre><code>fun foo(bar: (A) -&gt; B) = Unit\nfun baz(qux: A.() -&gt; B) = Unit\n\nval f: (A) -&gt; B = { TODO() }\nval g: A.() -&gt; B = { TODO() }\n\nfoo(f) // OK\nfoo(g) // OK\nbaz(f) // OK\nbaz(g) // OK\n\n// But: \n\nfoo { a: A -&gt; println(a); TODO() } // OK\nfoo { println(this@foo); TODO() } // Error\n\nbaz { println(this@baz); TODO() } // OK\nbaz { a: A -&gt; println(a); TODO() } // Error\n</code></pre>\n\n<p>Basically, it's the IDE diagnostic that is wrong here. Please <a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">report it</a> as a bug to the Kotlin issue tracker.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1513453192, "creation_date": 1513453192, "answer_id": 47849318, "question_id": 47849048, "link": "https://stackoverflow.com/questions/47849048/kotlin-expected-no-parameters-when-attempting-to-return-inline-lambda/47849318#47849318", "title": "Kotlin &quot;expected no parameters&quot; when attempting to return inline lambda", "body": "<p>You are defining a function type <code>() -&gt; Unit</code> on receiver <code>T</code>, there really isn't a parameter to that function, see <code>\"()\"</code>. The error makes sense. Since you define the function type with <code>T</code> as its receiver, you can refer to <code>T</code> by <code>this</code>:</p>\n\n<pre><code>fun &lt;T&gt; makeFunc(): (T.() -&gt; Unit) {\n    return {\n       print(this)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 653, "favorite_count": 0, "accepted_answer_id": 47849309, "answer_count": 2, "score": 4, "last_activity_date": 1513464110, "creation_date": 1513451163, "question_id": 47849048, "link": "https://stackoverflow.com/questions/47849048/kotlin-expected-no-parameters-when-attempting-to-return-inline-lambda", "title": "Kotlin &quot;expected no parameters&quot; when attempting to return inline lambda", "body": "<p>I'm trying to write a Kotlin function which returns a lambda taking a parameter. I'm attempting to use code like the following to do this:</p>\n\n<pre><code>fun &lt;T&gt; makeFunc() : (T.() -&gt; Unit) {\n    return { t: T -&gt;\n        print(\"Foo\")\n    }\n}\n</code></pre>\n\n<p><em>Note: In the actual program, the function is more complex and uses <code>t</code>.</em></p>\n\n<p>Kotlin rejects this as invalid, giving an 'Expected no parameters' error at <code>t: T</code>.</p>\n\n<p>However, assigning this lambda to a variable first is not rejected and works fine:</p>\n\n<pre><code>fun &lt;T&gt; makeFunc() : (T.() -&gt; Unit) {\n    val x = { t: T -&gt;\n        print(\"Foo\")\n    }\n\n    return x\n}\n</code></pre>\n\n<p>These two snippets seem identical, so why is this the case? Are curly braces after a <code>return</code> statement interpreted as something other than a lambda?</p>\n\n<p>Additionally, IntelliJ tells me that the variable's value can be inlined, whereas this appears to cause the error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sttSy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sttSy.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "enums", "interface", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 1, "last_activity_date": 1516484191, "creation_date": 1516484191, "answer_id": 48361350, "question_id": 47848967, "link": "https://stackoverflow.com/questions/47848967/kotlin-enum-implementing-a-java-interface-with-string-name-declaration/48361350#48361350", "title": "Kotlin enum implementing a Java Interface with String name() declaration", "body": "<p>As far as I can see now best option for you is following:</p>\n\n<pre><code>interface Aspect2: Aspect {\n  fun myName() = name()\n}\nenum class CollisionType : Aspect2 {\n  \u2026\u2026\u2026\n}\n</code></pre>\n\n<p>And so on</p>\n"}], "owner": {"reputation": 303, "user_id": 1702558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d07c44ce6e068accd6bf0b3bc9c6aad?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/1702558/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1335, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1516484191, "creation_date": 1513450545, "question_id": 47848967, "link": "https://stackoverflow.com/questions/47848967/kotlin-enum-implementing-a-java-interface-with-string-name-declaration", "title": "Kotlin enum implementing a Java Interface with String name() declaration", "body": "<p>I have a Kotlin project where I make use of a Java library dependency that defines an Interface with a String name() method declaration. </p>\n\n<p>In Java I'm able to use this Interfaces within enum declarations where the String name() method is implicitly implemented by the enum.</p>\n\n<pre><code>public interface Aspect {\n   int index();\n   String name();\n}\n</code></pre>\n\n<p>In Java this is possible:</p>\n\n<pre><code>public enum CollisionType implements Aspect {\n    ONE, TWO, THREE;\n\n    private final Aspect aspect;\n    private CollisionType() {\n        aspect = CONTACT_ASPECT_GROUP.createAspect(name());\n    }\n    @Override\n    public int index() {\n        return aspect.index();\n    }\n}\n</code></pre>\n\n<p>If I try this within a Kotlin enum class, I get an [CONFLICTING INHERITED JVM DECLARATIONS] error because of the conflicting name \"name\".\nI tried to use the @JvmName annotation to define a different name as it is suggested to do by this kind of problem but I'm not able to use it properly for this problem.</p>\n\n<pre><code>enum class CollisionType : Aspect {\n    ONE, TWO, TREE;\n    val aspect: Aspect = CONTACT_TYPE_ASPECT_GROUP.createAspect(name())\n\n    override fun index(): Int = aspect.index()\n    @JvmName(\"aspectName\")\n    override fun name(): String = name\n}\n</code></pre>\n\n<p>gives an errors: \"The @JvmName annotation is not applicable to this declaration\"</p>\n\n<p>Is there any possibility to implement/use a given Java Interface defining the String name() method within a enum class in Kotlin?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "android-studio", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 2, "creation_date": 1513447925, "post_id": 47848596, "comment_id": 82661518, "body": "Look at the Gradle Console&#39;s full output and see if there is a Java stack trace with details about what went wrong. There should be one."}, {"owner": {"reputation": 9613, "user_id": 229794, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/502224e874144d41693364d681d5a3b3?s=128&d=identicon&r=PG", "display_name": "Dieter Menne", "link": "https://stackoverflow.com/users/229794/dieter-menne"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1513452500, "post_id": 47848596, "comment_id": 82662796, "body": "Thanks. Found: Caused by: com.android.tools.r8.errors.CompilationError: Program type already present: org.xmlpull.v1.XmlPullParserFactory. This must be a transitive inclusion, and I have not been able to figure out the syntax to exclude it."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 3, "creation_date": 1513453025, "post_id": 47848596, "comment_id": 82662936, "body": "Well, <a href=\"https://developer.android.com/reference/org/xmlpull/v1/XmlPullParserFactory.html\" rel=\"nofollow noreferrer\">that class is part of the Android SDK</a>. Some third-party library that you are using is not designed for Android and baked in a copy of that class or is pulling in that class via a dependency. My guess would be <code>org.simpleframework:simple-xml</code>."}], "answers": [{"tags": [], "owner": {"reputation": 9613, "user_id": 229794, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/502224e874144d41693364d681d5a3b3?s=128&d=identicon&r=PG", "display_name": "Dieter Menne", "link": "https://stackoverflow.com/users/229794/dieter-menne"}, "is_accepted": false, "score": 2, "last_activity_date": 1527499825, "last_edit_date": 1527499825, "creation_date": 1513506856, "answer_id": 47854225, "question_id": 47848596, "link": "https://stackoverflow.com/questions/47848596/error-while-merging-dex-archives/47854225#47854225", "title": "Error while merging dex archives", "body": "<p>Thanks to @CommonsWare's comments, I found that I had </p>\n\n<pre><code>implementation ('com.squareup.retrofit2:converter-simplexml:2.3.0'){\n    exclude group: 'xpp3', module: 'xpp3'\n    exclude group: 'stax', module: 'stax-api'\n    exclude group: 'stax', module: 'stax'\n}\n</code></pre>\n\n<p>in one submodule, but had forgotten the exclude-part in the other.</p>\n"}], "owner": {"reputation": 9613, "user_id": 229794, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/502224e874144d41693364d681d5a3b3?s=128&d=identicon&r=PG", "display_name": "Dieter Menne", "link": "https://stackoverflow.com/users/229794/dieter-menne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5448, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1527499825, "creation_date": 1513447724, "question_id": 47848596, "link": "https://stackoverflow.com/questions/47848596/error-while-merging-dex-archives", "title": "Error while merging dex archives", "body": "<p>I am building a small Android app with Kotlin and Android Studio. Everything worked fine, but out of the blue (at least what seems to me), I am stuck  with</p>\n\n<pre><code>Error:Execution failed for task :bahndb:transformDexArchiveWithExternalLibsDexMergerForDebugAndroidTest'.\n&gt; com.android.builder.dexing.DexArchiveMergerException: \nError while merging dex archives: \nC:\\Users\\Dieter\\AndroidStudioProjects\\zuegliwidget\\bahndb\\build\\intermediates\\transforms\\dexBuilder\\androidTest\\debug\\13.jar,\n</code></pre>\n\n<p>and so on until 47.jar when I try to run an Instrumented Test. Local tests all work ok. It is strange that even earlier checkout that had worked before show this behaviour (some update? I have reinstalled Android Studio twice)</p>\n\n<p>I have read all message on the subject here, none helped:</p>\n\n<ul>\n<li>Use clean build (I do every time)</li>\n<li>Invalidate cache (over and over)</li>\n<li>added multiDex</li>\n<li>Tried different Kotlin plugins</li>\n<li>Uninstalled 3.1 Canary 5, installed stable, reinstalled canary 5</li>\n<li>Un/commented dependencies one after the other (this had worked earlier)\nRunning Lint, but failed with error</li>\n</ul>\n\n<p>App has 2 submodules, bahndb and http. Here are the gradle files, if it matters</p>\n\n<p><a href=\"https://github.com/dmenne/zuegliwidget/blob/master/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/dmenne/zuegliwidget/blob/master/build.gradle</a></p>\n\n<p><a href=\"https://github.com/dmenne/zuegliwidget/blob/master/app/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/dmenne/zuegliwidget/blob/master/app/build.gradle</a></p>\n\n<p><a href=\"https://github.com/dmenne/zuegliwidget/blob/master/bahndb/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/dmenne/zuegliwidget/blob/master/bahndb/build.gradle</a> &lt;&lt; Most likely guilty</p>\n\n<p><a href=\"https://github.com/dmenne/zuegliwidget/blob/master/http/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/dmenne/zuegliwidget/blob/master/http/build.gradle</a></p>\n\n<p>Is there a systematic approach to locate the source of the problem</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 8963148, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-s3L11nyQRTw/AAAAAAAAAAI/AAAAAAAAArU/EjF41JZckO4/photo.jpg?sz=128", "display_name": "Vicki Mes", "link": "https://stackoverflow.com/users/8963148/vicki-mes"}, "edited": false, "score": 1, "creation_date": 1513580854, "post_id": 47857662, "comment_id": 82692020, "body": "Wouldn&#39;t retrieving all questions and looping for each time for new questions cause slow performance?"}, {"owner": {"reputation": 8341, "user_id": 179156, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/862c886f0ab7244b1f1402251de6cd24?s=128&d=identicon&r=PG", "display_name": "joelm", "link": "https://stackoverflow.com/users/179156/joelm"}, "reply_to_user": {"reputation": 5, "user_id": 8963148, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-s3L11nyQRTw/AAAAAAAAAAI/AAAAAAAAArU/EjF41JZckO4/photo.jpg?sz=128", "display_name": "Vicki Mes", "link": "https://stackoverflow.com/users/8963148/vicki-mes"}, "edited": false, "score": 0, "creation_date": 1513601903, "post_id": 47857662, "comment_id": 82702996, "body": "if it were a frequent operation, you might want to cache them locally.  The operation is definitely slower than a single query, but a single query isn&#39;t available at this time.  I&#39;ve read that it&#39;s not terrible because Firebase keeps a stream open, so it&#39;s not as bad as creating a whole REST/HTTP call each time."}], "tags": [], "owner": {"reputation": 8341, "user_id": 179156, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/862c886f0ab7244b1f1402251de6cd24?s=128&d=identicon&r=PG", "display_name": "joelm", "link": "https://stackoverflow.com/users/179156/joelm"}, "is_accepted": true, "score": 1, "last_activity_date": 1513531551, "creation_date": 1513531551, "answer_id": 47857662, "question_id": 47848060, "link": "https://stackoverflow.com/questions/47848060/firestore-query-sub-collection/47857662#47857662", "title": "FireStore Query sub collection", "body": "<p>One approach would be to have an object in the User's record (or a separate collection indexed by userId) that lists which questions they have answered and then query those that they have not answered.  (This would require getting the list of all questions and removing those that are answered.)  You'll have to retrieve the questions one-by-one in a loop.</p>\n\n<p>In a no-sql database you will end up with multiple indexes for this type of structure.</p>\n"}], "owner": {"reputation": 5, "user_id": 8963148, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-s3L11nyQRTw/AAAAAAAAAAI/AAAAAAAAArU/EjF41JZckO4/photo.jpg?sz=128", "display_name": "Vicki Mes", "link": "https://stackoverflow.com/users/8963148/vicki-mes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 0, "accepted_answer_id": 47857662, "answer_count": 1, "score": 0, "last_activity_date": 1513531551, "creation_date": 1513443941, "last_edit_date": 1513445051, "question_id": 47848060, "link": "https://stackoverflow.com/questions/47848060/firestore-query-sub-collection", "title": "FireStore Query sub collection", "body": "<p>i have the following structure in FireStore,</p>\n\n<ul>\n<li><p>questions [collection]</p>\n\n<ul>\n<li><p>quiz 1 [document]</p>\n\n<ul>\n<li>results[collection]</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>I want to have questions in the questions collection, then, when a user answers a question, his/her result is stored in the question's sub collection with user's string id as the id. My problem is, how can i query to get questions a user has not answered. i.e unanswered questions are those that don't have a result with user's id as their id. Hope am clear enough on this. Thanks.<a href=\"https://i.stack.imgur.com/M7Hxm.png\" rel=\"nofollow noreferrer\">FireStore Screenshot</a></p>\n\n<pre><code>val questionsRef = db.collection(\"questions\")\nval query = questionsRef.whereEqualTo(\n        questionsRef.document().collection( \"results\" ).document(App.INSTANCE.appUUIDString), null)\n        .limit(50).get()\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1513437840, "post_id": 47847110, "comment_id": 82658359, "body": "Not natively: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections</a>"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 2, "creation_date": 1513442477, "post_id": 47847110, "comment_id": 82659820, "body": "Why don&#39;t you use guava in Kotlin?"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1513442548, "post_id": 47847110, "comment_id": 82659846, "body": "No, currently it&#39;s not in the stdlib."}, {"owner": {"reputation": 7544, "user_id": 73046, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/pWrkh.jpg?s=128&g=1", "display_name": "James Moore", "link": "https://stackoverflow.com/users/73046/james-moore"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1570996845, "post_id": 47847110, "comment_id": 103084856, "body": "@ice1000 how would that work when you compile to javascript or native? jvm isn&#39;t the only kotlin target, and AFAIK there&#39;s only a jvm implementation for guava."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 7544, "user_id": 73046, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/pWrkh.jpg?s=128&g=1", "display_name": "James Moore", "link": "https://stackoverflow.com/users/73046/james-moore"}, "edited": false, "score": 0, "creation_date": 1571086451, "post_id": 47847110, "comment_id": 103115915, "body": "@JamesMoore using sets and maps in the stdlib and <code>map[&quot;key&quot;].forEach(::println)</code>?"}, {"owner": {"reputation": 7544, "user_id": 73046, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/pWrkh.jpg?s=128&g=1", "display_name": "James Moore", "link": "https://stackoverflow.com/users/73046/james-moore"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1571613590, "post_id": 47847110, "comment_id": 103288614, "body": "@ice1000 The question was about multimap implementations in Kotlin.  Answers that require a JVM are off-topic since Kotlin isn&#39;t JVM-specific."}], "answers": [{"comments": [{"owner": {"reputation": 12211, "user_id": 404568, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/W1j32.jpg?s=128&g=1", "display_name": "David Given", "link": "https://stackoverflow.com/users/404568/david-given"}, "edited": false, "score": 1, "creation_date": 1530822584, "post_id": 47847868, "comment_id": 89380496, "body": "Sadly, none of these are an option for Kotlin/Javascript or Kotlin/Native."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 16, "last_activity_date": 1513442655, "creation_date": 1513442655, "answer_id": 47847868, "question_id": 47847110, "link": "https://stackoverflow.com/questions/47847110/is-there-multimap-in-kotlin/47847868#47847868", "title": "Is there Multimap in Kotlin?", "body": "<p>No, there currently isn't. And there probably won't be one in the future.</p>\n\n<p>Reference: <a href=\"https://discuss.kotlinlang.org/t/the-standard-library-and-a-kotlin-manifesto/1303/6\" rel=\"noreferrer\">https://discuss.kotlinlang.org/t/the-standard-library-and-a-kotlin-manifesto/1303/6</a></p>\n\n<p>Alternative:</p>\n\n<pre><code>org.springframework.util.MultiValueMap\norg.apache.commons.collections4.MultiMap\ncom.google.common.collect.Multimap\n</code></pre>\n\n<p>To play with the <code>Set</code> in your example, you can:</p>\n\n<pre><code>map[\"key\"].forEach(::println)\n</code></pre>\n\n<p>Or something else.</p>\n"}, {"comments": [{"owner": {"reputation": 11721, "user_id": 1541188, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c0a05a09fcfd23c6dedbd9e407a788f3?s=128&d=identicon&r=PG", "display_name": "urSus", "link": "https://stackoverflow.com/users/1541188/ursus"}, "edited": false, "score": 1, "creation_date": 1554855497, "post_id": 52306477, "comment_id": 97901597, "body": "synchronizing this will be a pain if needed though"}, {"owner": {"reputation": 1850, "user_id": 42418, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/194c1de09ca48f9ceaf2306eb5cbbe04?s=128&d=identicon&r=PG", "display_name": "Alexander Vasiljev", "link": "https://stackoverflow.com/users/42418/alexander-vasiljev"}, "reply_to_user": {"reputation": 11721, "user_id": 1541188, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c0a05a09fcfd23c6dedbd9e407a788f3?s=128&d=identicon&r=PG", "display_name": "urSus", "link": "https://stackoverflow.com/users/1541188/ursus"}, "edited": false, "score": 0, "creation_date": 1555389105, "post_id": 52306477, "comment_id": 98082666, "body": "@urSus agree with you here. Simple replacement of <code>HashMap</code> with <code>ConcurrentHashMap</code> would not work. I&#39;d ask a question first: do you really need blocking synchronization? What if you&#39;ll try an Actor pattern instead?"}, {"owner": {"reputation": 11721, "user_id": 1541188, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c0a05a09fcfd23c6dedbd9e407a788f3?s=128&d=identicon&r=PG", "display_name": "urSus", "link": "https://stackoverflow.com/users/1541188/ursus"}, "edited": false, "score": 3, "creation_date": 1555390563, "post_id": 52306477, "comment_id": 98083033, "body": "Not really, just pointing it out for people, that if they need synchronization, ConcurrentMap&lt;MultiMap&gt; should work, as opossed to ConcurrentMap&lt;HashMap&lt;String, Set&gt; where adding to that set will not be synchronized (just the map)"}], "tags": [], "owner": {"reputation": 1850, "user_id": 42418, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/194c1de09ca48f9ceaf2306eb5cbbe04?s=128&d=identicon&r=PG", "display_name": "Alexander Vasiljev", "link": "https://stackoverflow.com/users/42418/alexander-vasiljev"}, "is_accepted": false, "score": 7, "last_activity_date": 1536811388, "creation_date": 1536811388, "answer_id": 52306477, "question_id": 47847110, "link": "https://stackoverflow.com/questions/47847110/is-there-multimap-in-kotlin/52306477#52306477", "title": "Is there Multimap in Kotlin?", "body": "<blockquote>\n  <p>But it is hard to interact with Set inside the map.</p>\n</blockquote>\n\n<p>It's not that hard, e.g.:</p>\n\n<pre><code>val map = HashMap&lt;String, MutableSet&lt;String&gt;&gt;()\nmap.getOrPut(\"howdy\") { mutableSetOf() }.add(\"world\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1165, "user_id": 6618425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48349051d3a7e91803dd587b6e18e1df?s=128&d=identicon&r=PG", "display_name": "L&#233;o Schneider", "link": "https://stackoverflow.com/users/6618425/l%c3%a9o-schneider"}, "is_accepted": false, "score": 0, "last_activity_date": 1594972055, "creation_date": 1594972055, "answer_id": 62949441, "question_id": 47847110, "link": "https://stackoverflow.com/questions/47847110/is-there-multimap-in-kotlin/62949441#62949441", "title": "Is there Multimap in Kotlin?", "body": "<p>If you use Kotlin on the JVM and Spring: you can use the <code>collectionUtils</code> for <code>MultivalueMap</code>: and you can also get an unmodifiable type: which in reality just throws <code>UnsupportedOperationException</code> on the modifications.</p>\n<pre><code>val myMap = mapOf(&quot;1&quot; to listOf(1,2,3))\nCollectionUtils.unmodifiableMultiValueMap(CollectionUtils.toMultiValueMap(myMap))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 747, "user_id": 3965524, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/4b373d07c227b6876d94b31c953a2347?s=128&d=identicon&r=PG&f=1", "display_name": "JavaTec", "link": "https://stackoverflow.com/users/3965524/javatec"}, "is_accepted": false, "score": 1, "last_activity_date": 1597164103, "creation_date": 1597164103, "answer_id": 63362656, "question_id": 47847110, "link": "https://stackoverflow.com/questions/47847110/is-there-multimap-in-kotlin/63362656#63362656", "title": "Is there Multimap in Kotlin?", "body": "<p>You could also use:\n<code>val myMap = LinkedMultiValueMap&lt;String, String&gt;().apply {add(&quot;Hello&quot;, &quot;World&quot;)}</code></p>\n"}], "owner": {"reputation": 428, "user_id": 8338299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92b0f602d47127fe8d34802e86a3b045?s=128&d=identicon&r=PG&f=1", "display_name": "Arseniy", "link": "https://stackoverflow.com/users/8338299/arseniy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13456, "favorite_count": 0, "accepted_answer_id": 47847868, "answer_count": 4, "score": 26, "last_activity_date": 1597164103, "creation_date": 1513437759, "question_id": 47847110, "link": "https://stackoverflow.com/questions/47847110/is-there-multimap-in-kotlin", "title": "Is there Multimap in Kotlin?", "body": "<p>I need to store values in map likie this:</p>\n\n<pre><code> val map = HashMap&lt;String, Set&lt;String&gt;&gt;()\n</code></pre>\n\n<p>But it is hard to interact with Set inside the map.</p>\n\n<p>Is there any multimap implementations in Kotlin like <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Multimap.html\" rel=\"noreferrer\"> Multimap in Google Guava</a>?</p>\n"}, {"tags": ["java", "math", "reference", "kotlin"], "comments": [{"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 5, "creation_date": 1513435413, "post_id": 47846653, "comment_id": 82657605, "body": "<code>import kotlin.math.sqrt</code>"}, {"owner": {"reputation": 91, "user_id": 8325398, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/85deb2123a4c47323167af0a52b603f6?s=128&d=identicon&r=PG&f=1", "display_name": "Baptiste", "link": "https://stackoverflow.com/users/8325398/baptiste"}, "reply_to_user": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 0, "creation_date": 1513435762, "post_id": 47846653, "comment_id": 82657715, "body": "Why did import kotlin.* doesn&#39;t work ?"}, {"owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "edited": false, "score": 1, "creation_date": 1513435903, "post_id": 47846653, "comment_id": 82657767, "body": "Because the star notation is not recursive, just like in Java."}, {"owner": {"reputation": 22814, "user_id": 182660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75e48a7020624657e5da6033590030ee?s=128&d=identicon&r=PG", "display_name": "SergGr", "link": "https://stackoverflow.com/users/182660/serggr"}, "edited": false, "score": 2, "creation_date": 1513436058, "post_id": 47846653, "comment_id": 82657811, "body": "What duffymo is saying is that if you want to use <code>*</code> you should <code>import kotlin.math.*</code> rather than <code>import kotlin.*</code>"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1513438021, "post_id": 47846653, "comment_id": 82658408, "body": "Also, you can (and should) remove those semicolons. They have no effect."}, {"owner": {"reputation": 91, "user_id": 8325398, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/85deb2123a4c47323167af0a52b603f6?s=128&d=identicon&r=PG&f=1", "display_name": "Baptiste", "link": "https://stackoverflow.com/users/8325398/baptiste"}, "edited": false, "score": 0, "creation_date": 1513518717, "post_id": 47846653, "comment_id": 82675632, "body": "I have the same problem when I use the eval() function. How can I know which package to import ?"}, {"owner": {"reputation": 397, "user_id": 6510944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/213bbfd4b9567d215750985ced9d8f95?s=128&d=identicon&r=PG", "display_name": "vSomers", "link": "https://stackoverflow.com/users/6510944/vsomers"}, "edited": false, "score": 0, "creation_date": 1568030324, "post_id": 47846653, "comment_id": 102133299, "body": "@BaptisteMarcos Which IDE are you using? Maybe you should consider using an IDE such as <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">Intellij</a>, where you can configure auto import to avoid doing it manually."}], "owner": {"reputation": 91, "user_id": 8325398, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/85deb2123a4c47323167af0a52b603f6?s=128&d=identicon&r=PG&f=1", "display_name": "Baptiste", "link": "https://stackoverflow.com/users/8325398/baptiste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1959, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1513434389, "creation_date": 1513434389, "question_id": 47846653, "link": "https://stackoverflow.com/questions/47846653/unresolved-reference-sqrt-kotlin", "title": "Unresolved reference sqrt() Kotlin", "body": "<p>I want to use :  (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.math/sqrt.html\" rel=\"nofollow noreferrer\">link</a>)</p>\n\n<pre><code>fun sqrt(x: Double): Double\n</code></pre>\n\n<p>which is a basic math function in my kotlin version :   </p>\n\n<blockquote>\n  <p>kotlinc-jvm 1.2.0 (JRE 1.8.0_151-b12)</p>\n</blockquote>\n\n<p>Actually my code is :</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){ \n    println(doSqrt(\"16\"));\n}\n\nfun doSqrt(num: String) : String{\n    var number: Int = num.toInt();\n    var nb: Double = number.toDouble();\n    var result: Double = sqrt(nb);\n    return (result.toString())\n}\n</code></pre>\n\n<p>but when I compile with </p>\n\n<blockquote>\n  <p>kotlinc test.kt -include-runtime -d test.jar</p>\n</blockquote>\n\n<p>Result is :</p>\n\n<pre><code>test.kt:10:26: error: unresolved reference: sqrt\n     var result: Double = sqrt(nb);\n</code></pre>\n\n<p>I try to import </p>\n\n<blockquote>\n  <p>kotlin.Math</p>\n</blockquote>\n\n<p>It doesn't work I also try to import</p>\n\n<blockquote>\n  <p>kotlin.*</p>\n</blockquote>\n\n<p>Same problem...</p>\n\n<p>Which way to use the sqrt function in Kotlin ?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "java-io"], "answers": [{"tags": [], "owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "is_accepted": true, "score": 1, "last_activity_date": 1513434376, "creation_date": 1513434376, "answer_id": 47846651, "question_id": 47846559, "link": "https://stackoverflow.com/questions/47846559/android-kotlin-read-file-using-java-io-file-path-trouble/47846651#47846651", "title": "Android/Kotlin read file using Java.io.File : path trouble", "body": "<p>put the wordsData file into the android <code>assets</code> folder, it is the folder where you can put raw data assets in android</p>\n\n<p>Then in your Activity you can get an InputStream like this:</p>\n\n<pre><code>getAssets().open(\"wordsData.txt\")\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9104398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a649598b07154635a437ec0dc56ac82?s=128&d=identicon&r=PG&f=1", "display_name": "Flx", "link": "https://stackoverflow.com/users/9104398/flx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2256, "favorite_count": 0, "accepted_answer_id": 47846651, "answer_count": 1, "score": 1, "last_activity_date": 1518299014, "creation_date": 1513433691, "question_id": 47846559, "link": "https://stackoverflow.com/questions/47846559/android-kotlin-read-file-using-java-io-file-path-trouble", "title": "Android/Kotlin read file using Java.io.File : path trouble", "body": "<p>I am trying to develop my first app on android using Kotlin. For the moment I try to read a file located in my android project.\nI have the following architecture under my \"Java\" folder :</p>\n\n<pre><code>/java/example.first.com.monapp/controller/FirstActivity.kt\n/java/example.first.com.monapp/controller/WelcomeActivity.kt\n/java/example.first.com.monapp/model/words.kt\n/java/example.first.com.monapp/model/wordsData\n</code></pre>\n\n<p>wordsData is a text file with raw data (3 words per line separated by a \";\")</p>\n\n<p>The code in words.kt is :</p>\n\n<pre><code>package example.first.com.monapp.model\n\nimport java.io.File\n\ndata class Word(val wordFr:String, val wordRu:String, val active:Boolean)\n\nfun readFileKotlin(): List&lt;Word&gt; {\n\n    val fileToRead=\"wordsData\"\n    val wordList = mutableListOf&lt;Word&gt;()\n    var reader= File(fileToRead).readLines()\n    var wrdLst:List&lt;Word&gt;\n\n    for (line in reader) {\n        val wrdProperties = line.split(\";\")\n        wordList.add(Word(wrdProperties[0], wrdProperties[1], wrdProperties[2].toBoolean()))\n    }\n    wrdLst=wordList\n    return wrdLst\n}\n</code></pre>\n\n<p>I call the readFileKotlin function during the creation of my activity but I continuously get the \"java.io.FileNotFoundException\" No such file or directory error.</p>\n\n<p>I tried several variant to the path such as</p>\n\n<pre><code>val fileToRead=\"model/wordsData\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val fileToRead=\"/java/example.first.com.monapp/model/\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val fileToRead=\"/java/example/first/com/monapp/model/\"\n</code></pre>\n\n<p>but none of this works.</p>\n\n<p>What am I doing wrong ?</p>\n\n<p>Thanks in advance !</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 23, "user_id": 9106900, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-33m5SyBO7yE/AAAAAAAAAAI/AAAAAAAAAQo/oI1B0KH4Kxs/photo.jpg?sz=128", "display_name": "Metho Yehia", "link": "https://stackoverflow.com/users/9106900/metho-yehia"}, "edited": false, "score": 0, "creation_date": 1513427420, "post_id": 47845643, "comment_id": 82655386, "body": "@MethoYehia what is the name of your activity"}, {"owner": {"reputation": 23, "user_id": 9106900, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-33m5SyBO7yE/AAAAAAAAAAI/AAAAAAAAAQo/oI1B0KH4Kxs/photo.jpg?sz=128", "display_name": "Metho Yehia", "link": "https://stackoverflow.com/users/9106900/metho-yehia"}, "edited": false, "score": 0, "creation_date": 1513427531, "post_id": 47845643, "comment_id": 82655421, "body": "the activity name is &quot;age&quot;"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 23, "user_id": 9106900, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-33m5SyBO7yE/AAAAAAAAAAI/AAAAAAAAAQo/oI1B0KH4Kxs/photo.jpg?sz=128", "display_name": "Metho Yehia", "link": "https://stackoverflow.com/users/9106900/metho-yehia"}, "edited": false, "score": 0, "creation_date": 1513427574, "post_id": 47845643, "comment_id": 82655433, "body": "@MethoYehia than use this <b><code>val intent = Intent(this, age::class.java)</code></b>"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 23, "user_id": 9106900, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-33m5SyBO7yE/AAAAAAAAAAI/AAAAAAAAAQo/oI1B0KH4Kxs/photo.jpg?sz=128", "display_name": "Metho Yehia", "link": "https://stackoverflow.com/users/9106900/metho-yehia"}, "edited": false, "score": 0, "creation_date": 1513428560, "post_id": 47845643, "comment_id": 82655675, "body": "@MethoYehia happy to help you my friend"}], "tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1513428542, "last_edit_date": 1513428542, "creation_date": 1513427049, "answer_id": 47845643, "question_id": 47845615, "link": "https://stackoverflow.com/questions/47845615/unable-to-find-explicit-activity-kotlin/47845643#47845643", "title": "Unable to find explicit activity (Kotlin)", "body": "<p>There is Typing mistake check it </p>\n\n<p>your activity name is <strong><code>activity_age</code></strong> and you have added in manifest <strong><code>age</code></strong> is </p>\n\n<pre><code>fab.setOnClickListener {\n        val intent = Intent(this,age::class.java)\n        startActivity(intent)\n    }\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9106900, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-33m5SyBO7yE/AAAAAAAAAAI/AAAAAAAAAQo/oI1B0KH4Kxs/photo.jpg?sz=128", "display_name": "Metho Yehia", "link": "https://stackoverflow.com/users/9106900/metho-yehia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1413, "favorite_count": 1, "accepted_answer_id": 47845643, "answer_count": 1, "score": 2, "last_activity_date": 1513428717, "creation_date": 1513426830, "last_edit_date": 1513428717, "question_id": 47845615, "link": "https://stackoverflow.com/questions/47845615/unable-to-find-explicit-activity-kotlin", "title": "Unable to find explicit activity (Kotlin)", "body": "<p>i made a new activity and when i im trying to move between them by clicking a button the app crash and logcat shows the error below</p>\n\n<pre><code>    12-16 14:02:09.016 23235-23235/com.modather.scalculate E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.modather.scalculate, PID: 23235\nandroid.content.ActivityNotFoundException: Unable to find explicit activity class {com.modather.scalculate/android.support.v7.widget.AppCompatButton}; have you declared this activity in your AndroidManifest.xml?\n                                                                             at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java)\nat android.app.Instrumentation.execStartActivity(Instrumentation.java)\nat android.app.Activity.startActivityForResult(Activity.java)\nat android.support.v4.app.BaseFragmentActivityApi16.startActivityForResult(BaseFragmentActivityApi16.java:54)\nat android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:67)\nat android.app.Activity.startActivityForResult(Activity.java)\nat android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:720)\nat android.app.Activity.startActivity(Activity.java)\nat android.app.Activity.startActivity(Activity.java)\nat com.modather.scalculate.HomePage$onCreate$1.onClick(HomePage.kt:36)\nat android.view.View.performClick(View.java)\nat android.view.View$PerformClick.run(View.java)\nat android.os.Handler.handleCallback(Handler.java)\nat android.os.Handler.dispatchMessage(Handler.java)\nat android.os.Looper.loop(Looper.java)\nat android.app.ActivityThread.main(ActivityThread.java)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java)\nat de.robv.android.xposed.XposedBridge.main(XposedBridge.java:107)\n</code></pre>\n\n<p><strong>AndroidManifest.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:name=\".HomePage\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=\"com.modather.scalculate.age\"\n        android:label=\"Calculate my age(SC)\" /&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>\ni had searched over stackoverflow and found some solution but it didn't work for me.. so if it possible to fix mine ?\nHere's the moving code</p>\n\n<pre><code>fab.setOnClickListener {\n        val intent = Intent(this, activity_age::class.java)\n        startActivity(intent)\n    }\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-storage"], "answers": [{"tags": [], "owner": {"reputation": 34565, "user_id": 4815718, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CppAt.jpg?s=128&g=1", "display_name": "Bob Snyder", "link": "https://stackoverflow.com/users/4815718/bob-snyder"}, "is_accepted": false, "score": 0, "last_activity_date": 1513439107, "creation_date": 1513439107, "answer_id": 47847326, "question_id": 47845276, "link": "https://stackoverflow.com/questions/47845276/firebase-storage-onsuceesslistner-in-kotlin-not-showing/47847326#47847326", "title": "Firebase Storage OnsuceessListner in kotlin not showing", "body": "<p>The <a href=\"https://developers.google.com/android/reference/com/google/firebase/storage/UploadTask.TaskSnapshot\" rel=\"nofollow noreferrer\">UploadTask.TaskSnapshot</a> is available as shown below:</p>\n\n<pre><code> hh.putFile(g).addOnSuccessListener { taskSnapshot -&gt;\n    pdialog.dismiss()\n    Toast.makeText(this,\"upload Done\",Toast.LENGTH_LONG).show()\n\n    val uri = taskSnapshot.downloadUrl\n }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 549, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513464636, "creation_date": 1513424589, "last_edit_date": 1513464636, "question_id": 47845276, "link": "https://stackoverflow.com/questions/47845276/firebase-storage-onsuceesslistner-in-kotlin-not-showing", "title": "Firebase Storage OnsuceessListner in kotlin not showing", "body": "<p>My addOnSuccessListener is not showing taskSnapshot Override Option,\nhere is my codes:</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if(requestCode==CAMERA_REQUEST_CODE &amp;&amp; resultCode== Activity.RESULT_OK){\n\n            pdialog.setMessage(\"Uploading\")\n            pdialog.show()\n            val g = data!!.data\n            val hh = FirebaseStorage.getInstance().getReference().child(\"camera\").child(\"pics\"+g.lastPathSegment)\n            hh.putFile(g).addOnSuccessListener {  \n                pdialog.dismiss()\n               Toast.makeText(this,\"upload Done\",Toast.LENGTH_LONG).show()\n            }.addOnFailureListener {\n                Toast.makeText(this,\"Error..pls try again\",Toast.LENGTH_LONG).show()\n            }\n        }\n    }\n</code></pre>\n\n<p>how do I retrieve images from firebase server ?</p>\n"}, {"tags": ["kotlin", "inline", "kotlin-interop"], "comments": [{"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 0, "creation_date": 1513427447, "post_id": 47844098, "comment_id": 82655397, "body": "If your goal is to reduce jar size, Proguard is your best friend."}, {"owner": {"reputation": 589, "user_id": 2892515, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e3574ef2bd4047860a03bc73b4702bbc?s=128&d=identicon&r=PG&f=1", "display_name": "Enerccio", "link": "https://stackoverflow.com/users/2892515/enerccio"}, "edited": false, "score": 0, "creation_date": 1528662526, "post_id": 47844098, "comment_id": 88581828, "body": "how about you provide the implementation yourself therefore skipping the need for kotlin stdlib?"}], "answers": [{"comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1513415553, "post_id": 47844145, "comment_id": 82652376, "body": "I&#39;m worried because I&#39;m working on shared libraries and ProGuard is not suitable for me in this case. I obviously know those code elimination tools, and I know how and when to use them. I just want the artifact smaller and smaller. Anyway thanks."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1513415395, "creation_date": 1513415395, "answer_id": 47844145, "question_id": 47844098, "link": "https://stackoverflow.com/questions/47844098/why-intrinsics-checkparameterisnotnull-is-not-inlined/47844145#47844145", "title": "Why `Intrinsics.checkParameterIsNotNull` is not inlined?", "body": "<p>Hopefully someone will show up and give a nicer and more official technical answer, but for starters, I think avoiding (or even trying to avoid) the standard library is not the right approach in general. It contains essential constructs of the language that you probably should be using in any Kotlin codebase. Even the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/index.html\" rel=\"nofollow noreferrer\">docs</a> say that:</p>\n\n<blockquote>\n  <p>The Kotlin Standard Library provides living essentials for everyday work with Kotlin.</p>\n</blockquote>\n\n<p>If you're worried about its size, you can use platform specific tools  to strip any parts of it that you don't use - for example, you can use <a href=\"https://www.guardsquare.com/en/proguard\" rel=\"nofollow noreferrer\">Proguard</a> for Java, and the <a href=\"https://kotlinlang.org/docs/reference/javascript-dce.html\" rel=\"nofollow noreferrer\">DCE plugin</a> for JavaScript. Most of its contents aren't inter-dependent, so these tools can drastically reduce the amount of code your final output will contain from the standard library.</p>\n"}, {"comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 3, "creation_date": 1513425768, "post_id": 47844243, "comment_id": 82654898, "body": "No need to guess. You can actually compare the bytecode size for invocation of <code>Intrinsics.checkParameterIsNotNull</code> with the bytecode of the corresponding code if it were inlined and verify that the former is indeed considerably smaller."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 3, "last_activity_date": 1513416506, "creation_date": 1513416506, "answer_id": 47844243, "question_id": 47844098, "link": "https://stackoverflow.com/questions/47844098/why-intrinsics-checkparameterisnotnull-is-not-inlined/47844243#47844243", "title": "Why `Intrinsics.checkParameterIsNotNull` is not inlined?", "body": "<p>My guess is that a call to this final method is more efficient than inlining it. </p>\n\n<p>Although the code may appear simple, its byte code is rather long. Inlining it would hurt efficiency.  </p>\n"}], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1376, "favorite_count": 0, "accepted_answer_id": 47844243, "answer_count": 2, "score": 5, "last_activity_date": 1513427886, "creation_date": 1513414930, "last_edit_date": 1513427886, "question_id": 47844098, "link": "https://stackoverflow.com/questions/47844098/why-intrinsics-checkparameterisnotnull-is-not-inlined", "title": "Why `Intrinsics.checkParameterIsNotNull` is not inlined?", "body": "<p>In Kotlin, if we decompile some Kotlin bytecode to Java, we can often see this statement which does null checks:</p>\n\n<pre><code>Intrinsics.checkParameterIsNotNull(foo, \"foo\")\n</code></pre>\n\n<p>If we explore furthur, we can see the decompiled implementation of this method, it's implementation is exactly the same as it's name:</p>\n\n<pre><code>public static void checkParameterIsNotNull(Object value, String paramName) {\n    if (value == null) {\n        throwParameterIsNullException(paramName);\n    }\n}\n</code></pre>\n\n<p>Due to the existense of this class (<code>Intrinsics</code>), I can't use Kotlin without the stdlib, even if I tried my best to avoid using functions from stdlib, it automatically generates calls to <code>Intrinsics.checkParameterIsNotNull</code>.  </p>\n\n<p>Since the implementation of this method is very short (and appears very very often), why isn't this function inlined?</p>\n\n<p>Is there some annotations that allow us to prevent Kotlin compiler from generating this null check? (maybe something like <code>@TrustedNotNull</code>)</p>\n\n<p>For ProGuard: I'm worried because I'm working on shared libraries and ProGuard is not suitable for me in this case. I obviously know those code elimination tools (ProGuard, dce-js), and I know how and when to use them.<br>\nI'm just asking why is a function not inlined.</p>\n"}, {"tags": ["arrays", "loops", "foreach", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 16751, "user_id": 602094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/725306370a270aec71f052f366496ddb?s=128&d=identicon&r=PG", "display_name": "triad", "link": "https://stackoverflow.com/users/602094/triad"}, "is_accepted": true, "score": 6, "last_activity_date": 1513403803, "creation_date": 1513403803, "answer_id": 47842988, "question_id": 47842940, "link": "https://stackoverflow.com/questions/47842940/kotlin-foreach-order/47842988#47842988", "title": "Kotlin forEach order", "body": "<p><code>forEach</code> iterates in order from first to last element; source code:</p>\n\n<p><code>Collections.kt</code></p>\n\n<pre><code>/**\n * Performs the given [action] on each element.\n */\n@kotlin.internal.HidesMembers\npublic inline fun &lt;T&gt; Iterable&lt;T&gt;.forEach(action: (T) -&gt; Unit): Unit {\n    for (element in this) action(element)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 428, "user_id": 8338299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92b0f602d47127fe8d34802e86a3b045?s=128&d=identicon&r=PG&f=1", "display_name": "Arseniy", "link": "https://stackoverflow.com/users/8338299/arseniy"}, "is_accepted": false, "score": 3, "last_activity_date": 1513404664, "creation_date": 1513404664, "answer_id": 47843068, "question_id": 47842940, "link": "https://stackoverflow.com/questions/47842940/kotlin-foreach-order/47843068#47843068", "title": "Kotlin forEach order", "body": "<p>Yeah, it keeps real order. Look at implementation:   </p>\n\n<pre><code>public inline fun IntArray.forEach(action: (Int) -&gt; Unit): Unit {\n        for (element in this) action(element)\n    }\n</code></pre>\n\n<p>For loop uses iterator of the array, which keeps order too.</p>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 188291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2e74cfcc8ac58504f8e47fad5251690?s=128&d=identicon&r=PG", "display_name": "tweitzel", "link": "https://stackoverflow.com/users/188291/tweitzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1513427476, "creation_date": 1513427476, "answer_id": 47845708, "question_id": 47842940, "link": "https://stackoverflow.com/questions/47842940/kotlin-foreach-order/47845708#47845708", "title": "Kotlin forEach order", "body": "<p>These are two separate questions. Yes, as pointed out by the other answers, it keeps the order. But since <code>forEach</code> doesn't print anything, it all depends on the implementation of the printing.</p>\n\n<p>For example, this will not always print the numbers 1 to 10 in order, even though it uses <code>forEach</code>:</p>\n\n<pre><code>fun myPrint(i: Int) = launch { println(i) }\n\n(1..10).forEach { n -&gt; myPrint(n) }\n</code></pre>\n\n<p>Since we don't know how your <code>Log.d(...)</code> is implemented, we can't be sure.</p>\n"}], "owner": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3519, "favorite_count": 0, "accepted_answer_id": 47842988, "answer_count": 3, "score": 3, "last_activity_date": 1513427476, "creation_date": 1513403371, "question_id": 47842940, "link": "https://stackoverflow.com/questions/47842940/kotlin-foreach-order", "title": "Kotlin forEach order", "body": "<p>Does Kotlin forEach iterate through an array in real order of array or it may be sometimes in another order? I mean does this always print 1,2,3,...9 or it may print something like this 1,5,3,4,...</p>\n\n<pre><code>val numbers: Array&lt;Int&gt; = array(1,2,3,4,5,6,7,8,9)\n    numbers.forEach({(number: Int) -&gt;\n        Log.d(tag,number)\n    })\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each.html\" rel=\"nofollow noreferrer\">Kotlin forEach reference</a></p>\n"}, {"tags": ["android", "android-fragments", "android-viewpager", "kotlin", "fragmentmanager"], "comments": [{"owner": {"reputation": 964, "user_id": 8268683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b20af789de522658684719a5e932af30?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Farhan", "link": "https://stackoverflow.com/users/8268683/mohammed-farhan"}, "edited": false, "score": 0, "creation_date": 1513398241, "post_id": 47842191, "comment_id": 82649100, "body": "try setting offScreenPageLimit to 2 like <code>viewPager.setOffscreenPageLimit(2);</code> this is <code>java</code> code. write equivalent code in <code>kotlin</code>"}, {"owner": {"reputation": 970, "user_id": 7931009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa3ed11dc33a4b1e9dadab14cd80d9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub D\u0105bek", "link": "https://stackoverflow.com/users/7931009/jakub-d%c4%85bek"}, "reply_to_user": {"reputation": 964, "user_id": 8268683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b20af789de522658684719a5e932af30?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Farhan", "link": "https://stackoverflow.com/users/8268683/mohammed-farhan"}, "edited": false, "score": 0, "creation_date": 1513398318, "post_id": 47842191, "comment_id": 82649112, "body": "@mohammed this would only make the matter worse as the pages wouldn&#39;t refresh at all"}, {"owner": {"reputation": 964, "user_id": 8268683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b20af789de522658684719a5e932af30?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Farhan", "link": "https://stackoverflow.com/users/8268683/mohammed-farhan"}, "edited": false, "score": 0, "creation_date": 1513398467, "post_id": 47842191, "comment_id": 82649134, "body": "use <code>addOnPageChangeListener() on viewpager</code> and refresh the pages inside <code>onPageSelected()</code>"}, {"owner": {"reputation": 970, "user_id": 7931009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa3ed11dc33a4b1e9dadab14cd80d9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub D\u0105bek", "link": "https://stackoverflow.com/users/7931009/jakub-d%c4%85bek"}, "reply_to_user": {"reputation": 964, "user_id": 8268683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b20af789de522658684719a5e932af30?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Farhan", "link": "https://stackoverflow.com/users/8268683/mohammed-farhan"}, "edited": false, "score": 0, "creation_date": 1513398728, "post_id": 47842191, "comment_id": 82649176, "body": "@mohammed what do you mean by refresh the pages? Somehow inflate the view again, or what?"}], "answers": [{"comments": [{"owner": {"reputation": 970, "user_id": 7931009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa3ed11dc33a4b1e9dadab14cd80d9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub D\u0105bek", "link": "https://stackoverflow.com/users/7931009/jakub-d%c4%85bek"}, "edited": false, "score": 0, "creation_date": 1513396914, "post_id": 47842342, "comment_id": 82648914, "body": "That&#39;s also one of the things I tried when searching for an answer, but the application keeps crashing. Here&#39;s the <a href=\"https://pastebin.com/3eKjrH7z\" rel=\"nofollow noreferrer\">stack trace</a>. The main <code>FragmentManager</code> tries getting the state from its saved fragment array for some reason I can&#39;t figure out how to circumvent."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 970, "user_id": 7931009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa3ed11dc33a4b1e9dadab14cd80d9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub D\u0105bek", "link": "https://stackoverflow.com/users/7931009/jakub-d%c4%85bek"}, "edited": false, "score": 0, "creation_date": 1513406283, "post_id": 47842342, "comment_id": 82650389, "body": "@JakubD\u0105bek Is it possible for you to use <code>FragmentPagerAdapter</code> instead of <code>FragmentStatePagerAdapter</code> as suggested <a href=\"https://stackoverflow.com/questions/18747975/difference-between-fragmentpageradapter-and-fragmentstatepageradapter\">here</a>? I don&#39;t really know the reason of that error but it seems that it is caused by using <code>FragmentStatePagerAdapter</code>."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 970, "user_id": 7931009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa3ed11dc33a4b1e9dadab14cd80d9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub D\u0105bek", "link": "https://stackoverflow.com/users/7931009/jakub-d%c4%85bek"}, "edited": false, "score": 0, "creation_date": 1513408854, "post_id": 47842342, "comment_id": 82650862, "body": "FYR, this <a href=\"https://stackoverflow.com/questions/45665709/using-fragmentstatepageadapter-to-retain-position-for-fragment-with-viewpager\">post</a> seems to have the same problem."}], "tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 7, "last_activity_date": 1513396095, "creation_date": 1513396095, "answer_id": 47842342, "question_id": 47842191, "link": "https://stackoverflow.com/questions/47842191/fragment-with-viewpager-having-blank-pages-after-returning-to-it-from-another-fr/47842342#47842342", "title": "Fragment with ViewPager having blank pages after returning to it from another fragment", "body": "<p>You should use <code>childFragmentManager</code> instead of <code>activity.supportFragmentManager</code> inside <code>SwipeFragment</code>.</p>\n\n<pre><code>view.pager.adapter = DummyPagerAdapter(childFragmentManager, index)\n</code></pre>\n\n<p>The difference between <code>getSupportFragmentManager()</code> and <code>getChildFragmentManager()</code> is discussed <a href=\"https://stackoverflow.com/questions/14740445/what-is-difference-between-getsupportfragmentmanager-and-getchildfragmentmanag\">here</a>.</p>\n\n<blockquote>\n  <p>Basically, the difference is that Fragment's now have their own internal FragmentManager that can handle Fragments. The child FragmentManager is the one that handles Fragments contained within only the Fragment that it was added to. The other FragmentManager is contained within the entire Activity.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 0, "last_activity_date": 1544526060, "creation_date": 1544526060, "answer_id": 53722701, "question_id": 47842191, "link": "https://stackoverflow.com/questions/47842191/fragment-with-viewpager-having-blank-pages-after-returning-to-it-from-another-fr/53722701#53722701", "title": "Fragment with ViewPager having blank pages after returning to it from another fragment", "body": "<p>In my case <code>childFragmentManager</code> didn't help. I think we can use a pattern \"Observer\" to update existing fragments of <code>ViewPager</code> with new data when return from another fragment.</p>\n"}], "owner": {"reputation": 970, "user_id": 7931009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa3ed11dc33a4b1e9dadab14cd80d9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub D\u0105bek", "link": "https://stackoverflow.com/users/7931009/jakub-d%c4%85bek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1074, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1544526060, "creation_date": 1513393823, "question_id": 47842191, "link": "https://stackoverflow.com/questions/47842191/fragment-with-viewpager-having-blank-pages-after-returning-to-it-from-another-fr", "title": "Fragment with ViewPager having blank pages after returning to it from another fragment", "body": "<p>In my application I'm trying to create 2 fragments with <code>ViewPager</code>s. The fragments have 3 tabs/pages each with <code>RecyclerView</code>s and they are supposed to be backed by a database, so I'm keeping them in a <code>List</code>.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {    \n    val fragments = listOf(SwipeFragment(), SwipeFragment())\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        supportFragmentManager.beginTransaction().replace(R.id.placeholder, fragments[0]).commit()\n        button1.setOnClickListener { \n            supportFragmentManager.beginTransaction().replace(R.id.placeholder, fragments[0]).commit()\n        }\n        button2.setOnClickListener {\n            supportFragmentManager.beginTransaction().replace(R.id.placeholder, fragments[1]).commit()\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is that after navigating away from the <code>SwipeFragment</code> and going back, the view seems empty. Then, if you navigate to e.g. the leftmost page, the rightmost one \"appears\" (when you go to it).\nThis results in the middle page staying empty. (the reason for it being that <code>FragmentStatePagerAdapter</code> keeps only the current page and 2 adjacent ones by default. The middle one doesn't get refreshed in a layout with 3 tabs - I tried it also with 5 tabs and I'm able to bring all of them back by going back and forth).  </p>\n\n<p>After some debugging I saw that the fragments that represent pages don't get removed from the <code>FragmentManager</code>, but the main <code>SwipeFragment</code> is. I can't get my head around how <code>FragmentManager</code> really works, even after reading almost all of the source code. </p>\n\n<p>If I were able to somehow safely remove the fragments from the <code>FragmentManager</code>, it may work.<br>\nI've tried some techniques for saving state, but the framework does that automatically (which might actually be the cause of this problem).<br>\nI'm just a beginner in Android, so there's probably a better way to do this anyway. I'll leave the rest of the files here for reference.</p>\n\n<hr>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\"com.example.test.MainActivity\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/placeholder\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:layout_weight=\"1\" /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"0\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;Button\n            android:id=\"@+id/button1\"\n            style=\"?android:buttonBarButtonStyle\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:text=\"button1\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/button2\"\n            style=\"?android:buttonBarButtonStyle\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:text=\"button2\" /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>SwipeFragment.kt</strong></p>\n\n<pre><code>class SwipeFragment : Fragment() {\n\n    // TODO: set up and keep the database here\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n        val view = inflater!!.inflate(R.layout.fragment_swipe, container, false)\n        view.tab_layout.setupWithViewPager(view.pager)\n        view.pager.adapter = DummyPagerAdapter(activity.supportFragmentManager, index)\n\n        return view\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>fragment_swipe.xml</strong></p>\n\n<pre><code>&lt;android.support.v4.view.ViewPager \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/pager\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.example.test.SwipeFragment\"&gt;\n\n    &lt;android.support.design.widget.TabLayout\n        android:id=\"@+id/tab_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"/&gt;\n\n&lt;/android.support.v4.view.ViewPager&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>ItemListFragment.kt</strong></p>\n\n<pre><code>class ItemListFragment() : Fragment() {\n\n    // Or keep the database here?\n    // Probably not the best idea though\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n        val view = inflater!!.inflate(R.layout.fragment_item_list, container, false)\n        if (view is RecyclerView) {\n            view.layoutManager = LinearLayoutManager(view.context)\n            view.adapter = MyItemRecyclerViewAdapter(DummyContent.ITEMS)\n        }\n\n        return view\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>DummyPagerAdapter.kt</strong></p>\n\n<pre><code>class DummyPagerAdapter(manager: FragmentManager, val parentIndex: Int) :\n        FragmentStatePagerAdapter(manager) {\n\n    override fun getItem(position: Int): Fragment = ItemListFragment()\n    override fun getPageTitle(position: Int): CharSequence = \"${ position + 1 }\"\n    override fun getCount(): Int = 3\n}\n</code></pre>\n\n<hr>\n\n<p>And a basic implementation of <code>RecyclerView.Adapter</code> generated by Android Studio  </p>\n\n<p><strong>MyItemRecyclerViewAdapter.kt</strong></p>\n\n<pre><code>class MyItemRecyclerViewAdapter(val values: List&lt;DummyItem&gt;) : \n        RecyclerView.Adapter&lt;MyItemRecyclerViewAdapter.ViewHolder&gt;() {\n    ...\n}\n</code></pre>\n\n<p><strong>fragment_item_list.xml</strong></p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/list\"\n    android:name=\"com.example.test.ItemListFragment\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layoutManager=\"LinearLayoutManager\"\n    tools:context=\"com.example.test.ItemListFragment\"\n    tools:listitem=\"@layout/fragment_item\" /&gt;\n</code></pre>\n"}]