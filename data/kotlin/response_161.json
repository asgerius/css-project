[{"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2653, "user_id": 2170074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nd4pI.jpg?s=128&g=1", "display_name": "dgngulcan", "link": "https://stackoverflow.com/users/2170074/dgngulcan"}, "is_accepted": true, "score": 0, "last_activity_date": 1529517180, "last_edit_date": 1529517180, "creation_date": 1518207363, "answer_id": 48713464, "question_id": 48674893, "link": "https://stackoverflow.com/questions/48674893/kotlin-library-project-failed-resolution-of-lkotlin-reflect-kproperty/48713464#48713464", "title": "Kotlin library project Failed resolution of: [Lkotlin/reflect/KProperty", "body": "<p>The problem is that <code>aar</code> file is built without the dependencies of the project. </p>\n\n<p>The solution I went for is to create private <code>maven</code> repository and publish my project with dependencies. </p>\n\n<p>To add your dependencies to generated <code>pom.xml</code> file, you can modify your publish method with the <code>withXml</code> task in your module level <code>build.gradle</code></p>\n\n<pre><code>apply plugin: 'maven-publish'\ngroup = 'com.group'\narchivesBaseName = 'group-sdk'\nversion = '1'\n\npublishing {\n\n    repositories {\n        maven {\n            url myMavenRepoWriteUrl\n            credentials {\n                username 'myMavenRepo'\n                password myMavenRepoReadPassword\n            }\n        }\n    }\n\n    publications {\n        aar(MavenPublication) {\n\n            // Artifact properties\n            groupId group\n            version  version\n            artifactId archivesBaseName\n\n            artifact(\"$buildDir/outputs/aar/${archivesBaseName}-debug.aar\")\n\n            pom.withXml {\n                //Creating additional node for dependencies\n                def dependenciesNode = asNode().appendNode('dependencies')\n\n                //Defining configuration names from which dependencies will be taken (debugCompile or releaseCompile and compile)\n                def configurationNames = [\"debugCompile\", 'compile']\n\n                configurationNames.each { configurationName -&gt;\n                    configurations[configurationName].allDependencies.each {\n                        if (it.group != null &amp;&amp; it.name != null) {\n                            def dependencyNode = dependenciesNode.appendNode('dependency')\n                            dependencyNode.appendNode('groupId', it.group)\n                            dependencyNode.appendNode('artifactId', it.name)\n                            dependencyNode.appendNode('version', it.version)\n\n                            //If there are any exclusions in dependency\n                            if (it.excludeRules.size() &gt; 0) {\n                                def exclusionsNode = dependencyNode.appendNode('exclusions')\n                                it.excludeRules.each { rule -&gt;\n                                    def exclusionNode = exclusionsNode.appendNode('exclusion')\n                                    exclusionNode.appendNode('groupId', rule.group)\n                                    exclusionNode.appendNode('artifactId', rule.module)\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2653, "user_id": 2170074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nd4pI.jpg?s=128&g=1", "display_name": "dgngulcan", "link": "https://stackoverflow.com/users/2170074/dgngulcan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2044, "favorite_count": 1, "accepted_answer_id": 48713464, "answer_count": 1, "score": 4, "last_activity_date": 1529517180, "creation_date": 1518045255, "last_edit_date": 1518051087, "question_id": 48674893, "link": "https://stackoverflow.com/questions/48674893/kotlin-library-project-failed-resolution-of-lkotlin-reflect-kproperty", "title": "Kotlin library project Failed resolution of: [Lkotlin/reflect/KProperty", "body": "<p>I'm currently building a library project which is written in Kotlin. When I export an <code>.aar</code> file and compile on a project, I get the following error refering to a <code>by lazy</code> lambda.</p>\n\n<h3>The error I'm having on the sample app</h3>\n\n<pre><code>Rejecting re-init on previously-failed class java.lang.Class&lt;com.myproject.lib.MainActivity$view$2&gt;: java.lang.NoClassDefFoundError: Failed resolution of: Lkotlin/jvm/internal/Lambda;\n...\njava.lang.NoClassDefFoundError: Failed resolution of: [Lkotlin/reflect/KProperty;\n...\nCaused by: java.lang.ClassNotFoundException: Didn't find class \"kotlin.reflect.KProperty\" on path: DexPathList\n</code></pre>\n\n<h3>The line exception referring to in the library project</h3>\n\n<pre><code>private val view: View by lazy {\n      LayoutInflater.from(context).inflate(R.layout.overlay_view, this, false)\n}\n</code></pre>\n\n<h3>Gradle file of the library project</h3>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: \"org.jetbrains.kotlin.android.extensions\"\n\nandroid {\n    compileSdkVersion 27\n\n    defaultConfig {\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        androidExtensions {\n            experimental = true\n        }\n\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n        test.java.srcDirs += 'src/test/kotlin'\n        androidTest.java.srcDirs += 'src/androidTest/kotlin'\n    }\n\n    buildTypes {\n\n        debug {\n        ...\n        }\n\n        release {\n          ...\n        }\n    }\n\n    defaultConfig {\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n\n    testOptions {\n        unitTests.returnDefaultValues = true\n    }\n}\n\next.kotlin_version = '1.2.21'\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    api \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    api \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    api 'org.jetbrains.kotlinx:kotlinx-coroutines-core:0.22.2'\n    api \"org.jetbrains.anko:anko-coroutines:0.10.4\"\n\n    api 'com.android.support:appcompat-v7:27.0.2'\n    api 'com.android.support:support-annotations:27.0.2'\n\n    api 'com.squareup.okhttp3:okhttp:3.9.1'\n    api 'com.squareup.okhttp3:logging-interceptor:3.9.1'\n\n    api 'com.squareup.moshi:moshi-kotlin:1.5.0'\n\n    testImplementation 'junit:junit:4.12'\n    testCompile \"org.json:json:20140107\"\n    testCompile \"org.mockito:mockito-core:2.13.0\"\n    testCompile group: 'org.mockito', name: 'mockito-inline', version: '2.13.0'\n    androidTestImplementation \"org.mockito:mockito-android:2.13.0\"\n    testImplementation 'com.squareup.okhttp3:mockwebserver:3.9.1'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n\nrepositories {\n    mavenCentral()\n}\n\nkotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n</code></pre>\n\n<p>What could be the issue?</p>\n"}, {"tags": ["java", "android", "kotlin", "material-design"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1518044769, "post_id": 48674636, "comment_id": 84348079, "body": "When you use <code>TextInputLayout</code>, you&#39;re supposed to call <code>setError()</code> on the <code>TextInputLayout</code> itself, instead of the <code>EditText</code>, in your case, the <code>AutoCompleteTextView</code>. The error will appear below the <code>AutoCompleteTextView</code>"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1518045231, "post_id": 48674636, "comment_id": 84348249, "body": "@MikeM. I tried this. Now it is showing line below it and no error text. How can I show the error text ?"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1518046629, "post_id": 48674636, "comment_id": 84348765, "body": "@MikeM. I changed it to <code>TextInputEditText</code> and added <code>app:errorEnabled=&quot;true&quot;</code> in <code>TextInputLayout</code>. Still it is showing only line when <code>setError</code> is called for <code>TextInputLayout</code>."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1518046863, "post_id": 48674636, "comment_id": 84348841, "body": "I&#39;m not sure what you mean by &quot;line&quot;, but maybe the error text&#39;s color is blending in with the background. You might try changing the text color in a style set as the <code>TextInputLayout</code>&#39;s <code>errorTextAppearance</code>."}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1518047090, "post_id": 48674636, "comment_id": 84348908, "body": "I have updated the answer with screenshot. I am getting line. How to add text error?"}], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 4018513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-y7uR1I2vWXo/AAAAAAAAAAI/AAAAAAAAADs/50XhBYq1N0Q/photo.jpg?sz=128", "display_name": "BlueBrewBerry", "link": "https://stackoverflow.com/users/4018513/bluebrewberry"}, "is_accepted": false, "score": 4, "last_activity_date": 1550145445, "creation_date": 1550145445, "answer_id": 54689873, "question_id": 48674636, "link": "https://stackoverflow.com/questions/48674636/eye-indicator-overlaps-hint-error-icon-in-autocompletetextview/54689873#54689873", "title": "Eye indicator overlaps Hint error icon in AutoCompleteTextView", "body": "<p>You need to use setError() on TextInputLayout instead of EditText.</p>\n\n<pre><code>TextInputLayout textInputLayout = view.findViewById(R.id.textInputLayout);\ntextInputLayout.setError(\"Password cannot be empty.\");\n</code></pre>\n"}], "owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1550145445, "creation_date": 1518043790, "last_edit_date": 1518047114, "question_id": 48674636, "link": "https://stackoverflow.com/questions/48674636/eye-indicator-overlaps-hint-error-icon-in-autocompletetextview", "title": "Eye indicator overlaps Hint error icon in AutoCompleteTextView", "body": "<p>Code:</p>\n\n<pre><code>&lt;android.support.design.widget.TextInputLayout\n    android:id=\"@+id/textInputLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"52dp\"\n    android:background=\"@android:color/white\"\n    android:hint=\"@string/current_password\"\n    android:paddingEnd=\"14dp\"\n    android:paddingLeft=\"14dp\"\n    android:paddingRight=\"14dp\"\n    android:paddingStart=\"14dp\"\n    android:paddingTop=\"4dp\"\n    android:scrollbarAlwaysDrawHorizontalTrack=\"true\"\n    android:textColorHint=\"@color/darkBlue\"\n    app:layout_constraintTop_toBottomOf=\"@+id/toolbar\"\n    app:passwordToggleEnabled=\"true\"\n    app:passwordToggleTint=\"@color/colorAccent\"\n    tools:layout_editor_absoluteX=\"0dp\"&gt;\n\n    &lt;AutoCompleteTextView\n        android:id=\"@+id/actvCurrPass\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:inputType=\"textPassword\"\n        android:textSize=\"15sp\"\n        tools:ignore=\"Deprecated,RtlHardcoded\" /&gt;\n\n&lt;/android.support.design.widget.TextInputLayout&gt;\n</code></pre>\n\n<p>Result when calling <code>AutoCompleteTextView#setError</code> or <code>AutoCompleteTextView#error</code>:\n<a href=\"https://i.stack.imgur.com/MbqGS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MbqGS.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/9TDYP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9TDYP.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "android", "kotlin", "android-camera", "android-camera2"], "answers": [{"tags": [], "owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "is_accepted": true, "score": 0, "last_activity_date": 1518041775, "creation_date": 1518041775, "answer_id": 48674188, "question_id": 48673994, "link": "https://stackoverflow.com/questions/48673994/keep-flashlight-on-while-camera-is-opened/48674188#48674188", "title": "Keep flashlight ON while camera is opened", "body": "<p>The code for the torch works, but it only works for your app. After the <code>startActivityForResult(intent, requestImageCapture)</code> is executed you are no longer in your app. You are in whatever camera app you select. Your app loses access to the camera and the Camera app gets it.</p>\n\n<p>The flash now can be controlled for the Camera app. The camera app probably has controls for flash.</p>\n\n<p>If you want to enable the flash and take a photo you'll have to create your own camera app. You can do it from scratch following <a href=\"https://developer.android.com/training/camera/cameradirect.html\" rel=\"nofollow noreferrer\">this</a> guide or you can use a camera library like <a href=\"https://github.com/Fotoapparat/Fotoapparat\" rel=\"nofollow noreferrer\">Fotoapparat</a> or <a href=\"https://github.com/afollestad/material-camera\" rel=\"nofollow noreferrer\">material-camera</a></p>\n"}], "owner": {"reputation": 279, "user_id": 5344054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10207910644982802/picture?type=large", "display_name": "Ashwin Gopi Krishna", "link": "https://stackoverflow.com/users/5344054/ashwin-gopi-krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "accepted_answer_id": 48674188, "answer_count": 1, "score": 0, "last_activity_date": 1518041775, "creation_date": 1518040839, "question_id": 48673994, "link": "https://stackoverflow.com/questions/48673994/keep-flashlight-on-while-camera-is-opened", "title": "Keep flashlight ON while camera is opened", "body": "<p>I want to build an app that keeps the front LED flash/torch on while taking a picture. So I have the following code that opens the camera using an implicit intent:</p>\n\n<pre><code>val intent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\nstartActivityForResult(intent, requestImageCapture)\n</code></pre>\n\n<p>And the code for turning on and off the torch/flash of the phone:</p>\n\n<pre><code>if(isLightOn) {\n    val manager = getSystemService(Context.CAMERA_SERVICE) as CameraManager\n    val cameraId = manager.cameraIdList[0]\n    manager.setTorchMode(cameraId, false)\n    isLightOn = false\n} else {\n    val manager = getSystemService(Context.CAMERA_SERVICE) as CameraManager\n    val cameraId = manager.cameraIdList[0]\n    manager.setTorchMode(cameraId, true)\n    isLightOn = true\n}\n</code></pre>\n\n<p>I've set the listeners of 2 buttons to perform these actions. Though they work well on their own, the torch/flash does not stay on when the camera is opened with the intent. Is there any way by which I can achieve this behavior?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 2470, "user_id": 3482621, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kYbYc.png?s=128&g=1", "display_name": "albert c braun", "link": "https://stackoverflow.com/users/3482621/albert-c-braun"}, "edited": false, "score": 0, "creation_date": 1518043509, "post_id": 48673966, "comment_id": 84347599, "body": "Ah. Thanks. I hadn&#39;t thought of that. But, believe it or not, when I do that, I see this new error: &quot;Entities and Pojos must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).&quot; So, it seems that the @Ignore annotation is eliminating both the constructors or something."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 2470, "user_id": 3482621, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kYbYc.png?s=128&g=1", "display_name": "albert c braun", "link": "https://stackoverflow.com/users/3482621/albert-c-braun"}, "edited": false, "score": 1, "creation_date": 1518082573, "post_id": 48673966, "comment_id": 84361216, "body": "This way no constructor can be used since the primary constructor is being ignored. I believe your suggestion from the question will do the trick then"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1518040717, "creation_date": 1518040717, "answer_id": 48673966, "question_id": 48673808, "link": "https://stackoverflow.com/questions/48673808/how-to-use-room-librarys-ignore-annotation-with-kotlin-compact-constructor-syn/48673966#48673966", "title": "How to use Room library&#39;s @Ignore annotation with Kotlin compact constructor syntax?", "body": "<p>If you want to add annotations to the primary constructor, the <code>constructor</code> keyword has to be added:</p>\n\n<pre><code>class MyEntity @Ignore constructor(var myString:String = \"non-trivial string\")\n</code></pre>\n\n<p>The <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n\n<blockquote>\n  <p>If the primary constructor does not have any annotations or visibility modifiers, the <code>constructor</code> keyword can be omitted.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2470, "user_id": 3482621, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kYbYc.png?s=128&g=1", "display_name": "albert c braun", "link": "https://stackoverflow.com/users/3482621/albert-c-braun"}, "edited": false, "score": 0, "creation_date": 1518043740, "post_id": 48674082, "comment_id": 84347690, "body": "Thanks for the suggestion. But I still see the same warning from Room when I try that."}], "tags": [], "owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "is_accepted": false, "score": 1, "last_activity_date": 1518041279, "creation_date": 1518041279, "answer_id": 48674082, "question_id": 48673808, "link": "https://stackoverflow.com/questions/48673808/how-to-use-room-librarys-ignore-annotation-with-kotlin-compact-constructor-syn/48674082#48674082", "title": "How to use Room library&#39;s @Ignore annotation with Kotlin compact constructor syntax?", "body": "<p>How about this: </p>\n\n<pre><code>@Entity\nclass MyEntity(\n    var myString: String = \"non-trivial string\",\n\n    @PrimaryKey(autoGenerate = true)\n    var myIndex: Int = 0\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2470, "user_id": 3482621, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kYbYc.png?s=128&g=1", "display_name": "albert c braun", "link": "https://stackoverflow.com/users/3482621/albert-c-braun"}, "edited": false, "score": 1, "creation_date": 1518117925, "post_id": 48681768, "comment_id": 84384964, "body": "Thank you for the insights about the resulting Java code and the constructors Kotlin creates. When I run the suggested Kotlin code block (the one with the init block), Room complains about the lack of a primary key. When I then add a primary key field to the class, it does compile without the warning. Yay. OTOH, the class definition is no longer super brief. I&#39;m beginning to wonder if the Room library&#39;s @Ignore annotation simply prohibits the kind of Kotlin brevity I&#39;m looking for. Again, thank you."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 2470, "user_id": 3482621, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kYbYc.png?s=128&g=1", "display_name": "albert c braun", "link": "https://stackoverflow.com/users/3482621/albert-c-braun"}, "edited": false, "score": 1, "creation_date": 1518125155, "post_id": 48681768, "comment_id": 84388657, "body": "@albertcbraun Yes, indeed it seems like Room is not &quot;kotlin-ified&quot; enough yet, so probably you need to trade conciseness for &quot;warning-free&quot;-ness. Good luck for your development :)"}], "tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 1, "last_activity_date": 1518083736, "last_edit_date": 1518083736, "creation_date": 1518081568, "answer_id": 48681768, "question_id": 48673808, "link": "https://stackoverflow.com/questions/48673808/how-to-use-room-librarys-ignore-annotation-with-kotlin-compact-constructor-syn/48681768#48681768", "title": "How to use Room library&#39;s @Ignore annotation with Kotlin compact constructor syntax?", "body": "<p>Let's take this code:</p>\n\n<pre><code>class MyEntity(var myString: String = \"default value\")\n</code></pre>\n\n<p>If you decompile it, what you get is equivalent to the following piece of Java code (getter/setter omitted):</p>\n\n<pre><code>public final class MyEntity {\n  @NotNull\n  private String myString;\n\n  // getters and setters omitted\n\n  public MyEntity(@NotNull String myString) {\n     Intrinsics.checkParameterIsNotNull(myString, \"myString\");\n     super();\n     this.myString = myString;\n  }\n\n  // $FF: synthetic method\n  public MyEntity(String var1, int var2, DefaultConstructorMarker var3) {\n     if ((var2 &amp; 1) != 0) {\n        var1 = \"default value\";\n     }\n\n     this(var1);\n  }\n\n  public MyEntity() {\n     this((String)null, 1, (DefaultConstructorMarker)null);\n  }\n}\n</code></pre>\n\n<p>Hence, you get 2 constructors + 1 synthetic constructor. This is not crazy, since it must support both a constructor with a string argument and a constructor without any arguments (and remember that <code>MyEntity</code> can be instantiated from Java code, so Kotlin compiler must create both constructors).</p>\n\n<p>If, instead, you write this code:</p>\n\n<pre><code>class MyEntity(myString: String?) {\n\n    val myString: String\n\n    init {\n        if (myString == null) {\n            this.myString = \"\"\n        } else {\n            this.myString = myString\n        }\n    }\n\n}\n</code></pre>\n\n<p>The bytecode that you get is equivalent to the following Java code (getter/setter omitted):</p>\n\n<pre><code>public final class MyEntity {\n  @NotNull\n  private String myString;\n\n  // getter and setter omitted\n\n  public MyEntity(@Nullable String myString) {\n     if (myString == null) {\n        this.myString = \"default value\";\n     } else {\n        this.myString = myString;\n     }\n\n  }\n}\n</code></pre>\n\n<p>With the second snippet of Kotlin code, you should be able to remove the warning and keep the <code>myString</code> property non-nullable, even though it is not exactly equivalent to the first snippet of Kotlin code since you always need to provide an argument in the constructor.</p>\n"}], "owner": {"reputation": 2470, "user_id": 3482621, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kYbYc.png?s=128&g=1", "display_name": "albert c braun", "link": "https://stackoverflow.com/users/3482621/albert-c-braun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2478, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1518083736, "creation_date": 1518040083, "question_id": 48673808, "link": "https://stackoverflow.com/questions/48673808/how-to-use-room-librarys-ignore-annotation-with-kotlin-compact-constructor-syn", "title": "How to use Room library&#39;s @Ignore annotation with Kotlin compact constructor syntax?", "body": "<p>I'm trying to use both the android Room library and Kotlin's compact syntax for specifying a constructor with default argument values. Something like this: </p>\n\n<pre><code>@Entity\nclass MyEntity(var myString:String = \"non-trivial string\") {\n\n    @PrimaryKey(autoGenerate = true)\n    var myIndex:Int = 0\n}\n</code></pre>\n\n<p>But I get this warning message: </p>\n\n<blockquote>\n  <p>There are multiple good constructors and Room will pick the no-arg constructor. You can use the @Ignore annotation to eliminate unwanted constructors.</p>\n</blockquote>\n\n<p>Where does the syntax allow Room's @Ignore annotation to be written with this compact Kotlin style of constructor?</p>\n\n<p>I know that I can do something like this to eliminate that warning message, but it's more verbose. It also makes the constructor arg default value seem redundant/unhelpful: </p>\n\n<pre><code>@Entity\nclass MyEntity() {\n\n    @Ignore\n    constructor(myString:String = \"non-trivial string\") : this() {\n        this.myString = myString\n    }\n\n    @PrimaryKey(autoGenerate = true)\n    var myIndex:Int = 0\n\n    var myString:String? = null\n}\n</code></pre>\n\n<p>How can I declare a Room entity but still take advantage of Kotlin's brevity? </p>\n\n<p>Thank you kindly.</p>\n"}, {"tags": ["java", "syntax", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1518037568, "post_id": 48673213, "comment_id": 84344833, "body": "Yes, that&#39;s exactly what it is.  <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/extensions.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 9, "last_activity_date": 1518780211, "last_edit_date": 1518780211, "creation_date": 1518037737, "answer_id": 48673282, "question_id": 48673213, "link": "https://stackoverflow.com/questions/48673213/kotlin-syntax-confusion-fun-foo-bar/48673282#48673282", "title": "Kotlin syntax confusion: fun Foo.bar() = (...)", "body": "<ol>\n<li><p>It\u2019s an <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extensions\" rel=\"nofollow noreferrer\">extension function</a> named <code>req</code> defined on the receiver <code>MyContext</code>. This technique is used to add new functions to existing classes without the use of inheritance. This concrete example <code>req</code> can be invoked on any object of <code>MyContext</code>.</p>\n\n<p>If you have a reference of <code>MyContext</code> it may be used as follows:</p>\n\n<pre><code>val ctx: MyContext = ...\nval req: LaunchRequest = ctx.req()\n</code></pre></li>\n<li><p>The <code>as</code> keyword is used to cast the variable <code>request</code> to <code>LaunchRequest</code>.</p></li>\n<li><p>If the <code>=</code> in the function declaration also leads to confusion: it\u2019s called function with <strong>expression body</strong>, which can be used to replace <em>block bodies</em> (enclosed in curly brackets) when the function contains a <a href=\"https://kotlinlang.org/docs/reference/functions.html#single-expression-functions\" rel=\"nofollow noreferrer\">single expression</a> like given in your code.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 559, "user_id": 7856490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618ec36cb20d5db87a126e5e871d9eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Shinoo Goyal", "link": "https://stackoverflow.com/users/7856490/shinoo-goyal"}, "is_accepted": false, "score": 1, "last_activity_date": 1518065705, "creation_date": 1518065705, "answer_id": 48677817, "question_id": 48673213, "link": "https://stackoverflow.com/questions/48673213/kotlin-syntax-confusion-fun-foo-bar/48677817#48677817", "title": "Kotlin syntax confusion: fun Foo.bar() = (...)", "body": "<p>These are extension functions of Kotlin which help in improving a class's functionality without actually writing a lot of boilerplate code.The function could be also written as </p>\n\n<pre><code>  fun MyContext.req(): LaunchRequest(){\n     return (request as LaunchRequest)\n  }\n</code></pre>\n\n<p>Another example of Extension function(to animate view)is:</p>\n\n<pre><code>fun View.animatePulsing() {\n val animation = AnimatorSet()\n ....\n ....\n animation.duration = 150\n animation.start()\n}\n</code></pre>\n\n<p>We can use this as:</p>\n\n<pre><code> txtView.animatePulsing()\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 8529020, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9a6d9d40f63de4316e9816d1c20963de?s=128&d=identicon&r=PG&f=1", "display_name": "syim", "link": "https://stackoverflow.com/users/8529020/syim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 48673282, "answer_count": 2, "score": 3, "last_activity_date": 1518780211, "creation_date": 1518037454, "last_edit_date": 1518039695, "question_id": 48673213, "link": "https://stackoverflow.com/questions/48673213/kotlin-syntax-confusion-fun-foo-bar", "title": "Kotlin syntax confusion: fun Foo.bar() = (...)", "body": "<p>I'm confused on what the following line of code is supposed to be doing:</p>\n\n<pre><code>fun MyContext.req() = request as LaunchRequest\n</code></pre>\n\n<p><code>LaunchRequest</code> is a Java class, and <code>MyContext</code> is a Kotlin data class. I've tried looking up examples of Kotlin code that use this syntax, but haven't found anything. </p>\n\n<p><code>MyContext</code> doesn't have a <code>req()</code> function, so is this just defining a new function for <code>MyContext</code> that returns a variable called \"request\" of type <code>LaunchRequest</code>?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1518033460, "post_id": 48672237, "comment_id": 84342669, "body": "you use it like this: <code>a xor b</code>"}, {"owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "edited": false, "score": 0, "creation_date": 1518036975, "post_id": 48672237, "comment_id": 84344483, "body": "I find that interesting that Kotlin does not use <code>^</code> operator. Good Question."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 25, "last_activity_date": 1518037075, "last_edit_date": 1518037075, "creation_date": 1518033536, "answer_id": 48672291, "question_id": 48672237, "link": "https://stackoverflow.com/questions/48672237/how-to-use-xor-in-kotlin/48672291#48672291", "title": "How to use XOR in Kotlin", "body": "<p>It's an extension that can be invoked on any <code>Boolean</code>. You can use it like this:</p>\n\n<pre><code>true.xor(false)\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>true xor false\n</code></pre>\n\n<p>The last one works since the function is defined as <a href=\"https://kotlinlang.org/docs/reference/functions.html#infix-notation\" rel=\"noreferrer\"><code>infix</code></a>.</p>\n\n<p>Other similar extensions defined on <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html\" rel=\"noreferrer\"><code>Boolean</code></a> are <code>and</code>, <code>or</code> and <code>not</code>:</p>\n\n<pre><code>//very useful example\ntrue.not().or(true).and(false).xor(true)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4308123, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V9KvzujQbtQ/AAAAAAAAAAI/AAAAAAAAAAw/RhHiEy94dlA/photo.jpg?sz=128", "display_name": "Smmy Sa", "link": "https://stackoverflow.com/users/4308123/smmy-sa"}, "is_accepted": false, "score": -1, "last_activity_date": 1614195159, "creation_date": 1614195159, "answer_id": 66357688, "question_id": 48672237, "link": "https://stackoverflow.com/questions/48672237/how-to-use-xor-in-kotlin/66357688#66357688", "title": "How to use XOR in Kotlin", "body": "<p>find the single number in the array that every element has a duplicate except one.</p>\n<pre><code>var a = 0\nfor (i in numsArray){\n    a = a xor i\n}\nreturn a\n</code></pre>\n<p>eg. input = [2,2,1]\nout = 1</p>\n"}], "owner": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8424, "favorite_count": 1, "accepted_answer_id": 48672291, "answer_count": 2, "score": 12, "last_activity_date": 1614195159, "creation_date": 1518033353, "last_edit_date": 1518033958, "question_id": 48672237, "link": "https://stackoverflow.com/questions/48672237/how-to-use-xor-in-kotlin", "title": "How to use XOR in Kotlin", "body": "<p>I want to perform an XOR to find if one of two booleans a and b is true but not both. Searching for XOR in Kotlin gave me this answer </p>\n\n<blockquote>\n  <h3><code>infix fun xor(other: Boolean): Boolean</code></h3>\n  \n  <p>Performs a logical xor operation between this Boolean and the other one. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/xor.html\" rel=\"noreferrer\">source</a></p>\n</blockquote>\n\n<p>I'm still confused on how to implement this</p>\n"}, {"tags": ["java", "android", "kotlin", "android-notifications"], "answers": [{"tags": [], "owner": {"reputation": 8390, "user_id": 1869968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/kTFyG.jpg?s=128&g=1", "display_name": "Submersed", "link": "https://stackoverflow.com/users/1869968/submersed"}, "is_accepted": false, "score": 1, "last_activity_date": 1518028954, "last_edit_date": 1518028954, "creation_date": 1518028608, "answer_id": 48671020, "question_id": 48670610, "link": "https://stackoverflow.com/questions/48670610/service-startforeground-vibrates-the-device/48671020#48671020", "title": "Service.startForeground vibrates the device", "body": "<p>The vibration pattern is specific to that notification channel, so you'd have to disable it on the notification channel when you post the notification, then reenabled it for notifications you'd like to have vibrate.  You could also have separate notification channels for different priorities, as hinted to in the docs:</p>\n\n<pre><code>When you target Android 8.0 (API level 26), you must implement one or more notification channels to display notifications to your users.\n</code></pre>\n\n<p>So, even if you used setVibrate(null), or some other variation, it'll just be ignored on 26+, since that method has been deprecated and the NotificationChannel's pattern will now be used:</p>\n\n<pre><code>/**\n * The pattern with which to vibrate.\n *\n * &lt;p&gt;\n * To vibrate the default pattern, see {@link #defaults}.\n * &lt;/p&gt;\n *\n * @see android.os.Vibrator#vibrate(long[],int)\n * @deprecated use {@link NotificationChannel#getVibrationPattern()}.\n */\n@Deprecated\npublic long[] vibrate;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14070, "user_id": 868492, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cdfab916eb0bb5da98df29a321dc86ab?s=128&d=identicon&r=PG", "display_name": "James McCracken", "link": "https://stackoverflow.com/users/868492/james-mccracken"}, "is_accepted": true, "score": 5, "last_activity_date": 1518030287, "creation_date": 1518030287, "answer_id": 48671464, "question_id": 48670610, "link": "https://stackoverflow.com/questions/48670610/service-startforeground-vibrates-the-device/48671464#48671464", "title": "Service.startForeground vibrates the device", "body": "<p>You're creating the <code>NotificationChannel</code> with <code>IMPORTANCE_DEFAULT</code> which the documentation says:</p>\n\n<blockquote>\n  <p>Default notification importance: shows everywhere, makes noise, but does not visually intrude.</p>\n</blockquote>\n\n<p>You probably want <code>IMPORTANCE_LOW</code>:</p>\n\n<blockquote>\n  <p>Low notification importance: shows everywhere, but is not intrusive.</p>\n</blockquote>\n\n<p>If you want <code>\"my_channel\"</code> to stay <code>IMPORTANCE_DEFAULT</code>, you can create a new channel with a different importance for this service.</p>\n"}], "owner": {"reputation": 28335, "user_id": 853836, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fc609f2f90e5d5d6802b0201c15db5b6?s=128&d=identicon&r=PG", "display_name": "Addev", "link": "https://stackoverflow.com/users/853836/addev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1135, "favorite_count": 1, "accepted_answer_id": 48671464, "answer_count": 2, "score": 4, "last_activity_date": 1518030287, "creation_date": 1518026898, "question_id": 48670610, "link": "https://stackoverflow.com/questions/48670610/service-startforeground-vibrates-the-device", "title": "Service.startForeground vibrates the device", "body": "<p>I'm using the <a href=\"https://developer.android.com/reference/android/app/Service.html#startForeground(int,%20android.app.Notification)\" rel=\"nofollow noreferrer\">startForeground()</a> call for one of my Services:</p>\n\n<pre><code>NotificationCompat.Builder notifBuilder = \n                              new NotificationCompat.Builder(this, \"my_channel\")\n                              .setContentTitle(\"Loading\");\nstartForeground(1, notifBuilder.build());\n</code></pre>\n\n<p>The problem is that since I'm using my unique channel for notifications and it has vibration:</p>\n\n<pre><code>NotificationManager notificationManager =\n      (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\nNotificationChannel mChannel = \n        new NotificationChannel(\"my_channel\", \"Notifications\", NotificationManager.IMPORTANCE_DEFAUL);\nmChannel.enableLights(true);\nmChannel.enableVibration(true);\nnotificationManager.createNotificationChannel(mChannel);\n</code></pre>\n\n<p>The <code>startForeground()</code> call generates vibration.</p>\n\n<p>Tried some configs:</p>\n\n<p>Not working:<code>notifBuilder.setVibrate(new long[]{0,0})</code> nor <code>notifBuilder.setDefaults(~Notification.DEFAULT_VIBRATE)</code></p>\n\n<p>Working on my device <code>notifBuilder.setVibrate(null)</code> or using a non-registered channel id but I'm not sure if this can cause crashes in other versions or devices.</p>\n\n<p>How can I avoid this vibration without declaring a new channel?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "reactive-programming", "rx-java2"], "comments": [{"owner": {"reputation": 3405, "user_id": 7034183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YcIEw.jpg?s=128&g=1", "display_name": "Remario", "link": "https://stackoverflow.com/users/7034183/remario"}, "edited": false, "score": 0, "creation_date": 1518026495, "post_id": 48670472, "comment_id": 84338698, "body": "what exactly you want to know?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1518026977, "post_id": 48670472, "comment_id": 84338966, "body": "<code>concat</code> requires its sources to complete and only then will it switch to the next one."}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 1, "creation_date": 1518028878, "post_id": 48670472, "comment_id": 84340021, "body": "Please don&#39;t use images for code, it&#39;s impossible for people with screen readers or restrictive corporate proxies to read what you have to say."}, {"owner": {"reputation": 353, "user_id": 3104126, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d06903d50d62a84de9ae6bde5061f58f?s=128&d=identicon&r=PG&f=1", "display_name": "The-null-Pointer-", "link": "https://stackoverflow.com/users/3104126/the-null-pointer"}, "reply_to_user": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1518028938, "post_id": 48670472, "comment_id": 84340054, "body": "@Todd that&#39;s true, was having hard time using the inline code"}], "answers": [{"tags": [], "owner": {"reputation": 406, "user_id": 9325984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b39f239f2004c8493b7407ae68fdfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Deych", "link": "https://stackoverflow.com/users/9325984/alexander-deych"}, "is_accepted": false, "score": 1, "last_activity_date": 1518026580, "creation_date": 1518026580, "answer_id": 48670514, "question_id": 48670472, "link": "https://stackoverflow.com/questions/48670472/strange-results-from-observable-concatobservable-observable/48670514#48670514", "title": "Strange results from Observable.concat(observable,observable)", "body": "<p>You need to call onComplete() after last onNext() for first Observable</p>\n"}, {"comments": [{"owner": {"reputation": 3405, "user_id": 7034183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YcIEw.jpg?s=128&g=1", "display_name": "Remario", "link": "https://stackoverflow.com/users/7034183/remario"}, "edited": false, "score": 0, "creation_date": 1518029093, "post_id": 48670647, "comment_id": 84340161, "body": "Good answer, where in the documentation does it says that ?"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "reply_to_user": {"reputation": 3405, "user_id": 7034183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YcIEw.jpg?s=128&g=1", "display_name": "Remario", "link": "https://stackoverflow.com/users/7034183/remario"}, "edited": false, "score": 0, "creation_date": 1518029307, "post_id": 48670647, "comment_id": 84340294, "body": "@Remario, &quot;Returns an Observable that emits the items emitted by two ObservableSources, one after the other, without interleaving them&quot;. In this context &quot;emits one observable after another&quot; assumes, that the first one should be completed, otherwise there is no way for the <code>concat</code> to understand whether there are some items to come or no. Also, see in the <a href=\"https://raw.github.com/wiki/ReactiveX/RxJava/images/rx-operators/concat.png\" rel=\"nofollow noreferrer\">rx marble</a> how terminal event (<code>|</code>) is being emitted from first stream."}, {"owner": {"reputation": 3405, "user_id": 7034183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YcIEw.jpg?s=128&g=1", "display_name": "Remario", "link": "https://stackoverflow.com/users/7034183/remario"}, "edited": false, "score": 0, "creation_date": 1518029402, "post_id": 48670647, "comment_id": 84340355, "body": "Thanks i , reactive programming is pretty abstract at times, it always makes me ponder"}], "tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": true, "score": 3, "last_activity_date": 1518027062, "creation_date": 1518027062, "answer_id": 48670647, "question_id": 48670472, "link": "https://stackoverflow.com/questions/48670472/strange-results-from-observable-concatobservable-observable/48670647#48670647", "title": "Strange results from Observable.concat(observable,observable)", "body": "<p><a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Observable.html#concat-io.reactivex.ObservableSource-io.reactivex.ObservableSource-\" rel=\"nofollow noreferrer\"><code>concat()</code></a> will wait for the first stream to complete only then it will start emitting items from second stream.</p>\n\n<p>In your case you have <strong>not</strong> declared, that the first observable has completed its emission, so <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Observable.html#concat-io.reactivex.ObservableSource-io.reactivex.ObservableSource-\" rel=\"nofollow noreferrer\"><code>concat()</code></a> assumes there are still emissions to come, because no terminal event has ever been dispatched.</p>\n\n<p>As soon as you execute <code>it.onComplete()</code> inside your first stream you will see the output you expect.</p>\n"}], "owner": {"reputation": 353, "user_id": 3104126, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d06903d50d62a84de9ae6bde5061f58f?s=128&d=identicon&r=PG&f=1", "display_name": "The-null-Pointer-", "link": "https://stackoverflow.com/users/3104126/the-null-pointer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "accepted_answer_id": 48670647, "answer_count": 2, "score": 1, "last_activity_date": 1518027212, "creation_date": 1518026420, "last_edit_date": 1518027212, "question_id": 48670472, "link": "https://stackoverflow.com/questions/48670472/strange-results-from-observable-concatobservable-observable", "title": "Strange results from Observable.concat(observable,observable)", "body": "<p>A while a go, I read about RxJava concat and decided to test my understanding. But I've encountered some behavior that I don't quite understand. </p>\n\n<p>The problem is that when I concat two observables I get different behaviours depending on the order in which i pass them to Observable.concat()</p>\n\n<pre><code>val ob1 = createObservableSomehow()\n\nval ob2 = createObservableSomehow()\n\nObservable.concat(ob1,ob2).subscribe(::println) //only prints emissions of ob1\n\n\nObservable.concat(ob2,ob1).subscribe(...) //concats all emissions correctly\n</code></pre>\n\n<p>See the attached screenshot to see how am creating the two observables.\n<a href=\"https://i.stack.imgur.com/hkMJW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hkMJW.png\" alt=\"This screenshot shows how am creating the observables\"></a></p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "edited": false, "score": 0, "creation_date": 1518038986, "post_id": 48673174, "comment_id": 84345553, "body": "Before everything  THANK YOU , solution 1 : Call requires API level 24 (current min is 19): new android.app.DatePickerDialog  . I will use Solution 2"}, {"owner": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "edited": false, "score": 0, "creation_date": 1518101335, "post_id": 48673174, "comment_id": 84374293, "body": "Unfortunately NO."}, {"owner": {"reputation": 198, "user_id": 6705247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43024103e7516d49bd137f14714cbc11?s=128&d=identicon&r=PG&f=1", "display_name": "Constantin", "link": "https://stackoverflow.com/users/6705247/constantin"}, "reply_to_user": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "edited": false, "score": 0, "creation_date": 1518115756, "post_id": 48673174, "comment_id": 84383734, "body": "did you remove provideDatePickerDialog from the ActivityModule?"}, {"owner": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "edited": false, "score": 0, "creation_date": 1518157847, "post_id": 48673174, "comment_id": 84398420, "body": "Yes , I solution 2 it&#39;s work fine but there is no DI in this solution"}], "tags": [], "owner": {"reputation": 198, "user_id": 6705247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43024103e7516d49bd137f14714cbc11?s=128&d=identicon&r=PG&f=1", "display_name": "Constantin", "link": "https://stackoverflow.com/users/6705247/constantin"}, "is_accepted": false, "score": 1, "last_activity_date": 1518037319, "creation_date": 1518037319, "answer_id": 48673174, "question_id": 48669756, "link": "https://stackoverflow.com/questions/48669756/found-a-dependency-cycle-in-dagger-2/48673174#48673174", "title": "Found a dependency cycle in dagger 2", "body": "<p>In your <code>provideDatePickerDialog</code> you need a <code>BasicInfoFragment</code>, but then when you also try to inject a <code>DatePickerDialog</code> in <code>BasicInfoFragment</code>. Hence the chicken or egg problem - to create either of them you need the other. </p>\n\n<p>Something else to take into account: in the constructor of the DateTimePicker you really need the <code>DatePickerDialog.OnDateSetListener</code> not the <code>BasicInfoFragment</code>. </p>\n\n<p><strong>Solution 1</strong></p>\n\n<p>Change the provideDatePickerDialog as follows</p>\n\n<pre><code>@Provides\nfun provideDatePickerDialog(basicInfoFragment: BasicInfoFragment): \nDatePickerDialog {\n    return DatePickerDialog(activity)\n}\n</code></pre>\n\n<p>then set the listener and the date in the fragment. See documentation <a href=\"https://developer.android.com/reference/android/app/DatePickerDialog.html#DatePickerDialog(android.content.Context,%20android.app.DatePickerDialog.OnDateSetListener,%20int,%20int,%20int)\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p><strong>Solution 2</strong></p>\n\n<p>Don't provide the DatePickerDialog with Dagger but instead create it in the BasicInfoFragment with this line:</p>\n\n<pre><code>DatePickerDialog(activity, this, 1999, 9, 9)\n</code></pre>\n\n<p>This way you will also eliminate other possible issues and confusions.</p>\n"}], "owner": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2186, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518037319, "creation_date": 1518024065, "last_edit_date": 1518026099, "question_id": 48669756, "link": "https://stackoverflow.com/questions/48669756/found-a-dependency-cycle-in-dagger-2", "title": "Found a dependency cycle in dagger 2", "body": "<p>I try to provide fragment with <code>DatePickerDialog</code> , but when i use the <code>BasicInfoFragment</code> as argument it cause the error : <code>Found a dependency cycle</code> \nwhy that happen ?!</p>\n\n<pre><code>@Module\nclass ActivityModule(val activity: AppCompatActivity) {\n\n    @Provides\n    fun provideActivity() = activity\n\n    @Provides\n    @ActivityContext\n    fun provideContext(): Context = activity\n\n    // [...]\n    @Provides\n    fun provideDatePickerDialog(basicInfoFragment: BasicInfoFragment): \n    DatePickerDialog {\n        return DatePickerDialog(activity, basicInfoFragment, 1999, 9, 9)\n    }\n}\n</code></pre>\n\n<p>Fragment code :</p>\n\n<pre><code>class BasicInfoFragment @Inject constructor()\n    : BaseFragment(), BasicInfoMvpView , \n      LabelledSpinner.OnItemChosenListener, \n      DatePickerDialog.OnDateSetListener {\n\n    @Inject\n    lateinit var datePickerDialog: DatePickerDialog\n\n    @Inject\n    lateinit var mPresenter: BasicInfoMvpPresenter&lt;BasicInfoMvpView&gt;\n\n    // user info\n    private lateinit var gender: DataManager.UserGender\n    private var birthOfDate: Long = 0L\n\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        val view = inflater.inflate(R.layout.base_user_info_layout, container, false)\n\n        activityComponent?.let {\n            it.inject(this)\n            mPresenter.onAttach(this)\n        }\n\n        return view\n    }\n\n    override fun onDateSet(dataPicker: DatePicker?, year: Int, month: Int, dayOfMonth: Int) {\n        birthOfDate = GregorianCalendar(year, month, dayOfMonth).timeInMillis\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 3, "creation_date": 1518019321, "post_id": 48668090, "comment_id": 84334074, "body": "Use <code>allColours.take(3)</code>"}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "reply_to_user": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1518019355, "post_id": 48668090, "comment_id": 84334091, "body": "@H&#233;ctor 2* - 0 1 2"}], "answers": [{"comments": [{"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1518019681, "post_id": 48668166, "comment_id": 84334330, "body": "but what if I wanted to take for example the next pairs: 2 4 6 ?"}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 3, "creation_date": 1518020228, "post_id": 48668166, "comment_id": 84334711, "body": "@Morozov <code>.filterIndexed { index, _-&gt; index % 2 == 0 &amp;&amp; index != 0 }.take(3)</code>"}, {"owner": {"reputation": 7061, "user_id": 650322, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2b655fa98f7b5628135b63e5f559c70c?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/650322/anthony"}, "edited": false, "score": 0, "creation_date": 1540216741, "post_id": 48668166, "comment_id": 92771504, "body": "Should be <code>allColours.slice(0..2)</code>"}], "tags": [], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "is_accepted": false, "score": 13, "last_activity_date": 1518021613, "last_edit_date": 1518021613, "creation_date": 1518019272, "answer_id": 48668166, "question_id": 48668090, "link": "https://stackoverflow.com/questions/48668090/in-kotlin-how-can-i-take-the-first-n-elements-of-an-array/48668166#48668166", "title": "In Kotlin, how can I take the first n elements of an array", "body": "<p>You need to specify the number of items you want to take.</p>\n\n<pre><code>allColours.take(3)\n</code></pre>\n\n<hr>\n\n<p>For a random number of random indices, you can use the following:</p>\n\n<pre><code>val indexes = arrayOf(2, 4, 6)\nallColours.filterIndexed { index, s -&gt; indexes.contains(index) }\n</code></pre>\n\n<p>Note that you can write an extension method for this:</p>\n\n<pre><code>fun &lt;T&gt; Array&lt;T&gt;.filterByIndices(vararg indices: Int) = filterIndexed { index, _ -&gt; indices.contains(index) }\n</code></pre>\n\n<hr>\n\n<p>Alternatively, if the indices are consecutive, you can use slice:</p>\n\n<pre><code>allColours.slice(1..3)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198, "user_id": 2641913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T3t0v.jpg?s=128&g=1", "display_name": "Rofgar", "link": "https://stackoverflow.com/users/2641913/rofgar"}, "is_accepted": false, "score": 1, "last_activity_date": 1518019311, "creation_date": 1518019311, "answer_id": 48668182, "question_id": 48668090, "link": "https://stackoverflow.com/questions/48668090/in-kotlin-how-can-i-take-the-first-n-elements-of-an-array/48668182#48668182", "title": "In Kotlin, how can I take the first n elements of an array", "body": "<p>You are very close :)</p>\n\n<pre><code>val allColours = arrayOf(\"red\", \"blue\", \"green\")\nkotlin.io.println(allColours.take(2))\n</code></pre>\n\n<p>Will give you first two elements [\"red\", \"blue\"] </p>\n\n<p>You have to specify the number of elements you want to take from the array</p>\n"}, {"comments": [{"owner": {"reputation": 1069, "user_id": 6742601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e0656f7ba8ae376cd1ad0f4eda79a8c?s=128&d=identicon&r=PG&f=1", "display_name": "Fazal Hussain", "link": "https://stackoverflow.com/users/6742601/fazal-hussain"}, "edited": false, "score": 0, "creation_date": 1554295110, "post_id": 48668219, "comment_id": 97697821, "body": "Thanks. It is working this type of small function make our life so easy"}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 17, "last_activity_date": 1518019428, "creation_date": 1518019428, "answer_id": 48668219, "question_id": 48668090, "link": "https://stackoverflow.com/questions/48668090/in-kotlin-how-can-i-take-the-first-n-elements-of-an-array/48668219#48668219", "title": "In Kotlin, how can I take the first n elements of an array", "body": "<p>The problem with your code that you create pairs with color constants which are <code>Int</code>s (<code>allColours</code> has type <code>Array&lt;Pair&lt;Int, Int&gt;&gt;)</code>, but you expect <code>Array&lt;Pair&lt;Color, Color&gt;&gt;</code>. What you have to do is change type <code>pegColours</code> type and use <code>take</code>:</p>\n\n<pre><code>var pegColours: Array&lt;Pair&lt;Int, Int&gt;&gt; = allColours.take(3).toTypedArray() \n</code></pre>\n\n<p>Also you have to call <code>toTypedArray()</code> cause <code>Array.take</code> returns <code>List</code> rather than <code>Array</code>. Or you can change <code>pegColours</code> type as following:</p>\n\n<pre><code>var pegColours: List&lt;Pair&lt;Int, Int&gt;&gt; = allColours.take(3)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "edited": false, "score": 1, "creation_date": 1518030228, "post_id": 48670030, "comment_id": 84340840, "body": "Quite nice actually!"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 1, "creation_date": 1518062751, "post_id": 48670030, "comment_id": 84352754, "body": "What&#39;s the advantage of this over take? If one is &#39;taking 3&#39;, then why create more code to read and parse. I see value in your example if one truly wants to &#39;map&#39; the elements to something else. If that&#39;s your use case, I&#39;d suggest adding that as a comment, as I&#39;m considering downvoting this answer. It&#39;s not wrong, but I would recommend against creating a range, and mapping over doing a &#39;take&#39; directly."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 6, "last_activity_date": 1592560240, "last_edit_date": 1592560240, "creation_date": 1518024887, "answer_id": 48670030, "question_id": 48668090, "link": "https://stackoverflow.com/questions/48668090/in-kotlin-how-can-i-take-the-first-n-elements-of-an-array/48670030#48670030", "title": "In Kotlin, how can I take the first n elements of an array", "body": "<p>I know you already proposed the usage of <code>take</code>, but <strong>alternatively</strong> ranges and a simple <code>map</code> also help to write idiomatic code as shown next:</p>\n\n<pre><code>var pegColours = (0 until 3)\n    .map { allColours[it] }\n    .toTypedArray()\n</code></pre>\n"}], "owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13352, "favorite_count": 3, "accepted_answer_id": 48668219, "answer_count": 4, "score": 17, "last_activity_date": 1592560240, "creation_date": 1518019026, "last_edit_date": 1518019196, "question_id": 48668090, "link": "https://stackoverflow.com/questions/48668090/in-kotlin-how-can-i-take-the-first-n-elements-of-an-array", "title": "In Kotlin, how can I take the first n elements of an array", "body": "<p>In Kotlin, how can I take the first n elements of this array:</p>\n\n<pre><code>val allColours = arrayOf(\n    Pair(Color.RED, Color.WHITE), \n    Pair(Color.RED, Color.BLACK), \n    Pair(Color.YELLOW, Color.BLACK), \n    Pair(Color.GREEN, Color.WHITE), \n    Pair(Color.BLUE, Color.WHITE), \n    Pair(Color.BLUE, Color.WHITE), \n    Pair(Color.CYAN, Color.BLACK), \n    Pair(Color.WHITE, Color.BLACK))\n</code></pre>\n\n<p>So how can I fill <code>pegColours</code> with the first say 3 Pairs?</p>\n\n<pre><code>var pegColours: Array&lt;Pair&lt;Color,Color&gt;&gt; = //???\n</code></pre>\n\n<p>I tried <code>allColours.take</code> but it gave an error:</p>\n\n<blockquote>\n  <p>Expecting an element</p>\n</blockquote>\n"}, {"tags": ["rest", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 1904, "user_id": 333153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eIrA.jpg?s=128&g=1", "display_name": "endo64", "link": "https://stackoverflow.com/users/333153/endo64"}, "edited": false, "score": 0, "creation_date": 1518016784, "post_id": 48667166, "comment_id": 84332200, "body": "Any details in web server logs?"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1518018228, "post_id": 48667166, "comment_id": 84333268, "body": "You&#39;re using it wrong. You should do  <code>val api: Rest by inject()</code> in both controllers and ditch that <code>RestController</code> class. Somewhere in your app, for example in App.start() you can do <code>find&lt;Rest&gt;().baseURI = &quot;...&quot;</code>. Not sure this solves the issue, but it&#39;s a start. Then supply a complete test app so it&#39;s easier to figure out what&#39;s happening here. Also, your code is very verbose. The load function in ConfirmedCtrl could be <code>fun load(id: Long) = api.get(&quot;confirmeds&quot;).list().toModel&lt;ConfirmedEntity&gt;()</code>. That already returns an ObservableArrayList, so no need in calling <code>observable()</code> on that."}], "owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518457204, "creation_date": 1518016420, "last_edit_date": 1518457204, "question_id": 48667166, "link": "https://stackoverflow.com/questions/48667166/cannot-get-rest-service", "title": "cannot get rest service", "body": "<p>This drives me crazy, I have 2 http requests in a sample application:</p>\n\n<pre><code>open class RestController : Controller() {\n    val api = Rest()\n    init {\n        api.baseURI = \"http://127.0.0.1:5059/\"\n    }\n}\nclass PendingCtlr : RestController() {\n\n\n    fun load(): ObservableList&lt;PendingEntity&gt; {\n        val txt = api.get(\"pendings\").list()\n        val temp = txt.toModel&lt;PendingEntity&gt;()\n        return temp.observable()\n    }\n\n}\nclass ConfirmedCtrl : RestController() {\n    fun load(id: Long): ObservableList&lt;ConfirmedEntity&gt; {\n        val li= api.get(\"confirmeds\").list()\n        val temp = li.toModel&lt;ConfirmedEntity&gt;()\n        return temp.observable()\n    }\n}\n</code></pre>\n\n<p>The first one works, the second one doesn't even hit the application level, it gets rejected with <code>400 BadRequest</code> by my backend (Werkzeug).</p>\n\n<p>I see absolutely no difference in both functions, and I can call both routes from my Swagger, as well as from python  as well as from curl! Could someone please advise at least where to look for debug?</p>\n\n<p><strong>EDIT:</strong>  The problem was on server side -_- Solved</p>\n"}, {"tags": ["android", "oop", "kotlin"], "comments": [{"owner": {"reputation": 138, "user_id": 5872849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5b2da89e0be257d87865c90e9117c31?s=128&d=identicon&r=PG&f=1", "display_name": "Rounak Lahoti", "link": "https://stackoverflow.com/users/5872849/rounak-lahoti"}, "edited": false, "score": 0, "creation_date": 1518015493, "post_id": 48666789, "comment_id": 84331279, "body": "What exact exception you are getting?  Otherwise i normally use checkNotNull(someVariable) func for null value."}], "answers": [{"tags": [], "owner": {"reputation": 655, "user_id": 3323486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Slf0.jpg?s=128&g=1", "display_name": "Omar Mahmoud", "link": "https://stackoverflow.com/users/3323486/omar-mahmoud"}, "is_accepted": false, "score": 0, "last_activity_date": 1518037821, "last_edit_date": 1518037821, "creation_date": 1518015545, "answer_id": 48666874, "question_id": 48666789, "link": "https://stackoverflow.com/questions/48666789/how-to-check-weather-plain-text-is-empty/48666874#48666874", "title": "how to check weather plain text is empty?", "body": "<pre><code>if (weight.toString().isNullOrEmpty()){\n    // proceed\n}\n</code></pre>\n"}], "owner": {"reputation": 746, "user_id": 4439873, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/9H5Ce.jpg?s=128&g=1", "display_name": "Ashu_FalcoN", "link": "https://stackoverflow.com/users/4439873/ashu-falcon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "closed_date": 1518016716, "answer_count": 1, "score": 0, "last_activity_date": 1518062241, "creation_date": 1518015270, "last_edit_date": 1518062241, "question_id": 48666789, "link": "https://stackoverflow.com/questions/48666789/how-to-check-weather-plain-text-is-empty", "closed_reason": "Duplicate", "title": "how to check weather plain text is empty?", "body": "<p>How can I check weather plaintext text is empty or not?</p>\n\n<p>When the user inputs their weight in the plaintext area, On button click event I need to perform validation and show results on text area,</p>\n\n<p>When I give some valid inputs the code works as expected</p>\n\n<p>But when I don't give any input the App force stops</p>\n\n<p>Here is the code</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    var weight = editText.text //store input from plaintext to variable\n\n    button.setOnClickListener  { //on click event for button..\n\n        //textView3.text=weight\n\n        if (  /* how to check here    */       ) // condition here\n        {\n            textView2.text=\"Give some inputs plz :-\" //\n        }\n        else\n        {\n            var res = findWeight(weight.toString().toDouble())\n\n            textView2.text= \"your weight on mars is\" + \" \" +res.toString()\n        }\n    }\n}\n\nfun findWeight(userWeight: Double): Double {\n    return userWeight * marsGrav\n}\n</code></pre>\n\n<p>Please see the kotlin code\nwhen there is no input it should say \"Please enter some input\"</p>\n\n<p>What can I put in the <code>if</code> condition to check if the user input is empty?</p>\n\n<p>Thank You</p>\n"}, {"tags": ["java", "kotlin", "vert.x"], "answers": [{"tags": [], "owner": {"reputation": 6331, "user_id": 2133695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba99aebb0acd409215e7cdbfb561b7f?s=128&d=identicon&r=PG", "display_name": "tsegismont", "link": "https://stackoverflow.com/users/2133695/tsegismont"}, "is_accepted": true, "score": 3, "last_activity_date": 1518015735, "creation_date": 1518015735, "answer_id": 48666928, "question_id": 48665827, "link": "https://stackoverflow.com/questions/48665827/set-individual-timeouts-in-vertx-per-request/48666928#48666928", "title": "Set individual timeouts in VertX per request", "body": "<p>Vert.x Web <code>Route</code> has a <code>blockingHandler</code> method which you can combine with a <code>TimeoutHandler</code> (returns <code>503</code> if a request times out before the response is written).</p>\n\n<pre><code>router.get(\"/foo\").handler(TimeoutHandler.create(150000))\nrouter.get(\"/foo\").blockingHandler({ routingContext -&gt;\n  // Blocking code\n})\n</code></pre>\n\n<p>Also, <code>VertxOptions.setMaxWorkerExecuteTime</code> just tells Vert.x when the blocked (worker) thread warning should be displayed. The value is expected in <strong>nanoseconds</strong>.</p>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1601, "favorite_count": 0, "accepted_answer_id": 48666928, "answer_count": 1, "score": 1, "last_activity_date": 1588579848, "creation_date": 1518012263, "question_id": 48665827, "link": "https://stackoverflow.com/questions/48665827/set-individual-timeouts-in-vertx-per-request", "title": "Set individual timeouts in VertX per request", "body": "<p>Is it possible to set individual timeouts per request in VertX?</p>\n\n<p>Doing this,</p>\n\n<pre><code>val vertx = Vertx.vertx(VertxOptions().setMaxWorkerExecuteTime(15000))\n</code></pre>\n\n<p>sets the timeout for all requests.\nCertain things like huge reports needs a bit more than the default 30 seconds.</p>\n\n<p>This is what I'm currently doing (simplified):</p>\n\n<pre><code>val vertx = Vertx.vertx()\nval router = Router.router(vertx)\n\nrouter.route(url).handler { rtx -&gt;\n    rtx.request().bodyHandler { btx -&gt;\n        rtx.vertx().executeBlocking&lt;RestResponse&gt;({ block -&gt;\n\n            val timer = timer(period = 150000) {\n                block.fail(\"timeout\")\n            }\n\n            ... blocking code here ...\n\n            timer.cancel()\n            block.complete(res)\n\n        }, { block -&gt;\n\n\n        }\n    }\n}\n</code></pre>\n\n<p>Is there an official way to this in VertX or should the above be fine?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 3001, "user_id": 671580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce9e871134885854d5c3e3ab5fa83c3b?s=128&d=identicon&r=PG", "display_name": "shelll", "link": "https://stackoverflow.com/users/671580/shelll"}, "is_accepted": true, "score": 3, "last_activity_date": 1518081764, "creation_date": 1518081764, "answer_id": 48681825, "question_id": 48665511, "link": "https://stackoverflow.com/questions/48665511/retrofit-2-on-android-6-sets-zero-path-parameters/48681825#48681825", "title": "Retrofit 2 on Android 6 sets zero path parameters", "body": "<p>It was caused by the Instant Run. Retrofit works perfectly after I disabled it.</p>\n"}], "owner": {"reputation": 3001, "user_id": 671580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce9e871134885854d5c3e3ab5fa83c3b?s=128&d=identicon&r=PG", "display_name": "shelll", "link": "https://stackoverflow.com/users/671580/shelll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1528, "favorite_count": 0, "accepted_answer_id": 48681825, "answer_count": 1, "score": 3, "last_activity_date": 1518081764, "creation_date": 1518011375, "question_id": 48665511, "link": "https://stackoverflow.com/questions/48665511/retrofit-2-on-android-6-sets-zero-path-parameters", "title": "Retrofit 2 on Android 6 sets zero path parameters", "body": "<p>I am using Retrofit 2 library version 2.3.0 and all of a sudden it started replacing integer path parameters with zero instead of the actual number.</p>\n\n<p>I am using Kotlin (1.2.21) and I have a method like:</p>\n\n<pre><code>@GET(\"posts/{postId}\")\nfun getPosts(@Path(\"postId\") postId: Long): Single&lt;Post&gt;\n</code></pre>\n\n<p>This worked as should but now when I run my app on Android 6 (both a devices and an emulator) the <code>postId</code> path parameter is always a zero i.e. <code>posts/0</code> is called. Android 7 and 8 are fine. There was no change to the Retrofit and OkHttp versions, also the interface has not changed.</p>\n\n<p>I have looked into the built request and the <code>OkHttpCall</code> inside has <code>args</code> array with one value of type <code>Long</code> with value 0. This is only on Android 6, others have the correct value there. The <code>ServiceMethod</code> has the correct URL set in the interface and it has one <code>ParameterHandler</code> for the <code>postId</code> of type <code>BuiltInConverter.ToStringConverter</code>. </p>\n\n<p>App is multiDexed and ProGuard is not used. What could be happening?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 1, "creation_date": 1518007308, "post_id": 48664024, "comment_id": 84325312, "body": "&quot;But the below code didnt print anything:&quot; - does it hang and not print anything? Or silently finishes?"}, {"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1518007806, "post_id": 48664024, "comment_id": 84325654, "body": "It didnt hang but it was executing continually @SergioTulentsev"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 1, "creation_date": 1518007899, "post_id": 48664024, "comment_id": 84325715, "body": "How can you tell the difference, if the program does not produce any output?"}, {"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1518008146, "post_id": 48664024, "comment_id": 84325929, "body": "The first snippet of code didn&#39;t print anything. But the second code printed the output. Got my solution in below answers @SergioTulentsev  Thanks for your time"}], "answers": [{"tags": [], "owner": {"reputation": 2191, "user_id": 2794332, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5ea3c23bb50f4cdb54a2008d3e990a0d?s=128&d=identicon&r=PG&f=1", "display_name": "pezetem", "link": "https://stackoverflow.com/users/2794332/pezetem"}, "is_accepted": true, "score": 5, "last_activity_date": 1518007256, "creation_date": 1518007256, "answer_id": 48664104, "question_id": 48664024, "link": "https://stackoverflow.com/questions/48664024/difference-between-tolist-take10-and-take10-tolist-in-kotlin/48664104#48664104", "title": "difference between toList().take(10) and take(10).toList() in kotlin", "body": "<p>Here is the hint -> <code>generate infinite list</code>. In the first solution you first want to create a list (wait infinity) then take first 10 elements.</p>\n\n<p>On the second snippet, from infinite list you take only first 10 elements and change it to list </p>\n"}, {"comments": [{"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "edited": false, "score": 0, "creation_date": 1518007935, "post_id": 48664125, "comment_id": 84325749, "body": "Yeah you are right. I think IDE should hint me that <code>toList().take(10) will be infinite</code> when I do this on a sequence."}], "tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": false, "score": 1, "last_activity_date": 1518007329, "creation_date": 1518007329, "answer_id": 48664125, "question_id": 48664024, "link": "https://stackoverflow.com/questions/48664024/difference-between-tolist-take10-and-take10-tolist-in-kotlin/48664125#48664125", "title": "difference between toList().take(10) and take(10).toList() in kotlin", "body": "<p><code>generatePrimeFrom2.toList()</code> tries to compute/create an <em>infinite-length</em> list.<br>\n<code>generatePrimeFrom2.toList().take(10)</code> then takes the first 10 elements from the <em>infinite-length</em> list.<br>\nIt does not print because it is calculating that <em>infinite-length</em> list.</p>\n\n<p>Whereas, <code>generatePrimeFrom2.take(10)</code> only tries to compute the first 10 elements.\n<code>generatePrimeFrom2.take(10).toList()</code> converts the first 10 elements to the list.</p>\n\n<p>You know, <code>generateSequence(3){ it + 2 }</code> does not have the <em>end</em>. So it has the infinite length.<br>\n<code>Sequence</code>s do not have actual values, calculated when they are needed, but <code>List</code>s have to have actual values.</p>\n"}, {"comments": [{"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "edited": false, "score": 0, "creation_date": 1518008073, "post_id": 48664158, "comment_id": 84325875, "body": "Yeah you are right. I think IDE should hint me that <code>toList().take(10) will be infinite</code> when I do this on a sequence"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "edited": false, "score": 1, "creation_date": 1518008390, "post_id": 48664158, "comment_id": 84326116, "body": "IDEA 2018 may be introducing some inspections for that (not 100% sure)."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 1, "last_activity_date": 1518007447, "creation_date": 1518007447, "answer_id": 48664158, "question_id": 48664024, "link": "https://stackoverflow.com/questions/48664024/difference-between-tolist-take10-and-take10-tolist-in-kotlin/48664158#48664158", "title": "difference between toList().take(10) and take(10).toList() in kotlin", "body": "<blockquote>\n  <p>I came across sequences which generate infinite list.</p>\n</blockquote>\n\n<p>This is not actually correct. The main point is that a <em>sequence is not a list</em>. It is a lazily evaluated construct and only the items you request will actually become \"materialized\", i.e., their memory allocated on the heap.</p>\n\n<p>That's why it's not interchangeable to write </p>\n\n<pre><code>infiniteSeq.toList().take(10)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>infiniteSeq.take(10).toList()\n</code></pre>\n\n<p>The former will try to instantiate infinitely many items&mdash;and, predictably, fail at it.</p>\n"}, {"comments": [{"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "edited": false, "score": 0, "creation_date": 1518008038, "post_id": 48664189, "comment_id": 84325853, "body": "Yeah you are right. I think IDE should hint me that <code>toList().take(10) will be infinite</code> when I do this on a sequence"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 8, "last_activity_date": 1518017318, "last_edit_date": 1518017318, "creation_date": 1518007538, "answer_id": 48664189, "question_id": 48664024, "link": "https://stackoverflow.com/questions/48664024/difference-between-tolist-take10-and-take10-tolist-in-kotlin/48664189#48664189", "title": "difference between toList().take(10) and take(10).toList() in kotlin", "body": "<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/generate-sequence.html\" rel=\"nofollow noreferrer\"><code>generateSequence</code></a> function generates a sequence that is either infinite or finishes when the lambda passed to it returns <code>null</code>. In your case, it is <code>{ it + 2 }</code>, which never returns <code>null</code>, so the sequence is infinite.</p>\n\n<p>When you call <code>.toList()</code> on a sequence, it will try to collect all sequence elements and thus will never stop if the sequence is infinite (unless the index overflows or an out-of-memory error happens), so it does not print anything because it does not finish.</p>\n\n<p>In the second case, on contrary, you limit the number of elements in the sequence with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/take.html\" rel=\"nofollow noreferrer\"><code>.take(10)</code></a> <em>before</em> trying to collect its items. Then the <code>.toList()</code> call simply collects the 10 items and finishes.</p>\n\n<p>It may become more clear if you check this Q&amp;A about differences between <code>Sequence&lt;T&gt;</code> and <code>Iterable&lt;T&gt;</code>: <a href=\"https://stackoverflow.com/questions/35629159/kotlins-iterable-and-sequence-look-exactly-same-why-are-two-types-required\">(link)</a></p>\n"}], "owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 48664104, "answer_count": 4, "score": 2, "last_activity_date": 1518017318, "creation_date": 1518007056, "question_id": 48664024, "link": "https://stackoverflow.com/questions/48664024/difference-between-tolist-take10-and-take10-tolist-in-kotlin", "title": "difference between toList().take(10) and take(10).toList() in kotlin", "body": "<p>I am just trying the new <code>kotlin</code> language. I came across sequences which generate infinite list. I generated a sequence and tried printing the first 10 elements. But the below code didnt print anything:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val generatePrimeFrom2 = generateSequence(3){ it + 2 }\n    print(generatePrimeFrom2.toList().take(10))\n}\n</code></pre>\n\n<p>But when I changed <code>take(10).toList()</code> in the <code>print</code> statement it work fine. Why is it so ?</p>\n\n<p>This code worked fine for me:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val generatePrimeFrom2 = generateSequence(3){ it + 2 }\n    print(generatePrimeFrom2.take(10).toList())\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 268, "user_id": 9543418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3yLG.jpg?s=128&g=1", "display_name": "Muhammed Haris", "link": "https://stackoverflow.com/users/9543418/muhammed-haris"}, "edited": false, "score": 1, "creation_date": 1581688703, "post_id": 48663785, "comment_id": 106530743, "body": "for (i in number.length downTo 1) {   Log.e(&quot;number&quot;, number[i]) }"}], "answers": [{"comments": [{"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 2, "creation_date": 1548832944, "post_id": 48663827, "comment_id": 95679785, "body": "I need to have this <code>for(int i=0;i&lt;2;i++)</code>. How can I convert to kotlin ?"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 2, "creation_date": 1548833142, "post_id": 48663827, "comment_id": 95679888, "body": "@JohnJoe like this <code>for (i in 0..1) {             Log.e(&quot;DATA&quot;, &quot;DATA&quot;)         }</code>"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 1, "creation_date": 1548833434, "post_id": 48663827, "comment_id": 95680046, "body": "I tried this  <code>for(i in request?.locations.size) {              Toast.makeText(getActivity(),&quot;ssss&quot;,Toast.LENGTH_LONG).show(&zwnj;&#8203;)             }</code> but get <code>For-loop range must have an &#39;iterator()&#39; method</code>. <code>request?.locations.size</code> give me value 2."}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 1, "creation_date": 1548833718, "post_id": 48663827, "comment_id": 95680197, "body": "@JohnJoe what is <code>request?.locations.size</code> here"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 1, "creation_date": 1548833798, "post_id": 48663827, "comment_id": 95680239, "body": "It will return me value 2. You can assume it is value 2."}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 1, "creation_date": 1548834169, "post_id": 48663827, "comment_id": 95680402, "body": "@JohnJoe check this <a href=\"https://stackoverflow.com/questions/29201182/kotlin-for-loop-must-have-an-iterator-method-is-this-a-bug\" title=\"kotlin for loop must have an iterator method is this a bug\">stackoverflow.com/questions/29201182/&hellip;</a> question for similar error"}], "tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": false, "score": 59, "last_activity_date": 1561532131, "last_edit_date": 1561532131, "creation_date": 1518006488, "answer_id": 48663827, "question_id": 48663785, "link": "https://stackoverflow.com/questions/48663785/for-loop-in-kotlin/48663827#48663827", "title": "For Loop in kotlin", "body": "<p>Try this</p>\n\n<p>syntax of <code>for</code> loop in <code>Kotlin</code> is:</p>\n\n<pre><code>for (item in collection) {\n    // body of loop\n}\n</code></pre>\n\n<p>body</p>\n\n<pre><code>for (item: Int in ints) {\n    // body of loop\n}\n</code></pre>\n\n<p><strong>SAMPLE CODE</strong></p>\n\n<pre><code>for (i in 0..5) {\n        println(i) // 0,1,2,3,4,5   --&gt; upto 5\n}\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code> for (i in 0 until 5) {\n        println(i) // 0,1,2,3,4    --&gt; upto 4\n }\n</code></pre>\n\n<blockquote>\n  <p>for loop in array</p>\n</blockquote>\n\n<pre><code>var arr = arrayOf(\"neel\", \"nilu\", \"nilesh\", \"nil\")\n\n    for (item in arr)\n    {\n        println(item)\n    }\n</code></pre>\n\n<blockquote>\n  <p>iterate through an array with an index.</p>\n</blockquote>\n\n<pre><code> var arr = arrayOf(\"neel\", \"nilu\", \"nilesh\", \"nil\")\nfor (item in arr.indices) {\n\n        // printing array elements having even index only\n        if (item%2 == 0)\n            println(language[item])\n    }\n</code></pre>\n\n<p>for more information check <strong><a href=\"https://www.programiz.com/kotlin-programming/for-loop\" rel=\"noreferrer\"> <code>for loop in Kotlin</code></a></strong></p>\n\n<p>and this also <strong><a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"noreferrer\"><code>for loop in Kotlin</code></a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 35671, "user_id": 1722818, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/sQrwd.jpg?s=128&g=1", "display_name": "duggu", "link": "https://stackoverflow.com/users/1722818/duggu"}, "is_accepted": false, "score": 6, "last_activity_date": 1518006628, "creation_date": 1518006628, "answer_id": 48663870, "question_id": 48663785, "link": "https://stackoverflow.com/questions/48663785/for-loop-in-kotlin/48663870#48663870", "title": "For Loop in kotlin", "body": "<p><strong>For Loops</strong></p>\n\n<p><code>for loop</code> iterates through anything that provides an iterator. This is equivalent to the foreach loop in languages like C#. The syntax is as follows:</p>\n\n<pre><code>for (item in collection) print(item)\n</code></pre>\n\n<p>The body can be a block.</p>\n\n<pre><code>for (item: Int in ints) {\n    // ...\n}\n</code></pre>\n\n<p>As mentioned before, for iterates through anything that provides an iterator, i.e.</p>\n\n<p>has a member- or extension-function iterator(), whose return type\nhas a member- or extension-function next(), and\nhas a member- or extension-function hasNext() that returns Boolean.\nAll of these three functions need to be marked as operator.</p>\n\n<p>A for loop over an array is compiled to an index-based loop that does not create an iterator object.</p>\n\n<p>If you want to iterate through an array or a list with an index, you can do it this way:</p>\n\n<pre><code>for (i in array.indices) {\n    print(array[i])\n}\n</code></pre>\n\n<p>Note that this \"iteration through a range\" is compiled down to optimal implementation with no extra objects created.</p>\n\n<p>Alternatively, you can use the withIndex library function:</p>\n\n<pre><code>for ((index, value) in array.withIndex()) {\n    println(\"the element at $index is $value\")\n}\n</code></pre>\n\n<p>for more info <a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"noreferrer\">see link</a></p>\n"}, {"tags": [], "owner": {"reputation": 1236, "user_id": 7035327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YyU5e.jpg?s=128&g=1", "display_name": "Amardeep", "link": "https://stackoverflow.com/users/7035327/amardeep"}, "is_accepted": false, "score": 2, "last_activity_date": 1518006701, "creation_date": 1518006701, "answer_id": 48663896, "question_id": 48663785, "link": "https://stackoverflow.com/questions/48663785/for-loop-in-kotlin/48663896#48663896", "title": "For Loop in kotlin", "body": "<p><strong>Case 1:</strong></p>\n\n<pre><code>     var number= arrayOf(1, 2, 3 4,5)\n\n            for (item in number)\n\nLog.e(\"number\", item)\n</code></pre>\n\n<p><strong>Case 2</strong></p>\n\n<pre><code> var number= arrayOf(1, 2, 3 4,5)\n    for (item in number.indices) {\n    // printing array elements \n\nLog.e(\"number\", language[item])\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 15, "last_activity_date": 1518087984, "last_edit_date": 1518087984, "creation_date": 1518006711, "answer_id": 48663899, "question_id": 48663785, "link": "https://stackoverflow.com/questions/48663785/for-loop-in-kotlin/48663899#48663899", "title": "For Loop in kotlin", "body": "<p>Read <a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"noreferrer\"><strong><code>Control Flow Structure in Kotlin</code></strong></a> .</p>\n\n<blockquote>\n  <p>for (item in collection) print(item)</p>\n</blockquote>\n\n<p><strong><code>for</code></strong> loop iterates through anything that provides an iterator. This is equivalent to the <strong><code>foreach</code></strong> loop.</p>\n\n<p>The body can be a block.</p>\n\n<pre><code>for (item: Int in ints) {\n    // ...\n}\n</code></pre>\n\n<p><strong>Try with</strong></p>\n\n<pre><code>val number = arrayOf(5, 4, 1, 3, 15)\n\n    for (i in 0 until number.size)\n    {\n        Log.e(\"NUMBER\", number[i].toString())\n    }\n</code></pre>\n"}], "owner": {"reputation": 620, "user_id": 4197033, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/zmFYL.png?s=128&g=1", "display_name": "Sundeep Badhotiya", "link": "https://stackoverflow.com/users/4197033/sundeep-badhotiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34105, "favorite_count": 5, "closed_date": 1518066994, "answer_count": 4, "score": 33, "last_activity_date": 1561532131, "creation_date": 1518006380, "question_id": 48663785, "link": "https://stackoverflow.com/questions/48663785/for-loop-in-kotlin", "closed_reason": "Not suitable for this site", "title": "For Loop in kotlin", "body": "<p>I am new in Kotlin, Please help me in achieving this.</p>\n\n<pre><code>int number[] = {5,4,1,3,15}\n\nfor(int i = number.length; i &gt; 0; i--)\n{\n   Log.e(\"number\", number[i])\n}\n</code></pre>\n"}, {"tags": ["java", "android", "sqlite", "kotlin", "collation"], "comments": [{"owner": {"reputation": 2133, "user_id": 1928691, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/trtts.png?s=128&g=1", "display_name": "Federico Navarrete", "link": "https://stackoverflow.com/users/1928691/federico-navarrete"}, "edited": false, "score": 0, "creation_date": 1518008414, "post_id": 48663538, "comment_id": 84326142, "body": "Hey Michal, I have a small suggestion, have you considered to move it to objects? Maybe it&#39;s going to be easier to handle the exceptions or cases that you want to consider."}, {"owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "reply_to_user": {"reputation": 2133, "user_id": 1928691, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/trtts.png?s=128&g=1", "display_name": "Federico Navarrete", "link": "https://stackoverflow.com/users/1928691/federico-navarrete"}, "edited": false, "score": 0, "creation_date": 1518008868, "post_id": 48663538, "comment_id": 84326502, "body": "If you mean moving filtering to the code then yeah. But there are 2 problems: legacy code which will be more efficient with this solution (and I was explicitly asked to make it using SQL) and second is that Java Collator is not working good with some letters (for example polish a and \u0105 will not be compared well) so it will be even more coding to do it around :/"}], "answers": [{"tags": [], "owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "is_accepted": true, "score": 0, "last_activity_date": 1518160448, "creation_date": 1518160448, "answer_id": 48700534, "question_id": 48663538, "link": "https://stackoverflow.com/questions/48663538/how-to-use-sql-collate-operator-with-android-cursorloader/48700534#48700534", "title": "How to use SQL COLLATE operator with Android CursorLoader", "body": "<p>I have found the answer, but it is not what I hoped for. Convenient COLLATE LOCALIZED was removed from Android around Nougat release and is not replaced in any way.</p>\n\n<p>Known workarounds are:</p>\n\n<ul>\n<li>Perform filtering in coding (use Normalizer.normalize or Collator java object)</li>\n<li>Add additional column to the filtered table with normalized name (no accents etc.) and compare your users input to this column</li>\n<li>Add custom COLLATOR to SQLite database, what sounds cool but there is not Java API to do so. You would have to use Anroid NDK and write it in C++ code.</li>\n</ul>\n\n<p>I found these in hire if you wish to get detailed answears:\n<a href=\"https://discuss.zetetic.net/t/workaround-for-using-androids-localized-collator-after-3-5-0-update/1515/14\" rel=\"nofollow noreferrer\">https://discuss.zetetic.net/t/workaround-for-using-androids-localized-collator-after-3-5-0-update/1515/14</a></p>\n"}], "owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 48700534, "answer_count": 1, "score": 0, "last_activity_date": 1518160448, "creation_date": 1518005647, "question_id": 48663538, "link": "https://stackoverflow.com/questions/48663538/how-to-use-sql-collate-operator-with-android-cursorloader", "title": "How to use SQL COLLATE operator with Android CursorLoader", "body": "<p>I need to create CursorLoader which will extract all items matching a name and type. What is more name must ignore Locale specific letters (accents). For example, if I provide query with:</p>\n\n<pre><code>item_name LIKE '%cafe%' COLLATE LOCALIZED\n</code></pre>\n\n<p>then I need then to extract all items, which names contain 'cafe' OR 'caf\u00e9'. I have no idea tho, how to provide COLLATE operator to query built like that (with no plain SQL).</p>\n\n<pre><code>    return CursorLoader(\n            context,\n            someUri,\n            arrayOf(\n                    PrompterTable.WORD_C,\n                    PrompterTable.WORD_PLAIN_C,\n                    PrompterTable.ENTRY_ID_C,\n                    PrompterTable.CATEGORY_ID_C,\n                    lengthClause,\n                    PrompterTable.FAVOURITE_C\n            ),\n            \"item_name LIKE ? COLLATE LOCALIZED AND item_type IN (0, 1)\",\n            arrayOf(myItemName),\n            \"L\" //alias given to lengthClause before\n    )\n</code></pre>\n\n<p>I did set database locale to spanish, I also tryied few ways to build the WHERE statement:</p>\n\n<pre><code>\"item_name LIKE ? COLLATE LOCALIZED AND item_type IN (0, 1)\"\n\"(item_name LIKE ? COLLATE LOCALIZED) AND item_type IN (0, 1)\"\n\"item_name LIKE ? AND item_type IN (0, 1) COLLATE LOCALIZED\"\n\"item_name = ? AND item_type IN (0, 1) COLLATE LOCALIZED\"\n\"item_name = ? COLLATE LOCALIZED AND item_type IN (0, 1)\"\n\"(item_name = ? COLLATE LOCALIZED) AND item_type IN (0, 1)\"\n</code></pre>\n\n<p>But every of them won't work I as need (finds only 'cafe'). Query is computed to something like this:</p>\n\n<pre><code>    SELECT word, item_name, entryID, item_type,  length(word) as L , favourite \n    FROM item_table \n    WHERE (item_name LIKE '%cafe%' COLLATE LOCALIZED AND item_type IN (0, 1)) \n    GROUP BY word ORDER BY L LIMIT 25\n</code></pre>\n\n<p>I tried to reference this topic: <a href=\"https://stackoverflow.com/questions/3480999/using-collate-in-android-sqlite-locales-is-ignored-in-like-statement/3481298\">Using COLLATE in Android SQLite - Locales is ignored in LIKE statement</a></p>\n\n<p>But in my case it won't work even with '=' instead of LIKE</p>\n"}, {"tags": ["kotlin", "uberjar", "gradle-kotlin-dsl", "shadowjar"], "answers": [{"tags": [], "owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "is_accepted": true, "score": 2, "last_activity_date": 1519664714, "creation_date": 1519664714, "answer_id": 48993555, "question_id": 48663427, "link": "https://stackoverflow.com/questions/48663427/could-not-find-kotlin-gradle-plugin-for-kotlin-script-gradle/48993555#48993555", "title": "Could not find kotlin-gradle-plugin for Kotlin script Gradle", "body": "<p>Looking at the error logs, you can see the plugin version request:</p>\n\n<pre><code>Searched in the following locations:\n     file:/home/thufir/.gradle/caches/4.3.1/embedded-kotlin-repo-1.1.51-1/repo/org/jetbrains/kotlin/kotlin-gradle-plugin//kotlin-gradle-plugin-.pom\n     file:/home/thufir/.gradle/caches/4.3.1/embedded-kotlin-repo-1.1.51-1/repo/org/jetbrains/kotlin/kotlin-gradle-plugin//kotlin-gradle-plugin-.jar\n     https://repo1.maven.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin//kotlin-gradle-plugin-.pom\n     https://repo1.maven.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin//kotlin-gradle-plugin-.jar\n     https://repo.gradle.org/gradle/repo/org/jetbrains/kotlin/kotlin-gradle-plugin//kotlin-gradle-plugin-.pom\n     https://repo.gradle.org/gradle/repo/org/jetbrains/kotlin/kotlin-gradle-plugin//kotlin-gradle-plugin-.jar\n</code></pre>\n\n<p>You can see that a version is not requested on each plugin request because they are looking for <code>kotlin-gradle-plugin-.jar</code>.</p>\n\n<p>If you <a href=\"https://github.com/gradle/kotlin-dsl/blob/6a3c51a65e8423aa33432b816996360cd32e7906/buildSrc/src/main/kotlin/codegen/GenerateKotlinDependencyExtensions.kt#L92-L94\" rel=\"nofollow noreferrer\">look at the source</a>, you will also see that <code>kotlinModule</code> is deprecated.</p>\n\n<p>I would recommend a few different changes to improve the build script:</p>\n\n<ol>\n<li>Using the Gradle wrapper (<code>./gradlew</code></li>\n<li>Specify a version for your <code>kotlinModule</code> until you upgrade your Gradle version - <code>kotlinModule(\"gradle-plugin\", \"1.1.51\")</code></li>\n<li>Use the <code>plugins {}</code> block instead of <code>buildscript</code> for plugins</li>\n</ol>\n"}], "owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1255, "favorite_count": 1, "accepted_answer_id": 48993555, "answer_count": 1, "score": 3, "last_activity_date": 1519664714, "creation_date": 1518005202, "last_edit_date": 1519664329, "question_id": 48663427, "link": "https://stackoverflow.com/questions/48663427/could-not-find-kotlin-gradle-plugin-for-kotlin-script-gradle", "title": "Could not find kotlin-gradle-plugin for Kotlin script Gradle", "body": "<p>build fails, classpath error:</p>\n\n<pre><code>thufir@dur:~/NetBeansProjects/kotlinShadowJar$ \nthufir@dur:~/NetBeansProjects/kotlinShadowJar$ gradle clean\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'kotlinShadowJar'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not find org.jetbrains.kotlin:kotlin-gradle-plugin:.\n     Searched in the following locations:\n         file:/home/thufir/.gradle/caches/4.3.1/embedded-kotlin-repo-1.1.51-1/repo/org/jetbrains/kotlin/kotlin-gradle-plugin//kotlin-gradle-plugin-.pom\n         file:/home/thufir/.gradle/caches/4.3.1/embedded-kotlin-repo-1.1.51-1/repo/org/jetbrains/kotlin/kotlin-gradle-plugin//kotlin-gradle-plugin-.jar\n         https://repo1.maven.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin//kotlin-gradle-plugin-.pom\n         https://repo1.maven.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin//kotlin-gradle-plugin-.jar\n         https://repo.gradle.org/gradle/repo/org/jetbrains/kotlin/kotlin-gradle-plugin//kotlin-gradle-plugin-.pom\n         https://repo.gradle.org/gradle/repo/org/jetbrains/kotlin/kotlin-gradle-plugin//kotlin-gradle-plugin-.jar\n     Required by:\n         project :\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n</code></pre>\n\n<p><code>cat build.gradle.kts</code>:</p>\n\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\n\nbuildscript {\n    repositories {\n        mavenCentral()\n        gradleScriptKotlin()\n    }\n    dependencies {\n        classpath(kotlinModule(\"gradle-plugin\"))\n        classpath(\"com.github.jengelman.gradle.plugins:shadow:1.2.3\")\n    }\n}\n\napply {\n    plugin(\"kotlin\")\n    plugin(\"com.github.johnrengelman.shadow\")\n}\n\nrepositories {\n    mavenCentral()\n}\n\nval shadowJar: ShadowJar by tasks\nshadowJar.apply {\n    manifest.attributes.apply {\n        put(\"Implementation-Title\", \"Gradle Jar File Example\")\n        put(\"Implementation-Version\" version)\n        put(\"Main-Class\", \"com.mkyong.DateUtils\")\n    }\n\n    baseName = project.name + \"-all\"\n}\n</code></pre>\n\n<p>The buildfile was a <a href=\"https://stackoverflow.com/a/41795221/262852\">direct copy</a> of a working build.  The context is getting started with <a href=\"https://stackoverflow.com/q/48661330/262852\">Kotlin script Gradle</a>.  So far as I can tell the script <a href=\"https://stackoverflow.com/q/35651561/262852\">should be good</a>.</p>\n\n<p>Note that I'm <em>not</em> using intelli-J, this is strictly from the CLI with Kotlin script Gradle.</p>\n\n<p>perhaps it's something quite <a href=\"https://stackoverflow.com/a/47330169/262852\">simple</a>, like \"plugin\" versus \"plugins\"...</p>\n"}, {"tags": ["android", "multithreading", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518005622, "post_id": 48663423, "comment_id": 84324296, "body": "I just ran your snippet inside my app and found no evidence of UI thread blocking. It just added a 5 second delay to the subsequent actions. As an aside, it&#39;s simpler and more idiomatic to write <code>withContext(CommonPool) { ... }</code> instead of <code>async...await()</code>"}, {"owner": {"reputation": 4834, "user_id": 3275253, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/jSMeb.jpg?s=128&g=1", "display_name": "voghDev", "link": "https://stackoverflow.com/users/3275253/voghdev"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518006527, "post_id": 48663423, "comment_id": 84324861, "body": "Are you sure? my <code>ProgressBar</code> freezes while the <code>sleep</code>  is running, then rotates again after the <code>TextView</code> is updated. I&#39;ll commit the pet project later so everyone has more information"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518006649, "post_id": 48663423, "comment_id": 84324926, "body": "Yes, I&#39;m sure, i can interact with the UI and activate animations during the delay. One thing you can check is the import statements. Maybe you caught a different <code>async</code> (unlikely due to the argument type, but still)."}, {"owner": {"reputation": 4834, "user_id": 3275253, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/jSMeb.jpg?s=128&g=1", "display_name": "voghDev", "link": "https://stackoverflow.com/users/3275253/voghdev"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518085439, "post_id": 48663423, "comment_id": 84363240, "body": "Sample code <a href=\"https://github.com/voghDev/HelloKotlin/blob/coroutine_experiment/app/src/main/kotlin/es/voghdev/hellokotlin/MainActivity.kt\" rel=\"nofollow noreferrer\">here</a>, hitting the first button blocks UI, the second one doesn&#39;t. Was the code snippet you ran similar to this one @MarkoTopolnik ?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1518085929, "post_id": 48663423, "comment_id": 84363617, "body": "Wait... you put <code>runBlocking {</code>? It does exactly what it sounds like. Why didn&#39;t you mention that in the post? Of course it will block when you call <code>runBlocking</code> :)"}, {"owner": {"reputation": 4834, "user_id": 3275253, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/jSMeb.jpg?s=128&g=1", "display_name": "voghDev", "link": "https://stackoverflow.com/users/3275253/voghdev"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518086394, "post_id": 48663423, "comment_id": 84363958, "body": "yup, have to put <code>runBlocking</code> or else <code>.await()</code> won&#39;t compile :-P could you execute the <code>.await()</code>  without <code>runBlocking</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 4834, "user_id": 3275253, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/jSMeb.jpg?s=128&g=1", "display_name": "voghDev", "link": "https://stackoverflow.com/users/3275253/voghdev"}, "edited": false, "score": 0, "creation_date": 1518087220, "post_id": 48683583, "comment_id": 84364536, "body": "I&#39;ve updated my GitHub repo with the proposed answer. Thanks Marko, it&#39;s been an interesting research. Now I&#39;ll try to call your solution in a Unit Test :-)"}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 7, "last_activity_date": 1518087077, "last_edit_date": 1518087077, "creation_date": 1518086727, "answer_id": 48683583, "question_id": 48663423, "link": "https://stackoverflow.com/questions/48663423/why-does-this-coroutine-block-ui-thread/48683583#48683583", "title": "Why does this coroutine block UI Thread?", "body": "<p><code>runBlocking</code> is not the way to start a coroutine on the UI thread because, as its name says, it will block the hosting thread until the coroutine is done. You have to <code>launch</code> it in the <code>UI</code> context and then switch to the <code>CommonPool</code> context for the heavyweight operation. And, while we're at it, you should drop the <code>async-await</code> pair and use <code>withContext</code>:</p>\n\n<pre><code>button1.setOnClickListener {\n    launch(UI) {\n        withContext(CommonPool) {\n            Thread.sleep(5000L)\n        }\n        textView1.text = \"Done! UI was not blocked :-)\"\n    }\n}\n</code></pre>\n\n<p><code>withContext</code> will suspend the coroutine until done and then resume it in the parent context, which is <code>UI</code>.</p>\n\n<h3>On the Use of CommonPool</h3>\n\n<p>Although it's very simple to use the <code>CommonPool</code>, it means you're submitting to a global pool that all your dependencies see and might use, and you have no control over it. What I'd recommend instead is creating your own thread pool, with the additional benefit that you can configure it as you like. The code for that is very simple:</p>\n\n<pre><code>val threadPool = Executors.newCachedThreadPool().asCoroutineDispatcher()\n</code></pre>\n\n<p>And then you just say <code>withContext(threadPool)</code> instead of <code>withContext(CommonPool)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1518088741, "creation_date": 1518088741, "answer_id": 48684247, "question_id": 48663423, "link": "https://stackoverflow.com/questions/48663423/why-does-this-coroutine-block-ui-thread/48684247#48684247", "title": "Why does this coroutine block UI Thread?", "body": "<p>As <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental/run-blocking.html\" rel=\"nofollow noreferrer\">documentation</a> tells us:</p>\n\n<blockquote>\n  <p>[<code>runBlocking</code>] runs new coroutine and <strong>blocks current thread</strong> interruptibly until its completion. This function should not be used from coroutine. It is designed to <strong>bridge regular blocking code to libraries that are written in suspending style</strong>, to be used in <code>main</code> functions and in <strong>tests</strong>.</p>\n</blockquote>\n\n<p>As quoted, it\u2019s often used in tests that work with regular coroutines and also in <code>main</code> methods to wait for the completion of coroutines.</p>\n\n<p>Also, this <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#bridging-blocking-and-non-blocking-worlds\" rel=\"nofollow noreferrer\">tutorial</a> will help understanding its use cases.</p>\n"}], "owner": {"reputation": 4834, "user_id": 3275253, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/jSMeb.jpg?s=128&g=1", "display_name": "voghDev", "link": "https://stackoverflow.com/users/3275253/voghdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3012, "favorite_count": 3, "answer_count": 2, "score": 7, "last_activity_date": 1595433548, "creation_date": 1518005191, "last_edit_date": 1595433548, "question_id": 48663423, "link": "https://stackoverflow.com/questions/48663423/why-does-this-coroutine-block-ui-thread", "title": "Why does this coroutine block UI Thread?", "body": "<p>I'm finding that this particular code in my Android App blocks the UI Thread:</p>\n<pre><code>runBlocking {\n    async(CommonPool) {\n        Thread.sleep(5000)     \n    }.await()\n}\n\ntextView.text = &quot;Finish!&quot;\n</code></pre>\n<p>I've been using coroutines for several tasks, and they never block UI Thread, as can be read in <a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>. Coroutines provide a way to avoid blocking a thread and replace it with a cheaper and more controllable operation: suspension of a coroutine</p>\n</blockquote>\n<p>But curiously, this code:</p>\n<pre><code>runBlocking {\n    async(CommonPool) {\n        launch(CommonPool) {\n            Thread.sleep(5000)\n\n            runOnUiThread { textView.text = &quot;Finish!&quot; }\n        }\n    }.await()\n}\n</code></pre>\n<p>behaves as expected; does not block, waits five seconds then prints the result (I need to update the UI after, and only after the <code>sleep</code> is completed)</p>\n<p>The documentation says that <code>async</code> and <code>launch</code> can be used independently and don't need to be combined. In fact, <code>async(CommonPool)</code> should be enough.</p>\n<p>So what's really going on here? why does it work only with <code>async+launch</code> ?</p>\n<h2>Update</h2>\n<p>My full sample code:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        setContentView(R.layout.activity_main)\n\n        button1.setOnClickListener {\n            runBlocking {\n                async(CommonPool) {\n                    Thread.sleep(5000L)\n                }.await()\n            }\n\n            textView1.text = &quot;Finally! I've been blocked for 5s :-(&quot;\n        }\n\n        button2.setOnClickListener {\n            runBlocking {\n                async(CommonPool) {\n                    launch(CommonPool) {\n                        Thread.sleep(5000L)\n\n                        runOnUiThread { textView1.text = &quot;Done! UI was not blocked :-)&quot; }\n                    }\n                }.await()\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-context"], "comments": [{"owner": {"reputation": 7065, "user_id": 4017501, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Mk9ZAlByQdc/AAAAAAAAAAI/AAAAAAAAAD8/TKM32IE8Mxs/photo.jpg?sz=128", "display_name": "cutiko", "link": "https://stackoverflow.com/users/4017501/cutiko"}, "edited": false, "score": 1, "creation_date": 1518004584, "post_id": 48663177, "comment_id": 84323628, "body": "Maybe if the fragment loose it state, best guess I can give"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 1794098, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/885d2f508a1f22ec3de6e7f3d1ec81ad?s=128&d=identicon&r=PG", "display_name": "vebbi", "link": "https://stackoverflow.com/users/1794098/vebbi"}, "edited": false, "score": 0, "creation_date": 1518079817, "post_id": 48663323, "comment_id": 84359393, "body": "Thanks for your response."}], "tags": [], "owner": {"reputation": 5090, "user_id": 2644098, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/KEMCq.jpg?s=128&g=1", "display_name": "Gergely K\u0151r&#246;ssy", "link": "https://stackoverflow.com/users/2644098/gergely-k%c5%91r%c3%b6ssy"}, "is_accepted": false, "score": 3, "last_activity_date": 1518004933, "creation_date": 1518004933, "answer_id": 48663323, "question_id": 48663177, "link": "https://stackoverflow.com/questions/48663177/bad-idea-to-override-getcontext-to-non-null-in-android-api-level-27/48663323#48663323", "title": "Bad idea to override getContext() to non-null in Android api level 27?", "body": "<p>There can be situations where the fragment is not attached to a host. The simplest example is when the fragment is instantiated with its empty constructor and is not attached to anything. If you called <code>getContext()</code> in the constructor (or a method called from the constructor), it would result in a <code>null</code> value.</p>\n\n<p>This means that overriding <code>getContext()</code> to return <code>super.getContext()</code> would make no sense. You might be able get rid of some <em>null-checks</em> but if it's <code>null</code>, your app will crash.</p>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 1794098, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/885d2f508a1f22ec3de6e7f3d1ec81ad?s=128&d=identicon&r=PG", "display_name": "vebbi", "link": "https://stackoverflow.com/users/1794098/vebbi"}, "edited": false, "score": 0, "creation_date": 1518080501, "post_id": 48663468, "comment_id": 84359815, "body": "Thanks, good example. I actually use a FragmentPagerAdapter, so the issue might actually occur there."}], "tags": [], "owner": {"reputation": 731, "user_id": 6093078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ukeam.jpg?s=128&g=1", "display_name": "Yashaswi N P", "link": "https://stackoverflow.com/users/6093078/yashaswi-n-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1518005361, "creation_date": 1518005361, "answer_id": 48663468, "question_id": 48663177, "link": "https://stackoverflow.com/questions/48663177/bad-idea-to-override-getcontext-to-non-null-in-android-api-level-27/48663468#48663468", "title": "Bad idea to override getContext() to non-null in Android api level 27?", "body": "<p>Reason being there are cases where fragments won't be attached to the parent yet but you try to access it,in such case context will be null.Best example is when you have tabs with multiple fragments and you keep switching between the tabs, most possible case is fragments will be detached and take time to attach it back but you have already switched to other tabs resulting your app to crash. So keeping context nullable is one of the best practice.</p>\n"}], "owner": {"reputation": 119, "user_id": 1794098, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/885d2f508a1f22ec3de6e7f3d1ec81ad?s=128&d=identicon&r=PG", "display_name": "vebbi", "link": "https://stackoverflow.com/users/1794098/vebbi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "accepted_answer_id": 48663468, "answer_count": 2, "score": 1, "last_activity_date": 1522751475, "creation_date": 1518004462, "last_edit_date": 1522751475, "question_id": 48663177, "link": "https://stackoverflow.com/questions/48663177/bad-idea-to-override-getcontext-to-non-null-in-android-api-level-27", "title": "Bad idea to override getContext() to non-null in Android api level 27?", "body": "<p>I'm using kotlin, and recently updated my application with compileSdkVersion/targetSdkVersion 27. There I get some compilation errors, where for instance, context is now nullable(context?) instead of non-null. \nI have a base fragment class, that other fragments inherits from. Is it a bad idea to have this function? </p>\n\n<pre><code>override fun getContext(): Context {\n    return super.getContext()!!\n}\n</code></pre>\n\n<p>In the parent function, I see that you have this code: </p>\n\n<pre><code>/**\n * Return the {@link Context} this fragment is currently associated with.\n */\n@Nullable\npublic Context getContext() {\n    return mHost == null ? null : mHost.getContext();\n}\n</code></pre>\n\n<p>Where mHost is: </p>\n\n<pre><code>// Host this fragment is attached to.\nFragmentHostCallback mHost;\n</code></pre>\n\n<p>But the fragment will always be attached to a host, as far as I can see. \nIs there any kind of scenario where mHost will be null?</p>\n\n<p>Edit: In support library v27.1.0 Fragments now have requireContext(), requireActivity(), requireHost(), and requireFragmentManager() methods, which return a NonNull object of the equivalent get methods or throw an IllegalStateException.</p>\n\n<p>See <a href=\"https://developer.android.com/reference/android/support/v4/app/Fragment.html#requireContext()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/support/v4/app/Fragment.html#requireContext()</a></p>\n"}, {"tags": ["java", "android", "performance", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 9, "last_activity_date": 1518004632, "creation_date": 1518004632, "answer_id": 48663234, "question_id": 48662474, "link": "https://stackoverflow.com/questions/48662474/schedule-jobintentservice-in-android/48663234#48663234", "title": "Schedule JobIntentService in Android", "body": "<p>Have <code>AlarmManager</code> use a <code>PendingIntent</code> pointing at a <code>BroadcastReceiver</code>. Have the receiver, in <code>onReceive()</code>, call <code>enqueueWork()</code> for the <code>JobIntentService</code>.</p>\n"}], "owner": {"reputation": 28335, "user_id": 853836, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fc609f2f90e5d5d6802b0201c15db5b6?s=128&d=identicon&r=PG", "display_name": "Addev", "link": "https://stackoverflow.com/users/853836/addev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 0, "accepted_answer_id": 48663234, "answer_count": 1, "score": 1, "last_activity_date": 1518004632, "creation_date": 1518002219, "question_id": 48662474, "link": "https://stackoverflow.com/questions/48662474/schedule-jobintentservice-in-android", "title": "Schedule JobIntentService in Android", "body": "<p>I'm moving the <a href=\"https://developer.android.com/reference/android/app/IntentService.html\" rel=\"nofollow noreferrer\">IntentService</a>s of my app to JobIntentServices, but some of my IntentServices were beeing runing with an <a href=\"https://developer.android.com/reference/android/app/AlarmManager.html\" rel=\"nofollow noreferrer\">AlarmManager</a> to schedule the IntentService run using a PendingIntent</p>\n\n<p>How can I schedule the JobIntentService run supporting Android 16+? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["gradle", "build", "kotlin", "build.gradle", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 0, "creation_date": 1518872942, "post_id": 48826706, "comment_id": 84687217, "body": "thanks, very clear.  However, I&#39;m looking for a <code>build.gradle.kts</code> file, versus <code>build.gradle</code> as above."}], "tags": [], "owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "is_accepted": true, "score": 15, "last_activity_date": 1518876089, "last_edit_date": 1518876089, "creation_date": 1518783826, "answer_id": 48826706, "question_id": 48661330, "link": "https://stackoverflow.com/questions/48661330/how-to-build-a-runnable-shadowjar-with-a-gradle-script-kotlin-build-file/48826706#48826706", "title": "How to build a runnable ShadowJar with a gradle script Kotlin build file?", "body": "<p>Do you mean fatjar? \nIf so, you could use shadow gradle plugin: </p>\n\n<pre><code>id 'com.github.johnrengelman.shadow' version '2.0.2'\n</code></pre>\n\n<p>And if you want to make jar executable, you need also add <code>Main-class</code> to manifest (below example for main method in file <code>Applicaion.kt</code> with package <code>test</code>):</p>\n\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': 'test.ApplicationKt'\n    }\n}\n</code></pre>\n\n<p>And with this you may run <code>jar</code> with command: <code>java -jar &lt;your jar&gt;</code></p>\n\n<p>Below I have include simple example. File <code>build.gradle</code>:</p>\n\n<pre><code>plugins {\n    id 'com.github.johnrengelman.shadow' version '2.0.2'\n    id \"org.jetbrains.kotlin.jvm\" version \"1.2.21\"\n}\n\nrepositories {\n    jcenter()\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'test.ApplicationKt'\n    }\n}\n\ndependencies {\n    compile(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    compile(\"org.simpleframework:simple-xml:2.5\")\n}\n</code></pre>\n\n<p>File <code>test.Application.kt</code>:</p>\n\n<pre><code>package test\n\nimport org.simpleframework.xml.Element\nimport org.simpleframework.xml.ElementList\nimport org.simpleframework.xml.Root\nimport org.simpleframework.xml.core.Persister\n\nprivate val testXml = \"\"\"\n&lt;feed&gt;\n   &lt;entry&gt;\n        &lt;id&gt; someid &lt;/id&gt;\n        &lt;published&gt; somedate &lt;/published&gt;\n   &lt;/entry&gt;\n\n   &lt;entry&gt;\n        &lt;id&gt; someid2 &lt;/id&gt;\n        &lt;published&gt; somedate2 &lt;/published&gt;\n   &lt;/entry&gt;\n&lt;/feed&gt;\n\"\"\".trimIndent()\n\n@Root(name = \"feed\", strict = false)\ndata class Feed(\n        @field:ElementList(name = \"entry\", inline = true)\n        var entriesList: List&lt;Entry&gt;? = null\n)\n\n@Root(name = \"entry\", strict = true)\ndata class Entry(\n        @field:Element(name = \"id\")\n        var id: String? = null,\n\n        @field:Element(name = \"published\")\n        var published: String? = null\n)\n\nfun main(args: Array&lt;String&gt;) {\n    println(testXml)\n\n    val serializer = Persister()\n\n    val example = serializer.read(Feed::class.java, testXml)\n\n    println(example)\n}\n</code></pre>\n\n<p>Run command: <code>gradle shadowJar</code></p>\n\n<p>And after try to run jar: <code>java -jar build/libs/shadow_test-all.jar</code></p>\n\n<p><strong>Update 2018-02-17</strong></p>\n\n<p><code>build.gradle.kts</code> version of file:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.dsl.Coroutines\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(\"org.jetbrains.kotlin.jvm\") version \"1.2.21\"\n    id(\"com.github.johnrengelman.shadow\") version \"2.0.2\"\n}\n\nrepositories {\n    jcenter()\n}\n\ntasks.withType&lt;Jar&gt; {\n    manifest {\n        attributes(mapOf(\n                \"Main-Class\" to \"test.ApplicationKt\"\n        ))\n    }\n}\n\ndependencies {\n    compile(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    compile(\"org.simpleframework:simple-xml:2.5\")\n}\n</code></pre>\n"}], "owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5135, "favorite_count": 2, "accepted_answer_id": 48826706, "answer_count": 1, "score": 11, "last_activity_date": 1547323358, "creation_date": 1517999009, "last_edit_date": 1547323358, "question_id": 48661330, "link": "https://stackoverflow.com/questions/48661330/how-to-build-a-runnable-shadowjar-with-a-gradle-script-kotlin-build-file", "title": "How to build a runnable ShadowJar with a gradle script Kotlin build file?", "body": "<p>Simplest possible Kotlin <a href=\"http://thufir@dur:~/github/gradleScriptKotlin$%20%20thufir@dur:~/github/gradleScriptKotlin$%20gradle%20clean%20shadowJar;java%20-jar%20build/libs/gradleScriptKotlin.jar%20%20%20%3E%20Task%20:compileKotlin%20%20Using%20Kotlin%20incremental%20compilation%20%20%3E%20Task%20:shadowJar%20%20A%20problem%20was%20found%20with%20the%20configuration%20of%20task%20&#39;:shadowJar&#39;.%20Registering%20invalid%20inputs%20and%20outputs%20via%20TaskInputs%20and%20TaskOutputs%20methods%20has%20been%20deprecated%20and%20is%20scheduled%20to%20be%20removed%20in%20Gradle%205.0.%20%20-%20No%20value%20has%20been%20specified%20for%20property%20&#39;mainClassName&#39;.%20The%20SimpleWorkResult%20type%20has%20been%20deprecated%20and%20is%20scheduled%20to%20be%20removed%20in%20Gradle%205.0.%20Please%20use%20WorkResults.didWork()%20instead.%20%20%20BUILD%20SUCCESSFUL%20in%201s%204%20actionable%20tasks:%204%20executed%20Hello%20gradle%20script%20Kotlin%20world!%20thufir@dur:~/github/gradleScriptKotlin$\" rel=\"noreferrer\">hello world for gradle script Kotlin</a>:</p>\n\n<pre><code>thufir@dur:~/github/gradleScriptKotlin$ \nthufir@dur:~/github/gradleScriptKotlin$ gradle clean shadowJar;java -jar build/libs/gradleScriptKotlin.jar \n\n&gt; Task :compileKotlin \nUsing Kotlin incremental compilation\n\n&gt; Task :shadowJar \nA problem was found with the configuration of task ':shadowJar'. Registering invalid inputs and outputs via TaskInputs and TaskOutputs methods has been deprecated and is scheduled to be removed in Gradle 5.0.\n - No value has been specified for property 'mainClassName'.\nThe SimpleWorkResult type has been deprecated and is scheduled to be removed in Gradle 5.0. Please use WorkResults.didWork() instead.\n\n\nBUILD SUCCESSFUL in 1s\n4 actionable tasks: 4 executed\nHello gradle script Kotlin world!\nthufir@dur:~/github/gradleScriptKotlin$ \n</code></pre>\n\n<p>For the sake of brevity please refer to the <a href=\"http://thufir@dur:~/github/gradleScriptKotlin$%20%20thufir@dur:~/github/gradleScriptKotlin$%20gradle%20clean%20shadowJar;java%20-jar%20build/libs/gradleScriptKotlin.jar%20%20%20%3E%20Task%20:compileKotlin%20%20Using%20Kotlin%20incremental%20compilation%20%20%3E%20Task%20:shadowJar%20%20A%20problem%20was%20found%20with%20the%20configuration%20of%20task%20&#39;:shadowJar&#39;.%20Registering%20invalid%20inputs%20and%20outputs%20via%20TaskInputs%20and%20TaskOutputs%20methods%20has%20been%20deprecated%20and%20is%20scheduled%20to%20be%20removed%20in%20Gradle%205.0.%20%20-%20No%20value%20has%20been%20specified%20for%20property%20&#39;mainClassName&#39;.%20The%20SimpleWorkResult%20type%20has%20been%20deprecated%20and%20is%20scheduled%20to%20be%20removed%20in%20Gradle%205.0.%20Please%20use%20WorkResults.didWork()%20instead.%20%20%20BUILD%20SUCCESSFUL%20in%201s%204%20actionable%20tasks:%204%20executed%20Hello%20gradle%20script%20Kotlin%20world!%20thufir@dur:~/github/gradleScriptKotlin$\" rel=\"noreferrer\">project itself</a> which only really consists of the build file and a kotlin script.  </p>\n\n<p>How to build a runnable ShadowJar with a gradle script Kotlin build file?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2577, "user_id": 1439260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce089511d929d36007680b4a3b19ddc1?s=128&d=identicon&r=PG&f=1", "display_name": "Dakatine", "link": "https://stackoverflow.com/users/1439260/dakatine"}, "edited": false, "score": 0, "creation_date": 1544830219, "post_id": 48661282, "comment_id": 94427914, "body": "Great question."}, {"owner": {"reputation": 7982, "user_id": 4694013, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh6.googleusercontent.com/-NtYnVWhJ_TE/AAAAAAAAAAI/AAAAAAAAABI/ddYXTsg5YCM/photo.jpg?sz=128", "display_name": "Anoop M Maddasseri", "link": "https://stackoverflow.com/users/4694013/anoop-m-maddasseri"}, "edited": false, "score": 0, "creation_date": 1589635358, "post_id": 48661282, "comment_id": 109374204, "body": "<a href=\"https://stackoverflow.com/a/61836712/4694013\">At a glance - Val vs Const</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1518001861, "post_id": 48661483, "comment_id": 84321909, "body": "<code>Every time you write a (non-inline) lambda expression, you have created another class</code> I think you are wrong, there aren&#39;t replaced with FunctionN fucntions from jvm.functions package ?"}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 4, "creation_date": 1518002209, "post_id": 48661483, "comment_id": 84322145, "body": "I was thinking the opposite all this time, you are right! here is a post explaining it: <a href=\"https://marcin-chwedczuk.github.io/lambda-expressions-in-kotlin\" rel=\"nofollow noreferrer\">marcin-chwedczuk.github.io/lambda-expressions-in-kotlin</a>"}, {"owner": {"reputation": 1201, "user_id": 4884605, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ddfd4bfecacdc4866093ac944e58ef7?s=128&d=identicon&r=PG&f=1", "display_name": "H.Nguyen", "link": "https://stackoverflow.com/users/4884605/h-nguyen"}, "edited": false, "score": 1, "creation_date": 1518003688, "post_id": 48661483, "comment_id": 84323092, "body": "Thanks @Marko, the fact that the constant will be inlined and that the generated class will later be excluded by Proguard makes #Option 2 a clear winner here IMO"}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 24, "last_activity_date": 1517999395, "creation_date": 1517999395, "answer_id": 48661483, "question_id": 48661282, "link": "https://stackoverflow.com/questions/48661282/kotlin-const-val-vs-val/48661483#48661483", "title": "Kotlin: const val vs val", "body": "<p>Every time you write a (non-inline) lambda expression, you have created another class. Compared to that, creating a single class to hold top-level declarations seems minor.</p>\n\n<p>Furthermore, if all you have at the top level is a constant declaration, it will be inlined into each use site (by specification) so the owning class itself will become unreferenced and therefore targetable by ProGuard's minimization. It will most likely not appear in your production APK.</p>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517999756, "post_id": 48661531, "comment_id": 84320517, "body": "While fully correct and legitimate, I&#39;d argue that this is non-idiomatic for Kotlin and that users should just use the great and liberating feature of top-level declarations instead of worrying about very minor or nonexistent effects on the final product."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1517999844, "post_id": 48661531, "comment_id": 84320571, "body": "@MarkoTopolnik I&#39;m not so sure it&#39;s non-idiomatic, since top-level declarations are placed into the package. Considering that you might have several fragments I wouldn&#39;t go with having them at the package level since identifiers must be unique. It also doesn&#39;t seem very idiomatic to have a field like this completely decoupled from the class it is related to."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1517999892, "post_id": 48661531, "comment_id": 84320606, "body": "Actually, <code>private</code> top-level declarations have different semantics and do not become members of the package, as they aren&#39;t accessible outside the file where they are declared. This also means that <code>private</code> top-level declarations are naturally coupled to that file. The file in Kotlin is the unit of encapsulation of tightly coupled entities which, as opposed to Java, can consist of more than just one class."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518000010, "post_id": 48661531, "comment_id": 84320689, "body": "@MarkoTopolnik you&#39;re right, I didn&#39;t notice the field was private. Well, I would still prefer the companion object but <a href=\"https://www.reddit.com/r/Kotlin/comments/3wmws0/what_would_be_the_kotlin_idiomatic_way_of/cxxgytk/?st=jdcy0ajh&amp;sh=3a90e590\" rel=\"nofollow noreferrer\">I suppose that is just a preference</a>."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518000259, "post_id": 48661531, "comment_id": 84320885, "body": "It&#39;s true, companion objects are more natural to those that got accustomed to Java&#39;s misuse of the class as a namespacing tool. This created a preference held by many thousands of programmers."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518000413, "post_id": 48661531, "comment_id": 84320987, "body": "@MarkoTopolnik I wouldn&#39;t call it a misuse, I would say that using the package as a namespace for something this general is actually worse. Of course the field is private, but that doesn&#39;t seem very relevant - just because something is possibly in an easier way doesn&#39;t mean it must be done this way. With C for example this would of course be done with a global <code>const</code> variable but such a field surely &quot;belongs&quot; to the class, does it not? It seems more like a limitation of object-oriented thinking than a limitation of Java et al."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1518000899, "post_id": 48661531, "comment_id": 84321311, "body": "In Kotlin I&#39;ve switched to the mindset of &quot;belonging to the file&quot; as opposed to just one class. Nothing that can live without a class instance shouldn&#39;t really belong to that class, that&#39;s just a vestige of the way of thinking Java imposed on us. I often group several tightly coupled classes into a single file and then i can declare on the top level all the things they share. In Java you can&#39;t even do this."}, {"owner": {"reputation": 1201, "user_id": 4884605, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ddfd4bfecacdc4866093ac944e58ef7?s=128&d=identicon&r=PG&f=1", "display_name": "H.Nguyen", "link": "https://stackoverflow.com/users/4884605/h-nguyen"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518003552, "post_id": 48661531, "comment_id": 84323002, "body": "Thanks both @MMoira and @Marko Topolnik for the thoughtful discussion. I was thinking the companion object way results in more compiled Java code than the top-level declaration option does so I didn&#39;t consider it. However after some testing I found they seem equivalent. In fact, a companion object results in a <code>Companion</code> class generated but if it wraps only the constant, it would be unreferenced and therefore omitted by Proguard like what would happen with top-level constant declaration."}, {"owner": {"reputation": 1201, "user_id": 4884605, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ddfd4bfecacdc4866093ac944e58ef7?s=128&d=identicon&r=PG&f=1", "display_name": "H.Nguyen", "link": "https://stackoverflow.com/users/4884605/h-nguyen"}, "edited": false, "score": 1, "creation_date": 1518003576, "post_id": 48661531, "comment_id": 84323020, "body": "I also agree that the choice of companion object vs. top-level declaration very much depends on developer&#39;s preferences. I personally prefer top-level declaration since I think something is used by a class does not need to belong to that class and the concept of file scoping that allows multiple things declared in a file is actually a huge benefit of Kotlin over Java."}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": false, "score": 15, "last_activity_date": 1518164551, "last_edit_date": 1518164551, "creation_date": 1517999523, "answer_id": 48661531, "question_id": 48661282, "link": "https://stackoverflow.com/questions/48661282/kotlin-const-val-vs-val/48661531#48661531", "title": "Kotlin: const val vs val", "body": "<p>There is not only a semantic difference between the two options.</p>\n\n<p>Option 1 (<code>val</code> inside the class) is an instance field.</p>\n\n<p>Option 2 (top-level <code>const val</code>) is a top-level \"static\" member (roughly, since <code>static</code> doesn't exist in Kotlin.)</p>\n\n<p>This is why you have a <code>MyFragmentKt</code> class generated: top-level members are compiled into a class of the name <code>[Filename]Kt</code>.</p>\n\n<p>I would consider a third option:</p>\n\n<pre><code>class MyFragment {\n    companion object {\n        private const val MY_KEY = \"my_key\"\n    }\n}\n</code></pre>\n\n<p>This way, <code>MY_KEY</code> is (from Java) a <code>static</code> member of the <code>MyFragment</code> class, since <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-static/index.html\" rel=\"noreferrer\"><code>JvmStatic</code></a> is inferred for <code>const</code> variables. There will be a <code>Companion</code> class generated (but it will be empty).</p>\n\n<p>Since your original approach was a field inside the class I feel like the <code>companion object</code>/<code>static</code> constant might be preferable.</p>\n\n<p><a href=\"https://discuss.kotlinlang.org/t/what-is-the-advantage-of-companion-object-vs-static-keyword/4034\" rel=\"noreferrer\">More about <code>companion object</code>s vs Java's <code>static</code></a></p>\n"}], "owner": {"reputation": 1201, "user_id": 4884605, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ddfd4bfecacdc4866093ac944e58ef7?s=128&d=identicon&r=PG&f=1", "display_name": "H.Nguyen", "link": "https://stackoverflow.com/users/4884605/h-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12518, "favorite_count": 6, "accepted_answer_id": 48661483, "answer_count": 2, "score": 39, "last_activity_date": 1518164551, "creation_date": 1517998911, "question_id": 48661282, "link": "https://stackoverflow.com/questions/48661282/kotlin-const-val-vs-val", "title": "Kotlin: const val vs val", "body": "<p>I understand in Kotlin <code>const val</code> is used to declare constants and <code>val</code> is for readonly properties. However, I'm wondering in the following case, which one is more suitable to use.</p>\n\n<p>Assume I have a fragment which needs a key to use for <code>saveInstanceState</code> and <code>restoreInstanceState</code>. I'm wondering which one of the following 2 options is better:</p>\n\n<h1>Option 1:</h1>\n\n<pre><code>class MyFragment {\n    private val MY_KEY = \"my_key\"\n    ...\n}\n</code></pre>\n\n<h1>Option 2:</h1>\n\n<pre><code>private const val MY_KEY = \"my_key\" // declared in the same file.\n\nclass MyFragment {\n    ...\n}\n</code></pre>\n\n<p>I'd prefer the #option 2 since it makes it clear that <code>MY_KEY</code> is a constant and the value is determined in compile time. However since it's declared on the top level, it costs a class i.e. <code>MyFragmentKt</code> (assume the file name is <code>MyFragment.kt</code>) to be created in the compiled java code. In #option 1, no extra class is generated and although <code>MY_KEY</code>'s value is going to be assigned at runtime and not constant, that makes no difference in how it's used in this specific case.</p>\n\n<p>So although I personally prefer #option 2, my analysis makes me think #option 1 is not worse, if not better. I'm just wondering how other developers think about this and if there are any other benefits of #option 2 that I haven't thought of. Thanks.</p>\n"}, {"tags": ["gradle", "build", "kotlin", "gradle-kotlin-dsl", "shadowjar"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1518002852, "post_id": 48659849, "comment_id": 84322555, "body": "Have you tried the build script from <a href=\"https://stackoverflow.com/a/41795221/2196460\">this answer</a>?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1518003010, "post_id": 48659849, "comment_id": 84322665, "body": "In your build script, the Shadow plugin seems not to be applied in the <code>plugins { ... }</code> block, that might be the problem."}, {"owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1518005365, "post_id": 48659849, "comment_id": 84324125, "body": "the build fails because it can&#39;t compile the <code>build.gradle.kts</code> file -- but the error messages aren&#39;t that great.  see also:  <a href=\"https://stackoverflow.com/q/48663427/262852\">stackoverflow.com/q/48663427/262852</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5141, "user_id": 140467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g2Myl.jpg?s=128&g=1", "display_name": "Mikael Gueck", "link": "https://stackoverflow.com/users/140467/mikael-gueck"}, "is_accepted": true, "score": 9, "last_activity_date": 1531754976, "creation_date": 1531754976, "answer_id": 51365354, "question_id": 48659849, "link": "https://stackoverflow.com/questions/48659849/how-to-import-the-shadowjar-plugin-for-kotlin-gradle-builds/51365354#51365354", "title": "how to import the ShadowJar plugin for Kotlin (Gradle) builds?", "body": "<p>Like so:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\nimport com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\n\nplugins {\n    kotlin(\"jvm\") version \"1.2.51\"\n    id(\"com.github.johnrengelman.shadow\") version \"2.0.4\"\n}\n\ngroup = \"xxx.yyy\"\nversion = \"1.0-SNAPSHOT\"\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(kotlin(\"stdlib-jdk8\"))\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\ntasks.withType&lt;ShadowJar&gt; {\n    baseName = \"app\"\n    classifier = \"\"\n    version = \"\"\n}\n</code></pre>\n"}], "owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5063, "favorite_count": 0, "accepted_answer_id": 51365354, "answer_count": 1, "score": 4, "last_activity_date": 1532379166, "creation_date": 1517994775, "last_edit_date": 1532379166, "question_id": 48659849, "link": "https://stackoverflow.com/questions/48659849/how-to-import-the-shadowjar-plugin-for-kotlin-gradle-builds", "title": "how to import the ShadowJar plugin for Kotlin (Gradle) builds?", "body": "<p>Build failed:</p>\n\n<pre><code>thufir@dur:~/NetBeansProjects/kotlin_dsl$ \nthufir@dur:~/NetBeansProjects/kotlin_dsl$ gradle clean run \n\n&gt; Configure project : \ne: /home/thufir/NetBeansProjects/kotlin_dsl/build.gradle.kts:4:12: Unresolved reference: github\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'kotlin_dsl'.\n&gt; Could not open cache directory 74ykawxta6db3b2bfk9grjikp (/home/thufir/.gradle/caches/4.3.1/gradle-kotlin-dsl/74ykawxta6db3b2bfk9grjikp).\n   &gt; Internal error: unable to compile script, see log for details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\nthufir@dur:~/NetBeansProjects/kotlin_dsl$ \n</code></pre>\n\n<p>problematic import statement:</p>\n\n<pre><code>thufir@dur:~/NetBeansProjects/kotlin_dsl$ \nthufir@dur:~/NetBeansProjects/kotlin_dsl$ cat build.gradle.kts \n\nimport org.gradle.api.JavaVersion\nimport org.gradle.kotlin.dsl.*\nimport com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\n\n\nplugins {\n    application\n    kotlin(\"jvm\") version \"1.1.51\"\n}\n\napplication {\n    mainClassName = \"samples.HelloWorldKt\"\n}\n\ndependencies {\n    compile(kotlin(\"stdlib\"))\n}\n\nrepositories {\n    jcenter()\n}\n\n\nthufir@dur:~/NetBeansProjects/kotlin_dsl$ \n</code></pre>\n\n<p>removing <a href=\"https://github.com/johnrengelman/shadow/issues/317\" rel=\"nofollow noreferrer\">the import for Shadow as described</a> gives a clean build and run.  How is the Shadow plugin JAR made available for Kotlin to import?</p>\n\n<p><em>Gradle itself, using the DSL, creates Shadow JAR's fine.</em></p>\n\n<p>Coming at this from a different angle:</p>\n\n<p><a href=\"https://stackoverflow.com/q/48661330/262852\">Kotlin meets Gradle: gradle.build.kt with ShadowJar</a></p>\n\n<p>with a working build file.</p>\n"}, {"tags": ["android", "socket.io", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1517992094, "post_id": 48658888, "comment_id": 84315628, "body": "using that only... forget to add over here"}, {"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1517998776, "post_id": 48658888, "comment_id": 84319788, "body": "Thanx for replay we successfully implemented this into web, (no issue with nodejs) problem with Android only , i think this issue come in iOS.. do u have different approach ? or i doing something wrong"}, {"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1517999686, "post_id": 48658888, "comment_id": 84320458, "body": "We have already implemented socket.io on NodeJS server express app &amp; also referenced socket.io in our web project. And able to connect server socket. But when we use same approach as kotlin socket.io client to connect server socket.io, no connection is establishing between client &amp; server. Not even connect event firing on server side."}, {"owner": {"reputation": 993, "user_id": 8931969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01f4587fb3176c53938883104ab2cf96?s=128&d=identicon&r=PG", "display_name": "no_fate", "link": "https://stackoverflow.com/users/8931969/no-fate"}, "reply_to_user": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1518000028, "post_id": 48658888, "comment_id": 84320697, "body": "what version of socket.io do you have on server and in client?"}, {"owner": {"reputation": 993, "user_id": 8931969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01f4587fb3176c53938883104ab2cf96?s=128&d=identicon&r=PG", "display_name": "no_fate", "link": "https://stackoverflow.com/users/8931969/no-fate"}, "reply_to_user": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1518000165, "post_id": 48658888, "comment_id": 84320814, "body": "@Rupesh, i am answer about versions because &quot;The current version of socket.io-client-java doesn&#39;t support socket.io server 1.x. Please use socket.io-client-java 0.9.x for that instead.&quot;"}, {"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1518001181, "post_id": 48658888, "comment_id": 84321503, "body": "Android Client side we are using &#39;io.socket:socket.io-client:1.0.0&#39;   Sever side  &quot;socket.io&quot;: &quot;^2.0.3&quot;  , Web client used 2.1.2"}, {"owner": {"reputation": 993, "user_id": 8931969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01f4587fb3176c53938883104ab2cf96?s=128&d=identicon&r=PG", "display_name": "no_fate", "link": "https://stackoverflow.com/users/8931969/no-fate"}, "reply_to_user": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1518001282, "post_id": 48658888, "comment_id": 84321569, "body": "@Rupesh, i am asking, i am sorry, not answer)"}, {"owner": {"reputation": 993, "user_id": 8931969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01f4587fb3176c53938883104ab2cf96?s=128&d=identicon&r=PG", "display_name": "no_fate", "link": "https://stackoverflow.com/users/8931969/no-fate"}, "reply_to_user": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1518001892, "post_id": 48658888, "comment_id": 84321936, "body": "@Rupesh, i am found new version of socket.io client, pls check: <a href=\"http://socketio.github.io/socket.io-client-java/project-info.html\" rel=\"nofollow noreferrer\">socketio.github.io/socket.io-client-java/project-info.html</a> so in this version in gradle use: compile &#39;io.socket:socket.io-client:1.0.0-SNAPSHOT&#39;"}, {"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1518002464, "post_id": 48658888, "comment_id": 84322310, "body": "i try this version but sill facing this issueError:(33, 20) Failed to resolve: io.socket:socket.io-client:1.0.0-SNAPSHOT &lt;a href=&quot;openFile:D:/WorkingCopy/MyApplication/app/build.gradle&zwnj;&#8203;&quot;&gt;Show in File&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;open.dependency.in.project.structure&quot;&gt;Show in Project Structure dialog&lt;/a&gt;     add plugin mavenCentral()"}, {"owner": {"reputation": 993, "user_id": 8931969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01f4587fb3176c53938883104ab2cf96?s=128&d=identicon&r=PG", "display_name": "no_fate", "link": "https://stackoverflow.com/users/8931969/no-fate"}, "reply_to_user": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1518002676, "post_id": 48658888, "comment_id": 84322440, "body": "@Rupesh, add firstly in application&#39;s settings.gradle such a:   &quot;include &#39;io.socket:socket.io-client:1.0.0-SNAPSHOT&#39;&quot; and then: &quot;compile project(&#39;io.socket:socket.io-client:1.0.0-SNAPSHOT&#39;) &quot; OR add this &quot;repositories {    mavenCentral() }&quot;"}, {"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1518002935, "post_id": 48658888, "comment_id": 84322615, "body": "i am sorry to bother u, but i already add this into build.gradle  , how we suppose to add into setting.gradle"}, {"owner": {"reputation": 993, "user_id": 8931969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01f4587fb3176c53938883104ab2cf96?s=128&d=identicon&r=PG", "display_name": "no_fate", "link": "https://stackoverflow.com/users/8931969/no-fate"}, "reply_to_user": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1518003308, "post_id": 48658888, "comment_id": 84322841, "body": "@Rupesh, <a href=\"https://stackoverflow.com/questions/16718026/how-to-build-an-android-library-with-android-studio-and-gradle\" title=\"how to build an android library with android studio and gradle\">stackoverflow.com/questions/16718026/&hellip;</a> and: <a href=\"https://stackoverflow.com/questions/28493470/gradle-failed-to-resolve-library-in-android-studio\" title=\"gradle failed to resolve library in android studio\">stackoverflow.com/questions/28493470/&hellip;</a>"}, {"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1518006313, "post_id": 48658888, "comment_id": 84324729, "body": "not working , if u have Sample code in kotlin please do share"}, {"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1518007616, "post_id": 48658888, "comment_id": 84325534, "body": "same issue  io.socket:socket.io-client:1.0.0-SNAPSHOT this will not working  mavenCental() and even with particular repository download URL also..."}, {"owner": {"reputation": 993, "user_id": 8931969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01f4587fb3176c53938883104ab2cf96?s=128&d=identicon&r=PG", "display_name": "no_fate", "link": "https://stackoverflow.com/users/8931969/no-fate"}, "reply_to_user": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1518007902, "post_id": 48658888, "comment_id": 84325719, "body": "please upload your build.gradle and full error message"}], "tags": [], "owner": {"reputation": 993, "user_id": 8931969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01f4587fb3176c53938883104ab2cf96?s=128&d=identicon&r=PG", "display_name": "no_fate", "link": "https://stackoverflow.com/users/8931969/no-fate"}, "is_accepted": false, "score": 2, "last_activity_date": 1518002215, "last_edit_date": 1518002215, "creation_date": 1517991347, "answer_id": 48658888, "question_id": 48658294, "link": "https://stackoverflow.com/questions/48658294/kotlin-not-supporting-socket-io-in-android/48658888#48658888", "title": "kotlin not supporting Socket IO in android", "body": "<p>1.1) <a href=\"https://github.com/socketio/socket.io-client-java\" rel=\"nofollow noreferrer\">https://github.com/socketio/socket.io-client-java</a></p>\n\n<p><strong>Gradle</strong></p>\n\n<p>Add it as a gradle dependency for Android Studio, in build.gradle:</p>\n\n<pre><code>compile ('io.socket:socket.io-client:1.0.0') {\n  // excluding org.json which is provided by Android\n  exclude group: 'org.json', module: 'json'\n}\n</code></pre>\n\n<blockquote>\n  <p>Socket.IO Server 1.x suppport</p>\n  \n  <p>The current version of socket.io-client-java doesn't support socket.io\n  server 1.x. Please use socket.io-client-java 0.9.x for that instead.</p>\n</blockquote>\n\n<p>1.2) in github you may see: <a href=\"https://i.stack.imgur.com/3moUM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3moUM.png\" alt=\"enter image description here\"></a>\nthis link follow you to the updated version which support 1.x and upper server versions.\nlink: <a href=\"http://socketio.github.io/socket.io-client-java/project-summary.html\" rel=\"nofollow noreferrer\">http://socketio.github.io/socket.io-client-java/project-summary.html</a></p>\n\n<p>it have next dependency:</p>\n\n<pre><code>compile 'io.socket:socket.io-client:1.0.0-SNAPSHOT'\n</code></pre>\n\n<p>2) <a href=\"https://socket.io/get-started/chat/\" rel=\"nofollow noreferrer\">https://socket.io/get-started/chat/</a></p>\n\n<p>Next step you must start node.js server</p>\n\n<blockquote>\n  <p>Integrating Socket.IO is composed of two parts:</p>\n  \n  <p>1) A server that integrates with (or mounts on) the Node.JS HTTP Server:\n  socket.io </p>\n  \n  <p>2) A client library that loads on the browser side:\n  socket.io-client During development, socket.io serves the client\n  automatically for us, as we\u2019ll see, so for now we only have to install\n  one module:</p>\n</blockquote>\n\n<pre><code>npm install --save socket.io\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 790, "user_id": 3808178, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6aadb872e7409e237cf04aa6d07982bc?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime Claude", "link": "https://stackoverflow.com/users/3808178/maxime-claude"}, "edited": false, "score": 2, "creation_date": 1574710565, "post_id": 49421157, "comment_id": 104320643, "body": "The link seems to be dead."}], "tags": [], "owner": {"reputation": 181, "user_id": 9514053, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156711493412437/picture?type=large", "display_name": "Luis Eduardo Moreno", "link": "https://stackoverflow.com/users/9514053/luis-eduardo-moreno"}, "is_accepted": false, "score": 3, "last_activity_date": 1597342389, "last_edit_date": 1597342389, "creation_date": 1521696386, "answer_id": 49421157, "question_id": 48658294, "link": "https://stackoverflow.com/questions/48658294/kotlin-not-supporting-socket-io-in-android/49421157#49421157", "title": "kotlin not supporting Socket IO in android", "body": "<p>I used this library <a href=\"https://socket.io/blog/native-socket-io-and-android/\" rel=\"nofollow noreferrer\">Socket.IO</a></p>\n<p>With this code it was enough on method OnCreate. Even with an authentication token, but it's optional.</p>\n<pre><code>val opts = IO.Options()\n    opts.query = &quot;token=XXXXXXXXX&quot;\n    var socket = IO.socket(&quot;https://MYSERVERSOCKET.com&quot;, opts)\n\n    socket?.on(Socket.EVENT_CONNECT, {\n          Log.d(&quot;&quot;,&quot;==============================CONNECTED&quot;)\n    })?.on(Socket.EVENT_DISCONNECT, {\n          Log.d(&quot;&quot;,&quot;==============================OFF&quot;)\n    })\n</code></pre>\n<p>Start the connection</p>\n<pre><code>btnFindNext.setOnClickListener{\n        socket.connect()\n}\n</code></pre>\n<p>and an example of emit</p>\n<pre><code>btnOtro.setOnClickListener{\n\n        val obj = JSONObject()\n        obj.put(&quot;var1&quot;, &quot;5ab0a8931522f51fac37f5a1&quot;)\n        obj.put(&quot;var2&quot;, &quot;91.8392894&quot;)\n        obj.put(&quot;var3&quot;, &quot;-93.8392894&quot;)\n\n        socket.emit(&quot;SendData&quot;, obj)\n    }\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8365, "favorite_count": 3, "answer_count": 2, "score": 0, "last_activity_date": 1597342389, "creation_date": 1517989009, "last_edit_date": 1517990991, "question_id": 48658294, "link": "https://stackoverflow.com/questions/48658294/kotlin-not-supporting-socket-io-in-android", "title": "kotlin not supporting Socket IO in android", "body": "<p>I have two questions</p>\n\n<p>1)My Project contain <code>dagger2,retofit2,kotlin v1.0.21,rxJava2,OkHttp3</code> i want to implement <code>SocketIO</code> on my project how should i implement?</p>\n\n<p>2) I try to several way but unable to connect <code>socketIO</code> so i try to sample code below given code but still unable to connect socket.. please help thanx in advance</p>\n\n<pre><code> package com.easymakers.myapplication\n\nimport android.os.Bundle\nimport android.support.design.widget.Snackbar\nimport android.support.v7.app.AppCompatActivity\nimport android.view.View\nimport io.socket.client.IO\nimport io.socket.client.Socket\nimport io.socket.emitter.Emitter\n\nimport kotlinx.android.synthetic.main.activity_main.*\nimport javax.net.ssl.SSLContext\n\n\nclass MainActivity : AppCompatActivity() {\n    private var socket : Socket? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n\n        fab.setOnClickListener { view -&gt;\n\n            connect(view)\n         //   connect1()\n        }\n    }\n\n     private fun connect(view : View) {\n         val opts = IO.Options()\n         opts.port= 5000\n         opts.reconnection = false\n        // opts.query =\n         socket = IO.socket(\"https://192.170.1.21\",opts)\n        socket?.connect()\n                ?.on(Socket.EVENT_CONNECT, {\n                    Snackbar.make(view, \"Socket connected\", Snackbar.LENGTH_LONG)\n                            .setAction(\"Action\", null).show()\n                })\n                ?.on(Socket.EVENT_DISCONNECT, { println(\"disconnected\") })\n    }\n\n    private fun connect1(){\n        val sc = SSLContext.getInstance(\"SSL\")\n        sc.init(null, null, null)\n        val opts = IO.Options()\n        opts.port = 3000\n        opts.secure = true\n        opts.forceNew = true\n        opts.reconnection = true\n        val  socket = IO.socket(\"https://103.69.190.10\",opts)\n        socket.on(\"connection\", Emitter.Listener {\n            println(\"Connected\")\n            socket.emit(\"foo\", \"hi\")\n            socket.disconnect()\n        }).on(\"event\", Emitter.Listener { }).on(Socket.EVENT_DISCONNECT, Emitter.Listener { })\n        socket.connect()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 3, "last_activity_date": 1517986514, "creation_date": 1517986514, "answer_id": 48657685, "question_id": 48657668, "link": "https://stackoverflow.com/questions/48657668/kotlin-2-type-arguments-expected-for-class-pairout-a-out-b-how-can-i-decla/48657685#48657685", "title": "Kotlin: 2 type arguments expected for class Pair&lt;out A, out B&gt; - How can I declare the type of a Pair?", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/index.html\" rel=\"nofollow noreferrer\"><code>Pair&lt;out A, out B&gt;</code></a> has 2 type arguments which you need to specify:</p>\n\n<pre><code>lateinit private var pegColours: Array&lt;Pair&lt;Color,Color&gt;&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "edited": false, "score": 0, "creation_date": 1517987946, "post_id": 48657801, "comment_id": 84313596, "body": "Thanks but I accepted miensol&#39;s answer as he got there first."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1517988010, "last_edit_date": 1517988010, "creation_date": 1517987018, "answer_id": 48657801, "question_id": 48657668, "link": "https://stackoverflow.com/questions/48657668/kotlin-2-type-arguments-expected-for-class-pairout-a-out-b-how-can-i-decla/48657801#48657801", "title": "Kotlin: 2 type arguments expected for class Pair&lt;out A, out B&gt; - How can I declare the type of a Pair?", "body": "<p>As for your <code>Pair</code>, the explicit type can be specified as follows:</p>\n\n<pre><code>var pair: Pair&lt;Color, Color&gt; = Pair(Color.RED, Color.WHITE)\n</code></pre>\n\n<p>The <code>Pair</code> class defines two <code>out</code>-projected generic type arguments, which need to be specified by you. Since you create a pair of <code>Color</code>, both types also have to be <code>Color</code>.</p>\n"}], "owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1780, "favorite_count": 1, "accepted_answer_id": 48657685, "answer_count": 2, "score": 1, "last_activity_date": 1517988010, "creation_date": 1517986441, "question_id": 48657668, "link": "https://stackoverflow.com/questions/48657668/kotlin-2-type-arguments-expected-for-class-pairout-a-out-b-how-can-i-decla", "title": "Kotlin: 2 type arguments expected for class Pair&lt;out A, out B&gt; - How can I declare the type of a Pair?", "body": "<p>In Kotlin, how can I add the type to a pair of colours:</p>\n\n<pre><code>var pair = Pair(Color.RED, Color.WHITE)\n</code></pre>\n\n<p>What would go after the colon in the above?</p>\n\n<p>I need to know since I need to declare an array of <code>pegColours</code> but the following gets the error, <code>2 type arguments expected for class Pair&lt;out A, out B&gt;</code>.</p>\n\n<pre><code>lateinit private var pegColours: Array&lt;Pair&gt;\n</code></pre>\n"}, {"tags": ["logging", "gradle", "compiler-errors", "kotlin", "stack-trace"], "comments": [{"owner": {"reputation": 1427, "user_id": 4381423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W5qHX.jpg?s=128&g=1", "display_name": "Mark Mucha", "link": "https://stackoverflow.com/users/4381423/mark-mucha"}, "edited": false, "score": 2, "creation_date": 1519345287, "post_id": 48657442, "comment_id": 84885691, "body": "<code>gradle clean run --stacktrace --debug</code> gave me the information I needed."}], "owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 828, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1517985763, "creation_date": 1517985437, "last_edit_date": 1517985763, "question_id": 48657442, "link": "https://stackoverflow.com/questions/48657442/kotlin-build-gives-internal-error-unable-to-compile-script-see-log-for-details", "title": "Kotlin build gives Internal error: unable to compile script, see log for details", "body": "<p>I've intentionally introduced a compile time error at the end of the Kotlin build file:</p>\n\n<pre><code>thufir@dur:~/NetBeansProjects/kotlin_dsl$ \nthufir@dur:~/NetBeansProjects/kotlin_dsl$ gradle clean run --stacktrace\n\n&gt; Configure project : \ne: /home/thufir/NetBeansProjects/kotlin_dsl/build.gradle.kts:19:1: Unresolved reference: fdsdf\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'kotlin_dsl'.\n&gt; Could not open cache directory bs05f07d86vr9gakuj1vhbw7z (/home/thufir/.gradle/caches/4.3.1/gradle-kotlin-dsl/bs05f07d86vr9gakuj1vhbw7z).\n   &gt; Internal error: unable to compile script, see log for details\n\n* Try:\nRun with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'kotlin_dsl'.\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:94)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:66)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:656)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:135)\n        at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\n        at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:60)\n        at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)\n        at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:249)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:167)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:126)\n        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:109)\n        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.cache.CacheOpenException: Could not open cache directory bs05f07d86vr9gakuj1vhbw7z (/home/thufir/.gradle/caches/4.3.1/gradle-kotlin-dsl/bs05f07d86vr9gakuj1vhbw7z).\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:61)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:32)\n        at org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:90)\n        at org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:64)\n        at org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:123)\n        at org.gradle.kotlin.dsl.cache.ScriptCache.cacheDirFor(ScriptCache.kt:51)\n        at org.gradle.kotlin.dsl.cache.ScriptCache.cacheDirFor$default(ScriptCache.kt:43)\n        at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler.cacheDirFor(CachingKotlinCompiler.kt:170)\n        at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler.compileScript(CachingKotlinCompiler.kt:131)\n        at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler.compileBuildScript(CachingKotlinCompiler.kt:111)\n        at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler.compileScriptFile(KotlinBuildScriptCompiler.kt:239)\n        at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler.executeScriptBodyOn(KotlinBuildScriptCompiler.kt:111)\n        at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler.prepareAndExecuteScriptBodyOn(KotlinBuildScriptCompiler.kt:105)\n        at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler.access$prepareAndExecuteScriptBodyOn(KotlinBuildScriptCompiler.kt:48)\n        at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler$compileTopLevelScript$1.invoke(KotlinBuildScriptCompiler.kt:88)\n        at org.gradle.kotlin.dsl.provider.KotlinBuildScriptCompiler$compileTopLevelScript$1.invoke(KotlinBuildScriptCompiler.kt:48)\n        at org.gradle.kotlin.dsl.provider.KotlinScriptPlugin.apply(KotlinScriptPlugin.kt:48)\n        at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:61)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:58)\n        at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:41)\n        at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n        at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:64)\n        ... 80 more\nCaused by: java.lang.IllegalStateException: Internal error: unable to compile script, see log for details\n        at org.gradle.kotlin.dsl.support.KotlinCompilerKt.compileKotlinScriptToDirectory(KotlinCompiler.kt:84)\n        at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler$compileScriptTo$$inlined$run$lambda$1.invoke(CachingKotlinCompiler.kt:155)\n        at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler$compileScriptTo$$inlined$run$lambda$1.invoke(CachingKotlinCompiler.kt:47)\n        at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler.withProgressLoggingFor(CachingKotlinCompiler.kt:216)\n        at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler.compileScriptTo(CachingKotlinCompiler.kt:153)\n        at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler.access$compileScriptTo(CachingKotlinCompiler.kt:47)\n        at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler$compileScript$cacheDir$1.invoke(CachingKotlinCompiler.kt:133)\n        at org.gradle.kotlin.dsl.provider.CachingKotlinCompiler$compileScript$cacheDir$1.invoke(CachingKotlinCompiler.kt:47)\n        at org.gradle.kotlin.dsl.cache.ScriptCacheKt$sam$Action$c91fa422.execute(ScriptCache.kt)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:106)\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:85)\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:196)\n        at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:186)\n        at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\n        at org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:141)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:59)\n        ... 106 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\nthufir@dur:~/NetBeansProjects/kotlin_dsl$ \nthufir@dur:~/NetBeansProjects/kotlin_dsl$ cat build.gradle.kts \nplugins {\n    application\n    kotlin(\"jvm\") version \"1.1.51\"\n}\n\napplication {\n    mainClassName = \"samples.HelloWorldKt\"\n}\n\ndependencies {\n    compile(kotlin(\"stdlib\"))\n}\n\nrepositories {\n    jcenter()\n}\n\n\nfdsdf\n\nthufir@dur:~/NetBeansProjects/kotlin_dsl$ \n</code></pre>\n\n<p>How do I get <a href=\"https://stackoverflow.com/q/29684504/262852\">useful</a> compile errors for the kotlin build file?  Preferably output saying which line for the build file is problematic.  A stacktrace specific to the buildfile itself.</p>\n"}, {"tags": ["java", "android", "kotlin", "android-databinding", "android-viewmodel"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1517986150, "post_id": 48657342, "comment_id": 84312743, "body": "i tried that too: it seems that <code>@=</code> is not ready yet to work with <code>LiveData</code> but I can&#39;t be 100% sure"}, {"owner": {"reputation": 412, "user_id": 8767515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc5b9f9e11a471c0016cd279864465f?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Todtenkopf", "link": "https://stackoverflow.com/users/8767515/alan-todtenkopf"}, "edited": false, "score": 2, "creation_date": 1518100295, "post_id": 48657342, "comment_id": 84373535, "body": "name property has a setter?  Can you show the Person class?"}, {"owner": {"reputation": 705, "user_id": 5268730, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ymp6Tj7LM74/AAAAAAAAAAI/AAAAAAAAABw/k4QsAYbt5y8/photo.jpg?sz=128", "display_name": "woodii", "link": "https://stackoverflow.com/users/5268730/woodii"}, "edited": false, "score": 0, "creation_date": 1518691467, "post_id": 48657342, "comment_id": 84613278, "body": "Hey, did you find a solution for your problem? Currently I am trying to combine Databinding with LiveData in my own project."}, {"owner": {"reputation": 705, "user_id": 5268730, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ymp6Tj7LM74/AAAAAAAAAAI/AAAAAAAAABw/k4QsAYbt5y8/photo.jpg?sz=128", "display_name": "woodii", "link": "https://stackoverflow.com/users/5268730/woodii"}, "edited": false, "score": 0, "creation_date": 1518701657, "post_id": 48657342, "comment_id": 84620032, "body": "My problem was that i had not installed the 3.1 version of Android Studio. After installing it and adding getters and setters for the designated property to my <code>ViewModel</code> i could use <code>MutableLiveData</code>. Here are two helpful links which may help you. <a href=\"http://gradlewhy.ghost.io/binding-models-from-livedata-to-android-views/\" rel=\"nofollow noreferrer\">gradlewhy.ghost.io/&hellip;</a> <a href=\"https://android.jlelse.eu/android-architecture-components-livedata-with-data-binding-7bf85871bbd8\" rel=\"nofollow noreferrer\">android.jlelse.eu/&hellip;</a>"}, {"owner": {"reputation": 628, "user_id": 2177240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aK7k5.png?s=128&g=1", "display_name": "Eneko", "link": "https://stackoverflow.com/users/2177240/eneko"}, "edited": false, "score": 0, "creation_date": 1530478349, "post_id": 48657342, "comment_id": 89240021, "body": "&gt; This works properly in the new version of Android Studio, which supports binding to LiveData objects properly. This has been answered in a related question: <a href=\"https://stackoverflow.com/questions/49723950/edittext-livedata-two-way-binding/49725818#49725818\">EditText LiveData Two-way binding</a>"}, {"owner": {"reputation": 175, "user_id": 1291471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa7816c31129a18d711b0554b472d4e?s=128&d=identicon&r=PG", "display_name": "fsimon", "link": "https://stackoverflow.com/users/1291471/fsimon"}, "edited": false, "score": 0, "creation_date": 1532526695, "post_id": 48657342, "comment_id": 90010010, "body": "Like Alan said, make sure that <code>name</code> has a setter. In Kotlin this means declaring the property as <code>var</code> (not <code>val</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 7024, "user_id": 859359, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/C7Wgr.png?s=128&g=1", "display_name": "Nestor", "link": "https://stackoverflow.com/users/859359/nestor"}, "edited": false, "score": 0, "creation_date": 1572120750, "post_id": 51309820, "comment_id": 103464906, "body": "Very important to set the <code>viewModel</code> property as well. Without that it does not work, so <b>both properties are very important.</b>"}], "tags": [], "owner": {"reputation": 131, "user_id": 2862942, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f21ec70b510a418c73b125ca57cfd98f?s=128&d=identicon&r=PG&f=1", "display_name": "clementiano", "link": "https://stackoverflow.com/users/2862942/clementiano"}, "is_accepted": false, "score": 3, "last_activity_date": 1531410373, "creation_date": 1531410373, "answer_id": 51309820, "question_id": 48657342, "link": "https://stackoverflow.com/questions/48657342/android-architecture-components-how-to-achieve-two-way-bindings-for-objects-with/51309820#51309820", "title": "Android Architecture Components how to achieve two-way bindings for objects with ViewModel", "body": "<p>This should work on Android Studio 3.1 and above as long as you don't forget to include</p>\n\n<pre><code>val binding: ActivityMainBinding = ...\nbinding.viewModel = viewModel \nbinding.setLifecycleOwner(this) // The editText won't update without this\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6833242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc51f7b506266306356362ff142c5aaf?s=128&d=identicon&r=PG&f=1", "display_name": "a6547484", "link": "https://stackoverflow.com/users/6833242/a6547484"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1620, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1531410373, "creation_date": 1517984994, "question_id": 48657342, "link": "https://stackoverflow.com/questions/48657342/android-architecture-components-how-to-achieve-two-way-bindings-for-objects-with", "title": "Android Architecture Components how to achieve two-way bindings for objects with ViewModel", "body": "<p>Here is a very basic view model as such</p>\n\n<pre><code>class MainViewModel: ViewModel() {\n    val text = MutableLiveData&lt;String&gt;()\n    val person = MutableLiveData&lt;Person&gt;()\n}\n</code></pre>\n\n<p>I'm trying to achieve two way binding as shown below</p>\n\n<pre><code>&lt;EditText\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@={viewModel.text}\"/&gt;\n</code></pre>\n\n<p>This works as expected but when it comes to binding the object:</p>\n\n<pre><code>&lt;EditText\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@={viewModel.person.name}\"/&gt;\n</code></pre>\n\n<p>I'm getting an error:\nThe expression viewModelPersonGetValue.getName() cannot be inverted: Two-way binding cannot resolve a setter for java.lang.String property 'name'</p>\n\n<p>It appears that I am missing something, any ideas?</p>\n\n<p>(I am using Android Studio 3.2 canary 1)</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 153, "user_id": 7171655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0423dc27f96bd03d1f7960e5f3ecc13d?s=128&d=identicon&r=PG&f=1", "display_name": "Kanj", "link": "https://stackoverflow.com/users/7171655/kanj"}, "edited": false, "score": 0, "creation_date": 1517983928, "post_id": 48656954, "comment_id": 84311775, "body": "no. I need to initialise container.stuff (and call some other logic if possible) when it&#39;s null"}], "answers": [{"tags": [], "owner": {"reputation": 1980, "user_id": 4759033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fk2tt.jpg?s=128&g=1", "display_name": "Satej S", "link": "https://stackoverflow.com/users/4759033/satej-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1517990103, "last_edit_date": 1517990103, "creation_date": 1517987073, "answer_id": 48657815, "question_id": 48656954, "link": "https://stackoverflow.com/questions/48656954/handle-null-value-of-a-field-in-a-class-in-a-function-outside-that-class-in-kotl/48657815#48657815", "title": "Handle null value of a field in a class in a function outside that class in Kotlin", "body": "<p><strong>TLDR</strong>:  </p>\n\n<p>You want to do something like this.  </p>\n\n<pre><code> when {\n        container.stuff == null -&gt; container.stuff = ArrayList&lt;String&gt;(arr)\n        else -&gt; container.stuff?.addAll(arr)\n    }\n</code></pre>\n\n<p>OR</p>\n\n<pre><code> container.stuff = container.stuff ?: ArrayList(arr)\n</code></pre>\n\n<p><em>There probably are better ways to do it.</em></p>\n\n<p><strong>Explanation</strong> :</p>\n\n<p>You're expecting to use something like this </p>\n\n<pre><code>container.stuff?.addAll(arr) ?: let { container.stuff = ArrayList&lt;String&gt;(arr) }\n</code></pre>\n\n<blockquote>\n  <p>What's wrong with I was doing?</p>\n</blockquote>\n\n<p>Firstly, the way you're currently using the <code>let</code> method seems slightly wrong. The <code>let</code> function is invoked on a particular data item, where the evaluated expression is passed to the lambda.</p>\n\n<p>The function is only invoked if the expression evaluates to NOT null.</p>\n\n<blockquote>\n  <p>Why it's wrong?</p>\n</blockquote>\n\n<ul>\n<li>The let function isn't called that way</li>\n</ul>\n\n<blockquote>\n  <p>Will this work?</p>\n</blockquote>\n\n<pre><code>container.stuff?.addAll(arr)?.let { container.stuff = ArrayList&lt;String&gt;(arr) }\n</code></pre>\n\n<p>This will also not work, since your <code>container.stuff</code> is null, so the <code>addAll</code> function would not be called, and hence, it wouldn't enter the <code>let</code> block. </p>\n"}], "owner": {"reputation": 153, "user_id": 7171655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0423dc27f96bd03d1f7960e5f3ecc13d?s=128&d=identicon&r=PG&f=1", "display_name": "Kanj", "link": "https://stackoverflow.com/users/7171655/kanj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517990103, "creation_date": 1517983205, "question_id": 48656954, "link": "https://stackoverflow.com/questions/48656954/handle-null-value-of-a-field-in-a-class-in-a-function-outside-that-class-in-kotl", "title": "Handle null value of a field in a class in a function outside that class in Kotlin", "body": "<pre><code>class StuffContainer(var stuff: MutableList&lt;String&gt;?) {\n    fun appendSomeStuff(newStuff: List&lt;String&gt;) { // Appends to stuff, initialising it if null\n        stuff?.addAll(newStuff) ?: let { stuff = ArrayList&lt;String&gt;(newStuff) }\n    }\n}\n\nfun main (args: Array&lt;String&gt;) {\n    val container = StuffContainer(null)\n\n    val arr : ArrayList&lt;String&gt; = ArrayList()\n    arr.add(\"abc\")\n    arr.add(\"bcd\")\n\n    // Now I want to put arr in container\n    container.appendSomeStuff(arr)\n    println(container.stuff) // [abc, bcd]\n\n    // That worked. Now how to implement the logic in StuffContainer.appendSomeStuff here?\n    container.stuff = null\n    //container.stuff?.addAll(arr) ?: let { container.stuff = ArrayList&lt;String&gt;(arr) }\n    // Can't write a let expression here\n\n    if (container.stuff == null) {\n        container.stuff = ArrayList&lt;String&gt;(arr)\n    } else {\n        container.stuff?.addAll(arr)\n    }\n    println(container.stuff) // [abc, bcd]\n}\n</code></pre>\n\n<p>That's a stripped down version of the code I have. In the code above I have written a main so that it's possible to copy and execute it. But in actual usage I have a function which gets a \"StuffContainer\" object as an argument.</p>\n\n<p>I can't figure out how to properly handle null values of fields in a class in a function that's defined outside that class.\nI can't use a let expression so I'm using an if-else block.</p>\n\n<p>Is that the best way to do this?\nDespite all kotlin's attempts to avoid bugs due to vars being set to null from somewhere, this code won't work properly when \"container\" <em>is</em> set to null just after the if block's null check. Is there a better way?</p>\n"}, {"tags": ["android", "android-actionbar", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1328, "user_id": 7090538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5c01248e80ed21c714eddd70785e8753?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7090538/robin"}, "edited": false, "score": 0, "creation_date": 1517982443, "post_id": 48656570, "comment_id": 84311227, "body": "To my understanding, is this still my code but change MenuItem? type to MenuType type? I tried it, still not work."}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 1328, "user_id": 7090538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5c01248e80ed21c714eddd70785e8753?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7090538/robin"}, "edited": false, "score": 0, "creation_date": 1517982550, "post_id": 48656570, "comment_id": 84311263, "body": "@Robin okay. At first enable <code>setHomeButtonEnabled</code> in your code"}, {"owner": {"reputation": 1328, "user_id": 7090538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5c01248e80ed21c714eddd70785e8753?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7090538/robin"}, "edited": false, "score": 2, "creation_date": 1518021310, "post_id": 48656570, "comment_id": 84335461, "body": "Sorry my fault, it still not work. The problem is, when click on up/home button, it just never falls into the <code>android.R.id.home</code>  case."}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": true, "score": 2, "last_activity_date": 1517981606, "last_edit_date": 1517981606, "creation_date": 1517981193, "answer_id": 48656570, "question_id": 48656394, "link": "https://stackoverflow.com/questions/48656394/cannot-custom-actionbars-navigate-up-method/48656570#48656570", "title": "Cannot custom Actionbar&#39;s navigate up method", "body": "<p>Read <a href=\"https://developer.android.com/reference/android/app/ActionBar.html#setHomeButtonEnabled(boolean)\" rel=\"nofollow noreferrer\"><strong><code>setHomeButtonEnabled</code></strong></a></p>\n\n<blockquote>\n  <p>Enable or disable the \"home\" button in the corner of the action bar.\n  (Note that this is the application home/up affordance on the action\n  bar, not the systemwide home button.)</p>\n</blockquote>\n\n<pre><code> supportActionBar?.setHomeButtonEnabled(true)\n supportActionBar?.setDisplayHomeAsUpEnabled(true)\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>override fun onOptionsItemSelected(item: MenuItem): Boolean {\n    when (item.getItemId()){\n        android.R.id.home -&gt; {\n            mPresenter.save()\n            return true\n        }\n         R.id.edit-&gt; {\n            // some code\n        }\n    }\n    return super.onOptionsItemSelected(item)\n}\n</code></pre>\n"}], "owner": {"reputation": 1328, "user_id": 7090538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5c01248e80ed21c714eddd70785e8753?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7090538/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "accepted_answer_id": 48656570, "answer_count": 1, "score": 2, "last_activity_date": 1517981737, "creation_date": 1517980099, "last_edit_date": 1517981737, "question_id": 48656394, "link": "https://stackoverflow.com/questions/48656394/cannot-custom-actionbars-navigate-up-method", "title": "Cannot custom Actionbar&#39;s navigate up method", "body": "<p>In the activity class, I set up the actionbar as this:</p>\n\n<p><strong>MyActivity</strong></p>\n\n<pre><code>setSupportActionBar(findViewById(R.id.toolbar_my))\n    supportActionBar?.apply {\n        setDisplayHomeAsUpEnabled(true)\n        setDisplayShowHomeEnabled(true)\n    }\n</code></pre>\n\n<p>Because I need to override <code>onOptionsItemSelected(...)</code> (in the fragment class), I didn't override <code>onSupportNavigateUp()</code> here.\nThis activity cotnains a fragment. What I want is, when click on the actionbar up button, besides pop back, also revoke a custom save() method. </p>\n\n<p>So in the fragment's <code>onOptionsItemSelected(...)</code>, write some code for the <code>item.id == android.R.id.home</code> case. However, I made a break point here, and found that when click on the up/home button, the code in the <code>android.R.id.home</code> case is never revoked. The other items' on selected methods work.</p>\n\n<p>In the fragment class:</p>\n\n<p><strong>MyFragment</strong></p>\n\n<pre><code>    override fun onOptionsItemSelected(item: MenuItem?): Boolean {\n\n    when (item?.itemId) {\n        android.R.id.home -&gt; { \n// code here not gets called when click up/home button\n            mPresenter.save()\n            return true\n        }\n\n        R.id.edit-&gt; {\n            // The code here is revoked when item selected.\n        }\n\n        else -&gt; {\n            return super.onOptionsItemSelected(item)\n        }\n    }\n}\n</code></pre>\n\n<p>I tried override another <code>onOptionsItemSelected(...)</code> method in the activity class, and write <code>android.R.id.home</code> case, still cannot invoke methods in it. </p>\n\n<p>Why the code in <code>item.id == android.R.id.home</code> case is not called?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions", "android-ktx"], "answers": [{"tags": [], "owner": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "is_accepted": false, "score": 4, "last_activity_date": 1517980653, "last_edit_date": 1517980653, "creation_date": 1517978414, "answer_id": 48656135, "question_id": 48656082, "link": "https://stackoverflow.com/questions/48656082/what-is-ktx-kotlin-extension-library-why-it-is-gaining-popularity-in-android/48656135#48656135", "title": "What is KTX (Kotlin Extension Library), Why it is gaining popularity in android development", "body": "<blockquote>\n  <p><a href=\"https://android-developers.googleblog.com/2018/02/introducing-android-ktx-even-sweeter.html\" rel=\"nofollow noreferrer\">What is KTX (From developer blog)</a></p>\n</blockquote>\n\n<p>Android KTX - a set of extensions designed to make writing Kotlin code for Android more concise, idiomatic, and pleasant. Android KTX provides a nice API layer on top of both Android framework and Support Library to make writing your Kotlin code more natural.</p>\n\n<p>The portion of Android KTX that covers the Android framework is now available in our <a href=\"https://github.com/android/android-ktx/\" rel=\"nofollow noreferrer\">GitHub repo</a>. We invite you to try it out to give us your feedback and contributions. The other parts of Android KTX that cover the Android Support Library will be available in upcoming Support Library releases. <sup>(<a href=\"https://android.github.io/android-ktx/core-ktx/\" rel=\"nofollow noreferrer\">Packages details</a>)</sup></p>\n\n<p>Watch <a href=\"https://www.youtube.com/watch?time_continue=3&amp;v=kmvS3sZF_y0\" rel=\"nofollow noreferrer\">Introducing Android KTX: Even Sweeter Kotlin Development for Android</a>.</p>\n\n<hr>\n\n<blockquote>\n  <p>Why gaining popularity</p>\n</blockquote>\n\n<p>As developers, it's almost always desirable to be able to write shorter and more readable code without sacrificing performance, stability, or control. Even though Kotlin's syntax and language features make it well-suited to Android, it's still not designed specifically for Android, so there are plenty of platform-specific patterns that require a lot of boilerplate code. To that end, a new extension library called Android KTX was released.</p>\n\n<p>For example</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gw4nZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gw4nZ.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><em>It's important to note that this is still a preview release and Google's blog post notes that APIs are likely to change until the library leaves preview status. In other words, be careful using it in projects because they are likely to break as the API changes. Nevertheless, it might be interesting to experiment with and give feedback to the team if you find ways to improve the library or new extensions to suggest. Check out the official blog post for more examples and setup instructions if you want to try out Android KTX.</em></p>\n"}, {"tags": [], "owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "is_accepted": true, "score": 6, "last_activity_date": 1517978692, "creation_date": 1517978692, "answer_id": 48656173, "question_id": 48656082, "link": "https://stackoverflow.com/questions/48656082/what-is-ktx-kotlin-extension-library-why-it-is-gaining-popularity-in-android/48656173#48656173", "title": "What is KTX (Kotlin Extension Library), Why it is gaining popularity in android development", "body": "<p>Android KTX - a set of extensions designed to make writing Kotlin code for Android more concise, idiomatic, and pleasant. Android KTX provides a nice API layer on top of both Android framework and Support Library to make writing your Kotlin code more natural.</p>\n\n<p>For example ,</p>\n\n<p>To parse String to URI in Kotlin (Traditional Way )</p>\n\n<p>We do </p>\n\n<p><code>val uri = Uri.parse(myUriString)</code></p>\n\n<p>and by using KTX, we can simplify above code to </p>\n\n<pre><code>val uri = myUriString.toUri()\n</code></pre>\n\n<p>You can refer this blog for more details</p>\n\n<p><a href=\"https://android-developers.googleblog.com/2018/02/introducing-android-ktx-even-sweeter.html?m=1\" rel=\"noreferrer\">https://android-developers.googleblog.com/2018/02/introducing-android-ktx-even-sweeter.html?m=1</a></p>\n\n<p>Because of less boiler plate code , i think its going to gain popularity.</p>\n"}, {"tags": [], "owner": {"reputation": 1055, "user_id": 7345808, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lNepDXQ6wXk/AAAAAAAAAAI/AAAAAAAAAAc/7uz4Hf8A_IA/photo.jpg?sz=128", "display_name": "Tarun konda", "link": "https://stackoverflow.com/users/7345808/tarun-konda"}, "is_accepted": false, "score": 2, "last_activity_date": 1517981696, "creation_date": 1517981696, "answer_id": 48656649, "question_id": 48656082, "link": "https://stackoverflow.com/questions/48656082/what-is-ktx-kotlin-extension-library-why-it-is-gaining-popularity-in-android/48656649#48656649", "title": "What is KTX (Kotlin Extension Library), Why it is gaining popularity in android development", "body": "<pre><code>        repositories {\n            google()\n        }\n\n        dependencies {\n            // Android KTX for framework API\n            implementation 'androidx.core:core-ktx:0.1'\n            ...\n        }\n\nexample:        \n         Kotlin :\n            sharedPreferences.edit()\n                       .putBoolean(key, value)\n                       .apply()\n\n            Kotlin with Android KTX :\n            sharedPreferences.edit { \n                putBoolean(key, value) \n            }\n</code></pre>\n"}], "owner": {"reputation": 386, "user_id": 4769032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LovyF.jpg?s=128&g=1", "display_name": "Jay Dwivedi", "link": "https://stackoverflow.com/users/4769032/jay-dwivedi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 657, "favorite_count": 0, "accepted_answer_id": 48656173, "answer_count": 3, "score": 3, "last_activity_date": 1519606208, "creation_date": 1517978043, "last_edit_date": 1519606208, "question_id": 48656082, "link": "https://stackoverflow.com/questions/48656082/what-is-ktx-kotlin-extension-library-why-it-is-gaining-popularity-in-android", "title": "What is KTX (Kotlin Extension Library), Why it is gaining popularity in android development", "body": "<p>How to start with KTX for android?</p>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 9349935, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/e6232b12e4672215450274280ab4df7e?s=128&d=identicon&r=PG", "display_name": "Anton Bannykh", "link": "https://stackoverflow.com/users/9349935/anton-bannykh"}, "is_accepted": false, "score": 1, "last_activity_date": 1518439163, "creation_date": 1518439163, "answer_id": 48746715, "question_id": 48655802, "link": "https://stackoverflow.com/questions/48655802/how-to-get-the-according-generated-javascript-file-for-a-kotlinjs-project-depend/48746715#48746715", "title": "How to get the according generated javascript file for a KotlinJS project dependencies?", "body": "<p>The simplest solution I know is to use JS DCE plugin with \"development mode\" enabled: <a href=\"https://kotlinlang.org/docs/reference/javascript-dce.html#development-mode\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/javascript-dce.html#development-mode</a></p>\n\n<p>Alternatively you could create a Copy task, which looks at the dependencies, and extracts .js files from those (look for <code>task assembleWeb</code> in the tutorial: <a href=\"https://kotlinlang.org/docs/tutorials/javascript/getting-started-gradle/getting-started-with-gradle.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/javascript/getting-started-gradle/getting-started-with-gradle.html</a>)</p>\n"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518439163, "creation_date": 1517976179, "last_edit_date": 1517978500, "question_id": 48655802, "link": "https://stackoverflow.com/questions/48655802/how-to-get-the-according-generated-javascript-file-for-a-kotlinjs-project-depend", "title": "How to get the according generated javascript file for a KotlinJS project dependencies?", "body": "<p>Previously I use the IDEA built-in system to build my kotlinJs project. Today when I migrate it to use the official gradle kotlin2js plugin.</p>\n\n<p>I met a problem.</p>\n\n<p>Previously, I can get the generated libs file like <code>kotlin.js</code> and <code>kotlinx-html-js.js</code>.</p>\n\n<p>But now it seems that I can't get them even when use the <code>buildDependents</code> gradle task.</p>\n\n<p>How to get them?</p>\n\n<p>Or even better, how to bundle them together like the Webpack?</p>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 0, "last_activity_date": 1517972833, "creation_date": 1517972833, "answer_id": 48655338, "question_id": 48655223, "link": "https://stackoverflow.com/questions/48655223/how-to-set-the-gradle-outout-folder-for-the-kotlin2js-plugin/48655338#48655338", "title": "How to set the gradle outout folder for the kotlin2JS plugin?", "body": "<p>Currently, it's done through the task configuration, namely setting its <code>kotlinOptions.outputFile</code>:</p>\n\n<pre><code>compileKotlin2Js.kotlinOptions.outputFile = \"out/output.js\"\n</code></pre>\n\n<p>It's briefly mentioned in the tutorial: <a href=\"https://kotlinlang.org/docs/tutorials/javascript/getting-started-gradle/getting-started-with-gradle.html#configuring-compiler-options\" rel=\"nofollow noreferrer\">Getting Started with Kotlin and JavaScript with Gradle</a></p>\n"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "accepted_answer_id": 48655338, "answer_count": 1, "score": 2, "last_activity_date": 1517972838, "creation_date": 1517972025, "last_edit_date": 1517972838, "question_id": 48655223, "link": "https://stackoverflow.com/questions/48655223/how-to-set-the-gradle-outout-folder-for-the-kotlin2js-plugin", "title": "How to set the gradle outout folder for the kotlin2JS plugin?", "body": "<p>I have a KotlinJs only project which I use official kotlin2js gradle to build, and no problems there.</p>\n\n<p>How to setup the output folder, currently, the building of subproject will result in a <code>build</code> which locates inside the subproject folder, how to set it to somewhere else? I tried:</p>\n\n<pre><code>sourceSets {\n      main {\n          kotlin.outputDir = new File(\u2018./out/\u2018)\n      }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>sourceSets {\n      main.kotlin.outputDir = new File(\u2018./out/\u2019)\n\n}\n</code></pre>\n\n<p>No luck.</p>\n\n<p>What I want is to no matter how many subprojects are there, the output folder should be in some path like <code>./build/projectA</code> and <code>./build/projectB</code>, rather than all in their own folder. How to do this?</p>\n"}, {"tags": ["android", "ssh", "kotlin"], "comments": [{"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 1, "creation_date": 1517962241, "post_id": 48653846, "comment_id": 84306043, "body": "Post the stacktrace, however my gut feeling is probably a permissions issue (<code>SecurityException</code>) .. for starters .. You aren&#39;t seeing the toasts as that only occurs after you&#39;ve tried to instantiate a <code>SSHClient</code> instance."}, {"owner": {"reputation": 2251, "user_id": 3758972, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001455403770/picture?type=large", "display_name": "Nitesh Verma", "link": "https://stackoverflow.com/users/3758972/nitesh-verma"}, "edited": false, "score": 0, "creation_date": 1517970181, "post_id": 48653846, "comment_id": 84308092, "body": "Post <code>logcat</code> content for the crash plz."}, {"owner": {"reputation": 1, "user_id": 6562842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b95e635eb396759e54cb7e2e1a819ce0?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/6562842/nicolas"}, "edited": false, "score": 0, "creation_date": 1518038479, "post_id": 48653846, "comment_id": 84345288, "body": "<a href=\"https://docs.google.com/document/d/1U-JO4RvfXR-qAc7rlRJPWnugVm3xH9FavomwkLdhjrM/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"}, {"owner": {"reputation": 7454, "user_id": 5827005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Rxwgh.png?s=128&g=1", "display_name": "GrumpyCrouton", "link": "https://stackoverflow.com/users/5827005/grumpycrouton"}, "edited": false, "score": 1, "creation_date": 1518112544, "post_id": 48653846, "comment_id": 84381932, "body": "@Nicolas Please do not disregard the <a href=\"https://stackoverflow.com/help/be-nice\">be nice</a> policy of StackOverflow. The downvote was very likely probably because this question is off-topic. Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: How to create a Minimal, Complete, and Verifiable example."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6562842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b95e635eb396759e54cb7e2e1a819ce0?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/6562842/nicolas"}, "is_accepted": false, "score": 0, "last_activity_date": 1518121494, "creation_date": 1518121494, "answer_id": 48694195, "question_id": 48653846, "link": "https://stackoverflow.com/questions/48653846/making-a-basic-kotlin-ssh-app-crashes-everytime/48694195#48694195", "title": "Making a basic Kotlin SSH app crashes everytime", "body": "<p>Figured it out.\nSSHj past verion 0.9.0 doesn't work with some security. Plus adding \n    compile \"ch.qos.logback:logback-classic:1.1.2\"\n    compile \"org.bouncycastle:bcprov-jdk15on:1.57\"</p>\n\n<p>solved the logging issues.</p>\n"}], "owner": {"reputation": 1, "user_id": 6562842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b95e635eb396759e54cb7e2e1a819ce0?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/6562842/nicolas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 628, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1518121494, "creation_date": 1517961334, "question_id": 48653846, "link": "https://stackoverflow.com/questions/48653846/making-a-basic-kotlin-ssh-app-crashes-everytime", "title": "Making a basic Kotlin SSH app crashes everytime", "body": "<p>I am just learning so i am trying to get a very basic SSH query app to compile.\nIt's supposed to do nothing but an ls.</p>\n\n<pre><code>package com.android.myself.sshtestkotlin\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Toast\nimport net.schmizz.sshj.SSHClient\nimport net.schmizz.sshj.common.IOUtils\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val sshConnection = SSHClient()\n    sshConnection.connect(\"localhost\")\n    sshConnection.authPassword(\"uid\", \"password\")\n    Toast.makeText(this@MainActivity, \"failed.\", Toast.LENGTH_SHORT).show()\n    val session = sshConnection.startSession()\n    Thread.sleep(1000)\n    val cmd = session.exec(\"ls\")\n    val tempNum = IOUtils.readFully(cmd.getInputStream()).toString()\n    sshConnection.disconnect()\n    Toast.makeText(this@MainActivity, tempNum, Toast.LENGTH_SHORT).show()\n\n}\n}\n</code></pre>\n\n<p>I've done a couple of variations with a button to launch the connection etc... but no luck. The moment it calls SSH in any way it crashes.</p>\n\n<p>I tested 2 different virtual devices and two different computers running android studio but no luck.</p>\n\n<p>The make text are just there as debugging to tell me where it breaks but they never show up.</p>\n\n<p>I tried the same with JSCH with the same error.</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.21'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mapbox", "mapbox-android", "turn-by-turn"], "comments": [{"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1517959031, "post_id": 48652971, "comment_id": 84305118, "body": "Just calculate the distance to the waypoints."}, {"owner": {"reputation": 21, "user_id": 9324345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea87662c2c6290777d40cd72e19a0aaf?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien STOLZ", "link": "https://stackoverflow.com/users/9324345/s%c3%a9bastien-stolz"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1517992541, "post_id": 48652971, "comment_id": 84315858, "body": "Is it the &quot;mapbox&quot; way to do this or do you provide me a workaround/solution because it&#39;s not possible to do this with milestones or any other things in the navigation SDK ?"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1517993032, "post_id": 48652971, "comment_id": 84316109, "body": "Why would you let do those things anybody else where it is so simple to calculate distances yourself? Code is all around on internet. I dont know anythingh of mapbox."}, {"owner": {"reputation": 21, "user_id": 9324345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea87662c2c6290777d40cd72e19a0aaf?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien STOLZ", "link": "https://stackoverflow.com/users/9324345/s%c3%a9bastien-stolz"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1517997469, "post_id": 48652971, "comment_id": 84318941, "body": "Yes you&#39;re right but mapbox SDK provide also a &quot;time remaining&quot; event with the &quot;distance remaining&quot; (<a href=\"https://www.mapbox.com/android-docs/navigation/overview/milestones/\" rel=\"nofollow noreferrer\">mapbox.com/android-docs/navigation/overview/milestones</a>), and depending of the results of my tests I will perhaps switch to time remaining instead of distance. I think I will give a shot to custom implementation of distance and dig the SDK if I want to switch to time."}, {"owner": {"reputation": 192, "user_id": 2948807, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6f6af6efc1224a28933cd0f61da58f32?s=128&d=identicon&r=PG&f=1", "display_name": "ZzAnt&#225;res", "link": "https://stackoverflow.com/users/2948807/zzant%c3%a1res"}, "edited": false, "score": 0, "creation_date": 1581972194, "post_id": 48652971, "comment_id": 106608540, "body": "Hi S&#233;bastien, did you by any chance remember this was solved? I&#39;m currently figuring out how to do the same but Mapbox docs are scarce on this."}], "owner": {"reputation": 21, "user_id": 9324345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea87662c2c6290777d40cd72e19a0aaf?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien STOLZ", "link": "https://stackoverflow.com/users/9324345/s%c3%a9bastien-stolz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 464, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1581972157, "creation_date": 1517955858, "question_id": 48652971, "link": "https://stackoverflow.com/questions/48652971/how-to-detect-im-near-a-waypoint", "title": "How to detect I&#39;m near a waypoint", "body": "<p>I want to make a navigation application on Android (Kotlin) using the mapbox-android SDK. I need to create a route with specific waypoints and want to know when I am near one of those waypoints (200m before for example). I already managed to display a map with my waypoints with the NavigationRoute object and launch a turn-by-turn navigation using the NavigationLauncher object. Still, I don't have a clue how to know when I'm getting near a waypoint. I've read things about milestones event listener (step or route), RouteProgress (leg or route), but I don't know if it's the right approach to do this.</p>\n\n<p>I tried to declare a milestone with a STEP_DISTANCE_REMAINING_METERS and add a MilestoneEventListener but nothing fire up in my logs. Like I said, I don't even know if it's the right way to do this.</p>\n\n<pre><code>val milestone = RouteMilestone.Builder()\n        .setIdentifier(100)\n        .setTrigger(Trigger.all(\n                Trigger.lt(TriggerProperty.STEP_DISTANCE_REMAINING_METERS, 200)\n        ))\n        .build()\n\nnavigation = MapboxNavigation(this@MainActivity, Mapbox.getAccessToken())\nnavigation.addMilestone(milestone)\n\nnavigation.addMilestoneEventListener { _, _, milestone -&gt;\n    Log.d(TAG, \"milestone triggered: \" + milestone.instruction)\n}\n\nnavigationMapRoute = NavigationMapRoute(navigation, mapView, map, R.style.NavigationMapRoute)\nnavigationMapRoute!!.addRoute(currentRoute)\n</code></pre>\n\n<p>I'm using those versions of mapbox SDK</p>\n\n<ul>\n<li>mapbox-android-sdk:5.3.2</li>\n<li>mapbox-android-navigation:0.9.0</li>\n<li>mapbox-android-navigation-ui:0.9.0</li>\n</ul>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 1719, "user_id": 5518027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/peF6a.jpg?s=128&g=1", "display_name": "Arpan Sarkar", "link": "https://stackoverflow.com/users/5518027/arpan-sarkar"}, "edited": false, "score": 0, "creation_date": 1517970438, "post_id": 48652946, "comment_id": 84308140, "body": "use <a href=\"https://developer.android.com/reference/android/animation/AnimatorListenerAdapter.html\" rel=\"nofollow noreferrer\">AnimatorListenerAdapter</a> instead of <b>AnimatorListener</b> without overriding  <code>onAnimationEnd(Animator animation, boolean isReverse)</code> and <code>onAnimationStart(Animator animation, boolean isReverse)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 7596, "user_id": 1009132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75930f51f830aa057b0eaf61a3dd62a8?s=128&d=identicon&r=PG", "display_name": "albodelu", "link": "https://stackoverflow.com/users/1009132/albodelu"}, "is_accepted": true, "score": 1, "last_activity_date": 1517988205, "last_edit_date": 1517988205, "creation_date": 1517968201, "answer_id": 48654764, "question_id": 48652946, "link": "https://stackoverflow.com/questions/48652946/android-kotlin-extension-error/48654764#48654764", "title": "Android kotlin extension error", "body": "<p><strong>Solution</strong></p>\n\n<p>Based on <a href=\"https://github.com/orfjackal/retrolambda/issues/42\" rel=\"nofollow noreferrer\">this issue</a> and <a href=\"https://github.com/GiveNow/givenow-android/blob/40cfb77d148ba2590424a6d07aaf237f35d60a4c/app/src/main/java/io/givenow/app/interfaces/AnimatorEndListener.java\" rel=\"nofollow noreferrer\">this fix:</a></p>\n\n<p><strong>ViewExtension.kt</strong></p>\n\n<pre><code>fun View.animateFadeOut(animDuration: Long = 250L) {\n    this.animate()\n            .alpha(0F)\n            .setDuration(animDuration)\n            .setListener(object : AbstractAnimatorListener() {\n\n                override fun onAnimationEnd(animation: Animator?, isReverse: Boolean) {\n                    super.onAnimationEnd(animation, isReverse)\n                    show(false)\n                }\n\n                override fun onAnimationEnd(p0: Animator?) {\n                    show(false)\n                }\n            })\n            .start()\n}\n\nfun View.show(show: Boolean) {\n    val vis = if (show) View.VISIBLE else View.GONE\n    if (visibility != vis) {\n        visibility = vis\n    }\n}\n</code></pre>\n\n<p><strong>AbstractAnimatorListener.kt</strong></p>\n\n<pre><code>abstract class AbstractAnimatorListener : Animator.AnimatorListener {\n\n    override fun onAnimationRepeat(p0: Animator?) {}\n\n    override fun onAnimationEnd(p0: Animator?) {}\n\n    override fun onAnimationCancel(p0: Animator?) {}\n\n    override fun onAnimationStart(p0: Animator?) {}\n\n    override fun onAnimationEnd(animation: Animator?, isReverse: Boolean) {\n        onAnimationEnd(animation)\n    }\n\n    override fun onAnimationStart(animation: Animator?, isReverse: Boolean) {\n        onAnimationStart(animation)\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Explanation</strong></p>\n\n<p>Try to remove these methods added in API 26 using Java 8 Defaults and use alternative animation:</p>\n\n<p><a href=\"https://developer.android.com/reference/android/animation/Animator.AnimatorListener.html\" rel=\"nofollow noreferrer\">Animator.AnimatorListener:</a></p>\n\n<blockquote>\n  <p><strong>onAnimationEnd added in API level 26</strong></p>\n\n<pre><code>void onAnimationEnd (Animator animation, boolean isReverse)\n</code></pre>\n  \n  <p><strong>onAnimationStart added in API level 26</strong></p>\n\n<pre><code>void onAnimationStart (Animator animation, boolean isReverse)\n</code></pre>\n</blockquote>\n\n<p>These methods can be overridden, though not required, to get the additional play direction info when an animation starts.</p>\n\n<p><a href=\"https://developer.android.com/reference/android/animation/AnimatorSet.html\" rel=\"nofollow noreferrer\">AnimatorSet</a>:</p>\n\n<blockquote>\n  <p>Starting in Android 8.0 (API 26) the AnimatorSet API supports\n  seeking and playing in reverse.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Note:</strong></p>\n\n<pre><code>/**\n * Skipping calling super when overriding this method results in\n * {@link #onAnimationStart(Animator)} not getting called.\n */\ndefault void onAnimationStart(Animator animation, boolean isReverse) {\n    onAnimationStart(animation);\n}\n</code></pre>\n\n<p>I need to add <a href=\"https://stackoverflow.com/a/44297713/1009132\">this</a> to my <code>build.gradle</code> file to test it</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n  kotlinOptions {\n    jvmTarget = \"1.8\"\n  }\n}\n</code></pre>\n\n<p>or replace</p>\n\n<pre><code>super.onAnimationEnd(animation, isReverse)\n</code></pre>\n\n<p>by</p>\n\n<pre><code>onAnimationEnd(animation)\n</code></pre>\n\n<p>to avoid the error:</p>\n\n<blockquote>\n  <p>Super calls to Java default methods are prohibited in JVM target 1.6.\n  Recompile with '-jvm-target 1.8'</p>\n</blockquote>\n\n<p>And add the next line to my gradle.properties file <a href=\"https://stackoverflow.com/q/46754337/1009132\">thanks to this answer</a></p>\n\n<pre><code>android.enableD8=true\n</code></pre>\n\n<p>to avoid the exception:</p>\n\n<blockquote>\n  <p>com.android.dx.cf.code.SimException: default or static interface\n  method used without --min-sdk-version >= 24</p>\n</blockquote>\n\n<p>It compiles now, launching a kitKat emulator just now...</p>\n\n<p>It works, and MultiDex is also enabled in my project.</p>\n\n<p>Sorry, I cannot reproduce it.</p>\n\n<p>Alternatively, remove the two methods using Java 8 defaults, it also works.</p>\n\n<hr>\n\n<p><strong>Note2:</strong></p>\n\n<p>Arpan suggestion about AnimatorListenerAdapter would work but it's not necessary.</p>\n\n<p>You can remove those methods, change the animation and create:</p>\n\n<pre><code>object EmptyAnimatorListener : Animator.AnimatorListener {\n    override fun onAnimationRepeat(p0: Animator?) {}\n    override fun onAnimationEnd(p0: Animator?) {}\n    override fun onAnimationCancel(p0: Animator?) {}\n    override fun onAnimationStart(p0: Animator?) {}\n}\n</code></pre>\n\n<p>And use delegation like this:</p>\n\n<pre><code>    .setListener(object : Animator.AnimatorListener by EmptyAnimatorListener {\n        override fun onAnimationStart(animation: Animator) {\n            // Do something\n        }\n\n        override fun onAnimationEnd(animation: Animator) {\n            // Do something\n        }\n    })\n</code></pre>\n\n<hr>\n\n<p><strong>Note3:</strong></p>\n\n<p>Reproduced adding it to an extension function:</p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main\n                    Process: ...android, PID: 3409\n                    java.lang.VerifyError: com/.../ui/common/extension/android/view/ViewExtensionKt$animateFadeOut$1</p>\n</blockquote>\n\n<ul>\n<li><p>Removing the Api 26 methods using Java Defaults solves the issue.</p></li>\n<li><p>Replacing the super call calling your onAnimationEnd also solves it:</p>\n\n<pre><code>    override fun onAnimationEnd(animation: Animator?, isReverse: Boolean) {\n        onAnimationEnd(animation)\n    }\n</code></pre></li>\n<li><p>Calling super.onAnimationStart(animation: Animator?, isReverse: Boolean) requires API 26:</p></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/fOpQK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fOpQK.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>Decompiling Kotlin Bytecode shows these methods cannot be resolved:</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/TE7C3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TE7C3.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 658, "user_id": 4182946, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh6.googleusercontent.com/-Cbh2k0RN26U/AAAAAAAAAAI/AAAAAAAAADE/3unk-s0QwlI/photo.jpg?sz=128", "display_name": "TooLazy", "link": "https://stackoverflow.com/users/4182946/toolazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 733, "favorite_count": 1, "accepted_answer_id": 48654764, "answer_count": 1, "score": 1, "last_activity_date": 1517988205, "creation_date": 1517955713, "last_edit_date": 1517978250, "question_id": 48652946, "link": "https://stackoverflow.com/questions/48652946/android-kotlin-extension-error", "title": "Android kotlin extension error", "body": "<blockquote>\n  <p>java.lang.VerifyError: .../utils/KotlinViewExtKt$animateFadeOut$1</p>\n</blockquote>\n\n<p>Getting that error while running app on emulator <strong>PRE Lolipop (&lt;21 api)</strong></p>\n\n<p>Function causing the trouble:</p>\n\n<pre><code>fun View.animateFadeOut(animDuration: Long = 250) {\n    this.animate()\n            .alpha(0F)\n            .setDuration(animDuration)\n            .setListener(object : Animator.AnimatorListener {\n\n                override fun onAnimationRepeat(p0: Animator?) {}\n\n                override fun onAnimationEnd(animation: Animator?, isReverse: Boolean) {\n                    super.onAnimationEnd(animation, isReverse)\n                    show(false)\n                }\n\n                override fun onAnimationEnd(p0: Animator?) {\n                    show(false)\n                }\n\n                override fun onAnimationCancel(p0: Animator?) {\n                }\n\n                override fun onAnimationStart(animation: Animator?, isReverse: Boolean) {\n                }\n\n                override fun onAnimationStart(p0: Animator?) {\n                }\n            })\n            .start()\n}\n\nfun View.show(show: Boolean) {\n    val vis = if (show) View.VISIBLE else View.GONE\n    if (visibility != vis) {\n        visibility = vis\n    }\n}\n</code></pre>\n\n<p>Pointing on <code>.setListener</code> line.</p>\n\n<p>Works perfectly on 21+ api.</p>\n\n<p>AS versio: 3.0.1. Kotlin version: 1.2.21 (tried 1.1.51).</p>\n\n<p>What could be the reason? My bad or kotlin?\nMultidex is enabled.</p>\n"}, {"tags": ["android", "gradle", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 9360, "user_id": 680268, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4694129cb36beeeeab3615b21e947708?s=128&d=identicon&r=PG", "display_name": "Stealth Rabbi", "link": "https://stackoverflow.com/users/680268/stealth-rabbi"}, "edited": false, "score": 0, "creation_date": 1567768149, "post_id": 48652377, "comment_id": 102071828, "body": "did you ever get around this issue? I&#39;ve had this problem for years and have been maintaining IntelliJ (non-gradle) project files for some time, with no luck. Any input would be much appreciated."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "reply_to_user": {"reputation": 9360, "user_id": 680268, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4694129cb36beeeeab3615b21e947708?s=128&d=identicon&r=PG", "display_name": "Stealth Rabbi", "link": "https://stackoverflow.com/users/680268/stealth-rabbi"}, "edited": false, "score": 0, "creation_date": 1567808260, "post_id": 48652377, "comment_id": 102088181, "body": "I just run my tests from Gradle. No green ticks, no coverage. I don&#39;t even know how many tests I have in different modules. :)"}], "answers": [{"tags": [], "owner": {"reputation": 2886, "user_id": 2960034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2155e960e7c2119d24d00cffcfa03368?s=128&d=identicon&r=PG&f=1", "display_name": "y.bedrov", "link": "https://stackoverflow.com/users/2960034/y-bedrov"}, "is_accepted": true, "score": 1, "last_activity_date": 1518003636, "creation_date": 1518003636, "answer_id": 48662920, "question_id": 48652377, "link": "https://stackoverflow.com/questions/48652377/kotlin-gradle-mixing-android-and-non-android-modules/48662920#48662920", "title": "Kotlin, Gradle: mixing Android and non-Android modules", "body": "<p>Seems there is related issue on YouTrack: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-122904\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-122904</a></p>\n"}], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 48662920, "answer_count": 1, "score": 2, "last_activity_date": 1518003636, "creation_date": 1517953082, "question_id": 48652377, "link": "https://stackoverflow.com/questions/48652377/kotlin-gradle-mixing-android-and-non-android-modules", "title": "Kotlin, Gradle: mixing Android and non-Android modules", "body": "<p>I'm working in IntelliJ IDEA 2018.1 EAP. And when I add Android Gradle plug-in, output dirs of non-Android modules (project structure -> non-Android module -> paths) start pointing to <code>build/classes/java/main &amp; test</code>, but actual classes are in <code>build/classes/kotlin/main &amp; test</code>. As a result, I can't run JUnit tests (no tests found) or plain applications with <code>public static void main(String[])</code>.</p>\n\n<p><a href=\"https://github.com/Miha-x64/mixed-android-kotlin-project\" rel=\"nofollow noreferrer\">https://github.com/Miha-x64/mixed-android-kotlin-project</a></p>\n\n<p>What am I doing wrong? Or it is a bug?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "edited": false, "score": 0, "creation_date": 1517951496, "post_id": 48652015, "comment_id": 84301968, "body": "Note to self: update Android Studio and really start learning Kotlin!"}, {"owner": {"reputation": 99, "user_id": 8329323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35bad4157b403271b753536f97b7b025?s=128&d=identicon&r=PG&f=1", "display_name": "Hampus Lond&#246;g&#229;rd", "link": "https://stackoverflow.com/users/8329323/hampus-lond%c3%b6g%c3%a5rd"}, "edited": false, "score": 1, "creation_date": 1518026583, "post_id": 48652015, "comment_id": 84338745, "body": "As mentioned above I was thinking about this kind of solution myself but was hoping there&#39;d be a more clean one. Don&#39;t like this approach but it works so it&#39;ll have to do. Thanks! :)  Edit: Yes you should, Kotlin is so much more fun to program in!"}], "tags": [], "owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "is_accepted": false, "score": 1, "last_activity_date": 1517951451, "creation_date": 1517951451, "answer_id": 48652015, "question_id": 48650914, "link": "https://stackoverflow.com/questions/48650914/recyclerview-holder-looses-information-about-animation-if-its-scrolled-away-no/48652015#48652015", "title": "RecyclerView.Holder looses information about animation if it&#39;s scrolled away (notice it is not recycled)", "body": "<p>Guess you prefer 50% of an answer to no answer at all, so here's my 2 cents: </p>\n\n<p>Your data has two states: heart filled and heart unfilled. These two states should be reflected in the <code>View</code> by showing different drawable resources.</p>\n\n<p>So basically you have to use two <code>View</code> types in your <code>RecyclerView.Adapter</code> implementation. To do so, you need to override <code>getItemViewType()</code> and return the correct View type for the current state and in <code>onCreateViewHolder()</code> you need to set the drawable resource depending on the <code>View</code> type. </p>\n\n<p>If you \"heart\" or \"unheart\" a <code>RecyclerView</code> item, its state has to change. You are already updating the underlying data (else the state would not be shown correctly after the <code>View</code> is recycled). So all that is left to do is to call <code>notifyItemChanged()</code> on the <code>RecyclerView.Adapter</code>. Either you postpone this until after the animation has finished (e.g. by using the postDelayed() method on an android.os.Handler instance ) or you try to implement your own <code>RecyclerView.ItemAnimator</code> (but only if the other approach looks bad because of flickering drawables)</p>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 8329323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35bad4157b403271b753536f97b7b025?s=128&d=identicon&r=PG&f=1", "display_name": "Hampus Lond&#246;g&#229;rd", "link": "https://stackoverflow.com/users/8329323/hampus-lond%c3%b6g%c3%a5rd"}, "edited": false, "score": 0, "creation_date": 1518026535, "post_id": 48652395, "comment_id": 84338716, "body": "Thanks. I was thinking about this solution myself but I was hoping there would be a more clean one available.   It worked though so thank you!"}], "tags": [], "owner": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "is_accepted": true, "score": 1, "last_activity_date": 1517953153, "creation_date": 1517953153, "answer_id": 48652395, "question_id": 48650914, "link": "https://stackoverflow.com/questions/48650914/recyclerview-holder-looses-information-about-animation-if-its-scrolled-away-no/48652395#48652395", "title": "RecyclerView.Holder looses information about animation if it&#39;s scrolled away (notice it is not recycled)", "body": "<p>I would say your problem is actually not setting the final state of filled hard, whenever you have two states in a <code>RecyclerView</code> you must not forget to set the \"special\" case (in this situation, the filled heart).</p>\n\n<p>Meaning, if you check for a value to your model, you must always set the current state, a simple example would be:</p>\n\n<pre><code>onBindViewHolder(..) {\n  // The View.GONE is the easly forgot state\n  imageView.visibility = if(someModel.isShowImageView()) View.VISIBLE else View.GONE) \n}\n</code></pre>\n\n<p>Simply put, after you finish your animation you should set the imageView to its final state (filled heart), or else when the animation is reset (out of view) you are displayed the initial state.</p>\n"}], "owner": {"reputation": 99, "user_id": 8329323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35bad4157b403271b753536f97b7b025?s=128&d=identicon&r=PG&f=1", "display_name": "Hampus Lond&#246;g&#229;rd", "link": "https://stackoverflow.com/users/8329323/hampus-lond%c3%b6g%c3%a5rd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 48652395, "answer_count": 2, "score": 2, "last_activity_date": 1517953153, "creation_date": 1517946886, "last_edit_date": 1517948006, "question_id": 48650914, "link": "https://stackoverflow.com/questions/48650914/recyclerview-holder-looses-information-about-animation-if-its-scrolled-away-no", "title": "RecyclerView.Holder looses information about animation if it&#39;s scrolled away (notice it is not recycled)", "body": "<p>I'm implementing an recyclerview and an adapter on top of that (obviously). In the ViewHolders I have an ImageView that is clickable. This imageView uses an animation that is done in XML and can be a \"filled heart\" and \"unfilled heart\". When enabling it fills the heart from bottom up. When disabling it breaks the heart and the heart returns to an \"unfilled heart\".</p>\n\n<p>How I create my \"bug\":</p>\n\n<ol>\n<li>Open app</li>\n<li>\"Heart\" my item (this is saved in a DB and loaded each time you open the app later). This will activate the animation to fill the heart, the heart will stay filled.</li>\n<li>If I scroll just so I can't see my item and then back up the heart is \"unfilled\". The item never got to the recycling part, it just got out of vision. The \"unfilled heart\" is the base-state of the animation so to say. </li>\n<li>If I now click the heart the \"break\"-animation (i.e. unheart) activates as it should. But it goes from unfilled heart -> break-animation -> unfilled heart.</li>\n</ol>\n\n<p><strong>Note:</strong> </p>\n\n<ol>\n<li>I don't want my \"filled-heart\"-state to turn back just because the view goes out of \"visibility\".</li>\n<li>The state of filled heart is there if my view is recycled and then returned by binding.</li>\n</ol>\n\n<p>My RecyclerView.Holder functions.</p>\n\n<pre><code>fun onTrackClick(tracking : Boolean){\n    Log.d(TAG, \"Clling onTrack!\")\n    val stateSet = intArrayOf(android.R.attr.state_checked * if (tracking) 1 else -1)\n    btn.setImageState(stateSet, true);\n}\n\nfun bind(item: Media, viewActions: onViewSelectedListener){\n    if(item.imgpath.isNotEmpty()){\n        image.loadImg(\"https://image.tmdb.org/t/p/w342/${item.imgpath}\") // 342 vs 500\n    }\n\n    id = item.tmdbid\n    viewActions.getSingleMedia(item.tmdbid)\n            ?.observeOn(AndroidSchedulers.mainThread())\n            ?.subscribeOn(Schedulers.io())\n            ?.subscribe({ singleMedia -&gt;\n                onTrackClick(true)\n                tracking = true}, {throwable -&gt; onTrackClick(false)})\n    Log.d(TAG, \"In here for ${item.tmdbid}\")\n    title.text = item.name\n    rating.text = \"${item.rating}\"\n\n    btn.setOnClickListener {\n        viewActions.onTracking(item)\n        tracking = !tracking\n        onTrackClick(tracking)\n    }\n    super.itemView.setOnClickListener { viewActions.onItemSelected(item)}   // Only need ID.\n}\n</code></pre>\n\n<p>And then my ImageView that is getting animated:</p>\n\n<pre><code>&lt;ImageView\n    android:id=\"@+id/img_button_tracker_media_item\"\n    android:layout_width=\"32dp\"\n    android:layout_height=\"32dp\"\n    android:layout_marginStart=\"8dp\"\n    android:adjustViewBounds=\"true\"\n    android:background=\"@android:color/transparent\"\n    android:scaleType=\"center\"\n    android:transitionName=\"HEART\"\n    android:src=\"@drawable/asl_trimclip_heart\"\n    app:layout_constraintBottom_toBottomOf=\"@+id/rating\"\n    app:layout_constraintEnd_toEndOf=\"@+id/imageView\"\n    app:layout_constraintHorizontal_bias=\"1.0\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"@+id/rating\"\n    app:layout_constraintVertical_bias=\"0.52\" /&gt;\n</code></pre>\n\n<p>And the animations:</p>\n\n<pre><code>    &lt;animated-selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n  &lt;item\n    android:id=\"@+id/liked\"\n    android:drawable=\"@drawable/vd_trimclip_heart_full\"\n    android:state_checked=\"true\"/&gt;\n\n  &lt;item\n    android:id=\"@+id/not_liked\"\n    android:drawable=\"@drawable/vd_trimclip_heart_empty\"/&gt;\n\n  &lt;transition\n    android:drawable=\"@drawable/avd_trimclip_heart_fill\"\n    android:fromId=\"@id/not_liked\"\n    android:toId=\"@id/liked\"/&gt;\n\n  &lt;transition\n    android:drawable=\"@drawable/avd_trimclip_heart_break\"\n    android:fromId=\"@id/liked\"\n    android:toId=\"@id/not_liked\"/&gt;\n\n&lt;/animated-selector&gt;\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1517930295, "post_id": 48646160, "comment_id": 84289764, "body": "This is not normal behaviour. The code should be executed."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 9, "creation_date": 1517930313, "post_id": 48646160, "comment_id": 84289778, "body": "Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 960, "user_id": 2711585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0ada5eae892a53d40b4908d1de8aea?s=128&d=identicon&r=PG", "display_name": "Mariano C&#243;rdoba", "link": "https://stackoverflow.com/users/2711585/mariano-c%c3%b3rdoba"}, "edited": false, "score": 0, "creation_date": 1517965645, "post_id": 48646160, "comment_id": 84306943, "body": "You need to show us more code. The code you&#39;re showing <a href=\"https://try.kotlinlang.org/#/UserProjects/v0mtep47t07g7hapqem62emjci/ehapco2v95n4lcaibkg2uof74v\" rel=\"nofollow noreferrer\">works</a>"}, {"owner": {"reputation": 257, "user_id": 4478595, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-LJhKkMuaobc/AAAAAAAAAAI/AAAAAAAAAVQ/eMgnTZbZpC0/photo.jpg?sz=128", "display_name": "Hariharan Ayyasamy", "link": "https://stackoverflow.com/users/4478595/hariharan-ayyasamy"}, "edited": false, "score": 0, "creation_date": 1517980961, "post_id": 48646160, "comment_id": 84310738, "body": "Tested it again. The problem seems to be with the debugger. The debugger skips the lines below the when() but is actually executed. Even the breakpoint placed below the when() is shown as not executable. Sorry to have wasted all of your time."}], "answers": [{"comments": [{"owner": {"reputation": 960, "user_id": 2711585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0ada5eae892a53d40b4908d1de8aea?s=128&d=identicon&r=PG", "display_name": "Mariano C&#243;rdoba", "link": "https://stackoverflow.com/users/2711585/mariano-c%c3%b3rdoba"}, "edited": false, "score": 1, "creation_date": 1517965474, "post_id": 48654287, "comment_id": 84306895, "body": "Kotlin does not REQUIRE an <code>else</code> inside a <code>when</code>."}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "reply_to_user": {"reputation": 960, "user_id": 2711585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0ada5eae892a53d40b4908d1de8aea?s=128&d=identicon&r=PG", "display_name": "Mariano C&#243;rdoba", "link": "https://stackoverflow.com/users/2711585/mariano-c%c3%b3rdoba"}, "edited": false, "score": 0, "creation_date": 1517966012, "post_id": 48654287, "comment_id": 84307056, "body": "<a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/control-flow.html</a>"}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "reply_to_user": {"reputation": 960, "user_id": 2711585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0ada5eae892a53d40b4908d1de8aea?s=128&d=identicon&r=PG", "display_name": "Mariano C&#243;rdoba", "link": "https://stackoverflow.com/users/2711585/mariano-c%c3%b3rdoba"}, "edited": false, "score": 0, "creation_date": 1517966189, "post_id": 48654287, "comment_id": 84307109, "body": "I didn\u2019t say inside the when. Reading the documentation it says when used as a statement it doesn\u2019t. If it is an expression it does require an else to FOLLOW it. We can\u2019t see all of his code. It is the best guess I can make with the given information."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1517969336, "post_id": 48654287, "comment_id": 84307899, "body": "Where do the docs say you can follow a <code>when</code> with <code>else</code>? <i>If when is used as an expression, the else branch is mandatory, unless the compiler can prove that all possible cases are covered with branch conditions.</i> The branch is within <code>when</code>, not after it, and is not always required for the expression usage."}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "edited": false, "score": 0, "creation_date": 1517971297, "post_id": 48654287, "comment_id": 84308314, "body": "Ok you got me on the inside part. But it is not required if every possible option is covered. If every possible option were covered then wouldn\u2019t it then complete? He is iterating through a range. ..... actually I have a compiler on my other phone I wanna try it"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1517971869, "post_id": 48654287, "comment_id": 84308448, "body": "Yes, whatever is in the <code>..</code>s of the OP&#39;s code, the only way it&#39;s going to skip to the next iteration is if one has a <code>continue</code>."}], "tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": false, "score": -1, "last_activity_date": 1517964551, "creation_date": 1517964551, "answer_id": 48654287, "question_id": 48646160, "link": "https://stackoverflow.com/questions/48646160/using-when-inside-a-for-loop-in-kotlin-the-lines-below-the-when-statement-are/48654287#48654287", "title": "Using when() inside a for loop in kotlin. The lines below the when statement are not executed", "body": "<p>After your when add an else statement</p>\n\n<pre><code>   When(I){\n\n    0-&gt; ...\n    1-&gt; ....\n    } else {\n    Log.i(TAG, \u201cerror\u201d)\n    }\n</code></pre>\n\n<p>Kotlin when expressions require an else</p>\n"}, {"tags": [], "owner": {"reputation": 257, "user_id": 4478595, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-LJhKkMuaobc/AAAAAAAAAAI/AAAAAAAAAVQ/eMgnTZbZpC0/photo.jpg?sz=128", "display_name": "Hariharan Ayyasamy", "link": "https://stackoverflow.com/users/4478595/hariharan-ayyasamy"}, "is_accepted": true, "score": 0, "last_activity_date": 1517981276, "creation_date": 1517981276, "answer_id": 48656585, "question_id": 48646160, "link": "https://stackoverflow.com/questions/48646160/using-when-inside-a-for-loop-in-kotlin-the-lines-below-the-when-statement-are/48656585#48656585", "title": "Using when() inside a for loop in kotlin. The lines below the when statement are not executed", "body": "<p>The problem is with the Android Studio Debugger. The lines below when() block were skipped while debugging but were actually executed.</p>\n\n<p>The break pint placed there also displayed error stating that \"No executable code is present in that line\"</p>\n"}], "owner": {"reputation": 257, "user_id": 4478595, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-LJhKkMuaobc/AAAAAAAAAAI/AAAAAAAAAVQ/eMgnTZbZpC0/photo.jpg?sz=128", "display_name": "Hariharan Ayyasamy", "link": "https://stackoverflow.com/users/4478595/hariharan-ayyasamy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 1, "closed_date": 1517991245, "accepted_answer_id": 48656585, "answer_count": 2, "score": 1, "last_activity_date": 1517981276, "creation_date": 1517929888, "question_id": 48646160, "link": "https://stackoverflow.com/questions/48646160/using-when-inside-a-for-loop-in-kotlin-the-lines-below-the-when-statement-are", "closed_reason": "Not suitable for this site", "title": "Using when() inside a for loop in kotlin. The lines below the when statement are not executed", "body": "<p>I am coding in Kotlin in an Android project. I am using a when() statement inside a for() loop. There are some lines below the when() statement that needs to be executed in each iteration of the loop, but is skipped and the control flows back to the next iteration of the loop.</p>\n\n<p>This is a simplified version of what I do.</p>\n\n<pre><code>    for (i : Int in 0..10)\n    {\n        val data = Data()\n\n        when(i)\n        {\n            0 -&gt; data.att1 = \"sample0\"\n            1 -&gt; data.att1 = \"sample1\"\n            2 -&gt; data.att1 = \"sample2\"\n            ..\n            ..\n        }\n\n        dataArray.add(i, data) // LINE NOT EXECUTED\n    }\n</code></pre>\n\n<p>I am kind of new to Kotlin, so I am not sure if this is normal behaviour in Kotlin. Thanks in advance for the help.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "is_accepted": false, "score": 0, "last_activity_date": 1517933361, "creation_date": 1517933361, "answer_id": 48647241, "question_id": 48645903, "link": "https://stackoverflow.com/questions/48645903/why-is-this-kotlin-extension-failing-android-studio-lint-checks/48647241#48647241", "title": "Why is this Kotlin extension failing Android Studio Lint checks?", "body": "<p>Based on this <a href=\"https://discuss.kotlinlang.org/t/minimum-api-level-annotations/2340\" rel=\"nofollow noreferrer\">this discussion in the Kotlin forum</a> it seems like doing something like this isn't possible, because Lint can only look at the current function for annotations. For instance if you do</p>\n\n<pre><code>val func = @TargetApi(26) { exampleMethodThatRequiresOreo() }\nrunWithMinSdk(Build.VERSION_CODES.0, func)\n</code></pre>\n\n<p>you won't get the warning, but that also kinda defeats the purpose of this extension function. The OP in the discussion above mentions taking the feature request to Anko, but I couldn't find an associated issue there.</p>\n"}], "owner": {"reputation": 4898, "user_id": 717778, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/mmckE.jpg?s=128&g=1", "display_name": "Ed George", "link": "https://stackoverflow.com/users/717778/ed-george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1517933361, "creation_date": 1517929120, "question_id": 48645903, "link": "https://stackoverflow.com/questions/48645903/why-is-this-kotlin-extension-failing-android-studio-lint-checks", "title": "Why is this Kotlin extension failing Android Studio Lint checks?", "body": "<p>Within Android development, there is often a time in which a block of code needs to be executed if and only if the device's SDK is greater than or equal to a minimum version.</p>\n\n<p>To avoid the often ugly and repetitive nature of this code, I created the following extension. </p>\n\n<pre><code>inline fun &lt;T&gt; runWithMinSdk (minVersion: Int, func: () -&gt; T) {\n    if (android.os.Build.VERSION.SDK_INT &gt;= minVersion) { func() }\n}\n</code></pre>\n\n<p>Nothing too fancy, and seems to do the trick on paper. </p>\n\n<p><em>However</em>, when I use this code as such:</p>\n\n<pre><code>fun myFun {\n    runWithMinSdk(Build.VERSION_CODES.O) {\n        exampleMethodThatRequiresOreo()\n    }\n}\n</code></pre>\n\n<p>Android Studio throws a hissy fit and it fails the Lint checks, asking to either suppress 'NewApi' warnings within <code>myFun()</code> or wrapping the <code>runWithMinSdk</code> block with <code>if android.os.Build.VERSION.SDK_INT ... etc</code></p>\n\n<p>Is there a better way to achieve this functionality, make it pass the Lint checks or is none of this possible using extensions?</p>\n"}, {"tags": ["kotlin", "annotation-processing", "immutables-library"], "answers": [{"comments": [{"owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1517926616, "post_id": 48644729, "comment_id": 84286983, "body": "kapt is executed and finds the immutables jar. But the classes get not generated and the compiler still fails...  <code>[INFO] [kapt] Kapt3 is enabled. [INFO] [kapt] Annotation processing mode: STUBS_AND_APT [INFO] [kapt] Use light analysis: true [INFO] [kapt] Correct error types: false [INFO] [kapt] Source output directory: &lt;projectdir&gt;&#47;target&#47;generated-sources&#47;kapt&#47;compile [INFO] [kapt] Classes output directory: &lt;projectdir&gt;&#47;target&#47;classes [INFO] [kapt] Stubs output directory: &lt;projectdir&gt;&#47;target&#47;kaptStubs&#47;compile [INFO] [kapt] Incremental data output directory: null</code>"}, {"owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1517927316, "post_id": 48644729, "comment_id": 84287475, "body": "Is kapt executing annotation processors for Java files or only for Kotlin files? The annotated classes are still Java classes."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1517929095, "post_id": 48644729, "comment_id": 84288919, "body": "In <a href=\"https://kotlinlang.org/docs/reference/kapt.html#using-in-gradle\" rel=\"nofollow noreferrer\">Android context</a>: If your project contains Java classes, kapt will also take care of them. Did you find generated classes or stubs in the given directories?"}, {"owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1518003175, "post_id": 48644729, "comment_id": 84322772, "body": "Okay, it works exept for two interfaces, that extend other simple interfaces (that have no immutables configuration in it). It seems kapt has a problem to generate these. With java annotation processing this was no problem..."}, {"owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1518086022, "post_id": 48644729, "comment_id": 84363682, "body": "kapt generation now works. Now there is another problem: Java also tries to generate the classes and the java compiler step fails with a &quot;duplicate class error&quot;..."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1518087140, "post_id": 48644729, "comment_id": 84364469, "body": "If you have the classes available already, just remove the annotation processor from your java compile step. Kapt should be sufficient."}, {"owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1518101229, "post_id": 48644729, "comment_id": 84374228, "body": "Annotation processing is enabled and discovered by default in the maven-compiler-plugin. I had to deactivate it in its configuration using <code>&lt;proc&gt;none&lt;&#47;proc&gt;</code>.  Now some classes are missing that kapt could not generate (in my comment above). I have to investigate further to find what causes this error. Thanks."}, {"owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 2, "creation_date": 1518103760, "post_id": 48644729, "comment_id": 84376087, "body": "Solved. I found a strange bug in kapt in combination with immutables: We use custom annotations for our immutables. These have to be configured in a file <code>src&#47;main&#47;resources&#47;META-INF&#47;annotations&#47;org.immutables.value&zwnj;&#8203;.immutable</code>. But all classes with custom annotations were not generated exept those where the custom annotations were provided by a maven project which this project depends on. If I add the custom annotations to the file in the other project it works. <i>This means kapt does not use the file in the given src/main/java folder but only that one on the classpath!</i>"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 5, "last_activity_date": 1517925308, "creation_date": 1517925308, "answer_id": 48644729, "question_id": 48643979, "link": "https://stackoverflow.com/questions/48643979/integrate-kotlin-with-generated-java-classes/48644729#48644729", "title": "Integrate Kotlin with generated Java Classes", "body": "<p>The <em>Kotlin</em> compiler runs before the <em>Java</em> compiler. To have the created classes available with <em>Kotlin</em>, you have to use <a href=\"https://kotlinlang.org/docs/reference/kapt.html#using-in-maven\" rel=\"noreferrer\">kapt</a> and define every annotation processor there.</p>\n\n<pre><code>&lt;execution&gt;\n    &lt;id&gt;kapt&lt;/id&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;kapt&lt;/goal&gt;\n    &lt;/goals&gt;\n    &lt;configuration&gt;\n        &lt;sourceDirs&gt;\n            &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\n            &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\n        &lt;/sourceDirs&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;annotationProcessorPath&gt;\n                &lt;groupId&gt;org.immutables&lt;/groupId&gt;\n                &lt;artifactId&gt;value&lt;/artifactId&gt;\n                &lt;version&gt;2.5.5&lt;/version&gt;\n            &lt;/annotationProcessorPath&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n"}], "owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1104, "favorite_count": 0, "accepted_answer_id": 48644729, "answer_count": 1, "score": 2, "last_activity_date": 1517925308, "creation_date": 1517922992, "question_id": 48643979, "link": "https://stackoverflow.com/questions/48643979/integrate-kotlin-with-generated-java-classes", "title": "Integrate Kotlin with generated Java Classes", "body": "<p>We use an annotation processing framework (Immutables) to generate Java classes from interfaces.</p>\n\n<p>Now I have to access these generated classes from a kotlin class. While in Java this works well, the Kotlin compiler cannot find them.</p>\n\n<p>Here is the maven configuration:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/test/java&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-testCompile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Kotlin version is 1.2.10 (but it's the same with 1.2.20).\nSwapping the plugin declarations did not help.\nHow can I configure this?</p>\n"}, {"tags": ["android", "android-edittext", "kotlin"], "owner": {"reputation": 1709, "user_id": 1294982, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fb2a35340cf7b991a942773d3f5247c3?s=128&d=identicon&r=PG&f=1", "display_name": "Maurice", "link": "https://stackoverflow.com/users/1294982/maurice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1517922849, "creation_date": 1517922849, "question_id": 48643932, "link": "https://stackoverflow.com/questions/48643932/edittext-error-disappearing-with-invalid-key-on-numeric-keyboard", "title": "EditText error disappearing with invalid key on numeric keyboard", "body": "<p>I have a simple EditText with a TextWatcher where a validation is performed. In the TextWatcher the error is set correctly and the pop-up and message is appearing has expected. </p>\n\n<p>I am doing a Range validation. The EditText type is set to number and has expected, the keyboard shown is only digit. <strong>But</strong> this keyboard, shows space, comma, minus and dot as well. Since I set the type to be a number, these keys aren't allowed and it's ok. But if an error is set and visible, and the user click on not allowed key, the error pop-up disappear.</p>\n\n<p>I found a solution by allowing the keys like the example below: </p>\n\n<pre><code>textEditInputText.keyListener = DigitsKeyListener.getInstance(\"0123456789 -.,\")\n</code></pre>\n\n<p>But I was wondering why I have to do that and how the error message could stay when the user click on invalid keys?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-generics"], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 0, "last_activity_date": 1517923989, "last_edit_date": 1517923989, "creation_date": 1517923577, "answer_id": 48644183, "question_id": 48643622, "link": "https://stackoverflow.com/questions/48643622/inferring-parameter-of-class-type-with-default/48644183#48644183", "title": "Inferring parameter of class type with default", "body": "<p>For the <code>Facade()</code> to be equivalent to <code>Facade(DerivedClass::class)</code> the default constructor parameter would have to be declared as <code>val kClass: KClass&lt;in T&gt; = T::class</code>. However to use <code>T::class</code> the <code>T</code> type parameter would need to be <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\"><code>reified</code></a>. A type parameter can only be reified in inline functions and not constructors.</p>\n\n<p>To workaround this issue you can declare a factory function that delegates to constructor like so:</p>\n\n<pre><code>inline fun &lt;reified T : SuperClass&gt; Facade(): Facade&lt;T&gt; = Facade(T::class)\n</code></pre>\n\n<p>This allows one to use it as e.g.:</p>\n\n<pre><code>val derivedFacade:Facade&lt;DerivedClass&gt; = Facade()\n</code></pre>\n\n<p>Note that if you would like to use the <code>SuperClass</code> as the default parameter for <code>T</code> you would need to declare another factory method using <strong>different name</strong> e.g.:</p>\n\n<pre><code>fun SuperFacade(): Facade&lt;SuperClass&gt; = Facade()\n</code></pre>\n\n<p>This is required since if we had declared <code>@JvmName(\"SuperFacade\") fun Facade() = Facade(SuperClass::class)</code> the compile would match it whenever we <strong>do not provide</strong> type parameters. This in turn would defy the type inference from the <code>derivedFacade</code> example.</p>\n"}, {"comments": [{"owner": {"reputation": 605, "user_id": 2558231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b00d9fec45fb7268c1e874dafeb15f?s=128&d=identicon&r=PG", "display_name": "Majkeee", "link": "https://stackoverflow.com/users/2558231/majkeee"}, "edited": false, "score": 0, "creation_date": 1517925459, "post_id": 48644669, "comment_id": 84286189, "body": "Oh, nice catch. My mistake I didn&#39;t specify it, but I actually do need the T for property and in methods. Also, I am not able to make upper bound of SuperClass (only superclass and its derivates can go to this constructor)."}], "tags": [], "owner": {"reputation": 1709, "user_id": 1294982, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fb2a35340cf7b991a942773d3f5247c3?s=128&d=identicon&r=PG&f=1", "display_name": "Maurice", "link": "https://stackoverflow.com/users/1294982/maurice"}, "is_accepted": false, "score": 0, "last_activity_date": 1517925083, "creation_date": 1517925083, "answer_id": 48644669, "question_id": 48643622, "link": "https://stackoverflow.com/questions/48643622/inferring-parameter-of-class-type-with-default/48644669#48644669", "title": "Inferring parameter of class type with default", "body": "<p>You can resolve your problem by removing the angle brackets and changing the constructor type.\nJust use this constructor:</p>\n\n<pre><code>class Facade(val kClass: KClass&lt;*&gt; = SuperClass::class)\n</code></pre>\n\n<p>All these call are working</p>\n\n<pre><code>Facade(SubClass:class)\nFacade(SuperClass:class)\nFacade()\n</code></pre>\n"}], "owner": {"reputation": 605, "user_id": 2558231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b00d9fec45fb7268c1e874dafeb15f?s=128&d=identicon&r=PG", "display_name": "Majkeee", "link": "https://stackoverflow.com/users/2558231/majkeee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 1, "accepted_answer_id": 48644183, "answer_count": 2, "score": 3, "last_activity_date": 1517925083, "creation_date": 1517921836, "last_edit_date": 1517922658, "question_id": 48643622, "link": "https://stackoverflow.com/questions/48643622/inferring-parameter-of-class-type-with-default", "title": "Inferring parameter of class type with default", "body": "<p>I have a class with constructor declared like this</p>\n\n<pre><code>class Facade&lt;T : SuperClass&gt;(\n    val kClass: KClass&lt;in T&gt; = SuperClass::class\n)\n</code></pre>\n\n<p>It is done like this so that developer doesn't have to specify SuperClass if they want to use it instead of a subclass. \nReason to even send the class type is, so that developer doesn't have to specify type in angle brackets .</p>\n\n<p>But now comes the problem. Creating instance like below, says that there is not enough information to infer parameter T. Which is resulting in having to put class into angle brackets.</p>\n\n<pre><code>Facade()\n</code></pre>\n\n<p>But since default value is SuperClass, then kotlin should be able to infer parameter T as SuperClass. What am I thinking wrong?</p>\n\n<p>Thank you</p>\n\n<p><strong>TL;DR:</strong></p>\n\n<pre><code>Facade(SubClass:class) // working\nFacade(SuperClass:class) // working, but don't want (superclass is default)\nFacade&lt;SuperClass&gt;() // working, but don't want angle brackets &lt;&gt;\nFacade() // not working, cannot infer T type from default, why?\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 717, "user_id": 5084911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39gvZ.jpg?s=128&g=1", "display_name": "sanemars", "link": "https://stackoverflow.com/users/5084911/sanemars"}, "edited": false, "score": 1, "creation_date": 1517921492, "post_id": 48643462, "comment_id": 84283524, "body": "you can use intent"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1517921735, "post_id": 48643462, "comment_id": 84283652, "body": "you&#39;re not setting data. You&#39;re creating an instance"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1517921779, "post_id": 48643462, "comment_id": 84283679, "body": "Does B already have a reference to A?"}, {"owner": {"reputation": 3002, "user_id": 2185295, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/OFPMR.jpg?s=128&g=1", "display_name": "Usman Khan", "link": "https://stackoverflow.com/users/2185295/usman-khan"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517922044, "post_id": 48643462, "comment_id": 84283844, "body": "@s1m0nw1 thanks for your reply here. I need to set data from ActivityA and to get Data in ActivityB. This all I need but without bundle, I want it through Getter/Setters. Can you please help me with code snippet."}, {"owner": {"reputation": 3002, "user_id": 2185295, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/OFPMR.jpg?s=128&g=1", "display_name": "Usman Khan", "link": "https://stackoverflow.com/users/2185295/usman-khan"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1517922094, "post_id": 48643462, "comment_id": 84283880, "body": "@TimCastelijns thanks for your reply. Can you please help me with your code snippet. I need to set Data from 1 Activity and to get the data from another Activity."}, {"owner": {"reputation": 3002, "user_id": 2185295, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/OFPMR.jpg?s=128&g=1", "display_name": "Usman Khan", "link": "https://stackoverflow.com/users/2185295/usman-khan"}, "reply_to_user": {"reputation": 717, "user_id": 5084911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39gvZ.jpg?s=128&g=1", "display_name": "sanemars", "link": "https://stackoverflow.com/users/5084911/sanemars"}, "edited": false, "score": 0, "creation_date": 1517922131, "post_id": 48643462, "comment_id": 84283904, "body": "@sanemars thanks for your reply here. I want to do it without setting intent. I want to do it through Getter/Setter."}, {"owner": {"reputation": 144, "user_id": 6002114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7505b76da2b763a1683344e02ccd6709?s=128&d=identicon&r=PG&f=1", "display_name": "Radek Kuty\u0142owski", "link": "https://stackoverflow.com/users/6002114/radek-kuty%c5%82owski"}, "edited": false, "score": 0, "creation_date": 1517922718, "post_id": 48643462, "comment_id": 84284283, "body": "You basically have 2 valid options - intent extra or persistent storage (db or sharedpreferences). All others are breaking architecture and causing memory leaks"}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1518172311, "post_id": 48643462, "comment_id": 84405939, "body": "As I noted on <a href=\"https://stackoverflow.com/q/47161443\">another question</a>, please-halp-me and thanks-in-advance chat is best omitted on this platform: <i>I notice that your questions are liberally sprinkled with pleading phrases - there was &quot;please help me out to resolve this issue&quot; twice in this one, now edited out. It&#39;s worth refraining from chatty stuff mainly because we like succinctness here, but it&#39;s worth noting that begging material can cause people to skip or downvote. Hope that helps!</i>"}], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 6002114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7505b76da2b763a1683344e02ccd6709?s=128&d=identicon&r=PG&f=1", "display_name": "Radek Kuty\u0142owski", "link": "https://stackoverflow.com/users/6002114/radek-kuty%c5%82owski"}, "edited": false, "score": 2, "creation_date": 1517922615, "post_id": 48643745, "comment_id": 84284218, "body": "This is a terrible idea"}, {"owner": {"reputation": 4698, "user_id": 5301119, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7qLZ9.jpg?s=128&g=1", "display_name": "Burhanuddin Rashid", "link": "https://stackoverflow.com/users/5301119/burhanuddin-rashid"}, "edited": false, "score": 0, "creation_date": 1517923771, "post_id": 48643745, "comment_id": 84284991, "body": "Intent extras is highly recommended for passing data from one activity to another.Passing data through static and preference is the worst way of doing it"}, {"owner": {"reputation": 420, "user_id": 8505083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/540a2c4dafabf6b12b06898d05197393?s=128&d=identicon&r=PG&f=1", "display_name": "niketshah09", "link": "https://stackoverflow.com/users/8505083/niketshah09"}, "edited": false, "score": 0, "creation_date": 1517923910, "post_id": 48643745, "comment_id": 84285077, "body": "Agreed. But the requirement is smthing different"}], "tags": [], "owner": {"reputation": 420, "user_id": 8505083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/540a2c4dafabf6b12b06898d05197393?s=128&d=identicon&r=PG&f=1", "display_name": "niketshah09", "link": "https://stackoverflow.com/users/8505083/niketshah09"}, "is_accepted": false, "score": 0, "last_activity_date": 1517924368, "last_edit_date": 1517924368, "creation_date": 1517922255, "answer_id": 48643745, "question_id": 48643462, "link": "https://stackoverflow.com/questions/48643462/getter-and-setters-in-kotlin-using-android/48643745#48643745", "title": "Getter and setters in Kotlin using Android", "body": "<p>OPTION 1: Intent </p>\n\n<p>OPTION 2: persistent storage DataBase / SharedPrefrence</p>\n\n<p>OPTION 3: use EventBus / Rx - PublishSubject</p>\n\n<p>OPTION 4:</p>\n\n<pre><code>var commonVariable : HelperMethods? = null\n</code></pre>\n\n<p>at file level in kotlin.</p>\n\n<p>or</p>\n\n<pre><code>class Common{\n  companion object{\n   var commonVariable : HelperMethods? = null\n  }\n}\n</code></pre>\n\n<p>In your Activity 1 create an instance and assignee it to the variable</p>\n\n<pre><code>Common.commonVariable = HelperMethods(\"abc,efg\")\n</code></pre>\n\n<p>In your Activity 2 consume it.</p>\n\n<pre><code>Log.d(\"i am consuming here\",Common.commonVariable.toString)\n</code></pre>\n\n<p>You just need to handle lifecycle to VOID MEMORY LEAKS</p>\n"}, {"tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 1, "last_activity_date": 1517926750, "creation_date": 1517926750, "answer_id": 48645142, "question_id": 48643462, "link": "https://stackoverflow.com/questions/48643462/getter-and-setters-in-kotlin-using-android/48645142#48645142", "title": "Getter and setters in Kotlin using Android", "body": "<p>Your data class should implements Serializable interface, and then pass this parameter to Intent: <code>intent.putExtra(\"name\", yourSerializableObject)</code>.\nThen, in activityB you can get this data using: <code>intent.getSerializableExtra(\"name\")</code>. If you have some strange flow (like A -> ... -> B) then you can store your values in sharedPreferences. But, if you open B from A, just pass it as intentExtra.</p>\n"}], "owner": {"reputation": 3002, "user_id": 2185295, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/OFPMR.jpg?s=128&g=1", "display_name": "Usman Khan", "link": "https://stackoverflow.com/users/2185295/usman-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1518172244, "creation_date": 1517921349, "last_edit_date": 1518172244, "question_id": 48643462, "link": "https://stackoverflow.com/questions/48643462/getter-and-setters-in-kotlin-using-android", "title": "Getter and setters in Kotlin using Android", "body": "<p>I am new to Kotlin and working on getters and setters. I am making one data class where I am setting my String values. I have 2 Activities, from ActivityA I am setting a data and I want to get it in other ActivityB. How can I get data from my data Class in my ActivityB?</p>\n\n<p>My code snippet is given below:</p>\n\n<p>data class HelperMethods:</p>\n\n<pre><code>data class HelperMethods(val name: String, val publisher: String)\n</code></pre>\n\n<p>ActivityA where I am setting data:</p>\n\n<pre><code>val userName = HelperMethods(\"abc\",\"efg\")\n</code></pre>\n\n<p>I want to get this data from my data class in my ActivityB.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1517917615, "post_id": 48642222, "comment_id": 84281100, "body": "Will X be used before &quot;X DATA&quot; is available?"}], "answers": [{"tags": [], "owner": {"reputation": 1443, "user_id": 244640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827d3b076d5c2d59b5f2062ca46636a9?s=128&d=identicon&r=PG", "display_name": "chetbox", "link": "https://stackoverflow.com/users/244640/chetbox"}, "is_accepted": false, "score": 0, "last_activity_date": 1517917627, "creation_date": 1517917627, "answer_id": 48642355, "question_id": 48642222, "link": "https://stackoverflow.com/questions/48642222/how-to-lock-static-object-in-kotlin/48642355#48642355", "title": "How to &quot;lock&quot; static object in Kotlin", "body": "<p>You can use <code>lateinit var attribute1: String</code> to tell the compiler that you will manage setting <code>attribute1</code> to a non-null value before it's used.</p>\n\n<p>There's no such thing as <code>lateinit val</code> to \"lock\" the value as you say.</p>\n\n<p>The <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">docs</a> have more information.</p>\n"}, {"comments": [{"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1517918531, "post_id": 48642543, "comment_id": 84281638, "body": "The problem of this method is that it is checked in <i>runtime</i>, not in <i>compile-time</i>. However, I don&#39;t think there is some compile-time checking method unless you use two variables -- both <code>var</code> and <code>val</code> -- which is also not compile-time checked while using <code>var</code>."}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "reply_to_user": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1517918827, "post_id": 48642543, "comment_id": 84281837, "body": "You&#39;re right, it is checked at runtime, but if you use <code>val</code> you won&#39;t be able to assign the value directly on the property. You could use a setter but the whole magic about one-time assignment property is gone then"}, {"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1517927447, "post_id": 48642543, "comment_id": 84287593, "body": "@lelloman I&#39;d say UninitializedPropertyAccessException is preferable for access before init."}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "reply_to_user": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1517927600, "post_id": 48642543, "comment_id": 84287723, "body": "thanks @PaulGeorgPodlech it is more appropriate indeed"}, {"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 1, "creation_date": 1517929406, "post_id": 48642543, "comment_id": 84289146, "body": "@lelloman Your solution unfortunately doesn&#39;t work for nullable types. There is a thread about that topic with a solution <a href=\"https://discuss.kotlinlang.org/t/how-to-create-a-nullable-delegate-property/4628/6\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1517930358, "post_id": 48642543, "comment_id": 84289806, "body": "I don&#39;t see why that would be the case, I just tried by modifying return value to <code>T?</code> and it works"}, {"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1517935686, "post_id": 48642543, "comment_id": 84293475, "body": "@lelloman With your current code <code>myProperty</code> has inferred type <code>String</code>. After your proposed change (you&#39;ll have to also change the parameter in <code>setValue</code>) it will have inferred type <code>String?</code>. If you want to delegate nullable and non-nullable types you will need a different delegate. That&#39;s what the link I posted deals with."}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1517936171, "post_id": 48642543, "comment_id": 84293784, "body": "So the problem arises if you want the delegate class to work with both nullable and non-nullable types. Noted, thanks :)"}], "tags": [], "owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "is_accepted": false, "score": 4, "last_activity_date": 1517928709, "last_edit_date": 1517928709, "creation_date": 1517918230, "answer_id": 48642543, "question_id": 48642222, "link": "https://stackoverflow.com/questions/48642222/how-to-lock-static-object-in-kotlin/48642543#48642543", "title": "How to &quot;lock&quot; static object in Kotlin", "body": "<p>You could use a delegate property</p>\n\n<pre><code>class MyProperty&lt;T : Any&gt; {\n\n    private var value: T? = null\n\n    operator fun getValue(myObject: MyObject, property: KProperty&lt;*&gt;): T =\n            value ?: throw UninitializedPropertyAccessException()\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: T) = when (this.value) {\n        null -&gt; this.value = value\n        else -&gt; throw IllegalAccessException(\"Property already initialized\")\n    }\n}\n</code></pre>\n\n<p>and then use <code>var</code> in your object </p>\n\n<pre><code>object MyObject {\n\n    var myProperty by MyProperty&lt;String&gt;()\n\n}\n</code></pre>\n\n<p>In the sample above, if you try to access <code>myProperty</code> before setting a value, an exception is thrown, but you could handle that as you wish (return a default value? maybe null?).</p>\n\n<p>If you try to assign the value more than once, you get an exception as well but you could handle that differently, for instance, by simply not setting the value anymore so that</p>\n\n<pre><code>MyObject.myProperty = \"foo\"\nMyObject.myProperty = \"bar\"\nprintln(MyObject.myProperty)\n</code></pre>\n\n<p>will print <code>\"foo\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 4660, "user_id": 2797847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68581c16298dfecc62b2b0439573b18d?s=128&d=identicon&r=PG", "display_name": "minhazur", "link": "https://stackoverflow.com/users/2797847/minhazur"}, "is_accepted": false, "score": 0, "last_activity_date": 1517921772, "last_edit_date": 1592644375, "creation_date": 1517921772, "answer_id": 48643596, "question_id": 48642222, "link": "https://stackoverflow.com/questions/48642222/how-to-lock-static-object-in-kotlin/48643596#48643596", "title": "How to &quot;lock&quot; static object in Kotlin", "body": "<p>I suggest you make those properties final by replacing var with val.</p>\n<blockquote>\n<p><strong>var</strong> is like <strong>general</strong> variable and its known as a mutable variable in <strong>kotlin</strong> and can be assigned multiple times.</p>\n<p><strong>val</strong> is like <strong>constant</strong> variable and its known as immutable in <strong>kotlin</strong> and can be initialized only single time.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "is_accepted": false, "score": 0, "last_activity_date": 1517922594, "creation_date": 1517922594, "answer_id": 48643849, "question_id": 48642222, "link": "https://stackoverflow.com/questions/48642222/how-to-lock-static-object-in-kotlin/48643849#48643849", "title": "How to &quot;lock&quot; static object in Kotlin", "body": "<p>You can't <code>lateinit</code> immutable properties in kotlin and <code>lateinit var</code> does not allow custom setters.\nSo my approach would be implementing the lateinit var behavior with a backing property, custom getter and custom setter. This is quite a similar approach to lellomans solution.</p>\n\n<pre><code>object X {\n    private lateinit var backingprop: String\n    var attribute: String\n        set(arg) {\n            if (this::backingprop.isInitialized) throw IllegalAccessException(\"Property already initialized\")\n            backingprop = arg\n        }\n        get() = backingprop\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 231, "user_id": 9193052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCV2A.png?s=128&g=1", "display_name": "Constantin Chernishov", "link": "https://stackoverflow.com/users/9193052/constantin-chernishov"}, "is_accepted": false, "score": 0, "last_activity_date": 1517932337, "creation_date": 1517932337, "answer_id": 48646930, "question_id": 48642222, "link": "https://stackoverflow.com/questions/48642222/how-to-lock-static-object-in-kotlin/48646930#48646930", "title": "How to &quot;lock&quot; static object in Kotlin", "body": "<p>I warn you! But you can use such example:</p>\n\n<pre><code>object Immutable {\n    val immutableString: String = mutableStaticString ?: \"some default value, just in case\"\n}\n\nvar mutableStaticString: String? = null\n\nclass App : Application() {\n    override fun onCreate() {\n        super.onCreate()\n\n        mutableStaticString = \"hello duct tape solutions!\"\n\n        android.util.Log.d(\"ductTape\", mutableStaticString)\n        android.util.Log.d(\"ductTape\", Immutable.immutableString)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 457, "user_id": 8526400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8c836f22756bd51f9a97468f7455c3b2?s=128&d=identicon&r=PG&f=1", "display_name": "JoshuaMad", "link": "https://stackoverflow.com/users/8526400/joshuamad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1518031206, "creation_date": 1517917189, "question_id": 48642222, "link": "https://stackoverflow.com/questions/48642222/how-to-lock-static-object-in-kotlin", "title": "How to &quot;lock&quot; static object in Kotlin", "body": "<p>Well, I've a situation, where in <code>Class A</code> I get \"X DATA\".\nI want to store this \"X DATA\" in <code>Object X</code> one time and then make sure, the values of this object is not possible to change. (Set it once and forget about it).</p>\n\n<p>My approach:</p>\n\n<pre><code>object X {\n    var attribute1: String\n    var attribute2: String\n}\n</code></pre>\n\n<p>Obviously, as object attributes are <code>var</code> they are changeable in future. How could I avoid this? Is there a way to assign values (in some time..) and then lock the object till application is exited?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-glide"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9319623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f76a1fea18e79d80b5c7d9b85aaacca2?s=128&d=identicon&r=PG&f=1", "display_name": "dkk", "link": "https://stackoverflow.com/users/9319623/dkk"}, "edited": false, "score": 0, "creation_date": 1517963564, "post_id": 48640449, "comment_id": 84306385, "body": "Thank you for answer.  I tried this  val requestOptions = RequestOptions()      .diskCacheStrategy(DiskCacheStrategy.DATA)      Glide.with(this@ImageProcessingActivity)           .load(imageUri)           .apply(bitmapTransform(MultiTransformation(BlurTransformatio&zwnj;&#8203;n(5), BrightnessFilterTransformation(testBrightness)      )))     .apply(requestOptions)     .transition(DrawableTransitionOptions.withCrossFade())     .into(binding.imageView)  However, the image is changed only once at the first time, and is not changed from the second time."}], "tags": [], "owner": {"reputation": 1863, "user_id": 9293029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ace9789ceeac4d9c7d392640408181e?s=128&d=identicon&r=PG&f=1", "display_name": "Viraj Patel", "link": "https://stackoverflow.com/users/9293029/viraj-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1517911956, "creation_date": 1517911956, "answer_id": 48640449, "question_id": 48638994, "link": "https://stackoverflow.com/questions/48638994/android-how-to-change-glide-transform-smooth/48640449#48640449", "title": "Android - How to change Glide Transform smooth?", "body": "<p>Please try below code.  </p>\n\n<pre><code>Glide.with(context)\n                .load(url)\n                .placeholder(R.drawable.ic_placeholder)\n                .error(R.drawable.ic_placeholder)\n                .crossFade(300)\n                .diskCacheStrategy(DiskCacheStrategy.SOURCE)\n                .into(view);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9319623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f76a1fea18e79d80b5c7d9b85aaacca2?s=128&d=identicon&r=PG&f=1", "display_name": "dkk", "link": "https://stackoverflow.com/users/9319623/dkk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 595, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553442911, "creation_date": 1517907441, "last_edit_date": 1553442911, "question_id": 48638994, "link": "https://stackoverflow.com/questions/48638994/android-how-to-change-glide-transform-smooth", "title": "Android - How to change Glide Transform smooth?", "body": "<p>I used <a href=\"https://github.com/wasabeef/glide-transformations\" rel=\"nofollow noreferrer\">glide-transformations</a> library for implement image processing\nBut this code not working smooth. The image disappears once and then reappears. Because of no caching for refresh image. I want change like this video - <a href=\"https://youtu.be/wRSDash0cCE\" rel=\"nofollow noreferrer\">brightness filter</a>\nI want to show the change in the image while still changing the filter effect to the same image. \nSo what should I do?</p>\n\n<pre><code>//for refresh, not use caching\nval requestOptions = RequestOptions()\n     .diskCacheStrategy(DiskCacheStrategy.NONE)\n     .skipMemoryCache(true)\n\nGlide.with(this@ImageProcessingActivity)\n     .load(imageUri)\n     .apply(requestOptions)\n     .into(binding.imageView)\n\nbinding.imageProcessingCardViewBackground.setOnClickListener {\n    testBrightness += 0.1f\n\n    Glide.with(this@ImageProcessingActivity)\n          .load(imageUri)\n          .apply(bitmapTransform(MultiTransformation(BlurTransformation(5), BrightnessFilterTransformation(testBrightness)\n     )))\n    .apply(requestOptions)\n    .into(binding.imageView)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "automated-tests", "cucumber"], "comments": [{"owner": {"reputation": 654, "user_id": 7114290, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IrufhVXDrYE/AAAAAAAAAAI/AAAAAAAANso/TSw7bhVnv6Q/photo.jpg?sz=128", "display_name": "Andr&#233; Barbosa", "link": "https://stackoverflow.com/users/7114290/andr%c3%a9-barbosa"}, "edited": false, "score": 0, "creation_date": 1517908536, "post_id": 48638898, "comment_id": 84274942, "body": "Any particular reason why you want to run the tests in a specific order?"}, {"owner": {"reputation": 398, "user_id": 2988942, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Hora3.jpg?s=128&g=1", "display_name": "Phantomazi", "link": "https://stackoverflow.com/users/2988942/phantomazi"}, "reply_to_user": {"reputation": 654, "user_id": 7114290, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IrufhVXDrYE/AAAAAAAAAAI/AAAAAAAANso/TSw7bhVnv6Q/photo.jpg?sz=128", "display_name": "Andr&#233; Barbosa", "link": "https://stackoverflow.com/users/7114290/andr%c3%a9-barbosa"}, "edited": false, "score": 0, "creation_date": 1517909822, "post_id": 48638898, "comment_id": 84275842, "body": "Since most of the tests require a logged in user, I wanted to simply make one &quot;Login&quot; test, then the tests with the requirements and then a &quot;Logout&quot; test to encapsulate the pack."}, {"owner": {"reputation": 654, "user_id": 7114290, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IrufhVXDrYE/AAAAAAAAAAI/AAAAAAAANso/TSw7bhVnv6Q/photo.jpg?sz=128", "display_name": "Andr&#233; Barbosa", "link": "https://stackoverflow.com/users/7114290/andr%c3%a9-barbosa"}, "edited": false, "score": 2, "creation_date": 1517919515, "post_id": 48638898, "comment_id": 84282255, "body": "This is a bad practice. All tests should be independent and isolated from each other. You can use Before and After hooks to perform the login and logout on each scenario or you can simulate global hooks using this example: <a href=\"https://github.com/cucumber/cucumber-jvm/issues/515\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/issues/515</a>"}, {"owner": {"reputation": 428, "user_id": 7085109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/296582f3beae795250570156c3aaaf43?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Cas", "link": "https://stackoverflow.com/users/7085109/mr-cas"}, "edited": false, "score": 0, "creation_date": 1517997425, "post_id": 48638898, "comment_id": 84318908, "body": "You could define the order of execution if all scenarios are in the same feature. But the reason you want to do it doesn&#39;t justify this approach. If you have more than 1 scenario in the same feature and all of them require login info the system, you could just put a step &quot;Given I have logged into the system with user ...&quot; in the part Background of the feature and this step will be executed before each scenario. Regards."}], "answers": [{"tags": [], "owner": {"reputation": 34805, "user_id": 248521, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86ea17138ffa218a4d8ebb172d56c4c9?s=128&d=identicon&r=PG", "display_name": "jax", "link": "https://stackoverflow.com/users/248521/jax"}, "is_accepted": false, "score": 4, "last_activity_date": 1517915086, "creation_date": 1517915086, "answer_id": 48641514, "question_id": 48638898, "link": "https://stackoverflow.com/questions/48638898/cucumber-tests-do-not-run-in-specified-order-what-is-wrong/48641514#48641514", "title": "Cucumber tests do not run in specified order, what is wrong?", "body": "<p>The fact that it once executed in order is just an implementation detail you happened to notice - there is no guarantee on execution order of scenarios. In fact it is bad practice to depend on execution order for a scenario - I speak from experience here and highly recommend you change the way you are doing this.</p>\n\n<p>The solution we eventually came up with was requiring a step in the background such as \"Given I login as USER/PASSWORD\".  If logging in is extremely expensive you might consider using Cucumber hooks @Before and caching the login in some sort of <code>World</code> object.</p>\n"}, {"tags": [], "owner": {"reputation": 1772, "user_id": 5743300, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/86b739012f3bafbce2e40f59f3291c0e?s=128&d=identicon&r=PG&f=1", "display_name": "Emjey", "link": "https://stackoverflow.com/users/5743300/emjey"}, "is_accepted": false, "score": 0, "last_activity_date": 1517916910, "creation_date": 1517916910, "answer_id": 48642136, "question_id": 48638898, "link": "https://stackoverflow.com/questions/48638898/cucumber-tests-do-not-run-in-specified-order-what-is-wrong/48642136#48642136", "title": "Cucumber tests do not run in specified order, what is wrong?", "body": "<p>You can rename the feature files and cucumber will start running them in the order you want</p>\n\n<p>Like for example:</p>\n\n<pre><code>01Featurefile.feature\n02Featurefile.feature\n03Featurefile.feature\n</code></pre>\n\n<p>This will make cucumber run 01 and 02 and then 03 in order.</p>\n\n<p>Please note this is the last resort which can be implemented in order to run in order to cope up with test case dependencies.</p>\n"}, {"tags": [], "owner": {"reputation": 231, "user_id": 9193052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCV2A.png?s=128&g=1", "display_name": "Constantin Chernishov", "link": "https://stackoverflow.com/users/9193052/constantin-chernishov"}, "is_accepted": false, "score": 0, "last_activity_date": 1517932602, "creation_date": 1517932602, "answer_id": 48647004, "question_id": 48638898, "link": "https://stackoverflow.com/questions/48638898/cucumber-tests-do-not-run-in-specified-order-what-is-wrong/48647004#48647004", "title": "Cucumber tests do not run in specified order, what is wrong?", "body": "<p>For common unit-tests you can use annotation <code>@org.junit.FixMethodOrder(MethodSorters.JVM)</code>. In that case methods will be started by alphabet.</p>\n"}], "owner": {"reputation": 398, "user_id": 2988942, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Hora3.jpg?s=128&g=1", "display_name": "Phantomazi", "link": "https://stackoverflow.com/users/2988942/phantomazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1009, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1517932602, "creation_date": 1517907119, "question_id": 48638898, "link": "https://stackoverflow.com/questions/48638898/cucumber-tests-do-not-run-in-specified-order-what-is-wrong", "title": "Cucumber tests do not run in specified order, what is wrong?", "body": "<p>So here is my problem: I have a set of tests, which I want to run in a specific order. In <a href=\"https://stackoverflow.com/questions/38781629/how-to-order-feature-files-in-cucumber-test-suite\">this</a> question I found out that you could simply write down the sequence of the tests as you'd like them to run. </p>\n\n<p>Unfortunately, this doesn't seem to run on my Kotlin implementation, for reasons I cannot see. </p>\n\n<p>This is what I have: </p>\n\n<pre><code>@CucumberOptions(features = [\"features/test1.feature\", \"features/test2.feature\", \"features/test3.feature\", \"features/test4.feature\", \"features/test5.feature\"])\n</code></pre>\n\n<p>Additional info: all tests are in the same directory, all test names are specific - I have renamed them here for readability.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "is_accepted": false, "score": 0, "last_activity_date": 1517924302, "creation_date": 1517924302, "answer_id": 48644408, "question_id": 48638148, "link": "https://stackoverflow.com/questions/48638148/spring-boot-kotlin-runapplicationmyapplicationargs-can-not-start/48644408#48644408", "title": "Spring boot + kotlin runApplication&lt;MyApplication&gt;(*args) can not start", "body": "<p>You are missing following import in your Kotlin code:</p>\n\n<pre><code>import org.springframework.boot.autoconfigure.SpringBootApplication\n</code></pre>\n\n<p>Adding it should fix the problem.</p>\n\n<p>On the other hand, this import is <strong>not</strong> necessary:</p>\n\n<pre><code>import org.springframework.boot.SpringApplication\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9320685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a7e0637e3687ac9ade7cef3572fdd62?s=128&d=identicon&r=PG&f=1", "display_name": "user9320685", "link": "https://stackoverflow.com/users/9320685/user9320685"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 923, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1517924302, "creation_date": 1517904204, "last_edit_date": 1517906162, "question_id": 48638148, "link": "https://stackoverflow.com/questions/48638148/spring-boot-kotlin-runapplicationmyapplicationargs-can-not-start", "title": "Spring boot + kotlin runApplication&lt;MyApplication&gt;(*args) can not start", "body": "<pre><code>import org.springframework.boot.runApplication\nimport org.springframework.boot.SpringApplication\n\n@SpringBootApplication\nopen  class MyApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;MyApplication&gt;(*args)\n}\n</code></pre>\n\n<blockquote>\n  <p>Error: unable to find or unable to load the main class</p>\n</blockquote>\n\n<p>Why can't that run, but this can?</p>\n\n<pre><code>import org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.SpringApplication\n\n@SpringBootApplication\nopen class MyApplication\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(MyApplication::class.java, *args)\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "firebase-cloud-messaging", "android-notifications"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1517916172, "post_id": 48637531, "comment_id": 84280104, "body": "So you&#39;ve specified a <code>default_notification_icon</code> in your manifest?"}, {"owner": {"reputation": 31, "user_id": 7353183, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VokVb2Vh_RQ/AAAAAAAAAAI/AAAAAAAAF1g/u7mTf_Yvbms/photo.jpg?sz=128", "display_name": "KG.", "link": "https://stackoverflow.com/users/7353183/kg"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1518005230, "post_id": 48637531, "comment_id": 84324041, "body": "Yes i have added that in manifest"}], "owner": {"reputation": 31, "user_id": 7353183, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VokVb2Vh_RQ/AAAAAAAAAAI/AAAAAAAAF1g/u7mTf_Yvbms/photo.jpg?sz=128", "display_name": "KG.", "link": "https://stackoverflow.com/users/7353183/kg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517901728, "creation_date": 1517901728, "question_id": 48637531, "link": "https://stackoverflow.com/questions/48637531/notification-shows-android-icon-instead-of-app-icon-when-app-is-inactive", "title": "Notification shows android icon instead of app icon when app is inactive", "body": "<p>I followed the default firebase guide for setting up android push notifications, but the notification shows android icon when the app is inactive in api 26, when active it shows the app icon, also no notification is shown in redmi note 4 device.</p>\n\n<p>Using this guide converted to kotlin :<a href=\"https://firebase.google.com/docs/cloud-messaging/android/client\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/android/client</a></p>\n"}, {"tags": ["java", "kotlin", "undefined"], "comments": [{"owner": {"reputation": 388, "user_id": 2258862, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/gDMi4.jpg?s=128&g=1", "display_name": "Hassan", "link": "https://stackoverflow.com/users/2258862/hassan"}, "edited": false, "score": 0, "creation_date": 1517901000, "post_id": 48637220, "comment_id": 84270938, "body": "could the down-voter explain his view point i&#39;ll be happy to hear it"}, {"owner": {"reputation": 42524, "user_id": 936832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1da0368f0874a66bd771c4d57f94b0?s=128&d=identicon&r=PG", "display_name": "Ingo Kegel", "link": "https://stackoverflow.com/users/936832/ingo-kegel"}, "edited": false, "score": 2, "creation_date": 1517906706, "post_id": 48637220, "comment_id": 84273799, "body": "Have an upvote. It seems that there are some people on SO who systematically downvote Kotlin questions"}], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 2258862, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/gDMi4.jpg?s=128&g=1", "display_name": "Hassan", "link": "https://stackoverflow.com/users/2258862/hassan"}, "edited": false, "score": 1, "creation_date": 1517904082, "post_id": 48637942, "comment_id": 84272496, "body": "So it&#39;s not <code>&#39;Don&#39;t use null&#39;</code> its <code>&#39;it&#39;s safe now to use null&#39;</code>"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1517910533, "post_id": 48637942, "comment_id": 84276341, "body": "Even though it&#39;s safe to use nulls, your code will probably look better if you avoid using it when you can. For example when the property has a good default value."}], "tags": [], "owner": {"reputation": 784, "user_id": 7059880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vlgT.jpg?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/7059880/marcel"}, "is_accepted": true, "score": 7, "last_activity_date": 1517903356, "creation_date": 1517903356, "answer_id": 48637942, "question_id": 48637220, "link": "https://stackoverflow.com/questions/48637220/kotlin-representing-an-undefined-yet-value/48637942#48637942", "title": "Kotlin, representing an undefined yet value", "body": "<blockquote>\n  <p>So the big thing about Kotlin that it forces you to not implement the null idea in your project.</p>\n</blockquote>\n\n<p>No. The \"Null Safety\" concept in Kotlin does not mean do eliminate all null values. Actually, even exactly the contrary: you can now safely use null values. The idea is to prevent calls on null references at <em>runtime</em>. To achieve this, Kotlin forces you to deal with potential null values at <em>compile time</em>.</p>\n\n<blockquote>\n  <p>i can simply use the ? on the variables types and check if it's null\n  but that's against the whole idea of getting rid of Null Pointer\n  Exception</p>\n</blockquote>\n\n<p>The architects of Kotlin have put a lot of effort into the concept of \"?\". The nullable type is intended to define an undefined state. And because it is now safe to use null values, there are concepts like <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls).\" rel=\"noreferrer\">Safe Calls</a>, <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"noreferrer\">Elvis Operator</a> or <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-casts\" rel=\"noreferrer\">Safe Casts</a> to handle null values efficiently (and not just put <code>if (a != null)</code> around it).</p>\n"}, {"tags": [], "owner": {"reputation": 5624, "user_id": 3487617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3d54c70f0272d988d1b6372b2bcca06?s=128&d=identicon&r=PG", "display_name": "Hank D", "link": "https://stackoverflow.com/users/3487617/hank-d"}, "is_accepted": false, "score": 2, "last_activity_date": 1517929433, "last_edit_date": 1517929433, "creation_date": 1517927462, "answer_id": 48645376, "question_id": 48637220, "link": "https://stackoverflow.com/questions/48637220/kotlin-representing-an-undefined-yet-value/48645376#48645376", "title": "Kotlin, representing an undefined yet value", "body": "<p>The idiomatic way to deal with the absence of a value is to use null and null-safe operations.  That said, you <em>could</em> use java 8's <code>Optional</code>, but there is no reason to because the language provides equivalent functionality.  For example, you could do</p>\n\n<pre><code>val anOptional: Optional&lt;Foo&gt; = \n   Optional.ofNullable(expr)                 // start with a nullable value\n      .map { o -&gt; someExpression }           // map\n      .filter { o -&gt; aBooleanExpression }    // filter\n      .orElse(aDefaultValue)                 // default if empty\n</code></pre>\n\n<p>But kotlin offers the same functionality using null-safe operations:</p>\n\n<pre><code>val aNullable: Foo? = \n   expr                                      // start with a nullable value\n      ?.let { o -&gt; someExpression }          // map\n      ?.takeIf { aBooleanExpression }        // filter\n      ?: aDefaultValue                       // default if null\n</code></pre>\n"}], "owner": {"reputation": 388, "user_id": 2258862, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/gDMi4.jpg?s=128&g=1", "display_name": "Hassan", "link": "https://stackoverflow.com/users/2258862/hassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 893, "favorite_count": 0, "accepted_answer_id": 48637942, "answer_count": 2, "score": 4, "last_activity_date": 1582893067, "creation_date": 1517900571, "last_edit_date": 1582893067, "question_id": 48637220, "link": "https://stackoverflow.com/questions/48637220/kotlin-representing-an-undefined-yet-value", "title": "Kotlin, representing an undefined yet value", "body": "<p>So the big thing about <code>Kotlin</code> that it forces you to <em>not</em> implement the <code>null</code> idea in your project.</p>\n\n<p>what is the replacement of the <code>null</code> idea then, if for example you have to create a new object <code>Foo()</code> then fill in it's properties <em>(like filling a form for example)</em>\n<code>foo.name = \"foo\"</code>, <code>foo.age = 10</code>, <em>etc...</em>\n<br> then check which fields have not been assigned with a value and warn the user to fill it in.</p>\n\n<p>i can simply use the <code>?</code> on the variables types and check if it's null but that's against the whole idea of <strong>getting rid of <code>Null Pointer Exception</code></strong>\n<br></p>\n\n<p>is there any good implementation of an <strong><em>undefined yet field</em></strong> in Kotlin .</p>\n"}, {"tags": ["java", "kotlin", "jetty", "ktor"], "comments": [{"owner": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "edited": false, "score": 0, "creation_date": 1517983454, "post_id": 48636944, "comment_id": 84311582, "body": "You need a fatjar (uberjar). How do you pack and run your app?"}, {"owner": {"reputation": 333, "user_id": 7117772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ea010e73474cc9aff924b9fe33327f?s=128&d=identicon&r=PG&f=1", "display_name": "javajared", "link": "https://stackoverflow.com/users/7117772/javajared"}, "reply_to_user": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "edited": false, "score": 0, "creation_date": 1518015982, "post_id": 48636944, "comment_id": 84331624, "body": "@SergeyMashkov I currently use shadowJar to package up my fat jar. (I added my gradle build script above)"}], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 3486801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/692d25ae0b871d8d75155ecf69946b08?s=128&d=identicon&r=PG", "display_name": "dominic.e", "link": "https://stackoverflow.com/users/3486801/dominic-e"}, "edited": false, "score": 0, "creation_date": 1532422461, "post_id": 48698984, "comment_id": 89957179, "body": "You&#39;re my hero :D Thank you"}, {"owner": {"reputation": 317, "user_id": 1608520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MvZT1.jpg?s=128&g=1", "display_name": "Anatoly D.", "link": "https://stackoverflow.com/users/1608520/anatoly-d"}, "edited": false, "score": 2, "creation_date": 1559800104, "post_id": 48698984, "comment_id": 99533838, "body": "I use <code>build.gradle.kts</code> and it took me a while to find out the missing part (<code>mergeServiceFiles()</code> of the ShadowJar task):  <code>kotlin import com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar plugins {     application     kotlin(&quot;jvm&quot;) version &quot;1.3.31&quot;     id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;5.0.0&quot; }  ...  tasks.withType&lt;ShadowJar&gt; {     mergeServiceFiles() } </code>"}, {"owner": {"reputation": 606, "user_id": 5810883, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f23ad2702868e59cb84c842714957377?s=128&d=identicon&r=PG", "display_name": "Peroxy", "link": "https://stackoverflow.com/users/5810883/peroxy"}, "edited": false, "score": 0, "creation_date": 1603392490, "post_id": 48698984, "comment_id": 114031061, "body": "Wow, thanks so much.. I have no idea how you found this solution.. good job"}], "tags": [], "owner": {"reputation": 333, "user_id": 7117772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ea010e73474cc9aff924b9fe33327f?s=128&d=identicon&r=PG&f=1", "display_name": "javajared", "link": "https://stackoverflow.com/users/7117772/javajared"}, "is_accepted": true, "score": 12, "last_activity_date": 1518152297, "creation_date": 1518152297, "answer_id": 48698984, "question_id": 48636944, "link": "https://stackoverflow.com/questions/48636944/how-to-avoid-a-java-lang-exceptionininitializererror-when-trying-to-run-a-ktor-a/48698984#48698984", "title": "How to avoid a java.lang.ExceptionInInitializerError when trying to run a Ktor app via an embedded Jetty server?", "body": "<p>Add the following to your Gradle build script:</p>\n\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.transformers.ServiceFileTransformer\nshadowJar {\n    transform(ServiceFileTransformer) {\n        path = 'META-INF/services'\n        include 'org.eclipse.jetty.http.HttpFieldPreEncoder'\n    }\n}\n</code></pre>\n\n<p>I ending up finding out that shadowJar was not by-default merging my \"META-INF\" files together. This was a problem because when the Jetty server starts up, it references \"META-INF/services/org.eclipse.jetty.http.HttpFieldPreEncoder\" to load the correct HttpField encoders. Since my service files were not being merged correctly, only the Http2 encoder was loaded. This in turn caused the JVM to throw an java.lang.ExceptionInInitializerError error while Jetty was trying to statically initialize PreEncodedHttpField, which in turn led to a NoClassDefError in Jetty's HttpConnection</p>\n\n<p>I found hints from <a href=\"https://github.com/eclipse/jetty.project/issues/2048\" rel=\"noreferrer\">here</a> and <a href=\"https://discuss.gradle.org/t/how-do-i-use-the-gradle-shadow-plugin-to-merge-spring-handlers-and-spring-schemas-files-of-multiple-spring-jar-dependencies/6713/2\" rel=\"noreferrer\">here</a></p>\n"}], "owner": {"reputation": 333, "user_id": 7117772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ea010e73474cc9aff924b9fe33327f?s=128&d=identicon&r=PG&f=1", "display_name": "javajared", "link": "https://stackoverflow.com/users/7117772/javajared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1516, "favorite_count": 0, "accepted_answer_id": 48698984, "answer_count": 1, "score": 6, "last_activity_date": 1518152297, "creation_date": 1517899290, "last_edit_date": 1518015936, "question_id": 48636944, "link": "https://stackoverflow.com/questions/48636944/how-to-avoid-a-java-lang-exceptionininitializererror-when-trying-to-run-a-ktor-a", "title": "How to avoid a java.lang.ExceptionInInitializerError when trying to run a Ktor app via an embedded Jetty server?", "body": "<p>I am running my Ktor web app via an embedded Jetty server. The app works just fine inside the IDE. However, once I package it up with shadowJar and run the resulting fat jar, the Jetty server runs into a NoClassDefFoundError. I believe the NoClassDefFoundError is caused by an ExceptionInInitializerError that is occurring because of an ArrayIndexOutOfBoundsException inside of Jetty's static intialization inside of PreEncodedHttpField. How is it that this error doesn't occur inside the IDE? How can I avoid it when running the Ktor app from the fat jar?</p>\n\n<pre><code>02-06-2018 00:27:59.093 [qtp859617558-17] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpConnection\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:128)\nat org.eclipse.jetty.util.thread.Invocable$InvocableExecutor.invoke(Invocable.java:222)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:294)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:126)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\n02-06-2018 00:27:59.093 [qtp859617558-24] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpConnection\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\n02-06-2018 00:27:59.099 [qtp859617558-26] DEBUG org.eclipse.jetty.io.IdleTimeout - SocketChannelEndPoint@2d8b0948{/0:0:0:0:0:0:0:1:50406&lt;-&gt;/0:0:0:0:0:0:0:1:9000,OPEN,fill=-,flush=-,to=10/30000}{io=0/0,kio=0,kro=0}-&gt;&lt;null&gt; idle timeout check, elapsed: 6 ms, remaining: 29994 ms\n02-06-2018 00:27:59.099 [qtp859617558-17] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpConnection\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:128)\nat org.eclipse.jetty.util.thread.Invocable$InvocableExecutor.invoke(Invocable.java:222)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:294)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:126)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\n02-06-2018 00:27:59.099 [qtp859617558-24] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpConnection\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\n02-06-2018 00:27:59.099 [qtp859617558-26] DEBUG o.eclipse.jetty.io.AbstractEndPoint - onOpen SocketChannelEndPoint@2d8b0948{/0:0:0:0:0:0:0:1:50406&lt;-&gt;/0:0:0:0:0:0:0:1:9000,OPEN,fill=-,flush=-,to=15/30000}{io=0/0,kio=0,kro=0}-&gt;&lt;null&gt;\n02-06-2018 00:27:59.099 [qtp859617558-17] DEBUG o.e.j.u.t.Invocable$InvocableExecutor - org.eclipse.jetty.util.thread.Invocable$InvocableExecutor@4dfc073a invoked org.eclipse.jetty.io.ManagedSelector$CreateEndPoint@543935e4\n02-06-2018 00:27:59.099 [qtp859617558-24] DEBUG o.e.j.util.thread.QueuedThreadPool - ran org.eclipse.jetty.io.ManagedSelector$CreateEndPoint@5689f60\n02-06-2018 00:27:59.099 [qtp859617558-17] DEBUG o.e.j.u.t.strategy.EatWhatYouKill - EatWhatYouKill@707b1a44/org.eclipse.jetty.io.ManagedSelector$SelectorProducer@7132a9dc/PRODUCING/1/1 produce exit\n02-06-2018 00:27:59.099 [qtp859617558-26] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpConnection\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\n02-06-2018 00:27:59.099 [qtp859617558-17] DEBUG o.e.j.util.thread.QueuedThreadPool - ran org.eclipse.jetty.io.ManagedSelector$$Lambda$26/86506638@2c7106d9\n02-06-2018 00:27:59.100 [qtp859617558-26] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpConnection\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\n02-06-2018 00:27:59.100 [qtp859617558-26] DEBUG o.e.j.util.thread.QueuedThreadPool - ran org.eclipse.jetty.io.ManagedSelector$CreateEndPoint@5ce56a5a\n02-06-2018 00:27:59.093 [qtp859617558-20] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpConnection\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\n02-06-2018 00:27:59.095 [qtp859617558-22] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.ExceptionInInitializerError: null\nat org.eclipse.jetty.server.HttpConnection.&lt;clinit&gt;(HttpConnection.java:54)\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 1\nat org.eclipse.jetty.http.PreEncodedHttpField.&lt;clinit&gt;(PreEncodedHttpField.java:71)\n... 9 common frames omitted\n02-06-2018 00:27:59.094 [qtp859617558-23] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpConnection\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\n02-06-2018 00:27:59.102 [qtp859617558-23] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpConnection\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\n02-06-2018 00:27:59.102 [qtp859617558-23] DEBUG o.e.j.util.thread.QueuedThreadPool - ran org.eclipse.jetty.io.ManagedSelector$CreateEndPoint@752bc090\n02-06-2018 00:27:59.102 [qtp859617558-20] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpConnection\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\n02-06-2018 00:27:59.102 [qtp859617558-20] DEBUG o.e.j.util.thread.QueuedThreadPool - ran org.eclipse.jetty.io.ManagedSelector$CreateEndPoint@1985be4c\n02-06-2018 00:27:59.103 [qtp859617558-22] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.ExceptionInInitializerError: null\nat org.eclipse.jetty.server.HttpConnection.&lt;clinit&gt;(HttpConnection.java:54)\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 1\nat org.eclipse.jetty.http.PreEncodedHttpField.&lt;clinit&gt;(PreEncodedHttpField.java:71)\n... 9 common frames omitted\n02-06-2018 00:27:59.103 [qtp859617558-22] DEBUG o.e.j.util.thread.QueuedThreadPool - ran org.eclipse.jetty.io.ManagedSelector$CreateEndPoint@3416caab\n02-06-2018 00:27:59.103 [qtp859617558-18-acceptor-0@178f268a-ServerConnector@cfbc8e8{HTTP/1.1,[http/1.1, h2c]}{0.0.0.0:9000}] DEBUG org.eclipse.jetty.io.ManagedSelector - Queued change org.eclipse.jetty.io.ManagedSelector$Accept@6cf5cd13 on org.eclipse.jetty.io.ManagedSelector@440e3ce6 id=0 keys=1 selected=0\n02-06-2018 00:27:59.108 [qtp859617558-16] DEBUG org.eclipse.jetty.io.ManagedSelector - Selector loop woken up from select, 0/0 selected\n02-06-2018 00:27:59.108 [qtp859617558-16] DEBUG org.eclipse.jetty.io.ManagedSelector - Running action org.eclipse.jetty.io.ManagedSelector$Accept@6cf5cd13\n02-06-2018 00:27:59.108 [qtp859617558-16] DEBUG org.eclipse.jetty.io.ManagedSelector - Queued change org.eclipse.jetty.io.ManagedSelector$CreateEndPoint@44ae85a2 on org.eclipse.jetty.io.ManagedSelector@440e3ce6 id=0 keys=1 selected=0\n02-06-2018 00:27:59.108 [qtp859617558-16] DEBUG o.e.j.u.t.strategy.EatWhatYouKill - EatWhatYouKill@3e67f5f2/org.eclipse.jetty.io.ManagedSelector$SelectorProducer@fd53053/PRODUCING/1/1-&gt;IDLE/0/1 EPC! org.eclipse.jetty.io.ManagedSelector$CreateEndPoint@44ae85a2\n02-06-2018 00:27:59.109 [qtp859617558-19] DEBUG o.e.j.u.t.strategy.EatWhatYouKill - EatWhatYouKill@3e67f5f2/org.eclipse.jetty.io.ManagedSelector$SelectorProducer@fd53053/PRODUCING/0/1 produce non-blocking\n02-06-2018 00:27:59.109 [qtp859617558-19] DEBUG org.eclipse.jetty.io.ManagedSelector - Selector loop waiting on select\n02-06-2018 00:27:59.109 [qtp859617558-16] DEBUG o.e.j.util.thread.QueuedThreadPool - queue EatWhatYouKill@3e67f5f2/org.eclipse.jetty.io.ManagedSelector$SelectorProducer@fd53053/PRODUCING/0/1\n02-06-2018 00:27:59.109 [qtp859617558-16] DEBUG o.e.j.u.t.Invocable$InvocableExecutor - org.eclipse.jetty.util.thread.Invocable$InvocableExecutor@5ba4a467 invoke  org.eclipse.jetty.io.ManagedSelector$CreateEndPoint@44ae85a2\n02-06-2018 00:27:59.109 [qtp859617558-16] DEBUG org.eclipse.jetty.io.IdleTimeout - SocketChannelEndPoint@56d0b70c{/0:0:0:0:0:0:0:1:50414&lt;-&gt;/0:0:0:0:0:0:0:1:9000,OPEN,fill=-,flush=-,to=0/30000}{io=0/0,kio=0,kro=0}-&gt;&lt;null&gt; idle timeout check, elapsed: 0 ms, remaining: 30000 ms\n02-06-2018 00:27:59.110 [qtp859617558-16] DEBUG o.eclipse.jetty.io.AbstractEndPoint - onOpen SocketChannelEndPoint@56d0b70c{/0:0:0:0:0:0:0:1:50414&lt;-&gt;/0:0:0:0:0:0:0:1:9000,OPEN,fill=-,flush=-,to=0/30000}{io=0/0,kio=0,kro=0}-&gt;&lt;null&gt;\n02-06-2018 00:27:59.110 [qtp859617558-16] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpConnection\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:128)\nat org.eclipse.jetty.util.thread.Invocable$InvocableExecutor.invoke(Invocable.java:222)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:294)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:126)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\n02-06-2018 00:27:59.113 [qtp859617558-26] DEBUG o.e.j.util.thread.QueuedThreadPool - run EatWhatYouKill@3e67f5f2/org.eclipse.jetty.io.Man053/PRODUCING/0/1\n02-06-2018 00:27:59.113 [qtp859617558-26] DEBUG o.e.j.u.t.strategy.EatWhatYouKill - EatWhatYouKill@3e67f5f2/org.eclipse.jetty.io.ManagedSRODUCING/0/1 run\n02-06-2018 00:27:59.116 [qtp859617558-16] DEBUG org.eclipse.jetty.io.ManagedSelector -\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpConnection\nat org.eclipse.jetty.server.HttpConnectionFactory.newConnection(HttpConnectionFactory.java:85)\nat org.eclipse.jetty.server.ServerConnector$ServerConnectorManager.newConnection(ServerConnector.java:482)\nat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:424)\nat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:61)\nat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:603)\nat org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:128)\nat org.eclipse.jetty.util.thread.Invocable$InvocableExecutor.invoke(Invocable.java:222)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:294)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:126)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\nat java.lang.Thread.run(Thread.java:748)\n02-06-2018 00:27:59.119 [qtp859617558-16] DEBUG o.e.j.u.t.Invocable$InvocableExecutor - org.eclipse.jetty.util.thread.Invocable$Invocablepse.jetty.io.ManagedSelector$CreateEndPoint@44ae85a2\n02-06-2018 00:27:59.119 [qtp859617558-16] DEBUG o.e.j.u.t.strategy.EatWhatYouKill - EatWhatYouKill@3e67f5f2/org.eclipse.jetty.io.ManagedSRODUCING/1/1 produce exit\n02-06-2018 00:27:59.119 [qtp859617558-16] DEBUG o.e.j.util.thread.QueuedThreadPool - ran org.eclipse.jetty.io.ManagedSelector$$Lambda$26/\n</code></pre>\n\n<p>My gradle file:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.21'\n    ext.ktorVersion = '0.9.1'\n\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"com.github.jengelman.gradle.plugins:shadow:2.0.2\"\n    }\n}\n\napply plugin: 'com.github.johnrengelman.shadow'\napply plugin: 'java'\napply plugin: 'kotlin'\napply plugin: 'application'\n\nmainClassName = 'routing.MainKt'\nshadowJar {\n    baseName = 'baseName'\n    classifier = null\n    version = null\n}\n\nsourceCompatibility = 1.8\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\nkotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n\nrepositories {\n    mavenCentral()\n    jcenter()\n    maven { url \"https://dl.bintray.com/kotlin/kotlinx\" }\n    maven { url \"https://dl.bintray.com/kotlin/ktor\" }\n    maven { url \"https://oss.sonatype.org/content/repositories/snapshots\" }\n}\n\ndependencies {\n    // Core Kotlin libs\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    implementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n\n    // Core Ktor libs\n    def withoutKotlin = {\n        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jdk8'\n        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jdk7'\n        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-reflect'\n        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jre8'\n        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jre7'\n    }\n    implementation \"io.ktor:ktor-server-core:$ktorVersion\", withoutKotlin\n    implementation \"io.ktor:ktor-server-netty:$ktorVersion\", withoutKotlin\n    implementation \"io.ktor:ktor-freemarker:$ktorVersion\", withoutKotlin\n    implementation \"io.ktor:ktor-locations:$ktorVersion\", withoutKotlin\n\n    .... More dependencies\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "build.gradle", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 445, "user_id": 7444617, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/26809d6695e09bbdbca6cd925a87079e?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/7444617/praveen"}, "is_accepted": true, "score": 3, "last_activity_date": 1517910100, "creation_date": 1517910100, "answer_id": 48639831, "question_id": 48636656, "link": "https://stackoverflow.com/questions/48636656/java-and-kotlin-combined-build-error-duplicate-zip-entry/48639831#48639831", "title": "Java and Kotlin combined build error (Duplicate Zip Entry)", "body": "<p>Atlast I found the answer, it was due to duplicate entry to annotation which can be solved by using the below lines in the gradle.</p>\n\n<pre><code>configurations {\n        compile.exclude group : 'org.jetbrains' , module : 'annotations'\n}\n</code></pre>\n"}], "owner": {"reputation": 445, "user_id": 7444617, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/26809d6695e09bbdbca6cd925a87079e?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/7444617/praveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 711, "favorite_count": 2, "accepted_answer_id": 48639831, "answer_count": 1, "score": 5, "last_activity_date": 1529644465, "creation_date": 1517898043, "last_edit_date": 1529644465, "question_id": 48636656, "link": "https://stackoverflow.com/questions/48636656/java-and-kotlin-combined-build-error-duplicate-zip-entry", "title": "Java and Kotlin combined build error (Duplicate Zip Entry)", "body": "<p>I have added Kotlin library to my existing project. After that I'm getting the build error. I commented all the recently added libraries and checked the main problem is after adding kotlin library</p>\n\n<pre><code>Error:Execution failed for task ':app:transformClassesWithMultidexlistForDebug'.\n&gt; java.io.IOException: Can't write [/home/imedrix-server/StudioProjects/kardioscreen-operatorapp/app/build/intermediates/multi-dex/debug/componentClasses.jar] (Can't read [/home/imedrix-server/StudioProjects/kardioscreen-operatorapp/app/build/intermediates/transforms/desugar/debug/76.jar(;;;;;;**.class)] (Duplicate zip entry [76.jar:org/intellij/lang/annotations/Flow.class]))\n</code></pre>\n\n<p>Project gradle</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.21'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath 'com.google.gms:google-services:3.0.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath ('com.google.firebase:firebase-plugins:1.0.5') {\n            exclude group: 'com.google.guava', module: 'guava-jdk5'\n        }\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven {url \"https://maven.google.com\"}\n    }\n}\n</code></pre>\n\n<p>And the app gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'com.google.firebase.firebase-crash'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 27\n    buildToolsVersion '27.0.3'\n    defaultConfig {\n        applicationId 'com.example.android'\n        minSdkVersion 20\n        targetSdkVersion 27\n        versionCode 17\n        versionName \"1.0\"\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n//            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            buildConfigField(\"String\", \"BASE_URL\", \"\\\"url\\\"\")\n            buildConfigField(\"String\", \"API_KEY\", \"\\\"key\\\"\")\n        }\n    }\n\n    productFlavors {\n    }\n    dexOptions {\n        preDexLibraries = false\n        javaMaxHeapSize \"4g\"\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    packagingOptions {\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n        exclude '.readme'\n    }\n}\n\n\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile project(':controllers')\n    compile files('libs/achartengine-1.2.0.jar')\n    compile files('libs/dfuLibrary.jar')\n    compile 'com.android.support:appcompat-v7:27.0.2'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    compile 'com.android.support:design:27.0.2'\n    compile 'com.android.support:recyclerview-v7:27.0.2'\n    compile 'com.android.support:cardview-v7:27.0.2'\n    compile 'com.polidea.rxandroidble:rxandroidble:1.0.2'\n    compile 'com.google.firebase:firebase-crash:11.8.0'\n    compile 'com.android.support.constraint:constraint-layout:1.1.0-beta4'\n    compile 'com.android.support:support-v4:27.0.2'\n    compile 'com.google.android.gms:play-services-location:11.8.0'\n    compile 'com.jakewharton:butterknife:8.8.1'\n    testCompile 'junit:junit:4.12'\n    /*compile 'org.hashids:hashids:1.0.3'\n        compile 'com.google.dagger:dagger:2.11'\n        compile 'javax.inject:javax.inject:1'\n        kapt 'com.google.dagger:dagger-compiler:2.11'\n        compile 'io.reactivex.rxjava2:rxjava:2.1.3'\n        compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n        kapt 'com.jakewharton:butterknife-compiler:8.8.1'\n        compile 'com.amitshekhar.android:rx2-android-networking:1.0.0'\n        compile 'com.android.support:multidex:1.0.2'*/\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>If I remove the below line from the app gradle everything works fine. But if I add the kotlin library I'm getting the error.</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n</code></pre>\n\n<p>How can I use the kotlin and Java together.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1346, "user_id": 4762767, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0IULzhgtmJs/AAAAAAAAAAI/AAAAAAAAADw/xAVDK9carFA/photo.jpg?sz=128", "display_name": "Akshay Katariya", "link": "https://stackoverflow.com/users/4762767/akshay-katariya"}, "edited": false, "score": 0, "creation_date": 1517895309, "post_id": 48636085, "comment_id": 84268775, "body": "show us your code, let us see what you have tried"}, {"owner": {"reputation": 1346, "user_id": 4762767, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0IULzhgtmJs/AAAAAAAAAAI/AAAAAAAAADw/xAVDK9carFA/photo.jpg?sz=128", "display_name": "Akshay Katariya", "link": "https://stackoverflow.com/users/4762767/akshay-katariya"}, "edited": false, "score": 0, "creation_date": 1517895675, "post_id": 48636085, "comment_id": 84268910, "body": "It&#39;s simple then, inside your <code>Buttons</code> click listener call this <code>isFbAppInstalled()</code> if it returns true open facebook via intent"}, {"owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "reply_to_user": {"reputation": 1346, "user_id": 4762767, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0IULzhgtmJs/AAAAAAAAAAI/AAAAAAAAADw/xAVDK9carFA/photo.jpg?sz=128", "display_name": "Akshay Katariya", "link": "https://stackoverflow.com/users/4762767/akshay-katariya"}, "edited": false, "score": 0, "creation_date": 1517895780, "post_id": 48636085, "comment_id": 84268947, "body": "that&#39;s the problem whose am facing am not able to launch fb app on click. it&#39;s show white screen only.  if (isFbAppInstalled()){                 val intent = Intent(&quot;android.intent.category.LAUNCHER&quot;)                 intent.setClassName(&quot;com.facebook.katana&quot;, &quot;com.facebook.katana.LoginActivity&quot;)                 startActivity(intent)             }"}], "answers": [{"tags": [], "owner": {"reputation": 2585, "user_id": 3682535, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c5992eaa2f85ec0f6eda179ae77947ec?s=128&d=identicon&r=PG", "display_name": "rupinderjeet", "link": "https://stackoverflow.com/users/3682535/rupinderjeet"}, "is_accepted": false, "score": 1, "last_activity_date": 1517896432, "creation_date": 1517896432, "answer_id": 48636325, "question_id": 48636085, "link": "https://stackoverflow.com/questions/48636085/how-to-launch-facebook-app-or-facebook-lite-app-on-button-click-if-installed-oth/48636325#48636325", "title": "how to Launch Facebook app or Facebook Lite app on button click if installed otherwise open FB url?", "body": "<p>This works for me, tested now.</p>\n\n<pre><code>if (isFbAppInstalled()) {\n\n    String uri = \"facebook:/newsfeed\";\n    Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(uri));\n    startActivity(intent);\n}\n</code></pre>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/6638342/3682535\">List of available URIs</a></li>\n<li><a href=\"https://stackoverflow.com/a/4191847/3682535\">Source</a></li>\n</ul>\n"}], "owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517896432, "creation_date": 1517895149, "last_edit_date": 1517895417, "question_id": 48636085, "link": "https://stackoverflow.com/questions/48636085/how-to-launch-facebook-app-or-facebook-lite-app-on-button-click-if-installed-oth", "title": "how to Launch Facebook app or Facebook Lite app on button click if installed otherwise open FB url?", "body": "<p>i want to launch Facebook app or Facebook Lite app on button click if installed otherwise open <a href=\"https://www.facebook.com/\" rel=\"nofollow noreferrer\">https://www.facebook.com/</a> url in browser.\ni have a code to know apps installed or not in device but i am facing a problem to launch any app if available on button click. Please provide me any best solution without Facebook SDK integration. </p>\n\n<pre><code>private fun isFbAppInstalled():Boolean{\n    try {\n        val info = activity!!.getPackageManager().getApplicationInfo(\"com.facebook.katana\", 0)\n        return true\n    } catch (e: PackageManager.NameNotFoundException) {\n        return false\n    }\n\n}\n</code></pre>\n"}, {"tags": ["multithreading", "kotlin", "runnable"], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 7573184, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mKjSFqy_4cE/AAAAAAAAAAI/AAAAAAAAABI/SRc0SrUd0KY/photo.jpg?sz=128", "display_name": "Samrat", "link": "https://stackoverflow.com/users/7573184/samrat"}, "edited": false, "score": 0, "creation_date": 1517897490, "post_id": 48636328, "comment_id": 84269569, "body": "I understood that doAsync is fairly simple to use...  Ok so doAsync will be better here, than the current thread logic that i wrote??? .... is that what you mean?...  My current code is working fine...but i don&#39;t know if its the correct/good way..."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 145, "user_id": 7573184, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mKjSFqy_4cE/AAAAAAAAAAI/AAAAAAAAABI/SRc0SrUd0KY/photo.jpg?sz=128", "display_name": "Samrat", "link": "https://stackoverflow.com/users/7573184/samrat"}, "edited": false, "score": 0, "creation_date": 1517897566, "post_id": 48636328, "comment_id": 84269594, "body": "I have updated the answer with more details, you will find answer of this question there."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1517918895, "post_id": 48636328, "comment_id": 84281874, "body": "Although experimental, coroutines are in production-ready state, as explained <a href=\"https://stackoverflow.com/questions/46240236/can-experimental-kotlin-coroutines-be-used-in-production\">here</a>. I use them in my Android project and have never experienced any issues. I would warmly recommend using them over this callback-based API."}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 10, "last_activity_date": 1589175707, "last_edit_date": 1589175707, "creation_date": 1517896441, "answer_id": 48636328, "question_id": 48636001, "link": "https://stackoverflow.com/questions/48636001/without-asynctask-running-a-thread-in-background-and-updating-the-ui-thread/48636328#48636328", "title": "Without AsyncTask, running a thread in background and updating the UI Thread", "body": "<p><strong>Updated</strong></p>\n\n<p>Coroutines are stable now,: <a href=\"https://kotlinlang.org/docs/reference/coroutines-overview.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coroutines-overview.html</a> </p>\n\n<hr>\n\n<p><strong>Old Answer</strong></p>\n\n<p>Yes, you can do this using <code>doAsync</code> from kotlin anko library that is fairly simple and easy to use.</p>\n\n<p>add following line in module level gradle file:</p>\n\n<pre><code>compile \"org.jetbrains.anko:anko-commons:0.10.0\"\n</code></pre>\n\n<p>Code example:</p>\n\n<pre><code>val future = doAsync {\n    // do your background thread task\n    result = someTask()\n\n    uiThread {\n        // use result here if you want to update ui\n        updateUI(result)\n    }\n}\n</code></pre>\n\n<p>code block written in <code>uiThread</code> will only be executed if your Activity or Fragment is in foreground mode (It is lifecycle aware). So if you are trying to stop thread because you don't want your ui code to execute when Activity is in background, then this is an ideal case for you.</p>\n\n<p>As you can check <code>doAsync</code> returns a Future object so you can cancel the background task, by <code>cancel()</code> function: </p>\n\n<pre><code>future.cancel(true)\n</code></pre>\n\n<p>pass <code>true</code> if you want to stop the thread even when it has started executing.</p>\n\n<p>If you have more specialised case to handle stopping case then you can do the same thing as in your example.</p>\n\n<p>You can use <strong>Kotlin Coroutines</strong> also but its in Experimental phase, still you can try it out: <a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coroutines.html</a></p>\n"}], "owner": {"reputation": 145, "user_id": 7573184, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mKjSFqy_4cE/AAAAAAAAAAI/AAAAAAAAABI/SRc0SrUd0KY/photo.jpg?sz=128", "display_name": "Samrat", "link": "https://stackoverflow.com/users/7573184/samrat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7873, "favorite_count": 1, "accepted_answer_id": 48636328, "answer_count": 1, "score": 4, "last_activity_date": 1589175707, "creation_date": 1517894662, "question_id": 48636001, "link": "https://stackoverflow.com/questions/48636001/without-asynctask-running-a-thread-in-background-and-updating-the-ui-thread", "title": "Without AsyncTask, running a thread in background and updating the UI Thread", "body": "<p>I was trying to update the recycler view content from a background thread in Kotlin. I am not using AsyncTask.</p>\n\n<p>Here is my code, i want to know if there is any better way than this:</p>\n\n<p>In my MainActivity, i have progressThread as a member variable.</p>\n\n<pre><code> var progressThread = Thread()\n</code></pre>\n\n<p>Then in my method where i want to run the thread first i am defining it...like</p>\n\n<pre><code>        progressThread = Thread (\n    Runnable {\n        kotlin.run {\n            try {\n            while (i &lt;= 100 &amp;&amp; !progressThread.isInterrupted) {\n                Thread.sleep(200)\n                //Some Logic\n                runOnUiThread {\n                    //this runs in ui thread\n\n                }\n                i++\n            }\n            }catch (e:InterruptedException){\n                progressThread.interrupt()\n            }\n        }\n    })\n</code></pre>\n\n<p>after that i am starting it in the same method as</p>\n\n<pre><code> progressThread.start()\n</code></pre>\n\n<p>and for stopping it, i have a listener to cancel the progress and in the callback of that listener, i have written:</p>\n\n<pre><code> progressThread.interrupt()\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 43, "user_id": 8068591, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HbxUn9JGnxM/AAAAAAAAAAI/AAAAAAAAABc/iER5PHI4SAc/photo.jpg?sz=128", "display_name": "\u8d75\u5c0f\u9c7c", "link": "https://stackoverflow.com/users/8068591/%e8%b5%b5%e5%b0%8f%e9%b1%bc"}, "edited": false, "score": 0, "creation_date": 1517898252, "post_id": 48635210, "comment_id": 84269821, "body": "<a href=\"https://discuss.kotlinlang.org/t/how-do-extension-functions-work/609\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/how-do-extension-functions-work/609</a>"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8068591, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HbxUn9JGnxM/AAAAAAAAAAI/AAAAAAAAABc/iER5PHI4SAc/photo.jpg?sz=128", "display_name": "\u8d75\u5c0f\u9c7c", "link": "https://stackoverflow.com/users/8068591/%e8%b5%b5%e5%b0%8f%e9%b1%bc"}, "edited": false, "score": 0, "creation_date": 1517971148, "post_id": 48641786, "comment_id": 84308275, "body": "Thanks a lot! Your answer really give me a deeper understanding of Extension fucntions."}], "tags": [], "owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "is_accepted": true, "score": 2, "last_activity_date": 1517994883, "last_edit_date": 1517994883, "creation_date": 1517915927, "answer_id": 48641786, "question_id": 48635210, "link": "https://stackoverflow.com/questions/48635210/how-to-obtain-properties-or-function-declared-in-kotlin-extensions-by-java-refle/48641786#48641786", "title": "How to obtain Properties or Function declared in kotlin extensions by java reflection", "body": "<p>Extension functions and properties are not added to existing class for real. Kotlin compiler allows you to reference them AS IF they were a part of the class. </p>\n\n<p>If you write in Kotlin a function 'setPosition' in a Kotlin file named 'Funs.kt':</p>\n\n<pre><code>//in file Funs.kt\nfun View.setPosition(value: Int) {\n    //smth\n}\n</code></pre>\n\n<p>The compiler will make it a FunsKt.class with a static method 'setPosition' inside.</p>\n\n<pre><code>public final class FunsKt {\n\n    public static void setPosition(View $receiver, int value) {\n        //smth\n    }\n\n}\n</code></pre>\n\n<p>It is just Kotlin compiler magic that it allows you to use it as if it was a part of the View class (notice that because of that you cannot access private/protected values from extension funtions). From java you must use it as it is.</p>\n\n<p>To obtain Method setPosition do that:</p>\n\n<pre><code>Class c = Class.forName(\"[your package].[kotlin file name + \"Kt\"]\");\nMethod m = c.getMethod(\"setPosition\", View.class, int.class);\n</code></pre>\n\n<p>Extension properties work in a simmilar way. No real variable is created - only two static methods (getter and setter). These method don't have a real variable in which they store value, but they calculate this value on the go. You cannot obtain them as a Field object but you can get them as methods in the very same way as setPosition.</p>\n"}], "owner": {"reputation": 43, "user_id": 8068591, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HbxUn9JGnxM/AAAAAAAAAAI/AAAAAAAAABc/iER5PHI4SAc/photo.jpg?sz=128", "display_name": "\u8d75\u5c0f\u9c7c", "link": "https://stackoverflow.com/users/8068591/%e8%b5%b5%e5%b0%8f%e9%b1%bc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 0, "accepted_answer_id": 48641786, "answer_count": 1, "score": 4, "last_activity_date": 1517994883, "creation_date": 1517889169, "question_id": 48635210, "link": "https://stackoverflow.com/questions/48635210/how-to-obtain-properties-or-function-declared-in-kotlin-extensions-by-java-refle", "title": "How to obtain Properties or Function declared in kotlin extensions by java reflection", "body": "<p>If I declare an extension function or some Extension Properties in Kotlin like this</p>\n\n<pre><code>var View.newPosition: Int\n    get():Int {\n        return newPosition\n    }\n    set(value) {\n        this.newPosition=value\n        Log.e(\"test\",\"newPosition\"+newPosition)\n    }\n\n\nfun View.setPosition(value:Int ){\n    Log.e(\"test\", \"Position\" + value)\n}\n</code></pre>\n\n<p>Then I want to obtain them by Java reflection like this</p>\n\n<pre><code>    Class stuClass = null;\n    try {\n        stuClass = Class.forName(\"android.view.View\");\n    } catch (Exception e) {\n        Log.e(\"test\", e.toString());\n    }\n    Field f = null;\n    try {\n        f = stuClass.getField(\"newPosition\");\n    } catch (Exception e) {\n        Log.e(\"test\", e.toString());\n    }\n    Object obj = null;\n    try {\n        obj = stuClass.getConstructor().newInstance();\n    } catch (Exception e) {\n        Log.e(\"test\", e.toString());\n    }\n\n    try {\n        f.set(obj, 555);\n    } catch (Exception e) {\n        Log.e(\"test\", e.toString());\n    }\n\n    try {\n        Method setPosition = stuClass.getDeclaredMethod(\"setPosition\", int.class);\n        setPosition.setAccessible(true);\n        try {\n            setPosition.invoke(obj, 20);\n        } catch (Exception e) {\n            Log.e(\"test\", e.toString());\n        }\n\n    } catch (Exception e) {\n        Log.e(\"test\", e.toString());\n    }\n</code></pre>\n\n<p>But I just get some error says</p>\n\n<pre><code>NoSuchFieldException: newPosition\nNoSuchMethodException: &lt;init&gt; []\nNoSuchMethodException: setPosition [int]\n</code></pre>\n\n<p>So I'm wondering whether my code written in a wrong way or we can't get kotlin  extension Properties or Function by java reflection like common java method or field?</p>\n"}, {"tags": ["nullpointerexception", "kotlin", "lwjgl"], "answers": [{"comments": [{"owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "edited": false, "score": 0, "creation_date": 1517937285, "post_id": 48639793, "comment_id": 84294462, "body": "Thanks! I&#39;ll try it when I&#39;m available to test it. In the mean time, is the Lib you linked intended to be a full replacement for LWJGL, or a supplement?"}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "reply_to_user": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "edited": false, "score": 1, "creation_date": 1517939564, "post_id": 48639793, "comment_id": 84295750, "body": "Just a supplement"}], "tags": [], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "is_accepted": true, "score": 1, "last_activity_date": 1517909951, "creation_date": 1517909951, "answer_id": 48639793, "question_id": 48634696, "link": "https://stackoverflow.com/questions/48634696/npe-when-using-glfwwindowshouldclose-kotlin/48639793#48639793", "title": "NPE When Using glfwWindowShouldClose (Kotlin)", "body": "<p>You are missing some important calls, such as <code>GL.createCapabilities()</code></p>\n\n<p>I'd strongly suggest you to start from the HelloWord you find <a href=\"https://www.lwjgl.org/guide\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Ps: if you use kotlin, I have a <a href=\"https://github.com/kotlin-graphics/uno-sdk\" rel=\"nofollow noreferrer\">lib</a> that can give you a ready scenario in a couple of lines</p>\n\n<pre><code>with(glfw) {\n   init()\n   windowHint { context.version = \"3.3\"; profile = \"core\"; }\n}\nGlfwWindow(windowSize, title).apply { makeContextCurrent(); show(); }\nGL.createCapabilities()\n</code></pre>\n"}], "owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 48639793, "answer_count": 1, "score": 1, "last_activity_date": 1517909951, "creation_date": 1517885289, "question_id": 48634696, "link": "https://stackoverflow.com/questions/48634696/npe-when-using-glfwwindowshouldclose-kotlin", "title": "NPE When Using glfwWindowShouldClose (Kotlin)", "body": "<p>So I've just started on a basic LWJGL 3 program using this <a href=\"https://www.youtube.com/watch?v=i8vhMiai7QE\" rel=\"nofollow noreferrer\">tutorial</a>. I've converted all the code into Kotlin to make it work, and everything seemed to be fine. Until I got to the very end where he utilizes <code>glfwWindowShouldClose(window)</code>. I tried it the way he showed, and my own method of replacing the <code>running</code> variable with the function call itself. I even tried replacing it with <code>true</code>. Unfortunately, it doesn't appear to be working.</p>\n\n<p>To clarify, what I mean is that when I use <code>glfwWindowShouldClose(window)</code> anywhere in my project, any call to an LWJGL function results in an NPE, even functions that have nothing to do with it:</p>\n\n<pre><code>Exception in thread \"thingy\" java.lang.NullPointerException\n    at org.lwjgl.system.Checks.check(Checks.java:98)\n    at org.lwjgl.glfw.GLFW.glfwSwapBuffers(GLFW.java:4206)\n    at main.Window.render(main.kt:39)\n    at main.Window.run(main.kt:15)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>The code I used for this example of the error is here:</p>\n\n<pre><code>class Window: Runnable {\n    private val thread = Thread(this, \"thingy\")\n    private val window: Long\n\n    override fun run() {\n        while (true) {\n            update()\n            render()\n        }\n    }\n\n    init { thread.start(); window = init() }\n\n    private fun init(): Long {\n        if (!glfwInit()) System.err.println(\"Couldn't initialize GLFW.\")\n        glfwWindowHint(GLFW_RESIZABLE, 1)\n        val window = glfwCreateWindow(800, 600, \"thingy\", NULL, NULL)\n        if (window == NULL) System.err.println(\"Couldn't create a window.\")\n        val vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor())\n        glfwSetWindowPos(window, 100, 100)\n        glfwMakeContextCurrent(window)\n        glfwShowWindow(window)\n        return window\n    }\n\n    private fun update() { glfwPollEvents() }\n\n    private fun render() { glfwSwapBuffers(window) }\n}\n</code></pre>\n\n<p>If I remove the function call and replace it with <code>false</code> in the while statement, it works fine. Is it possible that the instance of my loop itself is causing problems, and the only way it doesn't throw an exception is if the loop never happens (<code>false</code>)?</p>\n"}, {"tags": ["node.js", "firebase", "kotlin", "google-cloud-functions", "kotlin-multiplatform"], "answers": [{"comments": [{"owner": {"reputation": 16132, "user_id": 560358, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/M4qx3.jpg?s=128&g=1", "display_name": "David V&#225;vra", "link": "https://stackoverflow.com/users/560358/david-v%c3%a1vra"}, "edited": false, "score": 0, "creation_date": 1517919842, "post_id": 48632499, "comment_id": 84282488, "body": "Thanks Doug. My situation is that the dependency (common-js.js) is generated during the build process by Kotlin Multiplatform, so it&#39;s not available publicly. Also the index.js file is generated from Kotlin and it loads the common module with <code>require(&#39;common-js&#39;)</code> which expects a node module. So the question is how to bundle the common-js.js file with the source so it behaves like a node module?"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 3, "last_activity_date": 1517869581, "creation_date": 1517869581, "answer_id": 48632499, "question_id": 48632397, "link": "https://stackoverflow.com/questions/48632397/how-to-include-simple-javascript-file-as-node-dependency-in-cloud-functions-for/48632499#48632499", "title": "How to include simple javascript file as node dependency in Cloud Functions for Firebase when using Kotlin multiplatform?", "body": "<p>Cloud Functions currently doesn't support the deployment of a fully-materialized <code>node_modules</code> folder.  What it will do, during deployment, is install all the modules in your package.json with the assumption that npm can find them in the npm registry.</p>\n\n<p>If you want to upload code from your machine to Cloud Functions, you'll have to include that along with all your other source code.</p>\n\n<p>If you want deploy code that can be obtained through some other public source (like a GitHub repo), you should install that using npm like this:</p>\n\n<pre><code>npm install https://github.com/your-name/your-repo.git\n</code></pre>\n\n<p>If your code can't be downloaded publicly, it needs to be included with your source.</p>\n"}, {"comments": [{"owner": {"reputation": 209, "user_id": 354533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d0a0734c615d704aaf49cbb1821aabe?s=128&d=identicon&r=PG", "display_name": "Sergey Kirienko", "link": "https://stackoverflow.com/users/354533/sergey-kirienko"}, "edited": false, "score": 0, "creation_date": 1524643000, "post_id": 48646819, "comment_id": 87049958, "body": "Actually, your solution helped me with my packages, thanks."}], "tags": [], "owner": {"reputation": 16132, "user_id": 560358, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/M4qx3.jpg?s=128&g=1", "display_name": "David V&#225;vra", "link": "https://stackoverflow.com/users/560358/david-v%c3%a1vra"}, "is_accepted": false, "score": 1, "last_activity_date": 1517931980, "creation_date": 1517931980, "answer_id": 48646819, "question_id": 48632397, "link": "https://stackoverflow.com/questions/48632397/how-to-include-simple-javascript-file-as-node-dependency-in-cloud-functions-for/48646819#48646819", "title": "How to include simple javascript file as node dependency in Cloud Functions for Firebase when using Kotlin multiplatform?", "body": "<p>As Doug mentioned here, Firebase Functions doesn't support upload of <code>node_modules</code>. I need to upload it with other sources, but I didn't find a way how to create a node module outside <code>node_modules</code> directory. I solved it by modifying the generated <code>index.js</code> file with a gradle task which just loads a JS file, not a node module. Here is my gradle task:</p>\n\n<pre><code>task modifyCommonJsPath(type: Copy) {\n    from \"functions/generated\"\n    into \"functions\"\n    include \"index.js\"\n    filter {\n        it.replaceAll( \"require\\\\('common-js'\\\\)\", \"require('./generated/common-js')\" )\n    }\n}\n\ncompileKotlin2Js.finalizedBy modifyCommonJsPath\n</code></pre>\n"}], "owner": {"reputation": 16132, "user_id": 560358, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/M4qx3.jpg?s=128&g=1", "display_name": "David V&#225;vra", "link": "https://stackoverflow.com/users/560358/david-v%c3%a1vra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1517932114, "creation_date": 1517869016, "last_edit_date": 1517932114, "question_id": 48632397, "link": "https://stackoverflow.com/questions/48632397/how-to-include-simple-javascript-file-as-node-dependency-in-cloud-functions-for", "title": "How to include simple javascript file as node dependency in Cloud Functions for Firebase when using Kotlin multiplatform?", "body": "<p>I would like to include a javascript file as module dependency. It's generated by Kotlin multiplatform, and it's called <code>common-js.js</code>. This is part of my <code>package.json</code>:</p>\n\n<pre><code>\"dependencies\": {\n    \"common-js\": \"file:common-js\"\n}\n</code></pre>\n\n<p>I put this file into <code>node_modules/common-js.js</code> and it works with <code>firebase serve</code> with no problems.</p>\n\n<p>However when I run <code>firebase deploy</code>, the deploy fails with:</p>\n\n<pre><code>Build failed: exit status 254\nnpm ERR! addLocal Could not install /workspace/common-js\n</code></pre>\n\n<p>How to achieve this with Cloud Functions? I tried putting it to other directories than <code>node_modules</code> but it doesn't work even locally.</p>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 2409, "user_id": 3792636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87fd97428fb5957d00b317d4673945f4?s=128&d=identicon&r=PG&f=1", "display_name": "velval", "link": "https://stackoverflow.com/users/3792636/velval"}, "edited": false, "score": 0, "creation_date": 1517871224, "post_id": 48632254, "comment_id": 84262746, "body": "I think what you doing is correct, you may just need to set the Parent Layout of your MessagesFragment to be clickable &quot;android:clickable=&quot;true&quot;&quot;. That will prevent you to interact with the previous fragment. If you want to pass params you can use Fragment.setArguments with a Bundle with the params."}, {"owner": {"reputation": 2231, "user_id": 7675202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6e99802f1d5c001149e8a3da58a7bace?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/7675202/mohamed-mohamed"}, "reply_to_user": {"reputation": 2409, "user_id": 3792636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87fd97428fb5957d00b317d4673945f4?s=128&d=identicon&r=PG&f=1", "display_name": "velval", "link": "https://stackoverflow.com/users/3792636/velval"}, "edited": false, "score": 0, "creation_date": 1517872002, "post_id": 48632254, "comment_id": 84262994, "body": "@velval But there&#39;s no slide transition. It just shows on top like a fade-in and I can see both fragments at the same time. For example the user taps on the chat cell and I want it to go to the messages view like the text app"}, {"owner": {"reputation": 2409, "user_id": 3792636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87fd97428fb5957d00b317d4673945f4?s=128&d=identicon&r=PG&f=1", "display_name": "velval", "link": "https://stackoverflow.com/users/3792636/velval"}, "edited": false, "score": 0, "creation_date": 1517895625, "post_id": 48632254, "comment_id": 84268891, "body": "If you want to add a &quot;slide transition&quot; you will need to add the custom animation yourself using FragmentTransaction.setCustomAnimations(int enter, int exit, int popEnter, int popExit) where the enter, exit, popEnter and popExit int params are the animation resource IDs from R.anim.ID that you need to create so the previous fragment slides to the left when existing and the new one slides from the right to left when entering. check this: <a href=\"https://stackoverflow.com/a/5151774/3792636\">stackoverflow.com/a/5151774/3792636</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2231, "user_id": 7675202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6e99802f1d5c001149e8a3da58a7bace?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/7675202/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1517872060, "post_id": 48632498, "comment_id": 84263005, "body": "It&#39;s not one of the tabs, it like a user taps on the chat row then it should transition to the messages fragment."}, {"owner": {"reputation": 730, "user_id": 6585161, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WLrkBqo0vUU/AAAAAAAAAAI/AAAAAAAAABE/TJbeoxy91Ao/photo.jpg?sz=128", "display_name": "Bryan Dormaier", "link": "https://stackoverflow.com/users/6585161/bryan-dormaier"}, "reply_to_user": {"reputation": 2231, "user_id": 7675202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6e99802f1d5c001149e8a3da58a7bace?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/7675202/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1517872198, "post_id": 48632498, "comment_id": 84263046, "body": "Can you post the layout for your chat fragment? I need to know how chatFragmentLayout relates to the rest of your Fragment elements."}, {"owner": {"reputation": 730, "user_id": 6585161, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WLrkBqo0vUU/AAAAAAAAAAI/AAAAAAAAABE/TJbeoxy91Ao/photo.jpg?sz=128", "display_name": "Bryan Dormaier", "link": "https://stackoverflow.com/users/6585161/bryan-dormaier"}, "reply_to_user": {"reputation": 2231, "user_id": 7675202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6e99802f1d5c001149e8a3da58a7bace?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/7675202/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1517872325, "post_id": 48632498, "comment_id": 84263083, "body": "By default, your new <code>Fragment</code> is not going to replace, because it is being committed to the <code>ChildFragmentManager</code> and not the parent. If you are seeing through below and are dedicated to this design, you&#39;ll need to set the parent layout of your child fragment to clickable as mentioned above, and you&#39;ll need to set a background."}, {"owner": {"reputation": 2231, "user_id": 7675202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6e99802f1d5c001149e8a3da58a7bace?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/7675202/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1517872567, "post_id": 48632498, "comment_id": 84263150, "body": "No I don&#39;t want to see through the design, I want it to behave like any text app. You press on the chat -&gt; see messages and reply"}, {"owner": {"reputation": 730, "user_id": 6585161, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WLrkBqo0vUU/AAAAAAAAAAI/AAAAAAAAABE/TJbeoxy91Ao/photo.jpg?sz=128", "display_name": "Bryan Dormaier", "link": "https://stackoverflow.com/users/6585161/bryan-dormaier"}, "reply_to_user": {"reputation": 2231, "user_id": 7675202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6e99802f1d5c001149e8a3da58a7bace?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/7675202/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1517872761, "post_id": 48632498, "comment_id": 84263215, "body": "I understand, I&#39;m telling you given your current pattern you will have to set a background and make it clickable to block the layout below.  I would launch a separate activity for Chat instead of making it a child fragment, but if you&#39;re going to go with your design, you have to take these steps, because you are replacing on the CHILD fragment manager and not the parent activity (in effect, you are replacing nothing)."}, {"owner": {"reputation": 2231, "user_id": 7675202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6e99802f1d5c001149e8a3da58a7bace?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/7675202/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1517879538, "post_id": 48632498, "comment_id": 84264987, "body": "How do I change the way to how you&#39;re saying it. I come from an iOS background so I was looking for something like <code>performSegue()</code> in swift. And the closest thing in android is <code>startActivity()</code>"}, {"owner": {"reputation": 730, "user_id": 6585161, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WLrkBqo0vUU/AAAAAAAAAAI/AAAAAAAAABE/TJbeoxy91Ao/photo.jpg?sz=128", "display_name": "Bryan Dormaier", "link": "https://stackoverflow.com/users/6585161/bryan-dormaier"}, "reply_to_user": {"reputation": 2231, "user_id": 7675202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6e99802f1d5c001149e8a3da58a7bace?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/7675202/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1517939690, "post_id": 48632498, "comment_id": 84295821, "body": "Yeah, you can create a new <code>Activity</code> via <code>Intent</code> which will load and leave the previous <code>Activity</code> as resumable on a back click. Not using <code>Fragments</code> except when necessary will also reduce complications having to do with Lifecycle interactions between activities and fragments."}], "tags": [], "owner": {"reputation": 730, "user_id": 6585161, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WLrkBqo0vUU/AAAAAAAAAAI/AAAAAAAAABE/TJbeoxy91Ao/photo.jpg?sz=128", "display_name": "Bryan Dormaier", "link": "https://stackoverflow.com/users/6585161/bryan-dormaier"}, "is_accepted": false, "score": 0, "last_activity_date": 1517872114, "last_edit_date": 1517872114, "creation_date": 1517869574, "answer_id": 48632498, "question_id": 48632254, "link": "https://stackoverflow.com/questions/48632254/android-navigate-to-another-fragment/48632498#48632498", "title": "Android : Navigate to another fragment", "body": "<p>If the <code>Fragment</code> you are trying to switch to is one within your ViewPager, you shouldn't manually change it via <code>FragmentTransaction</code>. You should instead call <code>setCurrentItem()</code> on the <code>ViewPager</code> (see this <a href=\"https://developer.android.com/reference/android/support/v4/view/ViewPager.html#setCurrentItem(int,%20boolean)\" rel=\"nofollow noreferrer\">link</a> in the online documentation). If this call is via one of those Fragments, you will also need to have some form of interface to communicate between the parent <code>Activity</code> and that <code>Fragment</code>(see <a href=\"https://developer.android.com/training/basics/fragments/communicating.html\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>As for your second question, you will have to think through this some more if it is your intention to have a <code>Fragment</code> in your <code>ViewPager</code> that is constantly changing. If otherwise, you should take a look at a New Instance type pattern such as is discussed in this <a href=\"https://stackoverflow.com/questions/9245408/best-practice-for-instantiating-a-new-android-fragment\">post</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 14070, "user_id": 868492, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cdfab916eb0bb5da98df29a321dc86ab?s=128&d=identicon&r=PG", "display_name": "James McCracken", "link": "https://stackoverflow.com/users/868492/james-mccracken"}, "is_accepted": false, "score": 0, "last_activity_date": 1517876198, "creation_date": 1517876198, "answer_id": 48633577, "question_id": 48632254, "link": "https://stackoverflow.com/questions/48632254/android-navigate-to-another-fragment/48633577#48633577", "title": "Android : Navigate to another fragment", "body": "<p>Fragments have <code>void setArguments(Bundle)</code> and <code>Bundle getArguments()</code> methods that you can use the same way you use an intent for an Activity.</p>\n\n<p>For example,  from the  <a href=\"https://developer.android.com/reference/android/app/Fragment.html\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n\n<pre><code>public class CountingFragment extends Fragment {\n\n    private int mNum;\n\n    public static CountingFragment newInstance(int num) {\n        CountingFragment f = new CountingFragment();\n\n        Bundle args = new Bundle();\n        args.putInt(\"num\", num);\n        f.setArguments(args);\n\n        return f;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mNum = getArguments() != null ? getArguments().getInt(\"num\") : 1;\n    }\n}\n</code></pre>\n\n<p>Or in Kotlin:</p>\n\n<pre><code>class CountingFragment : Fragment() {\n\n    companion object {\n        fun newInstance(number: Int): CountingFragment {\n            return CountingFragment().apply {\n                arguments = Bundle().apply {\n                    putInt(\"number\", number)\n                }\n            }\n        }\n    }\n\n    private var number: Int = 0\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        number = arguments?.getInt(\"number\") ?: 0\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2231, "user_id": 7675202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6e99802f1d5c001149e8a3da58a7bace?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/7675202/mohamed-mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1351, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1517876198, "creation_date": 1517868266, "last_edit_date": 1517872503, "question_id": 48632254, "link": "https://stackoverflow.com/questions/48632254/android-navigate-to-another-fragment", "title": "Android : Navigate to another fragment", "body": "<p>I have a <code>ViewPager</code> and <code>TabLayout</code> setup with 4 fragments, like any modern social app. I've tried, tried, tried, but I couldn't find an answer to my problem. Within one of the tabs, I want to navigate from the fragment to another fragment but instead of navigating, it just puts it on top and I can still interact with the previous fragment. It's not replacing, it's simply just layering it on top.</p>\n\n<p>Code:</p>\n\n<pre><code>// Chat fragment : Inside the onCreateView fun\nthis.loadConvos({\n            chats -&gt;\n            this.chatsArray = chats\n            this.chatsArray.sortBy { it.timestamp}\n            this.chatsArray.reverse()\n\n            listView.adapter = ChatBaseAdapter(this.chatsArray, context)\n            listView.setOnItemClickListener {\n                parent, view, position, id -&gt;\n                this.chatID = this.chatsArray[position].chatID!!\n                Toast.makeText(context, \"Position Clicked: \" + position, Toast.LENGTH_SHORT).show()\n\n                childFragmentManager\n                        .beginTransaction()\n                        .replace(R.id.chatFragmentLayout, MessagesFragment())\n                        .addToBackStack(null)\n                        .commit()\n            }\n        }, {\n            error -&gt;\n            print(error)\n        })\n</code></pre>\n\n<p>The function simply just loads the <code>listView</code> with chat details the user has which works and I can tap and the Toast will give me the cell position but when it <code>commit()</code>s it just layers the <code>MessagesFragment()</code> on top of the <code>ChatsFragment()</code>. I'd also like to know how to pass information to the next fragment. This method I  don't see a way to pass data, unlike the regular <code>Bundle/Intent</code> way I know of.</p>\n\n<p>XML Chat on the viewpager:</p>\n\n<pre><code>&lt;FrameLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\n\nandroid:id=\"@+id/chatFragmentLayout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\n\ntools:context=\"io.jedi.jedi.fragments.ChatFragment\"&gt;\n\n&lt;ListView\n    android:id=\"@+id/listView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>XML Messages </p>\n\n<pre><code>&lt;FrameLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\n\nandroid:id=\"@+id/messagesFragmentLayout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\n\ntools:context=\"io.jedi.jedi.fragments.MessagesFragment\"&gt;\n\n&lt;TextView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:text=\"Messages\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 162, "user_id": 9195194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JnjHm4X5JSg/AAAAAAAAAAI/AAAAAAAAAXo/9xmoPgmgRrQ/photo.jpg?sz=128", "display_name": "dewey", "link": "https://stackoverflow.com/users/9195194/dewey"}, "is_accepted": false, "score": 1, "last_activity_date": 1517868650, "creation_date": 1517868650, "answer_id": 48632329, "question_id": 48631992, "link": "https://stackoverflow.com/questions/48631992/scope-of-private-visibility-modifier-for-class-in-kotlin/48632329#48632329", "title": "Scope of private visibility modifier for class in kotlin", "body": "<blockquote>\n  <p>I thought the private classes are visible only inside the containing file.</p>\n</blockquote>\n\n<p>Even though the documentation states <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">\"If you mark a declaration private, it will only be visible inside the file containing the declaration\"</a>, this does not appear to be true for classes</p>\n\n<p>Since your classes are in the same package, to keep both classes, you can put them in different packages or give them different names.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1517879265, "last_edit_date": 1517879265, "creation_date": 1517877455, "answer_id": 48633723, "question_id": 48631992, "link": "https://stackoverflow.com/questions/48631992/scope-of-private-visibility-modifier-for-class-in-kotlin/48633723#48633723", "title": "Scope of private visibility modifier for class in kotlin", "body": "<p>Basically, the error that you are facing is caused by the fact that you cannot have two classes under the same full qualified names (package name + class simple name, e.g. <code>com.example.MyClass</code> where <code>com.example</code> is the package of the class <code>MyClass</code>).</p>\n\n<p>This limitation is derived from the JVM architecture that prohibits its class loaders to load more than one class with the same FQN (if it faces such duplicates, it loads only one of them). Also, since class files are usually placed in the file system accordingly to their FQNs, the file paths for the duplicates would be the same. Anyway, allowing duplicate classes seems to lead to no good.</p>\n\n<p>It's important to note that the scoping in your case is still correct: you cannot access the <code>private</code> declarations in other files than the one that declares it (redeclaration is not a usage).</p>\n\n<p>The workaround for your case is to move one of the files to a different package with a package declaration in the beginning:</p>\n\n<pre><code> package com.example\n</code></pre>\n"}], "owner": {"reputation": 120, "user_id": 5258481, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-FCkZE-D09s4/AAAAAAAAAAI/AAAAAAAAAFI/9E57wrtnsAw/photo.jpg?sz=128", "display_name": "JaxonFlexonWaxon", "link": "https://stackoverflow.com/users/5258481/jaxonflexonwaxon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 48633723, "answer_count": 2, "score": 2, "last_activity_date": 1517879265, "creation_date": 1517867054, "question_id": 48631992, "link": "https://stackoverflow.com/questions/48631992/scope-of-private-visibility-modifier-for-class-in-kotlin", "title": "Scope of private visibility modifier for class in kotlin", "body": "<p>I got a redeclaration error when I tried to create private Person class in both practice1.kt and practice2.kt files in the same project. For example:</p>\n\n<p><strong>Practice1.kt</strong></p>\n\n<pre><code>private class Person constructor(var name: String, var age: Int){\nvar profession: String = \"Not mentioned\"\n\ninit{\n    println(\"$name's details are being held in this class object.\")\n}\n\nconstructor(name:String,age:Int, profession: String): this(name,age){\n    this.profession = profession\n}\n\nfun printPersonDetails(){\n    println(\"$name whose profession is $profession, is $age years old.\")\n\n}}\n\nfun main(args: Array&lt;String&gt;){\nval smith = Person(\"Smith\",20)\nsmith.printPersonDetails()}\n</code></pre>\n\n<p><strong>Practice2.kt</strong></p>\n\n<pre><code>private class Person(val name:String, age:Int){\n\nvar age: Int = age\nset(new_data){\n    println(\"Setting age to $new_data\")\n    field  = new_data\n}}\n</code></pre>\n\n<p>I am getting error while creating the <strong>smith Person object</strong> in  the main function in Practice1.kt saying: \n<strong>Cannot access 'Person': it is private in file.</strong></p>\n\n<p>I thought the private classes are visible only inside the containing file. Why is the private class in one file (practice1.kt) interfering with the private class of the other file(practice2.kt) ? </p>\n"}, {"tags": ["android", "firebase-realtime-database", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 5624, "user_id": 3487617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3d54c70f0272d988d1b6372b2bcca06?s=128&d=identicon&r=PG", "display_name": "Hank D", "link": "https://stackoverflow.com/users/3487617/hank-d"}, "edited": false, "score": 1, "creation_date": 1517884790, "post_id": 48630945, "comment_id": 84266179, "body": "You might look at <a href=\"https://stackoverflow.com/questions/6343166/how-do-i-fix-android-os-networkonmainthreadexception\" title=\"how do i fix android os networkonmainthreadexception\">stackoverflow.com/questions/6343166/&hellip;</a>"}], "owner": {"reputation": 41, "user_id": 9304239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e2a1a50aa0ff83dbb7259bf86411b87?s=128&d=identicon&r=PG&f=1", "display_name": "zachkirlew", "link": "https://stackoverflow.com/users/9304239/zachkirlew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518008691, "creation_date": 1517862536, "last_edit_date": 1518008691, "question_id": 48630945, "link": "https://stackoverflow.com/questions/48630945/cant-flatmap-after-fromiterable-in-rxjava2", "title": "Can&#39;t flatmap after fromIterable in RxJava2", "body": "<p>I'm having an issue where the following code is causing a NetworkOnMainThreadException.</p>\n\n<pre><code>    InternetConnectionUtil.isInternetOn()\n            .flatMap { isInternetOn -&gt; if (isInternetOn) RxFirebaseDatabase.observeValueEvent(vinylRef,{it.children.map { it.value as String }})   else Flowable.error(Exception(\"No internet connection\")) }\n            .flatMap {stylesList -&gt; Flowable.fromIterable(stylesList) }\n            .flatMap { style -&gt; vinylRepository.getVinyls(style)}\n            .toObservable()\n            .subscribeOn(Schedulers.newThread())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(observer)\n</code></pre>\n\n<p>However when I mock a list of styles with:</p>\n\n<pre><code>    InternetConnectionUtil.isInternetOn()\n            .flatMap { isInternetOn -&gt; if (isInternetOn) Flowable.fromIterable(listOf(\"House\"))   else Flowable.error(Exception(\"No internet connection\")) }\n            .flatMap { style -&gt; vinylRepository.getVinyls(style)}\n            .toObservable()\n            .subscribeOn(Schedulers.newThread())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(observer)\n</code></pre>\n\n<p>I get an expected response... Any thoughts?</p>\n"}, {"tags": ["android", "kotlin", "sharedpreferences", "extension-function"], "answers": [{"comments": [{"owner": {"reputation": 691, "user_id": 7238475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L08Wk.jpg?s=128&g=1", "display_name": "flopshot", "link": "https://stackoverflow.com/users/7238475/flopshot"}, "edited": false, "score": 0, "creation_date": 1517855958, "post_id": 48629068, "comment_id": 84255464, "body": "I love the OOP of implementing a SharedPrefsProvider interface. However, I was hoping to @Inject a singleton SharedPreferences instance (default) and call the extension field on that injected instance provided by dagger"}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 691, "user_id": 7238475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L08Wk.jpg?s=128&g=1", "display_name": "flopshot", "link": "https://stackoverflow.com/users/7238475/flopshot"}, "edited": false, "score": 0, "creation_date": 1517856097, "post_id": 48629068, "comment_id": 84255531, "body": "@flopshot you can do <code>override lateinit var sharedPreferences</code> and initalize it in the way you want"}, {"owner": {"reputation": 691, "user_id": 7238475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L08Wk.jpg?s=128&g=1", "display_name": "flopshot", "link": "https://stackoverflow.com/users/7238475/flopshot"}, "edited": false, "score": 0, "creation_date": 1517856251, "post_id": 48629068, "comment_id": 84255606, "body": "might I ask if you could elaborate in your answer?"}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 691, "user_id": 7238475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L08Wk.jpg?s=128&g=1", "display_name": "flopshot", "link": "https://stackoverflow.com/users/7238475/flopshot"}, "edited": false, "score": 0, "creation_date": 1517856588, "post_id": 48629068, "comment_id": 84255792, "body": "@flopshot I&#39;ve added example"}, {"owner": {"reputation": 691, "user_id": 7238475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L08Wk.jpg?s=128&g=1", "display_name": "flopshot", "link": "https://stackoverflow.com/users/7238475/flopshot"}, "edited": false, "score": 0, "creation_date": 1517857087, "post_id": 48629068, "comment_id": 84256040, "body": "Thanks, just looking it over. Question, when the key is null (not specified in the delegate) it defaults in getValue/setValue to property.name. What does that mean?"}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 691, "user_id": 7238475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L08Wk.jpg?s=128&g=1", "display_name": "flopshot", "link": "https://stackoverflow.com/users/7238475/flopshot"}, "edited": false, "score": 1, "creation_date": 1517857266, "post_id": 48629068, "comment_id": 84256151, "body": "It means in case if you don&#39;t specify key for shared preferences explicitly it takes name of property instead. For example, if you write <code>var currentUserId by string()</code> it takes <code>currentUserId</code> as key for preference"}, {"owner": {"reputation": 691, "user_id": 7238475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L08Wk.jpg?s=128&g=1", "display_name": "flopshot", "link": "https://stackoverflow.com/users/7238475/flopshot"}, "edited": false, "score": 0, "creation_date": 1517857495, "post_id": 48629068, "comment_id": 84256265, "body": "Nice! Thanks again for the info. I&#39;d like to tweak that null key default behavior a bit, but all in all great stuff."}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 1, "last_activity_date": 1517856558, "last_edit_date": 1517856558, "creation_date": 1517855024, "answer_id": 48629068, "question_id": 48628652, "link": "https://stackoverflow.com/questions/48628652/kotlin-extension-field-for-sharedpreference-value-by-string-constant-key/48629068#48629068", "title": "Kotlin extension field for SharedPreference value by string constant key", "body": "<p>First, let's create general interface for providing instance of <code>SharedPreferences</code>: </p>\n\n<pre><code>interface SharedPreferencesProvider {\n\n    val sharedPreferences: SharedPreferences\n}\n</code></pre>\n\n<p>After we have to create delegate for property which will read/write value to preferences:</p>\n\n<pre><code>object PreferencesDelegates {\n\n    fun string(\n        defaultValue: String = \"\",\n        key: String? = null\n    ): ReadWriteProperty&lt;SharedPreferencesProvider, String&gt; = \n        StringPreferencesProperty(defaultValue, key)\n}\n\nprivate class StringPreferencesProperty(\n    private val defaultValue: String,\n    private val key: String?\n) : ReadWriteProperty&lt;SharedPreferencesProvider, String&gt; {\n\n    override fun getValue(\n         thisRef: SharedPreferencesProvider, \n         property: KProperty&lt;*&gt;\n    ): String {\n        val key = key ?: property.name\n        return thisRef.sharedPreferences.getString(key, defaultValue)\n    }\n\n    override fun setValue(\n        thisRef: SharedPreferencesProvider,\n        property: KProperty&lt;*&gt;, \n        value: String\n    ) {\n        val key = key ?: property.name\n        thisRef.sharedPreferences.save(key, value)\n    }\n}\n</code></pre>\n\n<p><code>PreferencesDelegates</code> needed to hide implementation and add some readability to code. In the end it can be used like this:</p>\n\n<pre><code>class AccountRepository(\n    override val sharedPreferences: SharedPreferences\n) : SharedPreferencesProvider {\n\n    var currentUserId by PreferencesDelegates.string()\n    var currentUserName by string() //With import\n    var currentUserNickname by string(key = \"CUSTOM_KEY\", defaultValue = \"Unknown\")\n\n    fun saveUser(id: String, name: String) {\n        this.currentUserId = id\n        this.currentUserName = name\n    }\n}\n</code></pre>\n\n<p>Similar can be implemented <code>int</code>, <code>float</code> or even custom type:</p>\n\n<pre><code>open class CustomPreferencesProperty&lt;T&gt;(\n    defaultValue: T,\n    private val key: String?,\n    private val getMapper: (String) -&gt; T,\n    private val setMapper: (T) -&gt; String = { it.toString() }\n) : ReadWriteProperty&lt;SharedPreferencesProvider, T&gt; {\n\n    private val defaultValueRaw: String = setMapper(defaultValue)\n\n    override fun getValue(\n        thisRef: SharedPreferencesProvider, \n        property: KProperty&lt;*&gt;\n    ): T {\n        val key = property.name\n        return getMapper(thisRef.sharedPreferences.getString(key, defaultValueRaw))\n    }\n\n    override fun setValue(\n        thisRef: SharedPreferencesProvider, \n        property: KProperty&lt;*&gt;, \n        value: T\n    ) {\n        val key = property.name\n        thisRef.sharedPreferences.save(key, setMapper(value))\n    }\n}\n</code></pre>\n\n<p>I wrote small library which covers such case. You can find rest of implemented preferences <a href=\"https://github.com/dewarder/AndroidKommons/tree/master/akommons/src/main/java/com/dewarder/akommons/content/preferences\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p><strong>EDIT</strong>. In case if you are using dagger:</p>\n\n<pre><code>class AccountRepository @Injcet constructor() : SharedPreferencesProvider {\n\n    @Inject\n    override lateinit var sharedPreferences: SharedPreferences\n\n    var currentUserId by PreferencesDelegates.string()\n    ...\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 691, "user_id": 7238475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L08Wk.jpg?s=128&g=1", "display_name": "flopshot", "link": "https://stackoverflow.com/users/7238475/flopshot"}, "edited": false, "score": 0, "creation_date": 1517856071, "post_id": 48629135, "comment_id": 84255520, "body": "Thanks for the quick answer. I should have mentioned in the question that Jake and Krupal&#39;s implementation doesn&#39;t require the boiler plate of writing an extension for EVERY shared preference. I was hoping to keep that feature."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1517855214, "creation_date": 1517855214, "answer_id": 48629135, "question_id": 48628652, "link": "https://stackoverflow.com/questions/48628652/kotlin-extension-field-for-sharedpreference-value-by-string-constant-key/48629135#48629135", "title": "Kotlin extension field for SharedPreference value by string constant key", "body": "<p>You could define a simple extension property with a getter and a setter</p>\n\n<pre><code>var SharedPreferences.userId\n    get() = getInt(USER_ID, 0)\n    set(value: Int) { edit().putInt(USER_ID, value).apply() }\n</code></pre>\n"}], "owner": {"reputation": 691, "user_id": 7238475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L08Wk.jpg?s=128&g=1", "display_name": "flopshot", "link": "https://stackoverflow.com/users/7238475/flopshot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2135, "favorite_count": 0, "accepted_answer_id": 48629068, "answer_count": 2, "score": 1, "last_activity_date": 1517856558, "creation_date": 1517853492, "question_id": 48628652, "link": "https://stackoverflow.com/questions/48628652/kotlin-extension-field-for-sharedpreference-value-by-string-constant-key", "title": "Kotlin extension field for SharedPreference value by string constant key", "body": "<p>Extension functions are great for the SharedPreference api in android. Jake Wharton has an interesting implementation at time code 32:30 of <a href=\"https://www.youtube.com/watch?v=A2LukgT2mKc&amp;t=1461s\" rel=\"nofollow noreferrer\">this</a> video tutorial where he implements SharedPreferences extension function like so:</p>\n\n<pre><code>preferences.edit{\n    set(USER_ID /*some string key constant somewhere*/, 42)\n    //...\n}\n</code></pre>\n\n<p>while this is ok, its kind of verbose.</p>\n\n<p><a href=\"https://medium.com/@krupalshah55/manipulating-shared-prefs-with-kotlin-just-two-lines-of-code-29af62440285\" rel=\"nofollow noreferrer\">This</a> tutorial by Krupal Shah explains how you can reduce the getter/setter extension functions of SharedPreferences to:</p>\n\n<pre><code>preferences[USER_ID] = 42 \nLog.i(\"User Id\", preferences[USER_ID]) //User Id: 42    \n</code></pre>\n\n<p>This is pretty good, but the brackets imply iterable semantics, IMO. While not the worst thing in the world, you just wish that you could implement a field extension of a SharedPreferences value by the key constant itself.</p>\n\n<p>My question is, is there any way to implement this type of extension on SharedPreferences?</p>\n\n<pre><code>preferences.USER_ID = 42\nLog.i(\"User Id\", preferences.USER_ID) //User Id: 42\n</code></pre>\n"}, {"tags": ["android", "json", "kotlin", "retrofit2", "moshi"], "answers": [{"comments": [{"owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "edited": false, "score": 0, "creation_date": 1517883626, "post_id": 48629547, "comment_id": 84265929, "body": "That model structure did it, thank you! Now I know how to handle this weird configuration of arrays"}, {"owner": {"reputation": 1815, "user_id": 1708390, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/symR5.jpg?s=128&g=1", "display_name": "Bugs Happen", "link": "https://stackoverflow.com/users/1708390/bugs-happen"}, "edited": false, "score": 0, "creation_date": 1550054948, "post_id": 48629547, "comment_id": 96126739, "body": "For anyone looking into this in future, your list classes must not be <code>inner</code>"}], "tags": [], "owner": {"reputation": 420, "user_id": 8505083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/540a2c4dafabf6b12b06898d05197393?s=128&d=identicon&r=PG&f=1", "display_name": "niketshah09", "link": "https://stackoverflow.com/users/8505083/niketshah09"}, "is_accepted": true, "score": 4, "last_activity_date": 1517856802, "creation_date": 1517856802, "answer_id": 48629547, "question_id": 48628516, "link": "https://stackoverflow.com/questions/48628516/retrofit-and-moshi-parsing-a-json-object-with-two-arrays/48629547#48629547", "title": "Retrofit and Moshi: Parsing a JSON Object with Two Arrays", "body": "<p>this is how your json looks like as Java Model<br></p>\n\n<pre><code>data class Response(\nval httpCode: Int? = null,\nval fields: List&lt;FieldsItem?&gt;? = null,\nval popular: List&lt;PopularItem?&gt;? = null)\n\ndata class FieldsItem(\nval name: String? = null,\nval id: Int? = null)\n\ndata class PopularItem(\nval name: String? = null,\nval id: Int? = null)\n</code></pre>\n\n<p>Your service will be something like this:<br></p>\n\n<pre><code>interface BehanceService{\n@GET(\"v2/fields\")\nfun creativeField(@Query(\"api_key\") api_key: String): Call&lt;Response&gt;\n}\n</code></pre>\n\n<p>And your Api class will be something like this:<br></p>\n\n<pre><code>object BehanceAPI {\nprivate val BASE_URL = \"http://www.behance.net/\"\n\n\n\nval retrofittedBuilder: Retrofit by lazy {\n    Retrofit.Builder().baseUrl(BASE_URL)\n            .addConverterFactory(MoshiConverterFactory.create())\n            .build()\n}\n\nval behanceService: BehanceService = retrofittedBuilder.create(BehanceService::class.java)}\n</code></pre>\n\n<p>you can call it in this way.</p>\n\n<pre><code>BehanceAPI.behanceService.creativeField(\"your_key_here\").enqueue(new Call&lt;Response&gt;(){\n@Override\npublic void onResponse( response: Call&lt;Response&gt;)\n{\n    // Deal with the response here\n    val data = response.body();\n}\n\n@Override\npublic void onFailure(Throwable t)\n{\n    // Deal with the error here\n}})\n</code></pre>\n"}], "owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4649, "favorite_count": 0, "accepted_answer_id": 48629547, "answer_count": 1, "score": 1, "last_activity_date": 1517856802, "creation_date": 1517852978, "question_id": 48628516, "link": "https://stackoverflow.com/questions/48628516/retrofit-and-moshi-parsing-a-json-object-with-two-arrays", "title": "Retrofit and Moshi: Parsing a JSON Object with Two Arrays", "body": "<p>In the process of learning how to use Retrofit with Moshi to use APIs with Android, I have run into an issue I cannot get my head around. The goal here is to get a simple array of categories returned from an API. When I make the call to, in this case, the Behance API to list all creativefields, an array is not returned. Instead is is an object with two arrays:</p>\n\n<pre><code>{\"fields\":[{\"id\":108,\"name\":\"Advertising\"},{\"id\":3,\"name\":\"Animation\"},{\"id\":4,\"name\":\"Architecture\"},{\"id\":5,\"name\":\"Art Direction\"},{\"id\":130,\"name\":\"Automotive Design\"},{\"id\":109,\"name\":\"Branding\"},{\"id\":133,\"name\":\"Calligraphy\"},{\"id\":9,\"name\":\"Cartooning\"},{\"id\":124,\"name\":\"Character Design\"},{\"id\":12,\"name\":\"Cinematography\"},{\"id\":15,\"name\":\"Computer Animation\"},{\"id\":19,\"name\":\"Copywriting\"},{\"id\":20,\"name\":\"Costume Design\"},{\"id\":21,\"name\":\"Crafts\"},{\"id\":137,\"name\":\"Creative Direction\"},{\"id\":23,\"name\":\"Culinary Arts\"},{\"id\":122,\"name\":\"Digital Art\"},{\"id\":27,\"name\":\"Digital Photography\"},{\"id\":28,\"name\":\"Directing\"},{\"id\":110,\"name\":\"Drawing\"},{\"id\":31,\"name\":\"Editing\"},{\"id\":32,\"name\":\"Editorial Design\"},{\"id\":33,\"name\":\"Engineering\"},{\"id\":35,\"name\":\"Entrepreneurship\"},{\"id\":36,\"name\":\"Exhibition Design\"},{\"id\":37,\"name\":\"Fashion\"},{\"id\":93,\"name\":\"Fashion Styling\"},{\"id\":38,\"name\":\"Film\"},{\"id\":112,\"name\":\"Fine Arts\"},{\"id\":40,\"name\":\"Furniture Design\"},{\"id\":41,\"name\":\"Game Design\"},{\"id\":43,\"name\":\"Graffiti\"},{\"id\":44,\"name\":\"Graphic Design\"},{\"id\":131,\"name\":\"Icon Design\"},{\"id\":48,\"name\":\"Illustration\"},{\"id\":49,\"name\":\"Industrial Design\"},{\"id\":50,\"name\":\"Information Architecture\"},{\"id\":51,\"name\":\"Interaction Design\"},{\"id\":52,\"name\":\"Interior Design\"},{\"id\":53,\"name\":\"Jewelry Design\"},{\"id\":54,\"name\":\"Journalism\"},{\"id\":55,\"name\":\"Landscape Design\"},{\"id\":59,\"name\":\"MakeUp Arts (MUA)\"},{\"id\":63,\"name\":\"Motion Graphics\"},{\"id\":64,\"name\":\"Music\"},{\"id\":66,\"name\":\"Packaging\"},{\"id\":67,\"name\":\"Painting\"},{\"id\":69,\"name\":\"Pattern Design\"},{\"id\":70,\"name\":\"Performing Arts\"},{\"id\":73,\"name\":\"Photography\"},{\"id\":74,\"name\":\"Photojournalism\"},{\"id\":78,\"name\":\"Print Design\"},{\"id\":79,\"name\":\"Product Design\"},{\"id\":123,\"name\":\"Programming\"},{\"id\":136,\"name\":\"Retouching\"},{\"id\":86,\"name\":\"Sculpting\"},{\"id\":87,\"name\":\"Set Design\"},{\"id\":118,\"name\":\"Sound Design\"},{\"id\":91,\"name\":\"Storyboarding\"},{\"id\":135,\"name\":\"Street Art\"},{\"id\":95,\"name\":\"Textile Design\"},{\"id\":126,\"name\":\"Toy Design\"},{\"id\":97,\"name\":\"Typography\"},{\"id\":132,\"name\":\"UI\\/UX\"},{\"id\":120,\"name\":\"Visual Effects\"},{\"id\":102,\"name\":\"Web Design\"},{\"id\":103,\"name\":\"Web Development\"},{\"id\":105,\"name\":\"Writing\"}],\n\"popular\":[{\"id\":44,\"name\":\"Graphic Design\"},{\"id\":73,\"name\":\"Photography\"},{\"id\":51,\"name\":\"Interaction Design\"},{\"id\":5,\"name\":\"Art Direction\"},{\"id\":48,\"name\":\"Illustration\"},{\"id\":49,\"name\":\"Industrial Design\"},{\"id\":63,\"name\":\"Motion Graphics\"},{\"id\":37,\"name\":\"Fashion\"},{\"id\":4,\"name\":\"Architecture\"},{\"id\":109,\"name\":\"Branding\"},{\"id\":102,\"name\":\"Web Design\"},{\"id\":132,\"name\":\"UI\\/UX\"}],\"http_code\":200}\n</code></pre>\n\n<p><strong>How do I parse this JSON response to get two arrays of creative fields using Moshi and Retrofit?</strong> Below is the setup I had anticipated would work. Now I am aware that the JSON is not a List but more of a FieldList with 2 values of \"fields\" and \"popular\", but I can't see how to extract the arrays with Moshi.</p>\n\n<p><em>Model of a Creative Field</em></p>\n\n<pre><code>data class Fields(val id: Int, val name: String)\n</code></pre>\n\n<p><em>Interface/Service</em></p>\n\n<pre><code>interface BehanceService{\n\n@GET( \"v2/fields\")\nfun creativeField(@Query(\"api_key\") api_key: String): Call&lt;List&lt;Fields&gt;&gt;\n}\n</code></pre>\n\n<p><em>The API class</em></p>\n\n<pre><code>object BehanceAPI {\n    private val BASE_URL = \"http://www.behance.net/\"\n\n\n\n    val retrofittedBuilder: Retrofit by lazy {\n        Retrofit.Builder().baseUrl(BASE_URL)\n                .addConverterFactory(MoshiConverterFactory.create())\n                .build()\n    }\n\n    val behanceService: BehanceService = retrofittedBuilder.create(BehanceService::class.java)\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1363, "user_id": 1640235, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Zmgq9.jpg?s=128&g=1", "display_name": "Aleksandar Stefanovi\u0107", "link": "https://stackoverflow.com/users/1640235/aleksandar-stefanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1517851493, "post_id": 48627732, "comment_id": 84253025, "body": "Intents are used for launching other activities and services, not for accessing widget properties."}], "answers": [{"tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 2, "last_activity_date": 1517851208, "creation_date": 1517851208, "answer_id": 48628035, "question_id": 48627732, "link": "https://stackoverflow.com/questions/48627732/add-two-edittext-values-upon-call-of-a-button-and-display-to-a-textview-using-ko/48628035#48628035", "title": "Add two EditText values upon call of a button and display to a TextView using Kotlin", "body": "<p>Here how your code should look like:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val addButton = findViewById&lt;Button&gt;(R.id.addButton)\n    val editText1 = findViewById&lt;EditText&gt;(R.id.editText1)\n    val editText2 = findViewById&lt;EditText&gt;(R.id.editText2)\n    val resultTextView = findViewById&lt;TextView&gt;(R.id.resultTextView)\n\n    addButton.setOnClickListener {\n        val result = editText1.text.toString() + editText2.text.toString()\n        resultTextView.text = result\n    }\n}\n</code></pre>\n\n<p><strong>P.S.</strong> I suggest you to read more tutorials about Android basics before asking such simple questions.</p>\n"}], "owner": {"reputation": 43, "user_id": 9099933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HzUO.jpg?s=128&g=1", "display_name": "Swapnil", "link": "https://stackoverflow.com/users/9099933/swapnil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 48628035, "answer_count": 1, "score": 0, "last_activity_date": 1517852333, "creation_date": 1517850147, "last_edit_date": 1517852333, "question_id": 48627732, "link": "https://stackoverflow.com/questions/48627732/add-two-edittext-values-upon-call-of-a-button-and-display-to-a-textview-using-ko", "title": "Add two EditText values upon call of a button and display to a TextView using Kotlin", "body": "<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val addButton: Button? = null\n    val editText1:EditText? = null\n    val editText2:EditText? = null\n    var resultTextView:TextView? = null\n\n   addButton?.findViewById&lt;Button&gt;(R.id.addButton)\n   editText1?.findViewById&lt;EditText&gt;(R.id.editText1)\n   editText2?.findViewById&lt;EditText&gt;(R.id.editText2)\n   resultTextView?.findViewById&lt;TextView&gt;(R.id.resultTextView)\n\n    addButton?.setOnClickListener {\n                    val intent = Intent(this@MainActivity, resultTextView!!::class.java)\n\n        var result = editText1?.text.toString() + editText2?.text.toString()\n\n\n        resultTextView.text = result\n        startActivity(intent)\n    }\n}\n</code></pre>\n\n<p>I couldn't get result displayed on my <code>resultTextView</code>.</p>\n"}, {"tags": ["lambda", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11165, "user_id": 2000300, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/c8eI2.jpg?s=128&g=1", "display_name": "pdegand59", "link": "https://stackoverflow.com/users/2000300/pdegand59"}, "is_accepted": false, "score": 1, "last_activity_date": 1517848327, "last_edit_date": 1592644375, "creation_date": 1517848327, "answer_id": 48627141, "question_id": 48627056, "link": "https://stackoverflow.com/questions/48627056/what-is-the-convention-for-method-chaining-with-lambda-parameters/48627141#48627141", "title": "What is the convention for method chaining with lambda parameters?", "body": "<p>The proposed formatting by IntelliJ is correct because when a lambda is the last parameter of a function, the lambda can be extracted out of the parenthesis of the method.</p>\n<p>So IntelliJ does not think that <code>let</code> is a function call on the lambda itself, it's just another way of writing the same code as what you would expect (your 3rd snippet).</p>\n<p>From <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">Kotlin official documentation</a> :</p>\n<blockquote>\n<p>In Kotlin, there is a convention that if the last parameter to a function is a function, and you're passing a lambda expression as the corresponding argument, you can specify it outside of parentheses. [...] These conventions allow to write LINQ-style code:</p>\n<p><code>strings.filter { it.length == 5 }.sortedBy { it }.map { it.toUpperCase() }</code></p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2329, "user_id": 757888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/E4bx5.jpg?s=128&g=1", "display_name": "Zach Thacker", "link": "https://stackoverflow.com/users/757888/zach-thacker"}, "edited": false, "score": 0, "creation_date": 1517853518, "post_id": 48627872, "comment_id": 84254126, "body": "I see, that makes sense. IntelliJ seems to handle that first case a little better at least. I actually wound up submitting a bug to Jetbrains because while investigating, I found some other inconsistent behavior. But for the context of the question, this seems pretty conclusive."}], "tags": [], "owner": {"reputation": 162, "user_id": 9195194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JnjHm4X5JSg/AAAAAAAAAAI/AAAAAAAAAXo/9xmoPgmgRrQ/photo.jpg?sz=128", "display_name": "dewey", "link": "https://stackoverflow.com/users/9195194/dewey"}, "is_accepted": true, "score": 2, "last_activity_date": 1517851514, "last_edit_date": 1592644375, "creation_date": 1517850596, "answer_id": 48627872, "question_id": 48627056, "link": "https://stackoverflow.com/questions/48627056/what-is-the-convention-for-method-chaining-with-lambda-parameters/48627872#48627872", "title": "What is the convention for method chaining with lambda parameters?", "body": "<p>The Kotlin documentation has a section on coding styles, including <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#chained-call-wrapping\" rel=\"nofollow noreferrer\">this on chained-call wrapping</a>:</p>\n<blockquote>\n<p>Chained call wrapping</p>\n<p>When wrapping chained calls, put the . character or the ?. operator on the next line, with a single indent:</p>\n<pre><code>val anchor = owner\n    ?.firstChild!!\n    .siblings(forward = true)\n    .dropWhile { it is PsiComment || it is PsiWhiteSpace }\n</code></pre>\n<p>The first call in the chain usually should have a line break before it, but it's OK to omit it the code makes more sense that way.</p>\n</blockquote>\n<p>So I would probably alter it like so:</p>\n<pre><code>  val x = listOf(1, 2, 3)\n      .fold(&quot;&quot;) { acc, i -&gt;\n          acc + someLookupFunction(i)\n      }\n      .let {\n          // something\n      }\n</code></pre>\n<p>Or:</p>\n<pre><code>val x = listOf(1, 2, 3)\n    .fold(&quot;&quot;) { acc, i -&gt; acc + someLookupFunction(i) }\n    .let { /* something */ }\n</code></pre>\n"}], "owner": {"reputation": 2329, "user_id": 757888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/E4bx5.jpg?s=128&g=1", "display_name": "Zach Thacker", "link": "https://stackoverflow.com/users/757888/zach-thacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2405, "favorite_count": 0, "accepted_answer_id": 48627872, "answer_count": 2, "score": 2, "last_activity_date": 1517851514, "creation_date": 1517848076, "question_id": 48627056, "link": "https://stackoverflow.com/questions/48627056/what-is-the-convention-for-method-chaining-with-lambda-parameters", "title": "What is the convention for method chaining with lambda parameters?", "body": "<p>I was working on a Kotlin coding challenge and I came up with a solution that looks something like this:</p>\n\n<pre><code>val x = listOf(1, 2, 3)\n    .fold(\"\") { acc, i -&gt;\n      acc + someLookupFunction(i)\n    }.let {\n      // something\n    }\n</code></pre>\n\n<p>Above is how I expect it to be formatted. However, when using the IntelliJ auto-formatter, it insists that the code should be formatted like so:</p>\n\n<pre><code>val x = listOf(1, 2, 3)\n    .fold(\"\") { acc, i -&gt;\n      acc + someLookupFunction(i)\n    }.let {\n          // something\n        }\n</code></pre>\n\n<p>My first thought was that this is a bug, but actually I think it's just ambiguous. The formatter must think that the <code>let</code> is a function call on the lambda itself, not on the result of <code>fold</code>. To confirm this, I changed it to this:</p>\n\n<pre><code>val x = listOf(1, 2, 3)\n    .fold(\"\", { acc, i -&gt;\n      acc + someLookupFunction(i)\n    }).let {\n      // something\n    }\n</code></pre>\n\n<p>and Intellij formatted it how I expect. So that brings me to my question - is there an official convention on chaining method calls when using lambdas like this? Should I be using the explicit parens when chaining to avoid ambiguity? Is this actually a bug with Intellij that I should report?</p>\n"}, {"tags": ["android", "kotlin", "popupmenu"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1517862935, "post_id": 48626995, "comment_id": 84259133, "body": "Kotlin is just a language. You&#39;ll find plenty examples in Java, I suggest you, at least, understand both. Once you understand what the code does, then you can play with different languages and syntaxes."}, {"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1517884835, "post_id": 48626995, "comment_id": 84266190, "body": "Yeah, I agree with you, but there are no examples using Kotlin language."}], "answers": [{"comments": [{"owner": {"reputation": 1161, "user_id": 2056117, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/93f3bba48b2683a41e9a2625934e6148?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/2056117/dan"}, "edited": false, "score": 0, "creation_date": 1528145257, "post_id": 48628108, "comment_id": 88386789, "body": "What would the code look like if I wanted to open a fragment for one of the popup menu actions?"}, {"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "reply_to_user": {"reputation": 1161, "user_id": 2056117, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/93f3bba48b2683a41e9a2625934e6148?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/2056117/dan"}, "edited": false, "score": 0, "creation_date": 1528185026, "post_id": 48628108, "comment_id": 88398987, "body": "@Dan Can you post it as new question instead."}, {"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "reply_to_user": {"reputation": 1161, "user_id": 2056117, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/93f3bba48b2683a41e9a2625934e6148?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/2056117/dan"}, "edited": false, "score": 1, "creation_date": 1544783536, "post_id": 48628108, "comment_id": 94407075, "body": "@Dan call this util method from Activity like this:  <code>ActivityUtil.addFragmentToActivity(         getSupportFragmentManager(), fragment, R.id.frag_container);</code>"}], "tags": [], "owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "is_accepted": true, "score": 25, "last_activity_date": 1602158022, "last_edit_date": 1602158022, "creation_date": 1517851481, "answer_id": 48628108, "question_id": 48626995, "link": "https://stackoverflow.com/questions/48626995/how-to-create-custom-popup-menu-using-kotlin-in-androidstudio/48628108#48628108", "title": "How to create custom Popup Menu using Kotlin in AndroidStudio?", "body": "<p>Finally, I did it, It may help someone</p>\n<p>Step 1. First, create an <code>activity_main.xml</code> contains a button named <code>my_button</code></p>\n<p>Step 2. Then take <code>header_menu.xml</code> under <code>res/menu</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/header1&quot;\n        android:title=&quot;H1&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/header2&quot;\n        android:title=&quot;H2&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/header3&quot;\n        android:title=&quot;H3&quot; /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>Step 3. Finally, in <code>MainActivity.kt</code> use it like:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        my_button.setOnClickListener {\n             showPopup(my_button)\n          }\n    }\n\n    private fun showPopup(view: View) {\n        val popup = PopupMenu(this, view)\n        popup.inflate(R.menu.header_menu)\n\n        popup.setOnMenuItemClickListener(PopupMenu.OnMenuItemClickListener { item: MenuItem? -&gt;\n\n            when (item!!.itemId) {\n                R.id.header1 -&gt; {\n                    Toast.makeText(this@MainActivity, item.title, Toast.LENGTH_SHORT).show()\n                }\n                R.id.header2 -&gt; {\n                    Toast.makeText(this@MainActivity, item.title, Toast.LENGTH_SHORT).show()\n                }\n                R.id.header3 -&gt; {\n                    Toast.makeText(this@MainActivity, item.title, Toast.LENGTH_SHORT).show()\n                }\n            }\n\n            true\n        })\n\n        popup.show()\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15993, "user_id": 211292, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/506d58a313a564c1f46b19e67eb476c8?s=128&d=identicon&r=PG", "display_name": "ThomasW", "link": "https://stackoverflow.com/users/211292/thomasw"}, "edited": false, "score": 0, "creation_date": 1593694103, "post_id": 54004506, "comment_id": 110873545, "body": "Setting the  method in xml only appears to work if the method is in an Activity, not a fragment. <a href=\"https://stackoverflow.com/a/18896666/211292\">stackoverflow.com/a/18896666/211292</a>"}], "tags": [], "owner": {"reputation": 576, "user_id": 8286652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vh1i7.png?s=128&g=1", "display_name": "Ujjwal Jung Thapa", "link": "https://stackoverflow.com/users/8286652/ujjwal-jung-thapa"}, "is_accepted": false, "score": 4, "last_activity_date": 1546424125, "creation_date": 1546424125, "answer_id": 54004506, "question_id": 48626995, "link": "https://stackoverflow.com/questions/48626995/how-to-create-custom-popup-menu-using-kotlin-in-androidstudio/54004506#54004506", "title": "How to create custom Popup Menu using Kotlin in AndroidStudio?", "body": "<p>Following Kotlin's <em>nice and clean principle</em>:\nYou can do this as well:</p>\n\n<p>1)in your .xml file: <em>(but \"onClick\" in xml can be used while  doing java as well)</em></p>\n\n<pre><code>&lt;Button \n  ........\n  android:onClick=\"showPopUp\"\n  ....../&gt;\n</code></pre>\n\n<p>2)in your .kt file: <em>(using kotlin's lambda expression)</em></p>\n\n<pre><code>fun showPopUp(view: View) {\n    val popupMenu = PopupMenu(this, view)\n    val inflater = popupMenu.menuInflater\n    inflater.inflate(R.menu.header_menu, popupMenu.menu)\n    popupMenu.show()\n\n    popupMenu.setOnMenuItemClickListener {\n        when(it.itemId) {\n            R.id.header1 -&gt; {\n                Toast.makeText(this@MainActivity, item.title, Toast.LENGTH_SHORT).show();\n            }\n            R.id.header2 -&gt; {\n                Toast.makeText(this@MainActivity, item.title, Toast.LENGTH_SHORT).show();\n            }\n            R.id.header3 -&gt; {\n                Toast.makeText(this@MainActivity, item.title, Toast.LENGTH_SHORT).show();\n            }\n            ...........\n        }\n        true\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17289, "favorite_count": 2, "accepted_answer_id": 48628108, "answer_count": 2, "score": 12, "last_activity_date": 1602158022, "creation_date": 1517847889, "last_edit_date": 1578084062, "question_id": 48626995, "link": "https://stackoverflow.com/questions/48626995/how-to-create-custom-popup-menu-using-kotlin-in-androidstudio", "title": "How to create custom Popup Menu using Kotlin in AndroidStudio?", "body": "<p>I am trying to create popup menu similarly like <a href=\"https://stackoverflow.com/q/21329132/2462531\">this</a> on click on a button view in Android using Koltin. I searched for SOF and Google didn't find any suggestions. Can anyone provide a sample code to achieve it using kotlin.</p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 2, "creation_date": 1517845644, "post_id": 48626207, "comment_id": 84249369, "body": "View hierarchy is valid between onCreateView and onDestroyView. Typically you (un)register observers i.e. (un)subscribe observables in onStart and onStop. Leave your timer running in a ViewModel and subscribe your UI to it only when actually needed, that&#39;s in onStart and dispose in onStop. That way you won&#39;t leak old view hierarchy."}, {"owner": {"reputation": 2153, "user_id": 734752, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/eFi5T.jpg?s=128&g=1", "display_name": "Roberto Betancourt", "link": "https://stackoverflow.com/users/734752/roberto-betancourt"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1517846708, "post_id": 48626207, "comment_id": 84250077, "body": "I&#39;m already using ViewModel. The call to the updateUi() method actually triggers an update as well as update some ui components(the part that crashes) I&#39;m a bit confused on what you mean by putting the timer inside the viewmodel. Thanks for your comments."}], "answers": [{"comments": [{"owner": {"reputation": 2153, "user_id": 734752, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/eFi5T.jpg?s=128&g=1", "display_name": "Roberto Betancourt", "link": "https://stackoverflow.com/users/734752/roberto-betancourt"}, "edited": false, "score": 0, "creation_date": 1517846600, "post_id": 48626317, "comment_id": 84250003, "body": "I&#39;m already using ViewModel. Inside the updateUi() methods there is a call to update the ViewModel as well as update some ui components (the part that crashes). The Observable interval is to have something like an auto-refresh feature in the app."}, {"owner": {"reputation": 4916, "user_id": 969016, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/z0eok.png?s=128&g=1", "display_name": "Boy", "link": "https://stackoverflow.com/users/969016/boy"}, "reply_to_user": {"reputation": 2153, "user_id": 734752, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/eFi5T.jpg?s=128&g=1", "display_name": "Roberto Betancourt", "link": "https://stackoverflow.com/users/734752/roberto-betancourt"}, "edited": false, "score": 1, "creation_date": 1517903960, "post_id": 48626317, "comment_id": 84272439, "body": "Ok, then it still looks like you should handle the behaviour in the ViewModel and unsubscribe in the onCleared() of the ViewModel"}], "tags": [], "owner": {"reputation": 4916, "user_id": 969016, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/z0eok.png?s=128&g=1", "display_name": "Boy", "link": "https://stackoverflow.com/users/969016/boy"}, "is_accepted": true, "score": 4, "last_activity_date": 1517845732, "creation_date": 1517845732, "answer_id": 48626317, "question_id": 48626207, "link": "https://stackoverflow.com/questions/48626207/android-views-are-null-after-rotation-when-using-rx-java/48626317#48626317", "title": "Android views are null after rotation when using Rx-Java", "body": "<p>On rotation, the screen is being set up again, so the old views are gone.</p>\n\n<p>You have to unsubscribe the subscription (returned by <code>subscribe()</code> call) in the <code>onStop()</code>.</p>\n\n<p>Maybe you should try out <code>ViewModel</code> of the Android architectures. I've been using it lately and really liking it. This will take care of your issue too. <a href=\"https://medium.com/google-developers/viewmodels-a-simple-example-ed5ac416317e\" rel=\"nofollow noreferrer\">https://medium.com/google-developers/viewmodels-a-simple-example-ed5ac416317e</a></p>\n"}], "owner": {"reputation": 2153, "user_id": 734752, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/eFi5T.jpg?s=128&g=1", "display_name": "Roberto Betancourt", "link": "https://stackoverflow.com/users/734752/roberto-betancourt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 1, "accepted_answer_id": 48626317, "answer_count": 1, "score": 1, "last_activity_date": 1517845732, "creation_date": 1517845375, "question_id": 48626207, "link": "https://stackoverflow.com/questions/48626207/android-views-are-null-after-rotation-when-using-rx-java", "title": "Android views are null after rotation when using Rx-Java", "body": "<p>I'm accessing all of the views in a fragment with Kotlin Android Extensions, this views work as expected and can be accessed normally even after screen rotations.</p>\n\n<p>The problem starts when i try to access the views inside an Rx-Java observable interval like this:</p>\n\n<pre><code> var interval = Observable.interval(10, TimeUnit.SECONDS, Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n\ninterval.retry().subscribe { updateUi(); }\n</code></pre>\n\n<p>If i rotate the screen between intervals. The next time the updateUi() method is run as a part of the observable, the views inside it will be null and the application will crash with the following exception:</p>\n\n<blockquote>\n  <p>io.reactivex.exceptions.OnErrorNotImplementedException: text_view must not be null</p>\n</blockquote>\n\n<p>But if i try to run the method outside the observable, everything will work correctly.</p>\n\n<p>I know that accessing the views with findViewById() will retrieve the view correctly, but that defeats the purpuose of having the kotlin-android-extensions. </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 1, "creation_date": 1517841316, "post_id": 48624864, "comment_id": 84246513, "body": "At the moment you are not checking before you pop, so are you trying to pop from an empty Stack?"}, {"owner": {"reputation": 1359, "user_id": 7670489, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0134f1b1831164ab62ebd1b64ed01606?s=128&d=identicon&r=PG&f=1", "display_name": "VolodymyrH", "link": "https://stackoverflow.com/users/7670489/volodymyrh"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1517841647, "post_id": 48624864, "comment_id": 84246738, "body": "@jrtapsell It&#39;s test code, I even doesn&#39;t call pop. It throws on push. I&#39;m just trying to understand what&#39;s wrong with declaration"}, {"owner": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "edited": false, "score": 0, "creation_date": 1517841816, "post_id": 48624864, "comment_id": 84246833, "body": "If the List is immutable (array always is) in size so it will not increase in size. Using an list the better is to use add() since it will increase the back array to fit the new elements size."}, {"owner": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "edited": false, "score": 0, "creation_date": 1517841836, "post_id": 48624864, "comment_id": 84246840, "body": "Or create the list with the size of size:Int"}, {"owner": {"reputation": 5624, "user_id": 3487617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3d54c70f0272d988d1b6372b2bcca06?s=128&d=identicon&r=PG", "display_name": "Hank D", "link": "https://stackoverflow.com/users/3487617/hank-d"}, "edited": false, "score": 0, "creation_date": 1517842123, "post_id": 48624864, "comment_id": 84247039, "body": "The <code>[ ]</code> operators call <code>List.get()</code> and <code>List.set()</code> which assume that you will never try to access an index that doesn&#39;t exist.  Your initial List has a size of 0, so calling <code>get</code> (or using <code>[ ]</code>) will always throw an index out of bounds exception"}], "answers": [{"tags": [], "owner": {"reputation": 2652, "user_id": 2564509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee271c732af6e0cfb7ae33d2c277b4d?s=128&d=identicon&r=PG", "display_name": "djm.im", "link": "https://stackoverflow.com/users/2564509/djm-im"}, "is_accepted": true, "score": 1, "last_activity_date": 1517842292, "last_edit_date": 1517842292, "creation_date": 1517841630, "answer_id": 48624993, "question_id": 48624864, "link": "https://stackoverflow.com/questions/48624864/list-or-array-is-always-empty-in-kotlin/48624993#48624993", "title": "List or array is always empty in Kotlin", "body": "<p>This line is the problem \n<code>private var stackArray: ArrayList&lt;Long&gt; = arrayListOf()</code>.<br>\nIt creates an array which length is 0. </p>\n\n<p>Perhaps, you want something like this\n<code>val stackArray: LongArray = LongArray(size)</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1359, "user_id": 7670489, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0134f1b1831164ab62ebd1b64ed01606?s=128&d=identicon&r=PG&f=1", "display_name": "VolodymyrH", "link": "https://stackoverflow.com/users/7670489/volodymyrh"}, "edited": false, "score": 0, "creation_date": 1517842306, "post_id": 48625037, "comment_id": 84247165, "body": "That&#39;s correct, but I forgot to update the code, the problem is with a simple array, like int a[] = new int[10];"}, {"owner": {"reputation": 1359, "user_id": 7670489, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0134f1b1831164ab62ebd1b64ed01606?s=128&d=identicon&r=PG&f=1", "display_name": "VolodymyrH", "link": "https://stackoverflow.com/users/7670489/volodymyrh"}, "edited": false, "score": 0, "creation_date": 1517842911, "post_id": 48625037, "comment_id": 84247607, "body": "But what if I want some custom type array? Like:  DataItem a[] = new DataItem[4];"}, {"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "reply_to_user": {"reputation": 1359, "user_id": 7670489, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0134f1b1831164ab62ebd1b64ed01606?s=128&d=identicon&r=PG&f=1", "display_name": "VolodymyrH", "link": "https://stackoverflow.com/users/7670489/volodymyrh"}, "edited": false, "score": 1, "creation_date": 1517843170, "post_id": 48625037, "comment_id": 84247801, "body": "<code>val a = arrayOfNulls&lt;DataItem&gt;(4)</code> - an array of 4 <code>DataItem</code> objects, each initialized to <code>null</code>"}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1517843474, "last_edit_date": 1517843474, "creation_date": 1517841773, "answer_id": 48625037, "question_id": 48624864, "link": "https://stackoverflow.com/questions/48624864/list-or-array-is-always-empty-in-kotlin/48625037#48625037", "title": "List or array is always empty in Kotlin", "body": "<p>The problem is in your <code>push()</code> method.</p>\n\n<pre><code>private var stackArray: ArrayList&lt;Long&gt; = arrayListOf() // size = 0\nprivate var top = -1\n\nfun push(data: Long) {\n    stackArray[++top] = data // top = 0\n}\n</code></pre>\n\n<p>What you're trying to do is to get the <code>0th</code> element of an <em>empty</em> list.</p>\n\n<p><strong>Possible fix:</strong></p>\n\n<pre><code>fun push(data: Long) {\n    stackArray.add(data)\n    ++top\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Updated</strong>.</p>\n\n<ul>\n<li><p>Creating an <code>int</code> array of the specified size:</p>\n\n<pre><code>int[] a = new int[10]; // Java\nval a = IntArray(10)   // Kotlin\n</code></pre>\n\n<p>All elements are initialized to zero.</p></li>\n<li><p>Creating a <code>DataItem</code> array:</p>\n\n<pre><code>DataItem[] b = new DataItem[10];   // Java\nval b = arrayOfNulls&lt;DataItem&gt;(10) // Kotlin\n</code></pre>\n\n<p>All elements are initialized to <code>null</code>.</p></li>\n</ul>\n"}], "owner": {"reputation": 1359, "user_id": 7670489, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0134f1b1831164ab62ebd1b64ed01606?s=128&d=identicon&r=PG&f=1", "display_name": "VolodymyrH", "link": "https://stackoverflow.com/users/7670489/volodymyrh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1240, "favorite_count": 0, "accepted_answer_id": 48624993, "answer_count": 2, "score": 1, "last_activity_date": 1517843474, "creation_date": 1517841143, "last_edit_date": 1517842513, "question_id": 48624864, "link": "https://stackoverflow.com/questions/48624864/list-or-array-is-always-empty-in-kotlin", "title": "List or array is always empty in Kotlin", "body": "<p>I'm trying to write simple Stack on Kotlin, but all data containers are always throws ArrayIndexOutOfBoundsException. I can't find out what can cause this problem:</p>\n\n<pre><code>class StackX(size: Int) {\n    private var maxSize: Int = size\n    private var stackArray: Array&lt;Long&gt; = arrayOf(maxSize.toLong())\n    private var top = -1\n\n    fun push(data: Long) {\n        stackArray[++top] = data\n    }\n\n    fun pop() : Long {\n        return stackArray[top--]\n    }\n\n    fun peek() : Long {\n        return stackArray[top]\n    }\n\n    fun isEmpty() : Boolean {\n        return (top == -1)\n    }\n\n    fun isFull() : Boolean {\n        return (top == maxSize -1)\n    }\n}\n</code></pre>\n\n<p>Could you please explain me the right patter of arrays declaration in this case? I want just this:</p>\n\n<pre><code>int a[] = new int[10];\n</code></pre>\n\n<p>P.S. It's test code, I even doesn't call pop. It throws on push. I'm just trying to understand what's wrong with declaration.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1517841166, "post_id": 48624815, "comment_id": 84246411, "body": "You may want to look at <a href=\"https://stackoverflow.com/questions/3322152/is-there-a-way-to-get-rid-of-accents-and-convert-a-whole-string-to-regular-lette\">this</a>, although it is for desktop you can probably use the same on Android, as the package is in the <a href=\"https://developer.android.com/reference/java/text/Normalizer.html\" rel=\"nofollow noreferrer\">docs</a>"}, {"owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1517841319, "post_id": 48624815, "comment_id": 84246515, "body": "I am afraid normalizer is not enough for me. If I would like for each &#39;cafe&#39; and &#39;caf&#233;&#39; to provide me with hint &#39;cafe&#39; it would be fine. But if I want to provide user with hint &#39;caf&#233;&#39; (if he is spanish or smth) the normalizer won&#39;t cover it."}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1517841544, "post_id": 48624815, "comment_id": 84246673, "body": "Do you need to keep <code>caf&#233;</code> and <code>cafe</code> distinct, or can they be the same hint with an internationalised name?"}, {"owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1517842037, "post_id": 48624815, "comment_id": 84246997, "body": "I can keep them distinct"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517842475, "post_id": 48624815, "comment_id": 84247301, "body": "You should store the normalized form of all hints <i>in addition to the accented form</i> and match the normalized form of input to it. You should do this anyway to be able to index by the normalized form."}], "answers": [{"comments": [{"owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "edited": false, "score": 0, "creation_date": 1517906362, "post_id": 48626131, "comment_id": 84273614, "body": "Thanks, that is exactly what I need. I have found problem with that tho, in Polish simmilar letters (e and \u0119 for example) are considered primary differences and I cannot compare them equal with any strength. I may prepare set of rules for languages which has the same problem, unless there is something better to do with that."}, {"owner": {"reputation": 38714, "user_id": 45668, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d4288118e4836464de401d53b60466dd?s=128&d=identicon&r=PG", "display_name": "Malcolm", "link": "https://stackoverflow.com/users/45668/malcolm"}, "reply_to_user": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "edited": false, "score": 0, "creation_date": 1517925679, "post_id": 48626131, "comment_id": 84286330, "body": "@Micha\u0142Pow\u0142oka In that case, there is <a href=\"https://developer.android.com/reference/java/text/RuleBasedCollator.html\" rel=\"nofollow noreferrer\"><code>RuleBasedCollator</code></a>, where you can set the rules yourself."}], "tags": [], "owner": {"reputation": 38714, "user_id": 45668, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d4288118e4836464de401d53b60466dd?s=128&d=identicon&r=PG", "display_name": "Malcolm", "link": "https://stackoverflow.com/users/45668/malcolm"}, "is_accepted": true, "score": 3, "last_activity_date": 1517845160, "creation_date": 1517845160, "answer_id": 48626131, "question_id": 48624815, "link": "https://stackoverflow.com/questions/48624815/how-to-match-all-simmilar-symbols-e-%c4%99-or-%c3%a9-in-java-kotlin/48626131#48626131", "title": "How to match all simmilar symbols (e, \u0119 or &#233;) in java/kotlin", "body": "<p>There is a class in Java for these cases: <a href=\"https://developer.android.com/reference/java/text/Collator.html\" rel=\"nofollow noreferrer\"><code>java.text.Collator</code></a>. You need to set the strength of comparison and use it to compare the strings. Here's an example of how you use it:</p>\n\n<pre><code>val collator = Collator.getInstance().apply {\n     strength = Collator.PRIMARY\n}\nval order = collator.compare(\"caf\u00e9\", \"cafe\")\n</code></pre>\n"}], "owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 48626131, "answer_count": 1, "score": 2, "last_activity_date": 1517845160, "creation_date": 1517841015, "last_edit_date": 1517841450, "question_id": 48624815, "link": "https://stackoverflow.com/questions/48624815/how-to-match-all-simmilar-symbols-e-%c4%99-or-%c3%a9-in-java-kotlin", "title": "How to match all simmilar symbols (e, \u0119 or &#233;) in java/kotlin", "body": "<p>Is there any native mechanism in java/kotlin/android sdk that can help me unify all simmilar symbols?</p>\n\n<p>What I need to achieve is that weather user types caf\u00e9, cafe or caf\u0119 to AutoCompleteTextView he should receive the same set of hints.</p>\n\n<p>EDIT:\nAdditional explanation. I need more than normalize string (caf\u00e9 -> cafe). There are cases where my hints will include these special letters and when 'caf\u00e9' will be the hint to be displayed, normalizing user input will make it into 'cafe' and it won't match required hint.</p>\n"}, {"tags": ["kotlin", "destructor"], "comments": [{"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1517836633, "post_id": 48623441, "comment_id": 84243417, "body": "I think Kotlin does not have a destructor because Java does not have a destructor. However, Java has a <code>finalize</code> method, and more info at <a href=\"https://stackoverflow.com/questions/171952/is-there-a-destructor-for-java\" title=\"is there a destructor for java\">stackoverflow.com/questions/171952/&hellip;</a>"}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "reply_to_user": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1517836728, "post_id": 48623441, "comment_id": 84243487, "body": "That depends the target of kotlin use, for JVM there are no destructors as pointed by @Naetmul see this related question <a href=\"https://stackoverflow.com/questions/44747862/does-kotlin-native-have-destructors\" title=\"does kotlin native have destructors\">stackoverflow.com/questions/44747862/&hellip;</a>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517837720, "post_id": 48623441, "comment_id": 84244145, "body": "&quot;like any other programming language&quot;---actually not that many languages have them, and absolutely <i>no</i> languages based on tracing garbage collection have them."}], "answers": [{"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 15, "last_activity_date": 1517840420, "last_edit_date": 1592644375, "creation_date": 1517839613, "answer_id": 48624392, "question_id": 48623441, "link": "https://stackoverflow.com/questions/48623441/destructor-in-kotlin-programming-language/48624392#48624392", "title": "destructor in Kotlin programming language", "body": "<h1>Handling resources that need to be closed in Kotlin</h1>\n<p>You can make your Database Wrapper extend <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html\" rel=\"noreferrer\"><code>Closeable</code></a>.  You can then use it like this.</p>\n<pre><code>val result = MyResource().use { resource -&gt;\n    resource.doThing();\n}\n</code></pre>\n<p>This way inside the use block your resource will be available, afterwards you will get back result, which is what <code>doThing()</code> returns, and your resource will be closed. As you haven't stored it in a variable you also avoid accidentally using the resource after it is closed.</p>\n<h1>Why to avoid <code>finalize</code></h1>\n<p>Finalise is not safe, <a href=\"http://www.informit.com/articles/article.aspx?p=1216151&amp;seqNum=7\" rel=\"noreferrer\">this</a> describes some of problems with them, such as:</p>\n<ul>\n<li>They are not guaranteed to run at all</li>\n<li>When they do run there can be delays before it runs</li>\n</ul>\n<p>The link sums up the problems like this:</p>\n<blockquote>\n<p>Finalizers are unpredictable, often dangerous, and generally unnecessary. Their use can cause erratic behavior, poor performance, and portability problems. Finalizers have a few valid uses, which we\u2019ll cover later in this item, but as a rule of thumb, you should avoid finalizers.</p>\n<p>C++ programmers are cautioned not to think of finalizers as Java\u2019s analog of C++ destructors. In C++, destructors are the normal way to reclaim the resources associated with an object, a necessary counterpart to constructors. In Java, the garbage collector reclaims the storage associated with an object when it becomes unreachable, requiring no special effort on the part of the programmer. C++ destructors are also used to reclaim other nonmemory resources. In Java, the try-finally block is generally used for this purpose.</p>\n</blockquote>\n<h1>If you <em>really</em> need to use finalize</h1>\n<p><a href=\"https://stackoverflow.com/q/43784161/8041461\">This link</a> shows how to override finalize, but it is a bad idea unless absolutely necessary.</p>\n"}], "owner": {"reputation": 510, "user_id": 9149597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f041b176fdf55b7af8b6786c162d8d35?s=128&d=identicon&r=PG&f=1", "display_name": "RKP", "link": "https://stackoverflow.com/users/9149597/rkp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14410, "favorite_count": 0, "accepted_answer_id": 48624392, "answer_count": 1, "score": 14, "last_activity_date": 1517840420, "creation_date": 1517836472, "question_id": 48623441, "link": "https://stackoverflow.com/questions/48623441/destructor-in-kotlin-programming-language", "title": "destructor in Kotlin programming language", "body": "<p>I am new to Kotlin, have written a class in kotlin to perform database operation</p>\n\n<p>I have defined database connection in constructor using init but I want to close database connection using destructor.</p>\n\n<p>Any Idea of how to achieve this using kotlin destructor?</p>\n\n<p>Currently I have wrote a separate function to close connection, which i want to have it using destructor like any other programming language like php,etc</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "edited": false, "score": 1, "creation_date": 1517839381, "post_id": 48623464, "comment_id": 84245233, "body": "You have two unreachable lines in your example :)"}], "tags": [], "owner": {"reputation": 588, "user_id": 6749691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d3b1bce223f8a032530c894cff1759?s=128&d=identicon&r=PG&f=1", "display_name": "mayosk", "link": "https://stackoverflow.com/users/6749691/mayosk"}, "is_accepted": true, "score": 3, "last_activity_date": 1517836551, "creation_date": 1517836551, "answer_id": 48623464, "question_id": 48623316, "link": "https://stackoverflow.com/questions/48623316/what-should-i-return-if-searchable-element-not-found-in-kotlin/48623464#48623464", "title": "What should I return if searchable element not found in Kotlin?", "body": "<p>You need to declare in a function, that returned value could be a null.\nAdd a question mark after type (T?)</p>\n\n<pre><code>fun find(key: Int) : DataItem? {\nvar hashValue = hashFunc(key)\n\n    while (true) {\n        if (hashArray[hashValue].key == key) {\n            return hashArray[hashValue]\n        } else {\n            return null\n        }\n        ++hashValue\n        hashValue %= arraySize\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1359, "user_id": 7670489, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0134f1b1831164ab62ebd1b64ed01606?s=128&d=identicon&r=PG&f=1", "display_name": "VolodymyrH", "link": "https://stackoverflow.com/users/7670489/volodymyrh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 48623464, "answer_count": 1, "score": 0, "last_activity_date": 1517836551, "creation_date": 1517836020, "question_id": 48623316, "link": "https://stackoverflow.com/questions/48623316/what-should-i-return-if-searchable-element-not-found-in-kotlin", "title": "What should I return if searchable element not found in Kotlin?", "body": "<p>I have a method, which search for some element in array. In Java it was \"return null\", but I can't do it in Kotlin. How is it correct to do this?\nMy method:</p>\n\n<pre><code>fun find(key: Int) : DataItem {\n    var hashValue = hashFunc(key)\n\n    while (true) {\n        if (hashArray[hashValue].key == key) {\n            return hashArray[hashValue]\n        } else {\n\n        }\n        ++hashValue\n        hashValue %= arraySize\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1517835803, "post_id": 48623031, "comment_id": 84242880, "body": "You can use <code>return@forEachLine</code>"}, {"owner": {"reputation": 5624, "user_id": 3487617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3d54c70f0272d988d1b6372b2bcca06?s=128&d=identicon&r=PG", "display_name": "Hank D", "link": "https://stackoverflow.com/users/3487617/hank-d"}, "edited": false, "score": 0, "creation_date": 1517842531, "post_id": 48623031, "comment_id": 84247349, "body": "what do you want to do if &quot;test&quot; never appears? Continue on with more logic, or are you just trying to see if it contains &quot;test&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 3, "last_activity_date": 1517936383, "last_edit_date": 1517936383, "creation_date": 1517835361, "answer_id": 48623119, "question_id": 48623031, "link": "https://stackoverflow.com/questions/48623031/it-it-possible-to-break-from-foreachline/48623119#48623119", "title": "It it possible to break from foreachline", "body": "<p>No, it's not: non-local returns are only supported for <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"nofollow noreferrer\">inline functions</a>, and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/for-each-line.html\" rel=\"nofollow noreferrer\"><code>forEachLine { ... }</code></a> is not an inline one, so you can only use <code>return@forEachLine</code> that exits the lambda.</p>\n\n<p>An alternative that allows it is to read the lines first and then iterate over them:</p>\n\n<pre><code>bufferedReader.lines().use { lines -&gt;\n    for (it in lines) {\n        val nameParam = it.split(\":\")[0]\n        if (name == \"test\")\n            break\n    }\n}\n</code></pre>\n\n<p><sup>Here, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\" rel=\"nofollow noreferrer\"><code>.use { ... }</code></a> ensures that the lazy <code>Stream</code> created by <code>.lines()</code> is closed once it is not needed anymore.</sup></p>\n"}, {"tags": [], "owner": {"reputation": 469, "user_id": 5634089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/387e4bcf662e32cd6da057c2741c921d?s=128&d=identicon&r=PG", "display_name": "Mani7TAM", "link": "https://stackoverflow.com/users/5634089/mani7tam"}, "is_accepted": false, "score": 1, "last_activity_date": 1517835555, "creation_date": 1517835555, "answer_id": 48623175, "question_id": 48623031, "link": "https://stackoverflow.com/questions/48623031/it-it-possible-to-break-from-foreachline/48623175#48623175", "title": "It it possible to break from foreachline", "body": "<p>Break and continue for custom control structures are not implemented yet.\nYou could use <code>println()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 477, "user_id": 3753943, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004309236529/picture?type=large", "display_name": "Interkot", "link": "https://stackoverflow.com/users/3753943/interkot"}, "is_accepted": false, "score": 0, "last_activity_date": 1603400449, "creation_date": 1603400449, "answer_id": 64490491, "question_id": 48623031, "link": "https://stackoverflow.com/questions/48623031/it-it-possible-to-break-from-foreachline/64490491#64490491", "title": "It it possible to break from foreachline", "body": "<p>The following simple hack works perfectly fine:</p>\n<pre><code> val fileToScann = File(&quot;file.txt&quot;)\n        fileToScan.forEachLine {\n            if( it.contains(&quot;12345&quot;) ) {\n                throw Exception(&quot;line found:&quot;+it)\n            }\n        }\n        throw Exception(&quot;line not found&quot;)\n    }\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 4217930, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100002553754409/picture?type=large", "display_name": "Jonny", "link": "https://stackoverflow.com/users/4217930/jonny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 822, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1603400449, "creation_date": 1517835081, "question_id": 48623031, "link": "https://stackoverflow.com/questions/48623031/it-it-possible-to-break-from-foreachline", "title": "It it possible to break from foreachline", "body": "<p>is it possible to break from foreachline. my code : </p>\n\n<pre><code>       fun test() {\n        bufferedReader.forEachLine {\n            val nameParam = it.split(\":\")[0]\n            if (name == \"test\")\n                return // here i wan to return from function\n        }\n    }\n</code></pre>\n\n<p>I've tried 'return@foreachline' but it just continue to next line</p>\n"}, {"tags": ["android", "facebook", "kotlin", "ads"], "answers": [{"tags": [], "owner": {"reputation": 10194, "user_id": 2624806, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d83cab7407f779ce96a0a90222b8f729?s=128&d=identicon&r=PG&f=1", "display_name": "CoDe", "link": "https://stackoverflow.com/users/2624806/code"}, "is_accepted": true, "score": 0, "last_activity_date": 1518050767, "creation_date": 1518050767, "answer_id": 48675721, "question_id": 48622867, "link": "https://stackoverflow.com/questions/48622867/facebook-ads-sdk-integration-changing-existing-project-configuration/48675721#48675721", "title": "Facebook Ads SDK integration changing existing project configuration", "body": "<p>Got fix for this. This was issue with dependent lib version mis matching, it was different in my app project &amp; FB SDK. There is well directed solution propose <strong><a href=\"https://docs.gradle.org/current/userguide/customizing_dependency_resolution_behavior.html\" rel=\"nofollow noreferrer\">here</a></strong> </p>\n\n<p>And I modified it as per my need, In following case both app &amp; added 3rd part libs will use same version 26.1.0.</p>\n\n<pre><code>// Configuration need to align &amp; force FB SDK to use app using version which is 26.1.0.\nconfigurations.all {\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n        if (details.requested.group == 'com.android.support') {\n            details.useVersion \"26.1.0\"\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 10194, "user_id": 2624806, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d83cab7407f779ce96a0a90222b8f729?s=128&d=identicon&r=PG&f=1", "display_name": "CoDe", "link": "https://stackoverflow.com/users/2624806/code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 48675721, "answer_count": 1, "score": 0, "last_activity_date": 1518050767, "creation_date": 1517834536, "question_id": 48622867, "link": "https://stackoverflow.com/questions/48622867/facebook-ads-sdk-integration-changing-existing-project-configuration", "title": "Facebook Ads SDK integration changing existing project configuration", "body": "<p>I have written an app using Kotlin which has all integration which uses Fragment/Activity. Now I'm integrating <a href=\"https://developers.facebook.com/docs/app-ads/app-setup\" rel=\"nofollow noreferrer\">Facebook Ads SDK</a>, but as soon dependency get sync, application code started to throw compilation error on building.</p>\n\n<pre><code>implementation 'com.facebook.android:facebook-android-sdk:[4,5)'\n</code></pre>\n\n<p>Most of these are relate with how kotlin null assertion I have used across application. PFA. <a href=\"https://i.stack.imgur.com/siatq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/siatq.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/eGwyo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eGwyo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any chance FB SDK changed default property but how come that is possible though this has added as external SDK.</p>\n\n<p>Any suggestion what is issue &amp; how can this be fixed ?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-tabhost"], "answers": [{"tags": [], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "is_accepted": false, "score": 0, "last_activity_date": 1518171204, "creation_date": 1518171204, "answer_id": 48703480, "question_id": 48622243, "link": "https://stackoverflow.com/questions/48622243/how-to-use-tabhost-in-kotlin/48703480#48703480", "title": "How to use TabHost in Kotlin", "body": "<p>I found out how to do this :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        binding.tabHost.setOnTabChangedListener(TabHost.OnTabChangeListener() {\r\n        if (it.equals(TAG_NEWS))\r\n            setNews()\r\n        else if (it.equals(TAG_INFOS))\r\n            setInfos()\r\n        else if (it.equals(TAG_CONTACT))\r\n            setContact()\r\n        })</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Actually, when you click on a tab, in :</p>\n\n<pre><code>binding.tabHost.setOnTabChangedListener(TabHost.OnTabChangeListener() {\n  // it: String\n}\n</code></pre>\n\n<p>the value of \"it\" is a string, that is equal to the value of the TabSpec of the tab you clicked on. For example, here, if I click on \"Contact\", the value of \"it\" will be TAG_CONTACT.</p>\n\n<p>So, in the function, you just have to put some if/else, and it will do the job ! :)</p>\n"}], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 782, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518171204, "creation_date": 1517832434, "last_edit_date": 1517835814, "question_id": 48622243, "link": "https://stackoverflow.com/questions/48622243/how-to-use-tabhost-in-kotlin", "title": "How to use TabHost in Kotlin", "body": "<p>I would like to make a TabHost with 3 tabs in Kotlin.</p>\n\n<p>When the fragment is launch, it set a tabHost with 3 tabs, and in each tab, there is 1 fragment: Infos, news, and contact.</p>\n\n<p>Here is how I set the tabs in my fragment :</p>\n\n<pre><code>var spec = binding.tabHost.newTabSpec(TAG_INFOS)\nspec.setContent(R.id.tab_infos)\nspec.setIndicator(getString(R.string.infos))\nbinding.tabHost.addTab(spec)\n\nspec = binding.tabHost.newTabSpec(TAG_NEWS)\nspec.setContent(R.id.tab_news)\nspec.setIndicator(getString(R.string.news))\nbinding.tabHost.addTab(spec)\n\nspec = binding.tabHost.newTabSpec(TAG_CONTACT)\nspec.setContent(R.id.tab_contact)\nspec.setIndicator(getString(R.string.contact))\nbinding.tabHost.addTab(spec)\n</code></pre>\n\n<p>Now I try to set a kind of onClickListener but for tabs, like this :</p>\n\n<pre><code>binding.tabHost.setOnTabChangedListener(TabHost.OnTabChangeListener() {\n    @Override\n    fun onTabChange(tabId: String) {\n        if (TAG_INFOS.equals(tabId)) {\n        fragmentManager.beginTransaction().replace(R.id.tab_infos, infosFragment, TAG_INFOS)\n         }\n         if (TAG_NEWS.equals(tabId)) {\n             println(\"IF NEWS\")\n         }\n         if (TAG_CONTACT.equals(tabId)) {\n              println(\"IF CONTACT\")\n         }\n     }\n})\n</code></pre>\n\n<p>But this does not seems to work, I don't even know how to use the onTabChange func.</p>\n\n<p>I already tried:</p>\n\n<pre><code>fragmentManager.beginTransaction().replace(R.id.tab_infos, infosFragment, TAG_INFOS)\n</code></pre>\n\n<p>but it only set my fragment layout, without allowing me to modify the data inside from a <code>ViewModel</code></p>\n\n<p>How can I set a fragment in each tab? What is the syntax?</p>\n"}, {"tags": ["android", "annotations", "kotlin"], "comments": [{"owner": {"reputation": 2958, "user_id": 1697047, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MqlFH.jpg?s=128&g=1", "display_name": "Sree", "link": "https://stackoverflow.com/users/1697047/sree"}, "edited": false, "score": 1, "creation_date": 1517830549, "post_id": 48621598, "comment_id": 84239767, "body": "Why don&#39;t you go for a null check? rather than make IDE understand"}, {"owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "edited": false, "score": 1, "creation_date": 1517830575, "post_id": 48621598, "comment_id": 84239780, "body": "There are a few ways, I would need to see more of the code to tell you what makes more sense, or you can do your own work starting here <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/null-safety.html</a>. BTW the method isNotNull does not offer much of an advantage readability-wise in my opinion."}, {"owner": {"reputation": 1114, "user_id": 4477481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-R94nG6dKoa4/AAAAAAAAAAI/AAAAAAAAGkA/1pM1eNCHIuc/photo.jpg?sz=128", "display_name": "Narek Hayrapetyan", "link": "https://stackoverflow.com/users/4477481/narek-hayrapetyan"}, "edited": false, "score": 0, "creation_date": 1517831176, "post_id": 48621598, "comment_id": 84240125, "body": "Why don&#39;t you go for a null check?  Answer: Just want to make null check statements more shorter and quick call this fun"}], "answers": [{"comments": [{"owner": {"reputation": 1114, "user_id": 4477481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-R94nG6dKoa4/AAAAAAAAAAI/AAAAAAAAGkA/1pM1eNCHIuc/photo.jpg?sz=128", "display_name": "Narek Hayrapetyan", "link": "https://stackoverflow.com/users/4477481/narek-hayrapetyan"}, "edited": false, "score": 0, "creation_date": 1517830784, "post_id": 48621696, "comment_id": 84239898, "body": "Hi, thank you for response. I did as as suggested but again the IDE warns to use the &quot;it&quot; with safe &quot;?&quot; mark.  val response:Response? = value.let {  val response: Response? = it.response }"}, {"owner": {"reputation": 1114, "user_id": 4477481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-R94nG6dKoa4/AAAAAAAAAAI/AAAAAAAAGkA/1pM1eNCHIuc/photo.jpg?sz=128", "display_name": "Narek Hayrapetyan", "link": "https://stackoverflow.com/users/4477481/narek-hayrapetyan"}, "edited": false, "score": 0, "creation_date": 1517830811, "post_id": 48621696, "comment_id": 84239914, "body": "aaahh, OK, sorry, I forgot the ? at start  Thanks"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 1114, "user_id": 4477481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-R94nG6dKoa4/AAAAAAAAAAI/AAAAAAAAGkA/1pM1eNCHIuc/photo.jpg?sz=128", "display_name": "Narek Hayrapetyan", "link": "https://stackoverflow.com/users/4477481/narek-hayrapetyan"}, "edited": false, "score": 1, "creation_date": 1517830897, "post_id": 48621696, "comment_id": 84239962, "body": "I didn&#39;t suggest to write <code>val response = value?.let [...]</code>, but to put the entire logic you&#39;re about to perform on the <code>response</code> inside the <code>let</code> block."}, {"owner": {"reputation": 1114, "user_id": 4477481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-R94nG6dKoa4/AAAAAAAAAAI/AAAAAAAAGkA/1pM1eNCHIuc/photo.jpg?sz=128", "display_name": "Narek Hayrapetyan", "link": "https://stackoverflow.com/users/4477481/narek-hayrapetyan"}, "edited": false, "score": 0, "creation_date": 1517830933, "post_id": 48621696, "comment_id": 84239981, "body": "But whether  there is no way to do null check with high level functions in general way?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 1114, "user_id": 4477481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-R94nG6dKoa4/AAAAAAAAAAI/AAAAAAAAGkA/1pM1eNCHIuc/photo.jpg?sz=128", "display_name": "Narek Hayrapetyan", "link": "https://stackoverflow.com/users/4477481/narek-hayrapetyan"}, "edited": false, "score": 1, "creation_date": 1517831022, "post_id": 48621696, "comment_id": 84240036, "body": "Not in the way you wanted. Imagine your <code>isNotNull</code> function called another one, involved dynamic method dispatch (so it doesn&#39;t even know which method it&#39;s calling), and that other method made the decision? It&#39;s just not amenable to static analysis."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 2, "last_activity_date": 1517830414, "creation_date": 1517830414, "answer_id": 48621696, "question_id": 48621598, "link": "https://stackoverflow.com/questions/48621598/how-to-make-ide-to-understand-that-the-object-exactly-not-null-after-method-cal/48621696#48621696", "title": "How to make IDE to understand that, the object exactly not null after method call", "body": "<p>Instead of an opaque <code>isNotNull</code> method call, which Kotlin can't (and shouldn't) reason about, use one of the idioms native to the language, such as:</p>\n\n<pre><code>value?.let {\n    val response = it.response\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1114, "user_id": 4477481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-R94nG6dKoa4/AAAAAAAAAAI/AAAAAAAAGkA/1pM1eNCHIuc/photo.jpg?sz=128", "display_name": "Narek Hayrapetyan", "link": "https://stackoverflow.com/users/4477481/narek-hayrapetyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 48621696, "answer_count": 1, "score": 2, "last_activity_date": 1517830414, "creation_date": 1517830103, "last_edit_date": 1517830171, "question_id": 48621598, "link": "https://stackoverflow.com/questions/48621598/how-to-make-ide-to-understand-that-the-object-exactly-not-null-after-method-cal", "title": "How to make IDE to understand that, the object exactly not null after method call", "body": "<p>I am using android studio with Kotlin language</p>\n\n<p><a href=\"https://i.stack.imgur.com/FicL2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FicL2.png\" alt=\"enter image description here\"></a></p>\n\n<p>and when I call the function above, its warning to check null state of \"obj\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/jVtQX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jVtQX.png\" alt=\"enter image description here\"></a></p>\n\n<p>How its possible to make IDE (Android Studio) to understand that after some method call, the (passed) object exactly not null... thanks</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-database"], "answers": [{"tags": [], "owner": {"reputation": 205, "user_id": 2185548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dLsXm.jpg?s=128&g=1", "display_name": "Gama the Great", "link": "https://stackoverflow.com/users/2185548/gama-the-great"}, "is_accepted": false, "score": 1, "last_activity_date": 1519628678, "creation_date": 1519628678, "answer_id": 48983080, "question_id": 48620809, "link": "https://stackoverflow.com/questions/48620809/can-i-using-one-model-for-two-entities-in-room-persistence/48983080#48983080", "title": "Can I using one Model for two entities in Room persistence?", "body": "<p>You can create a separate abstract class that contains all those common fields</p>\n\n<pre><code>abstract class BaseModel(\n    @PrimaryKey\n    var id: String? = null,\n    var caption: String? = null,\n    var imageUrl: String? = null,\n    ...\n) {\n    ...\n}\n</code></pre>\n\n<p>then have that abstract class be extended on the other classes</p>\n\n<pre><code>@Entity(tableName = \"a_model\")\ndata class AModel (\n    mId: String? = null,\n    mCaption: String? = null,\n    mImageUrl: String? = null,\n    ...\n): BaseModel(id = mId,\n        caption = mCaption, \n        imageUrl = mImageUrl,\n        ...) {\n    ...\n}\n</code></pre>\n\n<p>you can also add other fields that are exclusive to that entity</p>\n\n<pre><code>@Entity(tableName = \"b_model\")\ndata class BModel (\n    mId: String? = null,\n    mCaption: String? = null,\n    mImageUrl: String? = null,\n    ...\n    var nonCommonField: String? = null, // like this\n): BaseModel(id = mId,\n        caption = mCaption, \n        imageUrl = mImageUrl,\n        ...) {\n    ...\n}\n</code></pre>\n\n<p>Android Room will require fields to have a default value for each field or an empty constructor, if I remember correctly.</p>\n"}], "owner": {"reputation": 27, "user_id": 3554184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/kKm11.jpg?s=128&g=1", "display_name": "Cashchii", "link": "https://stackoverflow.com/users/3554184/cashchii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519628678, "creation_date": 1517827595, "question_id": 48620809, "link": "https://stackoverflow.com/questions/48620809/can-i-using-one-model-for-two-entities-in-room-persistence", "title": "Can I using one Model for two entities in Room persistence?", "body": "<p>I would like to know that, is it possible to use one model for two entities while using Room Persistence in Kotlin?</p>\n\n<p>For example, I have to create two pagers which are general page and star page.\nBoth of them have fields following..</p>\n\n<blockquote>\n  <p>id: String?, caption: String?, imageUrl:String?, isUserLike: Boolean\n  (And more)</p>\n</blockquote>\n\n<p>Data came from two separate services and I want to save it separately.\nHow can I do this, or there have any ways to solve this problem?</p>\n\n<p>Thank you</p>\n\n<p>P.S. I'm the beginner of Kotlin and Room persistence.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 3872, "user_id": 5471104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-VaHYel-EssQ/AAAAAAAAAAI/AAAAAAAAAMs/TI3mU2yIZtE/photo.jpg?sz=128", "display_name": "Mohammed Atif", "link": "https://stackoverflow.com/users/5471104/mohammed-atif"}, "edited": false, "score": 0, "creation_date": 1517825766, "post_id": 48620115, "comment_id": 84236913, "body": "Where are you even initializing the recyclerview object"}, {"owner": {"reputation": 11, "user_id": 9315966, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HjXJhMS29rE/AAAAAAAAAAI/AAAAAAAAACQ/XGDTXC78vic/photo.jpg?sz=128", "display_name": "muhwyndham", "link": "https://stackoverflow.com/users/9315966/muhwyndham"}, "reply_to_user": {"reputation": 3872, "user_id": 5471104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-VaHYel-EssQ/AAAAAAAAAAI/AAAAAAAAAMs/TI3mU2yIZtE/photo.jpg?sz=128", "display_name": "Mohammed Atif", "link": "https://stackoverflow.com/users/5471104/mohammed-atif"}, "edited": false, "score": 2, "creation_date": 1517825866, "post_id": 48620115, "comment_id": 84236979, "body": "i&#39;m using kotlin android extensions @MohammedAtif"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1517825891, "post_id": 48620115, "comment_id": 84236999, "body": "Your RecyclerView is inside view. You need to access it through view."}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1517826160, "post_id": 48620115, "comment_id": 84237152, "body": "Even if you&#39;re using kotlin extensions, you need to access the recyclerview through the recently inflated view."}, {"owner": {"reputation": 11, "user_id": 9315966, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HjXJhMS29rE/AAAAAAAAAAI/AAAAAAAAACQ/XGDTXC78vic/photo.jpg?sz=128", "display_name": "muhwyndham", "link": "https://stackoverflow.com/users/9315966/muhwyndham"}, "reply_to_user": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1517826250, "post_id": 48620115, "comment_id": 84237195, "body": "ah, you&#39;re right. thanks for noting @LeviAlbuquerque"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9315966, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HjXJhMS29rE/AAAAAAAAAAI/AAAAAAAAACQ/XGDTXC78vic/photo.jpg?sz=128", "display_name": "muhwyndham", "link": "https://stackoverflow.com/users/9315966/muhwyndham"}, "edited": false, "score": 0, "creation_date": 1517826017, "post_id": 48620240, "comment_id": 84237081, "body": "currently i&#39;m using kotlin android extensions, sorry for not including import in the code"}], "tags": [], "owner": {"reputation": 452, "user_id": 7029137, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HJGbI.jpg?s=128&g=1", "display_name": "Hasmukh kachhatiya", "link": "https://stackoverflow.com/users/7029137/hasmukh-kachhatiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1517825863, "creation_date": 1517825863, "answer_id": 48620240, "question_id": 48620115, "link": "https://stackoverflow.com/questions/48620115/kotlin-recyclerview-gave-me-null-pointer-exception/48620240#48620240", "title": "Kotlin recyclerview gave me null pointer exception", "body": "<p>have you declare your recylerview like this</p>\n\n<pre><code> polishrecyler = view .findViewById&lt;View&gt;(R.id.polish_recyler) as RecyclerView\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 9315966, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HjXJhMS29rE/AAAAAAAAAAI/AAAAAAAAACQ/XGDTXC78vic/photo.jpg?sz=128", "display_name": "muhwyndham", "link": "https://stackoverflow.com/users/9315966/muhwyndham"}, "edited": false, "score": 0, "creation_date": 1517826713, "post_id": 48620363, "comment_id": 84237451, "body": "this works! thanks! so basically i&#39;m revert to standard way and not using kotlin android extensions i suppose?"}, {"owner": {"reputation": 1162, "user_id": 1363998, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cad3d6c65cb93bd79273d02f17904648?s=128&d=identicon&r=PG", "display_name": "Zonker.in.Geneva", "link": "https://stackoverflow.com/users/1363998/zonker-in-geneva"}, "edited": false, "score": 0, "creation_date": 1588055138, "post_id": 48620363, "comment_id": 108744517, "body": "Yeah, why is this happening? I have two activities and each one is a RecyclerView. One of them works without declaring the private far, the other one crashes. Can we resolve that instead of using an work-around?"}], "tags": [], "owner": {"reputation": 8724, "user_id": 1799145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wdmkL.jpg?s=128&g=1", "display_name": "Silambarasan Poonguti", "link": "https://stackoverflow.com/users/1799145/silambarasan-poonguti"}, "is_accepted": true, "score": 1, "last_activity_date": 1517826246, "creation_date": 1517826246, "answer_id": 48620363, "question_id": 48620115, "link": "https://stackoverflow.com/questions/48620115/kotlin-recyclerview-gave-me-null-pointer-exception/48620363#48620363", "title": "Kotlin recyclerview gave me null pointer exception", "body": "<p>Try this...</p>\n\n<p>You should declare your recyclerview object, before accessing their properties.</p>\n\n<p>.....</p>\n\n<pre><code> private var recycler_view: RecyclerView? = null\n</code></pre>\n\n<p>.....</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view = inflater?.inflate(R.layout.fragment_notes, container, false)\n\n    recycler_view = view.findViewById(R.id.your_recycler_id)\n    recycler_view?.layoutManager = LinearLayoutManager(context)\n    recycler_view?.adapter = NotesAdapter(context)  \n\n    val messageList : MutableList&lt;message&gt; = prepareMessage()\n    (recycler_view?.adapter as NotesAdapter).setMessage(messageList)\n    return view\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 197, "user_id": 2002591, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/491cfbd6e5287f0a68f2a6614fd5f18b?s=128&d=identicon&r=PG", "display_name": "An Quoc Duy Nguyen", "link": "https://stackoverflow.com/users/2002591/an-quoc-duy-nguyen"}, "edited": false, "score": 1, "creation_date": 1543589763, "post_id": 49721332, "comment_id": 93985212, "body": "This answer should be marked as correct answer. Don&#39;t give up guys"}], "tags": [], "owner": {"reputation": 2884, "user_id": 5562901, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/tVhEf.jpg?s=128&g=1", "display_name": "Saurabh Padwekar", "link": "https://stackoverflow.com/users/5562901/saurabh-padwekar"}, "is_accepted": false, "score": 2, "last_activity_date": 1523212318, "creation_date": 1523212318, "answer_id": 49721332, "question_id": 48620115, "link": "https://stackoverflow.com/questions/48620115/kotlin-recyclerview-gave-me-null-pointer-exception/49721332#49721332", "title": "Kotlin recyclerview gave me null pointer exception", "body": "<p>Thats because the views are not created yet in <code>onCreateView</code>. Since you are using <code>kotlinx.android.synthetic</code> you need to access it inside <code>onViewCreated</code>.Like this</p>\n\n<pre><code>   override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n     val view = inflater?.inflate(R.layout.fragment_notes, container, false)\n     return view\n   }\n\n\n  override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    recycler_view = view.findViewById(R.id.your_recycler_id)\n    recycler_view?.layoutManager = LinearLayoutManager(context)\n    recycler_view?.adapter = NotesAdapter(context)\n\n    val messageList : MutableList&lt;message&gt; = prepareMessage()\n    (recycler_view?.adapter as NotesAdapter).setMessage(messageList)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1162, "user_id": 1363998, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cad3d6c65cb93bd79273d02f17904648?s=128&d=identicon&r=PG", "display_name": "Zonker.in.Geneva", "link": "https://stackoverflow.com/users/1363998/zonker-in-geneva"}, "is_accepted": false, "score": 0, "last_activity_date": 1588062623, "last_edit_date": 1588062623, "creation_date": 1588061010, "answer_id": 61475439, "question_id": 48620115, "link": "https://stackoverflow.com/questions/48620115/kotlin-recyclerview-gave-me-null-pointer-exception/61475439#61475439", "title": "Kotlin recyclerview gave me null pointer exception", "body": "<p>I just now had a similar situation.</p>\n\n<p>In my project, I have a <code>RecyclerView</code> working perfectly. In my case, it has five files involved: <code>Foo.kt</code> (the model), <code>FooList.kt</code> (the <code>AppCompatActivity</code> class), <code>FooListAdapter.kt</code>, <code>foo_list.xml</code> (the layout with the <code>RecyclerView</code>) and <code>foo_list_row.xml</code> (my custom row for the <code>ReyclerView</code>). Not sure if it's important or not, but the icon for <code>Foo.kt</code> is <a href=\"https://i.stack.imgur.com/H6Qpy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H6Qpy.png\" alt=\"enter image description here\"></a> while the icon for the <code>FooList.kt</code> and <code>FooListAdapter.kt</code> is <a href=\"https://i.stack.imgur.com/gjmbZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gjmbZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I needed another RecyclerView, so I simply created five new files: <code>Bar.kt</code>, <code>BarList.kit</code>, <code>BarListAdapter.kit</code>, <code>bar_list.xml</code> and <code>bar_list_row.xml</code>. I copied/pasted the code from one to the other, and made the appropriate Foo->Bar changes in the code. This is when I got the same error as the OP. Looking in the <code>import</code> section, the import for <code>RecyclerView</code> was flagged as \"superfluous\". Odd.</p>\n\n<p>Most of the suggested answers here is to declare the variable and use <code>findViewById</code> to reference it. But, my working <code>RecyclerView</code> doesn't do that, so why should it be necessary in the second <code>RecyclerView</code>? It doesn't make sense.</p>\n\n<p>I continued to search and found this solution:</p>\n\n<ol>\n<li>Save the code found in two files I had created manually (<code>BarList.kit</code>\n(the AppCompatActivity file) and the 'corresponding' <code>bar_list.xml</code>)</li>\n<li>Delete those files.</li>\n<li>Right-click on the package name and select <code>New &gt; Activity &gt; Empty Activity</code>. This re-created the files I had just deleted with exactly the same names.</li>\n<li>Restore the code saved from step 1 to the appropriate files.</li>\n</ol>\n\n<p>Now both my <code>RecyclerView</code>s work correctly.</p>\n\n<p>I guess when you use the <code>New &gt; Activity &gt; Empty Activity</code>, Android Studio does some work in the background which is not done if you just create the files manually.</p>\n"}], "owner": {"reputation": 11, "user_id": 9315966, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HjXJhMS29rE/AAAAAAAAAAI/AAAAAAAAACQ/XGDTXC78vic/photo.jpg?sz=128", "display_name": "muhwyndham", "link": "https://stackoverflow.com/users/9315966/muhwyndham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1892, "favorite_count": 1, "accepted_answer_id": 48620363, "answer_count": 4, "score": -5, "last_activity_date": 1588062623, "creation_date": 1517825529, "last_edit_date": 1517825980, "question_id": 48620115, "link": "https://stackoverflow.com/questions/48620115/kotlin-recyclerview-gave-me-null-pointer-exception", "title": "Kotlin recyclerview gave me null pointer exception", "body": "<p>i started learing Kotlin after using Java, curently trying to create recyclerview using Kotlin, but everytime reach this code:</p>\n\n<pre><code>recyclerview!!.layoutManager = LinearlayoutManager(context)\n</code></pre>\n\n<p>inside a fragment, it always returns null for me, and by converting existing Java Code using converter in android studio returns error.Can anyone help me why this is always happened? code below is my current fragment code:  </p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.support.v7.widget.LinearLayoutManager\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport kotlinx.android.synthetic.main.fragment_notes.*\nimport java.sql.Timestamp\n\nclass NotesFragment : Fragment() {\n\n    companion object {\n        fun newInstance(): NotesFragment {\n            return NotesFragment()\n        }\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view = inflater?.inflate(R.layout.fragment_notes, container, false)\n        val messageList : MutableList&lt;message&gt; = prepareMessage()\n\n        recycler_view!!.layoutManager = LinearLayoutManager(context)\n        recycler_view!!.adapter = NotesAdapter(context)   \n        (recycler_view!!.adapter as NotesAdapter).setMessage(messageList)\n        return view\n    }\n\n    private fun prepareMessage(): MutableList&lt;message&gt; {\n        var messageList : MutableList&lt;message&gt; = ArrayList()\n        for(i in 0..10){\n            val timestamp: Long = System.currentTimeMillis()/1000L\n            val message = message(0,\n                    \"Judul Catatan ke $i\",\n                    resources.getString(R.string.lipsum),\n                    timestamp\n                    )\n            messageList.add(message)\n        }\n        return messageList\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "jenkins", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1517823768, "post_id": 48618808, "comment_id": 84235695, "body": "Sounds like you&#39;ve forgot to add <code>kotlin-gradle-plugin</code> to your dependencies in the project <code>build.gradle</code> file (i.e. one level above the <code>app</code> directory)."}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1517825169, "post_id": 48618808, "comment_id": 84236542, "body": "refer <a href=\"https://stackoverflow.com/questions/46101908/error1-0-plugin-with-id-kotlin-android-extensions-not-found\" title=\"error1 0 plugin with id kotlin android extensions not found\">stackoverflow.com/questions/46101908/&hellip;</a>"}, {"owner": {"reputation": 888, "user_id": 2936772, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8960bb970512daf76da477f3895793d2?s=128&d=identicon&r=PG&f=1", "display_name": "Juvi", "link": "https://stackoverflow.com/users/2936772/juvi"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1517839688, "post_id": 48618808, "comment_id": 84245424, "body": "@Michael you are right, since it&#39;s a submodule i thought it would be redundant but it was necessary"}], "owner": {"reputation": 888, "user_id": 2936772, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8960bb970512daf76da477f3895793d2?s=128&d=identicon&r=PG&f=1", "display_name": "Juvi", "link": "https://stackoverflow.com/users/2936772/juvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 974, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517840046, "creation_date": 1517821150, "last_edit_date": 1592644375, "question_id": 48618808, "link": "https://stackoverflow.com/questions/48618808/jenkins-could-not-find-method-api", "title": "Jenkins - Could not find method api()", "body": "<p>I'm implementing CI process with my project using Jenkins tool.\nSeems that there's compile issue when using kotlin, here's my console output for the build:</p>\n<pre><code>What went wrong:\n\nA problem occurred evaluating project ':TestProject'.\n\nPlugin with id 'kotlin-android' not found.\n</code></pre>\n<p>ANDROID_HOME is set where the jenkins runs.</p>\n<p><em><strong>EDIT 1:</strong></em></p>\n<p>the issue fixed when i added 'ext.kotlin_version = '1.2.21'' to the buildscript.</p>\n<p>Now the build fails because of dependency declaration:</p>\n<blockquote>\n<p>What went wrong:</p>\n<p>A problem occurred evaluating project ':TestProject'.</p>\n<p>Could not find method api() for arguments [com.android.support:appcompat-v7:27.0.2] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.</p>\n</blockquote>\n<p>I'm declaring my dependencies with api annotation, since it's a submodule:</p>\n<pre><code>api &quot;com.android.support:appcompat-v7:$android_support_version&quot;\n</code></pre>\n<p>Jenkins won't recognise the api method</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1517820141, "post_id": 48618004, "comment_id": 84233620, "body": "Have you looked at <code>onErrorResumeNext(Function)</code> for handling the error and <code>flatMap</code> to decide how to continue after an upstream item?"}, {"owner": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1517823710, "post_id": 48618004, "comment_id": 84235652, "body": "I was trying to but it does not make much sense to me. Could you provide an example?"}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "edited": false, "score": 0, "creation_date": 1517824002, "post_id": 48618004, "comment_id": 84235841, "body": "What is type of <code>response</code> lambda parameter in first <code>switchMap</code>?"}, {"owner": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "reply_to_user": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "edited": false, "score": 0, "creation_date": 1517824097, "post_id": 48618004, "comment_id": 84235895, "body": "@Google It is my custom <code>TokenResponse</code> object"}], "answers": [{"tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 1, "last_activity_date": 1517824446, "creation_date": 1517824446, "answer_id": 48619763, "question_id": 48618004, "link": "https://stackoverflow.com/questions/48618004/how-to-terminate-sequence-of-switch-maps-in-rxjava2-on-error/48619763#48619763", "title": "How to terminate sequence of switch maps in RxJava2 on error", "body": "<p>Probably, you should do something like this:</p>\n\n<pre><code>fun refreshToken(): Observable&lt;ApplicationRoot&gt; {\n    return authRepository.refreshToken(token)\n            .switchMap { response -&gt;\n                userRepository.getUser()\n            }\n            .switchMap { response -&gt; // do something with user response\n            }\n            .map { ApplicationRoot.ROOT_THAT_MEANS_SUCCESS }\n            .onErrorResumeNext(Observable.just(ApplicationRoot.LOGIN))\n}\n</code></pre>\n\n<p>I am not aware about implementation of <code>authRepository.refreshToken</code> and how do <code>responses</code> look like, but in case if <code>response</code> is your custom object rather than <code>retrofit2.Response&lt;T&gt;</code> it should work.</p>\n"}], "owner": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 48619763, "answer_count": 1, "score": 0, "last_activity_date": 1517824446, "creation_date": 1517817499, "question_id": 48618004, "link": "https://stackoverflow.com/questions/48618004/how-to-terminate-sequence-of-switch-maps-in-rxjava2-on-error", "title": "How to terminate sequence of switch maps in RxJava2 on error", "body": "<p>I am trying to implement a refresh token flow in RxJava2 and Kotlin and I have trouble handling errors. There are several requests that need to be done in sequence but the sequence differs in case there are some errors.</p>\n\n<p>Basically, if I try to use my refresh token and receive <code>400 - Bad Request</code>response because the token is not valid, I need to terminate the flow and do not execute the next <code>switchMap</code> (and ideally, I would like to return the final <code>Observable&lt;ApplicationRoot&gt;</code>). But I am not sure how to achieve this.</p>\n\n<p>If I use <code>onErrorReturn</code>, I will just pass the returned result to the next switch map. And <code>doOnError</code> just executes the step when the request fails but the whole sequence continues.</p>\n\n<pre><code>fun refreshToken(): Observable&lt;ApplicationRoot&gt; {\n        // try to use the refresh token to obtain an access token\n        return authRepository.refreshToken(token)\n                .switchMap { response -&gt;\n                    // process response here\n                    userRepository.getUser() // fetch user details\n                }.doOnError {\n                    // TODO - return final result, do not jump to next switchMap\n\n                    // refresh token is not valid -&gt; go to login screen\n                    Observable.just(ApplicationRoot.LOGIN) // not working\n                }.switchMap { response -&gt; // excpects response of type UserResponse\n                    // save user details here\n                }\n}\n</code></pre>\n\n<p>Does anyone know who to jump out of the sequence of switch maps if some error occurs?</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 2, "creation_date": 1517907318, "post_id": 48617490, "comment_id": 84274175, "body": "Thanks for the idea: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/224\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/issues/224</a>"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1523340434, "post_id": 48617490, "comment_id": 86507151, "body": "hey, did you notice the new feature? <a href=\"https://stackoverflow.com/a/48680672/8073652\">stackoverflow.com/a/48680672/8073652</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5624, "user_id": 3487617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3d54c70f0272d988d1b6372b2bcca06?s=128&d=identicon&r=PG", "display_name": "Hank D", "link": "https://stackoverflow.com/users/3487617/hank-d"}, "edited": false, "score": 1, "creation_date": 1517843183, "post_id": 48617770, "comment_id": 84247807, "body": "Using <code>let</code> over <code>Option</code> is more idiomatic for kotlin, see <a href=\"https://kotlinlang.org/docs/reference/idioms.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/idioms.html</a> which mentions <code>let</code> but not <code>Option</code>/<code>Optional</code>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1517831935, "last_edit_date": 1517831935, "creation_date": 1517816319, "answer_id": 48617770, "question_id": 48617490, "link": "https://stackoverflow.com/questions/48617490/how-to-handle-the-null-scenario-with-kotlinx-coroutines-reactive/48617770#48617770", "title": "How to handle the null scenario with kotlinx-coroutines-reactive?", "body": "<p>There are no standard <code>Optional</code> wrappers in Kotlin. You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\">the <code>let</code> function</a> for such cases:</p>\n\n<pre><code>val person = peopleRepository.findById(personId).awaitFirstOrDefault(null)?.let {\n    // do\n}\n</code></pre>\n\n<p>If the await-expression evaluates to the default <code>null</code>, the <code>let</code> invocation will also evaluate to <code>null</code>. If you need to handle this case, the <a href=\"https://stackoverflow.com/a/48254829/8073652\">Elvis operator</a> can be used:</p>\n\n<pre><code>.let {...} ?: throw IllegalStateException()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14945, "user_id": 1851024, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FcIKN.png?s=128&g=1", "display_name": "Andrey Chaschev", "link": "https://stackoverflow.com/users/1851024/andrey-chaschev"}, "edited": false, "score": 0, "creation_date": 1517827717, "post_id": 48619858, "comment_id": 84238079, "body": "What is Optional, I am on Kotlin JS?"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 14945, "user_id": 1851024, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FcIKN.png?s=128&g=1", "display_name": "Andrey Chaschev", "link": "https://stackoverflow.com/users/1851024/andrey-chaschev"}, "edited": false, "score": 0, "creation_date": 1517831070, "post_id": 48619858, "comment_id": 84240065, "body": "No, <code>Optional</code> is part of the JDK. <code>Option</code> is part of Arrow."}, {"owner": {"reputation": 14945, "user_id": 1851024, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FcIKN.png?s=128&g=1", "display_name": "Andrey Chaschev", "link": "https://stackoverflow.com/users/1851024/andrey-chaschev"}, "edited": false, "score": 0, "creation_date": 1517988724, "post_id": 48619858, "comment_id": 84313949, "body": "What is Arrow, I am also calling from Objective C?"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 14945, "user_id": 1851024, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FcIKN.png?s=128&g=1", "display_name": "Andrey Chaschev", "link": "https://stackoverflow.com/users/1851024/andrey-chaschev"}, "edited": false, "score": 0, "creation_date": 1518033672, "post_id": 48619858, "comment_id": 84342783, "body": "The question is tagged with [kotlin] and [kotlinx.coroutines] so I don&#39;t know how Objective C might be involved. Arrow is a library for functional programming, there is a link in my answer."}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 1, "last_activity_date": 1517824701, "creation_date": 1517824701, "answer_id": 48619858, "question_id": 48617490, "link": "https://stackoverflow.com/questions/48617490/how-to-handle-the-null-scenario-with-kotlinx-coroutines-reactive/48619858#48619858", "title": "How to handle the null scenario with kotlinx-coroutines-reactive?", "body": "<p>You can definitely use <code>Optional</code> wrappers if you are programming in a functional way.</p>\n\n<p>If you want to get your toes wet with functional programming, you can pick up <a href=\"http://arrow-kt.io/docs/\" rel=\"nofollow noreferrer\">Arrow</a> which has the <a href=\"http://arrow-kt.io/docs/datatypes/option/\" rel=\"nofollow noreferrer\">Option</a> and the <a href=\"http://arrow-kt.io/docs/datatypes/try/\" rel=\"nofollow noreferrer\">Try</a> data types for this purpose.</p>\n\n<p>Using <code>?.let</code> is another option but it won't help you much with reactive programming.</p>\n\n<p>There is also the <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Notification.html\" rel=\"nofollow noreferrer\"><code>Notification</code></a> class in ReactiveX which will lets you handle an erroneous scenario if you are doing <a href=\"https://www.slideshare.net/ScottWlaschin/railway-oriented-programming\" rel=\"nofollow noreferrer\">Railway Oriented Programming</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1518078219, "last_edit_date": 1518078219, "creation_date": 1518077875, "answer_id": 48680672, "question_id": 48617490, "link": "https://stackoverflow.com/questions/48617490/how-to-handle-the-null-scenario-with-kotlinx-coroutines-reactive/48680672#48680672", "title": "How to handle the null scenario with kotlinx-coroutines-reactive?", "body": "<p>An Extension <code>awaitFirstOrNull()</code> has been made available in the recent <code>kotlinx.coroutines</code> release <a href=\"https://github.com/Kotlin/kotlinx.coroutines/releases/tag/0.22.2\" rel=\"nofollow noreferrer\"><strong>0.22.2</strong></a>. See this <a href=\"https://github.com/Kotlin/kotlinx.coroutines/pull/225/files\" rel=\"nofollow noreferrer\">PR</a>.</p>\n\n<p>Taken from the release notes:</p>\n\n<blockquote>\n  <p>Reactive: Added <code>awaitFirstOrDefault</code> and <code>awaitFirstOrNull</code> extensions (see #224, PR by @konrad-kaminski).</p>\n</blockquote>\n"}], "owner": {"reputation": 265, "user_id": 1917434, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/19f3df6104bcca9cb8681aff9881a7ab?s=128&d=identicon&r=PG", "display_name": "Yang Lifan", "link": "https://stackoverflow.com/users/1917434/yang-lifan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1405, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1518078219, "creation_date": 1517815015, "question_id": 48617490, "link": "https://stackoverflow.com/questions/48617490/how-to-handle-the-null-scenario-with-kotlinx-coroutines-reactive", "title": "How to handle the null scenario with kotlinx-coroutines-reactive?", "body": "<p><code>kotlinx-coroutines-reactive</code> makes <code>org.reactivestreams.Publisher</code> to have <code>awaitXXX</code> methods:</p>\n\n<pre><code>val person = peopleReactiveRepository.findById(personId).awaitSingle()\n</code></pre>\n\n<p>If there is no person can be found by a person ID, this invocation will throw NoSuchElementException and <strong>this exception cannot be handled in the user code directly</strong>. And Spring MVC <code>ExceptionHandler</code> can not translate this exception into a user-friendly response.</p>\n\n<pre><code>java.util.NoSuchElementException: No value received via onNext for awaitSingle\nat kotlinx.coroutines.experimental.reactive.AwaitKt$awaitOne$$inlined$suspendCancellableCoroutine$lambda$1.onComplete(Await.kt:131) ~[kotlinx-coroutines-reactive-0.22.1.jar:na]\nat reactor.core.publisher.StrictSubscriber.onComplete(StrictSubscriber.java:123) ~[reactor-core-3.1.2.RELEASE.jar:3.1.2.RELEASE]\nat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:1327) ~[reactor-core-3.1.2.RELEASE.jar:3.1.2.RELEASE]\nat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onComplete(FluxHide.java:137) ~[reactor-core-3.1.2.RELEASE.jar:3.1.2.RELEASE]\nat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:130) ~[reactor-core-3.1.2.RELEASE.jar:3.1.2.RELEASE]\nat reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:96) ~[reactor-core-3.1.2.RELEASE.jar:3.1.2.RELEASE]\nat com.mongodb.reactivestreams.client.internal.ObservableToPublisher$1.onComplete(ObservableToPublisher.java:78) ~[mongodb-driver-reactivestreams-1.6.0.jar:na]\n</code></pre>\n\n<p>One of approaches I can figure out is in the following: </p>\n\n<pre><code>val person = peopleRepository.findById(personId).awaitFirstOrDefault(null)\n\nif (person == null) {\n    // do something\n}\n</code></pre>\n\n<p>But I do not think it is an elegant way. For example, can provide a method named <code>awaitSingleOptional</code>.</p>\n\n<p>Is there any better Kotlin way to handle this scenario?</p>\n"}, {"tags": ["java", "logging", "kotlin", "ioexception"], "comments": [{"owner": {"reputation": 616, "user_id": 9094803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432d3e129020382158b7782e2007344c?s=128&d=identicon&r=PG&f=1", "display_name": "Yama&#231; Kurtulu\u015f", "link": "https://stackoverflow.com/users/9094803/yama%c3%a7-kurtulu%c5%9f"}, "edited": false, "score": 0, "creation_date": 1517801220, "post_id": 48615450, "comment_id": 84227847, "body": "It is possible that the resource is being accessed again by another File object, before having released by the original. You should close all the streams when they are no longer required."}, {"owner": {"reputation": 71, "user_id": 6935076, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BUxI0.jpg?s=128&g=1", "display_name": "Alex Couch", "link": "https://stackoverflow.com/users/6935076/alex-couch"}, "reply_to_user": {"reputation": 616, "user_id": 9094803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432d3e129020382158b7782e2007344c?s=128&d=identicon&r=PG&f=1", "display_name": "Yama&#231; Kurtulu\u015f", "link": "https://stackoverflow.com/users/9094803/yama%c3%a7-kurtulu%c5%9f"}, "edited": false, "score": 0, "creation_date": 1517801286, "post_id": 48615450, "comment_id": 84227856, "body": "Time to whip out the debugger :3"}, {"owner": {"reputation": 71, "user_id": 6935076, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BUxI0.jpg?s=128&g=1", "display_name": "Alex Couch", "link": "https://stackoverflow.com/users/6935076/alex-couch"}, "reply_to_user": {"reputation": 616, "user_id": 9094803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432d3e129020382158b7782e2007344c?s=128&d=identicon&r=PG&f=1", "display_name": "Yama&#231; Kurtulu\u015f", "link": "https://stackoverflow.com/users/9094803/yama%c3%a7-kurtulu%c5%9f"}, "edited": false, "score": 0, "creation_date": 1517801377, "post_id": 48615450, "comment_id": 84227875, "body": "Debugger shows the new file variable has a &quot;0&quot; prepended to the path"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1517804212, "post_id": 48615450, "comment_id": 84228478, "body": "You need to post the code <i>here</i>, and <i>also</i> the stack trace, but you shouldn&#39;t even be calling <code>File.createNewFile()</code> here at all. <code>new FileWriter()</code> will create a new file for you. At present you are forcing it to delete the file you just created with <code>createNewFile()</code>, and create <i>another</i> one."}, {"owner": {"reputation": 71, "user_id": 6935076, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BUxI0.jpg?s=128&g=1", "display_name": "Alex Couch", "link": "https://stackoverflow.com/users/6935076/alex-couch"}, "edited": false, "score": 0, "creation_date": 1517807178, "post_id": 48615450, "comment_id": 84229164, "body": "First off, does it even matter? It&#39;s github, not some bitly or tinyurl link. Or some unknown website. It&#39;s githhub ffs. Secondly, FileWriter is being instantiated after the createNewFile call. so that cannot be the cause. If you look at my previous comment, you&#39;ll see that it occasionally prepends &quot;0&quot; to the file path before being appended to the home path I created. I&#39;m gonna debug further. for a visual it looks like this: <code>Users&#47;username&#47;Projauto&#47;id&#47;0&#47;dirpath</code>"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1517808834, "post_id": 48615450, "comment_id": 84229597, "body": "Does what matter? Does a pointless operation that throws an unwanted <code>IOException</code> matter? when a subsequent repetition of the same underlying operation succeeds? Of course it matters. Just remove it."}, {"owner": {"reputation": 71, "user_id": 6935076, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BUxI0.jpg?s=128&g=1", "display_name": "Alex Couch", "link": "https://stackoverflow.com/users/6935076/alex-couch"}, "edited": false, "score": 0, "creation_date": 1517810053, "post_id": 48615450, "comment_id": 84229922, "body": "What? No. I was obviously talking about the link thing you made a deal out of. But whatever. I guess that I what I get for coming to stackoverflow right? But anyways, I specified twice what the actual problem is. For some reason, a 0 is being added to the path when it shouldn&#39;t be."}, {"owner": {"reputation": 8018, "user_id": 4744359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7794bbbd8bab9c8e1f739918c29914cf?s=128&d=identicon&r=PG&f=1", "display_name": "UninformedUser", "link": "https://stackoverflow.com/users/4744359/uninformeduser"}, "edited": false, "score": 0, "creation_date": 1517814179, "post_id": 48615450, "comment_id": 84231277, "body": "That means the line  <code>val p = File(&quot;$home&#47;$id&quot;).toPath().resolve(file).splitPathWithContex&zwnj;&#8203;t(path)</code> adds the <code>0</code> or not? Or what is the value of <code>$home&#47;$id</code> which you also use in <code>val new = File(&quot;$home&#47;$id&quot;, p.path)</code> ?"}, {"owner": {"reputation": 71, "user_id": 6935076, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BUxI0.jpg?s=128&g=1", "display_name": "Alex Couch", "link": "https://stackoverflow.com/users/6935076/alex-couch"}, "edited": false, "score": 0, "creation_date": 1517822207, "post_id": 48615450, "comment_id": 84234717, "body": "I found it. It&#39;s my &quot;splitTextWithContext function&quot;. I knew it wasn&#39;t gonna work but it was working fine up until now. Gotta figure out a replacement for it."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517828533, "post_id": 48615450, "comment_id": 84238559, "body": "<code>I guess that I what I get for coming to stackoverflow right?</code>---that&#39;s what you get for coming to any forum, disregarding its well-established and <a href=\"https://stackoverflow.com/help/how-to-ask\">easily discoverable rules</a>, and proclaiming they don&#39;t matter."}, {"owner": {"reputation": 71, "user_id": 6935076, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BUxI0.jpg?s=128&g=1", "display_name": "Alex Couch", "link": "https://stackoverflow.com/users/6935076/alex-couch"}, "edited": false, "score": 0, "creation_date": 1517904940, "post_id": 48615450, "comment_id": 84272915, "body": "When did I proclaim the rules don&#39;t matter? All I said was that I linked to github which should be a valid way of showing code. But whatever then. I found my answer. We can stop bickering now."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 6935076, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BUxI0.jpg?s=128&g=1", "display_name": "Alex Couch", "link": "https://stackoverflow.com/users/6935076/alex-couch"}, "edited": false, "score": 0, "creation_date": 1517827886, "post_id": 48620891, "comment_id": 84238174, "body": "I&#39;ll come back and select this as my answer when I&#39;m able to"}], "tags": [], "owner": {"reputation": 71, "user_id": 6935076, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BUxI0.jpg?s=128&g=1", "display_name": "Alex Couch", "link": "https://stackoverflow.com/users/6935076/alex-couch"}, "is_accepted": false, "score": 0, "last_activity_date": 1517827857, "creation_date": 1517827857, "answer_id": 48620891, "question_id": 48615450, "link": "https://stackoverflow.com/questions/48615450/java-file-createnewfile-throws-ioexception-before-rest-of-program-is-executed-oc/48620891#48620891", "title": "java File.createNewFile throws IOException before rest of program is executed occasionally", "body": "<p>So what ended up happening was I had this function here for isolating a certain part of the given path to be appended to a new path and also saved to json for later use</p>\n\n<pre><code>fun Path.splitPathWithContext(context: String): File{\n    val presplit = this.normalize()\n    logger.info(\"presplit: $presplit\")\n    logger.info(\"context: $context\")\n    if(presplit.toString() == context){\n        logger.info(\"Path and context are the same.\")\n        return presplit.toFile()\n    }\n    val reg = Pattern.compile(\"\\\\b$context\\\\b\")\n    val ret = presplit.toString().split(reg)[1]\n    logger.info(\"ret: $ret\")\n    return File(ret)\n}\n</code></pre>\n\n<p>The solution was to do a strict pattern check against the context variable so that it doesn't cut at a word that contains that string but isn't that string exactly, and it needed to be exact. This solved my issue. No more problems, and no more broken paths, and I also fixed my loggers. I don't know exactly what was causing it to not do any logging, but I fixed it by setting the root level to \"all\" and then removing all my other logger elements since that's all I needed to do.</p>\n"}], "owner": {"reputation": 71, "user_id": 6935076, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BUxI0.jpg?s=128&g=1", "display_name": "Alex Couch", "link": "https://stackoverflow.com/users/6935076/alex-couch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1517827857, "creation_date": 1517800925, "question_id": 48615450, "link": "https://stackoverflow.com/questions/48615450/java-file-createnewfile-throws-ioexception-before-rest-of-program-is-executed-oc", "title": "java File.createNewFile throws IOException before rest of program is executed occasionally", "body": "<p>I have this project that I'm doing and for whatever reason, whenever I execute the program and put in the given arguments required for it (that I set and all) and occasionally an IOException is thrown before anything else is executed. It seems to be true because I got loggers everywhere and none of them are being fired. However, it seems that just the loggers are not being fired cause when I look in the json file I output to, it shows that it did do the first step of the execution, just no loggers. I'm new to log4j2 so it may be that but I'm not sure (with the loggers not being fired) but it seems weird that an IOException occurs when it shouldn't at all. Cause when I execute it again right after the crash, it runs just fine.</p>\n\n<p>(Side note: this is in kotlin/jvm, but this is pertaining to the use of the JDK File class)</p>\n\n<p>The exception is thrown here: <a href=\"https://github.com/AlexCouch/projauto/blob/master/src/main/java/thinkingcouch/projauto/Save.kt#L114\" rel=\"nofollow noreferrer\">https://github.com/AlexCouch/projauto/blob/master/src/main/java/thinkingcouch/projauto/Save.kt#L114</a></p>\n\n<p>I'm on MacOSX High Sierra using Intellij IDEA 2017.3.</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1517808553, "post_id": 48614711, "comment_id": 84229505, "body": "do you mean that getList() function of ViewModel returns null?"}, {"owner": {"reputation": 5535, "user_id": 8993706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHjJq.jpg?s=128&g=1", "display_name": "M.Ali", "link": "https://stackoverflow.com/users/8993706/m-ali"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1517835249, "post_id": 48614711, "comment_id": 84242520, "body": "yes, you`re right"}], "answers": [{"tags": [], "owner": {"reputation": 5535, "user_id": 8993706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHjJq.jpg?s=128&g=1", "display_name": "M.Ali", "link": "https://stackoverflow.com/users/8993706/m-ali"}, "is_accepted": true, "score": 0, "last_activity_date": 1517848842, "creation_date": 1517848842, "answer_id": 48627302, "question_id": 48614711, "link": "https://stackoverflow.com/questions/48614711/android-architecture-components-viewmodel-returns-null-on-configuration-change/48627302#48627302", "title": "Android Architecture components: ViewModel returns null on configuration change", "body": "<p>i have solved the problem, the problem was in retrofit onResponse callback method\ni remove the else block and everything works fine </p>\n\n<p><strong>before</strong> </p>\n\n<pre><code> override fun onResponse(call: Call&lt;PhotoList&gt;?, response: Response&lt;PhotoList&gt;?) {\n                if (response!!.isSuccessful) {\n                    retlist.value = response.body()?.hits\n                } else {\n                    retlist.value = null\n                }\n                Log.i(\"RECEIVED\", \"size is ${retlist.value?.size} from repository \")\n            }\n</code></pre>\n\n<hr>\n\n<p><strong>after</strong></p>\n\n<pre><code> override fun onResponse(call: Call&lt;PhotoList&gt;?, response: Response&lt;PhotoList&gt;?) {\n                    if (response!!.isSuccessful) {\n                        retlist.value = response.body()?.hits\n                    } \n                    Log.i(\"RECEIVED\", \"size is ${retlist.value?.size} from repository \")\n                }\n</code></pre>\n"}], "owner": {"reputation": 5535, "user_id": 8993706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHjJq.jpg?s=128&g=1", "display_name": "M.Ali", "link": "https://stackoverflow.com/users/8993706/m-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 981, "favorite_count": 0, "accepted_answer_id": 48627302, "answer_count": 1, "score": 0, "last_activity_date": 1517848842, "creation_date": 1517793768, "question_id": 48614711, "link": "https://stackoverflow.com/questions/48614711/android-architecture-components-viewmodel-returns-null-on-configuration-change", "title": "Android Architecture components: ViewModel returns null on configuration change", "body": "<p>I`m developing a gallery app in kotlin using <a href=\"https://pixabay.com/api/docs/\" rel=\"nofollow noreferrer\">pixabay</a> api, implementing Android Architecture components and retrofit to interact with the server.\nthe app works fine but when i change the configuration the view model returns null! what is the problem ?</p>\n\n<pre><code>interface PhotoApi {\n    @GET(context.getString(R.string.api_key))\n    fun getPhotos(): Call&lt;PhotoList&gt;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Retrofit setup</strong></p>\n\n<pre><code>object PhotoRetriever {\n    val BASE_URL = \"https://pixabay.com/api/\"\n    val service: PhotoApi\n\n    init {\n        val retrofit = Retrofit.Builder().baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create()).build()\n        service = retrofit.create(PhotoApi::class.java)\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    //var photoList: List&lt;Photo&gt;? = null\n    lateinit var viewModel: MainActivityViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        viewModel = ViewModelProviders.of(this@MainActivity).get(MainActivityViewModel::class.java)\n        viewModel.getList().observe(this, object :Observer&lt;List&lt;Photo&gt;&gt; {\n            override fun onChanged(t: List&lt;Photo&gt;?) {\n                    textview.setText(t?.get(1)?.webFormatUrl)\n            }\n        })\n</code></pre>\n\n<hr>\n\n<p><strong>the view model class</strong></p>\n\n<pre><code>class MainActivityViewModel : ViewModel() {\n\n    private val repository: Repository\n    lateinit var photoList: LiveData&lt;List&lt;Photo&gt;&gt;\n    val itemsListObservable: MediatorLiveData&lt;List&lt;Photo&gt;&gt;\n\n\n    init {\n        repository = Repository()\n        itemsListObservable = MediatorLiveData()\n    }\n\n    fun getList(): LiveData&lt;List&lt;Photo&gt;&gt; {\n\n       photoList = repository.getNetworkData()\n        Log.i(\"RECEIVED\",\"size is ${photoList.value?.size} from viewModel \")\n        return photoList\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>the Repository class</strong></p>\n\n<pre><code>class Repository {\n    val photoApi: PhotoApi\n    var photoList: List&lt;Photo&gt;?\n    val retlist = MutableLiveData&lt;List&lt;Photo&gt;&gt;()\n\n    init {\n        photoApi = PhotoRetriever.service\n        photoList = ArrayList&lt;Photo&gt;()\n    }\n\n    fun getItemsListFromWeb() {\n        photoApi.getPhotos().enqueue(object : Callback&lt;PhotoList&gt; {\n            override fun onFailure(call: Call&lt;PhotoList&gt;?, t: Throwable?) {\n                // Log.i(\"RECEIVED\",\"${t?.message} from repository \")\n                // retlist.value = null\n            }\n\n            override fun onResponse(call: Call&lt;PhotoList&gt;?, response: Response&lt;PhotoList&gt;?) {\n                if (response!!.isSuccessful) {\n                    retlist.value = response.body()?.hits\n                } else {\n                    retlist.value = null\n                }\n                Log.i(\"RECEIVED\", \"size is ${retlist.value?.size} from repository \")\n            }\n\n        })\n\n    }\n\n    fun getNetworkData(): LiveData&lt;List&lt;Photo&gt;&gt; {\n        getItemsListFromWeb()\n        return retlist\n    }\n\n}\n</code></pre>\n"}, {"tags": ["spring", "intellij-idea", "kotlin", "warnings"], "answers": [{"tags": [], "owner": {"reputation": 5624, "user_id": 3487617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3d54c70f0272d988d1b6372b2bcca06?s=128&d=identicon&r=PG", "display_name": "Hank D", "link": "https://stackoverflow.com/users/3487617/hank-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1517807908, "creation_date": 1517807908, "answer_id": 48616260, "question_id": 48613915, "link": "https://stackoverflow.com/questions/48613915/docs-for-spring-are-telling-me-that-myrepository-findoneid-id-returns-the-enti/48616260#48616260", "title": "Docs for Spring are telling me that myRepository.findOne(Id id) returns the entity or null if none found but IntelliJ says differently", "body": "<p>Neither Kotlin nor IntelliJ know that a java function like <code>findOne()</code> would return null unless it had a <code>@Nullable</code> or similar annotation. When calling java methods that don't have nullity annotations, the type is neither <code>VisitRankEntity</code> nor <code>VisitRankEntity?</code> but rather a \"platform type\" which appears as <code>VisitRankEntity!</code>.  It basically means \"I don't know if it is nullable or not.\" </p>\n\n<p>Assigning/casting the <code>VisitRankEntity!</code> returned by <code>findOne()</code> to <code>VisitRankEntity?</code> is safe to do because it is more general, and will not yield a warning.</p>\n\n<p>Assigning/casting the <code>VisitRankEntity!</code> returned by <code>findOne()</code> to <code>VisitRankEntity</code> will produce a compiler warning that says something like <code>Declaration has type inferred from a platform call, which can lead to unchecked nullability issues. Specify type explicitly as nullable or non-nullable.</code> If you happen to know <code>findOne()</code> will never return null, you can take that warning away by changing it to <code>findOne()!!</code> which basically adds a non-null assertion and casts it to the non-nullable <code>VisitRankEntity</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 0, "last_activity_date": 1517823023, "creation_date": 1517823023, "answer_id": 48619361, "question_id": 48613915, "link": "https://stackoverflow.com/questions/48613915/docs-for-spring-are-telling-me-that-myrepository-findoneid-id-returns-the-enti/48619361#48619361", "title": "Docs for Spring are telling me that myRepository.findOne(Id id) returns the entity or null if none found but IntelliJ says differently", "body": "<p>The problem is that there is no syntax in Java to represent nullability. Even if there is a <code>@Nullable</code> annotation present the value might be null since there is no consensus about them (there is <code>@NonNull</code>, <code>@Nullable</code>, <code>@Nonnull</code> and some other variants) and <strong>it is not enforced</strong>.</p>\n\n<p>Consider the following example:</p>\n\n<pre><code>val queue: Queue&lt;String&gt; = LinkedList()\nqueue.peek().toInt()\n</code></pre>\n\n<p>In this case you use peek which in fact can return <code>null</code> but the Kotlin compiler won\u2019t complain so you can get a <code>NullPointerException</code> if your <code>Queue</code> was empty. The problem here is that we used <code>Queue</code> which is a JDK interface and if you look at the implementation of peek:</p>\n\n<pre><code>/**\n  * Retrieves, but does not remove, the head of this queue,\n  * or returns {@code null} if this queue is empty.\n  *\n  * @return the head of this queue, or {@code null} if this queue is empty\n  */\n  E peek();\n</code></pre>\n\n<p>it says that <code>peek</code> will return <code>E</code> which will lead Kotlin to believe that <code>E</code> is not nullable because there is no <code>?</code> in the declaration (<code>E?</code>) and no annotation either. This might be worked around in a future version of Kotlin but right now it is important to keep this in mind in your projects and use these interfaces like this:</p>\n\n<pre><code>val queue: Queue&lt;String?&gt; = LinkedList()\nqueue.peek()?.toInt()\n</code></pre>\n\n<p>I've written about this extensively <a href=\"http://the-cogitator.com/2017/10/02/kotlin-pitfalls-and-how-to-avoid-them.html\" rel=\"nofollow noreferrer\">here</a> if you are interested.</p>\n"}], "owner": {"reputation": 2409, "user_id": 1252334, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/6VDvz.jpg?s=128&g=1", "display_name": "Defozo", "link": "https://stackoverflow.com/users/1252334/defozo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1517823023, "creation_date": 1517785742, "last_edit_date": 1517787110, "question_id": 48613915, "link": "https://stackoverflow.com/questions/48613915/docs-for-spring-are-telling-me-that-myrepository-findoneid-id-returns-the-enti", "title": "Docs for Spring are telling me that myRepository.findOne(Id id) returns the entity or null if none found but IntelliJ says differently", "body": "<p>I'm experimenting with programming in Kotlin using IntelliJ. I wanted to check if my entity returned by findOne() exists by checking if it's null but IntelliJ shows a warning:</p>\n\n<blockquote>\n  <p>Condition 'visitRankEntity != null' is always 'true'</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/3ZN01.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ZN01.png\" alt=\"enter image description here\"></a></p>\n\n<p>Am I missing something here? Why IntelliJ shows the warning?</p>\n\n<p>@Edit</p>\n\n<p>Okay, the warning disappeared when I added <code>?</code> after <code>VisitRankEntity</code>, so the line looks like:</p>\n\n<pre><code> var visitRankEntity: VisitRankEntity? = visitRankRepository.findOne(WebfineryUtils.getDomainName(url))\n</code></pre>\n\n<p>Since I'm new to Kotlin I forgot about <code>?</code>. But shouldn't IntelliJ then warn me about that fact if the method can return null?</p>\n"}, {"tags": ["android", "kotlin", "samsung-mobile"], "comments": [{"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1517786943, "post_id": 48613913, "comment_id": 84224957, "body": "It some times Samsung specific, but I am not sure in this case because I haven&#39;t used this API in a while. Someone will be able to confirm."}, {"owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "reply_to_user": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1517821196, "post_id": 48613913, "comment_id": 84234148, "body": "@dazza5000 in sgs 6 android 7workflow is correcly. very strange..."}, {"owner": {"reputation": 1, "user_id": 8623420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZEu-AelQlEA/AAAAAAAAAAI/AAAAAAAAE8Y/BSZKwqFnw_E/photo.jpg?sz=128", "display_name": "Christopher Elias", "link": "https://stackoverflow.com/users/8623420/christopher-elias"}, "edited": false, "score": 0, "creation_date": 1552322857, "post_id": 48613913, "comment_id": 96957813, "body": "Did <code>DocumentsContract.getDocumentId(uri)</code> returns a valid id in Android Oreo?"}], "owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552322857, "creation_date": 1517785737, "question_id": 48613913, "link": "https://stackoverflow.com/questions/48613913/how-work-documentscontract-getdocumentiduri-in-samsung-sgs8-android-7", "title": "How work DocumentsContract.getDocumentId(uri) in samsung sgs8 android 7?", "body": "<p>I have next simple code for getting path for image file:</p>\n\n<pre><code>if (isExternalStorageDocument(uri)) {\n                val docId = DocumentsContract.getDocumentId(uri)\n                val split = docId.split(\":\".toRegex())\n                    .dropLastWhile {\n                        it.isEmpty()\n                    }\n                    .toTypedArray()\n                val type = split[0]\n\n                if (\"primary\".equals(type, ignoreCase = true)) {\n                    return (Environment.getExternalStorageDirectory().path + \"/\" + split[1])\n                }\n            }\n</code></pre>\n\n<p>But in my samsung galaxy s 8 with android 7 <code>DocumentsContract.getDocumentId(uri)</code> return strange data, look like this:</p>\n\n<pre><code>9016-4EF8:DCIM/100MEDIA/IMAG0908.jpg\n</code></pre>\n\n<p>and this is not <code>primary</code> in first place. In other phones return correct value. And if hardcoded getting this value next: <code>Environment.getExternalStorageDirectory().path + \"/\" + split[1]</code> - return null.</p>\n\n<p>Is there a problem? maybe I missed something from the new Android API or Samsung as it trims its functionality?</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "mockito", "android-testing"], "answers": [{"tags": [], "owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "is_accepted": false, "score": -2, "last_activity_date": 1517785941, "creation_date": 1517785941, "answer_id": 48613938, "question_id": 48613847, "link": "https://stackoverflow.com/questions/48613847/how-to-unit-test-custom-application-class/48613938#48613938", "title": "How to unit test custom Application class?", "body": "<p>You can modify your application class to something similar to MVP and/or test the testable components of your Application class in isolation. </p>\n\n<p>You are injecting your StatLogger and the checking the config on it. You can get a copy of your StatLogger under test and then check the config outside of the Application class too.</p>\n"}], "owner": {"reputation": 247, "user_id": 5715054, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b80456bcdd96d43d07bb45660a557401?s=128&d=identicon&r=PG&f=1", "display_name": "Astagron", "link": "https://stackoverflow.com/users/5715054/astagron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 781, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517785941, "creation_date": 1517785073, "question_id": 48613847, "link": "https://stackoverflow.com/questions/48613847/how-to-unit-test-custom-application-class", "title": "How to unit test custom Application class?", "body": "<p>I would like to write some unit tests for my custom <code>Application</code> class but my tests fail immediately after I try to create <code>Application</code> object with this error:</p>\n\n<pre><code>java.lang.RuntimeException: Stub!\n    at android.content.Context.&lt;init&gt;(Context.java:20)\n    at android.content.ContextWrapper.&lt;init&gt;(ContextWrapper.java:21)\n    at android.app.Application.&lt;init&gt;(Application.java:36)\n    ...\n</code></pre>\n\n<p>This is my <code>Application</code> class:</p>\n\n<pre><code>class MainApplication : Application() {\n\n  @Inject lateinit var statLogger: StatLogger\n\n  override fun onCreate() {\n    super.onCreate()\n    inject()\n    setupStatLogger()\n  }\n\n  private fun inject() {\n    ...\n  }\n\n  private fun configStatLogger() {\n    statLogger.config()\n  }\n}\n</code></pre>\n\n<p>And this is my test:</p>\n\n<pre><code>class MainApplicationTest {\n\n    val app = MainApplication().apply {\n        statLogger = mock()\n    }\n\n    @Test\n    fun `logger is configured`() {\n        app.onCreate()    \n        verify(app.statLogger).config()\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "mysql", "kotlin"], "comments": [{"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1517805156, "post_id": 48613253, "comment_id": 84228675, "body": "What error do you get? Please, post the code of entities and information about error here."}, {"owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "edited": false, "score": 0, "creation_date": 1517813980, "post_id": 48613253, "comment_id": 84231199, "body": "Please also specify which ORM and which version you&#39;re using for this."}, {"owner": {"reputation": 684, "user_id": 1917300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b84a91b902b8d20265b24326b66a4dd?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1917300/alejandro"}, "edited": false, "score": 0, "creation_date": 1517840771, "post_id": 48613253, "comment_id": 84246170, "body": "I haven&#39;t coded anything yet, I have no idea how to translate such table, I know about M2M but (M2M)2M? I&#39;m using Spring&#39;s JpaRepository."}], "owner": {"reputation": 684, "user_id": 1917300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b84a91b902b8d20265b24326b66a4dd?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1917300/alejandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1517843401, "creation_date": 1517780277, "question_id": 48613253, "link": "https://stackoverflow.com/questions/48613253/how-to-code-a-complex-manytomany-in-java-kotlin", "title": "How to code a complex ManyToMany in Java/Kotlin", "body": "<p>I have this relation in mysql:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NGlzV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NGlzV.png\" alt=\"MySQL relation\"></a></p>\n\n<p>I really don't know how to code that relation in Kotlin or Java. For a ManyToMany in Kotlin I do it like this: <a href=\"https://gitlab.com/snippets/1696832\" rel=\"nofollow noreferrer\">https://gitlab.com/snippets/1696832</a>, but in this case, it implies relating a ManyToMany table with another table.</p>\n\n<p>I'm lost</p>\n"}, {"tags": ["android", "json", "kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": true, "score": 1, "last_activity_date": 1517776577, "last_edit_date": 1517776577, "creation_date": 1517776264, "answer_id": 48612713, "question_id": 48612483, "link": "https://stackoverflow.com/questions/48612483/gson-parse-json/48612713#48612713", "title": "Gson parse Json", "body": "<p>Looks like the only thing you can do \u2014 it to parse it as <code>List&lt;List&lt;Any&gt;&gt;</code> and then access elements by indices.</p>\n\n<p>To achieve this you should do something like</p>\n\n<pre><code>import java.lang.reflect.Type\nimport com.google.gson.reflect.TypeToken\n\nType listType = object: TypeToken&lt;List&lt;List&lt;Any&gt;&gt;&gt;(){}.type\nList&lt;List&lt;Any&gt;&gt; list = Gson().fromJson(jsonArray, listType)\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 7184820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80f03a632c534998829ea44b3197d195?s=128&d=identicon&r=PG&f=1", "display_name": "Danil", "link": "https://stackoverflow.com/users/7184820/danil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 1, "accepted_answer_id": 48612713, "answer_count": 1, "score": 0, "last_activity_date": 1517776577, "creation_date": 1517774803, "question_id": 48612483, "link": "https://stackoverflow.com/questions/48612483/gson-parse-json", "title": "Gson parse Json", "body": "<p>How i can parse this json using GSON?</p>\n\n<pre><code>[\n [\n   456239452,180279471,\"fsdgdfgdfg\",\"T\",\n   \"M\",244,0,0,\"\",0,82,\"\",\"[]\",\"fgfdgdfg\",10\n ],\n [\n   456239451,180279471,\"9wnntiu5vu9mBeDiBej4swfcztjOS4nJe\",\n   \"R\",\"s\",253,0,0,\"\",0,82,\"\",\"[]\",\"cf46\",\"g\",14\n ]\n]\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>data class Data(val list: List&lt;List&lt;String&gt;&gt;)\n\nGson().fromJson(json, Data::class.java).let {\n    it.list.forEach {\n        it.forEach {\n            println(it)\n        }\n    }\n}\n</code></pre>\n\n<p>My stacktrace</p>\n\n<blockquote>\n  <p>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $\n          at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:224)\n          at com.google.gson.Gson.fromJson(Gson.java:888)\n          at com.google.gson.Gson.fromJson(Gson.java:853)\n          at com.google.gson.Gson.fromJson(Gson.java:802)\n          at com.google.gson.Gson.fromJson(Gson.java:774)\n          at dchistov.vkmusic.music.MusicFragment$initAudio$1.doResume(MusicFragment.kt:58)\n          at kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resume(CoroutineImpl.kt:54)\n          at kotlinx.coroutines.experimental.DispatchedTask$DefaultImpls.run(Dispatched.kt:161)\n          at kotlinx.coroutines.experimental.DispatchedContinuation.run(Dispatched.kt:25)\n          at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1412)\n          at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:285)\n          at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1152)\n          at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1990)\n          at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1938)\n          at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\n       Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $\n          at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:385)\n          at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:213)\n          at com.google.gson.Gson.fromJson(Gson.java:888)\u00a0\n          at com.google.gson.Gson.fromJson(Gson.java:853)\u00a0\n          at com.google.gson.Gson.fromJson(Gson.java:802)\u00a0\n          at com.google.gson.Gson.fromJson(Gson.java:774)\u00a0\n          at dchistov.vkmusic.music.MusicFragment$initAudio$1.doResume(MusicFragment.kt:58)\u00a0\n          at kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resume(CoroutineImpl.kt:54)\u00a0\n          at kotlinx.coroutines.experimental.DispatchedTask$DefaultImpls.run(Dispatched.kt:161)\u00a0\n          at kotlinx.coroutines.experimental.DispatchedContinuation.run(Dispatched.kt:25)\u00a0\n          at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1412)\u00a0\n          at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:285)\u00a0\n          at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1152)\u00a0\n          at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1990)\u00a0\n          at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1938)\u00a0\n          at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\u00a0</p>\n</blockquote>\n"}, {"tags": ["java", "hibernate", "jpa", "kotlin"], "comments": [{"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1517772854, "post_id": 48611678, "comment_id": 84220869, "body": "Have you tried to do the transaction handling by calling EntityManager.getTransaction().begin() and then in an After method calling rollback on the transaction?"}, {"owner": {"reputation": 4230, "user_id": 1804317, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/84f00e56b203aec51a3104f1ed30c3da?s=128&d=identicon&r=PG", "display_name": "Jakob Abfalter", "link": "https://stackoverflow.com/users/1804317/jakob-abfalter"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1517780236, "post_id": 48611678, "comment_id": 84223162, "body": "Hm but I would have to commit the transaction to have the entities inserted right? Can I rollback already commited transactions? Also can I rollback multiple transactions?"}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1517816480, "post_id": 48611678, "comment_id": 84232075, "body": "No you don&#39;t just call EntityManger.flush() that will execute the SQL statements."}, {"owner": {"reputation": 4230, "user_id": 1804317, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/84f00e56b203aec51a3104f1ed30c3da?s=128&d=identicon&r=PG", "display_name": "Jakob Abfalter", "link": "https://stackoverflow.com/users/1804317/jakob-abfalter"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1517831876, "post_id": 48611678, "comment_id": 84240509, "body": "ok got it, so I will just have to start a transaction at the begin of my before method, and roll it back in the after method. Thanks will try that out."}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1517839107, "post_id": 48611678, "comment_id": 84245052, "body": "I added an idea of a base test in the answer. I hope this helps."}], "answers": [{"tags": [], "owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "is_accepted": true, "score": 1, "last_activity_date": 1517839147, "creation_date": 1517839147, "answer_id": 48624246, "question_id": 48611678, "link": "https://stackoverflow.com/questions/48611678/rollback-seed-data-inserts-after-test-case/48624246#48624246", "title": "Rollback seed data inserts after Test case", "body": "<p>You could create a base test class with a before and after method that controls the transaction for every test method:</p>\n\n<pre><code>public abstract class BaseTestWithEntityManager {\n\n    protected static EntityManagerFactory emf;\n    protected static EntityManager em;\n    protected EntityTransaction transaction;\n\n    @Before\n    public void beforeSuper() {\n        transaction = em.getTransaction();\n        transaction.begin();\n    }\n\n    @After\n    public void afterSuper() {\n        em.flush();\n        if (transaction.isActive()) {\n            transaction.rollback();\n        }\n    }\n\n    @BeforeClass\n    public static void beforeClass() {\n        emf = Persistence.createEntityManagerFactory(\"store\");\n        em = emf.createEntityManager();\n    }\n\n    @AfterClass\n    public static void afterClass() {\n        if (em.isOpen()) {\n            em.close();\n        }\n        if (emf.isOpen()) {\n            emf.close();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4230, "user_id": 1804317, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/84f00e56b203aec51a3104f1ed30c3da?s=128&d=identicon&r=PG", "display_name": "Jakob Abfalter", "link": "https://stackoverflow.com/users/1804317/jakob-abfalter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 48624246, "answer_count": 1, "score": 0, "last_activity_date": 1517839147, "creation_date": 1517769433, "question_id": 48611678, "link": "https://stackoverflow.com/questions/48611678/rollback-seed-data-inserts-after-test-case", "title": "Rollback seed data inserts after Test case", "body": "<p>I am developing a JPA application with Kotlin and Ktor and am using Hibernate as ORM.</p>\n\n<p>My test database is h2 and hibernate.hbm2ddl.auto is set to create so that after SessionFactory close all data is cleaned up.</p>\n\n<p>However now to have a clean database state I would need to recreate EntityManagerFactory after each TestCase which makes the Tests very very slow, therefore I am looking for a different way to do this.</p>\n\n<p>I have read about Transactional Annotation but apparently that will only work inside Spring Framework.</p>\n\n<p>Does anybody have an idea how to rollback inserts coming from a before method after a test case has run?</p>\n\n<p>Here is an example:</p>\n\n<pre><code>class ChampionDaoTests {\n    var chmpDao : IChampionDao? = null\n\n    val chmp1 = TestHelper.generateChampionObj()\n    val chmp2 = TestHelper.generateChampionObj()\n\n    @Before\n    fun before() {\n        // Should be rolled back after each Test case\n        chmpDao = ChampionDao(TestHelper.getEntityManager())\n        (this.chmpDao as ChampionDao).saveChampion(chmp1)\n        (this.chmpDao as ChampionDao).saveChampion(chmp2)\n    }\n\n    @Test\n    fun testFindAllMethod() {\n        val chmps : List&lt;Champion&gt; = this.chmpDao!!.findAllChampions()\n        assertTrue { chmps.size == 2 }\n    }\n\n    @Test\n    fun testFindChampionMethod() {\n        val chmp = this.chmpDao!!.findChampionById(chmp1.chmpid!!)\n        assertNotNull(chmp)\n        if (chmp != null) {\n            assertTrue { chmp.equals(chmp1) }\n        }\n    }\n\n    @Test\n    fun testFindChampionMethodWrongParam() {\n        val chmp = this.chmpDao!!.findChampionById(-1)\n        assertNull(chmp)\n    }\n}\n</code></pre>\n"}, {"tags": ["generics", "inheritance", "kotlin", "generic-variance"], "answers": [{"tags": [], "owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "is_accepted": false, "score": 2, "last_activity_date": 1535963245, "creation_date": 1535963245, "answer_id": 52145897, "question_id": 48611515, "link": "https://stackoverflow.com/questions/48611515/kotlin-making-subclasses-of-generic-types-inherit-functions-and-restricting-the/52145897#52145897", "title": "Kotlin: Making subclasses of generic types inherit functions and restricting the available types of output", "body": "<p>It's hard to tell whether this would help or not, but you could at least consider this as a workaround:</p>\n\n<pre><code>abstract class BigCollection&lt;C: BigCollection&lt;C&gt;&gt;: MyCollection&lt;C&gt;() {\n    override fun &lt;E: MyCollection&lt;E&gt;&gt; mapToOtherCollection(f: (Member&lt;C&gt;) -&gt; Member&lt;E&gt;): MyCollection&lt;E&gt; {\n        return this.mapToOtherCollection(f)\n    }\n\n    abstract fun &lt;E: BigCollection&lt;E&gt;&gt; mapToOtherCollection(f: (Member&lt;C&gt;) -&gt; Member&lt;E&gt;): BigCollection&lt;E&gt;\n}\n</code></pre>\n\n<p>What happens here is similar to JVM \"bridge\" methods: we create a method with a more specific signature and delegate to it. </p>\n"}], "owner": {"reputation": 499, "user_id": 1661303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4706191f336afd8ee7b23d8cb11fcbad?s=128&d=identicon&r=PG", "display_name": "user1661303", "link": "https://stackoverflow.com/users/1661303/user1661303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1647, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1535963245, "creation_date": 1517768378, "question_id": 48611515, "link": "https://stackoverflow.com/questions/48611515/kotlin-making-subclasses-of-generic-types-inherit-functions-and-restricting-the", "title": "Kotlin: Making subclasses of generic types inherit functions and restricting the available types of output", "body": "<p>I have the following Kotlin classes implementing something similar to the Collections interface or a set that contains multiple elements.</p>\n\n<pre><code>abstract class MyCollection&lt;C: MyCollection&lt;C&gt;&gt; {\n    abstract fun contains(e: Member&lt;C&gt;): Member&lt;CollectionOfBooleanValues&gt;\n    //Function that determines if a Member&lt;C&gt; is present in this collection.\n    // Maps to a collection of boolean values (True, False and Unsure)\n\n    abstract fun &lt;E: MyCollection&lt;E&gt;&gt; mapToOtherCollection(f: (Member&lt;C&gt;) -&gt; Member&lt;E&gt;): E\n    //Function that return a collection of the element that are created from\n    //a mapping of this collection through a function f.\n    //This could for example be the owners of the things of this collection, provided we\n    //have a Persons class extends MyCollection. Or a collection of all colors of the things in this collection.\n}\n\nabstract class BigCollection&lt;C: BigCollection&lt;C&gt;&gt;: MyCollection&lt;C&gt;() {\n    override fun contains(e: Member&lt;C&gt;): Member&lt;CollectionOfBooleanValues&gt; = Unsure\n\n    abstract override fun &lt;E: MyCollection&lt;E&gt;&gt; mapToOtherCollection(f: (Member&lt;C&gt;) -&gt; Member&lt;E&gt;): E\n}\n\nabstract class SmallCollection&lt;C: SmallCollection&lt;C&gt;&gt;(val choices: List&lt;Member&lt;C&gt;&gt;): BigCollection&lt;C&gt;() {\n    override fun contains(e: Member&lt;C&gt;): Member&lt;CollectionOfBooleanValues&gt; =\n        if(choices.contains(e))\n            True\n        else\n            False\n}\n\nabstract class Persons&lt;D: Persons&lt;D&gt;&gt;: MyCollection&lt;D&gt;() {\n    override fun contains(e: Member&lt;D&gt;): Member&lt;CollectionOfBooleanValues&gt; {\n        return True\n    }\n}\n\nabstract class Member&lt;D: MyCollection&lt;D&gt;&gt;(sym: String, val collectionType: D) {\n}\n\nobject CollectionOfBooleanValues: SmallCollection&lt;CollectionOfBooleanValues&gt;(choices = listOf(True, False, Unsure)){\n    override fun &lt;E: MyCollection&lt;E&gt;&gt; mapToOtherCollection(f: (Member&lt;CollectionOfBooleanValues&gt;) -&gt; Member&lt;E&gt;): E =\n            throw RuntimeException(\"Not implemented\");\n}\n\nobject True: Member&lt;CollectionOfBooleanValues&gt;(\"true\", CollectionOfBooleanValues)\nobject False: Member&lt;CollectionOfBooleanValues&gt;(\"false\", CollectionOfBooleanValues)\nobject Unsure: Member&lt;CollectionOfBooleanValues&gt;(\"unsure\", CollectionOfBooleanValues)\n</code></pre>\n\n<p>So instances of one of MyCollection's subclasses describe some sort of set and instances of the class Member&lt; C > describe a particular member of that collection.\nThe subclasses BigCollection and SmallCollection determine what size of collection we have. My idea is to add more here depending on how hard the collections are to work with.</p>\n\n<p>One could imagine the following examples</p>\n\n<p>Red could be an instance/object of the type Member&lt; Color ></p>\n\n<p>Persons could be a subtype of the type SmallCollection&lt; Persons ></p>\n\n<p>Color could be a subtype of the type BigCollection&lt; Color > and be essentially infinite. This means for example that the function contains(Member&lt; Color >) can never return false, only Unsure or possibly True if it found it and throw an exception after a specific timeout.</p>\n\n<p>Just so you have a basic idea of what I'm trying to do.</p>\n\n<p>Notice how the JVM's type erasure forces me to use recursive generics if I want to have access to the type MyCollection&lt; C > at both compile time and runtime.</p>\n\n<p>We can see that it's fairly type safe. We know that mapToOtherDomain will return an E, which is a subtype of MyCollection&lt; D > and it's going to be the same type as the E in the function (Member&lt; C >) -> Member&lt; E >) we put in.</p>\n\n<p>Now, what would be neat would be if the subclasses of MyCollection could override the function mapToOtherCollection, so that the size is reflected in the static signature of the function. The function f is a one-to-one mapping so if we map a smallCollection of type A to B I want the output to be a smallCollection of B.</p>\n\n<p>I feel like this should be possible, especially since it's almost possible in Java, and Kotlin is supposed to be an extension on Java's generic type system. I can't get it to work though. I want it to override, but still restrict the return type (and thus also the input type)</p>\n\n<p>I've played around with method signatures like this:</p>\n\n<pre><code>abstract class BigCollection&lt;C: BigCollection&lt;C&gt;&gt;: MyCollection&lt;C&gt;() {\n    abstract override fun &lt;E: BigCollection&lt;E&gt;&gt; mapToOtherCollection(f: (Member&lt;C&gt;) -&gt; Member&lt;E&gt;): E\n}\n</code></pre>\n\n<p>which gives the compiler error that it doesn't override the previous method, and like this</p>\n\n<pre><code>abstract class MyCollection&lt;C: MyCollection&lt;C&gt;&gt; {\n    abstract fun &lt;E: MyCollection&lt;E&gt;&gt; mapToOtherCollection(f: (Member&lt;C&gt;) -&gt; Member&lt;E&gt;): MyCollection&lt;E&gt;\n}\n\nabstract class BigCollection&lt;C: BigCollection&lt;C&gt;&gt;: MyCollection&lt;C&gt;() {\n    abstract override fun &lt;E: MyCollection&lt;E&gt;&gt; mapToOtherCollection(f: (Member&lt;C&gt;) -&gt; Member&lt;E&gt;): BigCollection&lt;E&gt;\n}\n</code></pre>\n\n<p>which says The Type argument is out of bounds.</p>\n\n<p>How can I just restrict the in/out types to better match the subclass of the generic class in this example? It would also be neat if the compiler knew that the output of contains() in a BigCollection is going to be Unsure statically rather that dynamically.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 1822, "user_id": 2298357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f898eb5594944e5733a0881fd3d30342?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Kant Patel", "link": "https://stackoverflow.com/users/2298357/pankaj-kant-patel"}, "edited": false, "score": 0, "creation_date": 1517761536, "post_id": 48610193, "comment_id": 84216998, "body": "We have a lot of way.please check <a href=\"https://kotlinlang.org/docs/tutorials/android-frameworks.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/android-frameworks.html</a>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1517762722, "post_id": 48610193, "comment_id": 84217416, "body": "Can you please copy and paste the actual error text?"}, {"owner": {"reputation": 123, "user_id": 1308333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69f22d47bf902490311e1fb5a24276e?s=128&d=identicon&r=PG", "display_name": "Damares Oliveira", "link": "https://stackoverflow.com/users/1308333/damares-oliveira"}, "edited": false, "score": 0, "creation_date": 1517763030, "post_id": 48610193, "comment_id": 84217513, "body": "It is there. The funny thing is that the error message complains about &quot;public void sendMessage(android.view.View)&quot; which is Java. But the whole code is in Kotlin"}, {"owner": {"reputation": 6301, "user_id": 526635, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/612faad93df3c59c019cd7a7e8614318?s=128&d=identicon&r=PG", "display_name": "Abhinav Manchanda", "link": "https://stackoverflow.com/users/526635/abhinav-manchanda"}, "edited": false, "score": 0, "creation_date": 1517773000, "post_id": 48610193, "comment_id": 84220920, "body": "Try adding the tools:context to the root node of your xml, and see if it works? Else you can suppress the lint error for now and move ahead."}, {"owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "edited": false, "score": 0, "creation_date": 1517835856, "post_id": 48610193, "comment_id": 84242900, "body": "try using open fun sendMessage()"}, {"owner": {"reputation": 743, "user_id": 1257525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/221df21bdb5c73963bb871c3b5188755?s=128&d=identicon&r=PG", "display_name": "Helton Isac", "link": "https://stackoverflow.com/users/1257525/helton-isac"}, "edited": false, "score": 0, "creation_date": 1521935984, "post_id": 48610193, "comment_id": 85944971, "body": "I am having the same problem, I think it is because the byte code when converted to java has this signature:  public final void onClickButton(@Nullable android.view.View view)  I think the expected signature wold be: &#39;public void onClickButton(android.view.View)  But if it is the problem, I don&#39;t know how to solve =("}, {"owner": {"reputation": 743, "user_id": 1257525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/221df21bdb5c73963bb871c3b5188755?s=128&d=identicon&r=PG", "display_name": "Helton Isac", "link": "https://stackoverflow.com/users/1257525/helton-isac"}, "edited": false, "score": 0, "creation_date": 1521936940, "post_id": 48610193, "comment_id": 85945170, "body": "If I &quot;open&quot; the class:  &quot;open class TestActivity&quot; and the method:  &quot;open fun onClickButton(view: View?) &quot;, the Notation Nullable or NotNull still persists... I will turn off the abortOnError lint for while:   &quot;android { lintOptions {   abortOnError false } }"}], "answers": [{"comments": [{"owner": {"reputation": 1214, "user_id": 6095439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb0a801257ee75e0987200564b0ea798?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6095439/john"}, "reply_to_user": {"reputation": 123, "user_id": 1308333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69f22d47bf902490311e1fb5a24276e?s=128&d=identicon&r=PG", "display_name": "Damares Oliveira", "link": "https://stackoverflow.com/users/1308333/damares-oliveira"}, "edited": false, "score": 0, "creation_date": 1517843452, "post_id": 48612290, "comment_id": 84247974, "body": "Are you sure it&#39;s correct? Because without it there is a warning"}, {"owner": {"reputation": 123, "user_id": 1308333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69f22d47bf902490311e1fb5a24276e?s=128&d=identicon&r=PG", "display_name": "Damares Oliveira", "link": "https://stackoverflow.com/users/1308333/damares-oliveira"}, "edited": false, "score": 0, "creation_date": 1517843657, "post_id": 48612290, "comment_id": 84248106, "body": "Yes, I am. I think there was a conflict with Kotlin and Java when I converted the code. Maybe there was some misconfiguration. I restarted AndroidStudio and now it works."}], "tags": [], "owner": {"reputation": 1214, "user_id": 6095439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb0a801257ee75e0987200564b0ea798?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6095439/john"}, "is_accepted": false, "score": 1, "last_activity_date": 1517773531, "creation_date": 1517773531, "answer_id": 48612290, "question_id": 48610193, "link": "https://stackoverflow.com/questions/48610193/cannot-find-onclick-method-in-activity-from-xml-definition/48612290#48612290", "title": "Cannot find onClick method in activity from xml definition", "body": "<p>Try to add</p>\n\n<pre><code>tools:context=\"com.somepackage.MainActivity\"\n</code></pre>\n\n<p>to your top view in xml</p>\n"}, {"comments": [{"owner": {"reputation": 800, "user_id": 5147603, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/F7wHB.jpg?s=128&g=1", "display_name": "Rucha Bhatt Joshi", "link": "https://stackoverflow.com/users/5147603/rucha-bhatt-joshi"}, "edited": false, "score": 0, "creation_date": 1549014254, "post_id": 48625582, "comment_id": 95760615, "body": "what does that mean if I edit the xml directly! I have same problem as your question so whats the correct answer or method to do ?"}, {"owner": {"reputation": 123, "user_id": 1308333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69f22d47bf902490311e1fb5a24276e?s=128&d=identicon&r=PG", "display_name": "Damares Oliveira", "link": "https://stackoverflow.com/users/1308333/damares-oliveira"}, "reply_to_user": {"reputation": 800, "user_id": 5147603, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/F7wHB.jpg?s=128&g=1", "display_name": "Rucha Bhatt Joshi", "link": "https://stackoverflow.com/users/5147603/rucha-bhatt-joshi"}, "edited": false, "score": 0, "creation_date": 1549219084, "post_id": 48625582, "comment_id": 95816063, "body": "As far as I remember, I added &#39;android:onClick=&quot;sendMessage&quot;&#39; to the XML and restarted AndroidStudio. It worked at the time. I am sorry I cannot help you more, I haven&#39;t worked with this in a while."}], "tags": [], "owner": {"reputation": 123, "user_id": 1308333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69f22d47bf902490311e1fb5a24276e?s=128&d=identicon&r=PG", "display_name": "Damares Oliveira", "link": "https://stackoverflow.com/users/1308333/damares-oliveira"}, "is_accepted": true, "score": 0, "last_activity_date": 1517843536, "creation_date": 1517843536, "answer_id": 48625582, "question_id": 48610193, "link": "https://stackoverflow.com/questions/48610193/cannot-find-onclick-method-in-activity-from-xml-definition/48625582#48625582", "title": "Cannot find onClick method in activity from xml definition", "body": "<p>It works now. I had to restart AndroidStudio. I still cannot add the function using the attributes window in the design tab but it works if I edit the XML directly.</p>\n"}], "owner": {"reputation": 123, "user_id": 1308333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69f22d47bf902490311e1fb5a24276e?s=128&d=identicon&r=PG", "display_name": "Damares Oliveira", "link": "https://stackoverflow.com/users/1308333/damares-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1631, "favorite_count": 0, "accepted_answer_id": 48625582, "answer_count": 2, "score": 3, "last_activity_date": 1517843536, "creation_date": 1517760708, "last_edit_date": 1517762971, "question_id": 48610193, "link": "https://stackoverflow.com/questions/48610193/cannot-find-onclick-method-in-activity-from-xml-definition", "title": "Cannot find onClick method in activity from xml definition", "body": "<p>I am trying to link a function to the onClick property of a button in AndroidStudio but for some reason the system cannot identify the method that I coded.</p>\n\n<p>The funny thing is that it works correctly when I code it in Java. In Kotlin it does not. I updated my Kotlin and checked its configuration but I cannot find the problem. My friend tried the same thing I did in a Linux computer and it worked for him. I have a Mac OS, I don't know if there is some extra configuration to take care of. Can anyone help me?</p>\n\n<p>This is my simple activity:</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    fun sendMessage(view: View) {\n\n    }\n}\n</code></pre>\n\n<p>This is the xml:</p>\n\n<pre><code>&lt;Button\n    android:id=\"@+id/button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"16dp\"\n    android:layout_marginStart=\"16dp\"\n    android:layout_marginTop=\"16dp\"\n    android:onClick=\"sendMessage\"\n    android:text=\"@string/send_button\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toEndOf=\"@+id/editText\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n</code></pre>\n\n<p>In build.gradle I have:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>Error message:</p>\n\n<pre><code>Corresponding method handler 'public void sendMessage(android.view.View)' not found\n\nThe onClick attribute value should be the name of a method in this View's context to invoke when the view is clicked.\n\nThis name must correspond to a public method that takes exactly one parameter of type View.  Must be a string value, using '\\;' to escape characters such as '\\n' or '\\uxxxx' for a unicode character\n</code></pre>\n"}, {"tags": ["kotlin", "ones-complement"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1517758687, "post_id": 48609509, "comment_id": 84216015, "body": "I&#39;m pretty sure that&#39;s referring to floating point numbers. 0.0 and -0.0 have different representations (0x00000000 vs 0x80000000)."}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 2, "creation_date": 1517760824, "post_id": 48609509, "comment_id": 84216773, "body": "<i>Informally, one may use the notation \u201c\u22120\u201d for a negative value that was rounded to zero.</i> in <a href=\"https://en.wikipedia.org/wiki/Signed_zero\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Signed_zero</a>"}, {"owner": {"reputation": 2117, "user_id": 2185634, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GGP9Z.jpg?s=128&g=1", "display_name": "Abdallah Alaraby", "link": "https://stackoverflow.com/users/2185634/abdallah-alaraby"}, "edited": false, "score": 0, "creation_date": 1517821178, "post_id": 48609509, "comment_id": 84234136, "body": "Sure, but rounding to +0 is also correct, right?"}], "answers": [{"comments": [{"owner": {"reputation": 2117, "user_id": 2185634, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GGP9Z.jpg?s=128&g=1", "display_name": "Abdallah Alaraby", "link": "https://stackoverflow.com/users/2185634/abdallah-alaraby"}, "edited": false, "score": 0, "creation_date": 1517821027, "post_id": 48610202, "comment_id": 84234043, "body": "OK I get it, but when is it useful to use -0.0?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 7, "last_activity_date": 1517780217, "last_edit_date": 1517780217, "creation_date": 1517760759, "answer_id": 48610202, "question_id": 48609509, "link": "https://stackoverflow.com/questions/48609509/why-kotlin-considers-negative-zero-less-than-positive-zero/48610202#48610202", "title": "Why Kotlin considers negative zero less than positive zero", "body": "<p>The primary purpose of the erased floating point comparison not following the IEEE 754 standard is, when you use floating point numbers in collections and as keys for sorting, you don't want the values that are <em>equal according to the standard</em> to mix with each other. For example, you don't want to mix <code>-0.0</code> and <code>0.0</code> as keys in a map (you might want two different values for these keys).</p>\n\n<p>Likewise, you want a map to match a <code>NaN</code> with itself, despite the standard stating that <code>NaN</code> != <code>NaN</code>.</p>\n\n<p>And, when you sort a set of items, you want a <code>NaN</code> to be properly ordered with other numbers, even though the standard says it's incomparable with other elements (following the standard here might even break the sorting algorithm).</p>\n\n<p>Note that these rules only apply when the objects are not statically known to belong to the floating point types, which, practically, matches the generic use cases and collections. The mathematical use cases, on contrary, usually operate with the numeric types directly (not erasing them to <code>Any</code> or a type parameter) and, accordingly, the IEEE 754 rules are applied.</p>\n"}], "owner": {"reputation": 2117, "user_id": 2185634, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GGP9Z.jpg?s=128&g=1", "display_name": "Abdallah Alaraby", "link": "https://stackoverflow.com/users/2185634/abdallah-alaraby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "accepted_answer_id": 48610202, "answer_count": 1, "score": 5, "last_activity_date": 1517780217, "creation_date": 1517756894, "last_edit_date": 1517757220, "question_id": 48609509, "link": "https://stackoverflow.com/questions/48609509/why-kotlin-considers-negative-zero-less-than-positive-zero", "title": "Why Kotlin considers negative zero less than positive zero", "body": "<p>I've just started learning Kotlin and I came across a weird sentence in the documentation of <a href=\"http://kotlinlang.org/docs/reference/basic-types.html#floating-point-numbers-comparison\" rel=\"noreferrer\">basic types</a>:</p>\n\n<blockquote>\n  <p>-0.0 is considered less than 0.0</p>\n</blockquote>\n\n<p>I understand that their values will not be the same in ones' complement, but I don't know how it might be used in code.</p>\n"}, {"tags": ["kotlin", "factory-pattern", "companion-object"], "answers": [{"tags": [], "owner": {"reputation": 999, "user_id": 1794549, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dCovU.jpg?s=128&g=1", "display_name": "Marko Devcic", "link": "https://stackoverflow.com/users/1794549/marko-devcic"}, "is_accepted": true, "score": 2, "last_activity_date": 1517749383, "creation_date": 1517749383, "answer_id": 48608330, "question_id": 48608047, "link": "https://stackoverflow.com/questions/48608047/creating-a-db-factory-using-kotlin/48608330#48608330", "title": "Creating a DB factory using kotlin", "body": "<p>Move everything to the companion object, pass the connection URI to the getDatabase method.\nCompanion objects get compiled as a static field inside the containing (outer class). Since the field is static, it cannot access outer class's fields because the outer class is an instance.</p>\n\n<p>I assume you want to cache database objects.</p>\n\n<pre><code>class MongoConnectionFactory() {\n\n    companion object {\n        private var database: MongoDatabae? = null\n\n        fun getDatabase(connectionURI: String) : MongoDatabase {\n            if (database != null) {\n                return database\n            {\n            val connectionString = MongoClientURI(connectionURI)\n            val mongoClient = MongoClient(connectionString)\n            database = mongoClient.getDatabase(\"paybotDB\")\n            return database\n        }\n    }\n}\n</code></pre>\n\n<p>But then you don't need a companion object nested inside containing class.\nYou can create an object instead.</p>\n\n<pre><code>object MongoConnectionFactory {\n    private var database: MongoDatabae? = null\n\n    fun getDatabase(connectionURI: String) : MongoDatabase {\n        if (database != null) {\n            return database\n        {\n        val connectionString = MongoClientURI(connectionURI)\n        val mongoClient = MongoClient(connectionString)\n        database = mongoClient.getDatabase(\"paybotDB\")\n        return database\n    }\n}\n</code></pre>\n\n<p>If you need multiple databases with different connection URIs then store them inside the hash table.</p>\n"}], "owner": {"reputation": 666, "user_id": 4700998, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-fUFx12mrumA/AAAAAAAAAAI/AAAAAAAAB_A/A34P5IU80uo/photo.jpg?sz=128", "display_name": "Javier Garc&#237;a Manzano", "link": "https://stackoverflow.com/users/4700998/javier-garc%c3%ada-manzano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "accepted_answer_id": 48608330, "answer_count": 1, "score": 0, "last_activity_date": 1517749383, "creation_date": 1517747300, "last_edit_date": 1517748042, "question_id": 48608047, "link": "https://stackoverflow.com/questions/48608047/creating-a-db-factory-using-kotlin", "title": "Creating a DB factory using kotlin", "body": "<p>So I'm trying to create a MongoDB factory with kotlin... but I think I don't really understand the concept of <code>companion object</code> very well because I can't even get this to compile:</p>\n\n<pre><code>package org.jgmanzano.storage\n\nimport com.mongodb.MongoClient\nimport com.mongodb.MongoClientURI\nimport com.mongodb.client.MongoDatabase\n\nclass MongoConnectionFactory(private val connectionURI: String) {\n    private var database: MongoDatabase\n\n    init {\n        val connectionString = MongoClientURI(connectionURI)\n        val mongoClient = MongoClient(connectionString)\n        database = mongoClient.getDatabase(\"paybotDB\")\n    }\n\n    companion object {\n        fun getDatabase() : MongoDatabase {\n            return database\n        }\n    }\n}\n</code></pre>\n\n<p>How would you guys achieve this? My idea is to create what in Java would be a kind of <em>factory method</em>. I can't seem to get the syntax right tho.</p>\n\n<p>Furthermore, would this be a correct approach to DB connection factories?</p>\n"}, {"tags": ["android", "kotlin", "itext", "itextg"], "comments": [{"owner": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "edited": false, "score": 1, "creation_date": 1517748011, "post_id": 48608042, "comment_id": 84212484, "body": "When you set the margins on a <code>Document</code>, iText assumes that you are going to let iText define the layout (high-level approach). That&#39;s not what you&#39;re doing. You add the image to a <code>PdfContentByte</code> instance (low-level approach). When you decide to add content at the low level, the margins you defined on the high level are ignored (for reasons that seem obvious to me)."}, {"owner": {"reputation": 178, "user_id": 6562486, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5t2lM.jpg?s=128&g=1", "display_name": "SuperHaker", "link": "https://stackoverflow.com/users/6562486/superhaker"}, "reply_to_user": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "edited": false, "score": 0, "creation_date": 1518125197, "post_id": 48608042, "comment_id": 84388672, "body": "@BrunoLowagie Makes sense"}], "owner": {"reputation": 178, "user_id": 6562486, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5t2lM.jpg?s=128&g=1", "display_name": "SuperHaker", "link": "https://stackoverflow.com/users/6562486/superhaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517747287, "creation_date": 1517747287, "question_id": 48608042, "link": "https://stackoverflow.com/questions/48608042/setting-top-margin-itext-android", "title": "Setting top margin iText Android", "body": "<p>I am using iTextg to split an image to span multiple pages, but I am not able to set Top Margin for each page. I tried setting margins in Document() constructor, I also tried setMargins()method before I use the document.open() method. Also adding empty lines or paragraph is not working. I think I am doing something wrong here. </p>\n\n<pre><code> private fun addImage(pdfWriter: PdfWriter, document: Document, byteArray: ByteArray) {\n\n  var image: Image? = null\n  try {\n    image = Image.getInstance(byteArray)\n  } catch (e: Exception) {\n    e.printStackTrace()\n  }\n\n      image!!.scaleToFit(PageSize.A4)\n//      image.setAbsolutePosition(0f, 0f)\n      val content = pdfWriter.directContent\n      val width = PageSize.A4.width.toDouble()\n      val heightRatio = image.height * width / image.width\n      var nPages: Int = (heightRatio / PageSize.A4.height).toInt()\n      val difference = heightRatio % PageSize.A4.height\n\n      while (nPages &gt;= 0) {\n        document.newPage()\n\n//        document.add(Paragraph(\"Empty space\\n\\n\\n\"))\n        document.add(Chunk.NEWLINE)\n        content.addImage(image, width, 0.0, 0.0, heightRatio, 0.0,\n            -((--nPages * PageSize.A4.height) + difference - 20f))\n      }\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ndx8A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ndx8A.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "mvvm", "kotlin", "android-architecture-components"], "comments": [{"owner": {"reputation": 7289, "user_id": 3736955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1647d5d7348d070ae95df49253385ee1?s=128&d=identicon&r=PG", "display_name": "Jemshit Iskenderov", "link": "https://stackoverflow.com/users/3736955/jemshit-iskenderov"}, "edited": false, "score": 0, "creation_date": 1517764149, "post_id": 48604251, "comment_id": 84217915, "body": "Option 1: Wrap state and data in a class and expose it: <a href=\"https://developer.android.com/topic/libraries/architecture/guide.html#addendum\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/&hellip;</a>"}, {"owner": {"reputation": 51, "user_id": 3550413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ca3210d72624f74a75fa678a967484?s=128&d=identicon&r=PG&f=1", "display_name": "droidrcc", "link": "https://stackoverflow.com/users/3550413/droidrcc"}, "reply_to_user": {"reputation": 7289, "user_id": 3736955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1647d5d7348d070ae95df49253385ee1?s=128&d=identicon&r=PG", "display_name": "Jemshit Iskenderov", "link": "https://stackoverflow.com/users/3736955/jemshit-iskenderov"}, "edited": false, "score": 0, "creation_date": 1517765453, "post_id": 48604251, "comment_id": 84218358, "body": "@JemshitIskenderov, is not an answer for this problem. I imagine that you would wrap the state and the data and then expose it to the UI, I would handle the state/data in the ViewModel and notify the UI through differents LiveData (SingleLiveEvent). In addiction your solution presume that the UI is get updated on rotation since you should expose the LiveData returned from the Repository. I would update the UI once, that&#39;s why I&#39;m using SingleLiveEvent."}], "answers": [{"tags": [], "owner": {"reputation": 474, "user_id": 574127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hx2L1.jpg?s=128&g=1", "display_name": "Fabio Collini", "link": "https://stackoverflow.com/users/574127/fabio-collini"}, "is_accepted": false, "score": 1, "last_activity_date": 1518034408, "creation_date": 1518034408, "answer_id": 48672476, "question_id": 48604251, "link": "https://stackoverflow.com/questions/48604251/observing-repository-livedata-from-viewmodel-and-notify-ui/48672476#48672476", "title": "Observing repository LiveData from ViewModel and notify UI", "body": "<p>I think that the official guideline is to combine multiple livedatas in the ViewModel using a <a href=\"https://developer.android.com/reference/android/arch/lifecycle/Transformations.html\" rel=\"nofollow noreferrer\">transformation</a>. However usually I prefer to use livedatas only in the communication between the ViewModel and the View, in the repositories I use RxJava or coroutines. So in your example I'd modify the <code>login</code> method in the repository to return a <code>Single</code> instead of a livedata and subscribe to it in the ViewModel. You can then cancel the subscription when the ViewModel is destroyed. You can find an example of this architecture in this <a href=\"https://github.com/fabioCollini/ArchitectureComponentsDemo\" rel=\"nofollow noreferrer\">repository</a>.</p>\n"}], "owner": {"reputation": 51, "user_id": 3550413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ca3210d72624f74a75fa678a967484?s=128&d=identicon&r=PG&f=1", "display_name": "droidrcc", "link": "https://stackoverflow.com/users/3550413/droidrcc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4813, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1518034408, "creation_date": 1517713123, "question_id": 48604251, "link": "https://stackoverflow.com/questions/48604251/observing-repository-livedata-from-viewmodel-and-notify-ui", "title": "Observing repository LiveData from ViewModel and notify UI", "body": "<p>Google says that is not possible to observe a LiveData from a ViewModel:</p>\n\n<blockquote>\n  <p>[...] However ViewModel objects must never observe changes to\n  lifecycle-aware observables, such as LiveData objects.[...]</p>\n</blockquote>\n\n<p>And I would handle the <code>repo.login()</code> result in the ViewModel and notify the UI thought the two <a href=\"https://github.com/googlesamples/android-architecture/blob/dev-todo-mvvm-live/todoapp/app/src/main/java/com/example/android/architecture/blueprints/todoapp/SingleLiveEvent.java\" rel=\"noreferrer\">SingleLiveEvent</a>s, is it possible?</p>\n\n<pre><code>class Repository {\n    // .... //\n    fun login(user:String, password:String): LiveData&lt;Status&gt; { /* ... */ }\n}\n\nclass LoginViewModel : ViewModel() {\n\n    @Inject\n    lateinit var repo: Repository\n\n    private var auth = MutableLiveData&lt;User&gt;()\n    private var showErrorEvent = SingleLiveEvent&lt;String&gt;()\n    private var showSuccessEvent = SingleLiveEvent&lt;String&gt;()\n\n    // Called from UI\n    fun performLogin(user:User){\n        repo.login(user.name, user.password)\n        // We can't observe the result here \n        // and update error/success events\n    }\n\n    // Called from UI\n    fun getErrorEvent() = showErrorEvent\n\n    // Called from UI\n    fun getSuccessEvent() = showSuccessEvent\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room", "android-architecture-components", "android-livedata"], "comments": [{"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 1, "creation_date": 1517707701, "post_id": 48602979, "comment_id": 84204272, "body": "AndroidTests (tests in the AndroidTest folder) aren&#39;t unit tests but instrumented tests.  Also, you are using the Mock annotation incorrectly, you are instantiating the Observer right away which will (I don&#39;t know) a. render the Mock annotation useless or b. render the instantiation useless."}, {"owner": {"reputation": 1670, "user_id": 5057537, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb43d5002c7fa8c47bc301341e9acd29?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer001", "link": "https://stackoverflow.com/users/5057537/programmer001"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1517716553, "post_id": 48602979, "comment_id": 84205688, "body": "My bad, updated wording in the question. I&#39;m recently learning how to use Mockito, so it appears I&#39;ve misunderstood how to use it. Looks like I have some more reading to do :) I don&#39;t believe Mockito is what I needed here either. I dug through Google&#39;s examples earlier to see how they were testing with LiveData but missed the file with my answer... Updating now with my findings..."}], "answers": [{"comments": [{"owner": {"reputation": 370, "user_id": 4826571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Cjiht.png?s=128&g=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/4826571/ivan"}, "edited": false, "score": 0, "creation_date": 1530222005, "post_id": 48604573, "comment_id": 89171370, "body": "Broken link, can you update link or provide solution in an edit?"}, {"owner": {"reputation": 1670, "user_id": 5057537, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb43d5002c7fa8c47bc301341e9acd29?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer001", "link": "https://stackoverflow.com/users/5057537/programmer001"}, "reply_to_user": {"reputation": 370, "user_id": 4826571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Cjiht.png?s=128&g=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/4826571/ivan"}, "edited": false, "score": 1, "creation_date": 1530855889, "post_id": 48604573, "comment_id": 89388432, "body": "Updated broken link"}, {"owner": {"reputation": 1139, "user_id": 1955202, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/x0eLT.jpg?s=128&g=1", "display_name": "avalancha", "link": "https://stackoverflow.com/users/1955202/avalancha"}, "edited": false, "score": 0, "creation_date": 1544521667, "post_id": 48604573, "comment_id": 94296269, "body": "All my more &quot;higher level / integration&quot; tests involving LiveData are now based on this answer and it works SO DAMN nice. InstantTaskExecutorRule plus this code snippet and that&#39;s it. Thanks a bunch!"}], "tags": [], "owner": {"reputation": 1670, "user_id": 5057537, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb43d5002c7fa8c47bc301341e9acd29?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer001", "link": "https://stackoverflow.com/users/5057537/programmer001"}, "is_accepted": true, "score": 10, "last_activity_date": 1608531803, "last_edit_date": 1608531803, "creation_date": 1517716983, "answer_id": 48604573, "question_id": 48602979, "link": "https://stackoverflow.com/questions/48602979/android-livedata-in-androidtest-returns-null/48604573#48604573", "title": "Android LiveData in androidTest returns null", "body": "<p>After a little more digging I've found a utility method Google provided through their Architecture Components examples on GitHub.</p>\n<p><a href=\"https://github.com/android/architecture-components-samples/blob/233dd8ee57d9ea54da6a1a5694cd58c44d68526f/BasicSample/app/src/androidTest/java/com/example/android/persistence/LiveDataTestUtil.java\" rel=\"nofollow noreferrer\">LiveDataTestUtil</a></p>\n<pre><code>public class LiveDataTestUtil {\n\n    /**\n     * Get the value from a LiveData object. We're waiting for LiveData to emit, for 2 seconds.\n     * Once we got a notification via onChanged, we stop observing.\n     */\n    public static &lt;T&gt; T getValue(final LiveData&lt;T&gt; liveData) throws InterruptedException {\n        final Object[] data = new Object[1];\n        final CountDownLatch latch = new CountDownLatch(1);\n        Observer&lt;T&gt; observer = new Observer&lt;T&gt;() {\n            @Override\n            public void onChanged(@Nullable T o) {\n                data[0] = o;\n                latch.countDown();\n                liveData.removeObserver(this);\n            }\n        };\n        liveData.observeForever(observer);\n        latch.await(2, TimeUnit.SECONDS);\n        //noinspection unchecked\n        return (T) data[0];\n    }\n}\n</code></pre>\n<p>This allows you to pass the LiveData instance and get back the value it holds.</p>\n<p><strong>Update (JUnit 4):</strong></p>\n<p>You can also use the <a href=\"https://developer.android.com/reference/android/arch/core/executor/testing/InstantTaskExecutorRule\" rel=\"nofollow noreferrer\">InstantTaskExecutorRule</a> combined with <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LiveData.html#observeforever\" rel=\"nofollow noreferrer\">observeForever</a> to test your LiveData. In Kotlin you set <code>@get:Rule val instantTaskExecutorRule = InstantTaskExecutorRule()</code> at the top of your test class to ensure LiveData is handled synchronously, then inside your test cases <code>myLiveData.observeForever { /* Do something when event emitted */ }</code> to get the LiveData value.</p>\n<p><strong>Update (JUnit 5)</strong></p>\n<p>If you're using JUnit5, then you can use this extension instead of the Rule explained in <em>Update (JUnit4)</em> above.</p>\n<pre><code>class InstantTaskExecutorExtension : BeforeEachCallback, AfterEachCallback {\n\n    override fun beforeEach(context: ExtensionContext?) {\n        ArchTaskExecutor.getInstance().setDelegate(object : TaskExecutor() {\n            override fun executeOnDiskIO(runnable: Runnable) {\n                runnable.run()\n            }\n\n            override fun postToMainThread(runnable: Runnable) {\n                runnable.run()\n            }\n\n            override fun isMainThread(): Boolean {\n                return true\n            }\n        })\n    }\n\n    override fun afterEach(context: ExtensionContext?) {\n        ArchTaskExecutor.getInstance().setDelegate(null)\n    }\n}\n</code></pre>\n<p>Use this extension by annotating your test class like so:</p>\n<pre><code>@ExtendWith(InstantTaskExecutorExtension::class)\nclass MyTestClass { ... }\n</code></pre>\n<p>If you're new to extensions (they replace JUnit 4 Rules), you can find additional documentation here: <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#extensions</a></p>\n"}, {"tags": [], "owner": {"reputation": 280, "user_id": 955198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b3fb84c56c64f29af7f748af0651d0c?s=128&d=identicon&r=PG", "display_name": "IainCunningham", "link": "https://stackoverflow.com/users/955198/iaincunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1606239703, "creation_date": 1606239703, "answer_id": 64991967, "question_id": 48602979, "link": "https://stackoverflow.com/questions/48602979/android-livedata-in-androidtest-returns-null/64991967#64991967", "title": "Android LiveData in androidTest returns null", "body": "<p>If you are doing Kotlin, rather than Java, then you can also use:</p>\n<pre><code>import androidx.lifecycle.LiveData\nimport androidx.lifecycle.Observer\nimport java.util.concurrent.CountDownLatch\nimport java.util.concurrent.TimeUnit\n\n// Original Java: https://github.com/googlesamples/android-architecture-components/blob/master/BasicSample/app/src/androidTest/java/com/example/android/persistence/LiveDataTestUtil.java\n\nobject LiveDataTestUtil {\n    /**\n     * Get the value from a LiveData object. We're waiting for LiveData to emit, for 2 seconds.\n     * Once we got a notification via onChanged, we stop observing.\n     */\n    @Throws(InterruptedException::class)\n    fun &lt;T&gt; getValue(liveData: LiveData&lt;T&gt;): T? {\n        val data = arrayOfNulls&lt;Any&gt;(1)\n        val latch = CountDownLatch(1)\n        val observer: Observer&lt;T?&gt; = object : Observer&lt;T?&gt; {\n            override fun onChanged(o: T?) {\n                data[0] = o\n                latch.countDown()\n                liveData.removeObserver(this)\n            }\n        }\n        liveData.observeForever(observer)\n        latch.await(2, TimeUnit.SECONDS)\n        @Suppress(&quot;UNCHECKED_CAST&quot;)\n        return data[0] as T?\n    }\n}\n</code></pre>\n<p>(At the moment the feature of A/S for automigration of Java to Kotlin doesn't quite work correctly for the Google class)</p>\n"}], "owner": {"reputation": 1670, "user_id": 5057537, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb43d5002c7fa8c47bc301341e9acd29?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer001", "link": "https://stackoverflow.com/users/5057537/programmer001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2631, "favorite_count": 0, "accepted_answer_id": 48604573, "answer_count": 2, "score": 4, "last_activity_date": 1608531803, "creation_date": 1517699019, "last_edit_date": 1517716594, "question_id": 48602979, "link": "https://stackoverflow.com/questions/48602979/android-livedata-in-androidtest-returns-null", "title": "Android LiveData in androidTest returns null", "body": "<p>I'm running an androidTest instrumentation test and I have a method that returns LiveData from a DAO object using Room.</p>\n\n<p>I'm calling the method like so:</p>\n\n<pre><code>val animal = roomDatabase.animalsDao().getAnimal(1)\nanimal.observeForever(mMockObserver)\nassertNotNull(animal.value)\n</code></pre>\n\n<p>I used Mockito to mock the observer:</p>\n\n<pre><code>@Mock\nprivate lateinit var mMockObserver = Observer&lt;Animal&gt;\n</code></pre>\n\n<p>This should return an instance of LiveData containing the Animal at id 1, but it's null. It's my understanding that in order for LiveData to return anything, there must be an observer. Did I set this up incorrectly?</p>\n\n<p>Note: If I change the signature of getAnimal() in the DAO to return an Animal directly, rather than a LiveData, then it works so I know it's something with LiveData.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kdoc"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1517698562, "last_edit_date": 1517698562, "creation_date": 1517698198, "answer_id": 48602886, "question_id": 48602654, "link": "https://stackoverflow.com/questions/48602654/document-template-generation-kotlin/48602886#48602886", "title": "Document template generation kotlin", "body": "<p>Kotlin and especially <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html\" rel=\"nofollow noreferrer\">KDoc</a> encourage a different documentation style. As stated in this <a href=\"https://discuss.kotlinlang.org/t/autocomplete-method-documentation-template-in-intellij/1905\" rel=\"nofollow noreferrer\">discussion</a>:</p>\n\n<blockquote>\n  <p>The reason is that we found that referring to parameter names from the documentation text allows to write documentation that is more concise and easier to read compared to the traditional javadoc style where <em>every parameter is documented in a separate tag</em>. Therefore, <strong>we do not generate the template with parameter names by default</strong>. (D. Jemerov, Kotlin in Action Author)</p>\n</blockquote>\n\n<p>Here\u2019s an example of <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.0/libraries/stdlib/src/kotlin/util/Standard.kt#L91\" rel=\"nofollow noreferrer\"><code>let</code></a>, which is part of the standard library:</p>\n\n<pre><code>/**\n * Calls the specified function [block] with `this` value as its argument and returns its result.\n */\n@kotlin.internal.InlineOnly\npublic inline fun &lt;T, R&gt; T.let(block: (T) -&gt; R): R\n</code></pre>\n"}], "owner": {"reputation": 552, "user_id": 7096284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ekqd3.jpg?s=128&g=1", "display_name": "\u0410\u043a\u0441\u0435\u043d\u043e\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440", "link": "https://stackoverflow.com/users/7096284/%d0%90%d0%ba%d1%81%d0%b5%d0%bd%d0%be%d0%b2-%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d0%bc%d0%b8%d1%80"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 48602886, "answer_count": 1, "score": 3, "last_activity_date": 1517770701, "creation_date": 1517696330, "last_edit_date": 1517770701, "question_id": 48602654, "link": "https://stackoverflow.com/questions/48602654/document-template-generation-kotlin", "title": "Document template generation kotlin", "body": "<p>Working before in Android Studio if before the function I put / ** and hit enter, then I automatically generated the next document with annotations for describing the parameters, the return value, etc.</p>\n\n<pre><code>/**\n* @params a\n* @return\n*/\nint f(int a)\n{\n    return a;\n}\n</code></pre>\n\n<p>When I started working with Kotlin in Android Studio, I tried to generate a similar template, it produces blank template without returns, params, etc.</p>\n\n<pre><code>   /**\n    *\n    */\n    fun f(a: Int)\n    {\n       return a\n    }\n</code></pre>\n\n<p>I installed Dokka and tried to set it up in Android Stuio, but it did not work. How can I configure the generation of a similar template for Kotlin in Android Studio?</p>\n"}, {"tags": ["java", "javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 2261, "user_id": 7327572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/111afeb457014dbcc846245eec06e492?s=128&d=identicon&r=PG&f=1", "display_name": "FilipRistic", "link": "https://stackoverflow.com/users/7327572/filipristic"}, "edited": false, "score": 0, "creation_date": 1517691170, "post_id": 48601835, "comment_id": 84200404, "body": "I don&#39;t have much experience using tornadofx, but I don&#39;t think that it has that option out of the box, but you could make simple function which checks if input text is integer."}, {"owner": {"reputation": 83, "user_id": 5411113, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-PoJPxDLRKYk/AAAAAAAAAAI/AAAAAAAAALM/KB1w3e20Je8/photo.jpg?sz=128", "display_name": "Ali Haroon", "link": "https://stackoverflow.com/users/5411113/ali-haroon"}, "reply_to_user": {"reputation": 2261, "user_id": 7327572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/111afeb457014dbcc846245eec06e492?s=128&d=identicon&r=PG&f=1", "display_name": "FilipRistic", "link": "https://stackoverflow.com/users/7327572/filipristic"}, "edited": false, "score": 0, "creation_date": 1517692578, "post_id": 48601835, "comment_id": 84200818, "body": "true but it would be kind of a waste to do it if there is something that is already implemented"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 5411113, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-PoJPxDLRKYk/AAAAAAAAAAI/AAAAAAAAALM/KB1w3e20Je8/photo.jpg?sz=128", "display_name": "Ali Haroon", "link": "https://stackoverflow.com/users/5411113/ali-haroon"}, "edited": false, "score": 0, "creation_date": 1517692253, "post_id": 48602055, "comment_id": 84200731, "body": "Yeah saw the itemViewModel but the thing is that I couldn&#39;t really relate as how to use it along with database queries"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 83, "user_id": 5411113, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-PoJPxDLRKYk/AAAAAAAAAAI/AAAAAAAAALM/KB1w3e20Je8/photo.jpg?sz=128", "display_name": "Ali Haroon", "link": "https://stackoverflow.com/users/5411113/ali-haroon"}, "edited": false, "score": 1, "creation_date": 1517693145, "post_id": 48602055, "comment_id": 84200953, "body": "That&#39;s no problem at all. I&#39;ll create a screencast on that soon :)"}, {"owner": {"reputation": 83, "user_id": 5411113, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-PoJPxDLRKYk/AAAAAAAAAAI/AAAAAAAAALM/KB1w3e20Je8/photo.jpg?sz=128", "display_name": "Ali Haroon", "link": "https://stackoverflow.com/users/5411113/ali-haroon"}, "edited": false, "score": 0, "creation_date": 1517693755, "post_id": 48602055, "comment_id": 84201116, "body": "That would be much appreciated, and thanks for the answer earlier but the filterInput is giving me Unresolved reference after entering it as instructed above, isn&#39;t supposed to be in this form : am = textfield{ filterInput{  it.controlNewText.isInt() } }"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 83, "user_id": 5411113, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-PoJPxDLRKYk/AAAAAAAAAAI/AAAAAAAAALM/KB1w3e20Je8/photo.jpg?sz=128", "display_name": "Ali Haroon", "link": "https://stackoverflow.com/users/5411113/ali-haroon"}, "edited": false, "score": 0, "creation_date": 1517780872, "post_id": 48602055, "comment_id": 84223330, "body": "Ah, I forgot - it was just added to the unreleased 1.7.15 :) I updated the answer with a workaround :)"}, {"owner": {"reputation": 4779, "user_id": 960504, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ClpfS.jpg?s=128&g=1", "display_name": "Warkst", "link": "https://stackoverflow.com/users/960504/warkst"}, "edited": false, "score": 0, "creation_date": 1545144286, "post_id": 48602055, "comment_id": 94518931, "body": "I would like to point out that this does not make it trivial to enter a negative number: typing the - is rejected as input, so you have to type the value and then go back to prefix the minus."}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 9, "last_activity_date": 1517780850, "last_edit_date": 1517780850, "creation_date": 1517691998, "answer_id": 48602055, "question_id": 48601835, "link": "https://stackoverflow.com/questions/48601835/how-to-restrict-textfields-in-tornadofx-to-numbers-only/48602055#48602055", "title": "How to restrict textfields in TornadoFX to numbers only", "body": "<p>You can use the <code>filterInput</code> extension function we've added to <code>TextField</code> and check that the text after the addition is in int. If it's not, deny the last input change:</p>\n\n<pre><code>textfield {\n    filterInput { it.controlNewText.isInt() } \n}\n</code></pre>\n\n<p>On another note, you really need to look into ItemViewModel. It's an anti-pattern to assign each input element to a variable and extract the values from the input values on submit. Your code will be a lot cleaner and easier to reason about and refactor later if you use view models.</p>\n\n<p>PS: The <code>filterInput</code> function is available in the soon to be released TornadoFX 1.7.15, in the mean time you can add this extension function to your project:</p>\n\n<pre><code>fun TextInputControl.filterInput(discriminator: (TextFormatter.Change) -&gt; Boolean) {\n    textFormatter = TextFormatter&lt;Any&gt;(CustomTextFilter(discriminator))\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 5411113, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-PoJPxDLRKYk/AAAAAAAAAAI/AAAAAAAAALM/KB1w3e20Je8/photo.jpg?sz=128", "display_name": "Ali Haroon", "link": "https://stackoverflow.com/users/5411113/ali-haroon"}, "edited": false, "score": 0, "creation_date": 1517922961, "post_id": 48619681, "comment_id": 84284442, "body": "doesn&#39;t this answer requires me to change one of the predefined classes of the javaFX libraries ? @Adam Arold"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 83, "user_id": 5411113, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-PoJPxDLRKYk/AAAAAAAAAAI/AAAAAAAAALM/KB1w3e20Je8/photo.jpg?sz=128", "display_name": "Ali Haroon", "link": "https://stackoverflow.com/users/5411113/ali-haroon"}, "edited": false, "score": 0, "creation_date": 1517923479, "post_id": 48619681, "comment_id": 84284789, "body": "No these classes come with ControlsFX."}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 1, "last_activity_date": 1517824183, "creation_date": 1517824183, "answer_id": 48619681, "question_id": 48601835, "link": "https://stackoverflow.com/questions/48601835/how-to-restrict-textfields-in-tornadofx-to-numbers-only/48619681#48619681", "title": "How to restrict textfields in TornadoFX to numbers only", "body": "<p>From your example it seems like that you'd want to use a <a href=\"https://controlsfx.bitbucket.io/org/controlsfx/control/PropertySheet.html\" rel=\"nofollow noreferrer\">PropertySheet</a> which comes from <a href=\"http://fxexperience.com/controlsfx/features/\" rel=\"nofollow noreferrer\">ControlsFX</a>. I use it in production and it works well with TornadoFX.</p>\n\n<p>Here is an example from the <a href=\"https://github.com/jinghai/controlsfx/tree/master/controlsfx-samples\" rel=\"nofollow noreferrer\">samples</a> project which you can peruse. This will let you edit and bind multiple types not just numbers:</p>\n\n<pre><code>public class PropertySheetExample extends VBox {\n    private static Map&lt;String, Object&gt; customDataMap = new LinkedHashMap&lt;&gt;();\n    static {\n        customDataMap.put(\"Group 1#My Text\", \"Same text\"); // Creates a TextField in property sheet\n        customDataMap.put(\"Group 1#My Date\", LocalDate.of(2000, Month.JANUARY, 1)); // Creates a DatePicker\n        customDataMap.put(\"Group 2#My Enum Choice\", SomeEnumType.EnumValue); // Creates a ChoiceBox\n        customDataMap.put(\"Group 2#My Boolean\", false); // Creates a CheckBox\n        customDataMap.put(\"Group 2#My Number\", 500); // Creates a NumericField\n    }\n\n    class CustomPropertyItem implements PropertySheet.Item {\n        private String key;\n        private String category, name;\n\n        public CustomPropertyItem(String key) {\n            this.key = key;\n            String[] skey = key.split(\"#\");\n            category = skey[0];\n            name = skey[1];\n        }\n\n        @Override\n        public Class&lt;?&gt; getType() {\n            return customDataMap.get(key).getClass();\n        }\n\n        @Override\n        public String getCategory() {\n            return category;\n        }\n\n        @Override\n        public String getName() {\n            return name;\n        }\n\n        @Override\n        public String getDescription() {\n            return null;\n        }\n\n        @Override\n        public Object getValue() {\n            return customDataMap.get(key);\n        }\n\n        @Override\n        public void setValue(Object value) {\n            customDataMap.put(key, value);\n        }\n    }\n\n    public PropertySheetExample {\n        ObservableList&lt;PropertySheet.Item&gt; list = FXCollections.observableArrayList();\n        for (String key : customDataMap.keySet())\n            list.add(new CustomPropertyItem(key));\n\n        PropertySheet propertySheet = new PropertySheet(list);\n        VBox.setVgrow(propertySheet, Priority.ALWAYS);\n        getChildren().add(propertySheet);\n    }\n}\n</code></pre>\n\n<p>You can also take a look at <a href=\"https://stackoverflow.com/questions/24238858/property-sheet-example-with-use-of-a-propertyeditor-controlsfx\">this question</a> for more info.</p>\n"}], "owner": {"reputation": 83, "user_id": 5411113, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-PoJPxDLRKYk/AAAAAAAAAAI/AAAAAAAAALM/KB1w3e20Je8/photo.jpg?sz=128", "display_name": "Ali Haroon", "link": "https://stackoverflow.com/users/5411113/ali-haroon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1988, "favorite_count": 2, "accepted_answer_id": 48602055, "answer_count": 2, "score": 5, "last_activity_date": 1520430093, "creation_date": 1517690638, "last_edit_date": 1520430093, "question_id": 48601835, "link": "https://stackoverflow.com/questions/48601835/how-to-restrict-textfields-in-tornadofx-to-numbers-only", "title": "How to restrict textfields in TornadoFX to numbers only", "body": "<p>The problem here is that I wanna make sure that the user doesn't enter any strings or text especially that I need to enter his choice into a database later so I don't things to get messed up in the database's part, here is part of code which is the view I wish to use the textview with restricted Integers (specifically the amount am field).\nPS: I'm still new to both JavaFX and TornadoFX so hope this doesn't sound like a rather silly question.</p>\n\n<p>My Code:</p>\n\n<pre><code>package com.company.view\n\nimport javafx.beans.property.SimpleIntegerProperty\nimport javafx.scene.control.CheckBox\nimport tornadofx.*\nimport javafx.scene.control.TextField\nimport javafx.util.converter.NumberStringConverter\nimport java.sql.Connection\n\nclass Add: View() {\n    override val root = Form()\n    private val mainMenu: MainMenu by inject()\n    private var cname: TextField by singleAssign()\n    private var address: TextField by singleAssign()\n    private var sname: TextField by singleAssign()\n    private var ch: CheckBox by singleAssign()\n    private var am: TextField by singleAssign()\n    var conn: Connection?= mainMenu.conn\n\n    init {\n        with(root) {\n            vbox(30.0) {\n                fieldset(\"Enter Your Info below\") {\n                    field(\"Enter The Customer's Name\") {\n                            cname = textfield()\n                    }\n                    field(\"Enter the Customer's address\") {\n                        address = textfield()\n                    }\n                    field(\"Enter Bought Stock's Name\") {\n                        sname = textfield()\n                    }\n                    field(\"Do you wish to pay now?\") {\n                        ch = checkbox()\n                    }\n                    field(\"Enter the amount you wish to buy\"){\n                        am = textfield()\n                    }\n                    button(\"Submit\")\n                    {\n                        setOnAction {\n                            addPayment(cname.text, address.text, sname.text, ch.isSelected, am.text)\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n   private fun addPayment(cusName: String, caddress: String, stname: String, che: Boolean,am: String){\n//required code for inserting into the database here.\n\n\n    }\n}\n</code></pre>\n"}, {"tags": ["gradle", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1517739784, "post_id": 48601549, "comment_id": 84210332, "body": "Do you have JDK 8?"}, {"owner": {"reputation": 7138, "user_id": 692422, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4b93f5d101d4e8b14ca950ed530e0148?s=128&d=identicon&r=PG", "display_name": "alisabzevari", "link": "https://stackoverflow.com/users/692422/alisabzevari"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1517739898, "post_id": 48601549, "comment_id": 84210361, "body": "Yes, and this problem only happens when I build the project in intellij. gradle in terminal works fine!"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1517742707, "post_id": 48601549, "comment_id": 84211137, "body": "What is the IDE plugin version that you use? I could not reproduce the error with the 1.2.21 plugin. If that happens with the newer Gradle &amp; IDE plugin versions as well, you could file an issue at <a href=\"https://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a> and describe the exact steps that lead to the error."}, {"owner": {"reputation": 7982, "user_id": 4694013, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh6.googleusercontent.com/-NtYnVWhJ_TE/AAAAAAAAAAI/AAAAAAAAABI/ddYXTsg5YCM/photo.jpg?sz=128", "display_name": "Anoop M Maddasseri", "link": "https://stackoverflow.com/users/4694013/anoop-m-maddasseri"}, "edited": false, "score": 0, "creation_date": 1581837620, "post_id": 48601549, "comment_id": 106565118, "body": "<a href=\"https://stackoverflow.com/a/60246275/4694013\">stackoverflow.com/a/60246275/4694013</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7138, "user_id": 692422, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4b93f5d101d4e8b14ca950ed530e0148?s=128&d=identicon&r=PG", "display_name": "alisabzevari", "link": "https://stackoverflow.com/users/692422/alisabzevari"}, "edited": false, "score": 0, "creation_date": 1517741223, "post_id": 48607120, "comment_id": 84210735, "body": "It is 8 in my intellij!"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 7138, "user_id": 692422, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4b93f5d101d4e8b14ca950ed530e0148?s=128&d=identicon&r=PG", "display_name": "alisabzevari", "link": "https://stackoverflow.com/users/692422/alisabzevari"}, "edited": false, "score": 0, "creation_date": 1517741557, "post_id": 48607120, "comment_id": 84210830, "body": "Try invalidating the caches and restarting"}, {"owner": {"reputation": 7138, "user_id": 692422, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4b93f5d101d4e8b14ca950ed530e0148?s=128&d=identicon&r=PG", "display_name": "alisabzevari", "link": "https://stackoverflow.com/users/692422/alisabzevari"}, "edited": false, "score": 0, "creation_date": 1517742142, "post_id": 48607120, "comment_id": 84210983, "body": "Didn&#39;t work. I have a project created with older intellij (current is 2017.3.4). The old one is working. I am comparing .idea folders of two project with each other. Does it make sense?"}, {"owner": {"reputation": 150, "user_id": 10030527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/792rS.png?s=128&g=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/10030527/paolo"}, "edited": false, "score": 2, "creation_date": 1535727089, "post_id": 48607120, "comment_id": 91186896, "body": "I had the same error on a maven project. Just solved adding  &lt;kotlin.compiler.jvmTarget&gt;1.8&lt;/kotlin.compiler.jvmTarget&gt; to the properties section. Take a look here <a href=\"https://youtrack.jetbrains.com/issue/KT-17492\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-17492</a> for more info"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1538165062, "post_id": 48607120, "comment_id": 92062563, "body": "The &quot;Project language level&quot; setting controls how Java source code is highlighted in the IDE. It has no impact on Kotlin compilation whatsoever."}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1517740224, "creation_date": 1517740224, "answer_id": 48607120, "question_id": 48601549, "link": "https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target/48607120#48607120", "title": "Why kotlin gradle plugin cannot build with 1.8 target?", "body": "<p>Not quite sure why this works, but you could try changing the setting in the Idea itself. Since Gradle from the command line works, but not when building from IntelliJ this is probably the root.</p>\n\n<p>Go to File -> Project Structure. Go to the Project tab and make sure Project SDK is 8 (or newer) and set the <code>Project language level</code> to Java 8</p>\n\n<p><a href=\"https://i.stack.imgur.com/A2ABC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A2ABC.png\" alt=\"enter image description here\"></a></p>\n\n<p>The config in there seems to override Gradle for some reason, so changing it should work</p>\n"}, {"comments": [{"owner": {"reputation": 1331, "user_id": 558668, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ca8d07c9b5a19e6ee2eb51843a6f7b07?s=128&d=identicon&r=PG&f=1", "display_name": "ElyashivLavi", "link": "https://stackoverflow.com/users/558668/elyashivlavi"}, "edited": false, "score": 4, "creation_date": 1518436582, "post_id": 48607469, "comment_id": 84491561, "body": "In my version it&#39;s in <code>Settings -&gt; Other Settings -&gt; Kotlin Compiler -&gt; Target JVM Version</code>"}, {"owner": {"reputation": 1331, "user_id": 558668, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ca8d07c9b5a19e6ee2eb51843a6f7b07?s=128&d=identicon&r=PG&f=1", "display_name": "ElyashivLavi", "link": "https://stackoverflow.com/users/558668/elyashivlavi"}, "edited": false, "score": 6, "creation_date": 1518442265, "post_id": 48607469, "comment_id": 84495186, "body": "But even when set to 1.8, I still get <code>Calls to static methods in Java interfaces are prohibited in JVM target 1.6. Recompile with &#39;-jvm-target 1.8&#39;</code>"}, {"owner": {"reputation": 7138, "user_id": 692422, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4b93f5d101d4e8b14ca950ed530e0148?s=128&d=identicon&r=PG", "display_name": "alisabzevari", "link": "https://stackoverflow.com/users/692422/alisabzevari"}, "reply_to_user": {"reputation": 1331, "user_id": 558668, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ca8d07c9b5a19e6ee2eb51843a6f7b07?s=128&d=identicon&r=PG&f=1", "display_name": "ElyashivLavi", "link": "https://stackoverflow.com/users/558668/elyashivlavi"}, "edited": false, "score": 0, "creation_date": 1518600078, "post_id": 48607469, "comment_id": 84568456, "body": "I don&#39;t have <code>Other Settings</code> in mine!"}, {"owner": {"reputation": 530, "user_id": 6709426, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-xdr1R2vOnGM/AAAAAAAAAAI/AAAAAAAAPEM/dnd99_tT-9E/photo.jpg?sz=128", "display_name": "Pablo Bastidas", "link": "https://stackoverflow.com/users/6709426/pablo-bastidas"}, "edited": false, "score": 39, "creation_date": 1525375066, "post_id": 48607469, "comment_id": 87342684, "body": "In my case I fix it in <code>Project Structure -&gt; Facets -&gt; Kotling -&gt; Target Platform</code>"}, {"owner": {"reputation": 752, "user_id": 7454264, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hhh9dq-bF6s/AAAAAAAAAAI/AAAAAAAAABA/9RurfD8E-iI/photo.jpg?sz=128", "display_name": "softjake", "link": "https://stackoverflow.com/users/7454264/softjake"}, "edited": false, "score": 0, "creation_date": 1530117208, "post_id": 48607469, "comment_id": 89125065, "body": "Actually, I set all of the above and no more message... yet. IJ 2018.1.5  Kotlin 1.2.50."}], "tags": [], "owner": {"reputation": 7138, "user_id": 692422, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4b93f5d101d4e8b14ca950ed530e0148?s=128&d=identicon&r=PG", "display_name": "alisabzevari", "link": "https://stackoverflow.com/users/692422/alisabzevari"}, "is_accepted": true, "score": 83, "last_activity_date": 1517742926, "creation_date": 1517742926, "answer_id": 48607469, "question_id": 48601549, "link": "https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target/48607469#48607469", "title": "Why kotlin gradle plugin cannot build with 1.8 target?", "body": "<p>It turned out that it was my kotlin compiler configuration in intellij settings. In <code>Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Kotlin Compiler</code> a setting called <code>Target JVM version</code> should have been set to 1.8.</p>\n"}, {"comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 21, "creation_date": 1538165034, "post_id": 52561908, "comment_id": 92062552, "body": "For Android projects, the Kotlin compiler target JVM version needs to be changed in build.gradle, not in the Android Studio preferences. Changes in the Android Studio preferences will not affect command-line builds."}, {"owner": {"reputation": 8208, "user_id": 41742, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f45066b1408b3df9b2f48a7e53aa59a7?s=128&d=identicon&r=PG&f=1", "display_name": "Curyous", "link": "https://stackoverflow.com/users/41742/curyous"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1540582032, "post_id": 52561908, "comment_id": 92933946, "body": "Thanks for this, great help @yole"}, {"owner": {"reputation": 630, "user_id": 474497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6800dfc7a1ede5d68bde9ea04c185fe2?s=128&d=identicon&r=PG", "display_name": "lotosbin", "link": "https://stackoverflow.com/users/474497/lotosbin"}, "edited": false, "score": 0, "creation_date": 1543983884, "post_id": 52561908, "comment_id": 94110382, "body": "Thanks for this, great help,"}, {"owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "edited": false, "score": 0, "creation_date": 1563821706, "post_id": 52561908, "comment_id": 100819392, "body": "If someone gets the reason behind this error then please leave a comment tagging me."}, {"owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "edited": false, "score": 0, "creation_date": 1568859355, "post_id": 52561908, "comment_id": 102411084, "body": "Works for Android Studio 3.5."}, {"owner": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "edited": false, "score": 2, "creation_date": 1579801625, "post_id": 52561908, "comment_id": 105897634, "body": "Cool, it helps! And it&#39;s <code>app</code>&#39;s gradle btw."}, {"owner": {"reputation": 143, "user_id": 1799007, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc10301adfb40ce62510f4953442a72a?s=128&d=identicon&r=PG", "display_name": "robotsquidward", "link": "https://stackoverflow.com/users/1799007/robotsquidward"}, "edited": false, "score": 2, "creation_date": 1580749795, "post_id": 52561908, "comment_id": 106191598, "body": "Is it possible to set this at the root build.gradle file? It&#39;s tedious managing this across modules in a multi-module project."}, {"owner": {"reputation": 51, "user_id": 9414276, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nAZUv0hj-YY/AAAAAAAAAAI/AAAAAAAAbBk/m-H19wONz1w/photo.jpg?sz=128", "display_name": "Abhishek Saxena", "link": "https://stackoverflow.com/users/9414276/abhishek-saxena"}, "edited": false, "score": 0, "creation_date": 1591903497, "post_id": 52561908, "comment_id": 110240099, "body": "Is there a way to set 1.8 as default?"}], "tags": [], "owner": {"reputation": 2301, "user_id": 3448879, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/y7XPi.png?s=128&g=1", "display_name": "Jairo Lozano", "link": "https://stackoverflow.com/users/3448879/jairo-lozano"}, "is_accepted": false, "score": 186, "last_activity_date": 1553181707, "last_edit_date": 1553181707, "creation_date": 1538164469, "answer_id": 52561908, "question_id": 48601549, "link": "https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target/52561908#52561908", "title": "Why kotlin gradle plugin cannot build with 1.8 target?", "body": "<p>I think this could be helpful for those using Android Studio 3.2 on Mac.</p>\n\n<p>To change the Kotlin Compiler Target JVM version you should go to Android Studio -> Preferences -> Kotlin Compiler and then change the Target JVM version choosing from the dropdown.</p>\n\n<p>Anyway, I'm still getting the following error</p>\n\n<blockquote>\n  <p>Calls to static methods in Java interfaces are prohibited in JVM target 1.6. Recompile with '-jvm-target 1.8'</p>\n</blockquote>\n\n<p><strong>SOLVED</strong></p>\n\n<p>Adding the following to my build.gradle solved the problem:</p>\n\n<pre><code>android {\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n</code></pre>\n\n<p>About this and other Gradle configuration options: <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/using-gradle.html</a></p>\n\n<hr>\n\n<p>With Kotlin Gradle DSL:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.dsl.KotlinJvmOptions\n\n(kotlinOptions as KotlinJvmOptions).apply {\n    jvmTarget = JavaVersion.VERSION_1_8.toString()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 662, "user_id": 1759327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bd235ca563a6de322f9661c254b41b0?s=128&d=identicon&r=PG", "display_name": "dastan", "link": "https://stackoverflow.com/users/1759327/dastan"}, "is_accepted": false, "score": 0, "last_activity_date": 1540963137, "creation_date": 1540963137, "answer_id": 53076768, "question_id": 48601549, "link": "https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target/53076768#53076768", "title": "Why kotlin gradle plugin cannot build with 1.8 target?", "body": "<p>In my case, I tried all @alisabzevari options including given in comment, but It didn't work, </p>\n\n<p>my mistake I added java file also in <code>src/&lt;sourcset_name&gt;kotlin/</code> folder, later I converted java file to kotlin file. and Voila! It works.  </p>\n\n<p>May be it will help somebody. </p>\n"}, {"tags": [], "owner": {"reputation": 5612, "user_id": 9279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d32ae698b36d5de067710811fec3094b?s=128&d=identicon&r=PG", "display_name": "Tim Keating", "link": "https://stackoverflow.com/users/9279/tim-keating"}, "is_accepted": false, "score": 3, "last_activity_date": 1544214436, "creation_date": 1544214436, "answer_id": 53676406, "question_id": 48601549, "link": "https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target/53676406#53676406", "title": "Why kotlin gradle plugin cannot build with 1.8 target?", "body": "<p>This is also set in project settings, under <code>Project Settings &gt; Modules &gt; Kotlin</code>. This was my specific problem... literally the last thing I tried.</p>\n"}, {"tags": [], "owner": {"reputation": 488, "user_id": 2560563, "user_type": "registered", "profile_image": "https://graph.facebook.com/602188806/picture?type=large", "display_name": "Antal Attila", "link": "https://stackoverflow.com/users/2560563/antal-attila"}, "is_accepted": false, "score": 24, "last_activity_date": 1566905753, "creation_date": 1566905753, "answer_id": 57673831, "question_id": 48601549, "link": "https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target/57673831#57673831", "title": "Why kotlin gradle plugin cannot build with 1.8 target?", "body": "<p>Please check if you have the following three stuff set in idea:</p>\n\n<ol>\n<li>kotlin options in build.gradle</li>\n</ol>\n\n<pre><code>    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Check the relevant Idea preferences\n<a href=\"https://i.stack.imgur.com/A9hT4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/A9hT4.png\" alt=\"Preferences\"></a></p></li>\n<li><p>Check the project Facets\n<a href=\"https://i.stack.imgur.com/LsDbq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LsDbq.png\" alt=\"enter image description here\"></a></p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 356, "user_id": 4572484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TAOX-zNKFAw/AAAAAAAAAAI/AAAAAAAACVc/WaQnVW0LaBE/photo.jpg?sz=128", "display_name": "Yura Galavay", "link": "https://stackoverflow.com/users/4572484/yura-galavay"}, "edited": false, "score": 0, "creation_date": 1617053076, "post_id": 58795065, "comment_id": 118189902, "body": "Yep, this helped me. Thanks."}], "tags": [], "owner": {"reputation": 129, "user_id": 12353268, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDNASrg6vj0grkuScskifYz_GKmywdqAQHHuIRClw=k-s128", "display_name": "Sivakumar Ramadas", "link": "https://stackoverflow.com/users/12353268/sivakumar-ramadas"}, "is_accepted": false, "score": 12, "last_activity_date": 1573441551, "creation_date": 1573441551, "answer_id": 58795065, "question_id": 48601549, "link": "https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target/58795065#58795065", "title": "Why kotlin gradle plugin cannot build with 1.8 target?", "body": "<p>//Just add the below code in your Build gradle(Module:app)</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility = 1.8\n    targetCompatibility = 1.8\n}\ntasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 973, "user_id": 3462026, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/583615379/picture?type=large", "display_name": "Fdo", "link": "https://stackoverflow.com/users/3462026/fdo"}, "edited": false, "score": 0, "creation_date": 1587649122, "post_id": 59798799, "comment_id": 108598503, "body": "The project I was working on had <code>sourceCompatibility </code> &amp; <code>targetCompatibility</code> configured but adding the <code>kotlin.setJvmTargetFromAndroidCompileOptions = true</code> solved the problem for me"}], "tags": [], "owner": {"reputation": 957, "user_id": 5991493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a80594869af32aa62a442e25e1c1572?s=128&d=identicon&r=PG&f=1", "display_name": "Karol Kulbaka", "link": "https://stackoverflow.com/users/5991493/karol-kulbaka"}, "is_accepted": false, "score": 20, "last_activity_date": 1579336118, "creation_date": 1579336118, "answer_id": 59798799, "question_id": 48601549, "link": "https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target/59798799#59798799", "title": "Why kotlin gradle plugin cannot build with 1.8 target?", "body": "<p>There is a gradle property used by Kotlin plugin which can be used. When you add</p>\n\n<pre><code>kotlin.setJvmTargetFromAndroidCompileOptions = true\n</code></pre>\n\n<p>to your <code>gradle.properties</code> file.\nWhen you have this configuration on your <code>build.config</code></p>\n\n<pre><code>android{\n  compileOptions {\n      sourceCompatibility = 1.8\n      targetCompatibility = 1.8\n  }\n}\n</code></pre>\n\n<p>problem sould be solved.</p>\n"}, {"tags": [], "owner": {"reputation": 3001, "user_id": 1682131, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zRrAh.png?s=128&g=1", "display_name": "Ayush", "link": "https://stackoverflow.com/users/1682131/ayush"}, "is_accepted": false, "score": 3, "last_activity_date": 1597569689, "creation_date": 1597569689, "answer_id": 63435174, "question_id": 48601549, "link": "https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target/63435174#63435174", "title": "Why kotlin gradle plugin cannot build with 1.8 target?", "body": "<p>This worked for me in Gradle with Kotlin DSL:</p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\nval compileKotlin: KotlinCompile by tasks\ncompileKotlin.kotlinOptions.jvmTarget = JavaVersion.VERSION_11.toString()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 11285232, "user_type": "registered", "profile_image": "https://graph.facebook.com/1924732177633922/picture?type=large", "display_name": "Seroj  Grigoryan", "link": "https://stackoverflow.com/users/11285232/seroj-grigoryan"}, "is_accepted": false, "score": 2, "last_activity_date": 1607336867, "creation_date": 1607336867, "answer_id": 65179986, "question_id": 48601549, "link": "https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target/65179986#65179986", "title": "Why kotlin gradle plugin cannot build with 1.8 target?", "body": "<p>Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Kotlin Compiler a setting called Target JVM version should have been set to 1.8.</p>\n"}], "owner": {"reputation": 7138, "user_id": 692422, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4b93f5d101d4e8b14ca950ed530e0148?s=128&d=identicon&r=PG", "display_name": "alisabzevari", "link": "https://stackoverflow.com/users/692422/alisabzevari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52907, "favorite_count": 10, "accepted_answer_id": 48607469, "answer_count": 10, "score": 101, "last_activity_date": 1607336867, "creation_date": 1517688705, "question_id": 48601549, "link": "https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target", "title": "Why kotlin gradle plugin cannot build with 1.8 target?", "body": "<p>I have the simplest gradle project configured using intellij for kotlin 1.2.10. Here is my build.gradle file:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.10'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\ngroup 'com.ali'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'java'\napply plugin: 'kotlin'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>And I have a simple java interface:</p>\n\n<pre><code>public interface MyMath {\n    static int myAbs(int input) {\n        return Math.abs(input);\n    }\n}\n</code></pre>\n\n<p>When I import this interface and try to call <code>myAbs</code> method it fails with this error:</p>\n\n<pre><code>Error:(6, 12) Kotlin: Calls to static methods in Java interfaces are prohibited in JVM target 1.6. Recompile with '-jvm-target 1.8'\n</code></pre>\n\n<p>I have created an intellij kotlin app and it was working correctly. Is it a bug in new Kotlin gradle plugin?</p>\n"}, {"tags": ["android", "kotlin", "http-status-code-403", "reddit"], "answers": [{"tags": [], "owner": {"reputation": 8774, "user_id": 779920, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AOF6J.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/779920/nick"}, "is_accepted": true, "score": 1, "last_activity_date": 1517701735, "creation_date": 1517701735, "answer_id": 48603279, "question_id": 48600876, "link": "https://stackoverflow.com/questions/48600876/403-error-while-trying-to-retrieve-reddit-users-saved-posts-using-jraw/48603279#48603279", "title": "403 Error while trying to retrieve Reddit User&#39;s saved posts using JRAW", "body": "<p>Didn't realize Reddit had <a href=\"https://www.reddit.com/api/v1/scopes.json\" rel=\"nofollow noreferrer\">scopes</a>. I had to add the <code>history</code> scope to the strings array when requesting <code>getAuthorizationUrl</code></p>\n\n<pre><code>String[] scopes = new String[]{ \"read\", \"identity\", \"account\", \"save\", \"history\"};\nString authUrl = helper.getAuthorizationUrl(requestRefreshToken, useMobileSite, scopes);\n</code></pre>\n"}], "owner": {"reputation": 8774, "user_id": 779920, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AOF6J.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/779920/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 48603279, "answer_count": 1, "score": 1, "last_activity_date": 1517701735, "creation_date": 1517684194, "question_id": 48600876, "link": "https://stackoverflow.com/questions/48600876/403-error-while-trying-to-retrieve-reddit-users-saved-posts-using-jraw", "title": "403 Error while trying to retrieve Reddit User&#39;s saved posts using JRAW", "body": "<p>I'm currently trying to get a users saved posts using the <a href=\"https://github.com/mattbdean/JRAW\" rel=\"nofollow noreferrer\">JRAW reddit api wrapper</a> using this code:</p>\n\n<pre><code>val helper = App.get().accountHelper\nval paginator = helper.reddit.me()\n                    .history(\"saved\")\n                    .build()\n\nval saved = paginator.next()\n</code></pre>\n\n<p><a href=\"https://github.com/mattbdean/JRAW-Android/blob/08c7a3caee99ce81c37d6e5adcd8b608c3cbb702/example-app/src/main/java/net/dean/jraw/android/example/App.java\" rel=\"nofollow noreferrer\">Context for App class</a></p>\n\n<p>Which always results in a 403 - Forbidden. I log in and get the oauth token by using <a href=\"https://github.com/mattbdean/JRAW-Android/blob/master/example-app/src/main/java/net/dean/jraw/android/example/UserOverviewActivity.java\" rel=\"nofollow noreferrer\">JRAW-Android new user example</a> then switch to the user <code>accountHelper.switchToUser(userName)</code> which shows the account is authenticated..</p>\n\n<p>Any ideas why i'm not able to authenticate?</p>\n"}, {"tags": ["lambda", "constructor", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 953, "user_id": 4070660, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c16ef6b3d189409dad1c7f5622ade04c?s=128&d=identicon&r=PG&f=1", "display_name": "K.H.", "link": "https://stackoverflow.com/users/4070660/k-h"}, "edited": false, "score": 0, "creation_date": 1517733566, "post_id": 48600982, "comment_id": 84208724, "body": "I wasn&#39;t strictly speaking about reflection. My code is platform-independent (using new multiplatform feature) so I can&#39;t use <code>@JvmOverloads</code> and it would not work in javascript. But thanks for your answer, it clears some of it."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1517743167, "post_id": 48600982, "comment_id": 84211231, "body": "I&#39;m not sure it&#39;s relevant here, but in fact you can use default arguments via Kotlin reflection: with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-callable/call-by.html\" rel=\"nofollow noreferrer\"><code>callBy</code></a>, you can omit an entry for the parameter in the map to use the default. This seems to be available for Kotlin/JS as well."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1517786617, "last_edit_date": 1517786617, "creation_date": 1517684852, "answer_id": 48600982, "question_id": 48600494, "link": "https://stackoverflow.com/questions/48600494/reference-constructor-of-type-excluding-optional-parameters/48600982#48600982", "title": "Reference constructor of type excluding optional parameters", "body": "<p>As stated <a href=\"https://discuss.kotlinlang.org/t/default-values-and-reflection/874\" rel=\"nofollow noreferrer\">here</a> and also <a href=\"https://discuss.kotlinlang.org/t/kotlin-reflection-and-default-values/2254\" rel=\"nofollow noreferrer\">here</a>, you cannot make use of default arguments via reflection.</p>\n\n<blockquote>\n  <p>The default value of a method parameter is an arbitrary expression which can only be represented as a chunk of bytecode; there is no other representation that can be used in reflection. Parameter Info retrieves default parameter values by parsing source code.</p>\n</blockquote>\n\n<p>As a workaround, you could let the compiler generate the JVM overloads for your constructor and then use Java reflection to invoke the constructor that takes the single <code>String</code> argument:</p>\n\n<pre><code>class A @JvmOverloads constructor(x: String, val y: String = \"default_y\")\n\nval con: Constructor&lt;A&gt; = A::class.java.constructors\n        .filterIsInstance&lt;Constructor&lt;A&gt;&gt;()\n        .find { it.parameterCount == 1 } ?: throw IllegalStateException(\"Not found!\")\nval newInstance: A = con.newInstance(\"myArg\")\nprintln(newInstance.y) // Prints 'default_y'\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>With <code>callBy</code> you can also invoke the constructor using Kotlin reflection:</p>\n\n<pre><code>val con = MyClass::class.constructors.first()\nval newInst =\n    con.callBy(mapOf(con.parameters.first() to \"myArg\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1517743379, "creation_date": 1517743379, "answer_id": 48607526, "question_id": 48600494, "link": "https://stackoverflow.com/questions/48600494/reference-constructor-of-type-excluding-optional-parameters/48607526#48607526", "title": "Reference constructor of type excluding optional parameters", "body": "<p>While there's no way to get a function reference with the default parameters removed from the signature, you can use a lambda instead of a function reference and call the constructor providing only the required argument:</p>\n\n<pre><code>val function: (String) -&gt; A = { A(it) } // uses the default for `y`\n</code></pre>\n"}], "owner": {"reputation": 953, "user_id": 4070660, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c16ef6b3d189409dad1c7f5622ade04c?s=128&d=identicon&r=PG&f=1", "display_name": "K.H.", "link": "https://stackoverflow.com/users/4070660/k-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1517786617, "creation_date": 1517681839, "last_edit_date": 1517682158, "question_id": 48600494, "link": "https://stackoverflow.com/questions/48600494/reference-constructor-of-type-excluding-optional-parameters", "title": "Reference constructor of type excluding optional parameters", "body": "<p>I am having class of type <code>A</code>, which has contructor, that requires parameter <code>x</code> and has some optional parameters:</p>\n\n<pre><code>class A(x: String, y: String = \"default_y\")\n</code></pre>\n\n<p>Now I want to reference constructor with required parameters:</p>\n\n<p><code>var function: (String) -&gt; A = ::A</code></p>\n\n<p>Now I am getting problem of incompatible types as signature of that constructor is 2 strings, not just one.</p>\n\n<p>When I add this constructor overload, compiler stops complaining:</p>\n\n<pre><code>class A(x: String, y: String = \"default_y\") {\n\nconstructor(x: String): this(x, \"default_y\")\n}\n//added just so you can see full code\nvar function: (String) -&gt; A = ::A\n</code></pre>\n\n<p>I am getting this bit of redundancy now. I can of course do something about it (extract <code>\"default_y\"</code> to constant or remove default parameter from primary constructor) to remove redundancy, but it is all just sugar code that doesn't really do anything. Just allows me to reference it without complaining.\nIs there way to reference constructor (and probably function as well) as functions with only required parameters?</p>\n"}, {"tags": ["properties", "kotlin", "backing-field"], "answers": [{"tags": [], "owner": {"reputation": 2275, "user_id": 1972843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/874ed4c4111d7048aad97ce21ee01a36?s=128&d=identicon&r=PG", "display_name": "Pinkie Swirl", "link": "https://stackoverflow.com/users/1972843/pinkie-swirl"}, "is_accepted": false, "score": 0, "last_activity_date": 1534373608, "creation_date": 1534373608, "answer_id": 51867515, "question_id": 48600343, "link": "https://stackoverflow.com/questions/48600343/how-to-rename-a-propertys-backing-field-in-kotlin/51867515#51867515", "title": "How to rename a property&#39;s backing field in Kotlin", "body": "<p>No it is not possible. The reason is, that there are cases where there is no backing field (and thus this property abstraction).</p>\n\n<p>From the kotlin examples (creates no backing field):</p>\n\n<pre><code>val isEmpty: Boolean\n    get() = this.size == 0\n</code></pre>\n\n<p>Hence the need for the backing properties workaround.</p>\n"}], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1055, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1534623767, "creation_date": 1517680876, "last_edit_date": 1534623767, "question_id": 48600343, "link": "https://stackoverflow.com/questions/48600343/how-to-rename-a-propertys-backing-field-in-kotlin", "title": "How to rename a property&#39;s backing field in Kotlin", "body": "<p><strong>EDIT (again)</strong>: If anyone is interested, you can <a href=\"https://youtrack.jetbrains.com/issue/KT-25610\" rel=\"nofollow noreferrer\">follow this issue on the tracker</a>.</p>\n\n<hr>\n\n<p><strong>EDIT</strong>: I know about backing properties and that they will cover most use cases. I'm not looking for a work around, I'm specifically looking if there is a way to name the backing field.</p>\n\n<hr>\n\n<p>You can easily rename the getter and setter of a property like so</p>\n\n<pre><code>@get:JvmName(\"getFancy\")\n@set:JvmName(\"setFancy\")\nvar fancyProperty = ...\n</code></pre>\n\n<p>But I can't figure out how to change the name of a backing field, even using the <code>@field</code> target.</p>\n\n<pre><code>@field:JvmName(\"fancy\")\nvar fancyProperty = ...\n</code></pre>\n\n<p>The above give an error:</p>\n\n<blockquote>\n  <p>This annotation is not applicable to target 'member property with backing field' and use site target '@field'</p>\n</blockquote>\n\n<hr>\n\n<p>Ultimately what I'm going for is interop with JavaFX. When defining a JavaFX property, you usually follow the following standard (with some additional code to make it lazy):</p>\n\n<pre><code>private ObjectProperty&lt;Color&gt; color = new SimpleObjectProperty&lt;&gt;(this, \"color\", DEFAULT_COLOR);\n\npublic ObjectProperty&lt;Color&gt; colorProperty() {\n    return color;\n}\n\npublic Color getColor() {\n    return colorProperty.get();\n}\n\npublic void setColor(Color color) {\n    colorProperty().set(color);\n}\n</code></pre>\n\n<p>So what I'm going for is something like this (though the <code>@field</code> obviously doesn't work):</p>\n\n<pre><code>@field:JvmName(\"color\")\n@get:JvmName(\"colorProperty\")\nval colorProperty: ObjectProperty&lt;Color&gt; =\n    SimpleObjectProperty(this, \"color\", DEFAULT_COLOR)\n\nvar color\n    get() = colorProperty.get()\n    set(value) = colorProperty.set(value)\n</code></pre>\n\n<p>This would allow the binding capabilities of FXML (which use reflection), follow the standard conventions in Java, and still be nice and easy to use from Kotlin.</p>\n\n<p>In this case I can't use a backing property because I need the <code>color</code> field to be a <code>ObjectProperty&lt;Color&gt;</code>, but the getter and setter for <code>color</code> should be a <code>Color</code>.</p>\n\n<p>Luckily, the reflection from JavaFX is smart enough to still work with just the <code>@get:JvmName(\"colorProperty\")</code>, but there are similar situations with overlapping field names that could use this renaming.</p>\n"}]