[{"tags": ["android", "pdf", "kotlin", "itext", "uri"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1559167992, "post_id": 56369131, "comment_id": 99340967, "body": "See also <a href=\"https://stackoverflow.com/questions/48510584/onactivityresults-intent-getpath-doesnt-give-me-the-correct-filename\" title=\"onactivityresults intent getpath doesnt give me the correct filename\">stackoverflow.com/questions/48510584/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/35870825/getting-the-absolute-file-path-from-content-uri-for-searched-images\" title=\"getting the absolute file path from content uri for searched images\">stackoverflow.com/questions/35870825/&hellip;</a>. <code>ACTION_GET_CONTENT</code> does not get files; <code>uri.path</code> is not a way to get a filesystem path. Use <code>contentResolver.openInputStream(uri)</code> and pass that <code>InputStream</code> to the <code>PdfReader</code> constructor."}, {"owner": {"reputation": 1, "user_id": 11488650, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UYxx1dzyJck/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcyfCBUKf8aPSTmQHGa29uGB_uRCA/mo/photo.jpg?sz=128", "display_name": "mihai tian", "link": "https://stackoverflow.com/users/11488650/mihai-tian"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1559207118, "post_id": 56369131, "comment_id": 99351363, "body": "None of these work,&#39;getContentResolver.openInputStream(uri)&#39; gave me the same result, also, the one where it says how to handle the content based on the scheme, if it&#39;s file or content, I check that, and it goes on the file condition of the &#39;when&#39;."}, {"owner": {"reputation": 1, "user_id": 11488650, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UYxx1dzyJck/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcyfCBUKf8aPSTmQHGa29uGB_uRCA/mo/photo.jpg?sz=128", "display_name": "mihai tian", "link": "https://stackoverflow.com/users/11488650/mihai-tian"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1559207196, "post_id": 56369131, "comment_id": 99351404, "body": "private fun tryOpenUri(uri: Uri, intent: Intent) = when {         uri.scheme == &quot;file&quot; -&gt; {             uriToLoad = uri             openPath(uri.path)         }         uri.scheme == &quot;content&quot; -&gt; {             uriToLoad = uri             openUri(uri, intent)         }         else -&gt; false     }"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1559214038, "post_id": 56369131, "comment_id": 99354568, "body": "Edit your question and provide the complete stack trace associated with your crash."}, {"owner": {"reputation": 1, "user_id": 11488650, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UYxx1dzyJck/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcyfCBUKf8aPSTmQHGa29uGB_uRCA/mo/photo.jpg?sz=128", "display_name": "mihai tian", "link": "https://stackoverflow.com/users/11488650/mihai-tian"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1559223797, "post_id": 56369131, "comment_id": 99359276, "body": "I am sorry, I have tried again to debug the program and when I added the open input stream code it worked, the error was somewhere else, I am sorry for wasting your time, thank you for your help"}], "owner": {"reputation": 1, "user_id": 11488650, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UYxx1dzyJck/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcyfCBUKf8aPSTmQHGa29uGB_uRCA/mo/photo.jpg?sz=128", "display_name": "mihai tian", "link": "https://stackoverflow.com/users/11488650/mihai-tian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "closed_date": 1559167952, "answer_count": 0, "score": 0, "last_activity_date": 1559167443, "creation_date": 1559167443, "question_id": 56369131, "link": "https://stackoverflow.com/questions/56369131/how-to-fix-ioexception-thrown-by-the-path-of-an-uri-provided-by-a-get-content-in", "closed_reason": "Duplicate", "title": "How to fix IOException thrown by the path of an uri provided by a get content intent", "body": "<p>I'm trying to add an image to a pdf. I get an IOException when I m trying to create a pdf reader with the uri.path</p>\n\n<p>I have tried using opening an input stream and passing that as an argument but I get the same result.\nalso, I have tried to open the file via a view intent, just to see if the problem is with the path or with the pdfreader, with no success whatsoever, meaning that the problem is related to the path</p>\n\n<p>//This is how i access my file</p>\n\n<pre><code>Intent(Intent.ACTION_GET_CONTENT).apply {\n        addCategory(Intent.CATEGORY_OPENABLE)\n        type = \"application/pdf\"\n        startActivityForResult(this, PICK_PDF_INTENT)\n    }\n</code></pre>\n\n<p>//Also after the intent passes the data i do this</p>\n\n<pre><code>val mime = MimeTypeMap.getSingleton()\n    val type = mime.getExtensionFromMimeType(contentResolver.getType(uri)) ?: intent.type\n</code></pre>\n\n<p>//This is where the exception appears</p>\n\n<pre><code>private fun addSignatureToPdf(uri: Uri) {\n    try {\n        val reader = PdfReader(uri.path)\n        val stamper = PdfStamper(reader, FileOutputStream(\"${this.internalStoragePath}/Simple Draw\"))\n        val content = stamper.getOverContent(1)\n        getImagePath(my_canvas.getBitmap()) {\n            val image = Image.getInstance(it)\n            image.scaleAbsoluteHeight(50f)\n            image.scaleAbsoluteWidth((image.getWidth() * 50) / image.getHeight())\n            image.setAbsolutePosition(70f, 140f)\n            content.addImage(image)\n            stamper.close()\n            toast(com.simplemobiletools.draw.pro.R.string.pdfSuccessful)\n        }\n    } catch (e: IOException) {\n        toast(\"File path invalid!\")\n    }\n\n}\n</code></pre>\n\n<p>I expect the output of the original pdf file but with the image attached to the bottom of it</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 58167, "user_id": 1333975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G2aQ2.png?s=128&g=1", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/1333975/ahmad"}, "edited": false, "score": 0, "creation_date": 1559167202, "post_id": 56368938, "comment_id": 99340761, "body": "it&#39;s hard to understand what you&#39;re going for, could you please clarify your question further?"}, {"owner": {"reputation": 2689, "user_id": 651887, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/7120869b34e0c739502318f4f862c26c?s=128&d=identicon&r=PG", "display_name": "rogue39nin", "link": "https://stackoverflow.com/users/651887/rogue39nin"}, "reply_to_user": {"reputation": 58167, "user_id": 1333975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G2aQ2.png?s=128&g=1", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/1333975/ahmad"}, "edited": false, "score": 0, "creation_date": 1559167303, "post_id": 56368938, "comment_id": 99340794, "body": "@Ahmad i edit my quesiton I just basically want to no how do i navigate pages"}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1559196868, "post_id": 56368938, "comment_id": 99347015, "body": "<a href=\"https://guides.codepath.com/android/fragment-navigation-drawer\" rel=\"nofollow noreferrer\">guides.codepath.com/android/fragment-navigation-drawer</a> Use java until you&#39;re very comfortable with it."}], "answers": [{"tags": [], "owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "is_accepted": false, "score": 0, "last_activity_date": 1559167722, "creation_date": 1559167722, "answer_id": 56369174, "question_id": 56368938, "link": "https://stackoverflow.com/questions/56368938/use-fragments-in-kotlin/56369174#56369174", "title": "Use Fragments in Kotlin", "body": "<p>This is the way how you can add a <code>Fragment</code> in <code>kotlin</code>.fun </p>\n\n<pre><code>fun AppCompatActivity.addFragment(fragment: Fragment, frameId: Int){\n    supportFragmentManager.inTransaction { add(frameId, fragment) }\n}\n</code></pre>\n"}], "owner": {"reputation": 2689, "user_id": 651887, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/7120869b34e0c739502318f4f862c26c?s=128&d=identicon&r=PG", "display_name": "rogue39nin", "link": "https://stackoverflow.com/users/651887/rogue39nin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1559184861, "creation_date": 1559166237, "last_edit_date": 1559184861, "question_id": 56368938, "link": "https://stackoverflow.com/questions/56368938/use-fragments-in-kotlin", "title": "Use Fragments in Kotlin", "body": "<p>How does one use fragments instead of layouts to give them its on Kotlin file. Using the navigation drawer template in Andriod studio.</p>\n\n<pre><code>override fun onNavigationItemSelected(item: MenuItem): Boolean {\n    // Handle navigation view item clicks here.\n    when (item.itemId) {\n        R.id.nav_home -&gt; {\n            // Handle the camera action\n        }\n        R.id.nav_gallery -&gt; {\n\n        }\n        R.id.nav_slideshow -&gt; {\n\n        }\n        R.id.nav_tools -&gt; {\n\n        }\n        R.id.nav_share -&gt; {\n\n        }\n        R.id.nav_send -&gt; {\n\n        }\n    }\n    val drawerLayout: DrawerLayout = findViewById(R.id.drawer_layout)\n    drawerLayout.closeDrawer(GravityCompat.START)\n    return true\n}\n</code></pre>\n\n<p>Does this constructor automatically switch the view based on their name ie nav_gallery I am new to koltin and java so please excuse my ignorance.</p>\n\n<p><strong>Eg.</strong>\nFor Example if the Gallery layout how do I show a page that is something other than the content_main.xml that is showing each time I click the navigation bar.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1559165529, "post_id": 56368712, "comment_id": 99340290, "body": "You do not have <a href=\"https://commonsware.com/blog/2017/11/15/storage-situation-removable-storage.html\" rel=\"nofollow noreferrer\">read-write access to arbitrary locations on removable storage</a>. You will have even less access to the filesystem on Android Q and beyond. I <b>strongly</b> recommend that you use the Storage Access Framework (i.e., <code>ACTION_OPEN_DOCUMENT</code>, <code>ACTION_CREATE_DOCUMENT</code>, <code>ACTION_OPEN_DOCUMENT_TREE</code>)."}, {"owner": {"reputation": 671, "user_id": 1289421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2fcfe4bee6403a991be4cf792b65cc?s=128&d=identicon&r=PG", "display_name": "Raskilas", "link": "https://stackoverflow.com/users/1289421/raskilas"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1559165870, "post_id": 56368712, "comment_id": 99340370, "body": "It doesn&#39;t answer the question why it work on one device"}, {"owner": {"reputation": 671, "user_id": 1289421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2fcfe4bee6403a991be4cf792b65cc?s=128&d=identicon&r=PG", "display_name": "Raskilas", "link": "https://stackoverflow.com/users/1289421/raskilas"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1559166222, "post_id": 56368712, "comment_id": 99340469, "body": "@CommonsWare and does SAF give me ability to write in the root of removable sdcard? Why third-party apps like ES filemanager and MX video player can write/delete files in sdcard?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1559166329, "post_id": 56368712, "comment_id": 99340508, "body": "&quot;and does SAF give me ability to write in the root of removable sdcard?&quot; -- if the user chooses it, yes. &quot;Why third-party apps like ES filemanager and MX video player can write/delete files in sdcard?&quot; -- perhaps they are using SAF. MX might be using <code>MediaStore</code>."}, {"owner": {"reputation": 671, "user_id": 1289421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2fcfe4bee6403a991be4cf792b65cc?s=128&d=identicon&r=PG", "display_name": "Raskilas", "link": "https://stackoverflow.com/users/1289421/raskilas"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1559311882, "post_id": 56368712, "comment_id": 99391826, "body": "@CommonsWare no, SAF doesn&#39;t work too. I&#39;m able to write with SAF or old fashion way in <code>SD-CARD-NAME&#47;Android&#47;data&#47;appID&#47;files&#47;</code> but in the root <code>SD-CARD-NAME&#47;</code>"}, {"owner": {"reputation": 126, "user_id": 4606451, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hn4uhuIcLds/AAAAAAAAAAI/AAAAAAAAASs/P-C5m2fFypw/photo.jpg?sz=128", "display_name": "Emanuele Leoni", "link": "https://stackoverflow.com/users/4606451/emanuele-leoni"}, "edited": false, "score": 0, "creation_date": 1618392077, "post_id": 56368712, "comment_id": 118585152, "body": "@Raskilas Did you solve your issue? Because I have the same problem, I can&#39;t create directory into the root of USB pen"}, {"owner": {"reputation": 671, "user_id": 1289421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2fcfe4bee6403a991be4cf792b65cc?s=128&d=identicon&r=PG", "display_name": "Raskilas", "link": "https://stackoverflow.com/users/1289421/raskilas"}, "reply_to_user": {"reputation": 126, "user_id": 4606451, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hn4uhuIcLds/AAAAAAAAAAI/AAAAAAAAASs/P-C5m2fFypw/photo.jpg?sz=128", "display_name": "Emanuele Leoni", "link": "https://stackoverflow.com/users/4606451/emanuele-leoni"}, "edited": false, "score": 0, "creation_date": 1618569360, "post_id": 56368712, "comment_id": 118646779, "body": "@EmanueleLeoni no, in those case nothing helped me nor SAF or old fashion way. If you would need to save file, then use system wide available folders like Downloads or DCIM. Or use your app&#39;s data/obb folder. On newer Android (10-12) clear access to filesystem cutted out(fully or partly)."}], "answers": [{"comments": [{"owner": {"reputation": 671, "user_id": 1289421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2fcfe4bee6403a991be4cf792b65cc?s=128&d=identicon&r=PG", "display_name": "Raskilas", "link": "https://stackoverflow.com/users/1289421/raskilas"}, "edited": false, "score": 0, "creation_date": 1559166046, "post_id": 56368832, "comment_id": 99340416, "body": "I may thought that this because I used old fashion way to create a folder, but the fact is that code work on one device and doesn&#39;t work on other + third-party apps work on both devices. Why MX video player can write/delete files on sdcard and my app not?"}, {"owner": {"reputation": 11, "user_id": 8830594, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RbQ0nJgRgww/AAAAAAAAAAI/AAAAAAAAAvA/mhpbaB8Z7zU/photo.jpg?sz=128", "display_name": "NukDokPlex", "link": "https://stackoverflow.com/users/8830594/nukdokplex"}, "reply_to_user": {"reputation": 671, "user_id": 1289421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2fcfe4bee6403a991be4cf792b65cc?s=128&d=identicon&r=PG", "display_name": "Raskilas", "link": "https://stackoverflow.com/users/1289421/raskilas"}, "edited": false, "score": 0, "creation_date": 1559221268, "post_id": 56368832, "comment_id": 99357832, "body": "@Raskilas I think <code>Android</code> unserstands, for which version your app builded up. Try to change it."}, {"owner": {"reputation": 671, "user_id": 1289421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2fcfe4bee6403a991be4cf792b65cc?s=128&d=identicon&r=PG", "display_name": "Raskilas", "link": "https://stackoverflow.com/users/1289421/raskilas"}, "edited": false, "score": 0, "creation_date": 1559225529, "post_id": 56368832, "comment_id": 99360206, "body": "what do you mean? minSdk is 21, so app support android since 5.0 and it is minimal what I need."}], "tags": [], "owner": {"reputation": 11, "user_id": 8830594, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RbQ0nJgRgww/AAAAAAAAAAI/AAAAAAAAAvA/mhpbaB8Z7zU/photo.jpg?sz=128", "display_name": "NukDokPlex", "link": "https://stackoverflow.com/users/8830594/nukdokplex"}, "is_accepted": false, "score": 0, "last_activity_date": 1559165654, "creation_date": 1559165654, "answer_id": 56368832, "question_id": 56368712, "link": "https://stackoverflow.com/questions/56368712/android-mkdir-cant-make-folder-inside-root-of-removable-micro-sd-card/56368832#56368832", "title": "Android mkdir() can&#39;t make folder inside root of removable micro SD-card", "body": "<p>I think it's about different <code>Android</code> versions.\nTo modify External SD card's filesystem, you need to get \"special permision\".\nYou can Google some libraries, that do it automatically. Just use one of these and you will gain that \"special permission\". It's weird but <code>WRITE_EXTERNAL_STORAGE</code> not providing you access to SD Card, only to eMMC memory.</p>\n"}], "owner": {"reputation": 671, "user_id": 1289421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2fcfe4bee6403a991be4cf792b65cc?s=128&d=identicon&r=PG", "display_name": "Raskilas", "link": "https://stackoverflow.com/users/1289421/raskilas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559311967, "creation_date": 1559164957, "last_edit_date": 1559311967, "question_id": 56368712, "link": "https://stackoverflow.com/questions/56368712/android-mkdir-cant-make-folder-inside-root-of-removable-micro-sd-card", "title": "Android mkdir() can&#39;t make folder inside root of removable micro SD-card", "body": "<p>I use this code to get folder of removable SD-card:</p>\n\n<pre><code>var baseDir = Environment.getExternalStorageDirectory().absolutePath\nval dirs = getExternalFilesDirs(null)\nfor (file in dirs){\n    if(Environment.isExternalStorageRemovable(file)) {\n        baseDir = file.absolutePath\n        val idx = baseDir.indexOf(\"/Android/\")\n        if(idx &gt; 0) {\n            baseDir = baseDir.substring(0,idx)\n            break\n        }\n    }\n}\n</code></pre>\n\n<p>And it work well enough, at least on test devices. After this code <code>baseDir</code> contain something like <code>/storage/AB96-CD85</code>. But when I try to make dir, I always get false result:</p>\n\n<pre><code>baseDir = baseDir + java.io.File.separator + name\nvar result: File? = null\n\nif (Environment.getExternalStorageState() != Environment.MEDIA_MOUNTED) {\n    Log.e(TAG, \"SD-card not mounted.\")\n    return result\n }\n val dir = File(baseDir)\n if (!dir.exists()) {\n     if (!dir.mkdir()) {\n         Log.e(\n                TAG,\n                \"Can't create directory $name\"\n            )\n         return result\n     }\n }\n</code></pre>\n\n<p>minSdkVersion is 21. Before this code execution I've already requested <code>WRITE_EXTERNAL_STORAGE</code> permission and got positive response from user. I wrote permission block in Manifest in correct place (out of <code>&lt;application&gt;&lt;/application&gt;</code> block). The code above create folder without any problems on one device and cannot do the same on other (in the same time ES File manager work well on sdcard). What was tried: </p>\n\n<ol>\n<li>App re-installation</li>\n<li>Phone restart</li>\n<li>Even unplag USB cable</li>\n<li>Storage Access Framework(SAF)</li>\n</ol>\n\n<p>What I should do to make <code>mkdir()</code> function work on the second device? \nIf I should add some other permission or move user to some system settings screen, how can I do that? \nWhy code above work on one device and doesn't work on other?</p>\n"}, {"tags": ["java", "kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 4164, "user_id": 58100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/236eb55ddbef080616afb750f0e288d2?s=128&d=identicon&r=PG", "display_name": "E.M.", "link": "https://stackoverflow.com/users/58100/e-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1566684294, "last_edit_date": 1566684294, "creation_date": 1566683974, "answer_id": 57641818, "question_id": 56368361, "link": "https://stackoverflow.com/questions/56368361/rx-java2-repeat-maybe-flowable-unless-empty/57641818#57641818", "title": "rx-java2: repeat Maybe/Flowable unless empty", "body": "<p>For the <code>Maybe</code> case, you could do something like:</p>\n\n<pre><code>someMaybe\n    .flatMapPublisher(value -&gt;\n        Flowable.just(value).repeat()\n    )\n    .subscribe(...);\n</code></pre>\n\n<p>This way, if <code>someMaybe</code> is empty, then <code>Flowable.just(value).repeat()</code> is not invoked.</p>\n\n<p>For the Flowable case, you can do something like:</p>\n\n<pre><code>    AtomicBoolean empty = new AtomicBoolean(true);\n    someFlowable\n        .doOnNext(value -&gt; empty.set(false))\n        .repeatWhen(completed -&gt;\n          completed.takeUntil(__ -&gt; { return empty.get(); })\n        )\n        .subscribe(...);\n</code></pre>\n\n<p>There's probably a better way, but I couldn't think of any other way that doesn't involve implementing a custom operator.</p>\n"}], "owner": {"reputation": 504, "user_id": 1410299, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f8f509845af24f5446f5963518249edb?s=128&d=identicon&r=PG", "display_name": "Uniqus", "link": "https://stackoverflow.com/users/1410299/uniqus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1566684294, "creation_date": 1559163231, "question_id": 56368361, "link": "https://stackoverflow.com/questions/56368361/rx-java2-repeat-maybe-flowable-unless-empty", "title": "rx-java2: repeat Maybe/Flowable unless empty", "body": "<p>In rx-java2 there is Maybe.repeat()/Flowable.repeat() operator. But if Maybe/Flowable is empty, it just resubscribes to it indefinitely and emitts neither values nor completion status.\nHow can I resubscribe only if previous subscription did emit something?</p>\n\n<p>In projectreactor the repeatWhen() operator can be used:</p>\n\n<pre><code>someMono.repeatWhen { it.takeWhile { i -&gt; i &gt; 0 } }\n</code></pre>\n\n<p>But in rx-java2 this operator does not work this way. So currently I emit an error if Maybe is empty, and then recover from this error:</p>\n\n<pre><code>someMaybe\n  .switchIfEmpty(Maybe.error(MyStopException()))\n  .repeat()\n  .onErrorResumeNext { th: Throwable -&gt;\n    if (th is MyStopException)\n      Flowable.empty()\n    else\n      Flowable.error(th)\n  }\n\n</code></pre>\n\n<p>Is there any better/more natural way of doing this?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1559163947, "post_id": 56368325, "comment_id": 99339821, "body": "A lambda is just a closure in Kotlin"}], "answers": [{"comments": [{"owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1559165012, "post_id": 56368418, "comment_id": 99340138, "body": "I know how to call it within Kotlin. I want to call the function from a Java class."}, {"owner": {"reputation": 2060, "user_id": 1646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0427346b6a25d32f75a7730187c7efa1?s=128&d=identicon&r=PG", "display_name": "RedDeckWins", "link": "https://stackoverflow.com/users/1646/reddeckwins"}, "reply_to_user": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1559254342, "post_id": 56368418, "comment_id": 99372586, "body": "Your original question was edited.  Before it didn&#39;t say from Java.  I think the downvotes I received were unnecessary."}, {"owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1559656240, "post_id": 56368418, "comment_id": 99484161, "body": "it did, but it was only in the title. I added it in the body after you answered it incorrectly for additional clarification. <code>Call Kotlin function with Lambda parameters in Java</code>. I think your downvote of my question is unnecessary."}, {"owner": {"reputation": 2060, "user_id": 1646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0427346b6a25d32f75a7730187c7efa1?s=128&d=identicon&r=PG", "display_name": "RedDeckWins", "link": "https://stackoverflow.com/users/1646/reddeckwins"}, "reply_to_user": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1559701043, "post_id": 56368418, "comment_id": 99499775, "body": "I didn&#39;t downvote your question.  Also I assumed other people downvoted my answer since you had the full context and would understand why my answer was seemingly incorrect."}], "tags": [], "owner": {"reputation": 2060, "user_id": 1646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0427346b6a25d32f75a7730187c7efa1?s=128&d=identicon&r=PG", "display_name": "RedDeckWins", "link": "https://stackoverflow.com/users/1646/reddeckwins"}, "is_accepted": false, "score": -1, "last_activity_date": 1559290524, "last_edit_date": 1559290524, "creation_date": 1559163501, "answer_id": 56368418, "question_id": 56368325, "link": "https://stackoverflow.com/questions/56368325/call-kotlin-function-with-lambda-parameters-in-java/56368418#56368418", "title": "Call Kotlin function with Lambda parameters in Java", "body": "<p>This is for calling it within Kotlin, the question was edited to say \"from Java\" after I provided my answer. Leaving it here anyway in hope that it is useful.</p>\n\n<p>You can call it like this</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun test() {\n\n    getToken(\"asdf\", { print(it) }, { println(it) })\n\n    getToken(\"asdf\", { print(it) }) { err -&gt; println(err) }\n\n    getToken(\"asdf\", ::println, ::println)\n\n    getToken(\"asdf\", ::println) { println(it) }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1559167029, "post_id": 56368765, "comment_id": 99340702, "body": "Thanks! Unfortunately my project is not set to Java 8."}], "tags": [], "owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "is_accepted": false, "score": 2, "last_activity_date": 1559165243, "creation_date": 1559165243, "answer_id": 56368765, "question_id": 56368325, "link": "https://stackoverflow.com/questions/56368325/call-kotlin-function-with-lambda-parameters-in-java/56368765#56368765", "title": "Call Kotlin function with Lambda parameters in Java", "body": "<p>You can call it with normal Java 8 lambdas, since Kotlin is actually using a single-method interface on the backend.</p>\n\n<pre><code>myFoo.getToken(tokenUrl, successString -&gt; { ... }, error -&gt; { ... });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 156, "user_id": 6695892, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AE50dbeOyCk/AAAAAAAAAAI/AAAAAAAAANk/vBdL_h77qFU/photo.jpg?sz=128", "display_name": "murthy10", "link": "https://stackoverflow.com/users/6695892/murthy10"}, "edited": false, "score": 2, "creation_date": 1578637894, "post_id": 56368792, "comment_id": 105510971, "body": "Don&#39;t forget to add <code>return Unit.INSTANCE;</code> in the invoke method."}], "tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": true, "score": 8, "last_activity_date": 1559165405, "creation_date": 1559165405, "answer_id": 56368792, "question_id": 56368325, "link": "https://stackoverflow.com/questions/56368325/call-kotlin-function-with-lambda-parameters-in-java/56368792#56368792", "title": "Call Kotlin function with Lambda parameters in Java", "body": "<p>You can do this</p>\n\n<pre><code>    value.getToken(\"url\",\n    new Function1&lt;String, Unit&gt;() {\n        @Override\n        public Unit invoke(String s) {\n            /* TODO */\n        }\n    }, new Function1&lt;Throwable, Unit&gt;() {\n        @Override\n        public Unit invoke(Throwable throwable) {\n            /* TODO */\n        }\n    });\n</code></pre>\n"}], "owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 3, "accepted_answer_id": 56368792, "answer_count": 3, "score": 2, "last_activity_date": 1559290524, "creation_date": 1559163082, "last_edit_date": 1559165180, "question_id": 56368325, "link": "https://stackoverflow.com/questions/56368325/call-kotlin-function-with-lambda-parameters-in-java", "title": "Call Kotlin function with Lambda parameters in Java", "body": "<p>How do I call Kotlin functions with lambdas in the parameter from a Java class.</p>\n\n<p>Example </p>\n\n<pre><code>fun getToken(\n        tokenUrl: String,\n        onSuccess: (String) -&gt; Unit,\n        onError: (Error) -&gt; Unit\n    ): Provider {\n        //Implementation\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "neo4j", "spring-data-neo4j"], "comments": [{"owner": {"reputation": 12730, "user_id": 951609, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/3X7wE.png?s=128&g=1", "display_name": "Franti\u0161ek Hartman", "link": "https://stackoverflow.com/users/951609/franti%c5%a1ek-hartman"}, "edited": false, "score": 0, "creation_date": 1559714943, "post_id": 56367627, "comment_id": 99502365, "body": "Does it behave the same in plain Java? It might be kotlin interoperability issue."}, {"owner": {"reputation": 115, "user_id": 5343345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6722a4790cacd1cc3b2ed6dc2ea64a?s=128&d=identicon&r=PG&f=1", "display_name": "Martin L.", "link": "https://stackoverflow.com/users/5343345/martin-l"}, "reply_to_user": {"reputation": 12730, "user_id": 951609, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/3X7wE.png?s=128&g=1", "display_name": "Franti\u0161ek Hartman", "link": "https://stackoverflow.com/users/951609/franti%c5%a1ek-hartman"}, "edited": false, "score": 0, "creation_date": 1559735516, "post_id": 56367627, "comment_id": 99511239, "body": "The same thing happens in plain Java, so this is not a Kotlin issue. I just recreated the same setup in Java and got the same."}], "owner": {"reputation": 115, "user_id": 5343345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6722a4790cacd1cc3b2ed6dc2ea64a?s=128&d=identicon&r=PG&f=1", "display_name": "Martin L.", "link": "https://stackoverflow.com/users/5343345/martin-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1559714954, "creation_date": 1559159650, "last_edit_date": 1559714954, "question_id": 56367627, "link": "https://stackoverflow.com/questions/56367627/spring-data-neo4j-5-version-field-unexpectedly-incremented-when-parent-node-is", "title": "Spring Data Neo4j 5: @Version field unexpectedly incremented when parent node is updated", "body": "<p>I am using Spring Data Neo4j (5.1.8.RELEASE).</p>\n\n<p>Let's say I have a simple node that contain a simple relationship.</p>\n\n<p>If I create a simple entity1 with a relationship to an entity2, and then update entity1 only, I would expect that only the entity1 version field is incremented. Surprinsingly, it seems that the relationship version also gets incremented. Is this behavior by design, or is this a bug?</p>\n\n<pre><code>@NodeEntity\nclass TestEntity(\n\n    var content: String,\n\n    @Relationship(direction = OUTGOING)\n    var relationships: MutableList&lt;TestRelationship&gt;? = null\n\n ) : AbstractEntity() {\n\n     fun addRelationship(testEntity: TestEntity) {\n        if (relationships == null) {\n            relationships = mutableListOf(TestRelationship(this, testEntity))\n        } else {\n            relationships?.add(TestRelationship(this, testEntity))\n        }\n    }\n\n }\n\n\n@RelationshipEntity\nclass TestRelationship(\n\n    @StartNode\n    var startNode: TestEntity,\n\n    @EndNode\n    var endNode: TestEntity\n\n) : AbstractEntity()\n\n\nabstract class AbstractEntity {\n\n    @Id\n    @GeneratedValue(strategy = UuidStrategy::class)\n    var id: String? = null\n\n    @Version\n    var version: Long? = null\n\n    @LastModifiedBy\n    var updatedBy: String? = null\n\n    @LastModifiedDate\n    var updatedTime: Instant? = null\n\n}\n\n\n@Test\n@DisplayName(\"Test entity version\")\nfun testEntityVersion() {\n\n    // Given\n    val entity1 = TestEntity(\"Test1\")\n    val entity2 = TestEntity(\"Test2\")\n    entity1.addRelationship(entity2)\n    repository.save(entity1)\n\n    // When\n    entity1.content = \"Test1 (updated)\"\n    repository.save(entity1)\n\n    // Then\n    Assertions.assertThat(entity1.version).isEqualTo(1) // ok\n    Assertions.assertThat(entity1.relationships!![0].version).isEqualTo(0) // fails!! expecting 0 but actual value is 1\n    Assertions.assertThat(entity2.version).isEqualTo(0) // ok\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "reactive-programming", "project-reactor"], "comments": [{"owner": {"reputation": 54008, "user_id": 2071828, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/R8AYO.jpg?s=128&g=1", "display_name": "Boris the Spider", "link": "https://stackoverflow.com/users/2071828/boris-the-spider"}, "edited": false, "score": 0, "creation_date": 1559159894, "post_id": 56367429, "comment_id": 99338338, "body": "How do you know when you&#39;ve aggregated everything? Or will you just aggregate until you receive a message on the cold flux? Either way, it seems that that takeWhile is what you want?"}, {"owner": {"reputation": 1588, "user_id": 4990550, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/37847ab3fb9405bd7c9a8cac7fc01a84?s=128&d=identicon&r=PG&f=1", "display_name": "David Siro", "link": "https://stackoverflow.com/users/4990550/david-siro"}, "reply_to_user": {"reputation": 54008, "user_id": 2071828, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/R8AYO.jpg?s=128&g=1", "display_name": "Boris the Spider", "link": "https://stackoverflow.com/users/2071828/boris-the-spider"}, "edited": false, "score": 0, "creation_date": 1559160426, "post_id": 56367429, "comment_id": 99338549, "body": "I don&#39;t know. I&#39;m just thinking to employ a time window of sort."}, {"owner": {"reputation": 54008, "user_id": 2071828, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/R8AYO.jpg?s=128&g=1", "display_name": "Boris the Spider", "link": "https://stackoverflow.com/users/2071828/boris-the-spider"}, "edited": false, "score": 0, "creation_date": 1559160993, "post_id": 56367429, "comment_id": 99338767, "body": "Why not then <code>window</code> and <code>combineLatest</code>? Your solution looks very over complicated for the stated requirements so what is it that makes your case special?"}, {"owner": {"reputation": 1588, "user_id": 4990550, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/37847ab3fb9405bd7c9a8cac7fc01a84?s=128&d=identicon&r=PG&f=1", "display_name": "David Siro", "link": "https://stackoverflow.com/users/4990550/david-siro"}, "reply_to_user": {"reputation": 54008, "user_id": 2071828, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/R8AYO.jpg?s=128&g=1", "display_name": "Boris the Spider", "link": "https://stackoverflow.com/users/2071828/boris-the-spider"}, "edited": false, "score": 0, "creation_date": 1559197398, "post_id": 56367429, "comment_id": 99347204, "body": "Could you please post a code example? I don&#39;t think my case is special, I actually think this must be a pretty common problem, but can&#39;t really wrap my head around that. Really, what bothers me is the inefficiency of <code>hotBroadcasts.filter...</code>, that&#39;s it."}, {"owner": {"reputation": 12389, "user_id": 1206301, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/NMBDq.jpg?s=128&g=1", "display_name": "Alexei Kaigorodov", "link": "https://stackoverflow.com/users/1206301/alexei-kaigorodov"}, "edited": false, "score": 0, "creation_date": 1559323163, "post_id": 56367429, "comment_id": 99397046, "body": "how an orderEntry matches an hotBroadcast? By the order of their creation, or they both has some label which must match?"}, {"owner": {"reputation": 1588, "user_id": 4990550, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/37847ab3fb9405bd7c9a8cac7fc01a84?s=128&d=identicon&r=PG&f=1", "display_name": "David Siro", "link": "https://stackoverflow.com/users/4990550/david-siro"}, "edited": false, "score": 0, "creation_date": 1559326688, "post_id": 56367429, "comment_id": 99398435, "body": "The both have a label that must match."}], "answers": [{"tags": [], "owner": {"reputation": 12389, "user_id": 1206301, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/NMBDq.jpg?s=128&g=1", "display_name": "Alexei Kaigorodov", "link": "https://stackoverflow.com/users/1206301/alexei-kaigorodov"}, "is_accepted": false, "score": -1, "last_activity_date": 1559529658, "creation_date": 1559529658, "answer_id": 56420569, "question_id": 56367429, "link": "https://stackoverflow.com/questions/56367429/project-reactor-combine-two-publishers-statefuly-and-emit-the-result/56420569#56420569", "title": "Project Reactor - combine two Publishers statefuly and emit the result", "body": "<p>The object which can aggregate messages from two distinct publishers is an asynchronous procedure call with 2 parameters. Such a call can be constructed in rxjava using <code>io.reactivex.Single.zip(SingleSource arg1, SingleSource arg2, BiFunction func)</code>, or in pure Java using <code>java.util.concurrent.CompletableFuture.thenCombine(CompletionStage arg2, BiFunction func)</code>.</p>\n\n<p>You need a special HashMap which holds that asynchronous procedure calls. The calls should be created automatically when this HashMap is accessed with given label for the first time.</p>\n\n<p>So one Publicher invokes </p>\n\n<pre><code>asyncProc=callMap.get(label); // asyncProc is created and stored with the label as a key\nasyncProc.arg1.complete(value);\n</code></pre>\n\n<p>and the other Publicher invokes </p>\n\n<pre><code>asyncProc=callMap.get(label); // previously created instance returned\nasyncProc.arg2.complete(value);\n</code></pre>\n\n<p>After both publishers have supplied their arguments, the asynchronous procedure is executed.</p>\n"}], "owner": {"reputation": 1588, "user_id": 4990550, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/37847ab3fb9405bd7c9a8cac7fc01a84?s=128&d=identicon&r=PG&f=1", "display_name": "David Siro", "link": "https://stackoverflow.com/users/4990550/david-siro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559529658, "creation_date": 1559158768, "question_id": 56367429, "link": "https://stackoverflow.com/questions/56367429/project-reactor-combine-two-publishers-statefuly-and-emit-the-result", "title": "Project Reactor - combine two Publishers statefuly and emit the result", "body": "<p>I'd like to design a processing pipeline with the Reactor that does as follows.</p>\n\n<p>I have two input Publishers <code>orderEntries</code> (cold) and <code>hotBroadcasts</code> (hot). I'd like to to aggregate items emitted by <code>hotBroadcasts</code> into (mutable) inmemory data structure - say a <code>HashMap</code> - and for each item from <code>orderEntries</code> I'd like to pick an corresponding element from that Map, create resulting item and push to downstream subscriber.</p>\n\n<p>The events from <code>hotBroadcasts</code> comes in arbitrary order, that's why I want to store them inmemory for easy retrieval.</p>\n\n<p>Conceptually, it should work like this:</p>\n\n<pre><code>       orderEntries                      hotBroadcasts\n           |                                   | \n           |                                   | \n           |                                   | \n           \\                                   / \n            ----------------&gt; &lt;----------------\n                   (aggregate events from hotBroadcasts)     \n                             |\n                             |\n                        resulting item\n                             |\n                             |\n                            \\/\n                      downstream subcriber  \n</code></pre>\n\n<p>So far I managed to sketch a solution with a <code>ReplayProcessor</code>, illustrated by the Kotlin pseudo-example:</p>\n\n<pre><code>val orderEntries = Flux.interval(Duration.of(1, ChronoUnit.SECONDS))\nval hotBroadcasts = ReplayProcessor.create&lt;String&gt;(1000, false)\n\norderEntries.concatMap { entryId -&gt;\n    // problematic filter - skims through all that ReplayProcessor has cached\n    hotBroadcasts.filter { broadcastId -&gt;\n        \"Broadcast:$entryId\" == broadcastId\n    }\n    .take(1)\n    .map { \"EntryId: $entryId, BroadcastId: $it\" }\n}.subscribe { LOG.info(it) }\n\nFlux.interval(Duration.of(200, ChronoUnit.MILLIS))\n        .concatMap { Flux.just(it, it - 100000) }\n        .map { \"Broadcast:$it\" }\n        .subscribe {\n            hotBroadcasts.onNext(it)\n        }\n</code></pre>\n\n<p>The problem here is that filtering of <code>hotBroadcast</code> skims through all items for every item from <code>orderEntries</code>. Hence my idea about storing them in the HashMap.</p>\n\n<p>Could anyone point me to correct direction?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3033, "user_id": 3339394, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ciehO.jpg?s=128&g=1", "display_name": "The_Martian", "link": "https://stackoverflow.com/users/3339394/the-martian"}, "is_accepted": true, "score": 0, "last_activity_date": 1559184936, "last_edit_date": 1559184936, "creation_date": 1559183979, "answer_id": 56370974, "question_id": 56367404, "link": "https://stackoverflow.com/questions/56367404/how-to-make-button-open-another-fragment-from-within-another-fragment-in-kotlin/56370974#56370974", "title": "How to make button open another fragment from within another fragment in kotlin", "body": "<p>You need to use FragmentManager and FragmentTransaction to add your fragment on the fly. you can call a function similar to this in your button's onClick method. But it is recommended for the parent activity to handle each fragment's lifecycle and the fragments \nare not supposed to interact each other. The following is taken from the developer docs, <a href=\"https://developer.android.com/training/basics/fragments/communicating\" rel=\"nofollow noreferrer\">that can be found here</a>.\n\"Often you will want one Fragment to communicate with another, for example to change the content based on a user event. All Fragment-to-Fragment communication is done either through a shared ViewModel or through the associated Activity. Two Fragments should never communicate directly.\"</p>\n\n<pre><code>fun createFragmentonTheFly(){\n        var mFragmentTransaction: FragmentTransaction = getSupportFragmentManager().beginTransaction()\n        mFragmentTransaction.add(R.id.fr_container,new ProductListFragment()) \n        mFragmentTransaction.commit()\n    }\n</code></pre>\n\n<p>The best way to do it would be to add an interface let say onFragmentDetachedLisetner and add one method replaceFragment() or something and make your Activity implement this interaface and had it replace as soon as the fragment is detached and make your fragment that contains your button finish itself when user clicks the button, then your activity will replace it with the one you wanted to start. And also consider reusing fragments, as that is the main purpose of fragments at the first place.</p>\n"}], "owner": {"reputation": 37, "user_id": 6763592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgIg1.png?s=128&g=1", "display_name": "Davi", "link": "https://stackoverflow.com/users/6763592/davi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 2, "accepted_answer_id": 56370974, "answer_count": 1, "score": 0, "last_activity_date": 1559202926, "creation_date": 1559158667, "last_edit_date": 1559202926, "question_id": 56367404, "link": "https://stackoverflow.com/questions/56367404/how-to-make-button-open-another-fragment-from-within-another-fragment-in-kotlin", "title": "How to make button open another fragment from within another fragment in kotlin", "body": "<p>how to make button to open another fragment. being within a fragment. kotlin</p>\n\n<p>I'm starting in kotlin and I'm having a hard time trying to open a fragment with a button, how do I?</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "edited": false, "score": 0, "creation_date": 1559164438, "post_id": 56368224, "comment_id": 99339966, "body": "Thanks, with the handler it does not crash. But why does it not work either if I do a try { launch { /* */ } } catch() { } ? Shouldn&#39;t the try/catch outside the parent coroutine catch the exception in this case/"}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "edited": false, "score": 0, "creation_date": 1559164948, "post_id": 56368224, "comment_id": 99340123, "body": "I&#39;ll answer my own question - the exception happens on a different thread, so the try/catch block does not apply."}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 1, "last_activity_date": 1559162562, "creation_date": 1559162562, "answer_id": 56368224, "question_id": 56367075, "link": "https://stackoverflow.com/questions/56367075/bubbling-up-exceptions-in-coroutines/56368224#56368224", "title": "Bubbling up exceptions in coroutines", "body": "<p>Second case is simple: you're only running 1 <code>job</code> with <code>GlobalScope.launch</code>, and <code>exception</code> is cleanly caught.</p>\n\n<p>In first case however your <code>async</code> calls create jobs that are children of your <code>GlobalScope.launch</code>.</p>\n\n<p>Exception is actually delayed until <code>await()</code> call, but it doesn't rethrow in that case. Instead <code>async</code> job propagates exception to its parent job (<code>launch</code>) which proceeds to cancel itself and all children jobs immediately. It forwards exception to its <code>ExceptionHandler</code> which by default is uncaught.</p>\n\n<p>You should install exception handler on your parent job context - this allows clean handling of any exception within coroutine or its children:</p>\n\n<pre><code>GlobalScope.launch(CoroutineExceptionHandler { coroutineContext, throwable -&gt;\n        println(\"Error: $throwable\")\n}) {\n    val def1 = async { doWork1() }\n    val def2 = async { doWork2() }\n    println(\"Result ${def1.await()} ${def2.await()}\") \n}\n</code></pre>\n\n<p>Read in detail about coroutine exception handling in <a href=\"https://kotlinlang.org/docs/reference/coroutines/exception-handling.html\" rel=\"nofollow noreferrer\">Exception Handling</a> docs.</p>\n"}], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 56368224, "answer_count": 1, "score": 0, "last_activity_date": 1559162562, "creation_date": 1559157098, "question_id": 56367075, "link": "https://stackoverflow.com/questions/56367075/bubbling-up-exceptions-in-coroutines", "title": "Bubbling up exceptions in coroutines", "body": "<p>In Kotlin coroutines, an <code>async</code> call will not throw until the value is retrieved. However, when I  launch a suspend function in an <code>async</code> block, the exception is not trapped as I would expect.</p>\n\n<p>Here's the sample code:</p>\n\n<pre><code>fun start() {\n    GlobalScope.launch {\n        try {\n            val def1 = async { doWork1() }\n            val def2 = async { doWork2() }\n            Log.d(\"test\", \"Result ${def1.await()}, ${def2.await()}\")\n        } catch (ex: Exception) {\n            Log.e(\"test\", \"Error\", ex)\n        }\n    }\n}\n\nprivate suspend fun doWork1(): Int {\n    delay(1000L)\n    throw Exception(\"work 1\")\n}\n\nprivate suspend fun doWork2(): Int {\n    delay(1000L)\n    return 1\n}\n</code></pre>\n\n<p>This crashes instead of trapping the exception in the <code>catch</code> block.</p>\n\n<p>On the other hand, this works fine</p>\n\n<pre><code>fun start() {\n    GlobalScope.launch {\n        try {\n            val value = doWork1()\n            Log.d(\"test\", \"Result: $value\")\n        } catch (ex: Exception) {\n            Log.e(\"test\", \"Error\", ex)\n        }\n    }\n}\n\nprivate suspend fun doWork1(): Int {\n    delay(1000L)\n    throw Exception(\"work 1\")\n}\n</code></pre>\n\n<p>Why aren't exceptions trapped in the first example?</p>\n"}, {"tags": ["android", "kotlin", "android-gradle-plugin", "gradle-kotlin-dsl", "kotlin-dsl"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1559183023, "post_id": 56366798, "comment_id": 99344050, "body": "Does it work when you build the module as a project? You might not be able to do that, depending on inter-module dependencies. You might need to include your main build.gradle.kts and your gradle.settings"}, {"owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1559206083, "post_id": 56366798, "comment_id": 99350881, "body": "@PaulHicks I have included the gradle settings file"}], "answers": [{"comments": [{"owner": {"reputation": 838, "user_id": 8040128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hSh50.jpg?s=128&g=1", "display_name": "Zakhar Rodionov", "link": "https://stackoverflow.com/users/8040128/zakhar-rodionov"}, "edited": false, "score": 0, "creation_date": 1566840925, "post_id": 56382778, "comment_id": 101773851, "body": "Hey. How to add a field to project.property?"}, {"owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "reply_to_user": {"reputation": 838, "user_id": 8040128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hSh50.jpg?s=128&g=1", "display_name": "Zakhar Rodionov", "link": "https://stackoverflow.com/users/8040128/zakhar-rodionov"}, "edited": false, "score": 0, "creation_date": 1566912011, "post_id": 56382778, "comment_id": 101798288, "body": "@ZakharRodionov I am not sure I understand what you are trying to achieve"}], "tags": [], "owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "is_accepted": true, "score": 1, "last_activity_date": 1559236614, "creation_date": 1559236614, "answer_id": 56382778, "question_id": 56366798, "link": "https://stackoverflow.com/questions/56366798/unable-to-resolve-dependency-as-a-result-of-conversion-to-using-gradle-kotlin-ds/56382778#56382778", "title": "Unable to resolve dependency as a result of conversion to using Gradle Kotlin DSL", "body": "<p>I finally resolved the issue this is how I changed the </p>\n\n<p>Firstly I updated to the latest version of the Gradle distribution </p>\n\n<pre><code>#Tue May 14 11:11:48 CAT 2019\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-5.4.1-all.zip\n</code></pre>\n\n<p>Then I changed the gradle.buid.kts for the app module to look as follows</p>\n\n<pre><code>plugins {\n    id(Plugins.androidApplication)\n    kotlin(Plugins.kotlinAndroid)\n    kotlin(Plugins.kotlinExtensions)\n    kotlin(Plugins.kapt)\n}\n\nandroid {\n    compileSdkVersion(Configs.compileVersion)\n    buildToolsVersion(Versions.buildToolsVersion)\n\n    defaultConfig {\n        multiDexEnabled = true\n        applicationId = Configs.applicationId\n        minSdkVersion(Configs.minSdkVersion)\n        targetSdkVersion(Configs.targetSdkVersion)\n        val version_code = Integer.parseInt(project.property(\"build_version_code\") as String)\n        versionCode = version_code\n        versionName = project.property(\"build_version\") as String\n        testInstrumentationRunner = Configs.testInstrumentationRunner\n        proguardFiles(getDefaultProguardFile(ProGuard.proguardTxt), ProGuard.androidDefault)\n    }   \n\n    signingConfigs {\n        named(\"debug\").configure {\n            storeFile = file(project.property(\"keyStore\") as String)\n            storePassword = project.property(\"keystorePassword\") as String\n            keyPassword = project.property(\"keystorePassword\") as String\n            keyAlias = project.property(\"keyName\") as String\n        }   \n\n        register(\"release\") {\n            storeFile = file(project.property(\"keyStore\") as String)\n            storePassword = project.property(\"keystorePassword\") as String\n            keyPassword = project.property(\"keystorePassword\") as String\n            keyAlias = project.property(\"keyName\") as String\n        }\n    }\n\n    buildTypes {\n        named(\"release\").configure {\n            buildConfigField(\"boolean\", \"MOCK_HARDWARE\", \"false\")\n            proguardFiles(getDefaultProguardFile(ProGuard.proguardTxt), ProGuard.androidDefault)\n            signingConfig = (signingConfigs.getByName(\"release\"))\n            matchingFallbacks = listOf(\"release\")\n        }\n        named(\"debug\").configure {\n            buildConfigField(\"boolean\", \"MOCK_HARDWARE\", \"false\")\n            applicationIdSuffix = \".debug\"\n            signingConfig = signingConfigs.getByName(\"debug\")\n            matchingFallbacks = listOf(\"debug\")\n        }    \n    }\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n\n    repositories {\n        flatDir {\n            dirs(\"libs\")\n        }\n    }\n}\n\ndependencies {\n    implementation(fileTree(mapOf(\"include\" to listOf(\"*.jar\", \"*.arr\"), \"dir\" to \"libs\")))\n    implementation(Libs.stdLib)\n    implementation(Libs.sunmiui)\n    implementation(Libs.slf4j)\n    implementation(Libs.appCompact)\n    implementation(Libs.otpView)\n    implementation(Libs.vectordrawableAnimated)\n    implementation(Libs.materialComponents)\n    implementation(Libs.recyclerView)\n    implementation(Libs.constraintLayout)\n    implementation(Libs.junit)\n    implementation(Libs.testRunner)\n    implementation(Libs.expressoCore)\n    implementation(Libs.lifecyleExtensions)\n    annotationProcessor(Libs.lifecyleCompiler)\n    implementation(Libs.roomRuntime)\n    annotationProcessor(Libs.databindingCompiler)\n    implementation(Libs.rxjava)\n    implementation(Libs.rxjavaAndroid)\n    implementation(Libs.glide)\n    annotationProcessor(Libs.glideCompiler)\n    implementation(Libs.gson)\n    implementation(Libs.joda)\n    implementation(Libs.countrycodePicker)\n    implementation(Libs.timber)\n    implementation(Libs.daggerandroidSupport)\n    annotationProcessor(Libs.daggerandroidProcessor)    \n    implementation(project(\":data\"))\n    implementation (project( \":ui\"))\n    implementation (project( \":webapi\"))\n    implementation (project(\":hardware\"))\n    implementation (project(\":sdfclient\"))\n\n}\n</code></pre>\n\n<p>I also updated the project references in the settings.gradle.kts file as follows:</p>\n\n<pre><code>include(\":app\",\n        \":data\")    \nproject(\":data\").projectDir = file(\"../modules/data/data\")) \n</code></pre>\n\n<p>The major changes being the signingConfigs, buildTypes and the referencing of the other modules in the project. \nFor example  </p>\n\n<pre><code>implementation(project(\":data\"))\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>implementation(project(path, \":data\"))\n</code></pre>\n"}], "owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2465, "favorite_count": 1, "accepted_answer_id": 56382778, "answer_count": 1, "score": 4, "last_activity_date": 1559236614, "creation_date": 1559155700, "last_edit_date": 1559205686, "question_id": 56366798, "link": "https://stackoverflow.com/questions/56366798/unable-to-resolve-dependency-as-a-result-of-conversion-to-using-gradle-kotlin-ds", "title": "Unable to resolve dependency as a result of conversion to using Gradle Kotlin DSL", "body": "<p>Having converted my original Kotlin Gradle scripts from using groovy to using Kotlin DSL using the following articles as references:\n<a href=\"https://medium.com/simform-engineering/a-better-way-to-manage-gradle-build-script-784586e8e560\" rel=\"nofollow noreferrer\">A Better way to Manage Gradle Build Script</a>\nand <a href=\"https://birjuvachhani.github.io/2018/12/10/migrating-gradle-build-scripts-to-kotlin-dsl.html\" rel=\"nofollow noreferrer\">Migrating Gradle Build Scripts to Kotlin DSL</a>. After compiling my code I get the following build errors.</p>\n\n<pre><code>ERROR: Unable to resolve dependency for ':app@debug/compileClasspath': Could \nnot resolve project :app.\nShow Details\nAffected Modules: app\n\nERROR: Unable to resolve dependency for \n':app@debugAndroidTest/compileClasspath': Could not resolve project :app.\nShow Details\nAffected Modules: app\n\nERROR: Unable to resolve dependency for \n':app@debugUnitTest/compileClasspath': Could not resolve project :app.\nShow Details\nAffected Modules: app\n\nERROR: Unable to resolve dependency for ':app@release/compileClasspath': \nCould not resolve project :app.\nShow Details\nAffected Modules: app\n\nERROR: Unable to resolve dependency for \n':app@releaseUnitTest/compileClasspath': Could not resolve project :app.\nShow Details\nAffected Modules: app\n</code></pre>\n\n<p>Past questions asked on this platform have suggested,</p>\n\n<ul>\n<li>Invalidating the cache and restarting android studio, which I have\ntried and that does not seem to work. </li>\n<li>Making sure that the gradle global setting is not selected as offline work, \nthat has also been checked that is offline and the problem still persists.   </li>\n</ul>\n\n<p>I have tried to resolve the issue using the suggested solutions. \nMy <strong>build.gradle</strong> for the app module is as follows:</p>\n\n<pre><code>plugins {\n    id(Plugins.androidApplication)\n    kotlin(Plugins.kotlinAndroid)\n    kotlin(Plugins.kotlinExtensions)\n    kotlin(Plugins.kapt)\n}\nandroid {\n\n    compileSdkVersion(Configs.compileVersion)\n    defaultConfig {\n        applicationId = Configs.applicationId\n        minSdkVersion(Configs.minSdkVersion)\n        targetSdkVersion(Configs.targetSdkVersion)\n        testInstrumentationRunner = Configs.testInstrumentationRunner\n        var value = Integer.parseInt(project.property(\"build_version_code\") as String?)\n        versionCode = value\n        versionName = project.property(\"build_version\") as String?\n    }\n\n    signingConfigs {\n        getByName(\"debug\") {\n\n        }\n\n        create(\"release\") {\n\n        }\n    } \n        buildTypes {\n        getByName(\"debug\") {\n            buildConfigField(\"boolean\", \"MOCK_HARDWARE\", \"false\")\n            signingConfig = signingConfigs.findByName(\"debug\")\n            applicationIdSuffix = \".debug\"\n            matchingFallbacks = listOf(\"debug\")\n        }\n        getByName(\"release\") {\n            isMinifyEnabled = false\n            buildConfigField(\"boolean\", \"MOCK_HARDWARE\", \"false\")\n            proguardFiles(getDefaultProguardFile(ProGuards.proguardTxt), ProGuards.androidDefault)\n            signingConfig = signingConfigs.findByName(\"release\")\n            matchingFallbacks = listOf(\"release\")\n        }\n\n    dataBinding {\n        isEnabled = true\n    }\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n}\nrepositories {\n    flatDir {\n        dirs(\"libs\")\n    }\n}\ndependencies {\n\n    implementation(fileTree(mapOf(\"dir\" to \"libs\", \"include\" to \n    listOf(\"*.jar\", \"*.arr\"))))\n    implementation(Libs.stdLib)\n    implementation(Libs.sunmiui)\n    implementation(Libs.slf4j)\n    implementation(Libs.appCompact)\n    implementation(Libs.otpView)\n    implementation(Libs.vectordrawableAnimated)\n    implementation(Libs.materialComponents)\n    implementation(Libs.recyclerView)\n    implementation(Libs.constraintLayout)\n    implementation(Libs.junit)\n    implementation(Libs.testRunner)\n    implementation(Libs.expressoCore)\n    implementation(Libs.lifecyleExtensions)\n    kapt(Libs.lifecyleCompiler)\n    implementation(Libs.roomRuntime)\n    implementation(Libs.databindingCompiler)\n    implementation(Libs.rxjava)\n    implementation(Libs.rxjavaAndroid)\n    implementation(Libs.glide)\n    implementation(Libs.glideCompiler)\n    implementation(Libs.gson)\n    implementation(Libs.joda)\n    implementation(Libs.countrycodePicker)\n    implementation(Libs.timber)\n    implementation(Libs.daggerandroidSupport)\n    implementation(Libs.daggerandroidProcessor)\n}\n</code></pre>\n\n<p>My <strong>Dependecies.kts</strong> is as follows:</p>\n\n<pre><code>    object Versions\n    {\n        // kotlin\n        const val kotlin = \"1.3.31\"\n        const val buildToolsVersion = \"28.0.3\"\n\n        const val lifecycleExtensionVersion = \"2.0.0\"\n        const val lifecyleCompilerVersion = \"2.0.0\"\n\n        const val stdLibVersion = \"1.3.21\"\n        const val otpViewVersion = \"2.0.3\"\n\n        const val appCompactVersion = \"1.1.0-alpha05\"\n        const val constraintLayoutVersion = \"2.0.0-beta1\"\n        const val materialComponentsVersion = \"1.1.0-alpha06\"\n        const val recyclerViewVersion = \"1.0.0\"\n\n        const val junitVersion = \"4.12\"\n        const val testRunnerVersion = \"1.1.1\"\n        const val expressoCoreVersion = \"3.1.1\"\n\n        const val roomRuntimeVersion = \"2.1.0-alpha04\"\n\n        const val databindingCompilerVersion = \"3.5.0-alpha06\"\n\n        const val rxjavaVersion = \"2.2.7\"\n        const val rxjavaAndroidVersion = \"2.1.1\"\n\n        const val glideVersion = \"4.8.0\"\n        const val glideCompilerVersion = \"4.8.0\"\n\n        const val gsonVersion = \"2.8.5\"\n\n        const val jodaVersion = \"2.7.2\"\n\n        const val countrycodePickerVersion = \"2.3.0\"\n\n        const val timberVersion = \"4.7.1\"\n\n        const val daggerandroidSupportVersion = \"2.19\"\n        const val daggerandroidProcessorVersion = \"2.19\"\n\n        const val slf4jVersion = \"1.7.21\"\n\n        const val vectordrawableAnimatedVersion = \"1.1.0-beta01\"\n\n        const val sunmiuiVersion = \"1.1.27\"\n    }\n\n    object Libs\n    {\n        const val lifecyleExtensions = \"androidx.lifecycle:lifecycle-extensions:${Versions.lifecycleExtensionVersion}\"\n        const val lifecyleCompiler = \"androidx.lifecycle:lifecycle-compiler:${Versions.lifecyleCompilerVersion}\"\n\n        const val stdLib = \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:${Versions.kotlin}\"\n\n        const val otpView = \"com.github.mukeshsolanki:android-otpview-pinview:${Versions.otpViewVersion}\"\n\n        const val appCompact = \"androidx.appcompat:appcompat:${Versions.appCompactVersion}\"\n        const val constraintLayout = \"androidx.constraintlayout:constraintlayout:${Versions.constraintLayoutVersion}\"\n        const val materialComponents = \"com.google.android.material:material:${Versions.materialComponentsVersion}\"\n        const val recyclerView = \"androidx.recyclerview:recyclerview:${Versions.recyclerViewVersion}\"\n\n        const val junit = \"junit:junit:${Versions.junitVersion}\"\n        const val testRunner = \"androidx.test:runner:${Versions.testRunnerVersion}\"\n        const val expressoCore = \"androidx.test.espresso:espresso-core:${Versions.expressoCoreVersion}\"\n\n        const val roomRuntime = \"androidx.room:room-runtime:${Versions.roomRuntimeVersion}\"\n\n        const val databindingCompiler = \"androidx.databinding:databinding-compiler:${Versions.databindingCompilerVersion}\"\n\n        const val rxjava = \"io.reactivex.rxjava2:rxjava:${Versions.rxjavaVersion}\"\n        const val rxjavaAndroid = \"io.reactivex.rxjava2:rxandroid:${Versions.rxjavaAndroidVersion}\"\n\n        const val glide = \"com.github.bumptech.glide:glide:${Versions.glideVersion}\"\n        const val glideCompiler = \"com.github.bumptech.glide:compiler:${Versions.glideCompilerVersion}\"\n\n        const val gson = \"com.google.code.gson:gson:${Versions.gsonVersion}\"\n\n        const val joda = \"net.danlew:android.joda:${Versions.jodaVersion}\"\n\n        const val countrycodePicker = \"com.github.joielechong:countrycodepicker:${Versions.countrycodePickerVersion}\"\n\n        const val timber = \"com.jakewharton.timber:timber:${Versions.timberVersion}\"\n\n        const val daggerandroidSupport = \"com.google.dagger:dagger-android-support:${Versions.daggerandroidSupportVersion}\"\n        const val daggerandroidProcessor = \"com.google.dagger:dagger-android-processor:${Versions.daggerandroidProcessorVersion}\"\n\n        const val slf4j = \"org.slf4j:slf4j-api:${Versions.slf4jVersion}\"\n\n        const val vectordrawableAnimated = \"androidx.vectordrawable:vectordrawable-animated:${Versions.vectordrawableAnimatedVersion}\"\n\n        const val sunmiui = \"com.sunmi:sunmiui:${Versions.sunmiuiVersion}\"\n    }\n\n    object Plugins\n    {\n        const val androidApplication = \"com.android.application\"\n        const val kotlinAndroid = \"android\"\n        const val kotlinExtensions = \"android.extensions\"\n        const val kapt = \"kapt\"\n    }\n\n    object ProGuards\n    {\n        val androidDefault = \"proguard-rules.pro\"\n        val proguardTxt = \"proguard-android.txt\"\n    }\n\n    object ClassPaths\n    {\n        const val gradlePlugin = \"com.android.tools.build:gradle:3.4.1\"\n        const val kotlinPlugin = \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.31\"\n    }\n\n    object Configs\n    {\n        const val applicationId = \"eteetetet\"\n        const val compileVersion = 28\n        const val minSdkVersion = 24\n        const val targetSdkVersion = 28\n        const val testInstrumentationRunner = \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n</code></pre>\n\n<p>My build.gradle for the Project Module is as follows:</p>\n\n<pre><code>    buildscript {\n        repositories {\n            google()\n            jcenter()\n            mavenCentral()\n        }\n\n        dependencies {\n            classpath(ClassPaths.gradlePlugin)\n            classpath(ClassPaths.kotlinPlugin)\n\n            // NOTE: Do not place your application dependencies here; they belong\n            // in the individual module build.gradle files\n        }\n    }\n\n    allprojects {\n        repositories {\n            jcenter()\n            google()\n            mavenCentral()\n            maven {\n                url = uri(\"https://plugins.gradle.org/m2/\")\n            }\n            maven {\n                url = uri(\"https://maven.google.com\")  \n            }\n            maven { url = uri(\"https://jitpack.io\") }\n        }\n    }\n\n    tasks.register(\"clean\", Delete::class) {\n        delete(rootProject.buildDir)\n    }\n</code></pre>\n\n<p>My <strong>settings.gradle.kts</strong> file is as follows:</p>\n\n<pre><code>include(\":app\",\n        \":asterixclient\",\n        \":asterixtest\",\n        \":data\",\n        \":hardware\",\n        \":registrations\",\n        \":rewards\",\n        \":rules\",\n        \":rulescontracts\",\n        \":sdfclient\",\n        \":sdfservice\",\n        \":sunmiclient\",\n        \":sync\",\n        \":till\",\n        \":tsdevice\",\n        \":ui\",\n        \":webapi\")\n\nproject(\":asterixclient\").projectDir = \nFile(\"../modules/sdfservice/asterixclient\")\nproject(\":asterixtest\").projectDir = \nFile(\"../modules/sdfservice/asterixtest\")\nproject(\":data\").projectDir = File(\"../modules/data/data\")\nproject(\":hardware\").projectDir = File(\"../modules/hardware/hardware\")\nproject(\":registrations\").projectDir = File(\"../modules/registrations/app\")\nproject(\":rewards\").projectDir = File(\"../modules/rewards/rewards\")\nproject(\":rules\").projectDir = File(\"../modules/rules/rules\")\nproject(\":rulescontracts\").projectDir = \nFile(\"../modules/rules/rulescontracts\")\nproject(\":sdfclient\").projectDir = File(\"../modules/sdfservice/sdfclient\")\nproject(\":sdfservice\").projectDir = File(\"../modules/sdfservice/sdfservice\")\nproject(\":sunmiclient\").projectDir = \nFile(\"../modules/sdfservice/sunmiclient\")\nproject(\":sync\").projectDir = File(\"../modules/sync/sync\")\nproject(\":till\").projectDir = File(\"../modules/till/till\")\nproject(\":tsdevice\").projectDir = File(\"../modules/sdfservice/tsdevice\")\nproject(\":ui\").projectDir = File(\"../modules/ui/ui\")\nproject(\":webapi\").projectDir = File(\"../modules/webapi/webapi\")\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 7918, "user_id": 5500224, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Cy4uM.jpg?s=128&g=1", "display_name": "Bukharov Sergey", "link": "https://stackoverflow.com/users/5500224/bukharov-sergey"}, "is_accepted": true, "score": 2, "last_activity_date": 1559160149, "creation_date": 1559160149, "answer_id": 56367723, "question_id": 56366777, "link": "https://stackoverflow.com/questions/56366777/can-this-kotlin-casting-code-be-simplified/56367723#56367723", "title": "Can this Kotlin casting code be simplified?", "body": "<p>You can avoid a lot of nested <code>if</code> just changing it to <code>?.let</code> and <code>for</code> to <code>map</code> . Code in this case will be flat and readable</p>\n\n<pre><code>fun parseOrganizations(payload: Any?) {\n    payload\n        ?.let { it as? Map&lt;*, *&gt; }\n        ?.let { it[\"organizations\"] as? List&lt;*&gt; }\n        ?.mapNotNull { if (it is Map&lt;*, *&gt;) UserOrganization.fromMap(it) else null }\n        ?.map { organizations.add(it) }\n}\n</code></pre>\n\n<p>But we should deal with creating <code>UserOrganization</code> from <code>Map</code> contains organization's details. To be honest, I could not figure out a really elegant way. But it is better to create external function or something like this, to encapsulate fallback logic:</p>\n\n<pre><code>class UserOrganization(\n    val id: String,\n    val name: String,\n    val role: String,\n    val isActive: Boolean,\n    val isVerified: Boolean\n){\n    companion object {\n        fun fromMap(org: Map&lt;*,*&gt;): UserOrganization? =\n            if (org.keys.containsAll(listOf(\"id\", \"name\", \"role\", \"isActive\", \"isVerified\"))) {\n                UserOrganization(\n                    id = org[\"id\"] as? String ?: \"Unknown Id\",\n                    name = org[\"name\"] as? String ?: \"Unknown name\",\n                    role = org[\"role\"] as? String ?: \"Unknown role\",\n                    isActive = org[\"isActive\"] as? Boolean ?: false,\n                    isVerified = org[\"isVerified\"] as? Boolean ?: false\n                )\n            } else null\n    }\n}\n</code></pre>\n\n<p>i can't bet that it works 100% correct, but I think I could show the idea.</p>\n"}], "owner": {"reputation": 1439, "user_id": 710112, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6e350d64768d776ac0667eec74568202?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/710112/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 56367723, "answer_count": 1, "score": 1, "last_activity_date": 1559160149, "creation_date": 1559155563, "question_id": 56366777, "link": "https://stackoverflow.com/questions/56366777/can-this-kotlin-casting-code-be-simplified", "title": "Can this Kotlin casting code be simplified?", "body": "<p>We have some code to a third party SDK that returns an \"Any?\".  And we have to cast it (if it casts and parse it).  Because our casts are generic, I have not been able to figure out how to simplify this without writing 5 casts.  This seems much easier in Swift. Is there a better way of doing these casts?</p>\n\n<pre><code>private fun parseOrganizations(payload: Any?): List&lt;UserOrganization&gt; {\n        val organizations = mutableListOf&lt;UserOrganization&gt;()\n        payload?.let { userData -&gt;\n            if (userData is Map&lt;*, *&gt;) {\n                val orgJsonList = userData[\"organizations\"]\n                if (orgJsonList is List&lt;*&gt;) {\n                    for (jsonMap in orgJsonList) {\n                        if (jsonMap is Map&lt;*, *&gt;) {\n                            val id = jsonMap[\"id\"] as? String\n                            val name = jsonMap[\"name\"] as? String\n                            val role = jsonMap[\"role\"] as? String\n                            val isActive = jsonMap[\"isActive\"] as? Boolean\n                            val isVerified = jsonMap[\"isVerified\"] as? Boolean\n                            if (id != null &amp;&amp; name != null &amp;&amp; role != null &amp;&amp; isActive != null &amp;&amp; isVerified != null) {\n                                val org = UserOrganization(id, name, role, isActive, isVerified)\n                                organizations.add(org)\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return organizations\n    }\n</code></pre>\n\n<p>Thanks guys.</p>\n"}, {"tags": ["android-studio", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 76, "user_id": 1748988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724d8841190a7f1a73736a48f2e46b86?s=128&d=identicon&r=PG", "display_name": "hckim", "link": "https://stackoverflow.com/users/1748988/hckim"}, "edited": false, "score": 1, "creation_date": 1559532295, "post_id": 56366095, "comment_id": 99436684, "body": "Same here on Android Studio 3.4.1"}], "owner": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1559153429, "creation_date": 1559152347, "last_edit_date": 1559153429, "question_id": 56366095, "link": "https://stackoverflow.com/questions/56366095/android-studio-not-rendering-layout-and-raising-exception", "title": "Android Studio not rendering layout and raising exception", "body": "<p>Android Studio 3.4 on mac does not render my layout and raises this error in layout editor (I don't have any animation in layout). I found this solution but did not work on mac : <a href=\"https://stackoverflow.com/questions/34239231/classcast-exception-android-studio/34267373#34267373\">ClassCast Exception Android Studio</a> </p>\n\n<pre><code>java.lang.IllegalArgumentException: java.lang.ClassCastException@73384976\n    at sun.reflect.GeneratedMethodAccessor501.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at android.animation.PropertyValuesHolder_Delegate.callMethod(PropertyValuesHolder_Delegate.java:108)\n    at android.animation.PropertyValuesHolder_Delegate.nCallFloatMethod(PropertyValuesHolder_Delegate.java:143)\n    at android.animation.PropertyValuesHolder.nCallFloatMethod(PropertyValuesHolder.java)\n    at android.animation.PropertyValuesHolder.access$400(PropertyValuesHolder.java:38)\n    at android.animation.PropertyValuesHolder$FloatPropertyValuesHolder.setAnimatedValue(PropertyValuesHolder.java:1387)\n    at android.animation.ObjectAnimator.animateValue(ObjectAnimator.java:990)\n    at android.animation.ValueAnimator.setCurrentFraction(ValueAnimator.java:674)\n    at android.animation.ValueAnimator.setCurrentPlayTime(ValueAnimator.java:637)\n    at android.animation.ValueAnimator.start(ValueAnimator.java:1069)\n    at android.animation.ValueAnimator.start(ValueAnimator.java:1088)\n    at android.animation.ObjectAnimator.start(ObjectAnimator.java:852)\n    at android.animation.StateListAnimator.start(StateListAnimator.java:188)\n    at android.animation.StateListAnimator.setState(StateListAnimator.java:181)\n    at android.view.View.drawableStateChanged(View.java:21105)\n    at android.view.ViewGroup.drawableStateChanged(ViewGroup.java:7101)\n    at com.google.android.material.appbar.AppBarLayout.drawableStateChanged(AppBarLayout.java:393)\n    at android.view.View.refreshDrawableState(View.java:21160)\n    at android.view.View.dispatchAttachedToWindow(View.java:18379)\n    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3397)\n    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3404)\n    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3404)\n    at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3404)\n    at android.view.AttachInfo_Accessor.setAttachInfo(AttachInfo_Accessor.java:42)\n    at com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:335)\n    at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:391)\n    at com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:195)\n    at com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:540)\n    at com.android.tools.idea.rendering.RenderTask.lambda$inflate$5(RenderTask.java:666)\n    at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"}, {"tags": ["java", "function", "kotlin", "lambda"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6935294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TJ8i.jpg?s=128&g=1", "display_name": "GenerationTech", "link": "https://stackoverflow.com/users/6935294/generationtech"}, "edited": false, "score": 0, "creation_date": 1559150506, "post_id": 56365529, "comment_id": 99334520, "body": "Ugh, OK. Seems arbitrary and inconsistent, but I got it now. Thanks!"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1559151135, "post_id": 56365529, "comment_id": 99334813, "body": "That link doesn&#39;t explain <i>why</i> it&#39;s allowed, which is AIUI to allow higher-order function calls that look like language syntax.  For example, <code>repeat\u00a0(10)\u00a0{\u00a0&#47;*...*&#47;\u00a0}</code> looks comparable to a <code>for</code> or <code>while</code> loop."}, {"owner": {"reputation": 741, "user_id": 2425683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/215ad9102474c439dc778f6db4a2520c?s=128&d=identicon&r=PG", "display_name": "Diego Magdaleno", "link": "https://stackoverflow.com/users/2425683/diego-magdaleno"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1559152319, "post_id": 56365529, "comment_id": 99335259, "body": "@gidds In fact, this is described just a few lines down: <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#returning-a-value-from-a-lambda-expression\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1559154792, "post_id": 56365529, "comment_id": 99336284, "body": "I&#39;m not familiar with LINQ, but I don&#39;t think the example there provides as strong an example as mine :-)"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "reply_to_user": {"reputation": 47, "user_id": 6935294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TJ8i.jpg?s=128&g=1", "display_name": "GenerationTech", "link": "https://stackoverflow.com/users/6935294/generationtech"}, "edited": false, "score": 1, "creation_date": 1559154942, "post_id": 56365529, "comment_id": 99336348, "body": "@GenerationTech This is a common pre-existing idiom adopted from languages such as Ruby and Groovy."}], "tags": [], "owner": {"reputation": 741, "user_id": 2425683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/215ad9102474c439dc778f6db4a2520c?s=128&d=identicon&r=PG", "display_name": "Diego Magdaleno", "link": "https://stackoverflow.com/users/2425683/diego-magdaleno"}, "is_accepted": true, "score": 2, "last_activity_date": 1559149804, "creation_date": 1559149804, "answer_id": 56365529, "question_id": 56365458, "link": "https://stackoverflow.com/questions/56365458/with-higher-order-functions-in-kotlin-why-are-lambdas-shown-outside-of-other-fu/56365529#56365529", "title": "With higher-order functions in Kotlin, why are lambdas shown outside of other function parameters?", "body": "<p>In Kotlin, there is a convention that if the last parameter of a function accepts a function, a lambda expression that is passed as the corresponding argument can be placed outside the parentheses.</p>\n\n<p>Source: <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#passing-a-lambda-to-the-last-parameter\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html#passing-a-lambda-to-the-last-parameter</a></p>\n"}], "owner": {"reputation": 47, "user_id": 6935294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TJ8i.jpg?s=128&g=1", "display_name": "GenerationTech", "link": "https://stackoverflow.com/users/6935294/generationtech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 1, "accepted_answer_id": 56365529, "answer_count": 1, "score": 0, "last_activity_date": 1559149804, "creation_date": 1559149509, "question_id": 56365458, "link": "https://stackoverflow.com/questions/56365458/with-higher-order-functions-in-kotlin-why-are-lambdas-shown-outside-of-other-fu", "title": "With higher-order functions in Kotlin, why are lambdas shown outside of other function parameters?", "body": "<p>In some training I'm reviewing, I don't understand exactly how an example higher-order function and lambda are connected through syntax</p>\n\n<p>This higher-order Kotlin function</p>\n\n<pre><code>fun myWith(name: String, block: String.() -&gt; Unit) {\n  name.block()\n}\n</code></pre>\n\n<p>Is invoked like this</p>\n\n<pre><code>myWith(fish.name) {\n  capitalize()\n}\n\n</code></pre>\n\n<p>I understand the second part is a lambda but I don't understand why it's not included as a second parameter to the function and just hung outside of the parameters. Like why is it not invoked as:</p>\n\n<pre><code>myWith(fish.name, { capitalize() } )\n</code></pre>\n\n<p>Later a more verbose description of the example is shown as</p>\n\n<pre><code>myWith(fish.name, object : Function1&lt;String, Unit&gt; {\n  override fun invoke(name: String) {\n    name.capitalize()\n  }\n})\n</code></pre>\n\n<p>Which IS including the lambda inside the normal list of parameters to <code>myWith</code></p>\n"}, {"tags": ["java", "android", "kotlin"], "owner": {"reputation": 43, "user_id": 10125613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f2d7db683735f0eaf43e0db45cbbc2?s=128&d=identicon&r=PG&f=1", "display_name": "dmelton_", "link": "https://stackoverflow.com/users/10125613/dmelton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1559146492, "creation_date": 1559146492, "question_id": 56364742, "link": "https://stackoverflow.com/questions/56364742/broadcast-receiver-with-bluetoothadapter-action-state-changed-action-oreo", "title": "Broadcast Receiver with BluetoothAdapter.ACTION_STATE_CHANGED Action (Oreo)", "body": "<p>My Android app has a targetsdk version of 28, and I have been reading that Broadcast Receivers are more restricted with version 27 and up. With that being said, I have been trying to catch when Bluetooth is turned on and off with a Broadcast Receiver. It works more than fine when the app is opened, but when I clear it out of my recents, I no longer receive my toast and log messages. I am just not sure on how I would keep the receiver running even without me ever having the app opened. (I left out all of the unnecessary code from the main activity)</p>\n\n<p><strong>Android Manifest.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=\"android.permission.BLUETOOTH\"/&gt;\n\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;service android:name=\".NotificationsMessagingService\"&gt;\n            &lt;intent-filter android:priority=\"1\"&gt;\n                &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;receiver android:name=\".BReceivers\" android:exported=\"true\" android:enabled=\"true\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.bluetooth.adapter.action.STATE_CHANGED\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n</code></pre>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n    }\n}\n</code></pre>\n\n<p><strong>BReceivers.kt</strong></p>\n\n<pre><code>import android.bluetooth.BluetoothAdapter\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.util.Log\nimport android.widget.Toast\n\nclass BReceivers : BroadcastReceiver() {\n    companion object {\n        const val TAG = \"Bluetoooth\"\n    }\n\n    override fun onReceive(context: Context?, intent: Intent?) {\n\n        if (intent?.action.equals(BluetoothAdapter.ACTION_STATE_CHANGED)) {\n            when(intent?.getIntExtra(BluetoothAdapter.EXTRA_STATE, BluetoothAdapter.ERROR)) {\n                BluetoothAdapter.STATE_OFF -&gt; Log.d(TAG, \"Bluetooth is OFF\")\n                BluetoothAdapter.STATE_TURNING_OFF -&gt;  Toast.makeText(context, \"Bluetooth is turning off\", Toast.LENGTH_LONG).show()\n                BluetoothAdapter.STATE_ON -&gt;  Log.d(TAG, \"Bluetooth is ON\")\n                BluetoothAdapter.STATE_TURNING_ON -&gt;  Toast.makeText(context, \"Bluetooth is turning ON\", Toast.LENGTH_LONG).show()\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "flyway", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 401, "user_id": 2787886, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5a5d159905fc98892b01ce0bde811ace?s=128&d=identicon&r=PG&f=1", "display_name": "spyro", "link": "https://stackoverflow.com/users/2787886/spyro"}, "edited": false, "score": 0, "creation_date": 1578420935, "post_id": 56364526, "comment_id": 105430014, "body": "Doesn&#39;t seem to work for me, &quot;flyway {...}&quot; is still unrecognized. EDIT: Had to update the &#39;script context&#39; (whatever this might be). Now it works."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 8, "last_activity_date": 1559145637, "creation_date": 1559145637, "answer_id": 56364526, "question_id": 56363888, "link": "https://stackoverflow.com/questions/56363888/flyway-and-gradle-kotlin-dsl/56364526#56364526", "title": "Flyway and gradle kotlin dsl", "body": "<p>The code in the block is almost exactly the same in Kotlin as in Groovy, with two exceptions for what you have above:</p>\n\n<ul>\n<li>Use double-quotes instead of single-quotes for the strings.</li>\n<li>Use <code>arrayOf</code> instead of <code>[...]</code> for the array for the <code>locations</code> property.</li>\n</ul>\n\n<p>In other words it would look as follows:</p>\n\n<pre><code>flyway {\n    url = System.getenv(\"DB_URL\")\n    user = System.getenv(\"DB_USER\")\n    password = System.getenv(\"DB_PASSWORD\")\n    baselineOnMigrate = true\n    locations = arrayOf(\"filesystem: resources / db / migration\")\n}\n</code></pre>\n\n<p>Bear in mind that for the build file to understand the <code>flyway</code> function (and for the IDE to give you intellisense for what options are available in the block, etc.) you need to apply the Flyway plugin using the <a href=\"https://docs.gradle.org/current/userguide/plugins.html#sec:plugins_block\" rel=\"noreferrer\">Gradle Plugins DSL</a>, as follows at the top of your <code>build.gradle.kts</code> file:</p>\n\n<pre><code>plugins {\n    id(\"org.flywaydb.flyway\") version \"5.2.4\"\n}\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 9910654, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hRoyXFDnkPo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq09IaNybHiPDJ2argdD2c-JdOauEQ/mo/photo.jpg?sz=128", "display_name": "Rodrigo Batista", "link": "https://stackoverflow.com/users/9910654/rodrigo-batista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1515, "favorite_count": 0, "accepted_answer_id": 56364526, "answer_count": 1, "score": 5, "last_activity_date": 1559145637, "creation_date": 1559143308, "question_id": 56363888, "link": "https://stackoverflow.com/questions/56363888/flyway-and-gradle-kotlin-dsl", "title": "Flyway and gradle kotlin dsl", "body": "<p>I'm migrating from Gradle to Gradle Kotlin DSL, and I have a question.\nHave</p>\n\n<pre><code>flyway {\n    url = System.getenv ('DB_URL')\n    user = System.getenv ('DB_USER')\n    password = System.getenv ('DB_PASSWORD')\n    baselineOnMigrate = true\n    locations = [\"filesystem: resources / db / migration\"]\n}\n</code></pre>\n\n<p>In Gradle.</p>\n\n<p>How would you look in Kotlin DSL?</p>\n"}, {"tags": ["java", "kotlin", "rx-java", "rx-java2", "rx-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2601, "user_id": 1271255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab0265d56be80e8c33f586d8aad6dd1?s=128&d=identicon&r=PG", "display_name": "minus", "link": "https://stackoverflow.com/users/1271255/minus"}, "is_accepted": true, "score": 3, "last_activity_date": 1559144516, "last_edit_date": 1559144516, "creation_date": 1559140738, "answer_id": 56363137, "question_id": 56362602, "link": "https://stackoverflow.com/questions/56362602/take-elements-until-a-certain-character-and-group-them-with-rxjava/56363137#56363137", "title": "Take elements until a certain character and group them with RxJava", "body": "<p>You can use the <em>buffer</em> operator.</p>\n\n<pre><code>PublishSubject&lt;Token&lt;Integer&gt;&gt; s = PublishSubject.create();\n\nObservable&lt;Token&lt;Integer&gt;&gt; markers = s.filter(x-&gt;x.isMarker());\n\ns.buffer(markers).subscribe(\n    v-&gt;{\n        Optional&lt;Integer&gt; reduce = v.stream()\n            .filter(t-&gt;!t.isMarker())\n            .map(t-&gt;(ValueToken&lt;Integer&gt;)t)\n            .map(ValueToken::get)\n            .reduce((a,b)-&gt;a+b);\n        reduce.ifPresent(System.out::println);\n    }\n);\n\ns.onNext(value(12));\ns.onNext(value(13));\ns.onNext(marker()); // will emit 25\n\ns.onNext(value(10));\ns.onNext(value(7));\ns.onNext(marker()); // will emit 17\n\ns.onNext(value(10));\ns.onNext(value(7)); // Not emitting yet\n</code></pre>\n\n<p>I made a class to wrap both values and markers in the flow.</p>\n\n<pre><code>public abstract class Token&lt;T&gt; {\n    private static final MarkerToken MARKER = new MarkerToken&lt;&gt;();\n\n    public boolean isMarker() {\n        return false;\n    }\n\n    public static &lt;T&gt; MarkerToken&lt;T&gt; marker() {\n        return MARKER;\n    }\n\n    public static &lt;T&gt; ValueToken&lt;T&gt; value(T o) {\n        return new ValueToken&lt;&gt;(o);\n    }\n\n    public static class ValueToken&lt;T&gt; extends Token&lt;T&gt; {\n        T value;\n\n        public ValueToken(T value) {\n            this.value = value;\n        }\n\n        public T get() {\n            return value;\n        }\n    }\n\n    public static class MarkerToken&lt;T&gt; extends Token&lt;T&gt; {\n        public boolean isMarker() {\n            return true;\n        }\n    }\n\n}\n</code></pre>\n\n<h2>update (using scan)</h2>\n\n<p>The previous method would emit also on the closing of the stream, with this solution you can emit <strong>only</strong> complete buffers.</p>\n\n<p>The message class function as an accumulator, it will accumulate tokens until closing marker is accumulated.</p>\n\n<p>When this happens the <em>next</em> message will start from scratch.</p>\n\n<p>The presence of the closing mark as last element <em>marks</em> the message as complete.</p>\n\n<pre><code>public static class Message&lt;T&gt; {\n    List&lt;Token&lt;T&gt;&gt; tokens = new ArrayList&lt;&gt;();\n\n    public Message&lt;T&gt; append(Token&lt;T&gt; t) {\n\n        Message&lt;T&gt; mx = new Message&lt;T&gt;();\n        if(!isComplete()) {\n            mx.tokens.addAll(tokens);\n        }\n        mx.tokens.add(t);\n        return mx;\n    }\n\n    public boolean isComplete() {\n        int n = tokens.size();\n        return n&gt;0 &amp;&amp; tokens.get(n-1).isMarker();\n    }\n\n    public Optional&lt;List&lt;Token&lt;T&gt;&gt;&gt; fullMessage(){\n        return isComplete() ? Optional.of(tokens):Optional.empty(); \n    }\n}\n</code></pre>\n\n<p>Scanning the source you emit a message for each token emitted, then you filter out incomplete message and emit just the one marked as complete.</p>\n\n<pre><code>    s.scan(new Message&lt;Integer&gt;(), (a, b) -&gt; a.append(b))\n        .filter(Message::isComplete)\n        .map(Message::fullMessage)\n        .map(Optional::get).subscribe(v -&gt; {\n            System.out.println(v);\n        });\n\n    s.onNext(value(12));\n    s.onNext(value(13));\n    s.onNext(marker());// [V(12), V(13), MARKER]\n\n    s.onNext(value(10));\n    s.onNext(value(7));\n    s.onNext(marker()); // [V(10), V(7), MARKER]\n\n\n\n    s.onNext(value(10));\n    s.onNext(value(127));\n\n    s.onComplete(); // Not emitting incomplete messages on the closing of the subject.\n</code></pre>\n"}], "owner": {"reputation": 870, "user_id": 776141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b71c5be5e72e40a0901a2f893535b5e7?s=128&d=identicon&r=PG", "display_name": "Siebe", "link": "https://stackoverflow.com/users/776141/siebe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 56363137, "answer_count": 1, "score": 3, "last_activity_date": 1559144516, "creation_date": 1559139125, "question_id": 56362602, "link": "https://stackoverflow.com/questions/56362602/take-elements-until-a-certain-character-and-group-them-with-rxjava", "title": "Take elements until a certain character and group them with RxJava", "body": "<p>I have a simple setup to a problem but the solution seems to be more complicated.</p>\n\n<p>Setup: I have a hot observable which originates from a scanner that will emit every number as a different element and an <code>R</code> when a code is complete.</p>\n\n<p>Problem: From this I want a hot observable that emits every full code as 1 element.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Rh5Xg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rh5Xg.png\" alt=\"RxMarbles example\"></a></p>\n\n<p>I tried playing around with different <code>flatMap</code>, <code>takeUntil</code> and <code>groupBy</code>operators but haven't been able to come to a solution.</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-livedata"], "answers": [{"tags": [], "owner": {"reputation": 2691, "user_id": 202059, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d7PGT.jpg?s=128&g=1", "display_name": "cmaynard", "link": "https://stackoverflow.com/users/202059/cmaynard"}, "is_accepted": false, "score": 0, "last_activity_date": 1559148419, "creation_date": 1559148419, "answer_id": 56365209, "question_id": 56362246, "link": "https://stackoverflow.com/questions/56362246/unable-to-access-value-from-transformations-map-in-unit-test/56365209#56365209", "title": "Unable to access value from `Transformations.map` in unit test", "body": "<p>Looks like you're missing the <code>.value</code> on the it variable.</p>\n\n<pre><code>private val currentQuestion: LiveData&lt;Question&gt; = Transformations.map(state) {\n        (it.value as? QuestionState.Loaded)?.question\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8617, "user_id": 3114, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0fcc606c525ff7c0b9d9f51738abc6db?s=128&d=identicon&r=PG", "display_name": "Brian Stewart", "link": "https://stackoverflow.com/users/3114/brian-stewart"}, "edited": false, "score": 0, "creation_date": 1567565981, "post_id": 57082430, "comment_id": 101996214, "body": "It works because Transformations don&#39;t work without an observer. When you reference the LiveData&lt;Question&gt; property in your view, you typically observe it, and if you&#39;re using Data Binding then the code to observe it is written for you."}], "tags": [], "owner": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "is_accepted": false, "score": 4, "last_activity_date": 1563389757, "last_edit_date": 1563389757, "creation_date": 1563389303, "answer_id": 57082430, "question_id": 56362246, "link": "https://stackoverflow.com/questions/56362246/unable-to-access-value-from-transformations-map-in-unit-test/57082430#57082430", "title": "Unable to access value from `Transformations.map` in unit test", "body": "<p>I recently had the same problem, I've solved it by adding a mocked observer to the LiveData:</p>\n\n<pre><code> @Mock\n private lateinit var observer: Observer&lt;Question&gt;\n\n init {\n    initMocks(this)\n }\n\n fun `test using mocked observer`() {\n\n    viewModel.currentQuestion.observeForever(observer)\n\n    // ***************** Access currentQuestion.value here *****************\n\n    viewModel.questionTitle.removeObserver(observer)\n }\n\nfun `test using empty observer`() {\n\n    viewModel.currentQuestion.observeForever {}\n\n    // ***************** Access currentQuestion.value here *****************\n }\n</code></pre>\n\n<p>Not sure how it works exactly or the consequences of not removing the empty observer the after test.</p>\n\n<p>Also, make sure to import the right Observer class. If you're using AndroidX:</p>\n\n<pre><code>import androidx.lifecycle.Observer\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8617, "user_id": 3114, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0fcc606c525ff7c0b9d9f51738abc6db?s=128&d=identicon&r=PG", "display_name": "Brian Stewart", "link": "https://stackoverflow.com/users/3114/brian-stewart"}, "is_accepted": false, "score": 0, "last_activity_date": 1567568580, "creation_date": 1567568580, "answer_id": 57781206, "question_id": 56362246, "link": "https://stackoverflow.com/questions/56362246/unable-to-access-value-from-transformations-map-in-unit-test/57781206#57781206", "title": "Unable to access value from `Transformations.map` in unit test", "body": "<p>Luciano is correct, it's because the LiveData is not being observed. Here is a Kotlin utility class to help with this.</p>\n\n<pre><code>class LiveDataObserver&lt;T&gt;(private val liveData: LiveData&lt;T&gt;): Closeable {\n    private val observer: Observer&lt;T&gt; = mock()\n    init {\n        liveData.observeForever(observer)\n    }\n    override fun close() {\n        liveData.removeObserver(observer)\n    }\n}\n\n// to use:\nLiveDataObserver(unit.someLiveData).use {\n    assertFalse(unit.someLiveData.value!!)\n}\n</code></pre>\n"}], "owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1567568580, "creation_date": 1559137996, "last_edit_date": 1559139450, "question_id": 56362246, "link": "https://stackoverflow.com/questions/56362246/unable-to-access-value-from-transformations-map-in-unit-test", "title": "Unable to access value from `Transformations.map` in unit test", "body": "<p>To give some background to this question, I have a ViewModel that waits for some data, posts it to a MutableLiveData, and then exposes all the values through some properties. Here's a short gist of what that looks like: </p>\n\n<pre><code>class QuestionViewModel {\n\n    private val state = MutableLiveData&lt;QuestionState&gt;()\n\n    private val currentQuestion: Question?\n        get() = (state.value as? QuestionState.Loaded)?.question\n\n    val questionTitle: String\n        get() = currentQuestion?.title.orEmpty()\n\n    ...\n}\n</code></pre>\n\n<p>Then, in my test, I mock the data and just run an assertEquals check:</p>\n\n<pre><code>assertEquals(\"TestTitle\", viewModel.questionTitle)\n</code></pre>\n\n<p>All of this works fine so far, but I actually want my fragment to observe for when the current question changes. So, I tried changing it around to use <code>Transformations.map</code>:</p>\n\n<pre><code>class QuestionViewModel {\n\n    private val state = MutableLiveData&lt;QuestionState&gt;()\n\n    private val currentQuestion: LiveData&lt;Question&gt; = Transformations.map(state) {\n        (it as? QuestionState.Loaded)?.question\n    }\n\n    val questionTitle: String\n        get() = currentQuestion.value?.title.orEmpty()\n\n    ...\n}\n</code></pre>\n\n<p>Suddenly, all of my assertions in the test class have failed. I made <code>currentQuestion</code> public and verified that it's value is null in my unit test. I've determined this is the issue because:</p>\n\n<ul>\n<li>I can mock the data and still get the right value from my <code>state</code> LiveData</li>\n<li>I can run my app and see the expected data on the screen, so this issue is specific to my unit test.</li>\n</ul>\n\n<p>I have already added the <code>InstantTaskExecutorRule</code> to my unit test, but maybe that doesn't handle the <code>Transformations</code> methods? </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9320792, "user_type": "registered", "profile_image": "https://graph.facebook.com/673227916400085/picture?type=large", "display_name": "Mustafa Azzurri", "link": "https://stackoverflow.com/users/9320792/mustafa-azzurri"}, "edited": false, "score": 0, "creation_date": 1559136482, "post_id": 56361612, "comment_id": 99326834, "body": "thanks that&#39;s true"}], "tags": [], "owner": {"reputation": 1663, "user_id": 6997819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNXp1.jpg?s=128&g=1", "display_name": "Vir Rajpurohit", "link": "https://stackoverflow.com/users/6997819/vir-rajpurohit"}, "is_accepted": false, "score": 0, "last_activity_date": 1559135956, "creation_date": 1559135956, "answer_id": 56361612, "question_id": 56361548, "link": "https://stackoverflow.com/questions/56361548/error-while-trying-to-pass-location-cordinate-from-a-list-view-to-a-map-activity/56361612#56361612", "title": "error while trying to pass location cordinate from a list view to a map activity", "body": "<pre><code>var long:String = intent.getStringExtra(\"long\")\nvar late:String = intent.getStringExtra(\"late\")\n</code></pre>\n\n<p>Above code should be in onCreate();</p>\n"}, {"tags": [], "owner": {"reputation": 3188, "user_id": 7372771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sESuU.png?s=128&g=1", "display_name": "akshay_shahane", "link": "https://stackoverflow.com/users/7372771/akshay-shahane"}, "is_accepted": false, "score": 0, "last_activity_date": 1559136261, "creation_date": 1559136261, "answer_id": 56361706, "question_id": 56361548, "link": "https://stackoverflow.com/questions/56361548/error-while-trying-to-pass-location-cordinate-from-a-list-view-to-a-map-activity/56361706#56361706", "title": "error while trying to pass location cordinate from a list view to a map activity", "body": "<blockquote>\n<pre><code>   include code inside onCreate() also check if it contain the extra\n</code></pre>\n</blockquote>\n\n<pre><code>oncreate(){\nif(getIntent.hasExtra(\"long\")){\nvar long:String = intent.getStringExtra(\"long\")\n}\nif(getIntent.hasExtra(\"late\")){\nvar late:String = intent.getStringExtra(\"late\")\n}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 3664852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LfdTB.jpg?s=128&g=1", "display_name": "Mitesh Machhoya", "link": "https://stackoverflow.com/users/3664852/mitesh-machhoya"}, "is_accepted": false, "score": 0, "last_activity_date": 1559136508, "creation_date": 1559136508, "answer_id": 56361783, "question_id": 56361548, "link": "https://stackoverflow.com/questions/56361548/error-while-trying-to-pass-location-cordinate-from-a-list-view-to-a-map-activity/56361783#56361783", "title": "error while trying to pass location cordinate from a list view to a map activity", "body": "<p>you can get intent valeu after onCreate() like this way :\ni would also suggest to avoid predefined keyword like long, because long is defined as a datatype</p>\n\n<pre><code>var long:String = intent.getStringExtra(\"long\")\nvar late:String = intent.getStringExtra(\"late\")\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9320792, "user_type": "registered", "profile_image": "https://graph.facebook.com/673227916400085/picture?type=large", "display_name": "Mustafa Azzurri", "link": "https://stackoverflow.com/users/9320792/mustafa-azzurri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "closed_date": 1560283927, "answer_count": 3, "score": -1, "last_activity_date": 1559136508, "creation_date": 1559135763, "last_edit_date": 1559136310, "question_id": 56361548, "link": "https://stackoverflow.com/questions/56361548/error-while-trying-to-pass-location-cordinate-from-a-list-view-to-a-map-activity", "closed_reason": "Duplicate", "title": "error while trying to pass location cordinate from a list view to a map activity", "body": "<p>i have a list view contains the locations coordinate (late,long) and i'm trying to pass them to a map activity to show it on map </p>\n\n<p>this is on android studio and Kotlin</p>\n\n<pre><code>listView.setOnItemClickListener { parent, view, position, id -&gt;\n\n        val time = usersList.get(position).time\n        val long:String = usersList.get(position).long\n        val late :String = usersList.get(position).late\nstartActivity(Intent(this, MapsActivity2::class.java).putExtra(\"long\",long).putExtra(\"late\",late))\n}\n</code></pre>\n\n<hr>\n\n<pre><code>class MapsActivity2 : AppCompatActivity(), OnMapReadyCallback {\n\nprivate lateinit var mMap: GoogleMap\n\nvar long:String = intent.getStringExtra(\"long\")\nvar late:String = intent.getStringExtra(\"late\")\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_maps2)\n\n\n    // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n    val mapFragment = supportFragmentManager\n        .findFragmentById(R.id.map) as SupportMapFragment\n    mapFragment.getMapAsync(this)\n}\n\n\noverride fun onMapReady(googleMap: GoogleMap) {\n    mMap = googleMap\n\n    // Add a marker in Sydney and move the camera\n    val sydney = LatLng(long.toDouble(), late.toDouble())\n    mMap.addMarker(MarkerOptions().position(sydney).title(\"jh\"))\n    mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney))\n}\n}\n</code></pre>\n\n<blockquote>\n  <p>Process: com.example.firebase, PID: 32463\n      java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.firebase/com.example.firebase.MapsActivity2}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Intent.getStringExtra(java.lang.String)' on a null object reference\n          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3289)\n          at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3548)\n          at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86)\n          at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n          at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2155)\n          at android.os.Handler.dispatchMessage(Handler.java:109)\n          at android.os.Looper.loop(Looper.java:207)\n          at android.app.ActivityThread.main(ActivityThread.java:7539)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:958)\n       Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Intent.getStringExtra(java.lang.String)' on a null object reference\n          at com.example.firebase.MapsActivity2.(MapsActivity2.kt:19)\n          at java.lang.Class.newInstance(Native Method)\n          at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:69)\n          at android.support.v4.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:43)\n          at android.app.Instrumentation.newActivity(Instrumentation.java:1224)\n          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3274)</p>\n</blockquote>\n"}, {"tags": ["java", "android", "listview", "android-activity", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 28, "user_id": 11283541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3099e68243069e7364a49999aa6e320c?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/11283541/dan"}, "is_accepted": true, "score": 0, "last_activity_date": 1559136614, "creation_date": 1559136614, "answer_id": 56361808, "question_id": 56361469, "link": "https://stackoverflow.com/questions/56361469/how-to-change-activity-image-and-text-according-to-listview-item-click-in-androi/56361808#56361808", "title": "How to change activity image and text according to listview item click in android studio ? java or kotlin", "body": "<p>Try to use arrays for your images and strings</p>\n\n<pre><code>String text[] = {\"Text 1\", \"Text 2\", \"Text 3\", ..............}\nint[] images = {R.drawable.image1, R.drawable.image2, R.drawable.image3, ..............}\n</code></pre>\n\n<p>Then on your listview's OnItemClickListener;</p>\n\n<pre><code>listView.setOnItemClickListener(new AdapterView.OnItemClickListener() { \n      @Override \n      public void onItemClick(AdapterView&lt;?&gt; parent, View view,int position, long id) { \n      yourTextView.setText(text[position]);\n      yourImageView.setImageResource(images[position]);\n      } \n });\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11573049, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f2krmIQps-o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re4vmciQV-9YAtZl22O5Xly9eUkag/mo/photo.jpg?sz=128", "display_name": "sudan banjade", "link": "https://stackoverflow.com/users/11573049/sudan-banjade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 56361808, "answer_count": 1, "score": 0, "last_activity_date": 1559145240, "creation_date": 1559135475, "last_edit_date": 1559145240, "question_id": 56361469, "link": "https://stackoverflow.com/questions/56361469/how-to-change-activity-image-and-text-according-to-listview-item-click-in-androi", "title": "How to change activity image and text according to listview item click in android studio ? java or kotlin", "body": "<p>I'm making an android application for information of different places. There are more than 200 places. So creating each activity for each place is hard. So how can I change information of single activity according to listview item clicked?</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "android-mvp"], "comments": [{"owner": {"reputation": 789, "user_id": 7868795, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/471c6f01b994a5aadf85dc6cfec40fc4?s=128&d=identicon&r=PG", "display_name": "Ra&#39;Jiska", "link": "https://stackoverflow.com/users/7868795/rajiska"}, "edited": false, "score": 1, "creation_date": 1559133910, "post_id": 56360749, "comment_id": 99325213, "body": "Have you tried to restart your router ?"}], "answers": [{"tags": [], "owner": {"reputation": 396, "user_id": 3664852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LfdTB.jpg?s=128&g=1", "display_name": "Mitesh Machhoya", "link": "https://stackoverflow.com/users/3664852/mitesh-machhoya"}, "is_accepted": true, "score": 2, "last_activity_date": 1559133309, "creation_date": 1559133309, "answer_id": 56360793, "question_id": 56360749, "link": "https://stackoverflow.com/questions/56360749/should-i-refactor-code-for-unit-testing-in-mvp-android/56360793#56360793", "title": "Should I refactor code for unit testing in mvp android?", "body": "<p>your code is fine as per the MVP Architecture, you need not refactor the code. Your code is also testable in unit testing.</p>\n"}], "owner": {"reputation": 53, "user_id": 8398469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb476b652e33b7a58bb3d41424c8ba7?s=128&d=identicon&r=PG&f=1", "display_name": "oumaya saratoon", "link": "https://stackoverflow.com/users/8398469/oumaya-saratoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 56360793, "answer_count": 1, "score": 0, "last_activity_date": 1559133309, "creation_date": 1559133175, "question_id": 56360749, "link": "https://stackoverflow.com/questions/56360749/should-i-refactor-code-for-unit-testing-in-mvp-android", "title": "Should I refactor code for unit testing in mvp android?", "body": "<p>I made an mvp application in kotlin and in each function of my presenter I call a view method so should I refactor my code for unit-testing or i just let this like that?</p>\n\n<p>For exemple i have a function that make a regex</p>\n\n<pre><code>private fun checkPassword(isRegister: Boolean, pass: String, confirmPass: String): Boolean {\n    val regex = Regex(\"^(?=.{8,}\\$)(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[0-9])\")\n    if (isRegister) {\n        if (pass != confirmPass) {\n            loginView.showNotMatchingPassword() // display an alert on a inputtext\n            return false\n        }\n        if (!pass.contains(regex)) {\n            loginView.showInvalidPassword() // display an alert on a inputtext\n            return false\n        }\n    }\n    return true\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "navigation", "android-architecture-navigation"], "answers": [{"comments": [{"owner": {"reputation": 158, "user_id": 2166903, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nirBU.jpg?s=128&g=1", "display_name": "Cembora", "link": "https://stackoverflow.com/users/2166903/cembora"}, "edited": false, "score": 3, "creation_date": 1579949679, "post_id": 56373451, "comment_id": 105942713, "body": "Also, it has not to be in &quot;action&quot; tag."}, {"owner": {"reputation": 699, "user_id": 4372851, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh6.googleusercontent.com/-Fz-BnmAohaM/AAAAAAAAAAI/AAAAAAAAHts/2ACPIBcQ8Ts/photo.jpg?sz=128", "display_name": "najm", "link": "https://stackoverflow.com/users/4372851/najm"}, "edited": false, "score": 0, "creation_date": 1607628242, "post_id": 56373451, "comment_id": 115339537, "body": "Thanks for this! This really is not that clear in the documentation..."}], "tags": [], "owner": {"reputation": 1645, "user_id": 2654612, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jCMGf.jpg?s=128&g=1", "display_name": "MorZa", "link": "https://stackoverflow.com/users/2654612/morza"}, "is_accepted": true, "score": 24, "last_activity_date": 1559200414, "creation_date": 1559200414, "answer_id": 56373451, "question_id": 56360689, "link": "https://stackoverflow.com/questions/56360689/navigation-architecture-component-destinationfragmentargs-is-not-generated/56373451#56373451", "title": "Navigation Architecture Component - DestinationFragmentArgs is not generated", "body": "<p>Ok, so after a lot of searching I found out my mistake - \nthe arguments should be on the <strong>Destination</strong> fragment, and not on the starting one:</p>\n\n<pre><code>&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/navigation_graph\"\n    app:startDestination=\"@id/loginPhoneNumberFragment\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/loginPhoneNumberFragment\"\n        android:name=\"...fragments.LoginPhoneNumberFragment\"\n        android:label=\"@string/login_activity_title\"\n        tools:layout=\"@layout/fragment_login_phone_number\"&gt;\n        &lt;action\n            android:id=\"@+id/action_loginPhoneNumberFragment_to_loginCodeFragment\"\n            app:destination=\"@id/loginCodeFragment\"&gt;\n        &lt;/action&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n        android:id=\"@+id/loginCodeFragment\"\n        android:name=\"...fragments.LoginCodeFragment\"\n        android:label=\"@string/login_activity_title\"\n        tools:layout=\"@layout/fragment_login_code\" &gt;\n        &lt;argument\n            android:name=\"prefix\"\n            app:argType=\"string\"\n            android:defaultValue=\"888\" /&gt;\n        &lt;argument\n            android:name=\"phone_number\"\n            app:argType=\"string\"\n            android:defaultValue=\"88888888\"/&gt;\n    &lt;/fragment&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n\n<p>You can also add it manually via the navigation graph design - press on the destination fragment and press \"+\" on the arguments section, it will add it to the text file.</p>\n"}, {"tags": [], "owner": {"reputation": 1533, "user_id": 2812453, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d7aa7e173639f8426afdfbcc10c24766?s=128&d=identicon&r=PG&f=1", "display_name": "Vinil Chandran", "link": "https://stackoverflow.com/users/2812453/vinil-chandran"}, "is_accepted": false, "score": 3, "last_activity_date": 1567915382, "creation_date": 1567915382, "answer_id": 57839095, "question_id": 56360689, "link": "https://stackoverflow.com/questions/56360689/navigation-architecture-component-destinationfragmentargs-is-not-generated/57839095#57839095", "title": "Navigation Architecture Component - DestinationFragmentArgs is not generated", "body": "<p>The argument should be in the destination fragment as follows instead of inside the action in source fragment</p>\n\n<pre><code>&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/navigation_graph\"\n    app:startDestination=\"@id/loginPhoneNumberFragment\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/loginPhoneNumberFragment\"\n        android:name=\"...fragments.LoginPhoneNumberFragment\"\n        android:label=\"@string/login_activity_title\"\n        tools:layout=\"@layout/fragment_login_phone_number\"&gt;\n        &lt;action\n            android:id=\"@+id/action_loginPhoneNumberFragment_to_loginCodeFragment\"\n            app:destination=\"@id/loginCodeFragment\"/&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n        android:id=\"@+id/loginCodeFragment\"\n        android:name=\"...LoginCodeFragment\"\n        android:label=\"@string/login_activity_title\"\n        tools:layout=\"@layout/fragment_login_code\"&gt;\n            &lt;argument\n                android:name=\"prefix\"\n                app:argType=\"string\" /&gt;\n            &lt;argument\n                android:name=\"phone_number\"\n                app:argType=\"string\" /&gt;\n     &lt;/fragment&gt;\n&lt;/navigation&gt;\n</code></pre>\n"}], "owner": {"reputation": 1645, "user_id": 2654612, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jCMGf.jpg?s=128&g=1", "display_name": "MorZa", "link": "https://stackoverflow.com/users/2654612/morza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2551, "favorite_count": 2, "accepted_answer_id": 56373451, "answer_count": 2, "score": 8, "last_activity_date": 1567915382, "creation_date": 1559133037, "last_edit_date": 1559212056, "question_id": 56360689, "link": "https://stackoverflow.com/questions/56360689/navigation-architecture-component-destinationfragmentargs-is-not-generated", "title": "Navigation Architecture Component - DestinationFragmentArgs is not generated", "body": "<p>I have this in app gradle:</p>\n\n<pre><code>apply plugin: 'androidx.navigation.safeargs'\n\nimplementation 'android.arch.navigation:navigation-fragment-ktx:1.0.0'\nimplementation 'android.arch.navigation:navigation-ui-ktx:1.0.0'\n</code></pre>\n\n<p>and this in the project gradle:</p>\n\n<pre><code>classpath 'android.arch.navigation:navigation-safe-args-gradle-plugin:1.0.0'\n</code></pre>\n\n<p>the navigation graph:</p>\n\n<pre><code>&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/navigation_graph\"\n    app:startDestination=\"@id/loginPhoneNumberFragment\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/loginPhoneNumberFragment\"\n        android:name=\"...fragments.LoginPhoneNumberFragment\"\n        android:label=\"@string/login_activity_title\"\n        tools:layout=\"@layout/fragment_login_phone_number\"&gt;\n        &lt;action\n            android:id=\"@+id/action_loginPhoneNumberFragment_to_loginCodeFragment\"\n            app:destination=\"@id/loginCodeFragment\"&gt;\n            &lt;argument\n                android:name=\"prefix\"\n                app:argType=\"string\" /&gt;\n            &lt;argument\n                android:name=\"phone_number\"\n                app:argType=\"string\" /&gt;\n        &lt;/action&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n        android:id=\"@+id/loginCodeFragment\"\n        android:name=\"...LoginCodeFragment\"\n        android:label=\"@string/login_activity_title\"\n        tools:layout=\"@layout/fragment_login_code\" /&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n\n<p>LoginPhoneNumberFragment:</p>\n\n<pre><code>val action = LoginPhoneNumberFragmentDirections.actionLoginPhoneNumberFragmentToLoginCodeFragment(prefix, phoneNumber)\nview?.findNavController()?.navigate(action)\n</code></pre>\n\n<p>LoginCodeFragment:</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        val prefix = LoginCodeFragmentArgs.fromBundle(arguments).prefix //LoginCodeFragmentArgs is not recognized\n\n    }\n</code></pre>\n\n<p>In the LoginPhoneNumberFragment it creates the \"LoginPhoneNumberFragmentDirections\" class, but on the destination class, LoginCodeFragment, it doesn't recognize \"LoginCodeFragmentArgs\".</p>\n\n<p>Can someone please tell me what am I missing?\n(I cleaned and rebuilded, and tried Invalidate caches...)</p>\n"}, {"tags": ["java", "android", "kotlin", "robolectric"], "comments": [{"owner": {"reputation": 1340, "user_id": 1334330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/014b4e0a1331f7f61897d3a5893d12af?s=128&d=identicon&r=PG", "display_name": "Patrick W", "link": "https://stackoverflow.com/users/1334330/patrick-w"}, "edited": false, "score": 0, "creation_date": 1559134536, "post_id": 56360407, "comment_id": 99325569, "body": "You should share both results in your excerpts. The output you expect and the output from the <code>Robolectric</code> framework."}, {"owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "reply_to_user": {"reputation": 1340, "user_id": 1334330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/014b4e0a1331f7f61897d3a5893d12af?s=128&d=identicon&r=PG", "display_name": "Patrick W", "link": "https://stackoverflow.com/users/1334330/patrick-w"}, "edited": false, "score": 0, "creation_date": 1559134632, "post_id": 56360407, "comment_id": 99325629, "body": "@PatrickW Updated"}, {"owner": {"reputation": 1340, "user_id": 1334330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/014b4e0a1331f7f61897d3a5893d12af?s=128&d=identicon&r=PG", "display_name": "Patrick W", "link": "https://stackoverflow.com/users/1334330/patrick-w"}, "edited": false, "score": 0, "creation_date": 1559135232, "post_id": 56360407, "comment_id": 99326017, "body": "Robolectric being a test framework, the expectation is that your input should be consistent with the locale for which you choose. Are you ensuring that your input is consistent with the expected locale?"}], "owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1559134753, "creation_date": 1559132119, "last_edit_date": 1559134614, "question_id": 56360407, "link": "https://stackoverflow.com/questions/56360407/robolectric-how-to-test-dateformat-getbestdatetimepattern", "title": "Robolectric how to test DateFormat.getBestDateTimePattern()", "body": "<p>I have test unit test with Robolectric: </p>\n\n<pre><code>@Test  \n@Config(qualifiers = \"en\")\n</code></pre>\n\n<p>And in tested method something like this:</p>\n\n<pre><code>val locale = context.resources.getString(R.string.language_locale)\nval pattern = android.text.format.DateFormat.getBestDateTimePattern(Locale(locale), \"EEE, d MMM\")\nreturn SimpleDateFormat(pattern, Locale(locale)).format(date)\n</code></pre>\n\n<p>But it looks like Robolectric has problem with that because there is no shadow for DateFormat class and DateFormat.getBestDateTimePattern() giving wrong results. </p>\n\n<p><strong>Any idea how to write unit test for method with  DateFormat.getBestDateTimePattern() without writing shadow for whole class ?</strong></p>\n\n<p>Update:</p>\n\n<p>On real device it looks nice but on Unit Test instead of</p>\n\n<blockquote>\n  <p>Fri, Mar 3</p>\n</blockquote>\n\n<p>result is:</p>\n\n<blockquote>\n  <p>Fri, 3 Mar</p>\n</blockquote>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1559129664, "post_id": 56359512, "comment_id": 99322669, "body": "There&#39;s no difference, under the hood <code>StringBuilder</code> is allocated either way. Only if you&#39;re building <code>String</code> in a loop it&#39;s better to manually create one <code>StringBuilder</code> and <code>concat</code> for each item."}], "answers": [{"tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1559129407, "creation_date": 1559129407, "answer_id": 56359587, "question_id": 56359512, "link": "https://stackoverflow.com/questions/56359512/how-do-i-concatenate-strings-in-kotlin/56359587#56359587", "title": "How do I concatenate Strings in Kotlin?", "body": "<p>That's because the 1. approach comes from java. Of course the compiler knows what's happening but the suggestion is to use it in Kotlin like the 2. point is stated. Using the 2. approach is better because you might get confused with the <code>+</code> (<code>plus()</code>) operator that is used to sum up numbers. </p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1559129723, "creation_date": 1559129723, "answer_id": 56359675, "question_id": 56359512, "link": "https://stackoverflow.com/questions/56359512/how-do-i-concatenate-strings-in-kotlin/56359675#56359675", "title": "How do I concatenate Strings in Kotlin?", "body": "<p><strong>TL;DR:</strong> String Templates are the most idiomatic way to concatenate strings</p>\n\n<p>The <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#strings\" rel=\"nofollow noreferrer\">documentation</a> states </p>\n\n<blockquote>\n  <p>Note that in most cases using string templates or raw strings is preferable to string concatenation.</p>\n</blockquote>\n\n<p>String templates are basically the same as regular concatenation (using <code>+</code>) but <strong>more compact, idiomatic and equally efficient</strong>. Both variants are implemented using <code>StringBuilder</code>s in the byte code.</p>\n"}], "owner": {"reputation": 459, "user_id": 11234746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c24406e3aaf5f6bbbf9ddf010c211e3?s=128&d=identicon&r=PG&f=1", "display_name": "Noam Silverstein", "link": "https://stackoverflow.com/users/11234746/noam-silverstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1274, "favorite_count": 0, "accepted_answer_id": 56359675, "answer_count": 2, "score": 1, "last_activity_date": 1559133935, "creation_date": 1559129174, "last_edit_date": 1559133935, "question_id": 56359512, "link": "https://stackoverflow.com/questions/56359512/how-do-i-concatenate-strings-in-kotlin", "title": "How do I concatenate Strings in Kotlin?", "body": "<p>Obviously there are multiple ways to concatenate Strings in Kotlin:</p>\n\n<ol>\n<li>processString(pojo.name + \" \" + pojo.value)</li>\n<li>processString(\"${pojo.name} ${pojo.value}\")</li>\n<li>processString(pojo.name.plus(\" \").plus(pojo.value))</li>\n</ol>\n\n<p>Of course also with StringBuilder, concat()-Method etc.\nThose will work. </p>\n\n<p>But my question is, why is Android Studio proposing \"convert concatenation to template\" and converts 1. to 2. ? <strong>Are there any speed advantages with 2.? So wahts the advantage using 2.?</strong> </p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1559129506, "post_id": 56359448, "comment_id": 99322584, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/50678667/an-annotation-argument-must-be-a-compile-time-constant\">An Annotation argument must be a compile time constant</a>"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1559129943, "post_id": 56359448, "comment_id": 99322817, "body": "Solution: <a href=\"https://stackoverflow.com/a/32559579/3050249\">stackoverflow.com/a/32559579/3050249</a>"}, {"owner": {"reputation": 211, "user_id": 2583143, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/520f965a547be9819d9a4c04a7290718?s=128&d=identicon&r=PG&f=1", "display_name": "Foad Saeidi Nik", "link": "https://stackoverflow.com/users/2583143/foad-saeidi-nik"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1559130583, "post_id": 56359448, "comment_id": 99323173, "body": "@Miha_x64 tnx to you, that solved my problem."}], "answers": [{"tags": [], "owner": {"reputation": 1069, "user_id": 3479012, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hlPX4.jpg?s=128&g=1", "display_name": "Jolson Da Costa", "link": "https://stackoverflow.com/users/3479012/jolson-da-costa"}, "is_accepted": false, "score": 1, "last_activity_date": 1559129573, "creation_date": 1559129573, "answer_id": 56359632, "question_id": 56359448, "link": "https://stackoverflow.com/questions/56359448/how-to-set-retrofit-url-string-from-resources/56359632#56359632", "title": "How to set Retrofit URL string from Resources", "body": "<p>As documentation states it compiles your application resources at build time. and Annotation processing takes place at compile time. So you see you cannot pass resources string to a annotation </p>\n\n<blockquote>\n  <p>The Android SDK tools compile your application's resources into the\n  application binary at build time.</p>\n</blockquote>\n\n<p>instead create static string variable and pass it in annotation</p>\n"}, {"tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 0, "last_activity_date": 1559131810, "last_edit_date": 1559131810, "creation_date": 1559129774, "answer_id": 56359697, "question_id": 56359448, "link": "https://stackoverflow.com/questions/56359448/how-to-set-retrofit-url-string-from-resources/56359697#56359697", "title": "How to set Retrofit URL string from Resources", "body": "<p>Based upon the example provided - one could as well just use a static URL. It would need to be annotated alike this, in order not to use any run-time values and be able to change it at run-time:</p>\n\n<pre><code>@GET(\"{path}\")\nfun getSamples(@Path(\"path\") path: String) {}\n</code></pre>\n\n<p>Then one can load whatever <code>String path</code> from string resources, at run-time. When the base URL shall be changed, one may need to reconfigure the client. That is because this <code>interface</code> definition is being used by the annotation processor to generate the abstraction layer from it - at compile time already, not at run-time... when taking the complaint literal, it would have to look alike this:</p>\n\n<pre><code>@GET(Constants.SOME_PATH)\nfun getSamples() {}\n</code></pre>\n\n<p>but there is little advance over just hard-coding that <code>String</code>, because it cannot be changed later.</p>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 2583143, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/520f965a547be9819d9a4c04a7290718?s=128&d=identicon&r=PG&f=1", "display_name": "Foad Saeidi Nik", "link": "https://stackoverflow.com/users/2583143/foad-saeidi-nik"}, "is_accepted": false, "score": 0, "last_activity_date": 1559130778, "creation_date": 1559130778, "answer_id": 56359996, "question_id": 56359448, "link": "https://stackoverflow.com/questions/56359448/how-to-set-retrofit-url-string-from-resources/56359996#56359996", "title": "How to set Retrofit URL string from Resources", "body": "<p>Problem solved,\nTnx to <a href=\"https://stackoverflow.com/questions/32559333/retrofit-2-dynamic-url/32559579#32559579\">Retrofit 2 - Dynamic URL</a></p>\n\n<p>I had to use another annotation mark of retrofit.</p>\n\n<blockquote>\n  <p>New: @Url parameter annotation allows passing a complete URL for an endpoint.</p>\n</blockquote>\n\n<p>Here is the result:</p>\n\n<pre><code>interface SampleApiService {\n    @GET\n    fun getSamples(\n        @Url url: String =\n            Resources.getSystem().getString(R.string.sample_url)\n    )\n            : Deferred&lt;ArrayList&lt;Sample&gt;&gt;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 211, "user_id": 2583143, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/520f965a547be9819d9a4c04a7290718?s=128&d=identicon&r=PG&f=1", "display_name": "Foad Saeidi Nik", "link": "https://stackoverflow.com/users/2583143/foad-saeidi-nik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 750, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1559131810, "creation_date": 1559128980, "last_edit_date": 1559130839, "question_id": 56359448, "link": "https://stackoverflow.com/questions/56359448/how-to-set-retrofit-url-string-from-resources", "title": "How to set Retrofit URL string from Resources", "body": "<p>I've refactored some parts of my code which is written in Kotlin and tend to put url's in strings.xml, but when I want to point to the string in strings.xml file in annotation part of the Retrofit, I get the following error.</p>\n\n<blockquote>\n  <p>An annotation argument must be a compile-time constant</p>\n</blockquote>\n\n<p>Here is my code:</p>\n\n<pre><code>interface SampleApiService {\n    @GET(Resources.getSystem().getString(R.string.sample_url))\n    fun getSamples(){\n    }\n}\n</code></pre>\n\n<p>Could anyone please tell me what is wrong?</p>\n\n<p>Found the answer in the following post.</p>\n"}, {"tags": ["kotlin", "webserver", "vert.x", "vertx-verticle"], "answers": [{"tags": [], "owner": {"reputation": 1507, "user_id": 2498301, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2643604ca1d6fdfb16f1508106eb5bee?s=128&d=identicon&r=PG", "display_name": "Lukas Makor", "link": "https://stackoverflow.com/users/2498301/lukas-makor"}, "is_accepted": false, "score": 0, "last_activity_date": 1559132878, "creation_date": 1559132878, "answer_id": 56360650, "question_id": 56358648, "link": "https://stackoverflow.com/questions/56358648/concept-of-vert-x-concerning-a-webserver/56360650#56360650", "title": "Concept of vert.x concerning a webserver?", "body": "<p>The issue with your code is that by default Vert.x only uses a maximum of one thread per verticle (if there are more verticles than available threads, a single thread has to handle multiple verticles).</p>\n\n<p>Therefore, if you perform 100 requests against a single instance of a single verticle, the requests are processed by a single thread.</p>\n\n<p>To solve your issue, you should deploy multiple instances of your verticle, i.e.</p>\n\n<pre><code>vertx.deployVerticle(MainVerticle::class.java.name, DeploymentOptions().setInstances(4))\n</code></pre>\n\n<p>when doing that, always 4 responses will be received at nearly the same time, because 4 instances of the verticle are running and thus 4 threads are utilized.</p>\n\n<p>In previous versions of Vert.x, you could also simply configure multi-threading for a verticle if you didn't want to set a specific amount of instances.</p>\n\n<pre><code>vertx.deployVerticle(MainVerticle::class.java.name, DeploymentOptions().setWorker(true).setMultiThreaded(true))\n</code></pre>\n\n<p>However, this feature has been deprecated and replaced with customer worker pools.</p>\n\n<p>For more information concerning this topic, I encourage you to take a look at the  <a href=\"https://vertx.io/docs/vertx-core/kotlin/\" rel=\"nofollow noreferrer\">Vert.x-core Kotlin documentation</a></p>\n"}, {"comments": [{"owner": {"reputation": 322, "user_id": 6805866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r2qoL.jpg?s=128&g=1", "display_name": "NikolaS", "link": "https://stackoverflow.com/users/6805866/nikolas"}, "edited": false, "score": 0, "creation_date": 1592994201, "post_id": 56373673, "comment_id": 110622151, "body": "is there any significant difference between <b>wrk</b> and Apache&#39;s <b>ab</b> for testing multi-threaded requests?"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "reply_to_user": {"reputation": 322, "user_id": 6805866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r2qoL.jpg?s=128&g=1", "display_name": "NikolaS", "link": "https://stackoverflow.com/users/6805866/nikolas"}, "edited": false, "score": 0, "creation_date": 1593004475, "post_id": 56373673, "comment_id": 110627428, "body": "<code>wrk</code> has some issues and you should use either <code>wrk2</code> or <code>ab</code>. If you&#39;re interested in more details, please create a separate question."}, {"owner": {"reputation": 322, "user_id": 6805866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r2qoL.jpg?s=128&g=1", "display_name": "NikolaS", "link": "https://stackoverflow.com/users/6805866/nikolas"}, "edited": false, "score": 1, "creation_date": 1593359276, "post_id": 56373673, "comment_id": 110746679, "body": "OK. I&#39;ve created a separate question, please follow <a href=\"https://stackoverflow.com/q/62624794/6805866\">this link</a>."}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 1, "last_activity_date": 1559201427, "creation_date": 1559201427, "answer_id": 56373673, "question_id": 56358648, "link": "https://stackoverflow.com/questions/56358648/concept-of-vert-x-concerning-a-webserver/56373673#56373673", "title": "Concept of vert.x concerning a webserver?", "body": "<p>There are some major issues there. </p>\n\n<p>When you do this:</p>\n\n<pre><code>class WebServer: AbstractVerticle() {\n    lateinit var server: HttpServer\n\n    override fun start() {\n        server = vertx.createHttpServer(HttpServerOptions().setPort(1234).setHost(\"localhost\"))\n       ...\n    }\n}\n</code></pre>\n\n<p>Then something like this:</p>\n\n<pre><code>vertx.deployVerticle(WebServer::class.java.name, DeploymentOptions().setInstances(4)\n</code></pre>\n\n<p>You'll get 4 verticles, but only single one of them will actually listen on the port. So, you're not getting any more concurrency. </p>\n\n<p>Second, when you use <code>Thread.sleep</code> in your Vert.x code, you're blocking the event loop thread. </p>\n\n<p>Third, your test with client is incorrect. Creation of a WebClient is very expensive, so by creating those one after the other, you're actually issuing requests very slowly. If you really want to test your web application, use something like <a href=\"https://github.com/wg/wrk\" rel=\"nofollow noreferrer\">https://github.com/wg/wrk</a></p>\n"}], "owner": {"reputation": 13, "user_id": 8671216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f837f900d8438f565bab0c80f95da4a7?s=128&d=identicon&r=PG&f=1", "display_name": "cg-productions", "link": "https://stackoverflow.com/users/8671216/cg-productions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 56373673, "answer_count": 2, "score": 1, "last_activity_date": 1559201427, "creation_date": 1559126451, "question_id": 56358648, "link": "https://stackoverflow.com/questions/56358648/concept-of-vert-x-concerning-a-webserver", "title": "Concept of vert.x concerning a webserver?", "body": "<p>I don't quite get how vert.x is applied for a webserver.</p>\n\n<p>The concept I know for webserver is the thread-based one.</p>\n\n<ol>\n<li>You start your webserver, which then is running.</li>\n<li>Then for every client that connects, you get a socket, which is then passed to its own thread handler.</li>\n<li>The thread handler then processes the tasks for this specific socket.</li>\n</ol>\n\n<p>So it is clearly defined which thread is doing the work for which socket.\nHowever for every socket you need a new thread, which is expensive in the long run for many sockets.</p>\n\n<p>Then there is the event-based concept that vert.x supplies. \nSo far I have understood, it should work anyhow like this:</p>\n\n<ol>\n<li>The Vertx instance deploys Verticles.</li>\n<li>Verticles run in background threads, but not every Verticle has its own thread. As an example there could be 1000 verticles deployed in a Vertx instance, but the Vertx instance handles only 8 threads (nr of cores * 2).</li>\n<li>Then there are the event loops. I'm not sure how they refer to verticles. I've read that every verticle has 2 event loops, but don't really know how that works.</li>\n</ol>\n\n<p>As a webserver example:</p>\n\n<pre><code>class WebServer: AbstractVerticle() {\n    lateinit var server: HttpServer\n\n    override fun start() {\n        server = vertx.createHttpServer(HttpServerOptions().setPort(1234).setHost(\"localhost\"))\n        var router = Router.router(vertx);\n        router.route(\"/test\").handler { routingContext -&gt;\n            var response = routingContext.response();\n            response.end(\"Hello from my first HttpServer\")\n        }\n        server.requestHandler(router).listen()\n    }\n}\n</code></pre>\n\n<p>This WebServer can be deployed multiple times in a Vertx instance. And as it seems, each WebServer instance gets its own thread. When I try to connect 100 Clients and reply with a simple response, it seems like each Client is handled synchronously. Because when I do a Thread.sleep statement in each server handler, then the every second one client gets a response. However it should be that all server handlers should start their 1 second sleep and then almost identically reply to all clients after this time.</p>\n\n<p>This is the code to start 100 clients:</p>\n\n<pre><code>fun main(){\n    Vertx.vertx().deployVerticle(object : AbstractVerticle(){\n        override fun start() {\n            for(i in 0 .. 100)\n                MyWebClient(vertx)\n        }\n    })\n}\n\nclass MyWebClient(val vertx: Vertx) {\n    init {\n        println(\"Client starting ...\")\n        val webClient = WebClient.create(vertx, WebClientOptions().setDefaultPort(1234).setDefaultHost(\"localhost\"))\n        webClient.get(\"/test\").send { ar -&gt;\n            if(ar.succeeded()){\n                val response: HttpResponse&lt;Buffer&gt; = ar.result()\n\n                println(\"Received response with status code ${response.statusCode()} + ${response.body()}\")\n            } else {\n                println(\"Something went wrong \" + ar.cause().message)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Does anybody know an explanation for this?</p>\n"}, {"tags": ["android", "kotlin", "webview"], "comments": [{"owner": {"reputation": 592, "user_id": 4730040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8af904b32607161798c3bbfbd1664a6?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitriy Miyai", "link": "https://stackoverflow.com/users/4730040/dmitriy-miyai"}, "edited": false, "score": 0, "creation_date": 1559130209, "post_id": 56358464, "comment_id": 99322962, "body": "Attach your error"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8694492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MiRfnXBKQHY/AAAAAAAAAAI/AAAAAAAAAbQ/RVhCcd1oy4k/photo.jpg?sz=128", "display_name": "Aneesh Pradeep", "link": "https://stackoverflow.com/users/8694492/aneesh-pradeep"}, "edited": false, "score": 0, "creation_date": 1559127395, "post_id": 56358693, "comment_id": 99321415, "body": "but i am getting error in the line val mWebSettings = mWebView.getSettings()"}], "tags": [], "owner": {"reputation": 2836, "user_id": 5827197, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DaJzg.jpg?s=128&g=1", "display_name": "Zaid Mirza", "link": "https://stackoverflow.com/users/5827197/zaid-mirza"}, "is_accepted": false, "score": 0, "last_activity_date": 1559129521, "last_edit_date": 1559129521, "creation_date": 1559126633, "answer_id": 56358693, "question_id": 56358464, "link": "https://stackoverflow.com/questions/56358464/first-webview-was-working-but-button-are-not-clicking-and-not-showing-photos/56358693#56358693", "title": "First Webview was working , but button are not clicking and not showing photos", "body": "<p>try following...</p>\n\n<pre><code>webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW)\n</code></pre>\n\n<p><strong>Kotlin</strong></p>\n\n<pre><code>webView.settings.mixedContentMode = WebSettings.MIXED_CONTENT_ALWAYS_ALLOW\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8694492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MiRfnXBKQHY/AAAAAAAAAAI/AAAAAAAAAbQ/RVhCcd1oy4k/photo.jpg?sz=128", "display_name": "Aneesh Pradeep", "link": "https://stackoverflow.com/users/8694492/aneesh-pradeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559129521, "creation_date": 1559125873, "question_id": 56358464, "link": "https://stackoverflow.com/questions/56358464/first-webview-was-working-but-button-are-not-clicking-and-not-showing-photos", "title": "First Webview was working , but button are not clicking and not showing photos", "body": "<p>i created a webview for my site , the page is hosted in my server, it works fine when inspecting element with mobile phone setting , but when the same page is loaded to the webview in android , the button when clicks does nothing and images are not loading </p>\n\n<p>i added the lines</p>\n\n<pre><code> val mWebSettings = mWebView.getSettings()\n        mWebSettings.setJavaScriptEnabled(true) \n        mWebSettings.setDomStorageEnabled(true)\n        mWebSettings.setSupportZoom(false)\n        mWebSettings.setAllowFileAccess(true)\n        mWebSettings.setAllowContentAccess(true)\n</code></pre>\n\n<p>MainAcitvity</p>\n\n<pre><code>package com.example.student.myapplication\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.webkit.WebView\nimport android.webkit.WebViewClient\nimport android.webkit.WebSettings\n\n\n\nclass MainActivity : AppCompatActivity() {\n\n    var mWebView: WebView? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        mWebView = findViewById&lt;WebView&gt;(R.id.webview);\n        val mWebSettings = mWebView.getSettings()\n        mWebSettings.setJavaScriptEnabled(true) \n        mWebSettings.setDomStorageEnabled(true)\n        mWebSettings.setSupportZoom(false)\n        mWebSettings.setAllowFileAccess(true)\n        mWebSettings.setAllowContentAccess(true)\n        mWebView!!.webViewClient = object : WebViewClient(){\n            override fun shouldOverrideUrlLoading(view: WebView?, url: String?): Boolean{\n                view?.loadUrl(url)\n                return true\n            }\n        }\n        mWebView!!.loadUrl(\"https://qiwi.io/\")\n    }\n}\n</code></pre>\n\n<p>I am getting error in the line </p>\n\n<pre><code>val mWebSettings = mWebView.getSettings()\n</code></pre>\n"}, {"tags": ["java", "spring", "spring-boot", "authentication", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "edited": false, "score": 0, "creation_date": 1559128727, "post_id": 56359171, "comment_id": 99322180, "body": "I want to implement authentication that way for a reason. The question is about displaying static content conditionally, not about changing the approach to security."}, {"owner": {"reputation": 465, "user_id": 6236250, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a4_n31hT25M/AAAAAAAAAAI/AAAAAAAAAAA/xy9DUMPmC9Y/photo.jpg?sz=128", "display_name": "Rob Scully", "link": "https://stackoverflow.com/users/6236250/rob-scully"}, "reply_to_user": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "edited": false, "score": 0, "creation_date": 1559141175, "post_id": 56359171, "comment_id": 99329744, "body": "Would you mind expanding on your reasons so we can help you further? It doesn&#39;t really follow to want to implement Spring security that way for any reason. If you absolutely need to do it that way, you can use Controller Advice to throw an exception every time the wrong password is presented to you. How you validate your password is up to you, albeit a database or whatever. To return upon successful validation a web page, do return &quot;index.html&quot; or whatever page you want and this will serve you your page."}, {"owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "edited": false, "score": 0, "creation_date": 1559144627, "post_id": 56359171, "comment_id": 99331641, "body": "The reason is that I want to create the simplest possible prototype. It would be idiotic to waste a lot of time developing a sophisticated security system, screwring around with Spring security problems, if your program runs only on your local machine. For my <b>current</b> purposes, e-mail based authentication is good enough."}], "tags": [], "owner": {"reputation": 465, "user_id": 6236250, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a4_n31hT25M/AAAAAAAAAAI/AAAAAAAAAAA/xy9DUMPmC9Y/photo.jpg?sz=128", "display_name": "Rob Scully", "link": "https://stackoverflow.com/users/6236250/rob-scully"}, "is_accepted": false, "score": -1, "last_activity_date": 1559128127, "creation_date": 1559128127, "answer_id": 56359171, "question_id": 56358199, "link": "https://stackoverflow.com/questions/56358199/how-to-display-a-page-only-if-certain-parameters-are-provided-in-the-url/56359171#56359171", "title": "How to display a page only, if certain parameters are provided in the URL?", "body": "<p>You shouldn't really do your security this way. It's is not good practice to send your password in clear text over http.</p>\n\n<p>There is examples here of basic authentication with spring security.</p>\n\n<p><a href=\"https://www.baeldung.com/spring-security-basic-authentication\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-basic-authentication</a></p>\n\n<p><a href=\"https://www.baeldung.com/securing-a-restful-web-service-with-spring-security\" rel=\"nofollow noreferrer\">https://www.baeldung.com/securing-a-restful-web-service-with-spring-security</a></p>\n\n<p>What you can do then is, if you follow this tutorial, is assign an in memory user for starters. Then you can Base64Encode your authentication details to the user. Then for each user you can send the authentication details and no one can snoop the username and password as they pass along the wire and your request is dealt with before ever reaching your controller. This way, you can decouple your business logic from your authentication.</p>\n\n<p>That's a start at least. Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 4039, "user_id": 7887516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4570de3bf004dca0f8497882cd311a59?s=128&d=identicon&r=PG&f=1", "display_name": "Ananthapadmanabhan", "link": "https://stackoverflow.com/users/7887516/ananthapadmanabhan"}, "is_accepted": false, "score": -1, "last_activity_date": 1559133501, "creation_date": 1559133501, "answer_id": 56360859, "question_id": 56358199, "link": "https://stackoverflow.com/questions/56358199/how-to-display-a-page-only-if-certain-parameters-are-provided-in-the-url/56360859#56360859", "title": "How to display a page only, if certain parameters are provided in the URL?", "body": "<p>@RobScully is right, you should not handle authorization like this . What you can do is enable spring-security and use spring security annotations to handle this scenario.\nUse the following dependencies and setup a basic spring security setup.</p>\n\n<p>Annotations like <code>@PreAuthorize()</code> can then be used to validate the user privileges before executing a method. You can even add this annotation to controller methods to validate before serving each request if you insist.</p>\n\n<p>You can setup and <strong>LDAP server</strong> or Oauth or even use <strong>database</strong> for authentication (if you working on a demo or something).</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Use a configuration class like below to configure the security :</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    DataSource dataSource;\n\n    @Autowired\n    public void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\n\n      auth.jdbcAuthentication().dataSource(dataSource)\n        .usersByUsernameQuery(\n            \"select username,password, enabled from users where username=?\")\n        .authoritiesByUsernameQuery(\n            \"select username, role from user_roles where username=?\");\n    }   \n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n      http.authorizeRequests()\n        .antMatchers(\"/admin/**\").access(\"hasRole('ROLE_ADMIN')\") //To check admin role permission\n        .and()\n          .formLogin().loginPage(\"/login\").failureUrl(\"/login?error\") //provide failure url\n          .usernameParameter(\"username\").passwordParameter(\"password\")\n        .and()\n          .logout().logoutSuccessUrl(\"/login?logout\") \n        .and()\n          .exceptionHandling().accessDeniedPage(\"/403\")\n        .and()\n        .csrf();\n    }\n}\n</code></pre>\n\n<p>This sample project in github gives a basic setup where you can use spring security:</p>\n\n<p><a href=\"https://github.com/mohchi/spring-security-request-mapping\" rel=\"nofollow noreferrer\">https://github.com/mohchi/spring-security-request-mapping</a></p>\n\n<p>Reference use:\n<a href=\"https://www.mkyong.com/spring-security/spring-security-form-login-using-database/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/spring-security/spring-security-form-login-using-database/</a></p>\n"}, {"tags": [], "owner": {"reputation": 3624, "user_id": 10664446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7dc12bb95214084eff7e94526ef0be?s=128&d=identicon&r=PG&f=1", "display_name": "stacker", "link": "https://stackoverflow.com/users/10664446/stacker"}, "is_accepted": true, "score": 2, "last_activity_date": 1559301461, "creation_date": 1559301461, "answer_id": 56394088, "question_id": 56358199, "link": "https://stackoverflow.com/questions/56358199/how-to-display-a-page-only-if-certain-parameters-are-provided-in-the-url/56394088#56394088", "title": "How to display a page only, if certain parameters are provided in the URL?", "body": "<pre><code>return ClassPathResource(\"static/main.html\") should answer your question, don't forget to specify `static` folder at the beginning as `ClassPathResource` points to the `resources` folder\n</code></pre>\n"}], "owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 56394088, "answer_count": 3, "score": 0, "last_activity_date": 1559301461, "creation_date": 1559124974, "last_edit_date": 1559132123, "question_id": 56358199, "link": "https://stackoverflow.com/questions/56358199/how-to-display-a-page-only-if-certain-parameters-are-provided-in-the-url", "title": "How to display a page only, if certain parameters are provided in the URL?", "body": "<p>I want to create a page in Spring, which has the url</p>\n\n<p><a href=\"http://myapp.com/sign-in?email=myemail@provider.com&amp;pw=password\" rel=\"nofollow noreferrer\">http://myapp.com/sign-in?email=myemail@provider.com&amp;pw=password</a></p>\n\n<p><code>password</code> is a one-time password that the user receives via e-mail every time they want to sign in.</p>\n\n<p>Whenever the user visits this page, I want two things to happen:</p>\n\n<ol>\n<li>Check whether or not the provided credentials are correct.</li>\n<li>If they are, display the HTML content of the page.</li>\n</ol>\n\n<p>I've done the first part:</p>\n\n<pre><code>    @Autowired\n    private var userRepository: UserRepository? = null\n\n    @GetMapping\n    fun signIn(@RequestParam email:String, @RequestParam(name=\"pw\") password:String): RedirectView {\n        // Is the password correct?\n\n        // TODO: Read password hash of the user\n        val existingUser: Optional&lt;UserInfo&gt;? = userRepository?.findById(email)\n        if (existingUser == null) {\n            return redirectToErrorPage(\"Please register with your e-mail address first\")\n        }\n        if (!existingUser.isPresent) {\n            return redirectToErrorPage(\"Please register with your e-mail address first\")\n        }\n        val hashInDb = existingUser.get().passwordHash\n        val hashInParam = PasswordHashCalculator.calculateHash(password)\n        if (!hashInDb.equals(hashInParam)) {\n            return redirectToErrorPage(\"Invalid user name and/or password\")\n        }\n\n        // TODO: Display the main page\n        return null\n    }\n</code></pre>\n\n<p>How do I need to change the code in order to display the main page (HTML file in <code>src/main/resources/static</code>), but only if the authentication checks are passed? </p>\n\n<p><strong>Update 1:</strong> Using <code>return ClassPathResource(\"main.html\")</code> as recommended <a href=\"https://stackoverflow.com/questions/38006022/spring-boot-conditionally-serve-static-content-without-template-engine\">here</a> did not help.</p>\n"}, {"tags": ["android", "kotlin", "jackson"], "comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1559142051, "post_id": 56357887, "comment_id": 99330205, "body": "They have changed the type perhaps also :P"}], "answers": [{"comments": [{"owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "edited": false, "score": 0, "creation_date": 1559147086, "post_id": 56362129, "comment_id": 99332954, "body": "Wow... if the type is not String, I can set the default String value! Thank you!"}, {"owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "edited": false, "score": 0, "creation_date": 1559174294, "post_id": 56362129, "comment_id": 99342396, "body": "If I use this solution, I cannot &quot;data class&quot; right?"}], "tags": [], "owner": {"reputation": 2691, "user_id": 202059, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d7PGT.jpg?s=128&g=1", "display_name": "cmaynard", "link": "https://stackoverflow.com/users/202059/cmaynard"}, "is_accepted": true, "score": 1, "last_activity_date": 1559221439, "last_edit_date": 1559221439, "creation_date": 1559137668, "answer_id": 56362129, "question_id": 56357887, "link": "https://stackoverflow.com/questions/56357887/is-there-any-annotation-to-ignore-from-the-change-of-the-response-type-in-faster/56362129#56362129", "title": "Is there any annotation to ignore from the change of the response type in fasterxml?", "body": "<p>Yes, you could use a custom setter for the pw variable that coerces types:</p>\n\n<pre><code>class ResponseData(pw: String) {\n    var pw: String\n        set(value: Any) {\n            field = when(value) {\n                is String -&gt; value\n                else -&gt; value.toString()\n            }\n        }\n}\n</code></pre>\n\n<p><strong>Note:</strong> this will still throw exceptions if the type cannot be coerced to a string via the toString method.</p>\n\n<p>For a data class to use a custom setter see <a href=\"https://discuss.kotlinlang.org/t/custom-getter-setter-for-properties-created-by-type-params/46/4\" rel=\"nofollow noreferrer\">this example</a></p>\n\n<pre><code>data class C(private val _propertyWithSetter: String) {\n    val propertyWithSetter: String\n        get() = _propertyWithSetter\n        set(value) {\n            /* execute setter logic */\n            _propertyWithSetter = value\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 56362129, "answer_count": 1, "score": 0, "last_activity_date": 1559221439, "creation_date": 1559123929, "last_edit_date": 1559125319, "question_id": 56357887, "link": "https://stackoverflow.com/questions/56357887/is-there-any-annotation-to-ignore-from-the-change-of-the-response-type-in-faster", "title": "Is there any annotation to ignore from the change of the response type in fasterxml?", "body": "<p>I have an Android app (written by Kotlin).</p>\n\n<p>It uses an external server and the server provide an XML as the response.</p>\n\n<p>Last week, the server response was changed.\nA new element was added into the response.</p>\n\n<p>So my app crashed...</p>\n\n<p>To resolve this, I added an annotation: </p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n\n<p>And it works fine.</p>\n\n<p>But I have a question.\nIf the server change the response data type, how can I handle it?\nFor example, here is the response:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;response&gt;\n    &lt;data&gt;\n        &lt;sessionid&gt;hello&lt;/sessionid&gt;\n        &lt;endpoint&gt;https://test.com&lt;/endpoint&gt;\n        &lt;id&gt;123&lt;/id&gt;\n        &lt;pw&gt;testpassword&lt;/pw&gt;\n    &lt;/data&gt;\n&lt;/response&gt;\n</code></pre>\n\n<p>Now, if the type of \"pw\" element is changed to \"Integer\" like below, Exception occurs.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;response&gt;\n    &lt;data&gt;\n        &lt;sessionid&gt;hello&lt;/sessionid&gt;\n        &lt;endpoint&gt;https://test.com&lt;/endpoint&gt;\n        &lt;id&gt;123&lt;/id&gt;\n        &lt;pw&gt;0000&lt;/pw&gt;    &lt;!-- server response type is changed from String to Integer --&gt;\n    &lt;/data&gt;\n&lt;/response&gt;\n</code></pre>\n\n<pre><code>Cannot deserialize value of type `java.lang.Integer` from String \"pw\": not a valid Integer value\n</code></pre>\n\n<p>And my app will be crash.</p>\n\n<p>I want to prevent the crash from this kind of change.\nIs there any good solution? or annotation like \"@JsonIgnoreProperties\"?</p>\n\n<hr>\n\n<p>I think that the \"Any\" type can be a solution.\nBut this is the last solution...\nI want to find a smarter solution.</p>\n"}, {"tags": ["android", "firebase-realtime-database", "kotlin", "firebase-storage"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1559123243, "post_id": 56357626, "comment_id": 99319146, "body": "What&#39;s the question?"}, {"owner": {"reputation": 103, "user_id": 11119257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7690095e831c2983fe900d554e584f29?s=128&d=identicon&r=PG&f=1", "display_name": "Rahma El Ouni", "link": "https://stackoverflow.com/users/11119257/rahma-el-ouni"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1559124033, "post_id": 56357626, "comment_id": 99319637, "body": "why the images are not added with attribute of accident in firebase-realtime ?"}], "owner": {"reputation": 103, "user_id": 11119257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7690095e831c2983fe900d554e584f29?s=128&d=identicon&r=PG&f=1", "display_name": "Rahma El Ouni", "link": "https://stackoverflow.com/users/11119257/rahma-el-ouni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1559145157, "creation_date": 1559123107, "last_edit_date": 1559145157, "question_id": 56357626, "link": "https://stackoverflow.com/questions/56357626/androidcan-not-save-arrayliststring-in-my-firebase-realtime", "title": "Android:can not save arrayList&lt;String&gt; in my firebase-realtime", "body": "<p><a href=\"https://i.stack.imgur.com/NcaQk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NcaQk.png\" alt=\"my result in firebase-realtime\"></a></p>\n\n<p>I try to add accident in firebase-realtime  with some information and some images, only the information are saved, the images paths are saved in firebase-storage but not in firebase-realtime.when I get the path of images from firebase-storage. I put this result path in arrayList of String. I want to put this arrayList in accident .I don't know why  only the information are saved and the arrayList not saved, can some one help me please ?</p>\n\n<pre><code>class Accident (\n        var date:String?,\n        var id:String?,\n        var description:String?,\n\n//        var video:Array&lt;String&gt;?=null,\n//        var gravite:Int?=null,\n        val geolocalisation:Localisation?,\n        var photos: ArrayList&lt;String&gt;?,\n        val adress:String?\n        //var nbVictime:Int?=null\n): Serializable\n\nclass Localisation( var altitude:Double=0.0,\n                    var longitude:Double = 0.0)\n    : Serializable {\n}\n\n\n\nfun loadDatabase(firebaseData: DatabaseReference) {\n        uploadFile()\n        var loc = Localisation(currentLatLng!!.latitude, currentLatLng!!.longitude)\n        var uri=tabpath as ArrayList&lt;String&gt;\nval availableAccident: List&lt;Accident&gt; = mutableListOf(\n\n                Accident(SimpleDateFormat(\"yyyy/MM/dd_HH:mm:ss\").format(Date()), \"\", \"il est tres grave\", loc, uri, \"Monastir\")\n\n        )\n            var t=\"\"\n        availableAccident.forEach {\n\n            val key = firebaseData.child(\"accidents\").push().key\n\n            it.id = key!!\n            it.photos=uri\n\n            if (key != null) {\n                firebaseData.child(\"accidents\").child(key).setValue(it)\n            }\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/olKEx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/olKEx.png\" alt=\"this is my result on mode debug\"></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1559124338, "post_id": 56357566, "comment_id": 99319811, "body": "You need to declare all dependencies. <a href=\"https://github.com/Kotlin/kotlinx.coroutines\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines</a>"}, {"owner": {"reputation": 1623, "user_id": 7643517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e5704b22d0d721228a4829f36c057dd?s=128&d=identicon&r=PG", "display_name": "Nolequen", "link": "https://stackoverflow.com/users/7643517/nolequen"}, "edited": false, "score": 0, "creation_date": 1559131076, "post_id": 56357566, "comment_id": 99323469, "body": "The code works fine on Intellij IDEA 2019.1, kotlin 1.3.31 without any changes."}, {"owner": {"reputation": 89, "user_id": 1087396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b27f2280380b4b5ab6bebb0e3d25b7f3?s=128&d=identicon&r=PG", "display_name": "Temp", "link": "https://stackoverflow.com/users/1087396/temp"}, "reply_to_user": {"reputation": 1623, "user_id": 7643517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e5704b22d0d721228a4829f36c057dd?s=128&d=identicon&r=PG", "display_name": "Nolequen", "link": "https://stackoverflow.com/users/7643517/nolequen"}, "edited": false, "score": 0, "creation_date": 1559131870, "post_id": 56357566, "comment_id": 99323947, "body": "@Nolequen How did you setup these dependencies? I made &#39;Gradle Kotlin Build Script&#39; and pasted them to file but nothing did work well."}, {"owner": {"reputation": 1623, "user_id": 7643517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e5704b22d0d721228a4829f36c057dd?s=128&d=identicon&r=PG", "display_name": "Nolequen", "link": "https://stackoverflow.com/users/7643517/nolequen"}, "edited": false, "score": 0, "creation_date": 1559132049, "post_id": 56357566, "comment_id": 99324032, "body": "you may refer to official documentation about how to setup kotlin project using gradle: <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/using-gradle.html</a>"}, {"owner": {"reputation": 89, "user_id": 1087396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b27f2280380b4b5ab6bebb0e3d25b7f3?s=128&d=identicon&r=PG", "display_name": "Temp", "link": "https://stackoverflow.com/users/1087396/temp"}, "reply_to_user": {"reputation": 1623, "user_id": 7643517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e5704b22d0d721228a4829f36c057dd?s=128&d=identicon&r=PG", "display_name": "Nolequen", "link": "https://stackoverflow.com/users/7643517/nolequen"}, "edited": false, "score": 0, "creation_date": 1559140155, "post_id": 56357566, "comment_id": 99329118, "body": "@Nolequen I need your help. I am newbie at this and I cannot find any right place to set a code. When I tried running kts, it shows some bulb icon. After clicked it, IDEA added some jar for running kotlin script at KotlinJavaRuntime.xml      &lt;root url=&quot;jar://$KOTLIN_BUNDLED$/lib/kotlin-script-runtime.jar!/&quot; /&gt;  Then I thought if i add something correct, it will run. But of course failed. Should I use other project like Gradle - Kotlin/JVM or Java - Kotlin/JVM to setting well? I will try more. Please give me some hint that I can use"}, {"owner": {"reputation": 89, "user_id": 1087396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b27f2280380b4b5ab6bebb0e3d25b7f3?s=128&d=identicon&r=PG", "display_name": "Temp", "link": "https://stackoverflow.com/users/1087396/temp"}, "edited": false, "score": 0, "creation_date": 1559183644, "post_id": 56357566, "comment_id": 99344148, "body": "I gave up using kotlin - JVM | IDEA. I make another one using Gradle - Kotlin/JVM and there is default build.gradle for setting. Finally successed"}, {"owner": {"reputation": 1623, "user_id": 7643517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e5704b22d0d721228a4829f36c057dd?s=128&d=identicon&r=PG", "display_name": "Nolequen", "link": "https://stackoverflow.com/users/7643517/nolequen"}, "edited": false, "score": 0, "creation_date": 1559198953, "post_id": 56357566, "comment_id": 99347892, "body": "@Temp I&#39;m glad that everything worked out :)"}], "owner": {"reputation": 89, "user_id": 1087396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b27f2280380b4b5ab6bebb0e3d25b7f3?s=128&d=identicon&r=PG", "display_name": "Temp", "link": "https://stackoverflow.com/users/1087396/temp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 712, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1559122954, "creation_date": 1559122954, "question_id": 56357566, "link": "https://stackoverflow.com/questions/56357566/import-kotlinx-is-impossible-in-intellij-idea", "title": "import kotlinx is impossible in IntelliJ IDEA", "body": "<p>I`m testing coroutine example code on IntelliJ IDEA. But I cannot import library which needs for coroutine.</p>\n\n<p>I created project as Kotlin - \"JVM | IDEA\". I tried simple print hello world code and succeesfully done. But coroutine example don`t even execute. </p>\n\n<pre><code>import kotlinx.coroutines.launch\nimport kotlinx.coroutines.runBlocking\nimport kotlinx.coroutines.sync.Mutex\nimport kotlinx.coroutines.sync.withLock\n\n\nfun main()\n{\n    runBlocking {\n\n      var counter = 0\n      val lock = Mutex()  \n\n      val coroutines = List(3) {\n        launch {\n          repeat(1_000) {\n            lock.withLock {\n              counter++\n            }\n          }\n        }\n      }\n\n      coroutines.forEach { it.join() }\n\n      println(\"Final counter: $counter\")\n    }\n}\n</code></pre>\n\n<p>This Code runs on <a href=\"https://play.kotlinlang.org\" rel=\"nofollow noreferrer\">https://play.kotlinlang.org</a>. But in IDEA, they cannot understand it, showing 'Unresolved reference'.</p>\n\n<p>I`ve searched but no answer found. How can I run this on IDEA project?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1559121446, "post_id": 56357030, "comment_id": 99318110, "body": "why are you declaring functions in onRender? The code in <code>onRender { }</code> is very different from <code>onDrawAll { }</code> for example, it&#39;s not a coincidence that one gives errors and the other doesn&#39;t. Check this doc <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/lambdas.html</a>"}, {"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1559121663, "post_id": 56357030, "comment_id": 99318237, "body": "Maybe first familiarise yourself with function types and lambda <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html</a>"}], "owner": {"reputation": 159, "user_id": 7149473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac89bbfee5fae32f504784800fbb840f?s=128&d=identicon&r=PG&f=1", "display_name": "Chinbat G.", "link": "https://stackoverflow.com/users/7149473/chinbat-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1236, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559121225, "creation_date": 1559121225, "question_id": 56357030, "link": "https://stackoverflow.com/questions/56357030/kotlin-type-annotation-is-required-on-a-value-parameter-error", "title": "Kotlin &quot;type annotation is required on a value parameter&quot; error", "body": "<p>I want to build a simple Android pdf reader using barteksc/AndroidPdfViewer(<a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">https://github.com/barteksc/AndroidPdfViewer</a>).</p>\n\n<p>I'm stuck on \"A type annotation is required on a value parameter\" error for \"pages, pageWidth, pageHeight\" 3 parameters inside \"onRender\" function inside \"onCreate\" of ViewActivity. </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_view)\n\n        if (intent != null) {\n            val viewType: String = intent.getStringExtra(\"ViewType\")\n            if (viewType != null &amp;&amp; !TextUtils.isEmpty(viewType)) {\n                if (viewType.equals(\"localFile\")) {\n                    if (intent.getType().equals(\"application/pdf\")) {\n                        val selectedPdf: Uri = Uri.parse(intent.getStringExtra(\"FileUri\"))\n                        pdfView.fromUri(selectedPdf)\n                            .password(null)\n                            .defaultPage(0)\n                            .enableSwipe(true)\n                            .enableDoubletap(true)\n                            .swipeHorizontal(true)\n                            .pageSnap(true)\n                            .autoSpacing(true)\n                            .pageFling(true)\n                            .onDraw { canvas, pageWidth, pageHeight, displayedPage -&gt;\n\n                            }.onDrawAll { canvas, pageWidth, pageHeight, displayedPage -&gt;\n\n                            }.onPageChange { page, pageCount -&gt;\n\n                            }.onPageError { page, t -&gt;\n                                Toast.makeText(\n                                    this@ViewActivity,\n                                    \"Error while opening page \" + page,\n                                    Toast.LENGTH_SHORT\n                                )\n                                Log.d(\"ERROR\", \"\" + t.localizedMessage)\n                            }.onTap { false }\n                            .onRender {\n                                fun onRenderListener(pages, pageWidth, pageHeight) {\n                                    fun onInitiallyRendered(pages, pageWidth, pageHeight) {\n                                        pdfView.fitToWidth(pages)\n                                    }\n                                }\n                            }.enableAnnotationRendering(true)\n                            .load()\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>I wonder why \"canvas, pageWidth, pageHeight, displayedPage, page, pageCount\" don't require type annotations.</p>\n\n<p>For \"onDraw\" and \"onDrawAll\", their parameters are enclosed in braces {}, while for \"onRender\", \"pages, pageWidth, pageHeight\" are enclosed in parenthese ().</p>\n\n<p>How should I write .onRender?</p>\n"}, {"tags": ["android", "kotlin", "scheduler", "jobs", "android-alarms"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1559121024, "post_id": 56356808, "comment_id": 99317861, "body": "No worries about the database. If your alarm fires and its code is running, that means your app is running (although not in the foreground with a UI visible) and you can access the database. You don&#39;t need to replace the alarm because when the alarm fires, the data you get from the database is the actual current data. Next to that you should probably indeed use WorkManager for this, just need to calculate how long to delay the job (how long until the begin of the next money)"}, {"owner": {"reputation": 3814, "user_id": 3003927, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/17f1e4ed531bf4b9b2c0ce3e273e3485?s=128&d=identicon&r=PG", "display_name": "Chen Li Yong", "link": "https://stackoverflow.com/users/3003927/chen-li-yong"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1559121075, "post_id": 56356808, "comment_id": 99317889, "body": "@TimCastelijns oh alright, thanks for this confirmation!"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1559121261, "post_id": 56356808, "comment_id": 99317999, "body": "Sidenote, there is no need to use <code>this.</code> unless e.g. you have to distinguish between variables with the same name"}, {"owner": {"reputation": 3814, "user_id": 3003927, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/17f1e4ed531bf4b9b2c0ce3e273e3485?s=128&d=identicon&r=PG", "display_name": "Chen Li Yong", "link": "https://stackoverflow.com/users/3003927/chen-li-yong"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1559123036, "post_id": 56356808, "comment_id": 99319013, "body": "@TimCastelijns yes I understand that. I just want to give context that they\u2019re custom methods within the class that you can just waive for the implementation when giving solution (just think that it\u2019s already there)."}], "answers": [{"comments": [{"owner": {"reputation": 3814, "user_id": 3003927, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/17f1e4ed531bf4b9b2c0ce3e273e3485?s=128&d=identicon&r=PG", "display_name": "Chen Li Yong", "link": "https://stackoverflow.com/users/3003927/chen-li-yong"}, "edited": false, "score": 0, "creation_date": 1559121022, "post_id": 56356907, "comment_id": 99317856, "body": "Oh, interesting. Never heard about WorkManager before. I&#39;m reading about it, and will let you know!"}], "tags": [], "owner": {"reputation": 1223, "user_id": 5766460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e509c2a1c9cecaff5d20b3c134e61469?s=128&d=identicon&r=PG&f=1", "display_name": "MarkWalczak", "link": "https://stackoverflow.com/users/5766460/markwalczak"}, "is_accepted": false, "score": 0, "last_activity_date": 1559121446, "last_edit_date": 1559121446, "creation_date": 1559120855, "answer_id": 56356907, "question_id": 56356808, "link": "https://stackoverflow.com/questions/56356808/what-do-i-need-to-do-to-accomplish-fire-a-job-alarm-once-at-the-beginning-of-ne/56356907#56356907", "title": "What do I need to do to accomplish &quot;fire a job/alarm once at the beginning of next month to call an API&quot; in Kotlin?", "body": "<p>If you don't have to start app at exact time the best way to do that is with the </p>\n\n<p><a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/basics.html\" rel=\"nofollow noreferrer\">WorkManager</a></p>\n\n<p>You call it:</p>\n\n<pre><code>val uploadWorkRequest = OneTimeWorkRequestBuilder&lt;YourWorker&gt;()\n        .build()\nWorkManager.getInstance().enqueue(uploadWorkRequest)\n</code></pre>\n\n<p>You can set a delay chaining this:</p>\n\n<p>.setInitialDelay(duration, TimeUnit)</p>\n"}], "owner": {"reputation": 3814, "user_id": 3003927, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/17f1e4ed531bf4b9b2c0ce3e273e3485?s=128&d=identicon&r=PG", "display_name": "Chen Li Yong", "link": "https://stackoverflow.com/users/3003927/chen-li-yong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559121446, "creation_date": 1559120538, "question_id": 56356808, "link": "https://stackoverflow.com/questions/56356808/what-do-i-need-to-do-to-accomplish-fire-a-job-alarm-once-at-the-beginning-of-ne", "title": "What do I need to do to accomplish &quot;fire a job/alarm once at the beginning of next month to call an API&quot; in Kotlin?", "body": "<p>I'm new to Kotlin and Android, and as I try to research about job scheduler in Kotlin/Android, I'm overwhelmed with lots of ways, but all seems complicated in their own ways.</p>\n\n<p>I'm developing a simple app that recording customer's feedback, that's mostly offline. But it has one feature that's online, and that is for sending report to some email addresses, via the help of an API, at the beginning of every month.</p>\n\n<p>I need the simplest way to implement this, which:</p>\n\n<ul>\n<li>Can execute whether the app is active or destroyed -- so as a service?</li>\n<li>Does not have to be exact (inexact time is okay).</li>\n<li>I just need to fire once, because the app will set for next fire when the user interact with the app. Doesn't need to be repeated.</li>\n<li>Fire it at the beginning of next month.</li>\n<li>I can replace the existing job with the new job, if the previous job hasn't fired yet but the user already does another interaction with the app, as the report summarizes the whole month of activity. I read that alarm / job with the \"same intent\" can replace one another, although I'm not sure what that actually looks like in implementation.</li>\n<li>Because the data is in database, and I think I probably can't access the database when the app is inactive, I think I can put the data to be sent in the user shared preferences each time I set the job/alarm. I read somewhere that background service can read from shared preferences.</li>\n<li>Need to do network call.</li>\n</ul>\n\n<p>So, if, for example, the needed data to sent is already on the shared preferences, what is the simplest / most basic way to accomplish this?</p>\n\n<pre><code>fun userDoInteractionWithApp (data: Data) {\n    this.process (data)\n    val report = this.generateThisMonthReport()\n    this.scheduleNextReport(report, Date())\n}\n\nfun scheduleNextReport(report: String, curDate: Date) {\n    this.saveToSharedPreferences (\"report\", report)\n    val c = Calendar.getInstance()\n    c.time = curDate\n    c.add(Calendar.MONTH, 1)\n    c.set(Calendar.DAY_OF_MONTH, 1)\n    c.set(Calendar.HOUR_OF_DAY, 10)\n    val targetDate = c.time\n\n    // and then?\n}\n\nfun sendReport() { // I want to fire this function, for example\n    val report = this.loadFromSharedPreferences (\"report\") as String\n    Network.sendReport(senderEmail, destinationEmail, \"This is the report\", report) // will run synchronously\n}\n</code></pre>\n"}, {"tags": ["android", "json", "parsing", "kotlin", "gson"], "comments": [{"owner": {"reputation": 775, "user_id": 5550768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t4f0T.jpg?s=128&g=1", "display_name": "Erythrozyt", "link": "https://stackoverflow.com/users/5550768/erythrozyt"}, "edited": false, "score": 1, "creation_date": 1559120548, "post_id": 56356352, "comment_id": 99317582, "body": "If your Submission Class looks like that than you get all values into one class. So you don&#39;t need to have a List&lt;List&lt;Submission?&gt;?&gt;?. You need a List&lt;Submission&gt; and you have to map your Values to the entries. Check this answer: <a href=\"https://stackoverflow.com/questions/43587973/how-to-deserialize-some-specific-fields-only-from-json-using-gson\" title=\"how to deserialize some specific fields only from json using gson\">stackoverflow.com/questions/43587973/&hellip;</a>.  But to me it looks like the JSON has a bad format if you want to have it in a class."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 2, "creation_date": 1559122222, "post_id": 56356352, "comment_id": 99318544, "body": "Write your own <code>TypeAdapter</code> which will read array and assign values to your object."}], "owner": {"reputation": 95, "user_id": 2758910, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48a82eb21aab4cb8260d70e2a734164f?s=128&d=identicon&r=PG", "display_name": "Esraa", "link": "https://stackoverflow.com/users/2758910/esraa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1559213834, "creation_date": 1559119097, "question_id": 56356352, "link": "https://stackoverflow.com/questions/56356352/how-to-map-list-of-json-integers-to-object-with-the-same-number-of-integer-varia", "title": "How to map list of Json integers to object with the same number of integer variables?", "body": "<p>I am having a Json response returned by server, I created a model to represent this response with Kotlin data class. Part of the response is list of integers, and I want to serialize it in object with the same number of variables.</p>\n\n<p>I am trying to model this JSON response</p>\n\n<pre><code>{\n  \"name\": \"My name\",\n  \"uname\": \"UserName\",\n  \"subs\": [\n    [\n      8595622,\n      49,\n      30,\n      0,\n      1298408619,\n      3,\n      -1\n    ],\n    [\n      8595636,\n      49,\n      30,\n      0,\n      1298409745,\n      3,\n      -1\n    ]\n  ]\n}\n</code></pre>\n\n<p>The below code works fine in parsing</p>\n\n<pre><code>data class UserSubmission(\n\n        @field:SerializedName(\"uname\")\n        val username: String? = null,\n\n        @field:SerializedName(\"subs\")\n        val subs: List&lt;List&lt;Int?&gt;?&gt;? = null,\n\n        @field:SerializedName(\"name\")\n        val name: String? = null\n)\n</code></pre>\n\n<p>My problem is that I need the \n<code>subs: List&lt;List&lt;Int?&gt;?&gt;?</code> to be <code>subs: List&lt;List&lt;Submission?&gt;?&gt;?</code>\nAssuming Submission class is like that</p>\n\n<pre><code>class Submission {\n      val x1: Int = 0,\n      val x2: Int = 0,\n      val x3: Int = 0,\n      val x4: Int = 0,\n      val x5: Int = 0,\n      val x6: Int = 0,\n      val x7: Int = 0\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1559132922, "post_id": 56355121, "comment_id": 99324583, "body": "1. I wouldn&#39;t. Some constants make sense together, others not. 2. If you do put them in one file, why wrap them in <code>object Constants</code>? <a href=\"https://discuss.kotlinlang.org/t/best-practices-for-top-level-declarations/219\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a>: &quot;The recommended practice is to never use object for creating namespaces, and to always use top-level declarations when possible. We haven\u2019t found name conflicts to be an issue, and if you do get a conflict, you can resolve it using an import with alias.&quot;"}, {"owner": {"reputation": 436, "user_id": 7074873, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/I6hes.jpg?s=128&g=1", "display_name": "Jay Patel", "link": "https://stackoverflow.com/users/7074873/jay-patel"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1559198651, "post_id": 56355121, "comment_id": 99347762, "body": "Yeah make sense!!"}], "tags": [], "owner": {"reputation": 436, "user_id": 7074873, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/I6hes.jpg?s=128&g=1", "display_name": "Jay Patel", "link": "https://stackoverflow.com/users/7074873/jay-patel"}, "is_accepted": false, "score": 2, "last_activity_date": 1559114589, "creation_date": 1559114589, "answer_id": 56355121, "question_id": 56354908, "link": "https://stackoverflow.com/questions/56354908/should-i-create-a-new-file-for-consts/56355121#56355121", "title": "Should I create a new file for consts?", "body": "<p>I would suggest to just use separate Kotlin object file <em>Constants.kt</em>.</p>\n\n<p>This will help you to manage constants at one place in a big project, particularly on scale, it'll be needed.</p>\n\n<pre><code>object Constants {\n\n  object BundleKeys {\n    val A = \"a\"\n  }\n\n  object ActivityResultCodes {\n    val B = 1092\n  }\n\n  object FragmentTags {\n    val C = \"c\"\n  }\n\n  object BundleExtraParams {\n    val D = \"d\"\n  }\n\n}\n</code></pre>\n\n<p>This will help you to keep separate constants in separate objects inside <em>Constants.kt</em> object</p>\n\n<p>So you can access those like <em>Constants.BundleKeys.A</em> or <em>Constants.ActivityResultCodes.B</em></p>\n"}], "owner": {"reputation": 23, "user_id": 11434030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1776dc6b0d3e3e98b2ebeeb1ab3c7aa6?s=128&d=identicon&r=PG&f=1", "display_name": "kamilmaestro", "link": "https://stackoverflow.com/users/11434030/kamilmaestro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1559114589, "creation_date": 1559113832, "question_id": 56354908, "link": "https://stackoverflow.com/questions/56354908/should-i-create-a-new-file-for-consts", "title": "Should I create a new file for consts?", "body": "<p>I'm wondering where should I keep my constants? \nI've read about creating a new file where I can store all my constants. The problem is that more variables like that mean more code. In case of creating a big project should I create several files? Not sure. \nI also used to keep my constants in the xml file(strings.xml). \nThe third option is to have those consts as top-level variables. I have noticed that when I had added such constant before the name of class Kotlin has changed that class to a file. It's uncommon for me behavior that's why I am asking. I used to store my const in Java in that class/package where I have needed them. Const in Kotlin are compile-time. Is this similar to the action of #DEFINE in C? </p>\n\n<p>I hope I will solve my problems on how to properly use and store constants in Kotlin. Thanks :D</p>\n"}, {"tags": ["android", "kotlin", "parcelable"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1559114739, "post_id": 56354822, "comment_id": 99314420, "body": "You could consider <code>@Parcelize</code> and don&#39;t implement the <code>Parcelable</code> interface yourself."}, {"owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1559115280, "post_id": 56354822, "comment_id": 99314724, "body": "<a href=\"https://android.jlelse.eu/android-studio-tips-for-productivity-1-6015fc469a6d\" rel=\"nofollow noreferrer\">android.jlelse.eu/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 9429718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d17db04da1d475c6937303e498d878c2?s=128&d=identicon&r=PG&f=1", "display_name": "fishhau", "link": "https://stackoverflow.com/users/9429718/fishhau"}, "edited": false, "score": 0, "creation_date": 1559114252, "post_id": 56354912, "comment_id": 99314163, "body": "Thanks for the helpful info. I&#39;ll have to cast it like so: <code>source.createStringArrayList() as MutableList&lt;String&gt;</code>. Is that correct?   Also, is my usage of <code>writeStringList()</code> above correct?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 319, "user_id": 9429718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d17db04da1d475c6937303e498d878c2?s=128&d=identicon&r=PG&f=1", "display_name": "fishhau", "link": "https://stackoverflow.com/users/9429718/fishhau"}, "edited": false, "score": 0, "creation_date": 1559132548, "post_id": 56354912, "comment_id": 99324330, "body": "There should be no need to cast anything; it returns an <code>ArrayList&lt;String&gt;</code> which is a subtype of <code>MutableList&lt;String&gt;</code>. <code>writeStringList</code> should be correct, yes. (And look into <code>@Parcelize</code> as the comments mentioned.)"}, {"owner": {"reputation": 319, "user_id": 9429718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d17db04da1d475c6937303e498d878c2?s=128&d=identicon&r=PG&f=1", "display_name": "fishhau", "link": "https://stackoverflow.com/users/9429718/fishhau"}, "edited": false, "score": 0, "creation_date": 1559177042, "post_id": 56354912, "comment_id": 99342927, "body": "Thanks for the clarification. I was doubtful of using Parcelize when I started the project since some developers reported unexpected behavior with it sometimes as it&#39;s still an experimental feature. I didn&#39;t want to take the risk facing difficulties down the road so I manually implemented <code>Parcelable</code>. Once it is not experimental anymore, I&#39;ll for sure implement it in my project. It&#39;s nice not having to worry about modifying the <code>Parcel</code> methods everytime  I need to add or remove a property."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1559113844, "creation_date": 1559113844, "answer_id": 56354912, "question_id": 56354822, "link": "https://stackoverflow.com/questions/56354822/how-to-read-a-mutableliststring-to-parcelable/56354912#56354912", "title": "How to read a MutableList&lt;String&gt; to Parcelable?", "body": "<p>Use <a href=\"https://developer.android.com/reference/android/os/Parcel.html#createStringArrayList()\" rel=\"nofollow noreferrer\"><code>createStringArrayList()</code></a>. <code>readStringList</code> is intended to reuse a single <code>List</code> instead of creating a new one each time, this isn't what you want here.</p>\n"}], "owner": {"reputation": 319, "user_id": 9429718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d17db04da1d475c6937303e498d878c2?s=128&d=identicon&r=PG&f=1", "display_name": "fishhau", "link": "https://stackoverflow.com/users/9429718/fishhau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 0, "accepted_answer_id": 56354912, "answer_count": 1, "score": 0, "last_activity_date": 1559115108, "creation_date": 1559113498, "last_edit_date": 1559115108, "question_id": 56354822, "link": "https://stackoverflow.com/questions/56354822/how-to-read-a-mutableliststring-to-parcelable", "title": "How to read a MutableList&lt;String&gt; to Parcelable?", "body": "<p>I have a class <code>User</code> that implements the <code>Parcelable</code> interface. <code>User</code> also has a property of type <code>MutableList&lt;String&gt;</code>. I would like to know how to read/write this type for <code>Parcelable</code>. </p>\n\n<p>Here's my code so far</p>\n\n<pre><code>data class User(\n    val contactNumber: String,\n    val email: String,\n    val fullName: String,\n    var instanceToken: String,\n    val isAdmin: Boolean,\n    val isValid: Boolean,\n    val organization: String,\n    val registrationTokens: MutableList&lt;String&gt;,\n    val uid: String,\n    val unitNumber: String\n) : Parcelable {\n\n    constructor(source: Parcel) : this(\n        source.readString() ?: \"\",\n        source.readString() ?: \"\",\n        source.readString() ?: \"\",\n        source.readString() ?: \"\",\n        source.readBoolean(),\n        source.readBoolean(),\n            source.readString() ?: \"\",\n            source.readStringList(),\n            source.readString() ?: \"\",\n        source.readString() ?: \"\"\n    )\n\n    override fun writeToParcel(dest: Parcel?, flags: Int) {\n        dest?.let {\n            it.writeString(contactNumber)\n            it.writeString(email)\n            it.writeString(fullName)\n            it.writeString(instanceToken)\n            it.writeBoolean(isAdmin)\n            it.writeBoolean(isValid)\n            it.writeString(organization)\n            it.writeStringList(registrationTokens)\n            it.writeString(uid)\n            it.writeString(unitNumber)\n        }\n\n    }\n</code></pre>\n\n<p>For the write part, there's a <code>writeStringList()</code> method which is convenient. But for the read part, the provided <code>readStringList()</code> does not actually return <code>MutableList&lt;String&gt;</code>. It only returns <code>Unit</code> / <code>void</code>. Hence, it spits out a compilation error.</p>\n\n<p>What is the proper way of doing this?</p>\n"}, {"tags": ["kotlin", "rx-android"], "answers": [{"comments": [{"owner": {"reputation": 1527, "user_id": 3649894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4074181c04268447f2d8c5b691e584?s=128&d=identicon&r=PG&f=1", "display_name": "kobowo", "link": "https://stackoverflow.com/users/3649894/kobowo"}, "edited": false, "score": 0, "creation_date": 1559116529, "post_id": 56355137, "comment_id": 99315381, "body": "Thanks! This is what I needed. It worked as intended. If there any super noobs out there (like me) I just checked onDestroyView() and onDestroy() by logging the isDisposed property to check that it was disposed."}, {"owner": {"reputation": 1527, "user_id": 3649894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4074181c04268447f2d8c5b691e584?s=128&d=identicon&r=PG&f=1", "display_name": "kobowo", "link": "https://stackoverflow.com/users/3649894/kobowo"}, "edited": false, "score": 0, "creation_date": 1559119224, "post_id": 56355137, "comment_id": 99316814, "body": "Correction to what I last said... don&#39;t do it on onViewDestroy if you&#39;re using tabs. That would end up with a crash if you&#39;re other tabs are also observing the same thing."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 1, "last_activity_date": 1559114633, "creation_date": 1559114633, "answer_id": 56355137, "question_id": 56354527, "link": "https://stackoverflow.com/questions/56354527/disposing-maybe-in-rxandroid/56355137#56355137", "title": "Disposing Maybe in RxAndroid", "body": "<p>You don't need to dispose of the <code>Maybe</code> after your code was executed. You should dispose any observable, whenever you need the cancel the underlying action to. Since you're using Android, the action is triggered from within some lifecycle aware component. This could be <code>Activity</code>, <code>Fragment</code> or <code>Service</code>. If you trigger the call from a <code>BroadcastReceiver</code> you should start a service to do this instead.</p>\n\n<p>For any of these components you have a method <code>onDestroy</code> where you can dispose of the observable. The only thing you have to make sure is to propagate the <code>Disposable</code> up to this level:</p>\n\n<pre><code>private fun getUserStatus(callback: () -&gt; Unit): Disposable =\n    RxFirebaseDatabase\n      .observeSingleValueEvent(myQuery,(entry::class.java))\n      .subscribe ({ item -&gt;\n          myEntry = item\n          callback()\n      },{ e -&gt;\n          Log.e(\"Error\", e.message)\n      })\n</code></pre>\n"}], "owner": {"reputation": 1527, "user_id": 3649894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4074181c04268447f2d8c5b691e584?s=128&d=identicon&r=PG&f=1", "display_name": "kobowo", "link": "https://stackoverflow.com/users/3649894/kobowo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 56355137, "answer_count": 1, "score": 2, "last_activity_date": 1559114633, "creation_date": 1559112283, "question_id": 56354527, "link": "https://stackoverflow.com/questions/56354527/disposing-maybe-in-rxandroid", "title": "Disposing Maybe in RxAndroid", "body": "<p>I'm new to the reactive world so please bear with me if what I'm saying is wrong (please correct me!).</p>\n\n<p>So I was searching through google and here for something similar but I think I haven't seen anyting around the avenue of what I've done. I'm using the Rx2Firebase library to get some data from my database using the <code>RxFirebaseDatabase.observeSingleValueEvent</code> method and I couldn't wrap my head around how I would go about disposing the Observable I made. So this method returns a Maybe and I want to dispose of that Maybe after executing my code but I'm unsure as to how (read on below as to why).</p>\n\n<p><strong>My current code looks something like this:</strong></p>\n\n<pre><code>private fun getUserStatus(callback: () -&gt; Unit) {\n\nRxFirebaseDatabase\n    .observeSingleValueEvent(myQuery,(entry::class.java))\n    .subscribe ({ item\n     myEntry = item\n     callback()\n   },{ e\n     Log.e(\"Error\", e.message)\n   })\n}\n</code></pre>\n\n<p>From what I've read, observables are assigned to a <code>Disposable</code> variable and then I think that variable would be disposed? something like <code>var disposable: Disposable = &lt;Insert my code above for calling Firebase&gt;</code> and you would do so (from what I've read) inside <code>onDestroy</code>. My question would be how would I do this if my code isn't executed within an Activity or a Fragment? I couldn't just add a <code>dispose()</code> at the end of my code after <code>.subscribe</code> since that would just end the call before it finished.</p>\n"}, {"tags": ["android", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1559110217, "post_id": 56353967, "comment_id": 99312406, "body": "As you want only a single coroutine ? <code>withContext</code> is fine .. go through <a href=\"https://stackoverflow.com/questions/50230466/kotlin-withcontext-vs-async-await\" title=\"kotlin withcontext vs async await\">stackoverflow.com/questions/50230466/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 1, "last_activity_date": 1559109841, "creation_date": 1559109841, "answer_id": 56354043, "question_id": 56353967, "link": "https://stackoverflow.com/questions/56353967/confusing-about-kotlin-coroutines-execution-where-to-call-await/56354043#56354043", "title": "Confusing about Kotlin Coroutines execution: where to call await()?", "body": "<p>You can take your deffered job in variable and then await it on your <strong>Main dispatcher</strong> like below :</p>\n\n<pre><code>try {\n        //Rather than await here, you take your Job as Deffered\n        val request: Deferred? = RestClient.instance.getItems()\n\n        withContext(Dispatchers.Main) {\n            //Yes, you can await here because it's non-blocking call and can be safely obtained from here once completed\n            val result = request?.await()\n            if (request.isSuccessful) {\n               //asign items to ViewModel\n\n            } else {\n                //asign error to ViewModel\n            }\n        }\n\n    } catch (e: Exception) {\n        withContext(Dispatchers.Main) {\n            //asign error to ViewModel\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>What official doc states about <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-deferred/await.html\" rel=\"nofollow noreferrer\"><code>await()</code></a> :</p>\n</blockquote>\n\n<p>Awaits for completion of this value <strong>without blocking a thread</strong> and resumes when deferred computation is complete, returning the <strong>resulting value</strong> or <strong>throwing the corresponding exception</strong> if the deferred was cancelled.</p>\n\n<p>This suspending function is cancellable. If the Job of the current coroutine is cancelled or completed while this suspending function is waiting, this function immediately resumes with CancellationException.</p>\n\n<p>This function can be used in select invocation with onAwait clause. Use isCompleted to check for completion of this deferred value without waiting.</p>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1559113984, "creation_date": 1559113984, "answer_id": 56354951, "question_id": 56353967, "link": "https://stackoverflow.com/questions/56353967/confusing-about-kotlin-coroutines-execution-where-to-call-await/56354951#56354951", "title": "Confusing about Kotlin Coroutines execution: where to call await()?", "body": "<p>As Coroutines are suspending instead of blocking, there should not be any need to manage the thread they are running on. In your case <em>Retrofit</em> handles this for you. Also the <code>Deferred</code> type is actually a hot data source. This means that the <code>Call</code> is executed before you even call <code>await</code> on it. <code>await</code> just waits for the data to be there.</p>\n\n<p>So instead you can launch on the <code>Main</code> dispatcher directly. Therefore you only have one place to call <code>await()</code> from.</p>\n\n<pre><code>viewModelScope.launch(Dispatchers.Main) {\n    try {\n        val request = RestClient.instance.getItems().await()\n\n        if (request.isSuccessful) {\n            //asign items to ViewModel\n        } else {\n            //asign error to ViewModel\n        }\n    } catch (e: Exception) {\n        //asign error to ViewModel\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5592, "user_id": 3595288, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LpxJj.jpg?s=128&g=1", "display_name": "Choletski", "link": "https://stackoverflow.com/users/3595288/choletski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1559113984, "creation_date": 1559109413, "last_edit_date": 1559109743, "question_id": 56353967, "link": "https://stackoverflow.com/questions/56353967/confusing-about-kotlin-coroutines-execution-where-to-call-await", "title": "Confusing about Kotlin Coroutines execution: where to call await()?", "body": "<p>I read a lot of docs about Kotlin coroutines but still having some doubts. I'm using Retrofit with coroutines so I need to do request with Dispatchers.IO context but use result within Dispatchers.Main context to assign it to ViewModel. My code is:</p>\n\n<pre><code>fun doHttpreq() {\n    viewModelScope.launch(Dispatchers.IO) {\n        try {\n            //should I call await() here? (I guess the correct way to keep execution of request outside of Main thread)\n            val request = RestClient.instance.getItems().await()\n\n            withContext(Dispatchers.Main) {\n                //or should I call await() here? (BUT need request to be executed outside of Main thread!)\n\n                if (request.isSuccessful) {\n                   //asign items to ViewModel\n\n                } else {\n                    //asign error to ViewModel\n                }\n            }\n\n        } catch (e: Exception) {\n            withContext(Dispatchers.Main) {\n                //asign error to ViewModel\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-connectivitymanager"], "comments": [{"owner": {"reputation": 3386, "user_id": 2771851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ba4449cf9195bd87dc11cb784acc6c?s=128&d=identicon&r=PG", "display_name": "Jeroen Mols", "link": "https://stackoverflow.com/users/2771851/jeroen-mols"}, "edited": false, "score": 0, "creation_date": 1559896018, "post_id": 56353916, "comment_id": 99570243, "body": "TL;DR: I don&#39;t think you can.   Lint currently doesn&#39;t check for deprecated code (only deprecated xml attributes&amp;libraries: <a href=\"https://android.googlesource.com/platform/tools/base/+log/studio-master-dev/lint/libs/lint-checks/src/main/java/com/android/tools/lint/checks\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/tools/base/+log/&hellip;</a>) so deprecation is checked by Java/Kotlin compiler by looking for   @Deprecated annotations.  What you need is a check that knows this is a code path for a specific Android version (&lt; M), look into the SDK of that Android version (M) to see if it&#39;s deprecated and only then flag it. Would make sense to file a Lint issue imho."}, {"owner": {"reputation": 64, "user_id": 5725657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdaa5e4ae631f9d94d6f503785d443e?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Gupta", "link": "https://stackoverflow.com/users/5725657/ankit-gupta"}, "reply_to_user": {"reputation": 3386, "user_id": 2771851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ba4449cf9195bd87dc11cb784acc6c?s=128&d=identicon&r=PG", "display_name": "Jeroen Mols", "link": "https://stackoverflow.com/users/2771851/jeroen-mols"}, "edited": false, "score": 0, "creation_date": 1559897439, "post_id": 56353916, "comment_id": 99570956, "body": "Yes , i want to change else condition code for version &lt; M and &gt;16 so that warning can be removed and i can check network condition without deprecation warning on 29 version."}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1559921928, "post_id": 56353916, "comment_id": 99583711, "body": "This is a duplicate of <a href=\"https://stackoverflow.com/questions/52816443/what-is-alternative-to-connectivitymanager-type-wifi-deprecated-in-android-p-api\" title=\"what is alternative to connectivitymanager type wifi deprecated in android p api\">stackoverflow.com/questions/52816443/&hellip;</a>"}, {"owner": {"reputation": 64, "user_id": 5725657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdaa5e4ae631f9d94d6f503785d443e?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Gupta", "link": "https://stackoverflow.com/users/5725657/ankit-gupta"}, "edited": false, "score": 0, "creation_date": 1560150778, "post_id": 56353916, "comment_id": 99628275, "body": "I had checked this link before.Please double check the code before commenting it is duplicate.I want to support all version not only above M version which NetworkCapabilities support."}], "answers": [{"comments": [{"owner": {"reputation": 64, "user_id": 5725657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdaa5e4ae631f9d94d6f503785d443e?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Gupta", "link": "https://stackoverflow.com/users/5725657/ankit-gupta"}, "edited": false, "score": 1, "creation_date": 1559639774, "post_id": 56437236, "comment_id": 99475090, "body": "I don&#39;t want to use @Suppress(&quot;DEPRECATION&quot;).This is not the correct way to do it.I want to change in code or to replace the code so that the warning automatically gone without using deprecation code ."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 64, "user_id": 5725657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdaa5e4ae631f9d94d6f503785d443e?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Gupta", "link": "https://stackoverflow.com/users/5725657/ankit-gupta"}, "edited": false, "score": 1, "creation_date": 1559995292, "post_id": 56437236, "comment_id": 99599800, "body": "@AnkitGupta actually using <code>@Suppress(&quot;DEPRECATION&quot;)</code> is the correct way to handle this. The deprecation is a warning and as long as you support versions having this API and compiling with versions providing the signature, everything is good. If your minimal SDK is set to 21, you could also only use the if-branch, as it was introduced in Android L."}], "tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1559621430, "creation_date": 1559621430, "answer_id": 56437236, "question_id": 56353916, "link": "https://stackoverflow.com/questions/56353916/connectivitymanager-type-wifi-is-showing-deprecated-in-code-i-had-use-network-ca/56437236#56437236", "title": "ConnectivityManager.TYPE_WIFI is showing deprecated in code.I had use Network Capabilities in above M version , want to remove warning of deprecated", "body": "<p>Try this </p>\n\n<p>You can use <strong><code>@Suppress(\"DEPRECATION\")</code></strong> to remove that warning</p>\n\n<p><strong>SAMPLE CODE</strong></p>\n\n<pre><code>import android.content.Context\nimport android.net.ConnectivityManager\nimport android.net.NetworkCapabilities\nimport android.os.Build\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\n\nclass Main2Activity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main2)\n\n        val networkResult = getConnectionType(this)\n\n    }\n\n    @Suppress(\"DEPRECATION\")\n    fun getConnectionType(context: Context): Boolean {\n        var result = false\n        val cm = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager?\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            cm?.run {\n                cm.getNetworkCapabilities(cm.activeNetwork)?.run {\n                    if (hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\n                        result = true\n                    } else if (hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\n                        result = true\n                    }\n                }\n            }\n        } else {\n            cm?.run {\n                cm.activeNetworkInfo?.run {\n                    if (type == ConnectivityManager.TYPE_WIFI) {\n                        result = true\n                    } else if (type == ConnectivityManager.TYPE_MOBILE) {\n                        result = true\n                    }\n                }\n            }\n        }\n        return result\n    }\n}\n</code></pre>\n\n<p><strong>CHECK THE SCREENSHOT</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/5dCsU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5dCsU.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 64, "user_id": 5725657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdaa5e4ae631f9d94d6f503785d443e?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Gupta", "link": "https://stackoverflow.com/users/5725657/ankit-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 646, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559921909, "creation_date": 1559109147, "question_id": 56353916, "link": "https://stackoverflow.com/questions/56353916/connectivitymanager-type-wifi-is-showing-deprecated-in-code-i-had-use-network-ca", "title": "ConnectivityManager.TYPE_WIFI is showing deprecated in code.I had use Network Capabilities in above M version , want to remove warning of deprecated", "body": "<p>I want to remove the warning which is showing in the code below m version.I had use below code which is working good but still want to remove the warning which is showing in line ConnectivityManager.TYPE_WIFI.Can below warning be removed which is also showing in kotlin compiler ??</p>\n\n<pre><code>val cm = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager?\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            cm?.run {\n                cm.getNetworkCapabilities(cm.activeNetwork)?.run {\n                    if (hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\n                        return true\n                    } else if (hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\n                        return true\n                    }\n                }\n            }\n        } else {\n            cm?.run {\n                cm.activeNetworkInfo?.run {\n                    if (type == ConnectivityManager.TYPE_WIFI) {\n                        return true\n                    } else if (type == ConnectivityManager.TYPE_MOBILE) {\n                        return true\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>Warning :- 'getter for type: Int' is deprecated.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-lateinit"], "comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 1, "creation_date": 1559108904, "post_id": 56353828, "comment_id": 99311875, "body": "I don&#39;t know the specifics, but if you think about it, if you&#39;d allow that why would you make it <code>lateinit</code>? Just initialise it to <code>null</code>."}, {"owner": {"reputation": 1185, "user_id": 8601451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HRP38.jpg?s=128&g=1", "display_name": "Abraham Mathew", "link": "https://stackoverflow.com/users/8601451/abraham-mathew"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1559130382, "post_id": 56353828, "comment_id": 99323066, "body": "Look i know i will initialise it with some value but that will be a nullable value, on assigning that value to the variable we declared it will show a warning"}], "answers": [{"tags": [], "owner": {"reputation": 11426, "user_id": 1573279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0J39C.jpg?s=128&g=1", "display_name": "Gunaseelan", "link": "https://stackoverflow.com/users/1573279/gunaseelan"}, "is_accepted": true, "score": 7, "last_activity_date": 1559108930, "creation_date": 1559108930, "answer_id": 56353870, "question_id": 56353828, "link": "https://stackoverflow.com/questions/56353828/why-late-init-var-cannot-be-used-with-nullable/56353870#56353870", "title": "Why late init var cannot be used with Nullable?", "body": "<p><code>lateinit</code> is only for avoid null checks in future, that's why <code>lateinit</code> modifier is not allowed on properties of nullable types. </p>\n\n<p>If you want it to be <code>nullable</code> then simply you can use like <code>var b: String? = null</code></p>\n"}, {"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1559133724, "post_id": 56353883, "comment_id": 99325108, "body": "Quote documentation (and other answer sources) instead of just copying it."}], "tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 1, "last_activity_date": 1559134654, "last_edit_date": 1559134654, "creation_date": 1559108991, "answer_id": 56353883, "question_id": 56353828, "link": "https://stackoverflow.com/questions/56353828/why-late-init-var-cannot-be-used-with-nullable/56353883#56353883", "title": "Why late init var cannot be used with Nullable?", "body": "<blockquote>\n  <p>Normally, properties declared as having a <strong>non-null type</strong> must be\n  initialized in the constructor. However, fairly often this is not\n  convenient. </p>\n  \n  <p>For example, properties can be initialized through dependency\n  injection, or in the setup method of a unit test. In this case, you\n  cannot supply a <strong>non-null initializer</strong> in the constructor, but you\n  still want to avoid <strong>null checks</strong> when referencing the property\n  inside the body of a class.</p>\n  \n  <p>To handle this case, you can mark the property with the <code>lateinit</code>\n  modifier.</p>\n</blockquote>\n\n<p>That's why it doesn't support <strong>null</strong>.</p>\n\n<p>So, if you indicate any <strong>var</strong> as <strong>lateinit</strong> meaning compiler simply ignores it for initialization and mark it as <strong>non-null type</strong> that would be initialized in nearer future and is why it doesn't support nullable type to avoid runtime ambiguities.</p>\n"}, {"tags": [], "owner": {"reputation": 29117, "user_id": 1587329, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/UWmiP.png?s=128&g=1", "display_name": "serv-inc", "link": "https://stackoverflow.com/users/1587329/serv-inc"}, "is_accepted": false, "score": 1, "last_activity_date": 1559109089, "creation_date": 1559109089, "answer_id": 56353908, "question_id": 56353828, "link": "https://stackoverflow.com/questions/56353828/why-late-init-var-cannot-be-used-with-nullable/56353908#56353908", "title": "Why late init var cannot be used with Nullable?", "body": "<blockquote>\n  <p>Kotlin's type system is aimed at eliminating the danger of null references from code</p>\n</blockquote>\n\n<p>so both represent compromises. With <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\"><code>lateinit</code></a> you ensure that the variable will eventually be initialized to non-null. If you cannot even guarantee that, you can use <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#nullable-types-and-non-null-types\" rel=\"nofollow noreferrer\">nullable</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "is_accepted": false, "score": 3, "last_activity_date": 1559109126, "creation_date": 1559109126, "answer_id": 56353913, "question_id": 56353828, "link": "https://stackoverflow.com/questions/56353828/why-late-init-var-cannot-be-used-with-nullable/56353913#56353913", "title": "Why late init var cannot be used with Nullable?", "body": "<p>If you want to make a variable of nullable type then you don't need late init . The doc says</p>\n\n<blockquote>\n  <p>Normally, properties declared as having a non-null type must be initialized in the constructor.\n  However, fairly often this is not convenient. For example, properties can be initialized through\n  dependency injection, or in the setup method of a unit test. In this case, you cannot supply a nonnull\n  initializer in the constructor, but you still want to avoid null checks when referencing the\n  property inside the body of a class.</p>\n</blockquote>\n\n<p>So late init is intended to be used when you intend to initialize a variable somewhere not in the constructor and also want to avoid null checks.</p>\n"}, {"tags": [], "owner": {"reputation": 1740, "user_id": 1621926, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0f4fe6aaafbff5338db772d7673c0540?s=128&d=identicon&r=PG&f=1", "display_name": "Madhu", "link": "https://stackoverflow.com/users/1621926/madhu"}, "is_accepted": false, "score": 0, "last_activity_date": 1559109487, "last_edit_date": 1559109487, "creation_date": 1559109336, "answer_id": 56353950, "question_id": 56353828, "link": "https://stackoverflow.com/questions/56353828/why-late-init-var-cannot-be-used-with-nullable/56353950#56353950", "title": "Why late init var cannot be used with Nullable?", "body": "<p>One of the main feature in kotlin is Null Safe.</p>\n\n<p>By default it won't allow u to create a null value. You have explicitly defined<br>\n <code>var a: String? = null</code><br>\n            , If u don't want to initialise any value to the variable there come \"lateinit\". While using lateinit variable You do pre-check whether it is initialised or not</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1559110142, "creation_date": 1559110142, "answer_id": 56354089, "question_id": 56353828, "link": "https://stackoverflow.com/questions/56353828/why-late-init-var-cannot-be-used-with-nullable/56354089#56354089", "title": "Why late init var cannot be used with Nullable?", "body": "<p>As stated in the documentation, <code>lateinit</code> specializes on non-nullable properties:</p>\n\n<blockquote>\n  <p>Normally, properties declared as having a <strong>non-null</strong> type must be initialized in the constructor. However, fairly often this is not convenient. For example, properties can be initialized through dependency injection, or in the setup method of a unit test. In this case, you cannot supply a <strong>non-null</strong> initializer in the constructor, but <strong>you still want to avoid null checks</strong> when referencing the property inside the body of a class.</p>\n</blockquote>\n\n<p>Also, if you take a look at the byte code of such a <code>lateinit</code> property, you see that the compiler adds a code block to ensure that this property has been initialized when being accessed. For <code>lateinit</code> properties, <code>null</code> indicates the properties initial but invalid state.</p>\n\n<pre><code>class WithLateInit {\n    lateinit var something : String\n}\n</code></pre>\n\n<p>becomes </p>\n\n<pre><code>public final class WithLateInit {\n   @NotNull\n   public String something;\n\n   @NotNull\n   public final String getSomething() {\n      String var10000 = this.something;\n      if (var10000 == null) { // &lt;- here you can see the lateinit check\n         Intrinsics.throwUninitializedPropertyAccessException(\"something\");\n      }\n\n      return var10000;\n   }\n\n  //setter\n}\n</code></pre>\n"}], "owner": {"reputation": 1185, "user_id": 8601451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HRP38.jpg?s=128&g=1", "display_name": "Abraham Mathew", "link": "https://stackoverflow.com/users/8601451/abraham-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 981, "favorite_count": 0, "accepted_answer_id": 56353870, "answer_count": 6, "score": 4, "last_activity_date": 1559134654, "creation_date": 1559108677, "last_edit_date": 1559109861, "question_id": 56353828, "link": "https://stackoverflow.com/questions/56353828/why-late-init-var-cannot-be-used-with-nullable", "title": "Why late init var cannot be used with Nullable?", "body": "<p>Why can't we use <code>lateinit</code> with nullable variables?          </p>\n\n<pre><code>lateinit var v: String?\n</code></pre>\n\n<p><code>lateinit</code> modifier is not allowed on properties of nullable types</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "runtimeexception", "androidx"], "comments": [{"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1559108180, "post_id": 56353713, "comment_id": 99311624, "body": "Did you forget to implement <code>ViewModel</code> artifact?"}, {"owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1559108316, "post_id": 56353713, "comment_id": 99311676, "body": "What do you mean?"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1559108457, "post_id": 56353713, "comment_id": 99311717, "body": "Just for rain check if you&#39;re having this line in build.gradle <code>implementation &#39;androidx.lifecycle:lifecycle-viewmodel&#39;</code>."}, {"owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1559108586, "post_id": 56353713, "comment_id": 99311757, "body": "Just added it and the same problem persists."}, {"owner": {"reputation": 1442, "user_id": 11288846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDoB.png?s=128&g=1", "display_name": "Ferran", "link": "https://stackoverflow.com/users/11288846/ferran"}, "edited": false, "score": 0, "creation_date": 1559117094, "post_id": 56353713, "comment_id": 99315678, "body": "Please share your EntryViewModel class"}, {"owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "reply_to_user": {"reputation": 1442, "user_id": 11288846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDoB.png?s=128&g=1", "display_name": "Ferran", "link": "https://stackoverflow.com/users/11288846/ferran"}, "edited": false, "score": 0, "creation_date": 1559117558, "post_id": 56353713, "comment_id": 99315950, "body": "@Ferran Done.  Check the edits."}, {"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1559211410, "post_id": 56353713, "comment_id": 99353367, "body": "In my answer I said you to use keyword <code>kapt</code> instead of <code>implementation</code> for room dependencies. Did you try it?"}, {"owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "edited": false, "score": 0, "creation_date": 1559211831, "post_id": 56353713, "comment_id": 99353569, "body": "I did.  Didn&#39;t make a difference."}], "answers": [{"comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "reply_to_user": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "edited": false, "score": 0, "creation_date": 1559127769, "post_id": 56355724, "comment_id": 99321630, "body": "@oo92 Added answer about database."}, {"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "reply_to_user": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "edited": false, "score": 0, "creation_date": 1559133572, "post_id": 56355724, "comment_id": 99325008, "body": "@oo92 Added answer about annotations."}, {"owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "edited": false, "score": 0, "creation_date": 1559137908, "post_id": 56355724, "comment_id": 99327756, "body": "I have the necessary annotation for my entity class"}], "tags": [], "owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "is_accepted": false, "score": 1, "last_activity_date": 1559135536, "last_edit_date": 1559135536, "creation_date": 1559116916, "answer_id": 56355724, "question_id": 56353713, "link": "https://stackoverflow.com/questions/56353713/how-to-resolve-the-viewmodel-runtimeexception/56355724#56355724", "title": "How to resolve the ViewModel RunTimeException", "body": "<p>In the stacktrace you posted exceptions were put one in another. So the last one is main root of the problem:</p>\n\n<pre><code>Caused by: java.lang.RuntimeException: cannot find implementation for com.example.cryptpass_kt.EntryDatabase. EntryDatabase_Impl does not exist\nat androidx.room.Room...\n</code></pre>\n\n<p>As I can see from stacktrace, there is error while you trying to get instance of your database. I don't think it is good idea to get database reference in <code>ViewModel</code> constructor, but it's not essential.</p>\n\n<p>About your database code: there are some possible reasons.</p>\n\n<p><strong>1. Dependencies.</strong></p>\n\n<p>As I saw in other answers from similar questions (I think, <a href=\"https://stackoverflow.com/a/49323956/4762282\">this one</a> is the best) you should add some gradle dependencies:</p>\n\n<pre><code>// Extensions = ViewModel + LiveData\nimplementation \"android.arch.lifecycle:extensions:1.1.0\"\nkapt \"android.arch.lifecycle:compiler:1.1.0\"\n// Room\nimplementation \"android.arch.persistence.room:runtime:1.0.0\"\nkapt \"android.arch.persistence.room:compiler:1.0.0\"\n</code></pre>\n\n<p>If I get it right, Kotlin just need some additional dependencies (use keyword <code>kapt</code> instead of <code>implementation</code> for it).</p>\n\n<p><strong>2. Annotations.</strong></p>\n\n<p>Another possible reason: you didn't place <code>Entity</code> annotation to your <code>Entry</code> class (as said in <a href=\"https://stackoverflow.com/a/53876335/4762282\">this answer</a>). Another needed annotation is <code>Database</code>, but you already have it.</p>\n"}, {"comments": [{"owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "edited": false, "score": 0, "creation_date": 1559119459, "post_id": 56356393, "comment_id": 99316931, "body": "This is my current lifecycle implementation: <code>implementation &quot;android.arch.lifecycle:extensions:2.2.0-alpha01&quot;</code>"}, {"owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "edited": false, "score": 0, "creation_date": 1559120382, "post_id": 56356393, "comment_id": 99317487, "body": "Nope.  It does not."}], "tags": [], "owner": {"reputation": 1442, "user_id": 11288846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDoB.png?s=128&g=1", "display_name": "Ferran", "link": "https://stackoverflow.com/users/11288846/ferran"}, "is_accepted": true, "score": 1, "last_activity_date": 1559119245, "creation_date": 1559119245, "answer_id": 56356393, "question_id": 56353713, "link": "https://stackoverflow.com/questions/56353713/how-to-resolve-the-viewmodel-runtimeexception/56356393#56356393", "title": "How to resolve the ViewModel RunTimeException", "body": "<p>Try with this </p>\n\n<pre><code>val viewModel = ViewModelProviders.of(this).get(EntryViewModel::class.java)\n</code></pre>\n\n<p>and in your app build.gradle</p>\n\n<pre><code>    implementation 'android.arch.lifecycle:extensions:1.1.1'\n</code></pre>\n"}], "owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 56356393, "answer_count": 2, "score": 0, "last_activity_date": 1559282239, "creation_date": 1559108060, "last_edit_date": 1559282239, "question_id": 56353713, "link": "https://stackoverflow.com/questions/56353713/how-to-resolve-the-viewmodel-runtimeexception", "title": "How to resolve the ViewModel RunTimeException", "body": "<p>My ViewModel class is throwing a <code>RunTimeException</code>.  It basically cannot create an instance of the ViewModel class.  Here is the stacktrace:</p>\n\n<pre><code>2019-05-29 01:27:56.700 9698-9698/com.example.cryptpass_kt E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.cryptpass_kt, PID: 9698\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.cryptpass_kt/com.example.cryptpass_kt.MainActivity}: java.lang.RuntimeException: Cannot create an instance of class com.example.cryptpass_kt.EntryViewModel\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2853)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2928)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1609)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6703)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:769)\n     Caused by: java.lang.RuntimeException: Cannot create an instance of class com.example.cryptpass_kt.EntryViewModel\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.java:208)\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:135)\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:103)\n        at com.example.cryptpass_kt.MainActivity.onCreate(MainActivity.kt:40)\n        at android.app.Activity.performCreate(Activity.java:6980)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2806)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2928)\u00a0\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1609)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\n        at android.os.Looper.loop(Looper.java:164)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6703)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:769)\u00a0\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.java:200)\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:135)\u00a0\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:103)\u00a0\n        at com.example.cryptpass_kt.MainActivity.onCreate(MainActivity.kt:40)\u00a0\n        at android.app.Activity.performCreate(Activity.java:6980)\u00a0\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\u00a0\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2806)\u00a0\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2928)\u00a0\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1609)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\n        at android.os.Looper.loop(Looper.java:164)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6703)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:769)\u00a0\n     Caused by: java.lang.RuntimeException: cannot find implementation for com.example.cryptpass_kt.EntryDatabase. EntryDatabase_Impl does not exist\n        at androidx.room.Room.getGeneratedImplementation(Room.java:94)\n        at androidx.room.RoomDatabase$Builder.build(RoomDatabase.java:667)\n        at com.example.cryptpass_kt.EntryDatabase$Companion.getInstance(EntryDatabase.kt:17)\n        at com.example.cryptpass_kt.EntryRepository.&lt;init&gt;(EntryRepository.kt:12)\n        at com.example.cryptpass_kt.EntryViewModel.&lt;init&gt;(EntryViewModel.kt:8)\n</code></pre>\n\n<p>The error points to 4 different locations in the app, which are all rooted in the same problem.  For example, these lines in the <code>onCreate()</code> method of my <code>MainActivity.kt</code> are in the stacktrace:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    ...\n    viewModel = ViewModelProviders.of(this).get(EntryViewModel::class.java)\n    viewModel.allEntries.observe(this, Observer { entries -&gt; adapter.submitList(entries) })\n\n    ...\n}\n</code></pre>\n\n<p>I've followed some of the suggestions in SO, such as initializing the ViewModel object as <code>lateinit</code> and not <code>null</code> but so far it hasn't made any changes to the situation</p>\n\n<p>EntryViewModel.kt</p>\n\n<pre><code>class EntryViewModel(application: Application) : AndroidViewModel(application) {\n    private val repository: EntryRepository = EntryRepository(application)\n    val allEntries: LiveData&lt;List&lt;Entry&gt;&gt;\n\n    init {\n        allEntries = repository.allEntries!!\n    }\n\n    fun insert(entry: Entry) {\n        repository.insert(entry)\n    }\n\n    fun update(entry: Entry) {\n        repository.update(entry)\n    }\n\n    fun delete(entry: Entry) {\n        repository.update(entry)\n    }\n\n    fun deleteAll() {\n        repository.deleteAllEntries()\n    }\n}\n</code></pre>\n\n<p>EntryDatabase.kt</p>\n\n<pre><code>@Database(entities = [Entry::class], version = 1)\nabstract class EntryDatabase : RoomDatabase() {\n\n    abstract fun entryDAO(): EntryDAO\n\n    companion object{\n        private var instance: EntryDatabase? = null\n\n        @Synchronized\n        fun getInstance(context: Context): EntryDatabase{\n            if(instance == null){instance = Room.databaseBuilder&lt;EntryDatabase&gt;(context.applicationContext, EntryDatabase::class.java, \"entry_database\").fallbackToDestructiveMigration().build()}\n\n            return instance as EntryDatabase\n        }\n    }\n}\n</code></pre>\n\n<p>And I have all of the necessary gradle dependencies:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.core:core-ktx:1.0.2'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.recyclerview:recyclerview:1.1.0-alpha05'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'com.android.support:design:28.1.0'\n\n    implementation \"android.arch.lifecycle:extensions:2.2.0-alpha01\"\n    implementation \"android.arch.persistence.room:runtime:2.1.0-beta01\"\n    implementation \"android.arch.paging:runtime:2.1.0-beta01\"\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n\n    implementation 'io.sentry:sentry-android:1.7.16'\n    implementation 'org.slf4j:slf4j-nop:1.7.25'\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1559108644, "post_id": 56353605, "comment_id": 99311783, "body": "What do you want to do with that import? If it simply doesn&#39;t work then <b>rebuild project</b> and check again."}, {"owner": {"reputation": 114, "user_id": 7558022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/enXBU.jpg?s=128&g=1", "display_name": "WinterSoldier", "link": "https://stackoverflow.com/users/7558022/wintersoldier"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 1, "creation_date": 1559109843, "post_id": 56353605, "comment_id": 99312263, "body": "Okay, @JeelVankhede <b>rebuilding the project</b> worked"}], "answers": [{"comments": [{"owner": {"reputation": 966, "user_id": 10970473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2gU1.jpg?s=128&g=1", "display_name": "Dinesh Shingadiya", "link": "https://stackoverflow.com/users/10970473/dinesh-shingadiya"}, "reply_to_user": {"reputation": 114, "user_id": 7558022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/enXBU.jpg?s=128&g=1", "display_name": "WinterSoldier", "link": "https://stackoverflow.com/users/7558022/wintersoldier"}, "edited": false, "score": 0, "creation_date": 1559108480, "post_id": 56353633, "comment_id": 99311727, "body": "I want to see your XML file"}, {"owner": {"reputation": 114, "user_id": 7558022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/enXBU.jpg?s=128&g=1", "display_name": "WinterSoldier", "link": "https://stackoverflow.com/users/7558022/wintersoldier"}, "edited": false, "score": 0, "creation_date": 1559109638, "post_id": 56353633, "comment_id": 99312187, "body": "I&#39;ve uploaded the xml file, please have a look at it."}, {"owner": {"reputation": 966, "user_id": 10970473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2gU1.jpg?s=128&g=1", "display_name": "Dinesh Shingadiya", "link": "https://stackoverflow.com/users/10970473/dinesh-shingadiya"}, "reply_to_user": {"reputation": 114, "user_id": 7558022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/enXBU.jpg?s=128&g=1", "display_name": "WinterSoldier", "link": "https://stackoverflow.com/users/7558022/wintersoldier"}, "edited": false, "score": 0, "creation_date": 1559110024, "post_id": 56353633, "comment_id": 99312329, "body": "Now <b>Clear</b>  and  <b>Rebuild</b>  your project"}], "tags": [], "owner": {"reputation": 966, "user_id": 10970473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2gU1.jpg?s=128&g=1", "display_name": "Dinesh Shingadiya", "link": "https://stackoverflow.com/users/10970473/dinesh-shingadiya"}, "is_accepted": true, "score": 0, "last_activity_date": 1559107604, "creation_date": 1559107604, "answer_id": 56353633, "question_id": 56353605, "link": "https://stackoverflow.com/questions/56353605/unable-to-import-databinding-class-in-android-studio/56353633#56353633", "title": "Unable to import databinding class in Android Studio", "body": "<p>Change binding position:</p>\n\n<pre><code>android {\n    compileSdkVersion 28\n    dataBinding {\n        enabled = true\n    }\n\n    defaultConfig {\n        applicationId \"com.example.test1\"\n        minSdkVersion 23\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner\"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 114, "user_id": 7558022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/enXBU.jpg?s=128&g=1", "display_name": "WinterSoldier", "link": "https://stackoverflow.com/users/7558022/wintersoldier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 56353633, "answer_count": 1, "score": 0, "last_activity_date": 1559118197, "creation_date": 1559107429, "last_edit_date": 1559118197, "question_id": 56353605, "link": "https://stackoverflow.com/questions/56353605/unable-to-import-databinding-class-in-android-studio", "title": "Unable to import databinding class in Android Studio", "body": "<p>I am unable to import the <strong>databinding</strong> class.</p>\n\n<p>Here's my build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.example.test1\"\n        minSdkVersion 23\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        dataBinding {\n            enabled = true\n        }\n\n    }\n\n      .......\n</code></pre>\n\n<p>And here's my MainActivity.kt</p>\n\n<pre><code>package com.example.test1\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport com.example.test1.databinding // &lt;-- Shows ERROR in this line\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n</code></pre>\n\n<p>here's my activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n&lt;android.support.constraint.ConstraintLayout\n\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"&gt;\n\n    &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Hello World!\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/layout&gt;\n\n</code></pre>\n\n<p>I have synced the Gradle, I have also tried restarting Android Studio, but it simply won't work.</p>\n\n<p>What should I do??</p>\n"}, {"tags": ["kotlin", "enums"], "comments": [{"owner": {"reputation": 1505, "user_id": 8903497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebdf3cc66b70436f31fd867ec4c1e7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Shaw", "link": "https://stackoverflow.com/users/8903497/chris-shaw"}, "edited": false, "score": 0, "creation_date": 1559104862, "post_id": 56353096, "comment_id": 99310779, "body": "What is your definition of <code>Item</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 725, "user_id": 1144756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evM93.jpg?s=128&g=1", "display_name": "Thinesh Ganeshalingam", "link": "https://stackoverflow.com/users/1144756/thinesh-ganeshalingam"}, "is_accepted": false, "score": -1, "last_activity_date": 1559105154, "creation_date": 1559105154, "answer_id": 56353253, "question_id": 56353096, "link": "https://stackoverflow.com/questions/56353096/sort-list-of-custom-objects-based-on-enum-in-kotlin/56353253#56353253", "title": "sort list of custom objects based on enum in kotlin", "body": "<p>Since enum is a comparable,an object of enum can be sorted by extracting the enum value \nfrom the object, and use compareBy </p>\n\n<pre><code>val sortedList = list.sortedWith(compareBy { it.severity })\n</code></pre>\n\n<p>Edit:\nIf the ordering of the item is a 'natural' part of it, consider implements Comparable interface \nSo it will be like</p>\n\n<pre><code>data class Item(val index: Int, val severity: Severity) : Comparable&lt;Item&gt; {\n    override fun compareTo(other: Item): Int {\n        return this.severity.compareTo(other.severity)\n    }\n\n}\nval sortedList= list.sorted()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "edited": false, "score": 3, "creation_date": 1587018445, "post_id": 56353745, "comment_id": 108344626, "body": "What if the position of enum values are changed?"}], "tags": [], "owner": {"reputation": 538, "user_id": 4129661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3edf4f82816b29a89c7c102f1939c97?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/4129661/abhay-agarwal"}, "is_accepted": true, "score": 5, "last_activity_date": 1559108253, "creation_date": 1559108253, "answer_id": 56353745, "question_id": 56353096, "link": "https://stackoverflow.com/questions/56353096/sort-list-of-custom-objects-based-on-enum-in-kotlin/56353745#56353745", "title": "sort list of custom objects based on enum in kotlin", "body": "<p>Use <code>sortedBy</code> function. It will do the job very easily.</p>\n\n<pre><code>val ans = list.sortedBy { it.severity }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 2790579, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000234605281/picture?type=large", "display_name": "Stefan Halus", "link": "https://stackoverflow.com/users/2790579/stefan-halus"}, "is_accepted": false, "score": 2, "last_activity_date": 1609937083, "creation_date": 1609937083, "answer_id": 65595997, "question_id": 56353096, "link": "https://stackoverflow.com/questions/56353096/sort-list-of-custom-objects-based-on-enum-in-kotlin/65595997#65595997", "title": "sort list of custom objects based on enum in kotlin", "body": "<p>Just attach a value to each enum. This way you don't have to worry about the order in the enum class definition.</p>\n<pre><code>enum class Severity(val value: Int) { \n SEVERE(1), \n CRITICAL(0),\n MODERATE(2), \n LOW(3)\n}\n</code></pre>\n<p>And then you could sort the list this:</p>\n<pre><code>list.sortedBy { it.serverity.value }\n</code></pre>\n"}], "owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1665, "favorite_count": 0, "accepted_answer_id": 56353745, "answer_count": 3, "score": 2, "last_activity_date": 1609937083, "creation_date": 1559103871, "question_id": 56353096, "link": "https://stackoverflow.com/questions/56353096/sort-list-of-custom-objects-based-on-enum-in-kotlin", "title": "sort list of custom objects based on enum in kotlin", "body": "<p>I have a list of custom object and an Enum class. I have to sort the list based on the enum properties. For example:</p>\n\n<p>My list:</p>\n\n<pre><code>val list = listOf(Item(1,Severity.CRITICAL), Item(3, Severity.LOW), Item(2, Severity.SEVERE))\n</code></pre>\n\n<p>My enum class:</p>\n\n<pre><code>enum class Severity{\n CRITICAL, SEVERE, MODERATE, LOW\n}\n</code></pre>\n\n<p>My sorted list should be:</p>\n\n<pre><code>listOf(Item(1,Severity.CRITICAL), Item(2, Severity.SEVERE), Item(3, Severity.LOW))\n</code></pre>\n\n<p>Ordering is done as per the order in enum class. How can I achieve this?</p>\n"}, {"tags": ["android", "kotlin", "constructor", "entity"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 11036419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1b406099c03862bd8d12f1e04a4d07d?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/11036419/bryan"}, "is_accepted": true, "score": 2, "last_activity_date": 1559093067, "creation_date": 1559093067, "answer_id": 56351911, "question_id": 56351462, "link": "https://stackoverflow.com/questions/56351462/how-to-accomodate-different-arguments-for-entity-class/56351911#56351911", "title": "How to accomodate different arguments for entity class", "body": "<p>You can try moving the id to the end, like so:</p>\n\n<pre><code>@Entity(tableName = \"entry_table\")\ndata class Entry(\n    val username: String? = null, \n    val hint: String? = null, \n    val password: String? = null,\n    @PrimaryKey(autoGenerate = true) \n    var id: Int? = null)\n</code></pre>\n\n<p>And then creating it like:</p>\n\n<pre><code>val entry = Entry(username, hint, password, id)\n</code></pre>\n\n<p>Or, if you want to keep the id as the first parameter, you can use named arguments like this:</p>\n\n<pre><code>val entry = Entry(username = username, hint = hint, password = password)\n</code></pre>\n\n<p>Hope that helps!</p>\n"}, {"tags": [], "owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "is_accepted": false, "score": 0, "last_activity_date": 1559117762, "creation_date": 1559117762, "answer_id": 56355964, "question_id": 56351462, "link": "https://stackoverflow.com/questions/56351462/how-to-accomodate-different-arguments-for-entity-class/56355964#56355964", "title": "How to accomodate different arguments for entity class", "body": "<p>You can and probably should use multiple constructors.</p>\n\n<p>The downside with your approach is that all the properties must be optional for technical reasons. But I guess, <code>username</code> and <code>password</code> actually are mandatory. The consequences are loss of compile time checks (and therefore prone to NPEs) and cumbersome reading (<code>!!</code> needed when accessing username).</p>\n\n<p>You can avoid these problems following this approach:</p>\n\n<ol>\n<li>To make your class have the default no-arg constructor, that is required by JPA, use the compiler plugin <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#jpa-support\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/compiler-plugins.html#jpa-support</a></li>\n<li>Make mandatory properties non-nullable (I assume, only <code>hint</code> is optional)</li>\n<li>Use as many secondary constructors as you like</li>\n</ol>\n\n<hr>\n\n<pre><code>@Entity(tableName = \"entry_table\")\ndata class Entry(\n    @PrimaryKey(autoGenerate = true) \n    val id: Int, \n\n    val username: String,\n    val hint: String?, \n    val password: String\n) {\n    constructor(\n        username: String,\n        hint: String = null,\n        password: String = \"change it\"\n    ) : this(0, username, hint, password)\n}\n</code></pre>\n\n<p>In a more realistic scenario, only <code>id</code> and <code>username</code> were immutable. <code>password</code> and <code>hint</code> should be allowed to change.</p>\n\n<pre><code>@Entity(tableName = \"entry_table\")\ndata class Entry(\n    @PrimaryKey(autoGenerate = true) \n    val id: Int, \n    val username: String\n) {\n    constructor(\n        username: String,\n    ) : this(0, username)\n\n    var hint: String? = null\n    var password: String = \"change it\"\n}\n</code></pre>\n"}], "owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 56351911, "answer_count": 2, "score": 1, "last_activity_date": 1559117762, "creation_date": 1559088141, "last_edit_date": 1559090194, "question_id": 56351462, "link": "https://stackoverflow.com/questions/56351462/how-to-accomodate-different-arguments-for-entity-class", "title": "How to accomodate different arguments for entity class", "body": "<p>I am calling my entity class in an <code>if/else-if</code> statement for 2 different conditions and the values I pass into the parameters depend on the condition.  In the <code>if</code> block, I am passing 3 parameters and in the <code>else-if</code> block, I am passing 4.  The entity's object is throwing an error because it is expecting 4 parameters.  I want the first parameter to be optional and I'd like to know if there is a way to do that in Kotlin.</p>\n\n<p>This is my entity class:</p>\n\n<pre><code>@Entity(tableName = \"entry_table\")\ndata class Entry(\n    @PrimaryKey(autoGenerate = true) \n    var id: Int? = null, \n\n    val username: String? = null, \n    val hint: String? = null, \n    val password: String? = null)\n</code></pre>\n\n<p>And this is the <code>if/else-if</code> block where I'm inserting values into the entity object:</p>\n\n<pre><code>if (requestCode == ADD_ENTRY_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\n            ...\n\n            val entry = Entry(username, hint, password)\n            ...\n\n        } else if (requestCode == EDIT_ENTRY_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\n            ...\n\n            val entry = Entry(id, username, hint, password)\n            ...\n\n        }\n</code></pre>\n\n<p>In Java, you could solve this problem by creating 2 constructors with matching number of parameters but I wonder if we can do the same in Kotlin or if there is a different approach.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "is_accepted": true, "score": 17, "last_activity_date": 1559085904, "creation_date": 1559085904, "answer_id": 56351220, "question_id": 56351124, "link": "https://stackoverflow.com/questions/56351124/kotlin-data-class-private-setter-public-getter/56351220#56351220", "title": "Kotlin: data class private setter public getter", "body": "<p>A simple approach would be to have a private var, but then to provide a public property that delegates to it:</p>\n\n<pre><code>data class Test (private var attribute_ : String) {\n  val attribute: String get() = attribute_\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2702, "user_id": 7432865, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6939393bd372c29755451b6226db08ee?s=128&d=identicon&r=PG&f=1", "display_name": "Dachstein", "link": "https://stackoverflow.com/users/7432865/dachstein"}, "edited": false, "score": 0, "creation_date": 1559122599, "post_id": 56356028, "comment_id": 99318745, "body": "Thanks for the background. Thats what I would love to see in Kotlins Data classes: to have non-properties in their primary constructor it"}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 4, "last_activity_date": 1559117985, "creation_date": 1559117985, "answer_id": 56356028, "question_id": 56351124, "link": "https://stackoverflow.com/questions/56351124/kotlin-data-class-private-setter-public-getter/56356028#56356028", "title": "Kotlin: data class private setter public getter", "body": "<p>To add some background to the other answer:</p>\n\n<p>There's no way to do this directly in the constructor, though there have been several proposals as to how it could be added to the language; see <a href=\"https://discuss.kotlinlang.org/t/private-setter-for-var-in-primary-constructor/3640/22\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>If it weren't a data class, I'd suggest this alternative:</p>\n\n<pre><code>class Test(_attribute: String) {\n    var attribute = _attribute\n        private set\n}\n</code></pre>\n\n<p>That only stores one value in the object, so is marginally more efficient.</p>\n\n<p>But since this is a data class, that's not possible.\u00a0 (Data classes can't have non-properties in their primary constructors.)\u00a0\u00a0So the other answer's suggestion seems best.</p>\n"}], "owner": {"reputation": 2702, "user_id": 7432865, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6939393bd372c29755451b6226db08ee?s=128&d=identicon&r=PG&f=1", "display_name": "Dachstein", "link": "https://stackoverflow.com/users/7432865/dachstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4532, "favorite_count": 0, "accepted_answer_id": 56351220, "answer_count": 2, "score": 5, "last_activity_date": 1559117985, "creation_date": 1559084906, "last_edit_date": 1559085677, "question_id": 56351124, "link": "https://stackoverflow.com/questions/56351124/kotlin-data-class-private-setter-public-getter", "title": "Kotlin: data class private setter public getter", "body": "<p>Is there any way I can make a private setter and a public getter in a Kotlin Data Class?</p>\n\n<pre><code>data class Test(var attribute: String) {\n\n    // attribute can be mutated inside this class\n\n    // but outside only readable ?\n}\n</code></pre>\n"}, {"tags": ["kotlin", "retrofit2", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11569868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a453216ed831b8cdef0df5b307832b6?s=128&d=identicon&r=PG&f=1", "display_name": "mhZakarya", "link": "https://stackoverflow.com/users/11569868/mhzakarya"}, "edited": false, "score": 0, "creation_date": 1559496133, "post_id": 56416732, "comment_id": 99430354, "body": "know, sorry i should&#39;ve changed that before uploading, i was just testing if it would work, but even position doesn&#39;t work!! And plus i don&#39;t know why but my items tend to ovelap when i choose one!! anyway thank you for you response :)"}, {"owner": {"reputation": 1, "user_id": 11569868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a453216ed831b8cdef0df5b307832b6?s=128&d=identicon&r=PG&f=1", "display_name": "mhZakarya", "link": "https://stackoverflow.com/users/11569868/mhzakarya"}, "edited": false, "score": 1, "creation_date": 1559547688, "post_id": 56416732, "comment_id": 99440814, "body": "found the solution &quot;skill&quot; should be declared as a var!!"}], "tags": [], "owner": {"reputation": 2631, "user_id": 8342718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vm7um.jpg?s=128&g=1", "display_name": "Jasurbek", "link": "https://stackoverflow.com/users/8342718/jasurbek"}, "is_accepted": false, "score": 1, "last_activity_date": 1559491840, "creation_date": 1559491840, "answer_id": 56416732, "question_id": 56350686, "link": "https://stackoverflow.com/questions/56350686/after-i-populate-my-spinner-from-an-asynch-api-call-whatever-item-i-choose-from/56416732#56416732", "title": "After I populate my Spinner from an asynch API call, whatever item I choose from my Spinner, I get the first one", "body": "<p>Select position not ID inside <code>onItemSelected</code></p>\n\n<pre><code> override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n            val skill = skillsName[position]\n            //When i display the value of skill before the button listener i get the right value\n            Log.i(TAG, skill)\n            frag_button_choose.setOnClickListener {\n                //whenever i click on the button, no matter what item i select i only from the spinner, i get always the first !!!\n                Log.i(TAG, skill)\n                model.setText(skill)\n            }\n        }\n</code></pre>\n\n<p>That is all</p>\n"}], "owner": {"reputation": 1, "user_id": 11569868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a453216ed831b8cdef0df5b307832b6?s=128&d=identicon&r=PG&f=1", "display_name": "mhZakarya", "link": "https://stackoverflow.com/users/11569868/mhzakarya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559491840, "creation_date": 1559081546, "last_edit_date": 1559490069, "question_id": 56350686, "link": "https://stackoverflow.com/questions/56350686/after-i-populate-my-spinner-from-an-asynch-api-call-whatever-item-i-choose-from", "title": "After I populate my Spinner from an asynch API call, whatever item I choose from my Spinner, I get the first one", "body": "<p>I make a call using retrofit and RxJava to my API from my first fragment, then I display the respond I get in a Spinner. But whenever I select an item from my Spinner and click on the sendButton of my first fragment to send it to a second fragment I always receive the first item of my Spinner.</p>\n\n<p>This is the code of my fragment </p>\n\n<pre><code>class SkillUpFragment : Fragment() {\n    val TAG = SkillUpFragment::class.simpleName\n\n    lateinit var skillsSpin : Spinner\n    lateinit var model : SharedViewModel\n    private val myCompositeDisposable= CompositeDisposable()\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view = inflater.inflate(R.layout.skill_up_fragment, container, false)\n\n        skillsSpin = view!!.findViewById(R.id.skill_spinner)\n        model = ViewModelProviders.of(activity!!).get(SharedViewModel::class.java)\n\n        return view\n    }\n\n    override fun onStart() {\n        super.onStart()\n        loadData()\n    }\n\n    override fun onStop() {\n        super.onStop()\n        myCompositeDisposable.dispose()\n    }\n\n    private fun loadData(){\n        val token = SharedPrefManager.getInstance(activity!!.applicationContext).loginResponse.token\n        val parsedJWT = JWT(token!!)\n        val metaId = parsedJWT.getClaim(\"id\")\n        val id = metaId.asInt()\n\n        myCompositeDisposable.add(RetrofitClient.instance.getSkillsToChoose(Id(id!!))\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeOn(Schedulers.io())\n            .subscribe(this::handleResponse))\n\n    }\n\n    private fun handleResponse(skills: List&lt;Skill&gt;){\n        val skillsName = skills.map { it.name }\n\n        skillsSpin.adapter = ArrayAdapter&lt;String&gt;(context, android.R.layout.simple_list_item_1,skillsName)\n        skillsSpin.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n                TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n            }\n\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n                val skill = skillsName[id.toInt()]\n                //When i display the value of skill before the button listener i get the right value\n                Log.i(TAG, skill)\n                frag_button_choose.setOnClickListener {\n                    //whenever i click on the button, no matter what item i select i only from the spinner, i get always the first !!!\n                    Log.i(TAG, skill)\n                    model.setText(skill)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Please this is very confusing, i've been stuck for more than a week, any help is welcome.\nThank you all.</p>\n"}, {"tags": ["spring", "kotlin", "spring-data-jpa", "nullable", "semantics"], "answers": [{"tags": [], "owner": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "is_accepted": false, "score": 0, "last_activity_date": 1559107461, "creation_date": 1559107461, "answer_id": 56353610, "question_id": 56349905, "link": "https://stackoverflow.com/questions/56349905/trying-the-find-a-more-semantic-way-for-writing-spring-entity-in-kotlin/56353610#56353610", "title": "Trying the find a more semantic way for writing Spring Entity in Kotlin", "body": "<p>JPA (not Spring) requires no argument constructors and mutable attributes so there really isn't much you can do on that front.</p>\n\n<p>You could convert or wrap your JPA entities into something that looks more like the classes you actually want, but the likely outcome is that it will just bloat your code without making things easier to use.</p>\n\n<p>You might consider a completely different persistence layer which is more flexible when it comes to constructors. Spring Data JDBC might actually fit the bill. It has some support for immutable entities. It is also very different than JPA which might be a good or a bad thing depending on your opinion about JPA. </p>\n\n<p>Read these two article to get an idea of the basic concepts behind it: <a href=\"https://spring.io/blog/2018/09/17/introducing-spring-data-jdbc\" rel=\"nofollow noreferrer\">https://spring.io/blog/2018/09/17/introducing-spring-data-jdbc</a> and <a href=\"https://spring.io/blog/2018/09/24/spring-data-jdbc-references-and-aggregates\" rel=\"nofollow noreferrer\">https://spring.io/blog/2018/09/24/spring-data-jdbc-references-and-aggregates</a></p>\n"}, {"comments": [{"owner": {"reputation": 1352, "user_id": 9035706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32af345829541d25615a5c435ca893c2?s=128&d=identicon&r=PG&f=1", "display_name": "Eerik Sven Puudist", "link": "https://stackoverflow.com/users/9035706/eerik-sven-puudist"}, "edited": false, "score": 0, "creation_date": 1559245590, "post_id": 56373378, "comment_id": 99369569, "body": "This article will show this plugin in action: <a href=\"https://www.baeldung.com/kotlin-jpa\" rel=\"nofollow noreferrer\">baeldung.com/kotlin-jpa</a>"}, {"owner": {"reputation": 1352, "user_id": 9035706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32af345829541d25615a5c435ca893c2?s=128&d=identicon&r=PG&f=1", "display_name": "Eerik Sven Puudist", "link": "https://stackoverflow.com/users/9035706/eerik-sven-puudist"}, "edited": false, "score": 0, "creation_date": 1559245712, "post_id": 56373378, "comment_id": 99369618, "body": "I try it out and if it works fine, I would like to suggest this solution to JHipster&#39;s Kotlin blueprint (called KHipster)."}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 1352, "user_id": 9035706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32af345829541d25615a5c435ca893c2?s=128&d=identicon&r=PG&f=1", "display_name": "Eerik Sven Puudist", "link": "https://stackoverflow.com/users/9035706/eerik-sven-puudist"}, "edited": false, "score": 0, "creation_date": 1559287006, "post_id": 56373378, "comment_id": 99379768, "body": "Just be aware of one thing with that article you linked: it suggests using data classes for entities.  There are issues with doing this.  See <a href=\"https://kotlinexpertise.com/hibernate-with-kotlin-spring-boot/\" rel=\"nofollow noreferrer\">here</a> for details."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 2, "last_activity_date": 1559200078, "creation_date": 1559200078, "answer_id": 56373378, "question_id": 56349905, "link": "https://stackoverflow.com/questions/56349905/trying-the-find-a-more-semantic-way-for-writing-spring-entity-in-kotlin/56373378#56373378", "title": "Trying the find a more semantic way for writing Spring Entity in Kotlin", "body": "<p>You can actually do exactly what you want: define the class with <code>val</code> instead of <code>var</code> for the immutable properties, give them non-nullable types, and have no default constructor. Spring uses Reflection to get at the member variables underlying the (read-only) properties generated by the Kotlin code when setting the values from the database. And for a default-constructor (which it does need at runtime) there's a <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#jpa-support\" rel=\"nofollow noreferrer\">kotlin-jpa plugin</a> that will generate this for you automatically in the compiled code. So basically keep your code exactly as you'd idiomatically write it (as you did for <code>BetterBook</code>), and annotate the class with <code>@Entity</code>, but make sure to apply that plugin.</p>\n"}, {"comments": [{"owner": {"reputation": 1352, "user_id": 9035706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32af345829541d25615a5c435ca893c2?s=128&d=identicon&r=PG&f=1", "display_name": "Eerik Sven Puudist", "link": "https://stackoverflow.com/users/9035706/eerik-sven-puudist"}, "edited": false, "score": 0, "creation_date": 1559418297, "post_id": 56409894, "comment_id": 99416959, "body": "Is it a good solution? It is not very fast since I create multiple objects, but it is clear and readable."}], "tags": [], "owner": {"reputation": 1352, "user_id": 9035706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32af345829541d25615a5c435ca893c2?s=128&d=identicon&r=PG&f=1", "display_name": "Eerik Sven Puudist", "link": "https://stackoverflow.com/users/9035706/eerik-sven-puudist"}, "is_accepted": false, "score": 0, "last_activity_date": 1559418138, "creation_date": 1559418138, "answer_id": 56409894, "question_id": 56349905, "link": "https://stackoverflow.com/questions/56349905/trying-the-find-a-more-semantic-way-for-writing-spring-entity-in-kotlin/56409894#56409894", "title": "Trying the find a more semantic way for writing Spring Entity in Kotlin", "body": "<p>I am using JHipster (or KHipster, its Kotlin blueprint). Because all the entities are generated by KHipster, I do not want to change these files, for all my changes would be overridden when I regenerate the entity. After experimenting with different solutions I decided to add an extra wrapper layer.</p>\n\n<p>A wrapper is like a PR manager for the entity. It can be constructed from the entity, then it can be modified in the service layer and once it is time to save it, the wrapper will give you back the updated entity.</p>\n\n<p>This is how a KHipster entity approximately looks like:</p>\n\n<pre><code>@Entity\nclass Agreement(\n    @Id\n    var id: Long? = null, // should be immuatble\n    var description: String? = null, // cannot be null, immutable if `isSigned == true`\n    var isSigned: Boolean? = null,\n )\n</code></pre>\n\n<p>Using this entity directly is error prone and not very handy. The wrapper solves all these issues:</p>\n\n<pre><code>class AgreementWrapper(agreement: Agreement) {\n    val id = agreement.id  // NOTICE that we can now use `val` \n    var description: String = agreement.description!! // NOT NULLABLE \n        set(value) {\n            if (isSigned == true) throw Exception(\"A signed agreement cannot be changed!\")\n            field = value\n        }\n    var isSigned = agreement.isSigned!!\n        set(value) {\n            if (isSigned == true &amp;&amp; value == false) throw Exception(\"You cannot undo it!\")\n            field = value\n        }\n\n    val entity: Agreement // This will give us back the updated entity\n        get() {\n            return Agreement(id, description, isSigned)\n        }\n}\n\n</code></pre>\n\n<p>Furthermore, the wrapper can also by used to create new entities. Adding default values to entities (for instance adding a timestamp) would also require changing the file generated by KHipster, but here there is no problem with it. I just added another constructor to the wrapper, which accepts the necessary parameters and uses defaults otherwise. It can also deal with validation and logging.</p>\n\n<p>Thus wrappers act like a bridge between entities and the service layer.</p>\n"}], "owner": {"reputation": 1352, "user_id": 9035706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32af345829541d25615a5c435ca893c2?s=128&d=identicon&r=PG&f=1", "display_name": "Eerik Sven Puudist", "link": "https://stackoverflow.com/users/9035706/eerik-sven-puudist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 993, "favorite_count": 1, "accepted_answer_id": 56373378, "answer_count": 3, "score": 4, "last_activity_date": 1560095838, "creation_date": 1559076776, "last_edit_date": 1560095838, "question_id": 56349905, "link": "https://stackoverflow.com/questions/56349905/trying-the-find-a-more-semantic-way-for-writing-spring-entity-in-kotlin", "title": "Trying the find a more semantic way for writing Spring Entity in Kotlin", "body": "<p>I have an Spring entity written in Kotlin:</p>\n\n<pre><code>@Entity\nclass Book(\n    @Id\n    var id: Long? = null,\n    var title: String? = null, // cannot actually be null, immutable\n    var isInStock: Boolean? = null, // cannot actually be null\n    var description: String? = null,\n )\n</code></pre>\n\n<p>All the fields must be nullable, because Spring needs to initialize empty objects.</p>\n\n<p>However, this makes using the entity complicated, because I always have to convert the nullable types to their not nullable equivalents. This is not semantic: I would like to really see, which fields can actually be nullable and which ones cannot (or can only be <code>null</code> during the initialization process). </p>\n\n<p>Furthermore, some fields are mutable, but some should never be altered after the entity has been created. It would be nice to use Kotlin's <code>val</code> and <code>var</code> to make this distinction.</p>\n\n<p>So, I would like to work with the following class:</p>\n\n<pre><code>class BetterBook(\n    val id: Long,\n    val title: String,\n    var isInStock: Boolean,\n    var description: String? = null,\n )\n</code></pre>\n\n<p>This way it is very clear which fields are mutable and which fields can be <code>null</code>.</p>\n\n<p>I pondered upon creating a wrapper around <code>Book</code>. Has anybody had a similar thought? Would it be a good solution architecturally? </p>\n"}, {"tags": ["android", "kotlin"], "owner": {"reputation": 764, "user_id": 5613246, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/68e57d509198303dce2361d3a8325a54?s=128&d=identicon&r=PG&f=1", "display_name": "LMaker", "link": "https://stackoverflow.com/users/5613246/lmaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1559076676, "creation_date": 1559076676, "question_id": 56349885, "link": "https://stackoverflow.com/questions/56349885/navigation-components-fitssystemwindows-not-working-properly", "title": "navigation components - fitsSystemWindows not working properly", "body": "<p>I'm making a app using SAA (Single Application Activity) and I want to have a gradient status bar, using the same gradient as my first view.</p>\n\n<p>I'm doing some tests and I cant have a view over status bar, using <code>fitsSystemWindows</code> as false inside my parent layout.</p>\n\n<p>Look what I have now:</p>\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n   &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"false\"\n    tools:context=\".MainActivity\"&gt;\n\n&lt;fragment\n        android:id=\"@+id/content\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:defaultNavHost=\"true\"\n        app:navGraph=\"@navigation/nav_graph\"\n/&gt;\n</code></pre>\n\n<p></p>\n\n<p>This is my fragment:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout \n xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          android:orientation=\"vertical\"\n          android:background=\"#c2c2c2\"\n          android:fitsSystemWindows=\"false\"\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"match_parent\"&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>And I am setting this one inside my activity:</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n        val window = window\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)\n        window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS)\n        window.statusBarColor = Color.TRANSPARENT\n    }\n</code></pre>\n\n<p>Styles</p>\n\n<pre><code>   &lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowDrawsSystemBarBackgrounds\"&gt;false&lt;/item&gt;\n</code></pre>\n\n<p>PS:\nWhen I FLAG_LAYOUT_NO_LIMITS works fine, the only problem is when I have a form layout and I cant resize the screen. So, I'm aware of use FLAG_LAYOUT_NO_LIMITS flag.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-recyclerview", "android-volley"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 8074376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9939a7b6efd14928074fafe6558e300b?s=128&d=identicon&r=PG&f=1", "display_name": "Cl&#233;ment", "link": "https://stackoverflow.com/users/8074376/cl%c3%a9ment"}, "edited": false, "score": 0, "creation_date": 1559077942, "post_id": 56349530, "comment_id": 99305209, "body": "I did, I receive this in Logcat error :    No adapter attached; skipping layout"}, {"owner": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "reply_to_user": {"reputation": 73, "user_id": 8074376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9939a7b6efd14928074fafe6558e300b?s=128&d=identicon&r=PG&f=1", "display_name": "Cl&#233;ment", "link": "https://stackoverflow.com/users/8074376/cl%c3%a9ment"}, "edited": false, "score": 0, "creation_date": 1559079909, "post_id": 56349530, "comment_id": 99305827, "body": "@Cl&#233;mentRousseau I&#39;ve updated the answer, the adapter is created after the getData() is finished so no adapter is attached when trying to, also the adapter should be created and attached when data are ready."}, {"owner": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "reply_to_user": {"reputation": 73, "user_id": 8074376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9939a7b6efd14928074fafe6558e300b?s=128&d=identicon&r=PG&f=1", "display_name": "Cl&#233;ment", "link": "https://stackoverflow.com/users/8074376/cl%c3%a9ment"}, "edited": false, "score": 0, "creation_date": 1559113492, "post_id": 56349530, "comment_id": 99313833, "body": "Feel free to mark my answer as the correct one, so that the issue closes."}], "tags": [], "owner": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "is_accepted": true, "score": 0, "last_activity_date": 1559079854, "last_edit_date": 1559079854, "creation_date": 1559074750, "answer_id": 56349530, "question_id": 56349134, "link": "https://stackoverflow.com/questions/56349134/android-recyclerview-and-fragment-put-my-data-fetch-into-my-recycler-view/56349530#56349530", "title": "Android recyclerview and fragment : put my data fetch into my recycler view", "body": "<p>You never initialize the adapter, it's always null and due to the the safe operator (?) those calls are never actually invoked. </p>\n\n<pre><code>// Function to fetch Tutorial data\nprivate fun getData() {\n   val jsonArrayRequest = JsonArrayRequest(url,\n   Response.Listener&lt;JSONArray&gt; { response -&gt;\n   for (i in 0 until response.length()) {\n      try {\n         val jsonObject = response.getJSONObject(i)\n         val jsonTitle = jsonObject.getString(\"title\")\n         val jsonDuration = jsonObject.getString(\"duration\")\n         val jsonPrice = jsonObject.getString(\"price\")\n         val jsonLevel = \"Facile\"\n         val jsonImg = (R.drawable.testons)\n         val jsonId = jsonObject.getInt(\"id\")\n         val tutoEntrie = Model.Tuto(jsonTitle,jsonDuration,jsonPrice,jsonLevel, jsonImg, jsonId)\n         listTuto.add(tutoEntrie)\n      } catch (e: JSONException) {\n         e.printStackTrace()\n      }\n\n    }\n\n    // THIS HERE IS NEVER ACTUALLY CALLED AS THE ADAPTER IS ALWAYS NULL\n    cardAdapter?.notifyDataSetChanged()\n\n    Log.d(\"tuto\", listTuto.toString())\n    }, Response.ErrorListener { Log.e(\"Volley\", \"Volley error on tutorial\") })\n        val requestQueue = Volley.newRequestQueue(activity)\n        requestQueue.add(jsonArrayRequest)\n    } \n}\n</code></pre>\n\n<p>add this before notifyDataSetChanged</p>\n\n<pre><code>cardAdapter = HomeCardItemAdapter(this, listTuto)\n// attach adapter\nfindViewById&lt;RecyclerView&gt;(R.id.menuheaderscrollbar2).adapter = cardAdapter\ncardAdapter?.notifyDataSetChanged() // this might not be necessary\n</code></pre>\n\n<p>EDIT: added further explanation: </p>\n\n<p>Your call to getData() is prior to configuring your recyclerview and attaching the adapter. Therefore you should modify the <code>onViewCreated()</code> as followed.</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n     super.onViewCreated(view, savedInstanceState)\n\n     // Set up card recycler view\n     val cardRecyclerView = view.findViewById&lt;RecyclerView&gt;(R.id.menuheaderscrollbar2)\n     val verticalLayoutManager = LinearLayoutManager(activity, LinearLayoutManager.VERTICAL, false)\n     cardRecyclerView.layoutManager = verticalLayoutManager\n\n     // now that recyclerview is ready\n     getData()         \n}\n\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 8074376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9939a7b6efd14928074fafe6558e300b?s=128&d=identicon&r=PG&f=1", "display_name": "Cl&#233;ment", "link": "https://stackoverflow.com/users/8074376/cl%c3%a9ment"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 1, "accepted_answer_id": 56349530, "answer_count": 1, "score": 1, "last_activity_date": 1559079854, "creation_date": 1559072803, "question_id": 56349134, "link": "https://stackoverflow.com/questions/56349134/android-recyclerview-and-fragment-put-my-data-fetch-into-my-recycler-view", "title": "Android recyclerview and fragment : put my data fetch into my recycler view", "body": "<p>I'm stuck with this since 1 week and I can't get why my data fetch are not displayed into my cardAdaptater. I can see they are fetched well but I can't acces to them after it in the fragment</p>\n\n<p>Here is my HomePageFragment where data should be displayed </p>\n\n<pre><code>class HomePage {\n    class HomeFragment : Fragment(), HeaderScrollBarAdapter.ItemClickListener {\n\n        private var cardAdapter: HomeCardItemAdapter? = null\n        private val url = \"https://kolibrii-prod.herokuapp.com/tutorial\"\n        private var listTuto = ArrayList&lt;Model.Tuto&gt;()\n\n        override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? =\n            inflater.inflate(R.layout.fragment_home, container, false)\n\n\n\n        override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n\n            super.onViewCreated(view, savedInstanceState)\n            getData()         \n\n\n\n            // Set up card recycler view\n            val cardRecyclerView = view.findViewById&lt;RecyclerView&gt;(R.id.menuheaderscrollbar2)\n            val verticalLayoutManager = LinearLayoutManager(activity, LinearLayoutManager.VERTICAL, false)\n            cardRecyclerView.layoutManager = verticalLayoutManager\n            cardRecyclerView.adapter = cardAdapter\n            Log.d(\"tutorender\",listTuto.toString())\n        }\n\n        // Function to fetch Tutorial data\n        private fun getData() {\n\n            val jsonArrayRequest = JsonArrayRequest(url,\n                Response.Listener&lt;JSONArray&gt; { response -&gt;\n                    for (i in 0 until response.length()) {\n                        try {\n                            val jsonObject = response.getJSONObject(i)\n                            val jsonTitle = jsonObject.getString(\"title\")\n                            val jsonDuration = jsonObject.getString(\"duration\")\n                            val jsonPrice = jsonObject.getString(\"price\")\n                            val jsonLevel = \"Facile\"\n                            val jsonImg = (R.drawable.testons)\n                            val jsonId = jsonObject.getInt(\"id\")\n                            val tutoEntrie = Model.Tuto(jsonTitle,jsonDuration,jsonPrice,jsonLevel, jsonImg, jsonId)\n                            listTuto.add(tutoEntrie)\n                        }\n                        catch (e: JSONException) {\n                            e.printStackTrace()\n                        }\n\n                    }\n\n                    cardAdapter?.notifyDataSetChanged()\n                    Log.d(\"tuto\", listTuto.toString())\n                }, Response.ErrorListener { Log.e(\"Volley\", \"Volley error on tutorial\") })\n            val requestQueue = Volley.newRequestQueue(activity)\n            requestQueue.add(jsonArrayRequest)\n        }\n    }\n}\n</code></pre>\n\n<p>Here is my cardAdapter.kit :</p>\n\n<pre><code>class HomeCardItemAdapter // data is passed into the constructor\ninternal constructor(\n    context: FragmentActivity?,\n    private val tutos: ArrayList&lt;Model.Tuto&gt;\n   //private val mCatePicture: List&lt;Int&gt;\n)\n    : RecyclerView.Adapter&lt;HomeCardItemAdapter.ViewHolder&gt;() {\n    private val mInflater: LayoutInflater = LayoutInflater.from(context)\n    private var mClickListener: ItemClickListener? = null\n\n\n    // inflates the row layout from xml when needed\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val view = mInflater.inflate(R.layout.feed_card_items, parent, false)\n        return ViewHolder(view)\n    }\n\n    // binds the data to the view and textview in each row\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val currentTuto = tutos.get(position)\n     //   val catePicture= mCatePicture[position]\n        holder.titleTextView.text = currentTuto.title\n        holder.timeTextView.text = currentTuto.duration\n        holder.priceTextView.text = currentTuto.price\n       holder.levelTextView.text = currentTuto.level\n        //holder.categoryImageView.setImageResource(catePicture)\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            holder.cardImageView.clipToOutline = true\n        }\n    }\n\n    // total number of rows\n    override fun getItemCount(): Int {\n                return tutos.size\n        }\n\n    // stores and recycles views as they are scrolled off screen\n    inner class ViewHolder internal constructor(itemView: View) : RecyclerView.ViewHolder(itemView),\n        View.OnClickListener {\n        internal var cardImageView: ImageView = itemView.findViewById(R.id.card_img_bg)\n        internal var titleTextView: TextView = itemView.findViewById(R.id.card_title)\n        internal var priceTextView: TextView = itemView.findViewById(R.id.card_price)\n        internal var timeTextView: TextView = itemView.findViewById(R.id.card_time)\n        internal var levelTextView: TextView = itemView.findViewById(R.id.card_level)\n        internal var categoryImageView: ImageView = itemView.findViewById(R.id.card_theme_icon)\n\n\n}\n</code></pre>\n\n<p>Thank you in advance to the people who could help me</p>\n"}, {"tags": ["spring", "testing", "kotlin", "documentation", "spring-restdocs"], "answers": [{"tags": [], "owner": {"reputation": 903, "user_id": 4759182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8aeb3a99d91298b5daac0ec647d445b?s=128&d=identicon&r=PG&f=1", "display_name": "rasilvap", "link": "https://stackoverflow.com/users/4759182/rasilvap"}, "is_accepted": false, "score": 0, "last_activity_date": 1559078598, "creation_date": 1559078598, "answer_id": 56350228, "question_id": 56349004, "link": "https://stackoverflow.com/questions/56349004/pass-object-attrbute-to-spring-mock-mvc-call/56350228#56350228", "title": "Pass object attrbute to spring Mock mvc call", "body": "<p>I had used the flash attribute like this:</p>\n\n<pre><code>@Test\n    @Throws(Exception::class)\n    fun shouldReturnDefaultMessage() {\n        val paramsMock = mapOf(\"swid\" to \"asudyasd-asdasd-asdasd\",\"seeAll\" to true )\n        `when`(apiRequest.parameters).thenReturn(paramsMock)\n        val contextRequest = RequestBrowsePlayerContext(this.standardContext, this.sWDIContext, this.uIDContext, this.seeAllContext, apiRequest)\n        `when`(browsePlayerServiceRepresentable.getEntitiesBrowse(contextRequest)).thenReturn(Single.just(presentBrowsePlayers()))\n        `when`(browsePlayerServiceRepresentable.getEntitiesBrowse(contextRequest)).thenReturn(Single.just(presentBrowsePlayers()))\n        this.mockMvc!!.perform(get(\"/v1/browse/players\").flashAttr(\"apiRequest\", apiRequest))\n                .andDo(print()).andExpect(status().isOk)\n    }\n</code></pre>\n\n<p>So I can control what get passes to the model and I can send the mocked apiRequest object.</p>\n"}], "owner": {"reputation": 903, "user_id": 4759182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8aeb3a99d91298b5daac0ec647d445b?s=128&d=identicon&r=PG&f=1", "display_name": "rasilvap", "link": "https://stackoverflow.com/users/4759182/rasilvap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559078659, "creation_date": 1559072256, "last_edit_date": 1559078659, "question_id": 56349004, "link": "https://stackoverflow.com/questions/56349004/pass-object-attrbute-to-spring-mock-mvc-call", "title": "Pass object attrbute to spring Mock mvc call", "body": "<p>I am using spring rest docs to generate the documentation of an API. My problem is that inside the get I have some objects which are created from other ones, so I need to mock these objects with are the base to create others ones. I'm not pretty sure how can I achieve that. This is what I am doing now:</p>\n\n<p>My Controller looks like this:</p>\n\n<pre><code>import com.espn.api.platform.model.*\nimport com.espn.csemobile.espnapp.context.*\nimport com.espn.csemobile.espnapp.context.common.RequestBasedSWIDContext\nimport com.espn.csemobile.espnapp.context.common.RequestBasedSeeAllContext\nimport com.espn.csemobile.espnapp.context.common.RequestBasedUIDContext\nimport com.espn.csemobile.espnapp.models.browseplayer.BrowsePlayerResponse\nimport com.espn.csemobile.espnapp.services.browseplayer.BrowsePlayerServiceRepresentable\nimport com.espn.csemobile.espnapp.services.browseplayer.contexts.RequestBrowsePlayerContext\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.stereotype.Controller\nimport org.springframework.web.bind.annotation.GetMapping\nimport rx.Single\n\n@Controller\n@ProductApi(\n        id = \"v1_browse_player\",\n        title = \"Browse Player (v1)\",\n        description = \"\")\nclass BrowsePlayerController(private val transaction: Transaction,private val apiRequest: ApiRequest) {\n\n    @Autowired\n    lateinit var browsePlayerService: BrowsePlayerServiceRepresentable\n\n    @GetRequest(\n            path = \"/v1/browse/players\",\n            timeToLive = 300,\n            queries = [\n                QueryParameter(name = \"swid\", required = true),\n                QueryParameter(name = \"uid\"),\n                QueryParameter(name = \"seeAll\", type = java.lang.Boolean::class),\n                QueryParameter(name = \"lang\", required = true),\n                QueryParameter(name = \"region\", required = true),\n                QueryParameter(name = \"version\", required = true, type = Integer::class),\n                QueryParameter(name = \"appName\", required = true),\n                QueryParameter(name = \"platform\", required = true)\n            ]\n    )\n    @GetMapping()\n    fun processBrowsePlayerRequest(transaction: Transaction, apiRequest: ApiRequest): Single&lt;BrowsePlayerResponse?&gt; {\n        val applicationContext = RequestBasedApplicationContext(apiRequest)\n        val standardContext = RequestBasedStandardContext(\n                RequestBasedVersionContext(apiRequest),\n                applicationContext,\n                RequestBasedEditionContext(apiRequest, applicationContext),\n                RequestBasedPlatformContext(apiRequest),\n                transaction\n        )\n        val swidContext = RequestBasedSWIDContext(apiRequest)\n        val uidContext = if (checkUIDPresent(apiRequest)) RequestBasedUIDContext(apiRequest) else null\n        val seeAllContext = RequestBasedSeeAllContext(apiRequest)\n        val requestBrowsePlayerContext = RequestBrowsePlayerContext(standardContext, swidContext, uidContext, seeAllContext, apiRequest)\n        return browsePlayerService.getEntitiesBrowse(requestBrowsePlayerContext)\n    }\n\n    private fun checkUIDPresent(apiRequest: ApiRequest): Boolean =\n            apiRequest.parameters[\"uid\"] != null\n}\n</code></pre>\n\n<p>The issue is for example when I want to create this object: \nval swidContext = RequestBasedSWIDContext(apiRequest) which depends from the apiRequest one.</p>\n\n<p>My test is just like this: </p>\n\n<pre><code>import com.espn.api.platform.model.ApiRequest\nimport com.espn.api.platform.model.Transaction\nimport com.espn.csemobile.espnapp.context.StandardContext\nimport com.espn.csemobile.espnapp.context.common.SWIDContext\nimport com.espn.csemobile.espnapp.context.common.SeeAllContext\nimport com.espn.csemobile.espnapp.context.common.UIDContext\nimport com.espn.csemobile.espnapp.models.UID\nimport com.espn.csemobile.espnapp.models.browseplayer.*\nimport com.espn.csemobile.espnapp.services.browseplayer.BrowsePlayerServiceRepresentable\nimport com.espn.csemobile.espnapp.services.browseplayer.contexts.RequestBrowsePlayerContext\nimport org.junit.Before\nimport org.junit.Rule\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport org.mockito.Mockito.`when`\nimport org.mockito.MockitoAnnotations\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.test.autoconfigure.restdocs.AutoConfigureRestDocs\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest\nimport org.springframework.boot.test.mock.mockito.MockBean\nimport org.springframework.restdocs.JUnitRestDocumentation\nimport org.springframework.restdocs.mockmvc.MockMvcRestDocumentation\nimport org.springframework.test.context.junit4.SpringRunner\nimport org.springframework.test.web.servlet.MockMvc\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get\nimport org.springframework.test.web.servlet.result.MockMvcResultHandlers.print\nimport org.springframework.test.web.servlet.setup.DefaultMockMvcBuilder\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders\nimport org.springframework.web.context.WebApplicationContext\nimport rx.Single\n\n@RunWith(SpringRunner::class)\n@WebMvcTest(BrowsePlayerController::class, secure = false)\n@AutoConfigureRestDocs(outputDir = \"target/snippets\")\nclass BrowsePlayerControllerTest {\n\n    @Autowired\n    lateinit var mockMvc: MockMvc\n    @MockBean\n    private lateinit var browsePlayerServiceRepresentable: BrowsePlayerServiceRepresentable\n    @MockBean\n    private lateinit var standardContext: StandardContext\n    @MockBean\n    private lateinit var sWDIContext: SWIDContext\n    @MockBean\n    private lateinit var uIDContext: UIDContext\n    @MockBean\n    private lateinit var seeAllContext: SeeAllContext\n    @MockBean\n    private lateinit var apiRequest: ApiRequest\n    @Autowired\n    lateinit var context: WebApplicationContext\n    @MockBean\n    private lateinit var transaction: Transaction\n    @get:Rule\n    var restDocumentation = JUnitRestDocumentation()\n\n    @Before\n    fun init() {\n        MockitoAnnotations.initMocks(this)\n        mockMvc = MockMvcBuilders\n                .webAppContextSetup(context)\n                .apply&lt;DefaultMockMvcBuilder&gt;(MockMvcRestDocumentation.documentationConfiguration(this.restDocumentation)\n                        .uris()\n                        .withScheme(\"http\")\n                        .withHost(\"localhost\")\n                        .withPort(8080))\n                .build()\n    }\n\n    @Test\n    @Throws(Exception::class)\n    fun shouldReturnDefaultMessage() {\n        val paramsMock = mapOf(\"swid\" to \"asudyasd-asdasd-asdasd\")\n        `when`(apiRequest.parameters).thenReturn(paramsMock)\n        val contextRequest = RequestBrowsePlayerContext(this.standardContext, this.sWDIContext, this.uIDContext, this.seeAllContext, apiRequest)\n        //`when`(RequestBrowsePlayerContext.(MockMvc., sWDIContext, uIDContext, seeAllContext, apiRequest)).thenReturn(contextRequest)\n        `when`(browsePlayerServiceRepresentable.getEntitiesBrowse(contextRequest)).thenReturn(Single.just(presentBrowsePlayers()))\n        `when`(browsePlayerServiceRepresentable.getEntitiesBrowse(contextRequest)).thenReturn(Single.just(presentBrowsePlayers()))\n        this.mockMvc!!.perform(get(\"/v1/browse/players/{transaction}{apiRequest}\",transaction,apiRequest).param(\"swid\", \"asudyasd-asdasd-asdasd\")\n                .param(\"uid\", \"s:20~l:23\").param(\"seeAll\", true.toString()).param(\"lang\", \"es\")\n                .param(\"region\", \"us\").param(\"version\", \"23\").param(\"appName\", \"espn\")\n                .param(\"platform\", \"espn\"))\n                .andDo(print())\n    }\n\n    private fun  presentBrowsePlayers(): BrowsePlayerResponse {\n        var sections = arrayListOf&lt;Node&gt;()\n        val playersResponse = buildMockSuggestedPlayers()\n        val nodePlayers =  Node(null, SectionType.PLAYERS, playersResponse)\n        sections.add(nodePlayers)\n        val entitiesResponse = buildMockEntitiesBrowse()\n        val nodeEntities =  Node(null, SectionType.ENTITIES, entitiesResponse)\n        sections.add(nodeEntities)\n        return  BrowsePlayerResponse(presentTopHeader(), buildAnalytics(), sections)\n    }\n\n    private fun buildMockSuggestedPlayers(): List&lt;SuggestedPlayer&gt; {\n        val items = arrayListOf&lt;SuggestedPlayer&gt;()\n        items.add(SuggestedPlayer(\n                \"http://i.espncdn.com/i/players/130x180/45843.jpg\",\n                \"Lionel Messi\",\n                \"SOCCER\",\n                \"dc5f8d51332b0ab2b4b0c97efdc624e0\",\n                buildAnalyticsPlayer(\"s:600~t:83\", \"s:600~l:740\", \"s:600\", SuggestedType.TEAM)\n        ))\n        items.add(SuggestedPlayer(\n                \"http://i.espncdn.com/i/players/130x180/22774.jpg\",\n                \"Cristiano Ronaldo\",\n                \"SOCCER\",\n                \"19e162c06bf5d817e9f981bf96001ee2\",\n                buildAnalyticsPlayer(\"s:600~t:111\", \"s:600~l:730\", \"s:600\", SuggestedType.LEAGUE)\n        ))\n        return items\n    }\n\n    private fun  buildAnalyticsPlayer( teamUid:String?,  leagueId :String,  sportUid :String,  suggestedType:SuggestedType):PlayerAnalytics {\n        return  PlayerAnalytics(teamUid, leagueId, sportUid, suggestedType)\n    }\n\n     private fun presentTopHeader():TopBrowsePlayerHeader {\n        val  searchURL = \"http://someurl\"\n        return  TopBrowsePlayerHeader(\"Player Browse\", searchURL)\n    }\n\n     private fun buildAnalytics():Analytics {\n        return  Analytics(null, null, null, null, null, PageType.ALL_PLAYERS, false)\n    }\n\n    private fun buildMockEntitiesBrowse(): List&lt;EntityBrowse&gt; {\n        var items = arrayListOf&lt;EntityBrowse&gt;()\n        items.add(buildSport(\"NFL\", \"s:20~l:28\", \"http://a.espncdn.com/i/teamlogos/leagues/500/nfl.png\"))\n        items.add(buildSport(\"NCAA Football\", \"s:20~l:23\", \"http://a.espncdn.com/redesign/assets/img/icons/ESPN-icon-football-college.png\"))\n        items.add(buildSport(\"NBA\", \"s:40~l:46\", \"http://a.espncdn.com/i/teamlogos/leagues/500/nba.png\"))\n        items.add(buildSport(\"NCAA Basketball\", \"s:40~l:41\", \"http://a.espncdn.com/redesign/assets/img/icons/ESPN-icon-basketball.png\"))\n        return items\n    }\n\n    private fun buildSport(label: String, uid: String, image: String): EntityBrowse {\n        val type = \"internalLink\"\n        val url = \"sportscenter://x-callback-url/showPlayerBrowse?uid=$uid\"\n        val action = BrowsePlayerAction(type, url)\n        return  EntityBrowse(label, UID.create(uid), action, image)\n    }\n</code></pre>\n\n<p>I'm not really now how can I send the transaction and apiRequest mocked objects to the controller because I am only calling this.mockMvc!!.perform(get(\"/v1/browse/players/{transaction}{apiRequest}\",transaction,apiRequest) without send any param. </p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines", "ktor"], "answers": [{"tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": true, "score": 2, "last_activity_date": 1559115477, "last_edit_date": 1559115477, "creation_date": 1559072583, "answer_id": 56349077, "question_id": 56347516, "link": "https://stackoverflow.com/questions/56347516/ktor-httpclient-is-hang-in-runblocking/56349077#56349077", "title": "Ktor HttpClient is hang in runBlocking", "body": "<blockquote>\n  <p>Is the io.ktor.client.HttpClient a long-lived object that can be re-used for multiple requests or should I create a new one for each request?</p>\n</blockquote>\n\n<p>Yes, it's recommended to use single HttpClient, since some resources (like thread-pool in case of ApacheHttpClient) allocated under the hood, and there are no reasons to create new client each time.</p>\n\n<blockquote>\n  <p>If yes, what am I doing wrong with it, so the runBlocking hangs?</p>\n</blockquote>\n\n<p>Your problem with closing client, not with coroutines itself, consider this example which also \"hangs\":</p>\n\n<pre><code>fun main() {\n    val client = HttpAsyncClients.createDefault().also {\n        it.start()\n    }\n}\n</code></pre>\n\n<p>So in my practice, closing client responsibility of developer, like this:</p>\n\n<pre><code>fun main() {\n    val client = HttpAsyncClients.createDefault().also {\n        it.start()\n    }\n\n    client.close() // we're good now\n\n}\n</code></pre>\n\n<p>Or using <code>Runtime.addShutodownHook</code> in more complex applications.</p>\n\n<blockquote>\n  <p>P.S. The code works with Ktor 1.1.1! Is it a bug?</p>\n</blockquote>\n\n<p>I think this is real question, what 1.1.1 do, that 1.2.1 don't (or visa-versa)</p>\n\n<hr>\n\n<p><strong>UPD</strong>.</p>\n\n<p>According Ktor Client <a href=\"https://ktor.io/clients/http-client.html\" rel=\"nofollow noreferrer\">documentation</a>, you should close client manually:</p>\n\n<pre><code>suspend fun sequentialRequests() {\n    val client = HttpClient()\n\n    // Get the content of an URL.\n    val firstBytes = client.get&lt;ByteArray&gt;(\"https://127.0.0.1:8080/a\")\n\n    // Once the previous request is done, get the content of an URL.\n    val secondBytes = client.get&lt;ByteArray&gt;(\"https://127.0.0.1:8080/b\")\n\n    client.close()\n}\n</code></pre>\n"}], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1303, "favorite_count": 0, "accepted_answer_id": 56349077, "answer_count": 1, "score": 3, "last_activity_date": 1559115477, "creation_date": 1559065337, "last_edit_date": 1559069192, "question_id": 56347516, "link": "https://stackoverflow.com/questions/56347516/ktor-httpclient-is-hang-in-runblocking", "title": "Ktor HttpClient is hang in runBlocking", "body": "<p>I am validating App Store recipes in a server-side Kotlin using with Ktor's <code>HttpClient</code> (Ktor version is 1.2.1). Here is my code so far:</p>\n\n<pre><code>class AppStoreClient(\n        val url: String,\n        val password: String,\n        val excludeOldTransactions: Boolean = true\n) {\n    private val objectMapper = ObjectMapperFactory.defaultObjectMapper()\n    private val client = HttpClient(Apache /* tried with CIO as well */) {\n        install(JsonFeature) {\n            serializer = JacksonSerializer()\n        }\n    }\n\n    suspend fun validate(receipt: String): VerifyReceiptResponse {\n        val post = client.post&lt;String&gt; {\n            url(this@AppStoreClient.url)\n            contentType(ContentType.Application.Json)\n            accept(ContentType.Application.Json)\n            body = VerifyReceiptRequest(\n                    receipt,\n                    password,\n                    excludeOldTransactions\n            )\n        }\n\n        // client.close()\n\n        // Apple does not send Content-Type header \u00af\\_(\u30c4)_/\u00af\n        // So Ktor's deserialization is not working here and\n        // I have to manually deserialize the response.\n        return objectMapper.readValue(post)\n    }\n}\n</code></pre>\n\n<p>And here I'm testing it:</p>\n\n<pre><code>fun main() = runBlocking {\n    val client = AppStoreClient(\"https://sandbox.itunes.apple.com/verifyReceipt\", \"&lt;password&gt;\")\n\n    println(client.validate(\"&lt;recipe1&gt;\"))\n    // println(client.validate(\"&lt;recipe2&gt;\"))\n    // println(client.validate(\"&lt;recipe3&gt;\"))\n}\n</code></pre>\n\n<p>I got all the responses (one or three) in the output, but then my app just hangs and never quits the <code>main</code> method. Looks like <code>runBlocking</code> is still waiting for something, like <code>client.close</code>. Indeed, if I close the client after the first request, the app successfully ends, but that will force me to create the client on each separate validation request. Client's pipeline configuration seems to be time-consuming and <code>AppStoreClient</code> is meant to be a long-lived object, so I thought the client can share its lifecycle (probably even dependency-injected).</p>\n\n<p>Is the <code>io.ktor.client.HttpClient</code> a long-lived object that can be re-used for multiple requests or should I create a new one for each request?</p>\n\n<p>If yes, what am I doing wrong with it, so the <code>runBlocking</code> hangs?</p>\n\n<hr>\n\n<p>P.S. The code works with Ktor 1.1.1! Is it a bug?</p>\n\n<hr>\n\n<p>P.P.S. This code hangs as well:</p>\n\n<pre><code>fun main() {\n    val client = AppStoreClient(\"...\", \"...\")\n\n    runBlocking {\n        println(client.validate(\"...\"))\n        println(client.validate(\"...\"))\n        println(client.validate(\"...\"))\n    }\n\n    runBlocking {\n        println(client.validate(\"...\"))\n        println(client.validate(\"...\"))\n        println(client.validate(\"...\"))\n    }\n}\n</code></pre>\n\n<p>So I might seriously consider closing the client.</p>\n"}, {"tags": ["android", "kotlin", "android-ktx"], "comments": [{"owner": {"reputation": 1503, "user_id": 1904778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/f4qlM.jpg?s=128&g=1", "display_name": "Nithinjith", "link": "https://stackoverflow.com/users/1904778/nithinjith"}, "edited": false, "score": 2, "creation_date": 1585810878, "post_id": 56347133, "comment_id": 107894805, "body": "I am using lifecycle_version = &quot;2.2.0&quot;. I am still getting the same error. Any solution for that?"}], "answers": [{"comments": [{"owner": {"reputation": 1503, "user_id": 1904778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/f4qlM.jpg?s=128&g=1", "display_name": "Nithinjith", "link": "https://stackoverflow.com/users/1904778/nithinjith"}, "edited": false, "score": 4, "creation_date": 1585810925, "post_id": 56347363, "comment_id": 107894823, "body": "I am using lifecycle_version = &quot;2.2.0&quot;, but the error is still persisting"}, {"owner": {"reputation": 776, "user_id": 66509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8124d663611f09c535acd83722c7a998?s=128&d=identicon&r=PG", "display_name": "ruds", "link": "https://stackoverflow.com/users/66509/ruds"}, "reply_to_user": {"reputation": 1503, "user_id": 1904778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/f4qlM.jpg?s=128&g=1", "display_name": "Nithinjith", "link": "https://stackoverflow.com/users/1904778/nithinjith"}, "edited": false, "score": 0, "creation_date": 1593959680, "post_id": 56347363, "comment_id": 110952688, "body": "@Nithinjith make sure you have <code>import androidx.lifecycle.*</code> in your source."}], "tags": [], "owner": {"reputation": 6555, "user_id": 994939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8fc3e78a90fde1b61cfba1020b128f3d?s=128&d=identicon&r=PG", "display_name": "veritas1", "link": "https://stackoverflow.com/users/994939/veritas1"}, "is_accepted": true, "score": 6, "last_activity_date": 1559064520, "creation_date": 1559064520, "answer_id": 56347363, "question_id": 56347133, "link": "https://stackoverflow.com/questions/56347133/unresolved-reference-viewmodelscope-android-ktx/56347363#56347363", "title": "Unresolved reference: viewModelScope - Android KTX", "body": "<p>Check the release notes <a href=\"https://developer.android.com/jetpack/androidx/releases/lifecycle#declaring_dependencies\" rel=\"noreferrer\">https://developer.android.com/jetpack/androidx/releases/lifecycle#declaring_dependencies</a></p>\n\n<p><code>viewModelScope</code> is available from <code>v2.1.x</code></p>\n\n<p>So you need to bump your version in your gradle file.</p>\n"}, {"tags": [], "owner": {"reputation": 1567, "user_id": 7802772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oeys2.png?s=128&g=1", "display_name": "V.March", "link": "https://stackoverflow.com/users/7802772/v-march"}, "is_accepted": false, "score": 2, "last_activity_date": 1561547504, "creation_date": 1561547504, "answer_id": 56771499, "question_id": 56347133, "link": "https://stackoverflow.com/questions/56347133/unresolved-reference-viewmodelscope-android-ktx/56771499#56771499", "title": "Unresolved reference: viewModelScope - Android KTX", "body": "<p>I have use in my project <a href=\"https://developer.android.com/jetpack/androidx/releases/lifecycle#2.1.0-beta01\" rel=\"nofollow noreferrer\">2.1.0-beta01</a>: </p>\n\n<pre><code>implementation \"androidx.lifecycle:lifecycle-viewmodel-ktx:2.1.0-beta01\" \n</code></pre>\n\n<p>This is <strong>less version then released on official site</strong>.<br>\nHowever, I use it because new version <a href=\"https://developer.android.com/jetpack/androidx/releases/lifecycle#2.2.0-alpha01\" rel=\"nofollow noreferrer\">2.2.0-alpha01</a> still has the <code>Unresolved reference: viewModelScope - Android KTX</code> error.</p>\n"}], "owner": {"reputation": 5325, "user_id": 4507386, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-SB4-Yo98rrM/AAAAAAAAAAI/AAAAAAAAAB4/QEKmkZwFw7E/photo.jpg?sz=128", "display_name": "Toni Joe", "link": "https://stackoverflow.com/users/4507386/toni-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1578, "favorite_count": 0, "accepted_answer_id": 56347363, "answer_count": 2, "score": 4, "last_activity_date": 1569137047, "creation_date": 1559063402, "last_edit_date": 1569137047, "question_id": 56347133, "link": "https://stackoverflow.com/questions/56347133/unresolved-reference-viewmodelscope-android-ktx", "title": "Unresolved reference: viewModelScope - Android KTX", "body": "<p>I'm trying to use the new <code>viewModelScope()</code> function provided by the new android ktx library. </p>\n\n<p>In the gradle file, I've added:</p>\n\n<pre><code>implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.0.0'\nimplementation 'androidx.core:core-ktx:1.0.2'\n</code></pre>\n\n<p>but when I tied to access the <code>viewModelScope()</code>, I got <code>Unresolved reference: viewModelScope</code> error:</p>\n\n<pre><code>class MainViewModel(application: Application): AndroidViewModel(application) {\n\n    fun fetchData(){\n        viewModelScope.launch{\n\n        }\n    }\n}\n</code></pre>\n\n<p>I don't understand what the problem is. Any idea? Thanks.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1302, "user_id": 11146632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZcx7.png?s=128&g=1", "display_name": "Sujit", "link": "https://stackoverflow.com/users/11146632/sujit"}, "edited": false, "score": 0, "creation_date": 1559063475, "post_id": 56347114, "comment_id": 99299185, "body": "Ohh... that makes sense... Thanks a lot. I&#39;m new to a lot of this."}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 3, "last_activity_date": 1559063322, "creation_date": 1559063322, "answer_id": 56347114, "question_id": 56346863, "link": "https://stackoverflow.com/questions/56346863/what-is-wrong-with-my-mainactivity-kt-file/56347114#56347114", "title": "What is wrong with my MainActivity.kt file?", "body": "<p>With the initial declarations:</p>\n\n<pre><code>private const val STATE_OPERAND1 = \"data\"\nprivate const val STATE_OPERAND1_STORED = \"data\"\n</code></pre>\n\n<p>this line:</p>\n\n<pre><code>outState.putDouble(STATE_OPERAND1, operand1!!)\n</code></pre>\n\n<p>sets inside the <code>Bundle</code> object the <code>Double</code> value <code>operand1!!</code> by the key <code>\"data\"</code>.<br/>\nThe next line:</p>\n\n<pre><code>outState.putBoolean(STATE_OPERAND1_STORED, true)\n</code></pre>\n\n<p>sets again (overwrites) inside the <code>Bundle</code> object the <code>Boolean</code> value <code>true</code> by the key <code>\"data\"</code>.<br/>\nThe result is that the previous <code>Double</code> value is now <strong>lost</strong> and the only value that exists is the new <code>Boolean</code> value.<br/>\nSo what you have is only one <code>Boolean</code> value.<br/>\nWhen you changed to:</p>\n\n<pre><code>private const val STATE_OPERAND1 = \"STATE_OPERAND1\"\nprivate const val STATE_OPERAND1_STORED = \"data\"\n</code></pre>\n\n<p>this conflict vanished, because you had 2 different keys and the 2 values were saved properly without overwriting each other.</p>\n"}], "owner": {"reputation": 1302, "user_id": 11146632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZcx7.png?s=128&g=1", "display_name": "Sujit", "link": "https://stackoverflow.com/users/11146632/sujit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 56347114, "answer_count": 1, "score": 0, "last_activity_date": 1559106807, "creation_date": 1559062290, "last_edit_date": 1559106807, "question_id": 56346863, "link": "https://stackoverflow.com/questions/56346863/what-is-wrong-with-my-mainactivity-kt-file", "title": "What is wrong with my MainActivity.kt file?", "body": "<p>I'm creating a Calculator Application.\nWhenever a user changes the orientation of the device, the current app activity gets destroyed and recreated. So to fix that problem(i.e. get all the data back) I did this:</p>\n\n<ol>\n<li>Declaring some variables</li>\n</ol>\n\n<pre><code>private const val STATE_OPERAND1 = \"data\"\nprivate const val STATE_PENDING_OPERATION = \"PENDING_OPERATION\"\nprivate const val STATE_OPERAND1_STORED = \"data\"\n</code></pre>\n\n<ol start=\"2\">\n<li>Overriding the 'onSaveInstanceState' function</li>\n</ol>\n\n<pre><code>override fun onSaveInstanceState(outState: Bundle)\n    super.onSaveInstanceState(outState)\n    if (operand1 != null) {\n        outState.putDouble(STATE_OPERAND1, operand1!!)\n        outState.putBoolean(STATE_OPERAND1_STORED, true)\n    }\n    outState.putString(STATE_PENDING_OPERATION, pendingOperation)\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>Overriding the 'onRestoreInstanceState' function</li>\n</ol>\n\n<pre><code>override fun onRestoreInstanceState(savedInstanceState: Bundle) {\n    super.onRestoreInstanceState(savedInstanceState)\n    operand1 = if (savedInstanceState.getBoolean(STATE_OPERAND1_STORED, false))\n        savedInstanceState.getDouble(STATE_OPERAND1)\n    else\n        null\n    result.setText(operand1.toString())    // Marked Line 1\n    pendingOperation = savedInstanceState.getString(STATE_PENDING_OPERATION)\n    displayOperation.text = pendingOperation\n    }\n</code></pre>\n\n<p>The 'Marked Line 1' in the 3rd code is not required, the reason I added is to find out the error. In this code the <em>result</em> test box clears it's previous text and has the text 'null' entered.</p>\n\n<p>However, when I changed the declaration in 1\nfrom <code>private const val STATE_OPERAND1 = \"data\"</code> to <code>private const val STATE_OPERAND1 = \"STATE_OPERAND1\"</code></p>\n\n<p>The <em>result</em> text box showed the text it was supposed to and everything worked properly. The application worked as long as all the three declaration in the 1st code were different. Why is this the case? </p>\n"}, {"tags": ["android", "amazon-web-services", "kotlin", "amazon-rekognition"], "answers": [{"tags": [], "owner": {"reputation": 6084, "user_id": 1307690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a4bd3d33ff40895fa9416afdaf89ae5a?s=128&d=identicon&r=PG", "display_name": "Roman Nazarevych", "link": "https://stackoverflow.com/users/1307690/roman-nazarevych"}, "is_accepted": false, "score": 2, "last_activity_date": 1559073196, "last_edit_date": 1559073196, "creation_date": 1559062230, "answer_id": 56346852, "question_id": 56346851, "link": "https://stackoverflow.com/questions/56346851/error-while-sending-image-for-face-matching-to-aws-rekognition-on-android/56346852#56346852", "title": "Error while sending Image for face matching to AWS Rekognition on Android", "body": "<p>It appeared the problem was in Image format, I was using RAW BMP format, the format in which Bitmap is represented in memory. But Amazon doesn't support this format, it is stated in the documentation <a href=\"https://docs.aws.amazon.com/rekognition/latest/dg/limits.html\" rel=\"nofollow noreferrer\">here</a>  </p>\n\n<blockquote>\n  <p>Amazon Rekognition supports the PNG and JPEG image formats. That is, the images you provide as input to various API operations, such as DetectLabels and IndexFaces must be in one of the supported formats.</p>\n</blockquote>\n\n<p>To fix this I have changed my code to this:</p>\n\n<pre><code>     val stream = ByteArrayOutputStream()\n     facePicture.compress(Bitmap.CompressFormat.PNG, 100, stream)\n     val byteBuffer = ByteBuffer.wrap(stream.toByteArray())\n     val image = Image().withBytes(byteBuffer)\n\n</code></pre>\n"}], "owner": {"reputation": 6084, "user_id": 1307690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a4bd3d33ff40895fa9416afdaf89ae5a?s=128&d=identicon&r=PG", "display_name": "Roman Nazarevych", "link": "https://stackoverflow.com/users/1307690/roman-nazarevych"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559073196, "creation_date": 1559062230, "last_edit_date": 1559070920, "question_id": 56346851, "link": "https://stackoverflow.com/questions/56346851/error-while-sending-image-for-face-matching-to-aws-rekognition-on-android", "title": "Error while sending Image for face matching to AWS Rekognition on Android", "body": "<p>I'm getting an error while sending Image for recognition to AWS Rekognition. \nThis is the code which I use:</p>\n\n<pre><code>        val byteBuffer = ByteBuffer.allocate(facePicture.byteCount)\n        facePicture.copyPixelsToBuffer(byteBuffer)\n        val image = Image().withBytes(byteBuffer)\n\n        val searchFacesByImageResult = rekognitionClient.searchFacesByImage(\n            SearchFacesByImageRequest()\n                .withCollectionId(collectionId)\n                .withImage(image)\n                .withMaxFaces(1)\n                .withFaceMatchThreshold(88F)\n        )\n</code></pre>\n\n<p>And this is an error:</p>\n\n<pre><code>com.amazonaws.AmazonServiceException: 1 validation error detected: Value 'java.nio.HeapByteBuffer[pos=0 lim=0 cap=0]' at 'image.bytes' failed to satisfy constraint: Member must have length greater than or equal to 1 (Service: AmazonRekognition; Status Code: 400; Error Code: ValidationException; Request ID: 70a3f05c-8166-11e9-a1cb-fbae8cf4359b)\n        at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:730)\n        at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:405)\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:212)\n        at com.amazonaws.services.rekognition.AmazonRekognitionClient.invoke(AmazonRekognitionClient.java:3006)\n        at com.amazonaws.services.rekognition.AmazonRekognitionClient.searchFacesByImage(AmazonRekognitionClient.java:238\n</code></pre>\n\n<p>Exception looks like <code>ByteBuffer</code> is empty, I have debugged and checked that ByteBuffer is valid and is not empty</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-paging", "android-paging-library"], "owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1559064669, "creation_date": 1559062160, "last_edit_date": 1559064669, "question_id": 56346837, "link": "https://stackoverflow.com/questions/56346837/limiting-the-number-of-loaded-items-in-memory-with-paging-library", "title": "Limiting the number of loaded items in memory with paging library", "body": "<p>I'm using <code>paging library</code> to load and display the data from server:</p>\n\n<pre><code>dataFactory = DataSourceFactory()\nval config = PagedList.Config.Builder()\n    .setPageSize(25)\n    .setInitialLoadSizeHint(25 * 2)\n    .setEnablePlaceholders(false)\n    .build()\ndataList = LivePagedListBuilder&lt;Int, CreditTransaction&gt;(dataFactory, config).build()\nadapter.submitList(dataList.value)\n</code></pre>\n\n<p>I'm also using the <code>PageKeyedDataSource</code> for <code>DataSourceFactory</code></p>\n\n<p>And when I scroll the list for a long time I have lots of items in memory. I also know that since <code>Paging 2.1.0-alpha01</code> we have <code>page dropping</code>, <code>PagedList.Config.Builder.setMaxSize()</code> for limiting the number of loaded items in memory. But this feature doesn't work with <code>PageKeyedDataSource</code>. \nAre there other solutions for limiting the number of loaded items in memory which can work with <code>PageKeyedDataSource</code>?</p>\n"}, {"tags": ["kotlin", "android-imageview"], "comments": [{"owner": {"reputation": 2612, "user_id": 293691, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/xte0f.jpg?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/293691/jay"}, "edited": false, "score": 0, "creation_date": 1559078861, "post_id": 56346747, "comment_id": 99305533, "body": "Could you provide a code example including what library or package is providing the <code>ImageView</code> object?"}], "answers": [{"tags": [], "owner": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "is_accepted": true, "score": 0, "last_activity_date": 1559093469, "creation_date": 1559093469, "answer_id": 56351948, "question_id": 56346747, "link": "https://stackoverflow.com/questions/56346747/how-to-change-imageview-opacity-in-kotlin/56351948#56351948", "title": "how to change &quot;ImageView&quot; opacity in kotlin", "body": "<p>This should work:  </p>\n\n<pre><code>val imageView = ImageView(context)\nimageView.alpha = 0.75f\n</code></pre>\n"}], "owner": {"reputation": 140, "user_id": 9470643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f91c238aa119dad250c4b6eb3eb8e8d7?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/9470643/mohammad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 56351948, "answer_count": 1, "score": 0, "last_activity_date": 1559093469, "creation_date": 1559061768, "question_id": 56346747, "link": "https://stackoverflow.com/questions/56346747/how-to-change-imageview-opacity-in-kotlin", "title": "how to change &quot;ImageView&quot; opacity in kotlin", "body": "<p>I want to change the opacity of an image View.\nI know how to change opacity in Java but how should I do in kotlin?</p>\n"}, {"tags": ["java", "generics", "kotlin", "enums"], "answers": [{"comments": [{"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 0, "creation_date": 1559057955, "post_id": 56344449, "comment_id": 99296372, "body": "Thanks. Lateron I also used Enum.valueOf which obviously will break since Enum&lt;*&gt; is not specific enough, but there is a way around this: clazz.enumConstants"}], "tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": true, "score": 1, "last_activity_date": 1559053696, "creation_date": 1559053696, "answer_id": 56344449, "question_id": 56344202, "link": "https://stackoverflow.com/questions/56344202/combining-reflection-enums-and-generics-in-kotlin-type-inference-fails-but-i/56344449#56344449", "title": "Combining reflection, enums and generics in Kotlin, type inference fails, but I don&#39;t know it as well", "body": "<p>When concrete recursive generic type is unknown, you can emulate raw types by suppressing this error:</p>\n\n<pre><code>@Suppress(\"UPPER_BOUND_VIOLATED\")\nval clazz = getEnumType&lt;Enum&lt;*&gt;&gt;(type)\n</code></pre>\n"}], "owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 56344449, "answer_count": 1, "score": 1, "last_activity_date": 1563615307, "creation_date": 1559052838, "last_edit_date": 1563615307, "question_id": 56344202, "link": "https://stackoverflow.com/questions/56344202/combining-reflection-enums-and-generics-in-kotlin-type-inference-fails-but-i", "title": "Combining reflection, enums and generics in Kotlin, type inference fails, but I don&#39;t know it as well", "body": "<p>I'm using reflection to load an Enum class I'm using to integrate with an existing Java application.\nIn Java this is written as (in a class ValueUtil): </p>\n\n<pre><code>static &lt;E extends Enum&lt;E&gt;&gt; Class&lt;E&gt; getEnumType(String typeAsString) { ..reflection stuff.. }\n</code></pre>\n\n<p>In Kotlin I try to use the result of this method.</p>\n\n<pre><code>private fun createEnumParameter(type: String, value: String, id: String?): EnumParameter&lt;*&gt; {\n    val clazz = getEnumType(type)\n    return createParam(clazz, value, id)\n}\n\nprivate fun &lt;E: Enum&lt;E&gt;&gt; getEnumType(type: String): Class&lt;E&gt; {\n    return ValueParseUtil.getEnumType&lt;E&gt;(type)\n}\n\nprivate fun createParam(...): ... { ... }\n</code></pre>\n\n<p>However, the compiler states:\n<a href=\"https://i.stack.imgur.com/X3yqF.png\" rel=\"nofollow noreferrer\">Type inference error</a></p>\n\n<p>So I try as best as I can to specify what I know (Enum&lt;*>):\n<a href=\"https://i.stack.imgur.com/Pd4yf.png\" rel=\"nofollow noreferrer\">Enum&lt;*> error</a></p>\n\n<p>This fails due to enum recursion in the generics (which I/Kotlin/Java need(s) by the way).</p>\n\n<p>Is reflection + enums + generics a recipe for compiler errors?</p>\n\n<p>Any suggestions how to fix this?</p>\n"}, {"tags": ["java", "performance", "kotlin", "stream"], "comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1559108228, "post_id": 56344181, "comment_id": 99311640, "body": "Your alternative Kotlin implementation is far more complex than necessary. Have a look here fore &#39;standard Java copy loop&#39;. It&#39;s not 1/4 as difficult as you&#39;re making it."}, {"owner": {"reputation": 103, "user_id": 4761457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97555dba638f4e6c9c3c45af1b2d3650?s=128&d=identicon&r=PG&f=1", "display_name": "Alexios", "link": "https://stackoverflow.com/users/4761457/alexios"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1559119795, "post_id": 56344181, "comment_id": 99317139, "body": "I&#39;m using the first method <code>saveToFile</code> in my implementation, how is one line command complex? @user207421 The second snippet is posted in order to show the functionality I would like to have by using the <code>Files.copy</code> method, or a similar one."}], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 4761457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97555dba638f4e6c9c3c45af1b2d3650?s=128&d=identicon&r=PG&f=1", "display_name": "Alexios", "link": "https://stackoverflow.com/users/4761457/alexios"}, "is_accepted": true, "score": 0, "last_activity_date": 1559571412, "creation_date": 1559571412, "answer_id": 56429194, "question_id": 56344181, "link": "https://stackoverflow.com/questions/56344181/how-to-measure-performance-speed-of-files-copy-method-while-the-process-is-on-go/56429194#56429194", "title": "How to measure performance/speed of Files.copy method while the process is on-going?", "body": "<p>Since I didn't find anything in-built, the easiest way to do what's being asked is to \"overload\" the desired <code>Files.copy</code> method and call that function instead.</p>\n\n<p>The overloading method could be similar to the below:</p>\n\n<pre><code>private val BUFFER_SIZE = 8192\n\n@Throws(IOException::class)\nprivate fun copy(source: InputStream, sink: OutputStream, networkStatistics: NetworkStatistics, measureSpeed : (NetworkStatistics) -&gt; Unit = { }): Long {\n    var nread = 0L\n    val buf = ByteArray(BUFFER_SIZE)\n    var n: Int\n    n = source.read(buf)\n    while (n &gt; 0) {\n        val nano = measureNanoTime {\n            sink.write(buf, 0, n)\n            nread += n.toLong()\n            n = source.read(buf)\n        }\n        networkStatistics.amountSent = nread\n        networkStatistics.lastPacketBytes = n.toLong()\n        networkStatistics.lastPacketTime = nano\n        measureSpeed(networkStatistics)\n    }\n    return nread\n}\n\n@Throws(IOException::class)\nfun copy(`in`: InputStream, target: Path, networkStatistics: NetworkStatistics, measureSpeed : (NetworkStatistics) -&gt; Unit = { }, vararg options: CopyOption ): Long {\n    // ensure not null before opening file\n    Objects.requireNonNull(`in`)\n\n    // check for REPLACE_EXISTING\n    var replaceExisting = false\n    for (opt in options) {\n        if (opt === StandardCopyOption.REPLACE_EXISTING) {\n            replaceExisting = true\n        } else {\n            if (opt == null) {\n                throw NullPointerException(\"options contains 'null'\")\n            } else {\n                throw UnsupportedOperationException(opt.toString() + \" not supported\")\n            }\n        }\n    }\n\n    // attempt to delete an existing file\n    var se: SecurityException? = null\n    if (replaceExisting) {\n        try {\n            Files.deleteIfExists(target)\n        } catch (x: SecurityException) {\n            se = x\n        }\n\n    }\n\n    // attempt to create target file. If it fails with\n    // FileAlreadyExistsException then it may be because the security\n    // manager prevented us from deleting the file, in which case we just\n    // throw the SecurityException.\n    val ostream: OutputStream\n    try {\n        ostream = Files.newOutputStream(target, StandardOpenOption.CREATE_NEW,\n                StandardOpenOption.WRITE)\n    } catch (x: FileAlreadyExistsException) {\n        if (se != null)\n            throw se\n        // someone else won the race and created the file\n        throw x\n    }\n\n    // do the copy\n    ostream.use { out -&gt; return copy(`in`, out, networkStatistics, measureSpeed = { networkStatistics -&gt; measureSpeed(networkStatistics) }) }\n}\n</code></pre>\n\n<p>and it would be called as:</p>\n\n<pre><code>val statistics = NetworkStatistics(responseShouldBe, 0, 0, 1)\ncopy(inputStream, file.toPath(), statistics, { it: NetworkStatistics -&gt; measureSpeed(it) }, StandardCopyOption.REPLACE_EXISTING)\n\nprivate fun measureSpeed(stats: NetworkStatistics) {\n    val a = stats.lastPacketBytes\n    val b = stats.lastPacketTime\n    val miliseconds = b.toDouble() / 1000\n    val seconds = miliseconds / 1000\n    println(\"$a per ($seconds seconds) or ($miliseconds milisecs) or ($b nanosecs) -- ${(a.toDouble()/(1024*1024))/seconds} MB/seconds\")\n}\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 4761457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97555dba638f4e6c9c3c45af1b2d3650?s=128&d=identicon&r=PG&f=1", "display_name": "Alexios", "link": "https://stackoverflow.com/users/4761457/alexios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 56429194, "answer_count": 1, "score": -1, "last_activity_date": 1559571412, "creation_date": 1559052750, "last_edit_date": 1559129314, "question_id": 56344181, "link": "https://stackoverflow.com/questions/56344181/how-to-measure-performance-speed-of-files-copy-method-while-the-process-is-on-go", "title": "How to measure performance/speed of Files.copy method while the process is on-going?", "body": "<p>I have a general abstract method which gets an input stream (can be from a network socket, or from a file on the local storage) and saves the data on the disk.</p>\n\n<p>Below a small snippet of the function:</p>\n\n<pre><code>fun saveToFile(data: InputStream, fileDestination: File) {\n\n            val bytesWritten = Files.copy(data, fileDestination.toPath(), StandardCopyOption.REPLACE_EXISTING)\n            println(\"$bytesWritten bytes were saved at ${fileDestination.absolutePath}\")\n\n}\n</code></pre>\n\n<p>Is it possible to measure the speed/rate that the data are being saved on the disk while the process/method is on-going? For example, is there any possibility of invoking a function which returns the rate/speed or updates an object which holds that data?</p>\n\n<p>If I was doing the implementation by myself with InputStream/OutputStream, I could have for example something like below:</p>\n\n<pre><code>fun saveData(data: InputStream, fileDestination: File, measureSpeed : (Statistics) -&gt; Unit = { }) {\n\n        val outputStream = fileDestination.outputStream()\n        val maxBufferSize = 1024\n        val totalAmountData = data.available()\n        var totalBytesWritten = 0\n        var bytesWriteNextIteration: Int // amount of bytes that will be sent in only one write call\n        val statistics = Statistics(amountSent = 0, lastWriteBytes = 0, lastWriteTime = 1)\n        while (totalBytesWritten &lt; totalAmountData) {\n            bytesWriteNextIteration = totalAmountData - totalBytesWritten\n            if (bytesWriteNextIteration &gt; maxBufferSize) {\n                bytesWriteNextIteration = maxBufferSize\n            }\n            val bytes = ByteArray(bytesWriteNextIteration)\n\n            val nano = measureNanoTime {\n                outputStream.write(bytes)\n            }\n            statistics.amountSent = totalBytesWritten.toLong()\n            statistics.lastWriteBytes = bytesWriteNextIteration.toLong()\n            statistics.lastWriteTime = nano\n            measureSpeed(statistics)\n            totalBytesWritten += bytesWriteNextIteration\n        }\n\n        outputStream.flush()\n        outputStream.close()\n    }\n\n    data class Statistics(var amountSent: Long, var lastWriteBytes: Long, var lastWriteTime: Long)\n</code></pre>\n\n<p>and with <code>measureSpeed</code> method to calculate the copy/transfer rate.</p>\n"}, {"tags": ["arrays", "kotlin"], "comments": [{"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 2, "creation_date": 1559052766, "post_id": 56344133, "comment_id": 99293304, "body": "It works. Try it on the official Kotlin Playground: <a href=\"https://play.kotlinlang.org/\" rel=\"nofollow noreferrer\">play.kotlinlang.org</a>"}, {"owner": {"reputation": 4227, "user_id": 8200485, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f6663ff2d61581b26bd021b3ce6b6376?s=128&d=identicon&r=PG", "display_name": "hyper-neutrino", "link": "https://stackoverflow.com/users/8200485/hyper-neutrino"}, "reply_to_user": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1559053054, "post_id": 56344133, "comment_id": 99293492, "body": "@gpunto that&#39;s weird. well I guess TIO&#39;s just broken..."}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1559146446, "post_id": 56344133, "comment_id": 99332616, "body": "Can you share the stacktrace?"}, {"owner": {"reputation": 4227, "user_id": 8200485, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f6663ff2d61581b26bd021b3ce6b6376?s=128&d=identicon&r=PG", "display_name": "hyper-neutrino", "link": "https://stackoverflow.com/users/8200485/hyper-neutrino"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1559147070, "post_id": 56344133, "comment_id": 99332946, "body": "@crgarridos Thanks, but it&#39;s been fixed now. Turns out it was a known bug that was fixed after TIO updated Kotlin to the most recent version."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1559053141, "last_edit_date": 1559053141, "creation_date": 1559052972, "answer_id": 56344242, "question_id": 56344133, "link": "https://stackoverflow.com/questions/56344133/array-with-n-elements-in-kotlin-doesnt-work/56344242#56344242", "title": "Array with `n` elements in Kotlin doesn&#39;t work", "body": "<p>For me it results in <code>[false, false, false, false, false]</code>:</p>\n\n<pre><code>val a = Array(5) { false }\nprintln(a.contentToString())\n</code></pre>\n\n<p>Seems to be an issue related to the environment you were using.</p>\n"}], "owner": {"reputation": 4227, "user_id": 8200485, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f6663ff2d61581b26bd021b3ce6b6376?s=128&d=identicon&r=PG", "display_name": "hyper-neutrino", "link": "https://stackoverflow.com/users/8200485/hyper-neutrino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1559053141, "creation_date": 1559052581, "question_id": 56344133, "link": "https://stackoverflow.com/questions/56344133/array-with-n-elements-in-kotlin-doesnt-work", "title": "Array with `n` elements in Kotlin doesn&#39;t work", "body": "<p>I thought it was really simple...</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val a = Array&lt;Boolean&gt;(5) { false };\n}\n</code></pre>\n\n<p>But apparently, that doesn't work (it gives a NullPointerException): <a href=\"https://tio.run/##y84vycnM@/8/rTRPITcxM08jsSi92ErBsagosdImuKQoMy/dTlOhmouzLDFHIVHBFirjlJ@fk5qYZ6dhCpRUSEvMKU5VqLXmqv3/HwA\" rel=\"nofollow noreferrer\">Try It Online!</a></p>\n\n<p>This is the right way to do it according to another SO post that the OP commented was correct, so is it the runtime environment's fault or is Kotlin behaving weirdly?</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "mockito", "location"], "comments": [{"owner": {"reputation": 4603, "user_id": 1478296, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4d318c9fca27b7fa405fa8488e225901?s=128&d=identicon&r=PG", "display_name": "Billda", "link": "https://stackoverflow.com/users/1478296/billda"}, "edited": false, "score": 1, "creation_date": 1559053107, "post_id": 56343940, "comment_id": 99293521, "body": "Why do you mock it using Mockito? You can use it directly like val mockLocation = Location(&quot;provider&quot;)             mockLocation.latitude = latitude             mockLocation.longitude = longitude"}, {"owner": {"reputation": 85, "user_id": 5222859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zb6rd.jpg?s=128&g=1", "display_name": "Roger Nkosi", "link": "https://stackoverflow.com/users/5222859/roger-nkosi"}, "reply_to_user": {"reputation": 4603, "user_id": 1478296, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4d318c9fca27b7fa405fa8488e225901?s=128&d=identicon&r=PG", "display_name": "Billda", "link": "https://stackoverflow.com/users/1478296/billda"}, "edited": false, "score": 0, "creation_date": 1559053561, "post_id": 56343940, "comment_id": 99293798, "body": "@Billda Hi, I tried that, and I got the same output which is 0.0"}], "answers": [{"comments": [{"owner": {"reputation": 2277, "user_id": 3528461, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vlHLT.png?s=128&g=1", "display_name": "Reprator", "link": "https://stackoverflow.com/users/3528461/reprator"}, "edited": false, "score": 1, "creation_date": 1613196084, "post_id": 56344610, "comment_id": 117006905, "body": "It&#39;s always null, whenever i try to create a real object for unit testing"}], "tags": [], "owner": {"reputation": 7645, "user_id": 6401755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Xakd.jpg?s=128&g=1", "display_name": "Juan Cruz Soler", "link": "https://stackoverflow.com/users/6401755/juan-cruz-soler"}, "is_accepted": true, "score": 1, "last_activity_date": 1559054206, "creation_date": 1559054206, "answer_id": 56344610, "question_id": 56343940, "link": "https://stackoverflow.com/questions/56343940/android-unit-testing-location-not-mocked/56344610#56344610", "title": "Android unit testing Location not mocked", "body": "<p>When you mock an object the real implementation won't be called.\nYou are trying to call <code>setLatitude(latitude)</code> but it won't change the value.</p>\n\n<p>If you want to mock the object you should do:</p>\n\n<pre><code>val mockLocation = mock(Location::class.java)\ngiven(mockLocation.getLatitude()).willReturn(latitude)\ngiven(mockLocation.getLongitude()).willReturn(longitude)\n</code></pre>\n\n<p>Or you could create a real object:</p>\n\n<pre><code>val realLocation = Location(\"provider\")\nrealLocation.latitude = latitude\nrealLocation.longitude = longitude\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 5222859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zb6rd.jpg?s=128&g=1", "display_name": "Roger Nkosi", "link": "https://stackoverflow.com/users/5222859/roger-nkosi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 56344610, "answer_count": 1, "score": 0, "last_activity_date": 1559054206, "creation_date": 1559052060, "question_id": 56343940, "link": "https://stackoverflow.com/questions/56343940/android-unit-testing-location-not-mocked", "title": "Android unit testing Location not mocked", "body": "<p>I am trying to test my presenter and I need a mocked location, however, I get null or have default values such as 0.0 for lat, long, bearing and so on</p>\n\n<p>I have already tried creating a new Location object and initializing all the fields I need.</p>\n\n<pre><code>    val latitude = 37.422\n    val longitude = -122.084\n\n    val mockLocation = mock(Location::class.java)\n    mockLocation.latitude = latitude\n    mockLocation.longitude = longitude\n\n    presenter.loadsAirpots(latitude, longitude)\n    presenter.locationChanged(mockLocation)\n\n    System.out.println(mockLocation.latitude)\n</code></pre>\n\n<p>I expect latitude to be 37.422 but the actual output is 0.0</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-custom-view"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1559052412, "post_id": 56343683, "comment_id": 99293089, "body": "take a closer look at duplicate inflation and don&#39;t forget to call <code>inflate()</code> method"}, {"owner": {"reputation": 5072, "user_id": 3558145, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvUM3.png?s=128&g=1", "display_name": "Shaishav", "link": "https://stackoverflow.com/users/3558145/shaishav"}, "edited": false, "score": 0, "creation_date": 1559052538, "post_id": 56343683, "comment_id": 99293170, "body": "Need to call <code>invalidate()</code> method after setting the text."}, {"owner": {"reputation": 651, "user_id": 9996859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a96acd8b90c93283345107873c06d1?s=128&d=identicon&r=PG&f=1", "display_name": "andrewedgar", "link": "https://stackoverflow.com/users/9996859/andrewedgar"}, "edited": false, "score": 0, "creation_date": 1559053147, "post_id": 56343683, "comment_id": 99293544, "body": "Thank you for your responses. The view is definitely inflating, the text just isn&#39;t appearing. invalidate() sounds like what I&#39;m looking for, but when should I call it? Calling it on the inflated view and the text view before and after I attempt to set them doesn&#39;t seem to be having an effect."}], "answers": [{"comments": [{"owner": {"reputation": 651, "user_id": 9996859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a96acd8b90c93283345107873c06d1?s=128&d=identicon&r=PG&f=1", "display_name": "andrewedgar", "link": "https://stackoverflow.com/users/9996859/andrewedgar"}, "edited": false, "score": 0, "creation_date": 1559052063, "post_id": 56343850, "comment_id": 99292890, "body": "Unfortunately this had no effect."}, {"owner": {"reputation": 651, "user_id": 9996859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a96acd8b90c93283345107873c06d1?s=128&d=identicon&r=PG&f=1", "display_name": "andrewedgar", "link": "https://stackoverflow.com/users/9996859/andrewedgar"}, "edited": false, "score": 0, "creation_date": 1559127607, "post_id": 56343850, "comment_id": 99321541, "body": "There is only the code above. I just called it inflate() instead of init()"}, {"owner": {"reputation": 651, "user_id": 9996859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a96acd8b90c93283345107873c06d1?s=128&d=identicon&r=PG&f=1", "display_name": "andrewedgar", "link": "https://stackoverflow.com/users/9996859/andrewedgar"}, "edited": false, "score": 0, "creation_date": 1559138597, "post_id": 56343850, "comment_id": 99328193, "body": "Sorry, no change :/"}, {"owner": {"reputation": 396, "user_id": 3664852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LfdTB.jpg?s=128&g=1", "display_name": "Mitesh Machhoya", "link": "https://stackoverflow.com/users/3664852/mitesh-machhoya"}, "reply_to_user": {"reputation": 651, "user_id": 9996859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a96acd8b90c93283345107873c06d1?s=128&d=identicon&r=PG&f=1", "display_name": "andrewedgar", "link": "https://stackoverflow.com/users/9996859/andrewedgar"}, "edited": false, "score": 0, "creation_date": 1559192762, "post_id": 56343850, "comment_id": 99345884, "body": "now it is not possible, i think you are making somewhere mistake, i am using the same code for custom view"}], "tags": [], "owner": {"reputation": 396, "user_id": 3664852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LfdTB.jpg?s=128&g=1", "display_name": "Mitesh Machhoya", "link": "https://stackoverflow.com/users/3664852/mitesh-machhoya"}, "is_accepted": false, "score": 0, "last_activity_date": 1559136079, "last_edit_date": 1559136079, "creation_date": 1559051747, "answer_id": 56343850, "question_id": 56343683, "link": "https://stackoverflow.com/questions/56343683/text-not-being-set-in-inflated-views-textview/56343850#56343850", "title": "Text not being set in inflated view&#39;s TextView", "body": "<p>Try below code,</p>\n\n<pre><code>public class NeedMoreTimeScreen : RelativeLayout\n{\n    constructor(context: Context?) : super(context)\n    {\n        init();\n    }\n\n    constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs)\n    {\n        init();\n    }\n    constructor(context: Context?, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr)\n    {\n        init();\n    }\n\n    private fun init()\n    {\n        // apply your inflation code here\n\n        val layoutInflater = context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        layoutInflater.inflate(R.layout.screen_more_time, this, true)\n\n        countDownTextView.text = \"text I want to appear\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 651, "user_id": 9996859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a96acd8b90c93283345107873c06d1?s=128&d=identicon&r=PG&f=1", "display_name": "andrewedgar", "link": "https://stackoverflow.com/users/9996859/andrewedgar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559136079, "creation_date": 1559051205, "last_edit_date": 1559052353, "question_id": 56343683, "link": "https://stackoverflow.com/questions/56343683/text-not-being-set-in-inflated-views-textview", "title": "Text not being set in inflated view&#39;s TextView", "body": "<p>I have a custom view that inflates over an activity:</p>\n\n<pre><code>class NeedMoreTimeScreen @JvmOverloads constructor(\n    context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0\n) : RelativeLayout(context, attrs, defStyleAttr) {\n\n    fun inflate(context: Context) {\n\n        LayoutInflater\n            .from(context)\n            .inflate(R.layout.screen_more_time, this, true)\n\n        val inflatedView = LayoutInflater\n            .from(context)\n            .inflate(R.layout.screen_more_time, this, true)\n\n        inflatedView.visibility = View.VISIBLE\n\n        val countDownTextView = inflatedView.findViewById&lt;TextView&gt;(R.id.countDownText)\n\n        countDownTextView.text = \"text I want to appear\"\n    }\n}\n</code></pre>\n\n<p>.xml for the custom view:</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n             xmlns:tools=\"http://schemas.android.com/tools\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"match_parent\"&gt;\n\n    &lt;RelativeLayout\n            android:id=\"@+id/holder\"\n            android:layout_width=\"768px\"\n            android:layout_height=\"840px\"\n            android:background=\"@color/main_background\"&gt;\n\n        &lt;TextView\n                android:text=\"10s\"\n                android:textAppearance=\"@style/ScreenTitle\"\n                android:layout_centerHorizontal=\"true\"\n                android:layout_marginTop=\"160px\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/countDownText\"/&gt;\n\n    &lt;/RelativeLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>The text appears in the TextView when I give it text in its .xml, but setting it programmatically does not appear to be executed. Why?</p>\n"}, {"tags": ["android", "kotlin", "rx-kotlin2"], "answers": [{"tags": [], "owner": {"reputation": 860, "user_id": 2048060, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e1d5df41134fb6497c5555bbd81c2835?s=128&d=identicon&r=PG", "display_name": "gts13", "link": "https://stackoverflow.com/users/2048060/gts13"}, "is_accepted": false, "score": 0, "last_activity_date": 1559051381, "creation_date": 1559051381, "answer_id": 56343737, "question_id": 56343675, "link": "https://stackoverflow.com/questions/56343675/how-to-fix-cant-resolve-rxkotlin-in-android/56343737#56343737", "title": "how to fix &quot;can&#39;t resolve rxkotlin&quot; in android", "body": "<p>That's the correct repo</p>\n\n<pre><code>implementation 'io.reactivex.rxjava2:rxkotlin:2.0.1-RC1'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7045, "user_id": 1000551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8cb0eaa4de7f781e42328ec7544ca3?s=128&d=identicon&r=PG", "display_name": "Vadim Kotov", "link": "https://stackoverflow.com/users/1000551/vadim-kotov"}, "is_accepted": true, "score": 0, "last_activity_date": 1559051569, "creation_date": 1559051569, "answer_id": 56343797, "question_id": 56343675, "link": "https://stackoverflow.com/questions/56343675/how-to-fix-cant-resolve-rxkotlin-in-android/56343797#56343797", "title": "how to fix &quot;can&#39;t resolve rxkotlin&quot; in android", "body": "<p>Here you can find the list of versions you can choose from:</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxkotlin\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxkotlin</a></p>\n"}], "owner": {"reputation": 140, "user_id": 9470643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f91c238aa119dad250c4b6eb3eb8e8d7?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/9470643/mohammad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 56343797, "answer_count": 2, "score": 0, "last_activity_date": 1559057107, "creation_date": 1559051175, "last_edit_date": 1559057107, "question_id": 56343675, "link": "https://stackoverflow.com/questions/56343675/how-to-fix-cant-resolve-rxkotlin-in-android", "title": "how to fix &quot;can&#39;t resolve rxkotlin&quot; in android", "body": "<p>I'm using room database and need to add rxKotlin to my project, so when I use this code:</p>\n\n<pre><code>`implementation 'io.reactivex.rxjava2:rxkotlin:2.0.1'`\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>`ERROR: Failed to resolve: io.reactivex.rxjava2:rxkotlin:2.0.1`\n</code></pre>\n\n<p>how can I fix it?</p>\n"}, {"tags": ["multithreading", "kotlin", "completable-future", "asynchttpclient"], "comments": [{"owner": {"reputation": 629, "user_id": 987959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a51610eaffa3f4e8022a07bcd070ab3c?s=128&d=identicon&r=PG", "display_name": "PJ Fanning", "link": "https://stackoverflow.com/users/987959/pj-fanning"}, "edited": false, "score": 0, "creation_date": 1559050940, "post_id": 56343520, "comment_id": 99292236, "body": "<a href=\"https://github.com/AsyncHttpClient/async-http-client/wiki/Connection-pooling\" rel=\"nofollow noreferrer\">github.com/AsyncHttpClient/async-http-client/wiki/&hellip;</a> describes how to set up the connection pools and thread pools"}, {"owner": {"reputation": 502, "user_id": 2105282, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/210c3e270c914a3c55e8cab95e0b626d?s=128&d=identicon&r=PG", "display_name": "user2105282", "link": "https://stackoverflow.com/users/2105282/user2105282"}, "reply_to_user": {"reputation": 629, "user_id": 987959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a51610eaffa3f4e8022a07bcd070ab3c?s=128&d=identicon&r=PG", "display_name": "PJ Fanning", "link": "https://stackoverflow.com/users/987959/pj-fanning"}, "edited": false, "score": 0, "creation_date": 1559051104, "post_id": 56343520, "comment_id": 99292343, "body": "I saw the page, but there is nothing about tread pools?"}, {"owner": {"reputation": 629, "user_id": 987959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a51610eaffa3f4e8022a07bcd070ab3c?s=128&d=identicon&r=PG", "display_name": "PJ Fanning", "link": "https://stackoverflow.com/users/987959/pj-fanning"}, "edited": false, "score": 0, "creation_date": 1559051603, "post_id": 56343520, "comment_id": 99292607, "body": "Have you checked <a href=\"https://stackoverflow.com/questions/35431414/does-asynchttpclient-knows-how-many-threads-to-allocate-for-all-the-http-request\" title=\"does asynchttpclient knows how many threads to allocate for all the http request\">stackoverflow.com/questions/35431414/&hellip;</a> ?"}, {"owner": {"reputation": 502, "user_id": 2105282, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/210c3e270c914a3c55e8cab95e0b626d?s=128&d=identicon&r=PG", "display_name": "user2105282", "link": "https://stackoverflow.com/users/2105282/user2105282"}, "reply_to_user": {"reputation": 629, "user_id": 987959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a51610eaffa3f4e8022a07bcd070ab3c?s=128&d=identicon&r=PG", "display_name": "PJ Fanning", "link": "https://stackoverflow.com/users/987959/pj-fanning"}, "edited": false, "score": 1, "creation_date": 1559052286, "post_id": 56343520, "comment_id": 99293015, "body": "Yes, but still can&#39;t understand how it is connected with number of threads. So in my case I have only requests to one host. So in the link provided it is written that should be only one thread, which can handle all the requests. Or all the threads are initialised by default and can be used by AsyncClient to perform it internal job?"}], "answers": [{"comments": [{"owner": {"reputation": 502, "user_id": 2105282, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/210c3e270c914a3c55e8cab95e0b626d?s=128&d=identicon&r=PG", "display_name": "user2105282", "link": "https://stackoverflow.com/users/2105282/user2105282"}, "edited": false, "score": 0, "creation_date": 1565773005, "post_id": 57420215, "comment_id": 101452745, "body": "Thanks a lot. This completely describes the profiler threads picture, as I have 8 Cores on the machine, on which the code was executed"}], "tags": [], "owner": {"reputation": 445, "user_id": 4671833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183dadaf48f4f3458fffdba880baf5c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Mike", "link": "https://stackoverflow.com/users/4671833/mike-mike"}, "is_accepted": true, "score": 1, "last_activity_date": 1565296433, "creation_date": 1565296433, "answer_id": 57420215, "question_id": 56343520, "link": "https://stackoverflow.com/questions/56343520/asynchttpclient-creates-how-much-threads/57420215#57420215", "title": "AsyncHttpClient creates how much threads?", "body": "<p>AHC has two types of threads:</p>\n\n<ol>\n<li>For I/O operation. \nOn your screen, it's AsyncHttpClient-x-x\nthreads. AHC creates <strong>2*core_number</strong> of those.  </li>\n<li>For timeouts.\nOn your screen, it's AsyncHttpClient-timer-1-1 thread. Should be\nonly <strong>one</strong>.</li>\n</ol>\n\n<p>Source: issue on GitHub: <a href=\"https://github.com/AsyncHttpClient/async-http-client/issues/1658\" rel=\"nofollow noreferrer\">https://github.com/AsyncHttpClient/async-http-client/issues/1658</a></p>\n"}], "owner": {"reputation": 502, "user_id": 2105282, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/210c3e270c914a3c55e8cab95e0b626d?s=128&d=identicon&r=PG", "display_name": "user2105282", "link": "https://stackoverflow.com/users/2105282/user2105282"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 884, "favorite_count": 0, "accepted_answer_id": 57420215, "answer_count": 1, "score": 1, "last_activity_date": 1565296433, "creation_date": 1559050623, "last_edit_date": 1559053432, "question_id": 56343520, "link": "https://stackoverflow.com/questions/56343520/asynchttpclient-creates-how-much-threads", "title": "AsyncHttpClient creates how much threads?", "body": "<p>I use async http client in my code to asynchronously handle GET responses\nI can run simultaneously 100 requests in the same time.</p>\n\n<p>I use just on instance of httpClient in container</p>\n\n<pre><code>@Bean(destroyMethod = \"close\")\nopen fun httpClient() = Dsl.asyncHttpClient()\n</code></pre>\n\n<p>Code looks like</p>\n\n<pre><code>fun method(): CompletableFuture&lt;String&gt; {\n    return httpClient.prepareGet(\"someUrl\").execute()\n        .toCompletableFuture()\n        .thenApply(::getResponseBody)\n}\n</code></pre>\n\n<p>It works fine functionally. In my testing I use mock endpoint with the same url address. But my expectation was that all the requests are handled in several threads, but in profiler I can see that 16 threads are created for AsyncHttpClient, and they aren't destroyed, even if there are no requests to send.</p>\n\n<p><a href=\"https://i.stack.imgur.com/POrX1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/POrX1.png\" alt=\"profiler screenshoot\"></a></p>\n\n<p>My expectation was that </p>\n\n<ul>\n<li>it will be less threads for async client</li>\n<li>threads will be destroyed after some configured timeout</li>\n<li>is there some option to control how much threads can be created by asyncHttpClient?</li>\n</ul>\n\n<p>Am I missing something in my expectations?</p>\n\n<p><strong>UPDATE 1</strong>\nI saw instruction on <a href=\"https://github.com/AsyncHttpClient/async-http-client/wiki/Connection-pooling\" rel=\"nofollow noreferrer\">https://github.com/AsyncHttpClient/async-http-client/wiki/Connection-pooling</a>\nI found no info on thread pool</p>\n\n<p><strong>UPDATE 2</strong>\nI also created method to do the same, but with handler and additional executor pool</p>\n\n<p>Utility method look like</p>\n\n<pre><code>fun &lt;Value, Result&gt; CompletableFuture&lt;Value&gt;.handleResultAsync(executor: Executor, initResultHandler: ResultHandler&lt;Value, Result&gt;.() -&gt; Unit): CompletableFuture&lt;Result&gt; {\n    val rh = ResultHandler&lt;Value, Result&gt;()\n    rh.initResultHandler()\n\n    val handler = BiFunction { value: Value?, exception: Throwable? -&gt;\n        if (exception == null) rh.success?.invoke(value) else rh.fail?.invoke(exception)\n    }\n\n    return handleAsync(handler, executor)\n}\n</code></pre>\n\n<p>The updated method look like</p>\n\n<pre><code>fun method(): CompletableFuture&lt;String&gt; {\n    return httpClient.prepareGet(\"someUrl\").execute()\n        .toCompletableFuture()\n        .handleResultAsync(executor) {\n            success = {response -&gt;\n                logger.info(\"ok\")\n                getResponseBody(response!!)\n            }\n            fail = { ex -&gt;\n                logger.error(\"Failed to execute request\", ex)\n                throw ex\n            }\n    }\n}\n</code></pre>\n\n<p>Then I can see that result of GET method is executed in the threads provided by thread pool (previously result was executed in \"AsyncHttpClient-3-x\"), but additional thread for AsyncHttpClient are still created and not destroyed.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1559050953, "post_id": 56343440, "comment_id": 99292242, "body": "I don&#39;t understand this question. Can you please give a better example and what you&#39;re trying to do?"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1559051131, "post_id": 56343440, "comment_id": 99292356, "body": "var type = List&lt;UserInfo&gt;::class.java But this will not compile."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1559051700, "post_id": 56343440, "comment_id": 99292669, "body": "<a href=\"https://google.com/?q=type+erasure\" rel=\"nofollow noreferrer\">google.com/?q=type+erasure</a>"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1559055947, "post_id": 56343440, "comment_id": 99295201, "body": "Do you use any other libraries available which need this type? Gson maybe?"}], "answers": [{"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 0, "last_activity_date": 1559062309, "creation_date": 1559062309, "answer_id": 56346866, "question_id": 56343440, "link": "https://stackoverflow.com/questions/56343440/cast-reflection-type-to-a-listclass-in-kotlin/56346866#56346866", "title": "Cast reflection &quot;Type&quot; to a List&lt;class&gt; in Kotlin", "body": "<p>The issue (as @Miha_x64 says) is <a href=\"https://en.wikipedia.org/wiki/Type_erasure\" rel=\"nofollow noreferrer\">type</a> <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">erasure</a>.</p>\n\n<p>The Java Virtual Machine knows nothing about type parameters.\u00a0 So although the source specified a <code>List&lt;UserInfo&gt;</code>, it compiles down to a plain <code>List</code>.</p>\n\n<p>So this works:</p>\n\n<pre><code>var type = List::class.java\n</code></pre>\n\n<p>(Your <code>Array</code> example works because arrays are a special case: they're directly supported in the JVM, and keep their types at runtime.)</p>\n\n<p>Java's use of type erasure is at least partly for historical reasons; when generics were added to Java 5, they wanted to preserve compatibility with existing source and bytecode.\u00a0 For all the gory details (much of which is inherited by Kotlin), see <a href=\"http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10889764, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fBKfpGEG1xg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaOo3p97kKwDlWAEGguAqzrw9zGcA/mo/photo.jpg?sz=128", "display_name": "bkhong", "link": "https://stackoverflow.com/users/10889764/bkhong"}, "is_accepted": false, "score": 0, "last_activity_date": 1609645464, "creation_date": 1609645464, "answer_id": 65546428, "question_id": 56343440, "link": "https://stackoverflow.com/questions/56343440/cast-reflection-type-to-a-listclass-in-kotlin/65546428#65546428", "title": "Cast reflection &quot;Type&quot; to a List&lt;class&gt; in Kotlin", "body": "<p>Maybe its late. Try to use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-type-projection/\" rel=\"nofollow noreferrer\">KTypeProjection</a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/create-type.html\" rel=\"nofollow noreferrer\">createType()</a> with KClass instead. Then get the value in KType or convert it back to java Type.</p>\n<pre><code>val kClass = YourClass::class\nval kTypeProjection = KTypeProjection.invariant(entity.starProjectedType)\nval kType = List::class.createType(listOf(kTypeProjection))\nval type = kType.javaType\n</code></pre>\n<p>result:</p>\n<pre><code>kType: kotlin.collections.List&lt;YourClass&gt;\ntype: java.util.List&lt;YourClass&gt;\n</code></pre>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1609645464, "creation_date": 1559050316, "last_edit_date": 1559051209, "question_id": 56343440, "link": "https://stackoverflow.com/questions/56343440/cast-reflection-type-to-a-listclass-in-kotlin", "title": "Cast reflection &quot;Type&quot; to a List&lt;class&gt; in Kotlin", "body": "<p>In my Kotlin code, I have a variable that is the Type interface from\njava.lang.reflect</p>\n\n<pre><code>var type: Type\n</code></pre>\n\n<p>But I need to cast this to:</p>\n\n<pre><code>List&lt;UserInfo&gt;\n</code></pre>\n\n<p>If I was not casting to a List, I would just do this:</p>\n\n<pre><code>var type = UserInfo::class.java\n</code></pre>\n\n<p>and this works. But I don't know how to cast it using a List. The closest I found is this:</p>\n\n<pre><code>var type = Array&lt;UserInfo&gt;::class.java\n</code></pre>\n\n<p>This would compile if my UserInfo was an Array but it's a List.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1559047403, "creation_date": 1559047403, "answer_id": 56342575, "question_id": 56342499, "link": "https://stackoverflow.com/questions/56342499/use-apply-on-a-data-class-in-kotlin/56342575#56342575", "title": "Use apply on a data class in Kotlin", "body": "<p>The issue is that <code>name</code> is a constructor parameter only and not made a property, which is invalid for the data class concept anyway. Fix like this:</p>\n\n<pre><code>data class Person(val name: String)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "is_accepted": false, "score": 1, "last_activity_date": 1559047543, "creation_date": 1559047543, "answer_id": 56342611, "question_id": 56342499, "link": "https://stackoverflow.com/questions/56342499/use-apply-on-a-data-class-in-kotlin/56342611#56342611", "title": "Use apply on a data class in Kotlin", "body": "<p>The <code>apply</code> function works similar with any class. But there are some errors in your code snippet:</p>\n\n<ol>\n<li>Parameter in <code>Person</code> constructor didn't mentioned as <code>var</code> or <code>val</code>, so there is no fields <code>name</code> in that class. It would be better to make it <code>var</code> to be able to change value.</li>\n<li>You made class's constructor with 1 parameter, but trying to use empty constructor - it is error.</li>\n</ol>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 56342575, "answer_count": 2, "score": 0, "last_activity_date": 1559047543, "creation_date": 1559047133, "question_id": 56342499, "link": "https://stackoverflow.com/questions/56342499/use-apply-on-a-data-class-in-kotlin", "title": "Use apply on a data class in Kotlin", "body": "<p>I know how to use the apply function on a normal Kotlin class but have not been able to use it with a data class:</p>\n\n<pre><code>data class Person(name: String)\n\nval person = Person().apply {\n    name = \"Tony Stark\" \n}\n</code></pre>\n\n<p>I get a compile message of:</p>\n\n<blockquote>\n  <p>No value passed for parameter 'name'</p>\n</blockquote>\n"}, {"tags": ["regex", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 38504, "user_id": 1602555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sjqZ.jpg?s=128&g=1", "display_name": "Karol Dowbecki", "link": "https://stackoverflow.com/users/1602555/karol-dowbecki"}, "is_accepted": true, "score": 2, "last_activity_date": 1559048624, "last_edit_date": 1559048624, "creation_date": 1559047143, "answer_id": 56342501, "question_id": 56342412, "link": "https://stackoverflow.com/questions/56342412/which-is-better-to-use-regex-containsmatchinstring-or-string-containsregex/56342501#56342501", "title": "Which is better to use: regex.containsMatchIn(String) or String.contains(regex) and why?", "body": "<p>Use whichever one makes your code easier to read. There is no difference between them because <code>text.contains(regex)</code> calls the <code>regex.containsMatchIn(text)</code> As per <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/kotlin/text/Strings.kt\" rel=\"nofollow noreferrer\"><code>Strings.kt</code> source code</a>: </p>\n\n<pre><code>@kotlin.internal.InlineOnly\npublic inline operator fun CharSequence.contains(regex: Regex): Boolean = regex.containsMatchIn(this)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 6167341, "user_type": "registered", "profile_image": "https://graph.facebook.com/1087901561233226/picture?type=large", "display_name": "Matt", "link": "https://stackoverflow.com/users/6167341/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1559047846, "creation_date": 1559047846, "answer_id": 56342708, "question_id": 56342412, "link": "https://stackoverflow.com/questions/56342412/which-is-better-to-use-regex-containsmatchinstring-or-string-containsregex/56342708#56342708", "title": "Which is better to use: regex.containsMatchIn(String) or String.contains(regex) and why?", "body": "<p>The Kotlin documentation says:</p>\n\n<p><strong>contains</strong></p>\n\n<blockquote>\n  <p>Returns true if this char sequence contains the specified other sequence of characters as a substring.</p>\n</blockquote>\n\n<p><strong>containsMatchIn</strong></p>\n\n<blockquote>\n  <p>Indicates whether the regular expression can find at least one match in the specified input.</p>\n</blockquote>\n\n<p>It looks like both do pretty much the same thing, so functionally it doesn't matter too much which you use.</p>\n\n<p>However, since you're dealing with regex, I feel like using <code>containsMatchIn</code> is more appropriate since it's part of the regex library and intended for that purpose specifically.</p>\n\n<p>Where <code>contains</code> can be used for more than just regex, e.g. for finding if 'flow' is a substring of 'overflow'. So, it's likely less appropriate to use it for regex, if we're being picky.</p>\n"}], "owner": {"reputation": 161, "user_id": 7767143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d40bd4c01bb916b9228b4fa1e9a70f4c?s=128&d=identicon&r=PG&f=1", "display_name": "SaskatoonDiver", "link": "https://stackoverflow.com/users/7767143/saskatoondiver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "closed_date": 1559071075, "accepted_answer_id": 56342501, "answer_count": 2, "score": 0, "last_activity_date": 1559048624, "creation_date": 1559046860, "last_edit_date": 1559046894, "question_id": 56342412, "link": "https://stackoverflow.com/questions/56342412/which-is-better-to-use-regex-containsmatchinstring-or-string-containsregex", "closed_reason": "Opinion-based", "title": "Which is better to use: regex.containsMatchIn(String) or String.contains(regex) and why?", "body": "<p>If i have a String called \"text\" and a Regex (called \"regex\" for ease) i want to check it against, should i use:</p>\n\n<pre><code>regex.containsMatchIn(text)\n</code></pre>\n\n<p>or should i use:</p>\n\n<pre><code>text.contains(regex)\n</code></pre>\n\n<p>Both seem to be successful but i am unsure of the best practices concerning this. </p>\n"}, {"tags": ["java", "mysql", "kotlin", "jooq"], "owner": {"reputation": 31, "user_id": 11566484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64e323fb43b9c89ca87c9fe3d245d1ec?s=128&d=identicon&r=PG&f=1", "display_name": "DaniSh", "link": "https://stackoverflow.com/users/11566484/danish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1559043809, "creation_date": 1559043809, "question_id": 56341503, "link": "https://stackoverflow.com/questions/56341503/how-to-fetch-complex-model-with-a-result-of-select-statment-using-fetchgoups-and", "title": "How to fetch complex model with a result of select statment using fetchgoups and map", "body": "<p>I'm using Jooq with Kotlin and i want to write a statement that fetches data from a query that uses couple of tables using join statement(example attached) </p>\n\n<p>The problem I'm facing is that I want to map the result to my complex model which consist of one to many relationships and also many to many.</p>\n\n<p>According to my knowledge I know i can use fetchgroups operation in Jooq to some how map the records but i still can't figure out how to get the result into my model.</p>\n\n<p><strong>my model:</strong></p>\n\n<pre><code>data class MicroserviceDto(\n  val microservice_id: Long = 1,\n  val microservice_name: String? = \"\",\n  val endpoint: String? = \"\",\n  val mappings: String? = \"\",\n  val solutionDefinitionMinimalDtoList: List&lt;SolutionDefinitionDto&gt; = emptyList(),\n  val projectFileDtoList: List&lt;ProjectFileDto&gt; = emptyList()\n)\n\ndata class SolutionDefinitionDto(\n  val solution_definition_id: Long = 0L,\n  val solution_definition_name: String = \"\",\n  val solutionId: String = \"\",\n  val solutionVersion: String = \"\"\n)\n\ndata class ProjectFileDto(\n  val project_file_id: Long = 1,\n  val model: String = \"\",\n  val relativePath: String = \"\",\n  val fileContentDtoList: List&lt;FileContentDto&gt; = emptyList()\n)\n\ndata class FileContentDto(\n  val file_content_id: Long = 1,\n  val content: ByteArray = ByteArray(0)\n)\n</code></pre>\n\n<p><strong>Link to my schema diagram</strong>\n<a href=\"https://i.stack.imgur.com/hE8Go.png\" rel=\"nofollow noreferrer\">Database Diagram visualization</a></p>\n\n<p>Explanation of the diagram:</p>\n\n<ol>\n<li><p><strong>Microservice</strong> has many to many relationship with <strong>SolutionDefinistion</strong></p></li>\n<li><p><strong>ProjectFile</strong> has one to many relationship with <strong>Microservice</strong></p></li>\n<li><p><strong>ProjectFile</strong> has one to many relationship with <strong>SolutionDefinition</strong></p></li>\n<li><p><strong>FileContent</strong> has one to many with <strong>ProjectFile</strong></p></li>\n</ol>\n\n<p>I've created a view to represent my desired query with all tables and the join statements between them.</p>\n\n<p>Here is the View:</p>\n\n<pre><code>  CREATE OR REPLACE VIEW Microservice_Metadata_by_Microservice_Id AS\nselect\n  # microservice\n  M.id as `microservice_id`,\n  M.name as `microservice_name`,\n  M.mappings,\n  M.endpoint,\n  # solution definition\n  SD.id as `solution_definition_id`,\n  SD.name as `solution_definition_name`,\n  SD.solutionId,\n  SD.solutionVersion,\n  # project file of microservice\n  PF.id as `project_file_id`,\n  PF.relativePath,\n  PF.model,\n  # file content data of project file\n  FC.id as `file_content_id`,\n  FC.content\nfrom Microservice M\n       # get project file\n       left join Microservice_SolutionDefinition MSD\n                 on MSD.microserviceId = M.id\n       left join ProjectFile PF\n                 on PF.microserviceId = M.id\n  # get data content\n       left JOIN FileContent FC\n                 on PF.id = FC.projectFileId\n  # get solutions of microservice\n       left join SolutionDefinition SD\n                 on SD.id = MSD.solutionDefinitionId;\n</code></pre>\n\n<p>How can I implement such a Jooq dsl query that map the ResultSet to my data model</p>\n"}, {"tags": ["java", "docker", "kotlin", "aws-ecr", "docker-java"], "comments": [{"owner": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 1, "creation_date": 1559037359, "post_id": 56339492, "comment_id": 99284497, "body": "probably because you&#39;ve used an incorrect username or password, or because you don&#39;t have the right to login"}, {"owner": {"reputation": 193, "user_id": 11447706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snjM3.jpg?s=128&g=1", "display_name": "Daniel McC", "link": "https://stackoverflow.com/users/11447706/daniel-mcc"}, "reply_to_user": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1559038364, "post_id": 56339492, "comment_id": 99285054, "body": "The credentials are being picked up from the <code>~&#47;.aws&#47;credentials</code> file on my machine the way I would do it from the command line. I am able to login successfully with the auth command which uses the correct registry: <code>https:&#47;&#47;{name_of_registry}.dkr.ecr.eu-west-2.amazonaws.com&#47;v&zwnj;&#8203;2&#47;</code>. I tried entering an invalid password to confirmed and it fails with a 400 Bad Request. When the pullImageCmd is called, should that not be calling <code>https:&#47;&#47;{name_of_registry}.dkr.ecr.eu-west-2.amazonaws.com&#47;v&zwnj;&#8203;2&#47;{name_of_repo}&#47;tag&zwnj;&#8203;s&#47;list</code>"}], "owner": {"reputation": 193, "user_id": 11447706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snjM3.jpg?s=128&g=1", "display_name": "Daniel McC", "link": "https://stackoverflow.com/users/11447706/daniel-mcc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 838, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559037074, "creation_date": 1559037074, "question_id": 56339492, "link": "https://stackoverflow.com/questions/56339492/why-am-i-getting-https-registry-1-docker-io-v2-reponame-tags-list-unauthor", "title": "Why am I getting &quot;https://registry-1.docker.io/v2/{reponame}/tags/list: unauthorized: incorrect username or password&quot;?", "body": "<h2>Summary</h2>\n\n<p>I am trying to use the <code>docker-java</code> library but I am running into a problem when I try to pull an image. I am trying to pull from a private repository on ECR.</p>\n\n<h2>What I have tried</h2>\n\n<p>Much of the implementation I have been trying has come from the following question:<br>\n<a href=\"https://stackoverflow.com/questions/40099527/pulling-image-from-amazon-ecr-using-docker-java#40204788\">Pulling image from Amazon ECR using docker-java</a></p>\n\n<p>The difference being that I am implementing it in Kotlin. I am developing on MacOS.</p>\n\n<p>I am able to login fine as I get a \"Login Succeeded\" when I execute <code>dockerClient.authCmd()</code>.</p>\n\n<h2>Code</h2>\n\n<pre><code>        val awsCredentialsProvider: AWSCredentialsProvider = \n                DefaultAWSCredentialsProviderChain()\n        val ecrClient = AmazonECRClientBuilder.standard()\n                .withRegion(Regions.EU_WEST_2)\n                .withCredentials(awsCredentialsProvider)\n                .build()\n\n        val getAuthTokenRequest = GetAuthorizationTokenRequest()\n        val registryIds = ArrayList&lt;String&gt;()\n        registryIds.add(registryId)\n        getAuthTokenRequest.setRegistryIds(registryIds)\n\n        val getAuthTokenResult = ecrClient.getAuthorizationToken(getAuthTokenRequest)\n        val authData = getAuthTokenResult.authorizationData[0]\n        val userPassword = StringUtils.newStringUtf8(Base64.decode(authData.authorizationToken))\n        val user = userPassword.substring(0, userPassword.indexOf(\":\"))\n        val password = userPassword.substring(userPassword.indexOf(\":\")+1)\n\n        val config = DefaultDockerClientConfig.createDefaultConfigBuilder()\n            config.withDockerTlsVerify(false)\n            config.withRegistryUsername(user)\n            config.withRegistryPassword(password)\n            config.withRegistryUrl(authData.proxyEndpoint)\n            config.build()\n\n        //Docker client\n        val dockerClient = DockerClientBuilder.getInstance(config)\n            .withDockerCmdExecFactory(JerseyDockerCmdExecFactory())\n            .build()\n\n        val response = dockerClient.authCmd().exec()\n        println(response.status)\n\n        val pullImageCmd = dockerClient\n                .pullImageCmd(nameOfRepository)\n                .withAuthConfig(dockerClient.authConfig())\n                .withRepository(nameOfRepository)\n\n        pullImageCmd\n                .exec(PullImageResultCallback())\n                .awaitCompletion()\n</code></pre>\n\n<h2>Result</h2>\n\n<p>I and up getting the following error: </p>\n\n<p><code>Caused by: com.github.dockerjava.api.exception.InternalServerErrorException: {\"message\":\"Get https://registry-1.docker.io/v2/{name_of_repo}/tags/list: unauthorized: incorrect username or password\"}</code></p>\n\n<p>Should <code>registry-1.docker.io/v2/</code> in the URI not be my own repo?\nWould someone be able to shed some light on the issue I am having?</p>\n"}, {"tags": ["kotlin", "range"], "answers": [{"tags": [], "owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "is_accepted": false, "score": 7, "last_activity_date": 1559035905, "creation_date": 1559035905, "answer_id": 56339095, "question_id": 56338983, "link": "https://stackoverflow.com/questions/56338983/ranges-in-kotlin/56339095#56339095", "title": "Ranges in Kotlin", "body": "<p>Do you mean something like this?</p>\n\n<pre><code>fun range10(contained: Int): IntRange {\n    val start = contained - contained % 10\n    val end = start + 9\n    return start..end\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "is_accepted": true, "score": 5, "last_activity_date": 1559036234, "creation_date": 1559036234, "answer_id": 56339206, "question_id": 56338983, "link": "https://stackoverflow.com/questions/56338983/ranges-in-kotlin/56339206#56339206", "title": "Ranges in Kotlin", "body": "<p>If the given number is integer type, you can simply write</p>\n\n<pre><code>val x = 358\n(x / 10 * 10)..(x / 10 * 10 + 9)\n</code></pre>\n"}], "owner": {"reputation": 1936, "user_id": 8691696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOlye.jpg?s=128&g=1", "display_name": "Anga", "link": "https://stackoverflow.com/users/8691696/anga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 56339206, "answer_count": 2, "score": 1, "last_activity_date": 1559036234, "creation_date": 1559035541, "question_id": 56338983, "link": "https://stackoverflow.com/questions/56338983/ranges-in-kotlin", "title": "Ranges in Kotlin", "body": "<p>How do I write code to return a range of 10 numbers from a given number. </p>\n\n<p>i.e if I am given <strong>5</strong>, code should <code>return 0..9</code></p>\n\n<p><strong>358</strong> should <code>return 350..359</code></p>\n\n<p><strong>33</strong> should <code>return 30..39  etc</code></p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "rx-android", "rx-binding"], "comments": [{"owner": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "edited": false, "score": 0, "creation_date": 1559043542, "post_id": 56338572, "comment_id": 99287844, "body": "Have you tried to add the same import from the first example manually?"}, {"owner": {"reputation": 2509, "user_id": 2656226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1Eon.jpg?s=128&g=1", "display_name": "A.R.", "link": "https://stackoverflow.com/users/2656226/a-r"}, "reply_to_user": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "edited": false, "score": 0, "creation_date": 1559044075, "post_id": 56338572, "comment_id": 99288131, "body": "@LucianoFerruzzi : Yes I tried that as well but showed the same error &#39;Unresolved reference:RxTextView&#39; at import line."}], "answers": [{"tags": [], "owner": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "is_accepted": true, "score": 16, "last_activity_date": 1559045852, "creation_date": 1559045852, "answer_id": 56342104, "question_id": 56338572, "link": "https://stackoverflow.com/questions/56338572/rxtextview-and-other-widgets-not-found-while-using-latest-com-jakewharton-rxbind/56342104#56342104", "title": "RxTextView and other widgets not found while using latest com.jakewharton.rxbinding3:rxbinding:3.0.0-alpha2 library", "body": "<p>Check this reference:\n<a href=\"https://github.com/JakeWharton/RxBinding/blob/master/rxbinding/src/main/java/com/jakewharton/rxbinding3/widget/TextViewTextChangeEventObservable.kt\" rel=\"noreferrer\">https://github.com/JakeWharton/RxBinding/blob/master/rxbinding/src/main/java/com/jakewharton/rxbinding3/widget/TextViewTextChangeEventObservable.kt</a></p>\n\n<p>There are different ways to use depending on the language, note the <code>@file:JvmName(\"RxTextView\")</code> at the start. If you're using java the class RxTextView is visible, in kotlin you should use the extension functions provided by the lib, <code>textChangeEvents()</code> is an example of it.</p>\n\n<p>like that, this will aquire the observable e.g.:</p>\n\n<pre><code>val someTextView = TextView(context)\nsomeTextView.textChangeEvents()\n</code></pre>\n"}], "owner": {"reputation": 2509, "user_id": 2656226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1Eon.jpg?s=128&g=1", "display_name": "A.R.", "link": "https://stackoverflow.com/users/2656226/a-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3075, "favorite_count": 2, "accepted_answer_id": 56342104, "answer_count": 1, "score": 10, "last_activity_date": 1559063943, "creation_date": 1559034249, "last_edit_date": 1559063943, "question_id": 56338572, "link": "https://stackoverflow.com/questions/56338572/rxtextview-and-other-widgets-not-found-while-using-latest-com-jakewharton-rxbind", "title": "RxTextView and other widgets not found while using latest com.jakewharton.rxbinding3:rxbinding:3.0.0-alpha2 library", "body": "<p><strong>I wanna use RxJava binding APIs for Android UI widgets in my project.</strong> </p>\n\n<p>Therefore following the guidance as per this site  '<a href=\"https://github.com/JakeWharton/RxBinding\" rel=\"noreferrer\">https://github.com/JakeWharton/RxBinding</a>'</p>\n\n<p>But I am unable to import any Android UI widgets in my Kotlin File.\n<strong>Where as its working fine if I am consuming these widgets in Java File.</strong>\nHence, not been to find the actual of this issue.</p>\n\n<p>For reference following are the gradle file and class files(both kotlin and java) using in same project</p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.0-beta01'\n    implementation 'androidx.core:core-ktx:1.2.0-alpha01'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha4'\n    implementation 'io.reactivex.rxjava2:rxjava:2.2.8'\n    implementation 'io.reactivex.rxjava2:rxandroid:2.1.1'\n    //RxBinding\n    implementation 'com.jakewharton.rxbinding3:rxbinding:3.0.0-alpha2'\n}\n</code></pre>\n\n<p><strong>BindingExample.java class</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/FtiQM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FtiQM.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>RxBindingExample.kt class</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/UXA08.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UXA08.png\" alt=\"enter image description here\"></a></p>\n\n<p>Have tried exploring this issue on S.O. but questions or solutions are available for previous version of lib <strong>'com.jakewharton.rxbinding2:rxbinding'</strong></p>\n"}, {"tags": ["spring", "kotlin", "dependency-injection"], "comments": [{"owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 0, "creation_date": 1559034180, "post_id": 56338508, "comment_id": 99282656, "body": "What have you tried? What didn&#39;t work about it ? Why do you think that there is a fundamental difference between java and kotkin for dependency injection?"}], "answers": [{"comments": [{"owner": {"reputation": 1977, "user_id": 527718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3b0349fb452e8e978922956709b7bdea?s=128&d=identicon&r=PG", "display_name": "L.Butz", "link": "https://stackoverflow.com/users/527718/l-butz"}, "edited": false, "score": 1, "creation_date": 1570720638, "post_id": 56338541, "comment_id": 103010800, "body": "I am trying this with a list of beans, but it&#39;s not working. Any idea? <code>@Autowired(required = false) val requestHandlingServices: List&lt;RequestHandlingService&gt;?</code>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1559034127, "creation_date": 1559034127, "answer_id": 56338541, "question_id": 56338508, "link": "https://stackoverflow.com/questions/56338508/kotlin-optional-dependency-injection-using-spring/56338541#56338541", "title": "Kotlin : Optional Dependency Injection Using Spring", "body": "<p>You should make that property nullable then:</p>\n\n<pre><code>class HelloController(\n    @Autowired(required = false) val helloService: HelloService?\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 5306004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08c313c9a4a4eb00c12023360ab681a?s=128&d=identicon&r=PG&f=1", "display_name": "r33tnup", "link": "https://stackoverflow.com/users/5306004/r33tnup"}, "edited": false, "score": 0, "creation_date": 1600165683, "post_id": 63899667, "comment_id": 112995523, "body": "This has been possible since the first release of Kotlin support in Spring Framework 5.0.0"}], "tags": [], "owner": {"reputation": 149, "user_id": 5306004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08c313c9a4a4eb00c12023360ab681a?s=128&d=identicon&r=PG&f=1", "display_name": "r33tnup", "link": "https://stackoverflow.com/users/5306004/r33tnup"}, "is_accepted": false, "score": 1, "last_activity_date": 1600164685, "creation_date": 1600164685, "answer_id": 63899667, "question_id": 56338508, "link": "https://stackoverflow.com/questions/56338508/kotlin-optional-dependency-injection-using-spring/63899667#63899667", "title": "Kotlin : Optional Dependency Injection Using Spring", "body": "<p>The accepted answer is outdated. Spring uses the type information to infer whether a bean is optional. See\n<a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/languages.html#kotlin-annotations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/spring-framework-reference/languages.html#kotlin-annotations</a>, specifically</p>\n<blockquote>\n<p>In a similar fashion, Spring bean injection with @Autowired, @Bean, or @Inject uses this information to determine if a bean is required or not.</p>\n</blockquote>\n<p>Because <code>@Autowired</code> is optional for constructor parameters, the shortest Kotlin alternative is</p>\n<pre><code>class HelloController(private val optionalHelloService: HelloService?)\n</code></pre>\n"}], "owner": {"reputation": 1369, "user_id": 2357083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de11eebb9b48f9c5649fd13a4b74a6f?s=128&d=identicon&r=PG", "display_name": "Abbin Varghese", "link": "https://stackoverflow.com/users/2357083/abbin-varghese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "accepted_answer_id": 56338541, "answer_count": 2, "score": 1, "last_activity_date": 1600164685, "creation_date": 1559033990, "question_id": 56338508, "link": "https://stackoverflow.com/questions/56338508/kotlin-optional-dependency-injection-using-spring", "title": "Kotlin : Optional Dependency Injection Using Spring", "body": "<p>What is the kotlin alternative for </p>\n\n<pre><code>@Autowired(required=false)\nprivate DependencyC dependencyC;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>private Optional&lt;HelloService&gt; optionalHelloService;\npublic HelloController(Optional&lt;HelloService&gt; helloService) {\n    this.optionalHelloService = helloService;\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "interface", "android-recyclerview"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1559033238, "post_id": 56338133, "comment_id": 99282109, "body": "it already has it&#39;s own <code>OnItemLongClickListener</code>. Rename your class to for example <code>MyItemLongClickListener</code>, and the method of setting it also not to confuse the compiler"}, {"owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1559033417, "post_id": 56338133, "comment_id": 99282222, "body": "@VladyslavMatviienko Made no difference."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1559034392, "post_id": 56338133, "comment_id": 99282773, "body": "<a href=\"https://youtrack.jetbrains.com/issue/KT-7770\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-7770</a>"}], "answers": [{"comments": [{"owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "edited": false, "score": 0, "creation_date": 1559033569, "post_id": 56338358, "comment_id": 99282313, "body": "Sure.  I&#39;ve added a screen of the error.  Check the edit :)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "edited": false, "score": 0, "creation_date": 1559033599, "post_id": 56338358, "comment_id": 99282326, "body": "Yeah as I expected. My suggestion should help then"}, {"owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "edited": false, "score": 0, "creation_date": 1559033764, "post_id": 56338358, "comment_id": 99282414, "body": "@Thank you.  I&#39;ve accepted and upvoted your answer.  If you think that this was a well asked question, could you upvote me as well?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1559033416, "creation_date": 1559033416, "answer_id": 56338358, "question_id": 56338133, "link": "https://stackoverflow.com/questions/56338133/type-mismatch-error-on-custom-interface-call/56338358#56338358", "title": "Type mismatch error on custom interface call", "body": "<p>You should always include the complete error message, please. Without it, I can only guess that the issue is related to you supplying a lambda while an object of <code>OnItemLongClickListener</code> is being expected. You can change the code like this:</p>\n\n<pre><code>adapter!!.setOnItemLongClickListener (object: OnItemLongClickListener {\n    override fun onItemLongClick(entry: Entry){\n        //code goes here\n    }\n})\n</code></pre>\n\n<p>What you were trying to do only works for Java interfaces and is called <a href=\"https://stackoverflow.com/a/48285220/8073652\">SAM conversion</a>.</p>\n"}], "owner": {"reputation": 634, "user_id": 8095827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaNCe.png?s=128&g=1", "display_name": "Andros Adrianopolos", "link": "https://stackoverflow.com/users/8095827/andros-adrianopolos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "closed_date": 1559034045, "accepted_answer_id": 56338358, "answer_count": 1, "score": 0, "last_activity_date": 1559033553, "creation_date": 1559032605, "last_edit_date": 1559033553, "question_id": 56338133, "link": "https://stackoverflow.com/questions/56338133/type-mismatch-error-on-custom-interface-call", "closed_reason": "Duplicate", "title": "Type mismatch error on custom interface call", "body": "<p>I'm redesigning an app I've been working on with Kotlin for the purpose of getting used to the language.  In my RecyclerView adapter, I have created a custom <code>OnLongClickListener</code> interface for long clicks:</p>\n\n<pre><code>interface OnItemLongClickListener{\n    fun onItemLongClick(entry: Entry)\n}\n\nfun setOnItemLongClickListener(listener: OnItemLongClickListener){\n    this.listener = listener\n}\n</code></pre>\n\n<p>And in the <code>onCreate()</code> of my <code>MainActivity.kt</code>, I am calling <code>setOnItemLongClickListener</code> on my adapter object to pass some intent extras:</p>\n\n<pre><code>    adapter!!.setOnItemLongClickListener { entry -&gt;\n        val intent = Intent(this@MainActivity, AddEditEntryActivity::class.java)\n\n        intent.putExtra(AddEditEntryActivity.EXTRA_ID, entry.id)\n        intent.putExtra(AddEditEntryActivity.EXTRA_USERNAME, entry.username)\n        intent.putExtra(AddEditEntryActivity.EXTRA_HINT, entry.hint)\n        intent.putExtra(AddEditEntryActivity.EXTRA_PASSWORD, entry.password)\n        startActivityForResult(intent, EDIT_ENTRY_REQUEST)\n    }\n</code></pre>\n\n<p>But the whole thing has a red underline and throws a <code>Type Mismatch</code> error.</p>\n\n<p>I can supply more code per request.  I'm just keeping it short for now to avoid unnecessary clutter.</p>\n\n<p><a href=\"https://i.stack.imgur.com/oWFsl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oWFsl.png\" alt=\"Error\"></a></p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "adapter"], "comments": [{"owner": {"reputation": 874, "user_id": 4274223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UpltS.png?s=128&g=1", "display_name": "Gregorio Palam&#224;", "link": "https://stackoverflow.com/users/4274223/gregorio-palam%c3%a0"}, "edited": false, "score": 0, "creation_date": 1559027040, "post_id": 56336566, "comment_id": 99279068, "body": "can you please elaborate? I guess you have to add some logic, and you are adding the listener in the adapter. What do you mean by saying &quot;send the data to the fragment&quot;? What should the fragment do with the data?"}, {"owner": {"reputation": 860, "user_id": 2048060, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e1d5df41134fb6497c5555bbd81c2835?s=128&d=identicon&r=PG", "display_name": "gts13", "link": "https://stackoverflow.com/users/2048060/gts13"}, "edited": false, "score": 0, "creation_date": 1559027661, "post_id": 56336566, "comment_id": 99279382, "body": "First, the Adapter should be instantiated in the Fragment and the onClickListener should be implemented there, too. Then you don&#39;t need to send anything from RecyclerView to Fragment. Later, you might want to have a public method in the RecyclerView which you call it from Fragment when the item is clicked."}, {"owner": {"reputation": 420, "user_id": 5059339, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec1a2988ff418fa09471aaf9633a034c?s=128&d=identicon&r=PG&f=1", "display_name": "Ghizlane Lotfi", "link": "https://stackoverflow.com/users/5059339/ghizlane-lotfi"}, "edited": false, "score": 0, "creation_date": 1559028637, "post_id": 56336566, "comment_id": 99279858, "body": "I mean by &quot;send data to the fragment&quot;, I need clicked Item to send to the main activity as result (clicked item) from Fragment"}, {"owner": {"reputation": 420, "user_id": 5059339, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec1a2988ff418fa09471aaf9633a034c?s=128&d=identicon&r=PG&f=1", "display_name": "Ghizlane Lotfi", "link": "https://stackoverflow.com/users/5059339/ghizlane-lotfi"}, "edited": false, "score": 1, "creation_date": 1559028735, "post_id": 56336566, "comment_id": 99279913, "body": "I don&#39;t instantiate the adapter in the fragment but in the ViewModel, I am using MVVM architecture, and I don&#39;t know if it is the right way"}], "answers": [{"comments": [{"owner": {"reputation": 420, "user_id": 5059339, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec1a2988ff418fa09471aaf9633a034c?s=128&d=identicon&r=PG&f=1", "display_name": "Ghizlane Lotfi", "link": "https://stackoverflow.com/users/5059339/ghizlane-lotfi"}, "edited": false, "score": 0, "creation_date": 1559028786, "post_id": 56336899, "comment_id": 99279930, "body": "How can I add directly the item through ViewModel Reference?"}, {"owner": {"reputation": 3793, "user_id": 1023597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OIGyn.png?s=128&g=1", "display_name": "Vishal Pawar", "link": "https://stackoverflow.com/users/1023597/vishal-pawar"}, "reply_to_user": {"reputation": 420, "user_id": 5059339, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec1a2988ff418fa09471aaf9633a034c?s=128&d=identicon&r=PG&f=1", "display_name": "Ghizlane Lotfi", "link": "https://stackoverflow.com/users/5059339/ghizlane-lotfi"}, "edited": false, "score": 0, "creation_date": 1559037536, "post_id": 56336899, "comment_id": 99284579, "body": "Create function in ViewModel to update Data and call that in."}], "tags": [], "owner": {"reputation": 3793, "user_id": 1023597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OIGyn.png?s=128&g=1", "display_name": "Vishal Pawar", "link": "https://stackoverflow.com/users/1023597/vishal-pawar"}, "is_accepted": false, "score": -2, "last_activity_date": 1559027909, "creation_date": 1559027909, "answer_id": 56336899, "question_id": 56336566, "link": "https://stackoverflow.com/questions/56336566/how-to-send-data-from-adapter-to-viewmodel-to-fragment/56336899#56336899", "title": "How to send data from Adapter to ViewModel to Fragment", "body": "<p>You can directly add item through ViewModel reference and subscribe to RxJava EventBus or LiveData change in your Fragment or Activity</p>\n"}, {"comments": [{"owner": {"reputation": 420, "user_id": 5059339, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec1a2988ff418fa09471aaf9633a034c?s=128&d=identicon&r=PG&f=1", "display_name": "Ghizlane Lotfi", "link": "https://stackoverflow.com/users/5059339/ghizlane-lotfi"}, "edited": false, "score": 0, "creation_date": 1559029200, "post_id": 56337146, "comment_id": 99280163, "body": "Thanks of your response, yes I need an example to communicate between the adapter and Fragment"}, {"owner": {"reputation": 420, "user_id": 5059339, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec1a2988ff418fa09471aaf9633a034c?s=128&d=identicon&r=PG&f=1", "display_name": "Ghizlane Lotfi", "link": "https://stackoverflow.com/users/5059339/ghizlane-lotfi"}, "edited": false, "score": 1, "creation_date": 1559029406, "post_id": 56337146, "comment_id": 99280267, "body": "you advise me to use <b>RxJava EventBus</b> to communicate between Adapter and Fragment"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1559029453, "post_id": 56337146, "comment_id": 99280292, "body": "He advised you that just using an interface is better than introducing a PublishSubject for this"}, {"owner": {"reputation": 619, "user_id": 6430090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6RVa6.jpg?s=128&g=1", "display_name": "mr.kostua", "link": "https://stackoverflow.com/users/6430090/mr-kostua"}, "edited": false, "score": 0, "creation_date": 1559029916, "post_id": 56337146, "comment_id": 99280534, "body": "In case of communication between ViewModel and Fragment it is better to use interface, but between Adapter and Fragment (if you have only 1 or 2 click listeners to handle, I prefer to user RxJava)."}, {"owner": {"reputation": 619, "user_id": 6430090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6RVa6.jpg?s=128&g=1", "display_name": "mr.kostua", "link": "https://stackoverflow.com/users/6430090/mr-kostua"}, "reply_to_user": {"reputation": 420, "user_id": 5059339, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec1a2988ff418fa09471aaf9633a034c?s=128&d=identicon&r=PG&f=1", "display_name": "Ghizlane Lotfi", "link": "https://stackoverflow.com/users/5059339/ghizlane-lotfi"}, "edited": false, "score": 0, "creation_date": 1559032164, "post_id": 56337146, "comment_id": 99281627, "body": "@GhizlaneLotfi if this answer solves your questions, up vote and accept it, otherwise ask more questions I will try to help you."}], "tags": [], "owner": {"reputation": 619, "user_id": 6430090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6RVa6.jpg?s=128&g=1", "display_name": "mr.kostua", "link": "https://stackoverflow.com/users/6430090/mr-kostua"}, "is_accepted": true, "score": 1, "last_activity_date": 1559030125, "last_edit_date": 1559030125, "creation_date": 1559028826, "answer_id": 56337146, "question_id": 56336566, "link": "https://stackoverflow.com/questions/56336566/how-to-send-data-from-adapter-to-viewmodel-to-fragment/56337146#56337146", "title": "How to send data from Adapter to ViewModel to Fragment", "body": "<p>First for navigation between ViewModel and Fragment -</p>\n\n<ul>\n<li>you can use RxJava <em>PublishSubject</em> make it public and subscribe to it in your Fragment which can use public methods of ViewModel.</li>\n<li>or you can use an interface, better in my opinion as using interface you are using simpler logic, much less errors in that case, and also it is more clean code as you can name methods in interface as you want - easier to read.</li>\n</ul>\n\n<p>Second for communication between Adapter and Fragment - you can use same strategy as described above. In that case I recommend to use RxJava, as usually you would just need to handle one or few click listeners (so it is for example for observable which emits some data object).<br>\n  <em>If you need some code examples text me in comments</em>.</p>\n\n<p><strong>UPDATE</strong> - it is better practice to create your Adapter instance in View, as I assume you are using MVVM design pattern (where all UI related code must be located in View component).     </p>\n\n<p><strong>Example Fragment - Adapter communication Rx - PublishSubject</strong><br>\nIn your <strong>Adapter</strong></p>\n\n<pre><code>     private val publisher = PublishSubject.create&lt;Product&gt;()\nfun getObservableProductItem(): Observable&lt;Product&gt; = publisher.hide()\n\nbinding.addItem.setOnClickListener(onAddItemClicked(product))\nprivate fun onAddToQuoteClicked(product: Product): View.OnClickListener {\n    return View.OnClickListener {\n        publisherRideItem.onNext(items[adapterPosition])\n    }\n}\n\noverride fun onDetachedFromRecyclerView(recyclerView: RecyclerView) {\n    publisherRideItem.onComplete()\n}\n</code></pre>\n\n<p>And in your <strong>Fragment</strong></p>\n\n<pre><code> compositeDisposable.add(adapter.getObservableProductItem().subscribe {\n            //TODO do whatever you want with it\n        })   \n\n  override fun onDestroy() {\n    super.onDestroy()\n    compositeDisposable.clear()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 6128851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e04015153985ae9988476e70318351b?s=128&d=identicon&r=PG&f=1", "display_name": "jadhu", "link": "https://stackoverflow.com/users/6128851/jadhu"}, "is_accepted": false, "score": -1, "last_activity_date": 1581433891, "last_edit_date": 1581433891, "creation_date": 1581431174, "answer_id": 60171091, "question_id": 56336566, "link": "https://stackoverflow.com/questions/56336566/how-to-send-data-from-adapter-to-viewmodel-to-fragment/60171091#60171091", "title": "How to send data from Adapter to ViewModel to Fragment", "body": "<p>RxJava PublishSubject is the best option, I would prefer it and it is very easy.</p>\n\n<p>I tried with recyclerView - Fragment - ViewModel. Some will have listadapter -> recyclerVire -> Fragment -> ViewModel. I have explained that below.</p>\n\n<p>List Adapter</p>\n\n<p>specify your PublishSubject here </p>\n\n<pre><code>class myapadter : ListAdapter\n{\n object RxBus {\n    val itemClickStream: PublishSubject&lt;View&gt; = PublishSubject.create()\n}\n}\n</code></pre>\n\n<p>ViewHolder</p>\n\n<p>in your viewHolder trigger that PublishSubject.</p>\n\n<pre><code>class myViewholder : RecyclerView.ViewHolder(itemView)\n{\n            itemView.myButton.setOnClickListener {\n               v -&gt; RxBus.itemClickStream.onNext(v) }\n}\n</code></pre>\n\n<p>Fragment </p>\n\n<p>subscribe to PublishSubject here in the fragment, this will automatically get notified.</p>\n\n<pre><code>myapadter.RxBus.itemClickStream.subscribe(){ v -&gt;\n            if (v.id == R.id.myButton) {\n              viewModel.callyourfunction()\n            }\n</code></pre>\n"}], "owner": {"reputation": 420, "user_id": 5059339, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec1a2988ff418fa09471aaf9633a034c?s=128&d=identicon&r=PG&f=1", "display_name": "Ghizlane Lotfi", "link": "https://stackoverflow.com/users/5059339/ghizlane-lotfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3028, "favorite_count": 1, "accepted_answer_id": 56337146, "answer_count": 3, "score": 3, "last_activity_date": 1581433891, "creation_date": 1559026542, "last_edit_date": 1559027262, "question_id": 56336566, "link": "https://stackoverflow.com/questions/56336566/how-to-send-data-from-adapter-to-viewmodel-to-fragment", "title": "How to send data from Adapter to ViewModel to Fragment", "body": "<p>My structure is like this, in the <code>Fragment</code> I call the <code>ViewModel</code> which instantiate the <code>Adapter</code></p>\n\n<p>For each item of my <code>RecyclerView</code>, I have a button which I listen</p>\n\n<pre><code>binding.addItem.setOnClickListener(onAddItemClicked(product))\n\nprivate fun onAddToQuoteClicked(product: Product): View.OnClickListener {\n    return View.OnClickListener {\n        // TODO add item\n    }\n}\n</code></pre>\n\n<p>I don't know how to send this item data to the fragment, is there a way to do that? </p>\n\n<p>Should I use interface between <code>Adapter</code> and <code>ViewModel</code> and between <code>ViewModel</code> and <code>Fragment</code> ?</p>\n\n<p>Or Can I use <code>RxEvent</code> &amp; <code>RxBus</code> ?</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1559027074, "post_id": 56336469, "comment_id": 99279091, "body": "Most probably by fixing your build. But you haven&#39;t posted any code... Post a complete minimal example reproducing the issue."}], "answers": [{"tags": [], "owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "is_accepted": false, "score": 0, "last_activity_date": 1559029719, "creation_date": 1559029719, "answer_id": 56337386, "question_id": 56336469, "link": "https://stackoverflow.com/questions/56336469/war-file-huge-after-upgrading-to-gradle-5/56337386#56337386", "title": "war file huge after upgrading to gradle-5", "body": "<p>Answering my own question:</p>\n\n<p>Replacing</p>\n\n<pre><code>plugins {\n    `kotlin-dsl`\n}\n</code></pre>\n\n<p>by</p>\n\n<pre><code>plugins {\n    id(\"org.jetbrains.kotlin.jvm\")\n}\n</code></pre>\n\n<p>solved the issue</p>\n"}], "owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559029719, "creation_date": 1559026116, "last_edit_date": 1559028927, "question_id": 56336469, "link": "https://stackoverflow.com/questions/56336469/war-file-huge-after-upgrading-to-gradle-5", "title": "war file huge after upgrading to gradle-5", "body": "<p>I have a multi-module-gradle-build.\nSome projects have a <code>build.gradle</code>, others have a <code>build.gradle.kts</code>.</p>\n\n<p>Upgrading gradle from 4.10 to 5.4.1 has a strange effect on war projects if and only if they are defined in <code>build.gradle.kts</code>.</p>\n\n<pre><code>$ unzip -l myproject.war\n                       ... // WEB-INF/classes left out\n        0  2019-05-27 15:23   WEB-INF/lib/\n125552613  2019-05-27 15:10   WEB-INF/lib/gradle-api-5.4.1.jar\n  8566737  2019-05-27 15:10   WEB-INF/lib/groovy-all-1.0-2.5.4.jar\n     1607  2019-05-27 15:10   WEB-INF/lib/gradle-installation-beacon-5.4.1.jar\n</code></pre>\n\n<p>These jars are not needed and bloat the war file.</p>\n\n<p>They were not contained when built with gradle-4.10.</p>\n\n<p>They are not contained in projects with <code>build.gradle</code>.</p>\n\n<p>How to get rid of them?</p>\n\n<p>I cannot paste the entire build logic. But one of the projects <code>build.gradle.kts</code> that suffers the phenomenon looks so:</p>\n\n<pre><code>import groovy.lang.Closure\n\nplugins {\n    `kotlin-dsl`\n}\n\nfun gradleScript(name: String) = rootDir.resolve(\"gradle-scripts/$name.gradle\")\n\napply(from = gradleScript(\"java8-project\"))\napply(from = gradleScript(\"war-no-version\"))\napply(from = gradleScript(\"deploy-jboss\"))\napply(from = gradleScript(\"kotlin\"))\napply(from = gradleScript(\"jpa-provider\"))\n\nval testJpaWith: Closure&lt;String&gt; by extra\n//testJpaWith(\"openjpa\")\ntestJpaWith(\"hibernate\")\n\nval test by tasks.getting(Test::class) {\n    useJUnitPlatform()\n}\n\ndependencies {\n    compileOnly(Libs.javaee_api)\n\n    testCompileOnly(Libs.javaee_api)\n    testImplementation(Libs.assertj_core)\n    testRuntimeOnly(\"org.glassfish:javax.json:1.0.4\")\n\n    testImplementation(Libs.javalin)\n    testRuntimeOnly(\"com.fasterxml.jackson.core:jackson-databind:2.9.6\")\n    testImplementation(\"khttp:khttp:1.0.0\")\n    testImplementation(project(\":test-jpa\"))\n\n    testImplementation(Libs.junit_jupiter_api)\n    testRuntimeOnly(Libs.junit_jupiter_engine)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "permissions", "oppo"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 7208876, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ykx_qWTjtDM/AAAAAAAAAAI/AAAAAAAAAG0/YXfXd7bl7B4/photo.jpg?sz=128", "display_name": "Loc Le Xuan", "link": "https://stackoverflow.com/users/7208876/loc-le-xuan"}, "is_accepted": false, "score": 0, "last_activity_date": 1559025746, "creation_date": 1559025746, "answer_id": 56336368, "question_id": 56336221, "link": "https://stackoverflow.com/questions/56336221/oppo-firebase-notification-in-background/56336368#56336368", "title": "Oppo firebase notification in background", "body": "<p>You need \"OPPO_COMPONENT_SAFE\" permission into your manifest to start Intent.</p>\n\n<pre><code>    &lt;!--for OPPO--&gt;\n&lt;uses-permission android:name=\"oppo.permission.OPPO_COMPONENT_SAFE\" /&gt;\n</code></pre>\n\n<p>Reference: <a href=\"https://stackoverflow.com/questions/49814755/denial-permission-oppo-component-safe\">Denial permission OPPO_COMPONENT_SAFE</a></p>\n"}], "owner": {"reputation": 33, "user_id": 8328655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a6b4de8072cbbb58d4fdce9417dc208?s=128&d=identicon&r=PG&f=1", "display_name": "booc booc", "link": "https://stackoverflow.com/users/8328655/booc-booc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 396, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1559025746, "creation_date": 1559025113, "last_edit_date": 1559025733, "question_id": 56336221, "link": "https://stackoverflow.com/questions/56336221/oppo-firebase-notification-in-background", "title": "Oppo firebase notification in background", "body": "<p>Code for permission oppo cannot load app. Oppo phone cannot handle notification in background, \nbut when I use these code it work well:</p>\n\n<pre><code>val POWERMANAGER_INTENTS = arrayOf(\n        Intent().setComponent(\n            ComponentName(\n                \"com.coloros.safecenter\",\n                \"com.coloros.safecenter.permission.startup.StartupAppListActivity\"\n            )\n        ),\n        Intent().setComponent(\n            ComponentName(\n                \"com.coloros.safecenter\",\n                \"com.coloros.safecenter.startupapp.StartupAppListActivity\"\n            )\n        )\n    )\n</code></pre>\n\n<p>But this code cause my app cannnot load. it's make error like that:</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.firebasesms.hong/com.firebasesms.hong.MainActivity}: java.lang.SecurityException: Permission Denial: starting Intent.......\n\nCaused by: java.lang.SecurityException: Permission Denial: starting Intent ..... requires oppo.permission.OPPO_COMPONENT_SAFE\n</code></pre>\n\n<p>AndroidManifest</p>\n\n<p><a href=\"https://i.stack.imgur.com/DDonX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DDonX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code: Kotlin</p>\n\n<p><a href=\"https://i.stack.imgur.com/SJqyQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SJqyQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Error: requires oppo.permission.OPPO_COMPONENT_SAFE</p>\n\n<p><a href=\"https://i.stack.imgur.com/q8FTI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q8FTI.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "observable", "rx-java", "reactive-programming"], "answers": [{"comments": [{"owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 0, "creation_date": 1559094666, "post_id": 56338888, "comment_id": 99308886, "body": "Thanks Panda. Will give it a try. But I have a doubt. I used a slightly different approach. I used zip operator and created a Bi-function which returns an instance of a custom object I created containing all the fields. Is there a reason why zipWith is opted rather than zip?"}, {"owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 0, "creation_date": 1559095185, "post_id": 56338888, "comment_id": 99308975, "body": "And also <code>zipWith</code> is not being recognized after the autoDisposable :("}, {"owner": {"reputation": 651, "user_id": 4860821, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b84d31ab3405fabb7396aa81bbc13cfc?s=128&d=identicon&r=PG&f=1", "display_name": "Panda", "link": "https://stackoverflow.com/users/4860821/panda"}, "reply_to_user": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 1, "creation_date": 1559098403, "post_id": 56338888, "comment_id": 99309575, "body": "@ASN <code>a.zipWith(b, zipper)</code> is just like doing <code>Observable.zip(a, b, zipper)</code> except you can chain it so it can look nicer. Once <code>autoDisposable</code> is called, you can only <code>subscribe</code>. I&#39;ve updated my answer to reflect this."}, {"owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 0, "creation_date": 1559099692, "post_id": 56338888, "comment_id": 99309794, "body": "apparently <code>viewModel.sessionManager().blockingGet().getUser()</code> is a <code>Observable&lt;User&gt;</code>. But <code>zipWith</code> is expecting a Single instead of an Observable"}, {"owner": {"reputation": 651, "user_id": 4860821, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b84d31ab3405fabb7396aa81bbc13cfc?s=128&d=identicon&r=PG&f=1", "display_name": "Panda", "link": "https://stackoverflow.com/users/4860821/panda"}, "reply_to_user": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 1, "creation_date": 1559100367, "post_id": 56338888, "comment_id": 99309919, "body": "You can use one of the <code>first</code> operators to convert it to a <code>Single</code>."}, {"owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 0, "creation_date": 1559111592, "post_id": 56338888, "comment_id": 99312957, "body": "But in this case what do I need to pass as default value to the <code>first</code> operator."}], "tags": [], "owner": {"reputation": 651, "user_id": 4860821, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b84d31ab3405fabb7396aa81bbc13cfc?s=128&d=identicon&r=PG&f=1", "display_name": "Panda", "link": "https://stackoverflow.com/users/4860821/panda"}, "is_accepted": true, "score": 0, "last_activity_date": 1559100449, "last_edit_date": 1559100449, "creation_date": 1559035254, "answer_id": 56338888, "question_id": 56336164, "link": "https://stackoverflow.com/questions/56336164/how-to-use-an-variable-of-object-observable-inside-another-observable-subscribe/56338888#56338888", "title": "How to use an variable of Object Observable inside another Observable subscribe function - RxJava", "body": "<p>Your solution does not work simply because you immediately instantiate a <code>SessionClass</code> and never call <code>setUser()</code>, so <code>getUser().blockingFirst()</code> will block forever. I will assume that you have an instance of <code>SessionClass</code> which will actually have <code>setUser()</code> called at some point.</p>\n\n<p>The key to having access to the user there is to <a href=\"https://github.com/ReactiveX/RxJava/wiki/Combining-Observables\" rel=\"nofollow noreferrer\">combine</a> the Observables. The appropriate choice in this situation is the <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Single.html#zipWith-io.reactivex.SingleSource-io.reactivex.functions.BiFunction-\" rel=\"nofollow noreferrer\"><code>zipWith</code></a> operator. This will allow you to operate on the values from two sources at once. For example, your code might look something like this:</p>\n\n<pre><code>val session: SessionClass = TODO() // get an instance somewhere\n\nviewModel.login(emailId)\n    .observeOn(AndroidSchedulers.mainThread())\n    .zipWith(session.getUser().firstOrError(), BiFunction { (role, images): Pair&lt;Role, Images&gt;, user: User -&gt; Triple(role, images, user) })\n    .autoDisposable(scopeProvider)\n    .subscribe({ (role, images, user) -&gt;\n        analyticsProvider.updateUser(mapOf(Constants.Role to role, Constants.userId to user.userId))\n    })))\n\n</code></pre>\n"}], "owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "accepted_answer_id": 56338888, "answer_count": 1, "score": 0, "last_activity_date": 1559100449, "creation_date": 1559024844, "question_id": 56336164, "link": "https://stackoverflow.com/questions/56336164/how-to-use-an-variable-of-object-observable-inside-another-observable-subscribe", "title": "How to use an variable of Object Observable inside another Observable subscribe function - RxJava", "body": "<p>I have two observables of different types which emit two different types of Objects. But I need to update analytics on a successful login with userId and role. User Id is already set in viewModel login function call on successful login. </p>\n\n<pre><code>                       viewModel.login(emailId)\n                                .observeOn(AndroidSchedulers.mainThread())\n                                .autoDisposable(scopeProvider)\n                                .subscribe({ (role, images) -&gt;\n                                analyticsProvider.updateUser(mapOf(Constants.Role to role, \nConstants.userId to *NEED TO ENTER USER ID FROM OTHER OBSERVABLE HERE*)))\n</code></pre>\n\n<p>My Session Observable which emits User object. </p>\n\n<pre><code> class SessionClass{\n        private val user = BehaviorSubject.create&lt;User&gt;()\n        override fun setUser(user: User) {\n                this.user.onNext(user)\n            }\n         override fun getUser(): Observable&lt;User&gt; = user.hide()\n    }\n</code></pre>\n\n<p>I tried to call <code>SessionClass().getUser().blockingFirst().userId</code> at that place but the phone gets hung at the login screen. </p>\n\n<p>Is there any way I can fix this issue?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 212, "user_id": 4676398, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10152758411751732/picture?type=large", "display_name": "Alberto Cappellina", "link": "https://stackoverflow.com/users/4676398/alberto-cappellina"}, "edited": false, "score": 0, "creation_date": 1559058318, "post_id": 56335590, "comment_id": 99296573, "body": "remove android:layoutDirection=&quot;rtl&quot;"}, {"owner": {"reputation": 15, "user_id": 10504400, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S_bYPwQLMtw/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUg98eShZ-nFP3y_TQaKtQBT0Rlxw/mo/photo.jpg?sz=128", "display_name": "Jeremy O&#39;Handley", "link": "https://stackoverflow.com/users/10504400/jeremy-ohandley"}, "reply_to_user": {"reputation": 212, "user_id": 4676398, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10152758411751732/picture?type=large", "display_name": "Alberto Cappellina", "link": "https://stackoverflow.com/users/4676398/alberto-cappellina"}, "edited": false, "score": 0, "creation_date": 1559059793, "post_id": 56335590, "comment_id": 99297411, "body": "@AlbertoCappellina the direction is intended to be rtl."}, {"owner": {"reputation": 212, "user_id": 4676398, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10152758411751732/picture?type=large", "display_name": "Alberto Cappellina", "link": "https://stackoverflow.com/users/4676398/alberto-cappellina"}, "edited": false, "score": 0, "creation_date": 1559117844, "post_id": 56335590, "comment_id": 99316103, "body": "then you should remove from the last-1 to 0. this will keep the add button"}], "owner": {"reputation": 15, "user_id": 10504400, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S_bYPwQLMtw/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUg98eShZ-nFP3y_TQaKtQBT0Rlxw/mo/photo.jpg?sz=128", "display_name": "Jeremy O&#39;Handley", "link": "https://stackoverflow.com/users/10504400/jeremy-ohandley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1037, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559021691, "creation_date": 1559021691, "question_id": 56335590, "link": "https://stackoverflow.com/questions/56335590/how-can-i-properly-programmatically-add-custom-views-to-a-view-group-in-android", "title": "How can I properly programmatically add custom views to a view group in android?", "body": "<p>I am trying to implement a horizontal scroll views that adds custom written cardviews based on information in a room database. I also add a text view to space out the card views as configuring the padding in XML and programmatically both did not work. The problem is that whenever I create a new \"artist\" in the database, which should then add a card to the scroll view, there is a chance that the text view for spacing gets added to the incorrect side of the card view. Also there is a chance that card views get repeated and in this case the text view for spacing doesn't  get added at all. </p>\n\n<p>If you need the github repository to see the effects yourself, you can clone it here <a href=\"https://github.com/jeremyohandley/PosTattoo\" rel=\"nofollow noreferrer\">https://github.com/jeremyohandley/PosTattoo</a></p>\n\n<p>I've tried changing adding log statements in various places and checking the database to see if there is any repeated data or missing data. I'm not sure what the source of the error is.</p>\n\n<p>Artist Page Fragment.kt </p>\n\n<pre><code>package com.jeremy.ohandley.postattoo\n\nimport android.content.Context\nimport android.net.Uri\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.support.v7.app.AlertDialog\nimport android.util.AttributeSet\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.*\nimport com.jeremy.ohandley.postattoo.db.Artist\nimport com.jeremy.ohandley.postattoo.db.ArtistDao\nimport com.jeremy.ohandley.postattoo.db.Customer\nimport com.jeremy.ohandley.postattoo.db.database\nimport org.w3c.dom.Text\n\n\nclass ArtistPageFragment : Fragment() {\n\n    private var db: database? = null\n    private var artistDao: ArtistDao? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        db = database.getInstance(activity!!.applicationContext)\n        artistDao = db!!.artistDAO()\n\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_artist_page, container, \nfalse)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        val addArtist = view!!.findViewById&lt;ImageButton&gt; \n   (R.id.add_artist_button)\n            addArtist.setOnClickListener { launchNewArtistDialog() }\n            loadArtists()\n        }\n\n    private fun launchNewArtistDialog() {\n        val inflater = LayoutInflater.from(context)\n        val builder = AlertDialog.Builder(context!!)\n        val builderView = \ninflater.inflate(R.layout.fragment_new_artist_dialog, null)\n        initAddArtistDialogButtons(builder, builderView)\n\n        builder.setView(builderView)\n        builder.show()\n    }\n\n    private fun initAddArtistDialogButtons(builder: AlertDialog.Builder, \nbuilderView: View) {\n        builder.setNegativeButton(\"Cancel\") { _, _ -&gt;\n            Toast.makeText(context, \"Artist not created\", \nToast.LENGTH_SHORT).show()\n        }\n        builder.setPositiveButton(\"Create Artist\") { _, _ -&gt;\n\n            val firstNameInput = builderView.findViewById&lt;EditText&gt; \n   (R.id.first_name_input)\n                 val lastNameInput = builderView.findViewById&lt;EditText&gt; \n   (R.id.last_name_input)\n            val emailInput = builderView.findViewById&lt;EditText&gt; \n   (R.id.email_input)\n            val phoneNumberInput = builderView.findViewById&lt;EditText&gt; \n   (R.id.phone_number_input)\n            val firstName = firstNameInput.text.toString()\n            val lastName = lastNameInput.text.toString()\n            val email = emailInput.text.toString()\n            val phoneNumber = phoneNumberInput.text.toString()\n\n            val newArtist = Artist(null, firstName, lastName, email, \nphoneNumber)\n            artistDao!!.insertArtist(newArtist)\n            loadArtists()\n\n        }\n\n\n    }\n\n    private fun loadArtists() {\n        val artists = artistDao!!.getArtists()\n        clearArtists()\n\n        artists.forEach {\n\n            val card = ArtistCard(context!!)\n            val name = \"${it.firstName} ${it.lastName}\"\n            card.setName(name)\n            card.setNumber(it.phoneNumber)\n            card.setEmail(it.email)\n            card.setPadding(4, 4, 4, 4)\n            addToLayout(card)\n\n        }\n    }\n\n    private fun clearArtists() {\n        val cardLL = view!!.findViewById&lt;LinearLayout&gt;(R.id.cardLL)\n\n        for (i in 1 until cardLL.childCount) {\n            cardLL.removeView(cardLL.getChildAt(i))\n        }\n    }\n\n    private fun addToLayout(card: ArtistCard) {\n        val spacerView = TextView(context)\n        val cardLL = view!!.findViewById&lt;LinearLayout&gt;(R.id.cardLL)\n        cardLL.addView(card)\n        cardLL.addView(spacerView)\n        spacerView.layoutParams = \nLinearLayout.LayoutParams(convertDpToPx(context!!, 8f).toInt(), \nLinearLayout.LayoutParams.MATCH_PARENT)\n\n    }\n\n    private fun convertDpToPx(context: Context, dp: Float): Float {\n        return dp * context.resources.displayMetrics.density\n    }\n\n\n\n}\n</code></pre>\n\n<p>Artist Page Fragment XML </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".ArtistPageFragment\"\n        android:orientation=\"horizontal\"\n        android:gravity=\"center\"\n        android:id=\"@+id/artists_linear_layout\"\n&gt;\n\n        &lt;HorizontalScrollView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:id=\"@+id/scroll_view\"\n\n        &gt;\n            &lt;LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:orientation=\"horizontal\"\n                    android:id=\"@+id/cardLL\"\n                    android:layoutDirection=\"rtl\"\n                    android:gravity=\"center\"\n            &gt;\n\n\n                &lt;android.support.v7.widget.CardView\n                        android:layout_width=\"200dp\"\n                        android:layout_height=\"300dp\"\n                        android:layout_margin=\"8dp\"\n                &gt;\n\n                    &lt;ImageButton\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_gravity=\"center\"\n                            android:id=\"@+id/add_artist_button\"\n                            android:src=\"@drawable/ic_add_24dp\"\n                    /&gt;\n\n                &lt;/android.support.v7.widget.CardView&gt;-\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/HorizontalScrollView&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>ArtistCard.kt (custom card)</p>\n\n<pre><code>package com.jeremy.ohandley.postattoo\n\nimport android.content.Context\nimport android.graphics.Paint\nimport android.support.v7.widget.CardView\nimport android.util.AttributeSet\nimport android.widget.TextView\n\nclass ArtistCard(context: Context) : CardView(context) {\n    var attributes:AttributeSet? = null\n\n    constructor(context: Context, attrs: AttributeSet) : this(context) {\n        attributes = attrs\n    }\n\n\n\n    init{\n        inflate(context, R.layout.artist_card, this)\n\n        val name = findViewById&lt;TextView&gt;(R.id.artist_name)\n        val number = findViewById&lt;TextView&gt;(R.id.artist_phone_number)\n        val email = findViewById&lt;TextView&gt;(R.id.artist_email)\n\n        val attributes = context.obtainStyledAttributes(attributes, \nR.styleable.ArtistCard)\n        name.text = attributes.getString(R.styleable.ArtistCard_name)\n        number.text = attributes.getString(R.styleable.ArtistCard_number)\n        email.text = attributes.getString(R.styleable.ArtistCard_email)\n        attributes.recycle()\n    }\n\n    fun setName (mName:String){\n        val name = findViewById&lt;TextView&gt;(R.id.artist_name)\n        name.text = mName\n    }\n\n    fun setNumber (mNumber:String){\n        val number = findViewById&lt;TextView&gt;(R.id.artist_phone_number)\n        number.text = mNumber\n    }\n\n    fun setEmail (mEmail:String){\n        val email = findViewById&lt;TextView&gt;(R.id.artist_email)\n        email.text = mEmail\n    }\n}\n</code></pre>\n\n<p>Artist Card Layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.CardView\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"300dp\"\n\n\n&gt;\n\n\n    &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"\n            android:gravity=\"center\"\n    &gt;\n\n        &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textSize=\"20sp\"\n                android:text=\"Name\"\n\n        /&gt;\n\n        &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textSize=\"14sp\"\n                android:text=\"sample name\"\n                android:id=\"@+id/artist_name\"\n\n        /&gt;\n\n        &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textSize=\"20sp\"\n                android:text=\"Phone Number\"\n\n        /&gt;\n\n        &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textSize=\"14sp\"\n                android:text=\"(1)-555-555-5555\"\n                android:id=\"@+id/artist_phone_number\"\n\n        /&gt;\n\n        &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textSize=\"20sp\"\n                android:text=\"Email\"\n\n        /&gt;\n\n        &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textSize=\"14sp\"\n                android:text=\"sample@gmail.com\"\n                android:id=\"@+id/artist_email\"\n\n        /&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "curl", "kotlin", "jvm"], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 1502114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7f3782ee31be835b919addac8d14ebb4?s=128&d=identicon&r=PG", "display_name": "Pranav kirtani", "link": "https://stackoverflow.com/users/1502114/pranav-kirtani"}, "is_accepted": true, "score": 0, "last_activity_date": 1559923951, "creation_date": 1559923951, "answer_id": 56497952, "question_id": 56335483, "link": "https://stackoverflow.com/questions/56335483/reading-form-data-from-a-multi-part-request/56497952#56497952", "title": "Reading form data from a multi part request", "body": "<p>The Curl request was not correct, the correct curl request is \ncurl -X POST <a href=\"http://localhost:50005/77\" rel=\"nofollow noreferrer\">http://localhost:50005/77</a> -H 'content-type: multipart/form-data' -F instruction='{ \"action\": \"produce\", \"data\": [ { \"id\": \"user1\", \"type\": \"Person\"} ] }'</p>\n"}], "owner": {"reputation": 79, "user_id": 1502114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7f3782ee31be835b919addac8d14ebb4?s=128&d=identicon&r=PG", "display_name": "Pranav kirtani", "link": "https://stackoverflow.com/users/1502114/pranav-kirtani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17, "favorite_count": 0, "accepted_answer_id": 56497952, "answer_count": 1, "score": -1, "last_activity_date": 1559923951, "creation_date": 1559021045, "last_edit_date": 1559043159, "question_id": 56335483, "link": "https://stackoverflow.com/questions/56335483/reading-form-data-from-a-multi-part-request", "title": "Reading form data from a multi part request", "body": "<p>I have a curl command which is posting data using multiform/form-data as Content Type. request is as follows</p>\n\n<p>curl -X POST <a href=\"http://localhost:50005/77\" rel=\"nofollow noreferrer\">http://localhost:50005/77</a>    -H 'content-type: multipart/form-data; boundary=---WebKitFormBoundary7MA4YWxkTrZu0gW'    -F 'instruction={   \"action\": \"produce\",   \"data\": [     {       \"id\": \"user1\",       \"type\": \"Person\"}   ] }'</p>\n\n<p>How do I read the \"instruction\" parameter from the request in my spring boot controller?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11479162, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2X8mL8Q3h8A/AAAAAAAAAAI/AAAAAAAAABo/GOMawzkQnN4/photo.jpg?sz=128", "display_name": "Sandra", "link": "https://stackoverflow.com/users/11479162/sandra"}, "edited": false, "score": 0, "creation_date": 1559020297, "post_id": 56335274, "comment_id": 99276673, "body": "Right, they are different. But they do the exact same thing?"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "reply_to_user": {"reputation": 35, "user_id": 11479162, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2X8mL8Q3h8A/AAAAAAAAAAI/AAAAAAAAABo/GOMawzkQnN4/photo.jpg?sz=128", "display_name": "Sandra", "link": "https://stackoverflow.com/users/11479162/sandra"}, "edited": false, "score": 0, "creation_date": 1559026103, "post_id": 56335274, "comment_id": 99278661, "body": "@Sandra Do they both give the same value? Yes. The difference is that one is a property and the other is a function. The property is the more Kotlin way to do things, I believe."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 2, "creation_date": 1559032882, "post_id": 56335274, "comment_id": 99281927, "body": "The two options give equivalent results, but of course they&#39;re called differently (with the property needing brackets, and the property none).  A property is the Kotlin way when it <i>behaves</i> like a property: consistent, fast, with no visible side-effects.  A normal function would be more appropriate if e.g. it returned different values without a setter being called, or did some heavy processing, or made external calls."}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 3, "last_activity_date": 1559019833, "creation_date": 1559019833, "answer_id": 56335274, "question_id": 56335191, "link": "https://stackoverflow.com/questions/56335191/difference-between-member-function-and-property/56335274#56335274", "title": "Difference between member function and property", "body": "<p>The first statement defines a property and the second statement defines a method.\nAssume you define both in a class <code>Foo</code>. </p>\n\n<pre><code>val foo = Foo()\nif(foo.isFinished) {} // property\n\nif(foo.isFinished()) {} // method - see () at invocation\n</code></pre>\n\n<p>Under the hood, both variants call a  function.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1559032319, "creation_date": 1559032319, "answer_id": 56338065, "question_id": 56335191, "link": "https://stackoverflow.com/questions/56335191/difference-between-member-function-and-property/56338065#56338065", "title": "Difference between member function and property", "body": "<p><strong>Class Property</strong></p>\n\n<p>Your first example is a class <a href=\"https://kotlinlang.org/docs/reference/properties.html#declaring-properties\" rel=\"nofollow noreferrer\">property</a>:</p>\n\n<pre><code>class MyClass {\n    val isFinished: Boolean\n        get() = actor.actions.size == 0\n}\n</code></pre>\n\n<p>This property defines an (optional) explicit <code>get</code> method, often referred to as a \"getter\". You could also omit the getter and do:</p>\n\n<pre><code>class MyClass {\n    val isFinished: Boolean = (actor.actions.size == 0) //parens not necessary\n}\n</code></pre>\n\n<p>If omitted, as shown in the last example, the value will rather be a constant value which isn't re-calculated on each access. Both variants serve different use cases but in most cases, the latter will be sufficient.</p>\n\n<p>Regardless, for a client of this class, the property can be accessed like this:</p>\n\n<pre><code>val mc = MyClass()\nmc.isFinished\n</code></pre>\n\n<p>This shows accessing a property in Kotlin.</p>\n\n<hr>\n\n<p><strong>Class member function</strong></p>\n\n<p>Functions in Kotlin can also define functions, which can be referred to as member functions. Your second example demonstrates this feature:</p>\n\n<pre><code>class MyClass {\n    fun isFinished() = actor.actions.size == 0\n}\n</code></pre>\n\n<p>Defining a member function is similar to properties with explicit getters but still different for a client, since they have to <em>invoke a function</em> rather than accessing a property:</p>\n\n<pre><code>val mc = MyClass()\nmc.isFinished()\n</code></pre>\n\n<p><em>Side Note</em></p>\n\n<p>Note that the shown function utilizes an expression body which is equivalent to the following block body approach:</p>\n\n<pre><code>class MyClass {\n   fun isFinished() { \n       return actor.actions.size == 0\n   }\n}\n</code></pre>\n\n<p>Learn more about functions <a href=\"https://kotlinlang.org/docs/reference/basic-syntax.html#defining-functions\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 35, "user_id": 11479162, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2X8mL8Q3h8A/AAAAAAAAAAI/AAAAAAAAABo/GOMawzkQnN4/photo.jpg?sz=128", "display_name": "Sandra", "link": "https://stackoverflow.com/users/11479162/sandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 56338065, "answer_count": 2, "score": 0, "last_activity_date": 1559032319, "creation_date": 1559019229, "last_edit_date": 1559031625, "question_id": 56335191, "link": "https://stackoverflow.com/questions/56335191/difference-between-member-function-and-property", "title": "Difference between member function and property", "body": "<p>What is the difference?</p>\n\n<pre><code>val isFinished: Boolean\n        get() = actor.actions.size == 0\n</code></pre>\n\n<pre><code>fun isFinished() = actor.actions.size == 0\n</code></pre>\n\n<p>I have no idea.</p>\n\n<p>I expect them to be the same.</p>\n"}, {"tags": ["android", "google-maps", "google-maps-api-3", "kotlin", "google-places-api"], "comments": [{"owner": {"reputation": 1003, "user_id": 4097058, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f7c71122b7c2a03b73ae2b2942571a70?s=128&d=identicon&r=PG", "display_name": "Brian Hoang", "link": "https://stackoverflow.com/users/4097058/brian-hoang"}, "edited": false, "score": 0, "creation_date": 1559012964, "post_id": 56334484, "comment_id": 99275256, "body": "Did you enable google place API on Google Console"}, {"owner": {"reputation": 13, "user_id": 11565017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6798a8c27a6bb1f3a3a1e56f74b61263?s=128&d=identicon&r=PG&f=1", "display_name": "H.Michi", "link": "https://stackoverflow.com/users/11565017/h-michi"}, "reply_to_user": {"reputation": 1003, "user_id": 4097058, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f7c71122b7c2a03b73ae2b2942571a70?s=128&d=identicon&r=PG", "display_name": "Brian Hoang", "link": "https://stackoverflow.com/users/4097058/brian-hoang"}, "edited": false, "score": 0, "creation_date": 1559016731, "post_id": 56334484, "comment_id": 99275942, "body": "yes, I could get address used by old places sdk and no error code."}, {"owner": {"reputation": 1046, "user_id": 8546205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tuebv.jpg?s=128&g=1", "display_name": "Rahul Kushwaha", "link": "https://stackoverflow.com/users/8546205/rahul-kushwaha"}, "edited": false, "score": 0, "creation_date": 1559021876, "post_id": 56334484, "comment_id": 99277101, "body": "you should enabled the billing account first."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11565017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6798a8c27a6bb1f3a3a1e56f74b61263?s=128&d=identicon&r=PG&f=1", "display_name": "H.Michi", "link": "https://stackoverflow.com/users/11565017/h-michi"}, "edited": false, "score": 0, "creation_date": 1559015891, "post_id": 56334574, "comment_id": 99275788, "body": "Thank you for answer. I have created my account and used key before google charge system changed.  this means that I haven&#39;t created the billding account?"}, {"owner": {"reputation": 4910, "user_id": 4896784, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7D2Mdu6NAdk/AAAAAAAAAAI/AAAAAAAAAQg/OgEfBdpBgXg/photo.jpg?sz=128", "display_name": "ismail alaoui", "link": "https://stackoverflow.com/users/4896784/ismail-alaoui"}, "reply_to_user": {"reputation": 13, "user_id": 11565017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6798a8c27a6bb1f3a3a1e56f74b61263?s=128&d=identicon&r=PG&f=1", "display_name": "H.Michi", "link": "https://stackoverflow.com/users/11565017/h-michi"}, "edited": false, "score": 0, "creation_date": 1559015967, "post_id": 56334574, "comment_id": 99275804, "body": "exactly , you should enable a billing account"}], "tags": [], "owner": {"reputation": 4910, "user_id": 4896784, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7D2Mdu6NAdk/AAAAAAAAAAI/AAAAAAAAAQg/OgEfBdpBgXg/photo.jpg?sz=128", "display_name": "ismail alaoui", "link": "https://stackoverflow.com/users/4896784/ismail-alaoui"}, "is_accepted": true, "score": 0, "last_activity_date": 1559015478, "last_edit_date": 1559015478, "creation_date": 1559013606, "answer_id": 56334574, "question_id": 56334484, "link": "https://stackoverflow.com/questions/56334484/how-to-fix-error-used-by-new-place-sdk-for-android/56334574#56334574", "title": "How to fix error used by new Place SDK for android", "body": "<p>The issue is because you haven't created the billing account for your project.</p>\n\n<p>Without billing account by default <strong>Places SDK</strong> will allow only one load per key per day.</p>\n\n<p>You can follow these steps to resolve the issue :</p>\n\n<p>1-Go to Google Cloud Platform Console.</p>\n\n<p>2-Enable billing account for your project.</p>\n\n<p>3-Select the project that contains the API you want to review.</p>\n\n<p>4-From the list of APIs on the Dashboard, click the name of the API.</p>\n\n<p>5-Near the top of the page, click Quotas or Usage and set the limit according to your usage.</p>\n"}], "owner": {"reputation": 13, "user_id": 11565017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6798a8c27a6bb1f3a3a1e56f74b61263?s=128&d=identicon&r=PG&f=1", "display_name": "H.Michi", "link": "https://stackoverflow.com/users/11565017/h-michi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 1, "accepted_answer_id": 56334574, "answer_count": 1, "score": 1, "last_activity_date": 1559207720, "creation_date": 1559012796, "last_edit_date": 1559203082, "question_id": 56334484, "link": "https://stackoverflow.com/questions/56334484/how-to-fix-error-used-by-new-place-sdk-for-android", "title": "How to fix error used by new Place SDK for android", "body": "<p>I want to get adderss used by new place sdk for android.</p>\n\n<p>refer to <a href=\"https://developers.google.com/places/android-sdk/client-migration\" rel=\"nofollow noreferrer\">https://developers.google.com/places/android-sdk/client-migration</a></p>\n\n<p>I used <code>com.google.android.libraries.places:places-compat:1.1.0</code></p>\n\n<p>This is for : <a href=\"https://cloud.google.com/blog/products/maps-platform/introducing-new-improved-places-sdks\" rel=\"nofollow noreferrer\">https://cloud.google.com/blog/products/maps-platform/introducing-new-improved-places-sdks</a></p>\n\n<p>I had used <code>com.google.android.gms:play-services-places:16.0.0</code></p>\n\n<p>I used google sample code. (compat)</p>\n\n<p><a href=\"https://github.com/googlemaps/android-places-demos\" rel=\"nofollow noreferrer\">https://github.com/googlemaps/android-places-demos</a></p>\n\n<p>I run this project and try to get current place(address).</p>\n\n<p>I could get current place(address) for the first time.</p>\n\n<p>but I could not get this second time.</p>\n\n<p>error code : <code>9005: You have exceeded your daily request quota for this API. If you did not set a custom daily request quota, verify your project has an active billing account: http://g.co/dev/maps-no-account</code></p>\n\n<p>If there is anyone who understands, thank you for your consideration.</p>\n"}, {"tags": ["android", "kotlin", "autocompletetextview", "illegalargumentexception"], "answers": [{"tags": [], "owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "is_accepted": true, "score": 7, "last_activity_date": 1559013177, "creation_date": 1559013177, "answer_id": 56334528, "question_id": 56334168, "link": "https://stackoverflow.com/questions/56334168/autocompletetextview-return-parameter-specified-as-non-null-is-null/56334528#56334528", "title": "Autocompletetextview return Parameter specified as non-null is null", "body": "<p>Change to this </p>\n\n<pre><code>override fun publishResults(constraint: CharSequence?, results: FilterResults?) {\n                if (results != null &amp;&amp; results.count &gt; 0) {\n                    notifyDataSetChanged()\n                } else {\n                    notifyDataSetInvalidated()\n                }\n            }\n</code></pre>\n\n<p>In the error message, it says <code>constraint: CharSequence?</code> is null, but you declare it as non-null (without the question mark), so just add the question mark for it</p>\n"}], "owner": {"reputation": 37, "user_id": 10125246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d73f70093359f2fbd496fb5aa37e6f?s=128&d=identicon&r=PG&f=1", "display_name": "pdiani", "link": "https://stackoverflow.com/users/10125246/pdiani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "accepted_answer_id": 56334528, "answer_count": 1, "score": 1, "last_activity_date": 1559013177, "creation_date": 1559008917, "question_id": 56334168, "link": "https://stackoverflow.com/questions/56334168/autocompletetextview-return-parameter-specified-as-non-null-is-null", "title": "Autocompletetextview return Parameter specified as non-null is null", "body": "<p>I implemented this custom autocompletetextview in my application. Just when user tried to type some text, the application stopped. I checked my web api is working fine. I'm new to kotlin so I don't really know how to solve the problem.</p>\n\n<p>This is my custom adapter looks like</p>\n\n<pre><code>class AutoCompleteAdapter(context: Context, resource: Int) : ArrayAdapter&lt;String&gt;(context, resource), Filterable {\n    private val mlistData: ArrayList&lt;String&gt;\n\n    init {\n        mlistData = ArrayList()\n    }\n\n    fun setData(list: ArrayList&lt;String&gt;) {\n        mlistData.clear()\n        mlistData.addAll(list)\n    }\n\n    override fun getCount(): Int {\n        return mlistData.size\n    }\n\n    override fun getItem(position: Int): String? {\n        return mlistData[position]\n    }\n\n    /**\n     * Used to Return the full object directly from adapter.\n     *\n     * @param position\n     * @return\n     */\n    fun getObject(position: Int): String {\n        return mlistData[position]\n    }\n\n    override fun getFilter(): Filter {\n        return object : Filter() {\n            override fun performFiltering(constraint: CharSequence?): FilterResults {\n                val filterResults = FilterResults()\n                if (constraint != null) {\n                    filterResults.values = mlistData\n                    filterResults.count = mlistData.size\n                }\n                return filterResults\n            }\n\n            override fun publishResults(constraint: CharSequence, results: FilterResults?) {\n                if (results != null &amp;&amp; results.count &gt; 0) {\n                    notifyDataSetChanged()\n                } else {\n                    notifyDataSetInvalidated()\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is the code where I use the autocompleteTextView</p>\n\n<pre><code>class RegistrationInformationActivity : AppCompatActivity(), AdapterView.OnItemSelectedListener {\n\n    private lateinit var autoCompleteAdapter: AutoCompleteAdapter\n    lateinit var handler: Handler\n    private val TRIGGER_AUTO_COMPLETE = 100\n    private val AUTO_COMPLETE_DELAY: Long = 300\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_registration_information)\n\n        autoCompleteAdapter = AutoCompleteAdapter(this, android.R.layout.simple_dropdown_item_1line)\n        register_provinsi.threshold = 2\n        register_provinsi.setAdapter(autoCompleteAdapter)\n        register_provinsi.setOnItemClickListener{ parent, view, position, id -&gt;\n                val result = autoCompleteAdapter.getObject(position)\n                register_provinsi.setText(result)\n            }\n        register_provinsi.addTextChangedListener(object : TextWatcher {\n            override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {}\n            override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\n                handler.removeMessages(TRIGGER_AUTO_COMPLETE)\n                handler.sendEmptyMessageDelayed(\n                    TRIGGER_AUTO_COMPLETE,\n                    AUTO_COMPLETE_DELAY\n                )\n            }\n            override fun afterTextChanged(s: Editable) {}\n        })\n\n        handler = Handler(Handler.Callback { msg -&gt;\n            if (msg.what == TRIGGER_AUTO_COMPLETE) {\n                if (!TextUtils.isEmpty(register_provinsi.text)) \n                    val string = register_provinsi.text.toString()\n                    loadProvinsi(string)\n                }\n            }\n            false\n        })\n\n    }\n</code></pre>\n\n<p>This where I make call to web api using volley</p>\n\n<pre><code>private fun loadProvinsi(provinsi: String) {\n        val stringRequest = StringRequest(\n            Request.Method.GET, EndPoints.URL_GET_PROVINSI + \"&amp;keyword=\" + provinsi,\n            Response.Listener&lt;String&gt; { s -&gt;\n                try {\n                    val obj = JSONObject(s)\n                    val list = ArrayList&lt;String&gt;()\n                    if (!obj.equals(\"\")) {\n                        val array = obj.getJSONArray(\"list\")\n                        for (i in 0 until array.length() - 1) {\n                            val objectProvinsi = array.getJSONObject(i)\n                            objectProvinsi.getString(\"value\")\n                            list.add(objectProvinsi.getString(\"value\"))\n                        }\n                    } else {\n                        Toast.makeText(applicationContext, obj.getString(\"message\"), Toast.LENGTH_LONG).show()\n                    }\n                    autoCompleteAdapter.setData(list)\n                    autoCompleteAdapter.notifyDataSetChanged()\n                } catch (e: JSONException) {\n                    e.printStackTrace()\n                }\n            },\n            Response.ErrorListener { volleyError -&gt;\n                Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show()\n            })\n        val requestQueue = Volley.newRequestQueue(this)\n        requestQueue.add&lt;String&gt;(stringRequest)\n    }\n</code></pre>\n\n<p>I already implemented methods from AdapterView.OnItemSelectedListener. The logged from the app is always</p>\n\n<pre><code>E/UncaughtException: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter constraint\n        at com.example.bookingonline.model.AutoCompleteAdapter$getFilter$1.publishResults(AutoCompleteAdapter.kt)\n        at android.widget.Filter$ResultsHandler.handleMessage(Filter.java:282)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:145)\n        at android.app.ActivityThread.main(ActivityThread.java:5942)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1400)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1195)\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.bookingonline, PID: 16925\n    java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter constraint\n        at com.example.bookingonline.model.AutoCompleteAdapter$getFilter$1.publishResults(AutoCompleteAdapter.kt)\n        at android.widget.Filter$ResultsHandler.handleMessage(Filter.java:282)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:145)\n        at android.app.ActivityThread.main(ActivityThread.java:5942)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1400)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1195)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 461, "user_id": 6952395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zgZSs.jpg?s=128&g=1", "display_name": "dipakbari4", "link": "https://stackoverflow.com/users/6952395/dipakbari4"}, "edited": false, "score": 1, "creation_date": 1559006706, "post_id": 56333976, "comment_id": 99274295, "body": "I think you need to clear the collection within the adapter and add them again. After that use notifyDataSetChanged to taking effect. It may be helpful."}], "answers": [{"tags": [], "owner": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "is_accepted": true, "score": 0, "last_activity_date": 1559007113, "creation_date": 1559007113, "answer_id": 56334022, "question_id": 56333976, "link": "https://stackoverflow.com/questions/56333976/recyclers-content-doubles-every-time-the-fragment-is-added-to-the-fragment-mana/56334022#56334022", "title": "Recycler&#39;s content doubles every time the fragment is added to the fragment manager even though it should be cleared", "body": "<p>You need to clear your list before every time you want to load fresh new content.</p>\n\n<p>or it will just append a new set of data at the end of your list.</p>\n\n<pre><code>           imageObjectPath.addListenerForSingleValueEvent(object : ValueEventListener {\n                override fun onCancelled(p0: DatabaseError) {\n\n                }\n\n                override fun onDataChange(p0: DataSnapshot) {\n                    val imageObject = p0.getValue(Images::class.java)\n                    if (imageObject != null) {\n---- The point is to clear the collection\n---- before you tell your adapter to update the list, like this\n                      ++imageList.clear()\n                        imageList.add(FeedImage(imageObject, 1))\n                      +-galleryRollAdapter.clear()// may not need, try it\n                      +-galleryRollAdapter.notifyDataSetChanged()\n                    }\n                }\n            })\n</code></pre>\n"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 56334022, "answer_count": 1, "score": 0, "last_activity_date": 1559007113, "creation_date": 1559006383, "last_edit_date": 1559006715, "question_id": 56333976, "link": "https://stackoverflow.com/questions/56333976/recyclers-content-doubles-every-time-the-fragment-is-added-to-the-fragment-mana", "title": "Recycler&#39;s content doubles every time the fragment is added to the fragment manager even though it should be cleared", "body": "<p>I have an fragment with photos recycler (user profile with a gallery).</p>\n\n<p>I populate the recycler in <code>onViewCreated</code>, and my function calls <code>adapter.clear()</code> before listening to the data. I try to clear twice actually.\nI add the fragment to the supportFragmentManager, and when the back button is clicked I pop the back stack.</p>\n\n<p>The problem is, that even though I pop the stack (which as to my understanding, should remove the fragment and completely destroy it), when I re-add the fragment and go to the profile of the same user, the gallery now has double the photos. If I do it again, it will be triple.</p>\n\n<p>This is my function:</p>\n\n<pre><code>private fun listenToImagesFromRoll() {\n\n    galleryRollAdapter.clear()\n\n    val ref = FirebaseDatabase.getInstance().getReference(\"/users/${userProfile.uid}/images\")\n\n    ref.addListenerForSingleValueEvent(object : ValueEventListener {\n        override fun onDataChange(p0: DataSnapshot) {\n\n            for (imagePath in p0.children){\n\n\n                val imageObjectPath =\n                    FirebaseDatabase.getInstance().getReference(\"/images/${imagePath.key}/body\")\n\n                imageObjectPath.addListenerForSingleValueEvent(object : ValueEventListener {\n                    override fun onCancelled(p0: DatabaseError) {\n\n                    }\n\n                    override fun onDataChange(p0: DataSnapshot) {\n                        val imageObject = p0.getValue(Images::class.java)\n                        if (imageObject != null) {\n\n                            imageList.add(FeedImage(imageObject, 1))\n                            galleryRollAdapter.clear()\n                            galleryRollAdapter.addAll(imageList.reversed())\n                        }\n                    }\n                })\n\n            }\n\n        }\n\n\n        override fun onCancelled(p0: DatabaseError) {\n        }\n    })\n}\n</code></pre>\n\n<p>I call this inside in the in create method, inside an <code>Observer</code> that holds the user which profile I open.</p>\n\n<p>This is how I add the fragment:</p>\n\n<pre><code>activity.subFm.beginTransaction()\n.add(R.id.feed_subcontents_frame_container, activity.profileSecondRandomUserFragment, \"profileSecondRandomUserFragment\").addToBackStack(\"profileSecondRandomUserFragment\")\n.commit()\n</code></pre>\n\n<p>And this is how I pop it:</p>\n\n<pre><code>subFm.popBackStack(\"profileSecondRandomUserFragment\", FragmentManager.POP_BACK_STACK_INCLUSIVE)\n</code></pre>\n\n<p>Can't understand why it keeps re adding the photos.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 4910, "user_id": 4896784, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7D2Mdu6NAdk/AAAAAAAAAAI/AAAAAAAAAQg/OgEfBdpBgXg/photo.jpg?sz=128", "display_name": "ismail alaoui", "link": "https://stackoverflow.com/users/4896784/ismail-alaoui"}, "edited": false, "score": 0, "creation_date": 1559005606, "post_id": 56333806, "comment_id": 99274131, "body": "is the log  showing the value ?"}, {"owner": {"reputation": 1037, "user_id": 2759955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QJMHl.jpg?s=128&g=1", "display_name": "Ebad Saghar", "link": "https://stackoverflow.com/users/2759955/ebad-saghar"}, "reply_to_user": {"reputation": 4910, "user_id": 4896784, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7D2Mdu6NAdk/AAAAAAAAAAI/AAAAAAAAAQg/OgEfBdpBgXg/photo.jpg?sz=128", "display_name": "ismail alaoui", "link": "https://stackoverflow.com/users/4896784/ismail-alaoui"}, "edited": false, "score": 0, "creation_date": 1559109887, "post_id": 56333806, "comment_id": 99312280, "body": "@ismailalaoui, the log is showing the correct value."}], "answers": [{"comments": [{"owner": {"reputation": 1037, "user_id": 2759955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QJMHl.jpg?s=128&g=1", "display_name": "Ebad Saghar", "link": "https://stackoverflow.com/users/2759955/ebad-saghar"}, "edited": false, "score": 0, "creation_date": 1559341123, "post_id": 56333935, "comment_id": 99402893, "body": "I figured it out. Although setting the text must be done on the UIThread, so having a loop will block the UIThread. I used a Handler and Runnable instead of a loop and now it works. Thanks."}, {"owner": {"reputation": 330, "user_id": 10464730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372ab593c20cd9e57b93ab82975c936e?s=128&d=identicon&r=PG&f=1", "display_name": "rminaj", "link": "https://stackoverflow.com/users/10464730/rminaj"}, "reply_to_user": {"reputation": 1037, "user_id": 2759955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QJMHl.jpg?s=128&g=1", "display_name": "Ebad Saghar", "link": "https://stackoverflow.com/users/2759955/ebad-saghar"}, "edited": false, "score": 0, "creation_date": 1559367833, "post_id": 56333935, "comment_id": 99406350, "body": "AFAIK, <code>loop</code> doesn&#39;t block the UI <code>Thread</code>. I think <code>.post</code> is what you&#39;ll need inside <code>loop</code>s. Well, <code>Handler</code> and <code>Runnable</code> would work as well. Glad to have been of some help."}], "tags": [], "owner": {"reputation": 330, "user_id": 10464730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372ab593c20cd9e57b93ab82975c936e?s=128&d=identicon&r=PG&f=1", "display_name": "rminaj", "link": "https://stackoverflow.com/users/10464730/rminaj"}, "is_accepted": false, "score": 2, "last_activity_date": 1559005930, "creation_date": 1559005930, "answer_id": 56333935, "question_id": 56333806, "link": "https://stackoverflow.com/questions/56333806/how-to-update-android-textview-in-an-on-going-loop/56333935#56333935", "title": "How to update Android Textview in an on going loop?", "body": "<p>What happened is because you are calling the UI updating inside a different <code>Thread</code> other than the main/UI <code>Thread</code>, your code can't reach the <code>View</code>s on the UI <code>Thread</code>. </p>\n\n<p>Call the code that updates something on the UI inside a <code>runOnUiThread</code> like <a href=\"https://stackoverflow.com/a/11140429/10464730\">https://stackoverflow.com/a/11140429/10464730</a> (just copy the <code>runOnUiThread</code> part). </p>\n\n<p>Or do a <code>.post</code> on the <code>TextView</code> like this <a href=\"https://stackoverflow.com/a/9884344/10464730\">https://stackoverflow.com/a/9884344/10464730</a>. Most of the time I use <code>runOnUiThread</code> first. If doesn't work, that's when I use <code>.post</code>. </p>\n\n<p>Sorry the code I posted are <code>Java</code> but I think you could look up the equivalent of it on <code>Kotlin</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 474, "user_id": 9308638, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e80WYf3TzyI/AAAAAAAAAAI/AAAAAAAAAoc/3pyXFYKfRvU/photo.jpg?sz=128", "display_name": "Shiva Snape", "link": "https://stackoverflow.com/users/9308638/shiva-snape"}, "is_accepted": false, "score": 0, "last_activity_date": 1559016493, "creation_date": 1559016493, "answer_id": 56334878, "question_id": 56333806, "link": "https://stackoverflow.com/questions/56333806/how-to-update-android-textview-in-an-on-going-loop/56334878#56334878", "title": "How to update Android Textview in an on going loop?", "body": "<p>View's can only be updated in UI Thread. try something like this : </p>\n\n<pre><code>while (!Thread.currentThread().isInterrupted) {\n\n runOnUiThread(\n            object : Runnable {\n                override fun run() {\n                    //do your view update work here\n                      setString(i.toString())\n                }\n            }\n    )\n    i++\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 4258895, "user_type": "registered", "profile_image": "https://graph.facebook.com/1143936846/picture?type=large", "display_name": "Fausto Checa", "link": "https://stackoverflow.com/users/4258895/fausto-checa"}, "is_accepted": false, "score": 0, "last_activity_date": 1586031032, "creation_date": 1586031032, "answer_id": 61034149, "question_id": 56333806, "link": "https://stackoverflow.com/questions/56333806/how-to-update-android-textview-in-an-on-going-loop/61034149#61034149", "title": "How to update Android Textview in an on going loop?", "body": "<p>I also like this coroutines approach to update a textview, please drop it in your onCreate, also include your gradle implementation for coroutines:</p>\n\n<pre><code>    GlobalScope.launch(Dispatchers.Main) {\n        var i = 0\n        while (i &lt; 100) {\n            textViewId.setText(\"#$i\")\n            i++\n            delay(300)\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 1037, "user_id": 2759955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QJMHl.jpg?s=128&g=1", "display_name": "Ebad Saghar", "link": "https://stackoverflow.com/users/2759955/ebad-saghar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 663, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1586031032, "creation_date": 1559004389, "question_id": 56333806, "link": "https://stackoverflow.com/questions/56333806/how-to-update-android-textview-in-an-on-going-loop", "title": "How to update Android Textview in an on going loop?", "body": "<p>I'm using Kotlin. I have a loop that will continue going. But for some reason, I am unable to update the text view. Here is my simplified example.</p>\n\n<pre><code>var i = 0\nwhile (!Thread.currentThread().isInterrupted) {\n    setString(i.toString())\n    i++\n    Log.i(\"Loging value of i === \", i.toString())\n}\n\n\nprivate fun setString (string : String) {\n    tempText.text = string\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "realm"], "comments": [{"owner": {"reputation": 1505, "user_id": 8903497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebdf3cc66b70436f31fd867ec4c1e7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Shaw", "link": "https://stackoverflow.com/users/8903497/chris-shaw"}, "edited": false, "score": 0, "creation_date": 1559001867, "post_id": 56333360, "comment_id": 99273518, "body": "What exactly is the error when you run? There should be a warning that <code>uid</code> is not used... because you&#39;re not using it. Should not produce an error though. You&#39;d get an error if <code>uid</code> was a primary key as it would default to zero, but this isn&#39;t the case according to the code. I assume you are calling <code>realm.beginTransaction()</code> prior to the <code>createObject...</code> code?"}, {"owner": {"reputation": 2407, "user_id": 542285, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6bab902fc73b103648924f4b2bdc4e90?s=128&d=identicon&r=PG", "display_name": "james", "link": "https://stackoverflow.com/users/542285/james"}, "reply_to_user": {"reputation": 1505, "user_id": 8903497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebdf3cc66b70436f31fd867ec4c1e7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Shaw", "link": "https://stackoverflow.com/users/8903497/chris-shaw"}, "edited": false, "score": 0, "creation_date": 1559086223, "post_id": 56333360, "comment_id": 99307460, "body": "Yes I am calling realm.beginTransaction. When I run the app it crashes and gives the following error in logcat. java.lang.NullPointerException: Attempt to invoke virtual method &#39;void io.realm.ProxyState.setConstructionFinished()&#39; on a null object reference I have added the error to original question to make it more readable."}, {"owner": {"reputation": 1505, "user_id": 8903497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebdf3cc66b70436f31fd867ec4c1e7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Shaw", "link": "https://stackoverflow.com/users/8903497/chris-shaw"}, "edited": false, "score": 0, "creation_date": 1559088843, "post_id": 56333360, "comment_id": 99307890, "body": "Can you add: (a) a bit more of the stack trace from the exception (at least the next line, will give info on the realm object being created - possibly <code>Settings</code> but possibly not), and (b) add the &#39;apply plugin&#39; section of your build.gradle with the realm and kotlin-kapt dependencies."}, {"owner": {"reputation": 2407, "user_id": 542285, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6bab902fc73b103648924f4b2bdc4e90?s=128&d=identicon&r=PG", "display_name": "james", "link": "https://stackoverflow.com/users/542285/james"}, "reply_to_user": {"reputation": 1505, "user_id": 8903497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebdf3cc66b70436f31fd867ec4c1e7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Shaw", "link": "https://stackoverflow.com/users/8903497/chris-shaw"}, "edited": false, "score": 0, "creation_date": 1559093352, "post_id": 56333360, "comment_id": 99308652, "body": "added the info you requested"}, {"owner": {"reputation": 1505, "user_id": 8903497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebdf3cc66b70436f31fd867ec4c1e7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Shaw", "link": "https://stackoverflow.com/users/8903497/chris-shaw"}, "edited": false, "score": 0, "creation_date": 1559093823, "post_id": 56333360, "comment_id": 99308738, "body": "Ok. Remembered this had been seen before - not as recent as I remember, can track on <a href=\"https://github.com/realm/realm-java/issues/4579\" rel=\"nofollow noreferrer\">this issue</a>. Looks like only solutions were clean/rebuild, make sure Instant Run is turned off, and ensure realm-android was applied after kotlin-kapt. Try all that."}, {"owner": {"reputation": 2407, "user_id": 542285, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6bab902fc73b103648924f4b2bdc4e90?s=128&d=identicon&r=PG", "display_name": "james", "link": "https://stackoverflow.com/users/542285/james"}, "reply_to_user": {"reputation": 1505, "user_id": 8903497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebdf3cc66b70436f31fd867ec4c1e7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Shaw", "link": "https://stackoverflow.com/users/8903497/chris-shaw"}, "edited": false, "score": 0, "creation_date": 1559097129, "post_id": 56333360, "comment_id": 99309343, "body": "I just opened my project did not clean or anything and it is now working. What a terrible bug it seems hard to reproduce consistently. Thanks for the help."}, {"owner": {"reputation": 1505, "user_id": 8903497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebdf3cc66b70436f31fd867ec4c1e7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Shaw", "link": "https://stackoverflow.com/users/8903497/chris-shaw"}, "edited": false, "score": 0, "creation_date": 1559097487, "post_id": 56333360, "comment_id": 99309400, "body": "Closing/reopening the project may have stopped Instant Run from being used - check it&#39;s disabled. Maybe they never actually fixed the problem, all I know is what is on the issue."}], "owner": {"reputation": 2407, "user_id": 542285, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6bab902fc73b103648924f4b2bdc4e90?s=128&d=identicon&r=PG", "display_name": "james", "link": "https://stackoverflow.com/users/542285/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559093320, "creation_date": 1558999182, "last_edit_date": 1559093320, "question_id": 56333360, "link": "https://stackoverflow.com/questions/56333360/kotlin-realm-property-is-unsed", "title": "Kotlin Realm property is unsed", "body": "<p>I updated android studio and realm and spent alot of time going through errors to get it working. The below code worked fine before I updated everything. </p>\n\n<p>Now it says Property <code>uid</code> is never used, and I get an error when trying to run the program. The app crashes when I run it and the error is:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void io.realm.ProxyState.setConstructionFinished()' on a null object reference\n        at io.realm.com_myApp_SettingsRealmProxy.&lt;init&gt;(com_myApp_SettingsRealmProxy.java:82)\n        at io.realm.DefaultRealmModuleMediator.newInstance(DefaultRealmModuleMediator.java:69)\n        at io.realm.Realm.createObjectInternal(Realm.java:1001)\n        at io.realm.Realm.createObject(Realm.java:977)\n\nimport io.realm.RealmObject\nopen class Settings() : RealmObject() {\n    var name: String = \"\"\n    var uid: Int = 0\n    var settings = \"\"\n}\n</code></pre>\n\n<p>I am using it as follows.</p>\n\n<pre><code>val statsRealm = realm.createObject(Settings::class.java)\n   statsRealm.name = \"MathTrainerStats\"\n   statsRealm.settings = generateJSONString()\n   realm.commitTransaction()\n</code></pre>\n\n<p>This causes the error mentioned above. However if I add <code>uid</code> the error goes away.</p>\n\n<pre><code>val statsRealm = realm.createObject(Settings::class.java)\n       statsRealm.uid = 22\n       statsRealm.name = \"MathTrainerStats\"\n       statsRealm.settings = generateJSONString()\n       realm.commitTransaction()\n</code></pre>\n\n<p>I dont understand what the error is for since the code was working before I updated android studio gradle, kotlin etc....</p>\n\n<p>Here is the apply plugin section</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\napply plugin: 'realm-android'\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n   .....\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 101, "user_id": 3056698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013cf15cf3ec559654f100d4429bdebd?s=128&d=identicon&r=PG&f=1", "display_name": "Codedman", "link": "https://stackoverflow.com/users/3056698/codedman"}, "edited": false, "score": 0, "creation_date": 1559228088, "post_id": 56333111, "comment_id": 99361608, "body": "I finally got solution to this...  I added  <code>apply plugin: &#39;kotlin-kapt&#39;</code>  <code>kapt{         generateStubs = true     }</code> inside android{} And I changed <code>annotationProcessor &quot;com.google.dagger:dagger-compiler:2.21&quot;</code> to <code>kapt &quot;com.google.dagger:dagger-compiler:2.21&quot;</code>   inside gradle.build (app)   I rebuild and boom, it worked without error"}], "owner": {"reputation": 101, "user_id": 3056698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013cf15cf3ec559654f100d4429bdebd?s=128&d=identicon&r=PG&f=1", "display_name": "Codedman", "link": "https://stackoverflow.com/users/3056698/codedman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 377, "favorite_count": 0, "closed_date": 1559037529, "answer_count": 0, "score": 1, "last_activity_date": 1558996666, "creation_date": 1558996666, "question_id": 56333111, "link": "https://stackoverflow.com/questions/56333111/gradle-dsl-method-not-found-destination-after-upgrading-to-gradle-5-1-1", "closed_reason": "Duplicate", "title": "Gradle DSL method not found: &#39;destination()&#39; after upgrading to gradle 5.1.1", "body": "<p>I cloned an android project from git and I was prompted by Android Studio to update my gradle version to 5.1.1, after that I got this error Gradle DSL method not found: 'destination()'. Please I need help.</p>\n\n<p>I tried to return the version to gradle 4.10.1 and it builds succesfully but throws error at runtime DaggerApplicationComponet. I think Dagger auto generated file is failing at runtime so I'm hooked.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 3, "creation_date": 1558991552, "post_id": 56332469, "comment_id": 99271574, "body": "<i>when the value is appended which effectively changing the value of the collection</i> but it does not change the value of <code>listOfInt</code>. The value of the list <b>does not change</b> when you append items to it. It is the same list with new items."}, {"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 3, "creation_date": 1558991660, "post_id": 56332469, "comment_id": 99271610, "body": "The <code>set</code> is only called when you reassign the variable <code>listOfInt</code> inside the <code>Example1</code> object, not when you call a method on that variable such as <code>add()</code>."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1558992666, "post_id": 56332469, "comment_id": 99271843, "body": "If you don&#39;t want anyone to change the content of the list referenced by <code>x</code> without using the setter, then don&#39;t use a mutable list. Use an immutable one."}], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 1436679, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/kuVKe.jpg?s=128&g=1", "display_name": "Purfakt", "link": "https://stackoverflow.com/users/1436679/purfakt"}, "is_accepted": false, "score": 0, "last_activity_date": 1560247551, "creation_date": 1560247551, "answer_id": 56541305, "question_id": 56332469, "link": "https://stackoverflow.com/questions/56332469/list-setter-is-not-being-called-when-appending-a-new-value/56541305#56541305", "title": "List setter is not being called when appending a new value", "body": "<p>The use of <code>set(value) { }</code> is the equivalent of implementing a setter on that variable.\nThe code you provided could be interpreted as:</p>\n\n<pre><code>class Example1 {\n\n    var listOfInt: MutableList&lt;Int&gt; = mutableListOf()\n\n    fun set(value: MutableList&lt;Int&gt;) { \n        println(\"setting it here to value =&gt; $value\")\n        this.listOfInt = value \n    }\n}\n</code></pre>\n\n<p>When you call <code>x.listOfInt.add(455)</code> you are calling the <code>add</code> method on the list defined in the <code>x</code> instance of <code>Example1</code>.</p>\n\n<p>Try calling <code>x.listOfInt = mutableListOf(1,2,3)</code> and you'll see your setter will correctly get called.</p>\n\n<p>To implement what you want to do, there is several ways:</p>\n\n<ol>\n<li>Implement a new version of <code>MutableList&lt;&gt;</code> which overrides the method <code>add</code> (this <em>might</em> be overkill).</li>\n<li><p>Create a <code>add</code> method in your <code>Example1</code> class which will look like this:</p>\n\n<pre><code>fun add(value: Int) {\n    println(\"adding value to list =&gt; $value\")\n    listOfInt.add(value)\n}\n</code></pre></li>\n</ol>\n\n<p>You main will now look like this:</p>\n\n<pre><code>fun main() {\n    val x = Example1()\n    x.listOfInt = mutableListOf(3,4)\n    x.add(455)\n}\n</code></pre>\n"}], "owner": {"reputation": 1421, "user_id": 485679, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/2D4OT.jpg?s=128&g=1", "display_name": "Mickey Mouse", "link": "https://stackoverflow.com/users/485679/mickey-mouse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560247551, "creation_date": 1558991266, "last_edit_date": 1558992623, "question_id": 56332469, "link": "https://stackoverflow.com/questions/56332469/list-setter-is-not-being-called-when-appending-a-new-value", "title": "List setter is not being called when appending a new value", "body": "<p>I had a workaround solution for this problem which involves reassigning the variable to itself; however, this doesn't seem efficient. </p>\n\n<pre><code>fun main() {\n\n    val x = Example1()\n    x.listOfInt = mutableListOf(3,4)\n    x.listOfInt.add(455)\n}\n\nclass Example1 {\n\n  var listOfInt: MutableList&lt;Int&gt; = mutableListOf()\n    set(value) { \n        println(\"setting it here to value =&gt; $value\")\n         field = value \n    }\n}\n// It only prints:\n// setting it here to value =&gt; [3, 4]\n\n</code></pre>\n\n<p>As you can see, the setter doesn't get triggered when the value is appended which effectively changing the value of the collection. Is there a better way to do this?</p>\n\n<p>Here's a link to the code on Kotlin's <a href=\"https://pl.kotl.in/u8t84g0Fp\" rel=\"nofollow noreferrer\">playground</a> </p>\n\n<p>The reason this is odd to me because of the below similar code in Swift which does the expected when the Array is appended:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>import Foundation\n\nclass Example1 {\n  var fieldProperty: Int = 0\n\n  var listOfInt: [Int] = [] {\n    didSet { \n        print(\"setting it here to value =&gt; \\(listOfInt) vs oldValue: \\(oldValue)\")      \n    }\n  }\n}\n\nlet x = Example1()\nx.listOfInt = [3,4]\nx.listOfInt.append(455)\n\n// this prints:\n// setting it here to value =&gt; [3, 4] vs oldValue: []\n// setting it here to value =&gt; [3, 4, 455] vs oldValue: [3, 4]\n</code></pre>\n\n<p>I know I might be comparing apples to oranges, but I'm just curious if there's a better solution. </p>\n"}, {"tags": ["kotlin", "functional-programming"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1558990724, "post_id": 56332356, "comment_id": 99271366, "body": "<code>&lt;Double, Double, Double&gt;</code> is just supplying the generic types <code>T</code>, <code>U</code> and <code>V</code>. The calls are because it&#39;s higher-order - it&#39;s a function that takes functions and returns functions."}, {"owner": {"reputation": 655, "user_id": 1847212, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/be54c3fedef3089fb59835811951d4a7?s=128&d=identicon&r=PG", "display_name": "Igor Kustov", "link": "https://stackoverflow.com/users/1847212/igor-kustov"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1558990830, "post_id": 56332356, "comment_id": 99271396, "body": "I don&#39;t get why we need to do the second call in order to provide 2 arguments. I"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1558991057, "post_id": 56332356, "comment_id": 99271445, "body": "Which do you think is the second call? You call <code>higherCompose</code> once with no arguments to get the function it creates, then you call <i>that</i> function with a lambda, returning another function, then you call <i>that</i> function with another lambda, returning the final function, that you can call with a number."}, {"owner": {"reputation": 655, "user_id": 1847212, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/be54c3fedef3089fb59835811951d4a7?s=128&d=identicon&r=PG", "display_name": "Igor Kustov", "link": "https://stackoverflow.com/users/1847212/igor-kustov"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1558991347, "post_id": 56332356, "comment_id": 99271509, "body": "I think it the answer that I&#39;ve been looking for. I was struggling with proper reading the expression."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1558991621, "post_id": 56332356, "comment_id": 99271601, "body": "Maybe <code>val cos = higherCompose&lt;Double, Double, Double&gt;()({ x: Double -&gt; Math.sin(x) })({ x : Double -&gt; Math.PI&#47;2  - x })</code> would be clearer; the convention of moving the lambda out of the parentheses if it&#39;s the last argument is perhaps unhelpful here."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1559041780, "last_edit_date": 1559041780, "creation_date": 1558991694, "answer_id": 56332522, "question_id": 56332356, "link": "https://stackoverflow.com/questions/56332356/higher-order-function-composition-notation/56332522#56332522", "title": "Higher-order function composition notation", "body": "<p>Here's how this notation is parsed and what the function calls are:</p>\n\n<pre><code>higherCompose&lt;Double, Double, Double&gt;()() { x -&gt; Math.sin(x) }() { x -&gt; Math.PI/2  - x }\n|                                    ^| ^ ^^^^^^^^^^^^^^^^^^^| ^ ^^^^^^^^^^^^^^^^^^^^^^|\n|                                    1| 2          3         | 4           5           | \n|_____________________________________|______________________|_________________________|\n| first call                          | second call          | third call              |\n</code></pre>\n\n<ol>\n<li><p>This is the initial no-argument call to <code>higherCompose</code> that returns a value of exactly the <code>higherCompose</code>'s return type, <code>((U) -&gt; V) -&gt; ((T) -&gt; U) -&gt; (T) -&gt; V</code>, with the three type parameters substituted with <code>Double</code>.</p></li>\n<li><p>These parentheses are simply used to resolve parsing ambiguity. Kotlin allows calling a function with a lambda in either of the forms: <code>f({ })</code>, <code>f() { }</code>, <code>f { }</code>. If you remove the parentheses, the lambda marked as (3) will be treated as an argument to the first call. One way to solve this ambiguity is to add <code>()</code> to tell the compiler that it's the (1)'s return value that is invoked and not <code>higherCompose</code></p></li>\n<li><p>Therefore, this lambda is passed as the <code>((U) -&gt; V)</code> argument to the <code>higherCompose</code>'s result type, producing <code>((T) -&gt; U) -&gt; (T) -&gt; V</code>.</p></li>\n<li><p>These parentheses are added because Kotlin does not allow calling a return value of a call with a lambda outside parentheses (<code>f() { }</code>) directly with another lambda: <code>f() { } { }</code> is prohibited, but adding another pair of parentheses between the lambdas solves this: <code>f() { }() { }</code> means an invocation of the <code>f</code>'s result with a lambda.</p></li>\n<li><p>This lambda is passed as the <code>((T) -&gt; U)</code> argument to the (3)'s result type, and the result of this call is <code>(T) -&gt; V</code></p></li>\n</ol>\n\n<p>You can get a much less cryptic version of this expression if you pass all the lambdas inside parentheses (the <code>f({ })</code> form instead of <code>f() { }</code> or <code>f { }</code>):</p>\n\n<pre><code>higherCompose&lt;Double, Double, Double&gt;()({ x -&gt; Math.sin(x) })({ x -&gt; Math.PI / 2 - x })\n</code></pre>\n\n<p>See: <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions\" rel=\"nofollow noreferrer\">Lambda Expressions and Anonymous Functions</a> in the language reference.</p>\n"}, {"tags": [], "owner": {"reputation": 1731, "user_id": 780350, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afaa8b1a1e2fe1b53755564e5fa34568?s=128&d=identicon&r=PG", "display_name": "melston", "link": "https://stackoverflow.com/users/780350/melston"}, "is_accepted": false, "score": 0, "last_activity_date": 1559037782, "creation_date": 1559037782, "answer_id": 56339706, "question_id": 56332356, "link": "https://stackoverflow.com/questions/56332356/higher-order-function-composition-notation/56339706#56339706", "title": "Higher-order function composition notation", "body": "<p>Another way to handle function composition in Kotlin is to use an extension function on the function type.  Try something like this:</p>\n\n<pre><code>infix fun &lt;P1, R1, R2&gt; ((P1) -&gt; R1).then(f: ((R1)-&gt; R2)) : (P1) -&gt; R2 {\n    return { p1 : P1 -&gt; f(this(p1)) }\n}\n</code></pre>\n\n<p>This allows you to use a simpler construct in your code:</p>\n\n<pre><code>function1 then function1\n</code></pre>\n\n<p>Using your example above you can do:</p>\n\n<pre><code>infix fun &lt;P1, R1, R2&gt; ((P1) -&gt; R1).then(f: ((R1)-&gt; R2)) : (P1) -&gt; R2 {\n    return { p1 : P1 -&gt; f(this(p1)) }\n}\n\nfun main() {\n    val c = { x: Double -&gt; Math.sin(x)} then { x : Double -&gt; Math.PI/2  - x }\n    println(c(2.4))\n}\n</code></pre>\n\n<p>which prints <code>0.8953331462437456</code>.</p>\n\n<p>Check out my <a href=\"https://softwaredesignmuse.wordpress.com/2019/04/15/functional-fizzbuzz/\" rel=\"nofollow noreferrer\">Functional FizzBuzz post</a> which uses this approach.</p>\n"}], "owner": {"reputation": 655, "user_id": 1847212, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/be54c3fedef3089fb59835811951d4a7?s=128&d=identicon&r=PG", "display_name": "Igor Kustov", "link": "https://stackoverflow.com/users/1847212/igor-kustov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 56332522, "answer_count": 2, "score": 1, "last_activity_date": 1559041780, "creation_date": 1558990501, "question_id": 56332356, "link": "https://stackoverflow.com/questions/56332356/higher-order-function-composition-notation", "title": "Higher-order function composition notation", "body": "<p>I'm working with this higher-order compose function: </p>\n\n<pre><code>fun &lt;T, U, V&gt; higherCompose(): ((U) -&gt; V) -&gt; ((T) -&gt; U) -&gt; (T) -&gt; V =\n    { f -&gt;\n        { g -&gt;\n            { x -&gt; f(g(x)) }\n        }\n    } \n</code></pre>\n\n<p>And the application: </p>\n\n<pre><code> val cos = higherCompose&lt;Double, Double, Double&gt;()()\n{ x: Double -&gt; Math.sin(x)}() { x : Double -&gt; Math.PI/2  - x }\n</code></pre>\n\n<p>I do understand what we're trying to achieve here mathematically. But what I'm struggling with is notation and the programming meaning: </p>\n\n<p>What exactly is </p>\n\n<pre><code>higherCompose&lt;Double&gt;()\n</code></pre>\n\n<p>And why do we apply so strangely values to it: </p>\n\n<pre><code>1. () () \n2. { function1} { function 1} \n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3587, "user_id": 4915707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ubv91.jpg?s=128&g=1", "display_name": "Alexander Ushakov", "link": "https://stackoverflow.com/users/4915707/alexander-ushakov"}, "edited": false, "score": 0, "creation_date": 1558985293, "post_id": 56331486, "comment_id": 99269888, "body": "Show your code with problem part, please"}], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 1241482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85504059a6ae426a42adf16dda005ea1?s=128&d=identicon&r=PG", "display_name": "misterbee180", "link": "https://stackoverflow.com/users/1241482/misterbee180"}, "edited": false, "score": 0, "creation_date": 1558986760, "post_id": 56331753, "comment_id": 99270257, "body": "I did the exact same tutorial a few weeks ago and wondered the same thing. No note about it or anything."}, {"owner": {"reputation": 112, "user_id": 1241482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85504059a6ae426a42adf16dda005ea1?s=128&d=identicon&r=PG", "display_name": "misterbee180", "link": "https://stackoverflow.com/users/1241482/misterbee180"}, "edited": false, "score": 0, "creation_date": 1558991700, "post_id": 56331753, "comment_id": 99271618, "body": "Actaully if this doesn&#39;t work, try this:apply plugin: &#39;com.android.application&#39;  apply plugin: &#39;kotlin-android&#39;  apply plugin: &#39;kotlin-android-extensions&#39;  apply plugin: &#39;kotlin-kapt&#39;"}], "tags": [], "owner": {"reputation": 112, "user_id": 1241482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85504059a6ae426a42adf16dda005ea1?s=128&d=identicon&r=PG", "display_name": "misterbee180", "link": "https://stackoverflow.com/users/1241482/misterbee180"}, "is_accepted": false, "score": 0, "last_activity_date": 1558988220, "last_edit_date": 1558988220, "creation_date": 1558986721, "answer_id": 56331753, "question_id": 56331486, "link": "https://stackoverflow.com/questions/56331486/cant-figure-out-data-binding-in-kotlin/56331753#56331753", "title": "Can&#39;t figure out data binding in Kotlin", "body": "<p>I actually know the answer to this. </p>\n\n<p>You need to update your dependencies. You can check out the github project they recommend you download and you'll notice your dependencies are not appropriate for databinding. Can't remember exactly what it is but you need to either update a version on one of the dependencies or you need to add an entirely new dependency in. </p>\n"}, {"tags": [], "owner": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1558991609, "creation_date": 1558991609, "answer_id": 56332512, "question_id": 56331486, "link": "https://stackoverflow.com/questions/56331486/cant-figure-out-data-binding-in-kotlin/56332512#56332512", "title": "Can&#39;t figure out data binding in Kotlin", "body": "<p>You have to use kapt if you're using it with kotlin:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\nandroid {\n   ...\n   dataBinding {\n       enabled true\n   }\n}\n\n\ndependencies {\n   ...\n   kapt 'com.android.databinding:compiler:3.1.3'\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11563975, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cBEL1ctnTpo/AAAAAAAAAAI/AAAAAAAAAXs/q-pDb_zgd7Y/photo.jpg?sz=128", "display_name": "Ianis Teja", "link": "https://stackoverflow.com/users/11563975/ianis-teja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1558991609, "creation_date": 1558985071, "last_edit_date": 1558985810, "question_id": 56331486, "link": "https://stackoverflow.com/questions/56331486/cant-figure-out-data-binding-in-kotlin", "title": "Can&#39;t figure out data binding in Kotlin", "body": "<p>Recently I started developing apps in Android studio via Kotlin, because Java seemed a bit harder. I built my first app and now, for the second, I wanna try out data binding. I follow a Udacity tutorial and there it says that I have to include <code>dataBinding{ enabled=True }</code> which I did.</p>\n\n<p>The problem is that when I try to import <code>com.android.AppName.databinding.ActivityMainBinding</code>\nthe name is red, even though I declared the variable below, in the <code>onCreate</code>\nEverything related to data binding is red pretty much. </p>\n\n<p>I can't figure out what's the problem. Any suggestion would help. Thanks!</p>\n"}, {"tags": ["android", "android-layout", "android-fragments", "kotlin", "opengl-es"], "comments": [{"owner": {"reputation": 3161, "user_id": 1513187, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3237cddbf003e1af3b51900c02ec005b?s=128&d=identicon&r=PG", "display_name": "Nikola Lukic", "link": "https://stackoverflow.com/users/1513187/nikola-lukic"}, "edited": false, "score": 0, "creation_date": 1559035761, "post_id": 56331310, "comment_id": 99283564, "body": "Are you sure for this line :  MySurfaceView(this.activity). , maybe new  MySurfaceView(this.activity) ."}, {"owner": {"reputation": 1137, "user_id": 2696695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e02253aec3ee891b2375c4f4763013a9?s=128&d=identicon&r=PG&f=1", "display_name": "nshct", "link": "https://stackoverflow.com/users/2696695/nshct"}, "reply_to_user": {"reputation": 3161, "user_id": 1513187, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3237cddbf003e1af3b51900c02ec005b?s=128&d=identicon&r=PG", "display_name": "Nikola Lukic", "link": "https://stackoverflow.com/users/1513187/nikola-lukic"}, "edited": false, "score": 0, "creation_date": 1559036379, "post_id": 56331310, "comment_id": 99283926, "body": "@nikola lukic this is kotlin, it has no <code>new</code>. The code is working besides the duplicate fragment problem."}, {"owner": {"reputation": 2840, "user_id": 2565340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14fe70113561f37381444c923d22051d?s=128&d=identicon&r=PG", "display_name": "RussHWolf", "link": "https://stackoverflow.com/users/2565340/russhwolf"}, "edited": false, "score": 0, "creation_date": 1559275980, "post_id": 56331310, "comment_id": 99376647, "body": "What&#39;s in your layout? One possible cause is if your layout file already includes an <code>OpenGLFragment</code> and then you add a second one in <code>onCreate()</code>"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1559283567, "post_id": 56331310, "comment_id": 99378421, "body": "Is it becuase you add <code>Fragment</code> to backstack <i>(May be possible cause)</i>? Just try replacing <code>Fragment</code> in <code>FragmentManager</code> instead."}, {"owner": {"reputation": 1137, "user_id": 2696695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e02253aec3ee891b2375c4f4763013a9?s=128&d=identicon&r=PG&f=1", "display_name": "nshct", "link": "https://stackoverflow.com/users/2696695/nshct"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1559418466, "post_id": 56331310, "comment_id": 99416985, "body": "@JeelVankhede How does this even work? Currently, every time I switch to another app and go back to this app, it is restarted. That is fine, but can I have fragments run in the back somehow?"}, {"owner": {"reputation": 382, "user_id": 7586266, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210980278437315/picture?type=large", "display_name": "Hossam Eldeen Onsy", "link": "https://stackoverflow.com/users/7586266/hossam-eldeen-onsy"}, "edited": false, "score": 0, "creation_date": 1559427003, "post_id": 56331310, "comment_id": 99418650, "body": "hey @nshct i would like you to replace instead of add (that&#39;s to make sure you only have one fragment no matter what if that&#39;s the only fragment you are using in MainActivity) and let me know what behavior happens afterwards"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1559460290, "post_id": 56331310, "comment_id": 99422601, "body": "If you don&#39;t add your <code>Fragment</code> to backstack may be it won&#39;t get two instances at a time and so that your <code>SurfaceView</code> won&#39;t get initialise twice."}, {"owner": {"reputation": 2512, "user_id": 10635880, "user_type": "registered", "profile_image": "https://graph.facebook.com/961118704088155/picture?type=large", "display_name": "Vedprakash Wagh", "link": "https://stackoverflow.com/users/10635880/vedprakash-wagh"}, "edited": false, "score": 0, "creation_date": 1559763409, "post_id": 56331310, "comment_id": 99525292, "body": "Try removing .addToBackStack(null), you&#39;re adding your Fragment to backstack, maybe that is causing the problem."}], "answers": [{"tags": [], "owner": {"reputation": 2859, "user_id": 3078121, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zmsbB.jpg?s=128&g=1", "display_name": "Kostas Drak", "link": "https://stackoverflow.com/users/3078121/kostas-drak"}, "is_accepted": true, "score": 3, "last_activity_date": 1559809849, "creation_date": 1559809849, "answer_id": 56473678, "question_id": 56331310, "link": "https://stackoverflow.com/questions/56331310/android-glsurfaceview-in-fragment-is-running-twice-at-the-same-time/56473678#56473678", "title": "Android - GlSurfaceView in Fragment is running twice at the same time", "body": "<p>It seems that you are trying to add fragment instead of replacing the container.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>supportFragmentManager.beginTransaction()\n            .replace(R.id.main_container, GLFragment())\n            .addToBackStack(null)\n            .commit()\n</code></pre>\n\n<p>Fragment(using your code does not compile with <code>this.activity</code>)</p>\n\n<pre><code>class GLFragment : Fragment() {\n\n    private lateinit var glView: GLSurfaceView\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        this.glView = MySurfaceView(requireActivity())\n        return this.glView\n    }\n}\n</code></pre>\n\n<p>GLView:</p>\n\n<pre><code>class MySurfaceView constructor(context: Context) : GLSurfaceView(context) {\n    init {\n        setEGLContextClientVersion(2) // I have used 2 because running on emulator\n        preserveEGLContextOnPause = true\n        setRenderer(ClearRenderer())\n    }\n}\n\ninternal class ClearRenderer : GLSurfaceView.Renderer {\n    override fun onSurfaceCreated(gl: GL10?, config: EGLConfig?) {\n    }\n\n    override fun onSurfaceChanged(gl: GL10, w: Int, h: Int) {\n        gl.glViewport(0, 0, w, h)\n    }\n\n    override fun onDrawFrame(gl: GL10) {\n        gl.glClear(GL10.GL_COLOR_BUFFER_BIT or GL10.GL_DEPTH_BUFFER_BIT)\n    }\n}\n</code></pre>\n\n<p>and here is profiler screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/j9UeX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j9UeX.png\" alt=\"enter image description here\"></a></p>\n\n<p>So to recapitulate replace the <code>add</code> with <code>replace</code>, replace the <code>this.activity</code> with <code>requireActivity()</code> the <code>requireActivity()</code> also does not return null and it is guaranteed. </p>\n\n<p>Hope it helps!!!</p>\n"}, {"comments": [{"owner": {"reputation": 1137, "user_id": 2696695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e02253aec3ee891b2375c4f4763013a9?s=128&d=identicon&r=PG&f=1", "display_name": "nshct", "link": "https://stackoverflow.com/users/2696695/nshct"}, "edited": false, "score": 0, "creation_date": 1559836440, "post_id": 56473801, "comment_id": 99552707, "body": "Thank you. I guess me not using onPause etc is the reason the OpenGL state is always recreated when I switch the app to background and then back? How do I stop that from happening?"}], "tags": [], "owner": {"reputation": 478, "user_id": 1117509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a768c98e53a97a3260763de7a5d01883?s=128&d=identicon&r=PG", "display_name": "kroegerama", "link": "https://stackoverflow.com/users/1117509/kroegerama"}, "is_accepted": false, "score": 2, "last_activity_date": 1559810250, "creation_date": 1559810250, "answer_id": 56473801, "question_id": 56331310, "link": "https://stackoverflow.com/questions/56331310/android-glsurfaceview-in-fragment-is-running-twice-at-the-same-time/56473801#56473801", "title": "Android - GlSurfaceView in Fragment is running twice at the same time", "body": "<p>There are a few things that you should check:</p>\n\n<ul>\n<li>You are only allowed to call <code>setRenderer</code> once in the lifecycle of the GLSurfaceView. See <a href=\"https://developer.android.com/reference/android/opengl/GLSurfaceView.html#setRenderer(android.opengl.GLSurfaceView.Renderer)\" rel=\"nofollow noreferrer\">GLSurfaceView.setRenderer</a>.</li>\n<li>Are you calling <code>glView.onPause()</code> and <code>glView.onResume()</code> to stop rendering, if the view is in background? See <a href=\"https://developer.android.com/reference/android/opengl/GLSurfaceView#activity-life-cycle\" rel=\"nofollow noreferrer\">GLSurfaceView life-cycle</a>.</li>\n<li>You should use <code>transaction.replace()</code> instead of <code>transaction.add()</code>. You may end up having multiple <code>OpenGlFragments</code> active at the same time.</li>\n</ul>\n"}], "owner": {"reputation": 1137, "user_id": 2696695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e02253aec3ee891b2375c4f4763013a9?s=128&d=identicon&r=PG&f=1", "display_name": "nshct", "link": "https://stackoverflow.com/users/2696695/nshct"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "accepted_answer_id": 56473678, "answer_count": 2, "score": 4, "last_activity_date": 1559810250, "creation_date": 1558984059, "question_id": 56331310, "link": "https://stackoverflow.com/questions/56331310/android-glsurfaceview-in-fragment-is-running-twice-at-the-same-time", "title": "Android - GlSurfaceView in Fragment is running twice at the same time", "body": "<p>I have an android app that uses a <code>GlSurfaceView</code> to render a 3D fullscreen scene inside a fragment. I have noticed in the profiler, that the <code>GlSurfaceView</code> is actually running <strong>twice</strong> (in two threads), hogging resources and tanking the FPS. I have confirmed the issue by rendering the same OpenGL scene (using the same <code>Renderer</code> implementation) to a live wallpaper and profiling it, which only runs it once.</p>\n\n<p>Am I doing anything wrong here?</p>\n\n<hr>\n\n<p>The code is as follows:</p>\n\n<p><strong>MySurfaceView</strong></p>\n\n<pre><code>class MySurfaceView(ctx: Context): GLSurfaceView(ctx)\n{\n    init\n    {\n        setEGLContextClientVersion(3)\n        preserveEGLContextOnPause = true\n        setRenderer( /* instantiating the renderer class */ )\n    }\n}\n</code></pre>\n\n<p><strong>OpenGLFragment</strong></p>\n\n<pre><code>class OpenGLFragment: Fragment()\n{\n    private lateinit var glView: GLSurfaceView\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View?\n    {\n        this.glView = MySurfaceView(this.activity)\n        return this.glView\n    }\n}\n</code></pre>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>class MainActivity : FragmentActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val fm = supportFragmentManager\n        for (i in 0 until fm.getBackStackEntryCount()) {\n            fm.popBackStack()\n        }\n\n        supportFragmentManager.beginTransaction().add(R.id.main_container, OpenGLFragment())\n                    .addToBackStack(null).commit()\n    }\n\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 566, "user_id": 2933520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55kPc.png?s=128&g=1", "display_name": "reckter", "link": "https://stackoverflow.com/users/2933520/reckter"}, "is_accepted": false, "score": 1, "last_activity_date": 1558987298, "creation_date": 1558987298, "answer_id": 56331862, "question_id": 56331224, "link": "https://stackoverflow.com/questions/56331224/how-to-find-what-exception-some-library-code-might-throw/56331862#56331862", "title": "How to find what exception some library code might throw", "body": "<p>Normaly such exceptions should be declared in the documentation of the library that you are using (either the JavaDoc, KDoc, or a website). There is no structured way to get all exceptions a function can throw, other than decompiling the code and step through it yourself. (by using the build in decompiler, that jet brains ship in IntelliJ for example)</p>\n\n<p>You could also catch all exceptions, but I would always argue, that this is not a good decision in almost all cases.</p>\n"}, {"tags": [], "owner": {"reputation": 1250, "user_id": 7285198, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-Rn0bgZZ2I0Q/AAAAAAAAAAI/AAAAAAAAAI0/E1OYOkut95s/photo.jpg?sz=128", "display_name": "Nikita Ryanov", "link": "https://stackoverflow.com/users/7285198/nikita-ryanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1558988601, "creation_date": 1558988601, "answer_id": 56332074, "question_id": 56331224, "link": "https://stackoverflow.com/questions/56331224/how-to-find-what-exception-some-library-code-might-throw/56332074#56332074", "title": "How to find what exception some library code might throw", "body": "<p>I don't exactly know the right approach in kotlin, but you may use the following idea from scala:\n<code>Try</code> - </p>\n\n<pre><code>try Success(r) catch {\n  case NonFatal(e) =&gt; Failure(e)\n}\n</code></pre>\n\n<p>If exception is not fatal:</p>\n\n<pre><code> case _: VirtualMachineError | _: ThreadDeath | _: InterruptedException | _: LinkageError | _: ControlThrowable =&gt; false\n case _ =&gt; true\n</code></pre>\n\n<p>then just return <code>Failure(e)</code> otherwise throw it. \nHow can you use it? At least you will not end up like this:</p>\n\n<pre><code>try {\n...\n} catch {\n    case _ : Throwable =&gt; ... // catch all exceptions\n}\n</code></pre>\n\n<p>Yes, you still don't know which exceptions code may throw, but using this approach you can control the general execution flow.</p>\n\n<p>But of course, it will be much better if docs list exceptions which may be thrown.</p>\n"}], "owner": {"reputation": 12866, "user_id": 425183, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e0c5c530fea29645f2ed15380c66afe8?s=128&d=identicon&r=PG", "display_name": "Ognyan", "link": "https://stackoverflow.com/users/425183/ognyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1558988601, "creation_date": 1558983558, "question_id": 56331224, "link": "https://stackoverflow.com/questions/56331224/how-to-find-what-exception-some-library-code-might-throw", "title": "How to find what exception some library code might throw", "body": "<p>I am new to Kotlin and I have the following problem: In my project I am using a small library (JAR, no sources). In it there are few custom exception classes defined which inherit <code>Exception</code> class. Some methods throw these exceptions.</p>\n\n<p>In my code I bump into the problem that I don't know what exception the library code might throw so I can catch it and thus sometimes the exception goes trough the roof.</p>\n\n<p>What it is the usual way to handle such situations in Kotlin?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1377, "user_id": 5349947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xe0hT.png?s=128&g=1", "display_name": "notTdar", "link": "https://stackoverflow.com/users/5349947/nottdar"}, "edited": false, "score": 0, "creation_date": 1558979530, "post_id": 56330451, "comment_id": 99268083, "body": "use the relative layout as parent and assign         android:layout_alignParentBottom=&quot;true&quot;  true to navigation view"}, {"owner": {"reputation": 163, "user_id": 11047983, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Gyignm57Gu0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNrQzE_Z_OKHtnVAQvqLWYxhzfuNg/mo/photo.jpg?sz=128", "display_name": "viktor", "link": "https://stackoverflow.com/users/11047983/viktor"}, "reply_to_user": {"reputation": 1377, "user_id": 5349947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xe0hT.png?s=128&g=1", "display_name": "notTdar", "link": "https://stackoverflow.com/users/5349947/nottdar"}, "edited": false, "score": 0, "creation_date": 1558979925, "post_id": 56330451, "comment_id": 99268213, "body": "But then my RecyclerView is wrong again.."}, {"owner": {"reputation": 1377, "user_id": 5349947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xe0hT.png?s=128&g=1", "display_name": "notTdar", "link": "https://stackoverflow.com/users/5349947/nottdar"}, "edited": false, "score": 0, "creation_date": 1558980094, "post_id": 56330451, "comment_id": 99268273, "body": "modified your layout, check the below answer, if it solves, then mark as resolved."}], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "is_accepted": false, "score": 0, "last_activity_date": 1558979464, "creation_date": 1558979464, "answer_id": 56330484, "question_id": 56330451, "link": "https://stackoverflow.com/questions/56330451/android-linearlayout-and-recyclerview-bottomnavigation-alignment/56330484#56330484", "title": "Android LinearLayout and RecyclerView BottomNavigation Alignment", "body": "<p>Not sure but try adding this:</p>\n\n<p>android:layout_gravity=\"bottom\"</p>\n"}, {"tags": [], "owner": {"reputation": 1377, "user_id": 5349947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xe0hT.png?s=128&g=1", "display_name": "notTdar", "link": "https://stackoverflow.com/users/5349947/nottdar"}, "is_accepted": true, "score": 2, "last_activity_date": 1558980070, "creation_date": 1558980070, "answer_id": 56330602, "question_id": 56330451, "link": "https://stackoverflow.com/questions/56330451/android-linearlayout-and-recyclerview-bottomnavigation-alignment/56330602#56330602", "title": "Android LinearLayout and RecyclerView BottomNavigation Alignment", "body": "<p>Okay, here is your layout, it should work as you expected</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:id=\"@+id/appbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\"\n            app:popupTheme=\"@style/AppTheme.PopupOverlay\" /&gt;\n\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/recycler_category\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_above=\"@+id/nav_view\"\n        android:layout_below=\"@+id/appbar\"\n        android:layout_margin=\"8dp\"\n        android:orientation=\"vertical\" /&gt;\n\n    &lt;android.support.design.widget.BottomNavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:background=\"?android:attr/windowBackground\"\n        app:menu=\"@menu/menu_navigation\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 0, "last_activity_date": 1558980232, "creation_date": 1558980232, "answer_id": 56330627, "question_id": 56330451, "link": "https://stackoverflow.com/questions/56330451/android-linearlayout-and-recyclerview-bottomnavigation-alignment/56330627#56330627", "title": "Android LinearLayout and RecyclerView BottomNavigation Alignment", "body": "<p>If you don't want to change to <code>RelativeLayout</code>, set this attribute to the <code>RecyclerView</code>:</p>\n\n<pre><code>android:layout_weight=\"1\"\n</code></pre>\n\n<p>This way the <code>RecyclerView</code> will take all the available space pushing the <code>BottomNavigationView</code> to the bottom.<br/> </p>\n"}, {"tags": [], "owner": {"reputation": 745, "user_id": 5293867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZYLGf.png?s=128&g=1", "display_name": "Koushik Mondal", "link": "https://stackoverflow.com/users/5293867/koushik-mondal"}, "is_accepted": false, "score": 0, "last_activity_date": 1558980582, "creation_date": 1558980582, "answer_id": 56330678, "question_id": 56330451, "link": "https://stackoverflow.com/questions/56330451/android-linearlayout-and-recyclerview-bottomnavigation-alignment/56330678#56330678", "title": "Android LinearLayout and RecyclerView BottomNavigation Alignment", "body": "<p>You Can't adjust your <code>BottomNavigationView</code> properly inside <code>LinearLayout</code>. If there are so many items in your <code>RecyclerView</code> then <code>BottomNavigationView</code> will be hidden at the bottom. So you must use <code>RelativeLayout</code> to align it at the bottom and other layouts above of <code>BottomNavigationView</code>. Please check the bellow modified layout.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:id=\"@+id/appbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\"\n            app:popupTheme=\"@style/AppTheme.PopupOverlay\" /&gt;\n\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/recycler_category\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_above=\"@+id/nav_view\"\n        android:layout_below=\"@+id/appbar\"\n        android:layout_margin=\"8dp\"\n        android:orientation=\"vertical\" /&gt;\n\n    &lt;android.support.design.widget.BottomNavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:background=\"?android:attr/windowBackground\"\n        app:menu=\"@menu/menu_navigation\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 11047983, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Gyignm57Gu0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNrQzE_Z_OKHtnVAQvqLWYxhzfuNg/mo/photo.jpg?sz=128", "display_name": "viktor", "link": "https://stackoverflow.com/users/11047983/viktor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 56330602, "answer_count": 4, "score": 0, "last_activity_date": 1558980582, "creation_date": 1558979177, "last_edit_date": 1558979407, "question_id": 56330451, "link": "https://stackoverflow.com/questions/56330451/android-linearlayout-and-recyclerview-bottomnavigation-alignment", "title": "Android LinearLayout and RecyclerView BottomNavigation Alignment", "body": "<p>so I can't figure out how to align my bottom navigation in a LinearLayout under a RecyclerView. The items are RecyclerView:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".CategoryActivity\"&gt;\n\n   &lt;android.support.design.widget.AppBarLayout\n           android:theme=\"@style/AppTheme.AppBarOverlay\"\n           android:layout_width=\"match_parent\"\n           android:layout_height=\"wrap_content\"&gt;\n\n       &lt;android.support.v7.widget.Toolbar\n               android:id=\"@+id/toolbar\"\n               android:background=\"?attr/colorPrimary\"\n               app:popupTheme=\"@style/AppTheme.PopupOverlay\"\n               android:layout_width=\"match_parent\"\n               android:layout_height=\"?attr/actionBarSize\"&gt;\n       &lt;/android.support.v7.widget.Toolbar&gt;\n\n\n   &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/recycler_category\"\n            android:layout_margin=\"8dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n    &lt;/android.support.v7.widget.RecyclerView&gt;\n\n    &lt;android.support.design.widget.BottomNavigationView\n            android:id=\"@+id/nav_view\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"?android:attr/windowBackground\"\n            android:layout_alignParentBottom=\"true\"\n            app:menu=\"@menu/bottom_nav_menu\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2sHwF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2sHwF.png\" alt=\"enter image description here\"></a></p>\n\n<p>The navigation should be always at the bottom.</p>\n"}, {"tags": ["android", "kotlin", "android-databinding", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1559029199, "post_id": 56330272, "comment_id": 99280160, "body": "Isn&#39;t <code>Main</code> already the default dispatcher of <code>viewModelScope</code>?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1559042388, "post_id": 56330272, "comment_id": 99287247, "body": "@MarkoTopolnik: Probably, but I prefer to spell it out in educational materials like this."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 4, "last_activity_date": 1558978171, "creation_date": 1558978171, "answer_id": 56330272, "question_id": 56330194, "link": "https://stackoverflow.com/questions/56330194/binding-to-a-suspended-function-in-android/56330272#56330272", "title": "binding to a suspended function in android", "body": "<p>You cannot data bind to a <code>suspend</code> function, and IMHO a viewmodel should not be exposing a <code>suspend</code> function in the first place. I recommend:</p>\n\n<p>Step #1: Remove the <code>suspend</code> keyword from <code>register()</code></p>\n\n<p>Step #2: Rewrite <code>register()</code> to run your code in a suitable coroutine scope, so any <code>suspend</code> functions that it calls are handled properly:</p>\n\n<pre><code>fun register() {\n    viewModelScope.launch(Dispatchers.Main) {\n        if (validateFields()) {\n            val result = SourceplusplusApiService.invoke().registerUser(username.value!!, email.value!!, password.value!!).await()\n            isRegistrationCompleted.value = getResultValue(result)\n        }\n    }\n}\n</code></pre>\n\n<p>Here, I am using the <code>viewModelScope</code> option provided by <code>androidx.lifecycle:lifecycle-viewmodel-ktx</code> version <code>2.1.0-alpha01</code> and newer. Alternatively, manage your own coroutine scope. <code>Dispatchers.Main</code> will ensure that any results of that work is available to you on the Android main application thread.</p>\n\n<p>Now, your data binding expression can refer to <code>register()</code>, while you still have a coroutine scope for calling downstream <code>suspend</code> functions.</p>\n"}], "owner": {"reputation": 869, "user_id": 6623703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snmWE.jpg?s=128&g=1", "display_name": "houman.sanati", "link": "https://stackoverflow.com/users/6623703/houman-sanati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1779, "favorite_count": 1, "accepted_answer_id": 56330272, "answer_count": 1, "score": 3, "last_activity_date": 1558987330, "creation_date": 1558977741, "last_edit_date": 1558987330, "question_id": 56330194, "link": "https://stackoverflow.com/questions/56330194/binding-to-a-suspended-function-in-android", "title": "binding to a suspended function in android", "body": "<p>I want to bind a button click to a suspended function inside viewmodel.</p>\n\n<p>this is my code:</p>\n\n<p><strong>RegistrationActivityViewModel.kt</strong></p>\n\n<pre><code>    suspend fun register() {\n        if (validateFields()) {\n            val result = SourceplusplusApiService.invoke().registerUser(username.value!!, email.value!!, password.value!!).await()\n            isRegistrationCompleted.value = getResultValue(result)\n        }\n    }\n</code></pre>\n\n<p><strong>activity_registration.xml</strong></p>\n\n<pre><code>&lt;Button\n          android:text=\"Register\"\n          android:onClick=\"@{()-&gt;viewmodel.register()}\"\n          android:textSize=\"16sp\" /&gt;\n</code></pre>\n\n<p>i get a databinding error that says <code>ActivityRegistrationBindingImpl</code> not generated. after searching a lot i realized that when i remove the <code>suspend</code> keyword and comment the code inside, it works fine but it has to be a suspended function.</p>\n\n<p>Does anyone know how to fix it?</p>\n"}, {"tags": ["android", "kotlin", "gson", "android-viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 3757664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a6bf601db07f982e2a6ef7fa3817e7?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/3757664/niklas"}, "is_accepted": true, "score": 1, "last_activity_date": 1558978696, "creation_date": 1558978696, "answer_id": 56330368, "question_id": 56329995, "link": "https://stackoverflow.com/questions/56329995/proper-way-for-json-parsing-for-mutable-structure-with-gson/56330368#56330368", "title": "Proper way for json parsing for mutable structure with gson", "body": "<p>Since your data is very generic, it can't really be parsed in a type-safe way. Gson can't infer types based on pure text (in your specific case there is nothing telling Gson that your data is a ResponseError).</p>\n\n<p>I would consider a general wrapper class like yours, and then using a <a href=\"https://static.javadoc.io/com.google.code.gson/gson/2.8.0/com/google/gson/GsonBuilder.html#registerTypeAdapter-java.lang.reflect.Type-java.lang.Object-\" rel=\"nofollow noreferrer\">GSON TypeAdapter</a> to parse the response to your general wrapper.</p>\n\n<p>You have to instantiate GSON with a Builder to define a custom TypeAdapter.</p>\n\n<p><code>registerTypeAdapter(Type type, Object typeAdapter)</code>\n<em>Configures Gson for custom serialization or deserialization.</em></p>\n\n<p>Your wrapper:</p>\n\n<pre><code>public class Response&lt;T&gt; {\n    T data;\n    String message;\n\n    public Response(T data, String message) {\n        this.data = data;\n        this.message = message;\n    }\n\n    boolean hasData() {\n        return data != null;\n    }\n\n    T getData() {\n        return data;\n    }\n\n    String getMessage() {\n        return message;\n    }\n\n}\n</code></pre>\n\n<p>Initialization:</p>\n\n<pre><code>GsonBuilder builder = new GsonBuilder();\nb.registerTypeAdapter(Response.class, new JsonDeserializer&lt;Response&gt;() {\n    @Override\n    public Response deserialize(JsonElement arg0, Type arg1,\n        JsonDeserializationContext arg2) throws JsonParseException {\n    // ... create Response object here\n    return response;\n}\n</code></pre>\n"}], "owner": {"reputation": 735, "user_id": 5446219, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-KylGHRNqLEA/AAAAAAAAAAI/AAAAAAAAAGk/etLCJuSpme0/photo.jpg?sz=128", "display_name": "Autumn_Cat", "link": "https://stackoverflow.com/users/5446219/autumn-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 56330368, "answer_count": 1, "score": 0, "last_activity_date": 1559224320, "creation_date": 1558976598, "last_edit_date": 1559224320, "question_id": 56329995, "link": "https://stackoverflow.com/questions/56329995/proper-way-for-json-parsing-for-mutable-structure-with-gson", "title": "Proper way for json parsing for mutable structure with gson", "body": "<p>I'm getting response from server based on such structure:</p>\n\n<pre><code>{\n    \"success\":true,\n    \"data\":{\"can be some kind of data, array or error message\"}\n}\n</code></pre>\n\n<p>What is the right way to map properly data attribute in such situations? \nMy attempts was to use Any type and cast after to specified type:</p>\n\n<pre><code>data class GeneralResponseModel(\n    val success: Boolean,\n    val data: Any\n)\n</code></pre>\n\n<p><strong>Provider</strong></p>\n\n<pre><code>//\nval response = gson.fromJson(it[0].toString(), GeneralResponseModel::class.java)\n//\n</code></pre>\n\n<p><strong>ViewModel</strong></p>\n\n<pre><code>////////\nif (res.success) {\n    isLoading.postValue(false)\n    ///////\n} else {\n    val result = res.data as ResponseError\n    errorMessage.postValue(ErrorWrapper(ErrorType.REQUEST_ERROR,result.detail,result.title))\n    isLoading.postValue(false)\n}\n///////////\n</code></pre>\n\n<p>And I got </p>\n\n<blockquote>\n  <p>io.reactivex.exceptions.OnErrorNotImplementedException:\n  com.google.gson.internal.LinkedTreeMap cannot be cast to\n  com.myapp.model.response.ResponseError</p>\n</blockquote>\n\n<p>Another attempt was in using empty interface which was implemented by all possible response types. In this situation I got </p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unable to invoke no-args constructor for\n  interface com.myapp.model.response.Response.\n  Registering an InstanceCreator with Gson for this type may fix this\n  problem.</p>\n</blockquote>\n\n<p>I'm not sure about proper way to handle such trivial case. Any links, code examples or help appreciated. Thanks in advance.</p>\n\n<p><strong>Update</strong> </p>\n\n<p>Thanks to Niklas I reconsidered gson into such structure: </p>\n\n<pre><code> lateinit var gson: Gson\n        when (methodName) {\n            RequestList.LOGIN.methodName -&gt; {\n                gson =\n                    GsonBuilder().registerTypeAdapter(\n                        GeneralResponseModel::class.java,\n                        object : JsonDeserializer&lt;GeneralResponseModel&gt; {\n                            override fun deserialize(\n                                json: JsonElement?,\n                                typeOfT: Type?,\n                                context: JsonDeserializationContext?\n                            ): GeneralResponseModel {\n                                val gsonInner = Gson()\n                                val jsonObject: JsonObject = json!!.asJsonObject\n                                lateinit var generalResponseModel: GeneralResponseModel\n                                generalResponseModel = if (!jsonObject.get(\"success\").asBoolean) {\n\n                                    GeneralResponseModel(\n                                        false,\n                                        gsonInner.fromJson(jsonObject.get(\"data\"), ResponseError::class.java)\n                                    )\n                                } else {\n\n                                    GeneralResponseModel(\n                                        true,\n                                        gsonInner.fromJson(jsonObject.get(\"data\"), DriverData::class.java)\n                                    )\n                                }\n                                return generalResponseModel\n                            }\n\n                        }).create()\n            }\n            RequestList.GET_JOBS.methodName -&gt; {\n                gson = GsonBuilder().registerTypeAdapter(\n                    GeneralResponseModel::class.java,\n                    object : JsonDeserializer&lt;GeneralResponseModel&gt; {\n                        override fun deserialize(\n                            json: JsonElement?,\n                            typeOfT: Type?,\n                            context: JsonDeserializationContext?\n                        ): GeneralResponseModel {\n                            val gsonInner = Gson()\n                            val jsonObject: JsonObject = json!!.asJsonObject\n                            lateinit var generalResponseModel: GeneralResponseModel\n                            generalResponseModel = if (!jsonObject.get(\"success\").asBoolean) {\n\n                                GeneralResponseModel(\n                                    false,\n                                    gsonInner.fromJson(jsonObject.get(\"data\"), ResponseError::class.java)\n                                )\n                            } else {\n\n                                GeneralResponseModel(\n                                    true,\n                                    gsonInner.fromJson(jsonObject.get(\"data\"), Array&lt;JobResponse&gt;::class.java)\n                                )\n                            }\n                            return generalResponseModel\n                        }\n\n                    }).create()\n            }\n            else -&gt; gson = Gson()\n        }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "lambda", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 566, "user_id": 2933520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55kPc.png?s=128&g=1", "display_name": "reckter", "link": "https://stackoverflow.com/users/2933520/reckter"}, "is_accepted": false, "score": 3, "last_activity_date": 1558987586, "creation_date": 1558987586, "answer_id": 56331915, "question_id": 56329974, "link": "https://stackoverflow.com/questions/56329974/return-type-is-multipartbody-part-instead-of-multipartbody-part/56331915#56331915", "title": "Return type is () -&gt; MultipartBody.Part! instead of MultipartBody.Part", "body": "<p><code>() -&gt; MultipartBody.Part</code> describes a functional type.\nIt describes a function, that takes in no arguments and returns a <code>MultipartBody.Part</code>.\nSo the compiler is complaining, that you are returning a function, rather than the <code>MultipartBody.Part</code>, that it expects.</p>\n\n<p>My guess is, that <code>Single.just()</code> does not return <code>MultipartBody.Part</code> but rather a function returning that? I am not familiar with the RX framework, so I can not be to sure here. </p>\n"}, {"comments": [{"owner": {"reputation": 257, "user_id": 5198580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BNIVK.jpg?s=128&g=1", "display_name": "Rishabh Jain", "link": "https://stackoverflow.com/users/5198580/rishabh-jain"}, "edited": false, "score": 0, "creation_date": 1559043403, "post_id": 56339703, "comment_id": 99287768, "body": "The method bitmapToFile has to be called in the background and i was hoping to do the threading using RxAndroid schedulers. Is there a way I can do that and return Multipart."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 257, "user_id": 5198580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BNIVK.jpg?s=128&g=1", "display_name": "Rishabh Jain", "link": "https://stackoverflow.com/users/5198580/rishabh-jain"}, "edited": false, "score": 0, "creation_date": 1559046988, "post_id": 56339703, "comment_id": 99289827, "body": "You can use a combination of <code>map</code> and <code>subscribeOn</code>/<code>observeOn</code> to run the expensive tasks in a background thread and subscribe on another thread if needed"}], "tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": true, "score": 0, "last_activity_date": 1559037780, "creation_date": 1559037780, "answer_id": 56339703, "question_id": 56329974, "link": "https://stackoverflow.com/questions/56329974/return-type-is-multipartbody-part-instead-of-multipartbody-part/56339703#56339703", "title": "Return type is () -&gt; MultipartBody.Part! instead of MultipartBody.Part", "body": "<p>In addition to what @reckter said, which is correct, the return type is a lambda instead of a <code>MultipartBody.Part</code> object because of the way you're calling <code>Single.just</code>.</p>\n\n<p>More in detail, <code>Single.just</code> takes 1 argument of type <code>T</code> and returns a <code>Single&lt;T&gt;</code>, as described in the <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Single.html#just-T-\" rel=\"nofollow noreferrer\">javadoc</a>. In your code you're passing a lambda (i.e., something in the form of <code>{ ... }</code>) as argument, hence you'll get back a <code>Single&lt;lambda&gt;</code>. Note that you can omit the parentheses around the lambda because of <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#passing-a-lambda-to-the-last-parameter\" rel=\"nofollow noreferrer\">Kotlin syntax</a>. To solve the issue you can slightly change your code:</p>\n\n<pre><code>val file = bitmapToFile(context, fileName, image)\n// create RequestBody instance from file\nval requestFile = RequestBody.create(\n    MediaType.parse(\"multipart/form-data\")\n    , file\n)\n\nval mySingle = Single.just(MultipartBody.Part.createFormData(\"picture\", file.name, requestFile))\n</code></pre>\n"}], "owner": {"reputation": 257, "user_id": 5198580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BNIVK.jpg?s=128&g=1", "display_name": "Rishabh Jain", "link": "https://stackoverflow.com/users/5198580/rishabh-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 56339703, "answer_count": 2, "score": 1, "last_activity_date": 1559037780, "creation_date": 1558976495, "last_edit_date": 1558976956, "question_id": 56329974, "link": "https://stackoverflow.com/questions/56329974/return-type-is-multipartbody-part-instead-of-multipartbody-part", "title": "Return type is () -&gt; MultipartBody.Part! instead of MultipartBody.Part", "body": "<p>I am relatively new to lambda expressions and would love it if somebody could explain why the return type is different from I am expecting. What is <code>() -&gt; MultipartBody.Part!</code> anyways?</p>\n\n<pre><code>Single.just{\n    val file = bitmapToFile(context, fileName, image)\n    // create RequestBody instance from file\n    val requestFile = RequestBody.create(\n        MediaType.parse(\"multipart/form-data\")\n        , file\n    )\n\n    // MultipartBody.Part is used to send also the actual file name\n    return@just MultipartBody.Part.createFormData(\"picture\", file.name, requestFile)\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 705, "user_id": 7018008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJUdR.jpg?s=128&g=1", "display_name": "Dulanga", "link": "https://stackoverflow.com/users/7018008/dulanga"}, "edited": false, "score": 0, "creation_date": 1559017213, "post_id": 56329868, "comment_id": 99276031, "body": "did you try this with postman ? is it work in postman"}, {"owner": {"reputation": 89, "user_id": 9066619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0da26cb041b6df7c8d77f744f6ce83cb?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Rodriguez", "link": "https://stackoverflow.com/users/9066619/manuel-rodriguez"}, "reply_to_user": {"reputation": 705, "user_id": 7018008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJUdR.jpg?s=128&g=1", "display_name": "Dulanga", "link": "https://stackoverflow.com/users/7018008/dulanga"}, "edited": false, "score": 0, "creation_date": 1559026310, "post_id": 56329868, "comment_id": 99278753, "body": "@Dulanga I have tried but with same parameters. I guess I am missing any requirements in header or in the call. API ask for Authorization in header but I dont know how to add it."}, {"owner": {"reputation": 705, "user_id": 7018008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJUdR.jpg?s=128&g=1", "display_name": "Dulanga", "link": "https://stackoverflow.com/users/7018008/dulanga"}, "edited": false, "score": 0, "creation_date": 1559027181, "post_id": 56329868, "comment_id": 99279147, "body": "please check below my answer and when you call login request you will receive access token and pass it as Authorization  in this api"}], "answers": [{"tags": [], "owner": {"reputation": 705, "user_id": 7018008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJUdR.jpg?s=128&g=1", "display_name": "Dulanga", "link": "https://stackoverflow.com/users/7018008/dulanga"}, "is_accepted": false, "score": 0, "last_activity_date": 1559017157, "creation_date": 1559017157, "answer_id": 56334942, "question_id": 56329868, "link": "https://stackoverflow.com/questions/56329868/how-can-i-upload-a-picture-in-a-server-using-android-and-retrofit/56334942#56334942", "title": "How can I upload a picture in a server using Android and Retrofit?", "body": "<p>This error mean that you didn,t attached headers correctly as I think there should be a header like  access token. check if there is something like that  then implement your API like below.</p>\n\n<pre><code>@Multipart\n@POST(\"https://myweb.com/endpoint\")\nObservable&lt;DefaultResponse&gt; uploadUserImageRx(\n    @Header(\"Authorization\") String authorization,  \n    @Part MultipartBody.Part image\n); \n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 9066619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0da26cb041b6df7c8d77f744f6ce83cb?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Rodriguez", "link": "https://stackoverflow.com/users/9066619/manuel-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559017157, "creation_date": 1558975949, "question_id": 56329868, "link": "https://stackoverflow.com/questions/56329868/how-can-i-upload-a-picture-in-a-server-using-android-and-retrofit", "title": "How can I upload a picture in a server using Android and Retrofit?", "body": "<p>I am trying to upload a picture in a server with Retrofit but I get HTTP 400 error. I know that this error mean that the call has not been done correctly but I do dont know when I am doing wrong. I only need to upload a single image.</p>\n\n<p>I have tried adding headers multipart/form-data and also content-type: image/jpeg and also without but it keeps throwing 400 error.</p>\n\n<p>This code in the interface:</p>\n\n<pre><code>@Multipart\n@POST(\"https://myweb.com/endpoint\")\nObservable&lt;DefaultResponse&gt; uploadUserImageRx(\n    @Part MultipartBody.Part image\n);\n</code></pre>\n\n<p>And here the call:</p>\n\n<pre><code>var file = // initialized file here\n\nvar filePart = MultipartBody.Part.createFormData(\"file\",file.getName(),   RequestBody.create(MediaType.parse(\"image/jpeg\"), file))\n\nunsubscribeUploadPhoto()\nuploadPhotoSubscription = MyApiClient.getApi()\n    .uploadUserImageRx(filePart)\n    .subscribeOn(Schedulers.io())\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe(object : SubscriberAdapter&lt;DefaultResponse&gt;() \n        {\n          //Notify everything went well.\n        })\n</code></pre>\n\n<p>I expect the photo to be upload but i get this error instead.</p>\n\n<p>The requirements of the endpoint are:</p>\n\n<p>Authorization(header) as String</p>\n"}, {"tags": ["android", "gradle", "kotlin", "dagger-2", "android-databinding"], "comments": [{"owner": {"reputation": 313, "user_id": 2270026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7ed937ad599e401b59168ffa2d79f11?s=128&d=identicon&r=PG", "display_name": "Zbynek", "link": "https://stackoverflow.com/users/2270026/zbynek"}, "edited": false, "score": 1, "creation_date": 1559416464, "post_id": 56329694, "comment_id": 99416542, "body": "<a href=\"https://discuss.gradle.org/t/solved-gradle-5-3-error-android-task-kaptbetadebugkotlin-failed/31130\" rel=\"nofollow noreferrer\">discuss.gradle.org/t/&hellip;</a> mentions the exact same problem, suggesting to update the gradle android plugin version"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "reply_to_user": {"reputation": 313, "user_id": 2270026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7ed937ad599e401b59168ffa2d79f11?s=128&d=identicon&r=PG", "display_name": "Zbynek", "link": "https://stackoverflow.com/users/2270026/zbynek"}, "edited": false, "score": 0, "creation_date": 1559480027, "post_id": 56329694, "comment_id": 99426485, "body": "@Zbynek I don&#39;t think that error is related. When the compilation is successful that error is also shown a couple of times."}, {"owner": {"reputation": 313, "user_id": 2270026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7ed937ad599e401b59168ffa2d79f11?s=128&d=identicon&r=PG", "display_name": "Zbynek", "link": "https://stackoverflow.com/users/2270026/zbynek"}, "edited": false, "score": 0, "creation_date": 1559504528, "post_id": 56329694, "comment_id": 99432429, "body": "anyway, what version of Android gradle plugin are you using? Did you try updating to 3.3.2+?"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "reply_to_user": {"reputation": 313, "user_id": 2270026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7ed937ad599e401b59168ffa2d79f11?s=128&d=identicon&r=PG", "display_name": "Zbynek", "link": "https://stackoverflow.com/users/2270026/zbynek"}, "edited": false, "score": 0, "creation_date": 1559504910, "post_id": 56329694, "comment_id": 99432529, "body": "@Zbynek It is an old project, it is using Gradle 4.4, I don&#39;t remember the Android gradle plugin version. I will try your suggestion, however we fixed the problem, I will post an answer soon. Thanks for your assistance!"}], "answers": [{"tags": [], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "is_accepted": true, "score": 1, "last_activity_date": 1559721530, "creation_date": 1559721530, "answer_id": 56456359, "question_id": 56329694, "link": "https://stackoverflow.com/questions/56329694/symbolcompletionfailure-class-file-for-activitydeparturesbinding-not-found/56456359#56456359", "title": "Symbol$CompletionFailure: class file for ActivityDeparturesBinding not found", "body": "<p>We could bypass the compilation error in a couple of ways (there are probably more ways). The best way we came up with is converting the abstract function into an abstract lambda property.</p>\n\n<p>Parent class:</p>\n\n<pre><code>abstract class BaseVinPlateActivity&lt;T: BaseVinPlateViewModel, U: ViewDataBinding&gt; : CompoundsBaseActivity()  {\n\n    protected abstract val initializeDataBinding: U.() -&gt; Unit\n\n    // Rest of code\n}\n</code></pre>\n\n<p>Child class:</p>\n\n<pre><code>class DeparturesActivity : BaseVinPlateActivity&lt;DeparturesViewModel, ActivityDeparturesBinding&gt;() {\n\n    override val initializeDataBinding: ActivityDeparturesBinding.() -&gt; Unit = { viewmodel = this@DeparturesActivity.viewModel }\n\n    // Rest of code    \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 358, "user_id": 7031224, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vDyn5rxmmVA/AAAAAAAAAAI/AAAAAAAAACQ/GouFCxWO4aE/photo.jpg?sz=128", "display_name": "C&#233;sar Mu&#241;oz", "link": "https://stackoverflow.com/users/7031224/c%c3%a9sar-mu%c3%b1oz"}, "is_accepted": false, "score": 2, "last_activity_date": 1593096673, "creation_date": 1593096673, "answer_id": 62578194, "question_id": 56329694, "link": "https://stackoverflow.com/questions/56329694/symbolcompletionfailure-class-file-for-activitydeparturesbinding-not-found/62578194#62578194", "title": "Symbol$CompletionFailure: class file for ActivityDeparturesBinding not found", "body": "<p>I know it's late but I'd like to say that something similar happened to me, in my case I have a library module which was using a third party library, and then in my app module I'm using dagger for injecting dependencies, and I was getting this issue because, I believe dagger couldn't find this thrid party library's class because it wasn't directly implemented in the app's dependencies. So in my case what got it sorted was to change the way I was adding the third party library into my local library module in order to use <code>api</code> instead of <code>implementation</code>.</p>\n"}], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1402, "favorite_count": 0, "accepted_answer_id": 56456359, "answer_count": 2, "score": 3, "last_activity_date": 1593096673, "creation_date": 1558975036, "last_edit_date": 1559128861, "question_id": 56329694, "link": "https://stackoverflow.com/questions/56329694/symbolcompletionfailure-class-file-for-activitydeparturesbinding-not-found", "title": "Symbol$CompletionFailure: class file for ActivityDeparturesBinding not found", "body": "<p>I have a separate Android library in a separate project for an Android app. However I link the library directly (referencing the library module directly by path or the generated AAR) I get the following error:</p>\n\n<pre><code>A problem was found with the configuration of task ':app:kaptDevelopDebugKotlin'.\n&gt; Cannot write to file '/home/m0skit0/Repos/repo/app-android/app/build/intermediates/data-binding/develop/debug/bundle-bin' specified for property 'dataBindingArtifactOutputDir' as it is a directory.\n\ne: error: cannot access ActivityDeparturesBinding\n  class file for com.blablabla.databinding.ActivityDeparturesBinding not found\n  Consult the following stack trace for details.\n  com.sun.tools.javac.code.Symbol$CompletionFailure: class file for com.blablabla.databinding.ActivityDeparturesBinding not found\n\n* What went wrong:\nExecution failed for task ':app:kaptDevelopDebugKotlin'.\n</code></pre>\n\n<p>This shows just after the task <code>:app:transformDataBindingWithDataBindingMergeArtifactsForDevelopDebug</code></p>\n\n<p>However the class does exist, with full canonical name. It belongs to the the library and it is correctly auto generated (without any errors) by Android's Data Binding processor on both projects. The library compiles correctly on its own. There's no further stacktrace even if the compilation is run with <code>--stacktrace</code>.</p>\n\n<p>I have tried linking the library with compile, implementation and api, all with the same result. </p>\n\n<p>Gradle version is 4.4.</p>\n\n<hr>\n\n<p>UPDATE:</p>\n\n<p>Updating to Gradle 5 did not solve the problem. Renaming the XML did not solve the problem.</p>\n\n<p>I've also found that the error happens only when I reference the <code>ActivityDeparturesBinding</code> class in my code, even if the part where it is referenced is never actually called. Only importing it without referencing it does not cause the error.</p>\n\n<hr>\n\n<p>UPDATE2:</p>\n\n<p>This is the activity that uses the layout:</p>\n\n<pre><code>class DeparturesActivity : BaseVinPlateActivity&lt;DeparturesViewModel, ActivityDeparturesBinding&gt;() {\n\n    companion object {\n        fun getStartIntent(context: Context) = Intent(context, DeparturesActivity::class.java)\n    }\n\n    @Inject\n    override lateinit var viewModel: DeparturesViewModel\n\n    override val layout: Int = R.layout.activity_departures\n\n    override fun injectThis(component: ActivityComponent) {\n        component.inject(this)\n    }\n\n    override fun getToolbarTitleId(): Int = R.string.departures_title\n\n    override fun initializeDataBindings(dataBinding: ActivityDeparturesBinding) {\n        dataBinding.viewmodel = viewModel\n    }\n}\n\nabstract class BaseVinPlateActivity&lt;T: BaseVinPlateViewModel, U: ViewDataBinding&gt; : CompoundsBaseActivity()  {\n\n    protected abstract var viewModel: T\n    protected abstract val layout: Int\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == BARCODE_RESULT_CODE_ACTIVITY &amp;&amp; resultCode == Activity.RESULT_OK) {\n            val barcodeResult = data?.getStringExtra(BARCODE_RESULT_ACTIVITY)\n            viewModel.setBarcodeResult(barcodeResult)\n        }\n    }\n\n    override fun initializeView() {\n        super.initializeView()\n        val dataBinding = inflateDataBinding&lt;U&gt;(layout)\n        initializeDataBindings(dataBinding)\n        with (viewModel) {\n            setBindValidator(Validator(dataBinding))\n            loadData()\n        }\n    }\n\n    protected abstract fun initializeDataBindings(dataBinding: U)\n}\n</code></pre>\n\n<p>If I remove the <code>initializeDataBindings()</code> function, the error is gone. Note that commenting only the body of the function is not enough, I had to remove the whole function.</p>\n\n<p>This smells like a compiler/tools bug.</p>\n"}, {"tags": ["inheritance", "kotlin"], "comments": [{"owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "edited": false, "score": 0, "creation_date": 1558976178, "post_id": 56329653, "comment_id": 99266990, "body": "are you sure <code>userModified</code> is an instance of UserFiltered? could you please edit your question with the code of the creation of <code>userModified</code>"}, {"owner": {"reputation": 405, "user_id": 2989387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ac800c1daa4597cec025b5270595b81?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/2989387/david"}, "reply_to_user": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "edited": false, "score": 0, "creation_date": 1558976538, "post_id": 56329653, "comment_id": 99267098, "body": "<code>userModified</code> is an instance of <code>User</code>, but when I want to cast it to <code>UserFiltered</code>, I got the error. I thought Kotlin were doing this authomatically, but I found the solution. I&#39;ll post it in a minutes"}], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 2933520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55kPc.png?s=128&g=1", "display_name": "reckter", "link": "https://stackoverflow.com/users/2933520/reckter"}, "edited": false, "score": 2, "creation_date": 1558987717, "post_id": 56330069, "comment_id": 99270556, "body": "So essentially, you created a &quot;copy constructor&quot; that takes in the base user class and creates a <code>UserFiltered</code> instance. Your old code did not work, because the <code>userModified</code> is only an instance of the base class, but not the <code>UserFiltered</code> class, so it could not be cast to it, as the compiler has no way of validating, that they will always share the same members."}], "tags": [], "owner": {"reputation": 405, "user_id": 2989387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ac800c1daa4597cec025b5270595b81?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/2989387/david"}, "is_accepted": true, "score": 1, "last_activity_date": 1560348037, "last_edit_date": 1560348037, "creation_date": 1558977033, "answer_id": 56330069, "question_id": 56329653, "link": "https://stackoverflow.com/questions/56329653/kotlin-domain-class-casting-to-subclass/56330069#56330069", "title": "Kotlin domain class casting to subclass", "body": "<p>I had to modify the child class to the following form:</p>\n\n<pre><code>open class UserFiltered(\n    @Id\n    @JsonIgnore\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    override var id: Long = 0L\n): User(){\n    constructor(user: User): this(user.id)\n}\n</code></pre>\n\n<p>And creating the instance of UserFiltered</p>\n\n<pre><code>return ResponseModel&lt;UserFiltered&gt;(true, UserFiltered(userModified))\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 2989387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ac800c1daa4597cec025b5270595b81?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/2989387/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "accepted_answer_id": 56330069, "answer_count": 1, "score": 1, "last_activity_date": 1560348037, "creation_date": 1558974770, "last_edit_date": 1558975159, "question_id": 56329653, "link": "https://stackoverflow.com/questions/56329653/kotlin-domain-class-casting-to-subclass", "title": "Kotlin domain class casting to subclass", "body": "<p>I have a domain class</p>\n\n<pre><code>@Entity\n@Table(name = \"user\")\nopen class User(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    open var id: Long = 0L,\n\n    @Column(nullable = false)\n    var name: String? = null)\n</code></pre>\n\n<p>And I have a subclass of this domain class that I would like to add a JsonIgnore annotation:</p>\n\n<pre><code>open class UserFiltered(\n    @Id\n    @JsonIgnore\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    override var id: Long = 0L\n): User()\n</code></pre>\n\n<p>But when I try to cast the User to UserFiltered:</p>\n\n<pre><code>return ResponseModel&lt;UserFiltered&gt;(true, userModified as UserFiltered)\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException:\n  com.example.platform.database.domain.User cannot be cast to\n  com.example.platform.model.UserFiltered   at\n  com.example.platform.controller.UserController.modifyUser(UserController.kt:71)\n  ~[classes/:na]</p>\n</blockquote>\n\n<p>Is there a way to achieve this in Kotlin, or I will have to do the full cast, setting up every parameter on User?</p>\n"}, {"tags": ["json", "spring", "kotlin", "jackson"], "comments": [{"owner": {"reputation": 13468, "user_id": 635887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a54e77591e1f9a75d3be9a195db45f?s=128&d=identicon&r=PG", "display_name": "Ray Hunter", "link": "https://stackoverflow.com/users/635887/ray-hunter"}, "edited": false, "score": 0, "creation_date": 1558973919, "post_id": 56329388, "comment_id": 99266211, "body": "How are you returning the data to the client from the controller? Are you converting it to json or some other type?"}, {"owner": {"reputation": 90, "user_id": 7964702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT2X9.jpg?s=128&g=1", "display_name": "Hiosdra", "link": "https://stackoverflow.com/users/7964702/hiosdra"}, "reply_to_user": {"reputation": 13468, "user_id": 635887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a54e77591e1f9a75d3be9a195db45f?s=128&d=identicon&r=PG", "display_name": "Ray Hunter", "link": "https://stackoverflow.com/users/635887/ray-hunter"}, "edited": false, "score": 0, "creation_date": 1558974155, "post_id": 56329388, "comment_id": 99266290, "body": "@RayHunter I have updated question to include controller code. I&#39;m returning json to client."}, {"owner": {"reputation": 13468, "user_id": 635887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a54e77591e1f9a75d3be9a195db45f?s=128&d=identicon&r=PG", "display_name": "Ray Hunter", "link": "https://stackoverflow.com/users/635887/ray-hunter"}, "edited": false, "score": 0, "creation_date": 1558977863, "post_id": 56329388, "comment_id": 99267510, "body": "You will want to probably convert the BigInteger to a json string since the precision on a json number is probably not what you want. Or you can convert the BigInteger to a java string, then your controller will handle the java string to json string for you."}, {"owner": {"reputation": 90, "user_id": 7964702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT2X9.jpg?s=128&g=1", "display_name": "Hiosdra", "link": "https://stackoverflow.com/users/7964702/hiosdra"}, "reply_to_user": {"reputation": 13468, "user_id": 635887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a54e77591e1f9a75d3be9a195db45f?s=128&d=identicon&r=PG", "display_name": "Ray Hunter", "link": "https://stackoverflow.com/users/635887/ray-hunter"}, "edited": false, "score": 0, "creation_date": 1558978042, "post_id": 56329388, "comment_id": 99267568, "body": "I&#39;ve tried converting it tostring, but json output is then like <code>&quot;product&quot;:&quot;35622&quot;</code>, but it must be <code>&quot;product&quot;:35622</code>"}, {"owner": {"reputation": 13468, "user_id": 635887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a54e77591e1f9a75d3be9a195db45f?s=128&d=identicon&r=PG", "display_name": "Ray Hunter", "link": "https://stackoverflow.com/users/635887/ray-hunter"}, "edited": false, "score": 0, "creation_date": 1558978328, "post_id": 56329388, "comment_id": 99267668, "body": "Then you will have to deal with the precision that JSON number has or use something that is the same in your code as the precision as JSON number.  Numbers in JSON must be an integer or a floating point. <a href=\"https://tools.ietf.org/html/rfc7159#section-6\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc7159#section-6</a>"}], "answers": [{"comments": [{"owner": {"reputation": 90, "user_id": 7964702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT2X9.jpg?s=128&g=1", "display_name": "Hiosdra", "link": "https://stackoverflow.com/users/7964702/hiosdra"}, "edited": false, "score": 0, "creation_date": 1558978304, "post_id": 56330257, "comment_id": 99267663, "body": "The requested format in task description is for example: ``` {   &quot;token&quot;: 1498723,   &quot;product&quot;: 111111111111111111111111111111111111111111111111111111111111&zwnj;&#8203;11111111111111111111&zwnj;&#8203;11111111111111111111&zwnj;&#8203;11111111111111111111&zwnj;&#8203;11111111 } ``` But if I changed <code>ProductOutputDTO.product</code> to string the numbers are in quotes"}, {"owner": {"reputation": 13468, "user_id": 635887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a54e77591e1f9a75d3be9a195db45f?s=128&d=identicon&r=PG", "display_name": "Ray Hunter", "link": "https://stackoverflow.com/users/635887/ray-hunter"}, "reply_to_user": {"reputation": 90, "user_id": 7964702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT2X9.jpg?s=128&g=1", "display_name": "Hiosdra", "link": "https://stackoverflow.com/users/7964702/hiosdra"}, "edited": false, "score": 0, "creation_date": 1558978499, "post_id": 56330257, "comment_id": 99267715, "body": "Are you writing the consumer code on the other side? How would the consumer of the JSON handle the product value? The consumer is bound by the same limitations of the JSON number type. If you kept it as exponential format, then the consumer can convert it to what it needs to be."}, {"owner": {"reputation": 90, "user_id": 7964702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT2X9.jpg?s=128&g=1", "display_name": "Hiosdra", "link": "https://stackoverflow.com/users/7964702/hiosdra"}, "edited": false, "score": 0, "creation_date": 1558978662, "post_id": 56330257, "comment_id": 99267772, "body": "This is task for studies and probably this task will be verified with curl as teacher&#39;s script will invoke pre-defined command and watch to pre-defined result"}, {"owner": {"reputation": 13468, "user_id": 635887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a54e77591e1f9a75d3be9a195db45f?s=128&d=identicon&r=PG", "display_name": "Ray Hunter", "link": "https://stackoverflow.com/users/635887/ray-hunter"}, "reply_to_user": {"reputation": 90, "user_id": 7964702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT2X9.jpg?s=128&g=1", "display_name": "Hiosdra", "link": "https://stackoverflow.com/users/7964702/hiosdra"}, "edited": false, "score": 0, "creation_date": 1558979360, "post_id": 56330257, "comment_id": 99268023, "body": "If you are going to use JSON Number as a data type, then you will have to work with that data type. Since you are using spring you could produce XML instead of JSON and see how your converter works with XML data. That might give you the results that you want, unless you are required to use JSON."}, {"owner": {"reputation": 90, "user_id": 7964702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT2X9.jpg?s=128&g=1", "display_name": "Hiosdra", "link": "https://stackoverflow.com/users/7964702/hiosdra"}, "edited": false, "score": 0, "creation_date": 1558979520, "post_id": 56330257, "comment_id": 99268079, "body": "I&#39;m required to use JSON. There is an another example of what JSON I must generate: <code>{   &quot;token&quot;: 1234567890,   &quot;product&quot;: 22230581231342048010971200514544 }</code>"}], "tags": [], "owner": {"reputation": 13468, "user_id": 635887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a54e77591e1f9a75d3be9a195db45f?s=128&d=identicon&r=PG", "display_name": "Ray Hunter", "link": "https://stackoverflow.com/users/635887/ray-hunter"}, "is_accepted": false, "score": 0, "last_activity_date": 1558978075, "creation_date": 1558978075, "answer_id": 56330257, "question_id": 56329388, "link": "https://stackoverflow.com/questions/56329388/how-to-write-plain-biginteger-in-spring-controller/56330257#56330257", "title": "How to write plain BigInteger in Spring controller", "body": "<p>Change your <code>ProductOutputDTO</code> to be something like the following example:</p>\n\n<pre><code>data class ProductOutputDTO(\n    val token: String,\n    val product: String\n)\n</code></pre>\n\n<p>Then change your code that creates the <code>ProductOutputDTO</code> to convert the BigIntegers to Strings. </p>\n\n<p>The problem you are running into is that the JSON Number precision is not as precise as the BigInteger.</p>\n"}], "owner": {"reputation": 90, "user_id": 7964702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT2X9.jpg?s=128&g=1", "display_name": "Hiosdra", "link": "https://stackoverflow.com/users/7964702/hiosdra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 482, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558978075, "creation_date": 1558973387, "last_edit_date": 1558974018, "question_id": 56329388, "link": "https://stackoverflow.com/questions/56329388/how-to-write-plain-biginteger-in-spring-controller", "title": "How to write plain BigInteger in Spring controller", "body": "<p>I need to return BigInteger from Spring controller in numeric format (such as 354736184430273859332531) instead of for example 2.2311485309166910602366e+23 which is default behavior.</p>\n\n<p>I have tried including both: <code>spring.jackson.serialization.write-bigdecimal-as-plain=true</code> and \n<code>spring.jackson.generator.write-bigdecimal-as-plain=true</code> in application.properties</p>\n\n<p>My object which I'm returning looks like this:</p>\n\n<pre><code>data class ProductOutputDTO(\n    val token: BigInteger,\n    val product: BigInteger\n)\n</code></pre>\n\n<p>And controller code:</p>\n\n<pre><code>@RestController\nclass Product {\n\n    @PostMapping(\"/product\")\n    fun product(@RequestBody input: ProductInputDTO): ProductOutputDTO\n            = ProductOutputDTO(input.token, input.a * input.b)\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "androidx", "camera-view"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 2, "creation_date": 1558972815, "post_id": 56329224, "comment_id": 99265830, "body": "What exactly is <code>this</code>? Is it an <code>androidx.appcompat.app.AppCompatActivity</code>?"}, {"owner": {"reputation": 2843, "user_id": 3037960, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/cU2Gf.jpg?s=128&g=1", "display_name": "Suisse", "link": "https://stackoverflow.com/users/3037960/suisse"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1558973784, "post_id": 56329224, "comment_id": 99266165, "body": "@CommonsWare <code>import androidx.appcompat.app.AppCompatActivity</code> and the   <code>class MainActivity : AppCompatActivity() { }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1088, "user_id": 6235974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nchYR.jpg?s=128&g=1", "display_name": "Merov", "link": "https://stackoverflow.com/users/6235974/merov"}, "is_accepted": true, "score": 2, "last_activity_date": 1558974286, "creation_date": 1558974286, "answer_id": 56329568, "question_id": 56329224, "link": "https://stackoverflow.com/questions/56329224/unresolved-reference-setlifecycleowner-in-androidx/56329568#56329568", "title": "Unresolved reference: setLifecycleOwner in AndroidX", "body": "<p>You cast your library view type to android basic <code>View</code> which hasn't such method.<br>\nYou should change your <code>findViewById&lt;View&gt;</code> to <code>findViewById&lt;CameraView&gt;</code></p>\n"}], "owner": {"reputation": 2843, "user_id": 3037960, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/cU2Gf.jpg?s=128&g=1", "display_name": "Suisse", "link": "https://stackoverflow.com/users/3037960/suisse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 0, "accepted_answer_id": 56329568, "answer_count": 1, "score": 1, "last_activity_date": 1558977687, "creation_date": 1558972535, "last_edit_date": 1592644375, "question_id": 56329224, "link": "https://stackoverflow.com/questions/56329224/unresolved-reference-setlifecycleowner-in-androidx", "title": "Unresolved reference: setLifecycleOwner in AndroidX", "body": "<blockquote>\n<p>MainActivity.kt: (41, 16): Unresolved reference: setLifecycleOwner</p>\n<p>Task :app:buildInfoGeneratorDebug</p>\n</blockquote>\n<p>My app uses AndroidX, in my gradle.properties:</p>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>My Code in onCreate function in MainActivity.tk:</p>\n<pre><code>val camera = findViewById&lt;View&gt;(R.id.camera)\n    camera.setLifecycleOwner(this)\n</code></pre>\n<p>Trying to implment the <a href=\"https://natario1.github.io/CameraView/about/getting-started.html\" rel=\"nofollow noreferrer\">CameraView</a>.</p>\n"}, {"tags": ["android", "kotlin", "android-mediaplayer", "ringtone"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 9014366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b93bb2aa5990ffd89accae2a129531b3?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusch", "link": "https://stackoverflow.com/users/9014366/dariusch"}, "edited": false, "score": 0, "creation_date": 1559027345, "post_id": 56328420, "comment_id": 99279232, "body": "Hey Ajay, i edited my post. I am already able to play both sounds at the same time. The problem is actually slightly different."}, {"owner": {"reputation": 60, "user_id": 4972519, "user_type": "registered", "profile_image": "https://graph.facebook.com/686338688139156/picture?type=large", "display_name": "Ajay Kumar Sharma", "link": "https://stackoverflow.com/users/4972519/ajay-kumar-sharma"}, "reply_to_user": {"reputation": 141, "user_id": 9014366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b93bb2aa5990ffd89accae2a129531b3?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusch", "link": "https://stackoverflow.com/users/9014366/dariusch"}, "edited": false, "score": 0, "creation_date": 1559055477, "post_id": 56328420, "comment_id": 99294920, "body": "Is it play the default rigton when you got the notification?"}, {"owner": {"reputation": 141, "user_id": 9014366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b93bb2aa5990ffd89accae2a129531b3?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusch", "link": "https://stackoverflow.com/users/9014366/dariusch"}, "edited": false, "score": 0, "creation_date": 1559144936, "post_id": 56328420, "comment_id": 99331817, "body": "It is not playing the default ringtone but that is simply because i want to play a custom ringtone.  I will have a look into the ringtone Manager. Thanks!"}], "tags": [], "owner": {"reputation": 60, "user_id": 4972519, "user_type": "registered", "profile_image": "https://graph.facebook.com/686338688139156/picture?type=large", "display_name": "Ajay Kumar Sharma", "link": "https://stackoverflow.com/users/4972519/ajay-kumar-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1558969071, "creation_date": 1558969071, "answer_id": 56328420, "question_id": 56328364, "link": "https://stackoverflow.com/questions/56328364/problems-playing-two-raw-files-at-the-same-time-through-two-mediaplayers/56328420#56328420", "title": "Problems playing two raw files at the same time through two MediaPlayers", "body": "<p>Use sound pool if you want to play both sounds at the same time.</p>\n"}], "owner": {"reputation": 141, "user_id": 9014366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b93bb2aa5990ffd89accae2a129531b3?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusch", "link": "https://stackoverflow.com/users/9014366/dariusch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558977035, "creation_date": 1558968866, "last_edit_date": 1558977035, "question_id": 56328364, "link": "https://stackoverflow.com/questions/56328364/problems-playing-two-raw-files-at-the-same-time-through-two-mediaplayers", "title": "Problems playing two raw files at the same time through two MediaPlayers", "body": "<p>I'm developing a Voip-Application and i have an edge case where i want to play two raw files at the same time.</p>\n\n<p>When i have an incoming call from my application i am creating a new Mediaplayer and play a custom ringtone. When i get shortly after also  an incoming GSM-call i create a new mediaplayer and play a knocking sound to give the user feedback that there is also a GSM-Call incoming. At the same time i want the custom ringtone to continue playing.</p>\n\n<pre><code>private fun setAudioAttributesForFile(audioUsage: Int): AudioAttributes {\n    return AudioAttributes.Builder()\n            .setUsage(audioUsage)\n            .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n            .build()\n}\n\nprivate fun startRingtone(fileToPlay: Int): MediaPlayer {\n    return MediaPlayer().apply {\n        reset()\n        if (fileToPlay == R.raw.ring {\n            setAudioAttributes(setAudioAttributesForFile(AudioAttributes.USAGE_NOTIFICATION_RINGTONE))\n        } else {\n            setAudioAttributes(setAudioAttributesForFile(AudioAttributes.USAGE_MEDIA))\n        }\n        isLooping = true\n        Main.get().resources.openRawResourceFd(fileToPlay).use {\n            setDataSource(\n                    it.fileDescriptor,\n                    it.startOffset,\n                    it.length\n            )\n        }\n        setOnPreparedListener { start() }\n        prepareAsync()\n    }\n}\n</code></pre>\n\n<p>The problem that i have with this code is that as soon as the knocking sound is playing the ringtone gets muted by the system and as soon as the knocking sound is stopping the ringtone continues. </p>\n\n<p>What i also tried:</p>\n\n<ol>\n<li><p>Using only\n<code>AudioAttributes.USAGE_NOTIFICATION_RINGTONE</code>. As soon as the knocking sound starts to play both mediaPlayers are getting muted.</p></li>\n<li><p>If i leave the <code>setAudioAttributes()</code> call away and replace these four lines to </p></li>\n</ol>\n\n<pre><code>if (fileToPlay == R.raw.ring) {\n    setAudioAttributesForFile(AudioAttributes.USAGE_NOTIFICATION_RINGTONE)\n} else {\n    setAudioAttributesForFile(AudioAttributes.USAGE_MEDIA)\n}\n</code></pre>\n\n<p>then i can play those two files at the same time. The problem then is that the ringtone file is not shown as a ringtone instead it is only shown as a media file. So when i increase and decrease the volume of the ringtone the flag does not show that it is a ringtone.</p>\n\n<p>Is there a way to play one sound as a Ringtone and another sound over it as a normal Media Sound?</p>\n\n<p>Thanks in advance. Any help is appreciated.</p>\n"}, {"tags": ["android", "kotlin", "enums"], "answers": [{"tags": [], "owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "is_accepted": true, "score": 6, "last_activity_date": 1558967401, "creation_date": 1558967401, "answer_id": 56328022, "question_id": 56327999, "link": "https://stackoverflow.com/questions/56327999/how-do-i-access-enum-values-in-kotlin/56328022#56328022", "title": "How do I access enum values in Kotlin", "body": "<p>You need to use <code>val</code> if you want it to be a property:</p>\n\n<pre><code>enum class TimeStamps(val value: Long, val text: String) {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 543, "user_id": 3210277, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1235602ecb5ae248d6d8dfea6abe1374?s=128&d=identicon&r=PG&f=1", "display_name": "chrisdottel", "link": "https://stackoverflow.com/users/3210277/chrisdottel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 56328022, "answer_count": 1, "score": 1, "last_activity_date": 1558967624, "creation_date": 1558967309, "question_id": 56327999, "link": "https://stackoverflow.com/questions/56327999/how-do-i-access-enum-values-in-kotlin", "title": "How do I access enum values in Kotlin", "body": "<p>I'm trying to iterate over an enum but I cannot access any values they were set with.  Android Studio only sees the name and ordinal, but nothing else.</p>\n\n<p>I'm not sure if this is an android studio problem as other online tutorials for kotlin enums seem to do what I do and work just fine.</p>\n\n<pre><code>    enum class TimeStamps(value : Long, text : String) {\n        Hour(0, \"Past Hour\"),\n        Day(3600000, \"Today\"),\n        Yesterday(86400000, \"Yesterday\"),\n        Week(172800000, \"This week\"),\n        LastWeek(604800000, \"Last week\"),\n        LastMonth(1209600000, \"Last month\"),\n        LastYear(2628000000, \"Last year\"),\n        LongTime(31540000000, \"A long time ago\")\n    }\n\n\nTimeStamps.LastMonth.value\nTimeStamps.LastMonth.text  //Both of these are said to be undefined by Android Studio\n\nenumValues&lt;TimeStamps&gt;().forEach {\n\n            it.value //Also undefined\n}\n</code></pre>\n\n<p>I'm not exactly sure what is going on.  The only error message I get is the <code>Unresolved Reference</code> error.  Any help is greatly appreciated, thanks!</p>\n"}]