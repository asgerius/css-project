[{"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1469715053, "post_id": 38623190, "comment_id": 64660812, "body": "Please provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>. I pasted your <code>BirthdayContract</code> into a new Kotlin file, removed ` : BaseColumns` as it does not compile with it, and created a function which accesses <code>BirthdayContract.Contacts.NAME</code>. I believe you need to provide more information and/or updated examples which compile and demonstrate the issue you are seeing. Thanks."}, {"owner": {"reputation": 406, "user_id": 1294092, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0754559a57c4b5769c062fc90dd3230d?s=128&d=identicon&r=PG", "display_name": "noktigula", "link": "https://stackoverflow.com/users/1294092/noktigula"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1469972241, "post_id": 38623190, "comment_id": 64748262, "body": "@mfulton26 I did the same thing - created new .kt file, and copied my Kotlin code inside. It compiles without errors. There was no problem with BaseColumns interface. What kind of error do you have?"}], "answers": [{"comments": [{"owner": {"reputation": 406, "user_id": 1294092, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0754559a57c4b5769c062fc90dd3230d?s=128&d=identicon&r=PG", "display_name": "noktigula", "link": "https://stackoverflow.com/users/1294092/noktigula"}, "edited": false, "score": 0, "creation_date": 1469970453, "post_id": 38623818, "comment_id": 64747659, "body": "@JvmField works nice for me, thanks! However, &quot;const&quot; and &quot;@JvmStatic&quot; don&#39;t affect anything."}], "tags": [], "owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "is_accepted": true, "score": 6, "last_activity_date": 1469990084, "last_edit_date": 1469990084, "creation_date": 1469656416, "answer_id": 38623818, "question_id": 38623190, "link": "https://stackoverflow.com/questions/38623190/kotlin-for-android-and-static-final-inner-classes/38623818#38623818", "title": "Kotlin for android and static final inner classes", "body": "<p><code>NAME</code> is a property and by default its backing field has private access. But since it's a property, there's a getter for it: <code>getNAME()</code>. </p>\n\n<p>Since this is not how you naturally access constants in Java, there are a couple ways to directly expose the field:</p>\n\n<ol>\n<li><a href=\"https://kotlinlang.org/docs/reference/properties.html#compile-time-constants\" rel=\"noreferrer\"><code>const</code></a>: <code>const val NAME = \"Name\"</code></li>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-field/\" rel=\"noreferrer\"><code>@JvmField</code></a> annotation: <code>@JvmField val NAME = \"Name\"</code></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 6496, "user_id": 1386439, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e1fd189f2a9c524a08cf51727fe72c75?s=128&d=identicon&r=PG&f=1", "display_name": "Ostkontentitan", "link": "https://stackoverflow.com/users/1386439/ostkontentitan"}, "is_accepted": false, "score": 0, "last_activity_date": 1469707587, "last_edit_date": 1469707587, "creation_date": 1469696922, "answer_id": 38631846, "question_id": 38623190, "link": "https://stackoverflow.com/questions/38623190/kotlin-for-android-and-static-final-inner-classes/38631846#38631846", "title": "Kotlin for android and static final inner classes", "body": "<p>Consider using plain <strong>object</strong> as this.: </p>\n\n<pre><code>object Contract {\n    object Contacts {\n        val NAME = \"Name\"\n        val BIRTH = \"Birth\"\n        val IMAGE = \"Image\"\n    }\n}\n</code></pre>\n\n<p>This should perfectly fill in for your initial Java-Code. </p>\n\n<p>In the most recent stable Kotlin-Version <strong>public</strong> is the default visibility. </p>\n\n<p>Optionially you can add the <strong>const</strong> key-word for compile time constants so that they are usable in annotations.: <a href=\"https://kotlinlang.org/docs/reference/properties.html#compile-time-constants\" rel=\"nofollow\">https://kotlinlang.org/docs/reference/properties.html#compile-time-constants</a></p>\n\n<p><strong>@JvmStatic</strong> annotation is for Java-Interop and if you plan to go full kotlin you won't need it. </p>\n"}, {"comments": [{"owner": {"reputation": 13314, "user_id": 1760984, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IcBXx.jpg?s=128&g=1", "display_name": "aldok", "link": "https://stackoverflow.com/users/1760984/aldok"}, "edited": false, "score": 0, "creation_date": 1523329775, "post_id": 38631955, "comment_id": 86503946, "body": "BaseColumns have ID and COUNT, I think that&#39;s the reason why noktigula extend it."}], "tags": [], "owner": {"reputation": 752, "user_id": 4223146, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001639725336/picture?type=large", "display_name": "\u0430\u043b\u0435\u043a\u0441 \u043a\u0435\u0439", "link": "https://stackoverflow.com/users/4223146/%d0%b0%d0%bb%d0%b5%d0%ba%d1%81-%d0%ba%d0%b5%d0%b9"}, "is_accepted": false, "score": 0, "last_activity_date": 1469697152, "creation_date": 1469697152, "answer_id": 38631955, "question_id": 38623190, "link": "https://stackoverflow.com/questions/38623190/kotlin-for-android-and-static-final-inner-classes/38631955#38631955", "title": "Kotlin for android and static final inner classes", "body": "<p>You can do it with a @JvmStatic</p>\n\n<pre><code>object BirthdayContract {\n    class Contacts : BaseColumns {\n        companion object {\n            @JvmStatic val NAME = \"Name\"\n            @JvmStatic val BIRTH = \"Birth\"\n            @JvmStatic val IMAGE = \"Image\"\n        }\n    }\n}\n\n//Java\nBirthdayContract.Contacts.Companion.getNAME()\n</code></pre>\n\n<p>So far I see no good reason to extend BaseColumns, so a better choice whould be </p>\n\n<pre><code>object BirthdayContract {\n    object Contacts  {\n           const val NAME = \"Name\"\n           const val BIRTH = \"Birth\"\n           const val IMAGE = \"Image\"\n\n    }\n}\n//Java\nBirthdayContract.Contacts.NAME\n</code></pre>\n\n<p>The bottom line is that nested objects in kotlin do not look clean.\nPlease consider simplifying your code </p>\n"}, {"tags": [], "owner": {"reputation": 42524, "user_id": 936832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1da0368f0874a66bd771c4d57f94b0?s=128&d=identicon&r=PG", "display_name": "Ingo Kegel", "link": "https://stackoverflow.com/users/936832/ingo-kegel"}, "is_accepted": false, "score": 2, "last_activity_date": 1469804980, "creation_date": 1469804980, "answer_id": 38662094, "question_id": 38623190, "link": "https://stackoverflow.com/questions/38623190/kotlin-for-android-and-static-final-inner-classes/38662094#38662094", "title": "Kotlin for android and static final inner classes", "body": "<p>To expose constants as fields, annotate them with <code>@JvmField</code></p>\n\n<pre><code>class Contacts  {\n    companion object {\n        @JvmField val NAME = \"Name\"\n        @JvmField val BIRTH = \"Birth\"\n        @JvmField val IMAGE = \"Image\"\n    }\n}\n</code></pre>\n\n<p>Then you can use them from Java like this:</p>\n\n<pre><code>String name = Contacts.NAME;\n</code></pre>\n\n<p>Once all of your code is in Kotlin, you can remove the @JvmField annotation.</p>\n"}], "owner": {"reputation": 406, "user_id": 1294092, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0754559a57c4b5769c062fc90dd3230d?s=128&d=identicon&r=PG", "display_name": "noktigula", "link": "https://stackoverflow.com/users/1294092/noktigula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5484, "favorite_count": 1, "accepted_answer_id": 38623818, "answer_count": 4, "score": 6, "last_activity_date": 1469990084, "creation_date": 1469653579, "last_edit_date": 1469972378, "question_id": 38623190, "link": "https://stackoverflow.com/questions/38623190/kotlin-for-android-and-static-final-inner-classes", "title": "Kotlin for android and static final inner classes", "body": "<p>I'm trying to rewrite my android app on Kotlin, and I've faces problem while converting ContentProvider contract class.\nSo I have simple contract class (default stuff like content type and content uris is omitted):</p>\n\n<pre><code>public final class Contract {\n    public static final class Contacts {\n        public static final String NAME = \"Name\"\n        public static final String BIRTH = \"Birth\"\n        public static final String IMAGE = \"Image\"\n    }\n}\n</code></pre>\n\n<p>If I understand correctly, in Kotlin we don't have static members. Instead of this, we have \"companion objects\". So after converting it to Kotlin, I have this code:</p>\n\n<pre><code>object BirthdayContract {\n    class Contacts : BaseColumns {\n        companion object {\n            val NAME = \"Name\"\n            val BIRTH = \"Birth\"\n            val IMAGE = \"Image\"\n        }\n    }\n}\n</code></pre>\n\n<p>But when I'm trying to access fields like Contract.Contacts.NAME, I have error: \"NAME has private access\". Changing the visibility modifiers gave no effect.\nSo is there some way to use such contract classes in Kotlin, or it better to keep it in Java?</p>\n\n<p><strong>UPD</strong> \nI think that I should clarify - my caller code is also in Kotlin.\nThe problem was in @JvmField annotation. With it, I can access static members directly, without calling getters.</p>\n"}, {"tags": ["java", "android", "kotlin", "material-design", "datetimepicker"], "comments": [{"owner": {"reputation": 699, "user_id": 1138106, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6199d46c6e35622e3eda7e30eb63a8ca?s=128&d=identicon&r=PG", "display_name": "Krutik", "link": "https://stackoverflow.com/users/1138106/krutik"}, "edited": false, "score": 0, "creation_date": 1469598387, "post_id": 38604157, "comment_id": 64596265, "body": "you can check this <a href=\"https://github.com/jjobes/SlideDateTimePicker\" rel=\"nofollow noreferrer\">github.com/jjobes/SlideDateTimePicker</a>"}], "answers": [{"comments": [{"owner": {"reputation": 610, "user_id": 5577853, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FypEN.jpg?s=128&g=1", "display_name": "Anurag Shrivastava", "link": "https://stackoverflow.com/users/5577853/anurag-shrivastava"}, "edited": false, "score": 0, "creation_date": 1520342247, "post_id": 38604615, "comment_id": 85268149, "body": "but it is showing in pink color, where can I change the color, or set the theme please help."}, {"owner": {"reputation": 730, "user_id": 3994127, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HynRp.jpg?s=128&g=1", "display_name": "Raghav Satyadev", "link": "https://stackoverflow.com/users/3994127/raghav-satyadev"}, "reply_to_user": {"reputation": 610, "user_id": 5577853, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FypEN.jpg?s=128&g=1", "display_name": "Anurag Shrivastava", "link": "https://stackoverflow.com/users/5577853/anurag-shrivastava"}, "edited": false, "score": 0, "creation_date": 1524745691, "post_id": 38604615, "comment_id": 87101901, "body": "@AnuragShrivastava now you can change colors also, you have to change in DialogTheme. see this link : <a href=\"https://stackoverflow.com/a/50042997/3994127\">stackoverflow.com/a/50042997/3994127</a>"}, {"owner": {"reputation": 2190, "user_id": 3407571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/42b83d3d8f26d0b4de4ff533a99ce2ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Lord Mordor", "link": "https://stackoverflow.com/users/3407571/alex-lord-mordor"}, "edited": false, "score": 0, "creation_date": 1534384315, "post_id": 38604615, "comment_id": 90688999, "body": "just what I was looking for, but when I try to <code>setDate</code> with a Date, the minutes still being the current time minutes. any idea why?"}, {"owner": {"reputation": 2013, "user_id": 6238866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090be8b06410ed7bfb88d9059a157125?s=128&d=identicon&r=PG&f=1", "display_name": "Mayur Patel", "link": "https://stackoverflow.com/users/6238866/mayur-patel"}, "reply_to_user": {"reputation": 2190, "user_id": 3407571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/42b83d3d8f26d0b4de4ff533a99ce2ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Lord Mordor", "link": "https://stackoverflow.com/users/3407571/alex-lord-mordor"}, "edited": false, "score": 0, "creation_date": 1534398748, "post_id": 38604615, "comment_id": 90692121, "body": "@AlexLordMordor can you pls elaborate more in details?"}, {"owner": {"reputation": 2190, "user_id": 3407571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/42b83d3d8f26d0b4de4ff533a99ce2ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Lord Mordor", "link": "https://stackoverflow.com/users/3407571/alex-lord-mordor"}, "edited": false, "score": 1, "creation_date": 1534438685, "post_id": 38604615, "comment_id": 90715584, "body": "I nottice that with your answer opens the dialog using default or first established date and time using current, your class have a function to set a date and time using a <code>Date</code> value, BUT! this works well except for the minutes, the minutes still being the current or default. I did a little hack adding a Date variable <code>hacked_date</code> that initalizes with the <code>setDate</code> function, and instead of doing <code>timePicker.setCurrentMinute(selectedMinute);</code> in the <code>showDialog()</code> I used <code>timePicker.setCurrentMinute(hacked_date.getMinutes());</code>... Seems to be a bug in the Calendar.MINUTE value"}, {"owner": {"reputation": 2013, "user_id": 6238866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090be8b06410ed7bfb88d9059a157125?s=128&d=identicon&r=PG&f=1", "display_name": "Mayur Patel", "link": "https://stackoverflow.com/users/6238866/mayur-patel"}, "reply_to_user": {"reputation": 2190, "user_id": 3407571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/42b83d3d8f26d0b4de4ff533a99ce2ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Lord Mordor", "link": "https://stackoverflow.com/users/3407571/alex-lord-mordor"}, "edited": false, "score": 0, "creation_date": 1534478962, "post_id": 38604615, "comment_id": 90727537, "body": "Ohhh That&#39;s Great. Thank you @AlexLordMordor."}], "tags": [], "owner": {"reputation": 2013, "user_id": 6238866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090be8b06410ed7bfb88d9059a157125?s=128&d=identicon&r=PG&f=1", "display_name": "Mayur Patel", "link": "https://stackoverflow.com/users/6238866/mayur-patel"}, "is_accepted": false, "score": 12, "last_activity_date": 1557271012, "last_edit_date": 1557271012, "creation_date": 1469598246, "answer_id": 38604615, "question_id": 38604157, "link": "https://stackoverflow.com/questions/38604157/android-date-time-picker-in-one-dialog/38604615#38604615", "title": "Android Date Time picker in one dialog", "body": "<p>Try this code : </p>\n\n<p>CustomDateTimePicker.java</p>\n\n<pre><code>import android.app.Activity;\nimport android.app.Dialog;\nimport android.content.DialogInterface;\nimport android.view.Gravity;\nimport android.view.View;\nimport android.view.Window;\nimport android.widget.Button;\nimport android.widget.DatePicker;\nimport android.widget.FrameLayout;\nimport android.widget.LinearLayout;\nimport android.widget.TimePicker;\nimport android.widget.ViewSwitcher;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\n\n/**\n * Created by admin on 6/29/2016.\n */\npublic class CustomDateTimePicker implements View.OnClickListener {\n    private DatePicker datePicker;\n    private TimePicker timePicker;\n    private ViewSwitcher viewSwitcher;\n\n    private final int SET_DATE = 100, SET_TIME = 101, SET = 102, CANCEL = 103;\n\n    private Button btn_setDate, btn_setTime, btn_set, btn_cancel;\n\n    private Calendar calendar_date = null;\n\n    private Activity activity;\n\n    private ICustomDateTimeListener iCustomDateTimeListener = null;\n\n    private Dialog dialog;\n\n    private boolean is24HourView = true, isAutoDismiss = true;\n\n    private int selectedHour, selectedMinute;\n\n    public CustomDateTimePicker(Activity a,\n                                ICustomDateTimeListener customDateTimeListener) {\n        activity = a;\n        iCustomDateTimeListener = customDateTimeListener;\n\n        dialog = new Dialog(activity);\n        dialog.setOnDismissListener(new DialogInterface.OnDismissListener() {\n            @Override\n            public void onDismiss(DialogInterface dialog) {\n                resetData();\n            }\n        });\n\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n        View dialogView = getDateTimePickerLayout();\n        dialog.setContentView(dialogView);\n    }\n\n    public View getDateTimePickerLayout() {\n        LinearLayout.LayoutParams linear_match_wrap = new LinearLayout.LayoutParams(\n                LinearLayout.LayoutParams.MATCH_PARENT,\n                LinearLayout.LayoutParams.MATCH_PARENT);\n        LinearLayout.LayoutParams linear_wrap_wrap = new LinearLayout.LayoutParams(\n                LinearLayout.LayoutParams.WRAP_CONTENT,\n                LinearLayout.LayoutParams.WRAP_CONTENT);\n        FrameLayout.LayoutParams frame_match_wrap = new FrameLayout.LayoutParams(\n                FrameLayout.LayoutParams.MATCH_PARENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT);\n\n        LinearLayout.LayoutParams button_params = new LinearLayout.LayoutParams(\n                0, LinearLayout.LayoutParams.WRAP_CONTENT, 1.0f);\n\n        LinearLayout linear_main = new LinearLayout(activity);\n        linear_main.setLayoutParams(linear_match_wrap);\n        linear_main.setOrientation(LinearLayout.VERTICAL);\n        linear_main.setGravity(Gravity.CENTER);\n\n        LinearLayout linear_child = new LinearLayout(activity);\n        linear_child.setLayoutParams(linear_wrap_wrap);\n        linear_child.setOrientation(LinearLayout.VERTICAL);\n\n        LinearLayout linear_top = new LinearLayout(activity);\n        linear_top.setLayoutParams(linear_match_wrap);\n\n        btn_setDate = new Button(activity);\n        btn_setDate.setLayoutParams(button_params);\n        btn_setDate.setText(\"Set Date\");\n        btn_setDate.setId(SET_DATE);\n        btn_setDate.setOnClickListener(this);\n\n        btn_setTime = new Button(activity);\n        btn_setTime.setLayoutParams(button_params);\n        btn_setTime.setText(\"Set Time\");\n        btn_setTime.setId(SET_TIME);\n        btn_setTime.setOnClickListener(this);\n\n        linear_top.addView(btn_setDate);\n        linear_top.addView(btn_setTime);\n\n        viewSwitcher = new ViewSwitcher(activity);\n        viewSwitcher.setLayoutParams(frame_match_wrap);\n\n        datePicker = new DatePicker(activity);\n        timePicker = new TimePicker(activity);\n        timePicker.setOnTimeChangedListener(new TimePicker.OnTimeChangedListener() {\n            @Override\n            public void onTimeChanged(TimePicker view, int hourOfDay, int minute) {\n                selectedHour = hourOfDay;\n                selectedMinute = minute;\n            }\n        });\n\n        viewSwitcher.addView(timePicker);\n        viewSwitcher.addView(datePicker);\n\n        LinearLayout linear_bottom = new LinearLayout(activity);\n        linear_match_wrap.topMargin = 8;\n        linear_bottom.setLayoutParams(linear_match_wrap);\n\n        btn_set = new Button(activity);\n        btn_set.setLayoutParams(button_params);\n        btn_set.setText(\"Set\");\n        btn_set.setId(SET);\n        btn_set.setOnClickListener(this);\n\n        btn_cancel = new Button(activity);\n        btn_cancel.setLayoutParams(button_params);\n        btn_cancel.setText(\"Cancel\");\n        btn_cancel.setId(CANCEL);\n        btn_cancel.setOnClickListener(this);\n\n        linear_bottom.addView(btn_set);\n        linear_bottom.addView(btn_cancel);\n\n        linear_child.addView(linear_top);\n        linear_child.addView(viewSwitcher);\n        linear_child.addView(linear_bottom);\n\n        linear_main.addView(linear_child);\n\n        return linear_main;\n    }\n\n    public void showDialog() {\n        if (!dialog.isShowing()) {\n            if (calendar_date == null)\n                calendar_date = Calendar.getInstance();\n\n            selectedHour = calendar_date.get(Calendar.HOUR_OF_DAY);\n            selectedMinute = calendar_date.get(Calendar.MINUTE);\n\n            timePicker.setIs24HourView(is24HourView);\n            timePicker.setCurrentHour(selectedHour);\n            timePicker.setCurrentMinute(selectedMinute);\n\n            datePicker.updateDate(calendar_date.get(Calendar.YEAR),\n                    calendar_date.get(Calendar.MONTH),\n                    calendar_date.get(Calendar.DATE));\n\n            dialog.show();\n\n            btn_setDate.performClick();\n        }\n    }\n\n    public void setAutoDismiss(boolean isAutoDismiss) {\n        this.isAutoDismiss = isAutoDismiss;\n    }\n\n    public void dismissDialog() {\n        if (!dialog.isShowing())\n            dialog.dismiss();\n    }\n\n    public void setDate(Calendar calendar) {\n        if (calendar != null)\n            calendar_date = calendar;\n    }\n\n    public void setDate(Date date) {\n        if (date != null) {\n            calendar_date = Calendar.getInstance();\n            calendar_date.setTime(date);\n        }\n    }\n\n    public void setDate(int year, int month, int day) {\n        if (month &lt; 12 &amp;&amp; month &gt;= 0 &amp;&amp; day &lt; 32 &amp;&amp; day &gt;= 0 &amp;&amp; year &gt; 100\n                &amp;&amp; year &lt; 3000) {\n            calendar_date = Calendar.getInstance();\n            calendar_date.set(year, month, day);\n        }\n\n    }\n\n    public void setTimeIn24HourFormat(int hourIn24Format, int minute) {\n        if (hourIn24Format &lt; 24 &amp;&amp; hourIn24Format &gt;= 0 &amp;&amp; minute &gt;= 0\n                &amp;&amp; minute &lt; 60) {\n            if (calendar_date == null)\n                calendar_date = Calendar.getInstance();\n\n            calendar_date.set(calendar_date.get(Calendar.YEAR),\n                    calendar_date.get(Calendar.MONTH),\n                    calendar_date.get(Calendar.DAY_OF_MONTH), hourIn24Format,\n                    minute);\n\n            is24HourView = true;\n        }\n    }\n\n    public void setTimeIn12HourFormat(int hourIn12Format, int minute,\n                                      boolean isAM) {\n        if (hourIn12Format &lt; 13 &amp;&amp; hourIn12Format &gt; 0 &amp;&amp; minute &gt;= 0\n                &amp;&amp; minute &lt; 60) {\n            if (hourIn12Format == 12)\n                hourIn12Format = 0;\n\n            int hourIn24Format = hourIn12Format;\n\n            if (!isAM)\n                hourIn24Format += 12;\n\n            if (calendar_date == null)\n                calendar_date = Calendar.getInstance();\n\n            calendar_date.set(calendar_date.get(Calendar.YEAR),\n                    calendar_date.get(Calendar.MONTH),\n                    calendar_date.get(Calendar.DAY_OF_MONTH), hourIn24Format,\n                    minute);\n\n            is24HourView = false;\n        }\n    }\n\n    public void set24HourFormat(boolean is24HourFormat) {\n        is24HourView = is24HourFormat;\n    }\n\n    public interface ICustomDateTimeListener {\n        public void onSet(Dialog dialog, Calendar calendarSelected,\n                          Date dateSelected, int year, String monthFullName,\n                          String monthShortName, int monthNumber, int day,\n                          String weekDayFullName, String weekDayShortName, int hour24,\n                          int hour12, int min, int sec, String AM_PM);\n\n        public void onCancel();\n    }\n\n    @Override\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case SET_DATE:\n            btn_setTime.setEnabled(true);\n            btn_setDate.setEnabled(false);\n\n            if (viewSwitcher.getCurrentView() != datePicker) {\n                viewSwitcher.showPrevious();\n            }\n            break;\n\n        case SET_TIME:\n            btn_setTime.setEnabled(false);\n            btn_setDate.setEnabled(true);\n            if (viewSwitcher.getCurrentView() == datePicker) {\n                viewSwitcher.showNext();\n            }\n            break;\n\n\n            case SET:\n                if (iCustomDateTimeListener != null) {\n                    int month = datePicker.getMonth();\n                    int year = datePicker.getYear();\n                    int day = datePicker.getDayOfMonth();\n\n\n                    calendar_date.set(year, month, day, selectedHour,\n                            selectedMinute);\n\n                    iCustomDateTimeListener.onSet(dialog, calendar_date,\n                            calendar_date.getTime(), calendar_date\n                                    .get(Calendar.YEAR),\n                            getMonthFullName(calendar_date.get(Calendar.MONTH)),\n                            getMonthShortName(calendar_date.get(Calendar.MONTH)),\n                            calendar_date.get(Calendar.MONTH), calendar_date\n                                    .get(Calendar.DAY_OF_MONTH),\n                            getWeekDayFullName(calendar_date\n                                    .get(Calendar.DAY_OF_WEEK)),\n                            getWeekDayShortName(calendar_date\n                                    .get(Calendar.DAY_OF_WEEK)), calendar_date\n                                    .get(Calendar.HOUR_OF_DAY),\n                            getHourIn12Format(calendar_date\n                                    .get(Calendar.HOUR_OF_DAY)), calendar_date\n                                    .get(Calendar.MINUTE), calendar_date\n                                    .get(Calendar.SECOND), getAMPM(calendar_date));\n                }\n                if (dialog.isShowing() &amp;&amp; isAutoDismiss)\n                    dialog.dismiss();\n                break;\n\n            case CANCEL:\n                if (iCustomDateTimeListener != null)\n                    iCustomDateTimeListener.onCancel();\n                if (dialog.isShowing())\n                    dialog.dismiss();\n                break;\n        }\n    }\n\n    /**\n     * @param date\n     *            date in String\n     * @param fromFormat\n     *            format of your &lt;b&gt;date&lt;/b&gt; eg: if your date is 2011-07-07\n     *            09:09:09 then your format will be &lt;b&gt;yyyy-MM-dd hh:mm:ss&lt;/b&gt;\n     * @param toFormat\n     *            format to which you want to convert your &lt;b&gt;date&lt;/b&gt; eg: if\n     *            required format is 31 July 2011 then the toFormat should be\n     *            &lt;b&gt;d MMMM yyyy&lt;/b&gt;\n     * @return formatted date\n     */\n    public static String convertDate(String date, String fromFormat,\n                                     String toFormat) {\n        try {\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(fromFormat);\n            Date d = simpleDateFormat.parse(date);\n            Calendar calendar = Calendar.getInstance();\n            calendar.setTime(d);\n\n            simpleDateFormat = new SimpleDateFormat(toFormat);\n            simpleDateFormat.setCalendar(calendar);\n            date = simpleDateFormat.format(calendar.getTime());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return date;\n    }\n\n    private String getMonthFullName(int monthNumber) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.MONTH, monthNumber);\n\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"MMMM\");\n        simpleDateFormat.setCalendar(calendar);\n        String monthName = simpleDateFormat.format(calendar.getTime());\n\n        return monthName;\n    }\n\n    private String getMonthShortName(int monthNumber) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.MONTH, monthNumber);\n\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"MMM\");\n        simpleDateFormat.setCalendar(calendar);\n        String monthName = simpleDateFormat.format(calendar.getTime());\n\n        return monthName;\n    }\n\n    private String getWeekDayFullName(int weekDayNumber) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.DAY_OF_WEEK, weekDayNumber);\n\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"EEEE\");\n        simpleDateFormat.setCalendar(calendar);\n        String weekName = simpleDateFormat.format(calendar.getTime());\n\n        return weekName;\n    }\n\n    private String getWeekDayShortName(int weekDayNumber) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.DAY_OF_WEEK, weekDayNumber);\n\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"EE\");\n        simpleDateFormat.setCalendar(calendar);\n        String weekName = simpleDateFormat.format(calendar.getTime());\n\n        return weekName;\n    }\n\n    private int getHourIn12Format(int hour24) {\n        int hourIn12Format = 0;\n\n        if (hour24 == 0)\n            hourIn12Format = 12;\n        else if (hour24 &lt;= 12)\n            hourIn12Format = hour24;\n        else\n            hourIn12Format = hour24 - 12;\n\n        return hourIn12Format;\n    }\n\n    private String getAMPM(Calendar calendar) {\n        String ampm = (calendar.get(Calendar.AM_PM) == (Calendar.AM)) ? \"AM\"\n                : \"PM\";\n        return ampm;\n    }\n\n    private void resetData() {\n        calendar_date = null;\n        is24HourView = true;\n    }\n\n    public static String pad(int integerToPad) {\n        if (integerToPad &gt;= 10 || integerToPad &lt; 0)\n            return String.valueOf(integerToPad);\n        else\n            return \"0\" + String.valueOf(integerToPad);\n    }\n}\n</code></pre>\n\n<p>In your Activity : </p>\n\n<p>MainActivity.java: </p>\n\n<pre><code>    public class MainActivity extends Activity{\n\n     CustomDateTimePicker custom;\nButton btnEventDateTime;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n    btnEventDateTime = ((Button) findViewById(R.id.btnEventDateTime));\n    custom = new CustomDateTimePicker(this,\n                    new CustomDateTimePicker.ICustomDateTimeListener() {\n\n                        @Override\n                        public void onSet(Dialog dialog, Calendar calendarSelected,\n                                          Date dateSelected, int year, String monthFullName,\n                                          String monthShortName, int monthNumber, int day,\n                                          String weekDayFullName, String weekDayShortName,\n                                          int hour24, int hour12, int min, int sec,\n                                          String AM_PM) {\n    //                        ((TextInputEditText) findViewById(R.id.edtEventDateTime))\n                            edtEventDateTime.setText(\"\");\n                            edtEventDateTime.setText(year\n                                    + \"-\" + (monthNumber + 1) + \"-\" + calendarSelected.get(Calendar.DAY_OF_MONTH)\n                                    + \" \" + hour24 + \":\" + min\n                                    + \":\" + sec);\n                        }\n\n                        @Override\n                        public void onCancel() {\n\n                        }\n                    });\n            /**\n             * Pass Directly current time format it will return AM and PM if you set\n             * false\n             */\n            custom.set24HourFormat(true);\n            /**\n             * Pass Directly current data and time to show when it pop up\n             */\n            custom.setDate(Calendar.getInstance());\n            btnEventDateTime.setOnClickListener(\n                    new View.OnClickListener() {\n\n                        @Override\n                        public void onClick(View v) {\n                            custom.showDialog();\n                        }\n                    });\n    }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3436, "user_id": 2779803, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9884c7d9fca5908f4ed461f6e7e90266?s=128&d=identicon&r=PG&f=1", "display_name": "Misagh Emamverdi", "link": "https://stackoverflow.com/users/2779803/misagh-emamverdi"}, "is_accepted": false, "score": 1, "last_activity_date": 1469598324, "creation_date": 1469598324, "answer_id": 38604634, "question_id": 38604157, "link": "https://stackoverflow.com/questions/38604157/android-date-time-picker-in-one-dialog/38604634#38604634", "title": "Android Date Time picker in one dialog", "body": "<p>If you need to select the time right after the date selection you can simply show <code>TimePickerDialog</code> automatically after date is selected. This is the easiest way.</p>\n\n<p>While you have listener that is fired when date is selected with selected date, you can simply pass that selected date to <code>TimePickerDialog</code> and with a few customization in <code>mdtp_time_picker_dialog.xml</code> you can add a <code>TextView</code> to show the selected text.</p>\n\n<p>Another option is merging <code>mdtp_time_picker_dialog.xml</code> and <code>mdtp_date_picker_dialog.xml</code> that are root layouts for date picker dialog and time picker dialog. You can set time picker part visibility as <code>GONE</code> and switch the visibility when you want to switch pickers.</p>\n\n<p>The second solution is more difficult to implement because in addition to layouts, you have to merge all controls and listeners.</p>\n\n<p>If you want the user to see both of the pickers, I think you actually need to design a new view yourself. That library layouts is not suitable for this.</p>\n"}, {"comments": [{"owner": {"reputation": 559, "user_id": 3539609, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/qKHK3.jpg?s=128&g=1", "display_name": "Sudip", "link": "https://stackoverflow.com/users/3539609/sudip"}, "edited": false, "score": 1, "creation_date": 1519668876, "post_id": 38605328, "comment_id": 84994580, "body": "Have you tested this code? This doesn&#39;t seem to be working for me. Upon selection of date, it is not calling the timepicker."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4696837"}, "is_accepted": false, "score": 37, "last_activity_date": 1547696888, "last_edit_date": 1547696888, "creation_date": 1469601084, "answer_id": 38605328, "question_id": 38604157, "link": "https://stackoverflow.com/questions/38604157/android-date-time-picker-in-one-dialog/38605328#38605328", "title": "Android Date Time picker in one dialog", "body": "<p>You can call <code>TimePicker</code> after <code>DatePicker</code> set Date. Like this..</p>\n\n<pre><code>    String date_time = \"\";\n    int mYear;\n    int mMonth;\n    int mDay;\n\n    int mHour;\n    int mMinute;\n\n    et_show_date_time = (EditText) findViewById(R.id.et_show_date_time);\n    btn_set_date_time = (Button) findViewById(R.id.btn_set_date_time);\n\n    btn_set_date_time.setOnClickListener(new OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n            datePicker();\n\n        }\n    });\n</code></pre>\n\n<p>Date Picker:</p>\n\n<pre><code>    private void datePicker(){\n\n    // Get Current Date\n    final Calendar c = Calendar.getInstance();\n    mYear = c.get(Calendar.YEAR);\n    mMonth = c.get(Calendar.MONTH);\n    mDay = c.get(Calendar.DAY_OF_MONTH);\n\n    DatePickerDialog datePickerDialog = new DatePickerDialog(this,\n            new DatePickerDialog.OnDateSetListener() {\n\n                @Override\n                public void onDateSet(DatePicker view, int year,int monthOfYear, int dayOfMonth) {\n\n                    date_time = dayOfMonth + \"-\" + (monthOfYear + 1) + \"-\" + year;\n                   //*************Call Time Picker Here ********************\n                   tiemPicker();\n                }\n            }, mYear, mMonth, mDay);\n       datePickerDialog.show();\n    }\n</code></pre>\n\n<p>Time Picker</p>\n\n<pre><code> private void tiemPicker(){\n    // Get Current Time\n    final Calendar c = Calendar.getInstance();\n    mHour = c.get(Calendar.HOUR_OF_DAY);\n    mMinute = c.get(Calendar.MINUTE);\n\n    // Launch Time Picker Dialog\n    TimePickerDialog timePickerDialog = new TimePickerDialog(this,\n            new TimePickerDialog.OnTimeSetListener() {\n\n                @Override\n                public void onTimeSet(TimePicker view, int hourOfDay,int minute) {\n\n                    mHour = hourOfDay;\n                    mMinute = minute;\n\n                    et_show_date_time.setText(date_time+\" \"+hourOfDay + \":\" + minute);\n                }\n            }, mHour, mMinute, false);\n    timePickerDialog.show();\n}\n</code></pre>\n\n<p>--</p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 5694162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55a5c1f92ce133f94185677b9024d55b?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan Podurets", "link": "https://stackoverflow.com/users/5694162/ruslan-podurets"}, "edited": false, "score": 1, "creation_date": 1518643862, "post_id": 48796559, "comment_id": 84595569, "body": "ResultCallback&lt;Date&gt; dateResultCallback its simple interface from my project <code>public interface ResultCallback&lt;Result&gt; {      void onResult(@Nullable Result result);  }</code>"}, {"owner": {"reputation": 375, "user_id": 6899791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/waNkI.jpg?s=128&g=1", "display_name": "Umasankar", "link": "https://stackoverflow.com/users/6899791/umasankar"}, "edited": false, "score": 0, "creation_date": 1566995169, "post_id": 48796559, "comment_id": 101828941, "body": "Hi Ruslan,  How to prevent previous days and times entry in this coding snippet"}, {"owner": {"reputation": 151, "user_id": 5694162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55a5c1f92ce133f94185677b9024d55b?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan Podurets", "link": "https://stackoverflow.com/users/5694162/ruslan-podurets"}, "reply_to_user": {"reputation": 375, "user_id": 6899791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/waNkI.jpg?s=128&g=1", "display_name": "Umasankar", "link": "https://stackoverflow.com/users/6899791/umasankar"}, "edited": false, "score": 1, "creation_date": 1567079445, "post_id": 48796559, "comment_id": 101861194, "body": "Umasankar, you can set datePickerDialog.getDatePicker().setMinDate(System.currentTi&zwnj;&#8203;meMillis() - 1000); or something like this"}], "tags": [], "owner": {"reputation": 151, "user_id": 5694162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55a5c1f92ce133f94185677b9024d55b?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan Podurets", "link": "https://stackoverflow.com/users/5694162/ruslan-podurets"}, "is_accepted": false, "score": 2, "last_activity_date": 1518643802, "creation_date": 1518643802, "answer_id": 48796559, "question_id": 38604157, "link": "https://stackoverflow.com/questions/38604157/android-date-time-picker-in-one-dialog/48796559#48796559", "title": "Android Date Time picker in one dialog", "body": "<p>Googled this problem and found usefull Enamul Haque's answer. Modified his code little bit and got this result. Its quick solution and will be improved, but works nice)</p>\n\n<pre><code>public class DateTimePicker {\n\n    @NonNull\n    private final Calendar calendar = Calendar.getInstance();\n    @Nullable\n    private DatePickerDialog datePickerDialog;\n    @Nullable\n    private TimePickerDialog timePickerDialog;\n    @Nullable\n    private ResultCallback&lt;Date&gt; dateResultCallback;\n\n    public void showDialog(@NonNull Context context, long time) {\n        calendar.setTimeInMillis(time);\n        closeDialogs();\n        showDatePicker(context);\n    }\n\n    @Nullable\n    public ResultCallback&lt;Date&gt; getDateResultCallback() {\n        return dateResultCallback;\n    }\n\n    public void setDateResultCallback(@Nullable ResultCallback&lt;Date&gt; dateResultCallback) {\n        this.dateResultCallback = dateResultCallback;\n    }\n\n    public long getTime() {\n        return calendar.getTimeInMillis();\n    }\n\n    private void closeDialogs() {\n        if (datePickerDialog != null) {\n            datePickerDialog.dismiss();\n            datePickerDialog = null;\n        }\n        if (timePickerDialog != null) {\n            timePickerDialog.dismiss();\n            timePickerDialog = null;\n        }\n    }\n\n    private DatePickerDialog.OnDateSetListener dateSetListener = new DatePickerDialog.OnDateSetListener() {\n        @Override\n        public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\n            calendar.set(Calendar.YEAR, year);\n            calendar.set(Calendar.MONTH, month);\n            calendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\n            timePicker(view.getContext());\n        }\n    };\n\n    private TimePickerDialog.OnTimeSetListener timeSetListener = new TimePickerDialog.OnTimeSetListener() {\n\n        @Override\n        public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n            calendar.set(Calendar.HOUR_OF_DAY, hourOfDay);\n            calendar.set(Calendar.MINUTE, minute);\n            if (dateResultCallback != null) {\n                dateResultCallback.onResult(calendar.getTime());\n            }\n        }\n    };\n\n    private void showDatePicker(@NonNull Context context) {\n        datePickerDialog = new DatePickerDialog(context,\n                dateSetListener,\n                calendar.get(Calendar.YEAR),\n                calendar.get(Calendar.MONTH),\n                calendar.get(Calendar.DAY_OF_MONTH));\n        datePickerDialog.show();\n    }\n\n    private void timePicker(@NonNull Context context) {\n        timePickerDialog = new TimePickerDialog(context,\n                timeSetListener,\n                calendar.get(Calendar.HOUR_OF_DAY),\n                calendar.get(Calendar.MINUTE),\n                true);\n        timePickerDialog.show();\n    }\n\n    public void release() {\n        closeDialogs();\n        dateResultCallback = null;\n    }\n\n}\n</code></pre>\n\n<p>Dialogs calls via method showDialog(...), possible to release object when it not need anymore (in onDestroy() in activity f.e). \nAnd again - thanks Enamul Haque for idea.</p>\n"}, {"comments": [{"owner": {"reputation": 4320, "user_id": 3813915, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/FmIl6.jpg?s=128&g=1", "display_name": "Philip Belgrave-Herbert", "link": "https://stackoverflow.com/users/3813915/philip-belgrave-herbert"}, "edited": false, "score": 0, "creation_date": 1544565163, "post_id": 49427560, "comment_id": 94319629, "body": "Getting an error with your code:Unable to add window -- token null is not for an application"}], "tags": [], "owner": {"reputation": 944, "user_id": 7894033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/noWo1.jpg?s=128&g=1", "display_name": "Rajesh Naddy", "link": "https://stackoverflow.com/users/7894033/rajesh-naddy"}, "is_accepted": false, "score": 1, "last_activity_date": 1527333193, "last_edit_date": 1527333193, "creation_date": 1521718256, "answer_id": 49427560, "question_id": 38604157, "link": "https://stackoverflow.com/questions/38604157/android-date-time-picker-in-one-dialog/49427560#49427560", "title": "Android Date Time picker in one dialog", "body": "<p>Use this simple code.. I'm using this code in my Project..</p>\n\n<pre><code>final Calendar currentDate = Calendar.getInstance();\ndate = Calendar.getInstance();\n            DatePickerDialog datePickerDialog = new DatePickerDialog(getContext(), new DatePickerDialog.OnDateSetListener() {\n\n                @Override\n                public void onDateSet(DatePicker datePicker, int year, int monthOfYear, int dayOfMonth) {\n\n                    date.set(year, monthOfYear, dayOfMonth);\n                    new TimePickerDialog(getContext(), new TimePickerDialog.OnTimeSetListener() {\n                        @Override\n                        public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n                            date.set(Calendar.HOUR_OF_DAY, hourOfDay);\n                            date.set(Calendar.MINUTE, minute);\n                            // Log.v(TAG, \"The choosen one \" + date.getTime());\n                            // Toast.makeText(getContext(),\"The choosen one \" + date.getTime(),Toast.LENGTH_SHORT).show();\n                            datetime.setText(new SimpleDateFormat(\"dd-MMM-yyyy h:mm a\").format(date.getTime()));\n                        }\n                    },currentDate.get(Calendar.HOUR_OF_DAY), currentDate.get(Calendar.MINUTE), false).show();\n\n                }\n            }, currentDate.get(Calendar.YEAR), currentDate.get(Calendar.MONTH), currentDate.get(Calendar.DATE));\n            datePickerDialog.getDatePicker().setMinDate(currentDate.getTimeInMillis());\n            datePickerDialog.show();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 730, "user_id": 3994127, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HynRp.jpg?s=128&g=1", "display_name": "Raghav Satyadev", "link": "https://stackoverflow.com/users/3994127/raghav-satyadev"}, "is_accepted": false, "score": 2, "last_activity_date": 1557270841, "last_edit_date": 1557270841, "creation_date": 1524745651, "answer_id": 50042997, "question_id": 38604157, "link": "https://stackoverflow.com/questions/38604157/android-date-time-picker-in-one-dialog/50042997#50042997", "title": "Android Date Time picker in one dialog", "body": "<p>This answer is basically an improvement in answer given by @Mayur Patel: <a href=\"https://stackoverflow.com/a/38604615/3994127\">https://stackoverflow.com/a/38604615/3994127</a></p>\n\n<p><strong>CustomDateTimePicker.java</strong></p>\n\n<pre><code>import android.app.Dialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.support.v7.widget.AppCompatButton;\nimport android.view.View;\nimport android.view.Window;\nimport android.widget.DatePicker;\nimport android.widget.TimePicker;\nimport android.widget.ViewSwitcher;\n\nimport com.gotrack.gotrack.R;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.Locale;\n\npublic class CustomDateTimePicker implements View.OnClickListener {\n    private Calendar calendar_date = null;\n    private ViewSwitcher viewSwitcher;\n    private DatePicker datePicker;\n    private TimePicker timePicker;\n    private AppCompatButton btnDate, btnTime;\n\n    private ICustomDateTimeListener iCustomDateTimeListener = null;\n\n    private Dialog dialog;\n\n    private boolean is24HourView = true, isAutoDismiss = true;\n\n    private int selectedHour, selectedMinute;\n\n    public CustomDateTimePicker(Context context,\n                                ICustomDateTimeListener customDateTimeListener) {\n        iCustomDateTimeListener = customDateTimeListener;\n\n        dialog = new Dialog(context);\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n        dialog.setContentView(R.layout.date_time_picker);\n        dialog.setOnDismissListener(new DialogInterface.OnDismissListener() {\n            @Override\n            public void onDismiss(DialogInterface dialog) {\n                resetData();\n            }\n        });\n    }\n\n    private void setView() {\n        btnDate = dialog.findViewById(R.id.btn_date);\n        btnTime = dialog.findViewById(R.id.btn_time);\n        dialog.findViewById(R.id.btn_set).setOnClickListener(this);\n        dialog.findViewById(R.id.btn_cancel).setOnClickListener(this);\n        viewSwitcher = dialog.findViewById(R.id.view_switcher);\n        datePicker = dialog.findViewById(R.id.date_picker);\n        timePicker = dialog.findViewById(R.id.time_picker);\n\n        btnDate.setOnClickListener(this);\n        btnTime.setOnClickListener(this);\n\n        timePicker.setIs24HourView(is24HourView);\n        timePicker.setCurrentHour(selectedHour);\n        timePicker.setCurrentMinute(selectedMinute);\n\n        datePicker.updateDate(calendar_date.get(Calendar.YEAR),\n                calendar_date.get(Calendar.MONTH),\n                calendar_date.get(Calendar.DATE));\n\n        btnDate.performClick();\n    }\n\n    public void showDialog() {\n        if (!dialog.isShowing()) {\n            if (calendar_date == null)\n                calendar_date = Calendar.getInstance();\n\n            selectedHour = calendar_date.get(Calendar.HOUR_OF_DAY);\n            selectedMinute = calendar_date.get(Calendar.MINUTE);\n\n            dialog.show();\n\n            setView();\n        }\n    }\n\n    public CustomDateTimePicker setAutoDismiss(boolean isAutoDismiss) {\n        this.isAutoDismiss = isAutoDismiss;\n        return this;\n    }\n\n    public CustomDateTimePicker dismissDialog() {\n        if (!dialog.isShowing())\n            dialog.dismiss();\n\n        return this;\n    }\n\n    public CustomDateTimePicker setDate(Calendar calendar) {\n        if (calendar != null)\n            calendar_date = calendar;\n        return this;\n    }\n\n    public CustomDateTimePicker setDate(Date date) {\n        if (date != null) {\n            calendar_date = Calendar.getInstance();\n            calendar_date.setTime(date);\n        }\n        return this;\n    }\n\n    public CustomDateTimePicker setDate(int year, int month, int day) {\n        if (month &lt; 12 &amp;&amp; month &gt;= 0 &amp;&amp; day &lt; 32 &amp;&amp; day &gt;= 0 &amp;&amp; year &gt; 100\n                &amp;&amp; year &lt; 3000) {\n            calendar_date = Calendar.getInstance();\n            calendar_date.set(year, month, day);\n        }\n        return this;\n    }\n\n    public CustomDateTimePicker setTimeIn24HourFormat(int hourIn24Format, int minute) {\n        if (hourIn24Format &lt; 24 &amp;&amp; hourIn24Format &gt;= 0 &amp;&amp; minute &gt;= 0\n                &amp;&amp; minute &lt; 60) {\n            if (calendar_date == null)\n                calendar_date = Calendar.getInstance();\n\n            calendar_date.set(calendar_date.get(Calendar.YEAR),\n                    calendar_date.get(Calendar.MONTH),\n                    calendar_date.get(Calendar.DAY_OF_MONTH), hourIn24Format,\n                    minute);\n\n            is24HourView = true;\n        }\n        return this;\n    }\n\n    public CustomDateTimePicker setTimeIn12HourFormat(int hourIn12Format, int minute,\n                                                      boolean isAM) {\n        if (hourIn12Format &lt; 13 &amp;&amp; hourIn12Format &gt; 0 &amp;&amp; minute &gt;= 0\n                &amp;&amp; minute &lt; 60) {\n            if (hourIn12Format == 12)\n                hourIn12Format = 0;\n\n            int hourIn24Format = hourIn12Format;\n\n            if (!isAM)\n                hourIn24Format += 12;\n\n            if (calendar_date == null)\n                calendar_date = Calendar.getInstance();\n\n            calendar_date.set(calendar_date.get(Calendar.YEAR),\n                    calendar_date.get(Calendar.MONTH),\n                    calendar_date.get(Calendar.DAY_OF_MONTH), hourIn24Format,\n                    minute);\n\n            is24HourView = false;\n        }\n        return this;\n    }\n\n    public CustomDateTimePicker set24HourFormat(boolean is24HourFormat) {\n        is24HourView = is24HourFormat;\n        return this;\n    }\n\n    public interface ICustomDateTimeListener {\n        void onSet(Dialog dialog, Calendar calendarSelected,\n                   Date dateSelected, int year, String monthFullName,\n                   String monthShortName, int monthNumber, int day,\n                   String weekDayFullName, String weekDayShortName, int hour24,\n                   int hour12, int min, int sec, String AM_PM);\n\n        void onCancel();\n    }\n\n    @Override\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case R.id.btn_date:\n                btnTime.setEnabled(true);\n                btnDate.setEnabled(false);\n\n                if (viewSwitcher.getCurrentView() != datePicker) {\n                    viewSwitcher.showPrevious();\n                }\n                break;\n\n            case R.id.btn_time:\n                btnTime.setEnabled(false);\n                btnDate.setEnabled(true);\n                if (viewSwitcher.getCurrentView() == datePicker) {\n                    viewSwitcher.showNext();\n                }\n                break;\n\n\n            case R.id.btn_set:\n                if (iCustomDateTimeListener != null) {\n                    int month = datePicker.getMonth();\n                    int year = datePicker.getYear();\n                    int day = datePicker.getDayOfMonth();\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                    selectedHour = timePicker.getHour();\n                    selectedMinute = timePicker.getMinute();\n                } else {\n                    selectedHour = timePicker.getCurrentHour();\n                    selectedMinute = timePicker.getCurrentMinute();\n                }\n\n                    calendar_date.set(year, month, day, selectedHour,\n                            selectedMinute);\n\n                    iCustomDateTimeListener.onSet(dialog, calendar_date,\n                            calendar_date.getTime(), calendar_date\n                                    .get(Calendar.YEAR),\n                            getMonthFullName(calendar_date.get(Calendar.MONTH)),\n                            getMonthShortName(calendar_date.get(Calendar.MONTH)),\n                            calendar_date.get(Calendar.MONTH), calendar_date\n                                    .get(Calendar.DAY_OF_MONTH),\n                            getWeekDayFullName(calendar_date\n                                    .get(Calendar.DAY_OF_WEEK)),\n                            getWeekDayShortName(calendar_date\n                                    .get(Calendar.DAY_OF_WEEK)), calendar_date\n                                    .get(Calendar.HOUR_OF_DAY),\n                            getHourIn12Format(calendar_date\n                                    .get(Calendar.HOUR_OF_DAY)), calendar_date\n                                    .get(Calendar.MINUTE), calendar_date\n                                    .get(Calendar.SECOND), getAMPM(calendar_date));\n                }\n                if (dialog.isShowing() &amp;&amp; isAutoDismiss)\n                    dialog.dismiss();\n                break;\n\n            case R.id.btn_cancel:\n                if (iCustomDateTimeListener != null)\n                    iCustomDateTimeListener.onCancel();\n                if (dialog.isShowing())\n                    dialog.dismiss();\n                break;\n        }\n    }\n\n    /**\n     * @param date       date in String\n     * @param fromFormat format of your &lt;b&gt;date&lt;/b&gt; eg: if your date is 2011-07-07\n     *                   09:09:09 then your format will be &lt;b&gt;yyyy-MM-dd hh:mm:ss&lt;/b&gt;\n     * @param toFormat   format to which you want to convert your &lt;b&gt;date&lt;/b&gt; eg: if\n     *                   required format is 31 July 2011 then the toFormat should be\n     *                   &lt;b&gt;d MMMM yyyy&lt;/b&gt;\n     * @return formatted date\n     */\n    public static String convertDate(String date, String fromFormat,\n                                     String toFormat) {\n        try {\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(fromFormat, Locale.getDefault());\n            Date d = simpleDateFormat.parse(date);\n            Calendar calendar = Calendar.getInstance();\n            calendar.setTime(d);\n\n            simpleDateFormat = new SimpleDateFormat(toFormat, Locale.getDefault());\n            simpleDateFormat.setCalendar(calendar);\n            date = simpleDateFormat.format(calendar.getTime());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return date;\n    }\n\n    private String getMonthFullName(int monthNumber) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.MONTH, monthNumber);\n\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"MMMM\", Locale.getDefault());\n        simpleDateFormat.setCalendar(calendar);\n\n        return simpleDateFormat.format(calendar.getTime());\n    }\n\n    private String getMonthShortName(int monthNumber) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.MONTH, monthNumber);\n\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"MMM\", Locale.getDefault());\n        simpleDateFormat.setCalendar(calendar);\n\n        return simpleDateFormat.format(calendar.getTime());\n    }\n\n    private String getWeekDayFullName(int weekDayNumber) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.DAY_OF_WEEK, weekDayNumber);\n\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"EEEE\", Locale.getDefault());\n        simpleDateFormat.setCalendar(calendar);\n\n        return simpleDateFormat.format(calendar.getTime());\n    }\n\n    private String getWeekDayShortName(int weekDayNumber) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.DAY_OF_WEEK, weekDayNumber);\n\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"EE\", Locale.getDefault());\n        simpleDateFormat.setCalendar(calendar);\n\n        return simpleDateFormat.format(calendar.getTime());\n    }\n\n    private int getHourIn12Format(int hour24) {\n        int hourIn12Format = 0;\n\n        if (hour24 == 0)\n            hourIn12Format = 12;\n        else if (hour24 &lt;= 12)\n            hourIn12Format = hour24;\n        else\n            hourIn12Format = hour24 - 12;\n\n        return hourIn12Format;\n    }\n\n    private String getAMPM(Calendar calendar) {\n        return (calendar.get(Calendar.AM_PM) == (Calendar.AM)) ? \"AM\"\n                : \"PM\";\n    }\n\n    private CustomDateTimePicker resetData() {\n        calendar_date = null;\n        is24HourView = true;\n        return this;\n    }\n\n    public static String pad(int integerToPad) {\n        if (integerToPad &gt;= 10 || integerToPad &lt; 0)\n            return String.valueOf(integerToPad);\n        else\n            return \"0\" + String.valueOf(integerToPad);\n    }\n}\n</code></pre>\n\n<p><strong>date_time_picker.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"15dp\"&gt;\n\n        &lt;android.support.v7.widget.AppCompatButton\n            android:id=\"@+id/btn_date\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"5dp\"\n            android:text=\"@string/set_date\"\n            app:backgroundTint=\"@color/colorPrimary\"\n            app:layout_constraintEnd_toStartOf=\"@+id/btn_time\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;android.support.v7.widget.AppCompatButton\n            android:id=\"@+id/btn_time\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"5dp\"\n            android:text=\"@string/set_time\"\n            app:backgroundTint=\"@color/colorPrimary\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@+id/btn_date\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;android.support.v7.widget.AppCompatButton\n            android:id=\"@+id/btn_set\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"5dp\"\n            android:text=\"@string/set\"\n            app:backgroundTint=\"@color/colorPrimary\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@+id/btn_cancel\"\n            app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n\n        &lt;android.support.v7.widget.AppCompatButton\n            android:id=\"@+id/btn_cancel\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"5dp\"\n            android:text=\"@string/cancel\"\n            app:backgroundTint=\"@color/colorPrimary\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@+id/btn_set\" /&gt;\n\n        &lt;ViewSwitcher\n            android:id=\"@+id/view_switcher\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            app:layout_constraintBottom_toTopOf=\"@+id/btn_set\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/btn_date\"&gt;\n\n            &lt;DatePicker\n                android:id=\"@+id/date_picker\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center\"\n                android:theme=\"@style/DialogTheme\" /&gt;\n\n            &lt;TimePicker\n                android:id=\"@+id/time_picker\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center\"\n                android:theme=\"@style/DialogTheme\" /&gt;\n        &lt;/ViewSwitcher&gt;\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>DialogTheme style</strong></p>\n\n<pre><code>&lt;style name=\"DialogTheme\"&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p><strong>Calling code</strong></p>\n\n<pre><code>new CustomDateTimePicker(context,\n        new CustomDateTimePicker.ICustomDateTimeListener() {\n            @Override\n            public void onSet(Dialog dialog, Calendar calendarSelected,\n                              Date dateSelected, int year,\n                              String monthFullName,\n                              String monthShortName,\n                              int monthNumber, int date,\n                              String weekDayFullName,\n                              String weekDayShortName, int hour24,\n                              int hour12,\n                              int min, int sec, String AM_PM) {\n\n            }\n\n            @Override\n            public void onCancel() {\n\n            }\n        }).set24HourFormat(true).setDate(Calendar.getInstance())\n        .showDialog();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11439949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4b4d3c2c11a450d01e943dc33b5ba1c?s=128&d=identicon&r=PG&f=1", "display_name": "Chittu", "link": "https://stackoverflow.com/users/11439949/chittu"}, "is_accepted": false, "score": 0, "last_activity_date": 1556800678, "last_edit_date": 1556800678, "creation_date": 1556796087, "answer_id": 55951352, "question_id": 38604157, "link": "https://stackoverflow.com/questions/38604157/android-date-time-picker-in-one-dialog/55951352#55951352", "title": "Android Date Time picker in one dialog", "body": "<p>You Can Get <code>Date</code> And <code>Time</code> One By One Using <code>Pickers</code> In Android.</p>\n\n<pre><code>Calendar getDate = Calendar.getInstance();\n\n         cDay = getDate.get(Calendar.DAY_OF_MONTH);\n         cMonth = getDate.get(Calendar.MONTH);\n         cYear = getDate.get(Calendar.YEAR);\n\n         timePickerDialog = new TimePickerDialog(DesignActivity.this, new TimePickerDialog.OnTimeSetListener() {\n            @Override\n            public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n\n                final String AM_PM ;\n\n                if (hourOfDay &gt; 12) {\n                    hourOfDay -= 12;\n                    AM_PM = \"pm\";\n                } else if (hourOfDay == 0) {\n                    hourOfDay += 12;\n                    AM_PM = \"am\";\n                } else if (hourOfDay == 12)\n                    AM_PM = \"pm\";\n                else\n                    AM_PM = \"am\";\n\n                hour1 = hourOfDay;\n                minutes1 = minute;\n\n                DatePickerDialog datePicker = new DatePickerDialog(DesignActivity.this, new DatePickerDialog.OnDateSetListener() {\n                    @Override\n                    public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\n\n                        cYear = year;\n                        cMonth = month;\n                        cDay = dayOfMonth;\n\n                        editText.setText(hour1 + \":\" +minutes1 + AM_PM  + \"     \" + cDay + \"/\" + cMonth + \"/\" + cYear);\n\n                    }\n                },cYear,cMonth,cDay);\n\n                datePicker.show();\n\n            }\n        },hour1,minutes1,false);\n\n        timePickerDialog.show();\n\n    }\n});\n</code></pre>\n\n<p>If You Will Need More Explanation About \n<a href=\"https://theandroidcodings.blogspot.com/2019/04/time-and-date-pickers-in-android.html\" rel=\"nofollow noreferrer\">Click This</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 19, "last_activity_date": 1589372499, "last_edit_date": 1589372499, "creation_date": 1565525081, "answer_id": 57449808, "question_id": 38604157, "link": "https://stackoverflow.com/questions/38604157/android-date-time-picker-in-one-dialog/57449808#57449808", "title": "Android Date Time picker in one dialog", "body": "<h2>Kotlin</h2>\n\n<p>Here's the tested Kotlin code for combining the <code>DatePickerDialog</code> and <code>TimePickerDialog</code> together. It becomes simpler because of the support of the closures in Kotlin. The following function should be placed in your <code>Fragment</code> or <code>Activity</code>. The <code>requireContext()</code> method is a member of <code>Fragment</code>. If you are using <code>Activity</code>, use <code>applicationContext</code> instead.</p>\n\n<pre><code>private fun pickDateTime() {\n    val currentDateTime = Calendar.getInstance()\n    val startYear = currentDateTime.get(Calendar.YEAR)\n    val startMonth = currentDateTime.get(Calendar.MONTH)\n    val startDay = currentDateTime.get(Calendar.DAY_OF_MONTH)\n    val startHour = currentDateTime.get(Calendar.HOUR_OF_DAY)\n    val startMinute = currentDateTime.get(Calendar.MINUTE)\n\n    DatePickerDialog(requireContext(), DatePickerDialog.OnDateSetListener { _, year, month, day -&gt;\n        TimePickerDialog(requireContext(), TimePickerDialog.OnTimeSetListener { _, hour, minute -&gt;\n            val pickedDateTime = Calendar.getInstance()\n            pickedDateTime.set(year, month, day, hour, minute)\n            doSomethingWith(pickedDateTime)\n        }, startHour, startMinute, false).show()\n    }, startYear, startMonth, startDay).show()\n}\n</code></pre>\n\n<p>Call the above function in <code>onClickListener</code> of your button as following:</p>\n\n<pre><code>button.setOnClickListener { pickDateTime() }\n</code></pre>\n\n<p>That's it!</p>\n\n<p>If you want to show clock in 12 hour or 24 hour format depending on user's settings, replace <code>false</code> with <code>DateFormat.is24HourFormat(requireContext())</code></p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 5563931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/654d138c9a5d67daa43c168fd1789395?s=128&d=identicon&r=PG&f=1", "display_name": "swdmnd", "link": "https://stackoverflow.com/users/5563931/swdmnd"}, "is_accepted": false, "score": 0, "last_activity_date": 1574804884, "last_edit_date": 1574804884, "creation_date": 1574804555, "answer_id": 59059771, "question_id": 38604157, "link": "https://stackoverflow.com/questions/38604157/android-date-time-picker-in-one-dialog/59059771#59059771", "title": "Android Date Time picker in one dialog", "body": "<p>Based on @<a href=\"https://stackoverflow.com/a/57449808/5563931\">Yogesh Umesh Vaity's answer</a>, I made an object for showing a DateTimePicker in Kotlin.</p>\n\n<pre><code>class DateTimePicker(val context: Context, var pickTime:Boolean = false, var calendar: Calendar = Calendar.getInstance(),\n                     var callback: (it : DateTimePicker) -&gt; Unit) {\n\n    companion object{\n        @JvmStatic\n        fun getFormat(format : String) : String{\n            when(format){\n                \"d\" -&gt; return \"dd/MM/yyyy\"\n                \"t\" -&gt; return \"HH:mm\"\n                \"dt\" -&gt; return \"dd/MM/yyyy HH:mm\"\n            }\n            return \"dd/MM/yyyy\"\n        }\n    }\n\n    fun show(){\n        val startYear = calendar.get(Calendar.YEAR)\n        val startMonth = calendar.get(Calendar.MONTH)\n        val startDay = calendar.get(Calendar.DAY_OF_MONTH)\n        val startHour = calendar.get(Calendar.HOUR_OF_DAY)\n        val startMinute = calendar.get(Calendar.MINUTE)\n\n        DatePickerDialog(context, DatePickerDialog.OnDateSetListener { _, year, month, day -&gt;\n            if(pickTime) {\n                TimePickerDialog(context, TimePickerDialog.OnTimeSetListener { _, hour, minute -&gt;\n                    calendar.set(year, month, day, hour, minute)\n                    callback(this)\n                }, startHour, startMinute, true).show()\n            } else {\n                calendar.set(year,month,day)\n                callback(this)\n            }\n        }, startYear, startMonth, startDay).show()\n    }\n\n    fun showTime(){\n        val startYear = calendar.get(Calendar.YEAR)\n        val startMonth = calendar.get(Calendar.MONTH)\n        val startDay = calendar.get(Calendar.DAY_OF_MONTH)\n        val startHour = calendar.get(Calendar.HOUR_OF_DAY)\n        val startMinute = calendar.get(Calendar.MINUTE)\n\n        TimePickerDialog(context, TimePickerDialog.OnTimeSetListener { _, hour, minute -&gt;\n            calendar.set(startYear, startMonth, startDay, hour, minute)\n            callback(this)\n        }, startHour, startMinute, true).show()\n    }\n}\n</code></pre>\n\n<p>You could use the object from your Activity like this:</p>\n\n<pre><code>// Open Date Picker only and set an EditText\nDateTimePicker(this){\n    val sdf = SimpleDateFormat(DateTimePicker.getFormat(\"d\"), Locale.getDefault())\n    editText.setText(sdf.format(it.calendar.time))\n}.show()\n\n// Open Date Picker then Time picker and set an EditText\nDateTimePicker(this, true){\n    val sdf = SimpleDateFormat(DateTimePicker.getFormat(\"dt\"), Locale.getDefault())\n    editText.setText(sdf.format(it.calendar.time))\n}.show()\n\n// Open Time Picker only and set an EditText\nDateTimePicker(this){\n    val sdf = SimpleDateFormat(DateTimePicker.getFormat(\"t\"), Locale.getDefault())\n    editText.setText(sdf.format(it.calendar.time))\n}.showTime()\n\n// Use your own calendar object if you prefer to use your pre-configured calendar\nval myCalendar = Calendar.getInstance()\nmyCalendar.set(Calendar.YEAR, 1995)\nDateTimePicker(this, false, myCalendar){\n    val sdf = SimpleDateFormat(DateTimePicker.getFormat(\"d\"), Locale.getDefault())\n    editText.setText(sdf.format(it.calendar.time))\n}.show()\n</code></pre>\n"}], "owner": {"reputation": 592, "user_id": 6027516, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/0848dfae2e7efb40af3b2032cb1e49b6?s=128&d=identicon&r=PG&f=1", "display_name": "anuradha", "link": "https://stackoverflow.com/users/6027516/anuradha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41133, "favorite_count": 5, "answer_count": 9, "score": 23, "last_activity_date": 1589372499, "creation_date": 1469596122, "last_edit_date": 1568316648, "question_id": 38604157, "link": "https://stackoverflow.com/questions/38604157/android-date-time-picker-in-one-dialog", "title": "Android Date Time picker in one dialog", "body": "<p>I am using material <code>Date</code> <code>Time</code> picker for my Android app. But I want to combine the <code>Date</code> and <code>Time</code> picker in one dialog.</p>\n\n<p>I am following <a href=\"https://github.com/wdullaer/MaterialDateTimePicker#implement-an-ontimesetlistenerondatesetlistener\" rel=\"noreferrer\">this one</a>. But I need to select the time right after the date selection.</p>\n\n<p>Please suggest possible way to do this one.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "is_accepted": true, "score": 18, "last_activity_date": 1523628928, "last_edit_date": 1523628928, "creation_date": 1469550418, "answer_id": 38595233, "question_id": 38594304, "link": "https://stackoverflow.com/questions/38594304/copy-immutable-map-to-mutable-map-in-kotlin/38595233#38595233", "title": "Copy Immutable Map to Mutable Map in Kotlin", "body": "<p><strong>Update:</strong> The Kotlin 1.1 stdlib has a <code>.toMutableMap()</code> function. This should be used instead of creating your own.</p>\n\n<p>----------------------- Old Answer Below ------------------------------</p>\n\n<p>The following extension function works by copying the <code>Map</code> to a <code>MutableMap</code>.</p>\n\n<pre><code>fun &lt;K, V&gt; Map&lt;K, V&gt;.toMutableMap(): MutableMap&lt;K, V&gt; {\n  return HashMap(this)\n}\n</code></pre>\n\n<p>Some of the other answers suggest checking to see if the map is a <code>MutableMap</code> and then casting to it if it is. This should be avoided at all costs, as it's a bad practice. The fact that it was downcasted to a <code>Map</code> in Kotlin implies that it's expected that this <code>Map</code> shouldn't be changed, and it would be dangerous to do so.</p>\n"}, {"comments": [{"owner": {"reputation": 8617, "user_id": 638225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df8bebd125339c83eb28e0f9aa48ced1?s=128&d=identicon&r=PG", "display_name": "Christoph Leiter", "link": "https://stackoverflow.com/users/638225/christoph-leiter"}, "edited": false, "score": 0, "creation_date": 1469604929, "post_id": 38596381, "comment_id": 64600006, "body": "I think you should specify the generics of the HashMap explicitly, otherwise you end up with a map with platform key/value types."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 3, "creation_date": 1469609862, "post_id": 38596381, "comment_id": 64603258, "body": "I would advise against the <code>is MutableMap</code> check as it can return <code>true</code> for Java collections that aren&#39;t actually mutable. For example try <code>Collections.unmodifiableMap(mutableMapOf(&quot;a&quot; to &quot;b&quot;)) is MutableMap&lt;*,*&gt;</code>."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1469629960, "post_id": 38596381, "comment_id": 64618003, "body": "This looks like the best answer to me. One thing you might add is an example which does not use <code>HashMap</code> directly (I believe <code>mutableMapOf</code> actually uses <code>LinkedHashMap</code>). e.g.: <code>val mutableMap = map.entries.associateTo(mutableMapOf()) { entry -&gt; entry.toPair() }</code>."}, {"owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "edited": false, "score": 2, "creation_date": 1469651941, "post_id": 38596381, "comment_id": 64631110, "body": "Casting the map in some situations, and copying it in others can lead to some unpredictable behavior. I&#39;m not sure that should be encouraged in your answer."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1469670649, "post_id": 38596381, "comment_id": 64636759, "body": "a lot depends on he full use case which isn&#39;t known, so I gave various options.  Buyer beware."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1469670863, "post_id": 38596381, "comment_id": 64636796, "body": "@KirillRakhman true, the MutableMap interface does not guarantee that every implementation is mutable.  Again, depends on how general or specific the case is what is required to make it rock solid."}, {"owner": {"reputation": 990, "user_id": 3019990, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3rUcM.png?s=128&g=1", "display_name": "CAD97", "link": "https://stackoverflow.com/users/3019990/cad97"}, "edited": false, "score": 0, "creation_date": 1512078446, "post_id": 38596381, "comment_id": 82123851, "body": "Note that the first one can be represented more succinctly as <code>readOnlyMap as? MutableMap&lt;K, V&gt; ?: HashMap(readOnlyMap)</code> by utilizing the safe cast and elvis operators."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 7, "last_activity_date": 1469670779, "last_edit_date": 1495535377, "creation_date": 1469554229, "answer_id": 38596381, "question_id": 38594304, "link": "https://stackoverflow.com/questions/38594304/copy-immutable-map-to-mutable-map-in-kotlin/38596381#38596381", "title": "Copy Immutable Map to Mutable Map in Kotlin", "body": "<p>First, as covered in previous questions about Kotlin read only collections and their immutability, they are really read only live views of likely mutable collections.  </p>\n\n<p>Kotlin CAN safely check the type for mutability for these since there are markers on the interfaces that let Kotlin know, for example:</p>\n\n\n\n<pre><code>// assuming some variable readOnlyMap of type Map&lt;String, String&gt;\n\nval mutableMap: MutableMap&lt;String, String&gt; = if (readOnlyMap is MutableMap&lt;*,*&gt;) {\n    readOnlyMap as MutableMap\n} else {\n    HashMap(readOnlyMap)\n}\n</code></pre>\n\n<p>This <code>is</code> check internally calls <code>TypeIntrinsics.isMutableMap</code> and is a valid way to know if it is castable.  There is no danger in the cast if you do this check first.  You'll note the compiler is perfectly happy and without warnings.  This could be dangerous if you don't intend to modify the same map being treated as read-only, but shows that you can cast for affect.</p>\n\n<p>If you do not want the chance of modifying your original map, then of course always make a copy by simply calling constructor of HashMap with another Map, <code>HashMap(readOnlyMap)</code>.  Or make an extension function:</p>\n\n<pre><code>    fun &lt;K, V&gt; Map&lt;K, V&gt;.toMutableCopy() = HashMap(this)\n</code></pre>\n\n<p>and call it:</p>\n\n<pre><code>    val mutableMap = readOnlyMap.toMutableCopy()\n</code></pre>\n\n<p>And now you have your simple way.</p>\n\n<p><strong>See also:</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/33727657/kotlin-and-immutable-collections\">Kotlin and Immutable Collections?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37931676/how-to-turn-a-mutable-collection-into-an-immutable-one\">How to turn a Mutable Collection into an Immutable one</a></li>\n<li><a href=\"https://stackoverflow.com/questions/30496950/kotlin-editing-list\">Kotlin Editing List</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34770493/kotlin-instantiate-immutable-list\">Kotlin Instantiate Immutable List</a></li>\n<li><a href=\"https://stackoverflow.com/a/38002121/3679676\">Klutter library Immutable wrappers</a> </li>\n</ul>\n"}], "owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10679, "favorite_count": 1, "accepted_answer_id": 38595233, "answer_count": 2, "score": 17, "last_activity_date": 1523628928, "creation_date": 1469547521, "last_edit_date": 1469651988, "question_id": 38594304, "link": "https://stackoverflow.com/questions/38594304/copy-immutable-map-to-mutable-map-in-kotlin", "title": "Copy Immutable Map to Mutable Map in Kotlin", "body": "<p>If I have an <code>immutableMap: Map&lt;String, Int&gt;</code> and want to convert it to a <code>mutableMap: MutableMap&lt;String, Int&gt;</code>, what would be the best way to do that? There doesn't seem like any convenient way.</p>\n"}, {"tags": ["maven", "kotlin", "maven-surefire-plugin"], "answers": [{"comments": [{"owner": {"reputation": 12292, "user_id": 511362, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/532637d0ed8ed109a74c1f4e6c443612?s=128&d=identicon&r=PG", "display_name": "Jan Thom&#228;", "link": "https://stackoverflow.com/users/511362/jan-thom%c3%a4"}, "edited": false, "score": 0, "creation_date": 1469687219, "post_id": 38601276, "comment_id": 64641461, "body": "Great, that did the trick for me as well. Thank you very much!"}], "tags": [], "owner": {"reputation": 6487, "user_id": 432354, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/245328944cd4754b3edc12348cd7507f?s=128&d=identicon&r=PG", "display_name": "pvorb", "link": "https://stackoverflow.com/users/432354/pvorb"}, "is_accepted": true, "score": 2, "last_activity_date": 1469574487, "creation_date": 1469574487, "answer_id": 38601276, "question_id": 38592886, "link": "https://stackoverflow.com/questions/38592886/how-to-run-spek-tests-with-maven/38601276#38601276", "title": "How to run Spek tests with Maven?", "body": "<p>I could reproduce your issue with a small sample project, that <a href=\"https://gitlab.com/pvorb/spek-maven-sample/tree/master\" rel=\"nofollow\">you can find on GitLab.com</a>.</p>\n\n<p>If you run <code>mvn clean test</code>, surefire won't find any tests:</p>\n\n<pre><code>[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ spek-maven-sample ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 5.074 s\n[INFO] Finished at: 2016-07-27T00:49:14+02:00\n[INFO] Final Memory: 36M/363M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>This can be circumvented by explicitly including test specs in the Surefire plugin. Say, all your specs are named <code>*Spec.*</code>, then explicitly configuring surefire in your <code>pom.xml</code>:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- other build plugins like the kotlin-maven-plugin --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.12.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Spec.*&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>will lead to executing tests</p>\n\n<pre><code>[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ spek-maven-sample ---\n[INFO] Surefire report directory: C:\\Dev\\IDEA\\spek-test\\target\\surefire-reports\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning NonsenseTestableSpec\nProof that 'should return true' ran\nTests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.077 sec\n\nResults :\n\nTests run: 3, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 6.335 s\n[INFO] Finished at: 2016-07-27T01:02:12+02:00\n[INFO] Final Memory: 26M/363M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>You can find the full working example <a href=\"https://gitlab.com/pvorb/spek-maven-sample/tree/explicit-surefire-config\" rel=\"nofollow\">on the branch \"explicit-surefire-config\"</a> of the mentioned repository.</p>\n"}], "owner": {"reputation": 12292, "user_id": 511362, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/532637d0ed8ed109a74c1f4e6c443612?s=128&d=identicon&r=PG", "display_name": "Jan Thom&#228;", "link": "https://stackoverflow.com/users/511362/jan-thom%c3%a4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1692, "favorite_count": 0, "accepted_answer_id": 38601276, "answer_count": 1, "score": 0, "last_activity_date": 1469574487, "creation_date": 1469543876, "question_id": 38592886, "link": "https://stackoverflow.com/questions/38592886/how-to-run-spek-tests-with-maven", "title": "How to run Spek tests with Maven?", "body": "<p>I'm trying to run Spek tests with Maven. I have set up maven like this:</p>\n\n<pre><code>    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n\n                &lt;configuration/&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n     &lt;/build&gt;\n</code></pre>\n\n<p>Additionally I have a few Spek tests in src/test/kotlin. I can run these fine within the IDE, but when I run <code>mvn test</code> they are completely ignored by the surefire plugin (it reports 0 tests being run). Is it possible to run Spek tests with maven and if so, how would this be set up? I cannot find anything about it on the spek homepage.</p>\n"}, {"tags": ["java", "list", "kotlin"], "comments": [{"owner": {"reputation": 4006, "user_id": 1255737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fd7f0e50ff644a87144feff4fbe2101?s=128&d=identicon&r=PG", "display_name": "rmlan", "link": "https://stackoverflow.com/users/1255737/rmlan"}, "edited": false, "score": 3, "creation_date": 1469541134, "post_id": 38591773, "comment_id": 64571838, "body": "A <code>Set</code> is not a <code>List</code> and vice-versa. This is pretty clear."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1469541267, "post_id": 38591773, "comment_id": 64571931, "body": "It&#39;s &quot;Mutable&quot;, not &quot;Mutuable&quot;, and String! means that it&#39;s a platform type. See <a href=\"http://stackoverflow.com/questions/27460536/kotlin-what-is-kotlin-string-type\" title=\"kotlin what is kotlin string type\">stackoverflow.com/questions/27460536/&hellip;</a>"}, {"owner": {"reputation": 8470, "user_id": 1245622, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/V7rHB.jpg?s=128&g=1", "display_name": "linqu", "link": "https://stackoverflow.com/users/1245622/linqu"}, "edited": false, "score": 0, "creation_date": 1469541326, "post_id": 38591773, "comment_id": 64571983, "body": "Thanks for your quick answers! It&#39;s a stupid question, I just mixed up Set and List types."}], "answers": [{"comments": [{"owner": {"reputation": 29817, "user_id": 462604, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7176c041527db5489a2181a0f87f57d9?s=128&d=identicon&r=PG", "display_name": "Jakob Bowyer", "link": "https://stackoverflow.com/users/462604/jakob-bowyer"}, "edited": false, "score": 0, "creation_date": 1469541319, "post_id": 38591847, "comment_id": 64571972, "body": "It is more common to put the generic in the function call and let kotlin infer the type."}, {"owner": {"reputation": 4006, "user_id": 1255737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fd7f0e50ff644a87144feff4fbe2101?s=128&d=identicon&r=PG", "display_name": "rmlan", "link": "https://stackoverflow.com/users/1255737/rmlan"}, "reply_to_user": {"reputation": 29817, "user_id": 462604, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7176c041527db5489a2181a0f87f57d9?s=128&d=identicon&r=PG", "display_name": "Jakob Bowyer", "link": "https://stackoverflow.com/users/462604/jakob-bowyer"}, "edited": false, "score": 0, "creation_date": 1469541384, "post_id": 38591847, "comment_id": 64572030, "body": "@JakobBowyer - good to know. I have not played around with Kotlin yet, so this was just going off pure JVM type-safety knowledge."}, {"owner": {"reputation": 4006, "user_id": 1255737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fd7f0e50ff644a87144feff4fbe2101?s=128&d=identicon&r=PG", "display_name": "rmlan", "link": "https://stackoverflow.com/users/1255737/rmlan"}, "reply_to_user": {"reputation": 29817, "user_id": 462604, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7176c041527db5489a2181a0f87f57d9?s=128&d=identicon&r=PG", "display_name": "Jakob Bowyer", "link": "https://stackoverflow.com/users/462604/jakob-bowyer"}, "edited": false, "score": 0, "creation_date": 1527264656, "post_id": 38591847, "comment_id": 88078284, "body": "Would the drive-by downvoter care to explain their downvote and how I might be able to improve this answer?"}], "tags": [], "owner": {"reputation": 4006, "user_id": 1255737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fd7f0e50ff644a87144feff4fbe2101?s=128&d=identicon&r=PG", "display_name": "rmlan", "link": "https://stackoverflow.com/users/1255737/rmlan"}, "is_accepted": true, "score": 4, "last_activity_date": 1469555492, "last_edit_date": 1469555492, "creation_date": 1469541242, "answer_id": 38591847, "question_id": 38591773, "link": "https://stackoverflow.com/questions/38591773/invoke-java-method-from-kotlin-with-list-parameter/38591847#38591847", "title": "Invoke Java Method From Kotlin with List Parameter", "body": "<p>If you really want to use a List, you need to change the signature of your Java method:</p>\n\n<pre><code>void find(@Nonnull List&lt;String&gt; list);\n</code></pre>\n\n<p>On the other hand, you can change the declaration of your variable in Kotlin:</p>\n\n<pre><code>val set: Set&lt;String&gt; = emptySet()\nrepository.find(set)\n</code></pre>\n\n<p>Or per Jakob Bowyer's comment and answer, you can let Kotlin infer the argument type:</p>\n\n<pre><code>val set = emptySet&lt;String&gt;()\nrepository.find(set)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29817, "user_id": 462604, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7176c041527db5489a2181a0f87f57d9?s=128&d=identicon&r=PG", "display_name": "Jakob Bowyer", "link": "https://stackoverflow.com/users/462604/jakob-bowyer"}, "is_accepted": false, "score": 1, "last_activity_date": 1469541258, "creation_date": 1469541258, "answer_id": 38591857, "question_id": 38591773, "link": "https://stackoverflow.com/questions/38591773/invoke-java-method-from-kotlin-with-list-parameter/38591857#38591857", "title": "Invoke Java Method From Kotlin with List Parameter", "body": "<p>Why not \n<code>\nval list = emptySet&lt;String&gt;()\nrepository.find(list) // this call goes to a java class\n</code></p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 0, "last_activity_date": 1469806056, "creation_date": 1469806056, "answer_id": 38662439, "question_id": 38591773, "link": "https://stackoverflow.com/questions/38591773/invoke-java-method-from-kotlin-with-list-parameter/38662439#38662439", "title": "Invoke Java Method From Kotlin with List Parameter", "body": "<p>If you have a <code>List</code> and want to pass it to (java) function taking a <code>Set</code>, you can convert the list with <code>toSet</code> extension function:</p>\n\n<pre><code>repository.find(list.toSet())\n</code></pre>\n"}], "owner": {"reputation": 8470, "user_id": 1245622, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/V7rHB.jpg?s=128&g=1", "display_name": "linqu", "link": "https://stackoverflow.com/users/1245622/linqu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 704, "favorite_count": 0, "accepted_answer_id": 38591847, "answer_count": 3, "score": -1, "last_activity_date": 1469806056, "creation_date": 1469541065, "question_id": 38591773, "link": "https://stackoverflow.com/questions/38591773/invoke-java-method-from-kotlin-with-list-parameter", "title": "Invoke Java Method From Kotlin with List Parameter", "body": "<p>I want to call a Java method from some kotlin code</p>\n\n<pre><code>val list: List&lt;String&gt; = emptyList()\nrepository.find(list) // this call goes to a java class\n</code></pre>\n\n<p>IntelliJ is informing me about a type mismatch:</p>\n\n<blockquote>\n  <p>Type mismatch.<br/>\n   Required: (Mutuable)Set&lt;String!&gt;<br/>\n   Found: List&lt;String&gt;</p>\n</blockquote>\n\n<p>My method signature in Java:</p>\n\n<pre><code>void find(@Nonnull Set&lt;String&gt; list);\n</code></pre>\n\n<p>I understand that this can't go well and <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow\">according to the doc</a>, I could use a <em>MutableList</em> in Kotlin instead. But I have full control over the Java Code too and would like to change the Java code to work with Kotlin's <em>List</em>.</p>\n\n<p>How does a Java method signature look like to accept Kotlin's List?</p>\n\n<p>BTW: was is IntelliJ telling me with <code>Required: (Mutuable)Set&lt;String!&gt;</code>? What is the exclamation mark good for?</p>\n"}, {"tags": ["android", "android-layout", "generics", "delegates", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "edited": false, "score": 0, "creation_date": 1469533917, "post_id": 38587032, "comment_id": 64566291, "body": "It&#39;s not what I think about, but it&#39;s the result that I&#39;d like! Like that, I don&#39;t have to write the type twice."}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 5, "last_activity_date": 1469527965, "creation_date": 1469527965, "answer_id": 38587032, "question_id": 38585724, "link": "https://stackoverflow.com/questions/38585724/can-i-infer-type-of-a-property-in-the-delegate/38587032#38587032", "title": "Can I infer type of a property in the delegate?", "body": "<p>You can have </p>\n\n<pre><code>val backgroundImage by lazy { view&lt;ImageView&gt;(R.id.imageView) }\n</code></pre>\n\n<p>or </p>\n\n<pre><code>val backgroundImage by lazy&lt;ImageView&gt; { view(R.id.imageView) }\n</code></pre>\n\n<p>Note that in both cases the type of <code>backgroundImage</code> is inferred from the right hand side expression type.</p>\n"}], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 38587032, "answer_count": 1, "score": 2, "last_activity_date": 1469527965, "creation_date": 1469524422, "question_id": 38585724, "link": "https://stackoverflow.com/questions/38585724/can-i-infer-type-of-a-property-in-the-delegate", "title": "Can I infer type of a property in the delegate?", "body": "<p>I have this code. It will <code>findViewById</code> with a delegate.</p>\n\n<pre><code>val backgroundImage: ImageView by lazy { view&lt;ImageView&gt;(R.id.item_component_section_background) }\n\nfun &lt;T: View&gt; view(id : Int) : T {\n    val view : View = findViewById(id) ?: throw IllegalArgumentException(\"Given ID could not be found in current layout!\")\n\n    @Suppress(\"UNCHECKED_CAST\")\n    return view as T\n}\n</code></pre>\n\n<p>Is there any way to remove the <code>view&lt;ImageView&gt;</code> for something like <code>view</code> in the lazy-block? Can I get or infer the type of the property in the function <code>view()</code>?</p>\n"}, {"tags": ["spring", "spring-mvc", "kotlin", "bean-validation"], "answers": [{"tags": [], "owner": {"reputation": 316, "user_id": 2853228, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b84a9403558fc6f9e3842e68ebe4e8c?s=128&d=identicon&r=PG&f=1", "display_name": "BhathiyaW", "link": "https://stackoverflow.com/users/2853228/bhathiyaw"}, "is_accepted": true, "score": 2, "last_activity_date": 1469662295, "last_edit_date": 1469662295, "creation_date": 1469594418, "answer_id": 38603854, "question_id": 38579771, "link": "https://stackoverflow.com/questions/38579771/java-bean-validation-on-spring-mvc-controller-pathvariables/38603854#38603854", "title": "Java bean validation on Spring MVC Controller PathVariables", "body": "<p>Well I found the issue - it was because the proxy created for the controller was a JDK Dynamic proxy. When I forced it to be a CGLIB proxy it started working alright. </p>\n\n<p>By default Kotlin classes are final and therefore forced to use JDK Dynamic proxies, but marking the controller as 'open' was not sufficient to coerce it to use CGLIB. Had to add @Scope(proxyMode = ScopedProxyMode.TARGET_CLASS) to the controller class</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/somepath\") \n@Scope(proxyMode = ScopedProxyMode.TARGET_CLASS)\nclass SomeController ......: SomeResource ....\n</code></pre>\n"}], "owner": {"reputation": 316, "user_id": 2853228, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b84a9403558fc6f9e3842e68ebe4e8c?s=128&d=identicon&r=PG&f=1", "display_name": "BhathiyaW", "link": "https://stackoverflow.com/users/2853228/bhathiyaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 605, "favorite_count": 0, "accepted_answer_id": 38603854, "answer_count": 1, "score": 1, "last_activity_date": 1469662295, "creation_date": 1469496525, "last_edit_date": 1469594448, "question_id": 38579771, "link": "https://stackoverflow.com/questions/38579771/java-bean-validation-on-spring-mvc-controller-pathvariables", "title": "Java bean validation on Spring MVC Controller PathVariables", "body": "<p>I am trying to get Java Bean validation annotations to work with path variables and query parameters in Spring MVC controller. (Environment: Spring Boot v1.3.5, Springxxx 4.2.6, programming language Kotlin 1.0.3)</p>\n\n<p>e.g.</p>\n\n<pre><code>@RequestMapping(value = \"/{someId}\" ...)\nfun getSomething(**@SomeValidId** @PathVariable(\"someId\") someId: String):...\n</code></pre>\n\n<p>I have added org.springframework.validation.beanvalidation.MethodValidationPostProcessor as described in <a href=\"https://raymondhlee.wordpress.com/2015/08/29/validating-spring-mvc-request-mapping-method-parameters/\" rel=\"nofollow\">https://raymondhlee.wordpress.com/2015/08/29/validating-spring-mvc-request-mapping-method-parameters/</a> and also added org.springframework.validation.beanvalidation.LocalValidatorFactoryBean as the validatorFactory to the above. </p>\n\n<pre><code>@Configuration\n...class .... {\n\n...\n\n@Bean\nopen fun localValidatorFactoryBean() = LocalValidatorFactoryBean()\n\n@Bean\nopen fun methodValidationPostProcessor() : MethodValidationPostProcessor  {\n    val methodValidationPostProcessor = MethodValidationPostProcessor()\n    methodValidationPostProcessor.setValidator(localValidatorFactoryBean())\n\n    return methodValidationPostProcessor\n}\n</code></pre>\n\n<p>}</p>\n\n<p>But when I annotate the Controller class (or the interface it implements) with \norg.springframework.validation.annotation.Validated as suggested looks like the controller class is proxied (which seems to be as expected - <a href=\"https://github.com/spring-projects/spring-security/issues/3215\" rel=\"nofollow\">https://github.com/spring-projects/spring-security/issues/3215</a>). </p>\n\n<pre><code>@Validated\ninterface SomeResource  {\n....\n\n@RestController\n@RequestMapping(\"/somepath\") \nclass SomeController ......: SomeResource ....\n</code></pre>\n\n<p>But this causes the Spring mvc request mapping setup to ignore the SomeController. Debugging through the Spring framework code looked like org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods() goes through the list of beans and tries to detect handler methods but the above controller is ignored by the looks of it as it encounters a proxy instance and it doesn't carry the @Controller or @RequestMapping annotations.</p>\n\n<p>Does anyone have any idea what's missing? There seems to be a lot of information out there that seem to suggest this should be possible, but couldn't find a working example .</p>\n"}, {"tags": ["dependency-injection", "kotlin", "kodein"], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 5, "last_activity_date": 1469464434, "last_edit_date": 1495535266, "creation_date": 1469464434, "answer_id": 38573126, "question_id": 38573125, "link": "https://stackoverflow.com/questions/38573125/with-kodein-dependency-injection-i-dont-want-to-pass-around-kodein-instances-e/38573126#38573126", "title": "With Kodein dependency injection, I don&#39;t want to pass around kodein instances everywhere", "body": "<p>In Kodein <code>3.x</code> there is a new module available called <code>kodein-conf</code>.  This allows you to create a modifiable instance of Kodein (as long as you modify it before the first injection is done), and it also contains a Kodein global instance for shared use if that is desired instead.  This is contrary to a normal Kodein instance which must have all bindings defined at construction time and can never be modified.</p>\n\n<p>Using the predefined global is as easy as referencing <code>Kodein.global</code>.  And it works the same as any configurable Kodein instance:</p>\n\n\n\n<pre><code>Kodein.global.addImport(someModule) // add other modules to it\n\nval something: SomethingCool = Kodein.global.instance() // inject from it\n</code></pre>\n\n<p>If you want to make your own global:</p>\n\n<pre><code>val kodeinGlobal = ConfigurableKodein()\n</code></pre>\n\n<p>For more about <code>ConfigurableKodein</code> read the <a href=\"https://salomonbrys.github.io/Kodein/#_configurable_kodein\" rel=\"noreferrer\">Kodein <code>3.x</code> docs for ConfigurableKodein</a>, and about the predefined global instance <a href=\"https://salomonbrys.github.io/Kodein/#_the_god_complex_one_true_kodein\" rel=\"noreferrer\">The God Complex: One True Kodein</a></p>\n\n<p>As a helper, you can use the new <code>KodeinGlobalAware</code> interface to have natural access within your class to Kodein instances without having to directly reference the global Kodein instance.  For example by adding this interface, you can just call the instance creation methods, such as:</p>\n\n<pre><code>class DefaultSomeService(): SomeService, KodeinGlobalAware {\n    val mapper: ObjectMapper = instance()\n    // ...\n}\n</code></pre>\n\n<p>Or if you have a case (such as testing) where you want to use the global instance unless overridden with a specific instance, you can do something similar to:</p>\n\n<pre><code>class DefaultSomeService(override val kodein: Kodein = Kodein.global): SomeService, KodeinAware {\n    val mapper: ObjectMapper = instance()\n    // ...\n}\n</code></pre>\n\n<p>Which uses <code>KodeinAware</code> interface and and overrides its abstract member variable <code>kodein</code> to do the same transparent type of injection within the class, while defaulting to the <code>global</code> instance.</p>\n\n<p>If you want to only inject Kodein whether that is the global instance or a specific one, see:  <a href=\"https://stackoverflow.com/a/38572797/3679676\">Injecting Kodein instances within binding declarations</a> as an alternative.</p>\n"}], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2257, "favorite_count": 0, "accepted_answer_id": 38573126, "answer_count": 1, "score": 2, "last_activity_date": 1469464434, "creation_date": 1469464434, "last_edit_date": 1610973576, "question_id": 38573125, "link": "https://stackoverflow.com/questions/38573125/with-kodein-dependency-injection-i-dont-want-to-pass-around-kodein-instances-e", "title": "With Kodein dependency injection, I don&#39;t want to pass around kodein instances everywhere", "body": "<p>Using Kodein, I find I have to pass kodein instances around or inject them into modules and classes.  But sometimes I have classes that are so disconnected I want them just to be able to discover &quot;one true Kodein&quot;.  Since this is a server side app, and I only have one Kodein scope it should be easy.  I can create a global object, such as:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val kodeinGlobal: Kodein = Kodein { ... }\n</code></pre>\n<p>But that doesn't work when some of the modules are re-used across different projects and we cannot easily share this one instance.  Maybe a separate module just to hold the global would work, but then it would need to be a <code>var</code> and I'd prefer it not be changeable.</p>\n<p>Can Kodein find a main, top-level or global scope on its own?</p>\n<p><em><strong>Note:</strong></em> <em>this question is intentionally written and answered by the author (<a href=\"https://blog.stackoverflow.com/2011/07/its-ok-to-ask-and-answer-your-own-questions/\">Self-Answered Questions</a>), so that the idiomatic answers to commonly asked Kotlin/Kodein topics are present in SO.</em></p>\n"}, {"tags": ["dependency-injection", "kotlin", "kodein"], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 4, "last_activity_date": 1469464579, "last_edit_date": 1469464579, "creation_date": 1469463413, "answer_id": 38572797, "question_id": 38572796, "link": "https://stackoverflow.com/questions/38572796/in-kodein-dependency-injection-how-can-you-inject-instances-of-kodein-itself-in/38572797#38572797", "title": "In Kodein dependency injection, how can you inject instances of Kodein itself into instances?", "body": "<p>In Kodein <code>3.x</code> (and maybe older versions) you have access to a property within the initialization of any module called <code>kodein</code> that you can use in your bindings.  </p>\n\n<p>Within your module, the binding would look like:</p>\n\n\n\n<pre><code>bind&lt;SomeService&gt;() with singleton { SomeService(kodein) }\n</code></pre>\n\n<p>For a complete example and using a separation of interfaces vs. implementation, it might look something like this:</p>\n\n<pre><code>interface SomeService {\n   // ...\n}\n\nclass DefaultSomeService(val kodein: Kodein): SomeService {\n    companion object {\n        val module = Kodein.Module {\n            bind&lt;SomeService&gt;() with singleton { DefaultSomeService(kodein) }\n        }\n    }\n\n    val mapper: ObjectMapper = kodein.instance()\n    // ...\n}\n</code></pre>\n\n<p>You can import the module from the parent as you noted and it will receive its own reference to the current Kodein instance.</p>\n\n<pre><code>val kodein = Kodein {\n    import(DefaultSomeService.module)\n}\n</code></pre>\n"}], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1883, "favorite_count": 0, "accepted_answer_id": 38572797, "answer_count": 1, "score": 4, "last_activity_date": 1469464646, "creation_date": 1469463413, "last_edit_date": 1610973576, "question_id": 38572796, "link": "https://stackoverflow.com/questions/38572796/in-kodein-dependency-injection-how-can-you-inject-instances-of-kodein-itself-in", "title": "In Kodein dependency injection, how can you inject instances of Kodein itself into instances?", "body": "<p>In Kodein, I have modules imported into a parent module, and sometimes the classes need an instance of Kodein so they can do injection themselves later.  The problem is this code:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val parentModule = Kodein {\n    import(SomeService.module)\n}\n</code></pre>\n<p>Where <code>SomeService.module</code> needs the Kodein instance for later, but Kodein isn't yet created.  Passing it later into the module seems like a bad idea.</p>\n<p>In Kodein <code>3.x</code> I see there is the <code>kodein-conf</code> module that has a global instance, but I want to avoid the global.</p>\n<p>How do other modules or classes get the Kodein instance?</p>\n<p><em><strong>Note:</strong></em> <em>this question is intentionally written and answered by the author (<a href=\"https://blog.stackoverflow.com/2011/07/its-ok-to-ask-and-answer-your-own-questions/\">Self-Answered Questions</a>), so that the idiomatic answers to commonly asked Kotlin/Kodein topics are present in SO.</em></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1469473637, "post_id": 38572473, "comment_id": 64540319, "body": "What do you mean by <i>break its visualisation</i>? Can you provide <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>?"}, {"owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1469526748, "post_id": 38572473, "comment_id": 64561429, "body": "sure, i&#39;ll update the answer"}], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 833, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1470218022, "creation_date": 1469462387, "last_edit_date": 1470218022, "question_id": 38572473, "link": "https://stackoverflow.com/questions/38572473/kotlin-by-lazy-in-custom-views", "title": "Kotlin by Lazy in Custom Views", "body": "<p>Currently, using <code>by Lazy</code> in a custom view break its visualisation in Android Studio. Using <code>isEditMode</code> can't be used because it is only available inside a method and not at variable initialisation scope. only workaround is using lateinit and or Delegates.notNull().</p>\n\n<p>Is there any workaround for this?</p>\n\n<p>Example:</p>\n\n<pre><code>class ImageViewCircleBg : ImageView {\n\n    private var circleBgColor = R.color.colorPrimary\n    private val paint by lazy {\n        Paint().apply {\n            style = Paint.Style.FILL\n            isAntiAlias = true\n        }\n    }\n\n    constructor(context: Context) : this(context, null)\n    constructor(context: Context, attrs: AttributeSet?) : this(context, attrs, 0)\n    constructor(context: Context, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr) {\n\n        val ta = context.theme.obtainStyledAttributes(attrs, R.styleable.ImageViewCircleBg, 0, 0)\n        circleBgColor = ta.getColor(R.styleable.ImageViewCircleBg_roundBgColor, circleBgColor)\n        ta.recycle()\n\n        this.paint.color = circleBgColor\n    }\n</code></pre>\n\n<p>Produces the following error in android studio design window:</p>\n\n<pre><code>The following classes could not be instantiated:\n-\u00a0....ImageViewCircleBg (Open Class, Show Exception, Clear Cache)\n Tip: Use View.isInEditMode() in your custom views to skip code or show sample data when shown in the IDE  Exception Details java.lang.IncompatibleClassChangeError: Found class kotlin.Lazy, but interface was expected \u00a0\u00a0at ...ImageViewCircleBg.getPaint(ImageViewCircleBg.kt:-1)\n</code></pre>\n\n<p>Replacing by lazy with this:</p>\n\n<pre><code>private val paint: Paint\n\n    init {\n        paint = Paint().apply {\n            style = Paint.Style.FILL\n            isAntiAlias = true\n        }\n    }\n</code></pre>\n\n<p>Solves the problem.</p>\n\n<p>Error:</p>\n\n<pre><code>java.lang.IncompatibleClassChangeError: Found class kotlin.lazy, but interface was expected\n</code></pre>\n"}, {"tags": ["android", "generics", "kotlin", "start-activity", "anko"], "comments": [{"owner": {"reputation": 2902, "user_id": 6486583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eEFmo.jpg?s=128&g=1", "display_name": "spirit", "link": "https://stackoverflow.com/users/6486583/spirit"}, "edited": false, "score": 0, "creation_date": 1469390846, "post_id": 38556132, "comment_id": 64503544, "body": "you can start new activity through a new <code>Intent</code> object. Check Android docs."}], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 1, "last_activity_date": 1469428947, "creation_date": 1469428947, "answer_id": 38561211, "question_id": 38556132, "link": "https://stackoverflow.com/questions/38556132/dynamic-use-of-ankocomponent-startactivity/38561211#38561211", "title": "Dynamic use of AnkoComponent&lt;*&gt;.startActivity()", "body": "<p>The <a href=\"https://github.com/Kotlin/anko/blob/master/doc/ADVANCED.md\" rel=\"nofollow\"><code>startActivity</code></a> method you're trying to use has a signature like:</p>\n\n<p><code>inline fun &lt;reified T: Activity&gt; Fragment.startActivity(vararg params: Pair&lt;String, Any&gt;)</code></p>\n\n<p>As you can see it uses <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow\">reified types parameters</a>. The consequence is that if you want to wrap the function in another helper function it has to be too inlined and use reified type parameters. What's even more important is that it requires nested functions/lambdas to use inlining too - which in case of <code>onClick</code> is not true.</p>\n\n<p>However I think you can still achieve your goal with <code>intentFor&lt;T&gt;</code> like so:</p>\n\n<pre><code>inline fun &lt;reified T : Activity&gt; Context.buttonGoTo() = UI {\n    val target = intentFor&lt;T&gt;()\n    button() {\n        onClick {\n            startActivity(target)\n        }\n    }\n}.view\n</code></pre>\n"}], "owner": {"reputation": 160, "user_id": 4177612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-BHXwXZ27Vh4/AAAAAAAAAAI/AAAAAAAAAHU/ND3J8zu54_w/photo.jpg?sz=128", "display_name": "D. Amoroso", "link": "https://stackoverflow.com/users/4177612/d-amoroso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "accepted_answer_id": 38561211, "answer_count": 1, "score": 1, "last_activity_date": 1469428947, "creation_date": 1469390035, "question_id": 38556132, "link": "https://stackoverflow.com/questions/38556132/dynamic-use-of-ankocomponent-startactivity", "title": "Dynamic use of AnkoComponent&lt;*&gt;.startActivity()", "body": "<p>Is there a way to call startActivity() dynamically?</p>\n\n<p>The purpose would be to have something like the following:</p>\n\n<pre><code>fun &lt;T: Activity&gt; buttonGoTo(): android.widget.Button {\n\n    return button() {\n        // do stuff\n        onClick {startActivity&lt;T&gt;()}\n    }\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["numbers", "type-conversion", "kotlin", "data-conversion"], "comments": [{"owner": {"reputation": 5110, "user_id": 1542319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49d8051261a5786e0fed00556f644191?s=128&d=identicon&r=PG", "display_name": "SerCe", "link": "https://stackoverflow.com/users/1542319/serce"}, "edited": false, "score": 0, "creation_date": 1469387642, "post_id": 38549247, "comment_id": 64502585, "body": "BTW, why don&#39;t you use JNR instead of JNA? JNR is much faster."}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 5110, "user_id": 1542319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49d8051261a5786e0fed00556f644191?s=128&d=identicon&r=PG", "display_name": "SerCe", "link": "https://stackoverflow.com/users/1542319/serce"}, "edited": false, "score": 0, "creation_date": 1469391184, "post_id": 38549247, "comment_id": 64503645, "body": "@SerCe My performance testing against direct-mapped JNA shows negligible performance gains, and sometimes performance loss."}], "answers": [{"comments": [{"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 0, "creation_date": 1469346709, "post_id": 38549689, "comment_id": 64490877, "body": "For my case performance is very important, the functions need to be called thousands of times per second. Number is something to know though!"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 0, "creation_date": 1469347165, "post_id": 38549689, "comment_id": 64490960, "body": "Less than a couple of millions calls per second is not much. I advice you measure your program w/ and w/o boxing to see if there is a notable difference"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 2, "last_activity_date": 1469352146, "last_edit_date": 1469352146, "creation_date": 1469345007, "answer_id": 38549689, "question_id": 38549247, "link": "https://stackoverflow.com/questions/38549247/kotlin-is-there-a-way-to-clean-up-number-overloads/38549689#38549689", "title": "Kotlin: Is there a way to clean up number overloads?", "body": "<p>Answering your question: you can use a generic function with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-number/\" rel=\"nofollow\"><code>Number</code></a>. Then it will accept any subtype of <code>Number</code>. Then you can convert the value into any other numeric type:</p>\n\n<pre><code>fun boo(x: Number) {\n    val y = x.toLong()\n    println(y is Long)\n} \n</code></pre>\n\n<p>The only downside of this is autoboxing, but that should not matter for your case.</p>\n\n<p>Regarding the code you posted: I believe you have some architectural errors which cause this situation. Here is your API without too much details: </p>\n\n<pre><code>interface Source {\n    fun read(address: Long, data: Pointer, bytesToRead: Int) \n\n    fun read(address: Int, data: Pointer, bytesToRead: Int) = read(address.toLong(), data, bytesToRead)\n    fun read(address: Long, data: Memory, bytesToRead: Int = data.size().toInt()) = read(address, data as Pointer, bytesToRead)\n    fun read(address: Int, data: Memory, bytesToRead: Int = data.size().toInt()) = read(address.toLong(), data, bytesToRead)\n    fun read(address: Long, struct: Struct, bytesToRead: Int = struct.size()) = read(address, struct.pointer, bytesToRead)\n    fun read(address: Int, struct: Struct, bytesToRead: Int = struct.size()) = read(address.toLong(), struct, bytesToRead)\n    fun read(address: Long, bytesToRead: Int): Memory = TODO()\n    fun read(address: Int, bytesToRead: Int) = read(address.toLong(), bytesToRead)\n\n\n    fun byte(address: Long, offset: Long = 0) = read(address, 1).getByte(offset)\n    fun byte(address: Int, offset: Long = 0) = byte(address.toLong(), offset)\n\n    fun short(address: Long, offset: Long = 0) = read(address, 2).getShort(offset)\n    fun short(address: Int, offset: Long = 0) = short(address.toLong(), offset)\n\n    fun char(address: Long, offset: Long = 0) = read(address, 2).getChar(offset)\n    fun char(address: Int, offset: Long = 0) = char(address.toLong(), offset)\n\n    fun int(address: Long, offset: Long = 0) = read(address, 4).getInt(offset)\n    fun int(address: Int, offset: Long = 0) = int(address.toLong(), offset)\n\n    fun long(address: Long, offset: Long = 0) = read(address, 8).getLong(offset)\n    fun long(address: Int, offset: Long = 0) = long(address.toLong(), offset)\n\n    fun float(address: Long, offset: Long = 0) = read(address, 4).getFloat(offset)\n    fun float(address: Int, offset: Long = 0) = float(address.toLong(), offset)\n\n    fun double(address: Long, offset: Long = 0) = read(address, 8).getDouble(offset)\n    fun double(address: Int, offset: Long = 0) = double(address.toLong(), offset)\n\n    fun boolean(address: Long, offset: Long = 0) = byte(address, offset).unsign() &gt; 0\n    fun boolean(address: Int, offset: Long = 0) = boolean(address.toLong(), offset)\n\n    fun write(address: Long, data: Pointer, bytesToWrite: Int)\n    fun write(address: Int, data: Pointer, bytesToWrite: Int) = write(address.toLong(), data, bytesToWrite)\n    fun write(address: Long, data: Memory, bytesToWrite: Int = data.size().toInt())\n            = write(address, data as Pointer, bytesToWrite)\n    fun write(address: Int, data: Memory, bytesToWrite: Int = data.size().toInt())\n            = write(address.toLong(), data, bytesToWrite)\n    fun write(address: Long, struct: Struct, bytesToWrite: Int = struct.size())\n            = write(address, struct.pointer, bytesToWrite)\n    fun write(address: Int, struct: Struct, bytesToWrite: Int = struct.size())\n            = write(address.toLong(), struct, bytesToWrite)\n\n    // ...\n}  \n</code></pre>\n\n<p>This API works with <code>Long</code> for <code>address</code>, but also accepts <code>Int</code> for some reason. I think you should peek one (e.i <code>Long</code>) and let the consumer worry about converting <code>Int</code> to <code>Long</code>. This is not a responsibility of an API. Besides, if a consumer works with an API which uses <code>Long</code> for <code>address</code>, he will usually use <code>Long</code> to manipulate with addresses on his side too. This simplifies the API and saves on <code>Int</code> to <code>Long</code> and back conversions, which improves the performance.</p>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1469352146, "creation_date": 1469340310, "question_id": 38549247, "link": "https://stackoverflow.com/questions/38549247/kotlin-is-there-a-way-to-clean-up-number-overloads", "title": "Kotlin: Is there a way to clean up number overloads?", "body": "<p>Often I find myself creating lots of overloads for number types because Kotlin  doesn't do implicit conversions for non-literals. This results in a huge amount of duplicate overload functions which is tons and tons of boilerplate.</p>\n\n<p>An example of the pain I have doing this can be seen here: <a href=\"https://github.com/Jire/Arrowhead/blob/master/src/main/kotlin/org/jire/arrowhead/Source.kt\" rel=\"nofollow\">https://github.com/Jire/Arrowhead/blob/master/src/main/kotlin/org/jire/arrowhead/Source.kt</a></p>\n\n<p>I understand the reason why implicit conversions can cause bugs, but I think in most cases, especially for \"enlargement\" conversions like <code>Byte -&gt; Int</code> and <code>Int -&gt; Long</code> where data isn't lost there should be a better way.</p>\n\n<p>So... my question is how do you deal with this? Are there any creative ways to solve this problem?</p>\n"}, {"tags": ["android", "android-studio", "facebook-login", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1469349223, "post_id": 38549134, "comment_id": 64491409, "body": "Looks like you did not imported the library correctly. Please post your <code>build.gradle</code> file"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1469349286, "post_id": 38549134, "comment_id": 64491421, "body": "Also try googling for a similar problem with Java, this should not be a Kotlin-specific problem"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1469381568, "post_id": 38549134, "comment_id": 64500552, "body": "Unrelated: Remove Apt from the project. Kapt will take care of everything."}], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 2680423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2309bd6c76305c85db1a73d3a2e81b1f?s=128&d=identicon&r=PG", "display_name": "tjb", "link": "https://stackoverflow.com/users/2680423/tjb"}, "edited": false, "score": 0, "creation_date": 1478748488, "post_id": 38554785, "comment_id": 68280465, "body": "Worked for me! Thank you!"}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 7, "last_activity_date": 1469381369, "creation_date": 1469381369, "answer_id": 38554785, "question_id": 38549134, "link": "https://stackoverflow.com/questions/38549134/what-is-the-reason-behind-unresolved-reference-when-using-kotlin-for-facebookl/38554785#38554785", "title": "What is the reason behind &quot;unresolved reference&quot; when using kotlin for FacebookLogin?", "body": "<p>A proper way to anonymously implement <a href=\"https://developers.facebook.com/docs/reference/android/current/interface/FacebookCallback/\" rel=\"noreferrer\"><code>FacebookCallback</code></a> in Kotlin is as follows:</p>\n\n<pre><code>val facebookCallback = object : FacebookCallback&lt;LoginResult&gt; {\n    override fun onSuccess(loginResult: LoginResult) {\n    }\n\n    override fun onCancel() {\n    }\n\n    override fun onError(error: FacebookException) {\n    }\n}\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions-and-declarations\" rel=\"noreferrer\">Object Expressions and Declarations</a> documentation provides all necesary details.</p>\n"}], "owner": {"reputation": 1564, "user_id": 1129647, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5b0dcd2a60e21a57484e643f685248c3?s=128&d=identicon&r=PG", "display_name": "TomTaila", "link": "https://stackoverflow.com/users/1129647/tomtaila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2747, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1469381369, "creation_date": 1469339297, "last_edit_date": 1469372878, "question_id": 38549134, "link": "https://stackoverflow.com/questions/38549134/what-is-the-reason-behind-unresolved-reference-when-using-kotlin-for-facebookl", "title": "What is the reason behind &quot;unresolved reference&quot; when using kotlin for FacebookLogin?", "body": "<p>I keep getting a \"unresolved reference: FacebookCallback\" error when I am trying to implement the code attached in the picture. </p>\n\n<p><a href=\"https://i.stack.imgur.com/rLRJ6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rLRJ6.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am trying to set up facebook login as instructed in this link: <a href=\"https://developers.facebook.com/docs/facebook-login/android#addbutton\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/facebook-login/android#addbutton</a></p>\n\n<p>I am new to Kotlin but I can't see what I'm doing wrong here.</p>\n\n<p>EDIT:</p>\n\n<p>Here are my gradle files:</p>\n\n<pre><code>    apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'com.neenbedankt.android-apt'\n\nandroid {\n    compileSdkVersion 24\n    buildToolsVersion \"24.0.0\"\n    defaultConfig {\n        applicationId \"yetti.yetti\"\n        minSdkVersion 23\n        targetSdkVersion 24\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n        androidTest.java.srcDirs += 'src/androidTest/kotlin'\n    }\n    dexOptions {\n        javaMaxHeapSize \"2048M\"\n    }\n    compileOptions.incremental = false\n}\n\nkapt {\n    generateStubs = true\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile 'com.android.support:appcompat-v7:24.0.0'\n    compile 'com.android.support.constraint:constraint-layout:1.0.0-alpha4'\n    compile 'com.jakewharton:butterknife:8.2.1'\n    compile 'com.facebook.android:facebook-android-sdk:4.14.0'\n    compile 'com.google.firebase:firebase-core:9.2.1'\n    compile 'com.google.firebase:firebase-database:9.2.1'\n    compile 'com.google.firebase:firebase-auth:9.2.1'\n    testCompile 'junit:junit:4.12'\n    kapt 'com.jakewharton:butterknife-compiler:8.2.1'\n}\n\n// Add to the bottom of the file\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.0.3'\n\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.2.0-alpha6'\n        classpath 'com.google.gms:google-services:3.0.0'\n        // the latest version of the android-apt plugin\n        classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>futhermore, here is the equivalent code I am trying to execute but written in plain Java (which works just fine):</p>\n\n<pre><code>import com.facebook.FacebookCallback;\nimport com.facebook.FacebookException;\nimport com.facebook.login.LoginResult;\n\npublic class Actv extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_actv);\n\n        FacebookCallback&lt;LoginResult&gt; facebookCallback = new FacebookCallback&lt;LoginResult&gt;() {\n            @Override\n            public void onSuccess(LoginResult loginResult) {\n\n            }\n\n            @Override\n            public void onCancel() {\n\n            }\n\n            @Override\n            public void onError(FacebookException error) {\n\n            }\n        };\n    }\n}\n</code></pre>\n"}, {"tags": ["function", "interface", "default", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 0, "creation_date": 1469328947, "post_id": 38546117, "comment_id": 64488152, "body": "I didn&#39;t know about <code>inline</code> in abstract classes! Great answer!!"}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 5, "last_activity_date": 1469305522, "creation_date": 1469305522, "answer_id": 38546117, "question_id": 38545229, "link": "https://stackoverflow.com/questions/38545229/java-doesnt-allow-final-default-methods-but-does-kotlin/38546117#38546117", "title": "Java doesn&#39;t allow final default methods.. but does Kotlin?", "body": "<p>You say for \"abstract types\" and for an abstract class you can declare an <code>inline</code> function and it is automatically considered final.  </p>\n\n<pre><code>abstract class BaseThing {\n    inline fun foo() = \"asdf\"\n}\n</code></pre>\n\n<p>Function <code>foo</code> can be called, but cannot be overridden in descendant classes.  This results in the error:</p>\n\n<blockquote>\n  <p>'Foo' in 'BaseThing' is final and cannot be overridden </p>\n</blockquote>\n\n<p>An interface on the other hand cannot have final methods.  But you can write an extension function for the interface that acts almost the same.</p>\n\n<pre><code>interface TraitThing { }\ninline fun TraitThing.foo() = \"asdf\"\n</code></pre>\n\n<p>But there is no protection or \"closedness\" because you can implement the method of the same name in an implementing class, and it will take precedence.</p>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1139, "favorite_count": 0, "accepted_answer_id": 38546117, "answer_count": 1, "score": 2, "last_activity_date": 1469305522, "creation_date": 1469298964, "last_edit_date": 1469299972, "question_id": 38545229, "link": "https://stackoverflow.com/questions/38545229/java-doesnt-allow-final-default-methods-but-does-kotlin", "title": "Java doesn&#39;t allow final default methods.. but does Kotlin?", "body": "<p>If you attempt to create an inline function on an interface, you will face an error: <code>'inline' modifier is not allowed on virtual members. Only private or final members can be inlined</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/o80N8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o80N8.png\" alt=\"the error pictured in IDEA\"></a></p>\n\n<p>I understand that this is because the function is virtual because it can be overridden.</p>\n\n<p>If we were able to declare \"closed\" functions, these functions would not be virtual, and therefore able to be inlined which is very useful!</p>\n\n<p>Using \"private\" gives us a non-virtual, \"closed\" function, but then the rest of the world can't use it!</p>\n\n<p>So.. is there a way to define \"closed\" non-virtual inlineable functions for abstract types?</p>\n\n<p>(<em>p.s. I intend to answer this question myself but feel free to share your own answers!</em>)</p>\n"}, {"tags": ["java", "javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 1, "creation_date": 1469891061, "post_id": 38543474, "comment_id": 64730405, "body": "Quick tip: Tag your question with &#39;tornadofx&#39; and some TornadoFX team members will be immediately notified of your question :)"}, {"owner": {"reputation": 2043, "user_id": 3291867, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1Vaxp.jpg?s=128&g=1", "display_name": "mojtab23", "link": "https://stackoverflow.com/users/3291867/mojtab23"}, "reply_to_user": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1469897654, "post_id": 38543474, "comment_id": 64732354, "body": "@EdvinSyse thank you for answer, you are right but I couldn&#39;t create &#39;tornadofx&#39; tag (I couldn&#39;t find this tag and can&#39;t create new tag because of my reputation)."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1469915922, "post_id": 38543474, "comment_id": 64737218, "body": "Ah, it seems we had a tag but it has never been used so it was probably deleted. I&#39;ll see about getting it back. Thanks :)"}, {"owner": {"reputation": 9475, "user_id": 1373258, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/057cb1f71b78244924b7854605d79a9d?s=128&d=identicon&r=PG&f=1", "display_name": "tmn", "link": "https://stackoverflow.com/users/1373258/tmn"}, "edited": false, "score": 0, "creation_date": 1470019942, "post_id": 38543474, "comment_id": 64760170, "body": "&#39;tornadofx&#39; tag has been added."}], "answers": [{"comments": [{"owner": {"reputation": 2043, "user_id": 3291867, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1Vaxp.jpg?s=128&g=1", "display_name": "mojtab23", "link": "https://stackoverflow.com/users/3291867/mojtab23"}, "edited": false, "score": 1, "creation_date": 1469862810, "post_id": 38547838, "comment_id": 64723159, "body": "Thank you @ruckus but I want to find how to setup <code>Scene</code> or <code>Stage</code> properties not it&#39;s children like <code>Node</code>s or <code>Parent</code>s, I will update my question with better example."}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "reply_to_user": {"reputation": 2043, "user_id": 3291867, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1Vaxp.jpg?s=128&g=1", "display_name": "mojtab23", "link": "https://stackoverflow.com/users/3291867/mojtab23"}, "edited": false, "score": 1, "creation_date": 1469892386, "post_id": 38547838, "comment_id": 64730779, "body": "In that case, @edvin has exactly what you want."}], "tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": false, "score": 10, "last_activity_date": 1598460751, "last_edit_date": 1598460751, "creation_date": 1469322623, "answer_id": 38547838, "question_id": 38543474, "link": "https://stackoverflow.com/questions/38543474/way-of-setting-primarystage-or-scene-properties-in-tornadofx/38547838#38547838", "title": "Way of setting PrimaryStage or Scene properties in TornadoFX", "body": "<p>You should definitely check out the <a href=\"https://www.gitbook.com/book/edvin/tornadofx-guide/details\" rel=\"nofollow noreferrer\">TornadoFX Guide</a>. It's a great resource for getting started in TornadoFX.</p>\n<p>To answer your question, you can set the size in the view's root. This should do what you want (usning TornadoFX's builder pattern):</p>\n<pre><code>class Main : App(MyView::class)\n\nclass MyView : View() {\n    override val root = vbox {\n        prefWidth = 800.0\n        prefHeight = 600.0\n\n        label(&quot;My label&quot;)\n    }\n}\n</code></pre>\n<p>Another option is to use <a href=\"https://edvin.gitbooks.io/tornadofx-guide/content/Part%202%20-%20Usage%20Basics/6.%20Builders%20Part%20III%20-%20CSS.html\" rel=\"nofollow noreferrer\">type safe stylesheets</a>:</p>\n<pre><code>class Main : App(MyView::class, Style::class)\n\nclass MyView : View() {\n    override val root = vbox {\n        label(&quot;My label&quot;)\n    }\n}\n\nclass Style : Stylesheet() {\n    init {\n        root {\n            prefHeight = 600.px\n            prefWidth = 800.px\n        }\n    }\n}\n</code></pre>\n<p>The advantage of the type safe stylesheet is you can use different units (you could set just as easily say <code>prefHeight = 10.cm</code> or <code>prefWidth = 5.inches</code>). It can basically do anything CSS can do, but is much more convenient, powerful, and (as the name suggests) type safe.</p>\n<p>Disclaimer: I was involved in designing and building the type safe stylesheet system for TornadoFX.</p>\n"}, {"tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 22, "last_activity_date": 1605264037, "last_edit_date": 1605264037, "creation_date": 1469880132, "answer_id": 38673718, "question_id": 38543474, "link": "https://stackoverflow.com/questions/38543474/way-of-setting-primarystage-or-scene-properties-in-tornadofx/38673718#38673718", "title": "Way of setting PrimaryStage or Scene properties in TornadoFX", "body": "<p>If you don't want to let the primary view dictate the initial scene size, you can override <code>App.start</code> and configure the dimensions of the primary stage, which again will dictate the dimensions of the scene:</p>\n<pre><code>override fun start(stage: Stage) {\n    super.start(stage)\n    stage.width = 800.0\n    stage.height = 600.0\n}\n</code></pre>\n<p>To make this even simpler, there will be a function in TornadoFX 1.5.3 that let you create the Scene for the primary view yourself:</p>\n<pre><code>override fun createPrimaryScene(view: UIComponent) = Scene(view.root, 800.0, 600.0)\n</code></pre>\n<p>The end result will be the same, so you can just keep the code in the first example though.</p>\n"}], "owner": {"reputation": 2043, "user_id": 3291867, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1Vaxp.jpg?s=128&g=1", "display_name": "mojtab23", "link": "https://stackoverflow.com/users/3291867/mojtab23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4927, "favorite_count": 1, "accepted_answer_id": 38673718, "answer_count": 2, "score": 12, "last_activity_date": 1605264037, "creation_date": 1469288318, "last_edit_date": 1470022809, "question_id": 38543474, "link": "https://stackoverflow.com/questions/38543474/way-of-setting-primarystage-or-scene-properties-in-tornadofx", "title": "Way of setting PrimaryStage or Scene properties in TornadoFX", "body": "<p>I am new to tornadoFX and I don't know how to setup  PrimaryStage or Scene properties like Scene height or width or PrimaryStage modality.\nPlease help me. </p>\n\n<p>UPDATE</p>\n\n<p>I want to set Scene height and width, Look at this example:</p>\n\n<pre><code>dependencies {\ncompile 'no.tornado:tornadofx:1.5.2'\ncompile \"org.jetbrains.kotlin:kotlin-stdlib:1.0.3\"\n}\n</code></pre>\n\n<p><br></p>\n\n<pre><code>import javafx.scene.control.Label\nimport javafx.scene.layout.VBox\nimport tornadofx.App\nimport tornadofx.FX\nimport tornadofx.View\n\nclass Main : App() {\n   override val primaryView = MyView::class\n\n   init {\n      // this two lines have error ( Val cannot be reassigned. )\n      FX.primaryStage.scene.height = 600.0\n      FX.primaryStage.scene.width = 800.0\n      // or this line causes this exception ( java.lang.NoSuchMethodException )\n      FX.primaryStage.isResizable = false\n   }\n\n}\n\nclass MyView : View() {\n   override val root = VBox()\n\n   init {\n      root.children.add(Label(\"My label\"))\n   }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 3, "last_activity_date": 1469284511, "creation_date": 1469284511, "answer_id": 38542920, "question_id": 38541025, "link": "https://stackoverflow.com/questions/38541025/anko-setting-row-and-column-value-for-an-element-in-gridlayout/38542920#38542920", "title": "Anko - Setting row and column value for an element in gridLayout", "body": "<p>As stated in the <a href=\"https://developer.android.com/reference/android/support/v7/widget/GridLayout.html\" rel=\"nofollow\"><code>GridLayout</code></a> documentation:</p>\n\n<blockquote>\n  <p>Children occupy one or more contiguous cells, as defined by their\n  <code>rowSpec</code> and <code>columnSpec</code> layout parameters. Each spec defines the set of\n  rows or columns that are to be occupied; and how children should be\n  aligned within the resulting group of cells.</p>\n</blockquote>\n\n<p>You can use <code>rowSpec</code> and <code>columnSpec</code> like so:</p>\n\n<pre><code>return UI {\n    gridLayout() {\n        columnCount = 2\n        rowCount = 3\n        button(\"1x1\") {\n\n        }.lparams {\n            rowSpec = GridLayout.spec(1)\n            columnSpec = GridLayout.spec(1)\n        }\n    }\n}.view\n</code></pre>\n"}], "owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "accepted_answer_id": 38542920, "answer_count": 1, "score": 3, "last_activity_date": 1496749207, "creation_date": 1469271772, "last_edit_date": 1496749207, "question_id": 38541025, "link": "https://stackoverflow.com/questions/38541025/anko-setting-row-and-column-value-for-an-element-in-gridlayout", "title": "Anko - Setting row and column value for an element in gridLayout", "body": "<p>How do I set column and row value for an element in gridLayout in Anko?</p>\n\n<p>I tried several versions, but this does not compile:</p>\n\n<pre><code>   return UI {\n        gridLayout() {\n            columnCount = 2\n            rowCount = 3\n            button(\"1x1\") {\n\n            }.lparams() { column = 1; row = 1 }\n        }\n    }.view\n</code></pre>\n\n<p>When I put it like this (as a function), or as properties inside curly brackets, it says it cannot reference <code>column</code> or <code>row</code>. When I provide them as arguments to lparams, it says <code>none of the following functions can be called with arguments supplied</code>.</p>\n"}, {"tags": ["types", "filter", "nullable", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "edited": false, "score": 3, "creation_date": 1469223125, "post_id": 38535537, "comment_id": 64464787, "body": "Sweet!  Doh!  Why didn&#39;t I see that?  :-)"}, {"owner": {"reputation": 186, "user_id": 2531415, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/90dd0067c86c7746d7c8026633443aca?s=128&d=identicon&r=PG", "display_name": "Mijail", "link": "https://stackoverflow.com/users/2531415/mijail"}, "edited": false, "score": 4, "creation_date": 1518179029, "post_id": 38535537, "comment_id": 84409848, "body": "if you are creating the list you can also use <code>listOfNotNull</code>"}, {"owner": {"reputation": 431, "user_id": 5941730, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/5EZ2O.jpg?s=128&g=1", "display_name": "Xaren", "link": "https://stackoverflow.com/users/5941730/xaren"}, "edited": false, "score": 0, "creation_date": 1611192158, "post_id": 38535537, "comment_id": 116374761, "body": "I get a Useless call on a collection type warning. Called over a Mutable list&lt;Strings&gt;"}, {"owner": {"reputation": 183, "user_id": 12871582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a8b4b0204b4de558c200d77bcacea29?s=128&d=identicon&r=PG&f=1", "display_name": "m.reiter", "link": "https://stackoverflow.com/users/12871582/m-reiter"}, "reply_to_user": {"reputation": 431, "user_id": 5941730, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/5EZ2O.jpg?s=128&g=1", "display_name": "Xaren", "link": "https://stackoverflow.com/users/5941730/xaren"}, "edited": false, "score": 1, "creation_date": 1612258368, "post_id": 38535537, "comment_id": 116703936, "body": "@Xaren It is useless, as your list doesn&#39;t contain any nulls. It would be a <code>List&lt;String?&gt;</code> otherwise. (Notice the &quot;?&quot;)"}], "tags": [], "owner": {"reputation": 5110, "user_id": 1542319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49d8051261a5786e0fed00556f644191?s=128&d=identicon&r=PG", "display_name": "SerCe", "link": "https://stackoverflow.com/users/1542319/serce"}, "is_accepted": true, "score": 69, "last_activity_date": 1490501091, "last_edit_date": 1490501091, "creation_date": 1469223054, "answer_id": 38535537, "question_id": 38535504, "link": "https://stackoverflow.com/questions/38535504/kotlin-eliminate-nulls-from-a-list-or-other-functional-transformation/38535537#38535537", "title": "Kotlin: eliminate nulls from a List (or other functional transformation)", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-not-null.html\" rel=\"noreferrer\"><code>filterNotNull</code></a></p>\n\n<p>Here is a simple example:</p>\n\n<pre><code>val a: List&lt;Int?&gt; = listOf(1, 2, 3, null)\nval b: List&lt;Int&gt; = a.filterNotNull()\n</code></pre>\n\n<p>But under the hood, stdlib does the same as you wrote</p>\n\n<pre><code>/**\n * Appends all elements that are not `null` to the given [destination].\n */\npublic fun &lt;C : MutableCollection&lt;in T&gt;, T : Any&gt; Iterable&lt;T?&gt;.filterNotNullTo(destination: C): C {\n    for (element in this) if (element != null) destination.add(element)\n    return destination\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6486, "user_id": 1116230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a894894150db28d6641f0c57e48bac?s=128&d=identicon&r=PG", "display_name": "Nico Haase", "link": "https://stackoverflow.com/users/1116230/nico-haase"}, "edited": false, "score": 0, "creation_date": 1553866782, "post_id": 55416955, "comment_id": 97556403, "body": "Please explain that further - what does that line do, and why exactly does it solve the given problem?"}], "tags": [], "owner": {"reputation": 2092, "user_id": 2692747, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62644b8949879b83c9f4ad00c4a929d9?s=128&d=identicon&r=PG&f=1", "display_name": "gderaco", "link": "https://stackoverflow.com/users/2692747/gderaco"}, "is_accepted": false, "score": 1, "last_activity_date": 1553860655, "creation_date": 1553860655, "answer_id": 55416955, "question_id": 38535504, "link": "https://stackoverflow.com/questions/38535504/kotlin-eliminate-nulls-from-a-list-or-other-functional-transformation/55416955#55416955", "title": "Kotlin: eliminate nulls from a List (or other functional transformation)", "body": "<p>you can also use</p>\n\n<pre><code>mightContainsNullElementList.removeIf { it == null }\n</code></pre>\n"}], "owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10929, "favorite_count": 3, "accepted_answer_id": 38535537, "answer_count": 2, "score": 31, "last_activity_date": 1553860655, "creation_date": 1469222908, "last_edit_date": 1592644375, "question_id": 38535504, "link": "https://stackoverflow.com/questions/38535504/kotlin-eliminate-nulls-from-a-list-or-other-functional-transformation", "title": "Kotlin: eliminate nulls from a List (or other functional transformation)", "body": "<h1>Problem</h1>\n<p>What is the idiomatic way of working around this limitation of the null-safety in the Kotlin type system?</p>\n<pre><code>val strs1:List&lt;String?&gt; = listOf(&quot;hello&quot;, null, &quot;world&quot;)\n\n// ERROR: Type Inference Failed: Expected Type Mismatch:\n// required: List&lt;String&gt;\n// round:    List&lt;String?&gt;\nval strs2:List&lt;String&gt; = strs1.filter { it != null }\n</code></pre>\n<p>This question is not <em>just</em> about eliminating nulls, but also to make the type system recognize that the nulls are removed from the collection by the transformation.</p>\n<p>I'd prefer not to loop, but I will if that's the best way to do it.</p>\n<h1>Work-Around</h1>\n<p>The following compiles, but I'm not sure it's the best way to do it:</p>\n<pre><code>fun &lt;T&gt; notNullList(list: List&lt;T?&gt;):List&lt;T&gt; {\n    val accumulator:MutableList&lt;T&gt; = mutableListOf()\n    for (element in list) {\n        if (element != null) {\n            accumulator.add(element)\n        }\n    }\n    return accumulator\n}\nval strs2:List&lt;String&gt; = notNullList(strs1)\n</code></pre>\n"}, {"tags": ["android", "printing", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1469188054, "post_id": 38525403, "comment_id": 64445591, "body": "Any Java methods work with Kotlin too. What exactly do you mean by &quot;it seems to work&quot;?"}, {"owner": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "edited": false, "score": 0, "creation_date": 1526118598, "post_id": 38525403, "comment_id": 87626074, "body": "Btw: You can use the log templates to generate the code in Java and convert it automatically to Kotlin by copy and pasting it into a Kotlin file. Or, you can make the log templates available in Kotlin by importing the Kotlin port from <a href=\"https://github.com/TobiasUhmann/android-studio-log-templates-for-kotlin\" rel=\"nofollow noreferrer\">this Github repo</a> directly. Just import the .jar via &#39;File &gt; Import Settings...&#39;."}], "answers": [{"comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1469188088, "post_id": 38525579, "comment_id": 64445616, "body": "As stated in the README of the linked library, it is deprecated. <a href=\"https://github.com/kotlin/anko\" rel=\"nofollow noreferrer\">Anko</a> should be used instead."}, {"owner": {"reputation": 10443, "user_id": 2438460, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/sUAeA.jpg?s=128&g=1", "display_name": "Ye Lin Aung", "link": "https://stackoverflow.com/users/2438460/ye-lin-aung"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1469188907, "post_id": 38525579, "comment_id": 64446099, "body": "I am afraid I didn&#39;t noticed that part. I will update the answer"}, {"owner": {"reputation": 55, "user_id": 3102804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GhuY0.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3102804/jack"}, "edited": false, "score": 0, "creation_date": 1600264003, "post_id": 38525579, "comment_id": 113033218, "body": "&gt;Anko is deprecated. Please see this page for more information. <a href=\"https://github.com/Kotlin/anko/blob/master/GOODBYE.md\" rel=\"nofollow noreferrer\">github.com/Kotlin/anko/blob/master/GOODBYE.md</a>"}], "tags": [], "owner": {"reputation": 10443, "user_id": 2438460, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/sUAeA.jpg?s=128&g=1", "display_name": "Ye Lin Aung", "link": "https://stackoverflow.com/users/2438460/ye-lin-aung"}, "is_accepted": false, "score": 6, "last_activity_date": 1525526415, "last_edit_date": 1525526415, "creation_date": 1469187738, "answer_id": 38525579, "question_id": 38525403, "link": "https://stackoverflow.com/questions/38525403/kotlin-android-print-to-console/38525579#38525579", "title": "Kotlin Android print to console", "body": "<p>androidKotlin is deprecated and use <a href=\"https://github.com/Kotlin/anko/\" rel=\"nofollow noreferrer\">Anko</a> instead.</p>\n\n<p><a href=\"https://github.com/Kotlin/anko/wiki/Anko-Commons-%E2%80%93-Logging\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/anko/wiki/Anko-Commons-%E2%80%93-Logging</a></p>\n\n<pre><code>class SomeActivity : Activity(), AnkoLogger {\n    private fun someMethod() {\n        info(\"London is the capital of Great Britain\")\n        debug(5) // .toString() method will be executed\n        warn(null) // \"null\" will be printed\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 52, "creation_date": 1469188497, "post_id": 38525728, "comment_id": 64445857, "body": "Kotlin&#39;s print and println functions do not print to the Android log."}, {"owner": {"reputation": 1151, "user_id": 2225182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVrx5.jpg?s=128&g=1", "display_name": "ronniemagatti", "link": "https://stackoverflow.com/users/2225182/ronniemagatti"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1469188639, "post_id": 38525728, "comment_id": 64445935, "body": "True, they print to the standard output as stated in the docs I setup as source. But the question was in fact about printing to console, not necessarily the android log. I guess it still fits =)"}, {"owner": {"reputation": 16930, "user_id": 1032613, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/h4jzP.jpg?s=128&g=1", "display_name": "user1032613", "link": "https://stackoverflow.com/users/1032613/user1032613"}, "edited": false, "score": 0, "creation_date": 1539404783, "post_id": 38525728, "comment_id": 92500140, "body": "@Ramalus The original question had an <code>Android</code> tag, but it&#39;s good to include both I suppose."}, {"owner": {"reputation": 5596, "user_id": 7365866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNhGH.png?s=128&g=1", "display_name": "Ben Butterworth", "link": "https://stackoverflow.com/users/7365866/ben-butterworth"}, "edited": false, "score": 0, "creation_date": 1604318042, "post_id": 38525728, "comment_id": 114302036, "body": "Using <code>Log.d(TAG, message)</code> is a bit annoying. <a href=\"https://github.com/JakeWharton/timber\" rel=\"nofollow noreferrer\">github.com/JakeWharton/timber</a> makes it easier."}], "tags": [], "owner": {"reputation": 1151, "user_id": 2225182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVrx5.jpg?s=128&g=1", "display_name": "ronniemagatti", "link": "https://stackoverflow.com/users/2225182/ronniemagatti"}, "is_accepted": true, "score": 94, "last_activity_date": 1469188166, "creation_date": 1469188166, "answer_id": 38525728, "question_id": 38525403, "link": "https://stackoverflow.com/questions/38525403/kotlin-android-print-to-console/38525728#38525728", "title": "Kotlin Android print to console", "body": "<p>There are a couple of ways.</p>\n\n<p><strong>You can use <code>Log.d(\"TAG\", \"message\");</code> for example but first you need to import <em>Log</em></strong>.</p>\n\n<pre><code>import android.util.Log\n\n{...}\n\nLog.d(\"TAG\", \"message\")\n\n{...}\n</code></pre>\n\n<p>Source: <a href=\"https://developer.android.com/reference/android/util/Log.html\" rel=\"noreferrer\">https://developer.android.com/reference/android/util/Log.html</a></p>\n\n<p><strong>You can also use kotlin's <em>print</em> and <em>println</em> function.</strong></p>\n\n<p>Example:</p>\n\n<pre><code>{...}\n\nprint(\"message\")\n\nprintln(\"other message\")\n\n{...}\n</code></pre>\n\n<p>Source: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/</a></p>\n"}, {"tags": [], "owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "is_accepted": false, "score": 2, "last_activity_date": 1471434641, "last_edit_date": 1471434641, "creation_date": 1470866974, "answer_id": 38884377, "question_id": 38525403, "link": "https://stackoverflow.com/questions/38525403/kotlin-android-print-to-console/38884377#38884377", "title": "Kotlin Android print to console", "body": "<p>You can use <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow\"><code>Anko</code></a> library to do it. You would have code like below:</p>\n\n<pre><code>class MyActivity : Activity(), AnkoLogger {\n    private fun someMethod() {\n        info(\"This is my first app and it's awesome\")\n        debug(1234) \n        warn(\"Warning\")\n    }\n}\n</code></pre>\n\n<p>or you can also use this small written in Kotlin library called <a href=\"https://github.com/jupf/staticlog\" rel=\"nofollow\"><code>StaticLog</code></a> then your code would looks like:</p>\n\n<pre><code>Log.info(\"This is an info message\")\nLog.debug(\"This is a debug message\")\nLog.warn(\"This is a warning message\",\"WithACustomTag\")\nLog.error(\"This is an error message with an additional Exception for output\", \"AndACustomTag\", exception )\n\nLog.logLevel = LogLevel.WARN\nLog.info(\"This message will not be shown\")\\\n</code></pre>\n\n<p>The second solution might better if you would like to define an output format for logging method like:</p>\n\n<pre><code>Log.newFormat {\n    line(date(\"yyyy-MM-dd HH:mm:ss\"), space, level, text(\"/\"), tag, space(2), message, space(2), occurrence)\n}\n</code></pre>\n\n<p>or use filters, for example:</p>\n\n<pre><code>Log.filterTag = \"filterTag\"\nLog.info(\"This log will be filtered out\", \"otherTag\")\nLog.info(\"This log has the right tag\", \"filterTag\")\n</code></pre>\n\n<p>If you already used Jake Wharton's <code>Timber</code> logging library check this project: <a href=\"https://github.com/ajalt/timberkt\" rel=\"nofollow\">https://github.com/ajalt/timberkt</a>.</p>\n\n<p>Check also: <a href=\"https://medium.com/@OhadShai/logging-in-android-ankologger-vs-kotlin-logging-bb693671442a#.ngk3r66et\" rel=\"nofollow\">Logging in Kotlin &amp; Android: AnkoLogger vs kotlin-logging</a></p>\n\n<p>Hope it will help</p>\n"}, {"tags": [], "owner": {"reputation": 1171, "user_id": 2232874, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/bd5e1d4219b8df5d9819bb6f247ca301?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Gonzalez", "link": "https://stackoverflow.com/users/2232874/pedro-gonzalez"}, "is_accepted": false, "score": 3, "last_activity_date": 1563323228, "last_edit_date": 1563323228, "creation_date": 1504275932, "answer_id": 46002406, "question_id": 38525403, "link": "https://stackoverflow.com/questions/38525403/kotlin-android-print-to-console/46002406#46002406", "title": "Kotlin Android print to console", "body": "<p>At this moment (android studio 2.3.3 with Kotlin plugin), </p>\n\n<pre><code>Log.i(TAG, \"Hello World\")\n</code></pre>\n\n<p>Just works. It will import <code>android.util.Log</code> </p>\n"}, {"comments": [{"owner": {"reputation": 3814, "user_id": 3003927, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/17f1e4ed531bf4b9b2c0ce3e273e3485?s=128&d=identicon&r=PG", "display_name": "Chen Li Yong", "link": "https://stackoverflow.com/users/3003927/chen-li-yong"}, "edited": false, "score": 0, "creation_date": 1589700365, "post_id": 51493904, "comment_id": 109392783, "body": "Interesting solution. I don&#39;t know you can define dynamic class method like that."}], "tags": [], "owner": {"reputation": 150, "user_id": 10030527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/792rS.png?s=128&g=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/10030527/paolo"}, "is_accepted": false, "score": 6, "last_activity_date": 1532506315, "last_edit_date": 1532506315, "creation_date": 1532420745, "answer_id": 51493904, "question_id": 38525403, "link": "https://stackoverflow.com/questions/38525403/kotlin-android-print-to-console/51493904#51493904", "title": "Kotlin Android print to console", "body": "<p>I've written some extension functions that make use of reified type parameters in order to avoid dealing with declaring log tags in all project's classes. The basic idea is shown by the following snippet:</p>\n\n<pre><code>inline fun &lt;reified T&gt; T.logi(message: String) = Log.i(T::class.java.simpleName, message)\n</code></pre>\n\n<p>Basically, you can log something to the logcat with the following invocation (W/O external dependencies):</p>\n\n<pre><code>logi(\"My log message\")\n</code></pre>\n\n<p>You can find a gist <a href=\"https://gist.github.com/paolop/0bd59e49b33d18d6089fb1bf5488e212\" rel=\"noreferrer\">here</a>. The functions declared in the gist are a little more elaborated given that they allow:</p>\n\n<ul>\n<li>Lazy evaluation of the string to be logged out (if for example the string needs to be generated in some way) </li>\n<li>Logging only when in debug mode by default </li>\n<li>Use a given class name when you need to log from within an anonymous class that has no name</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 60, "user_id": 14688405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/onqzJ.jpg?s=128&g=1", "display_name": "yagmurerdogan", "link": "https://stackoverflow.com/users/14688405/yagmurerdogan"}, "is_accepted": false, "score": 0, "last_activity_date": 1613051176, "last_edit_date": 1613051176, "creation_date": 1612040021, "answer_id": 65973050, "question_id": 38525403, "link": "https://stackoverflow.com/questions/38525403/kotlin-android-print-to-console/65973050#65973050", "title": "Kotlin Android print to console", "body": "<p>For example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Log.i(&quot;info message&quot;)\nLog.d(&quot;debug message&quot;)\nLog.w(&quot;warning message&quot;,&quot;warningOutPut&quot;)\nLog.e(&quot;error message&quot;,&quot;AndACustomTag&quot;,exception)\n</code></pre>\n<p>You can write them with kotlin too.</p>\n"}], "owner": {"reputation": 971, "user_id": 5892317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MrDgUVUsPmE/AAAAAAAAAAI/AAAAAAAABEE/-TMJPqjjrT8/photo.jpg?sz=128", "display_name": "Pavel Bredelev", "link": "https://stackoverflow.com/users/5892317/pavel-bredelev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84626, "favorite_count": 6, "accepted_answer_id": 38525728, "answer_count": 6, "score": 53, "last_activity_date": 1613051176, "creation_date": 1469187181, "last_edit_date": 1469193601, "question_id": 38525403, "link": "https://stackoverflow.com/questions/38525403/kotlin-android-print-to-console", "title": "Kotlin Android print to console", "body": "<p>I need to print some str to console (Android Studio) using Kotlin.\nI've tried the:</p>\n\n<pre><code>Log.v() \nLog.d() \nLog.i() \nLog.w() \nLog.e() \n</code></pre>\n\n<p>methods. But it seems to work only on Java.\nWhat should I use to print using Kotlin?\nThanks</p>\n"}, {"tags": ["java", "junit", "mockito", "kotlin", "junit5"], "comments": [{"owner": {"reputation": 21601, "user_id": 557091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea05821b3d42324bb24a7c90df70a3ff?s=128&d=identicon&r=PG", "display_name": "Stefan Birkner", "link": "https://stackoverflow.com/users/557091/stefan-birkner"}, "edited": false, "score": 0, "creation_date": 1469223177, "post_id": 38516418, "comment_id": 64464805, "body": "I think it is wrong that you use <code>@BeforeAll</code>. Why don&#39;t you use <code>@BeforeEach</code>?"}, {"owner": {"reputation": 383, "user_id": 6601236, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DtXsGq4TPsg/AAAAAAAAAAI/AAAAAAAAI2I/5jKNsCtEs2c/photo.jpg?sz=128", "display_name": "Greg Konush", "link": "https://stackoverflow.com/users/6601236/greg-konush"}, "reply_to_user": {"reputation": 21601, "user_id": 557091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea05821b3d42324bb24a7c90df70a3ff?s=128&d=identicon&r=PG", "display_name": "Stefan Birkner", "link": "https://stackoverflow.com/users/557091/stefan-birkner"}, "edited": false, "score": 2, "creation_date": 1469230307, "post_id": 38516418, "comment_id": 64466746, "body": "I was under impression that JUnit 5 instantiate test class only once, but it looks like it does it for each test case. Which make no difference between <code>@BeforeAll</code> and <code>@BeforeEach</code> ... almost no difference"}], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 8, "last_activity_date": 1469167492, "creation_date": 1469167492, "answer_id": 38519253, "question_id": 38516418, "link": "https://stackoverflow.com/questions/38516418/what-is-proper-workaround-for-beforeall-in-kotlin/38519253#38519253", "title": "What is proper workaround for @BeforeAll in Kotlin", "body": "<p>As stated in the documentation of <a href=\"http://junit.org/junit5/docs/current/user-guide/#writing-tests-annotations\" rel=\"noreferrer\"><code>@BeforeAll</code></a>:</p>\n\n<blockquote>\n  <p>Denotes that the annotated method should be executed before all @Test\n  methods in the current class; analogous to JUnit 4\u2019s @BeforeClass.\n  Such methods must be static and are inherited.</p>\n</blockquote>\n\n<p>The above is true for both Kotlin and Java. Keep in mind that by default Junit will create a separate instance of a test class per test case. It makes sense that <code>@BeforeAll</code> will only work with static methods since it's supposed to be invoked before any code of current test case. A static method <strong>has no access to instance members because it can be invoked</strong> without an instance. </p>\n\n<p>As stated in Spring documentation:</p>\n\n<blockquote>\n  <p>The \"standaloneSetup\" on the other hand is a little closer to a unit test.</p>\n</blockquote>\n\n<p>The example shows that you should just use instance members like so:</p>\n\n<pre><code>class StandaloneTest {\n  val smsController = ... // create instance of controller\n  val MockMvcBuilders.standaloneSetup(smcController).build()\n}\n</code></pre>\n\n<p>The usefulness of <code>@BeforeAll</code> is limited and should generally be avoided as it potentially encourages runtime dependencies between test cases.</p>\n"}, {"comments": [{"owner": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "edited": false, "score": 0, "creation_date": 1522416871, "post_id": 48821395, "comment_id": 86158247, "body": "It is also possible to define <code>PER_CLASS</code> as the default via a <code>junit-platform.properties</code> file, see Spring Kotlin documentation for more details: <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/languages.html#testing\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>."}, {"owner": {"reputation": 7499, "user_id": 2139222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y1eA8.jpg?s=128&g=1", "display_name": "Ulises", "link": "https://stackoverflow.com/users/2139222/ulises"}, "reply_to_user": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "edited": false, "score": 0, "creation_date": 1522449453, "post_id": 48821395, "comment_id": 86172653, "body": "@S&#233;bastienDeleuze nice tip!"}, {"owner": {"reputation": 862, "user_id": 3453112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30ed313d8c73dd931a7f106fb905f6fe?s=128&d=identicon&r=PG&f=1", "display_name": "divonas", "link": "https://stackoverflow.com/users/3453112/divonas"}, "edited": false, "score": 2, "creation_date": 1571744099, "post_id": 48821395, "comment_id": 103335122, "body": "Android Studio could not resolve PER_CLASS. <code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)</code>"}], "tags": [], "owner": {"reputation": 7499, "user_id": 2139222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y1eA8.jpg?s=128&g=1", "display_name": "Ulises", "link": "https://stackoverflow.com/users/2139222/ulises"}, "is_accepted": false, "score": 20, "last_activity_date": 1518763501, "creation_date": 1518763501, "answer_id": 48821395, "question_id": 38516418, "link": "https://stackoverflow.com/questions/38516418/what-is-proper-workaround-for-beforeall-in-kotlin/48821395#48821395", "title": "What is proper workaround for @BeforeAll in Kotlin", "body": "<p>JUnit 5 has <code>@TestInstance(PER_CLASS)</code> annotation that can be used for this purpose. One of the features that it enables is non-static <code>BeforeAll</code> and <code>AfterAll</code> methods:</p>\n\n<pre><code>@TestInstance(PER_CLASS)\nclass BeforeAllTests {\n\n    lateinit var isInit = false\n\n    @BeforeAll\n    fun setup() {\n        isInit = true\n    }\n\n   @TestFactory\n   fun beforeAll() = listOf(\n       should(\"initialize isInit in BeforeAll\") {\n           assertTrue(isInit)\n       }\n   )\n}\n\nfun should(name: String, test: () -&gt; Unit) = DynamicTest.dynamicTest(\"should $name\", test)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16438, "user_id": 241986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lFsRO.gif?s=128&g=1", "display_name": "Boris Treukhov", "link": "https://stackoverflow.com/users/241986/boris-treukhov"}, "is_accepted": false, "score": 3, "last_activity_date": 1544938274, "last_edit_date": 1544938274, "creation_date": 1530283277, "answer_id": 51104208, "question_id": 38516418, "link": "https://stackoverflow.com/questions/38516418/what-is-proper-workaround-for-beforeall-in-kotlin/51104208#51104208", "title": "What is proper workaround for @BeforeAll in Kotlin", "body": "<p>JUnit 5 supports test extensions, for example <a href=\"https://junit.org/junit5/docs/5.0.3/api/org/junit/jupiter/api/extension/BeforeAllCallback.html\" rel=\"nofollow noreferrer\">BeforeAllCallback</a></p>\n\n<pre><code>import org.junit.jupiter.api.extension.BeforeAllCallback\nimport org.junit.jupiter.api.extension.ExtensionContext\n\nclass BeforeAllTests : BeforeAllCallback {\n    override fun beforeAll(context: ExtensionContext?) {\n        System.out.println(\"Before all executed\");\n    }\n}\n</code></pre>\n\n<p>In your Kotlin test class    </p>\n\n<pre><code>@ExtendWith(BeforeAllTests::class)\nclass MyAppCoreTest : MyAppTest() {\n\n    @Test\n    fun someTest() { }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3423, "user_id": 1820583, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uo0dh.jpg?s=128&g=1", "display_name": "edubriguenti", "link": "https://stackoverflow.com/users/1820583/edubriguenti"}, "is_accepted": false, "score": 1, "last_activity_date": 1600339800, "creation_date": 1600339800, "answer_id": 63936443, "question_id": 38516418, "link": "https://stackoverflow.com/questions/38516418/what-is-proper-workaround-for-beforeall-in-kotlin/63936443#63936443", "title": "What is proper workaround for @BeforeAll in Kotlin", "body": "<p>You have access to the variables inside the <strong>companion</strong> object:</p>\n<pre><code>    companion object {\n\n        private lateinit var objectToBeInitialized: Test\n\n        @BeforeAll\n        @JvmStatic\n        fun setup() {\n            objectToBeInitialized = Test()\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 383, "user_id": 6601236, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DtXsGq4TPsg/AAAAAAAAAAI/AAAAAAAAI2I/5jKNsCtEs2c/photo.jpg?sz=128", "display_name": "Greg Konush", "link": "https://stackoverflow.com/users/6601236/greg-konush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9546, "favorite_count": 4, "accepted_answer_id": 38519253, "answer_count": 4, "score": 24, "last_activity_date": 1600339800, "creation_date": 1469147650, "last_edit_date": 1596476573, "question_id": 38516418, "link": "https://stackoverflow.com/questions/38516418/what-is-proper-workaround-for-beforeall-in-kotlin", "title": "What is proper workaround for @BeforeAll in Kotlin", "body": "<p>Currently the JUnit 5 API only allows <code>@BeforeAll</code> on a method that is static.</p>\n<p>So if I do something like this, it will not compile:</p>\n<pre><code>@BeforeAll\n  fun setup() {\n    MockitoAnnotations.initMocks(this)\n    mvc = MockMvcBuilders.standaloneSetup(controller).build()\n}\n</code></pre>\n<p>In order to have a static method in Kotlin, I have to use <code>companion object</code> like this:</p>\n<pre><code>companion object {\n    @JvmStatic\n    @BeforeAll\n    fun setup() {\n      MockitoAnnotations.initMocks(this)\n      mvc = MockMvcBuilders.standaloneSetup(smsController).build()\n    }\n}\n</code></pre>\n<p>This will compile, but I don't have access to variables from the parent class. So what would be the idiomatic way to invoke JUnit 5 <code>@BeforeAll</code> with Kotlin?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2029, "user_id": 6016064, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a5c4e2adb9a67f0af1a58f9c9c651c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Peters", "link": "https://stackoverflow.com/users/6016064/edward-peters"}, "is_accepted": false, "score": 4, "last_activity_date": 1469140125, "creation_date": 1469140125, "answer_id": 38515383, "question_id": 38515318, "link": "https://stackoverflow.com/questions/38515318/why-does-referential-equality-check-return-true-when-reference-is-different/38515383#38515383", "title": "Why does referential equality check return true when reference is different", "body": "<p>Reference equality isn't that the variable name is the same, or it's accessed in the same way, it's that the location in memory is the same. As Strings are immutable, the compiler is often able to reserve memory in advance for them, and have all references to the same value point to the same place.</p>\n\n<p>The immutability is important, because it's safe to share read-only references in cases where read/write references would be different. If you improperly share references between mutable data structures, modifications from one set of references will be reflected in the other, leading to strange and incorrect behavior. However, if the data can no longer change, you're free to save as much memory as possible by having everything point to the same data.</p>\n"}, {"comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1469167886, "post_id": 38518911, "comment_id": 64434342, "body": "@voddan I guess that might be a too broad statement."}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 3, "last_activity_date": 1469165780, "last_edit_date": 1495542756, "creation_date": 1469165780, "answer_id": 38518911, "question_id": 38515318, "link": "https://stackoverflow.com/questions/38515318/why-does-referential-equality-check-return-true-when-reference-is-different/38518911#38518911", "title": "Why does referential equality check return true when reference is different", "body": "<p>Depending on how <code>MetricCategory.Async.toString()</code> is implemented the outcome of the operation might be arbitrary. Consider following example:</p>\n\n<pre><code>class MetricCategory {\n    object Async {\n        override fun toString(): String {\n            return \"Async\"\n        }\n    }\n}\n</code></pre>\n\n<p>This implementation would result in <code>true</code>, <code>true</code> printed out. As documented the <code>===</code> operator compares <a href=\"https://kotlinlang.org/docs/reference/equality.html#referential-equality\" rel=\"nofollow noreferrer\">referential equality</a>: </p>\n\n<blockquote>\n  <p>evaluates to true if and only if a and b point to the same object.</p>\n</blockquote>\n\n<p>But why are the 2 constant string expressions the same object? This is caused by a feature of JVM (and other runtimes) called <a href=\"https://en.wikipedia.org/wiki/String_interning\" rel=\"nofollow noreferrer\">string interning</a>:</p>\n\n<blockquote>\n  <p>In computer science, string interning is a method of storing only one\n  copy of each distinct string value, which must be immutable. Interning\n  strings makes some string processing tasks more time- or\n  space-efficient at the cost of requiring more time when the string is\n  created or interned. The distinct values are stored in a string intern\n  pool.</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/a/6654011/155213\">String interning does not happen automatically in JVM</a> but it can be triggered manually. </p>\n\n<pre><code>class MetricCategory {\n    object Async {\n        override fun toString(): String {\n            val result = \"a\".toUpperCase() + \"SYNC\".toLowerCase()\n            return result.intern()\n        }\n    } \n }\n</code></pre>\n\n<p>The above example would print <code>true</code>, <code>true</code> again but <strong>only because</strong> we've called <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#intern()\" rel=\"nofollow noreferrer\"><code>String.intern</code></a>.</p>\n\n<p>Consider below examples:</p>\n\n<pre><code>println(\"Async\" == \"Async\") // true, obviously\nprintln(\"Async\" === \"Async\") // true, string interning for literals\nprintln(\"Async\" == java.lang.String(\"Async\").toString())// true, obviously\nprintln(\"Async\" === java.lang.String(\"Async\").toString()) // false, new instance on the right\nprintln(\"Async\" === java.lang.String(\"Async\").toString().intern()) // true, right changed to shared instance\n</code></pre>\n\n<p>Further reading:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10578984/what-is-string-interning\">What is String interning?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3297867/difference-between-string-object-and-string-literal\">Difference between string object and string literal</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6653961/is-string-interning-really-useful\">Is string interning really useful?</a></li>\n</ul>\n"}], "owner": {"reputation": 36041, "user_id": 14316, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f1eb8b540db13afbb3426637641534aa?s=128&d=identicon&r=PG", "display_name": "pdeva", "link": "https://stackoverflow.com/users/14316/pdeva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1469165780, "creation_date": 1469139801, "question_id": 38515318, "link": "https://stackoverflow.com/questions/38515318/why-does-referential-equality-check-return-true-when-reference-is-different", "title": "Why does referential equality check return true when reference is different", "body": "<p>Consider this code:</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;) {\n    println(\"Async\" == MetricCategory.Async.toString())\n    println(\"Async\" === MetricCategory.Async.toString())\n}\n</code></pre>\n\n<p>It outputs</p>\n\n<pre><code>true\ntrue\n</code></pre>\n\n<p>while i was expecting</p>\n\n<pre><code>true\nfalse\n</code></pre>\n\n<p>Why is <code>true</code> printed for the 2nd check since both references are different</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2243, "user_id": 3466808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pr9RU.jpg?s=128&g=1", "display_name": "Sam Chen", "link": "https://stackoverflow.com/users/3466808/sam-chen"}, "edited": false, "score": 0, "creation_date": 1615837879, "post_id": 38501764, "comment_id": 117811143, "body": "<code>run{}</code> can do the chain call which is good for <code>null</code> check; <code>with{}</code> cannot. That&#39;s it."}], "answers": [{"comments": [{"owner": {"reputation": 12577, "user_id": 2102794, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/BrKf5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/2102794/sai"}, "edited": false, "score": 1, "creation_date": 1469098864, "post_id": 38502388, "comment_id": 64403615, "body": "So i can user either. Dose both have any influence on performance of the application ?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 12577, "user_id": 2102794, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/BrKf5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/2102794/sai"}, "edited": false, "score": 2, "creation_date": 1469098932, "post_id": 38502388, "comment_id": 64403655, "body": "@SaiKiran, yes, they are completely interchangeable, and their performance should be the same since they are both <code>inline</code> functions."}, {"owner": {"reputation": 2954, "user_id": 5652513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2bQCi.jpg?s=128&g=1", "display_name": "methodsignature", "link": "https://stackoverflow.com/users/5652513/methodsignature"}, "edited": false, "score": 0, "creation_date": 1594063329, "post_id": 38502388, "comment_id": 110989899, "body": "&quot;We recommend with for calling functions on the context object without providing the lambda result.&quot;  <a href=\"https://kotlinlang.org/docs/reference/scope-functions.html#with\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/scope-functions.html#with</a>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 36, "last_activity_date": 1469108037, "last_edit_date": 1469108037, "creation_date": 1469098615, "answer_id": 38502388, "question_id": 38501764, "link": "https://stackoverflow.com/questions/38501764/difference-between-with-and-run-in-kotlin/38502388#38502388", "title": "Difference between with and run in Kotlin", "body": "<p>They have only syntactic difference, <code>run</code> is an <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\">extension function</a> while <code>with</code> is not. Here are the definitions (in <code>kotlin-sdlib:1.0.3</code>):</p>\n\n<pre><code>public inline fun &lt;T, R&gt; T.run(block: T.() -&gt; R): R = block() // equivalent to this.block()\n\npublic inline fun &lt;T, R&gt; with(receiver: T, block: T.() -&gt; R): R = receiver.block()\n</code></pre>\n\n<p>Since <code>run</code> is an extension function, it has one more implicit argument of type <code>T</code>, so the argument types are the same. The bodies of the functions are also effectively the same. </p>\n\n<p>Their performance should also be equivalent since both are <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\"><code>inline</code> functions</a>: the resulting bytecode should only contain the inlined <code>block</code> body.</p>\n\n<hr>\n\n<p>The differences in the functions usage are all caused by the fact that <code>run</code> is an extension.</p>\n\n<p>First, <code>run</code> is suitable for calls chaining:</p>\n\n<pre><code>foo.run { bar }.run { baz }\n</code></pre>\n\n<p>Second, and more important, if a declared variable type has <code>run</code> function with the same signature, it will be called instead of the extension. And <code>run</code> can be shadowed by another extension. This is <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extensions-are-resolved-statically\">how extensions are resolved</a>. Example:</p>\n\n<pre><code>class MyClass {\n     fun &lt;R&gt; run(blockIgnored: MyClass.() -&gt; R): Nothing = throw RuntimeException()\n}\n\n\"abcdefg\".run { println(\"x\") } // prints \"x\"\nMyClass().run { println(\"x\") } // throws RuntimeException\n(MyClass() as Any).run { println(\"x\") } // prints \"x\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1590252106, "post_id": 47281190, "comment_id": 109613514, "body": "I guess it is even better to use &quot;apply&quot; in this scenario"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1590286921, "post_id": 47281190, "comment_id": 109623181, "body": "Ya, but this is to answer the question of <code>with</code> vs <code>run</code>. As of when to use which, perhaps this article would help. <a href=\"https://medium.com/@elye.project/mastering-kotlin-standard-functions-run-with-let-also-and-apply-9cd334b0ef84\" rel=\"nofollow noreferrer\">medium.com/@elye.project/&hellip;</a>"}, {"owner": {"reputation": 1871, "user_id": 1272659, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c4cf8ee7777eb59a09ddcf9aea442059?s=128&d=identicon&r=PG", "display_name": "Sean", "link": "https://stackoverflow.com/users/1272659/sean"}, "edited": false, "score": 0, "creation_date": 1600115376, "post_id": 47281190, "comment_id": 112980965, "body": "the return from the scope function is not used.  would you please explain why is it better using &quot;apply&quot; in this case?"}], "tags": [], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "is_accepted": false, "score": 11, "last_activity_date": 1510649061, "creation_date": 1510649061, "answer_id": 47281190, "question_id": 38501764, "link": "https://stackoverflow.com/questions/38501764/difference-between-with-and-run-in-kotlin/47281190#47281190", "title": "Difference between with and run in Kotlin", "body": "<p>In normal case, they are pretty similar, but for a nullable variable, it's better to use <code>T.run()</code></p>\n\n<p>E.g. if <code>webview.settings</code> is nullable, below would show the distinct</p>\n\n<pre><code>with(webview.settings) {\n    this?.javaScriptEnabled = true\n    this?.databaseEnabled = true\n}\n\n// similarly\nwebview.settings?.run {\n    javaScriptEnabled = true\n    databaseEnabled = true\n}\n</code></pre>\n"}], "owner": {"reputation": 12577, "user_id": 2102794, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/BrKf5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/2102794/sai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5195, "favorite_count": 4, "accepted_answer_id": 38502388, "answer_count": 2, "score": 37, "last_activity_date": 1510649061, "creation_date": 1469096944, "last_edit_date": 1469108274, "question_id": 38501764, "link": "https://stackoverflow.com/questions/38501764/difference-between-with-and-run-in-kotlin", "title": "Difference between with and run in Kotlin", "body": "<p>Do <code>with</code> and <code>run</code> have the same functionality with only different syntax, or is there any major differences between <code>with</code> and <code>run</code>?</p>\n\n<p>Which is the proper way?</p>\n\n<pre><code>adapter.run {\n    notifyDataSetChanged()\n    if (activityDetails.isEmpty())\n        emptyText.visibility = View.VISIBLE\n    else \n       emptyText.visibility = View.GONE\n}\n\n\nwith(adapter){\n   notifyDataSetChanged()\n   if (activityDetails.isEmpty())\n       emptyText.visibility = View.VISIBLE\n   else \n       emptyText.visibility = View.GONE\n}\n</code></pre>\n"}]