[{"tags": ["kotlin"], "comments": [{"owner": {"reputation": 185, "user_id": 298610, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e703c86335c61dd80eceddc67b739aab?s=128&d=identicon&r=PG", "display_name": "sharnol", "link": "https://stackoverflow.com/users/298610/sharnol"}, "edited": false, "score": 0, "creation_date": 1507161235, "post_id": 46575059, "comment_id": 80105049, "body": "Compiler try to resolve default value for argument at compile time. At compile its function <i>defaultText()</i> is not resolved by compiler so its complaining for unresolved reference. Same is not true with working code of Java and Kotlin as <i>this.text = defaultText()</i> will execute at runtime and at that point compiler already able to resolve reference for <i>_defaultText()</i>."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 185, "user_id": 298610, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e703c86335c61dd80eceddc67b739aab?s=128&d=identicon&r=PG", "display_name": "sharnol", "link": "https://stackoverflow.com/users/298610/sharnol"}, "edited": false, "score": 0, "creation_date": 1507162078, "post_id": 46575059, "comment_id": 80105276, "body": "@MonkWhoCode, this is not true: strictly speaking, both Kotlin and Java compilers resolve the function calls at compile time (in contrast with e.g. Groovy, JavaScript). The scoping is also not the case here: if you define a <code>companion object</code> in the class, you can use its members for default parameters of the constructor."}, {"owner": {"reputation": 185, "user_id": 298610, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e703c86335c61dd80eceddc67b739aab?s=128&d=identicon&r=PG", "display_name": "sharnol", "link": "https://stackoverflow.com/users/298610/sharnol"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1507165251, "post_id": 46575059, "comment_id": 80105988, "body": "@hotkey, agree. In above code compiler not able to resolve default value at compile time. Thats what possible by using companion object in the class."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1507161436, "last_edit_date": 1507161436, "creation_date": 1507157069, "answer_id": 46575282, "question_id": 46575059, "link": "https://stackoverflow.com/questions/46575059/calling-a-classs-method-as-default-arg-in-constructor/46575282#46575282", "title": "Calling a class&#39;s method as default arg in constructor", "body": "<p>The biggest problem of having a constructor's default parameter expression call a member function of the same instance is that the default arguments are evaluated <em>before</em> the constructor is called. </p>\n\n<p>Given that, such a member function would have to run on a completely un-initialized instance of the class (because even the super constructors will work after that, <a href=\"https://stackoverflow.com/a/43766613/2196460\">see this answer</a> about the execution order).</p>\n\n<p>Usually, member functions perform some logic taking the instance state into account, and having a member function run on an empty instance might break some of that logic (e.g. all fields will hold <code>null</code>s, even the backing fields of Kotlin not-null properties). Overall, even when such calls do not fail at runtime, they are likely introduce subtle bugs, so using a <em>completely</em> uninitialized instance is prohibited.</p>\n\n<p>With regard to the secondary constructor, well, at least it runs after the super constructor initializes some part of the instance, which is thus not completely empty, but it's up to you to make sure you don't use the parts of the class that are not initialized (if you do, you may again encounter a runtime failure or introduce a bug).</p>\n\n<p>I'd rather suggest using a function of a <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\"><code>companion object</code></a> (those are initialized before the class is first used) for this purpose:</p>\n\n<pre><code>class MyThing(val text: String = defaultText()) {  \n    companion object {\n        fun defaultText() = \"hi\"\n    }\n}\n</code></pre>\n\n<p>Or even a top-level function:</p>\n\n<pre><code>fun defaultText() = \"hi\"\n\nclass MyThing(val text: String = defaultText())\n</code></pre>\n"}], "owner": {"reputation": 5236, "user_id": 692167, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/414107f42456622acd7bb1d083f0b074?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/692167/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 46575282, "answer_count": 1, "score": 2, "last_activity_date": 1507161436, "creation_date": 1507155645, "last_edit_date": 1507161356, "question_id": 46575059, "link": "https://stackoverflow.com/questions/46575059/calling-a-classs-method-as-default-arg-in-constructor", "title": "Calling a class&#39;s method as default arg in constructor", "body": "<p>I'm constructing a class and then trying to call a member method of that class as a default value for one of the constructor args.  </p>\n\n<p>Why isn't this valid Kotlin?</p>\n\n<pre><code>// unresolved reference: defaultText\nclass MyThing(val text: String = defaultText()) {  \n    fun defaultText() = \"hi\"\n}\n</code></pre>\n\n<p>It's possible using two separate constructors in both Java and Kotlin, but then I lose the conciseness of default args.</p>\n\n<pre><code>class MyThing {\n\n    private val text: String\n\n    constructor(text: String) {\n        this.text = text\n    }\n\n    constructor() {\n        this.text = defaultText()\n    }\n\n    private fun defaultText(): String {\n        return \"hi\"\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6757416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/506f43593103077c0dc1bd061eb64a19?s=128&d=identicon&r=PG&f=1", "display_name": "Valeriy Makarshin", "link": "https://stackoverflow.com/users/6757416/valeriy-makarshin"}, "edited": false, "score": 0, "creation_date": 1507157125, "post_id": 46575082, "comment_id": 80104114, "body": "When I removing one singleton I&#39;ll get &quot;(unscoped) may not reference scoped bindings&quot;"}, {"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "reply_to_user": {"reputation": 11, "user_id": 6757416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/506f43593103077c0dc1bd061eb64a19?s=128&d=identicon&r=PG&f=1", "display_name": "Valeriy Makarshin", "link": "https://stackoverflow.com/users/6757416/valeriy-makarshin"}, "edited": false, "score": 0, "creation_date": 1507163443, "post_id": 46575082, "comment_id": 80105578, "body": "@Valeriy So you have to define your own custom scope. The tutorial you are following should cover this"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 2, "last_activity_date": 1507155747, "creation_date": 1507155747, "answer_id": 46575082, "question_id": 46575039, "link": "https://stackoverflow.com/questions/46575039/crash-dagger-when-build-project/46575082#46575082", "title": "Crash dagger when build project", "body": "<p>You've defined both <code>AppComponent</code> and <code>QuestionsComponent</code> as <code>@Singleton</code>, so which one is responsible for that scope? That is exactly what the error says. Remove the annotation from one of them.</p>\n"}], "owner": {"reputation": 11, "user_id": 6757416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/506f43593103077c0dc1bd061eb64a19?s=128&d=identicon&r=PG&f=1", "display_name": "Valeriy Makarshin", "link": "https://stackoverflow.com/users/6757416/valeriy-makarshin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 46575082, "answer_count": 1, "score": -1, "last_activity_date": 1507155747, "creation_date": 1507155517, "question_id": 46575039, "link": "https://stackoverflow.com/questions/46575039/crash-dagger-when-build-project", "title": "Crash dagger when build project", "body": "<p>When i try to build a project for generating Dagger's files build fails with an exception.\nCould you please tell me how to fix it or at least in what direction look.</p>\n\n<blockquote>\n  <p>e:\n  /home/hodzi/Projects/StudioProjects/StackViewer/app/build/tmp/kapt3/stubs/debug/com/hodzi/stackviewer/di/AppComponent.java:6:\n  error: [com.hodzi.stackviewer.questions.di.QuestionsComponent]\n  com.hodzi.stackviewer.questions.di.QuestionsComponent has conflicting\n  scopes: e: </p>\n  \n  <p>e: public abstract interface AppComponent { e:                 ^ e:<br>\n  com.hodzi.stackviewer.di.AppComponent also has @Singleton e:\n  java.lang.IllegalStateException: failed to analyze:\n  org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while\n  annotation processing     at\n  org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n    at\n  org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:138)\n    at\n  org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:154)\n    at\n  org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:58)\n    at\n  org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:103)\n    at\n  org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)  at\n  org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\n    at\n  org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:96)\n    at\n  org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:889)\n    at\n  org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)\n    at\n  org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at\n  org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:916)\n    at\n  org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:888)\n    at\n  org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:385)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)    at\n  sun.rmi.transport.Transport$1.run(Transport.java:197)     at\n  java.security.AccessController.doPrivileged(Native Method)    at\n  sun.rmi.transport.Transport.serviceCall(Transport.java:196)   at\n  sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at\n  sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at\n  sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)   at\n  sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745) Caused by:\n  org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while\n  annotation processing     at\n  org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:90)\n    at\n  org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:42)\n    at\n  org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:205)\n    at\n  org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:166)\n    at\n  org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:82)   at\n  org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\n    at\n  org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\n    at\n  org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:83)\n    at\n  org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:377)\n    at\n  org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:68)\n    at\n  org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:96)\n    at\n  org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:368)\n    at\n  org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:133)\n    ... 30 more</p>\n</blockquote>\n\n<p><strong>Components:</strong></p>\n\n<p>1) AppComponent</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AppModule::class, NetModule::class))\ninterface AppComponent {\n\n    fun inject(app: App)\n\n    fun plus(questionsModule: QuestionsModule): QuestionsComponent\n}\n</code></pre>\n\n<p>2) QuestionsComponent</p>\n\n<pre><code>@Singleton\n@Subcomponent(modules = arrayOf(QuestionsModule::class))\ninterface QuestionsComponent {\n    fun inject(questionsActivity: QuestionsActivity)\n}\n</code></pre>\n\n<p><strong>Modules:</strong></p>\n\n<p>1) AppModule</p>\n\n<pre><code>@Module\nclass AppModule(val application: Application) {\n\n    @Provides\n    @Singleton\n    fun provideApplication(): Context = application\n\n    @Provides\n    @Singleton\n    fun provideSharedPrefs(context: Context): SharedPreferences =\n            context.getSharedPreferences(context.packageName, Context.MODE_PRIVATE)\n}\n</code></pre>\n\n<p>2) QuestionsModule</p>\n\n<pre><code>@Module\nclass QuestionsModule {\n    @Provides @Singleton\n    fun provideQuestionsPresenter(questionsInteractor: QuestionsInteractor): QuestionsPresenter =\n        QuestionsPresenter(questionsInteractor)\n\n    @Provides @Singleton\n    fun provideQuestionsInteractor(api : Api): QuestionsInteractor = QuestionsInteractor(api)\n}\n</code></pre>\n\n<p><strong>App:</strong></p>\n\n<pre><code>class App : Application() {\n    val appComponent: AppComponent by lazy {\n        DaggerAppComponent.builder()\n            .netModule(NetModule())\n            .appModule(AppModule(this))\n            .build()\n\n    }\n\n    val questionsComponent: QuestionsComponent by lazy {\n        appComponent.plus(QuestionsModule())\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        Injector.inject(this)\n        NetUtils.init(this)\n    }\n}\n</code></pre>\n\n<p>If it helps then I attach a link to the <a href=\"https://github.com/ValeriyMakarshin/StackViewer/pull/2/files\" rel=\"nofollow noreferrer\">githab</a></p>\n"}, {"tags": ["android", "android-edittext", "kotlin"], "comments": [{"owner": {"reputation": 229, "user_id": 6922629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9becf7a20dbed7f4a5fb005b98afc9ae?s=128&d=identicon&r=PG&f=1", "display_name": "AeriaGlorisia", "link": "https://stackoverflow.com/users/6922629/aeriaglorisia"}, "edited": false, "score": 0, "creation_date": 1507167988, "post_id": 46574881, "comment_id": 80106560, "body": "Have you considered implementing it in the class and setting the listener to this?"}, {"owner": {"reputation": 2080, "user_id": 435609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/lwCRq.jpg?s=128&g=1", "display_name": "Ganesh Kanna", "link": "https://stackoverflow.com/users/435609/ganesh-kanna"}, "edited": false, "score": 0, "creation_date": 1507269135, "post_id": 46574881, "comment_id": 80150106, "body": "I cant reproduce the issue. I tried from my end. When ever edit text got focus gain/loss result the field with text &quot;hello world&quot;"}], "owner": {"reputation": 820, "user_id": 2912185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3993887fb13aa40082b2406d7eb98682?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/2912185/dan-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507154657, "creation_date": 1507154657, "question_id": 46574881, "link": "https://stackoverflow.com/questions/46574881/why-does-calling-settext-in-an-onfocuschangelistener-clear-out-the-text-in-the", "title": "why does calling setText() in an OnFocusChangeListener clear out the text in the view?", "body": "<p>When I call setText() from inside the onFocusChangeListener instead of making the field show text \"hello World\"  it is blank.  How can I get the text to updated when the field loses focus?</p>\n\n<p>Code is in Kotlin:</p>\n\n<pre><code>editText.setOnFocusChangeListener { view, hasFocus -&gt; (view as EditText).setText(\"hello World\") }\n</code></pre>\n"}, {"tags": ["lambda", "delegates", "kotlin", "lazy-sequences"], "answers": [{"tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": true, "score": 6, "last_activity_date": 1507148519, "creation_date": 1507148519, "answer_id": 46573532, "question_id": 46573364, "link": "https://stackoverflow.com/questions/46573364/trying-to-understand-kotlin-example/46573532#46573532", "title": "Trying to understand Kotlin Example", "body": "<blockquote>\n  <p>Why is the println() only executed once?</p>\n</blockquote>\n\n<p>That happens because the first time you are accessing to it, it is created. To be created, it invokes the lambda that you passed only one time and assigns the value <code>\"my lazy\"</code>.\nThe code you wrote in <code>Kotlin</code> is the same of this java code:</p>\n\n<pre><code>public class LazySample {\n\n    private String lazy;\n\n    private String getLazy() {\n        if (lazy == null) {\n            System.out.println(\"computed!\");\n            lazy = \"my lazy\";\n        }\n        return lazy;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>I am also confused about the line \"my lazy\" the String isn't assigned\n  to anything (String x = \"my lazy\") or used in a return (return \"my\n  lazy)</p>\n</blockquote>\n\n<p>Kotlin supports <a href=\"https://kotlinlang.org/docs/reference/returns.html\" rel=\"noreferrer\">implicit returns</a> for lambda. It means that the last statement of a lambda is considered its return value.\nYou can also specify an explicit return with <code>return@label</code>.\nIn this case:</p>\n\n<pre><code>class LazySample {\n    val lazy: String by lazy {\n        println(\"computed!\")\n        return@lazy \"my lazy\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 423, "user_id": 1303260, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/67cd8b786e2b04e4a888c51252d65906?s=128&d=identicon&r=PG", "display_name": "abinmorth", "link": "https://stackoverflow.com/users/1303260/abinmorth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 46573532, "answer_count": 1, "score": 1, "last_activity_date": 1507148519, "creation_date": 1507147827, "question_id": 46573364, "link": "https://stackoverflow.com/questions/46573364/trying-to-understand-kotlin-example", "title": "Trying to understand Kotlin Example", "body": "<p>I want to learn Kotlin and am working through the Examples on\ntry.kotlinlang.org</p>\n\n<p>I have trouble understanding some examples, particularly the Lazy property example: <a href=\"https://try.kotlinlang.org/#/Examples/Delegated%20properties/Lazy%20property/Lazy%20property.kt\" rel=\"nofollow noreferrer\">https://try.kotlinlang.org/#/Examples/Delegated%20properties/Lazy%20property/Lazy%20property.kt</a></p>\n\n<pre><code>/**\n * Delegates.lazy() is a function that returns a delegate that implements a lazy property:\n * the first call to get() executes the lambda expression passed to lazy() as an argument\n * and remembers the result, subsequent calls to get() simply return the remembered result.\n * If you want thread safety, use blockingLazy() instead: it guarantees that the values will\n * be computed only in one thread, and that all threads will see the same value.\n */\n\nclass LazySample {\n    val lazy: String by lazy {\n        println(\"computed!\")\n        \"my lazy\"\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val sample = LazySample()\n    println(\"lazy = ${sample.lazy}\")\n    println(\"lazy = ${sample.lazy}\")\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>computed!\nlazy = my lazy\nlazy = my lazy\n</code></pre>\n\n<p>I don't get what is happening here. (probably because I am not really familiar with lambdas)</p>\n\n<ul>\n<li><p>Why is the println() only executed once?</p></li>\n<li><p>I am also confused about the line \"my lazy\"\nthe String isn't assigned to anything (String x = \"my lazy\") or used in a return\n(return \"my lazy)</p></li>\n</ul>\n\n<p>Can someone explain please? :)</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1235, "user_id": 3957465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5e2abcece7cfe847ee04a7d2e7e6b623?s=128&d=identicon&r=PG", "display_name": "Evan Wieland", "link": "https://stackoverflow.com/users/3957465/evan-wieland"}, "edited": false, "score": 5, "creation_date": 1507145135, "post_id": 46572638, "comment_id": 80098965, "body": "What research have you done so far?"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 1, "creation_date": 1507145516, "post_id": 46572638, "comment_id": 80099167, "body": "<a href=\"https://kotlinlang.org/docs/reference/java-interop.html#getclass\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html#getclass</a>"}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "reply_to_user": {"reputation": 1235, "user_id": 3957465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5e2abcece7cfe847ee04a7d2e7e6b623?s=128&d=identicon&r=PG", "display_name": "Evan Wieland", "link": "https://stackoverflow.com/users/3957465/evan-wieland"}, "edited": false, "score": 1, "creation_date": 1507183906, "post_id": 46572638, "comment_id": 80110759, "body": "@EvanWieland I&#39;d say zero."}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 298610, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e703c86335c61dd80eceddc67b739aab?s=128&d=identicon&r=PG", "display_name": "sharnol", "link": "https://stackoverflow.com/users/298610/sharnol"}, "is_accepted": true, "score": 3, "last_activity_date": 1507151743, "creation_date": 1507151743, "answer_id": 46574305, "question_id": 46572638, "link": "https://stackoverflow.com/questions/46572638/what-is-concept-of-kotlin-intent/46574305#46574305", "title": "What is concept of Kotlin intent?", "body": "<p>Kotlin is designed to be interoperable with Java. Pretty much all Java code can be called from Kotlin and vice versa without any issues.</p>\n\n<p>What does <code>Activity::class.java</code> ?</p>\n\n<p>Consider this expression <code>val c = MyClass::class</code>, In it the reference is a value of type <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html\" rel=\"nofollow noreferrer\">KClass</a>.</p>\n\n<p>To obtain a Java class reference, we need to use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java.html\" rel=\"nofollow noreferrer\">.java</a> property on a KClass instance.</p>\n\n<p>If you execute below code</p>\n\n<pre><code>var ktString = String::class\nprintln(ktString)\n\nvar javaString = String::class.java\nprintln(javaString)\n</code></pre>\n\n<p>Output will be</p>\n\n<pre><code>class kotlin.String\nclass java.lang.String\n</code></pre>\n\n<p><code>.java</code> helps to get mapped type between Java and Kotlin at runtime. Please refer <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">Kotlin Docs</a> for list of mapped types.</p>\n"}], "owner": {"reputation": 193, "user_id": 8690378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pr7YM.jpg?s=128&g=1", "display_name": "SubTain Malik", "link": "https://stackoverflow.com/users/8690378/subtain-malik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "closed_date": 1507190357, "accepted_answer_id": 46574305, "answer_count": 1, "score": -4, "last_activity_date": 1507151743, "creation_date": 1507144987, "last_edit_date": 1507145684, "question_id": 46572638, "link": "https://stackoverflow.com/questions/46572638/what-is-concept-of-kotlin-intent", "closed_reason": "Needs more focus", "title": "What is concept of Kotlin intent?", "body": "<p>I want to understand the concept behind this Kotlin intent.  What does <code>Activity::class.java</code>\n mean in Kotlin ?</p>\n"}, {"tags": ["android", "kotlin", "android-mediasession", "mediabrowserservice", "mediabrowserservicecompat"], "comments": [{"owner": {"reputation": 536, "user_id": 1383284, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7f79cb32444a3f5d73511dc2354ef8b0?s=128&d=identicon&r=PG", "display_name": "Ricardo Belchior", "link": "https://stackoverflow.com/users/1383284/ricardo-belchior"}, "edited": false, "score": 0, "creation_date": 1522061628, "post_id": 46567945, "comment_id": 85982127, "body": "so in the end, can you tell us how did you refresh the MediaBrowserService after a pull to refresh?"}, {"owner": {"reputation": 783, "user_id": 2351499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UvYrY.jpg?s=128&g=1", "display_name": "YodaScholtz", "link": "https://stackoverflow.com/users/2351499/yodascholtz"}, "reply_to_user": {"reputation": 536, "user_id": 1383284, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7f79cb32444a3f5d73511dc2354ef8b0?s=128&d=identicon&r=PG", "display_name": "Ricardo Belchior", "link": "https://stackoverflow.com/users/1383284/ricardo-belchior"}, "edited": false, "score": 2, "creation_date": 1522153435, "post_id": 46567945, "comment_id": 86030071, "body": "@RicardoBelchior I&#39;ve added the specific methods I used for swipe refresh to my question, as it wasn&#39;t specifically something I was looking for an answer too, but does add more context. Hope it helps!"}, {"owner": {"reputation": 504, "user_id": 5805371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HotJ.jpg?s=128&g=1", "display_name": "Yuri Popiv", "link": "https://stackoverflow.com/users/5805371/yuri-popiv"}, "edited": false, "score": 2, "creation_date": 1552572675, "post_id": 46567945, "comment_id": 97068458, "body": "@YodaScholtz thanks. Call notifyChildrenChanged() solved my problem."}], "answers": [{"comments": [{"owner": {"reputation": 661, "user_id": 6211906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29ca77cd3dfc353e4b9fd7b568033415?s=128&d=identicon&r=PG&f=1", "display_name": "Tara", "link": "https://stackoverflow.com/users/6211906/tara"}, "edited": false, "score": 0, "creation_date": 1565251196, "post_id": 46644087, "comment_id": 101296241, "body": "hi i got same issue can you see my code   override fun onLoadChildren(parentMediaId: String, result: Result&lt;List&lt;MediaBrowser.MediaItem&gt;&gt;) {         result.detach()         channelLists.clear()         Log.d(&quot;children&quot;, parentMediaId)         channelLists.addAll(StreamGenerator.generateSongs(this@AutoT&zwnj;&#8203;echnoService))         result.sendResult(ChannelHelperNew.createChildrenListing(cha&zwnj;&#8203;nnelLists, this@AutoTechnoService))     }"}], "tags": [], "owner": {"reputation": 783, "user_id": 2351499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UvYrY.jpg?s=128&g=1", "display_name": "YodaScholtz", "link": "https://stackoverflow.com/users/2351499/yodascholtz"}, "is_accepted": true, "score": 0, "last_activity_date": 1507544270, "creation_date": 1507544270, "answer_id": 46644087, "question_id": 46567945, "link": "https://stackoverflow.com/questions/46567945/refreshing-mediabrowserservice-subcription-content/46644087#46644087", "title": "Refreshing MediaBrowserService subcription content", "body": "<p>My issue was unrelated to the MediaBrowserServiceCompat class. The issue was coming about because I was calling <code>result.detach()</code> in order to implement some asynchronous data fetching, and the listener I was using had both the <code>parentId</code> and <code>result</code> variables from the onLoadChildren method passed in and assigned final <code>val</code> rather than <code>var</code>.</p>\n\n<p>I still don't fully understand why this occurs, whether it's an underlying result of using a <code>Player.EventListener</code> within another asynchronous network call listener, but the solution was to create and assign a variable (and perhaps someone else can explain this phenomenon):</p>\n\n<pre><code>// Create variable\nvar currentResult: Result&lt;List&lt;MediaBrowserCompat.MediaItem&gt;&gt;? = null\n\noverride fun onLoadChildren(parentId: String, result: MediaBrowserServiceCompat.Result&lt;List&lt;MediaBrowserCompat.MediaItem&gt;&gt;) {\n    // Use result.detach to allow calling result.sendResult from another thread\n    result.detach()\n    // Assign returned result to temporary variable\n    currentResult = result\n    currentParentId = parentId\n\n    // Create listener for network call\n    ChannelManager.onFlagChannelManagerDataListener = object : ChannelManager.Companion.OnFlagChannelManagerDataListener {\n       override fun onSyncFinished() {\n            // Create a listener to determine when player is prepared\n            val playerEventListener = object : Player.EventListener {\n\n                override fun onPlayerStateChanged(playWhenReady: Boolean, playbackState: Int) {\n                     when(playbackState) {\n                        Player.STATE_READY -&gt; {\n                            if(mPlayerPreparing) {\n                                // Prepare content to send to subscribed content\n                                loadChildrenImpl(currentParentId, currentResult as MediaBrowserServiceCompat.Result&lt;List&lt;MediaBrowserCompat.MediaItem&gt;&gt;)\n                                mPlayerPreparing = false\n                            }\n                        }\n                        ...\n                     }\n                }\n       }\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 346, "user_id": 2320459, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/pzduZ.jpg?s=128&g=1", "display_name": "Hampel El\u0151d", "link": "https://stackoverflow.com/users/2320459/hampel-el%c5%91d"}, "is_accepted": false, "score": 1, "last_activity_date": 1557475469, "last_edit_date": 1557475469, "creation_date": 1557474709, "answer_id": 56073068, "question_id": 46567945, "link": "https://stackoverflow.com/questions/46567945/refreshing-mediabrowserservice-subcription-content/56073068#56073068", "title": "Refreshing MediaBrowserService subcription content", "body": "<p>Calling you music service implementations <code>notifyChildrenChanged(String parentId)</code> will trigger the <code>onLoadChildren</code> and inside there, you can send a different result with <code>result.sendResult()</code>.</p>\n\n<p>What I did was that I added a <code>BroadcastReceiver</code> to my music service and inside it, I just called the <code>notifyChildrenChanged(String parentId)</code>. And inside my Activity, I sent a broadcast when I changed the music list.</p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 12120103, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBYrAxmOWHgUfRMnDvCCNxwL-nqZKUZ_UIjr6KGUw=k-s128", "display_name": "Dani Boy", "link": "https://stackoverflow.com/users/12120103/dani-boy"}, "is_accepted": false, "score": 0, "last_activity_date": 1613040194, "creation_date": 1613040194, "answer_id": 66153170, "question_id": 46567945, "link": "https://stackoverflow.com/questions/46567945/refreshing-mediabrowserservice-subcription-content/66153170#66153170", "title": "Refreshing MediaBrowserService subcription content", "body": "<h1>Optional (not Recommended) Quick fix</h1>\n<p><strong>MusicService -&gt;</strong></p>\n<pre><code>companion object {\n    var musicServiceInstance:MusicService?=null\n}\n\noverride fun onCreate() {\n    super.onCreate()\n    musicServiceInstance=this\n}\n\n//api call\nfun fetchSongs(params:Int){\n    serviceScope.launch {\n        firebaseMusicSource.fetchMediaData(params)\n\n        //Edit Data or Change Data\n         notifyChildrenChanged(MEDIA_ROOT_ID)\n    }\n}\n</code></pre>\n<p><strong>ViewModel -&gt;</strong></p>\n<pre><code>fun fetchSongs(){\n    MusicService.musicServiceInstance?.let{\n      it.fetchSongs(params)\n     }\n}\n</code></pre>\n<h1>Optional (Recommended)</h1>\n<p><strong>MusicPlaybackPreparer</strong></p>\n<pre><code>class MusicPlaybackPreparer (\nprivate val firebaseMusicSource: FirebaseMusicSource,\nprivate val serviceScope: CoroutineScope,\nprivate val exoPlayer: SimpleExoPlayer,\nprivate val playerPrepared: (MediaMetadataCompat?) -&gt; Unit\n</code></pre>\n<p>) : MediaSessionConnector.PlaybackPreparer {</p>\n<pre><code>override fun onCommand(player: Player, controlDispatcher: ControlDispatcher, command: String, extras: Bundle?, cb: ResultReceiver?\n): Boolean {\n    when(command){\n         //edit data or fetch more data from api\n        &quot;Add Songs&quot;-&gt;{\n            serviceScope.launch {\n                firebaseMusicSource.fetchMediaData()\n            }\n         }\n       \n    }\n    return false\n}\n\n\noverride fun getSupportedPrepareActions(): Long {\n    return PlaybackStateCompat.ACTION_PREPARE_FROM_MEDIA_ID or\n            PlaybackStateCompat.ACTION_PLAY_FROM_MEDIA_ID\n}\n\noverride fun onPrepare(playWhenReady: Boolean) = Unit\n\noverride fun onPrepareFromMediaId(mediaId: String, playWhenReady: Boolean, extras: Bundle?) {\n    firebaseMusicSource.whenReady {\n        val itemToPlay = firebaseMusicSource.songs.find { mediaId == it.description.mediaId }\n        playerPrepared(itemToPlay)\n    }\n}\n\noverride fun onPrepareFromSearch(query: String, playWhenReady: Boolean, extras: Bundle?) = Unit\n\noverride fun onPrepareFromUri(uri: Uri, playWhenReady: Boolean, extras: Bundle?) = Unit\n</code></pre>\n<p>}</p>\n<p><strong>MusicServiceConnection</strong></p>\n<pre><code>fun sendCommand(command: String, parameters: Bundle?) =\n    sendCommand(command, parameters) { _, _ -&gt; }\n\nprivate fun sendCommand(\n    command: String,\n    parameters: Bundle?,\n    resultCallback: ((Int, Bundle?) -&gt; Unit)\n) = if (mediaBrowser.isConnected) {\n    mediaController.sendCommand(command, parameters, object : ResultReceiver(Handler()) {\n        override fun onReceiveResult(resultCode: Int, resultData: Bundle?) {\n            resultCallback(resultCode, resultData)\n        }\n    })\n    true\n} else {\n    false\n}\n</code></pre>\n<p><strong>ViewModel</strong></p>\n<pre><code> fun fetchSongs(){\n    val args = Bundle()\n    args.putInt(&quot;nRecNo&quot;, 2)\n    musicServiceConnection.sendCommand(&quot;Add Songs&quot;, args )\n}\n</code></pre>\n<p><strong>MusicService -&gt;</strong></p>\n<pre><code> override fun onLoadChildren(\n    parentId: String,\n    result: Result&lt;MutableList&lt;MediaBrowserCompat.MediaItem&gt;&gt;\n) {\n    when(parentId) {\n        MEDIA_ROOT_ID -&gt; {\n            val resultsSent = firebaseMusicSource.whenReady { isInitialized -&gt;\n                if(isInitialized) {\n                    try {\n                        result.sendResult(firebaseMusicSource.asMediaItems())\n                        if(!isPlayerInitialized &amp;&amp; firebaseMusicSource.songs.isNotEmpty()) {\n                            preparePlayer(firebaseMusicSource.songs, firebaseMusicSource.songs[0], true)\n                            isPlayerInitialized = true\n                        }\n                    }\n                   catch (exception: Exception){\n                       // not recommend to notify here , instead notify when you \n                       // change existing list in MusicPlaybackPreparer onCommand()\n                       notifyChildrenChanged(MEDIA_ROOT_ID)\n                   }\n                } else {\n                    result.sendResult(null)\n                }\n            }\n            if(!resultsSent) {\n                result.detach()\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 783, "user_id": 2351499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UvYrY.jpg?s=128&g=1", "display_name": "YodaScholtz", "link": "https://stackoverflow.com/users/2351499/yodascholtz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1702, "favorite_count": 0, "accepted_answer_id": 46644087, "answer_count": 3, "score": 5, "last_activity_date": 1613040194, "creation_date": 1507128712, "last_edit_date": 1522153358, "question_id": 46567945, "link": "https://stackoverflow.com/questions/46567945/refreshing-mediabrowserservice-subcription-content", "title": "Refreshing MediaBrowserService subcription content", "body": "<blockquote>\n  <p><strong>TL;DR:</strong> I have successfully created and coupled (via a subscription) an activity to a media browser service. This media browser service can continue running and play music in the background. I'd like to be able to refresh the content at some stage, either when the app comes to the foreground again or during a SwipeRefreshLayout event.</p>\n</blockquote>\n\n<p>I have the following functionality I'd like to implement:</p>\n\n<ol>\n<li>Start a MediaBrowserServiceCompat service.</li>\n<li>From an activity, connect to and subscribe to the media browser service.</li>\n<li>Allow the service to continue running and playing music while the app is closed.</li>\n<li><strong>At a later stage, or on a SwipeRefreshLayout event, reconnect and subscribe to the service to get fresh content.</strong></li>\n</ol>\n\n<p>The issue I am receiving is that within a MediaBrowserService (after a subscription has been created) you can only call sendResult() once from the onLoadChildren() method, so the next time you try to subscribe to the media browser service using the same root, you get the following exception when sendResult() is called for the second time:</p>\n\n<pre><code>E/UncaughtException: java.lang.IllegalStateException: sendResult() called when either sendResult() or sendError() had already been called for: MEDIA_ID_ROOT\n                                                    at android.support.v4.media.MediaBrowserServiceCompat$Result.sendResult(MediaBrowserServiceCompat.java:602)\n                                                    at com.roostermornings.android.service.MediaService.loadChildrenImpl(MediaService.kt:422)\n                                                    at com.roostermornings.android.service.MediaService.access$loadChildrenImpl(MediaService.kt:50)\n                                                    at com.roostermornings.android.service.MediaService$onLoadChildren$1$onSyncFinished$playerEventListener$1.onPlayerStateChanged(MediaService.kt:376)\n                                                    at com.google.android.exoplayer2.ExoPlayerImpl.handleEvent(ExoPlayerImpl.java:422)\n                                                    at com.google.android.exoplayer2.ExoPlayerImpl$1.handleMessage(ExoPlayerImpl.java:103)\n                                                    at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                    at android.os.Looper.loop(Looper.java:150)\n                                                    at android.app.ActivityThread.main(ActivityThread.java:5665)\n                                                    at java.lang.reflect.Method.invoke(Native Method)\n                                                    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:822)\n                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:712)\n</code></pre>\n\n<p>I call the following methods to connect to and disconnect from the media browser (again, everything runs smoothly on first connection, but on the second connection I'm not sure how to refresh the content via a subscription):</p>\n\n<pre><code>override fun onStart() {\n        super.onStart()\n\n        mMediaBrowser = MediaBrowserCompat(this, ComponentName(this, MediaService::class.java), connectionCallback, null)\n\n        if (!mMediaBrowser.isConnected)\n            mMediaBrowser.connect()\n}\n\noverride fun onPause() {\n        super.onPause()\n\n        //Unsubscribe and unregister MediaControllerCompat callbacks\n        MediaControllerCompat.getMediaController(this@DiscoverFragmentActivity)?.unregisterCallback(mediaControllerCallback)\n        if (mMediaBrowser.isConnected) {\n            mMediaBrowser.unsubscribe(mMediaBrowser.root, subscriptionCallback)\n            mMediaBrowser.disconnect()\n        }\n}\n</code></pre>\n\n<p>I unsubscribe and disconnect in onPause() instead of onDestroy() so that the subscription is recreated even if the activity is kept on the back-stack.</p>\n\n<p><strong>Actual method used for swipe refresh, in activity and service respectively:</strong></p>\n\n<p>Activity</p>\n\n<pre><code>if (mMediaBrowser.isConnected)\n        mMediaController?.sendCommand(MediaService.Companion.CustomCommand.REFRESH.toString(), null, null)\n</code></pre>\n\n<p>Service</p>\n\n<pre><code>inner class MediaPlaybackPreparer : MediaSessionConnector.PlaybackPreparer {\n\n    ...\n\n    override fun onCommand(command: String?, extras: Bundle?, cb: ResultReceiver?) {\n        when(command) {\n            // Refresh media browser content and send result to subscribers\n            CustomCommand.REFRESH.toString() -&gt; {\n                notifyChildrenChanged(MEDIA_ID_ROOT)\n            }\n        }\n    }}\n</code></pre>\n\n<p><strong>Other research:</strong></p>\n\n<p>I have referred to the Google Samples code on Github, as well as...</p>\n\n<ul>\n<li><a href=\"https://github.com/googlesamples/android-MediaBrowserService\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-MediaBrowserService</a></li>\n<li><a href=\"https://github.com/moondroid/UniversalMusicPlayer\" rel=\"nofollow noreferrer\">https://github.com/moondroid/UniversalMusicPlayer</a></li>\n</ul>\n\n<p>Neither of the above repos seem to handle the issue of <strong>refreshing</strong> content after the media browser service has been created and the activity has subscribed at least once - I'd like to avoid restarting the service so that the music can continue playing in the background.</p>\n\n<p><strong>Possible related issues:</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/43169875/mediabrowser-subscribe-doesnt-work-after-i-get-back-to-activity-1-from-activity\">MediaBrowser.subscribe doesn&#39;t work after I get back to activity 1 from activity 2 (6.0.1 Android)</a> --no effect on current issue</li>\n</ul>\n"}, {"tags": ["firebase-realtime-database", "enums", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 867, "user_id": 4233693, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/adf131751fe3c0c58138d86c31d1080a?s=128&d=identicon&r=PG", "display_name": "Stanislaw Baranski", "link": "https://stackoverflow.com/users/4233693/stanislaw-baranski"}, "is_accepted": true, "score": 2, "last_activity_date": 1507136341, "creation_date": 1507136341, "answer_id": 46570305, "question_id": 46566509, "link": "https://stackoverflow.com/questions/46566509/firebase-database-serialize-int-to-enum/46570305#46570305", "title": "Firebase Database serialize int to enum?", "body": "<p>For now I'm using workaround that uses @IntDef annotation instead of enum. But I will keep the question open for enum solution </p>\n\n<pre><code>@Retention(AnnotationRetention.SOURCE)\n@IntDef(Style.NORMAL, Style.CUSTOM)\nannotation class StyleDef\n\n\nobject Style {\n    const val NORMAL: Long = 0\n    const val CUSTOM: Long = 1\n}\n</code></pre>\n\n<p>and my model become</p>\n\n<pre><code>class A(@StyleDef var style: Long = Style.NORMAL) : Parcelable, Observable{...}\n</code></pre>\n"}], "owner": {"reputation": 867, "user_id": 4233693, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/adf131751fe3c0c58138d86c31d1080a?s=128&d=identicon&r=PG", "display_name": "Stanislaw Baranski", "link": "https://stackoverflow.com/users/4233693/stanislaw-baranski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 46570305, "answer_count": 1, "score": 1, "last_activity_date": 1553015703, "creation_date": 1507124663, "last_edit_date": 1553015703, "question_id": 46566509, "link": "https://stackoverflow.com/questions/46566509/firebase-database-serialize-int-to-enum", "title": "Firebase Database serialize int to enum?", "body": "<p>It it to possible to serialize int/long to enum ?\nPreviously my model was something like this:</p>\n\n<pre><code>class A(var style: Int = STYLE_NORMAL) : Parcelable, Observable{...}\n</code></pre>\n\n<p>Where style value could be either</p>\n\n<pre><code>const val STYLE_NORMAL : Int = 0 \n</code></pre>\n\n<p>or </p>\n\n<pre><code>const val STYLE_CUSTOM : Int = 1\n</code></pre>\n\n<p>Now I decided that it will be better if I wrap it with enum.</p>\n\n<pre><code>enum class Style {\n    @SerializedName(\"0\") NORMAL,\n    @SerializedName(\"1\") CUSTOM\n}\n</code></pre>\n\n<p>So my model now look like this:</p>\n\n<pre><code>class A(var style: Style = Style.NORMAL) : Parcelable, Observable{...}\n</code></pre>\n\n<p>And everything works fine except that Firebase cann't parse already stored objects on previous model to the new one, and this line</p>\n\n<pre><code>snapshot.getValue(A::java.class)\n</code></pre>\n\n<p>Throws exception</p>\n\n<blockquote>\n  <p>E/UncaughtException: com.google.firebase.database.DatabaseException:\n  <strong>Expected a String</strong> while <strong>deserializing to enum</strong> class\n  com.stasbar.models.A$Style but got a class java.lang.Long</p>\n</blockquote>\n\n<p>I understand that the issue is that Firebase can parse only Strings to enums.\nIs there any workaround ?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "edited": false, "score": 1, "creation_date": 1507124120, "post_id": 46565859, "comment_id": 80086178, "body": "Thank you for your answer, but this does not solve my problem. I need these values to be compile-time constants so that I can use them in a Java annotation."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "edited": false, "score": 0, "creation_date": 1507155435, "post_id": 46565859, "comment_id": 80103561, "body": "@MartinDrozdik it&#39;s interesting, could you share your use case in the question?"}, {"owner": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1507157060, "post_id": 46565859, "comment_id": 80104094, "body": "@Ilya Certainly :) I expaned my question to include a real-world use case."}], "tags": [], "owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "is_accepted": false, "score": 2, "last_activity_date": 1507122865, "creation_date": 1507122865, "answer_id": 46565859, "question_id": 46565769, "link": "https://stackoverflow.com/questions/46565769/how-to-make-a-compile-time-constant-nan-or-positive-infinity-in-kotlin/46565859#46565859", "title": "How to make a compile time constant NaN or POSITIVE_INFINITY in Kotlin?", "body": "<p>You don't need to redefine anything. Just <a href=\"https://kotlinlang.org/docs/reference/packages.html\" rel=\"nofollow noreferrer\">import with an alias</a>:</p>\n\n<pre><code>import kotlin.Double.Companion.POSITIVE_INFINITY as inf\nimport kotlin.Double.Companion.NaN as nan\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 7, "last_activity_date": 1507133465, "last_edit_date": 1507133465, "creation_date": 1507126627, "answer_id": 46567211, "question_id": 46565769, "link": "https://stackoverflow.com/questions/46565769/how-to-make-a-compile-time-constant-nan-or-positive-infinity-in-kotlin/46567211#46567211", "title": "How to make a compile time constant NaN or POSITIVE_INFINITY in Kotlin?", "body": "<p>As a workaround, you can use the fact that the IEEE 754 standard guarantees <code>0.0 / 0.0</code> to be NaN and <code>1.0 / 0.0</code> to be +\u221e:</p>\n\n<pre><code>@Suppress(\"DIVISION_BY_ZERO\")\nconst val NAN: Double = 0.0 / 0.0\n\n@Suppress(\"DIVISION_BY_ZERO\")\nconst val INFINITY: Double = 1.0 / 0.0\n\nfun main(args: Array&lt;String&gt;) {\n    println(NAN) // NaN\n    println(INFINITY) // Infinity\n} \n</code></pre>\n"}], "owner": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 838, "favorite_count": 1, "accepted_answer_id": 46567211, "answer_count": 2, "score": 5, "last_activity_date": 1507156935, "creation_date": 1507122621, "last_edit_date": 1507156935, "question_id": 46565769, "link": "https://stackoverflow.com/questions/46565769/how-to-make-a-compile-time-constant-nan-or-positive-infinity-in-kotlin", "title": "How to make a compile time constant NaN or POSITIVE_INFINITY in Kotlin?", "body": "<p>I tried:</p>\n\n<pre><code>import kotlin.Double.Companion.POSITIVE_INFINITY\nimport kotlin.Double.Companion.NaN\n\nconst val inf = POSITIVE_INFINITY\nconst val nan = NaN\n</code></pre>\n\n<p>But I get:</p>\n\n<blockquote>\n  <p>Const 'val' initializer should be a constant value</p>\n</blockquote>\n\n<hr>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The reason I need to do this is because of <a href=\"https://blog.codefx.org/libraries/junit-5-parameterized-tests/#Value-Source\" rel=\"nofollow noreferrer\">Junit5's parametrized tests</a>:</p>\n\n<pre><code> @ParameterizedTest\n @ValueSource(doubles = doubleArrayOf(nan, inf, -2* epsilon,  1.5, -0.5, 1.0 + 2* epsilon))\n fun ensureNotAProbability(number: Double)\n {\n     ...\n }  \n</code></pre>\n\n<p>Due to some limitations of Java annotations (described in <a href=\"https://stackoverflow.com/a/2067863/1097451\">this SO answer</a>) the things 'passed to an annotation' can only be compile-time constants. Therefore I would need a compile time NaN, positive, and negative infinities.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "jitpack"], "comments": [{"owner": {"reputation": 373, "user_id": 2485493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10aa24e54fd59ffea685bee202c871c7?s=128&d=identicon&r=PG", "display_name": "Wicket", "link": "https://stackoverflow.com/users/2485493/wicket"}, "edited": false, "score": 0, "creation_date": 1520974976, "post_id": 46565591, "comment_id": 85535012, "body": "Hey, we got the same issue with our project and AS <a href=\"https://jitpack.io/com/github/gnosis/svalinn-kotlin/ethereum-rpc/feature~fix_estimate-v0.2.3-g8d4f5ae-5/\" rel=\"nofollow noreferrer\">jitpack.io/com/github/gnosis/svalinn-kotlin/ethereum-rpc/&hellip;</a>.  Did you find any solution or maybe open a issue on the AS issue tracker?"}, {"owner": {"reputation": 373, "user_id": 2485493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10aa24e54fd59ffea685bee202c871c7?s=128&d=identicon&r=PG", "display_name": "Wicket", "link": "https://stackoverflow.com/users/2485493/wicket"}, "edited": false, "score": 1, "creation_date": 1520976084, "post_id": 46565591, "comment_id": 85535469, "body": "It seems to work for us in tagged releases now (only extensions are broken)"}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "reply_to_user": {"reputation": 373, "user_id": 2485493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10aa24e54fd59ffea685bee202c871c7?s=128&d=identicon&r=PG", "display_name": "Wicket", "link": "https://stackoverflow.com/users/2485493/wicket"}, "edited": false, "score": 0, "creation_date": 1520983523, "post_id": 46565591, "comment_id": 85538294, "body": "interesting - thanks for the data-point. Which AS version are you using? Are you coming to the crypto lunch tomorrow? Think it would be great to meet again anyway ;-)"}], "answers": [{"tags": [], "owner": {"reputation": 587, "user_id": 2115403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w2Ylo.jpg?s=128&g=1", "display_name": "rtsketo", "link": "https://stackoverflow.com/users/2115403/rtsketo"}, "is_accepted": false, "score": 0, "last_activity_date": 1593495078, "creation_date": 1593495078, "answer_id": 62650856, "question_id": 46565591, "link": "https://stackoverflow.com/questions/46565591/attach-sources-to-kotlin-library-project-dont-show-up-in-as/62650856#62650856", "title": "Attach sources to kotlin library project don&#39;t show up in AS", "body": "<p>This is what we have for Maven Publication.</p>\n<pre><code>task androidSourcesJar(type: Jar) {\n    archiveClassifier.set('sources')\n    from android.sourceSets.main.java.srcDirs\n}\n\n</code></pre>\n<p>And then you can use <code>artifact androidSourcesJar</code>.</p>\n"}], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1038, "favorite_count": 2, "answer_count": 1, "score": 18, "last_activity_date": 1593495078, "creation_date": 1507122137, "last_edit_date": 1565695294, "question_id": 46565591, "link": "https://stackoverflow.com/questions/46565591/attach-sources-to-kotlin-library-project-dont-show-up-in-as", "title": "Attach sources to kotlin library project don&#39;t show up in AS", "body": "<p>I want to attach the sources to an kotlin library project and it looks I succeeded as I have the source-jars now in here:</p>\n\n<p><a href=\"https://jitpack.io/com/github/walleth/kethereum/bip44/0.21/\" rel=\"noreferrer\">https://jitpack.io/com/github/walleth/kethereum/bip44/0.21/</a></p>\n\n<p>the version before I did not export the sources - so I thought it is successful.</p>\n\n<p><a href=\"https://jitpack.io/com/github/walleth/kethereum/bip44/0.20/\" rel=\"noreferrer\">https://jitpack.io/com/github/walleth/kethereum/bip44/0.20/</a></p>\n\n<p>Unfortunately AS does not show the sources. I am generating them like this:</p>\n\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n        maven { url 'https://jitpack.io' }\n    }\n\n    apply plugin: \"kotlin\"\n    apply plugin: \"jacoco\"\n    apply plugin: \"maven\"\n    apply plugin: \"com.github.ben-manes.versions\"\n\n    dependencies {\n        compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n        testCompile 'org.assertj:assertj-core:3.8.0'\n        testCompile 'junit:junit:4.12'\n    }\n\n    task sourcesJar(type: Jar, dependsOn: classes) {\n        classifier = 'sources'\n        from sourceSets.main.allSource\n    }\n\n    task javadocJar(type: Jar, dependsOn: javadoc) {\n        classifier = 'javadoc'\n        from javadoc.destinationDir\n    }\n\n    artifacts {\n        archives sourcesJar\n        archives javadocJar\n    }\n}\n</code></pre>\n\n<p>Also the source-jars contain the kotlin files.\nIt is all in this project: <a href=\"https://github.com/walleth/kethereum\" rel=\"noreferrer\">https://github.com/walleth/kethereum</a></p>\n"}, {"tags": ["android", "kotlin", "spinner", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8719682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/398fd0a7fe7db9a8360f50e7adc185d5?s=128&d=identicon&r=PG&f=1", "display_name": "AndyFire", "link": "https://stackoverflow.com/users/8719682/andyfire"}, "edited": false, "score": 0, "creation_date": 1507125545, "post_id": 46566442, "comment_id": 80087167, "body": "Hi, thanks for  your reply. I did try that but I got an error on spinnerArray inside the if statement. &quot;Type checking has run into a recursive problem&quot;. I put that code inside my var spinnerArray. That&#39;s what I should do right?"}, {"owner": {"reputation": 11, "user_id": 8719682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/398fd0a7fe7db9a8360f50e7adc185d5?s=128&d=identicon&r=PG&f=1", "display_name": "AndyFire", "link": "https://stackoverflow.com/users/8719682/andyfire"}, "edited": false, "score": 0, "creation_date": 1507125813, "post_id": 46566442, "comment_id": 80087370, "body": "I did this, but still get a weird result (look at my EDIT) thanks"}, {"owner": {"reputation": 11, "user_id": 8719682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/398fd0a7fe7db9a8360f50e7adc185d5?s=128&d=identicon&r=PG&f=1", "display_name": "AndyFire", "link": "https://stackoverflow.com/users/8719682/andyfire"}, "edited": false, "score": 0, "creation_date": 1507197323, "post_id": 46566442, "comment_id": 80118230, "body": "On .result had to add this var spinnerArray = task.result as Array&lt;Task&lt;QuerySnapshot&gt;&gt;   was that wrong?"}, {"owner": {"reputation": 11, "user_id": 8719682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/398fd0a7fe7db9a8360f50e7adc185d5?s=128&d=identicon&r=PG&f=1", "display_name": "AndyFire", "link": "https://stackoverflow.com/users/8719682/andyfire"}, "edited": false, "score": 0, "creation_date": 1507709794, "post_id": 46566442, "comment_id": 80314053, "body": "Any ideas why? :)"}], "tags": [], "owner": {"reputation": 1705, "user_id": 5260051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21f64b07e45e4cc63f16fb54054f737f?s=128&d=identicon&r=PG&f=1", "display_name": "nitinkumarp", "link": "https://stackoverflow.com/users/5260051/nitinkumarp"}, "is_accepted": false, "score": 0, "last_activity_date": 1507181436, "last_edit_date": 1507181436, "creation_date": 1507124462, "answer_id": 46566442, "question_id": 46563627, "link": "https://stackoverflow.com/questions/46563627/android-firestore-spinner-not-loading-my-document/46566442#46566442", "title": "Android Firestore spinner not loading my document", "body": "<p>Hey Andy I have not used FireStore yet but have experience on Firebase Database and Kotlin. And by my experience I can clearly tell you that you won't receive your array directly as fetching of data is not done on Main thread. Currently your spinnerArray holds reference to Firebase task that is why your spinner shows such text.</p>\n\n<p>To get your array in your spinnerArray variable, you need to get it when your task is successful i.e. somewhat like this</p>\n\n<p><strong>EDIT:</strong>\nRemove your var spinnerArray initialization and do as I have added spinner's adapter.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)\nsetContentView(R.layout.activity_new_kit_list)\nvar addButton = addKitItemBtn\n\nval spinner = newKitItemSpinner\nval spinnerArrayAdapter = ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, spinnerArray)\n//selected item will look like a spinner set from XML\nspinnerArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\nspinner.adapter = spinnerArrayAdapter\n\nval kitList = newKistListView\nval listViewAdapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, newKitList)\nkitList.adapter = listViewAdapter\n\naddButton.setOnClickListener(object : View.OnClickListener {\n    override fun onClick(v: View?) {\n        val selectedItem = spinner.selectedItem.toString()\n        newKitList.add(selectedItem)\n        listViewAdapter.notifyDataSetChanged()\n    }\n})\ndb.collection(\"KitList\")\n       .get()\n       .addOnCompleteListener { task -&gt;\n           if (task.isSuccessful) {\n               spinnerArray = task.result //or however you get your document array\n               var spinnerArray = task.result as Array&lt;Task&lt;QuerySnapshot&gt;&gt;\n               val spinnerArrayAdapter = ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, spinnerArray)\n               //selected item will look like a spinner set from XML\n               spinnerArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n               spinner.adapter = spinnerArrayAdapter\n               for (document in task.result) {\n                   Log.d(\"weight05\", document.id + \" =&gt; \" + document.data)\n               }\n           } else {\n               Log.w(\"error\", \"Error getting documents.\", task.exception)\n           }\n       }\n}\n</code></pre>\n\n<p>Call this piece of code inside onCreate and initialize spinnerArray as nullable property</p>\n"}], "owner": {"reputation": 11, "user_id": 8719682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/398fd0a7fe7db9a8360f50e7adc185d5?s=128&d=identicon&r=PG&f=1", "display_name": "AndyFire", "link": "https://stackoverflow.com/users/8719682/andyfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1095, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507181436, "creation_date": 1507116344, "last_edit_date": 1507125845, "question_id": 46563627, "link": "https://stackoverflow.com/questions/46563627/android-firestore-spinner-not-loading-my-document", "title": "Android Firestore spinner not loading my document", "body": "<p>So, I assigned my var spinner array to go fetch data from my document in firestore, but this is the <img src=\"https://i.stack.imgur.com/25gb6.png\" alt=\"result\"> I get.</p>\n\n<p>This is my current activity. I can make it work if I assign strings, but ultimately i want to load data from my Documents like I am trying to do right now.</p>\n\n<p>This is my <img src=\"https://i.stack.imgur.com/NAtjr.png\" alt=\"firestore\"> setup.</p>\n\n<p>Any reasons why?\nThanks</p>\n\n<pre><code>var db = FirebaseFirestore.getInstance()\n\n\n\nvar spinnerArray = arrayOf(db.collection(\"KitList\")\n           .get()\n           .addOnCompleteListener { task -&gt;\n               if (task.isSuccessful) {\n                   for (document in task.result) {\n                       Log.d(\"weight05\", document.id + \" =&gt; \" + document.data)\n                   }\n               } else {\n                   Log.w(\"error\", \"Error getting documents.\", task.exception)\n               }\n           })\n\nvar newKitList = mutableListOf&lt;String&gt;()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_new_kit_list)\n    var addButton = addKitItemBtn\n\n    val spinner = newKitItemSpinner\n    val spinnerArrayAdapter = ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, spinnerArray)\n    //selected item will look like a spinner set from XML\n    spinnerArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n    spinner.adapter = spinnerArrayAdapter\n\n    val kitList = newKistListView\n    val listViewAdapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, newKitList)\n    kitList.adapter = listViewAdapter\n\n    addButton.setOnClickListener(object : View.OnClickListener {\n        override fun onClick(v: View?) {\n            val selectedItem = spinner.selectedItem.toString()\n            newKitList.add(selectedItem)\n            listViewAdapter.notifyDataSetChanged()\n        }\n    })\n</code></pre>\n\n<p>==============</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>var spinnerArray: Array&lt;Task&lt;QuerySnapshot&gt;&gt; = arrayOf(db.collection(\"KitList\").get()\n       .addOnCompleteListener { task -&gt;\n           if (task.isSuccessful) {\n               spinnerArray = task.result as Array&lt;Task&lt;QuerySnapshot&gt;&gt; //or however you get your document array\n               for (document in task.result) {\n                   Log.d(\"weight05\", document.id + \" =&gt; \" + document.data)\n               }\n           } else {\n               Log.w(\"error\", \"Error getting documents.\", task.exception)\n           }\n       })\n</code></pre>\n"}, {"tags": ["spring", "kotlin", "rx-java", "reactor"], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 2, "last_activity_date": 1507115903, "creation_date": 1507115903, "answer_id": 46563502, "question_id": 46562667, "link": "https://stackoverflow.com/questions/46562667/spring-5-reactor-emitting-item-every-1-second/46563502#46563502", "title": "Spring 5 Reactor - Emitting item every 1 second", "body": "<p><code>Flux.just(User(\"A\"), User(\"B\"), User(\"C\"))</code> is just one collection of items, you probably want something like</p>\n\n<pre><code>Flux.fromIterable(listOf(User(\"A\"), User(\"B\"), User(\"C\"))\n    .delayElements(Duration.ofSeconds(1))\n</code></pre>\n"}], "owner": {"reputation": 3935, "user_id": 368999, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/61ebfce30d15d263d801e857a80abd80?s=128&d=identicon&r=PG", "display_name": "jaks", "link": "https://stackoverflow.com/users/368999/jaks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1610, "favorite_count": 1, "accepted_answer_id": 46563502, "answer_count": 1, "score": 1, "last_activity_date": 1507115903, "creation_date": 1507113003, "question_id": 46562667, "link": "https://stackoverflow.com/questions/46562667/spring-5-reactor-emitting-item-every-1-second", "title": "Spring 5 Reactor - Emitting item every 1 second", "body": "<p>I am trying to emit value every second as</p>\n\n<pre><code>Flux.just(User(\"A\"), User(\"B\"), User(\"C\")).delayElements(Duration.ofSeconds(1))\n</code></pre>\n\n<p>but it is emitting everything at once with starting delay of 1 second. How can I introduce the delay for each element emitting?</p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1507112364, "post_id": 46562386, "comment_id": 80078302, "body": "The problem I faced wasn&#39;t the implementation of &lt;pre&gt;View.isVisibility&lt;code&gt; but how to reference it. Therefore perhaps the only way is the other way round (a normal function, that we can reference, and that would invoke the extension function on View)"}], "tags": [], "owner": {"reputation": 6188, "user_id": 172690, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3759fa3ad04a0fd20729382956f24a3?s=128&d=identicon&r=PG", "display_name": "Grzegorz Adam Hankiewicz", "link": "https://stackoverflow.com/users/172690/grzegorz-adam-hankiewicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1507112185, "creation_date": 1507112185, "answer_id": 46562386, "question_id": 46562039, "link": "https://stackoverflow.com/questions/46562039/kotlin-member-and-extension-at-the-same-time/46562386#46562386", "title": "Kotlin member and extension at the same time", "body": "<p>As a workaround you can create a separate <em>normal</em> function and invoke it from an inline extension method:</p>\n\n<pre><code>inline fun View.isVisibility(v: Int): Boolean = isViewVisibility(this, v)\n\nfun isViewVisibility(v: View, k: Int): Boolean = (v.visibility == k)\n</code></pre>\n\n<p>You can't call directly the extension method because you don't have the implicit <code>this</code> object available.</p>\n"}, {"comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1507113679, "post_id": 46562791, "comment_id": 80079098, "body": "You&#39;re correct about the type, it solved the TypeMismatch. I&#39;m still left with the &quot;member and extension at the same time&quot;, which seems not supported for now. I&#39;ll accept your answer, we&#39;ll see if the language will support this at some point. Thanks !"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1507116971, "post_id": 46562791, "comment_id": 80081064, "body": "Yes, it seems the <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/bound-callable-references.md\" rel=\"nofollow noreferrer\">proposal</a> is still under consideration as metioned in this <a href=\"https://stackoverflow.com/a/40084275/8343333\">answer</a>."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1507117585, "post_id": 46562791, "comment_id": 80081431, "body": "@NSimon Btw, I&#39;ve just omitted this error that you mentioned. Sorry about that, I just think that your extension function is an top-level function. You may provide a more concrete example to demonstrate this problem, e.g. write a complete class with the extension function declared inside the class, to see if someone can give you extra explanation on this issue beyond this <a href=\"https://stackoverflow.com/questions/40065838/get-kproperty-of-a-non-package-extension-property/40084275#40084275\">answer</a>."}, {"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 3, "creation_date": 1544628393, "post_id": 46562791, "comment_id": 94344845, "body": "Sorry, I know this is old, but for the sake of people searching solutions: In fact the problem is, that your function is NOT a top-level function. Extensions defined as class members of other classes cannot be referenced. Dunno why, though. Just define your extension as a top-level-function and you should be fine."}], "tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 7, "last_activity_date": 1507113482, "creation_date": 1507113482, "answer_id": 46562791, "question_id": 46562039, "link": "https://stackoverflow.com/questions/46562039/kotlin-member-and-extension-at-the-same-time/46562791#46562791", "title": "Kotlin member and extension at the same time", "body": "<p>Extensions are resolved statically, where the first parameter accepts an instance of the receiver type. <code>isViewVisibility</code> actually accept two parameters, <code>View</code> and <code>Int</code>. So, the correct type of it should be <code>(View, Int) -&gt; Boolean</code>, like this:</p>\n\n<pre><code>val f: (View, Int) -&gt; Boolean = View::isViewVisibility\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1507115909, "creation_date": 1507115909, "answer_id": 46563505, "question_id": 46562039, "link": "https://stackoverflow.com/questions/46562039/kotlin-member-and-extension-at-the-same-time/46563505#46563505", "title": "Kotlin member and extension at the same time", "body": "<p>A better fit is the extension function type <code>View.(Int) -&gt; Boolean</code>:</p>\n\n<pre><code>val f: View.(Int) -&gt; Boolean = View::isViewVisibility\n</code></pre>\n\n<p>But actually the extension types are mostly interchangeable (<em>assignment-compatible</em>) with normal function types with the receiver being the first parameter:</p>\n\n<p><code>View.(Int) -&gt; Boolean</code> \u2194 <code>(View, Int) -&gt; Boolean</code></p>\n"}, {"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1507117811, "post_id": 46563536, "comment_id": 80081555, "body": "Hmm, interesting. What Kotlin version do you have? I should definitely work on <code>1.1.50</code>."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1507118055, "post_id": 46563536, "comment_id": 80081696, "body": "Update: trying this in the online IDE at <a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">try.kotlinlang.org</a> doesn&#39;t work with <code>1.1.4</code> selected, only with <code>1.1.50</code> and later. Perhaps this was fixed in that version then."}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1507118765, "post_id": 46563536, "comment_id": 80082182, "body": "You&#39;re right, this is odd. I&#39;m running version 1.1.51 in AndroidStudio. It works fine on the link you provided, but not in AS. Maybe updates didn&#39;t go all the way to the plugin yet?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1507119165, "post_id": 46563536, "comment_id": 80082476, "body": "Is your Kotlin plugin also updated to 1.1.51? It works for me in AS as well."}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1507120215, "post_id": 46563536, "comment_id": 80083304, "body": "I&#39;m on AS 3.0 Beta 7 with (topLevel gradle file having <b>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</b>) and (module level gradle file having <b>implementation&quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotl&zwnj;&#8203;in_version&quot;</b>). Kotlin version is defined in topLevel gradle file as <b>ext.kotlin_version = &#39;1.1.51&#39;</b>. So I should be on the latest yes."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 0, "last_activity_date": 1507116013, "creation_date": 1507116013, "answer_id": 46563536, "question_id": 46562039, "link": "https://stackoverflow.com/questions/46562039/kotlin-member-and-extension-at-the-same-time/46563536#46563536", "title": "Kotlin member and extension at the same time", "body": "<p>Using either a type with two parameters (the first for the implicit receiver, as @Bakawaii has already mentioned) or an extension type should both work without any warnings at all.</p>\n\n<p>Let's take this function as an example:</p>\n\n<pre><code>fun String.foo(f: Int) = true\n</code></pre>\n\n<p>You can use assign this to a property that has a two parameter function type like this:</p>\n\n<pre><code>val prop: (String, Int) -&gt; Boolean = String::foo\n\nfun bar() {\n    prop(\"bar\", 123)\n}\n</code></pre>\n\n<p>Or, you can use an extension function type, that you can then call with either of these two syntaxes:</p>\n\n<pre><code>val prop2: String.(Int) -&gt; Boolean = String::foo\n\nfun bar2() {\n    prop2(\"bar2\", 123)\n    \"bar2\".prop2(123)\n}\n</code></pre>\n\n<p>Again, the above should all run without any errors or warnings.</p>\n"}, {"tags": [], "owner": {"reputation": 833, "user_id": 5584709, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4rwC.jpg?s=128&g=1", "display_name": "Jegan Babu", "link": "https://stackoverflow.com/users/5584709/jegan-babu"}, "is_accepted": false, "score": 1, "last_activity_date": 1598520753, "last_edit_date": 1598520753, "creation_date": 1563962920, "answer_id": 57180409, "question_id": 46562039, "link": "https://stackoverflow.com/questions/46562039/kotlin-member-and-extension-at-the-same-time/57180409#57180409", "title": "Kotlin member and extension at the same time", "body": "<p>I faced the same problem when I declared extension function inside another class and try to pass that extension function as parameter.</p>\n<p>I found a workaround by passing function with same signature as extension which in turn delegates to actual extension function.</p>\n<p>MyUtils.kt:</p>\n<pre><code>object MyUtils {\n    //extension to MyClass, signature: (Int)-&gt;Unit\n    fun MyClass.extend(val:Int) {\n        \n    }\n}\n</code></pre>\n<p>AnyClass.kt:</p>\n<pre><code>//importing extension from MyUtils\nimport MyUtils.extend\n\n// Assume you want to pass your extension function as parameter\nfun someMethodWithLambda(func: (Int)-&gt;Unit) {}\n\nclass AnyClass {\n    fun someMethod() {\n      //this line throws error\n      someMethodWithLambda(MyClass::extend) //member and extension at the same time\n  \n      //workaround\n      val myClassInstance = MyClass()\n      // you pass a proxy lambda which will call your extension function\n      someMethodWithLambda { someIntegerValue -&gt;\n          myClassInstance.extend(someIntegerValue)\n      }\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1660, "user_id": 320837, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mDPFe.jpg?s=128&g=1", "display_name": "Jonah H.", "link": "https://stackoverflow.com/users/320837/jonah-h"}, "is_accepted": false, "score": 2, "last_activity_date": 1578089472, "creation_date": 1578089472, "answer_id": 59585969, "question_id": 46562039, "link": "https://stackoverflow.com/questions/46562039/kotlin-member-and-extension-at-the-same-time/59585969#59585969", "title": "Kotlin member and extension at the same time", "body": "<p>The error message states:</p>\n\n<blockquote>\n  <p>'isViewVisibility' is a member and an extension at the same time. References to such elements are not allowed</p>\n</blockquote>\n\n<p>It's saying that the method is both an extension function, which is what you're wanting it to be, and a member. You don't show the entire context of your definition, but it probably looks something like this:</p>\n\n<pre><code>// MyClass.kt\n\nclass MyClass {\n  fun String.coolStringExtension() = \"Cool $this\"\n\n  val bar = String::coolStringExtension\n}\n\nfun main() {\n    print(MyClass().bar(\"foo\"))\n}\n</code></pre>\n\n<p><a href=\"https://pl.kotl.in/2qzqw-jO1\" rel=\"nofollow noreferrer\">Kotlin Playground</a></p>\n\n<p>As you can see the <code>coolStringExtension</code> is defined as a member of <code>MyClass</code>. This is what the error is referring to. Kotlin doesn't allow you to refer to extension function that is also a member, hence the error.</p>\n\n<p>You can resolve this by defining the extension function at the top level, rather than as a member. For example:</p>\n\n<pre><code>// MyClass.kt\n\nclass MyClass {\n  val bar = String::coolStringExtension\n}\n\nfun String.coolStringExtension() = \"Cool $this\"\n\nfun main() {\n    print(MyClass().bar(\"foo\"))\n}\n</code></pre>\n\n<p><a href=\"https://pl.kotl.in/1T0E3VMnV\" rel=\"nofollow noreferrer\">Kotlin Playground</a></p>\n"}], "owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1556, "favorite_count": 0, "accepted_answer_id": 46562791, "answer_count": 6, "score": 4, "last_activity_date": 1598520753, "creation_date": 1507111172, "question_id": 46562039, "link": "https://stackoverflow.com/questions/46562039/kotlin-member-and-extension-at-the-same-time", "title": "Kotlin member and extension at the same time", "body": "<p>In an attempt to understand more about Kotlin and play around with it, I'm developing a sample Android app where I can try different things.</p>\n\n<p>However, even after searching on the topic for a while, I haven't been able to find a proper answer for the following issue :</p>\n\n<p>Let's declare a (dummy) extension function on View class :</p>\n\n<pre><code>fun View.isViewVisibility(v: Int): Boolean = visibility == v\n</code></pre>\n\n<p>Now how can I reference this function from somewhere else to later call invoke() on it?</p>\n\n<pre><code>val f: (Int) -&gt; Boolean = View::isViewVisibility\n</code></pre>\n\n<p>Currently gives me :</p>\n\n<blockquote>\n  <p>Error:(57, 35) Type mismatch: inferred type is KFunction2 but (Int) -> Boolean was\n  expectedError:(57, 41) 'isViewVisibility' is a member and an extension\n  at the same time. References to such elements are not allowed</p>\n</blockquote>\n\n<p>Is there any workaround?\nThanks !</p>\n"}, {"tags": ["kotlin", "onactivityresult"], "comments": [{"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1507115691, "post_id": 46561601, "comment_id": 80080313, "body": "Check this: <a href=\"https://github.com/firebase/FirebaseUI-Android/issues/782#issuecomment-312507748\" rel=\"nofollow noreferrer\">github.com/firebase/FirebaseUI-Android/issues/&hellip;</a>"}, {"owner": {"reputation": 167, "user_id": 2718776, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7c62b81ec5f14eed523b3da2fb5d1704?s=128&d=identicon&r=PG", "display_name": "Mohd Hafiz", "link": "https://stackoverflow.com/users/2718776/mohd-hafiz"}, "reply_to_user": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1507188336, "post_id": 46561601, "comment_id": 80112922, "body": "public void onActivityResult(int requestCode, int resultCode, Intent data) this one i derive from parent fragment. so how to do it in kotlin?"}, {"owner": {"reputation": 16930, "user_id": 1032613, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/h4jzP.jpg?s=128&g=1", "display_name": "user1032613", "link": "https://stackoverflow.com/users/1032613/user1032613"}, "edited": false, "score": 0, "creation_date": 1568596221, "post_id": 46561601, "comment_id": 102311459, "body": "Java to Kotlin converter incorrectly put <code>data: Intent</code> as the param, but it should be nullable, so change it to <code>data: Intent?</code>."}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 2718776, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7c62b81ec5f14eed523b3da2fb5d1704?s=128&d=identicon&r=PG", "display_name": "Mohd Hafiz", "link": "https://stackoverflow.com/users/2718776/mohd-hafiz"}, "edited": false, "score": 0, "creation_date": 1507188159, "post_id": 46562374, "comment_id": 80112829, "body": "In extend fragment no need to put super like this       override fun onActivityResult(){ // no need super}  and if I put also same got crash. It seems that there is bugs in latest android build 26.0.2"}, {"owner": {"reputation": 695, "user_id": 2825816, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/57ff98711b9c254e57327a823e0ae30d?s=128&d=identicon&r=PG&f=1", "display_name": "hyena", "link": "https://stackoverflow.com/users/2825816/hyena"}, "edited": false, "score": 1, "creation_date": 1534741703, "post_id": 46562374, "comment_id": 90798280, "body": "the issue is as a result of using ...data: Intent..  instead of ...data: Intent?..  in onActivityResult parameters."}], "tags": [], "owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "is_accepted": true, "score": 27, "last_activity_date": 1507112153, "creation_date": 1507112153, "answer_id": 46562374, "question_id": 46561601, "link": "https://stackoverflow.com/questions/46561601/failure-delivering-result-on-activity-result/46562374#46562374", "title": "Failure delivering result on activity result", "body": "<p>Shouldn't you override this instead?</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 167, "user_id": 2718776, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7c62b81ec5f14eed523b3da2fb5d1704?s=128&d=identicon&r=PG", "display_name": "Mohd Hafiz", "link": "https://stackoverflow.com/users/2718776/mohd-hafiz"}, "edited": false, "score": 3, "creation_date": 1509419344, "post_id": 47014133, "comment_id": 81001651, "body": "yup. New converter kotlin got problem."}, {"owner": {"reputation": 1009, "user_id": 2997806, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/XEkNp.jpg?s=128&g=1", "display_name": "waseefakhtar", "link": "https://stackoverflow.com/users/2997806/waseefakhtar"}, "edited": false, "score": 0, "creation_date": 1557931128, "post_id": 47014133, "comment_id": 98933290, "body": "This totally helped me! Thank you!"}], "tags": [], "owner": {"reputation": 2485, "user_id": 4083237, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3VloV2uI0_Y/AAAAAAAAAAI/AAAAAAAAAnI/PaERGCtqYvQ/photo.jpg?sz=128", "display_name": "AaRiF", "link": "https://stackoverflow.com/users/4083237/aarif"}, "is_accepted": false, "score": 19, "last_activity_date": 1509362894, "creation_date": 1509362894, "answer_id": 47014133, "question_id": 46561601, "link": "https://stackoverflow.com/questions/46561601/failure-delivering-result-on-activity-result/47014133#47014133", "title": "Failure delivering result on activity result", "body": "<p>I was getting the same issue while implementing the PayPal payment gateway in my app using the kotlin. You just need to add <strong>?</strong> with Intent in <code>onActivityResult</code> as the data can be null if data is null or anything goes wrong. So we need to define data as nullable in <code>onActivityResult</code></p>\n\n<p>Just replace <code>onActivityResult</code> signature of your SomeActivity with below:</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?)\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 2718776, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7c62b81ec5f14eed523b3da2fb5d1704?s=128&d=identicon&r=PG", "display_name": "Mohd Hafiz", "link": "https://stackoverflow.com/users/2718776/mohd-hafiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6647, "favorite_count": 0, "accepted_answer_id": 46562374, "answer_count": 2, "score": 13, "last_activity_date": 1537335631, "creation_date": 1507109793, "last_edit_date": 1537335631, "question_id": 46561601, "link": "https://stackoverflow.com/questions/46561601/failure-delivering-result-on-activity-result", "title": "Failure delivering result on activity result", "body": "<p>Below here sample code intent from camera :</p>\n\n<pre><code>val intent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n    startActivityForResult(intent, REQUEST_CAMERA)\n</code></pre>\n\n<p>Note: when I press back from camera as result on Activity result show like this:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=65537, result=0, data=null} to activity\n  and Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null:</p>\n</blockquote>\n\n<p>Try to come out solution like this : </p>\n\n<pre><code> override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) { \n           try {\n                when(resultCode){\n                    Activity.RESULT_CANCELED -&gt; {\n                        System.out.println(\"nothing\")\n                    }\n                    Activity.RESULT_OK -&gt; {\n                        if (requestCode == SELECT_FILE)\n                            onSelectFromGalleryResult(data)\n                        else if (requestCode == REQUEST_CAMERA)\n                            onCaptureImageResult(data)\n                    }\n                }\n            }catch (e:NullPointerException){\n                e.printStackTrace()\n            }\n}\n</code></pre>\n\n<p>still not solve the problem because when i do debuging log it not come out on func onactivityresult if i go press go back from camera and not capture the image. Taking picture and pickup image from gallery work like charm.</p>\n\n<p>Thank you. Please help me to solve this problem since along way solution given not working. It seem like google have to override fun onresultactivity(resultcode!!:Int)  &lt;- this one should have return non null.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1507116173, "post_id": 46561324, "comment_id": 80080586, "body": "You can try <code>@JvmStatic</code>"}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1507117373, "post_id": 46563430, "comment_id": 80081301, "body": "That last was the part I missed (that objects behave like nested classes in this respect)."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1507129058, "last_edit_date": 1507129058, "creation_date": 1507115648, "answer_id": 46563430, "question_id": 46561324, "link": "https://stackoverflow.com/questions/46561324/why-cant-object-inside-a-kotlin-companion-object-be-accessed-statically-when/46563430#46563430", "title": "Why can&#39;t object inside a Kotlin companion object be accessed &quot;statically&quot; when other members can?", "body": "<p>This serves the purpose of disambiguating an object declared in a companion object from one declared directly in the class.</p>\n\n<p>Note that the properties and functions defined in a class are not ambiguous with those from the companion object, because the former ones can only be called on an instance of the class. But a nested object can be referenced with the class name:</p>\n\n<pre><code>class A {\n    object C {\n        val d = 0\n    }\n}\n\nprintln(A.C.d)\n</code></pre>\n"}], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 1, "accepted_answer_id": 46563430, "answer_count": 1, "score": 4, "last_activity_date": 1507129058, "creation_date": 1507108886, "question_id": 46561324, "link": "https://stackoverflow.com/questions/46561324/why-cant-object-inside-a-kotlin-companion-object-be-accessed-statically-when", "title": "Why can&#39;t object inside a Kotlin companion object be accessed &quot;statically&quot; when other members can?", "body": "<p>Given a Kotlin companion object</p>\n\n<pre><code>class A {\n    companion object {\n        val a = 0\n        fun b() = 1\n        object C {\n            val d = 0\n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(A.a)\n    println(A.b())\n    println(A.C.d) // doesn't compile\n    println(A.Companion.C.d)\n}\n</code></pre>\n\n<p>Why is <code>Companion</code> required to access <code>A.C</code> when it isn't for <code>a</code> and <code>b()</code>?</p>\n"}, {"tags": ["android-studio", "kotlin", "keyboard-shortcuts"], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 4, "last_activity_date": 1507111114, "creation_date": 1507111114, "answer_id": 46562023, "question_id": 46561293, "link": "https://stackoverflow.com/questions/46561293/kotlin-view-object-full-type-name-in-android-studio-in-mac-os/46562023#46562023", "title": "Kotlin view object full type name in Android studio in mac OS", "body": "<p>I think you are mixing up the symbol of <code>\u21e7</code> with <code>\u2191</code>. <code>Shift</code> in mac can be represented by <code>\u21e7</code>. So, you may try <code>Ctrl + Shift + P</code> in mac also.</p>\n\n<p>If it doesn't work, you may go to <code>Setting -&gt; Keymap</code> and search for <em>Expression type</em>. Here, you can check out the shortcut and change it by right clicking the shortcut, then <em>Add Keyboard Shortcut</em>.\n<a href=\"https://i.stack.imgur.com/s1GHV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s1GHV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Besides, <code>Ctrl + Q</code> also shows the type of an object.</p>\n"}], "owner": {"reputation": 1249, "user_id": 6927454, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a4058414cf2768165211aa1a090b3401?s=128&d=identicon&r=PG&f=1", "display_name": "Rgfvfk Iff", "link": "https://stackoverflow.com/users/6927454/rgfvfk-iff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1216, "favorite_count": 1, "accepted_answer_id": 46562023, "answer_count": 1, "score": 5, "last_activity_date": 1507111114, "creation_date": 1507108787, "last_edit_date": 1507108978, "question_id": 46561293, "link": "https://stackoverflow.com/questions/46561293/kotlin-view-object-full-type-name-in-android-studio-in-mac-os", "title": "Kotlin view object full type name in Android studio in mac OS", "body": "<p>I am reading the book <code>Android Development in Kotlin</code> and there is a shortcut to view the type of an object in Kotlin.</p>\n\n<p>Windows: <code>Shift + Ctrl + P</code>\nand Mac: <code>arrow key + control + P</code></p>\n\n<p>I cannot seem to get it working on a mac.  </p>\n"}, {"tags": ["spring", "kotlin", "spring-webflux"], "answers": [{"tags": [], "owner": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "is_accepted": true, "score": 1, "last_activity_date": 1507104106, "creation_date": 1507104106, "answer_id": 46559840, "question_id": 46557645, "link": "https://stackoverflow.com/questions/46557645/mono-and-cannot-be-called-with-the-supplied-parameters/46559840#46559840", "title": "&#39;Mono.and()&#39; cannot be called with the supplied parameters", "body": "<p>I think this is linked with a Reactor Core API change in 3.1.0.</p>\n\n<p><code>Mono.and()</code> is no longer an operator that returns Tuples, but it only cares about completion signals now (<code>Mono&lt;Void&gt;</code>). You should replace that <code>and()</code> operator with a <code>zip</code> or <code>zipWith</code> operator, as suggested in <a href=\"https://github.com/reactor/reactor-core/releases/tag/v3.1.0.RELEASE\" rel=\"nofollow noreferrer\">the Reactor release notes</a>.</p>\n"}], "owner": {"reputation": 957, "user_id": 2501333, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cd174b715cba90515137a97766618c?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2501333/jerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 46559840, "answer_count": 1, "score": 0, "last_activity_date": 1507104106, "creation_date": 1507095176, "question_id": 46557645, "link": "https://stackoverflow.com/questions/46557645/mono-and-cannot-be-called-with-the-supplied-parameters", "title": "&#39;Mono.and()&#39; cannot be called with the supplied parameters", "body": "<p>I'm trying to run the sample project located <a href=\"https://github.com/LearningByExample/KotlinReactiveMS\" rel=\"nofollow noreferrer\">here</a>.  However, I'm seeing a </p>\n\n<p><code>Error:(38, 22) Kotlin: None of the following functions can be called with the arguments supplied: \npublic final fun and(p0: ((Subscriber&lt;in Any!&gt;!) -&gt; Unit)!): Mono&lt;Void!&gt;! defined in reactor.core.publisher.Mono\npublic final fun and(p0: Publisher&lt;*&gt;!): Mono&lt;Void!&gt;! defined in reactor.core.publisher.Mono</code></p>\n\n<p>in <code>ApiHandler.kt</code> class in the <code>buildResponse</code> function:</p>\n\n<pre><code>internal class ApiHandler(val geoLocationService: GeoLocationService, val sunriseSunsetService: SunriseSunsetService,\n                      val errorHandler: ErrorHandler) {\n\n    private companion object {\n        const val ADDRESS = \"address\"\n    }\n\n    internal fun getLocation(request: ServerRequest) =\n        request.pathVariable(ADDRESS).toMono()\n                .transform(this::buildResponse)\n                .transform(this::serverResponse)\n                .onErrorResume(errorHandler::throwableError)!!\n\n    internal fun postLocation(request: ServerRequest) =\n        request.extract&lt;LocationRequest&gt;()\n                .map(LocationRequest::address)\n                .transform(this::buildResponse)\n                .transform(this::serverResponse)\n                .onErrorResume(errorHandler::throwableError)!!\n\n    internal fun buildResponse(address: Mono&lt;String&gt;) =\n        address.transform(geoLocationService::fromAddress)\n                .and(this::sunriseSunset, ::LocationResponse)\n\n    internal fun sunriseSunset(geographicCoordinates: GeographicCoordinates) =\n        geographicCoordinates.toMono().transform(sunriseSunsetService::fromGeographicCoordinates)\n\n    internal fun serverResponse(locationResponseMono: Mono&lt;LocationResponse&gt;): Mono&lt;ServerResponse&gt; =\n        locationResponseMono.flatMap { ok() withBody it }\n}\n</code></pre>\n\n<p>I'm guessing that the Spring API has changed since this code was written, but I can't figure out what to change the <code>.and(...)</code> to.</p>\n"}, {"tags": ["javascript", "swift", "shared-libraries", "kotlin", "cross-platform"], "comments": [{"owner": {"reputation": 91, "user_id": 5950112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RRGha.jpg?s=128&g=1", "display_name": "Isaiah", "link": "https://stackoverflow.com/users/5950112/isaiah"}, "edited": false, "score": 1, "creation_date": 1507066977, "post_id": 46553799, "comment_id": 80062122, "body": "I would say either stick with the technologies you have now or to manually do all three. I&#39;m not saying the converters you chose are necessarily bad, but it makes it a lot easier to debug in the case of error when you wrote the code yourself natively for each language."}, {"owner": {"reputation": 393, "user_id": 1922501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb6430b95572acab9c61bdf826fa3f9?s=128&d=identicon&r=PG", "display_name": "Cl&#233;ment Mangin", "link": "https://stackoverflow.com/users/1922501/cl%c3%a9ment-mangin"}, "edited": false, "score": 0, "creation_date": 1508199461, "post_id": 46553799, "comment_id": 80507566, "body": "I&#39;ve been working for 2 years with J2ObjC. It certainly has some limitations (regarding third party libraries, mainly) but it is quite stable now and allowed us to share more than 60% of our code between Android and iOS. The generated code is not easily readable but can still be debugged in Xcode and does not need manual edition. We didn&#39;t have any web app so there was no need for JS transpilation. However, if you know a good Java to JS transpiler, J2ObjC can be a serious candidate, because as far as I&#39;m concerned it is trustable and production-tested."}, {"owner": {"reputation": 1501, "user_id": 984470, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/yDcwD.jpg?s=128&g=1", "display_name": "nigong", "link": "https://stackoverflow.com/users/984470/nigong"}, "reply_to_user": {"reputation": 393, "user_id": 1922501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb6430b95572acab9c61bdf826fa3f9?s=128&d=identicon&r=PG", "display_name": "Cl&#233;ment Mangin", "link": "https://stackoverflow.com/users/1922501/cl%c3%a9ment-mangin"}, "edited": false, "score": 0, "creation_date": 1508529761, "post_id": 46553799, "comment_id": 80660556, "body": "@Cl&#233;mentMangin Thanks for your input! J2ObjC seems a really good candidate."}], "owner": {"reputation": 1501, "user_id": 984470, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/yDcwD.jpg?s=128&g=1", "display_name": "nigong", "link": "https://stackoverflow.com/users/984470/nigong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 640, "favorite_count": 3, "answer_count": 0, "score": 3, "last_activity_date": 1507067714, "creation_date": 1507066523, "question_id": 46553799, "link": "https://stackoverflow.com/questions/46553799/share-code-between-platforms-languages-e-g-swift-kotlin-javascript", "title": "Share code between platforms/languages (e.g. Swift, Kotlin, JavaScript)", "body": "<p>Applications are often created for three platforms (Web, iOS, Android).</p>\n\n<p>Currently the tech stack we are using are AngularJS (web) and Ionic/Cordova (iOS and Android). Since they are JavaScript based, we are able to write the core business logics (e.g. login) once and then share it across three (I know, it's two) platforms, leaving the UI implementations to the individual platforms. This method is awesome which helps us save so much time and human resources - core business logics are written and tested once and deployed everywhere. <a href=\"https://arstechnica.com/information-technology/2014/11/how-google-inbox-shares-70-of-its-code-across-android-ios-and-the-web/\" rel=\"nofollow noreferrer\">Google</a> used similar method to develop Inbox, which allows them to share 70% of the code using <a href=\"https://github.com/google/j2objc\" rel=\"nofollow noreferrer\">J2Objc</a>.</p>\n\n<p>We want to apply the same awesomeness to the new era - Swift, Kotlin and a JavaScript based web framework (e.g. React/VueJs). We are open to using any one of these three languages to write the shared code. I am new to Swift and Kotlin but here are my best research results so far:</p>\n\n<ul>\n<li><a href=\"https://github.com/angelolloqui/SwiftKotlin\" rel=\"nofollow noreferrer\">SwiftKotlin</a> Converts Swift to Kotlin</li>\n<li><a href=\"https://kotlinlang.org/docs/tutorials/javascript/kotlin-to-javascript/kotlin-to-javascript.html\" rel=\"nofollow noreferrer\">KotlinJS</a> Converts Kotlin to Js</li>\n</ul>\n\n<p>So the development process would be Swift -> Kotlin -> JavaScript. However, the converted code are not production ready and requires manually editing. Also, the code written has to be language/platform library independent. For example, to write a JSON parser, we use <em>Codable</em> protocol in Swift 4, <em>Moshi</em> (external lib) in Kotlin and JavaScript can natively manipulate JSON. </p>\n\n<p>I'd like to see if anyone has some nice solution to this question. Or maybe the question is to figure out what can be shared and what has to be done three times. Or this process is taking more time or error-prone and we should write the same logic three different times.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "scala", "haskell", "functional-programming", "kotlin"], "comments": [{"owner": {"reputation": 208473, "user_id": 126014, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/33526616d4a11f1630d4939b769cfbf9?s=128&d=identicon&r=PG", "display_name": "Mark Seemann", "link": "https://stackoverflow.com/users/126014/mark-seemann"}, "edited": false, "score": 0, "creation_date": 1507060992, "post_id": 46552329, "comment_id": 80059455, "body": "I can&#39;t read Kotlin code, but from skimming the problem description, it seems like the central computation you need is <code>Maybe</code>, or possibly <code>Either</code>. If you want to carry around read-only state in an implicit manner (instead of just passing it as an argument), you could use the the <code>Reader</code> monad. This would imply that you&#39;d need to stack <code>Reader</code> on top of <code>Maybe</code>, or the other way around, so you you could consider <code>ReaderT</code> or <code>MaybeT</code> (alternatively <code>EitherT</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 24211, "user_id": 1364288, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JVtNl.png?s=128&g=1", "display_name": "danidiaz", "link": "https://stackoverflow.com/users/1364288/danidiaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1507099048, "last_edit_date": 1507099048, "creation_date": 1507061691, "answer_id": 46552694, "question_id": 46552329, "link": "https://stackoverflow.com/questions/46552329/functional-programming-how-to-carry-on-the-context-for-a-chain-of-validation-ru/46552694#46552694", "title": "Functional programming: How to carry on the context for a chain of validation rules", "body": "<blockquote>\n  <p>Is it Monads as my gut feeling tries to tell me that?</p>\n</blockquote>\n\n<p>I think <code>Monad</code> is too strong a requirement in your case. Your validation functions</p>\n\n<blockquote>\n  <p>fun theFruitIsRed(fruit: Fruit) : Optional&lt; String></p>\n</blockquote>\n\n<p>don't return an useable value when they validate successfully. And a defining characteristic of <code>Monad</code> is being able do decide what future computations to execute based on a previous result. \"If the first validator succeeds returning foo, validate this field, if it succeeds returning bar, validate this other field instead\".</p>\n\n<p>I'm not knowledgeable about Kotlin, but I think you could have a <code>Validator&lt;T&gt;</code> class. It basically would wrap a single validation function for a type <code>T</code> that returned an <code>Optional&lt;String&gt;</code>.</p>\n\n<p>Then you could write a method that combined two validators into a composite validator. The inner function of the composite validator would receive a T, run the first validator, return the error if it fails, if not run the second validator. (If your validators returned some useful result on successful validation, like say non-fatal warnings, you would need to supply an additional function to combine these results.)</p>\n\n<p>The idea its that you would <em>first</em> compose the validators, and only <em>then</em> supply the actual T to get the final result. This compose-before-running approach is used by Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#thenComparing-java.util.Comparator-\" rel=\"nofollow noreferrer\">Comparator</a>, for example.</p>\n\n<p>Notice that in this solution, even if your functions returned some result on successful validation, those values would not be used to select what <em>validations</em> to do next (though an error would stop the chain). You could combine results using a function but that's it. This \"more rigid\" style of programming is called <code>Applicative</code> in Haskell. All types supporting a <code>Monad</code> interface can be used in an <code>Applicative</code> way, but some types support <code>Applicative</code> without supporting <code>Monad</code>.</p>\n\n<hr>\n\n<p>Another interesting aspect of validators is that they are contravariant on their input type <code>T</code>. This means that you can \"pre-apply\" a function from <code>A</code> to <code>B</code> to a <code>Validator&lt;B&gt;</code>, resulting in a <code>Validator&lt;A&gt;</code> whose type went \"backwards\" compared to the direction of the function. (The <a href=\"http://download.java.net/java/jdk9/docs/api/java/util/stream/Collectors.html#mapping-java.util.function.Function-java.util.stream.Collector-\" rel=\"nofollow noreferrer\"><code>mapping</code></a> function of Java's <code>Collectors</code> class works this way.)</p>\n\n<p>And you can go further down this route by having functions that build a validator for a composite out of validators for their individual parts. (What in Haskell is called <a href=\"http://hackage.haskell.org/package/contravariant-1.4/docs/Data-Functor-Contravariant-Divisible.html\" rel=\"nofollow noreferrer\"><code>Divisible</code></a>.)</p>\n"}, {"tags": [], "owner": {"reputation": 22091, "user_id": 5684257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea5090cde8ea066a1fda67ed52dd5084?s=128&d=identicon&r=PG&f=1", "display_name": "HTNW", "link": "https://stackoverflow.com/users/5684257/htnw"}, "is_accepted": false, "score": 3, "last_activity_date": 1507069434, "last_edit_date": 1507069434, "creation_date": 1507062696, "answer_id": 46552942, "question_id": 46552329, "link": "https://stackoverflow.com/questions/46552329/functional-programming-how-to-carry-on-the-context-for-a-chain-of-validation-ru/46552942#46552942", "title": "Functional programming: How to carry on the context for a chain of validation rules", "body": "<p>Since the type of the object being validated can't change (as the object itself shouldn't change), I wouldn't use a monad (or any sort of functor). I'd have a type <code>Validator a err = a -&gt; [err]</code>. If a validator succeeds, it outputs <code>[]</code> (no error). This forms a monoid, where <code>mzero = const []</code> and <code>mappend f g x = f x `mappend` g x</code>. Haskell has this built in as <code>instance Monoid b =&gt; Monoid (a -&gt; b)</code></p>\n\n<p><strong>EDIT</strong>: I appear to have misread the question. @4castle's answer is almost exactly this one but uses <code>Maybe err</code> instead of <code>[err]</code>. Use that.</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>// Scala, because I'm familiar with it, but it should translate to Kotlin\ncase class Validator[-A, +Err](check: A =&gt; Seq[Err]) {\n  def apply(a: A): Err = check(a)\n  def |+|[AA &gt;: A](that: Validator[A, Err]): Validator[AA, Err]\n  = Validator { a =&gt;\n    this(a) ++ that(a)\n  }\n}\nobject Validator {\n  def success[A, E]: Validator[A, E] = Validator { _ =&gt; Seq() }\n}\n\ntype FruitValidator = Validator[Fruit, String]\nval notTooHeavy: FruitValidator = Validator { fruit =&gt;\n  if(fruit.weight &lt; 500) Seq() else Seq(\"Too heavy\")\n  // Maybe make a helper method for this logic\n}\n\nval isRed: FruitValidator = Validator { fruit =&gt;\n  if (fruit.color == \"red\") Seq() else Seq(\"Not red\")\n}\n\nval compositeRule: FruitValidator = notTooHeavy |+| isRed\n</code></pre>\n\n<p>To use, just call a <code>Validator</code> like <code>compositeRule(Fruit(\"green\", 700))</code>, which returns 2 errors in this case.</p>\n\n<p>To see why the reader monad is inappropriate here, consider what happens if</p>\n\n<pre class=\"lang-hs prettyprint-override\"><code>type Validator = ReaderT Fruit (Either String) Fruit\nruleA :: Validator\nruleA = ReaderT $ \\fruit -&gt;\n  if color fruit /= \"red\" then Left \"Not red\"\n  else Right fruit\nruleB :: Validator\nruleB = ReaderT $ \\fruit -&gt;\n   if weight fruit &gt;= 500 then Left \"Too heavy\"\n   else Right fruit\nruleC = ruleA &gt;&gt; ruleB\n\ngreenHeavy = Fruit \"green\" 700\n</code></pre>\n\n<p>Both <code>ruleA</code> and <code>ruleB</code> fail for <code>greenHeavy</code>, yet running <code>runReaderT ruleC greenHeavy</code> only produces the first error. This is undesirable: you likely want as many errors as possible revealed per run.</p>\n\n<p>Also, you can \"hijack\" the validation:</p>\n\n<pre class=\"lang-hs prettyprint-override\"><code>bogusRule :: ReaderT Fruit (Either String) Int\nbogusRule = return 42\n\nruleD = do ruleA\n           ruleB\n           bogusRule -- Validates just fine... then throws away the Fruit so you can't validate further.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 100892, "user_id": 745903, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/50933f6638836741e620669b3940410e?s=128&d=identicon&r=PG", "display_name": "leftaroundabout", "link": "https://stackoverflow.com/users/745903/leftaroundabout"}, "is_accepted": false, "score": 1, "last_activity_date": 1507064113, "last_edit_date": 1507064113, "creation_date": 1507063725, "answer_id": 46553170, "question_id": 46552329, "link": "https://stackoverflow.com/questions/46552329/functional-programming-how-to-carry-on-the-context-for-a-chain-of-validation-ru/46553170#46553170", "title": "Functional programming: How to carry on the context for a chain of validation rules", "body": "<p>To answer generally the question</p>\n\n<blockquote>\n  <p>Now the problem is that somehow I have to carry the fruit context from check to check call.</p>\n</blockquote>\n\n<p>...phrased as...</p>\n\n<blockquote>\n  <p>Given some monad <code>M</code>, how do I chain some <code>M</code> actions while also (implicitly) giving the same \u201ccontext\u201d object to each?</p>\n</blockquote>\n\n<p>The Haskell answer would be to use the <a href=\"http://hackage.haskell.org/package/transformers-0.5.4.0/docs/Control-Monad-Trans-Reader.html#t:ReaderT\" rel=\"nofollow noreferrer\"><code>ReaderT</code> monad transformer</a>. It takes any monad, such as <code>Maybe</code>, and gives you another monad which implicitly passes a \u201cglobal constant\u201d to each action.</p>\n\n<p>Let me rewrite your checkers in Haskell:</p>\n\n\n\n<pre class=\"lang-hs prettyprint-override\"><code>data Fruit = Fruit {colour::String, weight::Int}\n\ntheFruitIsRed :: Fruit -&gt; Either String ()\ntheFruitIsRed fruit\n  | colour fruit == \"red\"  = Right ()\n  | otherwise              = Left \"Fruit not red\"\n\nfruitNotTooHeavy :: Fruit -&gt; Either String ()\nfruitNotTooHeavy fruit\n  | weight fruit &lt; 500     = Right ()\n  | otherwise              = Left \"Too heavy\"\n</code></pre>\n\n<p>Note that I've used <code>Either String ()</code> instead of <code>Maybe String</code> because I want <code>String</code> to be the \u201cabort case\u201d, whereas in the <code>Maybe</code> monad it would be the \u201ccarry on\u201d case.</p>\n\n<p>Now, instead of doing</p>\n\n<pre class=\"lang-hs prettyprint-override\"><code>checks :: Fruit -&gt; Either String ()\nchecks fruit = do\n    theFruitIsRed fruit\n    fruitNotTooHeavy fruit\n</code></pre>\n\n<p>I can do</p>\n\n<pre class=\"lang-hs prettyprint-override\"><code>checks = runReaderT $ do\n    ReaderT theFruitIsRed\n    ReaderT fruitNotTooHeavy\n</code></pre>\n\n<p>Your <code>Result</code> class seems to be essentially a special instantiation of the <code>ReaderT</code> transformer. Not sure if you could implement the exact thing in Kotlin as well.</p>\n"}, {"tags": [], "owner": {"reputation": 16362, "user_id": 49220, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/431cd43aaf713caa80316e852a87a840?s=128&d=identicon&r=PG", "display_name": "Paul Johnson", "link": "https://stackoverflow.com/users/49220/paul-johnson"}, "is_accepted": false, "score": 1, "last_activity_date": 1507064669, "creation_date": 1507064669, "answer_id": 46553404, "question_id": 46552329, "link": "https://stackoverflow.com/questions/46552329/functional-programming-how-to-carry-on-the-context-for-a-chain-of-validation-ru/46553404#46553404", "title": "Functional programming: How to carry on the context for a chain of validation rules", "body": "<p>It sounds like you are looking for an error monad. Its like the <code>Maybe</code> (aka <code>Option</code>) monad, but the error case carries a message.</p>\n\n<p>In Haskell its just the <code>Either</code> type, with the first argument being the type of the error value.</p>\n\n<pre><code>type MyError a = Either String a\n</code></pre>\n\n<p>If you check the <a href=\"https://hackage.haskell.org/package/base-4.10.0.0/docs/Data-Either.html\" rel=\"nofollow noreferrer\">Data.Either</a> documentation you will see that <code>Either e</code> is already an instance of Monad, so you don't need to do anything else. You can just write:</p>\n\n<pre><code>notTooHeavy :: Fruit -&gt; MyError ()\nnotTooHeavy fruit = \n    when (weight fruit &gt; 500) $ fail \"Too heavy\"\n</code></pre>\n\n<p>What the monad instance does is stop the computation at the first <code>fail</code>, so you get e.g. <code>Left \"Too heavy\"</code> or <code>Right ()</code>. If you want to accumulate errors then you have to do somthing more complicated.</p>\n\n<p>Other posters have suggested that you don't need monads because your example code has all the functions returning <code>()</code>. While this may be true of your examples, I'm reluctant to generalise that fast. Also since you get the monadic instance automatically with <code>Either</code> it makes sense to just use it.</p>\n"}, {"comments": [{"owner": {"reputation": 18798, "user_id": 4543207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed6f11c827fa7cef811f141a84cc14b?s=128&d=identicon&r=PG&f=1", "display_name": "Redu", "link": "https://stackoverflow.com/users/4543207/redu"}, "edited": false, "score": 0, "creation_date": 1507068375, "post_id": 46553945, "comment_id": 80062614, "body": "Real cool but what does <code>(First(First, getFirst))</code> mean at the <code>import Data.Monoid </code> stage."}, {"owner": {"reputation": 22091, "user_id": 5684257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea5090cde8ea066a1fda67ed52dd5084?s=128&d=identicon&r=PG&f=1", "display_name": "HTNW", "link": "https://stackoverflow.com/users/5684257/htnw"}, "reply_to_user": {"reputation": 18798, "user_id": 4543207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed6f11c827fa7cef811f141a84cc14b?s=128&d=identicon&r=PG&f=1", "display_name": "Redu", "link": "https://stackoverflow.com/users/4543207/redu"}, "edited": false, "score": 1, "creation_date": 1507068415, "post_id": 46553945, "comment_id": 80062631, "body": "@Redu &quot;Import the type <code>First</code>, the data constructor <code>First</code>, and the record field <code>getFirst</code>.&quot; The parentheses associate the data constructor and field with the type."}, {"owner": {"reputation": 22091, "user_id": 5684257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea5090cde8ea066a1fda67ed52dd5084?s=128&d=identicon&r=PG&f=1", "display_name": "HTNW", "link": "https://stackoverflow.com/users/5684257/htnw"}, "edited": false, "score": 0, "creation_date": 1507068631, "post_id": 46553945, "comment_id": 80062703, "body": "@4castle Why keep only the <code>First</code> error instead of keeping all of them with <code>[]</code>?"}, {"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "reply_to_user": {"reputation": 22091, "user_id": 5684257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea5090cde8ea066a1fda67ed52dd5084?s=128&d=identicon&r=PG&f=1", "display_name": "HTNW", "link": "https://stackoverflow.com/users/5684257/htnw"}, "edited": false, "score": 0, "creation_date": 1507069260, "post_id": 46553945, "comment_id": 80062922, "body": "@HTNW The OP said <i>&quot;Also when a function returns an error, the others should not be processed.&quot;</i> but you could get that behavior by using <a href=\"http://hackage.haskell.org/package/base-4.10.0.0/docs/Data-Maybe.html#v:catMaybes\" rel=\"nofollow noreferrer\"><code>catMaybes</code></a>."}], "tags": [], "owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "is_accepted": true, "score": 4, "last_activity_date": 1507068004, "last_edit_date": 1507068004, "creation_date": 1507067229, "answer_id": 46553945, "question_id": 46552329, "link": "https://stackoverflow.com/questions/46552329/functional-programming-how-to-carry-on-the-context-for-a-chain-of-validation-ru/46553945#46553945", "title": "Functional programming: How to carry on the context for a chain of validation rules", "body": "<p>You could use/create a monoid wrapper of your <code>Optional</code>/<code>Maybe</code> type such as <a href=\"http://hackage.haskell.org/package/base-4.10.0.0/docs/Data-Monoid.html#t:First\" rel=\"nofollow noreferrer\"><code>First</code></a> in Haskell which combines values by returning the first non-Nothing value.</p>\n\n<p>I don't know Kotlin, but in Haskell it would look like this:</p>\n\n<pre><code>import Data.Foldable (foldMap)\nimport Data.Monoid (First(First, getFirst))\n\ndata Fruit = Fruit { color :: String, weight :: Int }\n\ntheFruitIsRed :: Fruit -&gt; Maybe String\ntheFruitIsRed (Fruit \"red\" _) = Nothing\ntheFruitIsRed _               = Just \"Fruit not red\"\n\ntheFruitIsNotTooHeavy :: Fruit -&gt; Maybe String\ntheFruitIsNotTooHeavy (Fruit _ w)\n    | w &lt; 500   = Nothing\n    | otherwise = Just \"Too heavy\"\n\ncheckRules :: Fruit -&gt; Maybe String\ncheckRules = getFirst . foldMap (First .)\n    [ theFruitIsRed\n    , theFruitIsNotTooHeavy\n    ]\n</code></pre>\n\n<p><a href=\"https://ideone.com/4Gk5Rh\" rel=\"nofollow noreferrer\">Ideone Demo</a></p>\n\n<p>Note that I'm taking advantage of the <code>Monoid</code> instance of functions here:</p>\n\n<pre><code>Monoid b =&gt; Monoid (a -&gt; b)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3161, "user_id": 812272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/81e24cd679d414d554df2bde26658fd4?s=128&d=identicon&r=PG", "display_name": "user3001", "link": "https://stackoverflow.com/users/812272/user3001"}, "edited": false, "score": 1, "creation_date": 1507131489, "post_id": 46562093, "comment_id": 80091396, "body": "This is really nice!"}], "tags": [], "owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "is_accepted": false, "score": 2, "last_activity_date": 1507548744, "last_edit_date": 1507548744, "creation_date": 1507111335, "answer_id": 46562093, "question_id": 46552329, "link": "https://stackoverflow.com/questions/46552329/functional-programming-how-to-carry-on-the-context-for-a-chain-of-validation-ru/46562093#46562093", "title": "Functional programming: How to carry on the context for a chain of validation rules", "body": "<p>There are couple of Haskell implementations,\nso let's try to solve it with Kotlin.</p>\n\n<p>First, we start with the Data-Object:</p>\n\n<pre><code>class Fruit(val color: String, val weight: Int)\n</code></pre>\n\n<p>And we need a Type that represents a Fruit and whether an error occurred:</p>\n\n<pre><code>sealed class Result&lt;out E, out O&gt; {\n    data class Error&lt;E&gt;(val e: E) : Result&lt;E, Nothing&gt;()\n\n    data class Ok&lt;O&gt;(val o: O): Result&lt;Nothing, O&gt;()\n}\n</code></pre>\n\n<p>Now lets define the Type of a FruitRule:</p>\n\n<pre><code>typealias FruitRule = (Fruit) -&gt; String?\n</code></pre>\n\n<p>The <code>FruitRule</code> is a function that receives a Fruit-Instance\nand returns <code>null</code> if the rule passed or the error message.</p>\n\n<p>The problem we got here is that <code>FruitRule</code> itself is not composable.\nSo we need a Type that is composable and runs a <code>FruitRule</code> on a <code>Fruit</code></p>\n\n<pre><code>typealias ComposableFruitRule = (Result&lt;String, Fruit&gt;) -&gt; Result&lt;String, Fruit&gt;\n</code></pre>\n\n<p>First, we need a way to create a <code>ComposableFruitRule</code> from a <code>FruitRule</code></p>\n\n<pre><code>fun createComposableRule(f: FruitRule): ComposableFruitRule {\n    return { result: Result&lt;String, Fruit&gt; -&gt;\n\n        if(result is Result.Ok&lt;Fruit&gt;) {\n            val temporaryResult = f(result.o)\n\n            if(temporaryResult is String)\n                Result.Error(temporaryResult)\n            else\n                //We know that the rule passed,\n                //so we can return Result.Ok&lt;Fruit&gt; we received back\n                result\n        } else {\n            result\n        }\n    }\n}\n</code></pre>\n\n<p><code>createComposableFruitRule</code> returns a lambda that first checks whether the provided Result is <code>Result.Ok</code>. If yes, it runs the provided <code>FruitRule</code> on the given <code>Fruit</code> and returns <code>Result.Error</code> if the error message is not null.</p>\n\n<p>Now lets make our <code>ComposableFruitRule</code> composable:</p>\n\n<pre><code>infix fun ComposableFruitRule.composeRules(f: FruitRule): ComposableFruitRule {\n    return { result: Result&lt;String, Fruit&gt; -&gt;\n        val temporaryResult = this(result)\n\n        if(temporaryResult is Result.Ok&lt;Fruit&gt;) {\n            createComposableRule(f)(temporaryResult)\n        } else {\n            temporaryResult\n        }\n    }\n}\n</code></pre>\n\n<p>This infix-function composes a <code>ComposableFruitRule</code> together with a <code>FruitRule</code>, that means first the internal <code>FruitRule</code> is invoked. If there is no error, the <code>FruitRule</code> provided as a parameter is invoked.</p>\n\n<p>So now we are able to compose <code>FruitRules</code> together and afterward just provide a <code>Fruit</code> and check the rules.</p>\n\n<pre><code>fun colorIsRed(fruit: Fruit): String? {\n    return if(fruit.color == \"red\")\n        null\n    else\n        \"Color is not red\"\n}\n\nfun notTooHeavy(fruit: Fruit): String? {\n    return if(fruit.weight &lt; 500)\n        null\n    else\n        \"Fruit too heavy\"\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val ruleChecker = createComposableRule(::colorIsRed) composeRules ::notTooHeavy\n    //We can compose as many rules as we want\n    //e.g. ruleChecker composeRules ::fruitTooOld composeRules ::fruitNotTooLight\n\n    val fruit1 = Fruit(\"blue\", 300)\n    val result1 = ruleChecker(Result.Ok(fruit1))\n    println(result1)\n\n    val fruit2 = Fruit(\"red\", 700)\n    val result2 = ruleChecker(Result.Ok(fruit2))\n    println(result2)\n\n    val fruit3 = Fruit(\"red\", 350)\n    val result3 = ruleChecker(Result.Ok(fruit3))\n    println(result3)\n}\n</code></pre>\n\n<p>The Output of that <code>main</code> is:</p>\n\n<pre><code>Error(e=Color is not red)\nError(e=Fruit too heavy)\nOk(o=Fruit@65b54208)\n</code></pre>\n"}], "owner": {"reputation": 3161, "user_id": 812272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/81e24cd679d414d554df2bde26658fd4?s=128&d=identicon&r=PG", "display_name": "user3001", "link": "https://stackoverflow.com/users/812272/user3001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "accepted_answer_id": 46553945, "answer_count": 6, "score": 7, "last_activity_date": 1507548744, "creation_date": 1507060279, "question_id": 46552329, "link": "https://stackoverflow.com/questions/46552329/functional-programming-how-to-carry-on-the-context-for-a-chain-of-validation-ru", "title": "Functional programming: How to carry on the context for a chain of validation rules", "body": "<p>I have a set of functions (rules) for validation which take a context as parameter and either return \"Okay\" or an \"Error\" with a message. Basically these could return a <code>Maybe</code> (Haskell) / <code>Optional</code> (Java) type.</p>\n\n<p>In the following I would like to validate properties of a <code>Fruit</code> (the context) and return an error message if the validation failed, otherwise \"Okay\"/Nothing.</p>\n\n<p>Note:\nI would prefer a solution that is purely functional style and stateless/immutable. It is a bit of a Kata, actually.</p>\n\n<p>For my experiments I used Kotlin, but the core problem also applies to any language that supports higher order functions (such as Java and Haskell).\nYou can find a <a href=\"https://try.kotlinlang.org/#/UserProjects/d5hlc3nta19e3i6acgq1fqgj1g/anrp1iip26tp7bel24icf6gqq\" rel=\"noreferrer\" title=\"here\">link to the full source code here</a> and the same at the very bottom.</p>\n\n<p>Given a Fruit class with color and weight, plus some example rules:</p>\n\n<pre><code>data class Fruit(val color:String, val weight:Int)\n\nfun theFruitIsRed(fruit: Fruit) : Optional&lt;String&gt; =\n        if (fruit.color == \"red\") Optional.empty() else Optional.of(\"Fruit not red\")\nfun fruitNotTooHeavy(fruit: Fruit) : Optional&lt;String&gt; =\n            if (fruit.weight &lt; 500) Optional.empty() else Optional.of(\"Too heavy\")\n</code></pre>\n\n<p>Now I would like to chain the rule evaluation using a reference to the respective <em>function</em>, without specifying the context as an argument using a <code>FruitRuleProcessor</code>.\nWhen processing a rule fails, it should not evaluate any of the other rules.</p>\n\n<p>For Example:</p>\n\n<pre><code>fun checkRules(fruit:Fruit) {\n  var res = FruitRuleProcessor(fruit).check(::theFruitIsNotRed).check(::notAnApple).getResult()\n  if (!res.isEmpty()) println(res.get())\n}\n\ndef main(args:Array&lt;String) { \n  // \"Fruit not red\": The fruit has the wrong color and the weight check is thus skipped\n  checkRules(Fruit(\"green\",\"200\"))\n  //  Prints \"Fruit too heavy\": Color is correct, checked weight (too heavy)\n  checkRules(Fruit(\"red\",\"1000\")) \n }\n</code></pre>\n\n<p>I do not care where it failed, only about the result. Also when a function returns an error, the others should not be processed.\nAgain, this pretty much sounds like an <code>Optional</code> Monad.</p>\n\n<p>Now the problem is that somehow I have to carry the <code>fruit</code> context from <code>check</code> to <code>check</code> call.</p>\n\n<p>One solution I tried is to implement a <code>Result</code> class that takes a context as value and has two subclasses <code>RuleError(context:Fruit, message:String)</code> and <code>Okay(context)</code>. The difference to <code>Optional</code> is that now I can wrap around the <code>Fruit</code> context (think <code>T = Fruit</code>)</p>\n\n<pre><code>// T: Type of the context. I tried to generify this a bit.\nsealed class Result&lt;T&gt;(private val context:T) {\n\n    fun isError () = this is RuleError\n\n    fun isOkay() = this is Okay\n\n    // bind\n    infix fun check(f: (T) -&gt; Result&lt;T&gt;) : Result&lt;T&gt; {\n        return if (isError()) this else f(context)\n    }\n\n    class RuleError&lt;T&gt;(context: T, val message: String) : Result&lt;T&gt;(context)\n\n    class Okay&lt;T&gt;(context: T) : Result&lt;T&gt;(context)\n}\n</code></pre>\n\n<p>I think that this looks like a monoid/Monad, with <code>return</code> in the constructor lifting a <code>Fruit</code> into a <code>Result</code> and <code>or</code> being the <code>bind</code>. Although I tried some Scala and Haskell, admittedly I am not so experienced with that.</p>\n\n<p>Now we can change the rules to</p>\n\n<pre><code>fun theFruitIsNotTooHeavy(fruit: Fruit) : Result&lt;Fruit&gt; =\n    if (fruit.weight &lt; 500) Result.Okay(fruit) else Result.RuleError(fruit, \"Too heavy\")\n\nfun theFruitIsRed(fruit: Fruit) : Result&lt;Fruit&gt; =\n    if (fruit.color == \"red\") Result.Okay(fruit) else Result.RuleError(fruit, \"Fruit not red\")\n</code></pre>\n\n<p>which allows to chain checks like intended:</p>\n\n<pre><code>fun checkRules(fruit:Fruit) {\n    val res = Result.Okay(fruit).check(::theFruitIsRed).check(::theFruitIsNotTooHeavy)\n    if (res.isError()) println((res as Result.RuleError).message)\n}\n</code></pre>\n\n<p>// Prints:\nFruit not red\nToo heavy</p>\n\n<p>However this has one major drawback: The <code>Fruit</code> context now becomes part of the validation result, although it is not strictly necessary in there.</p>\n\n<p>So to wrap it up: I'm looking for a way</p>\n\n<ul>\n<li>to carry the <code>fruit</code> context when invoking the functions </li>\n<li>so that I can chain (basically: compose) multiple checks in a row using the the same method</li>\n<li>along with the results of the rule functions <em>without changing the interface</em> of these.</li>\n<li>without side-effects</li>\n</ul>\n\n<p>What functional programming patterns could solve this problem? Is it Monads as my gut feeling tries to tell me that?</p>\n\n<p>I would prefer a solution that can be done in Kotlin or Java 8 (for bonus points), but answers in other languages (e.g. Scala or Haskell) also could be helpful. (It's about the concept, not the language :) )</p>\n\n<p>You can find the full source code from this question in <a href=\"https://try.kotlinlang.org/#/UserProjects/d5hlc3nta19e3i6acgq1fqgj1g/anrp1iip26tp7bel24icf6gqq\" rel=\"noreferrer\" title=\"this fiddle\">this fiddle</a>.</p>\n"}, {"tags": ["java", "kotlin", "kotlin-interop"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 22, "last_activity_date": 1507060349, "creation_date": 1507060349, "answer_id": 46552346, "question_id": 46552242, "link": "https://stackoverflow.com/questions/46552242/is-it-possible-to-access-a-kotlin-typealias-from-java/46552346#46552346", "title": "Is it possible to access a Kotlin typealias from Java?", "body": "<p>From the <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/type-aliases.md\" rel=\"noreferrer\">KEEP proposal</a> for type aliases:</p>\n\n<blockquote>\n  <p>NB Java has no concept of \"type aliases\" and can't see them in class member signatures.</p>\n</blockquote>\n\n<p>So no, you can't use typealiases from Java, you'll just see the actual types of any parameter or variable that has a typealias'd type in Kotlin.</p>\n"}], "owner": {"reputation": 317, "user_id": 8074444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/937b42bca709441135144414ab2a107f?s=128&d=identicon&r=PG&f=1", "display_name": "Anlon Burke", "link": "https://stackoverflow.com/users/8074444/anlon-burke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3482, "favorite_count": 0, "accepted_answer_id": 46552346, "answer_count": 1, "score": 18, "last_activity_date": 1507074659, "creation_date": 1507059941, "last_edit_date": 1507074659, "question_id": 46552242, "link": "https://stackoverflow.com/questions/46552242/is-it-possible-to-access-a-kotlin-typealias-from-java", "title": "Is it possible to access a Kotlin typealias from Java?", "body": "<p>Suppose I have a Kotlin 1.1 <code>typealias</code> for a Kotlin function type like this</p>\n\n<pre><code>typealias Consumer&lt;T&gt; = (T) -&gt; Unit\n</code></pre>\n\n<p>I can access this from Java as</p>\n\n<pre><code>import kotlin.Unit;\nimport kotlin.jvm.functions.Function1;\n\nFunction1&lt;? super T, Unit&gt; action = ...\n</code></pre>\n\n<p>Is it somehow possible to access the Kotlin <code>Function1</code> interface from Java under its Kotlin typealias name (i.e., <code>Consumer</code>)?</p>\n"}, {"tags": ["android", "fragment", "kotlin"], "comments": [{"owner": {"reputation": 1694, "user_id": 3172843, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LhVwF.jpg?s=128&g=1", "display_name": "faraz khonsari", "link": "https://stackoverflow.com/users/3172843/faraz-khonsari"}, "edited": false, "score": 1, "creation_date": 1507055854, "post_id": 46551228, "comment_id": 80056880, "body": "duplicate Question with <a href=\"https://stackoverflow.com/questions/17436298/how-to-pass-a-variable-from-activity-to-fragment-and-pass-it-back\" title=\"how to pass a variable from activity to fragment and pass it back\">stackoverflow.com/questions/17436298/&hellip;</a>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1507056405, "post_id": 46551228, "comment_id": 80057146, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/17436298/how-to-pass-a-variable-from-activity-to-fragment-and-pass-it-back\">How to pass a variable from Activity to Fragment, and pass it back?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 20314, "user_id": 1281501, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/db591cfa2d3fc416c8ea91a16393fc28?s=128&d=identicon&r=PG", "display_name": "lostintranslation", "link": "https://stackoverflow.com/users/1281501/lostintranslation"}, "edited": false, "score": 0, "creation_date": 1544204216, "post_id": 46559252, "comment_id": 94206320, "body": "arguments is optional, you would need to use args?.getInt(...)"}], "tags": [], "owner": {"reputation": 3278, "user_id": 3282461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v6pSx.png?s=128&g=1", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/3282461/ankit-kumar"}, "is_accepted": false, "score": 7, "last_activity_date": 1507101930, "creation_date": 1507101930, "answer_id": 46559252, "question_id": 46551228, "link": "https://stackoverflow.com/questions/46551228/how-to-pass-and-get-value-from-fragment-and-activity/46559252#46559252", "title": "How to pass and get value from fragment and activity", "body": "<p>use this to send arguments to fragment</p>\n\n<pre><code>fun newInstance(index: Int): MyFragment {\n    val f = MyFragment ()\n    // Pass index input as an argument.\n    val args = Bundle()\n    args.putInt(\"index\", index)\n    f.setArguments(args)\n    return f\n}\n</code></pre>\n\n<p>And get those arguments like this</p>\n\n<pre><code>val args = arguments\nval index = args.getInt(\"index\", 0)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20567, "user_id": 2091181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHqzp.png?s=128&g=1", "display_name": "Jorge Casariego", "link": "https://stackoverflow.com/users/2091181/jorge-casariego"}, "edited": false, "score": 3, "creation_date": 1528217619, "post_id": 46562563, "comment_id": 88419802, "body": "Thanks! In my case it worked doing this: fragment.arguments = args"}], "tags": [], "owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "is_accepted": false, "score": 20, "last_activity_date": 1526198010, "last_edit_date": 1526198010, "creation_date": 1507112681, "answer_id": 46562563, "question_id": 46551228, "link": "https://stackoverflow.com/questions/46551228/how-to-pass-and-get-value-from-fragment-and-activity/46562563#46562563", "title": "How to pass and get value from fragment and activity", "body": "<p>There is the companion object for that (<a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects</a> )</p>\n\n<p>Define your fragment as usual, and declare the companion that acts as the static newInstance() equivalent in Java :</p>\n\n<pre><code>class ViewStackListFragment : Fragment() {\n  companion object {\n        fun newInstance(position: Int): ViewStackListFragment {\n            val fragment = ViewStackListFragment()\n            val args = Bundle()\n            args.putInt(\"position\", position)\n            fragment.setArguments(args)\n            return fragment\n        }\n    }\n}\n</code></pre>\n\n<p>And simply call it like in Java :</p>\n\n<pre><code>val fragment = ViewStackListFragment.newInstance(4)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1692, "user_id": 813292, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/eb402edd48fed0aabe9b255859b85544?s=128&d=identicon&r=PG", "display_name": "Hellojeffy", "link": "https://stackoverflow.com/users/813292/hellojeffy"}, "edited": false, "score": 0, "creation_date": 1522271690, "post_id": 46563104, "comment_id": 86096274, "body": "This should be more kotlin-like code. This is java code."}], "tags": [], "owner": {"reputation": 2838, "user_id": 6314513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMIUc.jpg?s=128&g=1", "display_name": "Gowtham Subramaniam", "link": "https://stackoverflow.com/users/6314513/gowtham-subramaniam"}, "is_accepted": false, "score": 0, "last_activity_date": 1524724282, "last_edit_date": 1524724282, "creation_date": 1507114532, "answer_id": 46563104, "question_id": 46551228, "link": "https://stackoverflow.com/questions/46551228/how-to-pass-and-get-value-from-fragment-and-activity/46563104#46563104", "title": "How to pass and get value from fragment and activity", "body": "<p>To pass and get value from fragment and activity,</p>\n\n<pre><code>val mFragment = Fragment()\nval mArgs = Bundle()\nmArgs.putInt(\"Key\", value)\nmFragment.setArguments(mArgs)\n</code></pre>\n\n<p>Use this piece of code in your second <code>Activity</code>/<code>Fragment</code> to get your values.</p>\n\n<pre><code>var args = getArguments()\nvar index = args.getInt(\"Key\", 0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6933658, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BrcrmS0gzyw/AAAAAAAAAAI/AAAAAAAAAjI/qsxxG6L8Muc/photo.jpg?sz=128", "display_name": "Jayesh Patel", "link": "https://stackoverflow.com/users/6933658/jayesh-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1523616973, "last_edit_date": 1523616973, "creation_date": 1523614366, "answer_id": 49814582, "question_id": 46551228, "link": "https://stackoverflow.com/questions/46551228/how-to-pass-and-get-value-from-fragment-and-activity/49814582#49814582", "title": "How to pass and get value from fragment and activity", "body": "<pre><code>  val otpFragment = OtpFragment()\n  val bundle = Bundle()\n  bundle.putString(\"otp\", loginDetails[0].otp)\n  otpFragment.arguments = bundle\n  CommonUtil.changeFragment(otpFragment, R.id.flLogin, Login.manager, R.anim.enter_anim, R.anim.exit_anim)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 5052493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PMuaW.jpg?s=128&g=1", "display_name": "RaghuPrasanth V", "link": "https://stackoverflow.com/users/5052493/raghuprasanth-v"}, "is_accepted": false, "score": 2, "last_activity_date": 1523614590, "creation_date": 1523614590, "answer_id": 49814656, "question_id": 46551228, "link": "https://stackoverflow.com/questions/46551228/how-to-pass-and-get-value-from-fragment-and-activity/49814656#49814656", "title": "How to pass and get value from fragment and activity", "body": "<p>simple way to call in java ....like this way </p>\n\n<pre><code>class ViewStackListFragment : Fragment() {\n  companion object {\n        fun newInstance(position: Int): ViewStackListFragment {\n            val fragment = ViewStackListFragment()\n            val args = Bundle()\n            args.putInt(\"position\", position)\n            fragment.setArguments(args)\n            return f\n        }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 4050192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHLTq.jpg?s=128&g=1", "display_name": "Krasavello13", "link": "https://stackoverflow.com/users/4050192/krasavello13"}, "is_accepted": false, "score": 6, "last_activity_date": 1523887880, "creation_date": 1523887880, "answer_id": 49859403, "question_id": 46551228, "link": "https://stackoverflow.com/questions/46551228/how-to-pass-and-get-value-from-fragment-and-activity/49859403#49859403", "title": "How to pass and get value from fragment and activity", "body": "<p>Do it in more Kotlin style</p>\n\n<p>1) Create an inline function:</p>\n\n<pre><code>inline fun &lt;FRAGMENT : Fragment&gt; FRAGMENT.putArgs(argsBuilder: Bundle.() -&gt; Unit): FRAGMENT = this.apply { arguments = Bundle().apply(argsBuilder) }\n</code></pre>\n\n<p>2) Now you can use this extension in all fragments without duplication of code:</p>\n\n<pre><code>class MyFragment: Fragment() {\n    companion object {\n        fun newInstance(name: String) = MyFragment().putArgs {\n             putString(\"nameKey\", name)\n        }\n    }\n}\n\nclass MyFragment1: Fragment() {\n     companion object {\n         fun newInstance(boolean: Boolean) = MyFragment1().putArgs {\n              putBoolean(\"booleanKey\", boolean)\n         }\n     }\n}\n</code></pre>\n\n<p>3) Create your fragments:</p>\n\n<pre><code>val myFragment = MyFragment.newInstance(\"NAME\")\nval myFragment1 = MyFragment1.newInstance(true)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8810, "user_id": 311420, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gti2M.jpg?s=128&g=1", "display_name": "Raymond Chenon", "link": "https://stackoverflow.com/users/311420/raymond-chenon"}, "edited": false, "score": 1, "creation_date": 1591823431, "post_id": 51572010, "comment_id": 110207031, "body": "Exactly what I was looking for.  Note: context is <code>@NonNull</code> , you can declare <code>onAttach(context: Context)</code>"}], "tags": [], "owner": {"reputation": 4264, "user_id": 1254514, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c5a0b9d3116efcc13a842d89ada3988a?s=128&d=identicon&r=PG", "display_name": "Paul Spiesberger", "link": "https://stackoverflow.com/users/1254514/paul-spiesberger"}, "is_accepted": true, "score": 59, "last_activity_date": 1533635661, "last_edit_date": 1533635661, "creation_date": 1532785825, "answer_id": 51572010, "question_id": 46551228, "link": "https://stackoverflow.com/questions/46551228/how-to-pass-and-get-value-from-fragment-and-activity/51572010#51572010", "title": "How to pass and get value from fragment and activity", "body": "<p>Here is the Android Studio proposed solution (= when you create a Blank-Fragment with File -> New -> Fragment -> Fragment(Blank) and you check \"include fragment factory methods\"). </p>\n\n<p>Put this in your Fragment:</p>\n\n<pre><code>class MyFragment: Fragment {\n\n...\n\n    companion object {\n\n            @JvmStatic\n            fun newInstance(isMyBoolean: Boolean) = MyFragment().apply {\n                arguments = Bundle().apply {\n                    putBoolean(\"REPLACE WITH A STRING CONSTANT\", isMyBoolean)\n                }\n            }\n     }\n}\n</code></pre>\n\n<p><code>.apply</code> is a nice trick to set data when an object is created, or as <a href=\"https://proandroiddev.com/the-tldr-on-kotlins-let-apply-also-with-and-run-functions-6253f06d152b\" rel=\"noreferrer\">they state here</a>: </p>\n\n<blockquote>\n  <p>Calls the specified function [block] with <code>this</code> value as its receiver\n  and returns <code>this</code> value.</p>\n</blockquote>\n\n<p>Then in your Activity or Fragment do:</p>\n\n<pre><code>val fragment = MyFragment.newInstance(false)\n... // transaction stuff happening here\n</code></pre>\n\n<p>and read the Arguments in your Fragment such as:</p>\n\n<pre><code>private var isMyBoolean = false\n\noverride fun onAttach(context: Context?) {\n    super.onAttach(context)\n    arguments?.getBoolean(\"REPLACE WITH A STRING CONSTANT\")?.let {\n        isMyBoolean = it\n    }\n}\n</code></pre>\n\n<p>Enjoy the magic of Kotlin!</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 13164813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6e02c7ec1851e593c9a8de95bb3091b?s=128&d=identicon&r=PG&f=1", "display_name": "Afanasyeu Alexei", "link": "https://stackoverflow.com/users/13164813/afanasyeu-alexei"}, "is_accepted": false, "score": 6, "last_activity_date": 1588950453, "creation_date": 1588950453, "answer_id": 61682177, "question_id": 46551228, "link": "https://stackoverflow.com/questions/46551228/how-to-pass-and-get-value-from-fragment-and-activity/61682177#61682177", "title": "How to pass and get value from fragment and activity", "body": "<p>Kotlin, Fragment:\nfor pass</p>\n\n<pre><code>companion object {\n    private const val ARGUMENT_ACTION = \"ARGUMENT_ACTION\"\n\n    fun newInstance(action: Int) : MyFragment{\n        return MyFragment().apply {\n            arguments = bundleOf(ARGUMENT_ACTION to action)\n        }\n    }\n}\n</code></pre>\n\n<p>for get</p>\n\n<pre><code>requireArguments().getInt(ARGUMENT_ACTION)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1258, "user_id": 3075856, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BvZEZ.gif?s=128&g=1", "display_name": "w201", "link": "https://stackoverflow.com/users/3075856/w201"}, "is_accepted": false, "score": 0, "last_activity_date": 1594805261, "creation_date": 1594805261, "answer_id": 62911739, "question_id": 46551228, "link": "https://stackoverflow.com/questions/46551228/how-to-pass-and-get-value-from-fragment-and-activity/62911739#62911739", "title": "How to pass and get value from fragment and activity", "body": "<p>In one source code I found this version:</p>\n<pre><code>class ConfirmPasswordActivity : Activity {\n\ncompanion object {\n    lateinit var person: Person\n    fun newIntent(context: Context, person: Person) = run {\n        this.person = person\n        Intent(context, ConfirmPasswordActivity::class.java)\n    }\n}\nprivate fun setOnClickListeners() {\n    ib_back.setOnClickListener { finish() }\n    btn_confirm_password.setOnClickListener {\n        onNext(UiEvents.OnBtnConfirmClicked(person))\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 7625533, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JHjdqUUBKM0/AAAAAAAAAAI/AAAAAAAAABM/ZFvamrKQ_I8/photo.jpg?sz=128", "display_name": "Best  Best", "link": "https://stackoverflow.com/users/7625533/best-best"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53490, "favorite_count": 9, "accepted_answer_id": 51572010, "answer_count": 9, "score": 31, "last_activity_date": 1594805261, "creation_date": 1507055647, "last_edit_date": 1550621426, "question_id": 46551228, "link": "https://stackoverflow.com/questions/46551228/how-to-pass-and-get-value-from-fragment-and-activity", "title": "How to pass and get value from fragment and activity", "body": "<p>How to pass and get value from fragment and activity?</p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-multidex"], "comments": [{"owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "edited": false, "score": 0, "creation_date": 1507056746, "post_id": 46551051, "comment_id": 80057311, "body": "Can you show us the code in which you are getting the error?"}, {"owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "reply_to_user": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "edited": false, "score": 0, "creation_date": 1507056931, "post_id": 46551051, "comment_id": 80057403, "body": "Hi Fondesa, I would love to... But this problem is in the whole app, not a particular piece of code. The problem occurs sometimes when I try to run UI tests in the app. If I add classes to the multidex_keep_file I can run UI tests, but I get NoClassDefFoundError with some pcollections class =/"}, {"owner": {"reputation": 46728, "user_id": 557179, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7KJPr.jpg?s=128&g=1", "display_name": "Nikola Despotoski", "link": "https://stackoverflow.com/users/557179/nikola-despotoski"}, "edited": false, "score": 0, "creation_date": 1507103956, "post_id": 46551051, "comment_id": 80073324, "body": "Do you have <code>kotlin-reflect</code> dependency in your project?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1507116298, "post_id": 46551051, "comment_id": 80080656, "body": "You didn&#39;t extend your Application class from <code>MultiDexApplication</code>. :|"}, {"owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1507124874, "post_id": 46551051, "comment_id": 80086699, "body": "Thanks for the help @EpicPandaForce, but I did extend the MultiDexApplication. Everything was working... I commited some changes in the code and then it started to break (changes were not related to kotlin.reflect)"}], "answers": [{"comments": [{"owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "edited": false, "score": 0, "creation_date": 1507124982, "post_id": 46563633, "comment_id": 80086774, "body": "Thanks for the help, but this was already done in the project"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1507118079, "last_edit_date": 1507118079, "creation_date": 1507116357, "answer_id": 46563633, "question_id": 46551051, "link": "https://stackoverflow.com/questions/46551051/mutidex-and-kotlin/46563633#46563633", "title": "Mutidex and Kotlin", "body": "<p>As specified in <a href=\"https://developer.android.com/studio/build/multidex.html\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/multidex.html</a> </p>\n\n<p>If you do <code>multiDexEnabled true</code></p>\n\n<p>then you must also provide a custom application class that <code>extends MultiDexApplication</code></p>\n\n<p>Or calls <code>MultiDex.install(this)</code> in <code>attachBaseContext()</code> method.</p>\n\n<pre><code>public class MyApplication extends SomeOtherApplication {\n  @Override\n  protected void attachBaseContext(Context base) {\n     super.attachBaseContext(base);\n     MultiDex.install(this);\n  }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.myapp\"&gt;\n    &lt;application\n            android:name=\"com.acme.MyApplication\" &gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1269, "user_id": 529518, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/388febaa66fa8bca2884d037f5162d40?s=128&d=identicon&r=PG", "display_name": "MaTriXy", "link": "https://stackoverflow.com/users/529518/matrixy"}, "is_accepted": true, "score": 2, "last_activity_date": 1514991784, "creation_date": 1514991784, "answer_id": 48079970, "question_id": 46551051, "link": "https://stackoverflow.com/questions/46551051/mutidex-and-kotlin/48079970#48079970", "title": "Mutidex and Kotlin", "body": "<p>Try using <a href=\"http://google.github.io/android-gradle-dsl/2.2/com.android.build.gradle.internal.dsl.BuildType.html#com.android.build.gradle.internal.dsl.BuildType:multiDexKeepFile\" rel=\"nofollow noreferrer\">multiDexKeepFile</a> api</p>\n\n<pre><code>android {\n    buildTypes {\n        debug {\n            ...\n            multiDexEnabled true\n            multiDexKeepFile file('multidex_keep_file.txt')\n        }\n    }\n}\n</code></pre>\n\n<p>Where <code>multidex_keep_file.txt</code> is file with single class per line which needs to be explicitly added to the main dex</p>\n\n<pre><code> kotlin/reflect/MyClass.class\n</code></pre>\n\n<p>You can also use <code>multiDexKeepProguard</code> to keep whole package</p>\n\n<pre><code>-keep class kotlin.reflect.** { *; }\n</code></pre>\n"}], "owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2454, "favorite_count": 0, "accepted_answer_id": 48079970, "answer_count": 2, "score": 1, "last_activity_date": 1562327441, "creation_date": 1507055055, "last_edit_date": 1562327441, "question_id": 46551051, "link": "https://stackoverflow.com/questions/46551051/mutidex-and-kotlin", "title": "Mutidex and Kotlin", "body": "<p>I am working on a project where we use multidex to build our app. I started to see many error like this in our build:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: kotlin.reflect.jvm.internal.pcollections.MapEntry\n</code></pre>\n\n<p>Many classes related to kotlin.reflect started be not found in the build. It only happens in APIs 19 and bellow. </p>\n\n<p>Does anyone knows what may be causing this and how to solve this problems? </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 3, "creation_date": 1507047825, "post_id": 46549175, "comment_id": 80052605, "body": "The types are different. That alone probably causes it to fail. The string representations would be equal if toString ditches any class indicators and just shows the strings."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1507049249, "post_id": 46549175, "comment_id": 80053374, "body": "Can you show us the definitions of the classes? Also, your map names in the first code block you posted are mixed up somehow."}, {"owner": {"reputation": 162, "user_id": 6537905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daafef9ebeb1761a43416cbac9db0b76?s=128&d=identicon&r=PG&f=1", "display_name": "Viterzgir", "link": "https://stackoverflow.com/users/6537905/viterzgir"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1507131255, "post_id": 46549175, "comment_id": 80091237, "body": "@Carcigenicate @zsmb13 edited post with new details. Also, I deleted 2nd class <code>Items2</code> but it still the same."}], "answers": [{"comments": [{"owner": {"reputation": 1404, "user_id": 564553, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cca53f9b89c73e85539a7f599585c789?s=128&d=identicon&r=PG", "display_name": "BPS", "link": "https://stackoverflow.com/users/564553/bps"}, "edited": false, "score": 0, "creation_date": 1611178237, "post_id": 46572637, "comment_id": 116371168, "body": "&gt; When comparing two maps with the equals method, the standard implementation compares all keys and values also using the equals method.  This is true.  However, be aware that neither the Map nor the MutableMap interfaces require this."}], "tags": [], "owner": {"reputation": 14074, "user_id": 1348215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/iEZX8.jpg?s=128&g=1", "display_name": "Egor Neliuba", "link": "https://stackoverflow.com/users/1348215/egor-neliuba"}, "is_accepted": true, "score": 8, "last_activity_date": 1507144971, "creation_date": 1507144971, "answer_id": 46572637, "question_id": 46549175, "link": "https://stackoverflow.com/questions/46549175/kotlin-maps-comparison-throws-fail-even-if-maps-are-equal/46572637#46572637", "title": "Kotlin: Maps comparison throws Fail even if Maps are equal", "body": "<p>When comparing two maps with the <code>equals</code> method, the standard implementation compares all keys and values also using the <code>equals</code> method.</p>\n\n<p>Your <code>Items</code> class uses the standard <code>equals</code> implementation (two reference values are equal if and only if they refer to the same object). But you clearly have two different instances of the in different maps.</p>\n\n<p>You either have to override the <code>Items#equals</code> method or mark the <code>Items</code> class as a <code>data class</code>:</p>\n\n<pre><code>data class Items(var name1: String, var amount1: String, var price1: String)\n</code></pre>\n\n<p>Kotlin will generate correct <code>equals</code>, <code>hashCode</code> and <code>toString</code> methods.</p>\n\n<p>After this the map comparison will work fine.</p>\n"}], "owner": {"reputation": 162, "user_id": 6537905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daafef9ebeb1761a43416cbac9db0b76?s=128&d=identicon&r=PG&f=1", "display_name": "Viterzgir", "link": "https://stackoverflow.com/users/6537905/viterzgir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3860, "favorite_count": 0, "accepted_answer_id": 46572637, "answer_count": 1, "score": 2, "last_activity_date": 1507144971, "creation_date": 1507047628, "last_edit_date": 1507132055, "question_id": 46549175, "link": "https://stackoverflow.com/questions/46549175/kotlin-maps-comparison-throws-fail-even-if-maps-are-equal", "title": "Kotlin: Maps comparison throws Fail even if Maps are equal", "body": "<p>I'm trying to compare 2 Maps, both are filled with identical Strings (just for training).\nWhen I try to compare them I got <code>false</code> returned through <code>map.equals(map2)</code></p>\n\n<p>But if I do the same and add <code>.toString()</code> to the <code>comparison</code> it returns <code>true</code>. <code>map.toString().equals(map2.toString())</code></p>\n\n<p>How's that? What am I doing wrong? </p>\n\n<p>Also happens the same with <code>Kluent library</code> and its <code>shouldEqual</code> method. \nI also tried to get <code>values</code> of that <code>maps</code> into <code>arrays</code> and tried to compare that <code>arrays</code> but it still returns <code>false</code>. </p>\n\n<p>Also, when I print all items from each map I see the same 3 Strings but comparison returns <code>fail</code>.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>class MapsTesting {\n\n\n    class Items(name1: String, amount1: String, price1: String) {\n        var name: String = name1\n        var amount: String = amount1\n        var price: String = price1\n\n        override fun toString(): String {\n            return \"name:$name,amount:$amount,price:$price \\n\"\n        }\n    }\n\n    @Test\n    fun mapTest() {\n\n        val mapOfItems: MutableMap&lt;String, Items&gt; = mutableMapOf()\n        mapOfItems[\"Materials\"] = Items(\"STEP 1\", \"STEP 2\", \"View All Stones\")\n\n        val mapOfItems2: MutableMap&lt;String, Items&gt; = mutableMapOf()\n        mapOfItems2[\"Materials\"] = Items(\"STEP 1\", \"STEP 2\", \"View All Stones\")\n\n        mapOfItems.forEach { t, u -&gt;\n            println(\"map key:$t,map value:${u.toString()}\")\n        }\n\n        mapOfItems2.forEach { t, u -&gt;\n            println(\"map key:$t,map value:${u.toString()}\")\n        }\n\n        val comparison : Boolean = mapOfItems.toString().equals(mapOfItems2.toString())\n        //this returns true\n        val comparison2 : Boolean = mapOfItems.equals(mapOfItems2)\n         //this returns false\n        println(comparison)\n        println(comparison2)\n\n\n        val map1 = mapOfItems.toString()\n        val map2 = mapOfItems2.toString()\n        //this returns true \n        //if I delete toString() it will return false\n        map1 shouldEqual  map2\n    }\n}\n</code></pre>\n\n<p>Here's the error I got: </p>\n\n<pre><code>java.lang.AssertionError: expected: java.util.LinkedHashMap&lt;{Materials=name:STEP 1,amount:STEP 2,price:View All Stones \n}&gt; but was: java.util.LinkedHashMap&lt;{Materials=name:STEP 1,amount:STEP 2,price:View All Stones \n}&gt;\n</code></pre>\n"}, {"tags": ["spring", "kotlin", "spring-rest"], "comments": [{"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 1, "creation_date": 1507057938, "post_id": 46548489, "comment_id": 80057927, "body": "try to use Kotlin&#39;s default argument: count: Long = 10, instead of Spring&#39;s"}], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 2755628, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/100001540743506/picture?type=large", "display_name": "Oleksandr Samsonov", "link": "https://stackoverflow.com/users/2755628/oleksandr-samsonov"}, "is_accepted": true, "score": 7, "last_activity_date": 1507114276, "creation_date": 1507114276, "answer_id": 46563031, "question_id": 46548489, "link": "https://stackoverflow.com/questions/46548489/spring-rest-kotin-and-default-primitive-parameters-leads-to-an-error/46563031#46563031", "title": "Spring REST, Kotin and default primitive parameters leads to an error", "body": "<p>I found solution in my situation:</p>\n\n<p>The reason was because of an interface. When I placed <code>@RequestParam(\"count\", required = false, defaultValue = \"10\")</code> in the implementation everything start working.</p>\n"}], "owner": {"reputation": 927, "user_id": 2755628, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/100001540743506/picture?type=large", "display_name": "Oleksandr Samsonov", "link": "https://stackoverflow.com/users/2755628/oleksandr-samsonov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2808, "favorite_count": 0, "accepted_answer_id": 46563031, "answer_count": 1, "score": 3, "last_activity_date": 1507114276, "creation_date": 1507045296, "last_edit_date": 1507108577, "question_id": 46548489, "link": "https://stackoverflow.com/questions/46548489/spring-rest-kotin-and-default-primitive-parameters-leads-to-an-error", "title": "Spring REST, Kotin and default primitive parameters leads to an error", "body": "<p>I get an error: </p>\n\n<blockquote>\n  <p>Optional long parameter 'count' is present but cannot be translated into a null value due to being declared as a primitive type. Consider declaring it as object wrapper for the corresponding primitive type</p>\n</blockquote>\n\n<p>when I try to invoke this REST controller.</p>\n\n<pre><code>    @RequestMapping(\"/api/audio/tracks\", produces = arrayOf(APPLICATION_JSON_VALUE))\n    interface SomeApi {\n\n\n        @RequestMapping(method = arrayOf(GET))\n        fun list(@RequestParam(\"count\", defaultValue = \"10\") count: Long): Any\n    }\n</code></pre>\n\n<p>Does not spring look at <code>defaultValue</code>?</p>\n\n<p>How to solve this kind of problem?</p>\n\n<p>!Kotlin defaults do not work either</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1507045588, "post_id": 46547984, "comment_id": 80051205, "body": "can you add little more description?"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1507051981, "post_id": 46547984, "comment_id": 80054863, "body": "You can&#39;t use the kotlin android extensions in Java. They are for Kotlin."}, {"owner": {"reputation": 35, "user_id": 8714856, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q5u7zJ1I_8c/AAAAAAAAAAI/AAAAAAAAABg/13yZRHk_DqU/photo.jpg?sz=128", "display_name": "Brane", "link": "https://stackoverflow.com/users/8714856/brane"}, "reply_to_user": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1507057393, "post_id": 46547984, "comment_id": 80057630, "body": "@AniruddhaDas All modules with Kotlin files are configured."}], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1516021755, "post_id": 46548326, "comment_id": 83510124, "body": "I&#39;m getting this same error in a Kotlin file just now, and not even <code>Invalidate Caches</code> fixes it. hrmmm"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1516022318, "post_id": 46548326, "comment_id": 83510435, "body": "okay I had to force a Gradle Sync, pretty much. Updating kotlin gradle plugin fixed it."}], "tags": [], "owner": {"reputation": 7362, "user_id": 972671, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d60679aa1bf8f8400d3953e7dc78d2db?s=128&d=identicon&r=PG", "display_name": "Kingfisher Phuoc", "link": "https://stackoverflow.com/users/972671/kingfisher-phuoc"}, "is_accepted": true, "score": 3, "last_activity_date": 1507044858, "creation_date": 1507044858, "answer_id": 46548326, "question_id": 46547984, "link": "https://stackoverflow.com/questions/46547984/kotlinx-cannot-resolve-symbol-synthetic/46548326#46548326", "title": "Kotlinx cannot resolve symbol &quot;synthetic&quot;", "body": "<p>Yes, of course, you got the error. You must change your code to Kotlin not java. Something likes:</p>\n\n<pre><code>class YourActivity : AppCompatActivity(){\n}\n</code></pre>\n\n<p>And remember that, it's should be <code>import kotlinx.android.synthetic.main.activity_main.*</code> not <code>content_main</code></p>\n"}, {"tags": [], "owner": {"reputation": 3278, "user_id": 3282461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v6pSx.png?s=128&g=1", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/3282461/ankit-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1507102332, "creation_date": 1507102332, "answer_id": 46559370, "question_id": 46547984, "link": "https://stackoverflow.com/questions/46547984/kotlinx-cannot-resolve-symbol-synthetic/46559370#46559370", "title": "Kotlinx cannot resolve symbol &quot;synthetic&quot;", "body": "<pre><code>class MainActivity : Activity() {}\n</code></pre>\n\n<p>Change your class from Java to Kotlin so that it can import kotlin packages</p>\n"}], "owner": {"reputation": 35, "user_id": 8714856, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q5u7zJ1I_8c/AAAAAAAAAAI/AAAAAAAAABg/13yZRHk_DqU/photo.jpg?sz=128", "display_name": "Brane", "link": "https://stackoverflow.com/users/8714856/brane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1292, "favorite_count": 0, "accepted_answer_id": 46548326, "answer_count": 2, "score": 1, "last_activity_date": 1507102332, "creation_date": 1507043792, "last_edit_date": 1507049491, "question_id": 46547984, "link": "https://stackoverflow.com/questions/46547984/kotlinx-cannot-resolve-symbol-synthetic", "title": "Kotlinx cannot resolve symbol &quot;synthetic&quot;", "body": "<p>Trying Kotlin, Kotlin configured in project, <code>kotlin-android-extensions</code>added, dependency also added...</p>\n\n<pre><code>import kotlinx.android.**synthetic**.main.content_main.*\n</code></pre>\n\n<p>[<img src=\"https://i.stack.imgur.com/TwHzB.png\" alt=\"]\"></p>\n"}, {"tags": ["arrays", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 6537905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daafef9ebeb1761a43416cbac9db0b76?s=128&d=identicon&r=PG&f=1", "display_name": "Viterzgir", "link": "https://stackoverflow.com/users/6537905/viterzgir"}, "edited": false, "score": 0, "creation_date": 1507044618, "post_id": 46547427, "comment_id": 80050622, "body": "Thanks for your response. Getting &quot;Type inference failed&quot; error for <code>interset()</code> function. Is it applicable to <code>arrayOf</code> type?"}, {"owner": {"reputation": 46728, "user_id": 557179, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7KJPr.jpg?s=128&g=1", "display_name": "Nikola Despotoski", "link": "https://stackoverflow.com/users/557179/nikola-despotoski"}, "reply_to_user": {"reputation": 162, "user_id": 6537905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daafef9ebeb1761a43416cbac9db0b76?s=128&d=identicon&r=PG&f=1", "display_name": "Viterzgir", "link": "https://stackoverflow.com/users/6537905/viterzgir"}, "edited": false, "score": 0, "creation_date": 1507047293, "post_id": 46547427, "comment_id": 80052307, "body": "Yes, <code>inteserct</code> is extension function for <code>Array&lt;out T&gt;</code> <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/intersect.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/&hellip;</a>"}, {"owner": {"reputation": 162, "user_id": 6537905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daafef9ebeb1761a43416cbac9db0b76?s=128&d=identicon&r=PG&f=1", "display_name": "Viterzgir", "link": "https://stackoverflow.com/users/6537905/viterzgir"}, "edited": false, "score": 0, "creation_date": 1507127777, "post_id": 46547427, "comment_id": 80088898, "body": "thanks, but it doesn&#39;t work. Probably, I do something wrong. I initialize array like this: <code>val getAllElementsNames : Array&lt;out String&gt; = arrayOf(&quot;String&quot;, &quot;String&quot;, &quot;String&quot;...)</code>. Is it correct? Thanks!"}], "tags": [], "owner": {"reputation": 46728, "user_id": 557179, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7KJPr.jpg?s=128&g=1", "display_name": "Nikola Despotoski", "link": "https://stackoverflow.com/users/557179/nikola-despotoski"}, "is_accepted": false, "score": 1, "last_activity_date": 1507042166, "creation_date": 1507042166, "answer_id": 46547427, "question_id": 46546959, "link": "https://stackoverflow.com/questions/46546959/how-to-find-which-element-failed-comparison-between-arrays-in-kotlin/46547427#46547427", "title": "How to find which element failed comparison between arrays in Kotlin?", "body": "<p>You need to find the intersection between the two collections. Intersection will be the common elements. After than removing the intersection collection from the collection you want to perform the test will give you the complementary elements.</p>\n\n<pre><code>val intersection = getAllElementsNames.intersect(correctElementsNames)\ngetAllElementsNames.removeAll(intersection)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 6537905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daafef9ebeb1761a43416cbac9db0b76?s=128&d=identicon&r=PG&f=1", "display_name": "Viterzgir", "link": "https://stackoverflow.com/users/6537905/viterzgir"}, "edited": false, "score": 0, "creation_date": 1507129394, "post_id": 46549757, "comment_id": 80090053, "body": "<code>assertThat</code> didn&#39;t work for me, unfortunately, but Kluent library did everything well. Thanks a lot. It has a bug though (it shows previous element from the array in error message) but I can live with that :)"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1507049950, "creation_date": 1507049950, "answer_id": 46549757, "question_id": 46546959, "link": "https://stackoverflow.com/questions/46546959/how-to-find-which-element-failed-comparison-between-arrays-in-kotlin/46549757#46549757", "title": "How to find which element failed comparison between arrays in Kotlin?", "body": "<p>I recommend using a matcher library like Hamcrest or AssertJ in tests. They provide much better error messages for cases like this. In this case with Hamcrest it would be: </p>\n\n<pre><code>import org.hamcrest.Matchers.*\n\nassertThat(getAllElementsNames, contains(*correctElementsNames))\n\n// or just\nassertThat(getAllElementsNames, contains(\"name1\", \"name2\", \"name3\", ...))\n</code></pre>\n\n<p>There are also matcher libraries made specifically for Kotlin: <a href=\"https://github.com/kotlintest/kotlintest\" rel=\"nofollow noreferrer\">https://github.com/kotlintest/kotlintest</a>, <a href=\"https://yobriefca.se/expect.kt/\" rel=\"nofollow noreferrer\">https://yobriefca.se/expect.kt/</a>, <a href=\"https://github.com/winterbe/expekt\" rel=\"nofollow noreferrer\">https://github.com/winterbe/expekt</a>, <a href=\"https://github.com/MarkusAmshove/Kluent\" rel=\"nofollow noreferrer\">https://github.com/MarkusAmshove/Kluent</a>, probably more. Tests using them should be even more readable, but I haven't tried any of them. Look at their documentation and examples and pick the one you like.</p>\n"}], "owner": {"reputation": 162, "user_id": 6537905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daafef9ebeb1761a43416cbac9db0b76?s=128&d=identicon&r=PG&f=1", "display_name": "Viterzgir", "link": "https://stackoverflow.com/users/6537905/viterzgir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 46549757, "answer_count": 2, "score": 1, "last_activity_date": 1507049950, "creation_date": 1507040750, "question_id": 46546959, "link": "https://stackoverflow.com/questions/46546959/how-to-find-which-element-failed-comparison-between-arrays-in-kotlin", "title": "How to find which element failed comparison between arrays in Kotlin?", "body": "<p>I'm writing automated tests for one site. There's a page with all items added to the cart. Maximum items is 58. Instead of verification of each element one by one I decided to create 2 <code>arrays</code> filled with <code>strings</code>: 1 with correct names : <code>String</code> and 1 with names : <code>String</code> I got from the site. Then I compare those 2 arrays with <code>contentEquals</code>. \nIf that comparison fails, how do I know which element exactly caused comparison fail? </p>\n\n<p>Short simple of what I have now: </p>\n\n<pre><code>@Test\nfun verifyNamesOfAddedItems () {\n\nval getAllElementsNames = arrayOf(materials.text, element2.text, \nelement3.text...) \nval correctElementsNames = arrayOf(\"name1\", \"name2\", \"name3\"...)\nval areArraysEqual = getAllElementsNames contentEquals correctElementsNames\nif (!areArraysEqual) {\n    assert(false)\n} else {\n    assert(true)\n}\n\n}\n</code></pre>\n\n<p>This test fails if 2 arrays are not the same but it doesn't show me the details, so is there a way to see more details of fail, e.g. element that failed comparison? \nThanks. </p>\n"}, {"tags": ["android", "unit-testing", "asynchronous", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1507067955, "post_id": 46546774, "comment_id": 80062474, "body": "What versions are you using? You general approach works for me with kotlinx.coroutines verision 0.19 and Mockito version 2.10.0 (I had to configure <code>mock-maker-inline</code> to make ApiClient mockable)"}, {"owner": {"reputation": 1071, "user_id": 630485, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/100001041997293/picture?type=large", "display_name": "Justin Hammenga", "link": "https://stackoverflow.com/users/630485/justin-hammenga"}, "reply_to_user": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1507107821, "post_id": 46546774, "comment_id": 80075447, "body": "Good question. I&#39;m using Mockito 2.8.9 and Coroutines 0.18. I guess I can update the latter and see what if that would help things a bit."}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1507134042, "post_id": 46546774, "comment_id": 80093051, "body": "You should update Mockito. If my memory serves well, that version did not have support for suspending functions at all."}, {"owner": {"reputation": 3828, "user_id": 1495686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQMVJ.png?s=128&g=1", "display_name": "Bohsen", "link": "https://stackoverflow.com/users/1495686/bohsen"}, "edited": false, "score": 0, "creation_date": 1515667086, "post_id": 46546774, "comment_id": 83391030, "body": "This question was asked a while ago, but can I ask if you found a good solution for this? I am struggling with the exact same problem where I use launch(UI) in my presenter. I would like to decouple my presenter from the UI context,"}], "answers": [{"tags": [], "owner": {"reputation": 580, "user_id": 593636, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bf316da940cc0a205adcacdf74b2852c?s=128&d=identicon&r=PG", "display_name": "Lukas1", "link": "https://stackoverflow.com/users/593636/lukas1"}, "is_accepted": false, "score": 1, "last_activity_date": 1515340176, "creation_date": 1515340176, "answer_id": 48138830, "question_id": 46546774, "link": "https://stackoverflow.com/questions/46546774/clean-coroutines-usage-in-kotlin-with-unit-test-support/48138830#48138830", "title": "Clean Coroutines usage in Kotlin with Unit Test support", "body": "<p>I'd suggest an approach of having some kind of <code>AsyncRunner</code> interface and have two implementations of this <code>AsyncRunner</code> interface. One would be implementation for Android, using <code>launch(UI)</code>, and the other would be some blocking implementation, using <code>runBlocking</code>.</p>\n\n<p>Passing the right type of <code>AsyncRunner</code> into code run within app and code run in unit test should be done by dependency injection. In your code then, you'd not use coroutines directly, instead you'd use injected AsyncRunner to run asynchronous code.</p>\n\n<p>Example implementations of this <code>AsyncRunner</code> might look like this:</p>\n\n<pre><code>interface AsyncRunner {\n    fun &lt;T&gt;runAsync(task: () -&gt; T, completion: (T) -&gt; Unit)\n}\n\nclass AndroidCoroutineAsyncRunner: AsyncRunner {\n    override fun &lt;T&gt;runAsync(task: () -&gt; T, completion: (T) -&gt; Unit) {\n        launch(UI) {\n            completion(async(CommonPool) { task() }.await())\n        }\n    }\n}\n\nclass BlockingCoroutineAsyncRunner: AsyncRunner {\n    override fun &lt;T&gt;runAsync(task: () -&gt; T, completion: (T) -&gt; Unit) {\n        runBlocking {\n            completion(async(CommonPool) { task() }.await())\n        }\n    }\n}\n</code></pre>\n\n<p>where the <code>task</code> parameter represents the thread blocking code (for example fetching data from API) and <code>completion</code> parameter will get data from the task and do something with them.</p>\n"}], "owner": {"reputation": 1071, "user_id": 630485, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/100001041997293/picture?type=large", "display_name": "Justin Hammenga", "link": "https://stackoverflow.com/users/630485/justin-hammenga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 759, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1515340176, "creation_date": 1507040170, "last_edit_date": 1507040745, "question_id": 46546774, "link": "https://stackoverflow.com/questions/46546774/clean-coroutines-usage-in-kotlin-with-unit-test-support", "title": "Clean Coroutines usage in Kotlin with Unit Test support", "body": "<p>Since a while we're working with Kotlin and one of the things we're currently focussing on is using Coroutines to take care of operations we want to run async.</p>\n\n<p>While the example usages are clear and that works, I'm having some issues integrating this in a clean manner within our architecture. When looking at a method's implementation for a domain-focussed class, the idea is that it's easy to read and there is as less \"noise\" as possible from async functionality. I know I can't have async, without actually using it. So writing something like this is what I'd like:</p>\n\n<pre><code>val data = someService.getData().await()\n// work with data\n</code></pre>\n\n<p>But this is what I'd like to prevent:</p>\n\n<pre><code>launch(UI) {\n  val data \n  val job = async(CommonPool) {\n    data = someService.getData()\n  }\n\n  job.await()\n  // work with data \n}\n</code></pre>\n\n<p>That, I'd like paired with practical Unit Tests for these domain-focussed classes, but I can't really get that to work. Let's look at an example:</p>\n\n<pre><code>// Some dependency doing heavy work\nclass ApiClient {\n    suspend fun doExpensiveOperation(): String {\n        delay(1000)\n\n        return \"Expensive Result Set\"\n    }\n}\n\n// Presenter Class\nclass Presenter(private val apiClient: ApiClient,\n                private val view: TextView) {\n\n    private lateinit var data: String\n\n    fun start() {\n        log(\"Starting Presenter\")\n        runBlocking {\n            log(\"Fetching necessary data\")\n            data = apiClient.doExpensiveOperation()\n            log(\"Received necessary data\")\n        }\n\n        workWithData()\n\n        log(\"Started Presenter\")\n    }\n\n    fun workWithData() {\n        log(data)\n    }\n\n    private fun log(text: String) {\n        view.append(text+\"\\n\")\n    }\n}\n\n// In an Activity\nval presenter = Presenter(ApiClient(), someTextView)\npresenter.start()\n</code></pre>\n\n<p>That works (screenshot: <a href=\"https://imgur.com/a/xG9Xw\" rel=\"nofollow noreferrer\">https://imgur.com/a/xG9Xw</a>). Now lets look at the test.</p>\n\n<pre><code>class PresenterTest {\n    // ... Declared fields\n\n    @Before\n    fun setUp() {\n        // Init mocks (apiClient, textView)\n        MockitoAnnotations.initMocks(this)\n\n        // Set mock responses\n        runBlocking {\n            given(apiClient.doExpensiveOperation()).willReturn(\"Some Value\")\n        }\n\n        presenter = Presenter(apiClient, textView)\n    }\n\n    @Test\n    @Throws(Exception::class)\n    fun testThat_whenPresenterStarts_expectedResultShows() {\n        // When\n        presenter.start()\n\n        // Then\n        Mockito.verify(textView).text = \"Some Value\\n\"\n    }\n}\n</code></pre>\n\n<p>Now this test is less than ideal, but regardless, it never even gets to the point where it can verify things work as intended, because lateinit var data wasn't initialized. Now ultimately the aesthetics and readability of our domain classes is simply how far I want to go, which I have some practical working examples for that I'm happy with. But making my tests work seems to be challenging.</p>\n\n<p>Now there's some different write-ups online about this kind of stuff, but nothing has really worked out for me. This (<a href=\"https://medium.com/@tonyowen/android-kotlin-coroutines-unit-test-16e984ba35b4\" rel=\"nofollow noreferrer\">https://medium.com/@tonyowen/android-kotlin-coroutines-unit-test-16e984ba35b4</a>) seems interesting, but I don't like the idea of a calling class launching a context for a presenter, because that in turn has a dependency that does some async work. Although as an abstract thought I like the idea of \"Hey presenter, whatever you do, report back to me on a UI context\", it rather feels as a fix to make things work, leading to a shared concern for async functionality across different objects.</p>\n\n<p>Anyway, my question:\nMoving away from the short examples, does anyone have any pointers on how to integrate coroutines within a bigger architecture, with working unit tests? I'm also very open to arguments that make me alter my way of viewing things, given that's it's convincing on a different level than \"If you want things to work, you have to sacrifice.\". This question goes beyond just making the example work, as that is just an isolated example, while I'm looking for a real solid integration within a big project.</p>\n\n<p>Looking forward to your input. Thanks in advance.</p>\n"}, {"tags": ["java", "spring", "kotlin", "rx-kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1507038826, "post_id": 46546041, "comment_id": 80046692, "body": "rx.Scheduler is from RxJava 1.x"}, {"owner": {"reputation": 3543, "user_id": 2250391, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/15bc2d6957cfdc93bf5f253161503bcf?s=128&d=identicon&r=PG", "display_name": "youhans", "link": "https://stackoverflow.com/users/2250391/youhans"}, "reply_to_user": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1507039757, "post_id": 46546041, "comment_id": 80047340, "body": "@RafalG. Thanks. Please post your comment as an answer so I can accept it."}], "answers": [{"tags": [], "owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "is_accepted": true, "score": 2, "last_activity_date": 1507041470, "creation_date": 1507041470, "answer_id": 46547211, "question_id": 46546041, "link": "https://stackoverflow.com/questions/46546041/spring-5-and-kotlin-1-1-coroutines-type-rx-scheduler-not-present/46547211#46547211", "title": "Spring 5 and Kotlin 1.1 Coroutines: Type rx.Scheduler not present", "body": "<p>You need to use RxJava 1 because it is where class rx.Schedulers is defined.</p>\n"}], "owner": {"reputation": 3543, "user_id": 2250391, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/15bc2d6957cfdc93bf5f253161503bcf?s=128&d=identicon&r=PG", "display_name": "youhans", "link": "https://stackoverflow.com/users/2250391/youhans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "accepted_answer_id": 46547211, "answer_count": 1, "score": 0, "last_activity_date": 1507112344, "creation_date": 1507038121, "last_edit_date": 1507112344, "question_id": 46546041, "link": "https://stackoverflow.com/questions/46546041/spring-5-and-kotlin-1-1-coroutines-type-rx-scheduler-not-present", "title": "Spring 5 and Kotlin 1.1 Coroutines: Type rx.Scheduler not present", "body": "<p>I'm using Kotlin 1.1.4-3 with Spring-context 5.0.0.RELEASE. </p>\n\n<p>On starting project I get this error:</p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'coroutineAnnotationBeanPostProcessor' defined in class path resource [org/springframework/kotlin/experimental/coroutine/context/ProxyCoroutineConfiguration.class]: Unsatisfied dependency expressed through method 'coroutineAnnotationBeanPostProcessor' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'globalCoroutineContextResolver' defined in class path resource [org/springframework/kotlin/experimental/coroutine/context/CoroutineContextResolverConfiguration.class]: Unexpected exception during bean creation; nested exception is java.lang.reflect.InvocationTargetException\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:723)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:458)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1249)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1098)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'globalCoroutineContextResolver' defined in class path resource [org/springframework/kotlin/experimental/coroutine/context/CoroutineContextResolverConfiguration.class]: Unexpected exception during bean creation; nested exception is java.lang.reflect.InvocationTargetException\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:518)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1133)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1060)\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:809)\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:715)\nCaused by: java.lang.reflect.InvocationTargetException: null\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at kotlin.reflect.jvm.internal.impl.load.kotlin.reflect.ReflectClassStructure.processAnnotationArguments(ReflectKotlinClass.kt:173)\n        at kotlin.reflect.jvm.internal.impl.load.kotlin.reflect.ReflectClassStructure.processAnnotation(ReflectKotlinClass.kt:162)\n        at kotlin.reflect.jvm.internal.impl.load.kotlin.reflect.ReflectClassStructure.loadMethodAnnotations(ReflectKotlinClass.kt:97)\n        at kotlin.reflect.jvm.internal.impl.load.kotlin.reflect.ReflectClassStructure.visitMembers(ReflectKotlinClass.kt:87)\n        at kotlin.reflect.jvm.internal.impl.load.kotlin.reflect.ReflectKotlinClass.visitMembers(ReflectKotlinClass.kt:68)\n        at kotlin.reflect.jvm.internal.impl.load.kotlin.AbstractBinaryClassAnnotationAndConstantLoader.loadAnnotationsAndInitializers(AbstractBinaryClassAnnotationAndConstantLoader.kt:257)\nCaused by: java.lang.TypeNotPresentException: Type rx.Scheduler not present\n        at sun.reflect.annotation.TypeNotPresentExceptionProxy.generateException(TypeNotPresentExceptionProxy.java:46)\n        at sun.reflect.annotation.AnnotationInvocationHandler.invoke(AnnotationInvocationHandler.java:84)\n        at com.sun.proxy.$Proxy166.value(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at kotlin.reflect.jvm.internal.impl.load.kotlin.reflect.ReflectClassStructure.processAnnotationArguments(ReflectKotlinClass.kt:173)\n        at kotlin.reflect.jvm.internal.impl.load.kotlin.reflect.ReflectClassStructure.processAnnotation(ReflectKotlinClass.kt:162)\n        at kotlin.reflect.jvm.internal.impl.load.kotlin.reflect.ReflectClassStructure.loadMethodAnnotations(ReflectKotlinClass.kt:97)\nCaused by: java.lang.ClassNotFoundException: rx.Scheduler\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)\n        at sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125)\n        at sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\n        at sun.reflect.annotation.AnnotationParser.parseSig(AnnotationParser.java:439)\n        at sun.reflect.annotation.AnnotationParser.parseClassValue(AnnotationParser.java:420)\n</code></pre>\n\n<p>It seems spring is looking for <code>rx.Scheduler</code> class but it's not in the classpath. It's obvious that corresponding dependency of <code>rx.Scheduler</code> is not added. but I couldn't find anything relevant on the Internet.</p>\n\n<p>I added RxJava2 (<code>io.reactivex.rxjava2</code>) to project but it didn't work.\n What can I do?</p>\n\n<p>Final Answer - based on Rafal G. response:</p>\n\n<p>This error is because of using <a href=\"https://github.com/konrad-kaminski/spring-kotlin-coroutine\" rel=\"nofollow noreferrer\">konrad-kaminski/spring-kotlin-coroutine</a> library.\nHowever, I used these dependencies in my project:</p>\n\n<pre><code>  \"org.springframework.kotlin\" % \"spring-kotlin-coroutine\" % \"0.2.2\" exclude(\"org.jetbrains.kotlinx\", \"kotlinx-coroutines\"),\n\n  \"org.springframework\" % \"spring-context\" % \"5.0.0.RELEASE\",\n  \"org.springframework.data\" % \"spring-data-jpa\" % \"2.0.0.RELEASE\",\n\n  // https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxjava\n  \"io.reactivex.rxjava2\" % \"rxjava\" % \"2.1.4\",\n\n  // https://mvnrepository.com/artifact/io.reactivex/rxjava\n  \"io.reactivex\" % \"rxjava\" % \"1.3.2\",\n\n  // https://mvnrepository.com/artifact/io.projectreactor/reactor-core\n  \"io.projectreactor\" % \"reactor-core\" % \"3.1.0.RELEASE\"\n</code></pre>\n"}, {"tags": ["android", "azure", "kotlin", "azure-mobile-services", "azure-sdk"], "answers": [{"tags": [], "owner": {"reputation": 6188, "user_id": 172690, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3759fa3ad04a0fd20729382956f24a3?s=128&d=identicon&r=PG", "display_name": "Grzegorz Adam Hankiewicz", "link": "https://stackoverflow.com/users/172690/grzegorz-adam-hankiewicz"}, "is_accepted": true, "score": 0, "last_activity_date": 1507042285, "creation_date": 1507042285, "answer_id": 46547464, "question_id": 46544186, "link": "https://stackoverflow.com/questions/46544186/azure-mobile-app-framework-with-android-kotlin-only/46547464#46547464", "title": "Azure Mobile App framework with Android (Kotlin only)", "body": "<p>The <a href=\"https://docs.microsoft.com/en-us/azure/app-service-mobile/app-service-mobile-android-how-to-use-client-library\" rel=\"nofollow noreferrer\">Azure Mobile Apps SDK</a> mentions only Java, but you should be able to replace all Java code with Kotlin since both compile to JVM bytecode.</p>\n"}], "owner": {"reputation": 47, "user_id": 8563852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pg7qw.jpg?s=128&g=1", "display_name": "F. Sviatoslav", "link": "https://stackoverflow.com/users/8563852/f-sviatoslav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 46547464, "answer_count": 1, "score": 0, "last_activity_date": 1507042285, "creation_date": 1507032207, "question_id": 46544186, "link": "https://stackoverflow.com/questions/46544186/azure-mobile-app-framework-with-android-kotlin-only", "title": "Azure Mobile App framework with Android (Kotlin only)", "body": "<p>Is it possible to work with Azure Mobile App Service framework on Android app with Kotlin code only ?</p>\n"}, {"tags": ["java", "android", "kotlin", "interop", "android-architecture-components"], "answers": [{"comments": [{"owner": {"reputation": 50650, "user_id": 3182664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2s35X.png?s=128&g=1", "display_name": "Marco13", "link": "https://stackoverflow.com/users/3182664/marco13"}, "edited": false, "score": 0, "creation_date": 1507080678, "post_id": 46552225, "comment_id": 80065487, "body": "Can you add a link to the compiler source code? (or to a specification where this is explained?) (Or did you find the answer by trying it out?)"}, {"owner": {"reputation": 414, "user_id": 377971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b10f6c2a3cbcec394422bfa0177245c?s=128&d=identicon&r=PG", "display_name": "Beholder", "link": "https://stackoverflow.com/users/377971/beholder"}, "reply_to_user": {"reputation": 50650, "user_id": 3182664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2s35X.png?s=128&g=1", "display_name": "Marco13", "link": "https://stackoverflow.com/users/3182664/marco13"}, "edited": false, "score": 0, "creation_date": 1507095794, "post_id": 46552225, "comment_id": 80069322, "body": "I think it&#39;s not really documented, just tried out myself. For more specific, it&#39;s better to ask Kotlin developers. One of them told me what there was an issue in bug tracker for that."}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 0, "creation_date": 1507102788, "post_id": 46552225, "comment_id": 80072674, "body": "Oh, I think I get that. So the problem is that my <code>OneMethod</code> and Android&#39;s <code>LifecycleOwner</code> are SAM-interfaces. Too bad that&#39;s only by accident, really, because I doubt <code>LifecycleOwner</code> is meant to be used the way <code>Runnable</code> is used for example, we would never define anonymous classes for it in Java, the interface is instead implemented by <code>AppCompatActivity</code> base class."}], "tags": [], "owner": {"reputation": 414, "user_id": 377971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b10f6c2a3cbcec394422bfa0177245c?s=128&d=identicon&r=PG", "display_name": "Beholder", "link": "https://stackoverflow.com/users/377971/beholder"}, "is_accepted": false, "score": 2, "last_activity_date": 1507059850, "creation_date": 1507059850, "answer_id": 46552225, "question_id": 46542037, "link": "https://stackoverflow.com/questions/46542037/cant-replace-sam-constructor-with-lambda-when-first-argument-is-a-class-with-on/46552225#46552225", "title": "Can&#39;t replace SAM-constructor with lambda when first argument is a class with one method", "body": "<p>I found a rule in compiler: if Java-method call requires types which is SAM-interfaces, then you can replace them with lambdas (or functions), <strong>but</strong> either <strong>all</strong> such parameters, <strong>or none</strong> of them.</p>\n\n<p>So, you have method: <code>public void observe(OneMethod one, Observer&lt;T&gt; observer)</code>.\nBoth parameters is SAM candidates. You can call:<br/>\n<code>observer(object1,   object2)</code><br/>\nor:<br/>\n<code>observer(function1, function2)</code></p>\n\n<p>but <strong>not</strong>:<br/>\n<code>observer(object1,   function2)</code><br/>\nand <strong>not</strong>:<br/>\n<code>observer(function1, object2)</code></p>\n\n<p>Same behaviour will be even in case of 3 or more parameters.\nThe cause of this is technical difficulty in compiler design.</p>\n\n<p>Sorry if I am not very clear, I'm not very good in English.</p>\n"}, {"tags": [], "owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "is_accepted": true, "score": 1, "last_activity_date": 1584971504, "last_edit_date": 1584971504, "creation_date": 1527747732, "answer_id": 50617880, "question_id": 46542037, "link": "https://stackoverflow.com/questions/46542037/cant-replace-sam-constructor-with-lambda-when-first-argument-is-a-class-with-on/50617880#50617880", "title": "Can&#39;t replace SAM-constructor with lambda when first argument is a class with one method", "body": "<p>This will be fixed in Kotlin 1.4, see <a href=\"https://blog.jetbrains.com/kotlin/2020/03/kotlin-1-4-m1-released/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/kotlin/2020/03/kotlin-1-4-m1-released/</a></p>\n\n<blockquote>\n  <p>Kotlin has supported SAM conversions for Java interfaces from the beginning, but there was one case that wasn\u2019t supported, which was sometimes annoying when working with existing Java libraries. If you called a Java method that took two SAM interfaces as parameters, both arguments need to be either lambdas or regular objects. It wasn\u2019t possible to pass one argument as a lambda and another as an object. The new algorithm fixes this issue, and you can pass a lambda instead of a SAM interface in any case, which is the way you\u2019d naturally expect it to work.</p>\n</blockquote>\n\n<hr>\n\n<p>With the upcoming new type inference, this issue will be fixed in the Kotlin compiler. Experimental type inference can be enabled now (Kotlin 1.3 required) in an Android project by adding this to your module-level gradle file:</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        freeCompilerArgs = [\"-XXLanguage:+NewInference\"]\n    }\n}\n</code></pre>\n\n<p>It is supposed to be possible to enable it with just (but <a href=\"https://discuss.kotlinlang.org/t/new-type-inference-in-kotlin-1-3-0-rc-190/9914\" rel=\"nofollow noreferrer\">it doesn't quite work yet</a>):</p>\n\n<pre><code>kotlin {\n    experimental {\n        newInference = \"enable\"\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Beholder wrote:</p>\n\n<blockquote>\n  <p>The cause of this is technical difficulty in compiler design</p>\n</blockquote>\n\n<p>The way I see it, Kotlin compiler doesn't want to generate <code>2^n</code> variants for a method that has <code>n</code> parameters that are eligible for SAM conversion, so instead it generates only two variants: the one where all are lambdas and the one where there are no lambdas</p>\n\n<p>There's a related issue on YouTrack: <a href=\"https://youtrack.jetbrains.net/issue/KT-14984\" rel=\"nofollow noreferrer\">Impossible to pass not all SAM argument as function</a></p>\n"}], "owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1210, "favorite_count": 2, "accepted_answer_id": 50617880, "answer_count": 2, "score": 9, "last_activity_date": 1584971504, "creation_date": 1507025075, "last_edit_date": 1510304247, "question_id": 46542037, "link": "https://stackoverflow.com/questions/46542037/cant-replace-sam-constructor-with-lambda-when-first-argument-is-a-class-with-on", "title": "Can&#39;t replace SAM-constructor with lambda when first argument is a class with one method", "body": "<p>I\u2019m puzzled over SAM constructors, I have this Java class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class TestSam&lt;T&gt; {\n\n    public void observe(ZeroMethods zero, Observer&lt;T&gt; observer) {\n    }\n\n    public void observe(OneMethod one, Observer&lt;T&gt; observer) {\n    }\n\n    public void observe(TwoMethods two, Observer&lt;T&gt; observer) {\n    }\n\n    public interface Observer&lt;T&gt; {\n        void onChanged(@Nullable T t);\n    }\n\n    public interface ZeroMethods {\n    }\n\n    public interface OneMethod {\n        First getFirst();\n    }\n\n    public interface TwoMethods {\n        First getFirst();\n\n        Second getSecond();\n    }\n\n    public interface First {\n    }\n\n    public interface Second {\n    }\n}\n</code></pre>\n\n<p>And this Kotlin code:</p>\n\n<pre><code>fun testSam(\n        test: TestSam&lt;String&gt;,\n        zero: TestSam.ZeroMethods,\n        one: TestSam.OneMethod,\n        two: TestSam.TwoMethods\n) {\n    test.observe(zero) { println(\"onChanged $it\") } // 1. compiles\n    test.observe(zero, TestSam.Observer { println(\"onChanged $it\") }) // 2. Redundant SAM-constructor\n\n    test.observe(one) { println(\"onChanged $it\") } // 3. doesn't compile\n    test.observe({ one.first }) { println(\"onChanged $it\") } // 4. compiles\n    test.observe(one, TestSam.Observer { println(\"onChanged $it\") }) // 5. compiles\n\n    test.observe(two) { println(\"onChanged $it\") } // 6. compiles\n    test.observe(two, TestSam.Observer { println(\"onChanged $it\") }) // 7. Redundant SAM-constructor\n}\n</code></pre>\n\n<p>What's the deal here? Why can't Kotlin figure out 3. (and provides the special variant 4.), but handles all other cases?</p>\n\n<hr>\n\n<p>The rationale for this code is <code>LiveData&lt;T&gt;.observe(LifecycleOwner owner, Observer&lt;T&gt; observer)</code> method in Android, where <code>LifecycleOwner</code> has one method <code>getLifecycle()</code>.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 2167, "user_id": 2056614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/944fa11045aecce60198dd0dd4179852?s=128&d=identicon&r=PG", "display_name": "PunitD", "link": "https://stackoverflow.com/users/2056614/punitd"}, "edited": false, "score": 0, "creation_date": 1507095636, "post_id": 46541929, "comment_id": 80069248, "body": "Can you post the screencast of what you are trying to achieve and what is currently happening?"}, {"owner": {"reputation": 1320, "user_id": 5502638, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cMg8M.jpg?s=128&g=1", "display_name": "Akash Dubey", "link": "https://stackoverflow.com/users/5502638/akash-dubey"}, "reply_to_user": {"reputation": 2167, "user_id": 2056614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/944fa11045aecce60198dd0dd4179852?s=128&d=identicon&r=PG", "display_name": "PunitD", "link": "https://stackoverflow.com/users/2056614/punitd"}, "edited": false, "score": 0, "creation_date": 1507098760, "post_id": 46541929, "comment_id": 80070537, "body": "@Droidwala Done"}, {"owner": {"reputation": 2167, "user_id": 2056614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/944fa11045aecce60198dd0dd4179852?s=128&d=identicon&r=PG", "display_name": "PunitD", "link": "https://stackoverflow.com/users/2056614/punitd"}, "edited": false, "score": 0, "creation_date": 1507105934, "post_id": 46541929, "comment_id": 80074355, "body": "looks like Viewholder problem somewhere. Will have to replicate code locally to figure out the actual problem."}, {"owner": {"reputation": 1320, "user_id": 5502638, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cMg8M.jpg?s=128&g=1", "display_name": "Akash Dubey", "link": "https://stackoverflow.com/users/5502638/akash-dubey"}, "reply_to_user": {"reputation": 2167, "user_id": 2056614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/944fa11045aecce60198dd0dd4179852?s=128&d=identicon&r=PG", "display_name": "PunitD", "link": "https://stackoverflow.com/users/2056614/punitd"}, "edited": false, "score": 1, "creation_date": 1507110887, "post_id": 46541929, "comment_id": 80077389, "body": "Currently I have solved my problem by changing the ImageView to View"}], "answers": [{"tags": [], "owner": {"reputation": 2194, "user_id": 850734, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4ZeuC.png?s=128&g=1", "display_name": "Lisa Wray", "link": "https://stackoverflow.com/users/850734/lisa-wray"}, "is_accepted": true, "score": 1, "last_activity_date": 1509339734, "creation_date": 1509339734, "answer_id": 47008394, "question_id": 46541929, "link": "https://stackoverflow.com/questions/46541929/background-color-and-image-shuffling-on-scroll-in-recyclerview-android-using-gro/47008394#47008394", "title": "Background Color and Image shuffling on Scroll in recyclerView Android using Group Adapter", "body": "<p>Author of the library here.  You have several problems in your posted code.  </p>\n\n<p>For starters, you shouldn't be calling <code>executePendingBindings</code> or <code>notifyChange</code>.  You aren't using the feature of data binding where you bind a model object, so both of those are unnecessary. </p>\n\n<p>Second, the whole point of Groupie (especially with data binding) is that you shouldn't have to create your own ViewHolder.  In fact, yours isn't doing anything.  You can move all the code from your <code>ViewHolder</code> class into <code>FilterByAthleteTypeItem.bind()</code>.</p>\n\n<p>Last, your problem with images loading in the wrong spots, or duplicated, is a very common issue in RecyclerViews.  You didn't post your image loading code, but I'm guessing it's asynchronously loading images -- meaning they load into a certain view, regardless of whether it's been recycled -- and/or failing to clear the old image from reused viewholders.  I recommend you avoid dealing with this problem entirely by using an image loading library like Picasso or Glide.</p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 1320, "user_id": 5502638, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cMg8M.jpg?s=128&g=1", "display_name": "Akash Dubey", "link": "https://stackoverflow.com/users/5502638/akash-dubey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1100, "favorite_count": 1, "accepted_answer_id": 47008394, "answer_count": 1, "score": 0, "last_activity_date": 1509339734, "creation_date": 1507024775, "last_edit_date": 1507098741, "question_id": 46541929, "link": "https://stackoverflow.com/questions/46541929/background-color-and-image-shuffling-on-scroll-in-recyclerview-android-using-gro", "title": "Background Color and Image shuffling on Scroll in recyclerView Android using Group Adapter", "body": "<p>Below is my <code>BindableItem</code> Class which also act as an <code>adapter</code> while using Groupie</p>\n\n<pre><code>class FilterByAthleteTypeItem(var athleteResponse: AthleteModel, var onFilterAthleteItemClick: OnFilterAthleteItemClick) : BindableItem&lt;FilterItemLayoutBinding&gt;() {\n\noverride fun bind(viewBinding: FilterItemLayoutBinding, position: Int) {\n    ViewHolder(viewBinding, position)\n    viewBinding.executePendingBindings()\n    viewBinding.notifyChange()\n}\n\noverride fun getLayout(): Int {\n    return R.layout.filter_item_layout\n}\n\n\ninner class ViewHolder(var binding: FilterItemLayoutBinding, position: Int) : RecyclerView.ViewHolder(binding.root), View.OnClickListener {\n    override fun onClick(p0: View?) {\n        athleteResponse.isChecked = binding.playlistSwitch.isChecked\n        onFilterAthleteItemClick.onFilterAthleteClicked(athleteResponse)\n        notifyChanged()\n    }\n\n    init {\n        val athleteModel = athleteResponse\n        binding.totalItems.text = athleteModel.areelCount.toString()\n        binding.playlistSwitch.isChecked = athleteModel.isChecked\n        binding.sportName.text = athleteModel.athleteType\n        binding.playlistSwitch.setOnClickListener(this)\n\n        when {\n            athleteModel.athleteType == \"highschool\" -&gt; binding.playerLevelImage.setBackgroundColor(\n                    ContextCompat.getColor(binding.root.context, R.color.black))\n            athleteModel.athleteType == \"college\" -&gt; binding.playerLevelImage.setBackgroundColor(\n                    ContextCompat.getColor(binding.root.context, R.color\n                            .college))\n            athleteModel.athleteType == \"pro\" -&gt; binding.playerLevelImage.setBackgroundColor(\n                    ContextCompat.getColor(binding.root.context, R.color.pro))\n            athleteModel.athleteType == \"enthusiast\" -&gt; binding.playerLevelImage.setBackgroundColor(\n                    ContextCompat.getColor(binding.root.context,\n                            R.color.enthusiast))\n            athleteModel.athleteType == \"military\" -&gt; binding.playerLevelImage.setBackgroundColor(\n                    ContextCompat.getColor(binding.root.context,\n                            R.color.text_color_9b))\n            else -&gt; binding.playerLevelImage.setBackgroundColor(\n                    ContextCompat.getColor(binding.root.context,\n                            R.color.white))\n        }\n\n    }\n\n   }\n  }\n\n interface OnFilterAthleteItemClick {\n fun onFilterAthleteClicked(athleteModel: AthleteModel)\n }\n</code></pre>\n\n<p>Here is how I used it in MyActivity</p>\n\n<pre><code>    Section section = new Section();\n    section.setHeader(headerItemGroupie);\n    if (!Utils.isNull(athleteModelList))\n\n        for (int i = 0; i &lt; athleteModelList.size(); i++) {\n            AthleteModel athleteModel = athleteModelList.get(i);\n            athleteModel.setPosition(i);\n            athleteModelList.remove(i);\n            athleteModelList.add(i, athleteModel);\n            section.add(new FilterByAthleteTypeItem(athleteModelList.get(i), this));\n        }\n    groupAdapter.add(section);\n</code></pre>\n\n<p>Below is my layout Item file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@color/white\"\n    android:orientation=\"horizontal\"&gt;\n\n    &lt;com.areel.android.customview.CustomTextView\n        android:id=\"@+id/totalItems\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center\"\n        android:layout_marginStart=\"28dp\"\n        android:layout_weight=\"1.7\"\n        android:paddingBottom=\"18dp\"\n        android:paddingTop=\"18dp\"\n        android:textColor=\"@color/text_color_9b\"\n        android:textSize=\"12sp\"\n        app:fontPath=\"@string/font_avenir_heavy\"\n        app:letterSpacing=\"0.154\"\n        tools:text=\"14,932\"/&gt;\n\n    &lt;com.areel.android.customview.CustomTextView\n        android:id=\"@+id/sportName\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center\"\n        android:layout_marginEnd=\"16dp\"\n        android:layout_weight=\"1\"\n        android:gravity=\"end\"\n        android:textAllCaps=\"true\"\n        android:textColor=\"@color/black\"\n        android:textSize=\"12sp\"\n        app:fontPath=\"@string/font_avenir_heavy\"\n        app:letterSpacing=\"0.3\"\n        tools:text=\"NAME OF SPORT\"/&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/frameLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"1.8\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/playerLevelImage\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_marginStart=\"21dp\"\n            android:scaleType=\"fitXY\"/&gt;\n\n        &lt;android.support.v7.widget.AppCompatCheckBox\n            android:id=\"@+id/playlistSwitch\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_gravity=\"center\"\n            android:button=\"@drawable/switch_on_off\"/&gt;\n    &lt;/FrameLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>and here is my <code>recyclerView</code> in <code>layout</code></p>\n\n<pre><code> &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/filter_list_recycler_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/showFriendLayout\"\n        android:clipChildren=\"false\"\n        android:clipToPadding=\"false\"&gt;\n    &lt;/android.support.v7.widget.RecyclerView&gt;\n</code></pre>\n\n<p>Now when I scroll the <code>recyclerView</code> the background color and Image start shuffling means respective positions of background color doesn't remain appropriate while scrolling\nthe major problem is the last item has an image as a background, and when I scroll that Image overlaps other backgrounds and shuffle happened\nBut there is now way to change that image to color so I need more robust solution!!</p>\n\n<p>I am adding the screen shots here\nFirst one, What I have done</p>\n\n<p><a href=\"https://i.stack.imgur.com/wCMR5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wCMR5.jpg\" alt=\"What I have done\"></a></p>\n\n<p>And I check items and Scrolls the recyclerview then that last image shuffles its position like below image\nThe FIfth Image also shuffles on Down side</p>\n\n<p><a href=\"https://i.stack.imgur.com/YmSQU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YmSQU.jpg\" alt=\"Issue is\"></a></p>\n"}, {"tags": ["android", "time", "kotlin"], "comments": [{"owner": {"reputation": 3964, "user_id": 5188516, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-Rm8h7GXYYB4/AAAAAAAAAAI/AAAAAAAAABw/ZrJ_i_mACi0/photo.jpg?sz=128", "display_name": "Abdul Waheed", "link": "https://stackoverflow.com/users/5188516/abdul-waheed"}, "edited": false, "score": 0, "creation_date": 1507019567, "post_id": 46540314, "comment_id": 80034735, "body": "what is the problem you are facing?"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 3964, "user_id": 5188516, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-Rm8h7GXYYB4/AAAAAAAAAAI/AAAAAAAAABw/ZrJ_i_mACi0/photo.jpg?sz=128", "display_name": "Abdul Waheed", "link": "https://stackoverflow.com/users/5188516/abdul-waheed"}, "edited": false, "score": 0, "creation_date": 1507019790, "post_id": 46540314, "comment_id": 80034858, "body": "Getting very weird results... I don&#39;t know how to work with the time. Tried the math you&#39;re seeing but it doesn&#39;t work."}, {"owner": {"reputation": 3964, "user_id": 5188516, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-Rm8h7GXYYB4/AAAAAAAAAAI/AAAAAAAAABw/ZrJ_i_mACi0/photo.jpg?sz=128", "display_name": "Abdul Waheed", "link": "https://stackoverflow.com/users/5188516/abdul-waheed"}, "edited": false, "score": 0, "creation_date": 1507019863, "post_id": 46540314, "comment_id": 80034901, "body": "what is the result you are getting and what are you expecting?"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 3964, "user_id": 5188516, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-Rm8h7GXYYB4/AAAAAAAAAAI/AAAAAAAAABw/ZrJ_i_mACi0/photo.jpg?sz=128", "display_name": "Abdul Waheed", "link": "https://stackoverflow.com/users/5188516/abdul-waheed"}, "edited": false, "score": 0, "creation_date": 1507020193, "post_id": 46540314, "comment_id": 80035082, "body": "Double checking"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 3964, "user_id": 5188516, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-Rm8h7GXYYB4/AAAAAAAAAAI/AAAAAAAAABw/ZrJ_i_mACi0/photo.jpg?sz=128", "display_name": "Abdul Waheed", "link": "https://stackoverflow.com/users/5188516/abdul-waheed"}, "edited": false, "score": 0, "creation_date": 1507020517, "post_id": 46540314, "comment_id": 80035263, "body": "For instance.. If I put 10Km distance and 10:00 (minutes and seconds) the result should be 1:00 (the pace) and I get 10:00. If I put 11:00 (or 10:60) the result should be 1:06. Although on my app I get 1:25 :/"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "edited": false, "score": 0, "creation_date": 1507020789, "post_id": 46540314, "comment_id": 80035424, "body": "What you want as output ? Pace per KM ? What are inputs ?"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507021001, "post_id": 46540314, "comment_id": 80035560, "body": "What do you mean? Perhaps it is simple to explain the end goal. The end goal is for the user to always input the distance (first plain text); then either input the time he wants to finish it in (second plain text) which will give him the pace (how fast does he have to run/walk). OR, put the pace(third plain text) instead of the time and receive on how long he has to do it."}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507022671, "post_id": 46540314, "comment_id": 80036629, "body": "Any ideas on what the problem might be? :)"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "edited": false, "score": 0, "creation_date": 1507022886, "post_id": 46540314, "comment_id": 80036756, "body": "I understood what you want working on it give me few minutes"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "edited": false, "score": 0, "creation_date": 1507023149, "post_id": 46540314, "comment_id": 80036924, "body": "Thanks. DO you want the full code @RajeshDalsaniya ?"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "edited": false, "score": 0, "creation_date": 1507023434, "post_id": 46540314, "comment_id": 80037111, "body": "Nope I will provide you logic you can add in your code later on."}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "edited": false, "score": 0, "creation_date": 1507025759, "post_id": 46540314, "comment_id": 80038445, "body": "I managed to calculate Pace working on other part. Hold on for few more minutes."}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507025850, "post_id": 46540314, "comment_id": 80038497, "body": "Of course. I noticed for some reason this doesnt work: var total = stringArray[0].toDouble()             total += (stringArray[1].toDouble() * 0.60)   It does not multiply my number"}], "answers": [{"comments": [{"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507199221, "post_id": 46542845, "comment_id": 80119549, "body": "Try this <code>val calculatedDistance = timeToSeconds(time).toDouble().div(timeToSeconds(pace.toStri&zwnj;&#8203;ng()).toDouble())</code>"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507199433, "post_id": 46542845, "comment_id": 80119670, "body": "it worked! just need to format it to two decimals! wow thanks. Can you explain it to me, as in why it works? Thanks"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507199931, "post_id": 46542845, "comment_id": 80119998, "body": "We converting time to Seconds threw function which returning Long Value and we don&#39;t assign any type for calculatedDistance by default for that reason wrong result was coming. What we did here we converted both value to double to .32023 all value preserved after . (dot) in division process and stored in calculatedDistance"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507200733, "post_id": 46542845, "comment_id": 80120491, "body": "If answer is right for you then mark as answered thanks :)"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507200924, "post_id": 46542845, "comment_id": 80120613, "body": "Thanks just did. Just one last thing: why do when I do the calculation for the time/pace the result rounds down ? so, If I put 1min:37s for 10km distance, the pace should be 00m:10s but my calculator gives me 00:09"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507201351, "post_id": 46542845, "comment_id": 80120900, "body": "Its round off issue"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507201617, "post_id": 46542845, "comment_id": 80121051, "body": "Creates a type conflict in Log.i and result.text. I tried to passs .toLong on them so the error would go away but it doesn&#39;t o.O"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507201667, "post_id": 46542845, "comment_id": 80121077, "body": "so that can&#39;t be fixed?"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507201722, "post_id": 46542845, "comment_id": 80121105, "body": "You need to look in   // Convert Seconds to Time function I cant look in more right now working on other stuff"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507274086, "post_id": 46542845, "comment_id": 80152304, "body": "Morning Rajesh. I just noticed that actually the code you gave me doesn&#39;t work properly. The converter has a problem. Mind having a look? I can show you what I have tried. Thanks\\"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507316636, "post_id": 46542845, "comment_id": 80176717, "body": "I am bit busy will look in it by end of this week"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1507545478, "post_id": 46542845, "comment_id": 80237805, "body": "So I edited my question so you could see what I have. It is pretty much what you gave me but with some tweaks. What I notices is that it doesn&#39;t convert my distance properly and I don&#39;t know why. Let&#39;s say I convert 7.37Km to Miles. It should give me 4.58 Miles but I get 4.35 Miles, as if I am multiplying by 0.59  which I am not. I am multiplying by 0.621371"}], "tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": true, "score": 0, "last_activity_date": 1507031927, "last_edit_date": 1507031927, "creation_date": 1507027872, "answer_id": 46542845, "question_id": 46540314, "link": "https://stackoverflow.com/questions/46540314/android-kotlin-calculate-pace-time/46542845#46542845", "title": "Android Kotlin calculate pace (time)", "body": "<p>Keep field empty which you want to calculate.</p>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>        package com.example.wave18.pacecalculator\n\nimport android.annotation.SuppressLint\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.util.Log\nimport android.view.View\nimport android.widget.TextView\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.text.SimpleDateFormat\n\n\nclass MainActivity : AppCompatActivity() {\n    // Regex for Checking Input time Format\n    val regex = Regex(\"^([0-1]\\\\d|2[0-3]):([0-5]\\\\d):([0-5]\\\\d)\\$\")\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val time = findViewById&lt;View&gt;(R.id.time) as TextView\n        val distance = findViewById&lt;View&gt;(R.id.distance) as TextView\n        val pace = findViewById&lt;View&gt;(R.id.pace) as TextView\n\n\n        calculate.setOnClickListener {\n\n            when {\n\n\n                time.text.isEmpty() &amp;&amp; (distance.text.isNotEmpty() &amp;&amp; pace.text.isNotEmpty()) -&gt; {\n\n                    if (regex.matches(pace.text)) {\n                        calculatePace(null, distance.text.toString(), pace.text.toString())\n                    } else {\n                        // SHOW ERROR\n                    }\n\n\n                }\n\n                distance.text.isEmpty() &amp;&amp; (time.text.isNotEmpty() &amp;&amp; pace.text.isNotEmpty()) -&gt; calculatePace(time.text.toString(), null, pace.text.toString())\n\n                pace.text.isEmpty() &amp;&amp; (time.text.isNotEmpty() &amp;&amp; distance.text.isNotEmpty()) -&gt; calculatePace(time.text.toString(), distance.text.toString(), null)\n\n                else -&gt; {\n                    Log.i(\"Error\", \"Something wrong You need to enter / empty values\")\n                }\n\n            }\n        }\n\n    }\n\n\n    @SuppressLint(\"SetTextI18n\")\n    private fun calculatePace(time: String?, distance: String?, pace: String?) {\n\n\n        when {\n        // TIME: To calculate your time, fill in your distance and pace\n            time == null -&gt; {\n                val calulatedTime = distance!!.toLong() * timeToSeconds(pace.toString())\n                result.text = \"The runner's time is ${secondsToTime(calulatedTime)}\"\n            }\n        // DISTANCE: To calculate your distance, fill in your time and pace\n            distance == null -&gt; {\n                val calculatedDistance = timeToSeconds(time).toDouble().div(timeToSeconds(pace.toString()))\n                result.text = \"Distance is $calculatedDistance KM\"\n            }\n        // PACE: To calculate your pace, fill in your time and distance\n            pace == null -&gt; {\n                // Calculate Pace\n                val calculatedPace: Long = timeToSeconds(time).toLong() / distance.toLong()\n\n                Log.i(\"PaceSeconds\", calculatedPace.toString() + secondsToTime(calculatedPace))\n\n\n                result.text = \"The runner's pace is ${secondsToTime(calculatedPace)}\"\n            }\n        }\n    }\n\n    // Convert Time to Seconds\n    @SuppressLint(\"SimpleDateFormat\")\n    private fun timeToSeconds(time: String): Long {\n        val dateFormat = SimpleDateFormat(\"HH:mm:ss\")\n        val reference = dateFormat.parse(\"00:00:00\")\n        val date = dateFormat.parse(time)\n        val seconds = (date.time - reference.time) / 1000L\n\n        return seconds\n    }\n\n\n    // Convert Seconds to Time\n    private fun secondsToTime(seconds: Long): String {\n        val hours = seconds / 3600\n        val minutes = (seconds % 3600) / 60\n        val seconds = seconds % 60\n\n        val timeString = String.format(\"%02d:%02d:%02d\", hours, minutes, seconds)\n        return timeString\n    }\n}\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.example.wave18.pacecalculator.MainActivity\"&gt;\n\n    &lt;EditText\n        android:id=\"@+id/time\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"107dp\"\n        android:layout_marginStart=\"62dp\"\n        android:layout_marginTop=\"87dp\"\n        android:ems=\"10\"\n        android:inputType=\"textPersonName\"\n        android:text=\"01:10:10\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/distance\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"106dp\"\n        android:layout_marginStart=\"63dp\"\n        android:layout_marginTop=\"28dp\"\n        android:ems=\"10\"\n        android:inputType=\"textPersonName\"\n        android:text=\"10\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/time\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/pace\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"107dp\"\n        android:layout_marginStart=\"62dp\"\n        android:layout_marginTop=\"25dp\"\n        android:ems=\"10\"\n        android:inputType=\"textPersonName\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/distance\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/result\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"24dp\"\n        android:layout_marginStart=\"24dp\"\n        android:layout_marginTop=\"53dp\"\n        android:text=\"TextView\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/pace\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/calculate\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"165dp\"\n        android:layout_marginStart=\"131dp\"\n        android:layout_marginTop=\"61dp\"\n        android:text=\"Button\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/result\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 955, "favorite_count": 0, "accepted_answer_id": 46542845, "answer_count": 1, "score": -1, "last_activity_date": 1507545339, "creation_date": 1507019434, "last_edit_date": 1507545339, "question_id": 46540314, "link": "https://stackoverflow.com/questions/46540314/android-kotlin-calculate-pace-time", "title": "Android Kotlin calculate pace (time)", "body": "<p>So... I have been around this for 2 days already and it's driving me crazy.</p>\n\n<p>I am trying to make this <a href=\"https://i.stack.imgur.com/IEZct.png\" rel=\"nofollow noreferrer\">layout</a> work. It is supposed to be either a time and/or pace calculator. I am trying one at a time first, but this isn't going well after 2 days.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_running_calculator)\n\n    var distanceView = findViewById&lt;NumberPicker&gt;(R.id.distanceTxtField) as TextView\n    var timeView = findViewById&lt;NumberPicker&gt;(R.id.timeTxtField) as TextView\n    var paceView = findViewById&lt;NumberPicker&gt;(R.id.paceTxtField) as TextView\n    var calculateBtn = findViewById&lt;Button&gt;(R.id.calculateBtn)\n    var resultView = findViewById&lt;TextView&gt;(R.id.textView5)\n</code></pre>\n\n<p>//............</p>\n\n<pre><code>  fun calculationPaceKm () {\n\n        var stringArray = timeView.text.toString().split(\":\")\n        var total = stringArray[0].toDouble()\n        total += (stringArray[1].toDouble() / 60 )\n        var distanceValue = distanceView.text.toString().toDouble()\n        var resultPaceKm = ((distanceValue / total) * 1.37).toDouble()\n        var resultFormatPaceMiles = \"%.1f pace\".format(resultPaceKm)\n        resultView.setText(resultFormatPaceMiles.toString())}\n\nkmBtn.setOnClickListener{\n\n            calculationPaceKm()\n\n\n            }\n</code></pre>\n\n<p>I don't know how to go around the time... I have been getting very very weird results and nothing is working :/</p>\n\n<p>Thanks</p>\n\n<p>=======================</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>So I edited my question so you could see what I have. It is pretty much what you gave me but with some tweaks. What I notices is that it doesn't convert my distance properly and I don't know why. Let's say I convert 7.37Km to Miles. It should give me 4.58 Miles but I get 4.35 Miles, as if I am multiplying by 0.59  which I am not. I am multiplying by 0.621371</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val time = findViewById&lt;NumberPicker&gt;(R.id.time) as TextView\n    val distance = findViewById&lt;NumberPicker&gt;(R.id.distance) as TextView\n    val pace = findViewById&lt;NumberPicker&gt;(R.id.pace) as TextView\n\n\n\n\n    calculate.setOnClickListener {\n\n        when {\n\n            time.text.isEmpty() &amp;&amp; (distance.text.isNotEmpty() &amp;&amp; pace.text.isNotEmpty()) -&gt;\n                calculatePace(null, distance.text.toString(), pace.text.toString())\n\n            distance.text.isEmpty() &amp;&amp; (time.text.isNotEmpty() &amp;&amp; pace.text.isNotEmpty()) -&gt;\n                calculatePace(time.text.toString(), null, pace.text.toString())\n\n            pace.text.isEmpty() &amp;&amp; (time.text.isNotEmpty() &amp;&amp; distance.text.isNotEmpty()) -&gt;\n                calculatePace(time.text.toString(), distance.text.toString(), null)\n\n            else -&gt; {\n                Toast.makeText(this, \"Please check all fields\",\n                        Toast.LENGTH_SHORT).show()\n            }\n        }\n    }\n\n}\n\n\nfun Double.format(digits: Int) = java.lang.String.format(\"%.${digits}f\", this)\n\n\n@SuppressLint(\"SetTextI18n\")\nprivate fun calculatePace(time: String?, distance: String?, pace: String?) {\n\n\n    // KM Distance and KM Pace Button\n    if (kmDistanceRadioBtn.isChecked &amp;&amp; kmPaceRadioBtn.isChecked)\n        when {\n        // TIME: To calculate your time, fill in your distance and pace\n            time == null -&gt; {\n                val calculatedTime = distance!!.toLong() * timeToSeconds(pace.toString())\n                result.text = \"The runner's time is ${secondsToTime(calculatedTime)}\"\n            }\n        // DISTANCE: To calculate your distance, fill in your time and pace\n            distance == null -&gt; {\n                val calculatedDistance = (timeToSeconds(time).toDouble().div(timeToSeconds\n                (pace.toString()).toDouble())).format(2)\n                result.text = \"Distance is $calculatedDistance KM\"\n            }\n        // PACE: To calculate your pace, fill in your time and distance\n            pace == null -&gt; {\n                // Calculate Pace\n                val calculatedPace: Long = timeToSeconds(time).toLong() / distance.toLong()\n\n                Log.i(\"PaceSeconds\", calculatedPace.toString() +\n                        secondsToTime(calculatedPace))\n\n\n                result.text = \"The runner's pace in KM is ${secondsToTime(calculatedPace)}\"\n            }\n        }\n\n    // Miles Distance and Miles Pace Button\n    else if (milesDistanceRadioBtn.isChecked &amp;&amp; milesPaceRadioBtn.isChecked)\n        when {\n        // TIME: To calculate your time, fill in your distance and pace\n            time == null -&gt; {\n                val calculatedTime = distance!!.toLong() * timeToSeconds(pace.toString())\n                result.text = \"The runner's time is ${secondsToTime(calculatedTime)}\"\n            }\n        // DISTANCE: To calculate your distance, fill in your time and pace\n            distance == null -&gt; {\n                val calculatedDistance = (timeToSeconds(time).toDouble().div(timeToSeconds\n                (pace.toString()).toDouble())).format(2)\n                result.text = \"Distance is $calculatedDistance Miles\"\n            }\n        // PACE: To calculate your pace, fill in your time and distance\n            pace == null -&gt; {\n                // Calculate Pace\n                val calculatedPace: Long = timeToSeconds(time).toLong() / distance.toLong()\n\n                Log.i(\"PaceSeconds\", calculatedPace.toString() +\n                        secondsToTime(calculatedPace))\n\n\n                result.text = \"The runner's pace in miles is ${secondsToTime(calculatedPace)}\"\n            }\n\n            // KM Distance and Miles Pace Button\n        } else if(kmDistanceRadioBtn.isChecked &amp;&amp; milesPaceRadioBtn.isChecked) {\n        when {\n        // TIME: To calculate your time, fill in your distance and pace\n            time == null -&gt; {\n                val calculatedTime = distance!!.toLong() * timeToSeconds(pace.toString())\n                result.text = \"The runner's time is ${secondsToTime(calculatedTime)}\"\n            }\n        // DISTANCE: To calculate your distance, fill in your time and pace\n            distance == null -&gt; {\n                val calculatedDistance = (timeToSeconds(time).div(timeToSeconds\n                (pace.toString())) * 0.621371).format(2)\n                result.text = \"Distance is $calculatedDistance Miles\"\n            }\n        // PACE: To calculate your pace, fill in your time and distance\n            pace == null -&gt; {\n                // Calculate Pace\n                val calculatedPace: Long = timeToSeconds(time).toLong() / distance.toLong()\n\n                Log.i(\"PaceSeconds\", calculatedPace.toString() +\n                        secondsToTime(calculatedPace))\n\n\n                result.text = \"The runner's pace in miles is ${secondsToTime(calculatedPace)}\"\n            }\n        }\n\n        // Miles Distance and KM Pace Button\n    } else if(milesDistanceRadioBtn.isChecked &amp;&amp; kmPaceRadioBtn.isChecked) {\n        when {\n        // TIME: To calculate your time, fill in your distance and pace\n            time == null -&gt; {\n                val calculatedTime = distance!!.toLong() * timeToSeconds(pace.toString())\n                result.text = \"The runner's time is ${secondsToTime(calculatedTime)}\"\n            }\n        // DISTANCE: To calculate your distance, fill in your time and pace\n            distance == null -&gt; {\n                val calculatedDistance = (timeToSeconds(time).div(timeToSeconds\n                (pace.toString())) * 0.621371).format(2)\n                result.text = \"Distance is $calculatedDistance Miles\"\n            }\n        // PACE: To calculate your pace, fill in your time and distance\n            pace == null -&gt; {\n                // Calculate Pace\n                val calculatedPace: Long = timeToSeconds(time).toLong() / distance.toLong()\n\n                Log.i(\"PaceSeconds\", calculatedPace.toString() +\n                        secondsToTime(calculatedPace))\n\n\n                result.text = \"The runner's pace in miles is ${secondsToTime(calculatedPace)}\"\n            }\n        }\n\n\n    } else{\n        Toast.makeText(this, \"Please choose one unit\", Toast.LENGTH_SHORT).show()\n    }\n\n\n}\n\n// Convert Time to Seconds\n@SuppressLint(\"SimpleDateFormat\")\nprivate fun timeToSeconds(time: String): Long {\n    val dateFormat = SimpleDateFormat(\"mm:ss\")\n    val reference = dateFormat.parse(\"00:00\")\n    val date = dateFormat.parse(time)\n\n    return (date.time - reference.time) / 1000L\n}\n\n// Convert Seconds to Time\nprivate fun secondsToTime(seconds: Long): String {\n    val hours = seconds / 3600\n    val minutes = (seconds % 3600) / 60\n    val seconds = seconds % 60\n\n    return String.format(\"%02d:%02d\",minutes, seconds)\n}}\n</code></pre>\n"}, {"tags": ["java", "android", "asynchronous", "kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1507017976, "post_id": 46539686, "comment_id": 80033955, "body": "Do you take a look on <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">google/guava</a>? It has some Java features port back to earlier Java version."}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1507019349, "post_id": 46539686, "comment_id": 80034622, "body": "What about <code>Task</code> from google services? In Kotlin you can use lambda on it or just <code>task.getResult()</code> <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Task\" rel=\"nofollow noreferrer\">developers.google.com/android/reference/com/google/android/g&zwnj;&#8203;ms/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1935, "user_id": 859688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ba3953f6a6a459dcd4810a228ef4000?s=128&d=identicon&r=PG", "display_name": "hrach", "link": "https://stackoverflow.com/users/859688/hrach"}, "edited": false, "score": 0, "creation_date": 1513782122, "post_id": 46540530, "comment_id": 82785098, "body": "Thanks to your suggestions.  We&#39;ve tried to make two methods - one with callback and second with kotlin&#39;s suspend. But this got quite messy over time.  Currently, we have implemented everything as synchronous and we throw an exception when our code is run on UI thread."}, {"owner": {"reputation": 1213, "user_id": 921834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygjaF.png?s=128&g=1", "display_name": "andrei_zaitcev", "link": "https://stackoverflow.com/users/921834/andrei-zaitcev"}, "reply_to_user": {"reputation": 1935, "user_id": 859688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ba3953f6a6a459dcd4810a228ef4000?s=128&d=identicon&r=PG", "display_name": "hrach", "link": "https://stackoverflow.com/users/859688/hrach"}, "edited": false, "score": 0, "creation_date": 1513852230, "post_id": 46540530, "comment_id": 82813492, "body": "I&#39;m sorry that it ended up to be a mess. Well, at least you guys know it doesn&#39;t work :) I think it&#39;s worth to share your experience. Would you mind answer your own question? I think it would be interesting for other devs."}], "tags": [], "owner": {"reputation": 1213, "user_id": 921834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygjaF.png?s=128&g=1", "display_name": "andrei_zaitcev", "link": "https://stackoverflow.com/users/921834/andrei-zaitcev"}, "is_accepted": true, "score": 3, "last_activity_date": 1507020235, "creation_date": 1507020235, "answer_id": 46540530, "question_id": 46539686, "link": "https://stackoverflow.com/questions/46539686/architecture-of-own-sdk-async-method-api-in-kotlin/46540530#46540530", "title": "Architecture of own SDK - async method API in Kotlin", "body": "<p>I'm not sure whether this question has a concrete answer. So all the following is just my opinion. You can either agree or disagree. There are a lot of different ways to achieve what the OP asked.</p>\n\n<p>Personally, I would not include any dependencies on Rx or Architecture Components with LiveData. While a lot of modern apps use these dependencies I do not think it's a good idea to have a lot of 3rd party dependencies in your SDK. Other developers could override them and it could lead to unpredictable results.</p>\n\n<p>I see 2 solutions:</p>\n\n<ol>\n<li>Ask yourself whether you can make this method non async and let clients figure out how to use them. It might sound not very user-friendly but as developers you know that they will probably end up with their own async wrapper around the SDK callbacks.</li>\n<li>Use a custom callback. This is a pretty straightforward and common way to provide a public API in Android world. If other devs use Rx then they know how to wrap these methods to follow their streams. The same is true for LiveData users.</li>\n</ol>\n\n<p>If I were you I would also think about exposing different API methods for Java/Kotlin users. Kotlin users will thank you for providing a cleaner way, e.g. coroutines, to call the SDK's methods.</p>\n"}], "owner": {"reputation": 1935, "user_id": 859688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ba3953f6a6a459dcd4810a228ef4000?s=128&d=identicon&r=PG", "display_name": "hrach", "link": "https://stackoverflow.com/users/859688/hrach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 46540530, "answer_count": 1, "score": 3, "last_activity_date": 1507020235, "creation_date": 1507017155, "question_id": 46539686, "link": "https://stackoverflow.com/questions/46539686/architecture-of-own-sdk-async-method-api-in-kotlin", "title": "Architecture of own SDK - async method API in Kotlin", "body": "<p>We are building a public SDK for our product. It is built with Kotlin and internally we use coroutines. However, we want to publish an API that is usable form JAVA, that's why can't provide suspendable functions as public API.</p>\n\n<p>We are ok, if the usability in Java will be less comfortable than in Kotlin, that's quite expected.</p>\n\n<p>So, for example, we are looking of a return type of the following async method:</p>\n\n<pre><code>class Sdk {\n    fun getPlace(): ___\n}\n</code></pre>\n\n<p>Things we have considered:</p>\n\n<ol>\n<li><p>Using a RX Java as a the interface. We don't like this solutions, Rx is quite complex and we want to add as little as possible of other dependencies. Generally, we would go with returning Single. But, Rx java things we don't want to solve (which thread should be the work done) and Rx don't solve things we would like to solve (if possible), e.g. lifecycle &amp; observer - the things solved in Android architecture components.</p></li>\n<li><p>Java 8 Future. This seems to be most appropriate but not possible since we need to target older Androids (4.1 at least).</p></li>\n<li><p>Android architecture LiveData. Returning a LiveData seems to be ok, there is also a observeForever() method that makes it usable in backgrounds threads. On the other hand, the api suggests that it may return repeatadly multiple results. But we want definitely omit only on result or one exception. In Kotlin, though, we may implement extension functions which will make it quite usable as <code>sdk.getPlace().await()</code>.</p></li>\n<li><p>Custom solution: return a simple Result object, you may subsrcibe for the result by providing a callback <code>sdk.getPlace().observe(Observe { onSucccess(data: Place) {} onFailure(e: Throwable) {} })</code>; we will provide an extension function for awaiting.</p></li>\n</ol>\n\n<p>The questions:</p>\n\n<ol>\n<li>Did we miss some important aspect/library/possibility?</li>\n<li>Which solution we should choose and why.</li>\n</ol>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 2, "creation_date": 1507017083, "post_id": 46539626, "comment_id": 80033502, "body": "No, Kotlin compile to Java byte code."}], "answers": [{"tags": [], "owner": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "is_accepted": true, "score": 33, "last_activity_date": 1507017144, "creation_date": 1507017144, "answer_id": 46539682, "question_id": 46539626, "link": "https://stackoverflow.com/questions/46539626/kotlin-on-android-is-there-a-minimum-api-level-requirement/46539682#46539682", "title": "Kotlin on Android - is there a minimum API level requirement?", "body": "<p>No. There's no such requirement for the API level as these two are not directly related. Anyway, see <a href=\"https://developer.android.com/kotlin/faq.html\" rel=\"noreferrer\">official FAQ</a></p>\n\n<blockquote>\n  <p>Which versions of Android does Kotlin support?</p>\n  \n  <p>All of them! Kotlin is compatible with JDK 6, so apps with Kotlin\n  safely run on older Android versions.</p>\n</blockquote>\n"}], "owner": {"reputation": 9501, "user_id": 233602, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/33fbdd95b82b63c8561dc8a7bbfe53ca?s=128&d=identicon&r=PG", "display_name": "Andrew Ebling", "link": "https://stackoverflow.com/users/233602/andrew-ebling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6518, "favorite_count": 1, "accepted_answer_id": 46539682, "answer_count": 1, "score": 25, "last_activity_date": 1507022411, "creation_date": 1507016988, "question_id": 46539626, "link": "https://stackoverflow.com/questions/46539626/kotlin-on-android-is-there-a-minimum-api-level-requirement", "title": "Kotlin on Android - is there a minimum API level requirement?", "body": "<p>I am seriously considering using Kotlin on a greenfield Android project, but am concerned about knock-on implications, the most significant of which is a minimum required API level.</p>\n\n<p>On other platforms, new languages have required a certain OS version (e.g. Swift requiring iOS 7) and I wondered whether there were similar requirements here?</p>\n\n<p>I've been searching through various Kotlin/Android FAQs and Stackoverflow but have not been able to find this information.</p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "android-room"], "comments": [{"owner": {"reputation": 14914, "user_id": 1217087, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4190f29b0630968bd964485175551851?s=128&d=identicon&r=PG", "display_name": "Adam S", "link": "https://stackoverflow.com/users/1217087/adam-s"}, "edited": false, "score": 0, "creation_date": 1507123117, "post_id": 46538720, "comment_id": 80085430, "body": "Which version of Kotlin do you have defined in <code>kotlin_version</code>? I&#39;ve been seeing a similar error after updating to 1.1.50/51 combined with the Android extensions. Downgrading to 1.1.4-3 fixed it. Your error does appear to be two libraries importing Room, though. Check that with <code>.&#47;gradlew dependencies</code>"}, {"owner": {"reputation": 186, "user_id": 4319678, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-3JyPVNWAR4s/AAAAAAAAAAI/AAAAAAAAA7U/uPUsquVGTCc/photo.jpg?sz=128", "display_name": "Tomaz Wang", "link": "https://stackoverflow.com/users/4319678/tomaz-wang"}, "reply_to_user": {"reputation": 14914, "user_id": 1217087, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4190f29b0630968bd964485175551851?s=128&d=identicon&r=PG", "display_name": "Adam S", "link": "https://stackoverflow.com/users/1217087/adam-s"}, "edited": false, "score": 0, "creation_date": 1507196064, "post_id": 46538720, "comment_id": 80117325, "body": "@AdamS The error happens when I use version 1.1.4. Currently, I&#39;m using the latest 1.1.51 version and the problem solved. Not sure why..."}], "answers": [{"comments": [{"owner": {"reputation": 186, "user_id": 4319678, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-3JyPVNWAR4s/AAAAAAAAAAI/AAAAAAAAA7U/uPUsquVGTCc/photo.jpg?sz=128", "display_name": "Tomaz Wang", "link": "https://stackoverflow.com/users/4319678/tomaz-wang"}, "edited": false, "score": 3, "creation_date": 1507195483, "post_id": 46545384, "comment_id": 80116961, "body": "After checking dependencies, use <code>kapt</code> instead of <code>annotationProcessor</code>, and clean and re-build my project. It finally works! Thanks for your help!"}], "tags": [], "owner": {"reputation": 641, "user_id": 5479247, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AC0-V9DmUv4/AAAAAAAAAAI/AAAAAAAAFc0/7D0Qqwhjgbg/photo.jpg?sz=128", "display_name": "Eugene Krivenja", "link": "https://stackoverflow.com/users/5479247/eugene-krivenja"}, "is_accepted": true, "score": 0, "last_activity_date": 1507036143, "creation_date": 1507036143, "answer_id": 46545384, "question_id": 46538720, "link": "https://stackoverflow.com/questions/46538720/unable-to-merge-dex-error-when-useing-room-kotlin/46545384#46545384", "title": "&quot;Unable to merge dex&quot; error when useing Room + Kotlin", "body": "<p>This is the problem source:</p>\n\n<pre><code>Multiple dex files define Landroid/arch/persistence/room/SharedSQLiteStatement;\n</code></pre>\n\n<p>Recheck dependencies, probably you have <code>Room</code> included more than one time. </p>\n"}, {"tags": [], "owner": {"reputation": 745, "user_id": 5132582, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/70wNy.jpg?s=128&g=1", "display_name": "jatin rana", "link": "https://stackoverflow.com/users/5132582/jatin-rana"}, "is_accepted": false, "score": 1, "last_activity_date": 1558462789, "last_edit_date": 1558462789, "creation_date": 1509264687, "answer_id": 46998109, "question_id": 46538720, "link": "https://stackoverflow.com/questions/46538720/unable-to-merge-dex-error-when-useing-room-kotlin/46998109#46998109", "title": "&quot;Unable to merge dex&quot; error when useing Room + Kotlin", "body": "<p>Replace:</p>\n\n<pre><code>String anArchVersion = '1.0.0-alpha9-1'\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>String anArchVersion = '1.0.0-rc1'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1077, "user_id": 1567675, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/983f08d6b667b338d436c249e842af5e?s=128&d=identicon&r=PG", "display_name": "Bharat Dodeja", "link": "https://stackoverflow.com/users/1567675/bharat-dodeja"}, "is_accepted": false, "score": 1, "last_activity_date": 1512989835, "creation_date": 1512989835, "answer_id": 47751400, "question_id": 46538720, "link": "https://stackoverflow.com/questions/46538720/unable-to-merge-dex-error-when-useing-room-kotlin/47751400#47751400", "title": "&quot;Unable to merge dex&quot; error when useing Room + Kotlin", "body": "<p>As @TomazWang said, use kapt instead of annotationProcessor while declaring dependencies in build.gradle file, and clean and re-build my project. It solved my issue. Thanks Tomaz.</p>\n\n<pre><code>dependencies {\n  // Dagger 2\n  compile 'com.google.dagger:dagger:2.12'\n  kapt 'com.google.dagger:dagger-compiler:2.11'\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3357, "user_id": 1805857, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b8797e9a6f288a7c48d98a4d6448f03?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit", "link": "https://stackoverflow.com/users/1805857/rohit"}, "is_accepted": false, "score": 0, "last_activity_date": 1558462498, "last_edit_date": 1558462498, "creation_date": 1558460994, "answer_id": 56243872, "question_id": 46538720, "link": "https://stackoverflow.com/questions/46538720/unable-to-merge-dex-error-when-useing-room-kotlin/56243872#56243872", "title": "&quot;Unable to merge dex&quot; error when useing Room + Kotlin", "body": "<p>Change this:</p>\n\n<pre><code>implementation 'android.arch.persistence.room:runtime:1.0.0-alpha1';\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>implementation 'android.arch.persistence.room:runtime:1.0.0';\n</code></pre>\n"}], "owner": {"reputation": 186, "user_id": 4319678, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-3JyPVNWAR4s/AAAAAAAAAAI/AAAAAAAAA7U/uPUsquVGTCc/photo.jpg?sz=128", "display_name": "Tomaz Wang", "link": "https://stackoverflow.com/users/4319678/tomaz-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3824, "favorite_count": 0, "accepted_answer_id": 46545384, "answer_count": 4, "score": 1, "last_activity_date": 1558462789, "creation_date": 1507013622, "last_edit_date": 1507021945, "question_id": 46538720, "link": "https://stackoverflow.com/questions/46538720/unable-to-merge-dex-error-when-useing-room-kotlin", "title": "&quot;Unable to merge dex&quot; error when useing Room + Kotlin", "body": "<blockquote>\n  <p>I'm not a native English user. Please excuse my spelling and grammar error.</p>\n</blockquote>\n\n<p>I try to implement Android architecture Room database interface with Kotlin. After introducing Room into my project, the app occurs build error.</p>\n\n<pre><code>Error:Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.\n&gt; com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex\n</code></pre>\n\n<p>I run gradlew in terminal and get the following error messages:</p>\n\n<pre><code>// from gradlew\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex\n        at com.android.builder.dexing.DxDexArchiveMerger.mergeMonoDex(DxDexArchiveMerger.java:178)\n        at com.android.builder.dexing.DxDexArchiveMerger.mergeDexArchives(DxDexArchiveMerger.java:119)\n        at com.android.build.gradle.internal.transforms.DexMergerTransformCallable.call(DexMergerTransformCallable.java:97)\n        at com.android.build.gradle.internal.transforms.ExternalLibsMergerTransform.transform(ExternalLibsMergerTransform.kt:121)\n        at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:222)\n        at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:218)\n        at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\n        at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:213)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n        ... 27 more\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex\n        at com.android.builder.dexing.DxDexArchiveMerger.lambda$mergeMonoDex$0(DxDexArchiveMerger.java:172)\nCaused by: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex\nCaused by: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex\n        at com.android.builder.dexing.DexArchiveMergerCallable.call(DexArchiveMergerCallable.java:72)\n        at com.android.builder.dexing.DexArchiveMergerCallable.call(DexArchiveMergerCallable.java:36)\nCaused by: com.android.dex.DexException: Multiple dex files define Landroid/arch/persistence/room/SharedSQLiteStatement;\n        at com.android.dx.merge.DexMerger.readSortableTypes(DexMerger.java:661)\n        at com.android.dx.merge.DexMerger.getSortedTypes(DexMerger.java:616)\n        at com.android.dx.merge.DexMerger.mergeClassDefs(DexMerger.java:598)\n        at com.android.dx.merge.DexMerger.mergeDexes(DexMerger.java:171)\n        at com.android.dx.merge.DexMerger.merge(DexMerger.java:198)\n        at com.android.builder.dexing.DexArchiveMergerCallable.call(DexArchiveMergerCallable.java:61)\n        ... 1 more\n</code></pre>\n\n<p>I've tried the solutions in this question :<a href=\"https://stackoverflow.com/questions/46267621/unable-to-merge-dex\">Unable to merge dex</a> . They doesn't work for me.</p>\n\n<hr>\n\n<p>The build.gradle file and Room database files are list as follow:</p>\n\n<pre><code>// build.gradle\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n\n    // version code\n    def verMajor = 0\n    def verMinor = 0\n    def verPatch = 1\n    def verHotfix = ''\n\n    // compile wtih sdk 26 (Android - O)\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.1\"\n\n    defaultConfig {\n        applicationId \"com.tomazwang.project.kotlinandroid\"\n        minSdkVersion 17\n        targetSdkVersion 26\n        versionCode verMajor * 10000 + verMinor * 100 + verPatch\n        versionName \"$verMajor.$verMinor.$verPatch$verHotfix\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        targetCompatibility 1.8\n        sourceCompatibility 1.8\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    // support library\n    String supportVersion = '26.1.0'\n    implementation \"com.android.support:appcompat-v7:$supportVersion\"\n    implementation \"com.android.support:design:$supportVersion\"\n    implementation \"com.android.support.constraint:constraint-layout:1.1.0-beta1\"\n\n    // Anko\n    String anko_version = '0.10.1'\n    implementation \"org.jetbrains.anko:anko-commons:$anko_version\"\n    implementation \"org.jetbrains.anko:anko-sqlite:$anko_version\"\n\n    // RxJava\n    String rxJavaVersion = '2.1.4'\n    implementation \"io.reactivex.rxjava2:rxjava:$rxJavaVersion\"\n\n    String rxAndroidVersion = '2.0.1'\n    implementation \"io.reactivex.rxjava2:rxandroid:$rxAndroidVersion\"\n\n    // Android architecture\n    String anArchVersion = '1.0.0-alpha9-1'\n    implementation \"android.arch.persistence.room:runtime:$anArchVersion\"\n    implementation \"android.arch.persistence.room:rxjava2:$anArchVersion\"\n    annotationProcessor \"android.arch.persistence.room:compiler:$anArchVersion\"\n\n    // Stetho\n    String stethoVersion = '1.5.0'\n    implementation \"com.facebook.stetho:stetho:$stethoVersion\"\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:3.0.1', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n}\n</code></pre>\n\n<pre><code>//  AppDatabase.kt\n@Database(\n        entities = arrayOf(Todo::class),\n        version = DbContract.VERSION\n)\nabstract class AppDatabase : RoomDatabase(){\n    abstract fun todoDao(): TodoDao\n\n    companion object {\n        fun createInMemoryDatabase(context: Context): AppDatabase\n                = Room.inMemoryDatabaseBuilder(context.applicationContext, AppDatabase::class.java).build()\n\n        fun createPersistentDatabase(context: Context): AppDatabase\n                = Room.databaseBuilder(context.applicationContext, AppDatabase::class.java, DbContract.DB_NAME).build()\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>// TodoDao.kt\n@Dao\nabstract class TodoDao {\n\n    fun createTodo(name: String, description: String = \"\") {\n        insertOrUpdate(Todo(\n                id = 0,\n                name = name,\n                position = lastPosition() + 1,\n                description = description\n        ))\n    }\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    abstract fun insertOrUpdate(todo: Todo)\n\n    @Query(\"SELECT * FROM ${TableTodo.TABLE_NAME} WHERE ${TableTodo.COL_ID} = :id\")\n    abstract fun getTodo(id: Long): Maybe&lt;Todo&gt;\n\n    @Query(\"SELECT * FROM ${TableTodo.TABLE_NAME} ORDER BY ${TableTodo.COL_POSITION}\")\n    abstract fun getTodos(): Flowable&lt;List&lt;Todo&gt;&gt;\n}\n</code></pre>\n\n<pre><code>// Todo.kt\n@Entity(\n        tableName = TableTodo.TABLE_NAME\n)\ndata class Todo(\n        @PrimaryKey(autoGenerate = true) @ColumnInfo(name = TableTodo.COL_ID) val id: Long,\n        @ColumnInfo(name = TableTodo.COL_NAME) val name: String = \"\",\n        @ColumnInfo(name = TableTodo.COL_POSITION) val position: Long = 0,\n        @ColumnInfo(name = TableTodo.COL_DESCRIPTION) val description: String = \"\",\n        @ColumnInfo(name = TableTodo.COL_CHECKED) val checked:Boolean = false\n)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "jacoco"], "answers": [{"comments": [{"owner": {"reputation": 3400, "user_id": 91443, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/de6f578d9584573f6873d9110d85b47f?s=128&d=identicon&r=PG", "display_name": "pajato0", "link": "https://stackoverflow.com/users/91443/pajato0"}, "edited": false, "score": 0, "creation_date": 1507034475, "post_id": 46537184, "comment_id": 80043645, "body": "Good answer but my two questions are still open: 1) if these are &quot;hidden&quot; functions, why are they not hidden to Jacoco? 2) is there a way to exclude these functions or invoke them as part of a test?  A solution to the second question would be preferred."}, {"owner": {"reputation": 3400, "user_id": 91443, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/de6f578d9584573f6873d9110d85b47f?s=128&d=identicon&r=PG", "display_name": "pajato0", "link": "https://stackoverflow.com/users/91443/pajato0"}, "reply_to_user": {"reputation": 7743, "user_id": 244993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0ce44e342943d56f115165b7d78bdd?s=128&d=identicon&r=PG", "display_name": "Godin", "link": "https://stackoverflow.com/users/244993/godin"}, "edited": false, "score": 0, "creation_date": 1507034657, "post_id": 46537184, "comment_id": 80043762, "body": "@godin your link is much appreciated."}], "tags": [], "owner": {"reputation": 16751, "user_id": 602094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/725306370a270aec71f052f366496ddb?s=128&d=identicon&r=PG", "display_name": "triad", "link": "https://stackoverflow.com/users/602094/triad"}, "is_accepted": false, "score": 1, "last_activity_date": 1507004572, "last_edit_date": 1592644375, "creation_date": 1507004572, "answer_id": 46537184, "question_id": 46537027, "link": "https://stackoverflow.com/questions/46537027/android-kotlin-code-coverage-anomalies/46537184#46537184", "title": "Android (Kotlin) code coverage anomalies", "body": "<p>Those methods are added when using the synthetic properties via Kotlin Android Extensions. Each Kotlin Activity using synthetic properties will have those methods added.</p>\n<blockquote>\n<p>Kotlin Android Extensions is a plugin for the Kotlin compiler, and it does two things:</p>\n<p>Adds a hidden caching function and a field inside each Kotlin Activity. The method is pretty small so it doesn't increase the size of APK much.</p>\n<p>Replaces each synthetic property call with a function call.</p>\n</blockquote>\n<p>Explanation on the official docs:</p>\n<p><a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#under-the-hood\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html#under-the-hood</a></p>\n<p>This articles does a pretty good job going into detail:</p>\n<p><a href=\"https://antonioleiva.com/kotlin-android-extensions/\" rel=\"nofollow noreferrer\">https://antonioleiva.com/kotlin-android-extensions/</a></p>\n"}, {"tags": [], "owner": {"reputation": 3400, "user_id": 91443, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/de6f578d9584573f6873d9110d85b47f?s=128&d=identicon&r=PG", "display_name": "pajato0", "link": "https://stackoverflow.com/users/91443/pajato0"}, "is_accepted": false, "score": 0, "last_activity_date": 1507053046, "creation_date": 1507053046, "answer_id": 46550539, "question_id": 46537027, "link": "https://stackoverflow.com/questions/46537027/android-kotlin-code-coverage-anomalies/46550539#46550539", "title": "Android (Kotlin) code coverage anomalies", "body": "<p>In large part due to the answer from @triad, I was able to come up with a solution that is a work-around to what appears to be a Kotlin bug.  The work-around was documented in the Antonio Leiva post referenced by @triad.  In a nutshell the solution was to turn off caching in MainActivity. The complete solution is <a href=\"http://github.com/pajato/Argus\" rel=\"nofollow noreferrer\">up on GitHub.</a></p>\n\n<p>What I do not completely understand is the cost of this solution so I will hold off checking this answer in the hopes that a better solution is provided.</p>\n"}], "owner": {"reputation": 3400, "user_id": 91443, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/de6f578d9584573f6873d9110d85b47f?s=128&d=identicon&r=PG", "display_name": "pajato0", "link": "https://stackoverflow.com/users/91443/pajato0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1507053046, "creation_date": 1507003311, "question_id": 46537027, "link": "https://stackoverflow.com/questions/46537027/android-kotlin-code-coverage-anomalies", "title": "Android (Kotlin) code coverage anomalies", "body": "<p>Code coverage (Jacoco) in Android connected tests is a very useful way to determine what methods/functions need some TLC. Now that I am switching to Kotlin over Java I have discovered some anomalies that I cannot explain, as this screen shot illustrates:\n<a href=\"https://i.stack.imgur.com/z2XEH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z2XEH.png\" alt=\"enter image description here\"></a></p>\n\n<p>The methods starting with _$... are internal to Kotlin or Android, I strongly suspect. My questions are: 1) does anyone have any insight into why these methods are included in the Jacoco code coverage report, and 2) is there a way to exclude them?</p>\n"}, {"tags": ["android", "listview", "kotlin", "adapter", "android-adapter"], "comments": [{"owner": {"reputation": 889, "user_id": 6587502, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/EkudP.jpg?s=128&g=1", "display_name": "Ashutosh Sagar", "link": "https://stackoverflow.com/users/6587502/ashutosh-sagar"}, "edited": false, "score": 0, "creation_date": 1507004383, "post_id": 46536953, "comment_id": 80028708, "body": "why are you using two adaptors they does the same thing? Just pass the list you want to display."}, {"owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "reply_to_user": {"reputation": 889, "user_id": 6587502, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/EkudP.jpg?s=128&g=1", "display_name": "Ashutosh Sagar", "link": "https://stackoverflow.com/users/6587502/ashutosh-sagar"}, "edited": false, "score": 0, "creation_date": 1507007052, "post_id": 46536953, "comment_id": 80029344, "body": "I\u2019m using two adapters because i have 2 different array list and each one has different object inside it @ Ashutosh Sagar"}, {"owner": {"reputation": 889, "user_id": 6587502, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/EkudP.jpg?s=128&g=1", "display_name": "Ashutosh Sagar", "link": "https://stackoverflow.com/users/6587502/ashutosh-sagar"}, "edited": false, "score": 0, "creation_date": 1507009351, "post_id": 46536953, "comment_id": 80030025, "body": "you can use the same adaptor just pass the different array list. Like <code>listView.setAdaptor(FoodAdaptor(list1, mContext)) listView.setAdaptor(FoodAdaptor(list2, mContext))</code> and both adaptors are exact same"}], "owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507239647, "creation_date": 1507002829, "last_edit_date": 1507239647, "question_id": 46536953, "link": "https://stackoverflow.com/questions/46536953/many-listview-and-each-one-contains-different-objects-in-kotlin", "title": "many listview and each one contains different objects in Kotlin", "body": "<p>I have 2 activity and when click on first activity to be converted to second activity it's <code>Main2Activity</code></p>\n\n<p>inside 2nd activity  I am trying to make many <code>ListView</code> and each one contains pictures and text, each <code>ListView</code> inside one specific adapter  but i get a problem for represent (<code>adapterType1</code>,<code>adapterType2</code>)  both adapters (<code>adapterType1</code>,<code>adapterType2</code>) return the same value of (<code>adapterType1</code>),and i wanna to return two different result for (<code>adapterType1</code>) and (<code>adapterType2</code>)? </p>\n\n<p><strong>Here is a MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nvar adapter:FoodAdapter?=null\nvar listOfFoods =ArrayList&lt;Food&gt;()\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(layout.activity_main)\n\n\n    // load foods\n    listOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", a))\n    listOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", b))\n    listOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", c))\n    listOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", d))\n\n    adapter= FoodAdapter(this,listOfFoods)\n\n    gvListFood.adapter =adapter\n\n}\n\n\nclass  FoodAdapter: BaseAdapter {\n    var listOfFood= ArrayList&lt;Food&gt;()\n    var context: Context?=null\n    constructor(context:Context,listOfFood:ArrayList&lt;Food&gt;):super(){\n        this.context=context\n        this.listOfFood=listOfFood\n    }\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View? {\n        val food = this.listOfFood[p0]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        var foodView= inflator.inflate(layout.food_ticket,null)\n        foodView.ivFoodImage.setImageResource(food.image!!)\n        foodView.ivFoodImage.setOnClickListener {\n\n            val intent = Intent(context, Main2Activity::class.java)\n\n            intent.putExtra(Main2Activity.EXTRA_ADAPTER_MODE, AdapterType.ADAPTER_TYPE_2.ordinal)\n              intent.putExtra(\"name\", food.name!!)\n            intent.putExtra(\"des\", food.des!!)\n            intent.putExtra(\"image\", food.image!!1\n\n            context!!.startActivity(intent)\n\n\n        }\n        return foodView\n    }\n\n    override fun getItem(p0: Int): Any {\n        return listOfFood[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n\n        return listOfFood.size\n    }\n\n}\n}\n</code></pre>\n\n<p><strong>Here is a Main2Activity.kt</strong></p>\n\n<pre><code>class Main2Activity : AppCompatActivity() {\ncompanion object {\n    val EXTRA_ADAPTER_MODE = \"extra_adapter_mode\"\n}\n\n    var adapter1: FoodAdapter1?= null\n    var adapter2: FoodAdapter2? = null\n    var listOfFoods2 = ArrayList&lt;Food&gt;()\n    var listOfFoods3 = ArrayList&lt;Food&gt;()\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(activity_main2)\n\n\n    val bundle = intent.extras\n    val adapterTypeOrdinal = intent.getIntExtra(EXTRA_ADAPTER_MODE, 0) // 0 is the default value\n    val type = AdapterType.fromOrdinal(ordinal = adapterTypeOrdinal)\n\n\n    val name = bundle.getString(\"name\")\n    val des = bundle.getString(\"des\")\n    val image = bundle.getInt(\"image\")\n\n\n\n    ivFoodImage2?.let {\n        it.setImageResource(image)\n    }\n\n    tvName2?.let {\n        it.text = name\n    }\n\n    tvDes2?.let {\n        it.text = des\n    }\n\n\n\n\n\n\n    // load foods2\n    listOfFoods2.add(Food(\"Coffee\", \"   Coffee1 preparation is\", R.drawable.a))\n     listOfFoods2.add(Food(\"Coffee\", \"   Coffee2 preparation is\", R.drawable.b))\n\n\n\n    // load foods3\n\n\n\n    listOfFoods3.add(Food(\"Coffee\", \"   Coffee3 preparation is\", R.drawable.c))\n    listOfFoods3.add(Food(\"Coffee\", \"   Coffee4 preparation is\", R.drawable.d))\n\n    var ADAPTER_TYPE_1=adapter1\n    var ADAPTER_TYPE_2=adapter2\n\n\n    lvFoods2.adapter = when (lvFoods2.adapter) {\n        ADAPTER_TYPE_1 -&gt; FoodAdapter1(listOfFoods2, this).also { ADAPTER_TYPE_1 = it }\n        ADAPTER_TYPE_2 -&gt; FoodAdapter2(listOfFoods3, this).also { ADAPTER_TYPE_2 = it }\n        else -&gt;  lvFoods2.adapter\n\n    }\n\n    }\n\n\nclass FoodAdapter1 : BaseAdapter {\n    var context: Context? = null\n    var listOfFoodsLocal2 = ArrayList&lt;Food&gt;()\n\n    constructor(listOfFoods2: ArrayList&lt;Food&gt;, context: Context) : super() {\n        this.listOfFoodsLocal2 = listOfFoods2\n        this.context = context\n    }\n\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val food = this.listOfFoodsLocal2[p0]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        val foodView = inflator.inflate(ticket2, null)\n\n\n        foodView.ivFoodImage2?.let {\n            it.setImageResource(food.image!!)\n                 }\n        foodView.tvName2?.let {\n\n            it.text = food.name!!\n        }\n        foodView.tvDes2?.let {\n            it.text = food.des!!\n        }\n\n        foodView.ivFoodImage2.setOnClickListener {\n\n            //move to next\n            val intent = Intent(context, FoodDetails::class.java)\n            intent.putExtra(\"name\", food.name!!)\n            intent.putExtra(\"des\", food.des!!)\n            intent.putExtra(\"image\", food.image!!)\n\n            context!!.startActivity(intent)\n\n        }\n        return foodView\n\n    }\n\n\n    override fun getItem(p0: Int): Any {\n        return listOfFoodsLocal2[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n        return listOfFoodsLocal2.size\n    }\n\n}\n\nclass FoodAdapter2 : BaseAdapter {\n    var context: Context? = null\n    var listOfFoodsLocal3 = ArrayList&lt;Food&gt;()\n\n    constructor(listOfFoods3: ArrayList&lt;Food&gt;, context: Context) : super() {\n        this.listOfFoodsLocal3 = listOfFoods3\n        this.context = context\n    }\n\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val food = this.listOfFoodsLocal3[p0]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        val foodView = inflator.inflate(ticket2, null)\n\n\n         foodView.ivFoodImage2?.let {\n             it.setImageResource(food.image!!)\n         }\n        foodView.tvName2?.let {\n            it.text = food.name!!\n        }\n         foodView.tvDes2?.let {\n             it.text = food.des!!\n         }\n\n\n\n        foodView.ivFoodImage2.setOnClickListener {\n\n            //move to next\n            val intent = Intent(context, FoodDetails::class.java)\n            intent.putExtra(\"name\", food.name!!)\n            intent.putExtra(\"des\", food.des!!)\n            intent.putExtra(\"image\", food.image!!)\n\n            context!!.startActivity(intent)\n\n        }\n        return foodView\n\n    }\n\n\n    override fun getItem(p0: Int): Any {\n        return listOfFoodsLocal3[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n        return listOfFoodsLocal3.size\n    }\n\n}\n}\n</code></pre>\n\n<p><strong>Here is activitymain2.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@color/gray\"\nandroid:orientation=\"vertical\"\ntools:context=\"com.marzadmz.startup.Main2Activity\"&gt;\n\n&lt;ListView\nandroid:id=\"@+id/lvFoods2\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@color/gray\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>Here is ticket2.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@color/gray\"\nandroid:orientation=\"vertical\"\nandroid:padding=\"3pt\"&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@drawable/background\"\n    android:orientation=\"horizontal\"&gt;\n\n    &lt;ImageView\n\n        android:id=\"@+id/ivFoodImage2\"\n        android:layout_width=\"50pt\"\n        android:layout_height=\"50pt\"\n        android:layout_weight=\"1\"\n        app:srcCompat=\"@drawable/a\" /&gt;\n\n    &lt;LinearLayout\n\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"1\"\n        android:orientation=\"vertical\"\n        android:padding=\"2pt\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/tvName2\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Coffee\"\n            android:textSize=\"18sp\" /&gt;\n\n\n        &lt;TextView\n            android:id=\"@+id/tvDes2\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Could be prepare with suger\" /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "string", "kotlin", "int"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1507048385, "post_id": 46536902, "comment_id": 80052918, "body": "Related: <a href=\"https://stackoverflow.com/questions/37374075/how-does-kotlin-property-access-syntax-work-for-java-classes-i-e-edittext-sett\" title=\"how does kotlin property access syntax work for java classes i e edittext sett\">stackoverflow.com/questions/37374075/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 259, "user_id": 8711698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d52ff0f1e1d082cbd329158182e935?s=128&d=identicon&r=PG&f=1", "display_name": "Carlton McDonald", "link": "https://stackoverflow.com/users/8711698/carlton-mcdonald"}, "edited": false, "score": 0, "creation_date": 1507013352, "post_id": 46537074, "comment_id": 80031605, "body": "@CarltonMcDonald outputText.text ? is TextView or EditText ?"}, {"owner": {"reputation": 3278, "user_id": 3282461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v6pSx.png?s=128&g=1", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/3282461/ankit-kumar"}, "edited": false, "score": 0, "creation_date": 1519522689, "post_id": 46537074, "comment_id": 84944376, "body": "Accept this answer if it helped you."}], "tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 4, "last_activity_date": 1507014323, "last_edit_date": 1507014323, "creation_date": 1507003710, "answer_id": 46537074, "question_id": 46536902, "link": "https://stackoverflow.com/questions/46536902/how-do-i-set-the-text-of-an-edittext-to-an-int/46537074#46537074", "title": "How do I set the text of an EditText to an Int?", "body": "<p>Try given code it will work. What I am doing here I am converting inputText first to String then Int. After I am multiplying with 2 then I am assigning a value for outputText by converting to string.</p>\n\n<pre><code>processButton.setOnClickListener {\n\n    var intNo  = inputText.text.toString().toInt()\n    intNo *= 2\n    //println(intNo.toString())\n    val myString = intNo.toString()\n    // If you using outputText as Editable then use this\n    outputText.text = SpannableStringBuilder(myString)\n\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 8711698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d52ff0f1e1d082cbd329158182e935?s=128&d=identicon&r=PG&f=1", "display_name": "Carlton McDonald", "link": "https://stackoverflow.com/users/8711698/carlton-mcdonald"}, "edited": false, "score": 0, "creation_date": 1507015907, "post_id": 46537374, "comment_id": 80032871, "body": "The following compiles but when processButton clicked it crashes:  processButton.setOnClickListener {             var intNo = inputText.text.toString().toInt()             intNo *= 2             outputText.text = intNo as Editable          }"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 259, "user_id": 8711698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d52ff0f1e1d082cbd329158182e935?s=128&d=identicon&r=PG&f=1", "display_name": "Carlton McDonald", "link": "https://stackoverflow.com/users/8711698/carlton-mcdonald"}, "edited": false, "score": 0, "creation_date": 1507016297, "post_id": 46537374, "comment_id": 80033070, "body": "You won&#39;t be able to cast <code>intNo</code> to an <code>Editable</code>. Instead, use the code I provided in my answer to convert your number back to a <code>String</code>, and then use <code>setText</code>."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1507006061, "creation_date": 1507006061, "answer_id": 46537374, "question_id": 46536902, "link": "https://stackoverflow.com/questions/46536902/how-do-i-set-the-text-of-an-edittext-to-an-int/46537374#46537374", "title": "How do I set the text of an EditText to an Int?", "body": "<p>There are a couple things going on here, and to understand them, let's take a look at the various <code>getText</code> and <code>setText</code> methods that <code>EditText</code> has:</p>\n\n<pre><code>Editable getText()\nvoid setText(CharSequence text)\nvoid setText(@StringRes int resid)\n// many other setText methods with buffer options\n</code></pre>\n\n<p>So what Kotlin does here to let you use property syntax is that it creates a <code>text</code> property. The getter used for the property is obvious, since there's only one. The setter for the property is <em>supposed to be</em> the one that takes a <code>CharSequence</code> parameter (it would make sense, <code>Editable</code> extends <code>CharSequence</code>), but actually trying to assign anything other than an <code>Editable</code> to it won't work. See <a href=\"https://youtrack.jetbrains.com/issue/KT-9313\" rel=\"nofollow noreferrer\">this issue</a>.</p>\n\n<hr>\n\n<p>To get to the problem at hand, you can read the value in your <code>EditText</code> and convert it to a <code>String</code> like this:</p>\n\n<pre><code>val input = inputText.text.toString()\n</code></pre>\n\n<p>Then, you can use the <code>toInt()</code> function from the standard library to convert it to an <code>Int</code> (be aware that this will throw an exception if the <code>String</code> can't be parsed):</p>\n\n<pre><code>val doubled = input.toInt() * 2\n</code></pre>\n\n<p>And finally, you can set the value of the <code>EditText</code> by calling the <code>setText</code> setter in the traditional Java style, passing in a <code>String</code>:</p>\n\n<pre><code>inputText.text.setText(doubled.toString())\n</code></pre>\n\n<p>A bit of a mess because of the two-way conversion between <code>String</code> and <code>Int</code>, plus the oddities of how the <code>text</code> property is generated here, but that's the way to do it. If you're bothered by how this looks, you could always hide some of this mechanism behind extension properties.</p>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 8711698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d52ff0f1e1d082cbd329158182e935?s=128&d=identicon&r=PG&f=1", "display_name": "Carlton McDonald", "link": "https://stackoverflow.com/users/8711698/carlton-mcdonald"}, "edited": false, "score": 0, "creation_date": 1507106736, "post_id": 46559527, "comment_id": 80074812, "body": "No, Rajesh&#39;s solution is the one that works because in Android the textViews are EditText not Strings."}], "tags": [], "owner": {"reputation": 3278, "user_id": 3282461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v6pSx.png?s=128&g=1", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/3282461/ankit-kumar"}, "is_accepted": false, "score": 18, "last_activity_date": 1507102932, "creation_date": 1507102932, "answer_id": 46559527, "question_id": 46536902, "link": "https://stackoverflow.com/questions/46536902/how-do-i-set-the-text-of-an-edittext-to-an-int/46559527#46559527", "title": "How do I set the text of an EditText to an Int?", "body": "<pre><code> var a: Int = 12\n var s: String = a.toString()\n</code></pre>\n\n<p>This should work for this.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 6467586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ed5cad6a0f55cb7b22c5a43a74eccc3?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Oh", "link": "https://stackoverflow.com/users/6467586/dave-oh"}, "is_accepted": false, "score": 0, "last_activity_date": 1546654881, "last_edit_date": 1546654881, "creation_date": 1546620312, "answer_id": 54042969, "question_id": 46536902, "link": "https://stackoverflow.com/questions/46536902/how-do-i-set-the-text-of-an-edittext-to-an-int/54042969#54042969", "title": "How do I set the text of an EditText to an Int?", "body": "<pre><code>var num: Int = 5 \n</code></pre>\n\n<p>to convert to string would be</p>\n\n<pre><code>num.toString()\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 8711698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d52ff0f1e1d082cbd329158182e935?s=128&d=identicon&r=PG&f=1", "display_name": "Carlton McDonald", "link": "https://stackoverflow.com/users/8711698/carlton-mcdonald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15538, "favorite_count": 0, "answer_count": 4, "score": 12, "last_activity_date": 1547263261, "creation_date": 1507002354, "last_edit_date": 1547263261, "question_id": 46536902, "link": "https://stackoverflow.com/questions/46536902/how-do-i-set-the-text-of-an-edittext-to-an-int", "title": "How do I set the text of an EditText to an Int?", "body": "<p>In an attempt to set an <code>EditText</code> to an <code>Int</code> value, I've tried various ways of converting the <code>Int</code> to a value that the <code>EditText</code> will accept, but all fail:</p>\n\n<pre><code>   processButton.setOnClickListener {\n        var intNo = inputText.text as Int\n        intNo *= 2\n        outputText.text = intNo as String       // error = \"required editable\"\n        outputText.text = intNo.toString()      // err: type mismatch \n        outputText.text = Int.toString(intNo)   // type mismatch reqd editable\n        outputText.text = \"What is going on?\"   // type mismatch reqd editable\n    }\n</code></pre>\n\n<p>How can I set the <code>EditText</code> to an <code>Int</code> value?</p>\n"}, {"tags": ["java", "scala", "gradle", "kotlin", "build.gradle"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1507007788, "post_id": 46536792, "comment_id": 80029537, "body": "You have to be careful when you use more then one not-Java-JVM language. What class is <code>Unresolved reference: Flag</code> of? Is it <code>scala</code>? Can you run <code>.&#47;gradlew clean testClasses --info</code> and post the output"}, {"owner": {"reputation": 314, "user_id": 8711684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8063a0307ffafeb9b57529d73e2bd640?s=128&d=identicon&r=PG", "display_name": "Ray Eldath", "link": "https://stackoverflow.com/users/8711684/ray-eldath"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1507046631, "post_id": 46536792, "comment_id": 80051919, "body": "@guenhter   This error happened when <code>Kotlin</code> refer to <code>Scala</code>, when execute <code>gradle build</code>. And the output of <code>gradle clean testClasses --info</code> now posted..."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1507052592, "post_id": 46536792, "comment_id": 80055197, "body": "Can you please post more of the output. Best would be from the top. I have an idea what the problem is, but I need more log."}, {"owner": {"reputation": 314, "user_id": 8711684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8063a0307ffafeb9b57529d73e2bd640?s=128&d=identicon&r=PG", "display_name": "Ray Eldath", "link": "https://stackoverflow.com/users/8711684/ray-eldath"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1507060410, "post_id": 46536792, "comment_id": 80059195, "body": "@guenhter I had post full log on <a href=\"https://gist.github.com/Ray-Eldath/adbb6947e3c286ccf56f4e53eaaebc04\" rel=\"nofollow noreferrer\">Github Gist</a>"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1507094064, "post_id": 46536792, "comment_id": 80068692, "body": ":) ok than it&#39;s clear. See my answer below"}], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 8711684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8063a0307ffafeb9b57529d73e2bd640?s=128&d=identicon&r=PG", "display_name": "Ray Eldath", "link": "https://stackoverflow.com/users/8711684/ray-eldath"}, "edited": false, "score": 0, "creation_date": 1507099603, "post_id": 46557713, "comment_id": 80070959, "body": "Many thanks first. But are there any other solutions exist? Just to make sure I do have to rewrite all the Scala code, and this project could compile and run in IDEA <b>normally</b>."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 314, "user_id": 8711684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8063a0307ffafeb9b57529d73e2bd640?s=128&d=identicon&r=PG", "display_name": "Ray Eldath", "link": "https://stackoverflow.com/users/8711684/ray-eldath"}, "edited": false, "score": 0, "creation_date": 1507109002, "post_id": 46557713, "comment_id": 80076202, "body": "I had the same issue in my old company with <code>groovy</code> and <code>scala</code>. It works in the IDE (not sure why; IntellJ is a magical piece of software anyway) but with gradle it is absolutely deterministic and reasonable why this can&#39;t work (unless we have a super compiler which allows to cross compile all the JVM languages)"}, {"owner": {"reputation": 314, "user_id": 8711684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8063a0307ffafeb9b57529d73e2bd640?s=128&d=identicon&r=PG", "display_name": "Ray Eldath", "link": "https://stackoverflow.com/users/8711684/ray-eldath"}, "edited": false, "score": 0, "creation_date": 1507271183, "post_id": 46557713, "comment_id": 80150935, "body": "I had finished rewrite and this certainly helps, thanks a lot."}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 4, "last_activity_date": 1507095498, "creation_date": 1507095498, "answer_id": 46557713, "question_id": 46536792, "link": "https://stackoverflow.com/questions/46536792/gradle-build-failed-with-kotlin-scala-and-java/46557713#46557713", "title": "Gradle build failed with Kotlin, Scala and Java", "body": "<p>The problem you have are the different languages.</p>\n\n<p><strong>Some Kotlin and Java</strong></p>\n\n<p>Let's assume you just have kotlin and java.\nThan you can access from (<code>-&gt;</code> means A accesses classes of B)</p>\n\n<pre><code>kotlin -&gt; java \njava -&gt; kotlin\n</code></pre>\n\n<p>The reason you can do that, is because during the compilation (<code>compileKotlin</code>) Kotlin take care of this <em>crossCompilation</em>/<em>jointCompilation</em>/<em>whatever-other-name</em> between those two languages.</p>\n\n<hr>\n\n<p><strong>Kotlin and Scala (one direction)</strong></p>\n\n<p>But if you have the case:</p>\n\n<pre><code>kotlin -&gt; scala\n</code></pre>\n\n<p>than you must consider the the following:\nwhen <code>compileKotlin</code> runs, it compiles all <code>.java</code> and <code>.kt</code> files to <code>class</code> files, but non of the <code>.scala</code> files (because it doesn't know anything about <code>scala</code>). \nWhen you now access <code>scala</code> classes from <code>kotlin</code>, than you must first compile those <code>.scala</code> classes, to ensure that the <code>compileKotlin</code> compilation process find those <code>.class</code> files for a successful compilation. </p>\n\n<p>You can define that <code>scala</code> must run before <code>kotlin</code> with e.g.</p>\n\n<pre><code>compileKotlin.dependsOn compileScala\n</code></pre>\n\n<hr>\n\n<p><strong>Kotlin and Scala (both directions)</strong></p>\n\n<p>So good so far, but the problem is, when you have</p>\n\n<pre><code>kotlin -&gt; scala\nscala -&gt; kotlin\n</code></pre>\n\n<p>Because this scenario is not working. </p>\n\n<p>You need to compile the <code>scala</code> classes first, to successfully compile the <code>kotlin</code> classes (see description above). But on the other hand, you need the <code>kotlin</code> classes to be compiled, to successfully compile the <code>scala</code> classes.\nThat's a problem. </p>\n\n<p>The solution would be, that one of the languages allows <em>jointCompilation</em> for all of the languages (but this will never happen).</p>\n\n<p>So for two JVM languages, where both are not <code>Java</code>, you must decide, which direction of access is allowed. But you can't allow both directions of access.</p>\n\n<p>In such cases, it often helps, to put the logic into a <code>java</code> class, and access this <code>java</code> class instead of the e.g. <code>scala</code> class.</p>\n\n<p>The problem is also the same for e.g. <code>groovy</code>, <code>java</code> and some other jvm language, like in the post <a href=\"https://discuss.gradle.org/t/kotlin-groovy-and-java-compilation/14903/10\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/kotlin-groovy-and-java-compilation/14903/10</a></p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 1734978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/557bc951fa8e7f338e2c47286499b656?s=128&d=identicon&r=PG", "display_name": "Tawarwaith", "link": "https://stackoverflow.com/users/1734978/tawarwaith"}, "is_accepted": false, "score": 3, "last_activity_date": 1560861130, "creation_date": 1560861130, "answer_id": 56649253, "question_id": 46536792, "link": "https://stackoverflow.com/questions/46536792/gradle-build-failed-with-kotlin-scala-and-java/56649253#56649253", "title": "Gradle build failed with Kotlin, Scala and Java", "body": "<p>The missing link to let Scala call Kotlin code would be to add the following in build.gradle</p>\n\n<pre><code>compileScala.classpath += files(compileKotlin.destinationDir)\n</code></pre>\n\n<p>Based on <a href=\"https://discuss.gradle.org/t/kotlin-groovy-and-java-compilation/14903/3\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/kotlin-groovy-and-java-compilation/14903/3</a></p>\n"}], "owner": {"reputation": 314, "user_id": 8711684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8063a0307ffafeb9b57529d73e2bd640?s=128&d=identicon&r=PG", "display_name": "Ray Eldath", "link": "https://stackoverflow.com/users/8711684/ray-eldath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1467, "favorite_count": 0, "accepted_answer_id": 46557713, "answer_count": 2, "score": 2, "last_activity_date": 1560861130, "creation_date": 1507001420, "last_edit_date": 1507060563, "question_id": 46536792, "link": "https://stackoverflow.com/questions/46536792/gradle-build-failed-with-kotlin-scala-and-java", "title": "Gradle build failed with Kotlin, Scala and Java", "body": "<p>I have a project written in Java, Scala and Kotlin.</p>\n\n<p>But when I build this project in Gradle, it error with message:</p>\n\n<pre><code>11:19:51: Executing task 'build'...\n\n:compileKotlin\nUsing Kotlin incremental compilation\ne: F:\\Code\\Project\\Avalon\\src\\main\\kotlin\\avalon\\group\\Execute.kt: (3, 19):             \nUnresolved reference: Flag\ne: F:\\Code\\Project\\Avalon\\src\\main\\kotlin\\avalon\\group\\Execute.kt: (10, 18):     \nUnresolved reference: GroupMessageResponder\ne: F:\\Code\\Project\\Avalon\\src\\main\\kotlin\\avalon\\group\\Execute.kt: (13, 2): \n'doPost' overrides nothing\ne: F:\\Code\\Project\\Avalon\\src\\main\\kotlin\\avalon\\group\\Execute.kt: (35, 23): \nUnresolved reference: Flag\ne: F:\\Code\\Project\\Avalon\\src\\main\\kotlin\\avalon\\group\\Execute.kt: (38, 2): \n'getHelpMessage' overrides nothing\ne: F:\\Code\\Project\\Avalon\\src\\main\\kotlin\\avalon\\group\\Execute.kt: (40, 2): \n'getKeyWordRegex' overrides nothing\ne: F:\\Code\\Project\\Avalon\\src\\main\\kotlin\\avalon\\group\\Execute.kt: (42, 2): \n'instance' overrides nothing\n:compileKotlin FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --\ndebug option to get more log output.\n\nBUILD FAILED in 1s\n1 actionable task: 1 executed\nCompilation error. See log for more details\n11:19:53: Task execution finished 'build'.\n</code></pre>\n\n<p>Those errors are all about 'Unresolved reference', and those 'reference' are all written in Scala or Java.</p>\n\n<p>But run this project in IDEA <strong>works fine</strong>.</p>\n\n<p>I thought this was caused by Gradle compile Kotlin first, which should compiled in last, so those 'reference' could not be found.</p>\n\n<p>And this is my <code>build.gradle</code>: <a href=\"https://github.com/Ray-Eldath/Avalon/blob/master/build.gradle\" rel=\"nofollow noreferrer\">build.gradle</a></p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>A part of output of <code>gradle clean testClasses --info</code>: </p>\n\n<pre><code>...SKIP...\n&gt; Task :compileKotlin\nUsing Kotlin incremental compilation\n\ne: F:\\Code\\Project\\Avalon\\src\\main\\kotlin\\avalon\\group\\Execute.kt: (3, 19): \nUnresolved reference: Flag\ne: F:\\Code\\Project\\Avalon\\src\\main\\kotlin\\avalon\\group\\Execute.kt: (11, 18): \nUnresolved reference: GroupMessageResponder\n...SKIP....\n\n&gt; Task :compileKotlin\n[KOTLIN] deleting F:\\Code\\Project\\Avalon\\build\\classes\\kotlin\\main on error\n[KOTLIN] deleting F:\\Code\\Project\\Avalon\\build\\classes\\kotlin\\main on error\n\n:compileKotlin (Thread[Task worker Thread 3,5,main]) completed. Took 15.981 secs.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --debug option \nto get more log output.\n\nBUILD FAILED in 24s\n2 actionable tasks: 2 executed\nStopped 0 worker daemon(s).\n</code></pre>\n\n<p><strong>Full output posted</strong> <a href=\"https://gist.github.com/Ray-Eldath/adbb6947e3c286ccf56f4e53eaaebc04\" rel=\"nofollow noreferrer\"><strong>here</strong></a>.</p>\n"}, {"tags": ["java", "kotlin", "discord"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8711561, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qSERJhr8PL4/AAAAAAAAAAI/AAAAAAAAB3Q/cJiEUeWNsas/photo.jpg?sz=128", "display_name": "Sr C", "link": "https://stackoverflow.com/users/8711561/sr-c"}, "edited": false, "score": 0, "creation_date": 1507056589, "post_id": 46537709, "comment_id": 80057232, "body": "It still gives error, I put it in the resources folder, what would path be like?"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 1, "user_id": 8711561, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qSERJhr8PL4/AAAAAAAAAAI/AAAAAAAAB3Q/cJiEUeWNsas/photo.jpg?sz=128", "display_name": "Sr C", "link": "https://stackoverflow.com/users/8711561/sr-c"}, "edited": false, "score": 0, "creation_date": 1507094036, "post_id": 46537709, "comment_id": 80068684, "body": "Is it still the same error, or to you now get the <code>RuntimeException</code> we throw because the image doesn&#39;t exists?"}, {"owner": {"reputation": 1, "user_id": 8711561, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qSERJhr8PL4/AAAAAAAAAAI/AAAAAAAAB3Q/cJiEUeWNsas/photo.jpg?sz=128", "display_name": "Sr C", "link": "https://stackoverflow.com/users/8711561/sr-c"}, "edited": false, "score": 0, "creation_date": 1507242305, "post_id": 46537709, "comment_id": 80144223, "body": "RuntimeException"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 1, "user_id": 8711561, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qSERJhr8PL4/AAAAAAAAAAI/AAAAAAAAB3Q/cJiEUeWNsas/photo.jpg?sz=128", "display_name": "Sr C", "link": "https://stackoverflow.com/users/8711561/sr-c"}, "edited": false, "score": 0, "creation_date": 1507268353, "post_id": 46537709, "comment_id": 80149857, "body": "If the file is stored in your project&#39;s home, just remove the heading <code>&#47;</code>. To know where you are, you can always print out <code>println(File(&quot;.&quot;).absolutePath)</code>"}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 0, "last_activity_date": 1507008324, "creation_date": 1507008324, "answer_id": 46537709, "question_id": 46536310, "link": "https://stackoverflow.com/questions/46536310/imageio-cant-read-input-file-kotlin/46537709#46537709", "title": "ImageIO Can&#39;t read input file (Kotlin)", "body": "<p>The path <code>/sam.png</code> means that the file is available in the root path (not the workiing path of your project but the root path of your system). I doubt that this is the case. </p>\n\n<p>I guess you want that path: <code>./sam.png</code>.\nWould be better to check if the file exists with </p>\n\n<pre><code>override fun run(ev: MessageReceivedEvent) {\n    val imagePath = \"/sam.png\"\n    val image = File(imagePath)\n    if (!image.exists()) throw RuntimeException(\"Image $imagePath not found\")\n    if (image.isDirectory) throw RuntimeException(\"Image $imagePath is a directory\")\n\n    var selaSam: Image = ImageIO.read(image)\n    var image = LikeUtils.downloadImage(LikeUtils.getUserHandle(ev).getEffectiveAvatarUrl())\n\n    image.graphics.drawImage(selaSam, 200, 200, null)\n\n    LikeUtils.sendFile(image, \"/resources/sam.png\", null)\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8711561, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qSERJhr8PL4/AAAAAAAAAAI/AAAAAAAAB3Q/cJiEUeWNsas/photo.jpg?sz=128", "display_name": "Sr C", "link": "https://stackoverflow.com/users/8711561/sr-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1212, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507008324, "creation_date": 1506997430, "last_edit_date": 1506997680, "question_id": 46536310, "link": "https://stackoverflow.com/questions/46536310/imageio-cant-read-input-file-kotlin", "title": "ImageIO Can&#39;t read input file (Kotlin)", "body": "<p>Hi i using kotlin to make a discord bot, I have a PNG called <code>sam.png</code>\nbut i try to insert and get this error:</p>\n\n<blockquote>\n  <p>[23:18:38] [Fatal] [JDA]: javax.imageio.IIOException: Can't read input\n  file!</p>\n</blockquote>\n\n<pre><code>override fun run(ev: MessageReceivedEvent) {\n    var selaSam: Image = ImageIO.read(File(\"/sam.png\"))\n    var image = LikeUtils.downloadImage(LikeUtils.getUserHandle(ev).getEffectiveAvatarUrl())\n\n    image.graphics.drawImage(selaSam, 200, 200, null)\n\n    LikeUtils.sendFile(image, \"/resources/sam.png\", null)\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 16751, "user_id": 602094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/725306370a270aec71f052f366496ddb?s=128&d=identicon&r=PG", "display_name": "triad", "link": "https://stackoverflow.com/users/602094/triad"}, "edited": false, "score": 0, "creation_date": 1506990775, "post_id": 46535411, "comment_id": 80025742, "body": "<a href=\"https://stackoverflow.com/questions/43826699/single-exclamation-mark-in-kotlin\" title=\"single exclamation mark in kotlin\">stackoverflow.com/questions/43826699/&hellip;</a>"}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1507011798, "post_id": 46535411, "comment_id": 80030928, "body": "Guys are right - it is a duplicate. But ! indicates so called platform type."}, {"owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "edited": false, "score": 0, "creation_date": 1507021447, "post_id": 46535411, "comment_id": 80035820, "body": "thanks...yes, could not find that one by search but it gives the answer"}], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1507021128, "answer_count": 0, "score": 0, "last_activity_date": 1506989461, "creation_date": 1506989461, "question_id": 46535411, "link": "https://stackoverflow.com/questions/46535411/what-is-the-significance-of-a-following-a-type-in-kotlin", "closed_reason": "Duplicate", "title": "What is the significance of a ! following a type in kotlin?", "body": "<p>Code:</p>\n\n<pre><code>import java.nio.channels.AsynchronousSocketChannel\nval sock = AsynchronousSocketChannel.open()\n</code></pre>\n\n<p>Intellij identifies the type of 'sock' as <code>AsynchronousSocketChannel!</code> (with the !).\nHowever if I manually specify the type as <code>:AsynchronousSocketChannel</code> the code also works (and Intellij no longer indicates the '!'), so the ! is only some annotation on the type.  But what does this annotation signify?  It would be great to know.</p>\n"}, {"tags": ["android", "lambda", "interface", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 2521605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff171943c3f7e8f50d5d008fba9f4e7?s=128&d=identicon&r=PG", "display_name": "sophia", "link": "https://stackoverflow.com/users/2521605/sophia"}, "edited": false, "score": 0, "creation_date": 1506990089, "post_id": 46535346, "comment_id": 80025611, "body": "Yes, this code works fine, but I&#39;m trying to avoid the &quot;boilerplate&quot; code using kotlin lambdas. In fact, that&#39;s the gist of my question."}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "reply_to_user": {"reputation": 419, "user_id": 2521605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff171943c3f7e8f50d5d008fba9f4e7?s=128&d=identicon&r=PG", "display_name": "sophia", "link": "https://stackoverflow.com/users/2521605/sophia"}, "edited": false, "score": 0, "creation_date": 1506991479, "post_id": 46535346, "comment_id": 80025892, "body": "I explained why, you don&#39;t have a functional interface, that is how it is written in Kotlin - having <code>,</code> between method implementations in the same anonymous class isn&#39;t valid in Kotlin. If you want to create less boiler plate split it out into 2 functional interfaces and have the constructor take 2 arguments then you&#39;re implementation would work or just remove <code>onError()</code> in your interface since you have any implementation for it anyway"}, {"owner": {"reputation": 419, "user_id": 2521605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff171943c3f7e8f50d5d008fba9f4e7?s=128&d=identicon&r=PG", "display_name": "sophia", "link": "https://stackoverflow.com/users/2521605/sophia"}, "edited": false, "score": 0, "creation_date": 1507055469, "post_id": 46535346, "comment_id": 80056688, "body": "Oh I&#39;m sorry, I didn&#39;t look up what a functional interface is. Is this in the Kotlin docs anywhere?"}], "tags": [], "owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "is_accepted": false, "score": 6, "last_activity_date": 1563119770, "last_edit_date": 1563119770, "creation_date": 1506988950, "answer_id": 46535346, "question_id": 46534885, "link": "https://stackoverflow.com/questions/46534885/overriding-multiple-interface-methods-in-kotlin-lambda-expressions/46535346#46535346", "title": "Overriding multiple interface methods in Kotlin lambda expressions", "body": "<p>So you're creating an instance on an anonymous class that is not a functional interface (they only have one method) so it would be something like : </p>\n\n<pre><code>val myLocationClient = MyLocationClient(object : Callbacks {\n\n        override fun onCurrentLocation(location : ClientLocation?){\n            location?.run{ updateLocation(this) }\n        }\n\n        override fun onError(){ // should you not handle errors? }\n    })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 419, "user_id": 2521605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff171943c3f7e8f50d5d008fba9f4e7?s=128&d=identicon&r=PG", "display_name": "sophia", "link": "https://stackoverflow.com/users/2521605/sophia"}, "edited": false, "score": 1, "creation_date": 1507055742, "post_id": 46537798, "comment_id": 80056821, "body": "I&#39;m thinking of making this the accepted answer because, to my understanding, this is in fact the reason why you can&#39;t do what I&#39;m asking."}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 0, "last_activity_date": 1507008981, "creation_date": 1507008981, "answer_id": 46537798, "question_id": 46534885, "link": "https://stackoverflow.com/questions/46534885/overriding-multiple-interface-methods-in-kotlin-lambda-expressions/46537798#46537798", "title": "Overriding multiple interface methods in Kotlin lambda expressions", "body": "<p>I guess this is a good thing, that it doesn't work, because what do you do, when the interface has two functions of the same type? </p>\n\n<pre><code>public interface Callbacks {\n    void anotherFunction(ClientLocation location);\n\n    void onCurrentLocation(ClientLocation location);\n}\n</code></pre>\n\n<p>So restricting this to SAM (single abstract method) interfaces is a good approach I would say.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1507012826, "creation_date": 1507012826, "answer_id": 46538525, "question_id": 46534885, "link": "https://stackoverflow.com/questions/46534885/overriding-multiple-interface-methods-in-kotlin-lambda-expressions/46538525#46538525", "title": "Overriding multiple interface methods in Kotlin lambda expressions", "body": "<p>You can define</p>\n\n<pre><code>class CallbacksImpl(private val onCurrentLocationF: (ClientLocation) -&gt; Unit, private val onErrorF: () -&gt; Unit) : Callbacks {\n  override fun onCurrentLocation(location : ClientLocation) { onCurrentLocationF(location) }\n\n  override fun onError() { onErrorF() }\n}\n</code></pre>\n\n<p>and use it</p>\n\n<pre><code>MyLocationClient(CallbacksImpl(\n    { location -&gt; updateClientLocation(location) },\n    {}))\n</code></pre>\n\n<p>It still has some boilerplate, but once per interface instead of once per use, so it can easily be a good tradeoff.</p>\n"}, {"comments": [{"owner": {"reputation": 419, "user_id": 2521605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff171943c3f7e8f50d5d008fba9f4e7?s=128&d=identicon&r=PG", "display_name": "sophia", "link": "https://stackoverflow.com/users/2521605/sophia"}, "edited": false, "score": 0, "creation_date": 1507146908, "post_id": 46559565, "comment_id": 80099906, "body": "Can you include the syntax you used to pass this as a function argument?"}], "tags": [], "owner": {"reputation": 3278, "user_id": 3282461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v6pSx.png?s=128&g=1", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/3282461/ankit-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1507103084, "creation_date": 1507103084, "answer_id": 46559565, "question_id": 46534885, "link": "https://stackoverflow.com/questions/46534885/overriding-multiple-interface-methods-in-kotlin-lambda-expressions/46559565#46559565", "title": "Overriding multiple interface methods in Kotlin lambda expressions", "body": "<pre><code>interface IAnimatedRatingBar {\n   fun setProgressImageResource(resourceId: Int)\n\n\n   fun setProgressImageDrawable(drawable: Drawable)\n\n\n   fun setSecondaryProgressImageResource(resourceId: Int)\n\n\n   fun setSecondaryProgressImageDrawable(drawable: Drawable)\n\n   fun startAnimate()\n}\n</code></pre>\n\n<p>This works fine for me.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10316562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6d62a0098a189f5f0406d7cba0a0c0c?s=128&d=identicon&r=PG&f=1", "display_name": "Nero", "link": "https://stackoverflow.com/users/10316562/nero"}, "is_accepted": false, "score": 0, "last_activity_date": 1613737138, "creation_date": 1613737138, "answer_id": 66277443, "question_id": 46534885, "link": "https://stackoverflow.com/questions/46534885/overriding-multiple-interface-methods-in-kotlin-lambda-expressions/66277443#66277443", "title": "Overriding multiple interface methods in Kotlin lambda expressions", "body": "<p>You can use higher order function of Kotlin and merge both method of interface check this example</p>\n<pre><code>import android.location.Location\n\ninterface Callbacks {\n\n fun onCurrentLocation(location: Location)\n \n fun onError()\n\n}\n</code></pre>\n<p>Now define a class that implement Callbacks interface</p>\n<pre><code>import android.location.Location\n\nclass MyLocationClient(private val callbackListener: (isSuccess:Boolean, location: Location?, error:String) -&gt; Unit): Callbacks {\n\noverride fun onCurrentLocation(location: Location) {\n    callbackListener(true,location, &quot;No Error&quot;)\n}\n\noverride fun onError() {\n    callbackListener(false,null, &quot;Unable to get location&quot;)\n}\n\n}\n</code></pre>\n<p>Use it wherever you like</p>\n<pre><code>val myLocationClient = MyLocationClient { isSuccess, location, error -&gt;\n        if (isSuccess){\n            // proceed with location\n        }else{\n            // error occured show it to user\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 2521605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff171943c3f7e8f50d5d008fba9f4e7?s=128&d=identicon&r=PG", "display_name": "sophia", "link": "https://stackoverflow.com/users/2521605/sophia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2969, "favorite_count": 0, "accepted_answer_id": 46537798, "answer_count": 5, "score": 4, "last_activity_date": 1613737138, "creation_date": 1506985196, "last_edit_date": 1506990238, "question_id": 46534885, "link": "https://stackoverflow.com/questions/46534885/overriding-multiple-interface-methods-in-kotlin-lambda-expressions", "title": "Overriding multiple interface methods in Kotlin lambda expressions", "body": "<p>Say I have a <code>Callbacks</code> interface with two methods <code>onCurrentLocation</code> and <code>onError</code>:</p>\n\n<pre><code>    public interface Callbacks {\n\n        void onCurrentLocation(ClientLocation location);\n\n        void onError();\n    }\n</code></pre>\n\n<p>and a class that takes this interface in its constructor, say:</p>\n\n<pre><code>public MyLocationClient(Callbacks callbacks) {...}\n</code></pre>\n\n<p>Now, in Kotlin, should I be able to instantiate MyLocationClient this way:</p>\n\n<pre><code>val myLocationClient = MyLocationClient(\n                    { location: ClientLocation -&gt;\n                          updateClientLocation(location)\n                    },\n                    {})\n</code></pre>\n\n<p>and if not, why not? </p>\n\n<p>The behavior I'm seeing is: When the interface only has one method, the construction of this object compiles fine. But, as soon as I add more methods to <code>Callbacks</code>, the compiler complains </p>\n\n<blockquote>\n  <p>\"Type mismatch.  Required: Callbacks!  Found: (ClientLocation) ->\n  Unit\"</p>\n</blockquote>\n\n<p>Edit: removed the null check for <code>location</code> since it was irrelevant to the question.</p>\n"}, {"tags": ["object", "inheritance", "interface", "kotlin", "delegation"], "answers": [{"tags": [], "owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1506967919, "last_edit_date": 1506967919, "creation_date": 1506967386, "answer_id": 46531118, "question_id": 46530978, "link": "https://stackoverflow.com/questions/46530978/object-quick-inheritance-and-interface-meaning/46531118#46531118", "title": "Object quick inheritance and Interface meaning", "body": "<p>You have created an instance of an anonymous class that inherits from class <code>Ball</code> and at the same time implements interface <code>Toy</code>.</p>\n\n<p>But, both of these types are exclusive, ie. <code>Ball</code> is not a <code>Toy</code> (in your example), so you cannot call <code>play()</code> on a reference to <code>Ball</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1506967501, "creation_date": 1506967501, "answer_id": 46531151, "question_id": 46530978, "link": "https://stackoverflow.com/questions/46530978/object-quick-inheritance-and-interface-meaning/46531151#46531151", "title": "Object quick inheritance and Interface meaning", "body": "<p>You're correct, the interface <code>B</code> (or in your example, <code>Toy</code>) will not be directly accessible through this reference if <code>A</code> (or <code>Ball</code>) doesn't implement it.</p>\n\n<p>Inheriting from that interface is probably just added here so that this example intended to show how constructor parameters are passed to a superclass can also show off inheriting from multiple types very quickly. Or at least that's what I gather from the text accompanying it:</p>\n\n<blockquote>\n  <p>If a supertype has a constructor, appropriate constructor parameters must be passed to it. Many supertypes may be specified as a comma-separated list after the colon.</p>\n</blockquote>\n\n<hr>\n\n<p>To get to the issue of not being able to use the created <code>object</code> as a <code>B</code> (or <code>Toy</code>) here: this doesn't make the language feature useless, since the created <code>object</code> can still be used through its multiple interfaces through casting. For example, in your example, you can do this:</p>\n\n<pre><code>(ball as Toy).play()\n</code></pre>\n\n<p>Or in the original example, you could make the type <code>Any</code>, and then cast to the different interfaces as needed.</p>\n"}], "owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 46531151, "answer_count": 2, "score": 0, "last_activity_date": 1506967919, "creation_date": 1506966816, "question_id": 46530978, "link": "https://stackoverflow.com/questions/46530978/object-quick-inheritance-and-interface-meaning", "title": "Object quick inheritance and Interface meaning", "body": "<p>I find in <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">Kotlin: Object</a> documentation an example: </p>\n\n<pre><code>open class A(x: Int) {\n    public open val y: Int = x\n}\n\ninterface B {...}\n\nval ab: A = object : A(1), B {\n    override val y = 15\n}\n</code></pre>\n\n<p>So I implemented that example with more meaningful names and I have no clue what is the reason of the interface among the comma separated list of supertypes to the object?</p>\n\n<pre><code>interface Toy {\n    fun play () {\n        println(\"Play, play....\")\n    }\n}\n\nopen class Ball(public open val color: String = \"red\") {}\n\nval ball: Ball = object : Ball(), Toy {\n    override val color : String = \"blue\"\n    override fun play() {\n        println(\"Bounce, bounce...\")\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(ball.color)\n    // no ball.play() here then why the interface in the example ???\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlintest"], "answers": [{"tags": [], "owner": {"reputation": 323, "user_id": 473308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcbdf0bec0002658349a2fa6838a3bd9?s=128&d=identicon&r=PG", "display_name": "anti_social", "link": "https://stackoverflow.com/users/473308/anti-social"}, "is_accepted": true, "score": 1, "last_activity_date": 1512745298, "creation_date": 1512745298, "answer_id": 47716916, "question_id": 46529871, "link": "https://stackoverflow.com/questions/46529871/how-to-properly-initialize-shared-resource-in-kotlintest-2-x-interceptspec/47716916#47716916", "title": "how to properly initialize shared resource in kotlintest 2.x (interceptSpec)", "body": "<p><code>kotlintest</code> 2.x creates new instance of test case for every test. You can either cancel that behaviour clearing flag:</p>\n\n<pre><code>override val oneInstancePerTest = false\n</code></pre>\n\n<p>Or explicitly add your interceptors to test:</p>\n\n<pre><code>val withFoo: (TestCaseContext, () -&gt; Unit) -&gt; Unit = { context, spec -&gt;\n    foo = \"foo\"\n    spec()\n}\n\ninit {\n    \"some test\" {\n        println(\"inside test - $foo\")\n    }.config(interceptors = listOf(withFoo))\n}\n</code></pre>\n"}], "owner": {"reputation": 423, "user_id": 938337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd7057ea56ee87b40f30e591d148760c?s=128&d=identicon&r=PG", "display_name": "Danny G", "link": "https://stackoverflow.com/users/938337/danny-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 47716916, "answer_count": 1, "score": 0, "last_activity_date": 1512745298, "creation_date": 1506962330, "question_id": 46529871, "link": "https://stackoverflow.com/questions/46529871/how-to-properly-initialize-shared-resource-in-kotlintest-2-x-interceptspec", "title": "how to properly initialize shared resource in kotlintest 2.x (interceptSpec)", "body": "<p>I'm trying to do a standard <code>beforeAll</code>/<code>afterAll</code> type setup in the unit tests, but am having some problems.  It seems like the <a href=\"https://github.com/kotlintest/kotlintest/blob/master/doc/reference.md#intercepting-a-spec%20interceptSpec\" rel=\"nofollow noreferrer\"><code>interceptSpec</code></a> functionality is what I want and the documentation explicitly mentions this is good for e.g. cleaning up database resources, but I can't find a good example. Code below:</p>\n\n<pre><code>class MyTest : StringSpec() {\n    lateinit var foo: String\n\n    override fun interceptSpec(context: Spec, spec: () -&gt; Unit) {\n        foo = \"foo\"\n        println(\"before spec - $foo\")\n        spec()\n        println(\"after spec - $foo\")\n    }\n\n    init {\n        \"some test\" {\n            println(\"inside test - $foo\")\n        }\n    }\n}\n</code></pre>\n\n<p>This results in the below output:</p>\n\n<pre><code>before spec - foo\nkotlin.UninitializedPropertyAccessException: lateinit property foo has not been initialized\n    ... stack trace omitted ...\nafter spec - foo\n</code></pre>\n"}, {"tags": ["android", "animation", "kotlin", "objectanimator"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1506962567, "post_id": 46529770, "comment_id": 80014395, "body": "why dont you use <code>android.transition.Scene</code>s? more: <a href=\"https://developer.android.com/training/transitions/index.html\" rel=\"nofollow noreferrer\">developer.android.com/training/transitions/index.html</a>"}, {"owner": {"reputation": 2214, "user_id": 3225200, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FlVaZ.png?s=128&g=1", "display_name": "Niels Masdorp", "link": "https://stackoverflow.com/users/3225200/niels-masdorp"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1506969880, "post_id": 46529770, "comment_id": 80018130, "body": "I have to dynamically animate an <code>ImageView</code> from a <code>RecyclerView</code> from a <code>Fragment</code> onto a view in my <code>BottomNavivationView</code>, which is placed in the outer <code>Activity</code>. Not sure how that can be achieved with <code>Scenes</code>."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1506971372, "post_id": 46529770, "comment_id": 80018853, "body": "see <a href=\"https://developer.android.com/training/material/animations.html#Transitions\" rel=\"nofollow noreferrer\">developer.android.com/training/material/&hellip;</a> or / and <a href=\"http://guides.codepath.com/android/shared-element-activity-transition\" rel=\"nofollow noreferrer\">guides.codepath.com/android/shared-element-activity-transiti&zwnj;&#8203;on</a>"}, {"owner": {"reputation": 2214, "user_id": 3225200, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FlVaZ.png?s=128&g=1", "display_name": "Niels Masdorp", "link": "https://stackoverflow.com/users/3225200/niels-masdorp"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1506973154, "post_id": 46529770, "comment_id": 80019703, "body": "There is no <code>Intent</code> being fired, so no shared element transition. The fragment is inflated inside the <code>Activity</code>. I am trying to move a <code>View</code> on the decor view independently of any <code>Activity</code>/<code>Fragment</code>."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1506973677, "post_id": 46529770, "comment_id": 80019950, "body": "i though that <code>&quot;outer Activity&quot;</code>is a separate <code>Activity</code> you are starting, so if transitions are to be applied inside the same activity the first link is valid"}, {"owner": {"reputation": 2214, "user_id": 3225200, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FlVaZ.png?s=128&g=1", "display_name": "Niels Masdorp", "link": "https://stackoverflow.com/users/3225200/niels-masdorp"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1506974449, "post_id": 46529770, "comment_id": 80020357, "body": "Let me clarify. There is a <code>Fragment</code> that is inflated in an <code>Activity</code>. The Fragment has an <code>RecyclerView</code> with dynamic views with an <code>ImageView</code> inside each item. When a cell is clicked, that <code>ImageView</code> has to be copied on top of the existing <code>ImageView</code> and animated to an absolute position in the layout of the outer <code>Activity</code>. If this can be achieved with <code>Scenes</code> i&#39;ll get back to you, but I doubt it."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1507013877, "post_id": 46529770, "comment_id": 80031840, "body": "ok if you dont want to use <code>TransitionManager</code> try setting pivot x/y to 0 (<code>View#setPivotX&#47;Y</code>), default is center of the view and this could make some problems when scaling and translating"}], "owner": {"reputation": 2214, "user_id": 3225200, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FlVaZ.png?s=128&g=1", "display_name": "Niels Masdorp", "link": "https://stackoverflow.com/users/3225200/niels-masdorp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506974687, "creation_date": 1506961936, "last_edit_date": 1506974687, "question_id": 46529770, "link": "https://stackoverflow.com/questions/46529770/different-target-positions-when-using-different-view-sizes-with-objectanimator", "title": "Different target positions when using different view sizes with ObjectAnimator", "body": "<p>I am trying to implement an animation where I create an copy of an <code>ImageView</code>, shrink it and move it to the position of another view along a curve. The goal is that the view disappears when it reaches the position of the target view. My animation code is as follows (code simplified for this question):</p>\n\n<pre><code>fun animate(imageViewToCopy: ImageView, targetView: ImageView) {\n    // create copy of ImageView\n    val copy = imageViewToCopy.createCopy()\n    // draw it on the decor view (params excluded, from example code)\n    activity.window.decorView.addView(copy)\n    startAnimation(copy, targetView)\n}\n\nprivate fun startAnimation(imageView: ImageView, targetView: ImageView) {\n\n    val dest = IntArray(2)\n    targetView.getLocationOnScreen(dest)\n\n    val targetX = dest[0]\n    val targetY = dest[1]\n\n    val disappearAnimatorY = ObjectAnimator.ofFloat(imageView, View.SCALE_Y, 1f, 0f)\n    val disappearAnimatorX = ObjectAnimator.ofFloat(imageView, View.SCALE_X, 1f, 0f)\n    val translatorY = ObjectAnimator.ofFloat(imageView, View.Y, targetY.toFloat())\n    val translatorX = ObjectAnimator.ofFloat(imageView, View.X, targetX.toFloat())\n    translatorX.interpolator = TimeInterpolator { input -&gt;\n        // create curve\n        (-Math.pow((input - 1).toDouble(), 2.0) + 1f).toFloat()\n    }\n\n    AnimatorSet().apply {\n        playSequentially(disappearAnimatorX, disappearAnimatorY, translatorX, translatorY)\n        duration = 1000L          \n        start()\n    }\n}\n</code></pre>\n\n<p>The problem is that the size of the <code>ImageView</code> that I'm animating changes the position where it ends up. So when I use a small one it ends up at the bottom right of the target view, but when the <code>ImageView</code> is bigger it ends up somewhere out of the screen. I would expect that the size doesn't matter and the view just shrinks faster and ends up at the same spot regardless. The <code>targetX</code> and <code>targetY</code> is the same for each image size so i figure that's not the problem.</p>\n\n<p>Can anyone point me in the right direction?</p>\n"}, {"tags": ["android", "gson", "kotlin"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1507009169, "post_id": 46529530, "comment_id": 80029958, "body": "Have you registered it, like the <code>JavaDoc</code> shows it: <a href=\"https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/JsonDeserializer.html\" rel=\"nofollow noreferrer\">static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "edited": false, "score": 0, "creation_date": 1507056701, "post_id": 46529530, "comment_id": 80057289, "body": "Can you show us the code in which you are using this deserializer?"}, {"owner": {"reputation": 6095, "user_id": 1409132, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e09c49bafa70027e969cae50d09752c2?s=128&d=identicon&r=PG", "display_name": "Psest328", "link": "https://stackoverflow.com/users/1409132/psest328"}, "edited": false, "score": 0, "creation_date": 1507057999, "post_id": 46529530, "comment_id": 80057961, "body": "I&#39;m hesitant because the company I work for may have issues with that.  I will tell you that the class never gets called, so none of the code runs.  When I switched the kotlin to java, it ran fine.  It&#39;s something in the kotlin Array&lt;Object&gt; vs the java Object[] but I can&#39;t say what for sure"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1507455484, "post_id": 46529530, "comment_id": 80208941, "body": "Maybe it needs to be <code>Array&lt;NavigationMenu&gt;! </code>?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1507568466, "post_id": 46529530, "comment_id": 80252011, "body": "Apparently that is not valid syntax according to the language. I&#39;m out of ideas."}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1507568625, "post_id": 46529530, "comment_id": 80252081, "body": "How is the class even called?"}, {"owner": {"reputation": 6095, "user_id": 1409132, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e09c49bafa70027e969cae50d09752c2?s=128&d=identicon&r=PG", "display_name": "Psest328", "link": "https://stackoverflow.com/users/1409132/psest328"}, "edited": false, "score": 0, "creation_date": 1507580588, "post_id": 46529530, "comment_id": 80258099, "body": "@creativecreatorormabyenot I&#39;ve added that info to the OP"}, {"owner": {"reputation": 13500, "user_id": 1032167, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/41bf03526866687e26d626c0fcb07a5d?s=128&d=identicon&r=PG", "display_name": "varren", "link": "https://stackoverflow.com/users/1032167/varren"}, "edited": false, "score": 1, "creation_date": 1507649277, "post_id": 46529530, "comment_id": 80289459, "body": "@Psest328 the code you provided works perfectly fine for both cases. take a look at this simple repo <a href=\"https://github.com/varren/KotlinAndJava\" rel=\"nofollow noreferrer\">github.com/varren/KotlinAndJava</a> (without android part) what are you doing differently?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1507918909, "post_id": 46529530, "comment_id": 80418478, "body": "@Psest328 yo, has it been solved by any of the answers?"}, {"owner": {"reputation": 6095, "user_id": 1409132, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e09c49bafa70027e969cae50d09752c2?s=128&d=identicon&r=PG", "display_name": "Psest328", "link": "https://stackoverflow.com/users/1409132/psest328"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1507924337, "post_id": 46529530, "comment_id": 80421032, "body": "@EpicPandaForce I&#39;ve been away since Tuesday and will be back this coming Tuesday. Will test all suggestions then :)"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1507949450, "post_id": 46529530, "comment_id": 80427305, "body": "I guess that is just in time for handing out bounty if successful :D"}, {"owner": {"reputation": 6095, "user_id": 1409132, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e09c49bafa70027e969cae50d09752c2?s=128&d=identicon&r=PG", "display_name": "Psest328", "link": "https://stackoverflow.com/users/1409132/psest328"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1508247760, "post_id": 46529530, "comment_id": 80529746, "body": "@EpicPandaForce unfortunately, neither suggestion worked.  Calling the kotlin class type from java still not working.  I&#39;m going to switch the singleton to kotlin as I know calling java class types from kotlin has no issue.  Going to close this at end of day"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1508248171, "post_id": 46529530, "comment_id": 80530056, "body": "@Psest328 Please post an answer so that I can put the bounty on it I have 3 hours to do that thank you"}, {"owner": {"reputation": 6095, "user_id": 1409132, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e09c49bafa70027e969cae50d09752c2?s=128&d=identicon&r=PG", "display_name": "Psest328", "link": "https://stackoverflow.com/users/1409132/psest328"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1508248246, "post_id": 46529530, "comment_id": 80530115, "body": "@EpicPandaForce I don&#39;t feel right collecting a bounty on my own question... you sure about doing that?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1508248688, "post_id": 46529530, "comment_id": 80530408, "body": "@Psest328 Better than giving a bounty to answers that don&#39;t work!"}, {"owner": {"reputation": 6095, "user_id": 1409132, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e09c49bafa70027e969cae50d09752c2?s=128&d=identicon&r=PG", "display_name": "Psest328", "link": "https://stackoverflow.com/users/1409132/psest328"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1508249945, "post_id": 46529530, "comment_id": 80531282, "body": "@EpicPandaForce it&#39;s up"}], "answers": [{"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 0, "last_activity_date": 1508009692, "last_edit_date": 1508009692, "creation_date": 1507574820, "answer_id": 46653091, "question_id": 46529530, "link": "https://stackoverflow.com/questions/46529530/type-argument-not-recognized-in-kotlin/46653091#46653091", "title": "Type argument not recognized in Kotlin", "body": "<p>I solved a similar issue using the array class. Try something like this:</p>\n\n<pre><code>val clazz = (Array&lt;NavigationMenu&gt;::class).java\ngson.fromJson(json, clazz)\n</code></pre>\n\n<p>I hope this might help.</p>\n"}, {"tags": [], "owner": {"reputation": 928, "user_id": 5052133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RxBmEJAEu8Q/AAAAAAAAAAI/AAAAAAAAAAA/6fyGasyBm7s/photo.jpg?sz=128", "display_name": "Muzammil Husnain", "link": "https://stackoverflow.com/users/5052133/muzammil-husnain"}, "is_accepted": false, "score": 0, "last_activity_date": 1507795505, "creation_date": 1507795505, "answer_id": 46704500, "question_id": 46529530, "link": "https://stackoverflow.com/questions/46529530/type-argument-not-recognized-in-kotlin/46704500#46704500", "title": "Type argument not recognized in Kotlin", "body": "<p>You may try using <code>TypeToken</code> like this.</p>\n\n<pre><code>private GsonConverterFactory getGsonConverter() {\n\n     val type = object : TypeToken&lt; ArrayList &lt; NavigationMenu &gt;&gt;(){}.getType()\n\n     GsonBuilder gsonBuilder = new GsonBuilder();\n     gsonBuilder.setLenient();\n\n     gsonBuilder.registerTypeAdapter(type, new NavigationMenuArrayDeserializer());\n\n     Gson gson = gsonBuilder.create();\n     return GsonConverterFactory.create(gson);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6095, "user_id": 1409132, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e09c49bafa70027e969cae50d09752c2?s=128&d=identicon&r=PG", "display_name": "Psest328", "link": "https://stackoverflow.com/users/1409132/psest328"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1508250741, "post_id": 46792394, "comment_id": 80531869, "body": "just posted the code.  no magic, just doing the &quot;convert to kotlin&quot; fixed the issue"}], "tags": [], "owner": {"reputation": 6095, "user_id": 1409132, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e09c49bafa70027e969cae50d09752c2?s=128&d=identicon&r=PG", "display_name": "Psest328", "link": "https://stackoverflow.com/users/1409132/psest328"}, "is_accepted": true, "score": 1, "last_activity_date": 1508250670, "last_edit_date": 1508250670, "creation_date": 1508249910, "answer_id": 46792394, "question_id": 46529530, "link": "https://stackoverflow.com/questions/46529530/type-argument-not-recognized-in-kotlin/46792394#46792394", "title": "Type argument not recognized in Kotlin", "body": "<p>Unfortunately, no suggestion worked for me.  I converted the calling class from java to kotlin as calling java class types in kotlin has easily worked for me in the past... and that did the trick.</p>\n\n<p>My original attempt at calling kotlin array class from a java class is still unsuccessful but I was able to get the configuration working so I'm calling this complete.</p>\n\n<p>Converting the configuration java code in the OP to Kotlin did the trick:</p>\n\n<pre><code>private val gsonConverter: GsonConverterFactory\n    get() {\n        val gsonBuilder = GsonBuilder()\n        gsonBuilder.setLenient()\n        gsonBuilder.registerTypeAdapter(Array&lt;NavigationMenu&gt;::class.java, NavigationMenuArrayDeserializer())\n        val gson = gsonBuilder.create()\n        return GsonConverterFactory.create(gson)\n    }\n</code></pre>\n"}], "owner": {"reputation": 6095, "user_id": 1409132, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e09c49bafa70027e969cae50d09752c2?s=128&d=identicon&r=PG", "display_name": "Psest328", "link": "https://stackoverflow.com/users/1409132/psest328"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 3, "accepted_answer_id": 46792394, "answer_count": 3, "score": 3, "last_activity_date": 1508250670, "creation_date": 1506960966, "last_edit_date": 1507580533, "question_id": 46529530, "link": "https://stackoverflow.com/questions/46529530/type-argument-not-recognized-in-kotlin", "title": "Type argument not recognized in Kotlin", "body": "<p>Using gson and retrofit and created a JsonDeserializer.</p>\n\n<p>In java, the class is defined as:</p>\n\n<pre><code>public class Test implements JsonDeserializer&lt;NavigationMenu[]&gt; {...\n</code></pre>\n\n<p>In Kotlin, it is defined as:</p>\n\n<pre><code>class NavigationMenuArrayDeserializer : JsonDeserializer&lt;Array&lt;NavigationMenu&gt;&gt; {...\n</code></pre>\n\n<p>The java class is called as expected after being registered with GSON.  The Kotlin class is never called.</p>\n\n<pre><code>Retrofit jsonClient = new Retrofit\n                .Builder()\n                .baseUrl(baseUrl)\n                .client(okHttpClient)\n                .addConverterFactory(getGsonConverter())\n                .build();\n</code></pre>\n\n<p>...</p>\n\n<pre><code>private GsonConverterFactory getGsonConverter() {\n    GsonBuilder gsonBuilder = new GsonBuilder();\n    gsonBuilder.setLenient();\n    gsonBuilder.registerTypeAdapter(NavigationMenu[].class, new NavigationMenuArrayDeserializer());\n    Gson gson = gsonBuilder.create();\n    return GsonConverterFactory.create(gson);\n}\n</code></pre>\n\n<p>Any idea why?</p>\n"}, {"tags": ["android", "kotlin", "android-alertdialog"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 2, "creation_date": 1506957462, "post_id": 46527857, "comment_id": 80011290, "body": "Create an <code>AlertDialog</code> in the <code>OnClickListener</code> and on finishing that start the activity?"}], "answers": [{"tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 16, "last_activity_date": 1561042741, "last_edit_date": 1561042741, "creation_date": 1506970853, "answer_id": 46531986, "question_id": 46527857, "link": "https://stackoverflow.com/questions/46527857/android-kotlin-button-alert-dialog-list/46531986#46531986", "title": "Android Kotlin button + alert dialog + list", "body": "<p>I created function which hold alert dialog with editText. When your click on save name will be stored in multableList and redirected to new activity.</p>\n\n<p><strong>Modified Code</strong></p>\n\n<pre><code>var firstKitList = mutableListOf&lt;String&gt;(\"test\", \"potato\", \"another item\")\n// Mutable List for holding names\nval nameList = mutableListOf&lt;String&gt;()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_kit_list)\n\n    val mainKitList = kitListView\n    val mainListViewAdapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, firstKitList)\n    mainKitList.adapter = mainListViewAdapter\n\n    newKitListBtn.setOnClickListener {\n        // Show Alert Dialog\n        showNewNameDialog()              \n    }\n}\n</code></pre>\n\n<p><strong>Alert Dialog Function</strong></p>\n\n<pre><code>fun showNewNameDialog() {\n        val dialogBuilder = AlertDialog.Builder(this)\n        val inflater = this.layoutInflater\n        val dialogView = inflater.inflate(R.layout.custom_dialog, null)\n        dialogBuilder.setView(dialogView)\n\n        val editText = dialogView.findViewById&lt;EditText&gt;(R.id.editTextName) \n\n        dialogBuilder.setTitle(\"Custom dialog\")\n        dialogBuilder.setMessage(\"Enter Name Below\")\n        dialogBuilder.setPositiveButton(\"Save\", { dialog, whichButton -&gt;\n            //do something with edt.getText().toString();\n\n           // Add Name in list\n            nameList.add(editText.text.toString())\n            // Handler code here.\n            val intent = Intent(this, NewKitListActivity::class.java)\n            startActivity(intent);\n        })\n\n        dialogBuilder.setNegativeButton(\"Cancel\", { dialog, whichButton -&gt;\n            //pass\n        })\n        val b = dialogBuilder.create()\n        b.show()\n    }\n</code></pre>\n\n<p><strong>Custom Dialog Layout: custom_dialog.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"10dp\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editTextName\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:inputType=\"text\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21637, "user_id": 25282, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/9hShk.jpg?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/25282/christian"}, "is_accepted": false, "score": 0, "last_activity_date": 1561044968, "last_edit_date": 1561044968, "creation_date": 1561044203, "answer_id": 56689236, "question_id": 46527857, "link": "https://stackoverflow.com/questions/46527857/android-kotlin-button-alert-dialog-list/56689236#56689236", "title": "Android Kotlin button + alert dialog + list", "body": "<p>I changed the code from <a href=\"https://stackoverflow.com/a/46531986/25282\">Rajesh Dalsaniya's answer</a> to be a bit more concise using kotlin's features:</p>\n\n<pre><code>fun showNewNameDialog(activity: Activity) {\n    AlertDialog.Builder(activity).apply {\n        val dialogView = activity.layoutInflater.inflate(R.layout.custom_dialog, null)\n        val editText = dialogView.findViewById&lt;EditText&gt;(R.id.editTextName)\n\n        setView(dialogView)\n\n        setTitle(\"Custom dialog\")\n        setMessage(\"Enter Name Below\")\n        setPositiveButton(\"Save\") { _, _ -&gt;\n            //do something with edt.getText().toString();\n\n            // Add Name in list\n            activity.nameList.add(editText.text.toString())\n            // Handler code here.\n            val intent = Intent(activity, NewKitListActivity::class.java)\n            activity.startActivity(intent);\n        }\n\n        setNegativeButton(\"Cancel\") { _, _ -&gt;\n            //pass\n        }\n    }.create().show()\n}\n</code></pre>\n\n<p>The xml stays:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"10dp\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editTextName\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:inputType=\"text\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 8708420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07ff1d20cbe1a089197a4eddf8d38aa4?s=128&d=identicon&r=PG&f=1", "display_name": "TimonYT", "link": "https://stackoverflow.com/users/8708420/timonyt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24035, "favorite_count": 3, "answer_count": 2, "score": 11, "last_activity_date": 1561044968, "creation_date": 1506955486, "last_edit_date": 1561043467, "question_id": 46527857, "link": "https://stackoverflow.com/questions/46527857/android-kotlin-button-alert-dialog-list", "title": "Android Kotlin button + alert dialog + list", "body": "<p>I have this code:</p>\n\n<pre><code>var firstKitList = mutableListOf&lt;String&gt;(\"test\", \"potato\", \"another item\")\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_kit_list)\n\n    val mainKitList = kitListView\n    val mainListViewAdapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, firstKitList)\n    mainKitList.adapter = mainListViewAdapter\n\n    newKitListBtn.setOnClickListener {\n        // Handler code here.\n        val intent = Intent(this, NewKitListActivity::class.java)\n        startActivity(intent);\n    }\n}\n</code></pre>\n\n<p>For this <a href=\"https://i.stack.imgur.com/UlmTa.png\" rel=\"nofollow noreferrer\">layout</a>.\nHow do I go around for when I click the button, to show up an alert dialog for me too add a name (as if I was creating an item to be added to that list) and then go to the next activity? (this part is already created as you can see on the code)</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "findviewbyid"], "comments": [{"owner": {"reputation": 1212, "user_id": 5676822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M7t5Z.jpg?s=128&g=1", "display_name": "Geeta Gupta", "link": "https://stackoverflow.com/users/5676822/geeta-gupta"}, "edited": false, "score": 0, "creation_date": 1506948419, "post_id": 46525690, "comment_id": 80005410, "body": "did you tried  val recyclerView = findViewById(R.id.recyclerview) as RecyclerView"}, {"owner": {"reputation": 3071, "user_id": 3166697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGEWy.jpg?s=128&g=1", "display_name": "Dima Kozhevin", "link": "https://stackoverflow.com/users/3166697/dima-kozhevin"}, "edited": false, "score": 0, "creation_date": 1506948476, "post_id": 46525690, "comment_id": 80005441, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 7075492, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/edeed86b5fde635a59ab03708f61ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "Xarsiss", "link": "https://stackoverflow.com/users/7075492/xarsiss"}, "edited": false, "score": 1, "creation_date": 1506955292, "post_id": 46525813, "comment_id": 80009769, "body": "Hah, I can&#39;t believe it was this! It was indeed that I was pointing to the second layout xml instead of the recyclerview layout. A better naming convention would have helped me spot this! Thanks Dean."}], "tags": [], "owner": {"reputation": 103, "user_id": 8694479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54365f2e1cb578ca37401f2fd0776e84?s=128&d=identicon&r=PG&f=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/8694479/dean"}, "is_accepted": true, "score": 4, "last_activity_date": 1506949009, "last_edit_date": 1506949009, "creation_date": 1506948582, "answer_id": 46525813, "question_id": 46525690, "link": "https://stackoverflow.com/questions/46525690/nullpointerexception-when-binding-views-in-recyclerview-adapter/46525813#46525813", "title": "NullPointerException when binding Views in RecyclerView.Adapter", "body": "<p>You may be inflating the wrong layout within your RecyclerView.</p>\n\n<p>This line within your onCreateViewHolder method:</p>\n\n<pre><code>val v = LayoutInflater.from(parent.context).inflate(R.layout.blog_post_list, parent, false)\n</code></pre>\n\n<p>You are inflating the blog_post_list.xml, which I'm assuming is the wrong layout file due to the fact you're also inflating that layout within your BlogPostListActivity here:</p>\n\n<pre><code>setContentView(R.layout.blog_post_list)\n</code></pre>\n\n<p>So when this line is called: </p>\n\n<pre><code>val blogPostAuthor = itemView.findViewById&lt;TextView&gt;(R.id.blogpost_author)\n</code></pre>\n\n<p>It is looking for the id 'blogpost_author' within R.layout.blog_post_list and as you can see there is no blogpost_author TextView within that layout so it returns null. </p>\n\n<p>To sort it out, it should be straight forward and just change the layout resource that you're assigning to each ViewHolder within your onCreateViewHolder method with the correct layout for your CardView layout.</p>\n\n<p>Which means the line should read something like:</p>\n\n<pre><code>val v = LayoutInflater.from(parent.context).inflate(R.layout.your_card_layout, parent, false)\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 7075492, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/edeed86b5fde635a59ab03708f61ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "Xarsiss", "link": "https://stackoverflow.com/users/7075492/xarsiss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3094, "favorite_count": 0, "accepted_answer_id": 46525813, "answer_count": 1, "score": 2, "last_activity_date": 1573435267, "creation_date": 1506948183, "last_edit_date": 1573435267, "question_id": 46525690, "link": "https://stackoverflow.com/questions/46525690/nullpointerexception-when-binding-views-in-recyclerview-adapter", "title": "NullPointerException when binding Views in RecyclerView.Adapter", "body": "<p>Why do I get a <code>NullPointerException</code> in my <code>ViewHolder</code>'s <code>bindItems()</code> method? </p>\n\n<p>I've highlighted the line where I get the <code>NullPointerException</code>. The <code>blogpost_author</code> ID exists, as you can see in the XML, so what's the problem here? How is <code>findViewById&lt;TextView&gt;(R.id.blogpost_author)</code> returning null? </p>\n\n<p><code>Adapter</code> and <code>ViewHolder</code> code:</p>\n\n<pre><code>class BlogPostAdapter(val blogList: ArrayList&lt;BlogPost&gt;) : RecyclerView.Adapter&lt;BlogPostAdapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int) : BlogPostAdapter.ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.blog_post_list, parent, false)\n        return ViewHolder(v)\n    }\n\n    override fun getItemCount(): Int {\n        return blogList.size\n    }\n\n    override fun onBindViewHolder(holder: BlogPostAdapter.ViewHolder, position: Int) {\n        holder.bindItems(blogList[position])\n    }\n\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        fun bindItems(blogPost: BlogPost) {\n            val blogPostAuthor = itemView.findViewById&lt;TextView&gt;(R.id.blogpost_author) // THIS LINE - NULL POINTER EXCEPTION\n            val blogPostTitle = itemView.findViewById&lt;TextView&gt;(R.id.blogpost_title)\n            blogPostAuthor.text = blogPost.author\n            blogPostTitle.text = blogPost.title\n        }\n    }\n}\n</code></pre>\n\n<p><code>Activity</code> code:</p>\n\n<pre><code>class BlogPostListActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.blog_post_list)\n\n        // Get the RecyclerView from XML itself\n        val recyclerView = findViewById&lt;RecyclerView&gt;(R.id.recyclerview)\n\n        // Add a layout manager - What does a layout manager do?\n        recyclerView.layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL, false)\n\n        // Create an array list to store blogposts using the the data class blogPost\n        val blogPosts = ArrayList&lt;BlogPost&gt;()\n\n        // Add some dummy data to the list\n        blogPosts.add(BlogPost(123, \"First Blog Post\", \"John\"))\n        blogPosts.add(BlogPost(456, \"Second Blog Post\", \"Bob\"))\n        blogPosts.add(BlogPost(789, \"Third Blog Post\", \"Mary\"))\n\n        // Create an adapter\n        val adapter = BlogPostAdapter(blogPosts)\n\n        // Add the adapter to the recyclerview\n        recyclerView.adapter = adapter\n    }\n}\n</code></pre>\n\n<p>Kotlin data class:</p>\n\n<pre><code>data class BlogPost(val id: Int, val title: String, val author: String)\n</code></pre>\n\n<p>XML for <code>RecyclerView</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.topzap.android.kotlinlistapptest.BlogPostListActivity\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/recyclerview\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:layout_editor_absoluteX=\"8dp\"\n        tools:layout_editor_absoluteY=\"8dp\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>XML for <code>CardView</code> layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:orientation=\"vertical\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v7.widget.CardView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/blogpost_author\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"5dp\"\n            android:text=\"AuthorPlaceHolder\"\n            android:textAppearance=\"@style/Base.TextAppearance.AppCompat.Large\"\n            /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/blogpost_title\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"5dp\"\n            android:text=\"TitlePlaceHolder\"\n            android:textAppearance=\"@style/Base.TextAppearance.AppCompat.Medium\"\n            /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/android.support.v7.widget.CardView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1506947060, "post_id": 46525366, "comment_id": 80004672, "body": "Post a logcat or an exception."}, {"owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "reply_to_user": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1506947806, "post_id": 46525366, "comment_id": 80005081, "body": "@EmanuelS I just now uploaded the logcat. please do check.Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "edited": false, "score": 0, "creation_date": 1506958082, "post_id": 46527373, "comment_id": 80011681, "body": "Sorry but It seems like I didn&#39;t get the solution well.Here&#39;s what I did: I removed the loadPickPowerScreen() and pasted in   MainFragment.kt MainFragment.OnMainFragmentInteractionListener .But it started to give me an error saying &quot;fragmentManager&quot; is an unresolved reference. Sorry, but can you elaborate the solution."}, {"owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "edited": false, "score": 0, "creation_date": 1507015209, "post_id": 46527373, "comment_id": 80032502, "body": "I was able to get it working just by copying everything from loadPickPowerScreen() and pasting it in the onClick method of MainFragment.I don&#39;t know why it didn&#39;t work with the loadPickPowerScreen().Should I paste the whole code? I originally didn&#39;t paste it because there was other stuff that was not relevant to the problem like other buttons, ImageView, etc.Is there any other way to share the project?"}, {"owner": {"reputation": 188, "user_id": 7177329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/500349d3686e259c5c8ef4fe73e8d211?s=128&d=identicon&r=PG&f=1", "display_name": "makvasic", "link": "https://stackoverflow.com/users/7177329/makvasic"}, "reply_to_user": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "edited": false, "score": 0, "creation_date": 1507015775, "post_id": 46527373, "comment_id": 80032809, "body": "That a solution too, easier one :)"}, {"owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "edited": false, "score": 0, "creation_date": 1507016556, "post_id": 46527373, "comment_id": 80033224, "body": "yes but I want to place all controlling stuff in Activity to keep the code organised. If you wish to take a look at original project then here&#39;s a Git Repository link: <a href=\"https://github.com/MandarSadye/HeroMe\" rel=\"nofollow noreferrer\">github.com/MandarSadye/HeroMe</a>. can you help me to find the exact root of the problem? The reason I am troubled with this problem is that in the first case I was doing the same thing by calling the function in MainActivity while now I just copied the code from function to the place where the function was called.Does it make difference?"}, {"owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "edited": false, "score": 0, "creation_date": 1507017624, "post_id": 46527373, "comment_id": 80033799, "body": "when I try to enter &quot;activity.onMainFragmentInteraction(someUri) &quot;.I give error for onMainFragmentInteraction.I also tried entering onMainFragmentInteraction(someUri) in loadPickPowerScreen()  , here it doesn&#39;t show the error but app crashes"}, {"owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "reply_to_user": {"reputation": 188, "user_id": 7177329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/500349d3686e259c5c8ef4fe73e8d211?s=128&d=identicon&r=PG&f=1", "display_name": "makvasic", "link": "https://stackoverflow.com/users/7177329/makvasic"}, "edited": false, "score": 0, "creation_date": 1507021764, "post_id": 46527373, "comment_id": 80035996, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/155811/discussion-between-mandar-sadye-and-makvasic\">continue this discussion in chat</a>."}, {"owner": {"reputation": 29866, "user_id": 930450, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/se3CE.png?s=128&g=1", "display_name": "Ixx", "link": "https://stackoverflow.com/users/930450/ixx"}, "edited": false, "score": 0, "creation_date": 1527231941, "post_id": 46527373, "comment_id": 88058591, "body": "Where does the chaining syntax (e.g. <code>beginTransaction().replace(...)</code>) come from?"}], "tags": [], "owner": {"reputation": 188, "user_id": 7177329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/500349d3686e259c5c8ef4fe73e8d211?s=128&d=identicon&r=PG&f=1", "display_name": "makvasic", "link": "https://stackoverflow.com/users/7177329/makvasic"}, "is_accepted": false, "score": 3, "last_activity_date": 1507018882, "last_edit_date": 1507018882, "creation_date": 1506953871, "answer_id": 46527373, "question_id": 46525366, "link": "https://stackoverflow.com/questions/46525366/how-to-replace-already-opened-fragment-with-new-fragment-in-android-studio/46527373#46527373", "title": "How to replace already opened fragment with new fragment in android studio?", "body": "<p>You cannot instantiate Activity like this and call class methods... (no way that worked in java)</p>\n\n<blockquote>\n  <p>var heroActivity : HeroMe = HeroMe()<br>\n  heroActivity.loadPickPowerScreen()</p>\n</blockquote>\n\n<p>First add method <code>loadPickPowerScreen()</code> into <code>MainFragment.OnMainFragmentInteractionListener</code> and then just call<br>\n<code>var onClick = View.OnClickListener(){view -&gt;\n    mListener.loadPickPowerScreen()\n}</code><br>\nI assume that <code>MainFragment</code> is similar to <code>PickPowerFragment</code> in regard to <code>onAttach</code> and <code>onDetach</code></p>\n\n<p><a href=\"https://developer.android.com/training/basics/fragments/communicating.html\" rel=\"nofollow noreferrer\">This link</a> is what you looking for, and please try to follow some coding guideline :)   </p>\n\n<p><strong>EDIT</strong>   </p>\n\n<p>In <code>HeroMe</code> activity u have:</p>\n\n<pre><code>override fun onMainFragmentInteraction(uri: Uri) {\n    var pickpowerfrag = PickPowerFragment()\n    fragmentManager.beginTransaction()\n        .replace(R.id.ReplaceFrame, pickpowerfrag)\n        .addToBackStack(null)\n        .commit()\n}\n</code></pre>\n\n<p>and then in <code>OnClickListener</code></p>\n\n<pre><code>var onClick = View.OnClickListener(){view -&gt;\n    mListener?.onMainFragmentInteraction(someUri)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 348, "user_id": 5303468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/c65b201a28adda4004e9a8fecb0faf72?s=128&d=identicon&r=PG&f=1", "display_name": "Anns Rahim", "link": "https://stackoverflow.com/users/5303468/anns-rahim"}, "edited": false, "score": 0, "creation_date": 1528262594, "post_id": 46542973, "comment_id": 88434311, "body": "Can you please explain the answer because your solution worked for me but really confused with the difference"}, {"owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "reply_to_user": {"reputation": 348, "user_id": 5303468, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/c65b201a28adda4004e9a8fecb0faf72?s=128&d=identicon&r=PG&f=1", "display_name": "Anns Rahim", "link": "https://stackoverflow.com/users/5303468/anns-rahim"}, "edited": false, "score": 0, "creation_date": 1557040282, "post_id": 46542973, "comment_id": 98627581, "body": "@AnnsRahim Sorry for unclear answer, I added clarification. Please check it."}], "tags": [], "owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "is_accepted": true, "score": 5, "last_activity_date": 1557040208, "last_edit_date": 1557040208, "creation_date": 1507028256, "answer_id": 46542973, "question_id": 46525366, "link": "https://stackoverflow.com/questions/46525366/how-to-replace-already-opened-fragment-with-new-fragment-in-android-studio/46542973#46542973", "title": "How to replace already opened fragment with new fragment in android studio?", "body": "<p>After 2 days of digging, I finally found the solution for my problem.\nThere is just one error I made in the onClick method while converting Java to Kotlin that is resulting in the crash.</p>\n\n<p>Instead of :</p>\n\n<pre><code>var onClick = View.OnClickListener(){view -&gt;\n    var heroActivity : HeroMe = HeroMe()\n    heroActivity.loadPickPowerScreen()\n}\n</code></pre>\n\n<p>The code should have been : </p>\n\n<pre><code>var onClick = View.OnClickListener(){view -&gt;\n    var heroActivity : HeroMe= activity as HeroMe\n    heroActivity.loadPickPowerScreen()\n}\n</code></pre>\n\n<p>Thank you for everyone who tried to help me.</p>\n\n<hr>\n\n<p>Clarification for why this code works:</p>\n\n<p>when you write,</p>\n\n<blockquote>\n  <p>var heroActivity : HeroMe = HeroMe()</p>\n</blockquote>\n\n<p>because of constructor it actually create other object(activity) which is not the same activity which actually loaded. So this new activity is created but not displayed because no startActivity method is called. So,</p>\n\n<blockquote>\n  <p>heroActivity.loadPickPowerScreen()</p>\n</blockquote>\n\n<p>This method is called on activity which is not started.</p>\n\n<p>Now, this line</p>\n\n<blockquote>\n  <p>var heroActivity : HeroMe= activity as HeroMe</p>\n</blockquote>\n\n<p>is similar to</p>\n\n<blockquote>\n  <p>getActivity()</p>\n</blockquote>\n\n<p>form java, which returns the parent activity of fragment.\nReturn type is Activity so we need to case it so we can call functions in that activity.</p>\n"}, {"tags": [], "owner": {"reputation": 3278, "user_id": 3282461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v6pSx.png?s=128&g=1", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/3282461/ankit-kumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1507103557, "creation_date": 1507103557, "answer_id": 46559678, "question_id": 46525366, "link": "https://stackoverflow.com/questions/46525366/how-to-replace-already-opened-fragment-with-new-fragment-in-android-studio/46559678#46559678", "title": "How to replace already opened fragment with new fragment in android studio?", "body": "<pre><code>fun replaceFragment(fragment: Fragment) {\n    mFragmentStack = Stack()\n    val transaction = mFragmentManager?.beginTransaction()\n    transaction?.replace(R.id.layout_frame_content, fragment)\n    (mFragmentStack as Stack&lt;Fragment&gt;).push(fragment)\n    transaction?.commitAllowingStateLoss()\n}\n\n\n\nfun addFragment(fragment: Fragment) {\n    if (mFragmentManager != null) {\n        val transaction = (mFragmentManager as FragmentManager).beginTransaction()\n        transaction.add(R.id.layout_frame_content, fragment)\n        mFragmentStack?.lastElement()?.onPause()\n        transaction.hide(mFragmentStack?.lastElement())\n        mFragmentStack?.push(fragment)\n        transaction.commitAllowingStateLoss()\n    }\n}\n</code></pre>\n\n<p>Above methods can be used to replace and add fragments to custom fragment stack and fragment manager</p>\n"}, {"tags": [], "owner": {"reputation": 844, "user_id": 10366757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c89292cdfb40b61addace1e64f154b49?s=128&d=identicon&r=PG&f=1", "display_name": "Prabh deep", "link": "https://stackoverflow.com/users/10366757/prabh-deep"}, "is_accepted": false, "score": 4, "last_activity_date": 1557459958, "last_edit_date": 1557459958, "creation_date": 1545656546, "answer_id": 53913832, "question_id": 46525366, "link": "https://stackoverflow.com/questions/46525366/how-to-replace-already-opened-fragment-with-new-fragment-in-android-studio/53913832#53913832", "title": "How to replace already opened fragment with new fragment in android studio?", "body": "<p>for fragment adding</p>\n\n<pre><code>  getSupportFragmentManager().beginTransaction().add(R.id.container,FragmentLogin()).commit();\n</code></pre>\n\n<p>for fragment replacing</p>\n\n<pre><code> getSupportFragmentManager().beginTransaction().replace(R.id.container,FragmentLogin()).commit()\n</code></pre>\n"}], "owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19874, "favorite_count": 1, "accepted_answer_id": 46542973, "answer_count": 4, "score": 4, "last_activity_date": 1557459958, "creation_date": 1506946887, "last_edit_date": 1545660729, "question_id": 46525366, "link": "https://stackoverflow.com/questions/46525366/how-to-replace-already-opened-fragment-with-new-fragment-in-android-studio", "title": "How to replace already opened fragment with new fragment in android studio?", "body": "<p>I am trying to replace a MainFragment fragment with PickPowerFragement fragment but when I press the button in MainFragment to replace MainFragment with PickPowerFragment the app crashes.\nI was able to successfully load the PickPowerFragment in java as given in tutorial but the app crashes when I tried to do so in Kotlin (just for practice).\nSo how can I replace the Fragment using Kotlin syntax</p>\n\n<p>activity_hero_me.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.example.mandar.herome.Activities.HeroMe\"\n    tools:layout_editor_absoluteX=\"0dp\"\n    tools:layout_editor_absoluteY=\"25dp\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/ReplaceFrame\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.0\"&gt;\n\n    &lt;/FrameLayout&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>HeroMe.kt</p>\n\n<pre><code>package com.example.mandar.herome.Activities\n\nimport android.app.Activity\nimport android.app.Fragment\nimport android.app.FragmentManager\nimport android.net.Uri\nimport android.os.Bundle\nimport com.example.mandar.herome.Fragments.MainFragment\nimport com.example.mandar.herome.Fragments.PickPowerFragment\nimport com.example.mandar.herome.R\n\n\nclass HeroMe : Activity() , MainFragment.OnMainFragmentInteractionListener , PickPowerFragment.pickPowerInteractionListener {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_hero_me)\n        val manager : FragmentManager = fragmentManager\n        var fragment : Fragment? = manager.findFragmentById(R.id.ReplaceFrame)\n        if (fragment == null){\n            fragment = MainFragment()\n            manager.beginTransaction().add(R.id.ReplaceFrame,fragment).commit()\n        }\n    }\n\n    fun loadPickPowerScreen(){\n            var pickpowerfrag = PickPowerFragment()\n            fragmentManager.beginTransaction().replace(R.id.ReplaceFrame, pickpowerfrag).addToBackStack(null).commit()\n    }\n\n    override fun onMainFragmentInteraction(uri: Uri) {\n\n    }\n\n    override fun onPickPowerInteraction(uri: Uri) {\n\n    }\n\n}\n</code></pre>\n\n<p>Here I am calling function loadPickPowerScreen() from MainFragment</p>\n\n<p>I tested If the button( a button I am using to replace MainFragment with pickPowerFragment) works right or not by using it to modify the text on it when the button is clicked and it seems to work just fine.So I guess there shouldn't be any problem with MainFragment.kt</p>\n\n<p>Here is onClick() method from MainFragment.kt </p>\n\n<pre><code>var onClick = View.OnClickListener(){view -&gt;\n    var heroActivity : HeroMe = HeroMe()\n    heroActivity.loadPickPowerScreen()\n}\n</code></pre>\n\n<p>and here is fragment PickPowerFragment.kt</p>\n\n<pre><code>package com.example.mandar.herome.Fragments\n\nimport android.app.Fragment\nimport android.content.Context\nimport android.net.Uri\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport com.example.mandar.herome.R\n\n/**\n * A simple [Fragment] subclass.\n * Activities that contain this fragment must implement the\n * [PickPowerFragment.OnFragmentInteractionListener] interface\n * to handle interaction events.\n * Use the [PickPowerFragment.newInstance] factory method to\n * create an instance of this fragment.\n */\nclass PickPowerFragment : Fragment() {\n\n    // TODO: Rename and change types of parameters\n    private var mParam1: String? = null\n    private var mParam2: String? = null\n\n    private var mListener: pickPowerInteractionListener? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        if (arguments != null) {\n            mParam1 = arguments.getString(ARG_PARAM1)\n            mParam2 = arguments.getString(ARG_PARAM2)\n        }\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        val view = inflater!!.inflate(R.layout.fragment_pick_power, container, false)\n        // Inflate the layout for this fragment\n        return view\n    }\n\n    // TODO: Rename method, update argument and hook method into UI event\n    fun onButtonPressed(uri: Uri) {\n        if (mListener != null) {\n            mListener!!.onPickPowerInteraction(uri)\n        }\n    }\n\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n        if (context is pickPowerInteractionListener) {\n            mListener = context\n        } else {\n            throw RuntimeException(context!!.toString() + \" must implement OnFragmentInteractionListener\")\n        }\n    }\n\n    override fun onDetach() {\n        super.onDetach()\n        mListener = null\n    }\n\n    /**\n     * This interface must be implemented by activities that contain this\n     * fragment to allow an interaction in this fragment to be communicated\n     * to the activity and potentially other fragments contained in that\n     * activity.\n     *\n     *\n     * See the Android Training lesson [Communicating with Other Fragments](http://developer.android.com/training/basics/fragments/communicating.html) for more information.\n     */\n    interface pickPowerInteractionListener {\n        // TODO: Update argument type and name\n        fun onPickPowerInteraction(uri: Uri)\n    }\n\n    companion object {\n        // TODO: Rename parameter arguments, choose names that match\n        // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n        private val ARG_PARAM1 = \"param1\"\n        private val ARG_PARAM2 = \"param2\"\n\n        /**\n         * Use this factory method to create a new instance of\n         * this fragment using the provided parameters.\n         *\n         * @param param1 Parameter 1.\n         * @param param2 Parameter 2.\n         * @return A new instance of fragment PickPowerFragment.\n         */\n        // TODO: Rename and change types and number of parameters\n        fun newInstance(param1: String, param2: String): PickPowerFragment {\n            val fragment = PickPowerFragment()\n            val args = Bundle()\n            args.putString(ARG_PARAM1, param1)\n            args.putString(ARG_PARAM2, param2)\n            fragment.arguments = args\n            return fragment\n        }\n    }\n}// Required empty public constructor\n</code></pre>\n\n<p>logcat after the crash:\n<a href=\"https://i.stack.imgur.com/h0bxs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h0bxs.png\" alt=\"Logcat after the crash:\"></a></p>\n\n<p>Information provided by debugger just before the crash:\n<a href=\"https://i.stack.imgur.com/7lMAa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7lMAa.png\" alt=\"debugger variable values just before crash\"></a></p>\n\n<p>Here I add Git Repository link for project \n<a href=\"https://i.stack.imgur.com/7lMAa.png\" rel=\"nofollow noreferrer\">Git Android Project: HeroMe</a></p>\n"}, {"tags": ["android", "android-studio", "android-gradle-plugin", "sonarqube", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 7485, "user_id": 571921, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8843eed1100928a9e6ea9272bf7158e?s=128&d=identicon&r=PG", "display_name": "Nelson Ramirez", "link": "https://stackoverflow.com/users/571921/nelson-ramirez"}, "edited": false, "score": 0, "creation_date": 1509726999, "post_id": 46525467, "comment_id": 81150935, "body": "This is not a very good answer. I would suggest accepting the answer from @Benoit"}, {"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "reply_to_user": {"reputation": 7485, "user_id": 571921, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8843eed1100928a9e6ea9272bf7158e?s=128&d=identicon&r=PG", "display_name": "Nelson Ramirez", "link": "https://stackoverflow.com/users/571921/nelson-ramirez"}, "edited": false, "score": 0, "creation_date": 1509727698, "post_id": 46525467, "comment_id": 81151431, "body": "@NelsonRamirez this was the best answer when it has been written. I will updated it when SonarQube will officially support it   with the stable release <a href=\"https://jira.sonarsource.com/browse/SONARGRADL-41?focusedCommentId=145177&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-145177\" rel=\"nofollow noreferrer\">jira.sonarsource.com/browse/&hellip;</a>"}, {"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "reply_to_user": {"reputation": 7485, "user_id": 571921, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8843eed1100928a9e6ea9272bf7158e?s=128&d=identicon&r=PG", "display_name": "Nelson Ramirez", "link": "https://stackoverflow.com/users/571921/nelson-ramirez"}, "edited": false, "score": 0, "creation_date": 1509979614, "post_id": 46525467, "comment_id": 81228521, "body": "Answer updated to reflect the latest SonarQube release"}, {"owner": {"reputation": 267, "user_id": 7156233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dd551146d97a57fba740d869b94fd1e?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/7156233/akshay"}, "edited": false, "score": 0, "creation_date": 1586414079, "post_id": 46525467, "comment_id": 108119835, "body": "* What went wrong: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;. &gt; javax/xml/bind/JAXBException  I am gettin gthis error while running gradlew sonarqube."}], "tags": [], "owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "is_accepted": true, "score": 14, "last_activity_date": 1516891799, "last_edit_date": 1516891799, "creation_date": 1506947313, "answer_id": 46525467, "question_id": 46525040, "link": "https://stackoverflow.com/questions/46525040/sonarqube-android-not-working-for-gradle-3-0-0/46525467#46525467", "title": "SonarQube - Android not working for gradle 3.0.0", "body": "<p><em>Read the last part of the answer to get the latest updates</em></p>\n\n<p><strong>Original answer</strong></p>\n\n<p>I've performed some researches:</p>\n\n<ul>\n<li><p><a href=\"https://jira.sonarsource.com/browse/SONARGRADL-41\" rel=\"nofollow noreferrer\">here</a> you can\nfind the issue tracked internally by SonarQube</p></li>\n<li><p><a href=\"https://issuetracker.google.com/issues/62688864#comment6\" rel=\"nofollow noreferrer\">here</a> you\ncan find the issue opened by a SonarQube developer asking Google\nabout the API change. As stated by Google engineers this change is intended and an alternative API already exists. SonarQube stated they won't support android plugin 3.0.0 until the final release or at least RC version</p></li>\n</ul>\n\n<p>Result:</p>\n\n<blockquote>\n  <p>To continue to work you are forced to build your project with the current stable Android Studio and Android plugin v2.X.X</p>\n</blockquote>\n\n<hr>\n\n<p><strong>UPDATE - 6th November 2017</strong></p>\n\n<blockquote>\n  <p>SonarQube released the new version 2.6 which is fully compatible with the AGP (Android Gradle Plugin) 3.0.0.</p>\n</blockquote>\n\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n\n        maven {\n            url \"https://plugins.gradle.org/m2/\"\n        }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.6.1\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\napply plugin: \"org.sonarqube\"\n</code></pre>\n\n<p>More info in the release page <a href=\"https://plugins.gradle.org/plugin/org.sonarqube/2.6\" rel=\"nofollow noreferrer\">HERE</a></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8614563"}, "is_accepted": false, "score": -6, "last_activity_date": 1506947501, "creation_date": 1506947501, "answer_id": 46525507, "question_id": 46525040, "link": "https://stackoverflow.com/questions/46525040/sonarqube-android-not-working-for-gradle-3-0-0/46525507#46525507", "title": "SonarQube - Android not working for gradle 3.0.0", "body": "<p>Try to use lower version of gradle</p>\n"}, {"comments": [{"owner": {"reputation": 668, "user_id": 3882134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa84c99d616254a2396bcea21b77373?s=128&d=identicon&r=PG&f=1", "display_name": "BMacedo", "link": "https://stackoverflow.com/users/3882134/bmacedo"}, "edited": false, "score": 0, "creation_date": 1509397961, "post_id": 46813528, "comment_id": 80995577, "body": "Seems like this specific branch is not working anymore. Can you update your answer with the currently available dependency?"}, {"owner": {"reputation": 7485, "user_id": 571921, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8843eed1100928a9e6ea9272bf7158e?s=128&d=identicon&r=PG", "display_name": "Nelson Ramirez", "link": "https://stackoverflow.com/users/571921/nelson-ramirez"}, "reply_to_user": {"reputation": 668, "user_id": 3882134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa84c99d616254a2396bcea21b77373?s=128&d=identicon&r=PG&f=1", "display_name": "BMacedo", "link": "https://stackoverflow.com/users/3882134/bmacedo"}, "edited": false, "score": 0, "creation_date": 1509726863, "post_id": 46813528, "comment_id": 81150838, "body": "@BMacedo done. I updated to the latest sonarqube classpath."}], "tags": [], "owner": {"reputation": 4377, "user_id": 1228221, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d628750d286e8eef59b91a3a88328554?s=128&d=identicon&r=PG", "display_name": "Benoit", "link": "https://stackoverflow.com/users/1228221/benoit"}, "is_accepted": false, "score": 9, "last_activity_date": 1509726694, "last_edit_date": 1509726694, "creation_date": 1508339448, "answer_id": 46813528, "question_id": 46525040, "link": "https://stackoverflow.com/questions/46525040/sonarqube-android-not-working-for-gradle-3-0-0/46813528#46813528", "title": "SonarQube - Android not working for gradle 3.0.0", "body": "<p><s>You can use my solution <a href=\"https://github.com/SonarSource/sonar-scanner-gradle/pull/33\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonar-scanner-gradle/pull/33</a></s></p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n        google()\n        maven {\n            url \"https://plugins.gradle.org/m2/\"\n        }\n    }\n    dependencies {\n        classpath \"com.android.tools.build:gradle:3.0.0\"\n        classpath \"org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.6-rc1\"\n    }\n}\n\napply plugin: 'org.sonarqube'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7485, "user_id": 571921, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8843eed1100928a9e6ea9272bf7158e?s=128&d=identicon&r=PG", "display_name": "Nelson Ramirez", "link": "https://stackoverflow.com/users/571921/nelson-ramirez"}, "edited": false, "score": 0, "creation_date": 1509726920, "post_id": 47043813, "comment_id": 81150869, "body": "for those not wishing to use the jitpack maven, the jcenter path is this:  <code>classpath &quot;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.6-&zwnj;&#8203;rc1&quot;</code>"}, {"owner": {"reputation": 267, "user_id": 7156233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dd551146d97a57fba740d869b94fd1e?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/7156233/akshay"}, "edited": false, "score": 0, "creation_date": 1586414059, "post_id": 47043813, "comment_id": 108119824, "body": "* What went wrong: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;. &gt; javax/xml/bind/JAXBException  I am gettin gthis error while running gradlew sonarqube."}], "tags": [], "owner": {"reputation": 668, "user_id": 3882134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa84c99d616254a2396bcea21b77373?s=128&d=identicon&r=PG&f=1", "display_name": "BMacedo", "link": "https://stackoverflow.com/users/3882134/bmacedo"}, "is_accepted": false, "score": 0, "last_activity_date": 1509480824, "creation_date": 1509480824, "answer_id": 47043813, "question_id": 46525040, "link": "https://stackoverflow.com/questions/46525040/sonarqube-android-not-working-for-gradle-3-0-0/47043813#47043813", "title": "SonarQube - Android not working for gradle 3.0.0", "body": "<p>Updating Benoit answer, the official sonar scanner gradle plugin (v2.6-rc1) already supports the new gradle syntax. So, update your root gradle script to:</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n        google()\n        maven {\n            url \"https://jitpack.io\"\n        }\n    }\n    dependencies {\n        classpath \"com.android.tools.build:gradle:3.0.0\"\n        classpath \"com.github.SonarSource:sonar-scanner-gradle:2.6-rc1\"\n    }\n}\n\napply plugin: 'org.sonarqube'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2548, "user_id": 3918479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c16Sz.jpg?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/3918479/sebastian"}, "is_accepted": false, "score": 2, "last_activity_date": 1511022367, "creation_date": 1511022367, "answer_id": 47368308, "question_id": 46525040, "link": "https://stackoverflow.com/questions/46525040/sonarqube-android-not-working-for-gradle-3-0-0/47368308#47368308", "title": "SonarQube - Android not working for gradle 3.0.0", "body": "<p>After sonarqube 2.6 was released just updating the plugin was enough for me</p>\n\n<pre><code>plugins {\n    id \"org.sonarqube\" version \"2.6\"\n}\n</code></pre>\n"}], "owner": {"reputation": 417, "user_id": 8501553, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/xnK6J.jpg?s=128&g=1", "display_name": "thinuwan", "link": "https://stackoverflow.com/users/8501553/thinuwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5600, "favorite_count": 3, "accepted_answer_id": 46525467, "answer_count": 5, "score": 10, "last_activity_date": 1516891799, "creation_date": 1506945580, "last_edit_date": 1506946067, "question_id": 46525040, "link": "https://stackoverflow.com/questions/46525040/sonarqube-android-not-working-for-gradle-3-0-0", "title": "SonarQube - Android not working for gradle 3.0.0", "body": "<p>Android sonarqube worked until I updating android studio. Now it gives an error </p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\ncom.android.build.gradle.api.ApkVariant.getCompileLibraries()Ljava/util/Collection;\n</code></pre>\n\n<p>I think this happens because gradle dependency syntax changed from '<strong>compile</strong>' to '<strong>implementation</strong>' like below in newest android version.</p>\n\n<p>from</p>\n\n<pre><code>dependencies {\n    compile ........\n    compile ........\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>dependencies {\n    implementation ........\n    implementation ........\n}\n</code></pre>\n\n<p>Can anyone please help me to configure sonarqube for new android version</p>\n"}, {"tags": ["kotlin", "extension-function"], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1506942649, "post_id": 46524288, "comment_id": 80002377, "body": "Thanks for your answer, i was just asking on the concept not really dig into details. See my answer for the question if you want."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1506942680, "post_id": 46524288, "comment_id": 80002401, "body": "Ah okay sorry then. I&#39;ve added the hint about importing"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1506942896, "post_id": 46524288, "comment_id": 80002518, "body": "But the problem is, that IDE is not propose me the path to my extension function - i must import it by myself"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1506942926, "post_id": 46524288, "comment_id": 80002532, "body": "Actually it does, at least IntelliJ is capable of doing so"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1506942958, "post_id": 46524288, "comment_id": 80002538, "body": "Ok, I am using Android Studio 3 and also it is a preview version"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1506943004, "post_id": 46524288, "comment_id": 80002565, "body": "But Android Studio should be to"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1506943556, "post_id": 46524288, "comment_id": 80002807, "body": "I don&#39;t know, is not working in Android studio 3.0 Beta 6"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1506966631, "last_edit_date": 1506966631, "creation_date": 1506942368, "answer_id": 46524288, "question_id": 46524000, "link": "https://stackoverflow.com/questions/46524000/kotlin-how-i-can-access-my-new-class-extension-function-from-another-file/46524288#46524288", "title": "Kotlin - How i can access my new class extension function from another file", "body": "<p>First of all: There a many errors in your source code, you should fix before asking the question here (missing type annotations in constructors, missing <code>val</code>/<code>var</code> etc.).</p>\n\n<p>To your question:\nNormally, you can access extension functions even if defined in different kt files. Read the official docs covering <a href=\"https://kotlinlang.org/docs/reference/extensions.html#scope-of-extensions\" rel=\"nofollow noreferrer\">extension scopes</a>.</p>\n\n<p><strong>It's important to import your extension function</strong></p>\n"}, {"comments": [{"owner": {"reputation": 1818, "user_id": 10268067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac5a0e0e1dda857b69f91563605bf028?s=128&d=identicon&r=PG&f=1", "display_name": "steve moretz", "link": "https://stackoverflow.com/users/10268067/steve-moretz"}, "edited": false, "score": 0, "creation_date": 1555781370, "post_id": 46524342, "comment_id": 98224375, "body": "Thank you that works don&#39;t forget to make the method public."}, {"owner": {"reputation": 1669, "user_id": 9987309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vUtsn.jpg?s=128&g=1", "display_name": "iCantC", "link": "https://stackoverflow.com/users/9987309/icantc"}, "edited": false, "score": 2, "creation_date": 1562576556, "post_id": 46524342, "comment_id": 100403855, "body": "The best way is to add the Extension Method in a separate new file. Don&#39;t write it inside any <code>Class</code> or <code>Object</code>."}], "tags": [], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "is_accepted": true, "score": 19, "last_activity_date": 1507272998, "last_edit_date": 1507272998, "creation_date": 1506942597, "answer_id": 46524342, "question_id": 46524000, "link": "https://stackoverflow.com/questions/46524000/kotlin-how-i-can-access-my-new-class-extension-function-from-another-file/46524342#46524342", "title": "Kotlin - How i can access my new class extension function from another file", "body": "<p>The answer for my question, that satisfies me is just to extract the method to some \"object\" structure in other file and whenever we want to access that function we must import the path(package.object.method) to this.</p>\n\n<p>But the problem is, that IDE is not propose me the path to my extension function - i must import it by myself.</p>\n\n<p>I am using Android Studio 3 preview, hope this will be fixed.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>It is better to define those function in just plain Kotlin file, so the functions will be not owned by any structure. Then it will be not a problem with importing those automatically by IDE from any place.</p>\n"}, {"tags": [], "owner": {"reputation": 3311, "user_id": 3593084, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Uq59r.jpg?s=128&g=1", "display_name": "Mr.Q", "link": "https://stackoverflow.com/users/3593084/mr-q"}, "is_accepted": false, "score": 0, "last_activity_date": 1585854680, "last_edit_date": 1585854680, "creation_date": 1585854317, "answer_id": 60999187, "question_id": 46524000, "link": "https://stackoverflow.com/questions/46524000/kotlin-how-i-can-access-my-new-class-extension-function-from-another-file/60999187#60999187", "title": "Kotlin - How i can access my new class extension function from another file", "body": "<p>I believe that there is a misunderstanding here about extension functions. Extension functions are regular static functions that take in an instance of the receiver class as a parameter implicitly when you define the function and operate on it.</p>\n\n<p>These static functions (aka extension functions) have some limitations.</p>\n\n<p>They are not added to the class hierarchy so subclasses can not inherit them (if you define extension function for parent class you can't expect that method to be present in child class)</p>\n\n<p>They don't have access to the private properties of the class that they are extending.</p>\n\n<p>Also, they are resolved statically, for example (<a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">taken from here</a>) </p>\n\n<pre><code>open class Shape\n\nclass Rectangle: Shape()\n\nfun Shape.getName() = \"Shape\"\n\nfun Rectangle.getName() = \"Rectangle\"\n\nfun printClassName(s: Shape) {\n  println(s.getName())\n}     \n\nprintClassName(Rectangle())\n</code></pre>\n\n<p>This example prints \"Shape\", because the extension function being called depends only on the declared type of the parameter s, which is the Shape class.</p>\n"}, {"tags": [], "owner": {"reputation": 7455, "user_id": 312161, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e21cc7396d5879d3812e2a940ebca6cb?s=128&d=identicon&r=PG", "display_name": "neworld", "link": "https://stackoverflow.com/users/312161/neworld"}, "is_accepted": false, "score": 0, "last_activity_date": 1586948175, "creation_date": 1586948175, "answer_id": 61227013, "question_id": 46524000, "link": "https://stackoverflow.com/questions/46524000/kotlin-how-i-can-access-my-new-class-extension-function-from-another-file/61227013#61227013", "title": "Kotlin - How i can access my new class extension function from another file", "body": "<p>There is a way to do that:</p>\n\n<pre><code>fun &lt;T: Parent&gt; T.toChild2() {\n    TODO()\n}\n\nChild(...).toChild2()\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11757, "favorite_count": 0, "accepted_answer_id": 46524342, "answer_count": 4, "score": 11, "last_activity_date": 1586948175, "creation_date": 1506940970, "last_edit_date": 1506949373, "question_id": 46524000, "link": "https://stackoverflow.com/questions/46524000/kotlin-how-i-can-access-my-new-class-extension-function-from-another-file", "title": "Kotlin - How i can access my new class extension function from another file", "body": "<p>I am very new to Kotlin.</p>\n\n<p>I want to be able to add a function to my abstract class, so when I define that function I will be able to invoke that on every child from that class(they inherit the abstract class)</p>\n\n<p>However,I want to define those extension functions in other file. \nI can't access those functions when i try to invoke them on a particular child implementation of the abstract class.</p>\n\n<p>What are the rules, that I need to made to resolve my problem?</p>\n\n<p>I want to by able achieve something like this:</p>\n\n<pre><code>abstract class Parent(val val1, val val2, val val3){}\n\nclass Child(var val1, var val2, var val3) : Parent(val1, val2, val3){}\n\nclass Child2(var val1, var val2, var val3) : Parent(val1, val2, val3){}\n</code></pre>\n\n<p>The extension method for parent and all childs:</p>\n\n<pre><code> fun Parent.convertToChild2( ): Child2? {\n\nreturn //some creation method of Child2\n} \n</code></pre>\n\n<p>And I want to be able to invoke this:</p>\n\n<pre><code>child: Child\nchild.convertToChild2\n</code></pre>\n\n<p>I defined all classes in separate file and also the extension function in other file. </p>\n\n<p>I cannot access the function like this - is not visible.</p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "rx-kotlin2"], "answers": [{"comments": [{"owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "edited": false, "score": 0, "creation_date": 1506940333, "post_id": 46523720, "comment_id": 80001371, "body": "This would not work: getOpenHunt shouldn&#39;t find an openHunt on it&#39;s first run, because the hunt may not exist yet and this isn&#39;t an error (so throwing an exception is not the way to go). Then the hunt is created, so getOpenHunt.onNext should be called. At that point getOpenHunt should be unsubscribed because this hunt will eventually reach a point of not being open, so getOpenHunt.onNext would be called again (improper behavior).  Hunt&#39;s lifecycle: Non Existent -&gt; Open -&gt; Closed"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "edited": false, "score": 0, "creation_date": 1506940399, "post_id": 46523720, "comment_id": 80001395, "body": "Hold on, let me understand your question to update my answer. Edit: Do you mean that you want to create a hunt if there&#39;s no result and in case if there&#39;s a result you want to return it using getHunt?"}, {"owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "edited": false, "score": 0, "creation_date": 1506940665, "post_id": 46523720, "comment_id": 80001519, "body": "No, the hunt is created by another method. This one is just observing the database via 2 queries: getOpenHunt to find the open hunt, getHunt when an open hunt is found. Once it finds the open hunt, I want to unsubscribe from getOpenHunt and subscribe to getHunt (using the huntId retrieved by getOpenHunt)."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "edited": false, "score": 0, "creation_date": 1506940826, "post_id": 46523720, "comment_id": 80001594, "body": "Thats exaclty what my sample does. Querie for openHunt, requires to find at least one result. If one result is found it &quot;unsubscribe&quot; from getOpenHunt, queries getHunt with the result and require another result."}, {"owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "edited": false, "score": 0, "creation_date": 1506941106, "post_id": 46523720, "comment_id": 80001719, "body": "firstOrError means that it query the db once, if no open hunts are found, it throws an Exception, which means the flowable is completed and it will not listen for db changes. If it find the open hunt on the first run, it switches to getHunt, which should be converted to a single (firstOrError return a Single) and this means I won&#39;t get updates when the db is updated. In conclusion this is not a solution to my problem, but thanks anyway."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "edited": false, "score": 0, "creation_date": 1506941146, "post_id": 46523720, "comment_id": 80001741, "body": "Now i got what you want. Ill update my answer, hold on"}, {"owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "edited": false, "score": 0, "creation_date": 1506941991, "post_id": 46523720, "comment_id": 80002106, "body": "With your edit I would get a new empty list when the hunt goes from open to closed, because getOpenHunt is still subscribed. I&#39;m not familiar with flatMapMaybe, what happens when the value is null? Does it skip the {} block or it does not emit at all?"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "edited": false, "score": 0, "creation_date": 1506942123, "post_id": 46523720, "comment_id": 80002153, "body": "If you have a query which has a filter, it only returns if values are found. No empty list is returned. flatMapMaybe is like a single but it is not requires to have a result. It will only emit if there are data. That means no empty data are emitted. If you want to make sure that the first query doesnt contain empty data you can use    .filter{it.isEmpty()} after the first query."}, {"owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "edited": false, "score": 0, "creation_date": 1506942712, "post_id": 46523720, "comment_id": 80002416, "body": "Then this is not a solution for me. I need to know if the hunt is null, open or closed, queries stuck when no items are found are not a solution."}], "tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1506941664, "last_edit_date": 1506941664, "creation_date": 1506939766, "answer_id": 46523720, "question_id": 46523605, "link": "https://stackoverflow.com/questions/46523605/change-observable-on-condition-met-rxjava2/46523720#46523720", "title": "Change observable on condition met - RxJava2", "body": "<p>I would do it that way by reusing your methods:</p>\n\n<pre><code>getOpenHunt(teamId:String): Flowable&lt;List&lt;Hunt&gt;&gt;\ngetHunt(huntId:String): Flowable&lt;List&lt;Hunt&gt;&gt;\n\ngetOpenHunt(yourId) // return your Flowable&lt;List&lt;Hunt&gt;&gt;\n.flatMapIterable { it } // get each result of open hunts\n.flatMapMaybe {  getHunt(it.id) } // querie each result \n.toList() // back to a Maybe/Single&lt;List&lt;Hunt&gt;&gt;\n.toFlowable() // back to a Flowable else it wont emit more data\n.subscribeBy(onNext = { /** process your results **/ },\n             onError = { /** process if no results found **/  }\n            )\n</code></pre>\n\n<p>That means you query your Database if there is an entry which matches your condition. Then it get the result, split it into single items, run several queries using your results. If there are results found it converts it back to a <code>Single&lt;List&lt;Hunt&gt;&gt;</code>. Since you want to keep subscribed you need to convert it back to a Flowable using <code>.toFlowable()</code></p>\n\n<p>By the way, change means that the return value changes, but in your case it's the same <code>List&lt;Hunt&gt;</code>. </p>\n\n<p>The whole flow doesnt make any sense for me since you could also get the results by getOpenHunt and iterate through it.</p>\n"}, {"comments": [{"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1506951358, "post_id": 46526482, "comment_id": 80007133, "body": "Without validating for a better solution since im currently not on the computer it sounds interesting, upvoted your solution. May be great if you can also extend your question with a very simple uml-diagram"}], "tags": [], "owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "is_accepted": false, "score": 1, "last_activity_date": 1506951056, "creation_date": 1506951056, "answer_id": 46526482, "question_id": 46523605, "link": "https://stackoverflow.com/questions/46523605/change-observable-on-condition-met-rxjava2/46526482#46526482", "title": "Change observable on condition met - RxJava2", "body": "<p>I solved this one by looking at onErrorResumeNext. Copy pasted some code and modified to my needs. I don't think this is perfect, but it does his work. Comment if you find some possible errors.</p>\n\n<pre><code>public final class FlowableOnPredicateNext&lt;T&gt; extends AbstractFlowableWithUpstream&lt;T, T&gt; {\n\nprivate final Predicate&lt;? super T&gt;                                  predicate;\nprivate final Function&lt;? super T, ? extends Publisher&lt;? extends T&gt;&gt; next;\n\npublic FlowableOnPredicateNext(Flowable&lt;T&gt; source, Predicate&lt;? super T&gt; predicate,\n                               Function&lt;? super T, ? extends Publisher&lt;? extends T&gt;&gt; next) {\n    super(source);\n    this.predicate = predicate;\n    this.next = next;\n}\n\n@Override\nprotected void subscribeActual(Subscriber&lt;? super T&gt; s) {\n    OnPredicateNextSubscriber&lt;T&gt; parent = new OnPredicateNextSubscriber&lt;&gt;(s, next, predicate);\n    s.onSubscribe(parent.arbiter);\n    source.subscribe(parent);\n}\n\nstatic final class OnPredicateNextSubscriber&lt;T&gt; implements FlowableSubscriber&lt;T&gt; {\n\n    private final Subscriber&lt;? super T&gt;                                 actual;\n    private final Predicate&lt;? super T&gt;                                  predicate;\n    private final SubscriptionArbiter                                   arbiter;\n    private final Function&lt;? super T, ? extends Publisher&lt;? extends T&gt;&gt; nextSupplier;\n    private boolean switched = false;\n\n    OnPredicateNextSubscriber(Subscriber&lt;? super T&gt; actual,\n                              Function&lt;? super T, ? extends Publisher&lt;? extends T&gt;&gt;\n                                      nextSupplier, Predicate&lt;? super T&gt; predicate) {\n        this.actual = actual;\n        this.predicate = predicate;\n        this.nextSupplier = nextSupplier;\n        this.arbiter = new SubscriptionArbiter();\n    }\n\n    @Override\n    public void onSubscribe(Subscription s) {\n        arbiter.setSubscription(s);\n    }\n\n    @Override\n    public void onNext(T t) {\n        try {\n            if (!switched &amp;&amp; predicate.test(t)) {\n                Publisher&lt;? extends T&gt; p;\n                p = nextSupplier.apply(t);\n                p.subscribe(this);\n                switched = true;\n            } else {\n                actual.onNext(t);\n            }\n        } catch (Exception e) {\n            actual.onError(e);\n        }\n    }\n\n    @Override\n    public void onError(Throwable t) {\n        actual.onError(t);\n    }\n\n    @Override\n    public void onComplete() {\n        actual.onComplete();\n    }\n}\n}\n</code></pre>\n\n<p>Using Kotlin I wrote an extension function:</p>\n\n<pre><code>@CheckReturnValue\n@BackpressureSupport(BackpressureKind.FULL)\n@SchedulerSupport(SchedulerSupport.NONE)\nfun &lt;E, T : Flowable&lt;E&gt;&gt; T.onPredicateResumeNext(predicate: Predicate&lt;E&gt;, resumeFunction: io.reactivex.functions.Function&lt;E, Publisher&lt;E&gt;&gt;): Flowable&lt;E&gt; {\nreturn RxJavaPlugins.onAssembly&lt;E&gt;(FlowableOnPredicateNext&lt;E&gt;(this,\n                                                              predicate,\n                                                              resumeFunction\n                                                             ))\n}\n</code></pre>\n\n<p>And I'm now using it like this:</p>\n\n<pre><code>override fun getOpenHunt(teamId: String): Flowable&lt;Optional&lt;Hunt&gt;&gt; {\n    return created().getOpenHunt(teamId)\n            .map {\n                Optional.create(it.firstOrNull())\n            }\n            .onPredicateResumeNext(predicate = Predicate { it.element() != null },\n                                   resumeFunction = Function {\n                                       created()\n                                               .getHunt(it.element()!!.id)\n                                               .map&lt;Optional&lt;Hunt&gt;&gt; {\n                                                   Optional.create(it.firstOrNull())\n                                               }\n                                   })\n}\n</code></pre>\n"}], "owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 727, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1506951056, "creation_date": 1506939375, "last_edit_date": 1506940876, "question_id": 46523605, "link": "https://stackoverflow.com/questions/46523605/change-observable-on-condition-met-rxjava2", "title": "Change observable on condition met - RxJava2", "body": "<p>Using <code>RxJava2</code> <code>RxKotlin</code> and <code>Room</code>, I need to query the database for an open hunt. That means that I search for a hunt that contains an attribute called <code>closed</code> with value <code>false</code>. Once the hunt has been found, it needs to switch the query to that particular hunt.</p>\n\n<p>I have 2 methods for those queries:</p>\n\n<pre><code>getOpenHunt(teamId:String): Flowable&lt;List&lt;Hunt&gt;&gt;\ngetHunt(huntId:String): Flowable&lt;List&lt;Hunt&gt;&gt;\n</code></pre>\n\n<p>They both return a <code>List</code> because otherwise the query gets stuck when no hunt is found.</p>\n\n<p>My idea is something like</p>\n\n<pre><code>fun queryHunt(teamId:String):Flowable&lt;Optional&lt;Hunt&gt;&gt;{\n   getOpenHunt(teamId)\n      .map&lt;Optional&lt;Hunt&gt;&gt; {\n                Optional.create(it.firstOrNull())\n            }\n      .switchToFlowableIf ( it is Optional.Some, getHunt(it.element().id)\n}\n\n//With switchToFlowableIf's being\nfun &lt;E:Any&gt; switchToFlowableIf(condition: (E)-&gt;Boolean, newFlowable: Flowable&lt;E&gt;): Flowable&lt;E&gt;\n//It should unsubscribe from getOpenHunt and subscribe to newFlowable\n</code></pre>\n\n<p>For reference, here is my <code>Optional</code> class</p>\n\n<pre><code>sealed class Optional&lt;out T&gt; {\nclass Some&lt;out T&gt;(val element: T) : Optional&lt;T&gt;()\nobject None : Optional&lt;Nothing&gt;()\n\nfun element(): T? {\n    return when (this) {\n        is Optional.None -&gt; null\n        is Optional.Some -&gt; element\n    }\n}\n\ncompanion object {\n    fun &lt;T&gt; create(element: T?): Optional&lt;T&gt; {\n        return if (element != null) {\n            Optional.Some(element)\n        } else {\n            Optional.None\n        }\n    }\n}\n}\n</code></pre>\n\n<p>Is there a similar method already built in RxJava2? If not, how would you implement it?</p>\n"}, {"tags": ["android", "singleton", "kotlin", "firebase-cloud-messaging"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1506939149, "post_id": 46523339, "comment_id": 80000890, "body": "Does it need an <code>Activity</code> instance or simply <code>applicationContext</code> will do?"}], "owner": {"reputation": 113, "user_id": 8707673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f014ed531428cfcdd65a8a07fba07f55?s=128&d=identicon&r=PG&f=1", "display_name": "Edna Krabappel", "link": "https://stackoverflow.com/users/8707673/edna-krabappel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1506939421, "creation_date": 1506938226, "question_id": 46523339, "link": "https://stackoverflow.com/questions/46523339/how-to-instantiate-a-singleton-only-once-in-my-app-and-its-libraries", "title": "How to instantiate a Singleton only once in my app and its libraries?", "body": "<p>I created a library with Firebase Cloud Messaging for me, so I can use that in my apps and all other libraries I created. It is working so far. </p>\n\n<p>Then I added a FcmManager class, which manages all Fcm related stuff, like refresh token. Since I can use this FcmLibrary in my app and its other libraries, I would like to make it a Singleton, so that this FcmManager is instantiated only once. The problem here is in FcmManager I have a <code>Context</code> parameter. In activities:</p>\n\n<pre><code>val fcmManager = FcmManager(this)\n</code></pre>\n\n<p>How can I solve that?</p>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1506935837, "post_id": 46522248, "comment_id": 79999338, "body": "Have you downloaded and tried it?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1536002195, "post_id": 46522248, "comment_id": 91260571, "body": "Please don&#39;t vandalize your own posts"}], "answers": [{"tags": [], "owner": {"reputation": 226, "user_id": 4545142, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f682d06dbcafa51580aa5adf4dc8819e?s=128&d=identicon&r=PG", "display_name": "Harin Kaklotar", "link": "https://stackoverflow.com/users/4545142/harin-kaklotar"}, "is_accepted": false, "score": 0, "last_activity_date": 1506938193, "creation_date": 1506938193, "answer_id": 46523324, "question_id": 46522248, "link": "https://stackoverflow.com/questions/46522248/android-studio-kotlin/46523324#46523324", "title": "Android Studio / kotlin", "body": "<p>Android studio version 2.x requirements for windows</p>\n\n<ul>\n<li><strong>OS version</strong> : Windows 7 or later</li>\n<li><strong>RAM</strong> : 3 GB RAM minimum, 8 GB RAM recommended; plus 1 GB for the Android Emulator</li>\n<li><strong>Disk space</strong> : 500 MB disk space for Android Studio, at least 1.5 GB for Android SDK, emulator system images, and caches</li>\n<li><strong>Java version</strong> : Java Development Kit (JDK) 8</li>\n<li><strong>Screen resolution</strong> : 1280x800 minimum screen resolution</li>\n</ul>\n\n<p>As per the above requirements your laptop has <em>low ram</em> (ans:as per this reason your laptop is not suitable for latest version 2.x), so you have to upgrade new ram or as per my personal opinion you have to buy new laptop which is fulfill the above requirements</p>\n"}], "owner": {"reputation": 1, "user_id": 8707366, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vMUGmEoZ8ok/AAAAAAAAAAI/AAAAAAAABkc/cIKHGmEGCok/photo.jpg?sz=128", "display_name": "Omran Nassan", "link": "https://stackoverflow.com/users/8707366/omran-nassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1536002073, "creation_date": 1506933987, "last_edit_date": 1536002073, "question_id": 46522248, "link": "https://stackoverflow.com/questions/46522248/android-studio-kotlin", "title": "Android Studio / kotlin", "body": "<p>I would like to know if my laptop suitable for <strong>Android Studio</strong>(because i faced some problems with it)\nMy laptop has Intel core i3 @ CPU M 380 2.53 GHz\nand 2 GB ram with windows 32-bit</p>\n"}, {"tags": ["android", "data-binding", "kotlin", "build.gradle", "android-databinding"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 8491283, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b35bea4a48ad1b2e613f937b44fa1d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Jimil Shah", "link": "https://stackoverflow.com/users/8491283/jimil-shah"}, "edited": false, "score": 0, "creation_date": 1506966258, "post_id": 46521969, "comment_id": 80016335, "body": "I tried changing from alpha6 to beta6, but then, my build.gradle file won&#39;t sync with my project and so, I&#39;ve added the compileOptions, but I went back to alpha6 instead of beta6, and then I&#39;m back to the same problem; it won&#39;t allow me to build the apk showing the error : Unresolved reference databinding and Unresolved reference : ActivityMainBinding"}, {"owner": {"reputation": 59, "user_id": 8491283, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b35bea4a48ad1b2e613f937b44fa1d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Jimil Shah", "link": "https://stackoverflow.com/users/8491283/jimil-shah"}, "edited": false, "score": 0, "creation_date": 1506970081, "post_id": 46521969, "comment_id": 80018235, "body": "Can you please tell me how the XML file should be? Or what possible code and in which particular XML file stops generating of databinding classes"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 59, "user_id": 8491283, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b35bea4a48ad1b2e613f937b44fa1d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Jimil Shah", "link": "https://stackoverflow.com/users/8491283/jimil-shah"}, "edited": false, "score": 0, "creation_date": 1506970652, "post_id": 46521969, "comment_id": 80018496, "body": "you havent posted your XML. Do that and i may help :)"}, {"owner": {"reputation": 59, "user_id": 8491283, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b35bea4a48ad1b2e613f937b44fa1d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Jimil Shah", "link": "https://stackoverflow.com/users/8491283/jimil-shah"}, "edited": false, "score": 0, "creation_date": 1507021765, "post_id": 46521969, "comment_id": 80035997, "body": "The site isn&#39;t allowing me to paste the XML file in the comments. Can I get an email-ID of yours so that I can show you the XML file?"}, {"owner": {"reputation": 864, "user_id": 1395990, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rUk6Z.png?s=128&g=1", "display_name": "W00di", "link": "https://stackoverflow.com/users/1395990/w00di"}, "edited": false, "score": 0, "creation_date": 1558529017, "post_id": 46521969, "comment_id": 99130632, "body": "In my case I removed the DataBindingUtil.setContentView(this, R.layout.activity_main). Run the app with old setContentView call without using DataBindingUtil. Then I add again  binding = DataBindingUtil.setContentView(this, R.layout.activity_main). Now it was able to resolve   private lateinit var binding: ActivityMainBinding"}], "tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": false, "score": 9, "last_activity_date": 1506932857, "creation_date": 1506932857, "answer_id": 46521969, "question_id": 46521478, "link": "https://stackoverflow.com/questions/46521478/android-kotlin-error-unresolved-reference-databinding-activitymainbinding/46521969#46521969", "title": "android-kotlin error : unresolved reference databinding &amp; ActivityMainBinding", "body": "<p>There are several errors in your gradle.</p>\n\n<p>The current Gradle-Version is 3.0.0-beta 3. That means that you need to change your classpath to</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:3.0.0-beta6'\n</code></pre>\n\n<p>Same for your dependencies</p>\n\n<pre><code>kapt \"com.android.databinding:compiler:3.0.0-beta6\"\n</code></pre>\n\n<p>You should also provide your plugins in the proper folder.</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>You should also enable compile options to have your annotation processors use Java8-dependencies (which may be required for Kotlin to target 1.8).</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p>After this is done <code>invalidate your cache and restart</code>.</p>\n\n<p>If the error still persists check the Gradle Console. There may be an error in your XML File which stops your Annotation processor to generate the databinding classes.</p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 3219477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/836d0402419ae240ef132bf5341dc521?s=128&d=identicon&r=PG&f=1", "display_name": "user3219477", "link": "https://stackoverflow.com/users/3219477/user3219477"}, "is_accepted": false, "score": 0, "last_activity_date": 1535010054, "last_edit_date": 1535010054, "creation_date": 1535004205, "answer_id": 51979239, "question_id": 46521478, "link": "https://stackoverflow.com/questions/46521478/android-kotlin-error-unresolved-reference-databinding-activitymainbinding/51979239#51979239", "title": "android-kotlin error : unresolved reference databinding &amp; ActivityMainBinding", "body": "<p>I forgot to add <code>kotlin-kapt</code>. After adding it, it worked!</p>\n\n<pre><code>apply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\n\ndependencies {\n    kapt \"com.android.databinding:compiler:3.1.3\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9526, "user_id": 7356355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed89399fa941467104efb9930687aaa?s=128&d=identicon&r=PG&f=1", "display_name": "user158", "link": "https://stackoverflow.com/users/7356355/user158"}, "is_accepted": false, "score": 2, "last_activity_date": 1551775426, "last_edit_date": 1551775426, "creation_date": 1551774111, "answer_id": 54998278, "question_id": 46521478, "link": "https://stackoverflow.com/questions/46521478/android-kotlin-error-unresolved-reference-databinding-activitymainbinding/54998278#54998278", "title": "android-kotlin error : unresolved reference databinding &amp; ActivityMainBinding", "body": "<p>I had this issue (<code>Unresolved reference: ActivityMainBinding</code> ) Tweaking dependencies did not work. The issue was I was using  a <code>DrawerLayout</code> instead of <code>layout</code> as the root element of the activity layout which I want to generate the data binding for.</p>\n\n<p>So place your other layout(ex: constraint, linear relative layouts) inside following tag</p>\n\n<pre><code>&lt;layout xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n&lt;!-- other layout here --&gt;\n\n&lt;/layout&gt;\n</code></pre>\n\n<p>source: <a href=\"https://stackoverflow.com/a/50634021/7356355\">https://stackoverflow.com/a/50634021/7356355</a></p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 9038481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb05061660ba634a6c7158d9f45f4a56?s=128&d=identicon&r=PG", "display_name": "eydryan", "link": "https://stackoverflow.com/users/9038481/eydryan"}, "edited": false, "score": 0, "creation_date": 1569171497, "post_id": 57825177, "comment_id": 102500916, "body": "Rebuilding also cleans the project."}], "tags": [], "owner": {"reputation": 952, "user_id": 2558241, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/TAbqV.jpg?s=128&g=1", "display_name": "Mehrdad Salimi", "link": "https://stackoverflow.com/users/2558241/mehrdad-salimi"}, "is_accepted": false, "score": 3, "last_activity_date": 1567785103, "creation_date": 1567785103, "answer_id": 57825177, "question_id": 46521478, "link": "https://stackoverflow.com/questions/46521478/android-kotlin-error-unresolved-reference-databinding-activitymainbinding/57825177#57825177", "title": "android-kotlin error : unresolved reference databinding &amp; ActivityMainBinding", "body": "<p>In my case, <code>cleaning</code> and then <code>rebuilding</code> the project solved the problem. The problem was that the necessary classes haven't been built until then.</p>\n\n<blockquote>\n  <p>Once data binding is integrated in layout file, goto <code>Build -&gt; Clean\n  Project</code> and <code>Build -&gt; Rebuild Project</code>. This will generate necessary\n  binding classes.</p>\n</blockquote>\n\n<p>source: <a href=\"https://www.androidhive.info/android-working-with-databinding/\" rel=\"nofollow noreferrer\">link</a></p>\n"}, {"tags": [], "owner": {"reputation": 194, "user_id": 4335446, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-kj9polI840U/AAAAAAAAAAI/AAAAAAAACKA/vwTFE3g0dtE/photo.jpg?sz=128", "display_name": "mwarrior", "link": "https://stackoverflow.com/users/4335446/mwarrior"}, "is_accepted": false, "score": 1, "last_activity_date": 1588770208, "creation_date": 1588770208, "answer_id": 61635916, "question_id": 46521478, "link": "https://stackoverflow.com/questions/46521478/android-kotlin-error-unresolved-reference-databinding-activitymainbinding/61635916#61635916", "title": "android-kotlin error : unresolved reference databinding &amp; ActivityMainBinding", "body": "<p>Another thing that can trigger this error is improper use of fragments. For example, in my case, I had</p>\n\n<pre><code>&lt;layout&gt;\n  &lt;data&gt;&lt;/data&gt;\n  &lt;fragment&gt;&lt;/fragment&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>When I <em>should</em> have nested the fragment under another view:</p>\n\n<pre><code>&lt;layout&gt;\n  &lt;data&gt;&lt;/data&gt;\n  &lt;LinearLayout&gt;\n    &lt;fragment&gt;&lt;/fragment&gt;\n  &lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>That change fixed it for me. I'm guessing the implication is that any error in your xml layout file that doesn't directly trigger an error on its own may manifest itself as the error presented in this question.</p>\n"}], "owner": {"reputation": 59, "user_id": 8491283, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b35bea4a48ad1b2e613f937b44fa1d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Jimil Shah", "link": "https://stackoverflow.com/users/8491283/jimil-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7162, "favorite_count": 0, "answer_count": 5, "score": 5, "last_activity_date": 1588770208, "creation_date": 1506930744, "last_edit_date": 1506932535, "question_id": 46521478, "link": "https://stackoverflow.com/questions/46521478/android-kotlin-error-unresolved-reference-databinding-activitymainbinding", "title": "android-kotlin error : unresolved reference databinding &amp; ActivityMainBinding", "body": "<p>I am using Android Studio 3.0 Canary 6 version. I've enabled dataBinding in my class and the code doesn't show any error. But, when I build an APK, the build fails and shows the following error:</p>\n\n<pre><code>Error:(8, 37) Unresolved reference: databinding  \nError:(22, 26) Unresolved reference: ActivityMainBinding  \nError:(38, 50) Unresolved reference: ActivityMainBinding  \nError:(43, 52) Unresolved reference: ActivityMainBinding  \nError:(46, 52) Unresolved reference: ActivityMainBinding  \nError:(49, 52) Unresolved reference: ActivityMainBinding  \nError:(52, 52) Unresolved reference: ActivityMainBinding  \nError:(55, 52) Unresolved reference: ActivityMainBinding  \nError:(58, 52) Unresolved reference: ActivityMainBinding  \nError:(61, 52) Unresolved reference: ActivityMainBinding  \nError:(64, 52) Unresolved reference: ActivityMainBinding  \nError:(67, 52) Unresolved reference: ActivityMainBinding  \nError:(70, 52) Unresolved reference: ActivityMainBinding  \nError:(73, 52) Unresolved reference: ActivityMainBinding  \nError:Execution failed for task ':app:compileDebugKotlin'.  \nCompilation error. See log for more details\n</code></pre>\n\n<p>The top level build.gradle file is as follows :  </p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.1.3-2'\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.0.0-alpha6'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>The module build.gradle file is as follows :  </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.1\"\n    defaultConfig {\n        applicationId \"com.example.jimil.calculator\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \n            \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), \n                'proguard-rules.pro'\n        }\n    }\n    dataBinding{\n        enabled =  true\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestImplementation ('com.android.support.test.espresso:espresso-\n        core:3.0.1', {\n            exclude group: 'com.android.support', module: 'support-\n                annotations'\n    })\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    testImplementation 'junit:junit:4.12'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    kapt 'com.android.databinding:compiler:3.0.0-alpha6'\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>The MainActivity.kt class is :  </p>\n\n<pre><code>import com.example.jimil.calculator.databinding.ActivityMainBinding  \n...  \nclass MainActivity : AppCompatActivity() {  \n    private var binding: ActivityMainBinding? = null  \n    ...  \n}\n</code></pre>\n\n<p>Please help me solve the build error. </p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "is_accepted": true, "score": 0, "last_activity_date": 1506919718, "creation_date": 1506919718, "answer_id": 46519655, "question_id": 46519563, "link": "https://stackoverflow.com/questions/46519563/how-to-reset-the-content-of-recycler-view-in-calling-activity-using-kotlin/46519655#46519655", "title": "How to reset the content of recycler view in calling activity using Kotlin", "body": "<p>I thought notifyDataSetChanged also update the data automatically but no.</p>\n\n<p>I need to call</p>\n\n<pre><code>    itemsAdapter?.updateData(usersData)\n</code></pre>\n\n<p>and in adapter:</p>\n\n<pre><code>fun updateData(users: ArrayList&lt;Items&gt;?){\n        this.users=users\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3278, "user_id": 3282461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v6pSx.png?s=128&g=1", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/3282461/ankit-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1507104070, "creation_date": 1507104070, "answer_id": 46559826, "question_id": 46519563, "link": "https://stackoverflow.com/questions/46519563/how-to-reset-the-content-of-recycler-view-in-calling-activity-using-kotlin/46559826#46559826", "title": "How to reset the content of recycler view in calling activity using Kotlin", "body": "<p>Add this method in adapter</p>\n\n<pre><code>fun addData(exList: MutableList&lt;Object&gt;) {\n    items.clear()\n    items.addAll(exList)\n    notifyDataSetChanged()\n}\n</code></pre>\n\n<p>and add data from your activity/fragment like this</p>\n\n<pre><code> projectsAdapter.addData(list as MutableList&lt;Object&gt;)\n</code></pre>\n"}], "owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1716, "favorite_count": 1, "accepted_answer_id": 46519655, "answer_count": 2, "score": 0, "last_activity_date": 1507104070, "creation_date": 1506918892, "last_edit_date": 1506919732, "question_id": 46519563, "link": "https://stackoverflow.com/questions/46519563/how-to-reset-the-content-of-recycler-view-in-calling-activity-using-kotlin", "title": "How to reset the content of recycler view in calling activity using Kotlin", "body": "<p>What I want to do: As user type something in edittext, a API call and show the response in recyclerview.</p>\n\n<p>in OnCreate()</p>\n\n<pre><code> usersData= ArrayList()\n\n resultRecyclerView.setHasFixedSize(true)\n resultRecyclerView.layoutManager=LinearLayoutManager(\n                    this@MainActivity,LinearLayoutManager.VERTICAL,false)\n itemsAdapter=adapter(this@MainActivity,usersData)\n resultRecyclerView.adapter=itemsAdapter\n</code></pre>\n\n<p>in OnResume()</p>\n\n<pre><code>searchText.addTextChangedListener(object : TextWatcher {\n  override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\n    //....\n  }\n  override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {\n    //.......\n  }\n  override fun afterTextChanged(s: Editable) {\n\n     Log.v(\"Text is \",s.toString())\n     val url=\"https://api.github.com/search/users?q=\"+s.toString().trim()+\"+sort:followers\"\n     fetchData(url)\n  }\n})\n</code></pre>\n\n<p>Method for fetching data </p>\n\n<pre><code>private fun  fetchData(url: String) {\n\n   val tag_string_req = \"string_req\"\n   val strReq = StringRequest(Request.Method.GET,\n                url, Response.Listener&lt;String&gt; {\n                response -&gt;\n                   Log.d(TAG, response.toString())\n\n                   val builder = GsonBuilder()\n                   val gson = builder.create()\n                   //val allItems=gson.fromJson(response,AllUsers::class.java)\n\n                   val data=gson.fromJson(response,AllUsers::class.java)\n                   usersData=data.items\n\n                   Log.v(\"No of users\",usersData?.size.toString())\n\n                   resultRecyclerView.removeAllViews()\n                   itemsAdapter?.notifyDataSetChanged()\n\n        }, Response.ErrorListener { error -&gt;\n            VolleyLog.d(TAG, \"Error: \" + error.message)\n        })\n\n        // Adding request to request queue\n        AppController.getInstance().addToRequestQueue(strReq, tag_string_req)\n}\n</code></pre>\n\n<p>But updated data is not passing in the adapter (it still have zero data). I getting the expected response from the <code>API</code>. <code>notifyDataSetChanged()</code> is not updating the list.  </p>\n"}, {"tags": ["kotlin", "codenameone"], "comments": [{"owner": {"reputation": 49574, "user_id": 756809, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jFZnE.jpg?s=128&g=1", "display_name": "Shai Almog", "link": "https://stackoverflow.com/users/756809/shai-almog"}, "edited": false, "score": 0, "creation_date": 1506917402, "post_id": 46519346, "comment_id": 79992696, "body": "Did you install the kotlin support library from the extension manager?"}, {"owner": {"reputation": 248, "user_id": 5095571, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f33f7cca5078cf87d9428ae45dfe0c8e?s=128&d=identicon&r=PG&f=1", "display_name": "Schreiby", "link": "https://stackoverflow.com/users/5095571/schreiby"}, "reply_to_user": {"reputation": 49574, "user_id": 756809, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jFZnE.jpg?s=128&g=1", "display_name": "Shai Almog", "link": "https://stackoverflow.com/users/756809/shai-almog"}, "edited": false, "score": 0, "creation_date": 1506917742, "post_id": 46519346, "comment_id": 79992740, "body": "Codename One extensions? Yes."}, {"owner": {"reputation": 7336, "user_id": 2931146, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/35057c62300faa065d6894cf9e17d27c?s=128&d=identicon&r=PG", "display_name": "Diamond", "link": "https://stackoverflow.com/users/2931146/diamond"}, "edited": false, "score": 0, "creation_date": 1506919709, "post_id": 46519346, "comment_id": 79993121, "body": "On what IDE are you trying Kotlin?"}, {"owner": {"reputation": 248, "user_id": 5095571, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f33f7cca5078cf87d9428ae45dfe0c8e?s=128&d=identicon&r=PG&f=1", "display_name": "Schreiby", "link": "https://stackoverflow.com/users/5095571/schreiby"}, "edited": false, "score": 0, "creation_date": 1506919906, "post_id": 46519346, "comment_id": 79993171, "body": "Installed on Intellij"}, {"owner": {"reputation": 49574, "user_id": 756809, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jFZnE.jpg?s=128&g=1", "display_name": "Shai Almog", "link": "https://stackoverflow.com/users/756809/shai-almog"}, "edited": false, "score": 0, "creation_date": 1506932479, "post_id": 46519346, "comment_id": 79997639, "body": "Did you install the kotlin support library from the extension manager as explained here <a href=\"https://www.codenameone.com/blog/kotlin-support-public-beta.html\" rel=\"nofollow noreferrer\">codenameone.com/blog/kotlin-support-public-beta.html</a> did you refresh libs afterwards?"}, {"owner": {"reputation": 248, "user_id": 5095571, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f33f7cca5078cf87d9428ae45dfe0c8e?s=128&d=identicon&r=PG&f=1", "display_name": "Schreiby", "link": "https://stackoverflow.com/users/5095571/schreiby"}, "edited": false, "score": 0, "creation_date": 1506959121, "post_id": 46519346, "comment_id": 80012363, "body": "Yes, I followed instructions and refreshed the cn1 libs."}, {"owner": {"reputation": 49574, "user_id": 756809, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jFZnE.jpg?s=128&g=1", "display_name": "Shai Almog", "link": "https://stackoverflow.com/users/756809/shai-almog"}, "edited": false, "score": 0, "creation_date": 1507003907, "post_id": 46519346, "comment_id": 80028609, "body": "How did you create the project? Did you create it as a standard hello world Codename One project or did you do something else? Did you modify the modules in any way? Are you using the standard IntelliJ IDE? Notice that Android Studio doesn&#39;t work."}], "owner": {"reputation": 248, "user_id": 5095571, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f33f7cca5078cf87d9428ae45dfe0c8e?s=128&d=identicon&r=PG&f=1", "display_name": "Schreiby", "link": "https://stackoverflow.com/users/5095571/schreiby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1506917053, "creation_date": 1506917053, "question_id": 46519346, "link": "https://stackoverflow.com/questions/46519346/codename-one-build-errors-related-to-kotlin", "title": "Codename One build errors related to Kotlin", "body": "<p>While trying to build an iOS debug version of my app, I came across the following build error. I have imported Kotlin support library but have not actually added any Kotlin code to my app. Where is this error coming from?</p>\n\n<pre><code>Error while working with the class: java/lang/annotation/Annotation file:kotlin_Deprecated no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_ExtensionFunctionType no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_Metadata no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_ReplaceWith no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_Suppress no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_UnsafeVariance no class definition   \nError while working with the class: java/lang/annotation/Annotation file:kotlin_annotation_MustBeDocumented no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_annotation_Repeatable no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_annotation_Retention no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_annotation_Target no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_internal_Exact no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_internal_HidesMembers no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_internal_InlineExposed no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_internal_InlineOnly no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_internal_LowPriorityInOverloadResolution no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_internal_NoInfer no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_internal_OnlyInputTypes no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_internal_PureReifiable no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_JvmField no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_JvmMultifileClass no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_JvmName no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_JvmOverloads no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_JvmStatic no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_JvmSuppressWildcards no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_JvmSynthetic no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_JvmVersion no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_JvmWildcard no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_PurelyImplements no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_Strictfp no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_Synchronized no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_Throws no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_Transient no class definition\nError while working with the class: java/lang/annotation/Annotation file:kotlin_jvm_Volatile no class definition\nError while working with the class: java/lang/annotation/Annotation file:org_jetbrains_annotations_Mutable no class definition\nError while working with the class: java/lang/annotation/Annotation file:org_jetbrains_annotations_NotNull no class definition\nError while working with the class: java/lang/annotation/Annotation file:org_jetbrains_annotations_Nullable no class definition\nError while working with the class: java/lang/annotation/Annotation file:org_jetbrains_annotations_ReadOnly no class definition\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 5, "last_activity_date": 1506918408, "last_edit_date": 1506918408, "creation_date": 1506915567, "answer_id": 46519175, "question_id": 46519150, "link": "https://stackoverflow.com/questions/46519150/kotlin-cannot-declare-a-argument-of-type-mutablelistof-in-class-definition/46519175#46519175", "title": "Kotlin: Cannot declare a argument of type mutableListOf in class definition", "body": "<p><code>mutableListOf</code> is a function. What you need is a type. So you should use <code>MutableList</code> instead.</p>\n\n<pre><code>var listString: MutableList&lt;String&gt;\n</code></pre>\n\n<p>Or, if you want to provide a default value to <code>listString</code>, you need to write it like this:</p>\n\n<pre><code>var listString: MutableList&lt;String&gt; = mutableListOf()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1506927054, "last_edit_date": 1506927054, "creation_date": 1506926628, "answer_id": 46520595, "question_id": 46519150, "link": "https://stackoverflow.com/questions/46519150/kotlin-cannot-declare-a-argument-of-type-mutablelistof-in-class-definition/46520595#46520595", "title": "Kotlin: Cannot declare a argument of type mutableListOf in class definition", "body": "<p>The function <code>mutableListOf</code> is a library function, being part of standard kotlin library. </p>\n\n<pre><code>fun &lt;T&gt; mutableListOf(vararg elements: T): MutableList&lt;T&gt; (source)\n</code></pre>\n\n<p>It gives you a <code>MutableList&lt;T&gt;</code> which is the <strong>return type</strong> and also has to be the parameter type of your <code>constructor</code>. To fix this, just make your <code>listString</code> a <code>MutableList</code>.</p>\n\n<pre><code>class Model (val title: String, var listString: MutableList&lt;String&gt;, var selectedIndex: Int = 0) : FormFieldModel(FormFieldType.SELECT_BOX) {\n    var iad = mutableListOf&lt;String&gt;()\n}\n</code></pre>\n"}], "owner": {"reputation": 2516, "user_id": 8258130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b3104803b9c1f33541962147c6c660cb?s=128&d=identicon&r=PG&f=1", "display_name": "iori24", "link": "https://stackoverflow.com/users/8258130/iori24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 46519175, "answer_count": 2, "score": -1, "last_activity_date": 1506927054, "creation_date": 1506915287, "last_edit_date": 1506924130, "question_id": 46519150, "link": "https://stackoverflow.com/questions/46519150/kotlin-cannot-declare-a-argument-of-type-mutablelistof-in-class-definition", "title": "Kotlin: Cannot declare a argument of type mutableListOf in class definition", "body": "<p>I cannot use the <code>mutableListOf</code> in the constructor. But I can use it in the \nclass body. Is this a known bug or just we cannot do it this way?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>class Model (val title: String, var listString: kotlin.collections.mutableListOf&lt;String&gt;, var selectedIndex: Int = 0) : FormFieldModel(FormFieldType.SELECT_BOX) {\n    var iad = mutableListOf&lt;String&gt;()\n}\n</code></pre>\n\n<p>And I get <code>Unresolved reference: mutableListOf</code> in the constructor.</p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 634, "user_id": 5917497, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f66cf77248f51ad2cf10acd2693aa5c?s=128&d=identicon&r=PG&f=1", "display_name": "SergioLeone", "link": "https://stackoverflow.com/users/5917497/sergioleone"}, "edited": false, "score": 0, "creation_date": 1523542274, "post_id": 46519044, "comment_id": 86612131, "body": "Can you please update the question with complete solution."}, {"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "reply_to_user": {"reputation": 634, "user_id": 5917497, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f66cf77248f51ad2cf10acd2693aa5c?s=128&d=identicon&r=PG&f=1", "display_name": "SergioLeone", "link": "https://stackoverflow.com/users/5917497/sergioleone"}, "edited": false, "score": 1, "creation_date": 1523571626, "post_id": 46519044, "comment_id": 86628207, "body": "@SergioLeone I think my blog covers it well. <a href=\"http://www.albertgao.xyz/2017/10/02/kotlin-reflection-how-to-get-class-reference-from-KParameter/\" rel=\"nofollow noreferrer\">albertgao.xyz/2017/10/02/&hellip;</a>"}, {"owner": {"reputation": 634, "user_id": 5917497, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f66cf77248f51ad2cf10acd2693aa5c?s=128&d=identicon&r=PG&f=1", "display_name": "SergioLeone", "link": "https://stackoverflow.com/users/5917497/sergioleone"}, "edited": false, "score": 0, "creation_date": 1523598240, "post_id": 46519044, "comment_id": 86634626, "body": "I saw that, thanks. I&#39;m not having troubles with finding out if the class is custom or not. But I still can&#39;t solve the <code>argument type mismatch</code> error when the Student class is instantiated. So how do we actually solve creating an instance of a custom Lesson class from a map of params? Are you creating an instance of it inside the <code>if (type != null) {}</code> block? Can you show the updated generateValue() function? Thanks."}], "tags": [], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "is_accepted": true, "score": 2, "last_activity_date": 1506914315, "creation_date": 1506914315, "answer_id": 46519044, "question_id": 46518588, "link": "https://stackoverflow.com/questions/46518588/how-to-get-the-class-reference-from-kparameter-in-kotlin/46519044#46519044", "title": "How to get the class reference from KParameter in kotlin?", "body": "<p>Problem solved:</p>\n\n<p>You could get that <code>::class</code> by using <code>param.type.classifier as KClass&lt;T&gt;</code> where <code>param is KParameter</code></p>\n"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1098, "favorite_count": 1, "accepted_answer_id": 46519044, "answer_count": 1, "score": 1, "last_activity_date": 1523541330, "creation_date": 1506909350, "question_id": 46518588, "link": "https://stackoverflow.com/questions/46518588/how-to-get-the-class-reference-from-kparameter-in-kotlin", "title": "How to get the class reference from KParameter in kotlin?", "body": "<p>The code below is about reflection.\nIt tries to do 2 things:</p>\n\n<ol>\n<li><code>case1()</code> creates an instance from <code>SimpleStudent</code> class, it works.</li>\n<li><code>case2()</code> creates an instance from <code>Student</code> class, not work.</li>\n</ol>\n\n<p>The reason that <code>case2()</code> not work as well as the question, is that inside that <code>generateValue()</code>: </p>\n\n<ol>\n<li>I don't know how to check it is kotlin type or my own type(I have a dirty way to check <code>param.type.toString() not contain \"kotlin\"</code> but I wonder if there is a better solution</li>\n<li>I don't know how to get its class reference when it's a custom class. The problem is that even though <code>param.type.toString() == \"Lesson\"</code>, when I tried to get <code>param.type::class</code>, it's <code>class kotlin.reflect.jvm.internal.KTypeImpl</code></li>\n</ol>\n\n<p>So, how to solve it? Thanks</p>\n\n<p>==============</p>\n\n<pre><code>import kotlin.reflect.KParameter\nimport kotlin.reflect.full.primaryConstructor\nimport kotlin.test.assertEquals\n\ndata class Lesson(val title:String, val length:Int)\ndata class Student(val name:String, val major:Lesson )\ndata class SimpleStudent(val name:String, val age:Int )\n\nfun generateValue(param:KParameter, originalValue:Map&lt;*,*&gt;):Any? {\n    var value = originalValue[param.name]\n\n//    if (param.type is not Kotlin type){\n//        // Get its ::class so that we could create the instance of it, here, I mean Lesson class?\n//    }\n\n    return value\n}\n\nfun case1(){\n    val classDesc = SimpleStudent::class\n    val constructor = classDesc.primaryConstructor!!\n\n    val value = mapOf&lt;Any,Any&gt;(\n            \"name\" to \"Tom\",\n            \"age\" to 16\n    )\n\n    val params = constructor.parameters.associateBy (\n        {it},\n        {generateValue(it, value)}\n    )\n\n    val result:SimpleStudent = constructor.callBy(params)\n\n    assertEquals(\"Tom\", result.name)\n    assertEquals(16, result.age)\n}\n\nfun case2(){\n    val classDesc = Student::class\n    val constructor = classDesc.primaryConstructor!!\n\n    val value = mapOf&lt;Any,Any&gt;(\n            \"name\" to \"Tom\",\n            \"major\" to mapOf&lt;Any,Any&gt;(\n                    \"title\" to \"CS\",\n                    \"length\" to 16\n            )\n    )\n\n    val params = constructor.parameters.associateBy (\n        {it},\n        {generateValue(it, value)}\n    )\n\n    val result:Student = constructor.callBy(params)\n\n    assertEquals(\"Tom\", result.name)\n    assertEquals(Lesson::class, result.major::class)\n    assertEquals(\"CS\", result.major.title)\n}\n\nfun main(args : Array&lt;String&gt;) {\n    case1()\n    case2()\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1506903161, "post_id": 46518042, "comment_id": 79990265, "body": "The debugger does not show Kotlin properties but instead shows the fields of the instance. The properties of the interface are most likely implemented with custom getters and do not have backing fields of their own. To inspect the properties, you can <a href=\"https://www.jetbrains.com/help/idea/evaluating-expressions.html\" rel=\"nofollow noreferrer\">evaluate them as expressions</a> or add watches. (But note: there&#39;s an issue with the debugger: if there are Kotlin property and a field with the same names, it will choose the latter. The workaround for such cases is to call the getter as a method)."}, {"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1506904252, "post_id": 46518042, "comment_id": 79990457, "body": "Thanks for the explanation, I know you could use <code>expression</code> like <code>param.name</code> to access it, what confuses me is that this implicit is a little annoying. :)"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506916115, "creation_date": 1506902609, "last_edit_date": 1506916115, "question_id": 46518042, "link": "https://stackoverflow.com/questions/46518042/why-the-value-structure-is-different-when-debugging", "title": "Why the value structure is different when debugging?", "body": "<p><strong>My environment:</strong></p>\n\n<ul>\n<li>JDK 1.8 </li>\n<li>IDEA Ultimate 2017.2.5 </li>\n<li>Kotlin plugin 1.1.51-release-IJ2017.2-1</li>\n</ul>\n\n<p><strong>I have a function which is simple:</strong></p>\n\n<pre><code>fun generateValue(param:KParameter):Any? {\n    // do something here\n}\n</code></pre>\n\n<p><strong>The problem is</strong> <br>\nWhen I debug this function, let's say put a breakpoint in its body. And look into the value of <code>param</code>.</p>\n\n<p>It has a completely different structure than the <code>KParameter</code> interface.</p>\n\n<p>The <code>KParameter</code> is:</p>\n\n<pre><code>public interface KParameter : KAnnotatedElement {\n    public val index: Int\n    public val name: String?\n    public val type: KType\n    public val kind: Kind\n    public enum class Kind {\n        INSTANCE,\n        EXTENSION_RECEIVER,\n        VALUE,\n    }\n    public val isOptional: Boolean\n\n    @SinceKotlin(\"1.1\")\n    public val isVararg: Boolean\n}\n</code></pre>\n\n<p>And the real value, at least from debugger is an object which type is <a href=\"https://github.com/JetBrains/kotlin/blob/master/core/reflection.jvm/src/kotlin/reflect/jvm/internal/KParameterImpl.kt\" rel=\"nofollow noreferrer\">KParameterImpl</a>, I think it's the actual implementation of that interface? </p>\n\n<p>But what makes it worse: </p>\n\n<ol>\n<li>You can't access its members in the debugger via <code>expression evaluation</code> since it's not included in the\ninterface. For instance, even you see there is a property A with value <code>1</code> in the debugger, but you can't access it in the debugger via typing <code>param.A</code> </li>\n<li>You can't see the properties from the <code>KParameter</code> interface as well,\nsuch as: <code>name</code>, <code>type</code>, etc.</li>\n</ol>\n\n<p>This results in a very confusing development cycle.</p>\n\n<p><strong>My question is:</strong>\nIs this a bug? or an intentional design or I did something wrong?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1506902404, "last_edit_date": 1506902404, "creation_date": 1506902082, "answer_id": 46517990, "question_id": 46517720, "link": "https://stackoverflow.com/questions/46517720/how-to-convert-if-expression-to-when-in-kotlin/46517990#46517990", "title": "How to convert if expression to when in Kotlin", "body": "<p>Something like this:</p>\n\n<pre><code>var adapterType1 = adapter1\nvar adapterType2 = adapter2\n\nlvFoods2.adapter = when (lvFoods2.adapter) {\n    adapterType1 -&gt; FoodAdapter(listOfFoods2, this).also { adapterType1 = it }\n    adapterType2 -&gt; FoodAdapter2(listOfFoods3, this).also { adapterType2 = it }\n    else -&gt; lvFoods2.adapter\n}\n</code></pre>\n"}], "owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 46517990, "answer_count": 1, "score": 1, "last_activity_date": 1506902404, "creation_date": 1506899120, "last_edit_date": 1506900947, "question_id": 46517720, "link": "https://stackoverflow.com/questions/46517720/how-to-convert-if-expression-to-when-in-kotlin", "title": "How to convert if expression to when in Kotlin", "body": "<p>How can I convert the following code from <code>if expression</code> to <code>when</code> by using Kotlin?</p>\n\n<p>Actually i'm using 2 adapters inside my Activity and i got problem  will converting <code>if expression</code> to <code>when</code>, any solution?</p>\n\n<p><strong>Here is my code</strong></p>\n\n<pre><code>    var ADAPTER_TYPE_1=adapter1\n    var ADAPTER_TYPE_2=adapter2\n\n   if(ADAPTER_TYPE_1 ==lvFoods2.adapter) {\n       ADAPTER_TYPE_1 = FoodAdapter(listOfFoods2, this)\n       lvFoods2.adapter = ADAPTER_TYPE_1\n    } else if (ADAPTER_TYPE_2==lvFoods2.adapter) {\n       ADAPTER_TYPE_2 = FoodAdapter2(listOfFoods3, this)\n       lvFoods2.adapter = ADAPTER_TYPE_2\n     }\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 3, "creation_date": 1510054792, "post_id": 46517662, "comment_id": 81263222, "body": "I filed a bug here <a href=\"https://issuetracker.google.com/issues/68973255\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/68973255</a>"}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 1, "creation_date": 1510055133, "post_id": 46517662, "comment_id": 81263435, "body": "and here <a href=\"https://issuetracker.google.com/issues/67035929\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/67035929</a>"}, {"owner": {"reputation": 3780, "user_id": 8244632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x3DFy.jpg?s=128&g=1", "display_name": "Lalit Fauzdar", "link": "https://stackoverflow.com/users/8244632/lalit-fauzdar"}, "edited": false, "score": 0, "creation_date": 1570529895, "post_id": 46517662, "comment_id": 102933865, "body": "It&#39;s been 2 years now. Any solution so far?"}, {"owner": {"reputation": 3740, "user_id": 1090710, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/dk6eF.jpg?s=128&g=1", "display_name": "zafrani", "link": "https://stackoverflow.com/users/1090710/zafrani"}, "reply_to_user": {"reputation": 3780, "user_id": 8244632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x3DFy.jpg?s=128&g=1", "display_name": "Lalit Fauzdar", "link": "https://stackoverflow.com/users/8244632/lalit-fauzdar"}, "edited": false, "score": 0, "creation_date": 1570548941, "post_id": 46517662, "comment_id": 102943769, "body": "@LalitSinghFauzdar issue went away with a new version of android studio some time ago"}], "answers": [{"comments": [{"owner": {"reputation": 977, "user_id": 6641071, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YQhrtww2HIM/AAAAAAAAAAI/AAAAAAAAAcg/IxLjiR_S4J8/photo.jpg?sz=128", "display_name": "shada&#239; ALI", "link": "https://stackoverflow.com/users/6641071/shada%c3%af-ali"}, "reply_to_user": {"reputation": 3740, "user_id": 1090710, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/dk6eF.jpg?s=128&g=1", "display_name": "zafrani", "link": "https://stackoverflow.com/users/1090710/zafrani"}, "edited": false, "score": 0, "creation_date": 1506900727, "post_id": 46517779, "comment_id": 79989788, "body": "I have wrote the same code in my IDE and it working, No warning. Can you show me import section of your classes"}, {"owner": {"reputation": 3740, "user_id": 1090710, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/dk6eF.jpg?s=128&g=1", "display_name": "zafrani", "link": "https://stackoverflow.com/users/1090710/zafrani"}, "edited": false, "score": 0, "creation_date": 1506901960, "post_id": 46517779, "comment_id": 79990039, "body": "Yes it works until you move the BaseActivity into a separate Library Module. Then add the module as a dependency and extend the class in another project."}, {"owner": {"reputation": 3740, "user_id": 1090710, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/dk6eF.jpg?s=128&g=1", "display_name": "zafrani", "link": "https://stackoverflow.com/users/1090710/zafrani"}, "edited": false, "score": 0, "creation_date": 1506955465, "post_id": 46517779, "comment_id": 80009870, "body": "Which Android studio version are you on?"}, {"owner": {"reputation": 977, "user_id": 6641071, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YQhrtww2HIM/AAAAAAAAAAI/AAAAAAAAAcg/IxLjiR_S4J8/photo.jpg?sz=128", "display_name": "shada&#239; ALI", "link": "https://stackoverflow.com/users/6641071/shada%c3%af-ali"}, "reply_to_user": {"reputation": 3740, "user_id": 1090710, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/dk6eF.jpg?s=128&g=1", "display_name": "zafrani", "link": "https://stackoverflow.com/users/1090710/zafrani"}, "edited": false, "score": 0, "creation_date": 1507041895, "post_id": 46517779, "comment_id": 80048822, "body": "Android Studio 2.3.3 Build #AI-162.4069837, built on June 6, 2017 JRE: 1.8.0_112-release-b06 x86_64 JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o"}, {"owner": {"reputation": 3740, "user_id": 1090710, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/dk6eF.jpg?s=128&g=1", "display_name": "zafrani", "link": "https://stackoverflow.com/users/1090710/zafrani"}, "edited": false, "score": 0, "creation_date": 1507053436, "post_id": 46517779, "comment_id": 80055626, "body": "Android Studio 3.0 Beta 6 Build #AI-171.4333198, built on September 13, 2017 JRE: 1.8.0_152-release-915-b01 x86_64 JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o Mac OS X 10.12.6"}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "reply_to_user": {"reputation": 3740, "user_id": 1090710, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/dk6eF.jpg?s=128&g=1", "display_name": "zafrani", "link": "https://stackoverflow.com/users/1090710/zafrani"}, "edited": false, "score": 1, "creation_date": 1510053953, "post_id": 46517779, "comment_id": 81262679, "body": "@DavidZafrani looks like an issue starting v3.0"}], "tags": [], "owner": {"reputation": 977, "user_id": 6641071, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YQhrtww2HIM/AAAAAAAAAAI/AAAAAAAAAcg/IxLjiR_S4J8/photo.jpg?sz=128", "display_name": "shada&#239; ALI", "link": "https://stackoverflow.com/users/6641071/shada%c3%af-ali"}, "is_accepted": false, "score": -1, "last_activity_date": 1506899798, "creation_date": 1506899798, "answer_id": 46517779, "question_id": 46517662, "link": "https://stackoverflow.com/questions/46517662/android-studio-kotlin-invalid-error-overriding-method-should-call-super/46517779#46517779", "title": "Android Studio / Kotlin - invalid error &quot;Overriding method should call super&quot;", "body": "<p>Have you try to restart or invalidate your IDE cache ?</p>\n"}], "owner": {"reputation": 3740, "user_id": 1090710, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/dk6eF.jpg?s=128&g=1", "display_name": "zafrani", "link": "https://stackoverflow.com/users/1090710/zafrani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 937, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1566564421, "creation_date": 1506898470, "last_edit_date": 1507827392, "question_id": 46517662, "link": "https://stackoverflow.com/questions/46517662/android-studio-kotlin-invalid-error-overriding-method-should-call-super", "title": "Android Studio / Kotlin - invalid error &quot;Overriding method should call super&quot;", "body": "<p>I have a <code>BaseActivity</code> class which is extended by a <code>ContainerActivity</code> class. Because I want to use <code>BaseActivity</code> in several other projects I moved it to an Android library that I added as a gradle dependency to these other projects. Other than moving the Base class, no code has changed in the classes extending it. However all of them now have errors on override methods where the super method is annotated with <code>@CallSuper</code>. The subclasses are still calling the super method. I can also compile and run the project without problem. </p>\n\n<p>Here is an image of the error message.\n<a href=\"https://i.stack.imgur.com/cHWcF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cHWcF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is an image where you can see I am in fact calling the super method. (Removed additional code from onCreate)\n<a href=\"https://i.stack.imgur.com/8W4MC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8W4MC.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the BaseActivity\n<a href=\"https://i.stack.imgur.com/ZRPdm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZRPdm.png\" alt=\"enter image description here\"></a></p>\n\n<p>Has anyone found a solution to get the IDE to recognize this is not an error? </p>\n\n<hr>\n\n<p>Update:</p>\n\n<p>I added an application module to my project of libraries. They too have the same errors. Looks like anything including a library will show the error if they extend a method from that library annotated with <code>@CallSuper</code></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1506893599, "post_id": 46517043, "comment_id": 79988333, "body": "I would delegate that kind of stuff to an AOP system, and avoid polluting the code with those try/catch blocks."}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1506895114, "post_id": 46517243, "comment_id": 79988684, "body": "You also probably want: 1. additional <code>() -&gt; String</code> argument to create the error message; 2. make the function <code>inline</code>."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1506895316, "post_id": 46517243, "comment_id": 79988733, "body": "@AlexeyRomanov you\u2019re right, I\u2019ve added the inline, but using a function literal for a string? I don\u2019t like to pass two lambdas if possible. Don\u2019t you think a simple string is appropriate? <code>safeExecute(\u201cerror\u201d){...}</code>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1506895689, "post_id": 46517243, "comment_id": 79988827, "body": "That doesn&#39;t allow logging the arguments of the method."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1506920085, "post_id": 46517243, "comment_id": 79993212, "body": "Yes it does- I\u2019d pass the error message to <code>safeExecute</code> like suggested in the comments"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1506926502, "post_id": 46517243, "comment_id": 79994987, "body": "If you just pass a string, it has to be constructed even if the exception isn&#39;t thrown and the message isn&#39;t needed. If the string is <code>&quot;error&quot;</code>, the cost is completely trivial; if it&#39;s <code>&quot;c(${x}, ${y})&quot;</code>, it may not be."}, {"owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1506930387, "post_id": 46517243, "comment_id": 79996598, "body": "I think this helps, but it is not as elegant solution as proposed by @JBNizet."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1506930498, "post_id": 46517243, "comment_id": 79996640, "body": "elegant is not always the most readable, and for your situation I don&#39;t see the &quot;benefit&quot; outweigh the effort of implementng the AOP backed solution"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 5, "last_activity_date": 1506926953, "last_edit_date": 1506926953, "creation_date": 1506894704, "answer_id": 46517243, "question_id": 46517043, "link": "https://stackoverflow.com/questions/46517043/wrapping-all-inner-methods-with-the-same-try-catch-in-kotlin/46517243#46517243", "title": "Wrapping all inner methods with the same try-catch in Kotlin", "body": "<p>You could create an higher order function which you pass your code block to and handle the exception there:</p>\n\n<pre><code>inline fun &lt;T,R&gt; safeExecute(block: (T)-&gt;R): R {\n      try{\n         return block()\n       } catch (e: Exception){\n         // do your handle actions\n       }\n}\n</code></pre>\n\n<p>Now you can use it in your functions:</p>\n\n<pre><code>fun a(x: Int) = safeExecute{\n   //todo\n}\n</code></pre>\n\n<p>It\u2019s an easy, clean and readable solution using simple concepts. </p>\n\n<p>EDIT:</p>\n\n<p>For enabling the error logging, you can pass a second argument of type <code>()-&gt;String</code> which will provide a message in case of an error.</p>\n\n<pre><code>inline fun &lt;T,R&gt; safeExecute(errorMsgSupplier: () -&gt; String, block: (T) -&gt; R): R {\n      try{\n         return block()\n       } catch (e: Exception){\n         // do your handle actions\n         log.fatal(errorMsgSupplier())\n       }\n}\n</code></pre>\n"}], "owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1250, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506926953, "creation_date": 1506893024, "question_id": 46517043, "link": "https://stackoverflow.com/questions/46517043/wrapping-all-inner-methods-with-the-same-try-catch-in-kotlin", "title": "Wrapping all inner methods with the same try-catch in Kotlin", "body": "<p>Consider this simple class:</p>\n\n<pre><code>class Foo {\n    fun a(x: Int) = ...\n    fun b(x: Int) = ...\n    fun c(x: Int, y: Int) = ...\n}\n</code></pre>\n\n<p>Any of the class functions might throw an exception. In that case I would like to log the input parameters of the method. I could either manually write the try-catch blocks in every single method - but they would make the code ugly and duplicate. Or - I could try to find some nice solution to keep the code tidy. </p>\n\n<p>Is there a way to generate the try-catch block automatically and define what it should do? Something like:</p>\n\n<pre><code>class Foo {\n    @WithTryCatch fun a(x: Int) = ...\n    @WithTryCatch fun b(x: Int) = ...\n    @WithTryCatch fun c(x: Int, y: Int) = ...\n\n    fun executeOnCatch() {\n        log.fatal(...)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1506893398, "post_id": 46516731, "comment_id": 79988299, "body": "When presenting logs, please (a) add some paragraph text to explain what they are, (b) use the block formatting tool, and (c) un-indent them so they are readable. Android Java logs are notorious for putting content 20+ tabs to the right."}, {"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1506908572, "post_id": 46516731, "comment_id": 79991176, "body": "<code>EXISTName</code>, <code>TitleTEXT</code>, and <code>DescriptionTEXT</code> would appear to be missing space characters in the middle."}, {"owner": {"reputation": 9, "user_id": 8259226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08da428d9cc16e3cb972b10d078cfaad?s=128&d=identicon&r=PG&f=1", "display_name": "Qudsia Mehmood", "link": "https://stackoverflow.com/users/8259226/qudsia-mehmood"}, "reply_to_user": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 1, "creation_date": 1506965755, "post_id": 46516731, "comment_id": 80016080, "body": "Thank you @halfer for editing . I will keep these things in mind next time ."}], "answers": [{"comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 9, "user_id": 8259226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08da428d9cc16e3cb972b10d078cfaad?s=128&d=identicon&r=PG&f=1", "display_name": "Qudsia Mehmood", "link": "https://stackoverflow.com/users/8259226/qudsia-mehmood"}, "edited": false, "score": 1, "creation_date": 1506893037, "post_id": 46516783, "comment_id": 79988212, "body": "@QudsiaMehmood: Then you are getting other errors. Feel free to ask a separate Stack Overflow question, where you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, showing the complete Java stack trace and your Java code referenced in that stack trace."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 1, "last_activity_date": 1506891130, "creation_date": 1506891130, "answer_id": 46516783, "question_id": 46516731, "link": "https://stackoverflow.com/questions/46516731/how-to-debug-sqlquery-error-or-missing-database-in-an-android-app/46516783#46516783", "title": "How to debug &quot;SQL(query) error or missing database&quot; in an Android app?", "body": "<pre><code>CREATE TABLE IF NOT EXISTName\n</code></pre>\n\n<p>You are missing a space between the keyword <code>EXIST</code> and the table name <code>Name</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "is_accepted": false, "score": 0, "last_activity_date": 1506925161, "creation_date": 1506925161, "answer_id": 46520367, "question_id": 46516731, "link": "https://stackoverflow.com/questions/46516731/how-to-debug-sqlquery-error-or-missing-database-in-an-android-app/46520367#46520367", "title": "How to debug &quot;SQL(query) error or missing database&quot; in an Android app?", "body": "<p>You can simply add the block of code in a try-catch block and then put debug point on it and determine the exception and correct it.</p>\n\n<p>e.g</p>\n\n<pre><code>try\n{\n //block of code in which you have an error or you want to debug\n}\ncatch(e: Exception)\n{\n  // you can use log for seeing error or you can simply view errors by \n  //putting debug point and pressing alt+mouse_left_click after executing \n  //line to get value of exception instance\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8259226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08da428d9cc16e3cb972b10d078cfaad?s=128&d=identicon&r=PG&f=1", "display_name": "Qudsia Mehmood", "link": "https://stackoverflow.com/users/8259226/qudsia-mehmood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1506925161, "creation_date": 1506890718, "last_edit_date": 1506893318, "question_id": 46516731, "link": "https://stackoverflow.com/questions/46516731/how-to-debug-sqlquery-error-or-missing-database-in-an-android-app", "title": "How to debug &quot;SQL(query) error or missing database&quot; in an Android app?", "body": "<pre><code>10-02 01:31:57.697 22242-22242/com.example.android.mynotes E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.android.mynotes, PID: 22242\n    java.lang.IllegalStateException: Could not execute method for android:onClick\n        at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:293)\n        at android.view.View.performClick(View.java:5697)\n        at android.widget.TextView.performClick(TextView.java:10826)\n        at android.view.View$PerformClick.run(View.java:22526)\n        at android.os.Handler.handleCallback(Handler.java:739)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:158)\n        at android.app.ActivityThread.main(ActivityThread.java:7224)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)\n        at android.view.View.performClick(View.java:5697) \n        at android.widget.TextView.performClick(TextView.java:10826) \n        at android.view.View$PerformClick.run(View.java:22526) \n        at android.os.Handler.handleCallback(Handler.java:739) \n        at android.os.Handler.dispatchMessage(Handler.java:95) \n        at android.os.Looper.loop(Looper.java:158) \n        at android.app.ActivityThread.main(ActivityThread.java:7224) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120) \n     Caused by: android.database.sqlite.SQLiteException: near \"EXISTName\": syntax error (code 1): , while compiling: CREATE TABLE IF NOT EXISTName(ID INTEGER PRIMARY KEY,TitleTEXT,DescriptionTEXT);\n    #################################################################\n    Error Code : 1 (SQLITE_ERROR)\n    Caused By : SQL(query) error or missing database.\n       (near \"EXISTName\": syntax error (code 1): , while compiling: CREATE TABLE IF NOT EXISTName(ID INTEGER PRIMARY KEY,TitleTEXT,DescriptionTEXT);)\n    #################################################################\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1058)\n        at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:623)\n        at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\n        at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:59)\n        at android.database.sqlite.SQLiteStatement.&lt;init&gt;(SQLiteStatement.java:31)\n        at android.database.sqlite.SQLiteDatabase.executeSql(SQLiteDatabase.java:1812)\n        at android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1743)\n        at com.example.android.mynotes.DbManager$DatabaseHelperNotes.onCreate(DbManager.kt:32)\n        at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:251)\n        at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:163)\n        at com.example.android.mynotes.DbManager.&lt;init&gt;(DbManager.kt:22)\n        at com.example.android.mynotes.AddNotes.BtnAdd(AddNotes.kt:19)\n           ... 12 more\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin", "scratch-file"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 11, "last_activity_date": 1506881668, "creation_date": 1506881668, "answer_id": 46515396, "question_id": 46515359, "link": "https://stackoverflow.com/questions/46515359/scratch-file-not-running-on-intellij-idea/46515396#46515396", "title": "Scratch file not running on IntelliJ IDEA", "body": "<p>Your observations are correct, and this is a <a href=\"https://youtrack.jetbrains.com/issue/KT-10368\" rel=\"noreferrer\">known issue</a>.</p>\n"}], "owner": {"reputation": 304, "user_id": 3189164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5abd125fce74126efeb29a540c7bcaf6?s=128&d=identicon&r=PG&f=1", "display_name": "spuente", "link": "https://stackoverflow.com/users/3189164/spuente"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3537, "favorite_count": 1, "accepted_answer_id": 46515396, "answer_count": 1, "score": 12, "last_activity_date": 1506881668, "creation_date": 1506881429, "question_id": 46515359, "link": "https://stackoverflow.com/questions/46515359/scratch-file-not-running-on-intellij-idea", "title": "Scratch file not running on IntelliJ IDEA", "body": "<p>I am trying to run a <strong>Kotlin</strong> <a href=\"https://www.jetbrains.com/help/idea/scratches.html\" rel=\"noreferrer\">scratch file</a> in IntelliJ just like you would run a Java scratch file, but it doesn't work.</p>\n\n<p>I created a new Kotlin scratch file, but can't run the code even after attempting the following:</p>\n\n<ul>\n<li>Create a <code>main</code> function and print something inside.</li>\n<li>Print something with <code>println</code> outside of the main function.</li>\n<li>Create a <code>class</code> with a <code>main</code> function inside and <code>println</code> something.</li>\n</ul>\n\n<p>When I create a new kotlin project, the project runs fine. \nThe issue happens only with scratch files. I am using kotlin plugin version 1.1.51 on IntelliJ 2017.1</p>\n\n<p>As the screenshot shows, the icon that allows you to run kotlin code doesn't show up on the left of the editor window:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dcoLj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dcoLj.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["lambda", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1506878248, "creation_date": 1506878248, "answer_id": 46514874, "question_id": 46514755, "link": "https://stackoverflow.com/questions/46514755/kotlin-statement-to-lambda/46514874#46514874", "title": "Kotlin: Statement to Lambda", "body": "<p>Curly braces are the <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax\" rel=\"nofollow noreferrer\">syntax</a> for a lambda expression, you can't create one without them.</p>\n\n<p>In a <code>when</code> statement, you can either give your branch a block body, and return the lambda as its last expression, or you can have a single expression branch return a lambda by wrapping it in parentheses (otherwise it would be interpreted as a branch that executes the code inside the braces):</p>\n\n<pre><code>when (x) {\n    \"block body returning an Int\" -&gt; {\n        // do stuff\n        25\n    }\n    \"block body returning a lambda\" -&gt; {\n        // do stuff\n        { println(\"Hello\") }\n    }\n    \"single expression returning an Int\" -&gt; 25\n    \"single expression returning a lambda\" -&gt; ({ println(\"Hello\") })\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1506894919, "creation_date": 1506894919, "answer_id": 46517265, "question_id": 46514755, "link": "https://stackoverflow.com/questions/46514755/kotlin-statement-to-lambda/46517265#46517265", "title": "Kotlin: Statement to Lambda", "body": "<p>If you like neither <code>{{</code> nor <code>({</code> from zsmb13's answer, you can make it look slightly nicer by defining a rather trivial function:</p>\n\n<pre><code>fun &lt;A&gt; lambda(x: A) = x\n\n// usage\nreturn when (i) {\n    0 -&gt; lambda { println(\"Hello\") }\n    1 -&gt; lambda { println(\"World\") }\n    else -&gt; lambda { println(\"Bye\") }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 6403153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NYdak.jpg?s=128&g=1", "display_name": "Madhav Gor", "link": "https://stackoverflow.com/users/6403153/madhav-gor"}, "is_accepted": false, "score": 0, "last_activity_date": 1506940435, "creation_date": 1506940435, "answer_id": 46523877, "question_id": 46514755, "link": "https://stackoverflow.com/questions/46514755/kotlin-statement-to-lambda/46523877#46523877", "title": "Kotlin: Statement to Lambda", "body": "<p>This is without curly braces and looking better. </p>\n\n<pre><code>fun getDayType(day: String): String {\nreturn  when (day) {\n        \"SATURDAY\" -&gt; \"Half Day\"\n        \"SUNDAY\" -&gt; \"Holyday\"\n        else -&gt; \"running day\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 812, "user_id": 8572174, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x3-QYhk4xzE/AAAAAAAAAAI/AAAAAAAAAV0/9t5osXfRmAo/photo.jpg?sz=128", "display_name": "glisu", "link": "https://stackoverflow.com/users/8572174/glisu"}, "is_accepted": false, "score": 0, "last_activity_date": 1536673350, "last_edit_date": 1536673350, "creation_date": 1536643850, "answer_id": 52269215, "question_id": 46514755, "link": "https://stackoverflow.com/questions/46514755/kotlin-statement-to-lambda/52269215#52269215", "title": "Kotlin: Statement to Lambda", "body": "<p>When <code>when</code> is used as an expression, a value must be returned, <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\">If it is used as an expression, the value of the satisfied branch becomes the value of the overall expression (Just like with if, each branch can be a block, and its value is the value of the last expression in the block.)</a>, if you look at the grammar of the <a href=\"https://kotlinlang.org/docs/reference/grammar.html#when-expression\" rel=\"nofollow noreferrer\">when-expression</a>, it can be seen that is made up by when-entries whose right part is in turn formed by <a href=\"https://kotlinlang.org/docs/reference/grammar.html#control-structures\" rel=\"nofollow noreferrer\">controlStructerBodies</a> and these are compounded by blocks, so when you use only a pair of curly braces <code>{}</code> Kotlin recognizes it as a <a href=\"https://kotlinlang.org/docs/reference/grammar.html#block\" rel=\"nofollow noreferrer\">block</a> whose return value is the last expression inside the block, so for this one to be a lambda, a second pair of curly braces is required.</p>\n\n<p>Returns a lambda because is the last and only expression inside the block:</p>\n\n<pre><code>    fun returnLambda(choice: Boolean): ()-&gt; String {\n        return when (choice) {\n            true -&gt;  {{\"Hello\"}}\n            false -&gt; {{\"World\"}}\n        }\n\n    }\n</code></pre>\n\n<p>Returns a String because is the last and only expression inside the block:</p>\n\n<pre><code>fun returnString(choice: Boolean): String{\n    return when(choice){\n        true -&gt; {\"Hello\"}\n        false -&gt; {\"world\"}\n    }\n}\n</code></pre>\n\n<p>This way you can execute different expressions and return a value within the same block:</p>\n\n<pre><code>fun returnString(choice: Boolean): String {\n    return when (choice) {\n        true -&gt; {\n            println(\"Hello\")\n            println(\"world\")\n            \"Hello\"\n        }\n        false -&gt; {\n            \"world\"\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1232, "user_id": 5446845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b76d68d066d4f3cf0dd711287606242?s=128&d=identicon&r=PG&f=1", "display_name": "Poweranimal", "link": "https://stackoverflow.com/users/5446845/poweranimal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 1, "accepted_answer_id": 46514874, "answer_count": 4, "score": 0, "last_activity_date": 1536673350, "creation_date": 1506877532, "question_id": 46514755, "link": "https://stackoverflow.com/questions/46514755/kotlin-statement-to-lambda", "title": "Kotlin: Statement to Lambda", "body": "<p>How can I make a Kotlin statement to lambda?</p>\n\n<p>I know that you can do that:</p>\n\n<pre><code>fun foo() : () -&gt; Unit {\n    return { println(\"Hello World\") }\n}\n\n//more beautiful:\nfun foo() : () -&gt; Unit = { println(\"Hello World\") }\n</code></pre>\n\n<p>Is it also possible to create an anonymous lambda without the curly brackets <code>{...}</code>?</p>\n\n<p>In particular in a switch statement, the usual way with curly brackets doesn't look good.</p>\n\n<pre><code>fun bar(i: Int) : () -&gt; Unit {\n\n    return when (i) {\n\n        0 -&gt; { { println(\"Hello\") } }\n\n        1 -&gt; { { println(\"World\") } }\n\n        else -&gt; { { println(\"Bye\") } }\n    }\n}\n</code></pre>\n\n<p>Looking forward to your response!</p>\n"}, {"tags": ["android", "android-fragments", "interface", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 1142, "user_id": 3815805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0a2e72915dd34c50aa9da97ab8a9f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Kub&#225;\u010d", "link": "https://stackoverflow.com/users/3815805/petr-kub%c3%a1%c4%8d"}, "edited": false, "score": 0, "creation_date": 1506887071, "post_id": 46514473, "comment_id": 79986608, "body": "by the frist glance at the code, you should probably cast Activity to the interface not Context"}, {"owner": {"reputation": 1, "user_id": 8704362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/377d931e15aac4cba4758574861f784b?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/8704362/martin"}, "reply_to_user": {"reputation": 1142, "user_id": 3815805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0a2e72915dd34c50aa9da97ab8a9f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Kub&#225;\u010d", "link": "https://stackoverflow.com/users/3815805/petr-kub%c3%a1%c4%8d"}, "edited": false, "score": 0, "creation_date": 1506888130, "post_id": 46514473, "comment_id": 79986929, "body": "I found that i passed the wrong context. Though How would i do it when I implement the interface by the other class and not the main activity?"}, {"owner": {"reputation": 1142, "user_id": 3815805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0a2e72915dd34c50aa9da97ab8a9f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Kub&#225;\u010d", "link": "https://stackoverflow.com/users/3815805/petr-kub%c3%a1%c4%8d"}, "edited": false, "score": 0, "creation_date": 1506889221, "post_id": 46514473, "comment_id": 79987222, "body": "Well, you need to pass an instance (that implements UITrigger interface) to your MimaModul, not the Context. Does not matter if it is an Activity or a Fragment."}, {"owner": {"reputation": 1, "user_id": 8704362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/377d931e15aac4cba4758574861f784b?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/8704362/martin"}, "reply_to_user": {"reputation": 1142, "user_id": 3815805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0a2e72915dd34c50aa9da97ab8a9f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Kub&#225;\u010d", "link": "https://stackoverflow.com/users/3815805/petr-kub%c3%a1%c4%8d"}, "edited": false, "score": 0, "creation_date": 1506895156, "post_id": 46514473, "comment_id": 79988696, "body": "Oh ok that worked. Never Programmed with interfaces like that. I hope it was not a silly Question."}], "owner": {"reputation": 1, "user_id": 8704362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/377d931e15aac4cba4758574861f784b?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/8704362/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 552, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506875692, "creation_date": 1506875692, "question_id": 46514473, "link": "https://stackoverflow.com/questions/46514473/kotlin-android-extension-communication-between-classes-similar-to-communicating", "title": "Kotlin-android-extension communication between Classes similar to Communicating with other Fragments", "body": "<p>I have 3 Parts to my Project: A Model that does calculations, some Fragments that display the UI and send Trigger to my third part, the main activity. I did all my Fragments with some interfaces like <a href=\"https://developer.android.com/training/basics/fragments/communicating.html\" rel=\"nofollow noreferrer\">Communicating with Other Fragments</a>.</p>\n\n<p>However now I need one of the part of my Model to trigger some UI changes. And I don't know how to do that. Because my goal is to have one part of my Model send or trigger some functions so that the GUI gets updated but it doesn't know the GUI by itself. (it is totally independent from it)\nIn Main activity I override all the functions</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), MimaFragment.elementSelectedListener, InstructionFragment.instructionSaveButtonClickedCallback , OptionFragment.optionSaveButtonClickedCallback, MimaFragment.UITrigger{\n\noverride fun abortOptions() {\n    extendNormal()\n}\n\noverride fun updateMima() {\n    mimaFragment.updateView()\n}\noverride fun normal() {\n        mimaFragment.drawArrows()\n}}\n</code></pre>\n\n<p>Fragment exapmle:</p>\n\n<pre><code>class OptionFragment : Fragment() {\nvar optionCallback : optionSaveButtonClickedCallback? = null\n\ninterface optionSaveButtonClickedCallback{\n        fun updateMima()\n        fun abortOptions()\n    }\n\noverride fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        view?.findViewById(R.id.optionsAbort)?.setOnClickListener{\n\n            optionCallback?.abortOptions()\n        }\n    }\n\noverride fun onAttach(context: Context?) {\n        super.onAttach(context)\n        try {\n            optionCallback = context as optionSaveButtonClickedCallback\n        } catch (e : ClassCastException){\n            throw ClassCastException(activity.toString() + \" must implementoptionSaveButtonClickedCallback\")\n        }\n    }\n}\n</code></pre>\n\n<p>That is how you usually do it and it works fine. Now to my Question is there a way to do it just like that for a non Fragment class? I tryed it like this:</p>\n\n<pre><code>class MimaModul(name: String, description : String, context: Context) : Element(name, description) {\n val uiTrigger : UITrigger? = null\n\ninit{\n   try {\n     uiTrigger = context as UITrigger\n   } catch (e : ClassCastException){\n     Log.d(\"ClassCastException\",\"Didn't implement uiTrigger\")\n     }\n}\n\n fun step(){\n //it does some stuff here and then calls for example\n    uiTrigger?.normal()\n }\n\ninterface UITrigger{\n   fun normal()\n}\n}\n</code></pre>\n\n<p>However as I expected the UITrigger cast does not work. (it always catches an exception) Do you have any ideas how to solve this. Or how else to do it?\nideally I want MimaFragment to implement the interface. But that didn't work either.</p>\n\n<pre><code>class MimaFragment : Fragment(), MimaModul.UITrigger {\n//other stuff\noverride fun normal() {\n        drawArrows()\n    }\n}\n</code></pre>\n\n<p>So when ever my Model is done with a step it should trigger some UI change. And I tryed to avoid just doing a loop and update all Elements based on their status because that would take forever. (Though I see this as my only options at the moment)</p>\n\n<p>Let me know if I was unclear and i shall elaborate.</p>\n"}, {"tags": ["android", "notifications", "kotlin", "intentservice"], "comments": [{"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1506875388, "post_id": 46514384, "comment_id": 79983020, "body": "try adding <code>.setAutoCancel(true).setSmallIcon(R.drawable.notificationDra&zwnj;&#8203;wableResource)</code>"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1506875537, "post_id": 46514384, "comment_id": 79983058, "body": "setAutoCancel(true) is already added. Let me try using setSmallIcon()."}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1506875588, "post_id": 46514384, "comment_id": 79983070, "body": "i used that as a hint :P"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1506876522, "post_id": 46514384, "comment_id": 79983354, "body": "Yes! your hint work bro! thanks!! but can you explain to me why it doesn&#39;t take default icon for notification and why need to set it explicitly? @pavneet Singh"}], "answers": [{"comments": [{"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1506877446, "post_id": 46514651, "comment_id": 79983630, "body": "Ohk. Thanks but now i receive notification but when i click on that then nothing happens. It should start my MainActivity."}, {"owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1506877735, "post_id": 46514651, "comment_id": 79983720, "body": "Probably because you create a pending intent for a service and not for an activity."}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1506877742, "post_id": 46514651, "comment_id": 79983723, "body": "@JaydipKalkani i guess that is due using same id for <code>getActivity</code> and <code>getService</code> with <code>FLAG_UPDATE_CURRENT</code> to effect changes in already displayed notification (which starts service) so try changing id  <code>PendingIntent.getActivity(this,10,intent,PendingIntent.FLAG_&zwnj;&#8203;UPDATE_CURRENT)</code>"}, {"owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 1, "creation_date": 1506877881, "post_id": 46514651, "comment_id": 79983764, "body": "Nice Explaination @Pavneet_Singh +1"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1506877966, "post_id": 46514651, "comment_id": 79983786, "body": "should i generate new id every time when i create PendingIntent Object or i can use same id every time for entering in geofence and another id at time of exiting from geofence?"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 0, "creation_date": 1506878285, "post_id": 46514651, "comment_id": 79983865, "body": "since you want two actions so either you can have two different notification with different ids or you can try using  <a href=\"https://developer.android.com/reference/android/app/PendingIntent.html#FLAG_ONE_SHOT\" rel=\"nofollow noreferrer\">FLAG_CANCEL_CURRENT</a> and @VikasTiwari thanks for appreciation"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1506880297, "post_id": 46514651, "comment_id": 79984425, "body": "i tried both solutions but it&#39;s not working.@pavneet_singh"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1506882092, "post_id": 46514651, "comment_id": 79985019, "body": "is your <code>MainActivity</code> is service as well as activity? because in both cases you are using <code>MainActivity</code> for service and activity both , i guess they should be different"}, {"owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 0, "creation_date": 1506882779, "post_id": 46514651, "comment_id": 79985275, "body": "Its my pleasure @Pavneet_Singh we beginner get to learn from you :)"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1506882901, "post_id": 46514651, "comment_id": 79985323, "body": "can&#39;t get it. My MainActivity is Activity and GeofenceIntentService is service and i don&#39;t have any service named MainActivity in my whole project."}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1506882921, "post_id": 46514651, "comment_id": 79985332, "body": "can you explain me in brief please? @pavneet_singh"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1506883131, "post_id": 46514651, "comment_id": 79985402, "body": "@JaydipKalkani then change <code>PendingIntent.getService(applicationContext,0,Intent</code> to <code>PendingIntent.getActivity(applicationContext,0,Intent</code>"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1506883205, "post_id": 46514651, "comment_id": 79985423, "body": "yes!! I just got it!! It Works! Thank you very much! @Pavneet_singh"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 0, "creation_date": 1506883422, "post_id": 46514651, "comment_id": 79985489, "body": "i am glad that i could help , happy coding and @VikasTiwari that&#39;s what SO community is all about , we learn from each other :)"}], "tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1506877214, "last_edit_date": 1592644375, "creation_date": 1506876884, "answer_id": 46514651, "question_id": 46514384, "link": "https://stackoverflow.com/questions/46514384/how-to-send-notification-from-intentservice-in-android-using-kotlin/46514651#46514651", "title": "How to send notification from IntentService in Android using Kotlin", "body": "<p>You need add icon in your notification otherwise your notification will be triggered but won't be displayed on the status bar.</p>\n<p>But why? Because it is one of the minimum requirement by android OS to display notification under <a href=\"https://developer.android.com/guide/topics/ui/notifiers/notifications.html#Required\" rel=\"nofollow noreferrer\"><code>Required notification contents</code></a></p>\n<p><strong>A Notification object must contain the following</strong>:</p>\n<blockquote>\n<p><code>A small icon, set by setSmallIcon()</code>.</p>\n<p>A title, set by setContentTitle().</p>\n<p>Detail text, set by setContentText().</p>\n<p>On Android 8.0 (API level 26) and higher, a valid notification channel ID, set by setChannelId() or provided in the NotificationCompat.Builder constructor when creating a channel.</p>\n</blockquote>\n<pre><code>var notification = NotificationCompat.Builder(applicationContext)\n                   .setAutoCancel(true)\n                   .setContentTitle(&quot;Entered In Geofence!&quot;)\n                   .setContentText(&quot;Click here for return to app!!&quot;)\n                   .setSmallIcon(R.drawable.notificationDra\u200c\u200bwableResource)\n                   // add ^^^^^^^\n                   .setContentIntent(pendingIntent).build()\n</code></pre>\n<p>Note : As per lollipop standard , your notification icon should be transparent and you can use <code>setColor</code> to set background color but you have to put a check to call <code>setColor</code> as per android OS</p>\n<p><a href=\"https://stackoverflow.com/questions/28387602/notification-bar-icon-turns-white-in-android-5-lollipop\"><code>Notification bar icon turns white in Android 5 Lollipop</code></a></p>\n"}], "owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1791, "favorite_count": 1, "accepted_answer_id": 46514651, "answer_count": 1, "score": 0, "last_activity_date": 1506877214, "creation_date": 1506875056, "question_id": 46514384, "link": "https://stackoverflow.com/questions/46514384/how-to-send-notification-from-intentservice-in-android-using-kotlin", "title": "How to send notification from IntentService in Android using Kotlin", "body": "<p>I am new to android development and I want to send a notification from the IntentService when the device enters in any specific geofence which is setted by the user. I had written the below code for sending a notification.</p>\n\n<pre><code>class GeofenceIntentService : IntentService(\"GeofenceIntentService\") {\n\nvar notId: Int = 15452\noverride fun onHandleIntent(intent: Intent?) {\n    var geofencingEvent = GeofencingEvent.fromIntent(intent)\n    if(geofencingEvent.hasError())\n    {\n        Log.e(\"JK--&gt;&gt;\",\"geofencingError --&gt;&gt; \"+geofencingEvent.hasError())\n        return\n    }\n\n    var geofenceTransition = geofencingEvent.geofenceTransition\n    if (geofenceTransition == Geofence.GEOFENCE_TRANSITION_ENTER)\n    {\n        var pendingIntent = PendingIntent.getService(applicationContext,0,Intent(applicationContext,MainActivity::class.java),PendingIntent.FLAG_UPDATE_CURRENT)\n        var notification = NotificationCompat.Builder(applicationContext).setAutoCancel(true).setContentTitle(\"Entered In Geofence!\").setContentText(\"Click here for return to app!!\").setContentIntent(pendingIntent).build()\n\n        var notiManager: NotificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        notId = notId + 1\n        notiManager.notify(notId,notification)\n\n        Log.e(\"JK--&gt;&gt;\", \"Entered in geofence\")\n    }\n    else if(geofenceTransition == Geofence.GEOFENCE_TRANSITION_EXIT)\n    {\n        var notiBuilder = NotificationCompat.Builder(this).setAutoCancel(true).setContentTitle(\"Entered In Geofence\").setContentText(\"Click Here for return to app!\").build()\n        var notiManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        var intent = Intent(this,MainActivity::class.java)\n        var pendingIntent = PendingIntent.getActivity(this,0,intent,PendingIntent.FLAG_UPDATE_CURRENT)\n\n        notiBuilder.contentIntent = pendingIntent\n        notId = notId + 1\n        notiManager.notify(notId,notiBuilder)\n\n        Log.e(\"JK--&gt;&gt;\", \"Entered in geofence\")\n        Log.e(\"JK--&gt;&gt;\", \"Exit from geofence\")\n    }\n}}\n</code></pre>\n\n<p>I had also checked that my service is called when the device enters or exit from geofence by putting debug points. No Object gets null value and everything goes fine but the notification does not receive.\nHow can I do??</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 161, "user_id": 6403153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NYdak.jpg?s=128&g=1", "display_name": "Madhav Gor", "link": "https://stackoverflow.com/users/6403153/madhav-gor"}, "edited": false, "score": 0, "creation_date": 1506940652, "post_id": 46513596, "comment_id": 80001517, "body": "Can you please share your gradle file?"}], "answers": [{"tags": [], "owner": {"reputation": 416, "user_id": 1893365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ba95d85c3875d2d3f00577d0ea6965?s=128&d=identicon&r=PG", "display_name": "Wilson Chen", "link": "https://stackoverflow.com/users/1893365/wilson-chen"}, "is_accepted": false, "score": 1, "last_activity_date": 1510727766, "creation_date": 1510727766, "answer_id": 47300874, "question_id": 46513596, "link": "https://stackoverflow.com/questions/46513596/resolving-configuration-debugcompile-directly-is-not-allowed/47300874#47300874", "title": "Resolving configuration &#39;debugCompile&#39; directly is not allowed", "body": "<p>Can you try this: <a href=\"https://github.com/google/protobuf-gradle-plugin/issues/129\" rel=\"nofollow noreferrer\">https://github.com/google/protobuf-gradle-plugin/issues/129</a> Upgrade your protobuf to 0.8.2 or later and have a try?\nIt could be caused by the Gradle 3.0 compatible issue. I run into the same problem but I resolved by downgraded the gradle to 2.6.</p>\n"}, {"comments": [{"owner": {"reputation": 784, "user_id": 6937584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nNHLD.png?s=128&g=1", "display_name": "cdalxndr", "link": "https://stackoverflow.com/users/6937584/cdalxndr"}, "edited": false, "score": 0, "creation_date": 1546533598, "post_id": 51591457, "comment_id": 94889048, "body": "This seems like a hack. Why is the configuration not resolvable by default?"}, {"owner": {"reputation": 20153, "user_id": 3410697, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/tM0LU.jpg?s=128&g=1", "display_name": "Pedro Oliveira", "link": "https://stackoverflow.com/users/3410697/pedro-oliveira"}, "edited": false, "score": 0, "creation_date": 1550068843, "post_id": 51591457, "comment_id": 96135267, "body": "That wont work. Cannot change role of configuration &#39;:xxxxxx&#39; after it has been included in dependency resolution."}, {"owner": {"reputation": 922, "user_id": 4956266, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/edHjt.jpg?s=128&g=1", "display_name": "Motassem Jalal", "link": "https://stackoverflow.com/users/4956266/motassem-jalal"}, "edited": false, "score": 0, "creation_date": 1561367694, "post_id": 51591457, "comment_id": 100025745, "body": "Worked for me just had to remove the second line"}, {"owner": {"reputation": 1561, "user_id": 3859199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/26she.jpg?s=128&g=1", "display_name": "Bwvolleyball", "link": "https://stackoverflow.com/users/3859199/bwvolleyball"}, "edited": false, "score": 0, "creation_date": 1573670458, "post_id": 51591457, "comment_id": 103960959, "body": "This isn&#39;t the preferred approach, instead, you should be using a resolvable configuration that debugCompile inherits from.  <a href=\"https://docs.gradle.org/5.2.1/userguide/java_library_plugin.html?_ga=2.125617673.2082410273.1573485809-8924204.1558458048#sec:java_library_configurations_graph\" rel=\"nofollow noreferrer\">docs.gradle.org/5.2.1/userguide/&hellip;</a>"}], "tags": [], "owner": {"reputation": 71, "user_id": 10069322, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ktt-gNXkULE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qOt7q-2SCgQoIpM34F67g7KxG23A/mo/photo.jpg?sz=128", "display_name": "LIFFE", "link": "https://stackoverflow.com/users/10069322/liffe"}, "is_accepted": false, "score": 7, "last_activity_date": 1532945778, "last_edit_date": 1532945778, "creation_date": 1532944766, "answer_id": 51591457, "question_id": 46513596, "link": "https://stackoverflow.com/questions/46513596/resolving-configuration-debugcompile-directly-is-not-allowed/51591457#51591457", "title": "Resolving configuration &#39;debugCompile&#39; directly is not allowed", "body": "<p>Try it, it works for me.</p>\n\n<pre><code>project.configurations.debugCompile.setCanBeResolved(true)\nproject.configurations.debugCompile.each {\n    println it\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6120597, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VO7hbya7gqY/AAAAAAAAAAI/AAAAAAAACE4/omgEVg9ggNY/photo.jpg?sz=128", "display_name": "Nayeem Ur Rehman", "link": "https://stackoverflow.com/users/6120597/nayeem-ur-rehman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5410, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1532945778, "creation_date": 1506869593, "last_edit_date": 1506874029, "question_id": 46513596, "link": "https://stackoverflow.com/questions/46513596/resolving-configuration-debugcompile-directly-is-not-allowed", "title": "Resolving configuration &#39;debugCompile&#39; directly is not allowed", "body": "<blockquote>\n  <p>FAILURE: Build failed with an exception.</p>\n</blockquote>\n\n<ul>\n<li><p>What went wrong:\nCould not determine the dependencies of task ':app:extractIncludeDebugProto'.\nResolving configuration 'debugCompile' directly is not allowed</p></li>\n<li><p>Try:\nRun with --info or --debug option to get more log output.</p></li>\n<li><p>Exception is:</p>\n\n<blockquote>\n  <p>org.gradle.api.internal.tasks.TaskDependencyResolveException: Could\n  not determine the dependencies of task\n  ':app:extractIncludeDebugProto'.  at\n  org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.resolve(CachingTaskDependencyResolveContext.java:68)\n    at\n  org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:56)\n    at\n  org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.addToTaskGraph(DefaultTaskExecutionPlan.java:175)\n    at\n  org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.addTasks(DefaultTaskGraphExecuter.java:111)\n    at\n  org.gradle.execution.TaskNameResolvingBuildConfigurationAction.configure(TaskNameResolvingBuildConfigurationAction.java:47)\n    at\n  org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:48)\n    at\n  org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$000(DefaultBuildConfigurationActionExecuter.java:25)\n    at\n  org.gradle.execution.DefaultBuildConfigurationActionExecuter$1.proceed(DefaultBuildConfigurationActionExecuter.java:54)\n    at\n  org.gradle.execution.DefaultTasksBuildExecutionAction.configure(DefaultTasksBuildExecutionAction.java:44)\n    at\n  org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:48)\n    at\n  org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$000(DefaultBuildConfigurationActionExecuter.java:25)\n    at\n  org.gradle.execution.DefaultBuildConfigurationActionExecuter$1.proceed(DefaultBuildConfigurationActionExecuter.java:54)\n    at\n  org.gradle.execution.ExcludedTaskFilteringBuildConfigurationAction.configure(ExcludedTaskFilteringBuildConfigurationAction.java:47)\n    at\n  org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:48)\n    at\n  org.gradle.execution.DefaultBuildConfigurationActionExecuter.select(DefaultBuildConfigurationActionExecuter.java:36)\n    at\n  org.gradle.initialization.DefaultGradleLauncher$CalculateTaskGraph.run(DefaultGradleLauncher.java:268)\n    at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at\n  org.gradle.initialization.DefaultGradleLauncher.constructTaskGraph(DefaultGradleLauncher.java:175)\n    at\n  org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:130)\n    at\n  org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:109)\n    at\n  org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n    at\n  org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n    at\n  org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at\n  org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n    at\n  org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n    at\n  org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:53)\n    at\n  org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at\n  org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at\n  org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at\n  org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n    at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at\n  org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at\n  org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at\n  org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\n    at\n  org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n    at\n  org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at\n  org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at\n  org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n    at\n  org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n    at\n  org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n    at\n  org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n    at\n  org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at\n  org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at\n  org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at\n  org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at\n  org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n    at\n  org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n    at\n  org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n    at\n  org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n    at\n  org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n    at\n  org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n    at\n  org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at\n  org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at\n  org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at\n  org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at\n  org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at\n  org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at\n  org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)    at\n  org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at\n  org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at\n  org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at\n  org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at\n  org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at\n  org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at\n  org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at\n  org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at\n  org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at\n  org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at\n  org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n  Caused by: java.lang.IllegalStateException: Resolving configuration\n  'debugCompile' directly is not allowed    at\n  org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.assertResolvingAllowed(DefaultConfiguration.java:898)\n    at\n  org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.getBuildDependencies(DefaultConfiguration.java:516)\n    at\n  org.gradle.api.internal.artifacts.configurations.DefaultConfiguration_Decorated.getBuildDependencies(Unknown\n  Source)   at\n  org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext$TaskGraphImpl.getNodeValues(CachingTaskDependencyResolveContext.java:94)\n    at\n  org.gradle.internal.graph.CachingDirectedGraphWalker$GraphWithEmpyEdges.getNodeValues(CachingDirectedGraphWalker.java:202)\n    at\n  org.gradle.internal.graph.CachingDirectedGraphWalker.doSearch(CachingDirectedGraphWalker.java:112)\n    at\n  org.gradle.internal.graph.CachingDirectedGraphWalker.findValues(CachingDirectedGraphWalker.java:64)\n    at\n  org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.doResolve(CachingTaskDependencyResolveContext.java:77)\n    at\n  org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.resolve(CachingTaskDependencyResolveContext.java:66)\n    ... 83 more</p>\n</blockquote></li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p></li>\n</ul>\n\n<p>BUILD FAILED in 0s</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 337, "user_id": 939812, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2684c9c5b5b5a0632e76ee20c43010e?s=128&d=identicon&r=PG", "display_name": "Bardya Momeni", "link": "https://stackoverflow.com/users/939812/bardya-momeni"}, "edited": false, "score": 0, "creation_date": 1506871852, "post_id": 46513252, "comment_id": 79981984, "body": "I would invalidate cache and restart, then retry. If problem does not get solved, then you must check your dependencies. sometimes AAR dependencies has internal JAR libraries with the same package name, and when Android Studio wants to merge these JAR files together, hits an error which is merge exception. I would search for a library dependecy which has a JAR inside of it ;)"}, {"owner": {"reputation": 550, "user_id": 3977077, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/AAoPi.jpg?s=128&g=1", "display_name": "Sherlock", "link": "https://stackoverflow.com/users/3977077/sherlock"}, "edited": false, "score": 0, "creation_date": 1507629215, "post_id": 46513252, "comment_id": 80275662, "body": "I have the same error as OP but slightly different code, I had compileSdkVersion set to 26 and the com.android.support libraries still on 25.3.1.  Updating those to 26.0.2 fixed my the dex merge error for me."}], "answers": [{"comments": [{"owner": {"reputation": 134, "user_id": 2329066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qgpgX.png?s=128&g=1", "display_name": "Senzo Malinga", "link": "https://stackoverflow.com/users/2329066/senzo-malinga"}, "edited": false, "score": 0, "creation_date": 1507113342, "post_id": 46531584, "comment_id": 80078891, "body": "Hi I&#39;m having this exact issue after upgrading to beta 7, can you please provide your build.gradle files"}, {"owner": {"reputation": 1412, "user_id": 6346531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75aa9d2cb0f4e6bdf16e80bb06d5f8f1?s=128&d=identicon&r=PG", "display_name": "aksh1618", "link": "https://stackoverflow.com/users/6346531/aksh1618"}, "reply_to_user": {"reputation": 134, "user_id": 2329066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qgpgX.png?s=128&g=1", "display_name": "Senzo Malinga", "link": "https://stackoverflow.com/users/2329066/senzo-malinga"}, "edited": false, "score": 0, "creation_date": 1507140929, "post_id": 46531584, "comment_id": 80096666, "body": "@SenzoMalinga Just replace your kotlin dependency with the one I specified in my answer. Make sure you clean and rebuild."}, {"owner": {"reputation": 134, "user_id": 2329066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qgpgX.png?s=128&g=1", "display_name": "Senzo Malinga", "link": "https://stackoverflow.com/users/2329066/senzo-malinga"}, "edited": false, "score": 2, "creation_date": 1507201409, "post_id": 46531584, "comment_id": 80120927, "body": "Hi thanks, ended up running &quot;./gradlew app:dependencies&quot; to show me what lib is using what, then after that I excluded each transitive dependency that was older and duplicated and I didn&#39;t need"}], "tags": [], "owner": {"reputation": 1412, "user_id": 6346531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75aa9d2cb0f4e6bdf16e80bb06d5f8f1?s=128&d=identicon&r=PG", "display_name": "aksh1618", "link": "https://stackoverflow.com/users/6346531/aksh1618"}, "is_accepted": false, "score": 3, "last_activity_date": 1506969261, "creation_date": 1506969261, "answer_id": 46531584, "question_id": 46513252, "link": "https://stackoverflow.com/questions/46513252/android-running-app-fails-with-error-com-android-builder-dexing-dexarchivemer/46531584#46531584", "title": "android - Running app fails with error &#39;com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex&#39;", "body": "<p>Although I am not completely sure about the cause for this, it seems, after doing <a href=\"https://discuss.kotlinlang.org/t/duplicate-classes-in-kotlin-runtime-and-com-intellij-annotations/154/3\" rel=\"nofollow noreferrer\">some digging</a>, that there is a version clash between the annotation libraries included by jetbrains in the kotlin plugin and somewhere else. You can verify this by running</p>\n\n<p><code>gradle :app:assembleDebug --stacktrace</code></p>\n\n<p>which gives, at the end,</p>\n\n<pre><code>Caused by: com.android.dex.DexException: Multiple dex files define Lorg/intellij/lang/annotations/JdkConstants$PatternFlags;\n    at com.android.dx.merge.DexMerger.readSortableTypes(DexMerger.java:661)\n    at com.android.dx.merge.DexMerger.getSortedTypes(DexMerger.java:616)\n    at com.android.dx.merge.DexMerger.mergeClassDefs(DexMerger.java:598)\n    at com.android.dx.merge.DexMerger.mergeDexes(DexMerger.java:171)\n    at com.android.dx.merge.DexMerger.merge(DexMerger.java:198)\n    at com.android.builder.dexing.DexArchiveMergerCallable.call(DexArchiveMergerCallable.java:61)\n    ... 1 more\n</code></pre>\n\n<p>I solved this by excluding the annotations library from kotlin dependency. (Clean and rebuild might be needed after this)</p>\n\n<pre><code>implementation (\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\") {\n    exclude group: 'org.jetbrains', module: 'annotations'\n}\n</code></pre>\n\n<p>This works for me, but I am not sure about how good this solution is.</p>\n"}, {"tags": [], "owner": {"reputation": 189, "user_id": 7448578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8929b79858d6654abbd6d88b7b6a2968?s=128&d=identicon&r=PG&f=1", "display_name": "B Porr", "link": "https://stackoverflow.com/users/7448578/b-porr"}, "is_accepted": false, "score": 0, "last_activity_date": 1510613095, "creation_date": 1510613095, "answer_id": 47274823, "question_id": 46513252, "link": "https://stackoverflow.com/questions/46513252/android-running-app-fails-with-error-com-android-builder-dexing-dexarchivemer/47274823#47274823", "title": "android - Running app fails with error &#39;com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex&#39;", "body": "<p>I managed to fix it by just including the base play services and not the full ones:</p>\n\n<pre><code>-    compile 'com.google.android.gms:play-services:11.6.0'\n+    compile 'com.google.android.gms:play-services-base:11.6.0'\n</code></pre>\n\n<p>and removed the appindexing dependencies in my Activity:</p>\n\n<pre><code>-import com.google.android.gms.appindexing.AppIndex;\n-import com.google.android.gms.common.api.GoogleApiClient;\n</code></pre>\n\n<p>(though this might have been a leftover anyway from my upgrade to API 27).</p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 6712979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63259f84b2a24bb9453256a45f5a7330?s=128&d=identicon&r=PG&f=1", "display_name": "Et9", "link": "https://stackoverflow.com/users/6712979/et9"}, "is_accepted": false, "score": 2, "last_activity_date": 1512025332, "creation_date": 1512025332, "answer_id": 47567654, "question_id": 46513252, "link": "https://stackoverflow.com/questions/46513252/android-running-app-fails-with-error-com-android-builder-dexing-dexarchivemer/47567654#47567654", "title": "android - Running app fails with error &#39;com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex&#39;", "body": "<p>add this </p>\n\n<pre><code>defaultConfig {\n    multiDexEnabled true\n}\n</code></pre>\n\n<p>like this:</p>\n\n<pre><code>android {\ncompileSdkVersion 25\nbuildToolsVersion \"26.0.2\"\ndefaultConfig {\n    applicationId \"com.connectus.connectus\"\n    minSdkVersion 16\n    targetSdkVersion 25\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\n\ndefaultConfig {\n   multiDexEnabled true\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\npackagingOptions {\n    exclude 'META-INF/INDEX.LIST'\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 543, "user_id": 4183921, "user_type": "registered", "accept_rate": 30, "profile_image": "https://graph.facebook.com/100003206694238/picture?type=large", "display_name": "Andrej Naumovski", "link": "https://stackoverflow.com/users/4183921/andrej-naumovski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5333, "favorite_count": 0, "answer_count": 3, "score": 6, "last_activity_date": 1512025332, "creation_date": 1506867275, "last_edit_date": 1506867450, "question_id": 46513252, "link": "https://stackoverflow.com/questions/46513252/android-running-app-fails-with-error-com-android-builder-dexing-dexarchivemer", "title": "android - Running app fails with error &#39;com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex&#39;", "body": "<p>I am trying to run my application on my phone but during <code>build</code> time it fails with the following error:</p>\n\n<pre><code>Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.\n</code></pre>\n\n<blockquote>\n  <p><code>java.lang.RuntimeException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex</code></p>\n</blockquote>\n\n<p>What I tried so far, but to no avail:\n-> Clean and rebuild (fails on rebuild)\n-> Remove <code>./gradle</code> file and all project build and cache files, then cache invalidation</p>\n\n<p>My project gradle file:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.51'\n    repositories {\n        jcenter()\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-beta6'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        google()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>My app Gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n\ndef daggerVersion = '2.11'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"26.0.2\"\n    defaultConfig {\n        applicationId \"com.connectus.connectus\"\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    packagingOptions {\n        exclude 'META-INF/INDEX.LIST'\n    }\n}\n\nkapt {\n    generateStubs = true\n}\n\ndependencies {\n    /**\n     * Kotlin\n     */\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile 'org.jetbrains.anko:anko-support-v4:0.10.1'\n\n    /**\n     * Unit testing\n     */\n    testCompile 'junit:junit:4.12'\n    testCompile 'org.mockito:mockito-core:1.10.19'\n    testCompile 'org.powermock:powermock-module-junit4:1.6.2'\n    testCompile 'org.powermock:powermock-api-mockito:1.6.2'\n\n    /**\n     * Android views and widgets\n     */\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support:recyclerview-v7:25.3.1'\n    compile 'com.android.support:cardview-v7:25.3.1'\n\n    /**\n     * Retrofit\n     */\n    compile 'com.squareup.retrofit2:retrofit:2.+'\n    compile 'com.squareup.retrofit2:converter-gson:2.+'\n    compile 'com.squareup.retrofit2:adapter-rxjava:2.+'\n    compile 'io.reactivex:rxjava:1.0.4'\n    compile 'io.reactivex:rxandroid:0.24.0'\n\n    /**\n     * Glide\n     */\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n\n    /**\n     * Dagger 2\n     */\n    kapt \"com.google.dagger:dagger-compiler:$daggerVersion\"\n    compile \"com.google.dagger:dagger:$daggerVersion\"\n    provided 'org.glassfish:javax.annotation:10.0-b28'\n\n    /**\n     * Butterknife for view injection\n     */\n    compile 'com.jakewharton:butterknife:8.8.1'\n    kapt 'com.jakewharton:butterknife-compiler:8.8.1'\n\n    /**\n     * GSON\n     */\n    compile 'com.google.code.gson:gson:2.6.2'\n    compile 'org.powermock:powermock-api-mockito:1.6.2'\n\n    /**\n     * Facebook SDK\n     */\n    compile 'com.facebook.android:facebook-login:[4,5)'\n\n    /**\n     * UI Testing\n     */\n    androidTestCompile 'com.android.support:support-annotations:25.3.1'\n    androidTestCompile 'junit:junit:4.12'\n\n    testCompile 'com.google.dexmaker:dexmaker:1.2'\n    testCompile 'com.google.dexmaker:dexmaker-mockito:1.2'\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2') {\n        exclude module: 'support-annotations'\n    }\n    androidTestCompile('com.android.support.test.espresso:espresso-contrib:2.2.2') {\n        exclude module: 'support-annotations'\n        exclude module: 'appcompat-v7'\n        exclude module: 'support-v4'\n        exclude module: 'support-v13'\n        exclude module: 'recyclerview-v7'\n        exclude module: 'design'\n    }\n    androidTestCompile('com.android.support.test:runner:0.3') {\n        exclude module: 'support-annotations'\n    }\n    androidTestCompile('com.android.support.test:rules:0.3') {\n        exclude module: 'support-annotations'\n    }\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n}\n\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>I am using Kotlin and Android Studio 3.0.0 beta 6. What is the problem?</p>\n"}, {"tags": ["json", "rest", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1506880676, "post_id": 46515200, "comment_id": 79984534, "body": "I know about the <code>!!</code> operator, it is precisely what I would <i>not</i> like to do, because it does not actually offer type-safety. Like I said in my question, I would like <code>getUser</code> to return something with a nullable <code>aboutMe</code> in case I don&#39;t pass in the <code>aboutMe</code> field and return something with a non-null <code>aboutMe</code> if I do pass it in. I.e.: <code>api.getUser({id}, User::aboutMe).aboutMe</code> is non-null but <code>api.getUser({id}).aboutMe</code> is nullable."}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1506881216, "post_id": 46515200, "comment_id": 79984699, "body": "Then set default value for about me <code>data class User(id: UUID, name: String, aboutMe: String? = &quot;Default Value&quot;)</code> or you can return default value if value is null <code>myCoolApi.getUser({id}, User::aboutMe ?: &quot;This value returned if aboutMe is Null&quot;)</code>"}, {"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1506882858, "post_id": 46515200, "comment_id": 79985309, "body": "I am sorry, but you do not understand my problem. <code>User::aboutMe</code> is a property reference, it will never be null. What can be null is the <i>value</i> of <code>aboutMe</code> itself, but if <code>?fields=aboutme</code> is passed to the API, it can <i>not</i> be null. I want to express that in a type-safe way. I do not need default values."}, {"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1506930985, "post_id": 46515200, "comment_id": 79996853, "body": "Based on your edit: How do I even use these two classes? I&#39;d have to make my method return <code>Any</code>, which is not very nice..."}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1506933295, "post_id": 46515200, "comment_id": 79998083, "body": "@diesieben07 can you provide whole implications with your class and methods ?"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1506967249, "post_id": 46515200, "comment_id": 80016836, "body": "@diesieben07 Kindly look in this articles may be it will helps you. <a href=\"https://blog.codecentric.de/en/2017/04/crud-operations-spring-rest-resources-kotlin/\" rel=\"nofollow noreferrer\">CRUD API</a>"}], "tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 0, "last_activity_date": 1506920610, "last_edit_date": 1506920610, "creation_date": 1506880405, "answer_id": 46515200, "question_id": 46513084, "link": "https://stackoverflow.com/questions/46513084/type-safety-with-optional-fields-in-a-data-class-for-json/46515200#46515200", "title": "Type-Safety with optional fields in a data class for JSON", "body": "<p>I think you can achieve by creating multiple constructor for data class as per mention in documentation of <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">Class</a></p>\n\n<pre><code>//data class User(val id: String, val name: String, val aboutMe: String? = null)\n\ndata class User(val id: String, val name: String) {\n    constructor(id: String, name: String, aboutMe: String? = null) : this(id, name)\n}\n</code></pre>\n\n<p>or you can use @JvmOverloads to create constructor based on passed arguments. You can find more about <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-overloads/\" rel=\"nofollow noreferrer\">@JvmOverloads</a></p>\n\n<pre><code>data class Users @JvmOverloads constructor(val id: String, val name: String, val aboutMe: String? = null)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1506931124, "post_id": 46517667, "comment_id": 79996924, "body": "Those are both options I have tried, but they do not solve my primary problem. If I pass in the <code>aboutMe</code> field <i>that alone</i> should be enough for the method to return a user with a non-nullable <code>aboutMe</code>. In your example I still have to do a (potentially unsafe) cast to <code>User_</code> after calling the method."}, {"owner": {"reputation": 1094, "user_id": 1125691, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/25a283b62d8f55e0da07774f88216cd2?s=128&d=identicon&r=PG", "display_name": "mpprdev", "link": "https://stackoverflow.com/users/1125691/mpprdev"}, "reply_to_user": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1506971595, "post_id": 46517667, "comment_id": 80018964, "body": "calling User_(id, name, aboutMe) in my example is not unsafe. If the aboutMe arg is null, it will still work.    Your statement  &quot;If I pass in the aboutMe field that alone should be enough for the method to return a user with a non-nullable aboutMe&quot; - is not clear. Are you saying that aboutMe is a lookup key?"}, {"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1507101167, "post_id": 46517667, "comment_id": 80071764, "body": "Passing in <code>aboutMe</code> will tell the REST-Api &quot;please also return me the aboutMe text&quot;, hence it cannot be null in the returned <code>User</code> object. I want that to be reflected in the type system."}, {"owner": {"reputation": 1094, "user_id": 1125691, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/25a283b62d8f55e0da07774f88216cd2?s=128&d=identicon&r=PG", "display_name": "mpprdev", "link": "https://stackoverflow.com/users/1125691/mpprdev"}, "reply_to_user": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1507171340, "post_id": 46517667, "comment_id": 80107244, "body": "It seems to me that what you are asking is a <code>User</code> class to have each of its property in both optional &amp; required variants. I&#39;m not sure if this is possible with a single <code>User</code> class. One possibility is that you would have to come up with many variations of <code>User</code> each having different combinations of those optional/required properties (similar to what  @Grzegorz is suggesting)."}, {"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1507190305, "post_id": 46517667, "comment_id": 80114023, "body": "Well, it would work with generics: <code>data class User&lt;AM : String?&gt;(val id: UUID, val aboutMe: AM)</code>. It would just get a bit tedious, but maybe that&#39;s what I have to do."}, {"owner": {"reputation": 1094, "user_id": 1125691, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/25a283b62d8f55e0da07774f88216cd2?s=128&d=identicon&r=PG", "display_name": "mpprdev", "link": "https://stackoverflow.com/users/1125691/mpprdev"}, "reply_to_user": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1507237475, "post_id": 46517667, "comment_id": 80142479, "body": "Well, in your example <code>&lt;AM: String?&gt;</code> means that the property will be optional and thus can be null. How are you going to ensure non-null behavior? I any case, I&#39;m also curious on what that full generics solution is."}, {"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1507238394, "post_id": 46517667, "comment_id": 80142896, "body": "<code>AM</code> is a type parameter. <code>User&lt;String&gt;</code> will have a non-nullable property <code>aboutMe</code> of type <code>String</code> where as <code>User&lt;String?&gt;</code> has a nullable property <code>aboutMe</code> of type <code>String?</code>."}], "tags": [], "owner": {"reputation": 1094, "user_id": 1125691, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/25a283b62d8f55e0da07774f88216cd2?s=128&d=identicon&r=PG", "display_name": "mpprdev", "link": "https://stackoverflow.com/users/1125691/mpprdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1506898552, "creation_date": 1506898552, "answer_id": 46517667, "question_id": 46513084, "link": "https://stackoverflow.com/questions/46513084/type-safety-with-optional-fields-in-a-data-class-for-json/46517667#46517667", "title": "Type-Safety with optional fields in a data class for JSON", "body": "<p>Couple of options to try:</p>\n\n<p>For optional values you could use a non-nullable property with a default value as in</p>\n\n<pre><code>data class User (val id: Long, val name: String, val aboutMe: String = \"\")\n</code></pre>\n\n<p>Another alternative is possible if you can forgo the data class and instead use a regular class that supports inheritance as follows.</p>\n\n<pre><code>open class User (val id: Long, val name: String, val aboutMe: String)\n\nclass User_  (id: Long, name: String, aboutMe: String?) \n       : User(id, name, aboutMe ?: \"\")\n\nclass MyCoolApi {\n\n    fun getUser(id: Long): User {\n\n        // do you db lookup or something like that\n        // val name = ... from db\n        // val aboutMe = ... from db\n        return User_(id, name, aboutMe)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1507062644, "post_id": 46534621, "comment_id": 80060290, "body": "Yes, the general concept of this does work. However your overloading of the <code>getUser</code> method is problematic. There is not just one of these fields, but potentially multiple. With your version I would have to create all possible combinations as both a class and a corresponding method. That&#39;s not very practical :("}], "tags": [], "owner": {"reputation": 6188, "user_id": 172690, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3759fa3ad04a0fd20729382956f24a3?s=128&d=identicon&r=PG", "display_name": "Grzegorz Adam Hankiewicz", "link": "https://stackoverflow.com/users/172690/grzegorz-adam-hankiewicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1506983297, "creation_date": 1506983297, "answer_id": 46534621, "question_id": 46513084, "link": "https://stackoverflow.com/questions/46513084/type-safety-with-optional-fields-in-a-data-class-for-json/46534621#46534621", "title": "Type-Safety with optional fields in a data class for JSON", "body": "<p>One possible way to do this would be to use <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">sealed classes</a>:</p>\n\n<pre><code>sealed class ApiUser(val id: UUID, val name: String)\n\nclass ApiUserPlain(id: UUID, name: String) :\n        ApiUser(id, name)\n\nclass ApiUserAbout(id: UUID, name: String, val aboutMe: String) :\n        ApiUser(id, name)\n\nfun getUser(userId: Long): ApiUserPlain {\n    return ApiUserPlain(UUID.randomUUID(), userId.toString())\n}\n\nfun getUser(userId: Long, about: String): ApiUserAbout {\n    return ApiUserAbout(UUID.randomUUID(), userId.toString(), about)\n}\n\nfun test() {\n    val userId = 2L\n    val aboutMe: String = getUser(userId).aboutMe // does not compile\n    val aboutMe2: String = getUser(userId, \"about\").aboutMe // compiles\n}\n</code></pre>\n\n<p>Another way would be to use <a href=\"https://kotlinlang.org/docs/reference/interfaces.html\" rel=\"nofollow noreferrer\">multiple interfaces</a>:</p>\n\n<pre><code>interface ApiUserPlain {\n    val id: UUID\n    val name: String\n}\n\ninterface ApiUserAbout {\n    val aboutMe: String\n}\n\nclass PlainUser(\n        override val id: UUID,\n        override val name: String\n) : ApiUserPlain\n\nclass AboutUser(\n        override val id: UUID,\n        override val name: String,\n        override val aboutMe: String\n) : ApiUserPlain, ApiUserAbout\n\nfun getUser(userId: Long): PlainUser {\n    return PlainUser(UUID.randomUUID(), userId.toString())\n}\n\nfun getUser(userId: Long, about: String): AboutUser {\n    return AboutUser(UUID.randomUUID(), userId.toString(), about)\n}\n\nfun test() {\n    val userId = 2L\n    val aboutMe: String = getUser(userId).aboutMe // does not compile\n    val aboutMe2: String = getUser(userId, \"about\").aboutMe // compiles\n}\n</code></pre>\n\n<p>Both sealed classes and interfaces allow you to accomplish compile time verification that you are not accessing a non present <code>aboutMe</code> property. However, depending on the extension of your API you might be better of with interfaces which allow easier composition. Both methods can be accessed easily through the <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\">when expression</a> when you get a generic/parent parameter in a function.</p>\n"}], "owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1224, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1506983297, "creation_date": 1506866191, "last_edit_date": 1506934590, "question_id": 46513084, "link": "https://stackoverflow.com/questions/46513084/type-safety-with-optional-fields-in-a-data-class-for-json", "title": "Type-Safety with optional fields in a data class for JSON", "body": "<p>I am building a REST-API in Kotlin and I am trying to write my data classes in such a way that I can also use them for accessing the API.\nI plan to have a common \"data library\", which will be shared between the server and the client using the API.</p>\n\n<p>This works great so far, but now I need to model optional fields in the JSON responses. For example: I have a <code>User</code> object (accessible via the <code>/user/{id}</code> endpoint in typical REST fashion). Now, you do not always need for example the user's \"about me\" text, so by default it is not included in the response. However if you specify the <code>\"aboutme\"</code> field (<code>/user/{id}?fields=aboutme</code>) it will be included in the response.</p>\n\n<p>I could model the data class as follows:</p>\n\n<pre><code>data class User(id: UUID, name: String, aboutMe: String?)\n</code></pre>\n\n<p>But now I have to do a null check on the field every time I access it, even when it's obviously not null. I would like to create a type-safe frontend for the API so that when I do, for example, <code>myCoolApi.getUser({id}, User::aboutMe)</code> I will get a <code>User</code> object where <code>aboutMe</code> is not nullable. I could achieve this with generics somehow, I think, but that would get very verbose as soon as there are multiple optional fields involved.</p>\n\n<p>I am interested in any suggestions.</p>\n\n<p>As per request, I will add a bit more code to show what I am after.</p>\n\n<pre><code>class MyApi {\n\n    fun getUser(id: UUID, vararg fields: KProperty1&lt;User, *&gt;): User\n\n}\n\n// usage:\n\nval myApi: MyApi = TODO()\nval userId: UUID = TODO()\nval aboutMe: String = myApi.getUser(userId).aboutMe // does not compile, aboutMe field not specified so aboutMe is nullable\nval aboutMe2: String = myApi.getUser(userId, User::aboutMe).aboutMe // compiles, about me field was specified and thus cannot be null\n</code></pre>\n"}, {"tags": ["reflection", "annotations", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 9, "last_activity_date": 1506869163, "creation_date": 1506869163, "answer_id": 46513514, "question_id": 46512924, "link": "https://stackoverflow.com/questions/46512924/kotlin-get-field-annotation-always-empty/46513514#46513514", "title": "Kotlin get Field Annotation always empty", "body": "<p>Your annotation for <code>prop</code> is targeting getter, instead of calling <code>findAnnotation</code> on the property, you have to call it on the getter of the property.</p>\n\n<pre><code>for (member in obj::class.declaredMemberProperties) {\n    if (member.getter.findAnnotation&lt;Field&gt;() != null) {    //add .getter\n        println(member)\n    }\n    println(member)\n    println(member.getter.annotations)    //add .getter\n}\n</code></pre>\n\n<p>Your annotation for <code>id</code> and <code>string</code> is targeting field, so what you did in the second loop is correct. Since <code>member.annotations</code> returns <code>Annotation[]</code>, you have to change it to a <code>List</code> before printing it.</p>\n\n<pre><code>for(member in obj.javaClass.declaredFields) {\n    println(member)\n    println(member.annotations.toList())  //Add .toList()\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>val TestObject.id: kotlin.Long\n[]\nval TestObject.prop: kotlin.String\nval TestObject.prop: kotlin.String\n[@Field(value=[prop])]\nval TestObject.string: kotlin.String\n[]\n#########\nprivate final java.lang.String TestObject.string\n[@Field(value=[string])]\nprivate final long TestObject.id\n[@Field(value=[id])]\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 7862318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c52b1c3fcba2e0566c1d3988b0b6b8d?s=128&d=identicon&r=PG", "display_name": "Grisu118", "link": "https://stackoverflow.com/users/7862318/grisu118"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5504, "favorite_count": 0, "accepted_answer_id": 46513514, "answer_count": 1, "score": 11, "last_activity_date": 1506869163, "creation_date": 1506865077, "question_id": 46512924, "link": "https://stackoverflow.com/questions/46512924/kotlin-get-field-annotation-always-empty", "title": "Kotlin get Field Annotation always empty", "body": "<p>I have the following Kotlin Annotation</p>\n\n<pre><code>@Target(AnnotationTarget.FIELD, AnnotationTarget.PROPERTY_GETTER)\n@Retention(AnnotationRetention.RUNTIME)\nannotation class Field(val value: String)\n</code></pre>\n\n<p>And the following Test Code</p>\n\n<pre><code>class TestObject(@field:Field(\"id\") val id: Long) {\n\n  @field:Field(\"string\")\n  val string = \"Hello world\"\n\n  @get:Field(\"prop\")\n  val prop get() = string\n}\n\nclass AnnotationTest {\n\n  @Test\n  fun test() {\n    val obj = TestObject(200L)\n    for (member in obj::class.declaredMemberProperties) {\n      if (member.findAnnotation&lt;Field&gt;() != null) {\n        println(member)\n      }\n      println(member)\n      println(member.annotations)\n    }\n    println(\"#########\")\n    for(member in obj.javaClass.declaredFields) {\n      println(member)\n      println(member.annotations)\n    }\n  }\n\n}\n</code></pre>\n\n<p>It will print the following Output:</p>\n\n<pre><code>val TestObject.id: kotlin.Long\n[]\nval TestObject.prop: kotlin.String\n[]\nval TestObject.string: kotlin.String\n[]\n#########\nprivate final java.lang.String TestObject.string\n[Ljava.lang.annotation.Annotation;@33d512c1\nprivate final long TestObject.id\n[Ljava.lang.annotation.Annotation;@515c6049\n</code></pre>\n\n<p>Why I can't see the Annotation with Kotlin reflection? Need to find out if the given annotation is present on fields and property getters. </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 307, "user_id": 4697527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59327f9883db492dffaf469322bbbc83?s=128&d=identicon&r=PG&f=1", "display_name": "Tshunglee", "link": "https://stackoverflow.com/users/4697527/tshunglee"}, "is_accepted": false, "score": 1, "last_activity_date": 1506860863, "creation_date": 1506860863, "answer_id": 46512373, "question_id": 46512294, "link": "https://stackoverflow.com/questions/46512294/decimalformat-format-error/46512373#46512373", "title": "decimalFormat.format() error", "body": "<p>See DecimalFormat doc here <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat doc</a></p>\n\n<p>your usage of this class is wrong, and the error message is clear.\nThe method format(obj: Any!) format(number: Double) format(number: Long) is not defined. </p>\n\n<p>Your should use format(double number, StringBuffer result, FieldPosition fieldPosition) </p>\n"}], "owner": {"reputation": 59, "user_id": 8491283, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b35bea4a48ad1b2e613f937b44fa1d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Jimil Shah", "link": "https://stackoverflow.com/users/8491283/jimil-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1506860863, "creation_date": 1506860109, "question_id": 46512294, "link": "https://stackoverflow.com/questions/46512294/decimalformat-format-error", "title": "decimalFormat.format() error", "body": "<p>The decimalFormat declaration is as follows :   </p>\n\n<pre><code>private var decimalFormat: DecimalFormat? = null \ndecimalFormat = DecimalFormat(\"#.##########\")  \n</code></pre>\n\n<p>The values that are to be passed to format() method are :   </p>\n\n<pre><code>private var valueOne= java.lang.Double.NaN\nprivate var valueTwo: Double = 0.toDouble()\n</code></pre>\n\n<p>I am trying to make a calculator app, and the error that I get is in the operator buttons when I pass    <em>valueOne</em>    to the    <em>format()</em>    method :  </p>\n\n<pre><code> binding!!.buttonAdd.setOnClickListener {\n        computeCalculation()\n        CURRENT_ACTION = ADDITION\n        binding!!.infoTextView.setText(decimalFormat.format(valueOne) + \"+\")\n        binding!!.editText.setText(null)\n    }\n\n    binding!!.buttonSubtract.setOnClickListener {\n        computeCalculation()\n        CURRENT_ACTION = SUBTRACTION\n        binding!!.infoTextView.setText(decimalFormat.format(valueOne) + \"-\")\n        binding!!.editText.setText(null)\n    }\n\n    binding!!.buttonMultiply.setOnClickListener {\n        computeCalculation()\n        CURRENT_ACTION = MULTIPLICATION\n        binding!!.infoTextView.setText(decimalFormat.format(valueOne) + \"*\")\n        binding!!.editText.setText(null)\n    }\n\n    binding!!.buttonDivide.setOnClickListener {\n        computeCalculation()\n        CURRENT_ACTION = DIVISION\n        binding!!.infoTextView.setText(decimalFormat.format(valueOne) + \"/\")\n        binding!!.editText.setText(null)\n    }\n\n    binding!!.buttonEqual.setOnClickListener {\n        computeCalculation()\n        binding!!.infoTextView.text = binding!!.infoTextView.text.toString() +\n                decimalFormat.format(valueTwo) + \" = \" + decimalFormat.format(valueOne)\n        valueOne = java.lang.Double.NaN\n        CURRENT_ACTION = '0'\n    }  \n</code></pre>\n\n<p>The error that I get is :  </p>\n\n<pre><code>None of the following functions can be called with the arguments supplied: \npublic final fun format(obj: Any!): String! defined in \njava.text.DecimalFormat\npublic final fun format(number: Double): String! defined in \njava.text.DecimalFormat\npublic final fun format(number: Long): String! defined in \njava.text.DecimalFormat   \n</code></pre>\n\n<p>The complete code for the onCreate() method is given below :  </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    binding = DataBindingUtil.setContentView&lt;ActivityMainBinding&gt;(this, R.layout.activity_main)\n\n    decimalFormat = DecimalFormat(\"#.##########\")\n\n    binding?.buttonDot?.setOnClickListener { binding?.editText?.setText((binding as ActivityMainBinding).editText.text.toString() + \".\") }\n\n    binding?.buttonZero?.setOnClickListener { binding?.editText?.setText((binding as ActivityMainBinding).editText.text.toString() + \"0\") }\n\n    binding?.buttonOne?.setOnClickListener { binding?.editText?.setText((binding as ActivityMainBinding).editText.text.toString() + \"1\") }\n\n    binding?.buttonTwo?.setOnClickListener { binding?.editText?.setText((binding as ActivityMainBinding).editText.text.toString() + \"2\") }\n\n    binding?.buttonThree?.setOnClickListener { binding?.editText?.setText((binding as ActivityMainBinding).editText.text.toString() + \"3\") }\n\n    binding?.buttonFour?.setOnClickListener { binding?.editText?.setText((binding as ActivityMainBinding).editText.text.toString() + \"4\") }\n\n    binding?.buttonFive?.setOnClickListener { binding?.editText?.setText((binding as ActivityMainBinding).editText.text.toString() + \"5\") }\n\n    binding?.buttonSix?.setOnClickListener { binding?.editText?.setText((binding as ActivityMainBinding).editText.text.toString() + \"6\") }\n\n    binding?.buttonSeven?.setOnClickListener { binding?.editText?.setText((binding as ActivityMainBinding).editText.text.toString() + \"7\") }\n\n    binding?.buttonEight?.setOnClickListener { binding?.editText?.setText((binding as ActivityMainBinding).editText.text.toString() + \"8\") }\n\n    binding?.buttonNine?.setOnClickListener { binding?.editText?.setText((binding as ActivityMainBinding).editText.text.toString() + \"9\") }\n\n    binding!!.buttonAdd.setOnClickListener {\n        computeCalculation()\n        CURRENT_ACTION = ADDITION\n        binding!!.infoTextView.setText(decimalFormat.format(valueOne) + \"+\")\n        binding!!.editText.setText(null)\n    }\n\n    binding!!.buttonSubtract.setOnClickListener {\n        computeCalculation()\n        CURRENT_ACTION = SUBTRACTION\n        binding!!.infoTextView.setText(decimalFormat.format(valueOne) + \"-\")\n        binding!!.editText.setText(null)\n    }\n\n    binding!!.buttonMultiply.setOnClickListener {\n        computeCalculation()\n        CURRENT_ACTION = MULTIPLICATION\n        binding!!.infoTextView.setText(decimalFormat.format(valueOne) + \"*\")\n        binding!!.editText.setText(null)\n    }\n\n    binding!!.buttonDivide.setOnClickListener {\n        computeCalculation()\n        CURRENT_ACTION = DIVISION\n        binding!!.infoTextView.setText(decimalFormat.format(valueOne) + \"/\")\n        binding!!.editText.setText(null)\n    }\n\n    binding!!.buttonEqual.setOnClickListener {\n        computeCalculation()\n        binding!!.infoTextView.text = binding!!.infoTextView.text.toString() +\n                decimalFormat.format(valueTwo) + \" = \" + decimalFormat.format(valueOne)\n        valueOne = java.lang.Double.NaN\n        CURRENT_ACTION = '0'\n    }\n\n    binding!!.buttonClear.setOnClickListener {\n        if (binding!!.editText.text.length &gt; 0) {\n            val currentText = binding!!.editText.text\n            binding!!.editText.setText(currentText.subSequence(0, currentText.length - 1))\n        } else {\n            valueOne = java.lang.Double.NaN\n            valueTwo = java.lang.Double.NaN\n            binding!!.editText.setText(\"\")\n            binding!!.infoTextView.text = \"\"\n        }\n    }\n\n}  \n</code></pre>\n\n<p>Please help me solve the error. </p>\n"}, {"tags": ["interface", "kotlin", "abstract"], "answers": [{"comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1506860014, "post_id": 46512270, "comment_id": 79978595, "body": "Is it true even if the compiler targets Java 8? Does it define foo() as a default method in that case?"}, {"owner": {"reputation": 1479, "user_id": 5417224, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rGNpb.jpg?s=128&g=1", "display_name": "bitvale", "link": "https://stackoverflow.com/users/5417224/bitvale"}, "edited": false, "score": 0, "creation_date": 1506860337, "post_id": 46512270, "comment_id": 79978687, "body": "A lot of books about OOP writes that abstract method is a method that is declared, but contains no implementation. Thanks for explanation!"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1506860480, "post_id": 46512270, "comment_id": 79978717, "body": "As far as I can tell, the same inner class solution is used with the Java 8 target as well. Look at it with both the built-in decompiler as well as JD-GUI."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1506861036, "post_id": 46512270, "comment_id": 79978876, "body": "Thank you @zsmb13"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1506861047, "post_id": 46512270, "comment_id": 79978878, "body": "Thank you @hotkey"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 8, "last_activity_date": 1506859926, "creation_date": 1506859926, "answer_id": 46512270, "question_id": 46512200, "link": "https://stackoverflow.com/questions/46512200/kotlin-abstract-method-with-body/46512270#46512270", "title": "Kotlin abstract method with body", "body": "<p>This has to do with the way default methods in Kotlin interfaces are implemented. The <code>foo</code> and <code>bar</code> methods in your interface really are both abstract. </p>\n\n<p>However, there is an inner class inside the interface that looks something like this (simplified):</p>\n\n<pre><code>public interface MyInterface {\n   void foo();\n   void bar();\n\n   public static final class DefaultImpls {\n      public static void foo() {\n         System.out.print(\"Something\");\n      }\n   }\n}\n</code></pre>\n\n<p>This class is the one that contains the default implementations of any functions that you gave a body to inside the interface.</p>\n\n<p>Then, if you create a class that implements this interface, and you don't override the <code>foo</code> method:</p>\n\n<pre><code>class MyClass: MyInterface {\n    override fun bar() {\n        println(\"MyClass\")\n    }\n}\n</code></pre>\n\n<p>Then you get one generated automatically, which just calls the implementation inside <code>DefaultImpls</code>:</p>\n\n<pre><code>public final class MyClass implements MyInterface {\n   public void bar() {\n      System.out.println(\"MyClass\");\n   }\n   public void foo() {\n      MyInterface.DefaultImpls.foo();\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>You can find all these details by using the bytecode viewer that comes with the Kotlin plugin (<code>Tools -&gt; Kotlin -&gt; Show Kotlin Bytecode</code>, and then the <code>Decompile</code> option).</p>\n"}], "owner": {"reputation": 1479, "user_id": 5417224, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rGNpb.jpg?s=128&g=1", "display_name": "bitvale", "link": "https://stackoverflow.com/users/5417224/bitvale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4269, "favorite_count": 0, "accepted_answer_id": 46512270, "answer_count": 1, "score": 3, "last_activity_date": 1506859926, "creation_date": 1506859409, "question_id": 46512200, "link": "https://stackoverflow.com/questions/46512200/kotlin-abstract-method-with-body", "title": "Kotlin abstract method with body", "body": "<p>As mention <a href=\"https://kotlinlang.org/docs/reference/interfaces.html#resolving-overriding-conflicts\" rel=\"nofollow noreferrer\">here</a>: if a function in an interface has no body it is abstract  by default. But there is nothing about interface's function with body.  </p>\n\n<p>Example:</p>\n\n<pre><code>interface MyInterface {\n    fun foo() { print(\"Something\") }\n    fun bar()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(MyInterface::foo.javaMethod)\n    println(MyInterface::bar.javaMethod)\n}\n</code></pre>\n\n<p>Output will be:</p>\n\n<pre><code>public abstract void MyInterface.foo()\npublic abstract void MyInterface.bar()\n</code></pre>\n\n<p>How it's possible, that method with defined body is abstract?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1506859170, "post_id": 46511633, "comment_id": 79978381, "body": "Local functions can use local variables, so without this limitation you&#39;d end up with a significantly more complex one like &quot;a local function can only be used after declarations of all local variables it uses&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1506883363, "last_edit_date": 1506883363, "creation_date": 1506860546, "answer_id": 46512347, "question_id": 46511633, "link": "https://stackoverflow.com/questions/46511633/must-kotlin-local-functions-be-declared-before-use/46512347#46512347", "title": "Must Kotlin Local Functions be Declared Before Use", "body": "<p>It's not a bug, it is the designed behavior.</p>\n\n<p>When you use a symbol (variable, type or function name) in an expression, the symbol is resolved against some scope. If we simplify the scheme, the scope is formed by the package, the imports, the outer declarations (e.g. other members of the type) and, if the expression is placed inside a function, the scope also includes the local declarations that precede the expression. </p>\n\n<p>So, you can't use a local function until it's declared just like you cannot use a local variable that is not declared up to that point: it's just out of scope.</p>\n"}], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "accepted_answer_id": 46512347, "answer_count": 1, "score": 3, "last_activity_date": 1506883363, "creation_date": 1506854796, "last_edit_date": 1506882748, "question_id": 46511633, "link": "https://stackoverflow.com/questions/46511633/must-kotlin-local-functions-be-declared-before-use", "title": "Must Kotlin Local Functions be Declared Before Use", "body": "<p>In this simple code example...</p>\n\n<pre><code>fun testLocalFunctions() {\n    aLocalFun() //compiler error: unresolved reference at aLocalFun\n    fun aLocalFun() {}\n    aLocalFun() //no error\n}\n</code></pre>\n\n<p>Elsewhere in the language, using a function before definition is allowed.  But for local functions, that does not appear to be the case.  Refering to the <a href=\"https://jetbrains.github.io/kotlin-spec/#_local_and_top_level_functions\" rel=\"nofollow noreferrer\">Kotlin Language Specification</a>, the section on Local Functions is still marked \"TODO\".</p>\n\n<p>Since this sort of constraint does not hold for other types of functions (top-level and member functions), is this a bug?</p>\n\n<p>(Granted, local variable declarations must occur before use, so the same constraint on local functions is not unreasonable.  Is there a definitive, preferably authoritative source document that discusses this behavior?)</p>\n"}, {"tags": ["android", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 4624, "user_id": 4141049, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/DJTFu.jpg?s=128&g=1", "display_name": "shmakova", "link": "https://stackoverflow.com/users/4141049/shmakova"}, "edited": false, "score": 0, "creation_date": 1506853081, "post_id": 46511388, "comment_id": 79976765, "body": "Why do you need this?"}, {"owner": {"reputation": 65, "user_id": 5716120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b15c6dd2db7b7aab06cc4bc0bf4d677?s=128&d=identicon&r=PG&f=1", "display_name": "Nandha Kumar", "link": "https://stackoverflow.com/users/5716120/nandha-kumar"}, "reply_to_user": {"reputation": 4624, "user_id": 4141049, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/DJTFu.jpg?s=128&g=1", "display_name": "shmakova", "link": "https://stackoverflow.com/users/4141049/shmakova"}, "edited": false, "score": 0, "creation_date": 1506853274, "post_id": 46511388, "comment_id": 79976819, "body": "To use some of 3rd party java library"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1506888495, "post_id": 46511388, "comment_id": 79987013, "body": "There is no need to convert third party java library to kotlin to use it from kotlin, you can use it just as it is."}], "answers": [{"comments": [{"owner": {"reputation": 4625, "user_id": 1964969, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0879c1954a7ee8660f80eafdf9f66776?s=128&d=identicon&r=PG", "display_name": "Yury Schkatula", "link": "https://stackoverflow.com/users/1964969/yury-schkatula"}, "edited": false, "score": 0, "creation_date": 1589367187, "post_id": 46515265, "comment_id": 109263331, "body": "Amend for 2020 situation: Step 3 should be <code>Go to File &gt; New &gt; Import Module</code>"}], "tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": true, "score": 2, "last_activity_date": 1506880894, "creation_date": 1506880894, "answer_id": 46515265, "question_id": 46511388, "link": "https://stackoverflow.com/questions/46511388/how-to-convert-android-java-3rd-party-library-to-kotlin/46515265#46515265", "title": "How to convert Android java 3rd party library to kotlin?", "body": "<p>You can import 3rd party java library as module then modify it as per your requirements. You can convert one file to Kotlin or whole library it up to you.</p>\n\n<p><strong>3rd party library import as module steps for android studio:</strong></p>\n\n<ol>\n<li>Open your project in Android Studio</li>\n<li>Download the library (using Git, or a zip archive to unzip)</li>\n<li>Go to File > Import Module and import the library as a module</li>\n<li>Right-click your app in project view and select \"Open Module Settings\"</li>\n<li>Click the \"Dependencies\" tab and then the '+' button</li>\n<li>Select \"Module Dependency\"</li>\n<li>Select \"3rd Party Library\"</li>\n<li>Modify the library if you want to convert it to Kotlin etc.</li>\n</ol>\n"}], "owner": {"reputation": 65, "user_id": 5716120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b15c6dd2db7b7aab06cc4bc0bf4d677?s=128&d=identicon&r=PG&f=1", "display_name": "Nandha Kumar", "link": "https://stackoverflow.com/users/5716120/nandha-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 0, "accepted_answer_id": 46515265, "answer_count": 1, "score": -1, "last_activity_date": 1506940944, "creation_date": 1506853011, "question_id": 46511388, "link": "https://stackoverflow.com/questions/46511388/how-to-convert-android-java-3rd-party-library-to-kotlin", "title": "How to convert Android java 3rd party library to kotlin?", "body": "<p>Is there any way to port 3rd party Android gradle library to kotlin.</p>\n"}, {"tags": ["json", "kotlin"], "comments": [{"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 1, "creation_date": 1506811809, "post_id": 46507735, "comment_id": 79969738, "body": "Where&#39;s the exception? Can&#39;t see it."}, {"owner": {"reputation": 1517, "user_id": 5818559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a8db40e9e89fa941f9fe9a12204e8016?s=128&d=identicon&r=PG&f=1", "display_name": "zasaz", "link": "https://stackoverflow.com/users/5818559/zasaz"}, "reply_to_user": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1506812331, "post_id": 46507735, "comment_id": 79969826, "body": "sorry, it&#39;s posted now"}], "answers": [{"tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 0, "last_activity_date": 1506830650, "creation_date": 1506830650, "answer_id": 46509094, "question_id": 46507735, "link": "https://stackoverflow.com/questions/46507735/json-exception-in-kotlin-app/46509094#46509094", "title": "json exception in kotlin app", "body": "<p>There is possibility you getting JsonArray as response with empty or null value and you trying to cast as JsonObject. Try given code below.</p>\n\n<p>Replace </p>\n\n<pre><code>val obj = JSONObject(s)\n</code></pre>\n\n<p>With</p>\n\n<pre><code>if(s != null &amp;&amp; s.isNotEmpty()) {\nval obj = JSONArray(s)\n// rest of code here\n}\n</code></pre>\n"}], "owner": {"reputation": 1517, "user_id": 5818559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a8db40e9e89fa941f9fe9a12204e8016?s=128&d=identicon&r=PG&f=1", "display_name": "zasaz", "link": "https://stackoverflow.com/users/5818559/zasaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1547, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1506868066, "creation_date": 1506811733, "last_edit_date": 1506868066, "question_id": 46507735, "link": "https://stackoverflow.com/questions/46507735/json-exception-in-kotlin-app", "title": "json exception in kotlin app", "body": "<p>I'm trying to read a JSON file in a kotlin app. I can read the json but there's an error, it doesn't fill the array. When it shows the exception, I can see the json result. Here is the code:</p>\n\n<pre><code> fun read(){\n    val stringRequest = StringRequest(Request.Method.POST, URL, Response.Listener&lt;String&gt;{s -&gt;\n        try {\n            val obj = JSONObject(s)\n            if(!obj.getBoolean(\"error\")){\n                val array = obj.getJSONArray(\"friend\")\n\n                for(i in 0..array.length()-1){\n                    val objectFriend = array.getJSONObject(i)\n                    val friend = Friend(objectFriend.getString(\"name\"), objectFriend.getString(\"surname\"))\n\n                    listaPersonas.add(friend)\n\n                }\n            }\n        }catch (e: JSONException){\n            e.printStackTrace()\n        }\n    },Response.ErrorListener { error: VolleyError? -&gt; Log.e(\"error\", \"error\")  })\n\n    val  requesQueue = Volley.newRequestQueue(this)\n    requesQueue.add&lt;String&gt;(stringRequest)\n\n\n}\n</code></pre>\n\n<p>This is the exception:</p>\n\n<pre><code>org.json.JSONException: Value [value of json] of type org.json.JSONArray cannot be converted to JSONObject\n09-30 22:25:06.241 17310-17310/com.example.user.kotlinjson W/System.err:     at org.json.JSON.typeMismatch(JSON.java:111)\n09-30 22:25:06.242 17310-17310/com.example.user.kotlinjson W/System.err:     at org.json.JSONObject.&lt;init&gt;(JSONObject.java:160)\n09-30 22:25:06.242 17310-17310/com.example.user.kotlinjson W/System.err:     at org.json.JSONObject.&lt;init&gt;(JSONObject.java:173)\n09-30 22:25:06.242 17310-17310/com.example.user.kotlinjson W/System.err:     at com.example.smoreno.kotlinprueba.MainActivity$read$stringRequest$1.onResponse(MainActivity.kt:139)\n09-30 22:25:06.242 17310-17310/com.example.smoreno.kotlinprueba W/System.err:     at com.example.smoreno.kotlinprueba.MainActivity$read$stringRequest$1.onResponse(MainActivity.kt:22)\n09-30 22:25:06.242 17310-17310/com.example.smoreno.kotlinprueba W/System.err:     at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:60)\n09-30 22:25:06.242 17310-17310/com.example.smoreno.kotlinprueba W/System.err:     at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:30)\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "swiperefreshlayout"], "comments": [{"owner": {"reputation": 1089, "user_id": 5155869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gilQB.png?s=128&g=1", "display_name": "uramonk", "link": "https://stackoverflow.com/users/5155869/uramonk"}, "edited": false, "score": 0, "creation_date": 1506836051, "post_id": 46506010, "comment_id": 79973167, "body": "Where did you define <code>srNewsFeedRefresh</code> variable?  Not found the following code:  <code>findViewById&lt;SwipeRefreshLayout&gt;(R.id.srNewsFeedRefresh)</code>"}, {"owner": {"reputation": 3, "user_id": 3582859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d9eb031d37caef9bfae58d829c48f5?s=128&d=identicon&r=PG&f=1", "display_name": "PilotOfSparrow", "link": "https://stackoverflow.com/users/3582859/pilotofsparrow"}, "reply_to_user": {"reputation": 1089, "user_id": 5155869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gilQB.png?s=128&g=1", "display_name": "uramonk", "link": "https://stackoverflow.com/users/5155869/uramonk"}, "edited": false, "score": 0, "creation_date": 1506840530, "post_id": 46506010, "comment_id": 79973985, "body": "@uramonk We don&#39;t need to use &#39;findViewById&#39; in kotlin if we use kotlin android extensions. We can simply use view id instead. &#39;srNewsFeedRefresh&#39; is id of my &#39;SwipeRefreshLayout&#39;"}], "owner": {"reputation": 3, "user_id": 3582859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d9eb031d37caef9bfae58d829c48f5?s=128&d=identicon&r=PG&f=1", "display_name": "PilotOfSparrow", "link": "https://stackoverflow.com/users/3582859/pilotofsparrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506804960, "creation_date": 1506797541, "last_edit_date": 1506804960, "question_id": 46506010, "link": "https://stackoverflow.com/questions/46506010/swiperefreshlayout-animation-of-first-attempt-to-refresh-runs-endlessly", "title": "SwipeRefreshLayout animation of first attempt to refresh runs endlessly", "body": "<p>I know as a fact what this is not Kotlin-specific thing. I encountered same bug in <code>Java</code> too. I tried to put <code>SwipeRefreshLayout</code> inside <code>FrameLayout</code> with no effect. I also tried to put </p>\n\n<blockquote>\n  <p><code>srNewsFeedRefresh.isRefreshing = false</code></p>\n</blockquote>\n\n<p>from code below to hold task with delay around 2 sec, still no effect.</p>\n\n<p>My xml:</p>\n\n<pre><code>&lt;android.support.v4.widget.SwipeRefreshLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:id=\"@+id/srNewsFeedRefresh\"\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/rwNewsRecyclerView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:scrollbars=\"vertical\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>And fragment code:</p>\n\n<pre><code>class NewsFeedFragment : Fragment(), NewsDelegateAdapter.onViewSelectedListener {\noverride fun onItemSelected(url: String?) {\n    Toast.makeText(context, \"Love\", Toast.LENGTH_SHORT).show()\n}\n\nprivate var mListener: OnFragmentInteractionListener? = null\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n\n    return LayoutInflater\n            .from(context)\n            .inflate(R.layout.fragment_news_feed, container, false)\n}\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    rwNewsRecyclerView.adapter       = NewsAdapter(this)\n    rwNewsRecyclerView.layoutManager = LinearLayoutManager(context)\n}\n\noverride fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    srNewsFeedRefresh.setOnRefreshListener {\n        srNewsFeedRefresh.isRefreshing = false\n    }\n}\n\ninterface OnFragmentInteractionListener {\n    // TODO: Update argument type and name\n    fun onFragmentInteraction(uri: Uri)\n}\n}\n</code></pre>\n\n<p>Part of gradle file: </p>\n\n<pre><code>android {\ncompileSdkVersion 26\nbuildToolsVersion \"26.0.0\"\ndefaultConfig {\n    applicationId \"num7.repositorieslist\"\n    minSdkVersion 19\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'),                 'proguard-rules.pro'\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 1636, "user_id": 1986282, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CfVdj.jpg?s=128&g=1", "display_name": "Dr. aNdRO", "link": "https://stackoverflow.com/users/1986282/dr-andro"}, "edited": false, "score": 0, "creation_date": 1576826080, "post_id": 46505902, "comment_id": 105028915, "body": "In my case generated dagger component does not have it. I have tried it. This import is not recognised after build import com.test.home.di.HomeModule_ProvideHomePresenterFactory;"}], "tags": [], "owner": {"reputation": 5388, "user_id": 4466472, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dVZL1m5gSbk/AAAAAAAAAAI/AAAAAAAAAo4/d9rgwRgqTFk/photo.jpg?sz=128", "display_name": "Stoycho Andreev", "link": "https://stackoverflow.com/users/4466472/stoycho-andreev"}, "is_accepted": true, "score": 4, "last_activity_date": 1506796704, "creation_date": 1506796704, "answer_id": 46505902, "question_id": 46505835, "link": "https://stackoverflow.com/questions/46505835/dagger-can-not-provide-injection-with-kotlin/46505902#46505902", "title": "Dagger can not provide injection with Kotlin", "body": "<p>I think the solution for your problem is very simple and also not so obvious unfortunately.</p>\n\n<p>Because Kotlin does not require type to be specified on methods return, you can easily write something like this:</p>\n\n<pre><code>@Provides\n@MenuActivityScope\nfun provideAudio() =\n        AndroidAudio(menuActivity)\n</code></pre>\n\n<p>And the compiler will not complain about that, but in this case Dagger will provide AndroidAudio object for injection. In you Activity you are looking for Audio object for injection. So if you change this code to be:</p>\n\n<pre><code>@Provides\n@MenuActivityScope\nfun provideAudio(): Audio =\n        AndroidAudio(menuActivity)\n</code></pre>\n\n<p>Everything should be \u041e\u041a. \nGive a try and tell me if something does not work. \nThanks.</p>\n\n<p><strong>BTW</strong> : When I use Dagger with Kotlin I aways specify the type of returned value, because usually that is gonna be the type of the injected variables or the type of the variable which you are going to use in your dagger module.</p>\n"}], "owner": {"reputation": 1530, "user_id": 3626353, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6SkxM.jpg?s=128&g=1", "display_name": "MeLine", "link": "https://stackoverflow.com/users/3626353/meline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 1, "accepted_answer_id": 46505902, "answer_count": 1, "score": 1, "last_activity_date": 1506796704, "creation_date": 1506796266, "question_id": 46505835, "link": "https://stackoverflow.com/questions/46505835/dagger-can-not-provide-injection-with-kotlin", "title": "Dagger can not provide injection with Kotlin", "body": "<p>I have this issue when I try to use Kotlin and Dagger 2 . </p>\n\n<p>\"interface cannot be provided without an @Provides- or @Produces-annotated method.\u201d</p>\n\n<p>This is my Module class:</p>\n\n<pre><code>@Module\nclass MenuActivityModule(@NonNull private val menuActivity: MenuActivity) {\n\n    @Provides\n    @MenuActivityScope\n    fun provideGameScreenDimensions(application: Application) =\n            GameScreenDimension(application.resources)\n\n    @Provides\n    @MenuActivityScope\n    fun provideAudio() =\n            AndroidAudio(menuActivity)\n\n    @Provides\n    @MenuActivityScope\n    fun providePowerManager() =\n            menuActivity.getSystemService(Context.POWER_SERVICE) as PowerManager\n\n    @Provides\n    @MenuActivityScope\n    fun provideWakeLock(@NonNull powerManager: PowerManager) =\n        powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, Preferences.APPLICATION_TAG)\n}\n\nThis is a part of my Activity class, where I inject some variables with Dagger:\n\nclass MenuActivity : BaseActivity {\n\n    @Inject\n    lateinit var myAudio: Audio\n    @Inject\n    lateinit var wakeLock: PowerManager.WakeLock\n    @Inject\n    lateinit var apiService : ApiService\n    @Inject\n    lateinit var sharedPref : SharedPreferences\n    @Inject\n    lateinit var gameDimension : GameScreenDimension\n\n    init {\n        DaggerMenuActivityComponent.builder()\n                .menuActivityModule(MenuActivityModule(this))\n                .build()\n                .inject(this)\n    }\n    //more code\n}\n</code></pre>\n\n<p>Audio.kt is interface and Dagger has problem to inject it. Inside the activity module I am returning AndroidAudio\ninstance, which implements Audio interface. I am not sure what is the problem here. In Java I have had many times injection of interfaces and I never had this issue before.\nIf somebody can help me I will be so happy.\nThanks!</p>\n"}, {"tags": ["android", "android-edittext", "kotlin"], "comments": [{"owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 0, "creation_date": 1506797556, "post_id": 46505805, "comment_id": 79966409, "body": "why are you not using kotlinextension @BostonMacOSX"}, {"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "reply_to_user": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 0, "creation_date": 1506803512, "post_id": 46505805, "comment_id": 79967944, "body": "I have them in there but having issues with picking up items I&#39;ve put into my layouts."}, {"owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 0, "creation_date": 1506804417, "post_id": 46505805, "comment_id": 79968149, "body": "can you update your code with import or XML file here"}, {"owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 0, "creation_date": 1506804548, "post_id": 46505805, "comment_id": 79968183, "body": "this code is not enough to figure out the issue"}, {"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "reply_to_user": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 0, "creation_date": 1506825347, "post_id": 46505805, "comment_id": 79971729, "body": "Updated with XML"}], "answers": [{"comments": [{"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1506825393, "post_id": 46506887, "comment_id": 79971732, "body": "Hello zipHOlder.text requires Editable! but zipEdit is a string..so setText(String) is the way to go."}, {"owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "reply_to_user": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1506834575, "post_id": 46506887, "comment_id": 79972919, "body": "Yeah, I have updated my code as you see above and @BostonMacOSX this is working at my side and hopefully this will works at you too"}, {"owner": {"reputation": 2067, "user_id": 5435658, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/92a5439c20610a55fe6fe43b2677d542?s=128&d=identicon&r=PG&f=1", "display_name": "raditya gumay", "link": "https://stackoverflow.com/users/5435658/raditya-gumay"}, "edited": false, "score": 1, "creation_date": 1506856984, "post_id": 46506887, "comment_id": 79977793, "body": "you dont need to init view inside initialize block. kotlin syntectic has lazy initialization for bind views."}, {"owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 0, "creation_date": 1506857263, "post_id": 46506887, "comment_id": 79977873, "body": "Yeah, I knows and am not intializing any view in init block,"}], "tags": [], "owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "is_accepted": false, "score": 1, "last_activity_date": 1506834274, "last_edit_date": 1506834274, "creation_date": 1506804282, "answer_id": 46506887, "question_id": 46505805, "link": "https://stackoverflow.com/questions/46505805/having-issues-writing-to-edittext-in-kotlin/46506887#46506887", "title": "Having issues writing to EditText in Kotlin", "body": "<p>Ok, But using kotlinextension is a better way to do this, I think you need to do 2 things may solve your problem </p>\n\n<p><strong>first</strong> </p>\n\n<p><code>import kotlinx.android.synthetic.main.activity_main2.*</code></p>\n\n<p>I think which you have already done </p>\n\n<p><strong>second</strong> instead of initializing your <code>Editext</code> by <code>findViewById</code> direct use as </p>\n\n<pre><code>fun setZipEdit(zipEdit:String){\n        Log.d(\"SZE\",zipEdit)\n        Log.d(\"mzh\",mZipHold.toString())\n         zipHolder.setText(zipEdit)\n\n         //mZipHold.setText(zipEdit,TextView.BufferType.EDITABLE)\n\n    }\n</code></pre>\n\n<p>you can access your views by only use their id. Let try this and let me know if works</p>\n"}], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 752, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1506834274, "creation_date": 1506796046, "last_edit_date": 1506825336, "question_id": 46505805, "link": "https://stackoverflow.com/questions/46505805/having-issues-writing-to-edittext-in-kotlin", "title": "Having issues writing to EditText in Kotlin", "body": "<p>So I think I'm having some scoping issues.\nI'm trying to use the function <strong>setZipEdit</strong> to set the <code>R.id.zipHolder</code> <code>editText</code> in my activity. I'm just having issues in setting up the code to be able to do this. Below is what I have which isn't currently working. <code>mZipHold</code> is coming back as not <code>initialized</code> which I though it was in the <code>override</code> </p>\n\n<p><strong>UPDATED</strong></p>\n\n<pre><code>class SecondActivity : AppCompatActivity() {\nlateinit var townInfo:JsonArray&lt;JsonObject&gt;\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity2)\n\n\n    SET_TOWN.setOnClickListener {v -&gt; setTowns()}\n    GET_TOWNS.setOnClickListener {v -&gt; retrieveTowns()}\n\n\n}\n fun setZipEdit(zipEdit:String){\n    Log.d(\"SZE\",zipEdit)\n     zipHolder.setText(zipEdit)\n\n\n\n     //mZipHold.setText(zipEdit,TextView.BufferType.EDITABLE)\n\n}\n</code></pre>\n\n<blockquote>\n  <p>java.lang.NullPointerException: Attempt to invoke virtual method\n  'android.view.Window$Callback android.view.Window.getCallback()' on a\n  null object reference\n                                                                                     at\n  android.support.v7.app.AppCompatDelegateImplBase.(AppCompatDelegateImplBase.java:117)\n                                                                                     at\n  android.support.v7.app.AppCompatDelegateImplV9.(AppCompatDelegateImplV9.java:149)\n                                                                                     at\n  android.support.v7.app.AppCompatDelegateImplV11.(AppCompatDelegateImplV11.java:29)\n                                                                                     at\n  android.support.v7.app.AppCompatDelegateImplV14.(AppCompatDelegateImplV14.java:54)\n                                                                                     at\n  android.support.v7.app.AppCompatDelegateImplV23.(AppCompatDelegateImplV23.java:31)\n                                                                                     at\n  android.support.v7.app.AppCompatDelegateImplN.(AppCompatDelegateImplN.java:31)\n                                                                                     at\n  android.support.v7.app.AppCompatDelegate.create(AppCompatDelegate.java:198)\n                                                                                     at\n  android.support.v7.app.AppCompatDelegate.create(AppCompatDelegate.java:183)\n                                                                                     at\n  android.support.v7.app.AppCompatActivity.getDelegate(AppCompatActivity.java:519)\n                                                                                     at\n  android.support.v7.app.AppCompatActivity.findViewById(AppCompatActivity.java:190)\n                                                                                     at</p>\n  \n  <p><strong>com.example.sdfsdf.listview.SecondActivity._$_findCachedViewById(SecondActivity.kt:0)\n                                                                                     at\n  com.example.sdfsdf.listview.SecondActivity.setZipEdit(SecondActivity.kt:44)\n                                                                                     at\n  com.example.sdfsdf.listview.SecondActivity$MyCustomAdapter$onCreateViewHolder$1.onClick(SecondActivity.kt:124)\n                                                                                     at android.view.View.performClick(View.java:6256)</strong>\n                                                                                     at android.view.View$PerformClick.run(View.java:24697)\n                                                                                     at android.os.Handler.handleCallback(Handler.java:789)\n                                                                                     at android.os.Handler.dispatchMessage(Handler.java:98)\n                                                                                     at android.os.Looper.loop(Looper.java:164)\n                                                                                     at android.app.ActivityThread.main(ActivityThread.java:6541)\n                                                                                     at java.lang.reflect.Method.invoke(Native Method)\n                                                                                     at\n  com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n                                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)</p>\n</blockquote>\n\n<p><strong>XML</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#FFFFFF\"\n    tools:layout_editor_absoluteX=\"0dp\"\n    tools:layout_editor_absoluteY=\"25dp\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/returnimage\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"100dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"20dp\"\n        android:contentDescription=\"logoforZip\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:srcCompat=\"@drawable/ic_new_icon_plain\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/zipHolder\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"10dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"20dp\"\n        android:ems=\"10\"\n        android:inputType=\"number\"\n        android:text=\"ZIP HERE\"\n        android:textAlignment=\"center\"\n        android:textColor=\"#000000\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toEndOf=\"@+id/returnimage\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/SET_TOWN\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"50dp\"\n        android:layout_marginTop=\"8dp\"\n        android:text=\"SET TOWN\"\n        app:layout_constraintEnd_toEndOf=\"@+id/zipHolder\"\n        app:layout_constraintStart_toStartOf=\"@+id/zipHolder\"\n        app:layout_constraintTop_toBottomOf=\"@+id/zipHolder\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/GET_TOWNS\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"50dp\"\n        android:layout_marginTop=\"8dp\"\n        android:text=\"LIST NEARBY TOWNS\"\n        app:layout_constraintEnd_toEndOf=\"@+id/SET_TOWN\"\n        app:layout_constraintStart_toStartOf=\"@+id/SET_TOWN\"\n        app:layout_constraintTop_toBottomOf=\"@+id/SET_TOWN\" /&gt;\n\n    &lt;View\n        android:id=\"@+id/splitbar\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"6dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:background=\"#c0c0c0\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/GET_TOWNS\" /&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/zipList\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:background=\"#222222\"\n        android:scrollbars=\"vertical\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/splitbar\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["java", "multithreading", "kotlin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1506794268, "post_id": 46505528, "comment_id": 79965322, "body": "<code>var myThread = Thread(myRunnable())</code>"}, {"owner": {"reputation": 469, "user_id": 4676579, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7oChkzTpeBc/AAAAAAAAAAI/AAAAAAAAAMs/nmpr-MbPxiY/photo.jpg?sz=128", "display_name": "Shubhranshu Jain", "link": "https://stackoverflow.com/users/4676579/shubhranshu-jain"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1506794682, "post_id": 46505528, "comment_id": 79965446, "body": "@Mibac It Worked!! Can you help me understand this piece of code?"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1506794749, "post_id": 46505528, "comment_id": 79965466, "body": "Doing <code>myThread:Thread</code> says that variable <code>myThread</code> is of type <code>Thread</code>. And doing <code>myRunnable:Runnable</code> has no sense what so ever. Initializing classes in Kotlin is very similar to Java. You just remove the <code>new</code> keyword. Relevant Kotlin documentation: <a href=\"https://kotlinlang.org/docs/reference/classes.html#creating-instances-of-classes\" rel=\"nofollow noreferrer\">a</a>, <a href=\"https://kotlinlang.org/docs/reference/basic-syntax.html#defining-local-variables\" rel=\"nofollow noreferrer\">b</a>"}, {"owner": {"reputation": 469, "user_id": 4676579, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7oChkzTpeBc/AAAAAAAAAAI/AAAAAAAAAMs/nmpr-MbPxiY/photo.jpg?sz=128", "display_name": "Shubhranshu Jain", "link": "https://stackoverflow.com/users/4676579/shubhranshu-jain"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1506795592, "post_id": 46505528, "comment_id": 79965751, "body": "Thanks. So x:X format works for classes but not for interfaces?"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1506797567, "post_id": 46505528, "comment_id": 79966414, "body": "It does work for interfaces but when you do <code>x = Y:y</code> the <code>Y:y</code> part makes no sense."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1506833541, "post_id": 46505528, "comment_id": 79972788, "body": "You should take a look at this <a href=\"https://kotlinlang.org/docs/reference/basic-syntax.html\" rel=\"nofollow noreferrer\">guide</a> for basic syntax on defining variable and instance."}], "answers": [{"comments": [{"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1506797612, "post_id": 46505667, "comment_id": 79966427, "body": "@Mibac I provided more choices"}], "tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 16, "last_activity_date": 1506796155, "last_edit_date": 1506796155, "creation_date": 1506795148, "answer_id": 46505667, "question_id": 46505528, "link": "https://stackoverflow.com/questions/46505528/how-to-initialize-a-thread-in-kotlin/46505667#46505667", "title": "How to initialize a Thread in Kotlin?", "body": "<p>Runnable:</p>\n\n<pre><code>val myRunnable = runnable {\n\n}\n</code></pre>\n\n<p>Thread:</p>\n\n<pre><code>Thread({  \n// call runnable here\n  println(\"running from lambda: ${Thread.currentThread()}\")\n}).start()\n</code></pre>\n\n<p>You don't see a Runnable here: in Kotlin it can easily be replaced with a lambda expression. Is there a better way? Sure! Here's how you can instantiate and start a \nthread Kotlin-style:</p>\n\n<pre><code>thread(start = true) {  \n      println(\"running from thread(): ${Thread.currentThread()}\")\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17430, "user_id": 355438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb132c7de803cf864996a922a073e5f2?s=128&d=identicon&r=PG", "display_name": "Lu55", "link": "https://stackoverflow.com/users/355438/lu55"}, "edited": false, "score": 2, "creation_date": 1558945807, "post_id": 46505671, "comment_id": 99252703, "body": "Note that you can omit <code>start = true</code> (because <code>start</code> is <code>true</code> by default) and simply write <code>thread { Thread.sleep(1000) }</code> to get started thread."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1558951051, "post_id": 46505671, "comment_id": 99255281, "body": "I&#39;ve added a note about this to make it more obvious, thank you"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 53, "last_activity_date": 1601840336, "last_edit_date": 1601840336, "creation_date": 1506795163, "answer_id": 46505671, "question_id": 46505528, "link": "https://stackoverflow.com/questions/46505528/how-to-initialize-a-thread-in-kotlin/46505671#46505671", "title": "How to initialize a Thread in Kotlin?", "body": "<p>Kotlin comes with a standard library function <code>thread</code>, which I'd recommend to use here:</p>\n<pre><code>public fun thread(\n    start: Boolean = true, \n    isDaemon: Boolean = false, \n    contextClassLoader: ClassLoader? = null, \n    name: String? = null, \n    priority: Int = -1, \n    block: () -&gt; Unit): Thread\n</code></pre>\n<p>You can use it like this:</p>\n<pre><code>thread {\n    Thread.sleep(1000)\n    println(&quot;test&quot;)\n}\n</code></pre>\n<p>It has many optional parameters for e.g. not starting the thread directly by setting <code>start</code> to <code>false</code>.</p>\n<hr />\n<p><strong>Alternatives</strong></p>\n<p>To initialize an instance of class <code>Thread</code>, invoke its constructor:</p>\n<pre><code>val t = Thread()\n</code></pre>\n<p>You may also pass an optional <code>Runnable</code> as a lambda (SAM Conversion) as follows:</p>\n<pre><code>Thread {\n    Thread.sleep(1000)\n    println(&quot;test&quot;)\n}\n</code></pre>\n<p>The more explicit version would be passing an anonymous implementation of <code>Runnable</code> like this:</p>\n<pre><code>Thread(Runnable {\n    Thread.sleep(1000)\n    println(&quot;test&quot;)\n})\n</code></pre>\n<p>Note that the previously shown examples do only <em>create</em> an instance of a <code>Thread</code> but don't actually start it. In order to achieve that, you need to invoke <code>start()</code> explicitly.</p>\n"}, {"comments": [{"owner": {"reputation": 1389, "user_id": 1746226, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/zp6Uv.jpg?s=128&g=1", "display_name": "dipak_pusti", "link": "https://stackoverflow.com/users/1746226/dipak-pusti"}, "edited": false, "score": 4, "creation_date": 1512666283, "post_id": 47700088, "comment_id": 82360296, "body": "Also try to add some explanation"}, {"owner": {"reputation": 8717, "user_id": 6413377, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/J4tD1.png?s=128&g=1", "display_name": "pirho", "link": "https://stackoverflow.com/users/6413377/pirho"}, "edited": false, "score": 0, "creation_date": 1512667821, "post_id": 47700088, "comment_id": 82361175, "body": "While this may answer the question, it is better to explain the essential parts of the answer and possibly what was the problem with OPs code."}, {"owner": {"reputation": 17430, "user_id": 355438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb132c7de803cf864996a922a073e5f2?s=128&d=identicon&r=PG", "display_name": "Lu55", "link": "https://stackoverflow.com/users/355438/lu55"}, "edited": false, "score": 2, "creation_date": 1558944865, "post_id": 47700088, "comment_id": 99252290, "body": "This code doesn&#39;t solve the problem: it doesn&#39;t <i>start</i> new thread but executes <code>Thread.sleep(3000)</code> in current thread instead (using Kotlin&#39;s general <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"nofollow noreferrer\"><code>run</code> extension method</a> which gets newly created thread as a receiver but does nothing with it)."}], "tags": [], "owner": {"reputation": 9, "user_id": 9068512, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XTk1PsmwjuY/AAAAAAAAAAI/AAAAAAAAAPs/T6ab4qi6_So/photo.jpg?sz=128", "display_name": "Hardeep singh", "link": "https://stackoverflow.com/users/9068512/hardeep-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1512667133, "last_edit_date": 1512667133, "creation_date": 1512665959, "answer_id": 47700088, "question_id": 46505528, "link": "https://stackoverflow.com/questions/46505528/how-to-initialize-a-thread-in-kotlin/47700088#47700088", "title": "How to initialize a Thread in Kotlin?", "body": "<p>Please try this code:</p>\n\n<pre><code>Thread().run { Thread.sleep(3000); }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1598302415, "post_id": 48831975, "comment_id": 112409600, "body": "Nice and easy solution...what does isDaemon does? Pls explain that in your answer."}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 5, "last_activity_date": 1598306094, "last_edit_date": 1598306094, "creation_date": 1518802065, "answer_id": 48831975, "question_id": 46505528, "link": "https://stackoverflow.com/questions/46505528/how-to-initialize-a-thread-in-kotlin/48831975#48831975", "title": "How to initialize a Thread in Kotlin?", "body": "<p>Best way would be to use <code>thread()</code> generator function from <code>kotlin.concurrent</code>:\n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.concurrent/thread.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.concurrent/thread.html</a></p>\n<p>You should check its default values, as they're quite useful:</p>\n<pre><code>thread() { /* do something */ }\n</code></pre>\n<p>Note that you don't need to call <code>start()</code> like in the Thread example, or provide <code>start=true</code>.</p>\n<p>Be careful with threads that run for a long period of time. It's useful to specify <code>thread(isDaemon= true)</code> so your application would be able to terminate correctly.</p>\n<p>Usually application will wait until all non-daemon threads terminate.</p>\n"}, {"tags": [], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "is_accepted": false, "score": 11, "last_activity_date": 1531419655, "creation_date": 1531419655, "answer_id": 51312180, "question_id": 46505528, "link": "https://stackoverflow.com/questions/46505528/how-to-initialize-a-thread-in-kotlin/51312180#51312180", "title": "How to initialize a Thread in Kotlin?", "body": "<p>I did the following and it appears to be working as expected.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>Thread(Runnable {\n            //some method here\n        }).start()\n</code></pre>\n\n\n"}, {"comments": [{"owner": {"reputation": 1994, "user_id": 5624053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhLzK.jpg?s=128&g=1", "display_name": "Anh Pham", "link": "https://stackoverflow.com/users/5624053/anh-pham"}, "edited": false, "score": 0, "creation_date": 1544017372, "post_id": 53633334, "comment_id": 94126754, "body": "Usually it&#39;s better to explain a solution instead of just posting some rows of anonymous code. You can read <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer</a>, and also <a href=\"https://meta.stackexchange.com/questions/114762/explaining-entirely-%E2%80%8C%E2%80%8Bcode-based-answers\">Explaining entirely code-based answers</a>"}], "tags": [], "owner": {"reputation": 61, "user_id": 2409435, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/IRLsP.jpg?s=128&g=1", "display_name": "hgedek", "link": "https://stackoverflow.com/users/2409435/hgedek"}, "is_accepted": false, "score": 0, "last_activity_date": 1544016085, "creation_date": 1544016085, "answer_id": 53633334, "question_id": 46505528, "link": "https://stackoverflow.com/questions/46505528/how-to-initialize-a-thread-in-kotlin/53633334#53633334", "title": "How to initialize a Thread in Kotlin?", "body": "<pre><code>fun main(args: Array&lt;String&gt;) {\n\n    Thread({\n        println(\"test1\")\n        Thread.sleep(1000)\n    }).start()\n\n    val thread = object: Thread(){\n        override fun run(){\n            println(\"test2\")\n            Thread.sleep(2000)\n        }\n    }\n\n    thread.start()\n\n    Thread.sleep(5000)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1458, "user_id": 5872337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Ecyt.jpg?s=128&g=1", "display_name": "Geet Thakur", "link": "https://stackoverflow.com/users/5872337/geet-thakur"}, "is_accepted": false, "score": 3, "last_activity_date": 1560331306, "creation_date": 1560331306, "answer_id": 56558740, "question_id": 46505528, "link": "https://stackoverflow.com/questions/46505528/how-to-initialize-a-thread-in-kotlin/56558740#56558740", "title": "How to initialize a Thread in Kotlin?", "body": "<p>Basic example of <code>Thread</code> with <code>Lamda</code></p>\n\n<pre><code>fun main() {\n    val mylamda = Thread({\n        for (x in 0..10){\n            Thread.sleep(200)\n            println(\"$x\")\n        }\n   })\n    startThread(mylamda)\n\n}\n\nfun startThread(mylamda: Thread) {\n    mylamda.start()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3196, "user_id": 1541397, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/991c4e6d0872e18880e3e0ff51cdf5a2?s=128&d=identicon&r=PG", "display_name": "David Callanan", "link": "https://stackoverflow.com/users/1541397/david-callanan"}, "is_accepted": false, "score": 2, "last_activity_date": 1577472045, "creation_date": 1577472045, "answer_id": 59504800, "question_id": 46505528, "link": "https://stackoverflow.com/questions/46505528/how-to-initialize-a-thread-in-kotlin/59504800#59504800", "title": "How to initialize a Thread in Kotlin?", "body": "<pre><code>thread { /* your code here */ }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 12964380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45c60ffa20ade359ba444346fcd3822c?s=128&d=identicon&r=PG&f=1", "display_name": "Coder", "link": "https://stackoverflow.com/users/12964380/coder"}, "is_accepted": false, "score": 3, "last_activity_date": 1589040584, "creation_date": 1589040584, "answer_id": 61699842, "question_id": 46505528, "link": "https://stackoverflow.com/questions/46505528/how-to-initialize-a-thread-in-kotlin/61699842#61699842", "title": "How to initialize a Thread in Kotlin?", "body": "<p>Firstly, create a function for set default propery</p>\n\n<pre><code>fun thread(\n  start: Boolean = true, \n  isDaemon: Boolean = false, \n  contextClassLoader: ClassLoader? = null, \n  name: String? = null, \n  priority: Int = -1, \n  block: () -&gt; Unit\n): Thread\n</code></pre>\n\n<p>then perform background operation calling this function</p>\n\n<pre><code>thread(start = true) {\n     //Do background tasks...\n}\n</code></pre>\n\n<p>Or kotlin coroutines also can be used to perform background task</p>\n\n<pre><code>GlobalScope.launch {\n\n    //TODO(\"do background task...\")\n    withContext(Dispatchers.Main) {\n        // TODO(\"Update UI\")\n    }\n    //TODO(\"do background task...\")\n}\n</code></pre>\n"}], "owner": {"reputation": 469, "user_id": 4676579, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7oChkzTpeBc/AAAAAAAAAAI/AAAAAAAAAMs/nmpr-MbPxiY/photo.jpg?sz=128", "display_name": "Shubhranshu Jain", "link": "https://stackoverflow.com/users/4676579/shubhranshu-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57550, "favorite_count": 6, "answer_count": 9, "score": 45, "last_activity_date": 1601840336, "creation_date": 1506794222, "last_edit_date": 1506795638, "question_id": 46505528, "link": "https://stackoverflow.com/questions/46505528/how-to-initialize-a-thread-in-kotlin", "title": "How to initialize a Thread in Kotlin?", "body": "<p>In Java it works by accepting an object which implements runnable :</p>\n\n<pre><code>Thread myThread = new Thread(new myRunnable())\n</code></pre>\n\n<p>where <code>myRunnable</code> is a class implementing <code>Runnable</code>. </p>\n\n<p>But when I tried this in Kotlin, it doesn't seems to work:</p>\n\n<pre><code>var myThread:Thread = myRunnable:Runnable\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-datepicker"], "answers": [{"comments": [{"owner": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "edited": false, "score": 0, "creation_date": 1506799071, "post_id": 46505908, "comment_id": 79966814, "body": "How to get year field from date picker? Could you please add some code"}, {"owner": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "edited": false, "score": 0, "creation_date": 1506851314, "post_id": 46505908, "comment_id": 79976278, "body": "I am using datepicker dialog"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "edited": false, "score": 0, "creation_date": 1506852134, "post_id": 46505908, "comment_id": 79976499, "body": "@VinayakB then do it by second way. Don\u2019t set year"}, {"owner": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "edited": false, "score": 0, "creation_date": 1506852317, "post_id": 46505908, "comment_id": 79976558, "body": "I don&#39;t want to  show year on the dialog. only month and day in the dialog"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "edited": false, "score": 0, "creation_date": 1506852561, "post_id": 46505908, "comment_id": 79976640, "body": "@VinayakB I added code end of the answer modify it according to your need and use it with your code it will do it"}, {"owner": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "edited": false, "score": 0, "creation_date": 1506920334, "post_id": 46505908, "comment_id": 79993266, "body": "This answer works on kitkat devices but not on Api 24 devices. I am getting nullpointer exception on findviewbyid"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "edited": false, "score": 0, "creation_date": 1506920762, "post_id": 46505908, "comment_id": 79993356, "body": "I tested with API 26 it working fine given screenshot is from Emulator running on Android 8.0"}, {"owner": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "edited": false, "score": 0, "creation_date": 1506921127, "post_id": 46505908, "comment_id": 79993449, "body": "I am using real devices. and I am getting this java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.view.View.setVisibility(int)&#39; on a null object reference.. Any idea how can I solve this. Because this solution working on other devices below Api 21"}, {"owner": {"reputation": 353, "user_id": 8403554, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/hxZtj.jpg?s=128&g=1", "display_name": "Nuwan Withanage", "link": "https://stackoverflow.com/users/8403554/nuwan-withanage"}, "edited": false, "score": 0, "creation_date": 1608577190, "post_id": 46505908, "comment_id": 115621155, "body": "I used below to hide day and month // Hide Day Selector             val day = dialog.findViewById&lt;View&gt;(Resources.getSystem().getIdentifie&zwnj;&#8203;r(&quot;android:id/day&quot;, null, null))             if (day != null) {                 day.visibility = View.GONE             }              // Hide month Selector             val month = dialog.findViewById&lt;View&gt;(Resources.getSystem().getIdentifie&zwnj;&#8203;r(&quot;android:id/month&quot;&zwnj;&#8203;, null, null))             if (month != null) {                 month.visibility = View.GONE             } but calender is displaying at the right side of the dialog"}], "tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": true, "score": 1, "last_activity_date": 1506966862, "last_edit_date": 1506966862, "creation_date": 1506796720, "answer_id": 46505908, "question_id": 46505429, "link": "https://stackoverflow.com/questions/46505429/how-to-show-only-day-and-month-in-date-picker-dialog-in-kotlinandroid/46505908#46505908", "title": "How to show only day and month in date picker dialog in Kotlin(Android)?", "body": "<p>I tested with different code and this code works fine. If you use datepicker theme as Theme_Holo_Dialog then it working fine. Working code as per below.</p>\n\n<p><strong>Note: It's not working if you set theme Theme_Material_Dialog</strong></p>\n\n<pre><code>package com.wave18.datepickedialogdemo\n\nimport android.annotation.SuppressLint\nimport android.app.DatePickerDialog\nimport android.content.res.Resources\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.view.View\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.util.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Date Picker Dialog\n        val dialog = datePickerDialog()\n\n        // Button for Showing Date Picker Dialog\n        button_show_date_picker.setOnClickListener {\n\n            // Show Date Picker\n            dialog.show()\n\n            // Hide Year Selector\n            val year = dialog.findViewById&lt;View&gt;(Resources.getSystem().getIdentifier(\"android:id/year\", null, null))\n            if (year != null) {\n                year.visibility = View.GONE\n            }\n\n\n        }\n\n\n    }\n\n    // Function for Showing Date Picker\n    @SuppressLint(\"SetTextI18n\")\n    fun datePickerDialog(): DatePickerDialog {\n        val c = Calendar.getInstance()\n        val year = c.get(Calendar.YEAR)\n        val month = c.get(Calendar.MONTH)\n        val day = c.get(Calendar.DAY_OF_MONTH)\n\n        // Date Picker Dialog\n        val datePickerDialog = DatePickerDialog(this@MainActivity, android.R.style.Theme_Holo_Dialog, DatePickerDialog.OnDateSetListener { view, year, monthOfYear, dayOfMonth -&gt;\n            // Display Selected date in textbox\n            date.text = \"$dayOfMonth $monthOfYear, $year\"\n        }, year, month, day)\n        // Show Date Picker\n\n        return datePickerDialog\n\n\n    }\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/o6eiC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o6eiC.png\" alt=\"Date Picker Dialog without year selector\"></a></p>\n"}], "owner": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2709, "favorite_count": 0, "accepted_answer_id": 46505908, "answer_count": 1, "score": 0, "last_activity_date": 1512730392, "creation_date": 1506793492, "last_edit_date": 1512730392, "question_id": 46505429, "link": "https://stackoverflow.com/questions/46505429/how-to-show-only-day-and-month-in-date-picker-dialog-in-kotlinandroid", "title": "How to show only day and month in date picker dialog in Kotlin(Android)?", "body": "<p>I have a datepicker dialog. I only want to show day and month. Year picker dialog must hidden. I already tries other answers like <a href=\"https://stackoverflow.com/questions/21838437/android-date-selector-with-only-day-and-month\">this</a> . Nothing works for me. It should also support for Kitkat to Nougat devices. My datepicker code follows. </p>\n\n<pre><code>     fun setDatePickerDialog() {\n        mDobDialog = DatePickerDialog(this@SignUpActivity, R.style.VDDatePickerDialogTheme, DatePickerDialog.OnDateSetListener { view, year, monthOfYear, dayOfMonth -&gt;\n            val newDate = Calendar.getInstance()\n            newDate.set(year, monthOfYear, dayOfMonth)\n            //dob_textview.setText(\"($dayOfMonth)  ($monthOfYear)  ($year)\")\n            val dateFormat = SimpleDateFormat(VDAppConstants.DOB_DISPLAY_FORMAT)\n            dob_textview?.setText(dateFormat.format(newDate.time))\n\n        }, mNewCalendar.get(Calendar.YEAR), mNewCalendar.get(Calendar.MONTH), mNewCalendar.get(Calendar.DAY_OF_MONTH))\n\n        mNewCalendar.set(1978,\n                mNewCalendar.get(Calendar.MONTH),\n                mNewCalendar.get(Calendar.DAY_OF_MONTH))\n        mDobDialog?.datePicker?.maxDate = mNewCalendar.timeInMillis\n    }\n</code></pre>\n\n<p>The following code only works on Kitkat devices but not working on Nougat Devices. </p>\n\n<pre><code> val mDobDialog = DatePickerDialog(this@MainActivity, android.R.style.Theme_Holo_Dialog, DatePickerDialog.OnDateSetListener { view, year, monthOfYear, dayOfMonth -&gt;\n        // Display Selected date in textbox\n        //date.setText(\"\" + dayOfMonth + \" \" + monthOfYear + \", \" + year)\n    }, year, month, day)\n    mDobDialog.show()\n\n\n    // Hide Year Selector in Date Picker\n    mDobDialog.findViewById(Resources.getSystem().getIdentifier(\"year\", \"id\", \"android\")).visibility = View.GONE\n</code></pre>\n"}, {"tags": ["javascript", "css", "kotlin", "dsl", "kotlinx-html"], "answers": [{"tags": [], "owner": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "is_accepted": false, "score": 2, "last_activity_date": 1520794916, "last_edit_date": 1520794916, "creation_date": 1506799256, "answer_id": 46506265, "question_id": 46504355, "link": "https://stackoverflow.com/questions/46504355/create-css-class-with-kotlinx-html-dsl/46506265#46506265", "title": "Create CSS class with kotlinx.html DSL", "body": "<p>kotinx-html is a DSL for HTML only. So CSS needs to be built separately. What you need is kotlinx.css but it was quite unpopular so it was discontinued. For sure there are few community libraries targeted to that purpose but not sure if they are still alive.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1543831632, "last_edit_date": 1543831632, "creation_date": 1506808400, "answer_id": 46507364, "question_id": 46504355, "link": "https://stackoverflow.com/questions/46504355/create-css-class-with-kotlinx-html-dsl/46507364#46507364", "title": "Create CSS class with kotlinx.html DSL", "body": "<p>You cannot use the HTML DSL for creating CSS. There are two possible ways for using css in your HTML.</p>\n\n<p>1) You create CSS files independently and then use the <code>classes</code> as you proposed.\n2) Inline the CSS if this is feasible for your app.</p>\n\n<pre><code>h1(\"h1Class\") {\n    style = \"background-color:red\"\n    +\"My header1\"\n}\n</code></pre>\n\n<p>This results in: </p>\n\n<pre><code>&lt;h1 class=\"h1Class\" style=\"background-color:red\"&gt;My header1&lt;/h1&gt;\n</code></pre>\n"}], "owner": {"reputation": 5619, "user_id": 1723695, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/dx9jj.jpg?s=128&g=1", "display_name": "Kirill", "link": "https://stackoverflow.com/users/1723695/kirill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1527, "favorite_count": 0, "accepted_answer_id": 46507364, "answer_count": 2, "score": 1, "last_activity_date": 1543831632, "creation_date": 1506786387, "question_id": 46504355, "link": "https://stackoverflow.com/questions/46504355/create-css-class-with-kotlinx-html-dsl", "title": "Create CSS class with kotlinx.html DSL", "body": "<p>I'm using <a href=\"https://kotlinlang.org/docs/tutorials/javascript/kotlin-to-javascript/kotlin-to-javascript.html\" rel=\"nofollow noreferrer\">Kotlin to Javascript</a> plugin and <a href=\"https://github.com/kotlin/kotlinx.html/wiki/Getting-started\" rel=\"nofollow noreferrer\">kotlinx.html</a> library to build sample app:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    window.onload = {\n        document.body!!.append.div {\n            a(\"#\", classes = \"red\") {\n                +\"Link\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And I want to paint <code>a</code> link with \"red\" CSS class to red color.<br/>Now I'm using <code>unsage</code> + <code>raw</code> to do it:</p>\n\n<pre><code>document.head!!.append.style {\n    unsafe {\n        raw(\".red { background: #f00; }\")\n    }\n}\n</code></pre>\n\n<p>How to create CSS class with kotlinx.html DSL? I didn't find any docs related to css DSL.</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "swiperefreshlayout", "rx-binding"], "answers": [{"tags": [], "owner": {"reputation": 3527, "user_id": 7057156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWGOY.jpg?s=128&g=1", "display_name": "Hans Wurst", "link": "https://stackoverflow.com/users/7057156/hans-wurst"}, "is_accepted": false, "score": 0, "last_activity_date": 1507023792, "creation_date": 1507023792, "answer_id": 46541597, "question_id": 46501156, "link": "https://stackoverflow.com/questions/46501156/what-is-the-idiomatic-way-of-refreshing-using-rxbinding-on-a-swiperefreshlayout/46541597#46541597", "title": "What is the idiomatic way of refreshing using RxBinding on a SwipeRefreshLayout", "body": "<p>You are looking for something like this:</p>\n\n<pre><code>SwipeRefreshLayout viewById = findViewById(R.id.activity_main_swipe_refresh_layout);\n\nObservable&lt;State&gt; swipe = RxSwipeRefreshLayout.refreshes(viewById)\n        .map(o -&gt; new IsLoading());\n\nObservable&lt;State&gt; stateObservable = Observable.&lt;State&gt;just(new IsLoading())\n        .mergeWith(swipe)\n        .switchMap(state -&gt; Observable.concat(\n                Observable.just(new IsLoading()),\n                Observable.&lt;State&gt;timer(500, TimeUnit.MILLISECONDS)\n                        .map(aLong -&gt; new LoadingResult(Collections.emptyList())\n                        )\n                )\n        ).distinct();\n\nstateObservable\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(\n                state -&gt; {\n                    if (state instanceof IsLoading) {\n                        Log.d(\"state\", \"isLoading\");\n                    } else if (state instanceof LoadingResult) {\n                        Log.d(\"state\", \"loadingResult\");\n                        viewById.setRefreshing(false);\n                    }\n                });\n</code></pre>\n\n<p>Events</p>\n\n<pre><code>interface State { }\n\nclass IsLoading implements State { }\n\nclass LoadingResult implements State {\n    private final List&lt;String&gt; result;\n    public LoadingResult(List&lt;String&gt; result) {\n        this.result = result;\n    }\n}\n</code></pre>\n\n<p>SwitchMap is like FlatMap but it will switch over to the new observable and discard incomming events from previouse observable.</p>\n"}], "owner": {"reputation": 1156, "user_id": 1649917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/98f36daa955c06085670a76a55a246a6?s=128&d=identicon&r=PG&f=1", "display_name": "nmu", "link": "https://stackoverflow.com/users/1649917/nmu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 535, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1551801372, "creation_date": 1506761239, "last_edit_date": 1551801372, "question_id": 46501156, "link": "https://stackoverflow.com/questions/46501156/what-is-the-idiomatic-way-of-refreshing-using-rxbinding-on-a-swiperefreshlayout", "title": "What is the idiomatic way of refreshing using RxBinding on a SwipeRefreshLayout", "body": "<p>I'm struggling to understand how to properly use <code>RxBinding</code>, if I want to call a network request when a user swipes down on a <code>SwipeRefreshLayout</code>, I would expect to say something like</p>\n\n<pre><code>    RxSwipeRefreshLayout.refreshes(swipeContainer)\n            .flatMap { networkRequest() }\n            .subscribeBy(\n                    onNext = { list: List&lt;Data&gt; -&gt; Timber.d(data) },\n                    onError = { showErrorSnackbar(it) },\n                    onComplete = { Timber.d(\"On Complete\") })\n</code></pre>\n\n<p>But this doesn't work for me, because I have that wrapped in a function called <code>setupSwipeRefresh()</code> which I call in <code>onStart</code>, so as soon as <code>onStart</code> is called the network request is made because that's when the layout is subscribed to. </p>\n\n<p>Now I feel unsure about what to do. I could just put the whole thing in <code>refreshListener</code> but that kind of defeats the purpose of <code>RxBinding</code>. </p>\n\n<p>Or I could execute the <code>networkRequest</code> in the <code>onNext</code> of the <code>swipeContainer</code>. But then it would look something like</p>\n\n<pre><code>       RxSwipeRefreshLayout.refreshes(swipeContainer)\n            .subscribeBy(\n                    onNext = {\n                        networkRequest()\n                                .subscribeBy(\n                                        onNext = { list: List&lt;Data&gt; -&gt;\n                                            Timber.d(data)\n                                        })\n                    },\n                    onError = { showErrorSnackbar(it) },\n                    onComplete = { Timber.d(\"On Complete\") })\n</code></pre>\n\n<p>But calling subscribe twice just seems like an Anti-Pattern, \nSo yeah, since <code>SwipeRefreshLayout</code> is in the <code>RxBinding</code> library, there must be an idiomatic way of doing this, because it seems like the most common use case. </p>\n"}, {"tags": ["android", "listview", "kotlin"], "comments": [{"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1506760686, "post_id": 46501032, "comment_id": 79956305, "body": "Can we see adapter code?"}, {"owner": {"reputation": 21, "user_id": 5758573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/530bd0f0b22e903367945c92f22ceb9e?s=128&d=identicon&r=PG&f=1", "display_name": "L\u1ed9c Nguy\u1ec5n Ph\u01b0\u1edbc V\u0129nh", "link": "https://stackoverflow.com/users/5758573/l%e1%bb%99c-nguy%e1%bb%85n-ph%c6%b0%e1%bb%9bc-v%c4%a9nh"}, "reply_to_user": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1506761874, "post_id": 46501032, "comment_id": 79956603, "body": "I have update my adapter code, please review. Thanks !"}], "answers": [{"tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1512142151, "last_edit_date": 1512142151, "creation_date": 1506762221, "answer_id": 46501277, "question_id": 46501032, "link": "https://stackoverflow.com/questions/46501032/how-to-setonitemclicklistener-for-list-view-with-custom-adapter-by-kotlin/46501277#46501277", "title": "How to setOnItemClickListener for List View with custom adapter by Kotlin", "body": "<p>The proper way in Kotlin is by creating a callback. Then you create a click listener in your Adapter and forward the result to your callback.</p>\n\n<pre><code>class CustomAdapter(\n      internal var context: Context, \n      resource: Int, \n      internal var listNote: ArrayList&lt;Note&gt;,\n      val callback: (Note) -&gt; Unit) : ArrayAdapter&lt;Note&gt;(context, resource, listNote) {\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n        // .. do your bindings whatever \n        convertView.yourRootLayoutElement.setOnClickListener{ \n           if (callback != null) callback(listNote[position])\n        }\n        return convertView\n    }\n}\n</code></pre>\n\n<p>In your View where you create your adapter</p>\n\n<pre><code>CustomAdapter(...., { info { \"Clicked $it\" } })\n</code></pre>\n\n<p>I've not tested it since I don't use ListView. I recommend you to use RecyclerView. ListView is <strong>deprecated</strong> and not recommended for several reasons. Read some of the reasons <a href=\"https://stackoverflow.com/a/29428298/9018386\">here</a>.</p>\n\n<p>Edit: There is absolutely <strong><em>no reason</em></strong> for using a ListView over a RecyclerView. Even if it works, you should not use it. Learn the RecyclerView since ListView should <strong>no longer</strong> used.</p>\n"}], "owner": {"reputation": 21, "user_id": 5758573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/530bd0f0b22e903367945c92f22ceb9e?s=128&d=identicon&r=PG&f=1", "display_name": "L\u1ed9c Nguy\u1ec5n Ph\u01b0\u1edbc V\u0129nh", "link": "https://stackoverflow.com/users/5758573/l%e1%bb%99c-nguy%e1%bb%85n-ph%c6%b0%e1%bb%9bc-v%c4%a9nh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1844, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1512142151, "creation_date": 1506760391, "last_edit_date": 1506761837, "question_id": 46501032, "link": "https://stackoverflow.com/questions/46501032/how-to-setonitemclicklistener-for-list-view-with-custom-adapter-by-kotlin", "title": "How to setOnItemClickListener for List View with custom adapter by Kotlin", "body": "<p>I use custom adapter for List View on my android app . I do not know how can set the listener for the item click. I use Kotlin for my app.</p>\n\n<p><strong>This is my adapter layout.</strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"&gt;\r\n    &lt;RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"&gt;\r\n    &lt;CheckBox\r\n        android:id=\"@+id/cbx\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"\" /&gt;\r\n    &lt;TextView\r\n        android:id=\"@+id/txtNameNote\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"TextView\"\r\n        android:layout_toRightOf=\"@+id/cbx\"\r\n        /&gt;\r\n    &lt;TextView\r\n        android:id=\"@+id/txtPercent\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"match_parent\"\r\n        android:text=\"TextView\"\r\n        android:layout_toRightOf=\"@+id/cbx\"\r\n        android:layout_below=\"@+id/txtNameNote\"\r\n        /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/LinearLayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n\n<strong>This is my adapter code</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class CustomAdapter(internal var context: Context, resource: Int, internal var listNote: ArrayList&lt;Note&gt;) : ArrayAdapter&lt;Note&gt;(context, resource, listNote) {\r\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\r\n        var convertView = convertView\r\n        // TODO Auto-generated method stub\r\n        val inflater = (context as Activity).layoutInflater\r\n        convertView = inflater.inflate(R.layout.rowlistitem, parent, false)\r\n        val name = convertView!!.findViewById&lt;View&gt;(R.id.txtNameNote) as TextView\r\n        val percent = convertView.findViewById&lt;View&gt;(R.id.txtPercent) as TextView\r\n        val cb = convertView.findViewById&lt;View&gt;(R.id.cbx) as CheckBox\r\n        name.text = listNote[position].name\r\n        percent.text = \"Percent: \" + listNote[position].percent + \"%\"\r\n\r\n        if (listNote[position].status == NoteStatus.Active.value)\r\n            cb.isChecked = false\r\n         else{\r\n            name.paintFlags = (name.paintFlags or Paint.STRIKE_THRU_TEXT_FLAG)\r\n            cb.isChecked = true\r\n        }\r\n       }\r\n      }\r\n        return convertView\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Some one can help me out ?</p>\n"}, {"tags": ["android", "mockito", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1506781029, "creation_date": 1506781029, "answer_id": 46503553, "question_id": 46500905, "link": "https://stackoverflow.com/questions/46500905/using-mockito-how-do-i-spy-kotlin-class-with-val-interface-field-declaration/46503553#46503553", "title": "Using Mockito, How do I spy Kotlin class with val interface field declaration?", "body": "<blockquote>\n  <p>When spying classes with Mockito, the classes need to have no-arg constructors </p>\n</blockquote>\n\n<p>No, that's only if you don't provide the instance yourself. So provide the instance, e.g.</p>\n\n<pre><code>@Spy val client = SomeApiClient(Mockito.mock(SomeApiService::class.java))\n</code></pre>\n"}], "owner": {"reputation": 807, "user_id": 5449688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ba8f158fc222ccb7a0fca0981059c3f?s=128&d=identicon&r=PG", "display_name": "shoheikawano", "link": "https://stackoverflow.com/users/5449688/shoheikawano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3896, "favorite_count": 0, "accepted_answer_id": 46503553, "answer_count": 1, "score": -1, "last_activity_date": 1506781029, "creation_date": 1506759391, "question_id": 46500905, "link": "https://stackoverflow.com/questions/46500905/using-mockito-how-do-i-spy-kotlin-class-with-val-interface-field-declaration", "title": "Using Mockito, How do I spy Kotlin class with val interface field declaration?", "body": "<p>I was trying to test retrofit's api client class in Kotlin using Mockito in Android, which looks like this:</p>\n\n<pre><code>class SomeApiClient : SomeApi {\n\n   private val service: SomeApiService\n\n   constructor(service: SomeApiService) {\n     this.service = service\n   }\n}\n</code></pre>\n\n<p>it implements <code>SomeApi</code> interface and contains one retrofit service interface as constructor parameter.</p>\n\n<p>When <code>spy</code>ing classes with Mockito, the classes need to have no-arg constructors otherwise your tests will fail with <code>MockitoException</code>:</p>\n\n<blockquote>\n  <p>org.mockito.exceptions.base.MockitoException: Unable to initialize @Spy annotated field 'SomeClass'.\n  Please ensure that the type 'SomeClass' has a no-arg constructor.</p>\n</blockquote>\n\n<p>If classes have constructors with all parameters containing default values, then Kotlin generates parameterless constructors for it. However, what if the class receives <code>interface</code> as constructor parameter (and has corresponding field with <code>val</code> declaration), then how can we apply default value to it or declare empty constructor?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "hibernate", "kotlin"], "comments": [{"owner": {"reputation": 77900, "user_id": 238134, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d80ce5271185447eb06b360959acd71f?s=128&d=identicon&r=PG", "display_name": "deamon", "link": "https://stackoverflow.com/users/238134/deamon"}, "edited": false, "score": 0, "creation_date": 1585330454, "post_id": 46500195, "comment_id": 107731120, "body": "Maybe this is related to this <a href=\"https://hibernate.atlassian.net/browse/HHH-12985\" rel=\"nofollow noreferrer\">bug</a>."}], "answers": [{"comments": [{"owner": {"reputation": 154, "user_id": 3504373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c147e27c12886ec8185cf78bf9ccea?s=128&d=identicon&r=PG&f=1", "display_name": "krzychek", "link": "https://stackoverflow.com/users/3504373/krzychek"}, "edited": false, "score": 0, "creation_date": 1537284692, "post_id": 46504917, "comment_id": 91725010, "body": "No, kotlin-jpa also handles <code>val</code> properties to allow hibernate use such classes without the need for setter and it works flawlessly on regular <code>@Entity</code> classes"}, {"owner": {"reputation": 2107, "user_id": 3523298, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8582b755b86448fe143e0d0f26a4f9df?s=128&d=identicon&r=PG&f=1", "display_name": "Zufar Muhamadeev", "link": "https://stackoverflow.com/users/3523298/zufar-muhamadeev"}, "reply_to_user": {"reputation": 154, "user_id": 3504373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c147e27c12886ec8185cf78bf9ccea?s=128&d=identicon&r=PG&f=1", "display_name": "krzychek", "link": "https://stackoverflow.com/users/3504373/krzychek"}, "edited": false, "score": 0, "creation_date": 1580377576, "post_id": 46504917, "comment_id": 106080151, "body": "@krzychek I had same error without field access. Was solved by adding field access. Can you share entity snippet and gradle/maven config for you project?"}, {"owner": {"reputation": 154, "user_id": 3504373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c147e27c12886ec8185cf78bf9ccea?s=128&d=identicon&r=PG&f=1", "display_name": "krzychek", "link": "https://stackoverflow.com/users/3504373/krzychek"}, "edited": false, "score": 0, "creation_date": 1580472175, "post_id": 46504917, "comment_id": 106117542, "body": "I don&#39;t have access to any projet with kotlin + jpa configured at the moment. Do you have kotlin-jpa plugin applied?"}, {"owner": {"reputation": 77900, "user_id": 238134, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d80ce5271185447eb06b360959acd71f?s=128&d=identicon&r=PG", "display_name": "deamon", "link": "https://stackoverflow.com/users/238134/deamon"}, "edited": false, "score": 0, "creation_date": 1585846541, "post_id": 46504917, "comment_id": 107914059, "body": "<code>@Access(AccessType.PROPERTY)</code> seems to be required for embeddables with <code>val</code> (and not <code>var</code>) fields, even if the Kotlin JPA plug-in is in use. So, this suggested solution fixes the issue."}], "tags": [], "owner": {"reputation": 1879, "user_id": 1130975, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/3682a919cff609aa82c72a2d3549eccf?s=128&d=identicon&r=PG&f=1", "display_name": "kboom", "link": "https://stackoverflow.com/users/1130975/kboom"}, "is_accepted": false, "score": 1, "last_activity_date": 1506790126, "creation_date": 1506790126, "answer_id": 46504917, "question_id": 46500195, "link": "https://stackoverflow.com/questions/46500195/embeddable-class-with-val-in-kotlin/46504917#46504917", "title": "@Embeddable class with val in Kotlin", "body": "<p>Actually this proves to be doable and not related to Kotlin. The only way it is related is that you need to generate default constructor which what that <em>kotlin-jpa</em> plugin is used for. You need to use</p>\n\n<pre><code>@Access(AccessType.FIELD)\n</code></pre>\n\n<p>while </p>\n\n<pre><code>@Access(AccessType.PROPERTY)\n</code></pre>\n\n<p>is the default. Then it looks for setters rather than using field injections.</p>\n"}, {"tags": [], "owner": {"reputation": 3044, "user_id": 926568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mOOGR.png?s=128&g=1", "display_name": "deviant", "link": "https://stackoverflow.com/users/926568/deviant"}, "is_accepted": false, "score": 0, "last_activity_date": 1544545169, "creation_date": 1544545169, "answer_id": 53728252, "question_id": 46500195, "link": "https://stackoverflow.com/questions/46500195/embeddable-class-with-val-in-kotlin/53728252#53728252", "title": "@Embeddable class with val in Kotlin", "body": "<p>I guess this is Hibernate restriction. It clearly says <code>Could not locate setter method for property</code>. So we should provide setters for him. And the only way is to change <code>val</code> to <code>var</code>.\nThe <code>no-arg</code> plugin can't help here even if we add <code>@Embeddable</code> annotation to the plugin configuration:\n<code>\nnoArg {\n    invokeInitializers = true\n    annotation(\"javax.persistence.Embeddable\")\n}\n</code></p>\n"}], "owner": {"reputation": 1879, "user_id": 1130975, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/3682a919cff609aa82c72a2d3549eccf?s=128&d=identicon&r=PG&f=1", "display_name": "kboom", "link": "https://stackoverflow.com/users/1130975/kboom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1474, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1544545169, "creation_date": 1506752971, "question_id": 46500195, "link": "https://stackoverflow.com/questions/46500195/embeddable-class-with-val-in-kotlin", "title": "@Embeddable class with val in Kotlin", "body": "<p>I'm working on Gradle-Kotlin-Hibernate project. I would like to keep some of my classes immutable which in Kotlin is especially easy. This works just fine for <em>@Entity</em></p>\n\n<pre><code>@Entity(name = \"SOMETHING\")\nclass MeetingKeychain(\n        val immutableProp: String\n) {\n\n// ID and others\n\n}\n</code></pre>\n\n<p>thanks to the usage of <em>kotlin-jpa</em> plugin. But the same plugin does not work for <em>@Embeddable</em>.</p>\n\n<pre><code>@Embeddable\nclass MeetingKeychain(\n        val immutableProp: String\n) {\n\n// ID and others\n\n}\n</code></pre>\n\n<p>The following exception is thrown:</p>\n\n<pre><code>Caused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.component.PojoComponentTuplizer]\n    at org.hibernate.tuple.component.ComponentTuplizerFactory.constructTuplizer(ComponentTuplizerFactory.java:98)\n    at org.hibernate.tuple.component.ComponentTuplizerFactory.constructDefaultTuplizer(ComponentTuplizerFactory.java:119)\n    at org.hibernate.tuple.component.ComponentMetamodel.&lt;init&gt;(ComponentMetamodel.java:64)\n    at org.hibernate.mapping.Component.getType(Component.java:169)\n    at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:398)\n    at org.hibernate.mapping.Property.isValid(Property.java:225)\n    at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:595)\n    at org.hibernate.mapping.RootClass.validate(RootClass.java:265)\n    at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:329)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:443)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879)\n    ... 46 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.hibernate.tuple.component.ComponentTuplizerFactory.constructTuplizer(ComponentTuplizerFactory.java:95)\n    ... 56 more\nCaused by: org.hibernate.PropertyNotFoundException: Could not locate setter method for property [com.scherule.calendaring.domain.entities.ParticipantId#id]\n    at org.hibernate.internal.util.ReflectHelper.findSetterMethod(ReflectHelper.java:540)\n    at org.hibernate.property.access.internal.PropertyAccessBasicImpl.&lt;init&gt;(PropertyAccessBasicImpl.java:44)\n    at org.hibernate.property.access.internal.PropertyAccessStrategyBasicImpl.buildPropertyAccess(PropertyAccessStrategyBasicImpl.java:27)\n    at org.hibernate.mapping.Property.getGetter(Property.java:299)\n    at org.hibernate.tuple.component.PojoComponentTuplizer.buildGetter(PojoComponentTuplizer.java:143)\n    at org.hibernate.tuple.component.AbstractComponentTuplizer.&lt;init&gt;(AbstractComponentTuplizer.java:46)\n    at org.hibernate.tuple.component.PojoComponentTuplizer.&lt;init&gt;(PojoComponentTuplizer.java:42)\n    ... 61 more\n</code></pre>\n\n<p>My question is that is there any way around this? I would like my <em>@Embeddable</em> class to be immutable.</p>\n"}, {"tags": ["kotlin", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1509991019, "post_id": 47120544, "comment_id": 81235915, "body": "It is given <code>Status 302</code> and keep reloading the <code>\\login</code> page regardless the password entered :("}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1509996143, "post_id": 47120544, "comment_id": 81238468, "body": "It worked fine when I used <code>formAuthentication(&quot;user&quot;, &quot;pass&quot;, ..</code> thanks a lot."}], "tags": [], "owner": {"reputation": 313, "user_id": 188291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2e74cfcc8ac58504f8e47fad5251690?s=128&d=identicon&r=PG", "display_name": "tweitzel", "link": "https://stackoverflow.com/users/188291/tweitzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1509996119, "last_edit_date": 1509996119, "creation_date": 1509878063, "answer_id": 47120544, "question_id": 46500030, "link": "https://stackoverflow.com/questions/46500030/form-authentication-in-ktor/47120544#47120544", "title": "Form Authentication in Ktor", "body": "<p>You're not simply given a blank page, you get a HTTP status code of <code>401 (UNAUTHORIZED)</code>. That's because <code>formAuthentication</code> has four parameters, three of them with defaults. You only implemented the last one (<code>validate</code>, without default):</p>\n\n<pre><code>userParamName: String = \"user\",\npasswordParamName: String = \"password\",\nchallenge: FormAuthChallenge = FormAuthChallenge.Unauthorized,\nvalidate: (UserPasswordCredential) -&gt; Principal?\n</code></pre>\n\n<p>Whenever you reach the <code>/login</code> route without the right credentials already in place, you get the default for <code>challenge</code>, which is <code>FormAuthChallenge.Unauthorized</code>, which is a <code>401</code> response.</p>\n\n<p>Instead of using the default for <code>challenge</code>, you could use a <code>FormAuthChallenge.Redirect</code>. A short example that requires two routes:</p>\n\n<pre><code>get(\"/login\") {\n    val html = \"\"\"\n            &lt;form action=\"/authenticate\" enctype=\"...\"\n            REST OF YOUR LOGIN FORM\n            &lt;/form&gt;\n            \"\"\"\n    call.respondText(html, ContentType.Text.Html)\n}\n\nroute(\"/authenticate\") {\n    authentication {\n        formAuthentication(challenge = FormAuthChallenge.Redirect({ _, _ -&gt; \"/login\" })) {\n            credential: UserPasswordCredential -&gt;\n            when {\n                credential.password == \"secret\" -&gt; UserIdPrincipal(credential.name)\n                else -&gt; null\n            }\n        }\n    }\n\n    handle {\n        val principal = call.authentication.principal&lt;UserIdPrincipal&gt;()\n        val html = \"Hello, ${principal?.name}\"\n        call.respondText(html, ContentType.Text.Html)\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>In case the above did not work well, define both the <code>userid-parameter</code> and <code>password-parameter</code> clearly as they appear in the <code>form</code> that do the <code>POST</code>, as below:</p>\n\n<pre><code>        authentication {\n            formAuthentication(\"user\", \"pass\",\n                    challenge = FormAuthChallenge.Redirect({ _, _ -&gt; \"/login\" })){\n                credential: UserPasswordCredential -&gt;\n                when {\n                credential.password == \"secret\" -&gt; UserIdPrincipal(credential.name)\n                else -&gt; null\n                }\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2807, "favorite_count": 0, "accepted_answer_id": 47120544, "answer_count": 1, "score": 3, "last_activity_date": 1509996119, "creation_date": 1506751181, "question_id": 46500030, "link": "https://stackoverflow.com/questions/46500030/form-authentication-in-ktor", "title": "Form Authentication in Ktor", "body": "<p>I'm new to <code>Kotlin</code> and <code>Ktor</code> trying to see the authentication part, so I got the below code.</p>\n\n<p>Routes \"/\" and \"/bye\" are working fine, but route \"login\" given blank page!</p>\n\n<pre><code>package blog\n\nimport kotlinx.html.*\nimport kotlinx.html.stream.*    // for createHTML\nimport org.jetbrains.ktor.application.*\nimport org.jetbrains.ktor.auth.*\nimport org.jetbrains.ktor.features.*\nimport org.jetbrains.ktor.http.*\nimport org.jetbrains.ktor.response.*\nimport org.jetbrains.ktor.routing.*\n\nimport org.jetbrains.ktor.request.*   // for request.uri\n\nimport org.jetbrains.ktor.html.*\nimport org.jetbrains.ktor.pipeline.*\n\nimport org.jetbrains.ktor.host.*   // for embededServer\nimport org.jetbrains.ktor.netty.*  // for Netty\n\nfun main(args: Array&lt;String&gt;) {\n    embeddedServer(Netty, 8080, watchPaths = listOf(\"BlogAppKt\"), module = Application::module).start()\n}\n\nfun Application.module() {\n    install(DefaultHeaders)\n    install(CallLogging)\n\n    intercept(ApplicationCallPipeline.Call) { \n        if (call.request.uri == \"/hi\")\n            call.respondText(\"Test String\")\n    }\n\n    install(Routing) {\n        get(\"/\") {\n            call.respondText(\"\"\"Hello, world!&lt;br&gt;&lt;a href=\"/bye\"&gt;Say bye?&lt;/a&gt;\"\"\", ContentType.Text.Html)\n        }\n        get(\"/bye\") {\n            call.respondText(\"\"\"Good bye! &lt;br&gt;&lt;a href=\"/login\"&gt;Login?&lt;/a&gt; \"\"\", ContentType.Text.Html)\n        }\n        route(\"/login\") {\n            authentication {\n                formAuthentication { up: UserPasswordCredential -&gt;\n                    when {\n                        up.password == \"ppp\" -&gt; UserIdPrincipal(up.name)\n                        else -&gt; null\n                    }\n                }\n            }\n\n            handle {\n                val principal = call.authentication.principal&lt;UserIdPrincipal&gt;()\n                if (principal != null) {\n                    call.respondText(\"Hello, ${principal.name}\")\n                } else {\n                        val html = createHTML().html {\n                        body {\n                            form(action = \"/login\", encType = FormEncType.applicationXWwwFormUrlEncoded, method = FormMethod.post) {\n                                p {\n                                    +\"user:\"\n                                    textInput(name = \"user\") {\n                                        value = principal?.name ?: \"\"\n                                    }\n                                }\n\n                                p {\n                                    +\"password:\"\n                                    passwordInput(name = \"pass\")\n                                }\n\n                                p {\n                                    submitInput() { value = \"Login\" }\n                                }\n                            }\n                        }\n                    }\n                    call.respondText(html, ContentType.Text.Html)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>When I disabled the authentication part below, the route '/login' displayed the required form, which means the error is most likely in this part or in the way of calling it? I guess.</p>\n\n<pre><code>            authentication {\n                formAuthentication { up: UserPasswordCredential -&gt;\n                    when {\n                        up.password == \"ppp\" -&gt; UserIdPrincipal(up.name)\n                        else -&gt; null\n                    }\n                }\n            }\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506751469, "post_id": 46499971, "comment_id": 79954551, "body": "Thanks! Could you write a full code to set  a value of a shared preferences?    I can&#39;t understand why <code>activity.zipCode=&quot;MyNewZIP&quot; </code> will <code>invoke setValue(activity, &quot;zipCode&quot;, ...)</code>"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506754746, "post_id": 46499971, "comment_id": 79955031, "body": "Because that&#39;s how delegated properties are defined to work. Have you read the link?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506754885, "post_id": 46499971, "comment_id": 79955048, "body": "You can&#39;t use <code>&quot;MyNewZIP&quot;</code> because the type is <code>Long</code> (which doesn&#39;t really make sense for zip code)."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506767247, "post_id": 46499971, "comment_id": 79957833, "body": "I&#39;ve got the second argument of <code>setValue</code> wrong, edited the answer."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 4, "last_activity_date": 1506767538, "last_edit_date": 1506767538, "creation_date": 1506750586, "answer_id": 46499971, "question_id": 46499253, "link": "https://stackoverflow.com/questions/46499253/how-to-set-a-value-preference-in-kotlin/46499971#46499971", "title": "How to set a value preference in Kotlin?", "body": "<p>That's what <code>operator fun setValue</code> is for: you just write</p>\n\n<pre><code>activity.zipCode = 1L\n</code></pre>\n\n<p>(where <code>activity</code> is a <code>SettingsActivity</code>) or </p>\n\n<pre><code>zipCode = 1L\n</code></pre>\n\n<p>(inside <code>SettingsActivity</code> or a class extending it) and it'll call <code>setValue(activity, activity::zipCode, 1L)</code> which calls <code>putPreference(\"zipCode\", 1L)</code>. See <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/delegated-properties.html</a> for more.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1184, "favorite_count": 0, "accepted_answer_id": 46499971, "answer_count": 1, "score": 0, "last_activity_date": 1506767538, "creation_date": 1506741328, "last_edit_date": 1506754041, "question_id": 46499253, "link": "https://stackoverflow.com/questions/46499253/how-to-set-a-value-preference-in-kotlin", "title": "How to set a value preference in Kotlin?", "body": "<p>The following code is from a sample project about Kotlin, I can use Code 1 to get a value of a shared preferences, but I can  set a value of a shared preferences?</p>\n\n<p>I can't find those code in the sample project, could you tell me how I can do? Thanks!</p>\n\n<p><strong>Code 1</strong></p>\n\n<pre><code>class SettingsActivity : AppCompatActivity() {\n\n    companion object {\n        val ZIP_CODE = \"zipCode\"\n        val DEFAULT_ZIP = 94043L\n    }\n\n    var zipCode: Long by DelegatesExt.preference(this, ZIP_CODE, DEFAULT_ZIP)\n}\n</code></pre>\n\n<p><strong>Code 2</strong></p>\n\n<pre><code>object DelegatesExt {\n    fun &lt;T&gt; notNullSingleValue() = NotNullSingleValueVar&lt;T&gt;()\n    fun &lt;T&gt; preference(context: Context, name: String, default: T) = Preference(context, name, default)\n}\n\nclass NotNullSingleValueVar&lt;T&gt; {\n\n    private var value: T? = null\n\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T {\n        return value ?: throw IllegalStateException(\"${property.name} not initialized\")\n    }\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: T) {\n        this.value = if (this.value == null) value\n        else throw IllegalStateException(\"${property.name} already initialized\")\n    }\n}\n\nclass Preference&lt;T&gt;(val context: Context, val name: String, val default: T) {\n\n    val prefs: SharedPreferences by lazy { context.getSharedPreferences(\"default\", Context.MODE_PRIVATE) }\n\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T {\n        return findPreference(name, default)\n    }\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: T) {\n        putPreference(name, value)\n    }\n\n    @Suppress(\"UNCHECKED_CAST\")\n    private fun findPreference(name: String, default: T): T = with(prefs) {\n        val res: Any = when (default) {\n            is Long -&gt; getLong(name, default)\n            is String -&gt; getString(name, default)\n            is Int -&gt; getInt(name, default)\n            is Boolean -&gt; getBoolean(name, default)\n            is Float -&gt; getFloat(name, default)\n            else -&gt; throw IllegalArgumentException(\"This type can be saved into Preferences\")\n        }\n\n        res as T\n    }\n\n    private fun putPreference(name: String, value: T) = with(prefs.edit()) {\n        when (value) {\n            is Long -&gt; putLong(name, value)\n            is String -&gt; putString(name, value)\n            is Int -&gt; putInt(name, value)\n            is Boolean -&gt; putBoolean(name, value)\n            is Float -&gt; putFloat(name, value)\n            else -&gt; throw IllegalArgumentException(\"This type can't be saved into Preferences\")\n        }.apply()\n    }\n}\n</code></pre>\n\n<p><strong>And More</strong></p>\n\n<p>If the function putPreference is public, I can set value of a shared preferences using the code below, but it's ugly</p>\n\n<pre><code>class SettingsActivity : AppCompatActivity() {\n\n    companion object {\n        val ZIP_CODE = \"zipCode\"\n        val DEFAULT_ZIP = 94043L\n    }\n\n   DelegatesExt.Preference(this, ZIP_CODE, DEFAULT_ZIP).putPreference( ZIP_CODE,\"99999L\");\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1506735613, "post_id": 46498746, "comment_id": 79952324, "body": "Take a look at the syntax <a href=\"https://kotlinlang.org/docs/reference/properties.html#getters-and-setters\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506741631, "post_id": 46499077, "comment_id": 79953189, "body": "Thanks, do you mean that Code 1 will spend small system resources?"}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506742063, "post_id": 46499077, "comment_id": 79953263, "body": "@HelloCW Which spends more resources can depend on a lot of things. For example, how expensive is it to evaluate <code>dailyForecast.size</code>, and how often do you look at the <code>size</code> of a <code>ForecastList</code>? In most cases, <code>dailyForecast.size</code> is probably cheap to evaluate, so the efficiency difference is negligible -- go with the clearer code (#2). If <code>dailyForecast.size</code> is expensive, then use #1 if most of the time <code>ForecastList.size</code> is never called, #2 if <code>ForecastList.size</code> is usually called multiple times. (If it&#39;s usually called  once, efficiency is about the same.)"}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506742195, "post_id": 46499077, "comment_id": 79953285, "body": "@HelloCW Sometimes one is chosen over the other not because of efficiency but because of the desired semantics. For example, if the value of  <code>dailyForecast.size</code> can change over time, and you want <code>ForecastList.size</code> to always tell you the current value, then you need to go with #1."}], "tags": [], "owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "is_accepted": true, "score": 3, "last_activity_date": 1506739309, "creation_date": 1506739309, "answer_id": 46499077, "question_id": 46498746, "link": "https://stackoverflow.com/questions/46498746/what-are-different-between-code-1-and-code-2-in-kotlin/46499077#46499077", "title": "What are different between Code 1 and Code 2 in Kotlin?", "body": "<p>The first will evaluate <code>dailyForecast.size</code> at construction, store the value in a backing field, and create an accessor that returns the value of this backing field.</p>\n\n<p>The second will not create a backing field, but will instead create an accessor that returns the evaluates the expression <code>dailyForecast.size</code> every time you get the <code>size</code>.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 46499077, "answer_count": 1, "score": 0, "last_activity_date": 1506739309, "creation_date": 1506735074, "question_id": 46498746, "link": "https://stackoverflow.com/questions/46498746/what-are-different-between-code-1-and-code-2-in-kotlin", "title": "What are different between Code 1 and Code 2 in Kotlin?", "body": "<p>The code 1 is from a sample project, and I modify some code and change it to code 2, and the code 2 can also run correctly.</p>\n\n<p>What are different between Code 1 and Code 2 in Kotlin? Thanks!</p>\n\n<p><strong>Code 1</strong></p>\n\n<pre><code>data class ForecastList(val id: Long, val city: String, val country: String, val dailyForecast: List&lt;Forecast&gt;) {\n\n    val size: Int\n        get() = dailyForecast.size\n\n    operator fun get(position: Int) = dailyForecast[position]\n}\n</code></pre>\n\n<p><strong>Code 2</strong></p>\n\n<pre><code>data class ForecastList(val id: Long, val city: String, val country: String, val dailyForecast: List&lt;Forecast&gt;) {\n\n    val size: Int = dailyForecast.size\n\n    operator fun get(position: Int) = dailyForecast[position]\n}\n</code></pre>\n"}, {"tags": ["android", "data-binding", "kotlin"], "comments": [{"owner": {"reputation": 1742, "user_id": 1126393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CfIt1.jpg?s=128&g=1", "display_name": "Knerd", "link": "https://stackoverflow.com/users/1126393/knerd"}, "edited": false, "score": 0, "creation_date": 1506707370, "post_id": 46494358, "comment_id": 79943173, "body": "Why the down vote?"}], "answers": [{"comments": [{"owner": {"reputation": 1742, "user_id": 1126393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CfIt1.jpg?s=128&g=1", "display_name": "Knerd", "link": "https://stackoverflow.com/users/1126393/knerd"}, "edited": false, "score": 0, "creation_date": 1506722233, "post_id": 46494885, "comment_id": 79949639, "body": "Well, how am I supposed to add the binding to the view then? And it was not for null check, it was for catching SQLException"}, {"owner": {"reputation": 1742, "user_id": 1126393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CfIt1.jpg?s=128&g=1", "display_name": "Knerd", "link": "https://stackoverflow.com/users/1126393/knerd"}, "edited": false, "score": 0, "creation_date": 1506722292, "post_id": 46494885, "comment_id": 79949663, "body": "Also the code I used is the sample code by Google adjusted to my classes."}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 1742, "user_id": 1126393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CfIt1.jpg?s=128&g=1", "display_name": "Knerd", "link": "https://stackoverflow.com/users/1126393/knerd"}, "edited": false, "score": 0, "creation_date": 1506958487, "post_id": 46494885, "comment_id": 80011943, "body": "The only place you should be touching the binding is in the onCreate to set your observable variables for the XML. This is a temporary hack until Google iterates their binding process to not require it. If you are touching binding in your save routine then you are using binding incorrectly. I&#39;m just trying to help you, but you can certainly do it however you like. Glad you found your issue though."}, {"owner": {"reputation": 1742, "user_id": 1126393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CfIt1.jpg?s=128&g=1", "display_name": "Knerd", "link": "https://stackoverflow.com/users/1126393/knerd"}, "edited": false, "score": 0, "creation_date": 1506958585, "post_id": 46494885, "comment_id": 80012015, "body": "Sorry, that I was a bit rude. Do you know why the official Google sample has it wrong?"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 1742, "user_id": 1126393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CfIt1.jpg?s=128&g=1", "display_name": "Knerd", "link": "https://stackoverflow.com/users/1126393/knerd"}, "edited": false, "score": 0, "creation_date": 1506958850, "post_id": 46494885, "comment_id": 80012170, "body": "no worries, there are a couple of reasons. Android is new to data binding. They have relied on 3rd party to do it for years. Microsoft and other languages have been doing it much longer and cleaner. Google has not gotten everything to work in binding yet so as a work-around for things that cannot be bound properly they are having you access via binding. For example, error handling can get really messy in binding, it can be done, but it is messy, so some choose to do it through binding accessors until binding is further along. It&#39;s really early still so will be some bad practices for a bit"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 1742, "user_id": 1126393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CfIt1.jpg?s=128&g=1", "display_name": "Knerd", "link": "https://stackoverflow.com/users/1126393/knerd"}, "edited": false, "score": 0, "creation_date": 1506958896, "post_id": 46494885, "comment_id": 80012198, "body": "Most languages do not require any onCreate wire up, you just mark your objects as INotifyPropertyChanged or ICommand or other flags to indicate it is a binding value and the UI knows it&#39;s datacontext can access directly. But this is Googles first attempt so hopefully it will continue to grow into clean data binding"}, {"owner": {"reputation": 1742, "user_id": 1126393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CfIt1.jpg?s=128&g=1", "display_name": "Knerd", "link": "https://stackoverflow.com/users/1126393/knerd"}, "edited": false, "score": 0, "creation_date": 1506958950, "post_id": 46494885, "comment_id": 80012238, "body": "That is a bit sad, I worked with databindings in WPF and UWP for a long time and there it works really nicely. And the Android binding library seems a bit early staged but makes the work easier, so I think I will stick with it"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 1742, "user_id": 1126393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CfIt1.jpg?s=128&g=1", "display_name": "Knerd", "link": "https://stackoverflow.com/users/1126393/knerd"}, "edited": false, "score": 1, "creation_date": 1506959170, "post_id": 46494885, "comment_id": 80012399, "body": "Yes totally agree. It is exciting to see it finally adopted but it is pretty ugly right now. I also worked with WPF and Silverlight for years and appreciate the cleanliness of data binding code. Glad to hear more people jumping on adopting. :) Happy coding my friend"}], "tags": [], "owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1506709520, "creation_date": 1506709520, "answer_id": 46494885, "question_id": 46494358, "link": "https://stackoverflow.com/questions/46494358/two-way-data-binding-with-edittext/46494885#46494885", "title": "Two way data binding with EditText", "body": "<p>You are not using Binding the way it was meant to be Knerd. Two-Way binding is intended so that you can access objects or fields from code without ever having to reference the UI code. By you doing the binding.agency you are no different then findViewById() and you are defeating the purpose of binding.</p>\n\n<p>Fix your binding problems first. Use BaseObservable for your object model and it should stay up to date with whatever values change on the screen.</p>\n\n<p>Then when you save it should be nothing more then accessing the local variable.</p>\n\n<pre><code>private fun save(): Boolean {\n    try {\n\n        Log.d(\"Name\", localObservableAgency.name)\n        return true\n    } catch (ex: Exception) {\n        return false\n    }\n}\n</code></pre>\n\n<p>//not sure what this method is for, guessing you were try catching null. Better way would be to just do a null check on the object as catching exception by accessing null value is heavy and doesn't add value. Also Kotlin is null safe language, so you are either losing your value on the binding maybe by setting it to null to begin with or something is coded weirdly here as you have to intentionally make an object nullable if you keep a local copy. However, you weren't keeping a local copy you were just newing one up inline and accessing via binding later as if it was your repository of variables haha. </p>\n\n<p>So long story short, is use data binding the way it was intended to be used and you won't have a problem. That is probably why someone down voted you is my guess.</p>\n"}, {"tags": [], "owner": {"reputation": 1742, "user_id": 1126393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CfIt1.jpg?s=128&g=1", "display_name": "Knerd", "link": "https://stackoverflow.com/users/1126393/knerd"}, "is_accepted": true, "score": 1, "last_activity_date": 1506722368, "creation_date": 1506722368, "answer_id": 46497440, "question_id": 46494358, "link": "https://stackoverflow.com/questions/46494358/two-way-data-binding-with-edittext/46497440#46497440", "title": "Two way data binding with EditText", "body": "<p>I found the Problem, it was caused by me binding to the wrong layout. The correct Code is as follows.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    binding = DataBindingUtil.setContentView&lt;ActivityAddAgencyBinding&gt;(this, R.layout.activity_add_agency)\n    binding.agency = AgencyModel()\n    val toolbar = findViewById(R.id.toolbar) as Toolbar\n    setSupportActionBar(toolbar)\n    supportActionBar!!.setDisplayHomeAsUpEnabled(true)\n}\n</code></pre>\n\n<p>In both cases I had to bind to the activity layout</p>\n"}], "owner": {"reputation": 1742, "user_id": 1126393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CfIt1.jpg?s=128&g=1", "display_name": "Knerd", "link": "https://stackoverflow.com/users/1126393/knerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1444, "favorite_count": 0, "accepted_answer_id": 46497440, "answer_count": 2, "score": 1, "last_activity_date": 1506722368, "creation_date": 1506707237, "question_id": 46494358, "link": "https://stackoverflow.com/questions/46494358/two-way-data-binding-with-edittext", "title": "Two way data binding with EditText", "body": "<p>I am working on a simple Android App using Kotlin. I want to use databindings, but I cannot get them work with an <code>EditText</code></p>\n\n<p>This is my XML Layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;data&gt;\n        &lt;import type=\"de.knerd.applicationmanager.models.AgencyModel\"/&gt;\n        &lt;variable name=\"agency\" type=\"AgencyModel\"/&gt;\n    &lt;/data&gt;\n    &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n            tools:showIn=\"@layout/activity_add_agency\"\n            tools:context=\"de.knerd.applicationmanager.activities.AddAgencyActivity\"\n            android:orientation=\"vertical\"\n            android:layout_margin=\"16dp\"&gt;\n        &lt;android.support.design.widget.TextInputLayout android:layout_height=\"match_parent\"\n                                                       android:layout_width=\"match_parent\"&gt;\n            &lt;EditText\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:inputType=\"textPersonName\"\n                    android:ems=\"10\"\n                    android:id=\"@+id/name\"\n                    android:labelFor=\"@+id/name\"\n                    android:hint=\"@string/agency_name\"\n                    android:text=\"@={agency.name}\"/&gt;\n        &lt;/android.support.design.widget.TextInputLayout&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>This is my Model class</p>\n\n<pre><code>package de.knerd.applicationmanager.models\n\nimport android.databinding.BaseObservable\nimport android.databinding.Bindable\nimport com.j256.ormlite.dao.ForeignCollection\nimport com.j256.ormlite.field.DatabaseField\nimport com.j256.ormlite.field.ForeignCollectionField\nimport com.j256.ormlite.table.DatabaseTable\nimport de.knerd.applicationmanager.BR\n\n@DatabaseTable(tableName = \"agency\")\nclass AgencyModel : BaseObservable() {\n\n    @DatabaseField(unique = true, canBeNull = false)\n    @get:Bindable\n    @set:Bindable\n    var name: String? = null\n        set(value) {\n            field = value\n            notifyPropertyChanged(BR.name)\n        }\n    @DatabaseField(generatedId = true)\n    @get:Bindable\n    var id: Int = 0\n    @ForeignCollectionField(eager = false)\n    @get:Bindable\n    var agents: ForeignCollection&lt;AgentModel&gt;? = null\n}\n</code></pre>\n\n<p>And this is the part that binds the model to the view</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    binding = DataBindingUtil.setContentView&lt;ContentAddAgencyBinding&gt;(this, R.layout.content_add_agency)\n    binding.agency = AgencyModel()\n    setContentView(R.layout.activity_add_agency)\n    val toolbar = findViewById(R.id.toolbar) as Toolbar\n    setSupportActionBar(toolbar)\n    supportActionBar!!.setDisplayHomeAsUpEnabled(true)\n}\n</code></pre>\n\n<p>When I try to access the properties of model that is in the binding I get a null value. The Code I use is this</p>\n\n<pre><code>private fun save(): Boolean {\n    try {\n        val agency = binding.agency\n        Log.d(\"Name\", agency.name)\n        return true\n    } catch (ex: Exception) {\n        return false\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-notifications", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 1, "creation_date": 1506697962, "post_id": 46491813, "comment_id": 79938148, "body": "can you post the complete stack trace ?"}, {"owner": {"reputation": 1015, "user_id": 3137427, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/71ae5882b1d4709e142e4bd4aab3e09f?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Aggarwal", "link": "https://stackoverflow.com/users/3137427/sachin-aggarwal"}, "edited": false, "score": 1, "creation_date": 1506698755, "post_id": 46491813, "comment_id": 79938613, "body": "Please add more code and line where this exception occured !!"}, {"owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "edited": false, "score": 0, "creation_date": 1506726459, "post_id": 46491813, "comment_id": 79950718, "body": "As the others said, please show us which line is causing the problem."}], "answers": [{"tags": [], "owner": {"reputation": 552, "user_id": 2585865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b66dabd807f8cdd2528e5fe0ad5a5b5?s=128&d=identicon&r=PG", "display_name": "Romadro", "link": "https://stackoverflow.com/users/2585865/romadro"}, "is_accepted": false, "score": 1, "last_activity_date": 1507558792, "last_edit_date": 1507558792, "creation_date": 1506699184, "answer_id": 46492281, "question_id": 46491813, "link": "https://stackoverflow.com/questions/46491813/nullpointerexception-on-android-support-v4-app-notificationcompatbaseaction-get/46492281#46492281", "title": "NullPointerException on android.support.v4.app.NotificationCompatBase$Action.getIcon()", "body": "<p>Wrong use of <a href=\"https://developer.android.com/reference/android/app/Notification.Builder.html#setBadgeIconType(int)\" rel=\"nofollow noreferrer\">setBadgeIconType</a></p>\n\n<p>Sets which <code>icon</code> to display as a <code>badge</code> for this <code>notification</code>. Must be one of <strong><code>BADGE_ICON_NONE</code></strong>, <strong><code>BADGE_ICON_SMALL</code></strong>, <strong><code>BADGE_ICON_LARGE</code></strong>. </p>\n\n<p><strong>Note</strong>: This value might be ignored, for launchers that don't support badge icons.</p>\n"}], "owner": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507558792, "creation_date": 1506697734, "last_edit_date": 1507551172, "question_id": 46491813, "link": "https://stackoverflow.com/questions/46491813/nullpointerexception-on-android-support-v4-app-notificationcompatbaseaction-get", "title": "NullPointerException on android.support.v4.app.NotificationCompatBase$Action.getIcon()", "body": "<p>anyone can help?\nCode <code>mBuilder.build</code> produces crash</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'int android.support.v4.app.NotificationCompatBase$Action.getIcon()' on a null object reference\n</code></pre>\n\n<p>Here is my code</p>\n\n<pre><code>private fun createNotification(pushMessage: FirebaseMessage){\n        Timber.d(\"Firebase\")\n        // create notification builder\n        var mBuilder: NotificationCompat.Builder = if(SystemTools.isAtLeastOreo())\n            NotificationCompat.Builder(this, getChannelId(pushMessage))\n        else\n            NotificationCompat.Builder(this)\n\n        val inboxStyle = NotificationCompat.BigTextStyle()\n                .setBigContentTitle(pushMessage.title)\n                .bigText(pushMessage.message)\n\n        // create notification view\n        mBuilder.setSmallIcon(R.drawable.ic_notification_car) // have to use jpeg or png for notification icon (crash)\n//                .setLargeIcon(BitmapFactory.decodeResource(baseContext.resources, R.mipmap.ic_launcher_round))\n                .setColor(ResourceUtils.getColor(baseContext, R.color.teal))\n                .setContentTitle(pushMessage.title)\n                .setContentText(pushMessage.message)\n                .setStyle(inboxStyle)\n                .setContentIntent(getPendingIntent(pushMessage))\n                .setPriority(Notification.PRIORITY_HIGH)\n                .addAction(createNotificationAction(pushMessage))\n                .setBadgeIconType(R.drawable.ic_notification_car)\n\n\n        // send notification\n        sendNotification(mBuilder.build())\n    }\n</code></pre>\n\n<p><code>supportLibrary = '26.1.0'</code>\n<code>playServices = '11.4.0'</code></p>\n\n<p><strong>SOLUTION:</strong></p>\n\n<ul>\n<li>As exception said: <code>Action.getIcon()</code> NullPointerException</li>\n</ul>\n\n<p>I've created usecase <code>.addAction(createNotificationAction(pushMessage))</code>\nwhich generated appropriate action depending on <code>pushMessage: FirebaseMessage</code>.\nIn case that pushMessage didn't match anything i returned null. That was causing exception. So basically you cannot put to <code>NotificationBuilder.addAction(null)</code></p>\n\n<p><strong><em>Question may be closed</em></strong></p>\n"}, {"tags": ["android", "file", "android-layout", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 5710492, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1158135750870785/picture?type=large", "display_name": "Fawad Bin Tariq", "link": "https://stackoverflow.com/users/5710492/fawad-bin-tariq"}, "edited": false, "score": 0, "creation_date": 1506700320, "post_id": 46491394, "comment_id": 79939552, "body": "Well i am already familiar with this, i just want to know about Layout folder, can we add sub directories to organize layouts in layout folder? if so, then how? and if not then why not?"}], "tags": [], "owner": {"reputation": 2341, "user_id": 3883569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c778021c6ac70c1fe99a0294b0ed664f?s=128&d=identicon&r=PG&f=1", "display_name": "FreshD", "link": "https://stackoverflow.com/users/3883569/freshd"}, "is_accepted": false, "score": 0, "last_activity_date": 1506696522, "creation_date": 1506696522, "answer_id": 46491394, "question_id": 46491312, "link": "https://stackoverflow.com/questions/46491312/how-to-organize-layout-resource-files-in-android-studio/46491394#46491394", "title": "How to Organize Layout Resource Files in Android Studio?", "body": "<p><a href=\"https://developer.android.com/guide/topics/resources/providing-resources.html\" rel=\"nofollow noreferrer\">This</a> should help you understanding how to structure your resources.</p>\n\n<p>The location of your <code>res</code> folder is typically on the same layer as your <code>java/kt</code> folder</p>\n"}], "owner": {"reputation": 144, "user_id": 5710492, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1158135750870785/picture?type=large", "display_name": "Fawad Bin Tariq", "link": "https://stackoverflow.com/users/5710492/fawad-bin-tariq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 656, "favorite_count": 0, "closed_date": 1506696957, "answer_count": 1, "score": 0, "last_activity_date": 1506696522, "creation_date": 1506696244, "question_id": 46491312, "link": "https://stackoverflow.com/questions/46491312/how-to-organize-layout-resource-files-in-android-studio", "closed_reason": "Duplicate", "title": "How to Organize Layout Resource Files in Android Studio?", "body": "<p>To Organize Java or Kotlin Files we have packages so java/kt files can be organized nicely by importing from other packages, How to Organize layout resource files in Android Studio? Suppose i am working with 50 resource files, that will become mess? How to organize them properly?</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "android-livedata"], "answers": [{"tags": [], "owner": {"reputation": 1081, "user_id": 4859268, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/434108cc24f67b8f47c3032894e72423?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4859268/mikhail"}, "is_accepted": true, "score": 0, "last_activity_date": 1506957858, "creation_date": 1506957858, "answer_id": 46528606, "question_id": 46490181, "link": "https://stackoverflow.com/questions/46490181/livedata-observer-does-not-trigger-on-a-callback/46528606#46528606", "title": "LiveData observer does not trigger on a callback", "body": "<p>The problem was in a callback. It was not being triggered from the main thread. </p>\n"}], "owner": {"reputation": 1081, "user_id": 4859268, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/434108cc24f67b8f47c3032894e72423?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4859268/mikhail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "accepted_answer_id": 46528606, "answer_count": 1, "score": -1, "last_activity_date": 1506957858, "creation_date": 1506692842, "question_id": 46490181, "link": "https://stackoverflow.com/questions/46490181/livedata-observer-does-not-trigger-on-a-callback", "title": "LiveData observer does not trigger on a callback", "body": "<p>LiveData observer does not trigger when a callback is emitted. But if I put the observable data in a function and change the data it works just fine. Please any ideas what would it be?</p>\n\n<pre><code>fun connect(address: String){\n\n    protocolARC.value = ProtocolARC() //OKAY!!!!\n\n    bleManager.gattClient.onCreate(getApplication(), address, object : GattClient.OnCounterReadListener {\n        override fun onCounterRead(value: Int) {\n\n            Log.d(\"HURRAY\", \"read\")\n\n            protocolARC.value = ProtocolARC() //NOT OKAY?????\n        }\n\n        override fun onConnected(success: Boolean) {\n            stopScan()\n        }\n    })\n}\n</code></pre>\n"}, {"tags": ["java", "android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1506692912, "post_id": 46490063, "comment_id": 79934846, "body": "Why don&#39;t you define it in <code>src&#47;main&#47;kotlin</code> and <code>src&#47;test&#47;kotlin</code> respectively?"}, {"owner": {"reputation": 9772, "user_id": 1618135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UqWor.jpg?s=128&g=1", "display_name": "blackpanther", "link": "https://stackoverflow.com/users/1618135/blackpanther"}, "reply_to_user": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1506692970, "post_id": 46490063, "comment_id": 79934876, "body": "Would that make a difference tho? @Opal"}, {"owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1506693175, "post_id": 46490063, "comment_id": 79935010, "body": "From gradle point of view it may. Gradle uses java compiler to compile java files and kotlin compiler to compile kotlin files. If kotlin files are misplaced they might not be picked for compilation, hence not found."}, {"owner": {"reputation": 9772, "user_id": 1618135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UqWor.jpg?s=128&g=1", "display_name": "blackpanther", "link": "https://stackoverflow.com/users/1618135/blackpanther"}, "reply_to_user": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1506693452, "post_id": 46490063, "comment_id": 79935203, "body": "Unfortunately that didn&#39;t fix it"}, {"owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1506693966, "post_id": 46490063, "comment_id": 79935522, "body": "Have a look at the working demo: <a href=\"https://github.com/Opalo/stackoverflow/tree/master/46490063\" rel=\"nofollow noreferrer\">github.com/Opalo/stackoverflow/tree/master/46490063</a>"}, {"owner": {"reputation": 9772, "user_id": 1618135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UqWor.jpg?s=128&g=1", "display_name": "blackpanther", "link": "https://stackoverflow.com/users/1618135/blackpanther"}, "reply_to_user": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1506694663, "post_id": 46490063, "comment_id": 79935967, "body": "yeah i saw that - i think it must be because this is a JVM module within an Android studio project"}, {"owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1506694745, "post_id": 46490063, "comment_id": 79936025, "body": "This might be the case. Tag your question with <i>android</i> and prepare a good example."}, {"owner": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "edited": false, "score": 0, "creation_date": 1506696567, "post_id": 46490063, "comment_id": 79937224, "body": "Did you imported the Customer class?"}], "answers": [{"comments": [{"owner": {"reputation": 432, "user_id": 3194310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02be251eeab5faf8ed3e8956317b3e9d?s=128&d=identicon&r=PG&f=1", "display_name": "Campino", "link": "https://stackoverflow.com/users/3194310/campino"}, "edited": false, "score": 0, "creation_date": 1533728973, "post_id": 46732007, "comment_id": 90451580, "body": "This answer generates: &quot;Could not get unknown property &#39;kotlin&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSe&zwnj;&#8203;t.&quot;"}, {"owner": {"reputation": 368, "user_id": 2228725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/068d65adecccf5ceee9cc6574422eae6?s=128&d=identicon&r=PG", "display_name": "RESTfulGeoffrey", "link": "https://stackoverflow.com/users/2228725/restfulgeoffrey"}, "edited": false, "score": 0, "creation_date": 1533942677, "post_id": 46732007, "comment_id": 90547553, "body": "Yeah this seems to be a sticking point for adding other JVM languages. If you added Scala to this project you would do the same thing: scala.srcDirs = [&#39;src/main/scala&#39;, &#39;src/main/java&#39;]"}, {"owner": {"reputation": 5612, "user_id": 9279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d32ae698b36d5de067710811fec3094b?s=128&d=identicon&r=PG", "display_name": "Tim Keating", "link": "https://stackoverflow.com/users/9279/tim-keating"}, "edited": false, "score": 0, "creation_date": 1559058679, "post_id": 46732007, "comment_id": 99296769, "body": "One thing to be mindful of -- once you have gotten the gradle build dependencies sorted out, be sure and check that you&#39;re actually importing the class in question! That vexed me for several minutes."}, {"owner": {"reputation": 892, "user_id": 1723949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EYZza.png?s=128&g=1", "display_name": "Nathan Williams", "link": "https://stackoverflow.com/users/1723949/nathan-williams"}, "edited": false, "score": 0, "creation_date": 1560201894, "post_id": 46732007, "comment_id": 99650576, "body": "This approach is supported by the documentation on kotlinlang: <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#targeting-the-jvm\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>  &quot;The default convention is using different folders...The corresponding sourceSets property should be updated if not using the default convention&quot;"}], "tags": [], "owner": {"reputation": 9772, "user_id": 1618135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UqWor.jpg?s=128&g=1", "display_name": "blackpanther", "link": "https://stackoverflow.com/users/1618135/blackpanther"}, "is_accepted": true, "score": 4, "last_activity_date": 1507904285, "creation_date": 1507904285, "answer_id": 46732007, "question_id": 46490063, "link": "https://stackoverflow.com/questions/46490063/test-package-does-not-read-kotlin-classes-defined-in-main-package/46732007#46732007", "title": "Test package does not read Kotlin classes defined in main package", "body": "<p>Ok, I have found the solution. It seems I have to specify the src folders explicitly in my build.gradle and put all Kotlin code in <code>src/main/kotlin</code> and <code>src/test/kotlin</code> respectively.</p>\n\n<pre><code>sourceSets {\n    main.kotlin.srcDirs = ['src/main/kotlin', 'src/main/java']\n    main.java.srcDirs = []\n    test.kotlin.srcDirs = ['src/test/kotlin', 'src/test/java']\n    test.java.srcDirs = ['src/test/kotlin', 'src/test/java']\n}\n</code></pre>\n\n<p>Once I did that, the tests started to work as expected - reports are even generated on Jenkins which is great.</p>\n"}], "owner": {"reputation": 9772, "user_id": 1618135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UqWor.jpg?s=128&g=1", "display_name": "blackpanther", "link": "https://stackoverflow.com/users/1618135/blackpanther"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6073, "favorite_count": 1, "accepted_answer_id": 46732007, "answer_count": 1, "score": 4, "last_activity_date": 1507904285, "creation_date": 1506692446, "last_edit_date": 1506694766, "question_id": 46490063, "link": "https://stackoverflow.com/questions/46490063/test-package-does-not-read-kotlin-classes-defined-in-main-package", "title": "Test package does not read Kotlin classes defined in main package", "body": "<p>I cannot seem to access main classes within the test package in my Kotlin module within an Android Studio project. Please note that all code shown below is within a Kotlin JVM module that is imported into the Android app.</p>\n\n<p>Here's my <code>src/main/java</code> code:</p>\n\n<pre><code>import com.google.gson.annotations.SerializedName\n\ndata class Customer(val password1: String,\n                val password2: String,\n                @SerializedName(\"last_name\") val lastName: String,\n                @SerializedName(\"first_name\") val firstName: String,\n                val email: String)\n</code></pre>\n\n<p>My test code in <code>src/test/java</code>:</p>\n\n<pre><code>class CreateUser {\n\n    @Test\n    fun createRandomUser() {\n        val random = Random()\n        val randomNumber = random.nextInt(10000000)\n        val customer = Customer(\"password\", \"password\", \"lastName\", \"firstName\", \"ted$randomNumber@gmail.com\")\n\n    }\n}\n</code></pre>\n\n<p>My <code>build.gradle</code> code looks like the following:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.4-3'\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath 'me.tatarka:gradle-retrolambda:3.7.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'maven'\napply plugin: 'me.tatarka.retrolambda'\napply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n    jcenter()\n}\n\ndependencies {\n    // some other compile dependencies\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    testCompile \"org.hamcrest:hamcrest-all:1.3\"\n    testCompile 'junit:junit:4.11'\n    testCompile 'org.mockito:mockito-all:1.9.5'\n    testCompile \"org.jetbrains.kotlin:kotlin-test\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit\"\n}\n\ntask javadocJar(type: Jar) {\n    classifier = 'javadoc'\n    from javadoc\n}\n\ntask sourcesJar(type: Jar) {\n    classifier = 'sources'\n    from sourceSets.main.allSource\n}\n\nartifacts {\n    archives sourcesJar\n    archives javadocJar\n}\n\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.6\"\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.6\"\n    }\n}\n</code></pre>\n\n<p>The root <code>build.gradle</code> file looks as follows:</p>\n\n<pre><code>// Top-level build file where you can add configuration options \ncommon to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.3'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven {\n            url \"https://jitpack.io\"\n            credentials { username authToken }\n        }\n    }\n}\n\ntask clean(type: Delete) {\n     delete rootProject.buildDir\n}\n\next {\n    versionName = \"0.1.1\"\n    rxJavaVersion = \"2.1.3\"\n    okHttpVersion = \"3.9.0\"\n    retrofitVersion = \"2.3.0\"\n    rxJava2AdapterVersion = \"1.0.0\"\n    googleGsonVersion = \"2.8.0\"\n}\n</code></pre>\n\n<p>The error I get is that gradle cannot resolve <code>Customer</code> (<code>Unresolved reference: Customer</code>) in the Test class. It doesn't seem to include main classes into the test source directory. Yet, it resolves in the IDE.</p>\n"}, {"tags": ["jenkins", "kotlin", "jacoco"], "comments": [{"owner": {"reputation": 7743, "user_id": 244993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0ce44e342943d56f115165b7d78bdd?s=128&d=identicon&r=PG", "display_name": "Godin", "link": "https://stackoverflow.com/users/244993/godin"}, "edited": false, "score": 1, "creation_date": 1506706658, "post_id": 46490054, "comment_id": 79942760, "body": "Maybe there is something in Jenkins build log?"}, {"owner": {"reputation": 816, "user_id": 2172227, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/58de183692ca1345ef0457f347a358ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mariusz", "link": "https://stackoverflow.com/users/2172227/mariusz"}, "reply_to_user": {"reputation": 7743, "user_id": 244993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0ce44e342943d56f115165b7d78bdd?s=128&d=identicon&r=PG", "display_name": "Godin", "link": "https://stackoverflow.com/users/244993/godin"}, "edited": false, "score": 0, "creation_date": 1506892794, "post_id": 46490054, "comment_id": 79988153, "body": "<code>Number of found exec files for pattern app&#47;build&#47;jacoco&#47;testProdDebugUnitTest.exec: 0</code> which is strange becouse on local after runinng test i get exec file on that location"}], "owner": {"reputation": 816, "user_id": 2172227, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/58de183692ca1345ef0457f347a358ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mariusz", "link": "https://stackoverflow.com/users/2172227/mariusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506692423, "creation_date": 1506692423, "question_id": 46490054, "link": "https://stackoverflow.com/questions/46490054/jacoco-jenkins-plugin-with-kotlin", "title": "Jacoco Jenkins plugin with Kotlin", "body": "<p>I want Jacoco plugin to post CodeCoverage on Jenkins build report, i had  prepare stage in job</p>\n\n<pre><code>stage('JaCoCo') {\n    sh './gradlew testProdDebugUnitTestCoverage'\n        jacoco(execPattern: '**/build/jacoco/testProdDebugUnitTest.exec', classPattern: '**/build/tmp/kotlin-classes/prodDebug', sourcePattern: '**/src/main/kotlin')\n}\n</code></pre>\n\n<p>However i still get 0%, when locally generated report show 8%</p>\n"}, {"tags": ["java", "android", "class", "kotlin"], "comments": [{"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 1, "creation_date": 1506687098, "post_id": 46488540, "comment_id": 79931512, "body": "Post code, not images. And thats not a Kotlin issue."}, {"owner": {"reputation": 422, "user_id": 8012913, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yJrFbolckJ0/AAAAAAAAAAI/AAAAAAAAEgE/4ddZGkvK-T4/photo.jpg?sz=128", "display_name": "nivesh shastri", "link": "https://stackoverflow.com/users/8012913/nivesh-shastri"}, "edited": false, "score": 0, "creation_date": 1506688279, "post_id": 46488540, "comment_id": 79932112, "body": "see my updated answer."}], "answers": [{"comments": [{"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1506687602, "post_id": 46488695, "comment_id": 79931750, "body": "This yields....   Error:(101, 5) Class &#39;MyCustomAdapter&#39; is not abstract and does not implement abstract base class member public abstract fun onBindViewHolder(p0: RecyclerView.ViewHolder!, p1: Int): Unit defined in android.support.v7.widget.RecyclerView.Adapter"}, {"owner": {"reputation": 422, "user_id": 8012913, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yJrFbolckJ0/AAAAAAAAAAI/AAAAAAAAEgE/4ddZGkvK-T4/photo.jpg?sz=128", "display_name": "nivesh shastri", "link": "https://stackoverflow.com/users/8012913/nivesh-shastri"}, "reply_to_user": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1506688229, "post_id": 46488695, "comment_id": 79932088, "body": "you can&#39;t give ViewHolder name ViewHolder as well as"}, {"owner": {"reputation": 422, "user_id": 8012913, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yJrFbolckJ0/AAAAAAAAAAI/AAAAAAAAEgE/4ddZGkvK-T4/photo.jpg?sz=128", "display_name": "nivesh shastri", "link": "https://stackoverflow.com/users/8012913/nivesh-shastri"}, "reply_to_user": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1506688264, "post_id": 46488695, "comment_id": 79932105, "body": "Provide another name of your viewHolder"}], "tags": [], "owner": {"reputation": 422, "user_id": 8012913, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yJrFbolckJ0/AAAAAAAAAAI/AAAAAAAAEgE/4ddZGkvK-T4/photo.jpg?sz=128", "display_name": "nivesh shastri", "link": "https://stackoverflow.com/users/8012913/nivesh-shastri"}, "is_accepted": false, "score": -1, "last_activity_date": 1506690792, "last_edit_date": 1506690792, "creation_date": 1506687513, "answer_id": 46488695, "question_id": 46488540, "link": "https://stackoverflow.com/questions/46488540/unable-to-reference-sub-class-in-kotlin/46488695#46488695", "title": "Unable to reference sub class in Kotlin", "body": "<p>Change your <code>onBindViewHolder</code> method like below and also change the name of your <code>ViewHolder</code>:</p>\n\n<pre><code>override fun onBindViewHolder(holder: MyViewHolder, position: Int)\n{\n}\n</code></pre>\n"}], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1506690792, "creation_date": 1506687004, "last_edit_date": 1506690725, "question_id": 46488540, "link": "https://stackoverflow.com/questions/46488540/unable-to-reference-sub-class-in-kotlin", "title": "Unable to reference sub class in Kotlin", "body": "<p>As you can see below, I can't reference the inner class in my <code>CustomAdapter</code> for my app <code>BindItems</code>. I'm not sure why it is showing up as red and not found.</p>\n\n<pre><code> class MyCustomAdapter(context: Context,val theList: ArrayList&lt;MyInfo&gt;): RecyclerView.Adapter&lt;ViewHolder&gt;(){\n\n        override fun getItemCount(): Int {\n            return theList.size\n        }\n\n        override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n            holder.bindItems(theList[position])\n        }\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n            val v = LayoutInflater.from(parent.context).inflate(R.layout.main_row, parent, false)\n            return ViewHolder(v)\n        }\n\n        class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n              fun bindItems(user: MyInfo) {\n                 val textViewName : TextView = itemView.findViewById&lt;TextView&gt;(R.id.row_town_name)\n                 val textViewAddress : TextView  = itemView.findViewById&lt;TextView&gt;(R.id.row_zip_code)\n                 textViewName.text = user.townname\n                 textViewAddress.text = user.zipcode\n             }\n         }       \n    }\n</code></pre>\n\n<p><strong><em>SOLUTION:</em></strong></p>\n\n<pre><code> class MyCustomAdapter(context: Context,val theList: ArrayList&lt;MyInfo&gt;): RecyclerView.Adapter&lt;MyCustomAdapter.MyViewHolder&gt;(){\n\n\n        override fun getItemCount(): Int {\n            return theList.size\n        }\n\n\n         override fun onBindViewHolder(holder: MyCustomAdapter.MyViewHolder, position: Int) {\n            holder.bindItems(theList[position])\n        }\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyCustomAdapter.MyViewHolder {\n            val v = LayoutInflater.from(parent.context).inflate(R.layout.main_row, parent, false)\n            return MyViewHolder(v)\n        }\n\n        class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n              fun bindItems(user: MyInfo) {\n                 val textViewName : TextView = itemView.findViewById&lt;TextView&gt;(R.id.row_town_name)\n                 val textViewAddress : TextView  = itemView.findViewById&lt;TextView&gt;(R.id.row_zip_code)\n                 textViewName.text = user.townname\n                 textViewAddress.text = user.zipcode\n             }\n         }\n\n\n    }\n</code></pre>\n\n<p>Thanks\n-R</p>\n"}, {"tags": ["eclipse", "kotlin"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1506683102, "post_id": 46487495, "comment_id": 79929288, "body": "Is that exactly where the class is or is it in the proper directory hierarchy?"}, {"owner": {"reputation": 1509, "user_id": 404981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/tdeAj.jpg?s=128&g=1", "display_name": "AlexSC", "link": "https://stackoverflow.com/users/404981/alexsc"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1506687904, "post_id": 46487495, "comment_id": 79931902, "body": "@DaveNewton: in the project explorer I have a source folder named <code>&#47;src&#47;main&#47;kotlin</code>. Inside that source folder I have a package named <code>my.project.domain</code> and inside that package I have the <code>Person.kt</code>file. In the filesystem I find my source file in the <code>&lt;project directoty&gt;\\src\\main\\kotlin\\my\\project\\domain</code>."}], "owner": {"reputation": 1509, "user_id": 404981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/tdeAj.jpg?s=128&g=1", "display_name": "AlexSC", "link": "https://stackoverflow.com/users/404981/alexsc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1506682993, "creation_date": 1506682993, "question_id": 46487495, "link": "https://stackoverflow.com/questions/46487495/how-to-configure-a-eclipse-project-to-use-kotlin-with-jpa-hibernate", "title": "How to configure a eclipse project to use Kotlin with JPA/Hibernate?", "body": "<p>I have installed Kotlin in Eclipse (it must be Eclipse, not JetBrains) and started a Kotlin project with no problem. Now I want to add JPA support to such a project, but I can't add any already existing Kotlin classes to my <code>persistent.xml</code>.</p>\n\n<p>Here is one of those classes, alread annotated to be persisted:</p>\n\n<pre><code>package my.project.domain\n\nimport java.util.Date\nimport javax.persistence.Column\nimport javax.persistence.Entity\nimport javax.persistence.Id\nimport javax.persistence.Table\nimport javax.persistence.Temporal\nimport javax.persistence.TemporalType\n\n@Entity\n@Table(name = \"person\")\nopen class Person(\n    @Id\n    @Column(name = \"id_person\")\n    var Id: Long? = null,\n    @Column(name = \"name\", length = 150, nullable = false)\n    var Name: String? = null,\n    @Temporal(TemporalType.DATE)\n    @Column(name = \"creation_date\", nullable = false)\n    var CreationDate: Date? = null) {\n}\n</code></pre>\n\n<p>My dependencies in <code>pom.xml</code> are:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n        &lt;version&gt;1.1.4-3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.2.10.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n        &lt;version&gt;11.2.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>In my <code>persistence.xml</code> I want add a reference like this:</p>\n\n<pre><code>&lt;class&gt;my.project.domain.Person&lt;/class&gt;\n</code></pre>\n\n<p>However, I keep receiving an error that stated such a class cannot be resolved. That class is located in a source folder named <code>/src/main/kotlin</code> and the file name is <code>Person.kt</code>.</p>\n\n<p>What to do?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "interceptor", "okhttp3"], "comments": [{"owner": {"reputation": 1849, "user_id": 7679573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czZkd.jpg?s=128&g=1", "display_name": "A. Shevchuk", "link": "https://stackoverflow.com/users/7679573/a-shevchuk"}, "edited": false, "score": 0, "creation_date": 1506681015, "post_id": 46486395, "comment_id": 79928221, "body": "invalidate cache and restart may help."}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 0, "creation_date": 1506681226, "post_id": 46486395, "comment_id": 79928333, "body": "are you using proguard ?"}, {"owner": {"reputation": 869, "user_id": 628319, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/042708b98b5301874d156fb83a976322?s=128&d=identicon&r=PG", "display_name": "Mugur", "link": "https://stackoverflow.com/users/628319/mugur"}, "edited": false, "score": 0, "creation_date": 1506682369, "post_id": 46486395, "comment_id": 79928893, "body": "no, i&#39;m not using proguard"}, {"owner": {"reputation": 869, "user_id": 628319, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/042708b98b5301874d156fb83a976322?s=128&d=identicon&r=PG", "display_name": "Mugur", "link": "https://stackoverflow.com/users/628319/mugur"}, "edited": false, "score": 0, "creation_date": 1506716643, "post_id": 46486395, "comment_id": 79947585, "body": "So, when I wrote the interceptor in java, it worked. Why doesn&#39;t it work with Kotlin?"}, {"owner": {"reputation": 2067, "user_id": 5435658, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/92a5439c20610a55fe6fe43b2677d542?s=128&d=identicon&r=PG&f=1", "display_name": "raditya gumay", "link": "https://stackoverflow.com/users/5435658/raditya-gumay"}, "edited": false, "score": 0, "creation_date": 1506857148, "post_id": 46486395, "comment_id": 79977839, "body": "should be working in kotlin. i have done using interceptor in kotlin project. look here <a href=\"https://github.com/radityagumay/android-clean-architecture\" rel=\"nofollow noreferrer\">github.com/radityagumay/android-clean-architecture</a>"}], "answers": [{"comments": [{"owner": {"reputation": 368, "user_id": 4767232, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vy24UwKaoxs/AAAAAAAAAAI/AAAAAAAACw0/os013N5WA8o/photo.jpg?sz=128", "display_name": "Alexander Ukhov", "link": "https://stackoverflow.com/users/4767232/alexander-ukhov"}, "reply_to_user": {"reputation": 869, "user_id": 628319, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/042708b98b5301874d156fb83a976322?s=128&d=identicon&r=PG", "display_name": "Mugur", "link": "https://stackoverflow.com/users/628319/mugur"}, "edited": false, "score": 0, "creation_date": 1506717152, "post_id": 46496144, "comment_id": 79947836, "body": "Hm. Only difference I noticed in interceptor is nullable result. Try change to  <code>override fun intercept(chain: Interceptor.Chain): Response {</code>"}], "tags": [], "owner": {"reputation": 368, "user_id": 4767232, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vy24UwKaoxs/AAAAAAAAAAI/AAAAAAAACw0/os013N5WA8o/photo.jpg?sz=128", "display_name": "Alexander Ukhov", "link": "https://stackoverflow.com/users/4767232/alexander-ukhov"}, "is_accepted": false, "score": 1, "last_activity_date": 1506715260, "creation_date": 1506715260, "answer_id": 46496144, "question_id": 46486395, "link": "https://stackoverflow.com/questions/46486395/java-lang-noclassdeffounderror-com-example-api-retrofit-authenticationintercept/46496144#46496144", "title": "java.lang.NoClassDefFoundError: com.example.api.retrofit.AuthenticationInterceptor$intercept$1", "body": "<p>Try to disable Instant Run.</p>\n\n<p>1 2 3</p>\n"}, {"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1506772697, "post_id": 46502447, "comment_id": 79959158, "body": "But it is not a biconsumer, it is an anonymous subclass of it"}, {"owner": {"reputation": 869, "user_id": 628319, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/042708b98b5301874d156fb83a976322?s=128&d=identicon&r=PG", "display_name": "Mugur", "link": "https://stackoverflow.com/users/628319/mugur"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1506772912, "post_id": 46502447, "comment_id": 79959206, "body": "in the decompiled code, the import looks like this: <code>import java.util.function.BiConsumer;</code>"}], "tags": [], "owner": {"reputation": 869, "user_id": 628319, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/042708b98b5301874d156fb83a976322?s=128&d=identicon&r=PG", "display_name": "Mugur", "link": "https://stackoverflow.com/users/628319/mugur"}, "is_accepted": true, "score": 1, "last_activity_date": 1506803069, "last_edit_date": 1506803069, "creation_date": 1506772415, "answer_id": 46502447, "question_id": 46486395, "link": "https://stackoverflow.com/questions/46486395/java-lang-noclassdeffounderror-com-example-api-retrofit-authenticationintercept/46502447#46502447", "title": "java.lang.NoClassDefFoundError: com.example.api.retrofit.AuthenticationInterceptor$intercept$1", "body": "<p>After a couple of hours of debugging, I figured out what was going on:</p>\n\n<p>In my gradle file I also had <code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"</code></p>\n\n<p>Because of this, it allowed me to use the following code:</p>\n\n<pre><code>headers.forEach { key, value -&gt;  // this is line 21\n    requestBuilder.addHeader(key, value)\n}\n</code></pre>\n\n<p>When decompiling and looking at the java code, this will look like this:</p>\n\n<pre><code>e.forEach((BiConsumer)(new BiConsumer() {\n           // $FF: synthetic method\n           // $FF: bridge method\n           public void accept(Object var1, Object var2) {\n              this.accept((String)var1, (String)var2);\n           }\n           public final void accept(String key, String value) {\n              requestBuilder.addHeader(key, value);\n           }\n        }));\n</code></pre>\n\n<p>The problem here is that the class <a href=\"https://developer.android.com/reference/java/util/function/BiConsumer.html\" rel=\"nofollow noreferrer\">BiConsumer was <strong>added in API level 24</strong></a>.\nThat's why it worked on Android 8.0(API level 26) and it didn't work on Android 6.0.1(API level 23).</p>\n\n<p>So, I ended up using a regular for loop instead of the forEach I went for initially.</p>\n\n<p>The main problem here is the exception: <code>java.lang.NoClassDefFoundError: com.example.api.retrofit.AuthenticationInterceptor$intercept$1</code>. If it would have said <code>java.lang.NoClassDefFoundError: java.util.function.BiConsumer</code>, I think it would have been much easier to debug.</p>\n"}], "owner": {"reputation": 869, "user_id": 628319, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/042708b98b5301874d156fb83a976322?s=128&d=identicon&r=PG", "display_name": "Mugur", "link": "https://stackoverflow.com/users/628319/mugur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 0, "accepted_answer_id": 46502447, "answer_count": 2, "score": 3, "last_activity_date": 1506803069, "creation_date": 1506679074, "last_edit_date": 1506717248, "question_id": 46486395, "link": "https://stackoverflow.com/questions/46486395/java-lang-noclassdeffounderror-com-example-api-retrofit-authenticationintercept", "title": "java.lang.NoClassDefFoundError: com.example.api.retrofit.AuthenticationInterceptor$intercept$1", "body": "<p>I recently added retrofit2 to my app. It works well on a Nexus 6P running Android 8.0, but when testing on an older OnePlus One, running Android 6.0.1, I ran into an error: </p>\n\n<pre><code>java.lang.NoClassDefFoundError: com.example.api.retrofit.AuthenticationInterceptor$intercept$1\n    at com.example.api.retrofit.AuthenticationInterceptor.intercept(AuthenticationInterceptor.kt:21)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\n    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)\n    at okhttp3.RealCall.execute(RealCall.java:69)\n    at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)\n    at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)\n    at com.example.fragment.xx.XXFragment$onViewCreated$2.getItemsForConstraint(XXFragment.kt:53)\n    at com.example.view.MyAutoCompleteTextView$Adapter$getFilter$1.performFiltering(MyAutoCompleteTextView.kt:114)\n    at android.widget.Filter$RequestHandler.handleMessage(Filter.java:234)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:148)\n    at android.os.HandlerThread.run(HandlerThread.java:61)\n</code></pre>\n\n<p>Here is my code:</p>\n\n<p>build.gradle</p>\n\n<pre><code>buildscript {\n    ext {\n        okhttpVersion = '3.8.0'\n        retrofitVersion = '2.3.0'\n    }\n...\n}\n</code></pre>\n\n<p>app/build.gradle:</p>\n\n<pre><code>compile \"com.squareup.okhttp3:okhttp:$okhttpVersion\"\ncompile \"com.squareup.okhttp3:logging-interceptor:$okhttpVersion\"\ncompile 'com.google.code.gson:gson:2.8.1'\ncompile(\"com.squareup.retrofit2:retrofit:$retrofitVersion\") {\n    exclude module: 'okhttp'\n}\ncompile \"com.squareup.retrofit2:converter-gson:$retrofitVersion\"\n</code></pre>\n\n<p>Building the service:</p>\n\n<pre><code>OkHttpClient client = new OkHttpClient().newBuilder()\n        .addInterceptor(new AuthenticationInterceptor(ctx))\n        .addInterceptor(new HttpLoggingInterceptor()\n                .setLevel(HttpLoggingInterceptor.Level.BODY))\n        .build();\nRetrofit retrofit = new Retrofit.Builder()\n        .baseUrl(HOST + VERSION + \"/\")\n        .client(client)\n        .addConverterFactory(new EnvelopingConverter())\n        .addConverterFactory(GsonConverterFactory.create())\n        .build();\nretrofitService = retrofit.create(ApiService.class);\n</code></pre>\n\n<p>The interceptor:</p>\n\n<pre><code>import android.content.Context\nimport com.example.api.Api\nimport com.example.controller.AuthManager\nimport okhttp3.Interceptor\nimport okhttp3.Response\n\nclass AuthenticationInterceptor(val context: Context) : Interceptor {\n    override fun intercept(chain: Interceptor.Chain?): Response? {\n        var request = chain?.request()\n        val headers = AuthManager.getAuthHeaders(context)\n\n        if (request != null) {\n            val requestBuilder = request.newBuilder()\n            requestBuilder.addHeader(Api.HEADER_ACCEPT, Api.HEADER_APP_JSON)\n\n            headers.forEach { key, value -&gt;  // this is line 21\n                requestBuilder.addHeader(key, value)\n            }\n\n            request = requestBuilder.build()\n        }\n\n        return chain?.proceed(request)\n    }\n}\n</code></pre>\n\n<p>I'm not sure what the issue might be? Anyone has any ideas?</p>\n\n<h1>UPDATE:</h1>\n\n<p>Wrote the interceptor in java and it seems to work. Why? I would really want to stick to Kotlin for this project.</p>\n\n<pre><code>public class AuthInterceptor implements Interceptor {\n    private Context context;\n\n    public AuthInterceptor(Context ctx) {\n        context = ctx;\n    }\n\n    @Override\n    public Response intercept(Chain chain) throws IOException {\n        Request request = chain.request();\n        Map&lt;String, String&gt; headers = AuthManager.getAuthHeaders(context);\n        if (request != null) {\n            Request.Builder requestBuilder = request.newBuilder();\n            requestBuilder.addHeader(Api.HEADER_ACCEPT, Api.HEADER_APP_JSON);\n            for (String key : headers.keySet()) {\n                requestBuilder.addHeader(key, headers.get(key));\n            }\n            request = requestBuilder.build();\n        }\n        return chain.proceed(request);\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 1, "creation_date": 1506675494, "post_id": 46485026, "comment_id": 79924968, "body": "Thanks! I also need to add the <code>override</code> keyword to <code>fun operator compareTo</code>"}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 4, "last_activity_date": 1506674565, "creation_date": 1506674565, "answer_id": 46485026, "question_id": 46484879, "link": "https://stackoverflow.com/questions/46484879/how-to-make-a-kotlin-comparable-type/46485026#46485026", "title": "How to make a Kotlin Comparable Type?", "body": "<p>You are almost there:</p>\n\n<p>Firstly, you must make your class <code>Comparable</code>:</p>\n\n<pre><code>class Date (val year: Int, val month: Int, val day: Int): Comparable&lt;Date&gt; {\n</code></pre>\n\n<p>Secondly, you must specify the generic of the return type or just omit it (let the compiler infer it)</p>\n\n<pre><code>operator fun rangeTo(that: Date): DateRange&lt;Date&gt; = DateRange(this, that)\noperator fun rangeTo(that: Date) = DateRange(this, that)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1506784340, "post_id": 46487696, "comment_id": 79962361, "body": "I can&#39;t do <code>class DateRange(override val start: Date, override val endInclusive: Date): ClosedRange&lt;Date&gt; </code>. It will complain <code>Type argument is not within its bounds: should be subtype of &#39;Comparable&lt;Date&gt;&#39;</code>"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1506784818, "post_id": 46487696, "comment_id": 79962508, "body": "So, that&#39;s the reason I use <code>class DateRange&lt;Date: Comparable&lt;Date&gt;&gt;(override val start: Date, override val endInclusive: Date) : ClosedRange&lt;Date&gt;</code> to solve the compilation error."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 1, "creation_date": 1506825863, "post_id": 46487696, "comment_id": 79971781, "body": "If you add <code>: Comparable&lt;Date&gt;</code> to your <code>Date</code> class, then your <code>DateRange</code> class does not need generic parameters."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1506833143, "post_id": 46487696, "comment_id": 79972752, "body": "Indeed. Thanks!!"}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": true, "score": 22, "last_activity_date": 1506683772, "creation_date": 1506683772, "answer_id": 46487696, "question_id": 46484879, "link": "https://stackoverflow.com/questions/46484879/how-to-make-a-kotlin-comparable-type/46487696#46487696", "title": "How to make a Kotlin Comparable Type?", "body": "<p>Is your question really about how to create a Comparable type?  Then just have your type implement the Comparable interface (override <code>compareTo</code>).</p>\n\n<pre><code>class Date(val year: Int, val month: Int, val day: Int) : Comparable&lt;Date&gt; {\n    override operator fun compareTo(other: Date): Int {\n        if (this.year &gt; other.year) return 1\n        if (this.year &lt; other.year) return -1\n        if (this.month &gt; other.month) return 1\n        if (this.month &lt; other.month) return -1\n        if (this.day &gt; other.day) return 1\n        if (this.day &lt; other.day) return -1\n        return 0\n    }\n }\n</code></pre>\n\n<p>You don't need a <code>rangeTo</code> method because all <code>Comparable&lt;T&gt;</code> types have a <code>rangeTo</code> extension already defined. See <a href=\"https://kotlinlang.org/docs/reference/ranges.html#ranges\" rel=\"noreferrer\">Ranges</a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/range-to.html#rangeto\" rel=\"noreferrer\">rangeTo</a>.  But, if you still want your own <code>DateRange</code> type (for other purposes), the simpler form of the <code>DateRange</code> class would be...</p>\n\n<pre><code>class DateRange(override val start: Date, override val endInclusive: Date)\n    : ClosedRange&lt;Date&gt;\n</code></pre>\n\n<p>In other words, there is no need for the generic parameter on <code>DateRange</code>.</p>\n\n<p>Then you would write your own <code>rangeTo</code> operator.  Either, add <code>operator fun rangeTo</code> to your <code>Date</code> class, or provide a root level extension function (my preference which is consistent with the Kotlin library approach).  Both will shadow/hide the <code>Comparable&lt;T&gt;.rangeTo</code> extension function for your <code>Date</code> type.</p>\n\n<pre><code>// class level rangeTo operator\noperator fun rangeTo(that: Date) = DateRange(this,that)\n\n// root level extension\noperator fun Date.rangeTo(that: Date) = DateRange(this,that)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6292, "user_id": 1483676, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/h2IgH.jpg?s=128&g=1", "display_name": "cubuspl42", "link": "https://stackoverflow.com/users/1483676/cubuspl42"}, "is_accepted": false, "score": 16, "last_activity_date": 1523991706, "creation_date": 1523991706, "answer_id": 49885650, "question_id": 46484879, "link": "https://stackoverflow.com/questions/46484879/how-to-make-a-kotlin-comparable-type/49885650#49885650", "title": "How to make a Kotlin Comparable Type?", "body": "<p>You need to implement <code>Comparable</code> interface. You can use <code>compareValuesBy</code> helper function:</p>\n\n<pre><code>data class Data(\n        val a: Int,\n        val b: Int\n) : Comparable&lt;Data&gt; {\n    override fun compareTo(other: Data) = compareValuesBy(this, other,\n            { it.a },\n            { it.b }\n    )\n}\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9916, "favorite_count": 2, "accepted_answer_id": 46487696, "answer_count": 3, "score": 15, "last_activity_date": 1523991706, "creation_date": 1506674095, "last_edit_date": 1506679934, "question_id": 46484879, "link": "https://stackoverflow.com/questions/46484879/how-to-make-a-kotlin-comparable-type", "title": "How to make a Kotlin Comparable Type?", "body": "<p>Just learning to define a DateRange type</p>\n\n<pre><code>val wholeYear2017 = Date(2017,1,1)..Date(2017,12,31)\n</code></pre>\n\n<p>So I created the type as below</p>\n\n<pre><code>class DateRange&lt;Date: Comparable&lt;Date&gt;&gt;(override val start: Date, override val endInclusive: Date)\n    : ClosedRange&lt;Date&gt;\n\nclass Date (val year: Int, val month: Int, val day: Int) {\n\n    operator fun compareTo(other: Date): Int {\n        if (this.year &gt; other.year) return 1\n        if (this.year &lt; other.year) return -1\n        if (this.month &gt; other.month) return 1\n        if (this.month &lt; other.month) return -1\n        if (this.day &gt; other.day) return 1\n        if (this.day &lt; other.day) return -1\n        return 0\n    }\n\n    operator fun rangeTo(that: Date): DateRange = DateRange(this, that)\n}\n</code></pre>\n\n<p>But I got a compile error</p>\n\n<pre><code>One type of argument expected for class DateRange&lt;Date: Comparable&lt;Date&gt;&gt; : ClosedRange&lt;Date&gt;\n</code></pre>\n\n<p>What did I missed? Did I do it correctly?</p>\n"}, {"tags": ["android-studio", "kotlin", "manifest"], "answers": [{"tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 0, "last_activity_date": 1506794067, "creation_date": 1506794067, "answer_id": 46505511, "question_id": 46484802, "link": "https://stackoverflow.com/questions/46484802/android-studio-not-applying-my-design-changes/46505511#46505511", "title": "Android Studio Not Applying My Design Changes", "body": "<p>You can fix problem two way.\n1. Use common one theme for all activities and use code for hiding and showing action bar in onCreate method </p>\n\n<pre><code>   // Set up the toolbar\n val toolbar = findViewById(R.id.toolbar) as Toolbar\n        setSupportActionBar(toolbar)\n         var actionBar = supportActionBar\n\n        //For hiding android actionbar\n        actionBar.hide();\n\n        //For showing android actionbar\n        //actionBar.show();\n</code></pre>\n\n<ol start=\"2\">\n<li>Use custom style for activity where you don\u2019t want to show action bar in example below I did it for application level but you can use it your way with your any other activities</li>\n</ol>\n\n<p><strong>style.xml</strong></p>\n\n<pre><code>&lt;resources&gt;\n    &lt;style name = \"AppTheme\" parent = \"android:Theme.Holo.Light.DarkActionBar\"&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n\n    &lt;style name = \"NoActionBar\" parent = \"@android:style/Theme.Holo.Light\"&gt;\n        &lt;item name = \"android:windowActionBar\"&gt;false&lt;/item&gt;\n        &lt;item name = \"android:windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n\n<p><strong>AndroidManifest.xml</strong></p>\n\n<pre><code>&lt;application\n    android:allowBackup = \"true\"\n    android:icon = \"@drawable/ic_launcher\"\n    android:label = \"@string/app_name\"\n    android:theme = \"@style/NoActionBar\"   &lt;!--This is the important line--&gt;\n    &gt;\n    &lt;activity\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6427247, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210180284930640/picture?type=large", "display_name": "Rami Tabaa", "link": "https://stackoverflow.com/users/6427247/rami-tabaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506794067, "creation_date": 1506673850, "question_id": 46484802, "link": "https://stackoverflow.com/questions/46484802/android-studio-not-applying-my-design-changes", "title": "Android Studio Not Applying My Design Changes", "body": "<p>I'm trying to change the theme of some activities by removing the action bar or changing the title of it. At first i was doing it using the AppTheme option in the design tab. However, after searching online i knew that i was doing it the wrong way, so i proceeded to the AndroidManifest file to do my changes manually. Unfortunately, it's not working either. Here's the code of my manifest file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"net.wonderheart\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n\n        &lt;activity android:name=\".MainActivity\"\n                  android:label=\"Sign Up\"/&gt;\n\n        &lt;activity\n            android:name=\".Login\"\n            android:label=\"Log In\"/&gt;\n\n        &lt;activity android:name=\".drawable.welcome\"&gt;\n\n            &lt;intent-filter&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity android:name=\".UserProfile\"\n                  android:theme=\"@style/AppTheme.NoActionBar\"/&gt;\n        &lt;activity android:name=\".HomePage\" &gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Here are some of my activities that I'm trying to change:\n<a href=\"https://i.stack.imgur.com/Ho2Uj.png\" rel=\"nofollow noreferrer\">Action Bar Title Changed Successfully</a>\n<a href=\"https://i.stack.imgur.com/whPjS.png\" rel=\"nofollow noreferrer\">Action Bar Title Didn't Change</a></p>\n\n<p>I'm using Android Studio 3.0 Preview and Kotlin. I hope you can help because i can't progress on my work without fixing this design issue!</p>\n"}]