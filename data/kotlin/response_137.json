[{"tags": ["java", "android", "build", "kotlin"], "comments": [{"owner": {"reputation": 941, "user_id": 5446940, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/8OddJ.jpg?s=128&g=1", "display_name": "ABS", "link": "https://stackoverflow.com/users/5446940/abs"}, "edited": false, "score": 1, "creation_date": 1503528097, "post_id": 45850294, "comment_id": 78658897, "body": "Add your build.gradle to the question. No one would be able to help you by only pasting the error log."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8508587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afc21d325d8bda1cb9915f76faf193ec?s=128&d=identicon&r=PG&f=1", "display_name": "Tech4tek", "link": "https://stackoverflow.com/users/8508587/tech4tek"}, "is_accepted": false, "score": 0, "last_activity_date": 1503643308, "last_edit_date": 1503643308, "creation_date": 1503530245, "answer_id": 45850650, "question_id": 45850294, "link": "https://stackoverflow.com/questions/45850294/android-studio-3-beta-2-build-failed/45850650#45850650", "title": "Android studio 3 beta 2 Build failed", "body": "<p>Try replacing the line </p>\n\n<blockquote>\n  <p>ext.kotlin_version</p>\n</blockquote>\n\n<p>in the build.gradle - project by </p>\n\n<blockquote>\n  <p>ext.kotlin_version = '1.1.2-4'</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 8508587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afc21d325d8bda1cb9915f76faf193ec?s=128&d=identicon&r=PG&f=1", "display_name": "Tech4tek", "link": "https://stackoverflow.com/users/8508587/tech4tek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1503643308, "creation_date": 1503527669, "question_id": 45850294, "link": "https://stackoverflow.com/questions/45850294/android-studio-3-beta-2-build-failed", "title": "Android studio 3 beta 2 Build failed", "body": "<p>When i start my First Kotlin project &amp; install <strong>Android studio 3 beta 2</strong> \ni get this  problem </p>\n\n<blockquote>\n  <p>Error:(29, 38) No resource found that matches the given name (at\n  'layout_width' with value '@dimen/abc_dropdownitem_icon_width').</p>\n  \n  <p>Error:(20, 26) No resource found that matches the given name (at\n  'alpha' with value '@dimen/highlight_alpha_material_colored').</p>\n  \n  <p>Error:(29, 38) No resource found that matches the given name (at\n  'layout_width' with value '@dimen/abc_dropdownitem_icon_width').</p>\n  \n  <p>Error:(59, 39) No resource found that matches the given name (at\n  'layout_width' with value '@dimen/abc_dropdownitem_icon_width').</p>\n  \n  <p>Error:(20, 26) No resource found that matches the given name (at\n  'alpha' with value '@dimen/highlight_alpha_material_colored').</p>\n  \n  <p>Error:java.util.concurrent.ExecutionException:\n  com.android.ide.common.process.ProcessException: Error while executing\n  process /home/programmer/Android/Sdk/build-tools/26.0.1/aapt with\n  arguments {package -f --no-crunch -I\n  /home/programmer/Android/Sdk/platforms/android-26/android.jar -M\n  /home/programmer/AndroidStudioProjects/MyFirstAppKotlin/app/build/intermediates/manifests/full/debug/AndroidManifest.xml\n  -S /home/programmer/AndroidStudioProjects/MyFirstAppKotlin/app/build/intermediates/res/merged/debug\n  -m -J /home/programmer/AndroidStudioProjects/MyFirstAppKotlin/app/build/generated/source/r/debug\n  -F /home/programmer/AndroidStudioProjects/MyFirstAppKotlin/app/build/intermediates/res/debug/resources-debug.ap_\n  --custom-package com.example.programmer.myfirstappkotlin -0 apk --output-text-symbols /home/programmer/AndroidStudioProjects/MyFirstAppKotlin/app/build/intermediates/symbols/debug\n  --no-version-vectors}</p>\n  \n  <p>Error:com.android.ide.common.process.ProcessException: Error while\n  executing process /home/programmer/Android/Sdk/build-tools/26.0.1/aapt\n  with arguments {package -f --no-crunch -I\n  /home/programmer/Android/Sdk/platforms/android-26/android.jar -M\n  /home/programmer/AndroidStudioProjects/MyFirstAppKotlin/app/build/intermediates/manifests/full/debug/AndroidManifest.xml\n  -S /home/programmer/AndroidStudioProjects/MyFirstAppKotlin/app/build/intermediates/res/merged/debug\n  -m -J /home/programmer/AndroidStudioProjects/MyFirstAppKotlin/app/build/generated/source/r/debug\n  -F /home/programmer/AndroidStudioProjects/MyFirstAppKotlin/app/build/intermediates/res/debug/resources-debug.ap_\n  --custom-package com.example.programmer.myfirstappkotlin -0 apk --output-text-symbols /home/programmer/AndroidStudioProjects/MyFirstAppKotlin/app/build/intermediates/symbols/debug\n  --no-version-vectors}</p>\n  \n  <p>Error:org.gradle.process.internal.ExecException: Process 'command\n  '/home/programmer/Android/Sdk/build-tools/26.0.1/aapt'' finished with\n  non-zero exit value 1</p>\n  \n  <p>Error:Execution failed for task ':app:processDebugResources'.</p>\n  \n  <blockquote>\n    <p>Failed to execute aapt</p>\n  </blockquote>\n</blockquote>\n\n<p>Thank you for help .</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1503520362, "post_id": 45848745, "comment_id": 78655807, "body": "whatis the problem with this <code>&quot;SELECT * FROM person&quot;</code>"}, {"owner": {"reputation": 1054, "user_id": 562146, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f105112f9c986a69ec89a5c84e69cc6e?s=128&d=identicon&r=PG", "display_name": "es0329", "link": "https://stackoverflow.com/users/562146/es0329"}, "reply_to_user": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1503521900, "post_id": 45848745, "comment_id": 78656505, "body": "As-presented, the query is valid. My issue is that I&#39;m able to use invalid SQL without Android Studio raising a compile-time error, which is a primary feature of the Room persistence library.  Also, whoever voted &quot;close,&quot; what&#39;s wrong with my inquiry?"}, {"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1503521990, "post_id": 45848745, "comment_id": 78656550, "body": "i thing you should also add the <code>Room.databaseBuilder</code>"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1503569057, "post_id": 45848745, "comment_id": 78675047, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. This would include code that <b>actually fails</b>, rather than code that works (&quot;As-presented, the query is valid&quot;)."}, {"owner": {"reputation": 1054, "user_id": 562146, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f105112f9c986a69ec89a5c84e69cc6e?s=128&d=identicon&r=PG", "display_name": "es0329", "link": "https://stackoverflow.com/users/562146/es0329"}, "edited": false, "score": 0, "creation_date": 1503582052, "post_id": 45848745, "comment_id": 78684699, "body": "Ok, Gist updated with an invalid query."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1503659988, "post_id": 45848745, "comment_id": 78718729, "body": "You might want to take a look at the code generated by Room for this DAO and see what it did with your query. I don&#39;t think Room will catch all types of invalid SQL (e.g., malformed <code>WHERE</code> clause), but I would expect it to complain if you refer to columns that are not recognized, for example. You might also consider filing an issue."}], "owner": {"reputation": 1054, "user_id": 562146, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f105112f9c986a69ec89a5c84e69cc6e?s=128&d=identicon&r=PG", "display_name": "es0329", "link": "https://stackoverflow.com/users/562146/es0329"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1503520062, "creation_date": 1503520062, "question_id": 45848745, "link": "https://stackoverflow.com/questions/45848745/room-missing-compile-time-sql-checks", "title": "Room missing compile-time SQL checks?", "body": "<p>In Google's tutorials I have the compile-time checking. In my own sandbox project I don't see them. It allows invalid invalid SQL passed into <code>@Query</code>.</p>\n\n<p>See <a href=\"https://gist.github.com/es0329/aa5638899f46157ddb425d60f2f68219\" rel=\"nofollow noreferrer\">Gist</a> of what I think are the pertinent files.</p>\n"}, {"tags": ["kotlin", "detekt"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1503552979, "post_id": 45846555, "comment_id": 78665157, "body": "Hi, this seems pretty cool. Where do you define such patterns? (I want that too :) ). Is that some code-style plugin?"}, {"owner": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1503582706, "post_id": 45846555, "comment_id": 78685238, "body": "@guenhter yes, this a gradle plugin for statis analysis: <a href=\"https://github.com/arturbosch/detekt\" rel=\"nofollow noreferrer\">github.com/arturbosch/detekt</a> :)"}], "answers": [{"comments": [{"owner": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "edited": false, "score": 0, "creation_date": 1503519167, "post_id": 45847274, "comment_id": 78655212, "body": "You just missed the dot from the package names. The updated regex is the following: packagePattern: &#39;[a-zA-Z_$]*&#39;"}], "tags": [], "owner": {"reputation": 433, "user_id": 1361011, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1fe615e0a1add5e0c9ce6ac1279c0458?s=128&d=identicon&r=PG", "display_name": "Mauin", "link": "https://stackoverflow.com/users/1361011/mauin"}, "is_accepted": true, "score": 1, "last_activity_date": 1503513966, "creation_date": 1503513966, "answer_id": 45847274, "question_id": 45846555, "link": "https://stackoverflow.com/questions/45846555/detekt-snake-case-package/45847274#45847274", "title": "detekt snake case package", "body": "<p>You can set your own pattern for package names with the <code>packagePattern</code> parameter on the <code>NamingConventionViolation</code> rule.</p>\n\n<p>e.g.:</p>\n\n<pre><code>NamingConventionViolation:\n    active: true\n    variablePattern: '^(_)?[a-z$][a-zA-Z$0-9]*$'\n    constantPattern: '^([A-Z_]*|serialVersionUID)$'\n    methodPattern: '^[a-z$][a-zA-Z$0-9]*$'\n    classPattern: '[A-Za-z$][a-zA-Z_.$]*'\n    enumEntryPattern: '^[A-Z$][a-zA-Z_$]*$'\n    packagePattern: '[a-zA-Z_$]*'\n</code></pre>\n"}], "owner": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "accepted_answer_id": 45847274, "answer_count": 1, "score": 0, "last_activity_date": 1505142774, "creation_date": 1503511278, "last_edit_date": 1505142774, "question_id": 45846555, "link": "https://stackoverflow.com/questions/45846555/detekt-snake-case-package", "title": "detekt snake case package", "body": "<p>I added <a href=\"https://github.com/arturbosch/detekt\" rel=\"nofollow noreferrer\">detekt</a> to my app and it is complaining about my package names conventions.</p>\n\n<p>I use the package snake_cased and the class CamelCased.</p>\n\n<p>For example:</p>\n\n<pre><code>package com.my_package\n\nclass MyClass\n</code></pre>\n\n<p>And the output from detekt is the following:</p>\n\n<pre><code>NamingConventionViolation - [MyClass.kt] at com/my_package/MyClass.kt:1:1\n</code></pre>\n\n<p>I have the following as my naming conventions configuration:</p>\n\n<pre><code>NamingConventionViolation:\n    active: true\n    variablePattern: '^(_)?[a-z$][a-zA-Z$0-9]*$'\n    constantPattern: '^([A-Z_]*|serialVersionUID)$'\n    methodPattern: '^[a-z$][a-zA-Z$0-9]*$'\n    classPattern: '[A-Za-z$][a-zA-Z_.$]*'\n    enumEntryPattern: '^[A-Z$][a-zA-Z_$]*$'\n</code></pre>\n\n<p>I changed the default class Pattern to add the possibility to start with lower case and have _ in the class name because I understood that detekt is validating the FQN and not only the name.</p>\n\n<p>So, my question is: how can I set the pattern that detekt uses for package names?</p>\n"}, {"tags": ["java", "lambda", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1503511506, "post_id": 45846506, "comment_id": 78651244, "body": "Try wrapping the lambda in parentheses."}], "answers": [{"tags": [], "owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "is_accepted": true, "score": 4, "last_activity_date": 1503511559, "creation_date": 1503511559, "answer_id": 45846628, "question_id": 45846506, "link": "https://stackoverflow.com/questions/45846506/java-lambda-to-kotlin/45846628#45846628", "title": "Java Lambda to Kotlin", "body": "<p>You need to help Kotlin compiler a bit and tell it what is the type of this lambda. This code should compile and work just fine:</p>\n\n<pre><code>        c.addBuilderCustomizers(UndertowBuilderCustomizer{ it.setServerOption(UndertowOptions.ENABLE_HTTP2, true)})\n</code></pre>\n"}], "owner": {"reputation": 575, "user_id": 3930124, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/100000699628424/picture?type=large", "display_name": "Rodney Nogueira", "link": "https://stackoverflow.com/users/3930124/rodney-nogueira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1125, "favorite_count": 0, "accepted_answer_id": 45846628, "answer_count": 1, "score": 2, "last_activity_date": 1503512222, "creation_date": 1503511111, "last_edit_date": 1503511471, "question_id": 45846506, "link": "https://stackoverflow.com/questions/45846506/java-lambda-to-kotlin", "title": "Java Lambda to Kotlin", "body": "<p>I'm building my code with Kotlin.</p>\n\n<p>I've stumbled upon a problem using Lambda in Kotlin with the following:</p>\n\n<p>Java code:</p>\n\n<pre><code>  ((UndertowEmbeddedServletContainerFactory) container)\n        .addBuilderCustomizers(builder -&gt;\n        builder.setServerOption(UndertowOptions.ENABLE_HTTP2, true));\n</code></pre>\n\n<p>Using common interface instantiation</p>\n\n<pre><code>((UndertowEmbeddedServletContainerFactory) container)\n            .addBuilderCustomizers(new UndertowBuilderCustomizer() {\n                @Override\n                public void customize(Builder builder) {\n                    builder.setServerOption(UndertowOptions.ENABLE_HTTP2, true);\n                }\n            });\n</code></pre>\n\n<p>My code in Kotlin</p>\n\n<pre><code>val c: UndertowEmbeddedServletContainerFactory = (container as UndertowEmbeddedServletContainerFactory)\n// Calling the Lambda\nc.addBuilderCustomizers{ (b: Builder) -&gt; b.setServerOption(UndertowOptions.ENABLE_HTTP2, true) }\n</code></pre>\n\n<p>It's giving me a syntax error:</p>\n\n<blockquote>\n  <p>Multiple markers at this line - Passing value as a vararg is only\n  allowed inside a parenthesized argument list - Cannot infer a type for\n  this parameter. Please specify it explicitly.</p>\n</blockquote>\n\n<p>What might be the correct syntax to this?</p>\n"}, {"tags": ["android", "sorting", "lambda", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1503512501, "post_id": 45846566, "comment_id": 78651834, "body": "thanks @Bob! I guess the question is more of on why kotlin puts this &#39;deprecated&#39; sort there and not allow you to use. it would be better for the function on the collection type to have similar calling syntax."}], "tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 1, "last_activity_date": 1503511320, "creation_date": 1503511320, "answer_id": 45846566, "question_id": 45846429, "link": "https://stackoverflow.com/questions/45846429/android-kotlin-cannot-use-list-sort-with-lambda/45846566#45846566", "title": "Android Kotlin cannot use list.sort() with lambda", "body": "<p>Because <code>sort</code> is deprecated and marked as <code>DeprecationLevel.ERROR</code>. </p>\n\n<pre><code>@Deprecated(\"Use sortWith(Comparator(comparison)) instead.\", ReplaceWith(\"this.sortWith(Comparator(comparison))\"), level = DeprecationLevel.ERROR)\n@JvmVersion\n@kotlin.internal.InlineOnly\n@Suppress(\"UNUSED_PARAMETER\")\npublic inline fun &lt;T&gt; MutableList&lt;T&gt;.sort(comparison: (T, T) -&gt; Int): Unit = throw NotImplementedError()\n</code></pre>\n\n<p>That's why you are getting an error and the compiler asks to use <code>sortWith</code> instead. </p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1148, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1503575746, "creation_date": 1503510847, "last_edit_date": 1503575746, "question_id": 45846429, "link": "https://stackoverflow.com/questions/45846429/android-kotlin-cannot-use-list-sort-with-lambda", "title": "Android Kotlin cannot use list.sort() with lambda", "body": "<p>having a string list, for filter it takes the lambda expression directly</p>\n\n<pre><code>val list= ArrayList&lt;String&gt;()\nlist.add(\"eee\")\nlist.add(\"888\")\nlist.add(\"ccc\")\n\nlist.filter({it.length &gt; 0})\n\n// this passing function works too\nlist.filter(fun(it) = it.length &gt; 0)\n</code></pre>\n\n<p>it is defined as taking lambda function type: <code>(T) -&gt; Boolean</code></p>\n\n<pre><code>public inline fun &lt;T&gt; Iterable&lt;T&gt;.filter(predicate: (T) -&gt; Boolean): List&lt;T&gt; {\n    return filterTo(ArrayList&lt;T&gt;(), predicate)\n}\n</code></pre>\n\n<p>but similar syntax does not work with <code>sort()</code>. It asks to use sortWith instead. Don\u2019t understand why cant directly pass the lambda expression as in the <code>filter()</code> call. </p>\n\n<p>Could someone explain why <code>sort()</code> cannot use the similar syntax for a lambda function directly?</p>\n\n<pre><code>list.sort({ first: String, second: String -&gt;\n    first.compareTo(second)\n})\n</code></pre>\n\n<p>list.sort is defined as below, also taking a lambda function: <code>(T, T) -&gt; Int</code>: </p>\n\n<pre><code>public inline fun &lt;T&gt; MutableList&lt;T&gt;.sort(comparison: (T, T) -&gt; Int): Unit = throw NotImplementedError()\n</code></pre>\n\n<p>but it gives error \u201c<em>using sort((T, T) -> Int) : Unit is an error Use sortWith(Comparator(comparison)) instead</em>\"</p>\n\n<p>both <code>sort()</code> and <code>sortWith()</code> have same return type of <code>Unit</code> in the define</p>\n\n<p>for <code>sortWith()</code> it has to passing the Comparator, like:</p>\n\n<pre><code>list.sortWith(Comparator { first, second -&gt;\n    first.compareTo(second)\n})\n</code></pre>\n\n<p>which is defined as:</p>\n\n<pre><code>@kotlin.jvm.JvmVersion\npublic fun &lt;T&gt; MutableList&lt;T&gt;.sortWith(comparator: Comparator&lt;in T&gt;): Unit {\n    if (size &gt; 1) java.util.Collections.sort(this, comparator)\n}\n</code></pre>\n\n<p>Also the Arrays.sort can use the same syntax as <code>filter()</code> and it takes the lambda function directly</p>\n\n<pre><code>var listStr = TextUtils.join(\", \", list);\nArrays.sort(arrayOf(listStr)) { first: String, second: String -&gt;\n    first.compareTo(second)\n}\n</code></pre>\n\n<p>the Arrays.sort is defined as:</p>\n\n<pre><code>public static &lt;T&gt; void sort(T[] a, Comparator&lt;? super T&gt; c) {\n    throw new RuntimeException(\"Stub!\");\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "android-gradle-plugin", "kotlin", "build.gradle"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503511281, "post_id": 45845878, "comment_id": 78651123, "body": "For some reason, either Kotlin output of several modules that are packed together in your project contains the same <code>*.kotlin_module</code> file, or duplicate Kotlin output is attempted to package (more likely). I will try to reproduce the issue sometime soon. Is your project open source?"}, {"owner": {"reputation": 269, "user_id": 7304116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-n7TCtnRd0gg/AAAAAAAAAAI/AAAAAAAAAAA/-RMarMdA9Dk/photo.jpg?sz=128", "display_name": "Vasco", "link": "https://stackoverflow.com/users/7304116/vasco"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503512655, "post_id": 45845878, "comment_id": 78651908, "body": "@hotkey no my project is not open source, thank you for the help let me know we can talk in person!"}, {"owner": {"reputation": 1052, "user_id": 2238023, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a92a99a6222b719e5b407e0ea6f7cac6?s=128&d=identicon&r=PG", "display_name": "Bryan Bryce", "link": "https://stackoverflow.com/users/2238023/bryan-bryce"}, "edited": false, "score": 0, "creation_date": 1509473774, "post_id": 45845878, "comment_id": 81031079, "body": "Also happens in AS 3.0 release."}], "answers": [{"comments": [{"owner": {"reputation": 269, "user_id": 7304116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-n7TCtnRd0gg/AAAAAAAAAAI/AAAAAAAAAAA/-RMarMdA9Dk/photo.jpg?sz=128", "display_name": "Vasco", "link": "https://stackoverflow.com/users/7304116/vasco"}, "edited": false, "score": 1, "creation_date": 1503513851, "post_id": 45846639, "comment_id": 78652565, "body": "Thanks, that saved me!"}, {"owner": {"reputation": 1450, "user_id": 7904944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Kt6p.jpg?s=128&g=1", "display_name": "Milad Moosavi", "link": "https://stackoverflow.com/users/7904944/milad-moosavi"}, "reply_to_user": {"reputation": 269, "user_id": 7304116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-n7TCtnRd0gg/AAAAAAAAAAI/AAAAAAAAAAA/-RMarMdA9Dk/photo.jpg?sz=128", "display_name": "Vasco", "link": "https://stackoverflow.com/users/7304116/vasco"}, "edited": false, "score": 0, "creation_date": 1503535262, "post_id": 45846639, "comment_id": 78660645, "body": "Glad to help :)"}], "tags": [], "owner": {"reputation": 1450, "user_id": 7904944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Kt6p.jpg?s=128&g=1", "display_name": "Milad Moosavi", "link": "https://stackoverflow.com/users/7904944/milad-moosavi"}, "is_accepted": true, "score": 12, "last_activity_date": 1503511607, "creation_date": 1503511607, "answer_id": 45846639, "question_id": 45845878, "link": "https://stackoverflow.com/questions/45845878/android-studio-3-0-beta2/45846639#45846639", "title": "Android Studio 3.0 beta2", "body": "<p>First Invalidate caches and restart, then clean the project and rebuild it .hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 7330, "user_id": 2715073, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9b9b50cb88f8dd1ae6de578421300fe6?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj", "link": "https://stackoverflow.com/users/2715073/pankaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1509001934, "creation_date": 1509001934, "answer_id": 46947918, "question_id": 45845878, "link": "https://stackoverflow.com/questions/45845878/android-studio-3-0-beta2/46947918#46947918", "title": "Android Studio 3.0 beta2", "body": "<p>First Clean the cache by using below command based on your os:</p>\n\n<p>On Windows:</p>\n\n<pre><code>gradlew cleanBuildCache\n</code></pre>\n\n<p>On Mac or Linux:</p>\n\n<pre><code>./gradlew cleanBuildCache\n</code></pre>\n\n<p>After this clean and rebuild the project.</p>\n"}, {"tags": [], "owner": {"reputation": 534, "user_id": 2712965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8312e148663f4d1e8659e9451498ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Axrorxo&#39;ja Yodgorov", "link": "https://stackoverflow.com/users/2712965/axrorxoja-yodgorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1566907062, "creation_date": 1566907062, "answer_id": 57674188, "question_id": 45845878, "link": "https://stackoverflow.com/questions/45845878/android-studio-3-0-beta2/57674188#57674188", "title": "Android Studio 3.0 beta2", "body": "<p>Add app:build.gradle file</p>\n\n<pre><code>packagingOptions {\n    exclude 'META-INF/app_debug.kotlin_module'\n}\n</code></pre>\n\n<p>hope it helps.</p>\n"}], "owner": {"reputation": 269, "user_id": 7304116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-n7TCtnRd0gg/AAAAAAAAAAI/AAAAAAAAAAA/-RMarMdA9Dk/photo.jpg?sz=128", "display_name": "Vasco", "link": "https://stackoverflow.com/users/7304116/vasco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1733, "favorite_count": 0, "accepted_answer_id": 45846639, "answer_count": 3, "score": 9, "last_activity_date": 1566907062, "creation_date": 1503508993, "question_id": 45845878, "link": "https://stackoverflow.com/questions/45845878/android-studio-3-0-beta2", "title": "Android Studio 3.0 beta2", "body": "<p>When I build my project I got the following error:</p>\n\n<blockquote>\n  <p>Error:com.android.builder.merge.DuplicateRelativeFileException: More than one file was found with OS independent path 'META-INF/app_debug.kotlin_module'</p>\n</blockquote>\n\n<p>here is my build.gradle file</p>\n\n<pre><code>  buildscript {\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n        google()\n    }\n\n    dependencies {\n        classpath 'io.fabric.tools:gradle:1.+'\n    }\n    }\n\n    apply plugin: 'com.android.application'\n    apply plugin: 'io.fabric'\n    apply plugin: 'kotlin-android'\n    apply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.1\"\n    defaultConfig {\n        applicationId \"com.e9innovation.infrastructure\"\n        multiDexEnabled true\n        minSdkVersion 19\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        vectorDrawables.useSupportLibrary true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n\n        debug {\n            signingConfig signingConfigs.debug\n        }\n    }\n\n    signingConfigs {\n        debug {\n            storeFile file('../keystores/debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n}\n\next {\n    supportLibVersion = \"26.0.1\"\n    playServicesVersion = \"11.2.0\"\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://maven.fabric.io/public' }\n    google()\n}\n\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    testCompile 'junit:junit:4.12'\n    compile \"com.android.support:appcompat-v7:${supportLibVersion}\"\n    compile \"com.android.support:design:${supportLibVersion}\"\n    compile \"com.android.support:support-v4:${supportLibVersion}\"\n    compile \"com.android.support:cardview-v7:${supportLibVersion}\"\n    compile \"com.android.support:exifinterface:${supportLibVersion}\"\n    compile \"com.google.android.gms:play-services-base:${playServicesVersion}\"\n    compile \"com.google.android.gms:play-services-maps:${playServicesVersion}\"\n    compile \"com.google.android.gms:play-services-gcm:${playServicesVersion}\"\n    compile \"com.google.android.gms:play-services-location:${playServicesVersion}\"\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile \"com.android.support:percent:${supportLibVersion}\"\n    testCompile 'junit:junit:4.12'\n\n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    //apache commons\n    compile 'org.apache.commons:commons-lang3:3.5'\n\n    compile \"com.google.firebase:firebase-database:${playServicesVersion}\"\n    compile \"com.google.firebase:firebase-storage:${playServicesVersion}\"\n    compile \"com.google.firebase:firebase-auth:${playServicesVersion}\"\n    compile 'com.firebase:geofire-android:2.1.1'\n\n    compile 'com.github.bumptech.glide:glide:4.0.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.0.0'\n\n    compile 'com.github.chrisbanes:PhotoView:2.1.3'\n\n    compile project(path: ':searchView')\n    compile('com.crashlytics.sdk.android:crashlytics:2.6.8@aar') {\n        transitive = true;\n    }\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>P.S. I upgrade my Android studio to 3.0 beat-2 and this issues appears.\nWho has idea what is it about? </p>\n"}, {"tags": ["android", "service", "kotlin", "overlay"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 5554287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/28d707e7a08f4fe94993f4a79a0741dc?s=128&d=identicon&r=PG&f=1", "display_name": "laszlo", "link": "https://stackoverflow.com/users/5554287/laszlo"}, "edited": false, "score": 0, "creation_date": 1503505939, "post_id": 45844896, "comment_id": 78648129, "body": "Thanks for quick answer. I was thinking maybe it isn&#39;t something uncommon, we have wide variety of apps drawing on top of other apps like RedMoon or Messenger springy contact heads. So I understand you can either draw something on the screen but not receive touches or draw something and receive touches, but they wont be propagated further? Is there any workaround or is this definitely blocked for good?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 175, "user_id": 5554287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/28d707e7a08f4fe94993f4a79a0741dc?s=128&d=identicon&r=PG&f=1", "display_name": "laszlo", "link": "https://stackoverflow.com/users/5554287/laszlo"}, "edited": false, "score": 0, "creation_date": 1503506658, "post_id": 45844896, "comment_id": 78648535, "body": "@laszlo: &quot; So I understand you can either draw something on the screen but not receive touches or draw something and receive touches, but they wont be propagated further?&quot; -- correct. &quot;Is there any workaround&quot; -- I sure hope not, as that would represent a security flaw."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 2, "last_activity_date": 1503505363, "creation_date": 1503505363, "answer_id": 45844896, "question_id": 45844854, "link": "https://stackoverflow.com/questions/45844854/detecting-touch-events-in-overlay-and-passing-them-further/45844896#45844896", "title": "Detecting touch events in overlay and passing them further", "body": "<p>Fortunately, this is not possible, except perhaps on rooted devices or via custom firmware.</p>\n\n<p>What you are describing is a tapjacking attack: spying on user input while passing that same input along so it has normal effects. This has been blocked for privacy and security reasons since Android 4.0.</p>\n"}], "owner": {"reputation": 175, "user_id": 5554287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/28d707e7a08f4fe94993f4a79a0741dc?s=128&d=identicon&r=PG&f=1", "display_name": "laszlo", "link": "https://stackoverflow.com/users/5554287/laszlo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 0, "accepted_answer_id": 45844896, "answer_count": 1, "score": 0, "last_activity_date": 1503505458, "creation_date": 1503505231, "last_edit_date": 1503505458, "question_id": 45844854, "link": "https://stackoverflow.com/questions/45844854/detecting-touch-events-in-overlay-and-passing-them-further", "title": "Detecting touch events in overlay and passing them further", "body": "<p>I want to make an <code>overlay</code> gesture detector that will be displayed above all other apps.\nThe overlay will be started from a <code>Service</code>.</p>\n\n<p>I've made sample service just to check if touch event from touching overlaid <strong>icon</strong> can be somehow recorded and dispatched further to currently active app:</p>\n\n<pre><code>class GestureDetectorService : Service() {\noverride fun onBind(intent: Intent?): IBinder? = null\n\nval windowManager: WindowManager\n    get() = getSystemService(Context.WINDOW_SERVICE) as WindowManager\n\nvar iv: AppCompatImageView? = null\n\noverride fun onCreate() {\n    super.onCreate()\n    iv = AppCompatImageView(this)\n    iv?.setImageResource(R.drawable.icon)\n\n    iv?.setOnTouchListener { view, motionEvent -&gt;\n        when (motionEvent.action) {\n            MotionEvent.ACTION_DOWN -&gt; {\n                Log.d(\"Click\", \"From icon\")\n                false\n            }\n            else -&gt; false\n        }\n    }\n\n    val params: WindowManager.LayoutParams = WindowManager.LayoutParams(\n            WindowManager.LayoutParams.WRAP_CONTENT\n            , WindowManager.LayoutParams.WRAP_CONTENT\n            , WindowManager.LayoutParams.TYPE_PHONE,\n            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE\n            or WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN\n            or WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS\n            or WindowManager.LayoutParams.FLAG_LAYOUT_INSET_DECOR\n            or WindowManager.LayoutParams.FLAG_HARDWARE_ACCELERATED\n            , PixelFormat.TRANSLUCENT)\n\n    params.gravity = Gravity.TOP or Gravity.LEFT\n    params.x = 100\n    params.y = 100\n\n    windowManager.addView(iv, params)\n}\n\noverride fun onDestroy() {\n    super.onDestroy()\n    iv.let { windowManager.removeView(iv) }\n}\n}\n</code></pre>\n\n<p>no luck.</p>\n\n<p>let's say I want to detect when user will perform a <code>Fling</code>of certain velocity, or 'draw' certain shape on the screen, which would trigger for example launching of notepad.</p>\n\n<p>But I don't want any of this to block normal app interaction, user must be able to interact with whatever app is launched normally.</p>\n\n<p>Concise answer in Kotlin would be super nice, but if you will come up with something in Java, that also would be great.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1503502908, "post_id": 45844030, "comment_id": 78646114, "body": "Maybe you can format your question nicely so that I&#39;m able to understand what you want? As it stands now, it looks like a wall of error message here. If that is already the exact way how Kotlin prints the error message, then you should probably drop that and try JQuery instead."}], "answers": [{"tags": [], "owner": {"reputation": 929, "user_id": 7855177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-avNsBxd4mKE/AAAAAAAAAAI/AAAAAAAAABQ/dSTXwqwzagQ/photo.jpg?sz=128", "display_name": "Piwo", "link": "https://stackoverflow.com/users/7855177/piwo"}, "is_accepted": false, "score": 0, "last_activity_date": 1503502715, "creation_date": 1503502715, "answer_id": 45844065, "question_id": 45844030, "link": "https://stackoverflow.com/questions/45844030/i-need-to-know-why-and-if-i-change-this-line-to-printlnnametwo-error-solve/45844065#45844065", "title": "I need to know why? and If I change this line to &quot;println(name+two)&quot; error solved?", "body": "<p>Kotlin has its own style of formatting Strings, try:</p>\n\n<pre><code>println(\"$two$name\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 0, "last_activity_date": 1503503625, "creation_date": 1503503625, "answer_id": 45844368, "question_id": 45844030, "link": "https://stackoverflow.com/questions/45844030/i-need-to-know-why-and-if-i-change-this-line-to-printlnnametwo-error-solve/45844368#45844368", "title": "I need to know why? and If I change this line to &quot;println(name+two)&quot; error solved?", "body": "<p>In Kotlin, you can concatenate using <a href=\"https://kotlinlang.org/docs/reference/basic-syntax.html#using-string-templates\" rel=\"nofollow noreferrer\">string templates</a>:</p>\n\n<pre><code>val c = \"$two $name\"\nprint(c)\n</code></pre>\n\n<p>Other <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#string-templates\" rel=\"nofollow noreferrer\">info here.</a></p>\n"}, {"tags": [], "owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "is_accepted": false, "score": 2, "last_activity_date": 1503504523, "creation_date": 1503504523, "answer_id": 45844660, "question_id": 45844030, "link": "https://stackoverflow.com/questions/45844030/i-need-to-know-why-and-if-i-change-this-line-to-printlnnametwo-error-solve/45844660#45844660", "title": "I need to know why? and If I change this line to &quot;println(name+two)&quot; error solved?", "body": "<p>The reason this doesn't compile in Kotlin is because there is no implicit conversion of a numeric to a String when concatenating, unlike in Java. </p>\n\n<p>For example, this would compile:</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;) { \n    val two = 2\n    val name = \"Mensh\"\n    println(two.toString() + name) \n}\n</code></pre>\n\n<p>As others have mentioned, string templates would be a more idiomatic way of doing this.</p>\n"}, {"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 1, "last_activity_date": 1503505049, "last_edit_date": 1503505049, "creation_date": 1503504747, "answer_id": 45844727, "question_id": 45844030, "link": "https://stackoverflow.com/questions/45844030/i-need-to-know-why-and-if-i-change-this-line-to-printlnnametwo-error-solve/45844727#45844727", "title": "I need to know why? and If I change this line to &quot;println(name+two)&quot; error solved?", "body": "<p>The other answers are giving you the solution, but are not explaining your error.</p>\n\n<pre><code>Error:(8, 16) Kotlin: None of the following functions can be called with the arguments supplied: \npublic final operator fun plus(other: Byte): Int defined in kotlin.Int \npublic final operator fun plus(other: Double): Double defined in kotlin.Int \npublic final operator fun plus(other: Float): Float defined in kotlin.Int \npublic final operator fun plus(other: Int): Int defined in kotlin.Int \npublic final operator fun plus(other: Long): Long defined in kotlin.Int \npublic final operator fun plus(other: Short): Int defined in kotlin.Int\n</code></pre>\n\n<p>Kotlin has <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">operator overloading</a> for <code>+</code> operator.</p>\n\n<p><code>println(two+name)</code>: Here the compiler tries to use the plus operator overloaded function of <code>Int</code> which has a <code>String</code> paramter, but there are no such function. Hence you get the above error. You can see all the plus operator overloaded function in the error above. </p>\n\n<p><code>println(name+two)</code>: But <code>String</code> has a plus operator overloaded function which accepts <code>Any?</code> parameter. So you are not getting any error. This is the plus operator overloaded function of String:</p>\n\n<pre><code>public operator fun plus(other: Any?): String\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7065941"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1503510581, "creation_date": 1503502601, "last_edit_date": 1503510581, "question_id": 45844030, "link": "https://stackoverflow.com/questions/45844030/i-need-to-know-why-and-if-i-change-this-line-to-printlnnametwo-error-solve", "title": "I need to know why? and If I change this line to &quot;println(name+two)&quot; error solved?", "body": "<pre><code>fun main(args:Array&lt;String&gt;){\n    val two=2\n    val name:String?\n    name=\"Mensh\"\n    println(two+name)\n}\n</code></pre>\n\n<p>This is a simple kotlin app and I got the error on <code>println(two+name)</code>: </p>\n\n<pre><code>Error:(8, 16) Kotlin: None of the following functions can be called with the arguments supplied: \npublic final operator fun plus(other: Byte): Int defined in kotlin.Int \npublic final operator fun plus(other: Double): Double defined in kotlin.Int \npublic final operator fun plus(other: Float): Float defined in kotlin.Int \npublic final operator fun plus(other: Int): Int defined in kotlin.Int \npublic final operator fun plus(other: Long): Long defined in kotlin.Int \npublic final operator fun plus(other: Short): Int defined in kotlin.Int\n</code></pre>\n"}, {"tags": ["kotlin", "retrofit", "retrofit2", "notnull"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 2, "creation_date": 1503499914, "post_id": 45842679, "comment_id": 78643948, "body": "Why do you have single <code>AuthenticationResponse</code>? It seems to be that it would be more sensible to use separate response model for each API call."}, {"owner": {"reputation": 1643, "user_id": 3396396, "user_type": "registered", "accept_rate": 13, "profile_image": "https://graph.facebook.com/608285721/picture?type=large", "display_name": "Rik van Velzen", "link": "https://stackoverflow.com/users/3396396/rik-van-velzen"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1503560226, "post_id": 45842679, "comment_id": 78669079, "body": "@miensol: yes, having seperate response models would definitely solve the problem. But I put the question out here because I really wanted to know if there are also a different ways/a way you can make sure certain value is non-null"}], "answers": [{"comments": [{"owner": {"reputation": 2509, "user_id": 1738090, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9c5127a1f300d2f092a5eeb7f76ce348?s=128&d=identicon&r=PG", "display_name": "w3bshark", "link": "https://stackoverflow.com/users/1738090/w3bshark"}, "edited": false, "score": 1, "creation_date": 1503505986, "post_id": 45843252, "comment_id": 78648158, "body": "Bob&#39;s answer is better than mine and is how you should be doing your response handling in the long run."}], "tags": [], "owner": {"reputation": 2509, "user_id": 1738090, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9c5127a1f300d2f092a5eeb7f76ce348?s=128&d=identicon&r=PG", "display_name": "w3bshark", "link": "https://stackoverflow.com/users/1738090/w3bshark"}, "is_accepted": false, "score": 0, "last_activity_date": 1503500913, "last_edit_date": 1503500913, "creation_date": 1503500435, "answer_id": 45843252, "question_id": 45842679, "link": "https://stackoverflow.com/questions/45842679/retrofit-api-call-how-to-make-sure-that-value-is-not-null-after-making-api-call/45843252#45843252", "title": "Retrofit API call: How to make sure that value is not null after making api call?", "body": "<p>I would consider what @miensol mentioned in a comment, but if you wanted to add a check for this, you could do something like:</p>\n\n<pre><code>fun isEmailValid(authResponse: AuthenticationResponse): Boolean {\n    return authResponse.validEmail ?: false\n}\n</code></pre>\n\n<p>See Kotlin docs on <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\">Elvis Operator</a>:</p>\n\n<blockquote>\n  <p>If the expression to the left of ?: is not null, the elvis operator returns it, otherwise it returns the expression to the right. Note that the right-hand side expression is evaluated only if the left-hand side is null.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 1643, "user_id": 3396396, "user_type": "registered", "accept_rate": 13, "profile_image": "https://graph.facebook.com/608285721/picture?type=large", "display_name": "Rik van Velzen", "link": "https://stackoverflow.com/users/3396396/rik-van-velzen"}, "edited": false, "score": 0, "creation_date": 1503577203, "post_id": 45844147, "comment_id": 78680902, "body": "I&#39;ve tried this, but doesn&#39;t seem to work as i would want it. If i mock my server response to return  f.e. responseCode = 200 - { &quot;validEmail&quot;: null } and change validEmail type to Boolean (instead of Boolean?) Retrofit doesn&#39;t thrown any kind of exception thus my model is giving me a false negative for my validEmail value.."}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "reply_to_user": {"reputation": 1643, "user_id": 3396396, "user_type": "registered", "accept_rate": 13, "profile_image": "https://graph.facebook.com/608285721/picture?type=large", "display_name": "Rik van Velzen", "link": "https://stackoverflow.com/users/3396396/rik-van-velzen"}, "edited": false, "score": 0, "creation_date": 1503577450, "post_id": 45844147, "comment_id": 78681111, "body": "I haven&#39;t worked in Retrofit. So I cannot comment on that. The high-level idea is that, for example, for validEmail API call, you have to create an instance of <code>AuthenticationResponse.EmailValidation</code> which has <code>validEmail</code> as a <code>Boolean</code> type. So if you pass null, you will get an exception there."}], "tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 1, "last_activity_date": 1503504222, "last_edit_date": 1503504222, "creation_date": 1503502971, "answer_id": 45844147, "question_id": 45842679, "link": "https://stackoverflow.com/questions/45842679/retrofit-api-call-how-to-make-sure-that-value-is-not-null-after-making-api-call/45844147#45844147", "title": "Retrofit API call: How to make sure that value is not null after making api call?", "body": "<p>You should definitely consider @miensol's comment -- to have separate model objects for different API calls.</p>\n\n<p>However, if that's not possible, you can use <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\"><code>Sealed class</code></a>.</p>\n\n<pre><code>sealed class AuthenticationResponse {\n\n    data class EmailValidation(val validEmail: Boolean) : AuthenticationResponse()\n    data class SomeSecondResponse(val loginSuccess: Boolean, ...) : AuthenticationResponse()\n    data class SomeThirdResponse(val resetSuccessful: Boolean) : AuthenticationResponse()\n\n}\n\nfun handleResponse(response: AuthenticationResponse) {\n\n    when (response) {\n        is AuthenticationResponse.EmailValidation -&gt; response.validEmail\n        is AuthenticationResponse.SomeSecondResponse -&gt; response.loginSuccess\n        is AuthenticationResponse.SomeThirdResponse -&gt; response.resetSuccessful\n    }\n\n}\n</code></pre>\n\n<p><code>Sealed class</code> is enums on steroids -- it is enums with states. You have to create 3 classes for 3 responses which inherit from the sealed class <code>AuthenticationResponse</code>.</p>\n\n<p>You have to create the specific class instance corresponding to the different API calls. To access the data, you can do type check and access the specific data. The above <code>when</code> example shows how to access all the types of response inside a function.</p>\n\n<blockquote>\n  <p>How can I make sure/check that when I receive the response to the\n  verifyEmail call f.e. that it contains a non null value for\n  validEmail??</p>\n</blockquote>\n\n<p>Since you create the instance of only the specific classes and all the classes have only non-null properties, you don't have to worry about null. </p>\n"}], "owner": {"reputation": 1643, "user_id": 3396396, "user_type": "registered", "accept_rate": 13, "profile_image": "https://graph.facebook.com/608285721/picture?type=large", "display_name": "Rik van Velzen", "link": "https://stackoverflow.com/users/3396396/rik-van-velzen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1076, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1503577461, "creation_date": 1503498879, "last_edit_date": 1503577461, "question_id": 45842679, "link": "https://stackoverflow.com/questions/45842679/retrofit-api-call-how-to-make-sure-that-value-is-not-null-after-making-api-call", "title": "Retrofit API call: How to make sure that value is not null after making api call?", "body": "<p>I have below AuthenticationResponse model that I use for 3 api calls using retrofit2. If I make the verifyEmail call f.e. the JSON response body only contains an attribute for valid email (so something like {\"validEmail\": true} ). The other 2 calls only contain attributes for \"resetSuccesful\" or the other 4.</p>\n\n<p>How can I make sure/check that when I receive the response to the verifyEmail call f.e. that it contains a non null value for validEmail??</p>\n\n<p>Service:</p>\n\n<pre><code>interface AuthenticationService {\n\n@POST(\"auth/checkEmail\")\nfun verifyEmail(@Body email: String): Call&lt;AuthenticationResponse&gt;\n\n@POST(\"auth/login\")\nfun login(@Body loginCredentials: LoginCredentials): Call&lt;AuthenticationResponse&gt;\n\n@POST(\"auth/resetPassword\")\nfun resetPassword(@Body email: String): Call&lt;AuthenticationResponse&gt;\n}\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>data class AuthenticationResponse(\n\n    val validEmail: Boolean? = null,\n\n    val loginSuccess: Boolean? = null,\n    val retriesLeft: Int? = null,\n    val authToken: String? = null,\n    val accountBlocked: Boolean? = null,\n\n    val resetSuccesful: Boolean? = null)\n</code></pre>\n\n<hr>\n\n<p>edit:\nIf i mock my server response to return f.e. responseCode = 200 - { \"validEmail\": null } and change validEmail type to Boolean (instead of Boolean?) Retrofit doesn't thrown any kind of exception (this is what i actually want) thus my model is giving me a false negative for my validEmail value.. </p>\n"}, {"tags": ["kotlin", "datepickerdialog"], "answers": [{"comments": [{"owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 0, "creation_date": 1532572595, "post_id": 45844018, "comment_id": 90028504, "body": "How do you set to max and min dates in this case?"}, {"owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "reply_to_user": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 2, "creation_date": 1532644944, "post_id": 45844018, "comment_id": 90064601, "body": "@ASN You would go <code>dpd.datePicker.maxDate = 10</code> and the same for minDate"}, {"owner": {"reputation": 854, "user_id": 5488468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uZFd2.jpg?s=128&g=1", "display_name": "Bipin Bharti", "link": "https://stackoverflow.com/users/5488468/bipin-bharti"}, "edited": false, "score": 0, "creation_date": 1577215822, "post_id": 45844018, "comment_id": 105124050, "body": "Thank you it&#39;s help full"}], "tags": [], "owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "is_accepted": true, "score": 69, "last_activity_date": 1589258748, "last_edit_date": 1589258748, "creation_date": 1503502571, "answer_id": 45844018, "question_id": 45842167, "link": "https://stackoverflow.com/questions/45842167/how-to-use-datepickerdialog-in-kotlin/45844018#45844018", "title": "How to use DatePickerDialog in Kotlin?", "body": "<p>It would look something like this:</p>\n\n<pre><code>val c = Calendar.getInstance()\nval year = c.get(Calendar.YEAR)\nval month = c.get(Calendar.MONTH)\nval day = c.get(Calendar.DAY_OF_MONTH)\n\n\nval dpd = DatePickerDialog(activity, DatePickerDialog.OnDateSetListener { view, year, monthOfYear, dayOfMonth -&gt;\n\n    // Display Selected date in textbox\n    lblDate.setText(\"\" + dayOfMonth + \" \" + MONTHS[monthOfYear] + \", \" + year)\n\n}, year, month, day)\n\ndpd.show()\n</code></pre>\n\n<p>this was done by simply copying and pasting the code into a kotlin file in android studio. I would strongly recommend using it.</p>\n"}, {"tags": [], "owner": {"reputation": 676, "user_id": 7697901, "user_type": "registered", "profile_image": "https://graph.facebook.com/1373770156022605/picture?type=large", "display_name": "Aliaksandr Kavalenka", "link": "https://stackoverflow.com/users/7697901/aliaksandr-kavalenka"}, "is_accepted": false, "score": 25, "last_activity_date": 1521233983, "last_edit_date": 1521233983, "creation_date": 1511639486, "answer_id": 47489927, "question_id": 45842167, "link": "https://stackoverflow.com/questions/45842167/how-to-use-datepickerdialog-in-kotlin/47489927#47489927", "title": "How to use DatePickerDialog in Kotlin?", "body": "<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val textView: TextView  = findViewById(R.id.textView_date)\n        textView.text = SimpleDateFormat(\"dd.MM.yyyy\").format(System.currentTimeMillis())\n\n        var cal = Calendar.getInstance()\n\n        val dateSetListener = DatePickerDialog.OnDateSetListener { view, year, monthOfYear, dayOfMonth -&gt;\n            cal.set(Calendar.YEAR, year)\n            cal.set(Calendar.MONTH, monthOfYear)\n            cal.set(Calendar.DAY_OF_MONTH, dayOfMonth)\n\n            val myFormat = \"dd.MM.yyyy\" // mention the format you need\n            val sdf = SimpleDateFormat(myFormat, Locale.US)\n            textView.text = sdf.format(cal.time)\n\n        }\n\n        textView.setOnClickListener {\n            DatePickerDialog(this@MainActivity, dateSetListener,\n                    cal.get(Calendar.YEAR),\n                    cal.get(Calendar.MONTH),\n                    cal.get(Calendar.DAY_OF_MONTH)).show()\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 0, "creation_date": 1533155846, "post_id": 48936703, "comment_id": 90248198, "body": "I was looking for something like it. Thanks bro!"}, {"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 0, "creation_date": 1533573436, "post_id": 48936703, "comment_id": 90385543, "body": "There are an issue opened on Anko project in the github <a href=\"https://github.com/Kotlin/anko/issues/486\" rel=\"nofollow noreferrer\">here</a>. The dialog is create with wrong layout"}], "tags": [], "owner": {"reputation": 304, "user_id": 1909934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b252ac7d99b13c8b84c08865128321a9?s=128&d=identicon&r=PG", "display_name": "Swapnil", "link": "https://stackoverflow.com/users/1909934/swapnil"}, "is_accepted": false, "score": 8, "last_activity_date": 1519331659, "creation_date": 1519331659, "answer_id": 48936703, "question_id": 45842167, "link": "https://stackoverflow.com/questions/45842167/how-to-use-datepickerdialog-in-kotlin/48936703#48936703", "title": "How to use DatePickerDialog in Kotlin?", "body": "<p>Kotlin <a href=\"https://github.com/Kotlin/anko\" rel=\"noreferrer\">Anko</a> Android Example:</p>\n\n<pre><code>alert {\n\n    isCancelable = false\n\n    lateinit var datePicker: DatePicker\n\n    customView {\n        verticalLayout {\n            datePicker = datePicker {\n                maxDate = System.currentTimeMillis()\n            }\n        }\n    }\n\n    yesButton {\n        val parsedDate = \"${datePicker.dayOfMonth}/${datePicker.month + 1}/${datePicker.year}\"\n    }\n\n    noButton { }\n\n}.show()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2361, "user_id": 1450409, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0e8a7b3fb93f9ee898d2e7d896571272?s=128&d=identicon&r=PG", "display_name": "nyxee", "link": "https://stackoverflow.com/users/1450409/nyxee"}, "edited": false, "score": 0, "creation_date": 1604142861, "post_id": 54214511, "comment_id": 114260673, "body": "nice one for adding the TimePicker dialog."}], "tags": [], "owner": {"reputation": 844, "user_id": 10366757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c89292cdfb40b61addace1e64f154b49?s=128&d=identicon&r=PG&f=1", "display_name": "Prabh deep", "link": "https://stackoverflow.com/users/10366757/prabh-deep"}, "is_accepted": false, "score": 4, "last_activity_date": 1547632752, "creation_date": 1547632752, "answer_id": 54214511, "question_id": 45842167, "link": "https://stackoverflow.com/questions/45842167/how-to-use-datepickerdialog-in-kotlin/54214511#54214511", "title": "How to use DatePickerDialog in Kotlin?", "body": "<p>use show date picker on button click </p>\n\n<pre><code>   val cal = Calendar.getInstance()\n    val y = cal.get(Calendar.YEAR)\n    val m = cal.get(Calendar.MONTH)\n    val d = cal.get(Calendar.DAY_OF_MONTH)\n\n\n    val datepickerdialog:DatePickerDialog = DatePickerDialog(activity, DatePickerDialog.OnDateSetListener { view, year, monthOfYear, dayOfMonth -&gt;\n\n    // Display Selected date in textbox\n    lblDate.setText(\"\" + dayOfMonth + \" \" + MONTHS[monthOfYear] + \", \" + year)\n        }, y, m, d)\n\n    datepickerdialog.show()\n</code></pre>\n\n<p>and this used for show time picker on button click </p>\n\n<pre><code>textView54.setOnClickListener {\n                val c:Calendar= Calendar.getInstance()\n                val hh=c.get(Calendar.HOUR_OF_DAY)\n                val mm=c.get(Calendar.MINUTE)\n                val timePickerDialog:TimePickerDialog=TimePickerDialog(this@VendorRegistration,TimePickerDialog.OnTimeSetListener { view, hourOfDay, minute -&gt;\n                    textView54.setText( \"\"+hourOfDay + \":\" + minute);\n                },hh,mm,true)\n                timePickerDialog.show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2719, "user_id": 1947601, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/OkoEH.jpg?s=128&g=1", "display_name": "0xMatthewGroves", "link": "https://stackoverflow.com/users/1947601/0xmatthewgroves"}, "is_accepted": false, "score": 2, "last_activity_date": 1578702440, "creation_date": 1578702440, "answer_id": 59690623, "question_id": 45842167, "link": "https://stackoverflow.com/questions/45842167/how-to-use-datepickerdialog-in-kotlin/59690623#59690623", "title": "How to use DatePickerDialog in Kotlin?", "body": "<p>If you'd like to use coroutines to bridge the callback pattern, you can use a solution like this one. Note, I'm using both the Date and Time picker here, but you can easily remove the TimePicker logic if you don't require it.</p>\n\n<pre><code>suspend fun Context.openDateTimePicker(calendar: Calendar = Calendar.getInstance()): Instant =\n    suspendCoroutine { continuation -&gt;\n        val dateSetListener = DatePickerDialog.OnDateSetListener { _, year, month, day -&gt;\n            val timeSetListener = TimePickerDialog.OnTimeSetListener { _, hour, minute -&gt;\n                calendar\n                    .apply { set(year, month, day, hour, minute) }\n                    .run { Instant.ofEpochMilli(timeInMillis).truncatedTo(ChronoUnit.MINUTES) }\n                    .let { continuation.resume(it) }\n            }\n\n            TimePickerDialog(\n                this,\n                timeSetListener,\n                calendar.get(Calendar.HOUR_OF_DAY),\n                calendar.get(Calendar.MINUTE),\n                DateFormat.is24HourFormat(this)\n            ).show()\n        }\n\n        DatePickerDialog(\n            this,\n            dateSetListener,\n            calendar.get(Calendar.YEAR),\n            calendar.get(Calendar.MONTH),\n            calendar.get(Calendar.DAY_OF_MONTH)\n        ).show()\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2361, "user_id": 1450409, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0e8a7b3fb93f9ee898d2e7d896571272?s=128&d=identicon&r=PG", "display_name": "nyxee", "link": "https://stackoverflow.com/users/1450409/nyxee"}, "edited": false, "score": 0, "creation_date": 1604143963, "post_id": 60838649, "comment_id": 114260878, "body": "nice one. But, i don&#39;t get it."}, {"owner": {"reputation": 605, "user_id": 1351639, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cc8f02bc2722d825eb8d107049c3dd3e?s=128&d=identicon&r=PG", "display_name": "moralejaSinCuentoNiProverbio", "link": "https://stackoverflow.com/users/1351639/moralejasincuentoniproverbio"}, "reply_to_user": {"reputation": 2361, "user_id": 1450409, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0e8a7b3fb93f9ee898d2e7d896571272?s=128&d=identicon&r=PG", "display_name": "nyxee", "link": "https://stackoverflow.com/users/1450409/nyxee"}, "edited": false, "score": 1, "creation_date": 1604246532, "post_id": 60838649, "comment_id": 114282290, "body": "First I create a suspended coroutine called openDateTimePicker, it receives a OffsetDateTime or it will use a default value (&quot;now time&quot;). openDateTimePicker will create a new DatePickerDialog and call show. DatePickerDialog will call dateSetListener to handle the response . dateSetListener will create a TimePickerDialog and call show. TimePickerDialog will call timeSetListener to handle the response . timeSetListener will gather the information altogether in the newOffsetDateTime and send it to the caller of openDateTimePicker by calling continuation.resume. Happy Hacking nyxee!"}, {"owner": {"reputation": 2361, "user_id": 1450409, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0e8a7b3fb93f9ee898d2e7d896571272?s=128&d=identicon&r=PG", "display_name": "nyxee", "link": "https://stackoverflow.com/users/1450409/nyxee"}, "edited": false, "score": 0, "creation_date": 1606434737, "post_id": 60838649, "comment_id": 114968677, "body": "This is definitely the best answer. Will adopt it."}], "tags": [], "owner": {"reputation": 605, "user_id": 1351639, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cc8f02bc2722d825eb8d107049c3dd3e?s=128&d=identicon&r=PG", "display_name": "moralejaSinCuentoNiProverbio", "link": "https://stackoverflow.com/users/1351639/moralejasincuentoniproverbio"}, "is_accepted": false, "score": 1, "last_activity_date": 1585224366, "last_edit_date": 1585224366, "creation_date": 1585081005, "answer_id": 60838649, "question_id": 45842167, "link": "https://stackoverflow.com/questions/45842167/how-to-use-datepickerdialog-in-kotlin/60838649#60838649", "title": "How to use DatePickerDialog in Kotlin?", "body": "<p>I use Kotlin so I wanted a Kotlin solution and not a Java solution.</p>\n\n<p>So first I look carefully over @FrostRocket's solution as a starting point. The solution of @FrostRocket was useful for me.</p>\n\n<p>In my case, I ignore all the Kotlin world. As well as I can only use OffsetDateTime and not the calendar class. In addition, I have never used coroutine before, so I have to read and study coroutines in Kotlin. Let me know if you find in my code some theoretical or practical error.</p>\n\n<p>First in my extension package I add a new File : ContextExtention.kt</p>\n\n<pre><code>import android.app.DatePickerDialog\nimport android.app.TimePickerDialog\nimport android.content.Context\nimport android.text.format.DateFormat\nimport java.time.OffsetDateTime\nimport kotlin.coroutines.resume\nimport kotlin.coroutines.suspendCoroutine\n\n    suspend fun Context.openDateTimePicker(offsetDateTime: OffsetDateTime = OffsetDateTime.now()): OffsetDateTime =\nsuspendCoroutine { continuation -&gt;\n    val dateSetListener = DatePickerDialog.OnDateSetListener { _, year, month, day -&gt;\n        //month (0-11 for compatibility with Calendar#MONTH)\n        // day of the month (1-31, depending on month)\n        val timeSetListener = TimePickerDialog.OnTimeSetListener { _, hour, minute -&gt;\n            offsetDateTime.let {\n            val newOffsetDateTime =\n                offsetDateTime.withHour(hour).withMinute(minute).withYear(year)\n                    //withMonth from 1 (January) to 12 (December)\n                    //so I have to adapt it.\n                    .withMonth((month+1))\n                    //withDayOfMonth from 1 to 28-31\n                    //so no need adaptation\n                    .withDayOfMonth(day)\n                    continuation.resume(newOffsetDateTime)\n                }\n        }\n\n        TimePickerDialog(\n            this,\n            timeSetListener,\n            offsetDateTime.hour,\n            offsetDateTime.minute,\n            DateFormat.is24HourFormat(this)\n        ).show()\n    }\n\n    //the initially selected month (0-11 for compatibility with Calendar#MONTH)\n    //when offsetDateTime.monthValue from 1 (January) to 12 (December)\n    //so I have to adapt it.\n    DatePickerDialog(\n        this,\n        dateSetListener,\n        offsetDateTime.year,\n        (offsetDateTime.monthValue-1),\n        offsetDateTime.dayOfMonth\n    ).show()\n}\n</code></pre>\n\n<p>So how can I run a suspended function? So you run a coroutine in a kotlinx.coroutines.Job, CoroutineScope made me remember about Grand Central Dispatcher in iPhone programming Where you have a list of quality of service. </p>\n\n<p>In this case if you want to use the UI thread you have to use: Dispatchers.Main or Dispatchers.Main.immediate if you need better service.</p>\n\n<pre><code>import android.widget.TextView\nimport androidx.lifecycle.Observer\n// the R import here \n// the openDateTimePicker import here \n// the TimeHelper (is text formatter) import here \nimport kotlinx.coroutines.CoroutineScope\nimport kotlinx.coroutines.Dispatchers\nimport kotlinx.coroutines.Job\nimport kotlinx.coroutines.launch\n\n\nclass FooFragment : Fragment() {\n\nprivate lateinit var viewModel: FooViewModel\n\nprivate lateinit var dateButton: Button\nprivate lateinit var dateText: TextView\nprivate var datePickerJob : Job? = null\nval uiScope = CoroutineScope(Dispatchers.Main)\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    val root =\n     inflater.inflate(R.layout.foo_fragment, container, false)\n    dateButton = root.findViewById(R.id.textButtonChangeDate)\n    dateText = root.findViewById(R.id.textViewWeighingDateValue)\n    viewModel = ViewModelProvider(this).get(FooViewModel::class.java)\n    return root\n}\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n    viewModel.dateTimeText.observe(viewLifecycleOwner, Observer {\n        dateText.text = it.format(TimeHelper.formatter)\n//the call to setNewDateTime will refresh this value\n    })\n}\n\noverride fun onStart() {\n    super.onStart()\n    dateButton.setOnClickListener {\n        datePickerJob = uiScope.launch {\n            viewModel.setNewDateTime(context?.openDateTimePicker())\n//setNewDateTime is a setValue in a MutableLiveData\n        }\n    }\n\n}\n\noverride fun onStop() {\n    super.onStop()\n    dateButton.setOnClickListener(null)\n    datePickerJob?.cancel()\n}\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1069, "user_id": 898753, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da252921fb2b91b4e8ca7c65ac868b97?s=128&d=identicon&r=PG", "display_name": "Hoppo", "link": "https://stackoverflow.com/users/898753/hoppo"}, "edited": false, "score": 0, "creation_date": 1591568733, "post_id": 62252287, "comment_id": 110098833, "body": "Please don\u2019t answer questions with just code. Please include an explanation of how your code works and how it solves the problem."}], "tags": [], "owner": {"reputation": 7, "user_id": 10077036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8c0fd03e341d397890f46d88849f57?s=128&d=identicon&r=PG&f=1", "display_name": "Kenny Peter", "link": "https://stackoverflow.com/users/10077036/kenny-peter"}, "is_accepted": false, "score": -1, "last_activity_date": 1591567557, "creation_date": 1591567557, "answer_id": 62252287, "question_id": 45842167, "link": "https://stackoverflow.com/questions/45842167/how-to-use-datepickerdialog-in-kotlin/62252287#62252287", "title": "How to use DatePickerDialog in Kotlin?", "body": "<pre><code>dateColumn.setOnClickListener {\n        val c = Calendar.getInstance()\n        val yr = c.get(Calendar.YEAR)\n        val month = c.get(Calendar.MONTH)\n        val day = c.get(Calendar.DAY_OF_MONTH)\n        val display = DatePickerDialog(context as BaseActivity, DatePickerDialog.OnDateSetListener {\n                view, year, monthOfYear, dayOfMonth -&gt;\n            var monthInput = (monthOfYear + 1).toString()\n            if (monthInput.toInt() == 1) {\n                monthInput = \"Jan\"\n            } else if (monthInput.toInt() == 2) {\n                monthInput = \"Feb\"\n            } else if (monthInput.toInt() == 3) {\n                monthInput = \"March\"\n            } else if (monthInput.toInt() == 4) {\n                monthInput = \"April\"\n            } else if (monthInput.toInt() == 5) {\n                monthInput = \"May\"\n            } else if (monthInput.toInt() == 6) {\n                monthInput = \"June\"\n            } else if (monthInput.toInt() == 7) {\n                monthInput = \"July\"\n            } else if (monthInput.toInt() == 8) {\n                monthInput = \"Aug\"\n            } else if (monthInput.toInt() == 9) {\n                monthInput = \"Sept\"\n            } else if (monthInput.toInt() == 10) {\n                monthInput = \"Oct\"\n            } else if (monthInput.toInt() == 11) {\n                monthInput = \"Nov\"\n            } else if (monthInput.toInt() == 12) {\n                monthInput = \"Dec\"\n            }\n            dateColumn.text = (\"$dayOfMonth $monthInput, $year\")\n        }, yr, month, day)\n        display.datePicker.minDate = System.currentTimeMillis()\n        display.show()\n    }\n</code></pre>\n"}], "owner": {"reputation": 1454, "user_id": 8006185, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9lOxU.jpg?s=128&g=1", "display_name": "Adil Saiyad", "link": "https://stackoverflow.com/users/8006185/adil-saiyad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45579, "favorite_count": 4, "accepted_answer_id": 45844018, "answer_count": 7, "score": 41, "last_activity_date": 1591567557, "creation_date": 1503497492, "question_id": 45842167, "link": "https://stackoverflow.com/questions/45842167/how-to-use-datepickerdialog-in-kotlin", "title": "How to use DatePickerDialog in Kotlin?", "body": "<p>In Java an DatePickerDialog can be use such as:</p>\n\n<pre><code>final Calendar c = Calendar.getInstance();\nint year = c.get(Calendar.YEAR);\nint month = c.get(Calendar.MONTH);\nint day = c.get(Calendar.DAY_OF_MONTH);\n\n\nDatePickerDialog dpd = new DatePickerDialog(getActivity(),new DatePickerDialog.OnDateSetListener()\n{\n   @Override\n   public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth)\n  {\n      // Display Selected date in textbox\n      lblDate.setText(\"\"+ dayOfMonth+\" \"+MONTHS[monthOfYear] + \", \" + year);\n  }\n}, year, month,day);\ndpd.show();\n</code></pre>\n\n<p>How does Kotlin's DatePickerDialog use look like?</p>\n"}, {"tags": ["arrays", "kotlin"], "comments": [{"owner": {"reputation": 1422, "user_id": 2833924, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7ca6e08741b54492d068c8b5c5364257?s=128&d=identicon&r=PG&f=1", "display_name": "siom", "link": "https://stackoverflow.com/users/2833924/siom"}, "edited": false, "score": 0, "creation_date": 1503496959, "post_id": 45841905, "comment_id": 78641377, "body": "<a href=\"https://stackoverflow.com/questions/31366229/how-to-initialize-an-array-in-kotlin\" title=\"how to initialize an array in kotlin\">stackoverflow.com/questions/31366229/&hellip;</a>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503497921, "post_id": 45841905, "comment_id": 78642187, "body": "See also: <a href=\"https://stackoverflow.com/a/35253626/2196460\">stackoverflow.com/a/35253626/2196460</a>"}], "answers": [{"tags": [], "owner": {"reputation": 122, "user_id": 7462753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vRvyc.jpg?s=128&g=1", "display_name": "henrikenblom", "link": "https://stackoverflow.com/users/7462753/henrikenblom"}, "is_accepted": false, "score": 0, "last_activity_date": 1503496938, "creation_date": 1503496938, "answer_id": 45841933, "question_id": 45841905, "link": "https://stackoverflow.com/questions/45841905/how-to-initialization-array-in-kotlin/45841933#45841933", "title": "how to initialization array in Kotlin?", "body": "<p>Easy:</p>\n\n<pre><code>val MONTHS = arrayOf(\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 577, "user_id": 5691049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CqR16z9lkl4/AAAAAAAAAAI/AAAAAAAAAK4/zHFoWJFlE3g/photo.jpg?sz=128", "display_name": "Pravin Londhe", "link": "https://stackoverflow.com/users/5691049/pravin-londhe"}, "is_accepted": false, "score": 1, "last_activity_date": 1503497043, "creation_date": 1503497043, "answer_id": 45841978, "question_id": 45841905, "link": "https://stackoverflow.com/questions/45841905/how-to-initialization-array-in-kotlin/45841978#45841978", "title": "how to initialization array in Kotlin?", "body": "<p>You can initialize using </p>\n\n<pre><code>val MONTHS = arrayof(\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 0, "last_activity_date": 1503497595, "creation_date": 1503497595, "answer_id": 45842213, "question_id": 45841905, "link": "https://stackoverflow.com/questions/45841905/how-to-initialization-array-in-kotlin/45842213#45842213", "title": "how to initialization array in Kotlin?", "body": "<p>To create an array, we can use a library function <code>arrayOf()</code> and pass the item values to it, so that <code>arrayOf(\"1\", \"2\", \"3\")</code>.</p>\n\n<p>You can use:</p>\n\n<pre><code>val MONTHS = arrayOf(\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\")\n</code></pre>\n\n<p>Also you can use specialized classes to represent arrays of primitive types as <code>ByteArray</code>, <code>ShortArray</code>, <code>IntArray</code>.</p>\n\n<p>In this case you can use:</p>\n\n<pre><code>val x: IntArray = intArrayOf(1, 2, 3)\n</code></pre>\n\n<p>More detailed <a href=\"http://kotlinlang.org/docs/reference/basic-types.html\" rel=\"nofollow noreferrer\">info here</a>.</p>\n"}], "owner": {"reputation": 1454, "user_id": 8006185, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9lOxU.jpg?s=128&g=1", "display_name": "Adil Saiyad", "link": "https://stackoverflow.com/users/8006185/adil-saiyad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "closed_date": 1503497608, "answer_count": 3, "score": 1, "last_activity_date": 1503497595, "creation_date": 1503496865, "question_id": 45841905, "link": "https://stackoverflow.com/questions/45841905/how-to-initialization-array-in-kotlin", "closed_reason": "Duplicate", "title": "how to initialization array in Kotlin?", "body": "<p>In Java an array can be initialized such as:</p>\n\n<pre><code>public static final String[] MONTHS = {\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"};\n</code></pre>\n\n<p>How does Kotlin's array initialization look like?</p>\n"}, {"tags": ["android", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 1910, "user_id": 3341752, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/8g5we.jpg?s=128&g=1", "display_name": "Akram", "link": "https://stackoverflow.com/users/3341752/akram"}, "edited": false, "score": 0, "creation_date": 1503495706, "post_id": 45841329, "comment_id": 78640322, "body": "maybe you should move <code>connection.inputStream.bufferedReader().readText()</code> outside of <code>uiThread</code>?"}, {"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "reply_to_user": {"reputation": 1910, "user_id": 3341752, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/8g5we.jpg?s=128&g=1", "display_name": "Akram", "link": "https://stackoverflow.com/users/3341752/akram"}, "edited": false, "score": 0, "creation_date": 1503496247, "post_id": 45841329, "comment_id": 78640788, "body": "uiThread forces the async tasks to perform in a linear order, delaying next process until the previous one executes."}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1503499827, "post_id": 45841329, "comment_id": 78643870, "body": "@AlexIoja-Yang Please provide a stack trace or logged error. <code>connection.inputStream.bufferedReader().readText()</code> this effectively uses network io on ui thread. Also the string allocated by <code>readText</code> might cause <code>OutOfMemoryError</code>"}, {"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1503500809, "post_id": 45841329, "comment_id": 78644629, "body": "@miensol I&#39;m sorry but I&#39;m not 100% sure if I&#39;m doing it right. I put <code>data =</code> inside a <code>try{}</code> and then <code>catch(e: Exception){e.printStackTrace() ; Log.i(&quot;test&#39;, &quot;test&quot;}</code>. If that&#39;s correct, it doesn&#39;t actually show anything in the logs, this way it just performs the whole method whilst showing crash error on device and restarting once that&#39;s acknowledged."}, {"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1503500994, "post_id": 45841329, "comment_id": 78644755, "body": "@miensol I have checked and the length of text it&#39;s actually only 294 (on working devices), which is a lot less then the initial download where I get a string of about 600k (activity prior to this one)"}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1503544487, "post_id": 45841329, "comment_id": 78662757, "body": "@AlexIoja-Yang Just to clarify, you&#39;ve wrapped entire block under <code>if</code> in <code>try</code> and still no error logged?"}, {"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1503563725, "post_id": 45841329, "comment_id": 78671325, "body": "@miensol sorry, now I wrapped the whole if and updated my question with the stack trace"}], "answers": [{"comments": [{"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1503567840, "post_id": 45857992, "comment_id": 78674149, "body": "That worked thank you. Could you please just clarify for me, isn&#39;t data = connection.inputStream.bufferedReader().readText() an async task since it might take some time to receive all the information? By putting uiThread after it, I thought I&#39;d access data before completion. Or is uiThread forcing it to finish all background tasks before starting. I will accept your answer regardless, but would really appreciate if you could clarify for me how is this working and not breaking it :)."}, {"owner": {"reputation": 122, "user_id": 7462753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vRvyc.jpg?s=128&g=1", "display_name": "henrikenblom", "link": "https://stackoverflow.com/users/7462753/henrikenblom"}, "reply_to_user": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 1, "creation_date": 1503568470, "post_id": 45857992, "comment_id": 78674603, "body": "Thank you too. This works because everything inside the doAsync{} block is already running asynchronously in relation to the rest of the app. Therefore you can perform lengthy network operations inside this block without any performance impact on the user experience. That is, up until the uiThread{} statement. You can read more about it here: <a href=\"https://blog.jetbrains.com/kotlin/2015/05/advanced-features-of-anko/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/kotlin/2015/05/advanced-features-of-anko</a>"}], "tags": [], "owner": {"reputation": 122, "user_id": 7462753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vRvyc.jpg?s=128&g=1", "display_name": "henrikenblom", "link": "https://stackoverflow.com/users/7462753/henrikenblom"}, "is_accepted": true, "score": 1, "last_activity_date": 1503567185, "creation_date": 1503567185, "answer_id": 45857992, "question_id": 45841329, "link": "https://stackoverflow.com/questions/45841329/unusual-crash-only-on-some-device-async-calls-kotlin-coroutines/45857992#45857992", "title": "Unusual crash only on some device - async calls kotlin coroutines", "body": "<p>My guess is that you reenter the UI thread too soon as you are still doing networking operations in this call: <strong>connection.inputStream.bufferedReader().readText()</strong></p>\n\n<p>Have you tried doing this:</p>\n\n<pre><code>doAsync {\n    val url = urlString\n    val connection = URL(url).openConnection() as HttpURLConnection\n    val responseCode = connection.responseCode\n\n    if (responseCode == 200) {\n        val data = connection.inputStream.bufferedReader().readText()\n        val response = connection.headerFields\n        val parser = Parser()\n        val stringBuilder = StringBuilder(data)\n        uiThread {\n            val json = parser.parse(stringBuilder) as JsonObject\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 854, "favorite_count": 0, "accepted_answer_id": 45857992, "answer_count": 1, "score": 1, "last_activity_date": 1503568439, "creation_date": 1503495393, "last_edit_date": 1503568439, "question_id": 45841329, "link": "https://stackoverflow.com/questions/45841329/unusual-crash-only-on-some-device-async-calls-kotlin-coroutines", "title": "Unusual crash only on some device - async calls kotlin coroutines", "body": "<p>I am writing an Android App in Kotlin and I get this crash only on some HUAWEI tablet running Android API 17. However, I have tested it on a Sony Xperia and a Samsung galaxy s3 mini (or something like that), both running Android API 19 and there is no problem. The crash happens just before <code>val data = connection.inputStream.bufferedReader().readText()</code> in the following code:</p>\n\n<pre><code>doAsync {\n        val url = urlString\n        val connection = URL(url).openConnection() as HttpURLConnection\n        val responseCode = connection.responseCode\n        uiThread {\n            if (responseCode == 200) {\n              // ENTERS IF AND CRASHES WITHOUT EXECUTING THE NEXT LINE\n                val data = connection.inputStream.bufferedReader().readText()\n                val response = connection.headerFields\n                val parser = Parser()\n                val stringBuilder = StringBuilder(data)\n                val json = parser.parse(stringBuilder) as JsonObject\n            }\n        }\n    }\n</code></pre>\n\n<p><strong>App build.gradle</strong></p>\n\n<pre><code>android {\ncompileSdkVersion 26\nbuildToolsVersion \"26.0.0\"\ndefaultConfig {\n    applicationId \"appName\"\n    minSdkVersion 17\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n\n<p>The message in Logs is <code>W/dalvikvm: threadid=1: thread exiting with uncaught exception (group=0x410a3930)</code> without anything else before or after. </p>\n\n<p>It's the first app I develop for Android, so could someone help me understand what is going on and how can I fix this crash? Is it the API 17 to blame (but there is no warning of API specific functions in app), kotlins coroutines, HUAWEI device?</p>\n\n<p><strong>Error Stack Trace</strong> as requested in comments</p>\n\n<pre><code>  W/System.err: android.os.NetworkOnMainThreadException\n   W/System.err:     at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1120)\n   W/System.err:     at libcore.io.BlockGuardOs.recvfrom(BlockGuardOs.java:163)\n   W/System.err:     at libcore.io.IoBridge.recvfrom(IoBridge.java:506)\n   W/System.err:     at java.net.PlainSocketImpl.read(PlainSocketImpl.java:488)\n   W/System.err:     at java.net.PlainSocketImpl.access$000(PlainSocketImpl.java:46)\n   W/System.err:     at java.net.PlainSocketImpl$PlainSocketInputStream.read(PlainSocketImpl.java:240)\n   W/System.err:     at java.io.BufferedInputStream.read(BufferedInputStream.java:304)\n   W/System.err:     at libcore.net.http.FixedLengthInputStream.read(FixedLengthInputStream.java:45)\n   W/System.err:     at java.io.InputStreamReader.read(InputStreamReader.java:244)\n   W/System.err:     at java.io.BufferedReader.read(BufferedReader.java:310)\n   W/System.err:     at java.io.Reader.read(Reader.java:145)\n   W/System.err:     at kotlin.io.TextStreamsKt.copyTo(ReadWrite.kt:117)\n   W/System.err:     at kotlin.io.TextStreamsKt.copyTo$default(ReadWrite.kt:114)\n   W/System.err:     at kotlin.io.TextStreamsKt.readText(ReadWrite.kt:101)\n   W/System.err:     at deeplake.co.uk.livedemokotlin.login$attemptLogin$1$1.invoke(login.kt:85)\n   W/System.err:     at deeplake.co.uk.livedemokotlin.login$attemptLogin$1$1.invoke(login.kt:26)\n   W/System.err:     at org.jetbrains.anko.AsyncKt$uiThread$1.run(Async.kt:70)\n   W/System.err:     at android.os.Handler.handleCallback(Handler.java:725)\n   W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:92)\n   W/System.err:     at android.os.Looper.loop(Looper.java:137)\n   W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:5119)\n   W/System.err:     at java.lang.reflect.Method.invokeNative(Native Method)\n   W/System.err:     at java.lang.reflect.Method.invoke(Method.java:511)\n   W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:834)\n   W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\n   W/System.err:     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "constants"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 9, "creation_date": 1503498059, "post_id": 45841067, "comment_id": 78642290, "body": "Using <code>simpleName</code> is <a href=\"https://medium.com/@elye.project/the-danger-of-using-class-getsimplename-as-tag-for-fragment-5cdf3a35bfe2\" rel=\"nofollow noreferrer\">risky</a> if class name is obfuscated."}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 1, "creation_date": 1522379773, "post_id": 45841067, "comment_id": 86144174, "body": "Risky? To say the least!  It ALWAYS crashes my apps when done this way."}, {"owner": {"reputation": 1884, "user_id": 3464919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec6f8ae7b324f7b67f37f72351bc807d?s=128&d=identicon&r=PG", "display_name": "Webserveis", "link": "https://stackoverflow.com/users/3464919/webserveis"}, "edited": false, "score": 0, "creation_date": 1528913893, "post_id": 45841067, "comment_id": 88691041, "body": "private val TAG = MainActivity::class.java.simpleName;"}, {"owner": {"reputation": 989, "user_id": 5410188, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/9793128eeefed57be6e310b823240bb8?s=128&d=identicon&r=PG&f=1", "display_name": "Cflux", "link": "https://stackoverflow.com/users/5410188/cflux"}, "edited": false, "score": 0, "creation_date": 1578583267, "post_id": 45841067, "comment_id": 105493072, "body": "check out <a href=\"https://www.youtube.com/watch?v=buhk5TRX_rw&amp;t=3s\" rel=\"nofollow noreferrer\">youtube.com/watch?v=buhk5TRX_rw&amp;t=3s</a> starting at 7:24"}], "answers": [{"tags": [], "owner": {"reputation": 7367, "user_id": 1742973, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6ea28ba189bf64baba86a9afd6efc257?s=128&d=identicon&r=PG", "display_name": "Matias Elorriaga", "link": "https://stackoverflow.com/users/1742973/matias-elorriaga"}, "is_accepted": false, "score": 2, "last_activity_date": 1503496224, "creation_date": 1503496224, "answer_id": 45841642, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/45841642#45841642", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>I'm creating the constant as a companion object:</p>\n\n<pre><code>companion object {\n    val TAG = \"SOME_TAG_VALUE\"\n}\n</code></pre>\n\n<p>Then, I can use it like this:</p>\n\n<pre><code>MyClass.TAG\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4696837"}, "edited": false, "score": 0, "creation_date": 1503497854, "post_id": 45841698, "comment_id": 78642133, "body": "MyClass::class.qualifiedName return String, so It showing err with const ... what to do?"}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1503497935, "post_id": 45841698, "comment_id": 78642197, "body": "@EnamulHaque in the TAG val definition I don&#39;t use const"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 2, "creation_date": 1503566064, "post_id": 45841698, "comment_id": 78672884, "body": "@EnamulHaque <code>const</code> values have to be compile time constants. As Kotlin has nothing like <code>nameof</code> it can&#39;t guarantee that that statement always will have the same value. Also, as Gabriele Mariotti said, <code>const</code> wasn&#39;t used in the answer."}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 26, "creation_date": 1520319660, "post_id": 45841698, "comment_id": 85254876, "body": "Hmm, according to Android Studio&#39;s warnings, <code>MyClass::class.qualifiedName</code> requires reflection, which greatly increases the complexity of the application and requires an additional jar file.  Is there a simpler way to do this oh-so-common task?"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 7, "creation_date": 1561438597, "post_id": 45841698, "comment_id": 100052311, "body": "@ScottBiggs how about using <code>MyClass::class.java.simpleName</code> ?"}, {"owner": {"reputation": 1066, "user_id": 220287, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/eed77f1d0ab0049cefed29820fb5ee9e?s=128&d=identicon&r=PG", "display_name": "StephenT", "link": "https://stackoverflow.com/users/220287/stephent"}, "edited": false, "score": 1, "creation_date": 1570654255, "post_id": 45841698, "comment_id": 102985321, "body": "Is there a good reference to read about how using reflection increases application complexity? (I didn&#39;t see anything about that here: <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/reflection.html</a>)"}], "tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": true, "score": 57, "last_activity_date": 1503496367, "creation_date": 1503496367, "answer_id": 45841698, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/45841698#45841698", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>In general constants are all caps (ex. FOO) and located in the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">companion object</a>:</p>\n\n<pre><code>class MyClass {\n    companion object {\n        public const val FOO = 1\n\n    }\n}\n</code></pre>\n\n<p>and to define the TAG field you can use:</p>\n\n<pre><code>private val TAG = MyClass::class.qualifiedName\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 1, "creation_date": 1569945996, "post_id": 45842266, "comment_id": 102757006, "body": "If you don&#39;t use <code>::class.java.simpleName</code>, you have to include <code>kotlin-reflect.jar</code>."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4696837"}, "is_accepted": false, "score": 1, "last_activity_date": 1503498653, "last_edit_date": 1503498653, "creation_date": 1503497721, "answer_id": 45842266, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/45842266#45842266", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>Declare of TAG variable with <code>val</code> </p>\n\n<pre><code>class YourClass {\n   companion object {\n      //if use java and kotlin both in project\n      //private val TAG = MyClass::class.java.simpleName\n\n      //if use only kotlin in project\n      private val TAG = YourClass::class.simpleName\n   }\n}\n</code></pre>\n\n<p>Use the variable like</p>\n\n<pre><code>Log.d(YourClass.TAG, \"Your message\");\n//or \nLog.e(TAG, \"Your message\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 2, "creation_date": 1522379977, "post_id": 48170562, "comment_id": 86144209, "body": "So much for Kotlin as a way to <i>reduce</i> boiler-plate code!"}], "tags": [], "owner": {"reputation": 6781, "user_id": 660982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/giQX8.png?s=128&g=1", "display_name": "jpihl", "link": "https://stackoverflow.com/users/660982/jpihl"}, "is_accepted": false, "score": 1, "last_activity_date": 1515508790, "creation_date": 1515508790, "answer_id": 48170562, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/48170562#48170562", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>I found a way which is more \"copy-paste\"-able, since it doesn't require you to type the name of your class:</p>\n\n<pre><code>package com.stackoverflow.mypackage\n\nclass MyClass\n{\n    companion object {\n        val TAG = this::class.toString().split(\".\").last().dropLast(10)\n    }\n}\n</code></pre>\n\n<p>It's not the most elegant solution but it works.</p>\n\n<p><code>this::class.toString().split(\".\").last()</code> will give you <code>\"com.stackoverflow.mypackage.MyClass$Companion\"</code> so you need the <code>dropLast(10)</code> to remove <code>$Companion</code>.</p>\n\n<p>Alternatively you can do this:</p>\n\n<pre><code>package com.stackoverflow.mypackage\n\nclass MyClass\n{\n    val TAG = this::class.simpleName\n}\n</code></pre>\n\n<p>But then the <code>TAG</code> member variable is no longer \"static\" and doesn't follow the recommended naming conventions.</p>\n"}, {"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 0, "last_activity_date": 1515522233, "creation_date": 1515522233, "answer_id": 48174477, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/48174477#48174477", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p><a href=\"https://github.com/Kotlin/anko/wiki/Anko-Commons-%E2%80%93-Logging\" rel=\"nofollow noreferrer\">AnkoLogger</a>  uses an interface to define the log tag.</p>\n\n<pre><code>interface AnkoLogger {\n            /**\n             * The logger tag used in extension functions for the [AnkoLogger].\n             * Note that the tag length should not be more than 23 symbols.\n             */\n            val loggerTag: String\n                get() = getTag(javaClass)\n        }\nprivate fun getTag(clazz: Class&lt;*&gt;): String {\n        val tag = clazz.simpleName\n        return if (tag.length &lt;= 23) {\n            tag\n        } else {\n            tag.substring(0, 23)\n        }\n    }\ninline fun AnkoLogger.info(message: () -&gt; Any?) {\n    val tag = loggerTag\n    if (Log.isLoggable(tag, Log.INFO)) {\n        Log.i(tag, message()?.toString() ?: \"null\")\n    }\n}\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>class MyClass : AnkoLogger {\n    fun someFun(){\n       info(\"logging info\")\n    }\n}\n</code></pre>\n\n<p>Maybe AnkoLogger can give you some ideas to implement a custom logging tool.</p>\n"}, {"comments": [{"owner": {"reputation": 536, "user_id": 3991578, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7897364fd821ad568d266ee443da56f6?s=128&d=identicon&r=PG&f=1", "display_name": "Carsten Hagemann", "link": "https://stackoverflow.com/users/3991578/carsten-hagemann"}, "edited": false, "score": 5, "creation_date": 1548269137, "post_id": 48658394, "comment_id": 95485101, "body": "Your source says this: &quot;In fact, this annotation has been created solely for Java compatibility reasons and I would definitely not recommend to clutter your beautiful Kotlin code with an obscure interop annotation&quot;. Why do you recommend using @JvmField then?"}], "tags": [], "owner": {"reputation": 71, "user_id": 2049942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123b45eb826b79013dddb14fb9434bba?s=128&d=identicon&r=PG", "display_name": "Andrew Wang", "link": "https://stackoverflow.com/users/2049942/andrew-wang"}, "is_accepted": false, "score": 5, "last_activity_date": 1517989903, "last_edit_date": 1517989903, "creation_date": 1517989421, "answer_id": 48658394, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/48658394#48658394", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>You can define your <code>TAG</code> by <code>@JvmField</code> as below:</p>\n\n<pre><code>companion object {\n    @JvmField val TAG: String = MyClass::class.java.simpleName\n}\n</code></pre>\n\n<p>For more details, you can read this article : <a href=\"https://medium.com/@BladeCoder/exploring-kotlins-hidden-costs-part-1-fbb9935d9b62\" rel=\"noreferrer\">Kotlin's hidden costs</a></p>\n"}, {"tags": [], "owner": {"reputation": 1585, "user_id": 3702021, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1673bafe8b7a003e126bc5b8b2b460b9?s=128&d=identicon&r=PG&f=1", "display_name": "Kasim Rangwala", "link": "https://stackoverflow.com/users/3702021/kasim-rangwala"}, "is_accepted": false, "score": 2, "last_activity_date": 1517996011, "creation_date": 1517996011, "answer_id": 48660267, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/48660267#48660267", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>Updated answer with <code>Kotlin 1.2.20</code></p>\n\n<pre><code>class MyClass {\n    companion object {\n\n        @JvmField\n        public val FOO = 1\n    }\n}\n</code></pre>\n\n<p>uses</p>\n\n<pre><code>MyClass.FOO\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16463, "user_id": 1366471, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bbfca7f22c1caa32b4b1fdf72c0816d2?s=128&d=identicon&r=PG", "display_name": "Yaroslav Mytkalyk", "link": "https://stackoverflow.com/users/1366471/yaroslav-mytkalyk"}, "is_accepted": false, "score": 12, "last_activity_date": 1524061079, "creation_date": 1524061079, "answer_id": 49902099, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/49902099#49902099", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>Commonly suggested approach of using the <code>companion object</code> generates extra <code>static final</code> instance of a companion class and thus is bad performance and memory-wise.</p>\n\n<h2>The best way (IMHO)</h2>\n\n<p>Define a log tag as a top-level constant, thus only extra class is generated (<code>MyClassKt</code>), but compared to <code>companion object</code> there will be no <code>static final</code> instance of it (and no instance whatsoever):</p>\n\n<pre><code>private const val TAG = \"MyLogTag\"\n\nclass MyClass {\n\n    fun logMe() {\n        Log.w(TAG, \"Message\")\n    }\n}\n</code></pre>\n\n<h2>Another option</h2>\n\n<p>Use a normal <code>val</code>. Though this looks unusual to see a log tag not as an all-uppercase constant, this will not generate any classes and has least overhead.</p>\n\n<pre><code>class MyClass {\n\n    private val tag = \"myLogTag\"\n\n    fun logMe() {\n        Log.w(tag, \"Message\")\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3189, "user_id": 5564683, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VotLv.jpg?s=128&g=1", "display_name": "Augusto Carmo", "link": "https://stackoverflow.com/users/5564683/augusto-carmo"}, "edited": false, "score": 0, "creation_date": 1568204574, "post_id": 50010622, "comment_id": 102199741, "body": "is this piece of code safe to be used inside a <code>companion object</code>?"}, {"owner": {"reputation": 442, "user_id": 1494680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/303668e5317cc07925197755ff3c10c4?s=128&d=identicon&r=PG", "display_name": "Omer", "link": "https://stackoverflow.com/users/1494680/omer"}, "edited": false, "score": 1, "creation_date": 1584592239, "post_id": 50010622, "comment_id": 107485142, "body": "you would need kotlin-reflect.jar"}], "tags": [], "owner": {"reputation": 409, "user_id": 2518487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/91zPs.png?s=128&g=1", "display_name": "nickgzzjr", "link": "https://stackoverflow.com/users/2518487/nickgzzjr"}, "is_accepted": false, "score": 11, "last_activity_date": 1524603456, "creation_date": 1524603456, "answer_id": 50010622, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/50010622#50010622", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>Simply doing the following worked for me.</p>\n\n<pre><code>private val TAG = this::class.java.simpleName\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 2281847, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4bb169c381813a65d5abfc25bd0e299f?s=128&d=identicon&r=PG", "display_name": "Francesco Mameli", "link": "https://stackoverflow.com/users/2281847/francesco-mameli"}, "edited": false, "score": 0, "creation_date": 1530862030, "post_id": 51167782, "comment_id": 89391150, "body": "This should be the accepted answer. I don&#39;t see why continue to mimic the Java approach"}], "tags": [], "owner": {"reputation": 150, "user_id": 10030527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/792rS.png?s=128&g=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/10030527/paolo"}, "is_accepted": false, "score": 3, "last_activity_date": 1530719876, "last_edit_date": 1530719876, "creation_date": 1530688262, "answer_id": 51167782, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/51167782#51167782", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>I created some Log extension functions to avoid declaring the log tag as we did in Java (maybe less performant, but given that we are talking about logging this should be acceptable IMO). The approach uses reified type parameters and other Kotlin goodies to retrieve the class simple name. Here is a basic example:</p>\n\n<pre><code>inline fun &lt;reified T&gt; T.logi(message: String) =\n   Log.i(T::class.java.simpleName, message)\n</code></pre>\n\n<p>You can find a more elaborated gist <a href=\"https://gist.github.com/paolop/0bd59e49b33d18d6089fb1bf5488e212\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 11596, "user_id": 304270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb96e9fb0b0dc550c28c95e8318cb00?s=128&d=identicon&r=PG", "display_name": "Ewoks", "link": "https://stackoverflow.com/users/304270/ewoks"}, "edited": false, "score": 1, "creation_date": 1543916465, "post_id": 51257179, "comment_id": 94080907, "body": "Why not naming it simply just TAG? Do you typically have any other constant with TAG in name in any class?"}], "tags": [], "owner": {"reputation": 1651, "user_id": 4630491, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-tTs9nCNmnRI/AAAAAAAAAAI/AAAAAAAAHKk/TDTnCbRXUEc/photo.jpg?sz=128", "display_name": "Max", "link": "https://stackoverflow.com/users/4630491/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1531196101, "creation_date": 1531196101, "answer_id": 51257179, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/51257179#51257179", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>In Android Studio, the usual way to rename something is to right-click the name, select Refactor->Rename. So, I think it's fine to do something like this,</p>\n\n<pre><code>class MyClass {\n    companion object {\n        private const LOG_TAG = \"MyClass\"\n    }\n}\n</code></pre>\n\n<p>because if you rename the class <code>MyClass</code> like I described, then the IDE will suggest renaming your LOG_TAG String as well. </p>\n\n<p>Ultimately there are pros and cons of using this method vs. other methods. Because LOG_TAG is a String, there's no need to import the kotlin-reflect.jar, as you would if you set <code>LOG_TAG</code> equal to <code>MyClass::class.simpleName</code>. Also because the variable is declared as a compile-time constant with the <code>const</code> keyword, the generated bytecode is smaller since it doesn't need to generate more hidden getters, as described in <a href=\"https://medium.com/@BladeCoder/exploring-kotlins-hidden-costs-part-1-fbb9935d9b62\" rel=\"nofollow noreferrer\">this article</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 6842407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c9486426770497211322fc142a14a7a?s=128&d=identicon&r=PG&f=1", "display_name": "NeeK", "link": "https://stackoverflow.com/users/6842407/neek"}, "edited": false, "score": 0, "creation_date": 1615327732, "post_id": 52956934, "comment_id": 117656409, "body": "simpleName is not good solution when build is obfuscated e.g. MyActivity may become M and you will see M everywhere in the log. It fails in scenarios like pre-releases build, where build is release type but we still want to capture logs!"}], "tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": false, "score": 14, "last_activity_date": 1540324647, "creation_date": 1540324647, "answer_id": 52956934, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/52956934#52956934", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>In Kotlin you could create an extension, and call tag as a method call instead. This would mean you'd never have to define it inside each class, we can construct it dynamically each time we call the method:</p>\n\n<pre><code>inline fun &lt;reified T&gt; T.TAG(): String = T::class.java.simpleName\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "reply_to_user": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "edited": false, "score": 1, "creation_date": 1552168986, "post_id": 53510106, "comment_id": 96910522, "body": "Thanks, I use it all the time!"}, {"owner": {"reputation": 5871, "user_id": 1529129, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pdQxb.png?s=128&g=1", "display_name": "Rahul Tiwari", "link": "https://stackoverflow.com/users/1529129/rahul-tiwari"}, "edited": false, "score": 1, "creation_date": 1556604193, "post_id": 53510106, "comment_id": 98483851, "body": "won&#39;t work for anonymous inner class, great otherwise"}, {"owner": {"reputation": 3169, "user_id": 1326431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9dc581090e601ccb0e3107414a49986a?s=128&d=identicon&r=PG&f=1", "display_name": "fklappan", "link": "https://stackoverflow.com/users/1326431/fklappan"}, "edited": false, "score": 1, "creation_date": 1560019821, "post_id": 53510106, "comment_id": 99605512, "body": "I&#39;m new to kotlin, so a honest question: are there any downsides to this (except the anonymous inner class)? It seems like the best answer, because i think thats what kotlin extensions are for.."}, {"owner": {"reputation": 381, "user_id": 1880015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37b34e6e88e6235d3c4a30565583f6b?s=128&d=identicon&r=PG", "display_name": "Alther", "link": "https://stackoverflow.com/users/1880015/alther"}, "edited": false, "score": 1, "creation_date": 1564675482, "post_id": 53510106, "comment_id": 101118150, "body": "This is a great answer, but the length check is not needed if your minSDK is 24 or higher as there is no longer a tag length restriction."}, {"owner": {"reputation": 436, "user_id": 5897324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c09fb21483c5541c5e43e882d8e4ff0?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Miller", "link": "https://stackoverflow.com/users/5897324/richard-miller"}, "edited": false, "score": 0, "creation_date": 1577279673, "post_id": 53510106, "comment_id": 105134421, "body": "If I have a class with 30 tags, does it mean I will instantiate TAG 30 times at runtime?  Or will it only instantiate one tag and reference it?"}, {"owner": {"reputation": 6685, "user_id": 704836, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ea883e4243387730cfbfd69740fac647?s=128&d=identicon&r=PG", "display_name": "casolorz", "link": "https://stackoverflow.com/users/704836/casolorz"}, "reply_to_user": {"reputation": 5871, "user_id": 1529129, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pdQxb.png?s=128&g=1", "display_name": "Rahul Tiwari", "link": "https://stackoverflow.com/users/1529129/rahul-tiwari"}, "edited": false, "score": 0, "creation_date": 1579634415, "post_id": 53510106, "comment_id": 105829253, "body": "@RahulTiwari did you find a solution for anonymous inner classes?"}, {"owner": {"reputation": 6685, "user_id": 704836, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ea883e4243387730cfbfd69740fac647?s=128&d=identicon&r=PG", "display_name": "casolorz", "link": "https://stackoverflow.com/users/704836/casolorz"}, "edited": false, "score": 0, "creation_date": 1579635064, "post_id": 53510106, "comment_id": 105829529, "body": "Just found the anonymous solution <a href=\"https://stackoverflow.com/a/55915831/704836\">stackoverflow.com/a/55915831/704836</a>"}, {"owner": {"reputation": 164, "user_id": 5884956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1aa97704754a1bcc61d5bfc4e82d72c?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Ant&#243;n", "link": "https://stackoverflow.com/users/5884956/javier-ant%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1584449918, "post_id": 53510106, "comment_id": 107435219, "body": "make it inline val"}, {"owner": {"reputation": 1619, "user_id": 950814, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/oIwpD.jpg?s=128&g=1", "display_name": "behelit", "link": "https://stackoverflow.com/users/950814/behelit"}, "edited": false, "score": 1, "creation_date": 1586068925, "post_id": 53510106, "comment_id": 107985678, "body": "Where does this go? What&#39;s an extension?"}, {"owner": {"reputation": 1182, "user_id": 4162800, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/drGVM.png?s=128&g=1", "display_name": "DJphy", "link": "https://stackoverflow.com/users/4162800/djphy"}, "edited": false, "score": 0, "creation_date": 1612502107, "post_id": 53510106, "comment_id": 116792169, "body": "Kotlin is like a weapon, you should know which button to turn ON"}], "tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 59, "last_activity_date": 1543363350, "creation_date": 1543363350, "answer_id": 53510106, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/53510106#53510106", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>This extension allows us to use TAG in any class</p>\n\n<pre><code>val Any.TAG: String\n    get() {\n        val tag = javaClass.simpleName\n        return if (tag.length &lt;= 23) tag else tag.substring(0, 23)\n    }\n\n//usage\nLog.e(TAG,\"some value\")\n</code></pre>\n\n<p>It it also validated to work as an Android valid Log tag.</p>\n"}, {"comments": [{"owner": {"reputation": 381, "user_id": 1880015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37b34e6e88e6235d3c4a30565583f6b?s=128&d=identicon&r=PG", "display_name": "Alther", "link": "https://stackoverflow.com/users/1880015/alther"}, "edited": false, "score": 2, "creation_date": 1564675734, "post_id": 55915831, "comment_id": 101118257, "body": "Good answer, but as of API 24, there is no length restriction, so if your app&#39;s min SDK is 24+, you can do away with the length checks."}, {"owner": {"reputation": 1399, "user_id": 1762587, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/6610f5be8df44a7c4c7324c436ef5242?s=128&d=identicon&r=PG", "display_name": "szaske", "link": "https://stackoverflow.com/users/1762587/szaske"}, "edited": false, "score": 0, "creation_date": 1580945583, "post_id": 55915831, "comment_id": 106269136, "body": "I like this solution and tried it in a current project, but for some reason in some classes it wouldn&#39;t resolve the reference in Android Studio...and others it would work. Strange"}, {"owner": {"reputation": 5871, "user_id": 1529129, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pdQxb.png?s=128&g=1", "display_name": "Rahul Tiwari", "link": "https://stackoverflow.com/users/1529129/rahul-tiwari"}, "reply_to_user": {"reputation": 1399, "user_id": 1762587, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/6610f5be8df44a7c4c7324c436ef5242?s=128&d=identicon&r=PG", "display_name": "szaske", "link": "https://stackoverflow.com/users/1762587/szaske"}, "edited": false, "score": 0, "creation_date": 1583740924, "post_id": 55915831, "comment_id": 107204734, "body": "@szaske are those inner classes?"}], "tags": [], "owner": {"reputation": 5871, "user_id": 1529129, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pdQxb.png?s=128&g=1", "display_name": "Rahul Tiwari", "link": "https://stackoverflow.com/users/1529129/rahul-tiwari"}, "is_accepted": false, "score": 12, "last_activity_date": 1559814059, "last_edit_date": 1559814059, "creation_date": 1556609083, "answer_id": 55915831, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/55915831#55915831", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>I Like <code>TAG</code> to be an extension function <a href=\"https://stackoverflow.com/a/53510106/1529129\">as suggested by Fredy Mederos</a>.</p>\n\n<p>extending his answer to support anonymous classes :</p>\n\n<pre><code> /**\n * extension function to provide TAG value\n */\nval Any.TAG: String\n    get() {\n        return if (!javaClass.isAnonymousClass) {\n            val name = javaClass.simpleName\n            if (name.length &lt;= 23) name else name.substring(0, 23)// first 23 chars\n        } else {\n            val name = javaClass.name\n            if (name.length &lt;= 23) name else name.substring(name.length - 23, name.length)// last 23 chars\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1569946191, "post_id": 57123619, "comment_id": 102757096, "body": "\u041f\u0430\u0432\u0435\u043b, how do you want to use Timber?"}, {"owner": {"reputation": 131, "user_id": 4461377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c544489e2398b053e956e12a7516d209?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Berdnikov", "link": "https://stackoverflow.com/users/4461377/pavel-berdnikov"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1570026218, "post_id": 57123619, "comment_id": 102785132, "body": "@CoolMind Just set it up in applications <code>onCreate() { if (BuildConfig.DEBUG) Timber.plant(Timber.DebugTree()) }</code> and then in any class just use <code>Timber.d(&quot;msg&quot;)</code> without need for explicit LOG_TAG"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1570027865, "post_id": 57123619, "comment_id": 102786123, "body": "Ah, thanks, I understood. I looked for <code>TAG</code>, Timber has already been added."}, {"owner": {"reputation": 4443, "user_id": 300236, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6ef35e12ab8af89a100661ce7783c550?s=128&d=identicon&r=PG", "display_name": "Brill Pappin", "link": "https://stackoverflow.com/users/300236/brill-pappin"}, "edited": false, "score": 0, "creation_date": 1589899733, "post_id": 57123619, "comment_id": 109472856, "body": "does Kotlin also have the char limit for tags that the old java Log class had?"}, {"owner": {"reputation": 131, "user_id": 4461377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c544489e2398b053e956e12a7516d209?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Berdnikov", "link": "https://stackoverflow.com/users/4461377/pavel-berdnikov"}, "reply_to_user": {"reputation": 4443, "user_id": 300236, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6ef35e12ab8af89a100661ce7783c550?s=128&d=identicon&r=PG", "display_name": "Brill Pappin", "link": "https://stackoverflow.com/users/300236/brill-pappin"}, "edited": false, "score": 1, "creation_date": 1589919662, "post_id": 57123619, "comment_id": 109483513, "body": "@BrillPappin afaik, tag length limit is related to android version, not to the language. According to <a href=\"https://developer.android.com/reference/android/util/Log.html#isLoggable(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">documentation</a> there is no limit since api24, but I&#39;ve found that problem <a href=\"https://github.com/mvysny/slf4j-handroid/issues/2\" rel=\"nofollow noreferrer\">may appear on versions above 24</a>"}, {"owner": {"reputation": 4443, "user_id": 300236, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6ef35e12ab8af89a100661ce7783c550?s=128&d=identicon&r=PG", "display_name": "Brill Pappin", "link": "https://stackoverflow.com/users/300236/brill-pappin"}, "edited": false, "score": 0, "creation_date": 1590007071, "post_id": 57123619, "comment_id": 109522047, "body": "@PavelBerdnikov yes, it seems it should handle it automatically now. My guess on your issue is you may have libraries built on older versions."}], "tags": [], "owner": {"reputation": 131, "user_id": 4461377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c544489e2398b053e956e12a7516d209?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Berdnikov", "link": "https://stackoverflow.com/users/4461377/pavel-berdnikov"}, "is_accepted": false, "score": 9, "last_activity_date": 1564316429, "last_edit_date": 1564316429, "creation_date": 1563616773, "answer_id": 57123619, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/57123619#57123619", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>The best way to log (imho) is using Timber:\n<a href=\"https://github.com/JakeWharton/timber\" rel=\"noreferrer\">https://github.com/JakeWharton/timber</a></p>\n\n<p>But if you don't want to use library then</p>\n\n<p>TAG can be defined as an inlined extension property (e.g. in <code>Extensions.kt</code>):</p>\n\n<pre><code>inline val &lt;reified T&gt; T.TAG: String\n    get() = T::class.java.simpleName\n</code></pre>\n\n<p>Some more extensions to not to write TAG all the time in <code>Log.d(TAG, \"\")</code>:</p>\n\n<pre><code>inline fun &lt;reified T&gt; T.logv(message: String) = Log.v(TAG, message)\ninline fun &lt;reified T&gt; T.logi(message: String) = Log.i(TAG, message)\ninline fun &lt;reified T&gt; T.logw(message: String) = Log.w(TAG, message)\ninline fun &lt;reified T&gt; T.logd(message: String) = Log.d(TAG, message)\ninline fun &lt;reified T&gt; T.loge(message: String) = Log.e(TAG, message)\n</code></pre>\n\n<p>And then you can use them in any class:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    logd(\"Activity created\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 3818147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nj6PO.png?s=128&g=1", "display_name": "Alireza Ghanbarinia", "link": "https://stackoverflow.com/users/3818147/alireza-ghanbarinia"}, "is_accepted": false, "score": 1, "last_activity_date": 1572882071, "last_edit_date": 1572882071, "creation_date": 1572876663, "answer_id": 58695182, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/58695182#58695182", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>You can try this:</p>\n\n<pre><code>companion object {\n    val TAG = ClearCacheTask::class.java.simpleName as String\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1806, "user_id": 5588436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1f23a6b9b633196938782b18bf086a7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajesh.k", "link": "https://stackoverflow.com/users/5588436/rajesh-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1600785200, "creation_date": 1600785200, "answer_id": 64011968, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin/64011968#64011968", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>Here is my extension function in kotlin, just add it in your extensions file.</p>\n<pre><code>val Any.TAG: String\nget() {\n    return if (!javaClass.isAnonymousClass) {\n        val name = javaClass.simpleName\n        if (name.length &lt;= 23 || Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) name else\n            name.substring(0, 23)// first 23 chars\n    } else {\n        val name = javaClass.name\n        if (name.length &lt;= 23 || Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N)\n            name else name.substring(name.length - 23, name.length)// last 23 chars\n    }\n}\n</code></pre>\n<p>Then you can use TAG in any class like below:</p>\n<pre><code>Log.d(TAG, &quot;country list&quot;)\n</code></pre>\n"}], "owner": {"reputation": 4086, "user_id": 1726308, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c43573dea28849f26ee7b5fd13c4219?s=128&d=identicon&r=PG", "display_name": "Mario Kutlev", "link": "https://stackoverflow.com/users/1726308/mario-kutlev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28970, "favorite_count": 14, "accepted_answer_id": 45841698, "answer_count": 17, "score": 81, "last_activity_date": 1600785200, "creation_date": 1503494728, "question_id": 45841067, "link": "https://stackoverflow.com/questions/45841067/what-is-the-best-way-to-define-log-tag-constant-in-kotlin", "title": "What is the best way to define log TAG constant in Kotlin?", "body": "<p>I'm creating my first Kotlin classes in my Android application. Usually for logging purposes I have a constant with name <code>TAG</code>. What I would do in Java is:</p>\n\n<pre><code>private static final String TAG = MyClass.class.getSimpleName();\n</code></pre>\n\n<p>I know that in Kotlin classes I can create <code>TAG</code> using this way:</p>\n\n<pre><code>private val TAG = MyClass::class.java.simpleName\n</code></pre>\n\n<p>This is OK for projects that use Java and Kotlin but what if I start a new project that is only in Kotlin? How can I define there <code>TAG</code> constant? Is there more Kotlin way where I don't have this strange construction <code>class.java.simpleName</code>?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "comments": [{"owner": {"reputation": 2220, "user_id": 4098637, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/uYGnV.jpg?s=128&g=1", "display_name": "Raghavendra", "link": "https://stackoverflow.com/users/4098637/raghavendra"}, "edited": false, "score": 0, "creation_date": 1503493919, "post_id": 45840605, "comment_id": 78638787, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37862017/android-parcel-unable-to-marshal-value\">Android - Parcel: unable to marshal value</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": true, "score": 8, "last_activity_date": 1503494521, "last_edit_date": 1503494521, "creation_date": 1503493789, "answer_id": 45840695, "question_id": 45840605, "link": "https://stackoverflow.com/questions/45840605/parcel-unable-to-marshal-value/45840695#45840695", "title": "Parcel: unable to marshal value", "body": "<p>Your class should implement <code>Parcelable</code> (or <code>Serializable</code>, though <code>Parcelable</code> is the advised one on Android) to be able to pass the objects across Activity using the Intent. </p>\n\n<p>Using Kotlin 1.1.4 and <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#using-kotlin-android-extensions\" rel=\"noreferrer\">Android Extensions Plugin</a>, you can add <code>@Parcelize</code> annotation to get the <code>Parcelable</code> implementation.</p>\n\n<pre><code>@Parcelize\nclass Player(var name: String?) : Parcelable {\n\n// ...\n</code></pre>\n\n<p>Refer the <a href=\"https://blog.jetbrains.com/kotlin/2017/08/kotlin-1-1-4-is-out/\" rel=\"noreferrer\">blog post</a>. </p>\n\n<p>This feature is covered as experimental, so you have turn on an experimental flag in your build.gradle file:</p>\n\n<pre><code>androidExtensions {\n    experimental = true\n}\n</code></pre>\n\n<p>Another option is to use <a href=\"https://plugins.jetbrains.com/plugin/8086-parcelable-code-generator-for-kotlin-\" rel=\"noreferrer\">this plugin</a> to generate the boilerplate code necessary for the <code>Parcelable</code> implementation, but you should remember to update the implementation code everytime you change any properties in the class. </p>\n\n<p>Or you can write your own <code>Parcelable</code> implementation. </p>\n"}, {"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 1, "last_activity_date": 1503494175, "creation_date": 1503494175, "answer_id": 45840840, "question_id": 45840605, "link": "https://stackoverflow.com/questions/45840605/parcel-unable-to-marshal-value/45840840#45840840", "title": "Parcel: unable to marshal value", "body": "<p>Your class need to be <code>Parcelable</code> or <code>Serializable</code>.  There is a <a href=\"https://plugins.jetbrains.com/plugin/8086-parcelable-code-generator-for-kotlin-\" rel=\"nofollow noreferrer\">jet-brains plugin</a> you can use to generate an implementation (or you can use an experimental feature <code>Parcelize</code>).</p>\n\n<p><code>Serializable</code> is usually less complex, and may be all that you need.</p>\n"}, {"tags": [], "owner": {"reputation": 166, "user_id": 5242059, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SqubJ.jpg?s=128&g=1", "display_name": "Hamza Abdullah", "link": "https://stackoverflow.com/users/5242059/hamza-abdullah"}, "is_accepted": false, "score": 0, "last_activity_date": 1514113635, "creation_date": 1514113635, "answer_id": 47960043, "question_id": 45840605, "link": "https://stackoverflow.com/questions/45840605/parcel-unable-to-marshal-value/47960043#47960043", "title": "Parcel: unable to marshal value", "body": "<p>Using Java Just Your Class should implement Parcelable and whit method : \nwriteToParcel(Parcel parcel, int i)</p>\n"}, {"tags": [], "owner": {"reputation": 265, "user_id": 9487152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7fUU.png?s=128&g=1", "display_name": "zedlabs", "link": "https://stackoverflow.com/users/9487152/zedlabs"}, "is_accepted": false, "score": 0, "last_activity_date": 1615105263, "creation_date": 1615105263, "answer_id": 66514505, "question_id": 45840605, "link": "https://stackoverflow.com/questions/45840605/parcel-unable-to-marshal-value/66514505#66514505", "title": "Parcel: unable to marshal value", "body": "<p>For anyone working with <code>jetpack-compose</code> this problem is due to <code>rememberSavable()</code>, use <code>remember()</code> or store the value in a viewModel</p>\n"}], "owner": {"reputation": 1157, "user_id": 2928241, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/877a945a09003d61faad155090a93b2c?s=128&d=identicon&r=PG&f=1", "display_name": "yasin", "link": "https://stackoverflow.com/users/2928241/yasin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7409, "favorite_count": 1, "accepted_answer_id": 45840695, "answer_count": 4, "score": 4, "last_activity_date": 1615105263, "creation_date": 1503493516, "question_id": 45840605, "link": "https://stackoverflow.com/questions/45840605/parcel-unable-to-marshal-value", "title": "Parcel: unable to marshal value", "body": "<p>I'm using Kotlin with Anko and I want to send to another activity a list of Players. </p>\n\n<pre><code>class Player(var name: String?) {\nvar score: Int = 0\n\ninit {\n    this.score = 0\n }\n}\n</code></pre>\n\n<p>My activity:</p>\n\n<pre><code> class MainActivity: AppCompatActivity() {\n         override fun onCreate(savedInstanceState: Bundle ? ) {\n             btn.setOnClickListener {\n                 val players = ArrayList &lt;Player&gt; ()\n                 players.add(Player(\"John\"))\n                 players.add(Player(\"Jeff\"))\n\n                 startActivity &lt;ScoreActivity&gt; (\"key\" to players)\n             }\n         }\n }\n</code></pre>\n\n<p>When the code reaches the startActivity line, I get this error:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Parcel: unable to marshal value\n  com.yasin.myapp.Player@4e3940e</p>\n</blockquote>\n\n<p>I suppose something is wrong with my class Player, but I don't know what. I'm using kotlin version 1.1.4. Someone can help me?</p>\n"}, {"tags": ["spring-boot", "jackson", "kotlin"], "comments": [{"owner": {"reputation": 929, "user_id": 1942642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074c1726aee7c73df923c3d5064ab861?s=128&d=identicon&r=PG", "display_name": "Pedro Tavares", "link": "https://stackoverflow.com/users/1942642/pedro-tavares"}, "edited": false, "score": 1, "creation_date": 1503495869, "post_id": 45839377, "comment_id": 78640457, "body": "You should avoid using the same object for both API and Persistence layer. Try to create a new object like <code>TaskRequest</code> only with the required fields and then, map it to the <code>Task</code> object in order to persist the entity."}, {"owner": {"reputation": 43, "user_id": 4046522, "user_type": "registered", "profile_image": "https://graph.facebook.com/1254448258/picture?type=large", "display_name": "Niklas Renner Nielsen", "link": "https://stackoverflow.com/users/4046522/niklas-renner-nielsen"}, "reply_to_user": {"reputation": 929, "user_id": 1942642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074c1726aee7c73df923c3d5064ab861?s=128&d=identicon&r=PG", "display_name": "Pedro Tavares", "link": "https://stackoverflow.com/users/1942642/pedro-tavares"}, "edited": false, "score": 0, "creation_date": 1503528576, "post_id": 45839377, "comment_id": 78659065, "body": "Yeah that makes a lot more sense, I don&#39;t know why I didn&#39;t consider that, have done it on previous non-Kotlin projects. I would still like to know how to not serialze collections though, seems like there should be an easy way to do it."}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1503543907, "post_id": 45839377, "comment_id": 78662621, "body": "There is a reason that enterprise applications consist of different layers, and it&#39;s called &quot;separation of responsibility&quot;. If you use an <code>Entity</code> in your controller, you will be fine with sending the <code>HttpServletRequest</code> to the DAO as well. You can spend a lot of time trying to solve this problem, and if you&#39;re an hourly employee that may turn out to be beneficial, or you can start with a cleaner design. Your choice."}, {"owner": {"reputation": 43, "user_id": 4046522, "user_type": "registered", "profile_image": "https://graph.facebook.com/1254448258/picture?type=large", "display_name": "Niklas Renner Nielsen", "link": "https://stackoverflow.com/users/4046522/niklas-renner-nielsen"}, "edited": false, "score": 0, "creation_date": 1503565135, "post_id": 45839377, "comment_id": 78672214, "body": "I agree, and I completed a major refactor, accomplishing exactly that, however as I said, I would still like to know how to make a collection only serializable with Jackson, if I need it another time, since it&#39;s not obvious that it doesn&#39;t work with collections(unless I did something wrong and it actually does, or it&#39;s because of a Kotlin incompability)"}, {"owner": {"reputation": 929, "user_id": 1942642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074c1726aee7c73df923c3d5064ab861?s=128&d=identicon&r=PG", "display_name": "Pedro Tavares", "link": "https://stackoverflow.com/users/1942642/pedro-tavares"}, "edited": false, "score": 0, "creation_date": 1504041604, "post_id": 45839377, "comment_id": 78855634, "body": "Hey, did this <a href=\"https://stackoverflow.com/a/45861877/1942642\">stackoverflow.com/a/45861877/1942642</a> answered your question?"}], "answers": [{"tags": [], "owner": {"reputation": 929, "user_id": 1942642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074c1726aee7c73df923c3d5064ab861?s=128&d=identicon&r=PG", "display_name": "Pedro Tavares", "link": "https://stackoverflow.com/users/1942642/pedro-tavares"}, "is_accepted": false, "score": 0, "last_activity_date": 1503578272, "creation_date": 1503578272, "answer_id": 45861877, "question_id": 45839377, "link": "https://stackoverflow.com/questions/45839377/jackson-read-only-collections/45861877#45861877", "title": "Jackson read only collections", "body": "<p>In order to ignore some fields on deserialization, you should use <code>JsonIgnoreProperties</code> with <code>allowGetters=true</code>. With this, the field <code>users</code> will be populated on serialization but ignored on deserialization.</p>\n\n<pre><code>@JsonIgnoreProperties(value = \"users\", allowGetters=true)\nclass Task {\n    @ManyToMany\n    var users: MutableSet&lt;User&gt; = HashSet()\n}\n</code></pre>\n\n<p>You can find more info on: <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html#allowGetters()\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html#allowGetters()</a></p>\n"}], "owner": {"reputation": 43, "user_id": 4046522, "user_type": "registered", "profile_image": "https://graph.facebook.com/1254448258/picture?type=large", "display_name": "Niklas Renner Nielsen", "link": "https://stackoverflow.com/users/4046522/niklas-renner-nielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1551456768, "creation_date": 1503490290, "last_edit_date": 1551456768, "question_id": 45839377, "link": "https://stackoverflow.com/questions/45839377/jackson-read-only-collections", "title": "Jackson read only collections", "body": "<p>I have Spring Boot project with a post endpoint for a entity like this:</p>\n\n<pre><code>class Task{\n    @JoinTable(name = \"task_user\",\n        joinColumns = arrayOf(JoinColumn(name = \"task_id\")),\n        inverseJoinColumns = arrayOf(JoinColumn(name = \"user_id\")))\n@ManyToMany\nvar users: MutableSet&lt;User&gt; = HashSet()\n}\n</code></pre>\n\n<p>I don't want people to be able to post users with the task, but @JsonProperty(access = READ_ONLY) doesn't seem to work on collections, so if I supply id's which exist, they are attached to the task anyway, does anyone have any idea if this can be done for collections in a similar way(I know it can be done using custom deserializers)?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 577, "user_id": 5691049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CqR16z9lkl4/AAAAAAAAAAI/AAAAAAAAAK4/zHFoWJFlE3g/photo.jpg?sz=128", "display_name": "Pravin Londhe", "link": "https://stackoverflow.com/users/5691049/pravin-londhe"}, "edited": false, "score": 2, "creation_date": 1503489312, "post_id": 45838990, "comment_id": 78635124, "body": "val tv: TextView = findViewById(R.id.textView)"}, {"owner": {"reputation": 3450, "user_id": 6463791, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh4.googleusercontent.com/-MAaooma8yss/AAAAAAAAAAI/AAAAAAAAABg/VTrdlI5aHgQ/photo.jpg?sz=128", "display_name": "Satan Pandeya", "link": "https://stackoverflow.com/users/6463791/satan-pandeya"}, "edited": false, "score": 1, "creation_date": 1503489407, "post_id": 45838990, "comment_id": 78635188, "body": "val textView: TextView = findViewById(R.id.android_text) as TextView"}], "answers": [{"comments": [{"owner": {"reputation": 2979, "user_id": 635504, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/HMtxo.png?s=128&g=1", "display_name": "\u6700\u767d\u76ee", "link": "https://stackoverflow.com/users/635504/%e6%9c%80%e7%99%bd%e7%9b%ae"}, "edited": false, "score": 0, "creation_date": 1527600219, "post_id": 45839025, "comment_id": 88180224, "body": "by far the best answer."}], "tags": [], "owner": {"reputation": 125, "user_id": 6712837, "user_type": "registered", "profile_image": "https://graph.facebook.com/1154747104582087/picture?type=large", "display_name": "Daryl Sze", "link": "https://stackoverflow.com/users/6712837/daryl-sze"}, "is_accepted": false, "score": 2, "last_activity_date": 1503490089, "last_edit_date": 1503490089, "creation_date": 1503489268, "answer_id": 45839025, "question_id": 45838990, "link": "https://stackoverflow.com/questions/45838990/how-to-initialise-view-in-fragment-class-in-kotlin/45839025#45839025", "title": "How to initialise view in fragment class in kotlin?", "body": "<p>Why don't you simply use Kotlin Android Binding? Which is an Extension from Kotlin helps to bind the view without any \"bindView\" or findViewById code to interfere business logic.</p>\n\n<p>Once you have dig into it, you would definitely find it great and less code written afterwards.</p>\n\n<p>Worth to have a look. <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html</a></p>\n\n<hr>\n\n<p>But you can still use the original one with kotlin </p>\n\n<pre><code>val lblLabel = findViewById(R.id.text) as TextView\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 439, "user_id": 4549478, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-4Hu6p-clYU4/AAAAAAAAAAI/AAAAAAAAAHo/JxzHlBX7MPE/photo.jpg?sz=128", "display_name": "SARATH V", "link": "https://stackoverflow.com/users/4549478/sarath-v"}, "is_accepted": false, "score": 0, "last_activity_date": 1503489349, "creation_date": 1503489349, "answer_id": 45839053, "question_id": 45838990, "link": "https://stackoverflow.com/questions/45838990/how-to-initialise-view-in-fragment-class-in-kotlin/45839053#45839053", "title": "How to initialise view in fragment class in kotlin?", "body": "<pre><code> val tv: TextView = findViewById(R.id.textView) as TextView\n</code></pre>\n\n<p>if you want to declare textview globally, use  <code>lateinit var tv: TextView</code></p>\n"}, {"tags": [], "owner": {"reputation": 3253, "user_id": 4831648, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/TPzW0.jpg?s=128&g=1", "display_name": "Sunil P", "link": "https://stackoverflow.com/users/4831648/sunil-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1503489367, "creation_date": 1503489367, "answer_id": 45839060, "question_id": 45838990, "link": "https://stackoverflow.com/questions/45838990/how-to-initialise-view-in-fragment-class-in-kotlin/45839060#45839060", "title": "How to initialise view in fragment class in kotlin?", "body": "<p>like this you can do in kotlin</p>\n\n<pre><code>val lv = findViewById(R.id.textView) as TextView\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2838, "user_id": 6314513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMIUc.jpg?s=128&g=1", "display_name": "Gowtham Subramaniam", "link": "https://stackoverflow.com/users/6314513/gowtham-subramaniam"}, "is_accepted": false, "score": 0, "last_activity_date": 1503489661, "creation_date": 1503489661, "answer_id": 45839157, "question_id": 45838990, "link": "https://stackoverflow.com/questions/45838990/how-to-initialise-view-in-fragment-class-in-kotlin/45839157#45839157", "title": "How to initialise view in fragment class in kotlin?", "body": "<p>Kotlin Initialization:</p>\n\n<pre><code>val tv = findViewbyId(R.id.textView) as TextView\n</code></pre>\n\n<p>Refer <a href=\"https://android.jlelse.eu/learn-kotlin-while-developing-an-android-app-part-2-e53317ffcbe9\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 0, "last_activity_date": 1503492351, "creation_date": 1503492351, "answer_id": 45840139, "question_id": 45838990, "link": "https://stackoverflow.com/questions/45838990/how-to-initialise-view-in-fragment-class-in-kotlin/45840139#45840139", "title": "How to initialise view in fragment class in kotlin?", "body": "<p>You can use:</p>\n\n<pre><code>val myLabel = findViewById(R.id.text) as TextView\n</code></pre>\n\n<p>However you can use the <strong>Kotlin Android Extensions</strong> plugin.</p>\n\n<p>Just add to your <code>build.gradle</code></p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>Then you can avoid the use of the <code>findViewById</code> method just using for example:</p>\n\n<pre><code>textView.text = \"My text\"\n</code></pre>\n\n<p>You can access the view without finding it or using third\nparty libraries just using the <code>id</code> assigned in the xml file.</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 5350351, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-QQ0H2mMusL8/AAAAAAAAAAI/AAAAAAAAAmY/JU_uZklWAJM/photo.jpg?sz=128", "display_name": "Aniket Indulkar", "link": "https://stackoverflow.com/users/5350351/aniket-indulkar"}, "is_accepted": false, "score": 1, "last_activity_date": 1504082441, "creation_date": 1504082441, "answer_id": 45955767, "question_id": 45838990, "link": "https://stackoverflow.com/questions/45838990/how-to-initialise-view-in-fragment-class-in-kotlin/45955767#45955767", "title": "How to initialise view in fragment class in kotlin?", "body": "<p>Initialization of view in fragment :</p>\n\n<pre><code>val manageAddress=view.findViewById&lt;TextView&gt;(R.id.textView)\n</code></pre>\n\n<p>that's it</p>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1536649117, "post_id": 46690849, "comment_id": 91487867, "body": "I think, that&#39;s a mistake. If view will be null (it often happens), an application will crash. So, instead of <code>view!!</code> it should be written as <code>view?</code>."}], "tags": [], "owner": {"reputation": 312, "user_id": 4845324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/983aA.jpg?s=128&g=1", "display_name": "Saeed", "link": "https://stackoverflow.com/users/4845324/saeed"}, "is_accepted": true, "score": 3, "last_activity_date": 1507732090, "creation_date": 1507732090, "answer_id": 46690849, "question_id": 45838990, "link": "https://stackoverflow.com/questions/45838990/how-to-initialise-view-in-fragment-class-in-kotlin/46690849#46690849", "title": "How to initialise view in fragment class in kotlin?", "body": "<p>very simply, just do following action</p>\n\n<pre><code>val valueName = view!!.findViewById&lt;ObjectName&gt;(R.id.ObjectId)\n</code></pre>\n\n<p>also with this mark <code>!!</code> kotlin will be checked null state</p>\n\n<p>finally see following example</p>\n\n<pre><code>val btn = view!!.findViewById&lt;Button&gt;(R.id.btn)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 0, "last_activity_date": 1536649430, "creation_date": 1536649430, "answer_id": 52270405, "question_id": 45838990, "link": "https://stackoverflow.com/questions/45838990/how-to-initialise-view-in-fragment-class-in-kotlin/52270405#52270405", "title": "How to initialise view in fragment class in kotlin?", "body": "<p>If you use Kotlin Android Extensions (<code>apply plugin: 'kotlin-android-extensions'</code>, see <a href=\"https://antonioleiva.com/kotlin-android-extensions/\" rel=\"nofollow noreferrer\">https://antonioleiva.com/kotlin-android-extensions/</a>), you can write <code>textView</code> and IDE will offer several variants of that view in different layouts. After you choose a right one, you can write something like:</p>\n\n<pre><code>textView.text = \"This is a text\"\n</code></pre>\n\n<p>In imports you will see something like <code>import kotlinx.android.synthetic.main.fragment_dialog.*</code></p>\n"}], "owner": {"reputation": 114, "user_id": 6540548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YlCNa.jpg?s=128&g=1", "display_name": "Fazal", "link": "https://stackoverflow.com/users/6540548/fazal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4333, "favorite_count": 0, "accepted_answer_id": 46690849, "answer_count": 8, "score": -2, "last_activity_date": 1536649430, "creation_date": 1503489150, "last_edit_date": 1503492479, "question_id": 45838990, "link": "https://stackoverflow.com/questions/45838990/how-to-initialise-view-in-fragment-class-in-kotlin", "title": "How to initialise view in fragment class in kotlin?", "body": "<p>I would like the equivalent code for the line below in Kotlin:</p>\n\n<pre><code>TextView tv = view.findViewbyId(R.id.textView);\n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["list", "kotlin", "arraylist", "collections"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503487940, "post_id": 45838488, "comment_id": 78634122, "body": "What do you want <code>list2</code> to contain? In the code sample above, it is empty."}, {"owner": {"reputation": 5325, "user_id": 4507386, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-SB4-Yo98rrM/AAAAAAAAAAI/AAAAAAAAAB4/QEKmkZwFw7E/photo.jpg?sz=128", "display_name": "Toni Joe", "link": "https://stackoverflow.com/users/4507386/toni-joe"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503488108, "post_id": 45838488, "comment_id": 78634253, "body": "Sorry. list2 should contain list1, I&#39;ve edited the question"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 9, "last_activity_date": 1503488337, "creation_date": 1503488337, "answer_id": 45838686, "question_id": 45838488, "link": "https://stackoverflow.com/questions/45838488/how-to-create-a-new-list-from-another-in-kotlin/45838686#45838686", "title": "How to create a new list from another in Kotlin?", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-list.html\" rel=\"noreferrer\"><code>.toList()</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-mutable-list.html\" rel=\"noreferrer\"><code>.toMutableList()</code></a> extensions to copy a container (an array, a collection, a sequence) into a new list:</p>\n\n<pre><code>val list1 = listOf(1, -10, 12, 37)\n\nval list2 = list1.toList()\nval mutableList2 = list2.toMutableList()\n</code></pre>\n"}], "owner": {"reputation": 5325, "user_id": 4507386, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-SB4-Yo98rrM/AAAAAAAAAAI/AAAAAAAAAB4/QEKmkZwFw7E/photo.jpg?sz=128", "display_name": "Toni Joe", "link": "https://stackoverflow.com/users/4507386/toni-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3288, "favorite_count": 0, "accepted_answer_id": 45838686, "answer_count": 1, "score": 5, "last_activity_date": 1569241473, "creation_date": 1503487746, "last_edit_date": 1569241473, "question_id": 45838488, "link": "https://stackoverflow.com/questions/45838488/how-to-create-a-new-list-from-another-in-kotlin", "title": "How to create a new list from another in Kotlin?", "body": "<p>In Java we can create a new list from another like this:</p>\n\n<pre><code>List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\nlist1.add(1)\nlist1.add(-10)\nlist1.add(12)\nlist1.add(37)\n\nList&lt;Integer&gt; list2 = new ArrayList&lt;&gt;(list1);\n</code></pre>\n\n<p>how can we achieve the same result as above in Kotlin using <code>listOf()</code> or <code>mutableListOf()?</code></p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 2, "last_activity_date": 1503494617, "last_edit_date": 1503494617, "creation_date": 1503487490, "answer_id": 45838411, "question_id": 45837747, "link": "https://stackoverflow.com/questions/45837747/keep-baseactivity-in-java-compatible-with-kotlin-activity/45838411#45838411", "title": "Keep BaseActivity in Java compatible with Kotlin Activity", "body": "<p>Try adding an <code>Unbinder</code> to your base class</p>\n\n<pre><code>protected Unbinder mUnbinder;\n</code></pre>\n\n<p>And then in each of your subclasses, set <code>mUnbinder</code></p>\n\n<pre><code>mUnbinder = ButterKnife.bind(this);\n</code></pre>\n\n<p><a href=\"https://github.com/JakeWharton/butterknife/issues/630\" rel=\"nofollow noreferrer\">This link</a> discusses the issue.  You would call the <code>Unbinder</code> in your base class when finished (after checking for null).</p>\n\n<p>If/when you go to a full Kotlin implementation, you can probably drop Butter Knife completely.</p>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 6712837, "user_type": "registered", "profile_image": "https://graph.facebook.com/1154747104582087/picture?type=large", "display_name": "Daryl Sze", "link": "https://stackoverflow.com/users/6712837/daryl-sze"}, "is_accepted": false, "score": 2, "last_activity_date": 1503489047, "creation_date": 1503489047, "answer_id": 45838947, "question_id": 45837747, "link": "https://stackoverflow.com/questions/45837747/keep-baseactivity-in-java-compatible-with-kotlin-activity/45838947#45838947", "title": "Keep BaseActivity in Java compatible with Kotlin Activity", "body": "<p>Why don't you simply use Kotlin Android Binding? \nWhich is an Extension from Kotlin helps to bind the view without any \"bindView\" or findViewById code to interfere business logic.</p>\n\n<p>have a look. <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 227, "user_id": 6505882, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/95a99eb993e4dfaa0aa1891f6ad58a82?s=128&d=identicon&r=PG&f=1", "display_name": "user6505882", "link": "https://stackoverflow.com/users/6505882/user6505882"}, "is_accepted": false, "score": 2, "last_activity_date": 1503492023, "creation_date": 1503492023, "answer_id": 45840003, "question_id": 45837747, "link": "https://stackoverflow.com/questions/45837747/keep-baseactivity-in-java-compatible-with-kotlin-activity/45840003#45840003", "title": "Keep BaseActivity in Java compatible with Kotlin Activity", "body": "<p>Thanks @Les and @Daryl Sze! \nJoining the extension plus Unbinder achieved the same behavior as an Activity Java!</p>\n\n<pre><code>this.mUnbinder = ButterKnife.bind(this)\n\napply plugin: 'kotlin-android'\napply plugin: 'android-apt'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n"}], "owner": {"reputation": 227, "user_id": 6505882, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/95a99eb993e4dfaa0aa1891f6ad58a82?s=128&d=identicon&r=PG&f=1", "display_name": "user6505882", "link": "https://stackoverflow.com/users/6505882/user6505882"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1559, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1503494617, "creation_date": 1503485764, "question_id": 45837747, "link": "https://stackoverflow.com/questions/45837747/keep-baseactivity-in-java-compatible-with-kotlin-activity", "title": "Keep BaseActivity in Java compatible with Kotlin Activity", "body": "<p>I would like to know if there is a way to maintain a BaseActivity (Java) that has, for example, functional BottomNavigationView for Java and Kotlin Activities. In the future I intend to turn the (several) Java Activities into Kotlin, since the new Activities are developed in Kotlin.\nThe problem is that Java is able to keep BottomNavigationView created correctly since Kotlin plays as null and BottomNavigationView loading comes after the loop maintained as in Java.\nAnother attempt was to try to turn my Java BaseActivity into Kotlin but broke the operation of the various Java Activities.</p>\n\n<pre><code>class KotlinActivity : BaseActivity() {\n\n    public override fun onCreate(savedInstanceState: Bundle?) {\n\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_my_wishes_list)\n        ButterKnife.bind(this)\n        //bottomNavigationMenu is null and lost all configurations from the BaseActivity\n        bottomNavigationMenu.menu.getItem(0).isChecked = true\n\n    }\n\n}\n\n\npublic class BaseActivity extends AppCompatActivity {\n\n    @BindView(R.id.bottom_navigation_menu)\n    protected BottomNavigationView bottomNavigationMenu;\n\n    @Override\n    protected void onPostCreate(@Nullable Bundle savedInstanceState) {\n        super.onPostCreate(savedInstanceState);\n\n        setupBottomMenu();\n    }\n\n    private void setupBottomMenu() {\n\n        if (bottomNavigationMenu != null) {\n\n            BottomNavigationViewHelper.removeShiftMode(bottomNavigationMenu);\n\n            bottomNavigationMenu.setOnNavigationItemSelectedListener(\n                    new BottomNavigationView.OnNavigationItemSelectedListener() {\n                        @Override\n                        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                            setupBottomMenuListener(item);\n                            return true;\n                        }\n\n                    });\n\n\n        }\n\n    }\n\n    private void setupBottomMenuListener(@NonNull MenuItem item) {\n\n        switch (item.getItemId()) {\n\n           //...\n\n        }\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "dialog", "fragment", "kotlin", "alarmmanager"], "comments": [{"owner": {"reputation": 1188, "user_id": 5908465, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/206b8c09c5e9baa0428b2977fa238cc2?s=128&d=identicon&r=PG&f=1", "display_name": "Android Player_Shree", "link": "https://stackoverflow.com/users/5908465/android-player-shree"}, "edited": false, "score": 0, "creation_date": 1503483382, "post_id": 45836805, "comment_id": 78630824, "body": "replace your <code>fm</code> variable with <code>val fm = fragmentManager</code>"}, {"owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "reply_to_user": {"reputation": 1188, "user_id": 5908465, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/206b8c09c5e9baa0428b2977fa238cc2?s=128&d=identicon&r=PG&f=1", "display_name": "Android Player_Shree", "link": "https://stackoverflow.com/users/5908465/android-player-shree"}, "edited": false, "score": 0, "creation_date": 1503483547, "post_id": 45836805, "comment_id": 78630933, "body": "i am do that = error again"}], "answers": [{"comments": [{"owner": {"reputation": 565, "user_id": 7284784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07e1d58c21a34dc8749de9bff382e1ba?s=128&d=identicon&r=PG&f=1", "display_name": "Maya Mohite", "link": "https://stackoverflow.com/users/7284784/maya-mohite"}, "edited": false, "score": 0, "creation_date": 1525327772, "post_id": 45837201, "comment_id": 87314174, "body": "I tried same thing but I am getting fragmentManager as null. I want to show DialogFragment from Fragment."}], "tags": [], "owner": {"reputation": 577, "user_id": 5691049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CqR16z9lkl4/AAAAAAAAAAI/AAAAAAAAAK4/zHFoWJFlE3g/photo.jpg?sz=128", "display_name": "Pravin Londhe", "link": "https://stackoverflow.com/users/5691049/pravin-londhe"}, "is_accepted": false, "score": 1, "last_activity_date": 1503484120, "creation_date": 1503484120, "answer_id": 45837201, "question_id": 45836805, "link": "https://stackoverflow.com/questions/45836805/i-want-to-show-dialogfragment-in-android-using-kotlin/45837201#45837201", "title": "I want to show DialogFragment in Android using Kotlin", "body": "<p>Replace </p>\n\n<pre><code>val fm = FragmentManager\n</code></pre>\n\n<p>with</p>\n\n<pre><code>val fm = fragmentManager\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4696837"}, "is_accepted": true, "score": 2, "last_activity_date": 1503490112, "creation_date": 1503490112, "answer_id": 45839307, "question_id": 45836805, "link": "https://stackoverflow.com/questions/45836805/i-want-to-show-dialogfragment-in-android-using-kotlin/45839307#45839307", "title": "I want to show DialogFragment in Android using Kotlin", "body": "<p>Edit this part</p>\n\n<pre><code>val pop = alarm_first()\nval fm = FragmentManager\npop.show(fm, \"name\")\n</code></pre>\n\n<p>To</p>\n\n<pre><code>val pop = alarm_first()\nval fm = this@YourActivityName.fragmentManager\npop.show(fm, \"name\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10248817, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NCDvmJxc2iM/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p9JK8-sVQ_CdC19yxPZq7Z6dAdCA/mo/photo.jpg?sz=128", "display_name": "Ganesh Anbarasu", "link": "https://stackoverflow.com/users/10248817/ganesh-anbarasu"}, "is_accepted": false, "score": 2, "last_activity_date": 1536754954, "last_edit_date": 1536754954, "creation_date": 1536745725, "answer_id": 52292246, "question_id": 45836805, "link": "https://stackoverflow.com/questions/45836805/i-want-to-show-dialogfragment-in-android-using-kotlin/52292246#52292246", "title": "I want to show DialogFragment in Android using Kotlin", "body": "<p>Try this...</p>\n\n<p><code>val fm = supportFragmentManager</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7518165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e04850eeb055f0fbda87834fdf258c95?s=128&d=identicon&r=PG&f=1", "display_name": "suraj bokankar", "link": "https://stackoverflow.com/users/7518165/suraj-bokankar"}, "is_accepted": false, "score": 0, "last_activity_date": 1554969062, "last_edit_date": 1554969062, "creation_date": 1554965571, "answer_id": 55626359, "question_id": 45836805, "link": "https://stackoverflow.com/questions/45836805/i-want-to-show-dialogfragment-in-android-using-kotlin/55626359#55626359", "title": "I want to show DialogFragment in Android using Kotlin", "body": "<h2>We can use DialogFragment to show the content which we need to represent in boundary of your Activity which will work like a enhancement to current feature.</h2>\n\n<p>I have achieved this by doing following,</p>\n\n<pre><code>val fragment = DemoFragment()   \nfragment.show(childFragmentManager,\"DemoFragment\")\n</code></pre>\n\n<blockquote>\n  <p>childFragmentManager = getChildFragmentManager() of java </p>\n  \n  <p>tag = \"Name Of Fragment\".</p>\n</blockquote>\n"}], "owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12919, "favorite_count": 0, "accepted_answer_id": 45839307, "answer_count": 4, "score": -1, "last_activity_date": 1554969062, "creation_date": 1503483035, "last_edit_date": 1503495850, "question_id": 45836805, "link": "https://stackoverflow.com/questions/45836805/i-want-to-show-dialogfragment-in-android-using-kotlin", "title": "I want to show DialogFragment in Android using Kotlin", "body": "<p>I want to show <code>DialogFragment</code> \nwhen button is <code>clicked</code> \nbut I have error in my code \nthe error is in fun \" show \"</p>\n\n<p>this my code \" button on click \"</p>\n\n<p>DialogFragment</p>\n\n<pre><code>val pop = alarm_first()\nval fm = FragmentManager\npop.show( fm , \"name\")\n</code></pre>\n\n<p>and this my fragment class  for \"alarm_first\" :</p>\n\n<pre><code>class alarm_first : DialogFragment() {\noverride fun onCreateView(inflater: LayoutInflater?, container: \n ViewGroup?, savedInstanceState: Bundle?): View {\n\n    var myView = inflater!!.inflate(R.layout.fragment_alarm_first\n            , container, false)\n\n    return myView\n}}\n</code></pre>\n"}, {"tags": ["java", "intellij-idea", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1503490376, "post_id": 45836685, "comment_id": 78635958, "body": "Just a hunch, try moving your Kotlin <code>apply plugin ...</code> lines to below the <code>dependencies</code>, and/or Kotlin <code>compile ...</code> lines to the end within the <code>dependencies</code>, and full gradle resync."}, {"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1503491436, "post_id": 45836685, "comment_id": 78636789, "body": "Please report at <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a> with the <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> attached."}, {"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "reply_to_user": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1503491468, "post_id": 45836685, "comment_id": 78636818, "body": "Thanks @CrazyCoder, if I can reproduce in a smaller project I will be sure to do so."}, {"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "reply_to_user": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1503494318, "post_id": 45836685, "comment_id": 78639129, "body": "@CrazyCoder issue opened, <a href=\"https://youtrack.jetbrains.com/issue/IDEA-177950\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-177950</a>. I&#39;ve also updated this question with the same project for anyone interested in toying."}], "answers": [{"comments": [{"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1503487216, "post_id": 45837866, "comment_id": 78633595, "body": "Thanks, I tried all both, to no avail. The CLI build is fine - the dependency resolution seems to be isolated to IntelliJ."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1503490491, "post_id": 45837866, "comment_id": 78636028, "body": "Hm, that&#39;s really interesting. Just tried that out also with IntelliJ 2017.2.2 -&gt; works perfectly fine. Can you provide your whole gradle file?"}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 0, "last_activity_date": 1503486061, "creation_date": 1503486061, "answer_id": 45837866, "question_id": 45836685, "link": "https://stackoverflow.com/questions/45836685/intellij-idea-using-javascript-version-of-dependency-specified-in-gradle-build/45837866#45837866", "title": "IntelliJ IDEA using JavaScript &quot;version&quot; of dependency specified in Gradle build file?", "body": "<p>If you face such problems, the first two things you always can do is:</p>\n\n<ol>\n<li>(in IntellJ) <code>File &gt; Invalidate Caches/Restart</code></li>\n<li>(in IntellJ's Gradle Bar) Press button for <code>Refresh all gradle dependencies</code></li>\n</ol>\n\n<p>If this doesn't help, please check if <code>./gradlew clean testClasses</code> succeeds or also fails with such an error.</p>\n"}, {"comments": [{"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1503494659, "post_id": 45840979, "comment_id": 78639417, "body": "Indeed it is! As the JetBrains issue tracker is not publicly indexable, nothing came up in my searches. (And I searched less thoroughly through the tracker myself.) For reference, it is this issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-19717\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-19717</a>"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1503494522, "creation_date": 1503494522, "answer_id": 45840979, "question_id": 45836685, "link": "https://stackoverflow.com/questions/45836685/intellij-idea-using-javascript-version-of-dependency-specified-in-gradle-build/45840979#45840979", "title": "IntelliJ IDEA using JavaScript &quot;version&quot; of dependency specified in Gradle build file?", "body": "<p>This is a bug in the Kotlin plugin which is fixed in version 1.1.4-2. After you update the plugin, you need to delete the incorrect libraries and reimport your project from Gradle to have your project fixed.</p>\n"}], "owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 45840979, "answer_count": 2, "score": 1, "last_activity_date": 1503494522, "creation_date": 1503482724, "last_edit_date": 1503494342, "question_id": 45836685, "link": "https://stackoverflow.com/questions/45836685/intellij-idea-using-javascript-version-of-dependency-specified-in-gradle-build", "title": "IntelliJ IDEA using JavaScript &quot;version&quot; of dependency specified in Gradle build file?", "body": "<p>This issue just recently (past couple days) started occurring on one of my development machines.</p>\n\n<p>I'm using Eclipse's Vert.x dependency for a web project:</p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>dependencies {\n    ...\n    // Kotlin\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    // Vert.x for web framework\n    compile group: 'io.vertx', name: 'vertx-core', version: '3.4.2'\n    compile group: 'io.vertx', name: 'vertx-web', version: '3.4.2'\n    ...\n}\n</code></pre>\n\n<p>This has worked fine in the past - I <em>think</em> the triggering action was my upgrading to IntelliJ 2017.2.2, but now:</p>\n\n<ol>\n<li>IntelliJ cannot resolve any of the <code>-web</code> imports:</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/tv1vP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tv1vP.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>If I examine the Dependencies list for my Module, the <strong>JavaScript</strong> version of the dependency is shown?</li>\n</ol>\n\n<p><strong>How did this happen</strong>, and how can I make sure it's properly recognized as a Java dependency?</p>\n\n<p><a href=\"https://i.stack.imgur.com/eN8Le.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eN8Le.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Edit:</strong> Sample project available here: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-177950\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-177950</a></p>\n"}, {"tags": ["kotlin", "null", "boolean", "thread-safety", "optional"], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 5193930, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-iMVktmmQeB8/AAAAAAAAAAI/AAAAAAAAAgU/KXCkvhko21k/photo.jpg?sz=128", "display_name": "Z3nk", "link": "https://stackoverflow.com/users/5193930/z3nk"}, "edited": false, "score": 0, "creation_date": 1503482220, "post_id": 45836407, "comment_id": 78629992, "body": "you don&#39;t answer the question, i know that i have to do a non null asserted call or like i wrote in my comment println(r.isSquare?:false) My question is why i have to do this in second println and not the first one ? Furthermore, println can print null value (only isSquare can be null in my code, not r)"}], "tags": [], "owner": {"reputation": 1, "user_id": 8505398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4da28f17dad029ea9176e7d0b800553?s=128&d=identicon&r=PG", "display_name": "user8505398", "link": "https://stackoverflow.com/users/8505398/user8505398"}, "is_accepted": false, "score": 0, "last_activity_date": 1503482060, "last_edit_date": 1503482060, "creation_date": 1503481966, "answer_id": 45836407, "question_id": 45836253, "link": "https://stackoverflow.com/questions/45836253/smart-cast-to-boolean-is-impossible-after-value-affectation/45836407#45836407", "title": "Smart cast to &#39;Boolean&#39; is impossible after value affectation", "body": "<p>In order for it to work you have to add a non null asserted call (!!) after your variable. Either r!!.isSquare or r.isSquare!!</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) { \n  val r: Rectangle = Rectangle(5,5) \n  println(r.isSquare) \n  r.isSquare = true println(r.!! isSquare) \n}\n\ndata class Rectangle(var height: Int, var width: Int) {\n  var isSquare: Boolean? = null \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1503482204, "post_id": 45836443, "comment_id": 78629984, "body": "But <code>println</code> accepts a nullable: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/println.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/println.html</a>"}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "reply_to_user": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1503482609, "post_id": 45836443, "comment_id": 78630280, "body": "The nullable type is allowed only for <code>Any</code>. In your example, the <code>println</code> is the one which has <code>Boolean</code> as the parameter. You can force that to use the <code>println</code> with <code>Any?</code> like this: <code>println(r.isSquare as Any?)</code>"}, {"owner": {"reputation": 245, "user_id": 5193930, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-iMVktmmQeB8/AAAAAAAAAAI/AAAAAAAAAgU/KXCkvhko21k/photo.jpg?sz=128", "display_name": "Z3nk", "link": "https://stackoverflow.com/users/5193930/z3nk"}, "edited": false, "score": 0, "creation_date": 1503482979, "post_id": 45836443, "comment_id": 78630536, "body": "println(r.isSquare as Boolean?) make it works but there is a warning : &quot;no cast needed&quot;, if i remove this cast i go back in the error .. So, on one hand compiler works but say i don&#39;t need this cast, on other hand i remove the cast because no need but it doesn&#39;t work anymore"}, {"owner": {"reputation": 245, "user_id": 5193930, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-iMVktmmQeB8/AAAAAAAAAAI/AAAAAAAAAgU/KXCkvhko21k/photo.jpg?sz=128", "display_name": "Z3nk", "link": "https://stackoverflow.com/users/5193930/z3nk"}, "edited": false, "score": 0, "creation_date": 1503483094, "post_id": 45836443, "comment_id": 78630618, "body": "When do the compiler smart cast it to a non-null property after a null check ?"}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1503483141, "post_id": 45836443, "comment_id": 78630658, "body": "If the property is a <code>val</code>, the compiler will smart cast it to a non-null property."}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 1, "creation_date": 1503483387, "post_id": 45836443, "comment_id": 78630830, "body": "The actual type of the <code>isSquare</code> is <code>Boolean?</code>. That&#39;s why you are getting &quot;no cast needed&quot; when you cast it to <code>Boolean?</code>. If you don&#39;t cast it to anything, the compiler tries to cast it to <code>Boolean</code> type for the <code>println</code>. But since its a var mutable type, it couldn&#39;t do that and shows error."}, {"owner": {"reputation": 245, "user_id": 5193930, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-iMVktmmQeB8/AAAAAAAAAAI/AAAAAAAAAgU/KXCkvhko21k/photo.jpg?sz=128", "display_name": "Z3nk", "link": "https://stackoverflow.com/users/5193930/z3nk"}, "edited": false, "score": 0, "creation_date": 1503483438, "post_id": 45836443, "comment_id": 78630861, "body": "First println signature : println(message: Any?) Second println signature : println(message: Boolean) Means that, r.isSquare = true, make compiler forget that isSquare is Boolean? and trust that is Boolean"}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1503483686, "post_id": 45836443, "comment_id": 78631038, "body": "Updated the answer with more info."}, {"owner": {"reputation": 245, "user_id": 5193930, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-iMVktmmQeB8/AAAAAAAAAAI/AAAAAAAAAgU/KXCkvhko21k/photo.jpg?sz=128", "display_name": "Z3nk", "link": "https://stackoverflow.com/users/5193930/z3nk"}, "edited": false, "score": 0, "creation_date": 1503483998, "post_id": 45836443, "comment_id": 78631280, "body": "I updated the topic with all this informations, thanks"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1503487106, "post_id": 45836443, "comment_id": 78633519, "body": "Are there any discussion from other community about this behavior? It looks wired for me. Why do it try to smart cast a <code>var</code> property?"}], "tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": true, "score": 5, "last_activity_date": 1503484058, "last_edit_date": 1503484058, "creation_date": 1503482088, "answer_id": 45836443, "question_id": 45836253, "link": "https://stackoverflow.com/questions/45836253/smart-cast-to-boolean-is-impossible-after-value-affectation/45836443#45836443", "title": "Smart cast to &#39;Boolean&#39; is impossible after value affectation", "body": "<p>Since the <code>r.isSquare</code> is a mutable property, the compiler cannot smart cast it to a non-null property after a null check. </p>\n\n<p>You can use <code>let</code>:</p>\n\n<pre><code>r.isSquare.let { println(it) }\n</code></pre>\n\n<p><code>let</code> reads the value of <code>r.isSquare</code> only once and it provides the same value as <code>it</code> inside the lambda. So you don't have to use <code>?</code> or <code>!!</code> to access the boolean even after the null check. </p>\n\n<p>From the <a href=\"https://jetbrains.github.io/kotlin-spec/#_smart_casts\" rel=\"noreferrer\">Kotlin spec</a>:</p>\n\n<blockquote>\n  <p>The language uses information about preceding checks for null, checks\n  for types (is, !is), safe call operators (?.) and Nothing-returning\n  expression to infer additional information about types of variable\n  (beyond that explicitly specified or inferred from initializers at\n  their declarations) that may be more specific in certain blocks or\n  even expressions. This information is then used to enable wider set of\n  operations on those expressions and to select more specific overloads.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var x : Any\n    x = \"\"\n    x.toUpperCase() // OK, smart cast to String\n}\n</code></pre>\n</blockquote>\n\n<p>The first <code>println</code> uses this <code>println(message: Any?)</code></p>\n\n<p>Since you are assigning <code>true</code> to the <code>isSquare</code> next, the compiler tries to smart cast the <code>isSquare</code> to the <code>Boolean</code> type, when you try to print that. But it couldn't smart cast because the property is a mutable type. </p>\n\n<p>If you remove the line, <code>r.isSquare = true</code>, then the compiler does not try to smart cast it to <code>Boolean</code> and uses the <code>println</code> with <code>Any?</code> as parameter.</p>\n"}, {"tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": 0, "last_activity_date": 1503483100, "creation_date": 1503483100, "answer_id": 45836828, "question_id": 45836253, "link": "https://stackoverflow.com/questions/45836253/smart-cast-to-boolean-is-impossible-after-value-affectation/45836828#45836828", "title": "Smart cast to &#39;Boolean&#39; is impossible after value affectation", "body": "<p>As isSquare is a mutable property (var). It means between lines where do you write a value and then you read it, another thread can modify it and get a NPE because of that.  </p>\n\n<pre><code>r.isSquare = true\n//Another thread set r.isSquare = null\nprintln(r.isSquare) // you get a null pointer exception\n</code></pre>\n\n<p>You must check the property nullability every time you work with nullable vars. </p>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 6712837, "user_type": "registered", "profile_image": "https://graph.facebook.com/1154747104582087/picture?type=large", "display_name": "Daryl Sze", "link": "https://stackoverflow.com/users/6712837/daryl-sze"}, "is_accepted": false, "score": 0, "last_activity_date": 1503488694, "creation_date": 1503488694, "answer_id": 45838817, "question_id": 45836253, "link": "https://stackoverflow.com/questions/45836253/smart-cast-to-boolean-is-impossible-after-value-affectation/45838817#45838817", "title": "Smart cast to &#39;Boolean&#39; is impossible after value affectation", "body": "<p>Because println() function in Android doesn't support Boolean?, and Boolean? with mutable property in kotlin cannot be unwrapped automatically by smart cast of Kotlin.</p>\n\n<p>Try out String? or Int? or any types with mutable and nullable properties will get the same thing happen.</p>\n"}], "owner": {"reputation": 245, "user_id": 5193930, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-iMVktmmQeB8/AAAAAAAAAAI/AAAAAAAAAgU/KXCkvhko21k/photo.jpg?sz=128", "display_name": "Z3nk", "link": "https://stackoverflow.com/users/5193930/z3nk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2106, "favorite_count": 1, "closed_date": 1535243358, "accepted_answer_id": 45836443, "answer_count": 4, "score": 4, "last_activity_date": 1535206671, "creation_date": 1503481590, "last_edit_date": 1535206671, "question_id": 45836253, "link": "https://stackoverflow.com/questions/45836253/smart-cast-to-boolean-is-impossible-after-value-affectation", "closed_reason": "Duplicate", "title": "Smart cast to &#39;Boolean&#39; is impossible after value affectation", "body": "<p>Error on the second println : </p>\n\n<blockquote>\n  <p>Smart cast to 'Boolean' is impossible, because 'r.isSquare' is a\n  mutable property that could have been changed by this time</p>\n</blockquote>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val r: Rectangle = Rectangle(5,5)\n    println(r.isSquare)\n    r.isSquare = true\n    println(r.isSquare) // error but works with println(r.isSquare?:false)\n\n}\n\ndata class Rectangle(var height: Int, var width: Int){\n    var isSquare: Boolean? = null\n}\n</code></pre>\n\n<p><strong>If it was null, it would print null like the first println, why do i have to do this ?</strong> </p>\n\n<p><strong>Edit 2</strong></p>\n\n<p>Thanks for all your answers, what i understand now :\nFirst println is </p>\n\n<pre><code>println(message: Any?)\n</code></pre>\n\n<p>Second println is </p>\n\n<pre><code>println(message: Boolean)\n</code></pre>\n\n<p>Because r.isSquare = true make compiler trust that isSquare is Boolean and not anymore Boolean? </p>\n\n<p><strong>Edit2</strong></p>\n\n<p>Here is how i handle the compiler to keep trusting isSquare is Boolean?</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val r: Rectangle = Rectangle(5, 5)\n    println(r.isSquare)\n    r.isSquare = true as Boolean? // if no cast, he will try wrong println signature\n    println(r.isSquare)\n}\n\ndata class Rectangle(var height: Int, var width: Int){\n    var isSquare: Boolean? = null\n}\n</code></pre>\n"}, {"tags": ["java", "gson", "kotlin"], "comments": [{"owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "edited": false, "score": 0, "creation_date": 1503480833, "post_id": 45835753, "comment_id": 78628930, "body": "The code works on my computer."}, {"owner": {"reputation": 11535, "user_id": 961759, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ZqgkZ.jpg?s=128&g=1", "display_name": "Robert Estivill", "link": "https://stackoverflow.com/users/961759/robert-estivill"}, "reply_to_user": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "edited": false, "score": 0, "creation_date": 1503481127, "post_id": 45835753, "comment_id": 78629161, "body": "What do you mean with &quot;works&quot; ? Does the <code>ArrayList</code> contains objects of type <code>ApiResponseError</code> or <code>LinkedTreeMap</code> ?"}, {"owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "edited": false, "score": 0, "creation_date": 1503481197, "post_id": 45835753, "comment_id": 78629219, "body": "Just works as what you expect. Contain objects of type ApiResponseError."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "edited": false, "score": 0, "creation_date": 1503486287, "post_id": 45835753, "comment_id": 78632880, "body": "I get same result as @aristotll. My gson version is <code>2.8.1</code>. Do you write your own extension function for <code>Gson.fromJson(String)</code>?"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1503486726, "post_id": 45835753, "comment_id": 78633229, "body": "And I removed the comma after <code>&quot;Not found&quot;,</code>, but it seems not to be related."}, {"owner": {"reputation": 11535, "user_id": 961759, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ZqgkZ.jpg?s=128&g=1", "display_name": "Robert Estivill", "link": "https://stackoverflow.com/users/961759/robert-estivill"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1503494917, "post_id": 45835753, "comment_id": 78639628, "body": "@BakaWaii yeah that extra comma is a typo, shouldn&#39;t be there. ` Gson().fromJson` is not an extension function, is a new instance of Gson being created and called upon. Gson is on version 2.8.0"}], "owner": {"reputation": 11535, "user_id": 961759, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ZqgkZ.jpg?s=128&g=1", "display_name": "Robert Estivill", "link": "https://stackoverflow.com/users/961759/robert-estivill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1503495548, "creation_date": 1503480349, "last_edit_date": 1503495548, "question_id": 45835753, "link": "https://stackoverflow.com/questions/45835753/parsing-json-into-java-pojos-with-gson-from-kotlin-is-missing-generic-informatio", "title": "Parsing json into Java Pojos with Gson from Kotlin is missing generic information", "body": "<p>I'm having an issue with Java types and Gson, when being called from Kotlin</p>\n\n<p>The Java POJO's representing an API response and it's errors</p>\n\n<pre><code>public class ApiResponse {\n\n  @SerializedName(\"errors\")\n  public List&lt;ApiResponseError&gt; errors;\n}\n\n\npublic class ApiResponseError {\n\n  @SerializedName(\"code\")\n  public Integer code;\n\n  @SerializedName(\"message\")\n  public String message;\n}\n</code></pre>\n\n<p>The http response body on the wire</p>\n\n<pre><code>{\n  \"errors\": [\n    {\n      \"code\": 10002,\n      \"message\": \"Not found\"\n    }\n  ]\n}\n</code></pre>\n\n<p>The kotlin code using Gson to parse the response into objects. </p>\n\n<pre><code>val errorResponse = Gson().fromJson&lt;ApiResponse&gt;(jsonBody, ApiResponse::class.java)\n</code></pre>\n\n<p><code>jsonBody</code> is the string representation of the http response body on the previous snippet.</p>\n\n<p>The debugger view of instantiated objects:</p>\n\n<p><a href=\"https://i.stack.imgur.com/J5DQE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J5DQE.png\" alt=\"enter image description here\"></a></p>\n\n<p>The problem is that the <code>ArrayList</code> should contain a <code>ApiResponseError</code> object and not a <code>LinkedTreeMap</code>. </p>\n\n<p>I tried the same code without the generic type on the <code>List&lt;ApiResponseError&gt; errors</code> list, and the result is the same, so I am guessing the generic information is being lost somewhere and Gson is defaulting to <code>LinkedTreeMap</code>.</p>\n\n<p>Any clues? Thanks</p>\n"}, {"tags": ["android", "gridview", "kotlin", "android-studio-3.0"], "answers": [{"comments": [{"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1503480217, "post_id": 45835629, "comment_id": 78628450, "body": "Wow, that was so obvious, it&#39;s embarrassing. Will accept as answer once the 10 minutes have passed. Thank you"}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "reply_to_user": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 1, "creation_date": 1503480494, "post_id": 45835629, "comment_id": 78628676, "body": "Happy to help :) Everyone does mistakes. I&#39;d suggest reading the <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">doc</a> also."}, {"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1503480664, "post_id": 45835629, "comment_id": 78628812, "body": "Saw that document few times while searching but it just didn&#39;t sink in :)"}, {"owner": {"reputation": 91, "user_id": 4668134, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/143feae32d9ea891aa0fba5da4641f26?s=128&d=identicon&r=PG&f=1", "display_name": "Thanasis", "link": "https://stackoverflow.com/users/4668134/thanasis"}, "edited": false, "score": 0, "creation_date": 1576052108, "post_id": 45835629, "comment_id": 104768913, "body": "Thank you ! I forgot to put val and I was looking for the mistake !!! People like you saved me from hours of stress !"}], "tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": true, "score": 8, "last_activity_date": 1503480298, "last_edit_date": 1503480298, "creation_date": 1503480037, "answer_id": 45835629, "question_id": 45835542, "link": "https://stackoverflow.com/questions/45835542/cannot-pass-context-when-building-a-gridview-in-kotlin/45835629#45835629", "title": "Cannot pass Context when building a GridView in Kotlin", "body": "<p>Change your class like this:</p>\n\n<pre><code>class ButtonAdapter(val context: Context) : BaseAdapter() {\n // ...\n</code></pre>\n\n<p>And then you can pass context: </p>\n\n<pre><code>ButtonAdapter(context)\n</code></pre>\n\n<p><code>fun</code> is used for functions. To pass data through constructor, you can change your code like above which is the primary constructor. </p>\n\n<p>Adding <code>val</code> is optional. It makes the <code>context</code> a property of the class so that you can access the <code>context</code> in the class.</p>\n"}, {"tags": [], "owner": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "is_accepted": false, "score": 2, "last_activity_date": 1503480106, "creation_date": 1503480106, "answer_id": 45835654, "question_id": 45835542, "link": "https://stackoverflow.com/questions/45835542/cannot-pass-context-when-building-a-gridview-in-kotlin/45835654#45835654", "title": "Cannot pass Context when building a GridView in Kotlin", "body": "<p>You can send it in the primary constructors, like this below.</p>\n\n<pre><code>public class ButtonAdapter(context: Context) : BaseAdapter() {\n\n    private val mInflator: LayoutInflater\n\n    init {\n        this.mInflator = LayoutInflater.from(context)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 11555136, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mkWy_zZhdCA/AAAAAAAAAAI/AAAAAAAAAC4/OlpY88cXBc4/photo.jpg?sz=128", "display_name": "Fitsum Alemu", "link": "https://stackoverflow.com/users/11555136/fitsum-alemu"}, "is_accepted": false, "score": 0, "last_activity_date": 1607851239, "creation_date": 1607851239, "answer_id": 65274051, "question_id": 45835542, "link": "https://stackoverflow.com/questions/45835542/cannot-pass-context-when-building-a-gridview-in-kotlin/65274051#65274051", "title": "Cannot pass Context when building a GridView in Kotlin", "body": "<p>###Here are the Instructions</p>\n<p>//You will change it to accept context</p>\n<pre><code>class ClassName(val mcontext: Context):\n</code></pre>\n<p>//In Activity pass the context</p>\n<pre><code>ClassName(this).methodCall()\n</code></pre>\n"}], "owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3219, "favorite_count": 0, "accepted_answer_id": 45835629, "answer_count": 3, "score": 1, "last_activity_date": 1607851239, "creation_date": 1503479836, "last_edit_date": 1503482116, "question_id": 45835542, "link": "https://stackoverflow.com/questions/45835542/cannot-pass-context-when-building-a-gridview-in-kotlin", "title": "Cannot pass Context when building a GridView in Kotlin", "body": "<p>I'm looking for some help creating a GridView in Kotlin. Please do not show me JAVA code as I have tried adapting various JAVA examples already.</p>\n\n<p>So, I created the extension to BaseAdapter, but I cannot get to pass the context. The Android <a href=\"https://developer.android.com/guide/topics/ui/layout/gridview.html#example\" rel=\"nofollow noreferrer\">documentation</a> shows how it accesses by calling <code>gridview.setAdapter(new ImageAdapter(this));</code>. </p>\n\n<p><strong>Assigning the BaseAdapter to a GridView element in my activity</strong></p>\n\n<pre><code>collectionView.adapter = ButtonAdapter()\n</code></pre>\n\n<p><strong>I have tried passing the context inside but I get error for too many parameters</strong></p>\n\n<pre><code>collectionView.adapter = ButtonAdapter(baseContext())\n</code></pre>\n\n<p><strong>My BaseAdapter extension with the method I try to initialise it by</strong></p>\n\n<pre><code>class ButtonAdapter : BaseAdapter() {\n       var con: Context? = null\n           //.....\n       fun ButtonAdapter(context: Context) {\n           con = context\n       }\n}\n</code></pre>\n\n<p>What am I doing wrong in trying to pass the context and create the GridView? Thank you in advance for any help.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1503480450, "post_id": 45835169, "comment_id": 78628643, "body": "Are you asking this: <a href=\"https://stackoverflow.com/questions/37016058\">stackoverflow.com/questions/37016058</a> ?"}, {"owner": {"reputation": 291, "user_id": 3910584, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4urSl.jpg?s=128&g=1", "display_name": "wujunbin", "link": "https://stackoverflow.com/users/3910584/wujunbin"}, "reply_to_user": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1503481233, "post_id": 45835169, "comment_id": 78629240, "body": "@JornVernee  thank you, the link you gave me supplies additional way, as seen below. <code>val type = jsonMapper.constructCollectionType&lt;Sku, MutableList&lt;Sku&gt;&gt;((MutableList::class.java as Class&lt;MutableList&lt;Sku&gt;&gt;), Sku::class.java)</code>"}], "owner": {"reputation": 291, "user_id": 3910584, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4urSl.jpg?s=128&g=1", "display_name": "wujunbin", "link": "https://stackoverflow.com/users/3910584/wujunbin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 1, "closed_date": 1503481385, "answer_count": 0, "score": 0, "last_activity_date": 1503479443, "creation_date": 1503478887, "last_edit_date": 1503479443, "question_id": 45835169, "link": "https://stackoverflow.com/questions/45835169/generics-compilation-error-in-kotlin", "closed_reason": "Duplicate", "title": "generics compilation error in kotlin", "body": "<p>There is a function. It is shown below.</p>\n\n<pre><code>fun &lt;E, T : Collection&lt;E&gt;&gt; constructCollectionType(collectionClass: Class&lt;T&gt;, elementClass: Class&lt;E&gt;): JavaType {\n    return mapper.typeFactory.constructCollectionType(collectionClass, elementClass)\n}\n</code></pre>\n\n<p>I call the function above in other function. The code is shown below.</p>\n\n<pre><code>val type = constructCollectionType&lt;Sku, MutableList&lt;Sku&gt;&gt;(MutableList&lt;Sku&gt;::class, Sku::class.java)\n</code></pre>\n\n<p>Then, kotlin compile give me an error.</p>\n\n<p><code>Only classes are allowed on the left hand side of a class literal.</code></p>\n\n<p>The only way I found is Reified type parameters. The code is shown below.</p>\n\n<pre><code>inline fun &lt;reified E, reified T: Collection&lt;E&gt;&gt; constructCollectionType():JavaType {\n        return mapper.typeFactory.constructCollectionType(T::class.java, E::class.java)\n} \n</code></pre>\n\n<p>Then, The call-site code is shown below.</p>\n\n<pre><code>jsonMapper.constructCollectionType&lt;Sku, MutableList&lt;Sku&gt;&gt;()\n</code></pre>\n\n<p>Is there any other solution ?</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515221632, "post_id": 45833042, "comment_id": 83226896, "body": "If you replace <code>launch(Android)</code> with <code>runBlocking</code>, this should not create a new coroutine that waits for <code>wishLists</code> to finish in background but wait in the current thread (possibly the UI thread) and return the actual list"}], "answers": [{"comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "edited": false, "score": 0, "creation_date": 1587368895, "post_id": 53739350, "comment_id": 108473762, "body": "@JPM could you please be more specific? what is not working? your code doesn&#39;t compile? have crashes?"}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": -1, "last_activity_date": 1544605251, "creation_date": 1544605251, "answer_id": 53739350, "question_id": 45833042, "link": "https://stackoverflow.com/questions/45833042/kotlin-coroutine-doesnt-wait-to-be-done/53739350#53739350", "title": "Kotlin coroutine doesn&#39;t wait to be done", "body": "<p>You can do something like this:</p>\n\n<pre><code>class Presenter : CoroutineScope { // implement CoroutineScope to create local scope\n    private var job: Job = Job()\n\n    // local coroutine context\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.Main + job\n\n    // call this when activity or fragment is destroyed to cancel the job\n    fun detachView() {\n        job.cancel()\n    }\n\n    fun updateLists() = wishLists().then(this) {\n\n        // update your UI here\n\n        // `it` contains the ListOfWishes\n\n    }\n\n    private fun wishLists(): Deferred&lt;ListOfWishes&gt; = async(Dispatchers.IO) {\n        getWishList()\n    }\n\n    private suspend  fun getWishList(): ListOfWishes = suspendCancellableCoroutine { continuation -&gt;\n        getAllLists(object : ResponseReceiver&lt;ListOfWishes&gt; {\n            override fun onResponse(response: Response&lt;ListOfWishes&gt;?) {\n                continuation.resume(response?.data!!)\n            }\n\n            override fun onError(response: Response&lt;ErrorList&gt;?) {\n                val throwable = Throwable(Util.getFirstErrorSafe(response?.data))\n                continuation.resumeWithException(throwable)\n            }\n        }, RequestUtils.generateUniqueRequestId(), false, null, object : OnRequestListener {\n            override fun beforeRequest() {}\n            override fun afterRequestBeforeResponse() {}\n            override fun afterRequest(isDataSynced: Boolean) {}\n        })\n    }\n}\n</code></pre>\n\n<p>Extension function <code>then</code>:</p>\n\n<pre><code>fun &lt;T&gt; Deferred&lt;T&gt;.then(scope: CoroutineScope = GlobalScope, uiFun: (T) -&gt; Unit) {\n    scope.launch { uiFun(this@then.await()) }\n}\n</code></pre>\n\n<p>To use <code>Dispatchers.Main</code> add dependency to app's <code>gradle.build</code> file:</p>\n\n<pre><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.0.1'\n</code></pre>\n\n<p>Hope it will point you in the right direction.</p>\n"}], "owner": {"reputation": 1918, "user_id": 638368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f1ec31433ec0ec7c7bbdd96e109113fb?s=128&d=identicon&r=PG", "display_name": "lagos", "link": "https://stackoverflow.com/users/638368/lagos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1763, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1544605251, "creation_date": 1503472587, "last_edit_date": 1544604988, "question_id": 45833042, "link": "https://stackoverflow.com/questions/45833042/kotlin-coroutine-doesnt-wait-to-be-done", "title": "Kotlin coroutine doesn&#39;t wait to be done", "body": "<p>I have a legacy project where I want to use coroutines when contacting the backend. The backend have been handle by a sdk delivered by Hybris. It use volley for instance, and with some callbacks. What I want is to wrap those callbacks with a coroutine. But the problem I have is that the coroutine doesn't wait to be done, it start the coroutine, and keep going to next lines, and method returns a value, and long after that the coroutine finish. \nMy code: </p>\n\n<pre><code>suspend  fun ServiceHelper.getList(): ListOfWishes {\n\n    return suspendCancellableCoroutine { continuation -&gt;\n\n        getAllLists(object : ResponseReceiver&lt;ListOfWishes&gt; {\n            override fun onResponse(response: Response&lt;ListOfWishes&gt;?) {\n                continuation.resume(response?.data!!)\n\n            }\n\n            override fun onError(response: Response&lt;ErrorList&gt;?) {\n                val throwable = Throwable(Util.getFirstErrorSafe(response?.data))\n                continuation.resumeWithException(throwable)\n            }\n        }, RequestUtils.generateUniqueRequestId(), false, null, object : OnRequestListener {\n            override fun beforeRequest() {}\n            override fun afterRequestBeforeResponse() {}\n            override fun afterRequest(isDataSynced: Boolean) {}\n        })\n    }\n}\n</code></pre>\n\n<p>The helper method: </p>\n\n<pre><code>suspend fun ServiceHelper.wishLists(): Deferred&lt;ListOfWishes&gt; {\n    return async(CommonPool) {\n        getWishList()\n    }\n}\n</code></pre>\n\n<p>And where the coroutine is called: </p>\n\n<pre><code>    fun getUpdatedLists(): ListOfWishes? {\n    val context = Injector.getContext()\n    val serviceHelper = Util.getContentServiceHelper(context) \n    var list = ListOfWishLists()\n    launch(Android) {\n        try {\n            list = serviceHelper.wishLists().await()\n        } catch (ex: Exception){\n            Timber.d(\"Error: $ex\")\n        }\n    }\n    return list\n</code></pre>\n\n<p>So instead of waiting for <code>serviceHelper.wishLists().await()</code> is done, it return list. I have also tried to make the method return a <code>runBlocking{}</code>, but that only block the UI thread and doesn't end the coroutine. </p>\n"}, {"tags": ["android", "firebase", "firebase-authentication", "kotlin"], "comments": [{"owner": {"reputation": 7766, "user_id": 4517450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AFIyx.jpg?s=128&g=1", "display_name": "vikas kumar", "link": "https://stackoverflow.com/users/4517450/vikas-kumar"}, "edited": false, "score": 1, "creation_date": 1503462790, "post_id": 45830586, "comment_id": 78618781, "body": "the code you have posted has nothing to do with notifications."}], "answers": [{"comments": [{"owner": {"reputation": 530, "user_id": 7121101, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7db8be22ef3acc64769580f1ca3f32f6?s=128&d=identicon&r=PG&f=1", "display_name": "Heero Yuy", "link": "https://stackoverflow.com/users/7121101/heero-yuy"}, "edited": false, "score": 0, "creation_date": 1503468703, "post_id": 45830622, "comment_id": 78620970, "body": "i tried adding it but i get compatibility problem with <code>implementation &#39;com.android.support:appcompat-v7:26.0.1&#39;</code>"}, {"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "reply_to_user": {"reputation": 530, "user_id": 7121101, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7db8be22ef3acc64769580f1ca3f32f6?s=128&d=identicon&r=PG&f=1", "display_name": "Heero Yuy", "link": "https://stackoverflow.com/users/7121101/heero-yuy"}, "edited": false, "score": 0, "creation_date": 1503469176, "post_id": 45830622, "comment_id": 78621227, "body": "can show the error it shows for compatibility issue? I&#39;m using these two libraries in my project and they are working fine."}, {"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "reply_to_user": {"reputation": 530, "user_id": 7121101, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7db8be22ef3acc64769580f1ca3f32f6?s=128&d=identicon&r=PG&f=1", "display_name": "Heero Yuy", "link": "https://stackoverflow.com/users/7121101/heero-yuy"}, "edited": false, "score": 0, "creation_date": 1503470133, "post_id": 45830622, "comment_id": 78621695, "body": "it&#39;s not the issue with the play-services version it has to do with another library using lower version, see this post <a href=\"https://stackoverflow.com/a/42962984/4428159\">stackoverflow.com/a/42962984/4428159</a>"}], "tags": [], "owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "is_accepted": false, "score": 1, "last_activity_date": 1503462147, "creation_date": 1503462147, "answer_id": 45830622, "question_id": 45830586, "link": "https://stackoverflow.com/questions/45830586/android-firebase-authentication/45830622#45830622", "title": "Android Firebase Authentication", "body": "<p>your version of play services is old. \nuse latest google play services in gradle:</p>\n\n<pre><code>dependencies {\n        compile 'com.google.android.gms:play-services:11.2.0'\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7766, "user_id": 4517450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AFIyx.jpg?s=128&g=1", "display_name": "vikas kumar", "link": "https://stackoverflow.com/users/4517450/vikas-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1503462632, "creation_date": 1503462632, "answer_id": 45830680, "question_id": 45830586, "link": "https://stackoverflow.com/questions/45830586/android-firebase-authentication/45830680#45830680", "title": "Android Firebase Authentication", "body": "<p>For Oreo Copatability you must use channels and group them to run on Oreo (android O) otherwise your notifications will be dropped.\nUse this link to Learn more about channels in Android O <a href=\"https://developer.android.com/guide/topics/ui/notifiers/notifications.html#ManageChannels\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p>medium <a href=\"https://medium.com/exploring-android/exploring-android-o-notification-channels-94cd274f604c\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p>Read about android O changes <a href=\"https://developer.android.com/about/versions/oreo/android-8.0-changes.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 530, "user_id": 7121101, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7db8be22ef3acc64769580f1ca3f32f6?s=128&d=identicon&r=PG&f=1", "display_name": "Heero Yuy", "link": "https://stackoverflow.com/users/7121101/heero-yuy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1503486873, "creation_date": 1503461890, "last_edit_date": 1503486873, "question_id": 45830586, "link": "https://stackoverflow.com/questions/45830586/android-firebase-authentication", "title": "Android Firebase Authentication", "body": "<pre><code> mAuth!!.createUserWithEmailAndPassword(email,password)\n            .addOnCompleteListener(this){ task -&gt;\n\n                if (task.isSuccessful){\n                    Toast.makeText(applicationContext,\"Successful login\",Toast.LENGTH_LONG).show()\n\n                    var currentUser =mAuth!!.currentUser\n                    //save in database\n                    if(currentUser!=null) {\n                        myRef.child(\"Users\").child(SplitString(currentUser.email.toString())).child(\"Request\").setValue(currentUser.uid)\n                    }\n\n                    LoadMain()\n\n                }else\n                {\n                    Toast.makeText(applicationContext,\"fail login\",Toast.LENGTH_LONG).show()\n                }\n\n            }\n</code></pre>\n\n<p>I get \"developer warning for package 'com.example.package' Failed to post notification on channel 'null' See log for more details\"</p>\n\n<p>In the log</p>\n\n<pre><code>    DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\nGooglePlayServicesUtil: Google Play services out of date.  Requires 11020000 but found 10932470\nNotification: Use of stream types is deprecated for operations other than volume control\nNotification: See the documentation of setSound() for what to use instead with android.media.AudioAttributes to qualify your playback use case\n</code></pre>\n\n<p>I have </p>\n\n<pre><code>dependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nimplementation 'com.android.support:appcompat-v7:26.0.1'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\nimplementation 'com.google.firebase:firebase-core:11.2.0'\ncompile 'com.google.firebase:firebase-auth:11.2.0'\ncompile 'com.google.firebase:firebase-database:11.2.0'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.0'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.0'\n</code></pre>\n\n<p>}</p>\n\n<p>in build.gradle</p>\n\n<p>I've been lookin at this <a href=\"https://developer.android.com/guide/topics/ui/notifiers/notifications.html#ManageChannels\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/notifiers/notifications.html#ManageChannels</a>, but I don't know how to work on this</p>\n"}, {"tags": ["android", "gradle", "kotlin", "anko"], "comments": [{"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1503461638, "post_id": 45830474, "comment_id": 78618475, "body": "Just replace <code>$anko_version</code> with <code>0.10.1</code>."}], "answers": [{"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": true, "score": 7, "last_activity_date": 1503461756, "creation_date": 1503461756, "answer_id": 45830564, "question_id": 45830474, "link": "https://stackoverflow.com/questions/45830474/could-not-get-unknown-property-anko-version-for-object-of-type/45830564#45830564", "title": "Could not get unknown property &#39;anko_version&#39; for object of type...?", "body": "<p>Add <code>anko_version</code> in <code>ext</code> block above the <code>dependencies</code> block:</p>\n\n<pre><code>ext {\n   anko_version = '0.10.1'\n}\n</code></pre>\n\n<p>Another option, as  Naetmul suggested in the comments, is to replace the <code>$anko_version</code> with <code>0.10.1</code></p>\n"}, {"tags": [], "owner": {"reputation": 577, "user_id": 5691049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CqR16z9lkl4/AAAAAAAAAAI/AAAAAAAAAK4/zHFoWJFlE3g/photo.jpg?sz=128", "display_name": "Pravin Londhe", "link": "https://stackoverflow.com/users/5691049/pravin-londhe"}, "is_accepted": false, "score": 2, "last_activity_date": 1504243797, "last_edit_date": 1504243797, "creation_date": 1503462887, "answer_id": 45830717, "question_id": 45830474, "link": "https://stackoverflow.com/questions/45830474/could-not-get-unknown-property-anko-version-for-object-of-type/45830717#45830717", "title": "Could not get unknown property &#39;anko_version&#39; for object of type...?", "body": "<p>You can define it in your project level build.gradle file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GmhS8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GmhS8.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>OR</strong></p>\n\n<p>You can replace with current version which is <strong>0.10.1</strong> (on 1 Sep 2017)</p>\n"}, {"tags": [], "owner": {"reputation": 648, "user_id": 3142389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d9551055d8c6fe8245ec591aa307998?s=128&d=identicon&r=PG&f=1", "display_name": "Barakuda", "link": "https://stackoverflow.com/users/3142389/barakuda"}, "is_accepted": false, "score": 0, "last_activity_date": 1548098327, "last_edit_date": 1548098327, "creation_date": 1548097544, "answer_id": 54296364, "question_id": 45830474, "link": "https://stackoverflow.com/questions/45830474/could-not-get-unknown-property-anko-version-for-object-of-type/54296364#54296364", "title": "Could not get unknown property &#39;anko_version&#39; for object of type...?", "body": "<p>This is how I do it and it works great:</p>\n\n<ol>\n<li>Open your <code>project gradle</code>.</li>\n<li>Add a <code>ext</code> block within the <code>buildscript</code> block.</li>\n<li>Add your versions properties.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/ZdF5K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZdF5K.png\" alt=\"enter image description here\"></a></p>\n\n<p>Within your <code>app gradle</code>, set your versions like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MN33u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MN33u.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 192, "user_id": 7826372, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/fwKCJ.png?s=128&g=1", "display_name": "Islam Ahmed", "link": "https://stackoverflow.com/users/7826372/islam-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1616168933, "creation_date": 1616168933, "answer_id": 66711408, "question_id": 45830474, "link": "https://stackoverflow.com/questions/45830474/could-not-get-unknown-property-anko-version-for-object-of-type/66711408#66711408", "title": "Could not get unknown property &#39;anko_version&#39; for object of type...?", "body": "<p>Use this</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\n</code></pre>\n<p>Don't use this</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n</code></pre>\n<p>and don't use this</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;\n</code></pre>\n"}], "owner": {"reputation": 1485, "user_id": 2593123, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/YsoM9.png?s=128&g=1", "display_name": "arcade16", "link": "https://stackoverflow.com/users/2593123/arcade16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9056, "favorite_count": 2, "accepted_answer_id": 45830564, "answer_count": 4, "score": 5, "last_activity_date": 1616168933, "creation_date": 1503461103, "question_id": 45830474, "link": "https://stackoverflow.com/questions/45830474/could-not-get-unknown-property-anko-version-for-object-of-type", "title": "Could not get unknown property &#39;anko_version&#39; for object of type...?", "body": "<p>I am trying to use Anko with my Android Kotlin Project. I have added the line to my dependencies / gradle module file as follows:</p>\n\n<pre><code>dependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile \"org.jetbrains.anko:anko:$anko_version\"\n    compile 'com.android.support:appcompat-v7:26.+'\n    compile 'com.android.support:design:26.+'\n    compile 'com.android.support:support-vector-drawable:26.+'\n    compile 'com.android.support:support-v4:26.+'\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n}\n</code></pre>\n\n<p>But I get the following error when trying to do a gradle sync:</p>\n\n<blockquote>\n  <p>Error:(36, 0) Could not get unknown property 'anko_version' for object\n  of type\n  org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n  Open File </p>\n</blockquote>\n\n<p>How can I properly incorporate Anko in my project?</p>\n\n<p>For reference, I am using Android Studio 2.0.</p>\n"}, {"tags": ["dependencies", "kotlin", "kotlinc"], "answers": [{"comments": [{"owner": {"reputation": 1949, "user_id": 262742, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/86e242b91f1d3a7cbc65ba4160f8429b?s=128&d=identicon&r=PG", "display_name": "\u738b\u5b501986", "link": "https://stackoverflow.com/users/262742/%e7%8e%8b%e5%ad%901986"}, "edited": false, "score": 1, "creation_date": 1503474445, "post_id": 45829749, "comment_id": 78624444, "body": "Is there a way to import on the fly or import via a tool like maven?"}, {"owner": {"reputation": 847, "user_id": 626529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbda2cef20271b40f4ebed84e1188469?s=128&d=identicon&r=PG", "display_name": "Ashish Narmen", "link": "https://stackoverflow.com/users/626529/ashish-narmen"}, "edited": false, "score": 0, "creation_date": 1543202220, "post_id": 45829749, "comment_id": 93819059, "body": "No, there isn&#39;t any way to import on the fly"}, {"owner": {"reputation": 7347, "user_id": 172274, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/886b1c9637f9742ff1074d6605a6df7e?s=128&d=identicon&r=PG", "display_name": "still_dreaming_1", "link": "https://stackoverflow.com/users/172274/still-dreaming-1"}, "reply_to_user": {"reputation": 1949, "user_id": 262742, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/86e242b91f1d3a7cbc65ba4160f8429b?s=128&d=identicon&r=PG", "display_name": "\u738b\u5b501986", "link": "https://stackoverflow.com/users/262742/%e7%8e%8b%e5%ad%901986"}, "edited": false, "score": 0, "creation_date": 1563117585, "post_id": 45829749, "comment_id": 100586367, "body": "@\u738b\u5b501986 I think build tools like Maven are an alternative to kotlinc, and so it traditionally does not make sense to try to use both together. Maven probably uses kotlinc under the hood. You could try to make a tool that makes managing dependencies easier, that uses kotlinc under the hood, but then you are making your own build tool. If you want to do things more &quot;on the fly&quot;, look into kscript."}], "tags": [], "owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "is_accepted": false, "score": 2, "last_activity_date": 1503455797, "creation_date": 1503455797, "answer_id": 45829749, "question_id": 45829617, "link": "https://stackoverflow.com/questions/45829617/import-dependency-libraries-in-kotlinc-terminal/45829749#45829749", "title": "Import dependency libraries in kotlinc terminal", "body": "<p>Using <code>cp</code> option.</p>\n\n<blockquote>\n  <p>-classpath (-cp)     Paths where to find user class files</p>\n</blockquote>\n\n<p><code>kotlinc -cp path_to_commons-lang-2.6.jar</code></p>\n\n<pre><code>&gt;&gt;&gt; import org.apache.commons.lang.StringUtils;\n&gt;&gt;&gt;\n&gt;&gt;&gt; StringUtils.isBlank(\" \")\ntrue\n&gt;&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 1949, "user_id": 262742, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/86e242b91f1d3a7cbc65ba4160f8429b?s=128&d=identicon&r=PG", "display_name": "\u738b\u5b501986", "link": "https://stackoverflow.com/users/262742/%e7%8e%8b%e5%ad%901986"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1111, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1503455797, "creation_date": 1503454665, "question_id": 45829617, "link": "https://stackoverflow.com/questions/45829617/import-dependency-libraries-in-kotlinc-terminal", "title": "Import dependency libraries in kotlinc terminal", "body": "<p>I am playing with kotlinc in mac terminal, however I would like to use libraries like rest client inside kotlinc. Is there a way to include? Like import in python</p>\n"}, {"tags": ["type-conversion", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": false, "score": 0, "last_activity_date": 1503455111, "creation_date": 1503455111, "answer_id": 45829670, "question_id": 45829523, "link": "https://stackoverflow.com/questions/45829523/which-method-is-used-in-kotlins-double-toint-rounding-or-truncation/45829670#45829670", "title": "Which method is used in Kotlin&#39;s Double.toInt(), rounding or truncation?", "body": "<p>First of all, this documentation <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Number.html#intValue--\" rel=\"nofollow noreferrer\">is straight up copied</a> from Java's documentation.</p>\n\n<p>As far as I know it only truncates the decimal points, e.g. <code>3.14</code> will become <code>3</code>, <code>12.345</code> will become <code>12</code>, and <code>9.999</code> will become <code>9</code>. </p>\n\n<p>Reading <a href=\"https://stackoverflow.com/a/2143505/3533380\">this</a> answer and the comments under it suggests that there is no actual rounding. The \"rounding\" is actually truncating. The rounding differs from <code>Math.floor</code> that instead of rounding to <code>Integer.MIN_VALUE</code> it rounds to <code>0</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 106, "user_id": 7499565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8f5743d4772fb7a06f24816e6895f7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Wang", "link": "https://stackoverflow.com/users/7499565/ray-wang"}, "edited": false, "score": 0, "creation_date": 1503457968, "post_id": 45829673, "comment_id": 78617663, "body": "I only find an abstract <code>Number</code>, where is this concrete <code>Number</code>?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1503468736, "post_id": 45829673, "comment_id": 78620980, "body": "That&#39;s it, there is only one <code>Number</code>. The implementation mentioned in the answer is an intrinsic generated by kotlinc. Thus there is no virtual method you could look at."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 24, "last_activity_date": 1527508521, "last_edit_date": 1527508521, "creation_date": 1503455125, "answer_id": 45829673, "question_id": 45829523, "link": "https://stackoverflow.com/questions/45829523/which-method-is-used-in-kotlins-double-toint-rounding-or-truncation/45829673#45829673", "title": "Which method is used in Kotlin&#39;s Double.toInt(), rounding or truncation?", "body": "<p>The KDoc of <code>Double.toInt()</code> is simply inherited from <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-number/to-int.html\" rel=\"noreferrer\"><code>Number.toInt()</code></a>, and for that, the exact meaning is, it is defined in the concrete <code>Number</code> implementation how it is converted to <code>Int</code>.</p>\n\n<p>In Kotlin, the <code>Double</code> operations follow the IEEE 754 standard, and the semantics of the <code>Double.toInt()</code> conversion is the same as that of <a href=\"https://stackoverflow.com/a/12515017/2196460\">casting <code>double</code> to <code>int</code> in Java</a>, i.e. normal numbers are rounded toward zero, dropping the fractional part:</p>\n\n<pre><code>println(1.1.toInt())  // 1\nprintln(1.7.toInt())  // 1\nprintln(-2.3.toInt()) // -2\nprintln(-2.9.toInt()) // -2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 10233655, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XP939-BWOm0/AAAAAAAAAAI/AAAAAAAADf8/59D97ZfaMZ0/photo.jpg?sz=128", "display_name": "Mosfeq Anik", "link": "https://stackoverflow.com/users/10233655/mosfeq-anik"}, "is_accepted": false, "score": -1, "last_activity_date": 1574254468, "creation_date": 1574254468, "answer_id": 58954857, "question_id": 45829523, "link": "https://stackoverflow.com/questions/45829523/which-method-is-used-in-kotlins-double-toint-rounding-or-truncation/58954857#58954857", "title": "Which method is used in Kotlin&#39;s Double.toInt(), rounding or truncation?", "body": "<p>use this roundToInt() in kotlin </p>\n\n<pre><code>import kotlin.math.roundToInt\nfun main() {\n    var r = 3.1416\n    var c:Int =  r.roundToInt() \n    println(c)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 7932213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5517d15a07cf4f24308af8ef752b2d0?s=128&d=identicon&r=PG&f=1", "display_name": "Madhav7890", "link": "https://stackoverflow.com/users/7932213/madhav7890"}, "is_accepted": false, "score": 0, "last_activity_date": 1612187259, "last_edit_date": 1612187259, "creation_date": 1612167526, "answer_id": 65989228, "question_id": 45829523, "link": "https://stackoverflow.com/questions/45829523/which-method-is-used-in-kotlins-double-toint-rounding-or-truncation/65989228#65989228", "title": "Which method is used in Kotlin&#39;s Double.toInt(), rounding or truncation?", "body": "<p>Use the function <code>to.Int()</code>, and send the value to the new variable which is marked as <code>Int</code>:</p>\n<p><code>val x: Int = variable_name.toInt()</code></p>\n"}], "owner": {"reputation": 3589, "user_id": 337988, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a0929a98013283051149383445c2fad5?s=128&d=identicon&r=PG", "display_name": "philipjkim", "link": "https://stackoverflow.com/users/337988/philipjkim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8223, "favorite_count": 0, "accepted_answer_id": 45829673, "answer_count": 4, "score": 10, "last_activity_date": 1612187259, "creation_date": 1503453876, "question_id": 45829523, "link": "https://stackoverflow.com/questions/45829523/which-method-is-used-in-kotlins-double-toint-rounding-or-truncation", "title": "Which method is used in Kotlin&#39;s Double.toInt(), rounding or truncation?", "body": "<p>On <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-double/to-int.html\" rel=\"noreferrer\">the official API doc</a>, it says:</p>\n\n<blockquote>\n  <p>Returns the value of this number as an Int, which may involve rounding or truncation.</p>\n</blockquote>\n\n<p>I want truncation, but not sure. Can anyone explain the exact meaning of <code>may involve rounding or truncation</code>?</p>\n\n<p>p.s.: In my unit test, <code>(1.7).toInt()</code> was 1, which <strong>might</strong> involve truncation.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8503253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab5f8f7a75a259efeb5969141921f239?s=128&d=identicon&r=PG&f=1", "display_name": "seongsu lee", "link": "https://stackoverflow.com/users/8503253/seongsu-lee"}, "edited": false, "score": 0, "creation_date": 1503452169, "post_id": 45829268, "comment_id": 78616263, "body": "oh i`m sorry but this is not what I wanted. I want to know how to distinguish method by using grammar like is."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 23, "user_id": 8503253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab5f8f7a75a259efeb5969141921f239?s=128&d=identicon&r=PG&f=1", "display_name": "seongsu lee", "link": "https://stackoverflow.com/users/8503253/seongsu-lee"}, "edited": false, "score": 0, "creation_date": 1503452202, "post_id": 45829268, "comment_id": 78616270, "body": "What do you mean by <code>distinguish method</code>?"}, {"owner": {"reputation": 23, "user_id": 8503253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab5f8f7a75a259efeb5969141921f239?s=128&d=identicon&r=PG&f=1", "display_name": "seongsu lee", "link": "https://stackoverflow.com/users/8503253/seongsu-lee"}, "edited": false, "score": 0, "creation_date": 1503452366, "post_id": 45829268, "comment_id": 78616301, "body": "I put the method into an array of Any types, and I want to use that method However i don`t know there is no way to distinguish between methods."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 23, "user_id": 8503253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab5f8f7a75a259efeb5969141921f239?s=128&d=identicon&r=PG&f=1", "display_name": "seongsu lee", "link": "https://stackoverflow.com/users/8503253/seongsu-lee"}, "edited": false, "score": 0, "creation_date": 1503452431, "post_id": 45829268, "comment_id": 78616315, "body": "So you want to know the type of the array? E.g. <code>Array&lt;Int&gt;</code> -&gt; <code>Int</code>, <code>Array&lt;Something&gt;</code> -&gt; <code>Something</code>?"}, {"owner": {"reputation": 23, "user_id": 8503253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab5f8f7a75a259efeb5969141921f239?s=128&d=identicon&r=PG&f=1", "display_name": "seongsu lee", "link": "https://stackoverflow.com/users/8503253/seongsu-lee"}, "edited": false, "score": 0, "creation_date": 1503452634, "post_id": 45829268, "comment_id": 78616362, "body": "I seem to have insufficient explanation. var list: Array&lt;Any?&gt;? = arrayOf(1000, println(10))"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 23, "user_id": 8503253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab5f8f7a75a259efeb5969141921f239?s=128&d=identicon&r=PG&f=1", "display_name": "seongsu lee", "link": "https://stackoverflow.com/users/8503253/seongsu-lee"}, "edited": false, "score": 0, "creation_date": 1503452763, "post_id": 45829268, "comment_id": 78616390, "body": "Do you mean you have (e.g.) 2 functions called <code>something</code>, one accepting <code>Int</code> and one <code>String</code> (<code>fun something(x: Int)</code>, <code>fun something(x: String)</code>) and you want Kotlin to automatically decide which method to choose (depending on the list&#39;s element type)?"}, {"owner": {"reputation": 23, "user_id": 8503253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab5f8f7a75a259efeb5969141921f239?s=128&d=identicon&r=PG&f=1", "display_name": "seongsu lee", "link": "https://stackoverflow.com/users/8503253/seongsu-lee"}, "edited": false, "score": 0, "creation_date": 1503454141, "post_id": 45829268, "comment_id": 78616756, "body": "well i think It is not what I want. something() is not important. I wondered how to check the method with such &quot;is Method&quot;. But it(is Method) didn&#39;t work very well. Is there another way? Or is it wrong to put a method into an array?"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 23, "user_id": 8503253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab5f8f7a75a259efeb5969141921f239?s=128&d=identicon&r=PG&f=1", "display_name": "seongsu lee", "link": "https://stackoverflow.com/users/8503253/seongsu-lee"}, "edited": false, "score": 0, "creation_date": 1503454373, "post_id": 45829268, "comment_id": 78616817, "body": "I think I know what you mean. When you create a array like this <code>arrayOf(println(10)</code> it&#39;ll actually be <code>[Unit]</code>. If you want to have functions in arrays you need to do it like this <code>{ println(10) }</code>. When you create a array like this, then you&#39;ll have a array of functions. You can invoke them like this: <code>array[i]()</code> where <code>i</code> is the index (like 1,2, 10, 32)"}, {"owner": {"reputation": 23, "user_id": 8503253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab5f8f7a75a259efeb5969141921f239?s=128&d=identicon&r=PG&f=1", "display_name": "seongsu lee", "link": "https://stackoverflow.com/users/8503253/seongsu-lee"}, "edited": false, "score": 0, "creation_date": 1503454780, "post_id": 45829268, "comment_id": 78616930, "body": "Thank you for helping me with my poor English skills. Thanks to you, I could solve the problem well. Thank you very much."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 23, "user_id": 8503253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab5f8f7a75a259efeb5969141921f239?s=128&d=identicon&r=PG&f=1", "display_name": "seongsu lee", "link": "https://stackoverflow.com/users/8503253/seongsu-lee"}, "edited": false, "score": 0, "creation_date": 1503454846, "post_id": 45829268, "comment_id": 78616953, "body": "No problem! I&#39;m glad I could help"}], "tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 0, "last_activity_date": 1503451792, "creation_date": 1503451792, "answer_id": 45829268, "question_id": 45829198, "link": "https://stackoverflow.com/questions/45829198/how-to-check-method-in-when-in-kotlin/45829268#45829268", "title": "How to check method in when in kotlin", "body": "<p>As far as I know you can just omit the <code>else -&gt; consume{it}</code> part. <code>forEach</code> function's signature is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each.html\" rel=\"nofollow noreferrer\">as follows</a>:</p>\n\n<pre><code>inline fun &lt;T&gt; Iterable&lt;T&gt;.forEach(action: (T) -&gt; Unit)\n</code></pre>\n\n<p>See <code>action</code>. It takes a function with <code>Unit</code> as output. This means that you do not need to return anything (<code>Unit</code> is Java's <code>void</code> equivalent).</p>\n\n<p>So, in conclusion your code can look like this:</p>\n\n<pre><code>fun check(list: List&lt;*&gt;) {\n    list.forEach {\n        when (it) {\n            is Int -&gt; something()\n            is String -&gt; something()\n            //is method -&gt; ???\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 8503253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab5f8f7a75a259efeb5969141921f239?s=128&d=identicon&r=PG&f=1", "display_name": "seongsu lee", "link": "https://stackoverflow.com/users/8503253/seongsu-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1503543716, "creation_date": 1503543716, "answer_id": 45852257, "question_id": 45829198, "link": "https://stackoverflow.com/questions/45829198/how-to-check-method-in-when-in-kotlin/45852257#45852257", "title": "How to check method in when in kotlin", "body": "<p>I asked the question, but I combined the contents of the replies and what I dealt with, and I attached the results that I was trying to do.</p>\n\n<pre><code>var arr = arrayOf{\"String\", {method()}}\n\n fun check(arr : Array&lt;Any?&gt;?){ arr.forEach{ when(it){\n   is Int -&gt; println(\"int\")\n   is String -&gt; println(\"str\")\n   else -&gt; @Suppress(\"UNCHECKED_CAST\") (it as () -&gt; Unit)()       \n}}}\n</code></pre>\n\n<p>thanks</p>\n"}], "owner": {"reputation": 23, "user_id": 8503253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab5f8f7a75a259efeb5969141921f239?s=128&d=identicon&r=PG&f=1", "display_name": "seongsu lee", "link": "https://stackoverflow.com/users/8503253/seongsu-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 45829268, "answer_count": 2, "score": 1, "last_activity_date": 1503543716, "creation_date": 1503451290, "question_id": 45829198, "link": "https://stackoverflow.com/questions/45829198/how-to-check-method-in-when-in-kotlin", "title": "How to check method in when in kotlin", "body": "<p>I wrote the code below.</p>\n\n<pre><code> fun check(list){ list.forEach{ when(it){\n   is Int -&gt; something()\n   is String -&gt; something()\n   //is method -&gt; ??? \n   else -&gt; consume{it}\n   }}}\n\ninline fun consume(f: () -&gt; Unit){ f() }\n</code></pre>\n\n<p>But I don't want to check the method in else.\nIs there any way to check the method in when?</p>\n"}, {"tags": ["android", "kotlin", "android-alertdialog", "radiobuttonlist"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1503467280, "post_id": 45826888, "comment_id": 78620329, "body": "You may consider using <code>setView</code>, but there will be much more work to do."}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1503495837, "post_id": 45826888, "comment_id": 78640441, "body": "right @BakaWaii, just try to not have to build another view but simply use the alertDialog."}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3118, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1503435588, "creation_date": 1503435588, "question_id": 45826888, "link": "https://stackoverflow.com/questions/45826888/open-alertdialog-in-kotlin-how-to-set-both-message-with-radio-buttons", "title": "open alertDialog in kotlin, how to set both message with radio buttons", "body": "<p>Trying to open a alertDialog in kotlin,  the dialog needs to show title and some text message and some radio button list.</p>\n\n<p>made the dialog part work, but cannot set the message (body), if set the message then the radio button will not be shown(???). </p>\n\n<p>I guess this might be limitation of the alertDialog, or anyone knows work around?</p>\n\n<pre><code>fun openAlertDialog(title: String, alertMessage: String, items: ArrayList&lt;String&gt;) {\n    val poistion = 0\n    val alertDilogBuilder = AlertDialog.Builder(activity, R.style.myDialogeTheme)\n    alertDilogBuilder.setTitle(title)\n\n    //alertDilogBuilder.setMessage(alertMessage)   //&lt;== if setMessage the radio button will not show\n\n           .setSingleChoiceItems(list, poistion, object : DialogInterface.OnClickListener {\n                override fun onClick(dialog: DialogInterface, index: Int) {\n                    onSelectedCategory(items[index])\n\n                    Toast.makeText(activity.applicationContext,\n                                    items[index],  \n                                    Toast.LENGTH_SHORT).show()\n\n                    dialog.dismiss()\n                }\n            })\n\n        alertDialog = alertDilogBuilder.create()\n        alertDialog.setButton(AlertDialog.BUTTON_POSITIVE, \u201cOk\", {\n            dialogInterface, i -&gt;\n            onSelectedCategory(items[0])\n        })\n        alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, \"Cancel\", {\n            dialogInterface, k -&gt;\n            dialogInterface.dismiss()  \n        })\n        alertDialog!!.show()\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 18271, "user_id": 6507689, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tKmXs.png?s=128&g=1", "display_name": "R. Zag&#243;rski", "link": "https://stackoverflow.com/users/6507689/r-zag%c3%b3rski"}, "edited": false, "score": 0, "creation_date": 1503435705, "post_id": 45826813, "comment_id": 78611862, "body": "Maybe this might help: <a href=\"https://github.com/google/dagger/issues/761\" rel=\"nofollow noreferrer\">github.com/google/dagger/issues/761</a> or this: <a href=\"https://stackoverflow.com/a/36211005/6507689\">stackoverflow.com/a/36211005/6507689</a>"}, {"owner": {"reputation": 15, "user_id": 7764538, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c2C2aKPGR8M/AAAAAAAAAAI/AAAAAAAAN1M/1F1RQUyYU-4/photo.jpg?sz=128", "display_name": "Duenytz Sierra", "link": "https://stackoverflow.com/users/7764538/duenytz-sierra"}, "reply_to_user": {"reputation": 18271, "user_id": 6507689, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tKmXs.png?s=128&g=1", "display_name": "R. Zag&#243;rski", "link": "https://stackoverflow.com/users/6507689/r-zag%c3%b3rski"}, "edited": false, "score": 0, "creation_date": 1503437152, "post_id": 45826813, "comment_id": 78612531, "body": "Nope, the first one is incomplete, referring to <a href=\"https://github.com/google/dagger/issues/668\" rel=\"nofollow noreferrer\">github.com/google/dagger/issues/668</a>, which I don&#39;t really think is related to the @Named issue, and the second one is about its usage in fields, not function parameters."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7764538, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c2C2aKPGR8M/AAAAAAAAAAI/AAAAAAAAN1M/1F1RQUyYU-4/photo.jpg?sz=128", "display_name": "Duenytz Sierra", "link": "https://stackoverflow.com/users/7764538/duenytz-sierra"}, "edited": false, "score": 0, "creation_date": 1503436717, "post_id": 45826897, "comment_id": 78612340, "body": "That&#39;s the first thing I tried with no results, but I will check again. Thanks!"}, {"owner": {"reputation": 15, "user_id": 7764538, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c2C2aKPGR8M/AAAAAAAAAAI/AAAAAAAAN1M/1F1RQUyYU-4/photo.jpg?sz=128", "display_name": "Duenytz Sierra", "link": "https://stackoverflow.com/users/7764538/duenytz-sierra"}, "edited": false, "score": 0, "creation_date": 1503497717, "post_id": 45826897, "comment_id": 78642034, "body": "I tested your solution in a small POC I did and it worked! I don&#39;t know why I couldn&#39;t follow through with this last time. Thanks!"}, {"owner": {"reputation": 15, "user_id": 7764538, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c2C2aKPGR8M/AAAAAAAAAAI/AAAAAAAAN1M/1F1RQUyYU-4/photo.jpg?sz=128", "display_name": "Duenytz Sierra", "link": "https://stackoverflow.com/users/7764538/duenytz-sierra"}, "edited": false, "score": 0, "creation_date": 1503502218, "post_id": 45826897, "comment_id": 78645617, "body": "I&#39;m still having the problem but I now realized that it is a greenDAO library problem with Kotlin, it is not Dagger&#39;s. Thanks again!"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 1, "last_activity_date": 1503435608, "creation_date": 1503435608, "answer_id": 45826897, "question_id": 45826813, "link": "https://stackoverflow.com/questions/45826813/kotlindagger2-named-annotation-in-module-provider-method-usage/45826897#45826897", "title": "Kotlin+Dagger2 @Named annotation in Module provider method usage", "body": "<p>use-site targets do not apply in this case, since you're dealing with function parameters. The target needs to be specified with constructors because a lot of code is generated in the background for each constructor parameters.</p>\n\n<p>Just use the annotation as you normally would:</p>\n\n<pre><code>@Provides\n@Singleton\nfun provideLoginStore(@Named(\"main_dao_session\") mainDaoSession: DaoSession, @Named(\"demo_dao_session\") demoDaoSession: DaoSession): LoginStore {\n    return LoginStoreImpl(mainDaoSession, demoDaoSession)\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7764538, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c2C2aKPGR8M/AAAAAAAAAAI/AAAAAAAAN1M/1F1RQUyYU-4/photo.jpg?sz=128", "display_name": "Duenytz Sierra", "link": "https://stackoverflow.com/users/7764538/duenytz-sierra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 730, "favorite_count": 0, "accepted_answer_id": 45826897, "answer_count": 1, "score": 0, "last_activity_date": 1503437223, "creation_date": 1503435295, "last_edit_date": 1503437223, "question_id": 45826813, "link": "https://stackoverflow.com/questions/45826813/kotlindagger2-named-annotation-in-module-provider-method-usage", "title": "Kotlin+Dagger2 @Named annotation in Module provider method usage", "body": "<p>I\u2019m having a problem using Dagger 2 @Named annotation in Kotlin that is preventing me from migrating Dagger graph to Kotlin. The problem occurs when I need to inject in a Dagger module method a @Named parameter. In this case I\u2019m not injecting it through a constructor or a field. I\u2019ve tried all <a href=\"http://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">Kotlin annotation use-sites targets</a> and none of them seems to work in a method parameter. Please, any solution will be very much appreciated. Below is the portion of java code that once converted to Kotlin won't compile:</p>\n\n<pre><code>@Module\npublic final class MyModule {\n\n   (...)\n\n   @Provides\n   @Singleton\n   LoginStore provideLoginStore(@Named(\"main_dao_session\") DaoSession mainDaoSession, @Named(\"demo_dao_session\") DaoSession demoDaoSession) {\n      return new LoginStoreImpl(mainDaoSession, demoDaoSession);\n   }\n\n   (...)\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1956, "user_id": 2027146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/mrrIp.jpg?s=128&g=1", "display_name": "Milk", "link": "https://stackoverflow.com/users/2027146/milk"}, "edited": false, "score": 2, "creation_date": 1503433933, "post_id": 45826403, "comment_id": 78611017, "body": "Have a look at this answer: <a href=\"https://stackoverflow.com/q/30832215/2027146\">stackoverflow.com/q/30832215/2027146</a> Refactor each statement in your <code>switch</code> statement into methods and then use <code>if</code> instead. It&#39;s not as clean as Java IMO. But it will get you there"}, {"owner": {"reputation": 20314, "user_id": 1281501, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/db591cfa2d3fc416c8ea91a16393fc28?s=128&d=identicon&r=PG", "display_name": "lostintranslation", "link": "https://stackoverflow.com/users/1281501/lostintranslation"}, "reply_to_user": {"reputation": 1956, "user_id": 2027146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/mrrIp.jpg?s=128&g=1", "display_name": "Milk", "link": "https://stackoverflow.com/users/2027146/milk"}, "edited": false, "score": 0, "creation_date": 1555552657, "post_id": 45826403, "comment_id": 98153859, "body": "@Milk, works great when you are switching on something like an int that increases or decreases in value.  Doesn&#39;t work so well when you are switching on a string."}], "owner": {"reputation": 1157, "user_id": 2928241, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/877a945a09003d61faad155090a93b2c?s=128&d=identicon&r=PG&f=1", "display_name": "yasin", "link": "https://stackoverflow.com/users/2928241/yasin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4236, "favorite_count": 0, "closed_date": 1503436905, "answer_count": 0, "score": 18, "last_activity_date": 1514667552, "creation_date": 1503433597, "last_edit_date": 1514667552, "question_id": 45826403, "link": "https://stackoverflow.com/questions/45826403/fall-through-in-kotlin-switch-when-without-break", "closed_reason": "Duplicate", "title": "Fall through in Kotlin: Switch/When without break", "body": "<p>I'm new to kotlin and I want to do a switch that don't have a 'break'. In java would be like that:</p>\n\n<pre><code>    switch (b){\n        case 3:\n            Log.d(\"int\", \"3\");\n        case 2:\n            Log.d(\"int\", \"2\");\n        case 1:\n            Log.d(\"int\", \"1\");\n    }\n</code></pre>\n\n<p>And if b = 2 then it would print:</p>\n\n<blockquote>\n  <p>D/int: 2</p>\n  \n  <p>D/int: 1</p>\n</blockquote>\n\n<p>I want to do that in Kotlin without repeting the same code for each case. In a kotlin convertor, the code output was that:</p>\n\n<pre><code>when (b) {\n  3 -&gt; {\n    Log.d(\"int\", \"3\")\n    Log.d(\"int\", \"2\")\n    Log.d(\"int\", \"1\")\n  }\n  2 -&gt; {\n    Log.d(\"int\", \"2\")\n    Log.d(\"int\", \"1\")\n  }\n  1 -&gt; Log.d(\"int\", \"1\")\n}\n</code></pre>\n\n<p>Is there another way of doing that? My actual code is way bigger than that;</p>\n"}, {"tags": ["android", "unit-testing", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1503889496, "post_id": 45825130, "comment_id": 78781259, "body": "Ya, reported here as well...<a href=\"https://stackoverflow.com/questions/45819700/android-studio-3-0-gradle-3-0-0-beta2-breaks-kotlin-unit-test-coverage\" title=\"android studio 3 0 gradle 3 0 0 beta2 breaks kotlin unit test coverage\">stackoverflow.com/questions/45819700/&hellip;</a>"}, {"owner": {"reputation": 201, "user_id": 4008731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c232ee6c6f9988406e0de0853ddff2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dowd", "link": "https://stackoverflow.com/users/4008731/chris-dowd"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1503917383, "post_id": 45825130, "comment_id": 78792831, "body": "Interesting, I hadn&#39;t noticed that. Thanks for the info! I&#39;ll try an earlier version when testing and see if that helps."}], "answers": [{"comments": [{"owner": {"reputation": 11596, "user_id": 304270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb96e9fb0b0dc550c28c95e8318cb00?s=128&d=identicon&r=PG", "display_name": "Ewoks", "link": "https://stackoverflow.com/users/304270/ewoks"}, "edited": false, "score": 0, "creation_date": 1556608507, "post_id": 50847084, "comment_id": 98485683, "body": "but how this helps on a build server?"}], "tags": [], "owner": {"reputation": 151, "user_id": 6846017, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Cb9BSK8NkZM/AAAAAAAAAAI/AAAAAAAAPn4/y6tGZyW9hZg/photo.jpg?sz=128", "display_name": "Andres David serrano", "link": "https://stackoverflow.com/users/6846017/andres-david-serrano"}, "is_accepted": false, "score": 10, "last_activity_date": 1587672188, "last_edit_date": 1587672188, "creation_date": 1528928334, "answer_id": 50847084, "question_id": 45825130, "link": "https://stackoverflow.com/questions/45825130/android-studio-code-coverage-not-showing-any-kotlin-classes/50847084#50847084", "title": "Android studio code coverage not showing any Kotlin classes", "body": "<p>Try to use JaCoco for coverage, this is a IntelliJ IDEA issue: <a href=\"https://stackoverflow.com/questions/37405782/kotlin-inline-keyword-causing-intellij-idea-coverage-reporting-0\">Kotlin inline keyword causing IntelliJ IDEA Coverage reporting 0%\n</a></p>\n\n<p>How to use JaCoco to get the coverage:\n<a href=\"https://medium.com/@elye.project/making-android-studio-test-coverage-works-with-kotlin-and-robolectric-a2ab12cdd551\" rel=\"nofollow noreferrer\">Making Android Studio Test Coverage works</a></p>\n\n<p>Resume:</p>\n\n<ol>\n<li>Click on  edit configurations</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/PPY2r.png\" alt=\"Edit configurations\"></p>\n\n<ol start=\"2\">\n<li>Go to Run/Debug Configurations -> Defaults -> Android JUnit -> Code Coverage</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/Lx2pE.png\" alt=\"Code coverage configuration\"></p>\n\n<ol start=\"3\">\n<li><p>Choose coverage Runner: Select JaCoCo</p></li>\n<li><p>Apply -> OK </p></li>\n<li><p>Run your test again and voila you will get the coverage</p></li>\n</ol>\n"}], "owner": {"reputation": 201, "user_id": 4008731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c232ee6c6f9988406e0de0853ddff2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dowd", "link": "https://stackoverflow.com/users/4008731/chris-dowd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5804, "favorite_count": 2, "answer_count": 1, "score": 20, "last_activity_date": 1587672188, "creation_date": 1503428612, "last_edit_date": 1587671756, "question_id": 45825130, "link": "https://stackoverflow.com/questions/45825130/android-studio-code-coverage-not-showing-any-kotlin-classes", "title": "Android studio code coverage not showing any Kotlin classes", "body": "<p>I have 2 Kotlin based AS projects. One works fine, the other doesn't. Both have an identical structure and gradle config. I'm using Kotlin 1.1.4-2 with AS 3.0b2. </p>\n\n<p>The problem is that when I run code coverage, the classes I'm testing do not even show up under the coverage report. The only thing I see is R.java and BuildConfig.java, but none of my source files are being found.</p>\n\n<p>All source files are Kotlin based. I'm using Spek for my unit testing. Same setup and versions as my other functional project. I tried using both JaCoCo and Jetbrains code coverage and neither works.</p>\n\n<p>I apologize, I'm not able to embed pictures yet.</p>\n\n<p>This is the problem:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ej1IF.png\" alt=\"coverage report\"></p>\n\n<p>Here's my project structure:</p>\n\n<p><img src=\"https://i.stack.imgur.com/gGp9I.png\" alt=\"file structure\"></p>\n\n<p>And here's my gradle android block:</p>\n\n<pre><code>compileSdkVersion 26\nbuildToolsVersion \"26.0.1\"\n\ndefaultConfig {\n    minSdkVersion 16\n    targetSdkVersion 26\n    versionCode 1\n    versionName libraryVersion\n}\n\nbuildTypes {\n    debug {\n        testCoverageEnabled = true\n    }\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n\n<p>and my dependencies:</p>\n\n<pre><code>implementation fileTree(dir: 'libs', include: ['*.jar'])\n\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nimplementation \"io.reactivex.rxjava2:rxkotlin:2.1.0\"\n\ntestImplementation 'junit:junit:4.12'\ntestImplementation \"org.jetbrains.kotlin:kotlin-test:$kotlin_version\"\ntestImplementation 'org.jetbrains.spek:spek-api:1.1.2'\ntestImplementation 'org.jetbrains.spek:spek-junit-platform-engine:1.1.2'\ntestImplementation 'org.junit.platform:junit-platform-runner:1.0.0-M4'\ntestImplementation 'org.junit.jupiter:junit-jupiter-api:5.0.0-M4'\n\nimplementation 'com.android.support:appcompat-v7:26.0.1'\n\nimplementation 'com.squareup.okhttp3:okhttp-ws:3.3.1'\nimplementation 'com.google.protobuf:protobuf-java:2.6.1'\n</code></pre>\n\n<p>I've tried running </p>\n\n<pre><code>task copyTestClasses(type: Copy) {\n  from \"build/tmp/kotlin-classes/debugUnitTest\"\n  into \"build/intermediates/classes/debug\"\n}\n\ntask copySdkClasses(type: Copy) {\n  from \"build/tmp/kotlin-classes/debug\"\n  into \"build/intermediates/classes/debug\"\n}\n</code></pre>\n\n<p>before my testing and that doesn't work either.</p>\n\n<p>What's strange is my other project, using the same AS version, Kotlin version, and project structure, is working fine and generating proper code coverage. </p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["kotlin", "distributed", "blockchain", "corda"], "comments": [{"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "edited": false, "score": 0, "creation_date": 1503479851, "post_id": 45823988, "comment_id": 78628155, "body": "Is this causing an issue? <code>TransactionSignature</code> and <code>DigitalSignature.WithKey</code> are both types of <code>DigitalSignature</code>."}, {"owner": {"reputation": 625, "user_id": 5255581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1XmUZ.jpg?s=128&g=1", "display_name": "mleafer", "link": "https://stackoverflow.com/users/5255581/mleafer"}, "reply_to_user": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "edited": false, "score": 0, "creation_date": 1503502335, "post_id": 45823988, "comment_id": 78645701, "body": "yes, the M14 <code>.toWireTransation().checkSignature()</code> calls <code>DigitalSignature.WithKey</code>, requiring two params, and the <code>.toWireTransaction().checkSignature()</code> in the current corda build points to <code>TransactionSignature</code> takes one - apologies I&#39;m new to Kotlin and trying to get a demo set up fast. I&#39;m scanning through the <a href=\"https://github.com/corda/corda/commits/chrisr3-demobench-tornadofx-upgrade/samples/irs-demo/src/main/kotlin/net/corda/irs/flows/RatesFixFlow.kt\" rel=\"nofollow noreferrer\">file&#39;s git history</a> ....but not finding answers"}], "answers": [{"comments": [{"owner": {"reputation": 625, "user_id": 5255581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1XmUZ.jpg?s=128&g=1", "display_name": "mleafer", "link": "https://stackoverflow.com/users/5255581/mleafer"}, "edited": false, "score": 0, "creation_date": 1503610020, "post_id": 45866782, "comment_id": 78701183, "body": "Yes understood, however I was confused, modelling flows off the IRS demo with the jump in git commits between using <code>TransactionSignature</code> and <code>DigitalSignature.WithKey</code>. In the git commits I couldn&#39;t find the stage where the call() function in RatesFixFlow.kt returns type <code>DigitalSignature.WithKey</code>, which I have now implemented and works! :)"}], "tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": true, "score": 1, "last_activity_date": 1503592186, "creation_date": 1503592186, "answer_id": 45866782, "question_id": 45823988, "link": "https://stackoverflow.com/questions/45823988/corda-wiretransaction-type-mismatch-transactionsignature-inferred-but-digitals/45866782#45866782", "title": "Corda WireTransaction type mismatch - TransactionSignature inferred but DigitalSignature.WithKey expected", "body": "<p>If you're on M14, <code>checkSignature</code> should take a <code>DigitalSignature.WithKey</code>.</p>\n\n<p>Try clearing out your local maven repository and cleaning out your caches if you're using IntelliJ: <a href=\"https://www.jetbrains.com/help/idea/cleaning-system-cache.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/cleaning-system-cache.html</a>.</p>\n"}], "owner": {"reputation": 625, "user_id": 5255581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1XmUZ.jpg?s=128&g=1", "display_name": "mleafer", "link": "https://stackoverflow.com/users/5255581/mleafer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 45866782, "answer_count": 1, "score": 0, "last_activity_date": 1503592186, "creation_date": 1503424108, "last_edit_date": 1503424512, "question_id": 45823988, "link": "https://stackoverflow.com/questions/45823988/corda-wiretransaction-type-mismatch-transactionsignature-inferred-but-digitals", "title": "Corda WireTransaction type mismatch - TransactionSignature inferred but DigitalSignature.WithKey expected", "body": "<p>I am building a flow modelling the Corda IRS RatesFixFlow (I'm guessing M15 compatible.) But my app is working against the M14 build.</p>\n\n<p>This is the source code:</p>\n\n<pre><code>override fun call(): TransactionSignature {\n    val resp = sendAndReceive&lt;TransactionSignature&gt;(oracle, SignRequest(partialMerkleTx))\n    return resp.unwrap { sig -&gt;\n        check(oracle.owningKey.isFulfilledBy(listOf(sig.by)))\n        tx.toWireTransaction().checkSignature(sig)\n        sig\n    }\n}\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>override fun call(): TransactionSignature {\n    val resp = sendAndReceive&lt;TransactionSignature&gt;(agency, SignRequest(partialMerkleTx))\n    return resp.unwrap { sig -&gt;\n        check(agency.owningKey.isFulfilledBy( listOf(sig.by)))\n        tx.toWireTransaction().checkSignature(sig)\n        sig\n    }\n}\n</code></pre>\n\n<p>The IRS <code>checkSignature</code> is pointing back to the WireTransaction.kt implementation that uses <code>TransactionSignature</code> as return rather than (I assume) deprecated M14 <code>WireTransaction.checkSignature()</code> that uses <code>DigitalKey.WithKey</code></p>\n\n<p>Are there any quick workarounds or hacks to reconcile the type update?</p>\n"}, {"tags": ["arrays", "kotlin", "type-conversion"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 58, "last_activity_date": 1503420849, "creation_date": 1503420849, "answer_id": 45823208, "question_id": 45823162, "link": "https://stackoverflow.com/questions/45823162/how-to-convert-string-array-to-int-array-in-kotlin/45823208#45823208", "title": "How to convert String array to Int array in Kotlin?", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"noreferrer\"><code>.map { ... }</code></a> with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-int.html\" rel=\"noreferrer\"><code>.toInt()</code></a> or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-int-or-null.html\" rel=\"noreferrer\"><code>.toIntOrNull()</code></a>:</p>\n\n<pre><code>val result = strings.map { it.toInt() }\n</code></pre>\n\n<p>Only the result is not an array but a list. It is preferable to use lists over arrays in non-performance-critical code, see <a href=\"https://stackoverflow.com/questions/36262305/difference-between-list-and-array-types-in-kotlin\">the differences</a>.</p>\n\n<p>If you need an array, add <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-typed-array.html\" rel=\"noreferrer\"><code>.toTypedArray()</code></a> or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-int-array.html\" rel=\"noreferrer\"><code>.toIntArray()</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1503421200, "creation_date": 1503421200, "answer_id": 45823281, "question_id": 45823162, "link": "https://stackoverflow.com/questions/45823162/how-to-convert-string-array-to-int-array-in-kotlin/45823281#45823281", "title": "How to convert String array to Int array in Kotlin?", "body": "<p>I'd use something simple like </p>\n\n<pre><code>val strings = arrayOf(\"1\", \"2\", \"3\")\nval ints = ints.map { it.toInt() }.toTypedArray()\n</code></pre>\n\n<p>Alternatively, if you're into extensions:</p>\n\n<pre><code>fun Array&lt;String&gt;.asInts() = this.map { it.toInt() }.toTypedArray()\n\nstrings.asInts()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4319, "user_id": 4874829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cfECAGc8huU/AAAAAAAAAAI/AAAAAAAAAJk/Pebw5H-quLo/photo.jpg?sz=128", "display_name": "Yoav Sternberg", "link": "https://stackoverflow.com/users/4874829/yoav-sternberg"}, "is_accepted": false, "score": 2, "last_activity_date": 1503423079, "creation_date": 1503423079, "answer_id": 45823729, "question_id": 45823162, "link": "https://stackoverflow.com/questions/45823162/how-to-convert-string-array-to-int-array-in-kotlin/45823729#45823729", "title": "How to convert String array to Int array in Kotlin?", "body": "<p>If you are trying to convert a <code>List</code> structure that implements <code>RandomAccess</code> (like <code>ArrayList</code>, or <code>Array</code>), you can use this version for better performance:</p>\n\n<pre><code>IntArray(strings.size) { strings[it].toInt() }\n</code></pre>\n\n<p>This version is compiled to a basic for loop and <code>int[]</code>:</p>\n\n<pre><code>int size = strings.size();\nint[] result = new int[size];\nint index = 0;\n\nfor(int newLength = result.length; index &lt; newLength; ++index) {\n    String numberRaw = strings.get(index);\n    int parsedNumber = Integer.parseInt(numberRaw);\n    result[index] = parsedNumber;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4879, "user_id": 954442, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/168149d073db878da990e57c891911cd?s=128&d=identicon&r=PG", "display_name": "Andrew Regan", "link": "https://stackoverflow.com/users/954442/andrew-regan"}, "edited": false, "score": 1, "creation_date": 1569615246, "post_id": 58132915, "comment_id": 102667910, "body": "The &quot;[&quot; and &quot;,&quot; handling code is completely unnecessary here."}, {"owner": {"reputation": 1900, "user_id": 1464571, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fJKsl.jpg?s=128&g=1", "display_name": "Rowland Mtetezi", "link": "https://stackoverflow.com/users/1464571/rowland-mtetezi"}, "reply_to_user": {"reputation": 4879, "user_id": 954442, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/168149d073db878da990e57c891911cd?s=128&d=identicon&r=PG", "display_name": "Andrew Regan", "link": "https://stackoverflow.com/users/954442/andrew-regan"}, "edited": false, "score": 0, "creation_date": 1579391502, "post_id": 58132915, "comment_id": 105751995, "body": "@AndrewRegan would you care to give full reasons, why?"}, {"owner": {"reputation": 772, "user_id": 5223289, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/rs52u.png?s=128&g=1", "display_name": "saidfagan", "link": "https://stackoverflow.com/users/5223289/saidfagan"}, "reply_to_user": {"reputation": 1900, "user_id": 1464571, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fJKsl.jpg?s=128&g=1", "display_name": "Rowland Mtetezi", "link": "https://stackoverflow.com/users/1464571/rowland-mtetezi"}, "edited": false, "score": 0, "creation_date": 1585933779, "post_id": 58132915, "comment_id": 107948707, "body": "@RowlandMtetezi, because it is distracting, and question does not contain it."}], "tags": [], "owner": {"reputation": 942, "user_id": 10385054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QB8p8.png?s=128&g=1", "display_name": "Rahul Khatri", "link": "https://stackoverflow.com/users/10385054/rahul-khatri"}, "is_accepted": false, "score": -1, "last_activity_date": 1569580888, "creation_date": 1569580888, "answer_id": 58132915, "question_id": 45823162, "link": "https://stackoverflow.com/questions/45823162/how-to-convert-string-array-to-int-array-in-kotlin/58132915#58132915", "title": "How to convert String array to Int array in Kotlin?", "body": "<pre><code>val result = \"[1, 2, 3, 4, 5]\".removeSurrounding(\"[\",\"]\").replace(\" \",\"\").split(\",\").map { it.toInt() }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "is_accepted": false, "score": 1, "last_activity_date": 1583694676, "creation_date": 1583694676, "answer_id": 60591104, "question_id": 45823162, "link": "https://stackoverflow.com/questions/45823162/how-to-convert-string-array-to-int-array-in-kotlin/60591104#60591104", "title": "How to convert String array to Int array in Kotlin?", "body": "<p>Consider the input like this <code>\"\"</code> (empty string)</p>\n\n<p>It would be better to do the filtering first. And it is true the return value is list but not array. </p>\n\n<p>If you need an array, add <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"nofollow noreferrer\"><code>.toTypedArray()</code></a> or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-int.html\" rel=\"nofollow noreferrer\"><code>.toIntArray()</code></a>.</p>\n\n<pre><code>    fun stringToIntList(data: String): List&lt;Int&gt; =\n            data.split(\",\").filter { it.toIntOrNull() != null }\n                    .map { it.toInt() }\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "is_accepted": false, "score": 1, "last_activity_date": 1602006902, "creation_date": 1602006902, "answer_id": 64231300, "question_id": 45823162, "link": "https://stackoverflow.com/questions/45823162/how-to-convert-string-array-to-int-array-in-kotlin/64231300#64231300", "title": "How to convert String array to Int array in Kotlin?", "body": "<p>If you use <code>Array.map</code> as other answers suggest, you get back a <code>List</code>, not an <code>Array</code>. If you want to map an array <code>strings</code> to another array <code>results</code>, you can do it directly like this:</p>\n<pre><code>val results = Array(strings.size) { strings[it].toInt() }\n</code></pre>\n<p>This is more efficient than first mapping to a <code>List</code> and then copying the elements over to an <code>Array</code> by calling <code>.toTypedArray()</code>.</p>\n"}], "owner": {"reputation": 772, "user_id": 5223289, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/rs52u.png?s=128&g=1", "display_name": "saidfagan", "link": "https://stackoverflow.com/users/5223289/saidfagan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16292, "favorite_count": 2, "accepted_answer_id": 45823208, "answer_count": 6, "score": 24, "last_activity_date": 1602006902, "creation_date": 1503420634, "question_id": 45823162, "link": "https://stackoverflow.com/questions/45823162/how-to-convert-string-array-to-int-array-in-kotlin", "title": "How to convert String array to Int array in Kotlin?", "body": "<p>Kotlin has many shorthands and interesting features. So, I wonder if there is some fast and short way of converting array of string to array of integers. Similar to this code in Python:</p>\n\n<pre><code>results = [int(i) for i in results]\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 62612, "user_id": 1253844, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/3fUHG.jpg?s=128&g=1", "display_name": "Bryan Herbst", "link": "https://stackoverflow.com/users/1253844/bryan-herbst"}, "is_accepted": false, "score": 18, "last_activity_date": 1603196455, "last_edit_date": 1603196455, "creation_date": 1503416664, "answer_id": 45822027, "question_id": 45821929, "link": "https://stackoverflow.com/questions/45821929/in-which-situation-val-var-is-necessary-in-kotlin-constructor-parameter/45822027#45822027", "title": "In which situation val/var is necessary in Kotlin constructor parameter?", "body": "<p>Constructor parameters must use <code>var</code> or <code>val</code> when they are used as a property elsewhere in the class. They do not need to be properties if they are only used for class initialization.</p>\n<p>In the example below, the parameter must be a property (<code>var</code> or <code>val</code>) because it is used in a method:</p>\n<pre><code>class A(val number: Int) {\n    fun foo() = number\n}\n</code></pre>\n<p>In this other example, the parameter is only used to initialize the class, so it does not need to be a property:</p>\n<pre><code>class B(number: Int): A(number) {\n    init {\n        System.out.println(&quot;number: $number&quot;)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7439, "user_id": 2848676, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BEAn9.jpg?s=128&g=1", "display_name": "Michael Osofsky", "link": "https://stackoverflow.com/users/2848676/michael-osofsky"}, "edited": false, "score": 1, "creation_date": 1576264378, "post_id": 45822035, "comment_id": 104856487, "body": "Good explanation.  According to the <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">documentation</a>, specifying <code>val</code> or <code>var</code> on a &quot;parameter&quot; of a constructor turns the parameter in a &quot;property&quot;. The term  <a href=\"https://kotlinlang.org/docs/reference/functions.html#parameters\" rel=\"nofollow noreferrer\">&quot;parameter&quot;</a> is the name of a variable in a function&#39;s signature.  A constructor is a type of function.  Meanwhile, a <a href=\"https://kotlinlang.org/docs/reference/properties.html#properties-and-fields\" rel=\"nofollow noreferrer\">&quot;property&quot;</a> is a getter and/or setter on the class that may also have a field to store data."}], "tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 71, "last_activity_date": 1546870312, "last_edit_date": 1546870312, "creation_date": 1503416686, "answer_id": 45822035, "question_id": 45821929, "link": "https://stackoverflow.com/questions/45821929/in-which-situation-val-var-is-necessary-in-kotlin-constructor-parameter/45822035#45822035", "title": "In which situation val/var is necessary in Kotlin constructor parameter?", "body": "<p>When you write <code>val</code>/<code>var</code> within the constructor, it declares a property inside the class. When you do not write it, it is simply a parameter passed to the primary constructor, where you can access the parameters within the <code>init</code> block or use it to initialize other properties. For example,</p>\n\n<pre><code>class User(val id: Long, email: String) {\n    val hasEmail = email.isNotBlank()    //email can be accessed here\n    init {\n        //email can be accessed here\n    }\n\n    fun getEmail(){\n        //email can't be accessed here\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Constructor parameter is never used as a property</p>\n</blockquote>\n\n<p>This suggestion is saying that you do not use this property in place apart from the initialization. So, it suggests you to remove this property from the class.</p>\n"}], "owner": {"reputation": 359, "user_id": 7025928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb50d90a03fd4c3a8416f06fdd85b322?s=128&d=identicon&r=PG&f=1", "display_name": "Korey Lere", "link": "https://stackoverflow.com/users/7025928/korey-lere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6844, "favorite_count": 7, "answer_count": 2, "score": 35, "last_activity_date": 1603196455, "creation_date": 1503416351, "last_edit_date": 1536124325, "question_id": 45821929, "link": "https://stackoverflow.com/questions/45821929/in-which-situation-val-var-is-necessary-in-kotlin-constructor-parameter", "title": "In which situation val/var is necessary in Kotlin constructor parameter?", "body": "<p>Right code:</p>\n\n<pre><code>class MainActHandler(val weakActivity: WeakReference&lt;Activity&gt;): Handler() {\n    override fun handleMessage(msg: Message?) {\n        val trueAct = weakActivity.get() ?: return\n        if (msg?.what == ConversationMgr.MSG_WHAT_NEW_SENTENCE){\n            val sentence = msg.obj as String?\n            trueAct.conversation.text = sentence\n        }\n        super.handleMessage(msg)\n    }\n}\n</code></pre>\n\n<p>cannot be resolved code:</p>\n\n<pre><code>class MainActHandler(weakActivity: WeakReference&lt;Activity&gt;): Handler() {\n    override fun handleMessage(msg: Message?) {\n        val trueAct = weakActivity.get() ?: return\n        if (msg?.what == ConversationMgr.MSG_WHAT_NEW_SENTENCE){\n            val sentence = msg.obj as String?\n            trueAct.conversation.text = sentence\n        }\n        super.handleMessage(msg)\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/S6gMv.png\" rel=\"noreferrer\">cannot be resolved code screenshot</a></p>\n\n<p>The only difference is the \"val\" has been  deleted and cannot be resolve.</p>\n\n<p><strong>Which might be important is that it's a inner class.</strong></p>\n\n<p><strong>BUT</strong></p>\n\n<p>This one class without \"val/var\" in constructor parameter is working:</p>\n\n<pre><code>class BookInfo(convrMgr: ConversationMgr, id: String, queue: RequestQueue, queueTag:String) {\n\nval TAG = \"BookInfo\"\nvar title: String? = \"\"\n\ninit {\n    val url = \"https://api.douban.com/v2/book/$id\"\n    // Request a string response from the provided URL.\n    val stringRequest = StringRequest(Request.Method.GET, url,\n            Response.Listener&lt;String&gt; { response -&gt;\n                Log.d(TAG + \" Response\", response.substring(0))\n                // Parse JSON from String value\n                val parser = Parser()\n                val jsonObj: JsonObject =\n                        parser.parse(StringBuilder(response.substring(0))) as JsonObject\n                // Initial book title of book properties.\n                title = jsonObj.string(\"title\")\n                Log.d(TAG + \" Book title\", title)\n                convrMgr.addNewMsg(title)\n            },\n            Response.ErrorListener { error -&gt; Log.e(TAG + \" Error\", error.toString()) })\n    // Set the tag on the request.\n    stringRequest.tag = queueTag\n    // Add the request to the RequestQueue.\n    queue.add(stringRequest)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And if I add var/val before \"queue: RequestQueue\", I'll get suggestion:</p>\n\n<p>\"Constructor parameter is never used as a property less. This inspection reports primary constructor parameters that can have 'val' or 'var' removed. Unnecessary usage of 'val' and 'var' in primary constructor consumes unnecessary memory.\"</p>\n\n<p>I am just confused about it.</p>\n"}, {"tags": ["android", "generics", "kotlin", "mvp", "extends"], "answers": [{"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": true, "score": 8, "last_activity_date": 1503415690, "last_edit_date": 1592644375, "creation_date": 1503415690, "answer_id": 45821710, "question_id": 45820685, "link": "https://stackoverflow.com/questions/45820685/generics-in-kotlin-with-extends/45821710#45821710", "title": "Generics in Kotlin with extends", "body": "<p>I suppose this is not allowed in Kotlin.</p>\n<p>From the <a href=\"https://jetbrains.github.io/kotlin-spec/#_finite_bound_restriction\" rel=\"noreferrer\">Kotlin spec</a>:</p>\n<blockquote>\n<p>The following pair of declarations is invalid, because there are edges\nT \u2192 S and S \u2192 T, forming a cycle:</p>\n<p><code>interface B&lt;T : C&lt;*&gt;&gt;</code></p>\n<p><code>interface C&lt;S : B&lt;*&gt;&gt;</code></p>\n</blockquote>\n<p>The reason stated as:</p>\n<blockquote>\n<p>In its fully expanded form this bound would be infinite. The purpose\nof this rule is to avoid such infinite types, and type checking\ndifficulties associated with them.</p>\n</blockquote>\n<p>In your case, it is V -&gt; P and P -&gt; V forms a cycle.</p>\n"}], "owner": {"reputation": 595, "user_id": 2017828, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2834521b19972f1b0697a546958f5fac?s=128&d=identicon&r=PG", "display_name": "waldemar", "link": "https://stackoverflow.com/users/2017828/waldemar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2912, "favorite_count": 0, "closed_date": 1503417624, "accepted_answer_id": 45821710, "answer_count": 1, "score": 1, "last_activity_date": 1503415690, "creation_date": 1503412846, "question_id": 45820685, "link": "https://stackoverflow.com/questions/45820685/generics-in-kotlin-with-extends", "closed_reason": "Duplicate", "title": "Generics in Kotlin with extends", "body": "<p>I trying to porting java project to kotlin and have some problems with it. I have some MVP structure in java using generics</p>\n\n<pre><code>interface View&lt;P extends Presenter&gt; {}\ninterface Presenter&lt;V extends View&gt; {}\ninterface BaseView&lt;P extends Presenter&gt; extends View&lt;P&gt; {}\n\nclass BaseActivity&lt;P extends Presenter&gt; extends AppCompatActivity implements BaseView&lt;P&gt; {}\n</code></pre>\n\n<p>At first two classes I have error from IDE</p>\n\n<pre><code>interface Presenter&lt;V : View&lt;*&gt;&gt; {}\ninterface View&lt;P : Presenter&lt;*&gt;&gt; {}\n</code></pre>\n\n<p>my error is </p>\n\n<pre><code>*this type parameter violates the finite bound restriction*\n</code></pre>\n\n<p>No any problem with Java code</p>\n"}, {"tags": ["java", "android", "automated-tests", "kotlin", "android-espresso"], "comments": [{"owner": {"reputation": 14270, "user_id": 1540854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e49f9de6321622f1fcebc76e72da708?s=128&d=identicon&r=PG", "display_name": "jeprubio", "link": "https://stackoverflow.com/users/1540854/jeprubio"}, "edited": false, "score": 0, "creation_date": 1503415674, "post_id": 45820498, "comment_id": 78601175, "body": "Check this answer <a href=\"https://stackoverflow.com/questions/36945219/espresso-recyclerview-inside-viewpager/37157492#37157492\">https://stackoverflow.com/questions/36945219/espresso-recycl&zwnj;&#8203;erview-inside-viewpa&zwnj;&#8203;ger/37157492#3715749&zwnj;&#8203;2</a>"}, {"owner": {"reputation": 240, "user_id": 7952241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9dAGq.png?s=128&g=1", "display_name": "Emmaaa", "link": "https://stackoverflow.com/users/7952241/emmaaa"}, "reply_to_user": {"reputation": 14270, "user_id": 1540854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e49f9de6321622f1fcebc76e72da708?s=128&d=identicon&r=PG", "display_name": "jeprubio", "link": "https://stackoverflow.com/users/1540854/jeprubio"}, "edited": false, "score": 0, "creation_date": 1503416587, "post_id": 45820498, "comment_id": 78601811, "body": "This would be great, if the item I want to click was on screen when the activity is launched... unfortunately in this instance I need to scroll down to the item first"}], "answers": [{"tags": [], "owner": {"reputation": 240, "user_id": 7952241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9dAGq.png?s=128&g=1", "display_name": "Emmaaa", "link": "https://stackoverflow.com/users/7952241/emmaaa"}, "is_accepted": false, "score": 0, "last_activity_date": 1503416186, "creation_date": 1503416186, "answer_id": 45821877, "question_id": 45820498, "link": "https://stackoverflow.com/questions/45820498/what-to-do-in-espresso-when-the-recyclerview-itself-returns-ambiguousviewmatcher/45821877#45821877", "title": "What to do in Espresso when the recyclerView itself returns AmbiguousViewMatcherException?", "body": "<p>ok! So first I needed to give each view a tag \n(see petey's answer for <a href=\"https://stackoverflow.com/questions/35675296/how-to-catch-a-view-with-tag-by-espresso-in-android\">How to catch a View with Tag by Espresso in Android?</a>)</p>\n\n<p>I found the onCreate and added:</p>\n\n<pre><code>recyclerView.setTag(screenTab.getId())\n</code></pre>\n\n<p>Which enabled me to set this within my test class (fyi I'm using Kotlin)</p>\n\n<pre><code>  private val tab1RecyclerView = onView(\n      allOf(\n          withId(R.id.recycler_view),\n          withTagValue(`is`(Id.tab1))\n      )\n  )\n</code></pre>\n\n<p>so that my tests begin like this :</p>\n\n<pre><code>@Test\nfun tab1Test() {\ntab1RecyclerView.perform(RecyclerViewActions.actionOnItemAtPosition... etc\n}\n</code></pre>\n"}], "owner": {"reputation": 240, "user_id": 7952241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9dAGq.png?s=128&g=1", "display_name": "Emmaaa", "link": "https://stackoverflow.com/users/7952241/emmaaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 269, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1503416186, "creation_date": 1503412316, "question_id": 45820498, "link": "https://stackoverflow.com/questions/45820498/what-to-do-in-espresso-when-the-recyclerview-itself-returns-ambiguousviewmatcher", "title": "What to do in Espresso when the recyclerView itself returns AmbiguousViewMatcherException?", "body": "<p>The problem is that I have a tabbed view, and each page contains the same recyclerView with different data pertaining to that tab. If I'm not describing it too well, it's essentially the same as described in this tutorial: <a href=\"https://github.com/codepath/android_guides/wiki/ViewPager-with-FragmentPagerAdapter\" rel=\"nofollow noreferrer\">https://github.com/codepath/android_guides/wiki/ViewPager-with-FragmentPagerAdapter</a></p>\n\n<p>I am creating instrumentation tests using Espresso, and when I try to call </p>\n\n<pre><code>onView(withId(R.id.recycler_view)\n</code></pre>\n\n<p>to use with a RecyclerViewAction, I am returned the AmbiguousViewMatcher telling me there is more than one recyclerView in the hierarchy. How can I specify a particular recyclerView? I assume that I will need a 'customRecyclerViewMatcher' of some sort </p>\n"}, {"tags": ["android", "kotlin", "code-coverage", "jacoco", "android-studio-3.0"], "comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 3, "creation_date": 1503411937, "post_id": 45819700, "comment_id": 78598280, "body": "I reported the issue in <a href=\"https://issuetracker.google.com/issues/64929213\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/64929213</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1513047022, "post_id": 47764191, "comment_id": 82490596, "body": "This is as per reported in <a href=\"https://stackoverflow.com/a/45354933/3286489\">stackoverflow.com/a/45354933/3286489</a>. But if observe carefully, it is reporting the coverage of the test code, not the app code. :("}, {"owner": {"reputation": 628, "user_id": 4333271, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dql1ZSdFiEI/AAAAAAAAAAI/AAAAAAAAADM/e05lv-akPP0/photo.jpg?sz=128", "display_name": "Marcus Hooper", "link": "https://stackoverflow.com/users/4333271/marcus-hooper"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1513047172, "post_id": 47764191, "comment_id": 82490639, "body": "The reason that one is reporting the coverage of the test classes is because it&#39;s copying from /debugUnitTest and not /debug"}, {"owner": {"reputation": 3166, "user_id": 1570171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HiuC7.jpg?s=128&g=1", "display_name": "WenChao", "link": "https://stackoverflow.com/users/1570171/wenchao"}, "edited": false, "score": 0, "creation_date": 1516081176, "post_id": 47764191, "comment_id": 83532959, "body": "there is no debug folder if there is no kotlin classes"}, {"owner": {"reputation": 4128, "user_id": 932656, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3bbuc.png?s=128&g=1", "display_name": "Chriss", "link": "https://stackoverflow.com/users/932656/chriss"}, "edited": false, "score": 0, "creation_date": 1519294735, "post_id": 47764191, "comment_id": 84855844, "body": "Still the same with Android Studio 3.0.1, I filed a ticked: <a href=\"https://issuetracker.google.com/u/1/issues/73730680\" rel=\"nofollow noreferrer\">issuetracker.google.com/u/1/issues/73730680</a>"}, {"owner": {"reputation": 1358, "user_id": 6281160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ycDxi.jpg?s=128&g=1", "display_name": "Deividas Strioga", "link": "https://stackoverflow.com/users/6281160/deividas-strioga"}, "edited": false, "score": 0, "creation_date": 1527247436, "post_id": 47764191, "comment_id": 88067644, "body": "Also, if you use the module just as plain kotlin lib, use this instead:       task copyTestClasses(type: Copy) {         from &quot;build/classes/kotlin&quot;         into &quot;build/classes/java&quot;  }"}], "tags": [], "owner": {"reputation": 628, "user_id": 4333271, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dql1ZSdFiEI/AAAAAAAAAAI/AAAAAAAAADM/e05lv-akPP0/photo.jpg?sz=128", "display_name": "Marcus Hooper", "link": "https://stackoverflow.com/users/4333271/marcus-hooper"}, "is_accepted": false, "score": 6, "last_activity_date": 1513043404, "creation_date": 1513043404, "answer_id": 47764191, "question_id": 45819700, "link": "https://stackoverflow.com/questions/45819700/android-studio-3-0-gradle-3-0-0-beta2-breaks-kotlin-unit-test-coverage/47764191#47764191", "title": "Android Studio 3.0 gradle 3.0.0-beta2, breaks Kotlin Unit Test Coverage?", "body": "<p>In case anyone is still looking for a solution, adding in a gradle task to copy the cases from the tmp directory into the directory that the coverage output looks in helps with this issue as a workaround.</p>\n\n<p>For example add copyTestClasses to your module gradle file</p>\n\n<pre><code>task copyTestClasses(type: Copy) {\n    from \"build/tmp/kotlin-classes/debug\"\n    into \"build/intermediates/classes/debug\"\n}\n</code></pre>\n\n<p>And then setting up your defaults to run the gradle task before running the tests\n<a href=\"https://i.stack.imgur.com/SaulV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SaulV.png\" alt=\"Example of setting up gradle task\"></a></p>\n\n<p>It can help to find both of the directories in your project manually before trying to point to them using gradle, to make sure that you're pointing to the right place (flavours will change the directories that you need to point to)</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1950, "favorite_count": 4, "answer_count": 1, "score": 13, "last_activity_date": 1513043404, "creation_date": 1503410217, "last_edit_date": 1503412220, "question_id": 45819700, "link": "https://stackoverflow.com/questions/45819700/android-studio-3-0-gradle-3-0-0-beta2-breaks-kotlin-unit-test-coverage", "title": "Android Studio 3.0 gradle 3.0.0-beta2, breaks Kotlin Unit Test Coverage?", "body": "<p>I have a simple Kotlin classes, as below</p>\n\n<pre><code>class MyClass {\n    fun justSayHello(yes: Boolean): String {\n        if (yes) {\n            return \"Hello\"\n        } else {\n            return \"Sorry\"\n        }\n    }\n}\n</code></pre>\n\n<p>I have my test (written in Java here, could be in Kotlin, also)</p>\n\n<pre><code>public class MyClassTest {\n    private MyClass myClass = new MyClass();\n\n    @Test\n    public void testFirst() {\n        myClass.justSayHello(true);\n    }\n\n    @Test\n    public void testSecond() {\n        myClass.justSayHello(false);\n    }\n}\n</code></pre>\n\n<p>When I run a test with Coverage in Android Studio 3.0 Beta-2 using <code>classpath 'com.android.tools.build:gradle:3.0.0-beta2'</code>, no coverage is reported for it.</p>\n\n<p>But when I run the test using <code>classpath 'com.android.tools.build:gradle:2.3.3'</code>, 100% coverage reported.</p>\n\n<p>When I change my source code to Java:</p>\n\n<pre><code>public class MyClass {\n    public String justSayHello(boolean yes) {\n        if (yes) {\n            return \"Hello\";\n        } else {\n            return \"Sorry\";\n        }\n    }\n}\n</code></pre>\n\n<p>It works fine for both gradle build tools</p>\n\n<p>It seems to me that <code>'com.android.tools.build:gradle:3.0.0-beta2'</code> has the broken test coverage measurement for Kotlin.</p>\n\n<p>Did I miss anything? Is there a workaround for me to get the test coverage in Kotlin?</p>\n"}, {"tags": ["java", "android", "mockito", "kotlin"], "comments": [{"owner": {"reputation": 1107, "user_id": 3541666, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/CqnPy.jpg?s=128&g=1", "display_name": "Vazgen Torosyan", "link": "https://stackoverflow.com/users/3541666/vazgen-torosyan"}, "edited": false, "score": 0, "creation_date": 1503404647, "post_id": 45817528, "comment_id": 78592372, "body": "Why are you changing your test language? I think it&#39;s good to have application and test with same language"}, {"owner": {"reputation": 1890, "user_id": 1385489, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b8ec991b622494f0a9bbc64653c82756?s=128&d=identicon&r=PG", "display_name": "Mousa", "link": "https://stackoverflow.com/users/1385489/mousa"}, "reply_to_user": {"reputation": 1107, "user_id": 3541666, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/CqnPy.jpg?s=128&g=1", "display_name": "Vazgen Torosyan", "link": "https://stackoverflow.com/users/3541666/vazgen-torosyan"}, "edited": false, "score": 0, "creation_date": 1503404866, "post_id": 45817528, "comment_id": 78592540, "body": "@VazgenTorosyan I have already changed my application code from Java to Kotlin and now I want to do the same for tests."}], "owner": {"reputation": 1890, "user_id": 1385489, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b8ec991b622494f0a9bbc64653c82756?s=128&d=identicon&r=PG", "display_name": "Mousa", "link": "https://stackoverflow.com/users/1385489/mousa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 257, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1503404519, "creation_date": 1503404519, "question_id": 45817528, "link": "https://stackoverflow.com/questions/45817528/nosuchmethoderror-no-static-method-beforecheckcasttofunctionofarity", "title": "NoSuchMethodError: No static method beforeCheckcastToFunctionOfArity", "body": "<p>I have tests for my Android app, written in <code>Java</code> using <code>JUnit4</code>, <code>Mockito</code> and <code>Espresso</code>.\nI tried to convert them to <code>Kotlin</code>, but my tests are failing with this Exception:</p>\n\n<pre><code>java.lang.NoSuchMethodError: No static method beforeCheckcastToFunctionOfArity(Ljava/lang/Object;I)Ljava/lang/Object; in class Lkotlin/jvm/internal/TypeIntrinsics; or its super classes (declaration of 'kotlin.jvm.internal.TypeIntrinsics' appears in /data/app/com.takhfifan.takhfifan-2/base.apk)\nat com.takhfifan.takhfifan.activity.AddressSelectActivityTest$configApiToReturnAddresses$1.answer(AddressSelectActivityTest.kt:131)\n</code></pre>\n\n<p>The line that the stacktrace refers, is the second line of this code (the casting):</p>\n\n<pre><code>doAnswer { invocation -&gt;\n        val resultListener = invocation.arguments[1] as (List&lt;Address&gt;)-&gt;Unit\n        runLater(after) { resultListener(Arrays.asList&lt;Address&gt;(*addresses)) }\n        null\n    }.`when`&lt;Api&gt;(api).listCustomerAddresses(any(), any(), any())\n</code></pre>\n\n<p>And the declaration of the function that I am mocking above is like this:</p>\n\n<pre><code>open fun listCustomerAddresses(sessionId: String,resultListener: (List&lt;Address&gt;)-&gt;Unit, errorListener: (Throwable)-&gt;Unit) {...\n</code></pre>\n\n<p>I tried to add this to my proguard file, but nothing changed:</p>\n\n<pre><code>-keep class kotlin.jvm.internal.TypeIntrinsics {\n    public static Object beforeCheckcastToFunctionOfArity(***);\n}\n</code></pre>\n"}, {"tags": ["java", "intellij-idea", "gradle", "jar", "kotlin"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1503402506, "post_id": 45816753, "comment_id": 78590816, "body": "Please provide the way you execute the program. Or do you get the program somewhere else? If you get the error on building, please execute <code>.&#47;gradlew clear build --info --stacktrace</code> and post the output"}, {"owner": {"reputation": 65, "user_id": 5391503, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f5bb4e5f9fd25cb5cce39cc990a099e3?s=128&d=identicon&r=PG&f=1", "display_name": "alpha", "link": "https://stackoverflow.com/users/5391503/alpha"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1503403077, "post_id": 45816753, "comment_id": 78591249, "body": "Added running command. There are no errors on building."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1503403348, "post_id": 45816753, "comment_id": 78591449, "body": "Do you use any classes (in your main-class) of the <code>browsermob-core</code> library? If so, why don&#39;t you provide that library in the classpath when running?"}, {"owner": {"reputation": 65, "user_id": 5391503, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f5bb4e5f9fd25cb5cce39cc990a099e3?s=128&d=identicon&r=PG&f=1", "display_name": "alpha", "link": "https://stackoverflow.com/users/5391503/alpha"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1503403577, "post_id": 45816753, "comment_id": 78591591, "body": "It is proposed that fat jar will be built."}], "owner": {"reputation": 65, "user_id": 5391503, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f5bb4e5f9fd25cb5cce39cc990a099e3?s=128&d=identicon&r=PG&f=1", "display_name": "alpha", "link": "https://stackoverflow.com/users/5391503/alpha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1503403913, "creation_date": 1503402344, "last_edit_date": 1503403913, "question_id": 45816753, "link": "https://stackoverflow.com/questions/45816753/could-not-find-or-load-main-class-when-a-specific-package-is-used", "title": "Could not find or load main class when a specific package is used", "body": "<p>I need to use <a href=\"https://github.com/lightbody/browsermob-proxy\" rel=\"nofollow noreferrer\">browsermob-proxy</a>.</p>\n\n<p>My project can be run from IDE, but when I build it by gradle and add <code>compile 'net.lightbody.bmp:browsermob-core:2.1.4'</code> into my gradle config file the jar is successfully built (there are no any errors), but the main function is not loaded:</p>\n\n<p><code>#gradle clean jar</code></p>\n\n<p><code>#java -jar build/proxy-0.1.jar</code></p>\n\n<blockquote>\n  <p>\"Error: Could not find or load main class myproject.MainKt\"</p>\n</blockquote>\n\n<p>If I add this utility to my existed package (that could be built and run as a fat jar) it can not be built.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Is it possible that it is bug in <a href=\"https://github.com/lightbody/browsermob-proxy\" rel=\"nofollow noreferrer\">browsermob-proxy</a>?</p>\n\n<p>Thanks.</p>\n\n<p>My gradle file is the following:</p>\n\n<pre><code>group 'proxy'\n\nversion '0.1'\n\nbuildscript {\n    ext.kotlin_version = '1.1.3'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath group: 'org.jetbrains.kotlin', name: 'kotlin-gradle-plugin', version: kotlin_version\n        classpath 'org.junit.platform:junit-platform-gradle-plugin:1.0.0-M6'\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'java'\napply plugin: 'org.junit.platform.gradle.plugin'\n\nrepositories {\n    mavenCentral()\n    jcenter()\n    maven { url 'https://jitpack.io' }\n}\n\n\ndependencies {\n    compile 'org.jetbrains.kotlin:kotlin-stdlib-jre8'\n    compile 'org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version'\n    compile 'net.lightbody.bmp:browsermob-core:2.1.4'\n    testCompile(\"org.junit.jupiter:junit-jupiter-api:5.0.0-M6\")\n    testCompile(\"org.junit.jupiter:junit-jupiter-params:5.0.0-M6\")\n    testRuntime(\"org.junit.jupiter:junit-jupiter-engine:5.0.0-M6\")\n}\n\njar {\n    destinationDir = file('build/')\n    manifest {\n        attributes 'Main-Class': 'myproject.MainKt'\n    }\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n"}, {"tags": ["android", "file", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 2, "creation_date": 1503401677, "post_id": 45816467, "comment_id": 78590285, "body": "Please not  just copy a screenshot into the issue if possible but provide the sourcecode."}, {"owner": {"reputation": 6617, "user_id": 4951663, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/y4L2S.png?s=128&g=1", "display_name": "Mohit Suthar", "link": "https://stackoverflow.com/users/4951663/mohit-suthar"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1503401741, "post_id": 45816467, "comment_id": 78590324, "body": "I think Screen Shot make my issue clear"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1503402200, "post_id": 45816467, "comment_id": 78590618, "body": "@MohitSuthar - but it doesn&#39;t encourage people to help.  Please use text for code rather than screenshots."}, {"owner": {"reputation": 6617, "user_id": 4951663, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/y4L2S.png?s=128&g=1", "display_name": "Mohit Suthar", "link": "https://stackoverflow.com/users/4951663/mohit-suthar"}, "edited": false, "score": 0, "creation_date": 1503402467, "post_id": 45816467, "comment_id": 78590792, "body": "ok next time i ll remember, and thanks"}], "answers": [{"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 3, "last_activity_date": 1503401977, "creation_date": 1503401977, "answer_id": 45816618, "question_id": 45816467, "link": "https://stackoverflow.com/questions/45816467/kotlin-create-extension-function-fileplus/45816618#45816618", "title": "Kotlin : Create extension function file?plus", "body": "<p>Add <code>toString()</code>:</p>\n\n<pre><code>val sdcard = File(Environment.getExternalStorageDirectory().toString() + \"...\")\n</code></pre>\n\n<p>In Kotlin, we can do operator overloading for + and Kotlin compiler thinks you are trying to use the overloaded plus operator for <code>File?</code> type. And provides an option to create the extension function to <code>File?</code></p>\n"}, {"comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1503402488, "post_id": 45816634, "comment_id": 78590807, "body": "String template also works. <code>&quot;${Environment.getExternalStorageDirectory()}&#47;PicTaker&#47;Image&zwnj;&#8203;s&quot;</code>"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1503402550, "post_id": 45816634, "comment_id": 78590846, "body": "@BakaWaii great third option. I add this one in this post. thx"}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 5, "last_activity_date": 1503402620, "last_edit_date": 1503402620, "creation_date": 1503402014, "answer_id": 45816634, "question_id": 45816467, "link": "https://stackoverflow.com/questions/45816467/kotlin-create-extension-function-fileplus/45816634#45816634", "title": "Kotlin : Create extension function file?plus", "body": "<p>You have three options:</p>\n\n<p>1) Avoid that you concat a <code>File</code> with a <code>String</code> by calling the <code>toString()</code> what results in concating two strings.</p>\n\n<pre><code>val sdCard = File(Environment.getExternalStorageDirectory().toString() + \"/PicTaker/Images\")\n</code></pre>\n\n<p>2) Write that extension-function and return a string</p>\n\n<pre><code>private operator fun File?.plus(s: String): String {\n    return this.toString() + s\n}\n</code></pre>\n\n<p>3) Use string template</p>\n\n<pre><code>val sdCard = File(\"${Environment.getExternalStorageDirectory()}/PicTaker/Image\u200c\u200bs\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 6, "last_activity_date": 1503402644, "creation_date": 1503402644, "answer_id": 45816850, "question_id": 45816467, "link": "https://stackoverflow.com/questions/45816467/kotlin-create-extension-function-fileplus/45816850#45816850", "title": "Kotlin : Create extension function file?plus", "body": "<p>You don't need to invent more code, just change the plus (+) to a comma(,).</p>\n\n<pre><code>val sdcard = File(Environment.getExternalStorageDirectory(), \"/PicTaker/Images\")\n</code></pre>\n"}], "owner": {"reputation": 6617, "user_id": 4951663, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/y4L2S.png?s=128&g=1", "display_name": "Mohit Suthar", "link": "https://stackoverflow.com/users/4951663/mohit-suthar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "accepted_answer_id": 45816634, "answer_count": 3, "score": -2, "last_activity_date": 1562683975, "creation_date": 1503401503, "last_edit_date": 1562683975, "question_id": 45816467, "link": "https://stackoverflow.com/questions/45816467/kotlin-create-extension-function-fileplus", "title": "Kotlin : Create extension function file?plus", "body": "<p>I am developing some lib in <strong>Kotlin</strong>, I am not finding this solution,</p>\n\n<p><a href=\"https://i.stack.imgur.com/P1WYT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P1WYT.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I resolve this issue, <strong>It's saying that create extension function File?.plus</strong>, \nIn java it works fine but in <strong>Kotlin</strong> how to write this code?</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 1, "last_activity_date": 1503401601, "last_edit_date": 1503401601, "creation_date": 1503401289, "answer_id": 45816395, "question_id": 45816042, "link": "https://stackoverflow.com/questions/45816042/out-projected-type-in-generic-interface-prohibits-the-use-of-metod-with-generic/45816395#45816395", "title": "Out-projected type in generic interface prohibits the use of metod with generic parameter", "body": "<p>Replace <code>AAdapter&lt;*&gt;</code> with <code>AAdapter&lt;RecyclerView.ViewHolder&gt;</code>.</p>\n\n<pre><code>class Klasa (\n        private val adapter: AAdapter&lt;RecyclerView.ViewHolder&gt;\n) {\n // ...\n</code></pre>\n\n<p>Because you have declared that <code>AAdapter</code> has a type parameter <code>VH</code> whose type is any subclass of <code>RecyclerView.ViewHolder</code>. And in the class <code>Klasa</code> you have an instance of <code>AAdapter</code> which has type parameter of any type. </p>\n"}], "owner": {"reputation": 2503, "user_id": 1461568, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/06c71fd1a954d783e9be11cc7eecd5d0?s=128&d=identicon&r=PG", "display_name": "LunaVulpo", "link": "https://stackoverflow.com/users/1461568/lunavulpo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 937, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1503401601, "creation_date": 1503400303, "question_id": 45816042, "link": "https://stackoverflow.com/questions/45816042/out-projected-type-in-generic-interface-prohibits-the-use-of-metod-with-generic", "title": "Out-projected type in generic interface prohibits the use of metod with generic parameter", "body": "<p>I start using Kotlin and I defined interface like this:</p>\n\n<pre><code>   interface AAdapter&lt;VH : RecyclerView.ViewHolder&gt; {\n\n        fun onCreateAViewHolder(parent: ViewGroup): VH\n\n        fun onBindAViewHolder(v: VH, position: Int)\n    }\n</code></pre>\n\n<p>and when I try to use it on code:</p>\n\n<pre><code>class Klasa (\n        private val adapter: AAdapter&lt;*&gt;\n) {\n\n   fun doSth(){\n      //... \n      val vh = this.adapter.onCreateAViewHolder(parent)\n      //on below line I get error\n      adapter.onBindAViewHolder(v, position)\n     //...\n  }\n\n}\n</code></pre>\n\n<p>I get error that  <strong>Out-projected type 'AAdapter&lt;*>' prohibits the use of 'public abstract fun onBindAViewHolder(v: T, position: Int): Unit</strong> </p>\n\n<p>I tied to add \"in\" or \"out\" to definition but I'm confused.</p>\n\n<p>How to allow it.</p>\n"}, {"tags": ["android", "listview", "kotlin"], "comments": [{"owner": {"reputation": 4030, "user_id": 8448886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Vfqrw.jpg?s=128&g=1", "display_name": "Abhishek kumar", "link": "https://stackoverflow.com/users/8448886/abhishek-kumar"}, "edited": false, "score": 0, "creation_date": 1503392741, "post_id": 45813284, "comment_id": 78584133, "body": "<a href=\"https://stackoverflow.com/questions/45783452/setonlongclicklistener-in-kotlin-android\" title=\"setonlongclicklistener in kotlin android\">stackoverflow.com/questions/45783452/&hellip;</a>"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1503392862, "post_id": 45813284, "comment_id": 78584224, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45783452/setonlongclicklistener-in-kotlin-android\">setOnLongClickListener in kotlin android</a>"}, {"owner": {"reputation": 3264, "user_id": 1563038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuzZB.jpg?s=128&g=1", "display_name": "Naveen Tamrakar", "link": "https://stackoverflow.com/users/1563038/naveen-tamrakar"}, "edited": false, "score": 0, "creation_date": 1503393005, "post_id": 45813284, "comment_id": 78584319, "body": "ListView Use setOnItemClickListner instand of setOnClickListener"}], "answers": [{"comments": [{"owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503394753, "post_id": 45813441, "comment_id": 78585571, "body": "where can i use this method ?"}, {"owner": {"reputation": 3253, "user_id": 4831648, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/TPzW0.jpg?s=128&g=1", "display_name": "Sunil P", "link": "https://stackoverflow.com/users/4831648/sunil-p"}, "reply_to_user": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503395015, "post_id": 45813441, "comment_id": 78585783, "body": "if you need in adapter, use it in adapter class"}, {"owner": {"reputation": 3253, "user_id": 4831648, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/TPzW0.jpg?s=128&g=1", "display_name": "Sunil P", "link": "https://stackoverflow.com/users/4831648/sunil-p"}, "reply_to_user": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503395145, "post_id": 45813441, "comment_id": 78585906, "body": "check my updated answer and put in your adapter class"}, {"owner": {"reputation": 2885, "user_id": 538877, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qBVKk.jpg?s=128&g=1", "display_name": "M.Sameer", "link": "https://stackoverflow.com/users/538877/m-sameer"}, "edited": false, "score": 0, "creation_date": 1503395249, "post_id": 45813441, "comment_id": 78585990, "body": "How is this Kotlin ?!"}, {"owner": {"reputation": 3253, "user_id": 4831648, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/TPzW0.jpg?s=128&g=1", "display_name": "Sunil P", "link": "https://stackoverflow.com/users/4831648/sunil-p"}, "edited": false, "score": 0, "creation_date": 1503395771, "post_id": 45813441, "comment_id": 78586372, "body": "check using kotlin i have posted"}, {"owner": {"reputation": 3253, "user_id": 4831648, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/TPzW0.jpg?s=128&g=1", "display_name": "Sunil P", "link": "https://stackoverflow.com/users/4831648/sunil-p"}, "edited": false, "score": 0, "creation_date": 1503396165, "post_id": 45813441, "comment_id": 78586656, "body": "ya its kotlin only"}], "tags": [], "owner": {"reputation": 3253, "user_id": 4831648, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/TPzW0.jpg?s=128&g=1", "display_name": "Sunil P", "link": "https://stackoverflow.com/users/4831648/sunil-p"}, "is_accepted": false, "score": 9, "last_activity_date": 1523024441, "last_edit_date": 1523024441, "creation_date": 1503393091, "answer_id": 45813441, "question_id": 45813284, "link": "https://stackoverflow.com/questions/45813284/setonlongclicklistener-in-android-with-kotlin/45813441#45813441", "title": "setOnLongClickListener in android with kotlin", "body": "<p>Try this in your activity class</p>\n\n<pre><code>lv.setOnItemClickListener { parent, view, position, id -&gt;\n    Toast.makeText(this, \"Position Clicked:\"+\" \"+position,Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4231, "user_id": 2268466, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/SvQcm.png?s=128&g=1", "display_name": "blueware", "link": "https://stackoverflow.com/users/2268466/blueware"}, "edited": false, "score": 0, "creation_date": 1547389099, "post_id": 45833417, "comment_id": 95168312, "body": "This answer does not directly answers the question, please modify as per in the question description. Thanks"}], "tags": [], "owner": {"reputation": 1267, "user_id": 6026222, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/uvycL.jpg?s=128&g=1", "display_name": "aleksandrbel", "link": "https://stackoverflow.com/users/6026222/aleksandrbel"}, "is_accepted": false, "score": 0, "last_activity_date": 1503473712, "creation_date": 1503473712, "answer_id": 45833417, "question_id": 45813284, "link": "https://stackoverflow.com/questions/45813284/setonlongclicklistener-in-android-with-kotlin/45833417#45833417", "title": "setOnLongClickListener in android with kotlin", "body": "<p>First of all I would like to tell that it is <code>RecyclerView</code> rather than <code>ListView</code>. You can find plenty information why to do in such. For example you can read it hear : </p>\n\n<p><a href=\"https://stackoverflow.com/questions/26728651/recyclerview-vs-listview\">RecyclerView vs. ListView</a></p>\n\n<p>Regarding your question how to do it in correct way with <code>RecyclerView</code>.</p>\n\n<p>Insert dependencies with RecyclerView, they are now in support library in Kotlin.</p>\n\n<p>implementation \"com.android.support:appcompat-v7:25.4.0\"</p>\n\n<p>First change your ListView with RecyclerView in xml layout like this: </p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/accountList\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    /&gt;\n</code></pre>\n\n<p>Create <code>Adapter</code> for <code>RecyclerView</code>:</p>\n\n<pre><code>class AccountListAdapter(val accountList: AccountList, val itemListener: (Account) -&gt; Unit) :\n    RecyclerView.Adapter&lt;AccountListAdapter.ViewHolder&gt;(){\n\n    override fun getItemCount(): Int = accountList.size\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) =\n        holder.bind(accountList[position])\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder{\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.item_account, parent, false)\n        return ViewHolder(view, itemListener)\n    }\n\n    class ViewHolder(itemView: View, val itemClick: (Account) -&gt; Unit): RecyclerView.ViewHolder(itemView){\n        fun bind(account : Account){\n            with(account){\n                itemView.accountName.text = title\n                itemView.setOnClickListener{ itemClick(this)}\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>item_account.xml</strong> </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/accountName\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Models (in Kotlin you can put them in one file and name for example <strong>AccountModels.kt</strong>) : </p>\n\n<pre><code>data class AccountList(val accounts: List&lt;Account&gt;){\n\n    val size : Int\n        get() = accounts.size\n\n    operator fun get(position: Int) = accounts[position]\n}\n\ndata class Account(val id : Long, val title : String, val balance : Int, val defCurrency: Int)\n</code></pre>\n\n<p>In <strong>Fragment/Activity</strong> connect your <code>Adapter</code> to <code>RecyclerView</code>:</p>\n\n<pre><code>override fun onStart() {\n    super.onStart()\n    setupAdapter()\n}\n\nfun setupAdapter(){\n\n    Log.d(TAG, \"updating ui..\")\n    val account1 = Account(1,\"Credit\", 1000, 2)\n    val account2 = Account(2, \"Debit\", 500, 2)\n    val account3 = Account(3, \"Cash\", 7000, 2)\n\n    val accounts : List&lt;Account&gt; = listOf(account1, account2, account3)\n\n    val adapter = AccountListAdapter(AccountList(accounts)){\n        val title = it.title\n        Log.d(TAG, \"$title clicked\")\n    }\n    accountList.layoutManager = LinearLayoutManager(activity)\n    accountList.adapter = adapter\n}\n</code></pre>\n\n<p>That is all. Everything should work now. Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 508, "user_id": 6465703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2667e3b078fd2a54ba0995f69de9dba8?s=128&d=identicon&r=PG&f=1", "display_name": "dave o grady", "link": "https://stackoverflow.com/users/6465703/dave-o-grady"}, "is_accepted": false, "score": 1, "last_activity_date": 1585514196, "creation_date": 1585514196, "answer_id": 60920406, "question_id": 45813284, "link": "https://stackoverflow.com/questions/45813284/setonlongclicklistener-in-android-with-kotlin/60920406#60920406", "title": "setOnLongClickListener in android with kotlin", "body": "<p>Although a little quirky this works fine for me.</p>\n\n<pre><code>    latestMessagesAdapter.setOnItemLongClickListener { item, view -&gt;\n        val row = item as LatestMessageRow\n        return@setOnItemLongClickListener(true)\n    }\n</code></pre>\n"}], "owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10093, "favorite_count": 2, "answer_count": 3, "score": 7, "last_activity_date": 1585514196, "creation_date": 1503392654, "last_edit_date": 1503395914, "question_id": 45813284, "link": "https://stackoverflow.com/questions/45813284/setonlongclicklistener-in-android-with-kotlin", "title": "setOnLongClickListener in android with kotlin", "body": "<p>How can I use <code>setOnItemClickListner</code> in each item in my <code>ListView</code>?</p>\n\n<p>my xml :</p>\n\n<pre><code>&lt;ListView\n    android:id=\"@+id/tv1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n&lt;/ListView&gt;\n</code></pre>\n\n<p>this my adapter class</p>\n\n<pre><code>inner class mo3d1Adapter : BaseAdapter {\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n        return listOfmo3d.size\n    }\n\n    var listOfMkabala = ArrayList&lt;MeetingDetails&gt;()\n    var context: Context? = null\n\n    constructor(context: Context, listOfMkabaln: ArrayList&lt;MeetingDetails&gt;) : super() {\n        this.listOfMkabala = listOfMkabaln\n        this.context = context\n    }\n\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val mo3d = listOfmo3d[p0]\n\n        var inflatormo3d = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        var myViewmo3d = inflatormo3d.inflate(R.layout.fragment_item, null)\n\n        lvMo3d.onItemClickListener = AdapterView.OnItemClickListener { adapterView, view, i, l -&gt;\n            Toast.makeText(context, \"   TEST STACK   \", Toast.LENGTH_LONG).show()\n\n        }\n\n\n        myViewmo3d.meeting_name.text = mo3d.name1!!\n        myViewmo3d.meeting_date.text = mo3d.date.toString()!!\n        myViewmo3d.attendance_number.text = mo3d.n2.toString()!!\n\n\n\n        return myViewmo3d\n\n\n    }\n\n    override fun getItem(p0: Int): Any {\n        return listOfmo3d[p0]\n\n    }\n\n\n}\n</code></pre>\n\n<ul>\n<li>I want listener for each item in my <code>ListView</code></li>\n</ul>\n\n<p>And when I used this method <code>setOnClickListener</code> in adapter it's not working, where can I use?</p>\n"}, {"tags": ["kotlin", "findbugs"], "answers": [{"tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": false, "score": 1, "last_activity_date": 1503389665, "creation_date": 1503389665, "answer_id": 45812336, "question_id": 45811956, "link": "https://stackoverflow.com/questions/45811956/how-to-avoid-redundant-null-check-findbugs-warning-in-kotlin-field/45812336#45812336", "title": "How to avoid Redundant null check (FindBugs warning) in Kotlin field", "body": "<p>You can't smart cast with nullable mutable properties because in this code:</p>\n\n<pre><code> if (nullableMutableProp != null) {\n   doSomethingWith(nullableMutableProp)\n }\n</code></pre>\n\n<p>Between line 1 and 2 other code can change the value to null.</p>\n\n<p>You can assign to a local <code>val</code> and smart cast away:</p>\n\n<pre><code>get() {\n  val local = field\n  return when {\n    local != null -&gt; Arrays.copyOf(local, local.size)\n    else -&gt; local\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 3, "last_activity_date": 1503394025, "last_edit_date": 1592644375, "creation_date": 1503393589, "answer_id": 45813614, "question_id": 45811956, "link": "https://stackoverflow.com/questions/45811956/how-to-avoid-redundant-null-check-findbugs-warning-in-kotlin-field/45813614#45813614", "title": "How to avoid Redundant null check (FindBugs warning) in Kotlin field", "body": "<p><code>bytes</code> is a <code>var</code> which is mutable and may be changed after the null check (on other thread maybe). You cannot guarantee <code>bytes</code> is non-null, so using <code>!!</code> here is not safe.</p>\n<p><a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">Official explanation</a>:</p>\n<blockquote>\n<p>Note that smart casts do not work when the compiler cannot guarantee that the variable cannot change between the check and the usage. More specifically, smart casts are applicable according to the following rules:</p>\n<ul>\n<li><strong>val</strong> local variables - always;</li>\n<li><strong>val</strong> properties - if the property is private or internal or the check is performed in the same module where the property is declared. Smart casts aren't applicable to open properties or properties that have custom getters;</li>\n<li><strong>var</strong> local variables - if the variable is not modified between the check and the usage and is not captured in a lambda that modifies it;</li>\n<li><strong>var</strong> properties - never (because the variable can be modified at any time by other code).</li>\n</ul>\n</blockquote>\n<p>One of the workaround is to use <code>let</code>:</p>\n<pre><code>get() = field?.let { Arrays.copyOf(it, it.size) } ?: field\n</code></pre>\n<p>Suggested reading: <a href=\"https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o\">In Kotlin, what is the idiomatic way to deal with nullable values, referencing or converting them</a></p>\n"}], "owner": {"reputation": 2449, "user_id": 2440844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/54xqn.png?s=128&g=1", "display_name": "Lukas M.", "link": "https://stackoverflow.com/users/2440844/lukas-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1854, "favorite_count": 1, "accepted_answer_id": 45813614, "answer_count": 2, "score": 2, "last_activity_date": 1503394025, "creation_date": 1503388546, "question_id": 45811956, "link": "https://stackoverflow.com/questions/45811956/how-to-avoid-redundant-null-check-findbugs-warning-in-kotlin-field", "title": "How to avoid Redundant null check (FindBugs warning) in Kotlin field", "body": "<p>I have a filed <code>bytes</code> in class in Kotlin:</p>\n\n<pre><code>var bytes: ByteArray? = null\n    get() = when {\n        field != null -&gt; Arrays.copyOf(field, field!!.size)\n        else -&gt; field\n    }\n    set(value) {\n        field = when {\n            value != null -&gt; Arrays.copyOf(value, value.size)\n            else -&gt; null\n        }\n    }\n</code></pre>\n\n<p>Why in 3rd line there must be an <code>!!</code> operator for <code>field</code>?</p>\n\n<p>Without <code>!!</code> Idea shows:</p>\n\n<blockquote>\n  <p>Smart cast to 'ByteArray' is impossible, because 'field' is a mutable property that could have been changed by this time</p>\n</blockquote>\n\n<p>Condition <code>(field != null)</code> ensures that field is null in if body (right side). Or not? Or it can be reassigned to null meanwhile? How is this possible?</p>\n\n<p>\u00a0 \u00a0</p>\n\n<p>With above code FindBugs warns:</p>\n\n<blockquote>\n  <p>Redundant nullcheck of com.xy.Some.bytes which is known to be null in com.xy.Some.getBytes()</p>\n  \n  <p>This method contains a redundant check of a known null value against the constant null.</p>\n</blockquote>\n\n<p><a href=\"http://findbugs.sourceforge.net/bugDescriptions.html#RCN_REDUNDANT_NULLCHECK_OF_NULL_VALUE\" rel=\"nofollow noreferrer\">http://findbugs.sourceforge.net/bugDescriptions.html#RCN_REDUNDANT_NULLCHECK_OF_NULL_VALUE</a></p>\n"}, {"tags": ["json", "kotlin"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 1, "creation_date": 1503385506, "post_id": 45810977, "comment_id": 78579327, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/41928803/how-to-parse-json-in-kotlin\">How to parse JSON in Kotlin?</a>"}, {"owner": {"reputation": 1325, "user_id": 1285611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5938707880c06c25f0d789961f0aebeb?s=128&d=identicon&r=PG", "display_name": "abierto", "link": "https://stackoverflow.com/users/1285611/abierto"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1503385618, "post_id": 45810977, "comment_id": 78579395, "body": "If you fully read my question, I&#39;m writing that mapping it into a data class IS NOT the best solution."}, {"owner": {"reputation": 3322, "user_id": 966798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b52a10544df0260f8eab84b3bbea4bb?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/966798/matt"}, "edited": false, "score": 0, "creation_date": 1503386598, "post_id": 45810977, "comment_id": 78580028, "body": "Why do you say that? Manually parsing JSON sounds like a much worse idea than using a JSON parser."}, {"owner": {"reputation": 1325, "user_id": 1285611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5938707880c06c25f0d789961f0aebeb?s=128&d=identicon&r=PG", "display_name": "abierto", "link": "https://stackoverflow.com/users/1285611/abierto"}, "edited": false, "score": 0, "creation_date": 1503386843, "post_id": 45810977, "comment_id": 78580206, "body": "How can I map unexpected strings like &quot;12&quot; or &quot;53&quot; to an object? or &quot;1&quot; and &quot;5&quot; for the second level? Those haven&#39;t always the same label as the &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ones on the last level. If you have any concrete solution please tell me, since probably I&#39;m not understanding what are you meaning."}, {"owner": {"reputation": 3322, "user_id": 966798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b52a10544df0260f8eab84b3bbea4bb?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/966798/matt"}, "edited": false, "score": 0, "creation_date": 1503387101, "post_id": 45810977, "comment_id": 78580386, "body": "You don&#39;t parse the JSON string to a custom class, you parse it to a JSON object. Then you can retrieve the different values like <code>String value = jsonObject.get(&quot;key&quot;)</code>. The exact mechanism will depend on the JSON library you use, but the point is, use a JSON library. Someone else has done all the hard work of parsing JSON, you can just use the library and work with your JSON object."}, {"owner": {"reputation": 929, "user_id": 7855177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-avNsBxd4mKE/AAAAAAAAAAI/AAAAAAAAABQ/dSTXwqwzagQ/photo.jpg?sz=128", "display_name": "Piwo", "link": "https://stackoverflow.com/users/7855177/piwo"}, "edited": false, "score": 0, "creation_date": 1503387330, "post_id": 45810977, "comment_id": 78580541, "body": "If your data structure is that unpredictable, maybe JSON is not the correct format you should use for this use case?"}, {"owner": {"reputation": 1325, "user_id": 1285611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5938707880c06c25f0d789961f0aebeb?s=128&d=identicon&r=PG", "display_name": "abierto", "link": "https://stackoverflow.com/users/1285611/abierto"}, "edited": false, "score": 0, "creation_date": 1503388927, "post_id": 45810977, "comment_id": 78581583, "body": "I&#39;ve tried with a JSON library, will post a solution. Thanks Matt."}], "answers": [{"tags": [], "owner": {"reputation": 1325, "user_id": 1285611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5938707880c06c25f0d789961f0aebeb?s=128&d=identicon&r=PG", "display_name": "abierto", "link": "https://stackoverflow.com/users/1285611/abierto"}, "is_accepted": true, "score": 0, "last_activity_date": 1503389251, "creation_date": 1503389251, "answer_id": 45812199, "question_id": 45810977, "link": "https://stackoverflow.com/questions/45810977/best-way-to-iterate-a-json-in-kotlin/45812199#45812199", "title": "Best way to iterate a JSON in Kotlin", "body": "<p>I've found a solution mapping that JSON to a generic structure of Maps, as follows:</p>\n\n<pre><code>import com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\nimport com.fasterxml.jackson.module.kotlin.readValue\n\n...\n\nval JSON = jacksonObjectMapper()\nval test: Map&lt;String, Map&lt;String, Map&lt;String,String&gt;&gt;&gt; = JSON.readValue(jsonString)\n</code></pre>\n"}], "owner": {"reputation": 1325, "user_id": 1285611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5938707880c06c25f0d789961f0aebeb?s=128&d=identicon&r=PG", "display_name": "abierto", "link": "https://stackoverflow.com/users/1285611/abierto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1708, "favorite_count": 0, "accepted_answer_id": 45812199, "answer_count": 1, "score": 1, "last_activity_date": 1503389251, "creation_date": 1503385434, "last_edit_date": 1503386462, "question_id": 45810977, "link": "https://stackoverflow.com/questions/45810977/best-way-to-iterate-a-json-in-kotlin", "title": "Best way to iterate a JSON in Kotlin", "body": "<p>One of my Kotlin methods receives a json string similar to the following one:</p>\n\n<pre><code>{\n    \"12\": {\n        \"1\": {\n            \"a\": \"0\",\n            \"b\": \"100\",\n            \"c\": \"8\",\n            \"d\": \"\"\n        },\n        \"5\": {\n            \"a\": \"0\",\n            \"b\": \"100\",\n            \"c\": \"8\",\n            \"d\": \"\"\n        }\n    }\n    \"53\": {\n        \"1\": {\n            \"a\": \"0\",\n            \"b\": \"100\",\n            \"c\": \"8\",\n            \"d\": \"\"\n        },\n        \"5\": {\n            \"a\": \"0\",\n            \"b\": \"100\",\n            \"c\": \"8\",\n            \"d\": \"\"\n        }\n    }\n}\n</code></pre>\n\n<p>What's the best way to iterate this json? I don't think mapping it into a data object would be the best solution, since it looks like an associative array.</p>\n\n<p>Any hints on that? How can I iterate it like an array?</p>\n"}, {"tags": ["android", "orm", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1503384004, "post_id": 45810479, "comment_id": 78578435, "body": "You should provide some code so we can actually help"}, {"owner": {"reputation": 741, "user_id": 1778879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/88f6098ba030f1c6f6f2e98dbc1f853d?s=128&d=identicon&r=PG", "display_name": "wingear", "link": "https://stackoverflow.com/users/1778879/wingear"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1503397329, "post_id": 45810479, "comment_id": 78587462, "body": "Ok, here is <code>performQuery</code> code: <a href=\"https://pastebin.com/rFUVFBir\" rel=\"nofollow noreferrer\">pastebin.com/rFUVFBir</a>"}, {"owner": {"reputation": 741, "user_id": 1778879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/88f6098ba030f1c6f6f2e98dbc1f853d?s=128&d=identicon&r=PG", "display_name": "wingear", "link": "https://stackoverflow.com/users/1778879/wingear"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1503397886, "post_id": 45810479, "comment_id": 78587814, "body": "If we are trying to find current feat&#39;s children, we first need to determine is such object exists in database. If it&#39;s true, we can collect all object, which prerequisites field contains our feat&#39;s name, and return empty list otherwise. If we are trying to get parent feats, we must first get prerequisite list, separated by comma (I&#39;m not creator of this database, so can&#39;t change it to one-to-many relation with ids) and, if it is not empty, query elements for each name"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1503400374, "post_id": 45810479, "comment_id": 78589415, "body": "Can you intercept and return a MatrixCursor"}, {"owner": {"reputation": 741, "user_id": 1778879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/88f6098ba030f1c6f6f2e98dbc1f853d?s=128&d=identicon&r=PG", "display_name": "wingear", "link": "https://stackoverflow.com/users/1778879/wingear"}, "edited": false, "score": 0, "creation_date": 1503401071, "post_id": 45810479, "comment_id": 78589883, "body": "No, I have to return Result&lt;Feat&gt; object, which is not subtype of MatrixCursor. <a href=\"https://github.com/requery/requery/blob/master/requery/src/main/java/io/requery/query/Result.java\" rel=\"nofollow noreferrer\">github.com/requery/requery/blob/master/requery/src/main/java&zwnj;&#8203;/io/&hellip;</a>"}], "owner": {"reputation": 741, "user_id": 1778879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/88f6098ba030f1c6f6f2e98dbc1f853d?s=128&d=identicon&r=PG", "display_name": "wingear", "link": "https://stackoverflow.com/users/1778879/wingear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1503388555, "creation_date": 1503383814, "last_edit_date": 1503388555, "question_id": 45810479, "link": "https://stackoverflow.com/questions/45810479/return-empty-result-in-requery-queryrecycleradapter", "title": "Return empty result in requery QueryRecyclerAdapter", "body": "<p>I'm using <code>QueryRecyclerAdapter</code> to display database request result in <code>RecyclerView</code>. I have to implement <code>performQuery()</code> method with <code>Result&lt;MyDTO&gt;</code> return type. \nWhen, with previous condition, I know, that there are <code>null</code> response, but I am not want to produce exception, I must return empty <code>Result</code>. But I can't explicitly create it via constructor - it's not <code>public</code>. So, for now I return select query with incorrect id, which is not seems to be good solution. \nIs there are another way to <strong>return empty result</strong> in Requery?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3100, "user_id": 1562659, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/4ek7n.jpg?s=128&g=1", "display_name": "VikasGoyal", "link": "https://stackoverflow.com/users/1562659/vikasgoyal"}, "edited": false, "score": 0, "creation_date": 1503376285, "post_id": 45808701, "comment_id": 78575463, "body": "If you want to do this in 1 line only solution I know in Java is assignment inside if condition but in Kotlin assignment inside if, else and while doesn&#39;t supports."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1503379265, "post_id": 45808701, "comment_id": 78576329, "body": "Just stick to the solution of @pixel-elephant Not everything must be solved in a fancy new way just to not use good old if"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1503411647, "post_id": 45808701, "comment_id": 78598060, "body": "I am sorry I down voted the question, but the motivation to find &quot;a magic operator&quot; to deal with dirty code is just so wrong.This particular case is solvable by extracting <code>randomInt % 2 == 0</code> into a variable, which is the same as you would do in Java, C and any other &quot;old and boring&quot; language. Kotlin is no magic, and kotlin code is only as good as we write it."}, {"owner": {"reputation": 7190, "user_id": 967131, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/db71ea1ccdc64b0704968a271bdcf39b?s=128&d=identicon&r=PG", "display_name": "Chad Schultz", "link": "https://stackoverflow.com/users/967131/chad-schultz"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1503413871, "post_id": 45808701, "comment_id": 78599768, "body": "@voddan Thank you for explaining the downvote. I do not feel the downvote is justified, as asking &quot;what&#39;s the best way to accomplish this programming task&quot; is a perfectly legitimate question. I also disagree with the sentiments about &quot;magic operators&quot; and &quot;dirty code&quot;. The whole reason Kotlin is so popular and a joy to work with is that it created new &quot;magic operators&quot; to reduce boilerplate and redundancy and make code more concise."}], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 2, "creation_date": 1503411909, "post_id": 45808818, "comment_id": 78598248, "body": "Call me an idiot, but I really don&#39;t get the other answers. Why would you overcomplicate returning <code>true</code> and <code>false</code> from an <code>if</code>?? This problem should not have existed in the first place, as demonstrated by this answer (which would work equally well in C and Java)"}], "tags": [], "owner": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "is_accepted": false, "score": 7, "last_activity_date": 1503375368, "creation_date": 1503375368, "answer_id": 45808818, "question_id": 45808701, "link": "https://stackoverflow.com/questions/45808701/return-value-of-if-else-condition-but-also-run-code/45808818#45808818", "title": "Return value of if/else condition, but also run code", "body": "<p>You can refactor your code a bit so that the return and code happen in different places:</p>\n\n<pre><code>fun doSomething(): Boolean {\n    val isEven = randomInt % 2 == 0\n\n    if (isEven) foo = Foo() else bar = null \n\n    return isEven\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3100, "user_id": 1562659, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/4ek7n.jpg?s=128&g=1", "display_name": "VikasGoyal", "link": "https://stackoverflow.com/users/1562659/vikasgoyal"}, "edited": false, "score": 0, "creation_date": 1503376207, "post_id": 45808832, "comment_id": 78575429, "body": "It&#39;s a good explanation but didn&#39;t solve the purpose. But deserve to upvote learn something new."}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1503376367, "post_id": 45808832, "comment_id": 78575483, "body": "Horribly overcompliated.  The simple answer is store the result in a variable.  All this solution does is make your code less readable and maintainable."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1503376778, "post_id": 45808832, "comment_id": 78575591, "body": "@Gabe Sechan The <code>boolean</code> acts as the receiver and the return value of the function and we use <code>this</code> to refer to the <code>boolean</code> within the lambda. Not so complicated at all. You may feel complicated because it is one-lined. Spliting it to multiple line of code may be more readable."}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1503376836, "post_id": 45808832, "comment_id": 78575607, "body": "@BakaWaii No, I feel its too complicated because it replaces a simple boolean assignment with multiple levels of object creation and function calls.  Anyone who writes code like this is incompetent.  It takes longer to write, longer to understand, is not easy to understand by another maintainer, and provides no additional clarity or utility.  It&#39;s just bad."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1503377374, "post_id": 45808832, "comment_id": 78575756, "body": "@Gabe Sechan I see what you are concerning about. Nice point :)"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1503377792, "post_id": 45808832, "comment_id": 78575870, "body": "I would prefer <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/also.html\" rel=\"nofollow noreferrer\"><code>&lt;T&gt; T.also(block: (T) -&gt; Unit): T</code></a> over <code>apply</code> but even more I do not think is the right way to write it."}], "tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 1, "last_activity_date": 1503378449, "last_edit_date": 1503378449, "creation_date": 1503375508, "answer_id": 45808832, "question_id": 45808701, "link": "https://stackoverflow.com/questions/45808701/return-value-of-if-else-condition-but-also-run-code/45808832#45808832", "title": "Return value of if/else condition, but also run code", "body": "<p>You may explore some useful extension functions from Kotlin's <a href=\"https://github.com/JetBrains/kotlin/blob/1.1.3/libraries/stdlib/src/kotlin/util/Standard.kt\" rel=\"nofollow noreferrer\">standard library</a>. For example, you may use <code>apply</code>:</p>\n\n<pre><code>/**\n * Calls the specified function [block] with `this` value as its receiver and returns `this` value.\n */\npublic inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T { block(); return this }\n</code></pre>\n\n<p>Here, <code>randomInt % 2 == 0</code> will be the return value of <code>apply</code>.</p>\n\n<pre><code>fun doSomething(): Boolean = (randomInt % 2 == 0).apply { if (this) foo = Foo() else bar = null }\n</code></pre>\n\n<p><strong>Updates:</strong> If you prefer a more readable code, it is not a good solution. Have fun :)</p>\n"}, {"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 0, "last_activity_date": 1503380732, "creation_date": 1503380732, "answer_id": 45809713, "question_id": 45808701, "link": "https://stackoverflow.com/questions/45808701/return-value-of-if-else-condition-but-also-run-code/45809713#45809713", "title": "Return value of if/else condition, but also run code", "body": "<p>@pixel-elephant's solution looks concise and good.</p>\n\n<p>However, from the clean code perspective, your <code>doSomething()</code> function is doing two things. </p>\n\n<p>If possible you can separate it out to two functions and move the if check to the topmost function:</p>\n\n<pre><code>if ( randomInt.isEven() ) {\n    doSomethingEven()\n    // ...\n} else {\n    doSomethingOdd()\n    // ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1503424396, "last_edit_date": 1503424396, "creation_date": 1503382011, "answer_id": 45809996, "question_id": 45808701, "link": "https://stackoverflow.com/questions/45808701/return-value-of-if-else-condition-but-also-run-code/45809996#45809996", "title": "Return value of if/else condition, but also run code", "body": "<p>It's actually quite simple, you just have to get used to Kotlin's fantastic <em>stdlib</em> functions like <code>apply</code>, <code>with</code> and <code>let</code>. In this case, <code>apply</code> is what you need:</p>\n\n<pre><code>fun idiomatic(myInt: Int) = (myInt % 2 == 0).apply {\n  if (this) println(\"is equal\") else println(\"in not equal\")\n}\n</code></pre>\n\n<p>What happens: apply is invoked on <code>Any</code> object, a <code>Boolean</code> (the condition) in this case, which directly becomes the functions <strong>receiver</strong>, referred to as <code>this</code>. The important thing is, that <code>apply</code> will, after the supplied code block has been executed, return its receiver,  which is your <code>Boolean</code> here.</p>\n\n<p>I hope this is what you need!</p>\n"}, {"comments": [{"owner": {"reputation": 7190, "user_id": 967131, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/db71ea1ccdc64b0704968a271bdcf39b?s=128&d=identicon&r=PG", "display_name": "Chad Schultz", "link": "https://stackoverflow.com/users/967131/chad-schultz"}, "edited": false, "score": 0, "creation_date": 1503616515, "post_id": 45818604, "comment_id": 78703287, "body": "It may seem like  a jerk move, but after consideration, I&#39;ve gone with this approach. It&#39;s more concise, less redundant, more useful, more &quot;Kotliny&quot; I feel. It passes code review (although not without some dissent) and I&#39;ve already found several cases where it shines. Much like Kotlin in general, I love how it simplifies my code."}], "tags": [], "owner": {"reputation": 7190, "user_id": 967131, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/db71ea1ccdc64b0704968a271bdcf39b?s=128&d=identicon&r=PG", "display_name": "Chad Schultz", "link": "https://stackoverflow.com/users/967131/chad-schultz"}, "is_accepted": true, "score": 3, "last_activity_date": 1503407419, "creation_date": 1503407419, "answer_id": 45818604, "question_id": 45808701, "link": "https://stackoverflow.com/questions/45808701/return-value-of-if-else-condition-but-also-run-code/45818604#45818604", "title": "Return value of if/else condition, but also run code", "body": "<p>I upvoted some of the answers. I should have considered splitting out the condition to a variable or having the true/false test after the condition.</p>\n\n<p>But after sleeping on it, I have another solution.</p>\n\n<p>New utility functions:</p>\n\n<pre><code>fun Boolean.onTrue(block: () -&gt; Unit): Boolean {\n    if (this) block()\n    return this\n}\n\nfun Boolean.onFalse(block: () -&gt; Unit): Boolean {\n    if (!this) block()\n    return this\n}\n</code></pre>\n\n<p>And then my original code sample can be condensed to:</p>\n\n<pre><code>fun doSomething() = (randomInt % 2).onTrue { foo() }.onFalse { bar = null }\n</code></pre>\n\n<p>This is the most concise option, although it has its own disadvantages. Nothing prevents the user from, say, calling <code>onTrue()</code> twice or calling <code>onFalse()</code> before <code>onTrue()</code>. It looks quite different from a standard if/else, and if you use both paths, both <code>onTrue()</code> and <code>onFalse()</code> have to check the condition. And then, of course, there's remembering to use the new utility function instead of standard Kotlin operators. Still, it has an appealing brevity. I'll be interested to see what other people think.</p>\n"}], "owner": {"reputation": 7190, "user_id": 967131, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/db71ea1ccdc64b0704968a271bdcf39b?s=128&d=identicon&r=PG", "display_name": "Chad Schultz", "link": "https://stackoverflow.com/users/967131/chad-schultz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2378, "favorite_count": 1, "accepted_answer_id": 45818604, "answer_count": 5, "score": 0, "last_activity_date": 1503424396, "creation_date": 1503374485, "last_edit_date": 1503411449, "question_id": 45808701, "link": "https://stackoverflow.com/questions/45808701/return-value-of-if-else-condition-but-also-run-code", "title": "Return value of if/else condition, but also run code", "body": "<p>I'm a newbie to Kotlin, but I freaking love it. There's a wonderful feeling when you can turn three lines of code into one. Now I often find myself looking at my code and thinking \"there's some redundancy here. There should be a more concise way to do it.\" And when I do some searching, often Kotlin does provide a more succinct way.</p>\n\n<p>Here's a problem where I FEEL there should be a simple, concise Kotlin solution, but am not aware of it. Hopefully you can enlighten me!</p>\n\n<p>Take code like this contrived example:</p>\n\n<pre><code>fun doSomething(): Boolean {\n    if (randomInt % 2 == 0) {\n        foo = Foo()\n        true\n    } else {\n        bar = null\n        false\n    }\n}\n</code></pre>\n\n<p>Based on an <code>if</code> condition, I want to run some code and then return the value of the condition. It just bothers me that I have to explicitly say \"if the condition is true, return <code>true</code>. If it is false, return <code>false</code>.\" It seems redundant. Of course, I could say <code>return randomInt % 2</code>, but I want to run code based on if it is true.</p>\n\n<p>Is there a magic operator Kotlin has that I don't know about? Should I make a function to handle this situation for me, although the syntax of calling that would be different than an if statement? Is there some kind of mapping function, or some way to overload if? It seems like there should be a concise, clever answer, but it's not coming to me.</p>\n"}, {"tags": ["kotlin", "reactive-programming", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1503345204, "post_id": 45803754, "comment_id": 78567093, "body": "If you have more groups than the parallelism level of flatMap, the stream may stop. If your <code>Flowable</code>-based stream is completely empty, that might be from something else: not calling request in a Subscriber implementation for example. If still no events, that&#39;s where the <code>doOnNext(System.out::println)</code> come into place, several places in fact to see where data is lost."}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1503383356, "post_id": 45803754, "comment_id": 78578085, "body": "When it comes to RxJava I would always apply @akarnokd hints ;)"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8488503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceeda98e1a67a50e4f4af5d8bf94c80b?s=128&d=identicon&r=PG&f=1", "display_name": "ryanad", "link": "https://stackoverflow.com/users/8488503/ryanad"}, "is_accepted": false, "score": 0, "last_activity_date": 1503376869, "creation_date": 1503376869, "answer_id": 45809025, "question_id": 45803754, "link": "https://stackoverflow.com/questions/45803754/rxjava-different-output-between-flowable-and-observable-with-window-and-groupby/45809025#45809025", "title": "RxJava different output between Flowable and Observable with Window and Groupby", "body": "<p>As akarnokd mentioned, this was due to flatMap having a default maxConcurrency of 128. I found this issue, <a href=\"https://github.com/ReactiveX/RxJava/issues/5126\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/RxJava/issues/5126</a>, which describes the reason in more detail. This fixes the problem:</p>\n\n<pre><code>        val cnt = AtomicLong()\n        val templateStr = \"|date| /ignored/ query=|query|\"\n        val random = ThreadLocalRandom.current()\n        var curDate = ZonedDateTime.of(LocalDate.of(2016, Month.JANUARY, 1), LocalTime.MIDNIGHT, ZoneId.of(\"UTC\"))\n\n        val generator = Flowable.generate&lt;String&gt; { emitter -&gt;\n            val next = cnt.incrementAndGet()\n            if (next % 3000 == 0L) {\n                curDate = curDate.plusDays(1)\n            }\n            if (next &lt; 1000000) {\n                val curStr = templateStr\n                        .replace(\"|date|\", dateTimeFormatter.format(curDate))\n                        .replace(\"|query|\", random.nextInt(1, 1000).toString())\n                emitter.onNext(curStr)\n            } else {\n                emitter.onComplete()\n            }\n\n        }\n        val source = generator\n                .map { line -&gt;\n                    val cols = line.split(whitespaceRegex)\n                    val queryRaw = queryRegex.find(cols[2])?.groupValues?.get(1) ?: \"\"\n                    val query = URLDecoder.decode(queryRaw, Charsets.UTF_8.name()).toLowerCase().replace(whitespaceRegex, \" \").trim()\n                    val date = dateTimeFormatter.parse(cols[0])\n                    Pair(LocalDate.from(date), query)\n                }\n                .share()\n\n        source\n                .window(source.map { it.first }.distinctUntilChanged().doOnEach({println(\"Win: $it\")}))\n                .flatMap( { window -&gt;\n                    window\n                            .groupBy { pair -&gt; pair }\n                            .flatMap({ grouping -&gt;\n                                grouping\n                                        .count()\n                                        .map {\n                                            Pair(grouping.key, it)\n                                        }.toFlowable()\n                            // fix is here\n                            }, Int.MAX_VALUE)\n                // and here\n                }, Int.MAX_VALUE)\n                .subscribe({ println(\"Result: $it}\") }, { it.printStackTrace() }, { println(\"Done\") })\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8488503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceeda98e1a67a50e4f4af5d8bf94c80b?s=128&d=identicon&r=PG&f=1", "display_name": "ryanad", "link": "https://stackoverflow.com/users/8488503/ryanad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1503379468, "creation_date": 1503341036, "last_edit_date": 1503379468, "question_id": 45803754, "link": "https://stackoverflow.com/questions/45803754/rxjava-different-output-between-flowable-and-observable-with-window-and-groupby", "title": "RxJava different output between Flowable and Observable with Window and Groupby", "body": "<p>I'm using RxJava2 with code that boils down to something like this:</p>\n\n<pre><code>val whitespaceRegex = Regex(\"\\\\s+\")\nval queryRegex = Regex(\"query=([^&amp;]+)\", RegexOption.IGNORE_CASE)\nval dateTimeFormatter = DateTimeFormatter.ISO_OFFSET_DATE_TIME\n\n@JvmStatic\nfun main(args: Array&lt;String&gt;) {\n    val cnt = AtomicLong()\n    val templateStr = \"|date| /ignored/ query=|query|\"\n    val random = ThreadLocalRandom.current()\n    var curDate = ZonedDateTime.of(LocalDate.of(2016, Month.JANUARY, 1), LocalTime.MIDNIGHT, ZoneId.of(\"UTC\"))\n\n    val generator = Flowable.generate&lt;String&gt; { emitter -&gt;\n        // normally these are read from a file, this is for the example \n        val next = cnt.incrementAndGet()\n        if (next % 3000 == 0L) {\n            curDate = curDate.plusDays(1)\n        }\n        if (next &lt; 100000) {\n            val curStr = templateStr\n                    .replace(\"|date|\", dateTimeFormatter.format(curDate))\n                    .replace(\"|query|\", random.nextInt(1, 1000).toString())\n            emitter.onNext(curStr)\n        } else {\n            emitter.onComplete()\n        }\n\n    }\n    val source = generator\n            .map { line -&gt;\n                val cols = line.split(whitespaceRegex)\n                val queryRaw = queryRegex.find(cols[2])?.groupValues?.get(1) ?: \"\"\n                val query = URLDecoder.decode(queryRaw, Charsets.UTF_8.name()).toLowerCase().replace(whitespaceRegex, \" \").trim()\n                val date = dateTimeFormatter.parse(cols[0])\n                Pair(LocalDate.from(date), query)\n            }\n            .share()\n\n    source\n            .window(source.map { it.first }.distinctUntilChanged())\n            .flatMap { window -&gt;\n                window\n                        .groupBy { pair -&gt; pair }\n                        .flatMap({ grouping -&gt;\n                            grouping\n                                    .count()\n                                    .map {\n                                        Pair(grouping.key, it)\n                                    }.toFlowable()\n                        })\n            }\n            .subscribe({ println(\"Result: $it}\") }, { it.printStackTrace() }, { println(\"Done\") })\n}\n</code></pre>\n\n<p>When I use <code>Observable.generate</code> it works fine, but with <code>Flowable.generate</code> there is no output. This is counting how many queries occurred on a given day. The day increase sequentially so I form a window of each day, then count the queries with a groupBy. Do I need to do this differently with Flowable?</p>\n"}, {"tags": ["android", "android-gradle-plugin", "kotlin", "updates"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1503350525, "post_id": 45803516, "comment_id": 78569271, "body": "Kotlin 1.1.4 has already been released; there is absolutely no need to use a EAP version at this time."}], "answers": [{"comments": [{"owner": {"reputation": 6818, "user_id": 1282166, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Hd0XQ.jpg?s=128&g=1", "display_name": "Shudy", "link": "https://stackoverflow.com/users/1282166/shudy"}, "edited": false, "score": 0, "creation_date": 1503341919, "post_id": 45803609, "comment_id": 78565626, "body": "Thanks, but is not working. I put as your example but still don&#39;t load the repo."}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "reply_to_user": {"reputation": 6818, "user_id": 1282166, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Hd0XQ.jpg?s=128&g=1", "display_name": "Shudy", "link": "https://stackoverflow.com/users/1282166/shudy"}, "edited": false, "score": 0, "creation_date": 1503343421, "post_id": 45803609, "comment_id": 78566304, "body": "@Shudy I&#39;ve updated the answer with the right url (it was wrong) . I&#39;ve just checked and it exists: <a href=\"https://dl.bintray.com/kotlin/kotlin-eap-1.1/org/jetbrains/kotlin/kotlin-gradle-plugin/1.1.4-eap-77/\" rel=\"nofollow noreferrer\">dl.bintray.com/kotlin/kotlin-eap-1.1/org/jetbrains/kotlin/&hellip;</a>"}], "tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": true, "score": 2, "last_activity_date": 1503343741, "last_edit_date": 1503343741, "creation_date": 1503340450, "answer_id": 45803609, "question_id": 45803516, "link": "https://stackoverflow.com/questions/45803516/kotlin-version-1-1-4-eap-77-is-not-working/45803609#45803609", "title": "Kotlin version 1.1.4-eap-77 is not working", "body": "<p>To <strong>use a EAP version</strong> of the kotlin plugin you have to add the repo in the <code>buildscript</code> block</p>\n\n<pre><code>maven {\n            url 'https://dl.bintray.com/kotlin/kotlin-eap-1.1'\n      }\n</code></pre>\n\n<p>Something like:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.4-eap-77'\n    repositories {\n        google()\n        jcenter()\n        maven {\n              url 'https://dl.bintray.com/kotlin/kotlin-eap-1.1'\n        }\n    }\n    //...\n}\n</code></pre>\n\n<p>Also you should add the same maven repo to <code>repository</code> block to download the kotlin dependencies.</p>\n\n<p>Something like:</p>\n\n<pre><code>repositories {\n    google()\n    jcenter()\n    maven {\n        url 'https://dl.bintray.com/kotlin/kotlin-eap-1.1'\n    }\n}\n</code></pre>\n\n<p>You can find more <a href=\"https://discuss.kotlinlang.org/t/kotlin-1-1-4-eap/3721\" rel=\"nofollow noreferrer\">info here.</a></p>\n"}], "owner": {"reputation": 6818, "user_id": 1282166, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Hd0XQ.jpg?s=128&g=1", "display_name": "Shudy", "link": "https://stackoverflow.com/users/1282166/shudy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 45803609, "answer_count": 1, "score": 1, "last_activity_date": 1503343741, "creation_date": 1503340048, "last_edit_date": 1503340947, "question_id": 45803516, "link": "https://stackoverflow.com/questions/45803516/kotlin-version-1-1-4-eap-77-is-not-working", "title": "Kotlin version 1.1.4-eap-77 is not working", "body": "<p>I started a new app in Kotlin, but when Android Studio finished to build the new project, etc.. is says that cand download the correct version of Kotlin:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8nJyz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8nJyz.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the build gradle:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.4-eap-77'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-beta2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>and the app gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.1\"\n    defaultConfig {\n        applicationId \"com.xxxxxx.xxxxxx\"\n        minSdkVersion 20\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:26.0.1'\n    implementation 'com.android.support:design:26.0.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.0'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.0'\n}\n</code></pre>\n\n<p>How can I fix it to allow download the correct version?</p>\n"}, {"tags": ["android", "kotlin", "proguard"], "answers": [{"comments": [{"owner": {"reputation": 1323, "user_id": 5264543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/bPZFX.png?s=128&g=1", "display_name": "Mahdi Nouri", "link": "https://stackoverflow.com/users/5264543/mahdi-nouri"}, "edited": false, "score": 0, "creation_date": 1503339660, "post_id": 45803392, "comment_id": 78564592, "body": "thank you for your answer, can you please tell me what should i use for my obfuscation dictionary ?"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 1323, "user_id": 5264543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/bPZFX.png?s=128&g=1", "display_name": "Mahdi Nouri", "link": "https://stackoverflow.com/users/5264543/mahdi-nouri"}, "edited": false, "score": 0, "creation_date": 1503339835, "post_id": 45803392, "comment_id": 78564677, "body": "Just use the defaults provided by android: <a href=\"https://developer.android.com/studio/build/shrink-code.html#shrink-code\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/shrink-code.html#shrink-c&zwnj;&#8203;ode</a> - If you don&#39;t fully understand what proguard does you should not attempt to edit those defaults."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 4, "last_activity_date": 1503339546, "creation_date": 1503339546, "answer_id": 45803392, "question_id": 45803354, "link": "https://stackoverflow.com/questions/45803354/proguard-obfuscation-keywords-for-kotlin/45803392#45803392", "title": "Proguard obfuscation keywords for kotlin", "body": "<p>You are misunderstanding what proguard obfuscates. Proguard operates on Java Bytecode. Giving it a list of keywords from a JVM language really doesn't do anything for your obfuscation.</p>\n"}], "owner": {"reputation": 1323, "user_id": 5264543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/bPZFX.png?s=128&g=1", "display_name": "Mahdi Nouri", "link": "https://stackoverflow.com/users/5264543/mahdi-nouri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "accepted_answer_id": 45803392, "answer_count": 1, "score": 0, "last_activity_date": 1503339546, "creation_date": 1503339376, "question_id": 45803354, "link": "https://stackoverflow.com/questions/45803354/proguard-obfuscation-keywords-for-kotlin", "title": "Proguard obfuscation keywords for kotlin", "body": "<p>I was using this <strong>keywords</strong> for <strong>obfuscation</strong> with <strong>proguard</strong> in my <strong>android-java</strong> project :</p>\n\n<pre><code>do\nif\nfor\nint\nnew\ntry\nbyte\ncase\nchar\nelse\ngoto\nlong\nthis\nvoid\nbreak\ncatch\nclass\nconst\nfinal\nfloat\nshort\nsuper\nthrow\nwhile\ndouble\nimport\nnative\npublic\nreturn\nstatic\nswitch\nthrows\nboolean\ndefault\nextends\nfinally\npackage\nprivate\nabstract\ncontinue\nstrictfp\nvolatile\ninterface\nprotected\ntransient\nimplements\ninstanceof\nsynchronized\n</code></pre>\n\n<p>but I'm switching to <strong>Kotlin</strong> and now the question is what keywords should i use for Kotlin ?</p>\n\n<p>I've found <a href=\"http://kotlinlang.org/docs/reference/keyword-reference.html\" rel=\"nofollow noreferrer\">this</a> but should i use all of them ?</p>\n"}, {"tags": ["intellij-idea", "kotlin", "scenebuilder"], "comments": [{"owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "edited": false, "score": 0, "creation_date": 1503358339, "post_id": 45803340, "comment_id": 78571485, "body": "Can you provide some code to show your problem?"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6553086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57eda477b1f7f81f6b47a2b524109687?s=128&d=identicon&r=PG&f=1", "display_name": "tachyon", "link": "https://stackoverflow.com/users/6553086/tachyon"}, "edited": false, "score": 0, "creation_date": 1503501371, "post_id": 45809243, "comment_id": 78645028, "body": "thanks for response and providing the tornadofx links! I read the manual last night and seen how to interconnect standalone Scenebuilder to Intellij. Tornadofx framework looks very promising and will get started learning on its use."}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 0, "last_activity_date": 1503378236, "creation_date": 1503378236, "answer_id": 45809243, "question_id": 45803340, "link": "https://stackoverflow.com/questions/45803340/standalone-scenebuilder-to-get-intellij-project/45809243#45809243", "title": "standalone scenebuilder to get intellij project", "body": "<p>I guess you talk about JavaFX. There is a JavaFX Framework for Kotlin called tornadoFx. You can check that out here <a href=\"https://github.com/edvin/tornadofx\" rel=\"nofollow noreferrer\">https://github.com/edvin/tornadofx</a></p>\n\n<p>If you use the SceneBuilder (and therefore FXML), have also a look at that documentation: <a href=\"https://edvin.gitbooks.io/tornadofx-guide/content/10.%20FXML.html\" rel=\"nofollow noreferrer\">https://edvin.gitbooks.io/tornadofx-guide/content/10.%20FXML.html</a></p>\n"}], "owner": {"reputation": 25, "user_id": 6553086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57eda477b1f7f81f6b47a2b524109687?s=128&d=identicon&r=PG&f=1", "display_name": "tachyon", "link": "https://stackoverflow.com/users/6553086/tachyon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 45809243, "answer_count": 1, "score": 0, "last_activity_date": 1503378236, "creation_date": 1503339313, "question_id": 45803340, "link": "https://stackoverflow.com/questions/45803340/standalone-scenebuilder-to-get-intellij-project", "title": "standalone scenebuilder to get intellij project", "body": "<p>Okay, I may get responses to read the manual - I did review and did google searches and I am just not seeing it.\nI have created a UI using a standalone Scenebuilder. I have a working Kotlin code in intellij. Basically all I want to do is getting what I created from the standalone Scenebuilder to intellij in my Kotlin project so that I can connect them. Get my Kotlin code that works at on the command prompt to give it some life in a GUI. I am still in the learning stages of programming in Kotlin and using Scenebuilder (standalone).</p>\n\n<p>If anyone can point me on where I would find how to provide this connectivity, I would really appreciate it -- thank you!</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1503339950, "creation_date": 1503339950, "answer_id": 45803488, "question_id": 45803161, "link": "https://stackoverflow.com/questions/45803161/store-data-in-bean-spring-boot-rest/45803488#45803488", "title": "Store data in BEAN (Spring Boot REST)", "body": "<p>Well, for me the answer is pretty obvious: use <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html\" rel=\"nofollow noreferrer\">Spring Cache</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2377796"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 45803488, "answer_count": 1, "score": 0, "last_activity_date": 1503340056, "creation_date": 1503338541, "last_edit_date": 1503340056, "question_id": 45803161, "link": "https://stackoverflow.com/questions/45803161/store-data-in-bean-spring-boot-rest", "title": "Store data in BEAN (Spring Boot REST)", "body": "<p>I am creating a REST API with Spring Boot. Most of the data come from a database but some data is fetched from third-party APIs. The problem is some of them have access limitations like max 10 requests per minute or something.\nNow I am looking for a method to cache the data in my spring application and only update it every few seconds. Storing it in the db and updating it every 10 seconds is a little bit too much since the fetched data is about 1000 rows. So I thought I simply store it in my service bean.</p>\n\n<p>This is my approach so far. (Coded in Kotlin)</p>\n\n<pre><code>@Service\nclass MyService(){\n\n    var myData: CustomDataObject\n\n    fun getData() = myData\n\n    fun updateData(){\n       // call API and store in myData Object\n    }\n\n}\n</code></pre>\n\n<p>It works but it seems kinda hacky to me. Not really a clean solution, is it? \nIf someone has a better approach to this I would be very thankful.</p>\n"}, {"tags": ["kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1503333484, "post_id": 45801266, "comment_id": 78561912, "body": "Try <code>api project(&#39;:sdk&#39;)</code>"}, {"owner": {"reputation": 2540, "user_id": 3456952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a42b2c66c6ca8051bf42e5b8be0d52a8?s=128&d=identicon&r=PG&f=1", "display_name": "TheHebrewHammer", "link": "https://stackoverflow.com/users/3456952/thehebrewhammer"}, "reply_to_user": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1503334670, "post_id": 45801266, "comment_id": 78562483, "body": "<code>api</code> didn&#39;t work either :("}, {"owner": {"reputation": 2540, "user_id": 3456952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a42b2c66c6ca8051bf42e5b8be0d52a8?s=128&d=identicon&r=PG&f=1", "display_name": "TheHebrewHammer", "link": "https://stackoverflow.com/users/3456952/thehebrewhammer"}, "edited": false, "score": 0, "creation_date": 1503411136, "post_id": 45801266, "comment_id": 78597622, "body": "I can&#39;t figure out why <code>TransferListener</code> isn&#39;t resolved, it&#39;s just an interface and the editor isn&#39;t complaining about it, I can even jump to it with the code inspection or class search."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503582971, "post_id": 45801266, "comment_id": 78685428, "body": "Do you have <code>testCoverageEnabled</code> in your <code>sdk</code> module? There&#39;s a known issue in the Android Gradle plugin test coverage support that interferes with proper Kotlin packaging and leads to unresolved top-level members: <a href=\"https://youtrack.jetbrains.com/issue/KT-19061\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-19061</a>"}, {"owner": {"reputation": 2540, "user_id": 3456952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a42b2c66c6ca8051bf42e5b8be0d52a8?s=128&d=identicon&r=PG&f=1", "display_name": "TheHebrewHammer", "link": "https://stackoverflow.com/users/3456952/thehebrewhammer"}, "edited": false, "score": 0, "creation_date": 1503591582, "post_id": 45801266, "comment_id": 78691603, "body": "OK wow, that cleared all those up, now I&#39;m just stuck with <code>e: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath: unresolved supertypes: com.amazonaws.mobileconnectors.s3.transferutility.TransferLi&zwnj;&#8203;stener</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2540, "user_id": 3456952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a42b2c66c6ca8051bf42e5b8be0d52a8?s=128&d=identicon&r=PG&f=1", "display_name": "TheHebrewHammer", "link": "https://stackoverflow.com/users/3456952/thehebrewhammer"}, "is_accepted": true, "score": 0, "last_activity_date": 1503591774, "creation_date": 1503591774, "answer_id": 45866670, "question_id": 45801266, "link": "https://stackoverflow.com/questions/45801266/android-studio-3-0-kotlin-extension-function-unresolved-reference/45866670#45866670", "title": "Android Studio 3.0 kotlin extension function &#39;Unresolved reference&#39;", "body": "<p>As @hotkey mentioned in the comments, there's a bug with using <code>testCoverageEnabled</code> that was causing this issue, turning that off fixed the missing functions issue.</p>\n"}], "owner": {"reputation": 2540, "user_id": 3456952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a42b2c66c6ca8051bf42e5b8be0d52a8?s=128&d=identicon&r=PG&f=1", "display_name": "TheHebrewHammer", "link": "https://stackoverflow.com/users/3456952/thehebrewhammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2627, "favorite_count": 1, "accepted_answer_id": 45866670, "answer_count": 1, "score": 0, "last_activity_date": 1503591774, "creation_date": 1503330655, "last_edit_date": 1503591687, "question_id": 45801266, "link": "https://stackoverflow.com/questions/45801266/android-studio-3-0-kotlin-extension-function-unresolved-reference", "title": "Android Studio 3.0 kotlin extension function &#39;Unresolved reference&#39;", "body": "<p>I'm trying to update my project to using Android Studio 3.0 Beta 2 and I'm getting an error in my Kotlin extension functions. I have a module <code>sdk</code> which includes a few Kotlin files that provide extended functionality, an example:</p>\n\n<pre><code>fun Context.hasPermission(permission: String): Boolean =\n        ContextCompat.checkSelfPermission(this, permission) == PackageManager.PERMISSION_GRANTED\n</code></pre>\n\n<p>I use this function in 2 other modules which I've changed from <code>compile project(':sdk')</code> to <code>implementation project(':sdk')</code>. When I compile now I get errors:</p>\n\n<pre><code>Unresolved error: hasPermission\n</code></pre>\n\n<p>Is there anything else I should have done when updating to get these extension functions across modules?</p>\n\n<p>UPDATE</p>\n\n<p>I changed the function signature to no longer be an extension function but instead look like:</p>\n\n<pre><code>fun hasPermission(context: Context, permission: String): Boolean\n        ContextCompat.checkSelftPermission(context, permission) == PackageManager.PERMISSION_GRANTED\n</code></pre>\n\n<p>I still get the same error, if I instead wrap it inside a class or an object it works.</p>\n\n<pre><code>object ContextUtils {\n    fun hasPermission(context: Context, permission: String): Boolean\n            ContextCompat.checkSelftPermission(context, permission) == PackageManager.PERMISSION_GRANTED\n}\n</code></pre>\n\n<p>UPDATE</p>\n\n<p>I ran the build with the <code>--info --stacktrace</code> flags and here's the output (there's a lot more, but this seems to be the relevant part):</p>\n\n<pre><code>:sdk:transformClassesAndResourcesWithPrepareIntermediateJarsForDebug (Thread[Daemon worker,5,main]) completed. Took 0.231 secs.\n:experience:dataBindingExportBuildInfoDebug (Thread[Daemon worker,5,main]) started.\n:experience:dataBindingExportBuildInfoDebug\nPutting task artifact state for task ':experience:dataBindingExportBuildInfoDebug' into context took 0.002 secs.\nfile or directory '/home/yperess/workspace/Metaverse/experience/src/debug/java', not found\nExecuting task ':experience:dataBindingExportBuildInfoDebug' (up-to-date check took 0.024 secs) due to:\n  Output property 'output' file /home/yperess/workspace/Metaverse/experience/build/generated/source/dataBinding/debug has changed.\n  Output property 'output' file /home/yperess/workspace/Metaverse/experience/build/generated/source/dataBinding/debug/android has been removed.\n  Output property 'output' file /home/yperess/workspace/Metaverse/experience/build/generated/source/dataBinding/debug/android/databinding has been removed.\nAll input files are considered out-of-date for incremental task ':experience:dataBindingExportBuildInfoDebug'.\n:experience:dataBindingExportBuildInfoDebug (Thread[Daemon worker,5,main]) completed. Took 0.033 secs.\n:experience:kaptGenerateStubsDebugKotlin (Thread[Task worker for ':',5,main]) started.\n:experience:kaptGenerateStubsDebugKotlin\nPutting task artifact state for task ':experience:kaptGenerateStubsDebugKotlin' into context took 0.0 secs.\nExecuting task ':experience:kaptGenerateStubsDebugKotlin' (up-to-date check took 0.009 secs) due to:\n  Output property 'destinationDir' file /home/yperess/workspace/Metaverse/experience/build/tmp/kapt3/incrementalData/debug has changed.\n  Output property 'destinationDir' file /home/yperess/workspace/Metaverse/experience/build/tmp/kapt3/incrementalData/debug/com has been removed.\n  Output property 'destinationDir' file /home/yperess/workspace/Metaverse/experience/build/tmp/kapt3/incrementalData/debug/com/gometa has been removed.\nAll input files are considered out-of-date for incremental task ':experience:kaptGenerateStubsDebugKotlin'.\nfile or directory '/home/yperess/workspace/Metaverse/experience/src/debug/kotlin', not found\nfile or directory '/home/yperess/workspace/Metaverse/experience/src/debug/kotlin', not found\nUsing kotlin incremental compilation\n:experience:kaptGenerateStubsDebugKotlin (Thread[Task worker for ':',5,main]) completed. Took 3.386 secs.\n:experience:kaptDebugKotlin (Thread[Task worker for ':' Thread 3,5,main]) started.\n:experience:kaptDebugKotlin\nPutting task artifact state for task ':experience:kaptDebugKotlin' into context took 0.0 secs.\nfile or directory '/home/yperess/workspace/Metaverse/experience/src/debug/kotlin', not found\nExecuting task ':experience:kaptDebugKotlin' (up-to-date check took 0.012 secs) due to:\n  Output property 'destinationDir' file /home/yperess/workspace/Metaverse/experience/build/generated/source/kapt/debug/com has been removed.\n  Output property 'destinationDir' file /home/yperess/workspace/Metaverse/experience/build/generated/source/kapt/debug/com/gometa has been removed.\n  Output property 'destinationDir' file /home/yperess/workspace/Metaverse/experience/build/generated/source/kapt/debug/com/gometa/metaverse has been removed.\nfile or directory '/home/yperess/workspace/Metaverse/experience/src/debug/kotlin', not found\nfile or directory '/home/yperess/workspace/Metaverse/experience/src/debug/kotlin', not found\nw: warning: Supported source version 'RELEASE_7' from annotation processor 'android.arch.lifecycle.LifecycleProcessor' less than -source '1.8'\nw: \n\n:experience:kaptDebugKotlin (Thread[Task worker for ':' Thread 3,5,main]) completed. Took 3.489 secs.\n:experience:compileDebugKotlin (Thread[Task worker for ':' Thread 3,5,main]) started.\n:experience:compileDebugKotlin\nPutting task artifact state for task ':experience:compileDebugKotlin' into context took 0.001 secs.\nfile or directory '/home/yperess/workspace/Metaverse/experience/src/debug/kotlin', not found\nExecuting task ':experience:compileDebugKotlin' (up-to-date check took 0.035 secs) due to:\n  Task.upToDateWhen is false.\nAll input files are considered out-of-date for incremental task ':experience:compileDebugKotlin'.\nfile or directory '/home/yperess/workspace/Metaverse/experience/src/debug/kotlin', not found\nfile or directory '/home/yperess/workspace/Metaverse/experience/src/debug/kotlin', not found\nUsing kotlin incremental compilation\ne: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\n    class com.gometa.metaverse.sdk.utils.MediaUploader, unresolved supertypes: com.amazonaws.mobileconnectors.s3.transferutility.TransferListener\n\ne: /home/yperess/workspace/Metaverse/experience/src/main/java/com/gometa/metaverse/experience/camera/CameraSceneViewModel.kt: (15, 39): Unresolved reference: toFile\ne: /home/yperess/workspace/Metaverse/experience/src/main/java/com/gometa/metaverse/experience/camera/CameraSceneViewModel.kt: (47, 77): Unresolved reference: toFile\ne: /home/yperess/workspace/Metaverse/experience/src/main/java/com/gometa/metaverse/experience/character/CharacterSceneViewModel.kt: (15, 39): Unresolved reference: toFile\ne: /home/yperess/workspace/Metaverse/experience/src/main/java/com/gometa/metaverse/experience/character/CharacterSceneViewModel.kt: (41, 58): Unresolved reference: toFile\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/RotationMatrix.kt: (15, 39): Unresolved reference: toString\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/RotationMatrix.kt: (161, 107): Too many arguments for public open fun toString(): String defined in kotlin.Float\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/LightLoginActivity.kt: (24, 40): Unresolved reference: hasPermission\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/LightLoginActivity.kt: (437, 36): Unresolved reference: hasPermission\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/LightLoginActivity.kt: (438, 38): Unresolved reference: hasPermission\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/component/LoginChoice.kt: (10, 34): Unresolved reference: ankoComponent\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/component/LoginChoice.kt: (30, 9): Unresolved reference: ankoComponent\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/component/LoginChoice.kt: (30, 38): Unresolved reference: it\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/util/Layouts.kt: (9, 32): Unresolved reference: textInputEditText\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/util/Layouts.kt: (18, 5): Unresolved reference: textInputEditText\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/util/Layouts.kt: (19, 9): Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \npublic var TextView.hintResource: Int defined in org.jetbrains.anko\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/util/Layouts.kt: (20, 9): Unresolved reference: inputType\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/util/Layouts.kt: (21, 9): Unresolved reference: maxLines\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/util/Layouts.kt: (22, 9): Unresolved reference: filters\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/util/Layouts.kt: (23, 9): Unresolved reference: addTextChangedListener\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/util/Layouts.kt: (34, 13): Unresolved reference: textInputEditText\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/util/Layouts.kt: (35, 17): Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \npublic var TextView.hintResource: Int defined in org.jetbrains.anko\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/util/Layouts.kt: (36, 17): Unresolved reference: inputType\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/util/Layouts.kt: (37, 17): Unresolved reference: maxLines\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/login/util/Layouts.kt: (38, 17): Unresolved reference: addTextChangedListener\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/view/CameraControlView.kt: (32, 39): Unresolved reference: clamp\ne: /home/yperess/workspace/Metaverse/experience/src/main/kotlin/com/gometa/metaverse/experience/view/CameraControlView.kt: (305, 26): Unresolved reference: clamp\n[KOTLIN] deleting /home/yperess/workspace/Metaverse/experience/build/tmp/kotlin-classes/debug on error\n[KOTLIN] deleting /home/yperess/workspace/Metaverse/experience/build/tmp/kotlin-classes/debug on error\n:experience:compileDebugKotlin FAILED\n:experience:compileDebugKotlin (Thread[Task worker for ':' Thread 3,5,main]) completed. Took 8.489 secs.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':experience:compileDebugKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\nRun with --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':experience:compileDebugKotlin'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.api.GradleException: Compilation error. See log for more details\n    at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:8)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.processCompilerExitCode(Tasks.kt:326)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:300)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:203)\n    at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:182)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n    ... 27 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1m 55s\n88 actionable tasks: 88 executed\n</code></pre>\n\n<p>UPDATE</p>\n\n<p>Removing <code>testCoverageEnabled = true</code> fixed the issue of the missing global functions. Now I'm just left with the error on Amazon's S3 which I think belongs in a different question.</p>\n"}, {"tags": ["java", "class", "interface", "kotlin", "implementation"], "answers": [{"comments": [{"owner": {"reputation": 45321, "user_id": 2353911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/351903c00c50bac0611117c1a6b82848?s=128&d=identicon&r=PG", "display_name": "Mena", "link": "https://stackoverflow.com/users/2353911/mena"}, "edited": false, "score": 0, "creation_date": 1503328983, "post_id": 45800723, "comment_id": 78559384, "body": "Looks like the <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">docs</a> are pretty explicit indeed: &quot;[...]we stick to making things explicit in Kotlin. And unlike Java, Kotlin requires explicit annotations for overridable members (we call them open) and for overrides[...]&quot;"}], "tags": [], "owner": {"reputation": 14074, "user_id": 1348215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/iEZX8.jpg?s=128&g=1", "display_name": "Egor Neliuba", "link": "https://stackoverflow.com/users/1348215/egor-neliuba"}, "is_accepted": false, "score": 4, "last_activity_date": 1503328886, "creation_date": 1503328886, "answer_id": 45800723, "question_id": 45800630, "link": "https://stackoverflow.com/questions/45800630/kotlin-class-implementing-java-interface-error/45800723#45800723", "title": "Kotlin class implementing Java interface error", "body": "<p>You have to add the <code>override</code> keyword before <code>fun</code>:</p>\n\n<pre><code>override fun getId(): Long? {\n    return null\n}\n\noverride fun setId(id: Long?) {\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 2, "last_activity_date": 1503395476, "last_edit_date": 1503395476, "creation_date": 1503330483, "answer_id": 45801211, "question_id": 45800630, "link": "https://stackoverflow.com/questions/45800630/kotlin-class-implementing-java-interface-error/45801211#45801211", "title": "Kotlin class implementing Java interface error", "body": "<p>When you implement an interface within <em>Kotlin</em>, you have to make sure to override the interface methods <strong>inside</strong> of the class body:</p>\n\n<pre><code>open class ClazzImpl() : SampleInterface {\n\n    private var id: Long? = null\n\n    override fun getId(): Long? {\n        return id\n    }\n\n    override fun setId(id: Long?) {\n        this.id = id\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": true, "score": 8, "last_activity_date": 1503384489, "last_edit_date": 1503384489, "creation_date": 1503335604, "answer_id": 45802516, "question_id": 45800630, "link": "https://stackoverflow.com/questions/45800630/kotlin-class-implementing-java-interface-error/45802516#45802516", "title": "Kotlin class implementing Java interface error", "body": "<p>The other answers from Egor and tynn are important, but the error you have mentioned in the question is not related to their answers.</p>\n\n<p>You have to add curly braces first.</p>\n\n<pre><code>open class ClazzImpl() : SampleInterface {\n\n  private val id: Unit? = null\n\n  fun getId(): Long? {\n    return null\n  }\n\n  fun setId(id: Long?) {\n\n  } \n\n}\n</code></pre>\n\n<p>If you add the curly braces, that error would have gone but you will get a new error like this: </p>\n\n<blockquote>\n  <p>'getId' hides member of supertype 'SampleInterface' and needs\n  'override' modifier</p>\n</blockquote>\n\n<p>Now, as suggested in the other answers, you have to add override modifier to the functions:</p>\n\n<pre><code>open class ClazzImpl() : SampleInterface {\n\n      private val id: Unit? = null\n\n      override fun getId(): Long? {\n        return null\n      }\n\n      override fun setId(id: Long?) {\n\n      } \n\n}\n</code></pre>\n"}], "owner": {"reputation": 497, "user_id": 926192, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7873252c526edad173aaa8e496b99ded?s=128&d=identicon&r=PG", "display_name": "hhg", "link": "https://stackoverflow.com/users/926192/hhg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7254, "favorite_count": 1, "accepted_answer_id": 45802516, "answer_count": 3, "score": 6, "last_activity_date": 1503395476, "creation_date": 1503328542, "question_id": 45800630, "link": "https://stackoverflow.com/questions/45800630/kotlin-class-implementing-java-interface-error", "title": "Kotlin class implementing Java interface error", "body": "<p>I've got a Java interface</p>\n\n<pre><code>public interface SampleInterface extends Serializable {\n    Long getId();\n    void setId(Long id);\n}\n</code></pre>\n\n<p>and a Kotlin class that is supposed to implement it</p>\n\n<pre><code>open class ClazzImpl() : SampleInterface\n\nprivate val id: Unit? = null\n\nfun getId(): Long? {\n    return null\n}\n\nfun setId(id: Long?) {\n\n}\n</code></pre>\n\n<p>However I get a compilation error:</p>\n\n<blockquote>\n  <p>Class ClazzImpl is not abstract and does not implement abstract member\n  public abstract fun setId(id: Long!): Unit defined in\n  com....SampleInterface</p>\n</blockquote>\n\n<p>any ideas what is wrong?</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "answers": [{"tags": [], "owner": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "is_accepted": true, "score": 18, "last_activity_date": 1503326937, "creation_date": 1503326937, "answer_id": 45800094, "question_id": 45800036, "link": "https://stackoverflow.com/questions/45800036/how-to-run-code-if-object-is-null/45800094#45800094", "title": "How to run code if object is null?", "body": "<p>Just use a normal <code>if</code>:</p>\n\n<pre><code>if (data == null) {\n  // Do something\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3647, "user_id": 371191, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e1caa49eebfe37ffe3ef64e19364b0b3?s=128&d=identicon&r=PG", "display_name": "Silly Freak", "link": "https://stackoverflow.com/users/371191/silly-freak"}, "edited": false, "score": 33, "creation_date": 1556088847, "post_id": 45800151, "comment_id": 98313295, "body": "Be careful, if <code>let {}</code> returns <code>null</code>, both blocks would run!"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 4, "creation_date": 1569515240, "post_id": 45800151, "comment_id": 102630761, "body": "<code>apply {}</code> would be safer."}, {"owner": {"reputation": 5291, "user_id": 5279156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHs51.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/5279156/vlad"}, "reply_to_user": {"reputation": 3647, "user_id": 371191, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e1caa49eebfe37ffe3ef64e19364b0b3?s=128&d=identicon&r=PG", "display_name": "Silly Freak", "link": "https://stackoverflow.com/users/371191/silly-freak"}, "edited": false, "score": 0, "creation_date": 1571121603, "post_id": 45800151, "comment_id": 103124023, "body": "@SillyFreak yes it is, i have a logic problem because of this"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 137, "last_activity_date": 1503327076, "creation_date": 1503327076, "answer_id": 45800151, "question_id": 45800036, "link": "https://stackoverflow.com/questions/45800036/how-to-run-code-if-object-is-null/45800151#45800151", "title": "How to run code if object is null?", "body": "<p>You can use the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"noreferrer\"><strong>elvis</strong> operator</a> and evaluate another block of code with <code>run { ... }</code>:</p>\n\n<pre><code>data?.let {\n    // execute this block if not null\n} ?: run {\n    // execute this block if null\n}\n</code></pre>\n\n<p>But this seems not to be quite as readable as a simple <code>if</code>-<code>else</code> statement.</p>\n\n<p>Also, you might find this Q&amp;A useful: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o\">In Kotlin, what is the idiomatic way to deal with nullable values, referencing or converting them</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1541788964, "post_id": 45800336, "comment_id": 93350064, "body": "This would run <b>ifNull { }</b> only if data is null?"}, {"owner": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "edited": false, "score": 0, "creation_date": 1559575140, "post_id": 45800336, "comment_id": 99454905, "body": "I like this when all you really want to do is test for null and do something then exit."}, {"owner": {"reputation": 11742, "user_id": 5730321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6yX7D.jpg?s=128&g=1", "display_name": "Leo Droidcoder", "link": "https://stackoverflow.com/users/5730321/leo-droidcoder"}, "edited": false, "score": 2, "creation_date": 1571739656, "post_id": 45800336, "comment_id": 103332825, "body": "Be careful with this approach, because <code>something.ifNull{}</code> will work, whilst <code>something?.ifNull{}</code> is not gonnna be called!"}], "tags": [], "owner": {"reputation": 20852, "user_id": 544406, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/dPN4O.jpg?s=128&g=1", "display_name": "Dmitry Ryadnenko", "link": "https://stackoverflow.com/users/544406/dmitry-ryadnenko"}, "is_accepted": false, "score": 27, "last_activity_date": 1511974347, "last_edit_date": 1511974347, "creation_date": 1503327610, "answer_id": 45800336, "question_id": 45800036, "link": "https://stackoverflow.com/questions/45800036/how-to-run-code-if-object-is-null/45800336#45800336", "title": "How to run code if object is null?", "body": "<p>You can create an infix function like this:</p>\n\n<pre><code>infix fun Any?.ifNull(block: () -&gt; Unit) { \n  if (this == null) block()\n}\n</code></pre>\n\n<p>Then you can do this:</p>\n\n<pre><code>data ifNull {\n  // Do something\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1228, "user_id": 6580534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8420463b82450b19a1e4537d8ee17c8?s=128&d=identicon&r=PG&f=1", "display_name": "M. Palsich", "link": "https://stackoverflow.com/users/6580534/m-palsich"}, "is_accepted": false, "score": 31, "last_activity_date": 1542400013, "creation_date": 1542400013, "answer_id": 53344903, "question_id": 45800036, "link": "https://stackoverflow.com/questions/45800036/how-to-run-code-if-object-is-null/53344903#53344903", "title": "How to run code if object is null?", "body": "<p>Here's a concise syntax using the Elvis operator. Recall the Elvis operator only executes the right side if the left side evaluates to null.</p>\n\n<pre><code>data ?: doSomething()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 533, "user_id": 3215911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qngSv.png?s=128&g=1", "display_name": "iroiroys", "link": "https://stackoverflow.com/users/3215911/iroiroys"}, "is_accepted": false, "score": 9, "last_activity_date": 1561965870, "creation_date": 1561965870, "answer_id": 56831507, "question_id": 45800036, "link": "https://stackoverflow.com/questions/45800036/how-to-run-code-if-object-is-null/56831507#56831507", "title": "How to run code if object is null?", "body": "<p>You can use below code</p>\n\n<pre><code>myNullable?.let {\n\n} ?: { \n    // do something\n}()\n</code></pre>\n\n<p>also you can omit <code>fun()</code></p>\n\n<pre><code>myNullable?.let {\n\n} ?: fun() { \n    // do something\n}()\n</code></pre>\n\n<p>or you can call <code>invoke()</code> instead of <code>()</code></p>\n\n<pre><code>myNullable?.let {\n\n} ?: fun() { \n    // do something\n}.invoke()\n</code></pre>\n\n<p>Note that returning value differs like below.</p>\n\n<pre><code>val res0 = myNullable?.let {\n} ?: () {\n\n}()\nval res1 = myNullable?.let {\n} ?: fun() {\n    \"result\"    \n}()\nval res2 = myNullable?.let {\n} ?: () {\n    \"result\"    \n}()\n\n\nprintln(\"res0:$res0\")\nprintln(\"res1:$res1\")\nprintln(\"res2:$res2\")\n</code></pre>\n\n<p>RESULT:</p>\n\n<pre><code>res0:kotlin.Unit // () {} with empty\nres1:kotlin.Unit // fun() {}\nres2:result      // () {} with return\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11742, "user_id": 5730321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6yX7D.jpg?s=128&g=1", "display_name": "Leo Droidcoder", "link": "https://stackoverflow.com/users/5730321/leo-droidcoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1571740324, "creation_date": 1571740324, "answer_id": 58502281, "question_id": 45800036, "link": "https://stackoverflow.com/questions/45800036/how-to-run-code-if-object-is-null/58502281#58502281", "title": "How to run code if object is null?", "body": "<p>I prefer this solution, </p>\n\n<pre><code>fun runIfNull(any: Any?, block: () -&gt; Unit) {\n        if (any == null) block()\n}\n</code></pre>\n\n<p>Which you use as:</p>\n\n<pre><code>runIfNull(any) { // it will run; }\n</code></pre>\n\n<p>It has an advantage comparing to @Dmitry Ryadnenko's answer,\nwhere one might be confused and might use it incorrectly.<br>\nThere you have a function</p>\n\n<pre><code>infix fun Any?.ifNull(block: () -&gt; Unit) { \n  if (this == null) block()\n}\n</code></pre>\n\n<p>And in case you use it on a null object in the way:</p>\n\n<pre><code>nullObject?.ifNull { // THIS WILL NOT BE CALLED }\nnullObject.ifNull { // this will be called }\n</code></pre>\n\n<p>The block is not going to be executed.<br>\nPlease note the mistakenly added question mark '?'</p>\n"}], "owner": {"reputation": 5325, "user_id": 4507386, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-SB4-Yo98rrM/AAAAAAAAAAI/AAAAAAAAAB4/QEKmkZwFw7E/photo.jpg?sz=128", "display_name": "Toni Joe", "link": "https://stackoverflow.com/users/4507386/toni-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23825, "favorite_count": 8, "accepted_answer_id": 45800094, "answer_count": 6, "score": 55, "last_activity_date": 1571740324, "creation_date": 1503326758, "last_edit_date": 1503495199, "question_id": 45800036, "link": "https://stackoverflow.com/questions/45800036/how-to-run-code-if-object-is-null", "title": "How to run code if object is null?", "body": "<p>In Kotlin, I can run code if an object is not null like this:</p>\n\n<pre><code>data?.let {\n    ... // execute this block if not null\n}\n</code></pre>\n\n<p>but how can I execute a block of code if the object is null?</p>\n"}, {"tags": ["lambda", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503326391, "post_id": 45799829, "comment_id": 78557659, "body": "No: the Kotlin string templates are transformed at compile-time into simple concatenation. You need different tools for string templates at runtime."}], "answers": [{"comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1503332116, "post_id": 45800452, "comment_id": 78561187, "body": "When will we use it instead of <code>String.format()</code>? They look similar."}, {"owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1503337117, "post_id": 45800452, "comment_id": 78563518, "body": "<code>String.format()</code> is an alias for <code>java.lang.String.format(format, *args)</code> - it is useful, but it is different. <a href=\"https://dzone.com/articles/java-string-format-examples\" rel=\"nofollow noreferrer\">here</a>."}], "tags": [], "owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "is_accepted": true, "score": 2, "last_activity_date": 1503912903, "last_edit_date": 1503912903, "creation_date": 1503327946, "answer_id": 45800452, "question_id": 45799829, "link": "https://stackoverflow.com/questions/45799829/can-i-transform-string-in-template-expression-or-lambda-expression-in-kotlin/45800452#45800452", "title": "Can i transform string in template expression or lambda expression in kotlin?", "body": "<p>Kotlin templates are evaluated at compile time - so this won't work.</p>\n\n<p>You should use a 3rd party template engine.</p>\n\n<p><a href=\"http://freemarker.org/\" rel=\"nofollow noreferrer\">Freemarker</a> is such an engine with a format very similar to Kotlin's own templating format:</p>\n\n<pre><code>val tm = \"x = \\${x}\"\n\nfun fn (x: String) : String {\n    val t = Template(\"name\", StringReader(tm), Configuration(Configuration.VERSION_2_3_26))\n    val out = StringWriter()\n    t.process(mapOf(\"x\" to x) ,out)\n    return out.toString()\n}\n\nprintln (fn(\"This is X!!!\")) // x = This is X!!!\n</code></pre>\n\n<p>Two notes:</p>\n\n<ul>\n<li>You won't be able to use <code>\"$x\"</code> on freeMarker, only <code>\"${x}\"</code></li>\n<li><code>$</code> sign can be escaped in a Kotlin string using <code>\\$</code></li>\n</ul>\n"}], "owner": {"reputation": 359, "user_id": 6530124, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XCL7HOgLbZk/AAAAAAAAAAI/AAAAAAAAAAk/O0-j6zgxEGs/photo.jpg?sz=128", "display_name": "Pax Exterminatus", "link": "https://stackoverflow.com/users/6530124/pax-exterminatus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 45800452, "answer_count": 1, "score": 2, "last_activity_date": 1503912903, "creation_date": 1503326189, "question_id": 45799829, "link": "https://stackoverflow.com/questions/45799829/can-i-transform-string-in-template-expression-or-lambda-expression-in-kotlin", "title": "Can i transform string in template expression or lambda expression in kotlin?", "body": "<p>Can i transform string in template expression or lambda expression in kotlin?</p>\n\n<pre><code>val tm = \"x = $\"+\"x\"\nval fn: (x: String) -&gt; String = { it -&gt; tm}\nval str = fn(\"This is X!!!\")\n</code></pre>\n\n<p>Need to get</p>\n\n<blockquote>\n  <p>x = This is X!!!</p>\n</blockquote>\n\n<p><strong>Why?:</strong> You can receive templates, for example, from the database\nPS: or your suggestions</p>\n"}, {"tags": ["android", "function", "lambda", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 14, "last_activity_date": 1503378657, "last_edit_date": 1503378657, "creation_date": 1503326799, "answer_id": 45800052, "question_id": 45799825, "link": "https://stackoverflow.com/questions/45799825/how-to-check-lambda-emptiness-in-kotlin/45800052#45800052", "title": "How to check lambda emptiness in kotlin", "body": "<p>You couldn't test if the body of an lambda is empty (so it contains no source-code) but you can check if the lambda is your default value by creating a constant for that value and use this as default value. Than you can also check if the value is the default value:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    foo()\n    foo { }\n    foo { println(\"Bar\") }\n}\n\nprivate val EMPTY: (Throwable) -&gt; Unit = {}\nfun foo(onError: (Throwable) -&gt; Unit = EMPTY) {\n    if (onError === EMPTY) {\n       // the default value is used\n    } else {\n       // a lambda was defined - no default value used\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1582, "user_id": 3917943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02a49efb020fbd54a04e980faeaf053?s=128&d=identicon&r=PG&f=1", "display_name": "Mathias Henze", "link": "https://stackoverflow.com/users/3917943/mathias-henze"}, "is_accepted": false, "score": 1, "last_activity_date": 1589116145, "creation_date": 1589116145, "answer_id": 61712544, "question_id": 45799825, "link": "https://stackoverflow.com/questions/45799825/how-to-check-lambda-emptiness-in-kotlin/61712544#61712544", "title": "How to check lambda emptiness in kotlin", "body": "<p>Just don't use empty lambdas as defaults.</p>\n\n<p>Since in kotlin nullability is a first class citizen and the clear indication of a missing value, I would pass null as the default argument.</p>\n\n<pre><code>onError: ((Throwable) -&gt; Unit)? = null\n</code></pre>\n\n<p>The signature looks a bit ugly, but I think it's worth it.</p>\n\n<p>For example it can be easily checked and handled and you don't expect that the lambda does something useful - especially for lambdas with a return value.</p>\n\n<p>I gave the same comment here: <a href=\"https://stackoverflow.com/a/38793639/3917943\">https://stackoverflow.com/a/38793639/3917943</a></p>\n"}], "owner": {"reputation": 406, "user_id": 2093032, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/0bc89fff23e0b0fa310c24c86e555522?s=128&d=identicon&r=PG&f=1", "display_name": "Sunstrike", "link": "https://stackoverflow.com/users/2093032/sunstrike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1545, "favorite_count": 0, "accepted_answer_id": 45800052, "answer_count": 2, "score": 7, "last_activity_date": 1589116145, "creation_date": 1503326179, "question_id": 45799825, "link": "https://stackoverflow.com/questions/45799825/how-to-check-lambda-emptiness-in-kotlin", "title": "How to check lambda emptiness in kotlin", "body": "<p>How can I check if lambda is empty in Kotlin?\nFor example, I have signature like </p>\n\n<pre><code>onError:(Throwable) -&gt; Unit = {}\n</code></pre>\n\n<p>How can I differ is its default value comes to body or value applied to this function?</p>\n"}, {"tags": ["kotlin", "bean-validation", "javax"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1503324433, "post_id": 45798898, "comment_id": 78556175, "body": "Ofcourse you can. You just need to write a Kotlin compiler plugin. You can take a look at a sample here: <a href=\"https://github.com/Takhion/sample-kotlin-compiler-plugin\" rel=\"nofollow noreferrer\">github.com/Takhion/sample-kotlin-compiler-plugin</a>"}, {"owner": {"reputation": 1361, "user_id": 7527624, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/2bbc57066ad37a5876653d8e933ad924?s=128&d=identicon&r=PG&f=1", "display_name": "Romper", "link": "https://stackoverflow.com/users/7527624/romper"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1503325029, "post_id": 45798898, "comment_id": 78556613, "body": "@Strelok Thanks. Maybe there is already a plugin?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 2, "creation_date": 1503338137, "post_id": 45798898, "comment_id": 78563970, "body": "@Strelok Kotlin compiler plugins are undocumented, unsupported, not intended to be used by anyone outside JetBrains and guaranteed to break in the future, so please don&#39;t answer any Kotlin questions with &quot;just need to write a compiler plugin&quot;."}, {"owner": {"reputation": 505, "user_id": 4415186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd543726f143499fb5c2d1e893cc3b96?s=128&d=identicon&r=PG&f=1", "display_name": "Russell Briggs", "link": "https://stackoverflow.com/users/4415186/russell-briggs"}, "edited": false, "score": 0, "creation_date": 1548295349, "post_id": 45798898, "comment_id": 95493512, "body": "@Romper did you find a solution to this? I&#39;m after the same thing :)"}, {"owner": {"reputation": 895, "user_id": 1076585, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/13bfede7edf749e021ce725182f3f7f0?s=128&d=identicon&r=PG", "display_name": "Mike Holler", "link": "https://stackoverflow.com/users/1076585/mike-holler"}, "edited": false, "score": 0, "creation_date": 1591638124, "post_id": 45798898, "comment_id": 110126154, "body": "One year later, any progress?"}], "answers": [{"tags": [], "owner": {"reputation": 416, "user_id": 7051875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1d447e29cc41ce81809d7156c05de5?s=128&d=identicon&r=PG&f=1", "display_name": "tango24", "link": "https://stackoverflow.com/users/7051875/tango24"}, "is_accepted": false, "score": 0, "last_activity_date": 1510497064, "creation_date": 1510497064, "answer_id": 47249977, "question_id": 45798898, "link": "https://stackoverflow.com/questions/45798898/kotlin-and-javax-validation-constraints-notnull/47249977#47249977", "title": "Kotlin and javax.validation.constraints.NotNull", "body": "<p>No, there is no such compiler plugin available at the moment.\nThis is the list of available compiler plugins:\n<a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/compiler-plugins.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 6629423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03685908a24ebbc5b5ca6e52f793a305?s=128&d=identicon&r=PG&f=1", "display_name": "Curtes Malteser", "link": "https://stackoverflow.com/users/6629423/curtes-malteser"}, "is_accepted": false, "score": 0, "last_activity_date": 1562016804, "creation_date": 1562016804, "answer_id": 56842725, "question_id": 45798898, "link": "https://stackoverflow.com/questions/45798898/kotlin-and-javax-validation-constraints-notnull/56842725#56842725", "title": "Kotlin and javax.validation.constraints.NotNull", "body": "<p>Yes, sure it is even if it\u2019s not obvious.</p>\n\n<pre><code>@field:NotNull val valName: String?\n</code></pre>\n\n<p>But I prefer to use:</p>\n\n<pre><code>@field:NotEmpty val valName: String\n</code></pre>\n\n<p>Since I don\u2019t think it\u2019s a good idea to destroy the magic of null safe provided by Kotlin and have to manage later optional values.</p>\n"}], "owner": {"reputation": 1361, "user_id": 7527624, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/2bbc57066ad37a5876653d8e933ad924?s=128&d=identicon&r=PG&f=1", "display_name": "Romper", "link": "https://stackoverflow.com/users/7527624/romper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 799, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1562016804, "creation_date": 1503323598, "question_id": 45798898, "link": "https://stackoverflow.com/questions/45798898/kotlin-and-javax-validation-constraints-notnull", "title": "Kotlin and javax.validation.constraints.NotNull", "body": "<p>Kotlin compiler inserts <code>@Nullable</code> and <code>@NotNull</code> from <code>org.jetbrains.annotations</code>, is it possible to insert also <code>javax.validation.constraints.NotNull</code> ?</p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "is_accepted": false, "score": 0, "last_activity_date": 1503322297, "last_edit_date": 1503322297, "creation_date": 1503321833, "answer_id": 45798292, "question_id": 45798170, "link": "https://stackoverflow.com/questions/45798170/shortcut-for-convert-java-code-not-file-to-kotline/45798292#45798292", "title": "Shortcut for &quot;Convert java code ( not file) to kotline&quot;", "body": "<p><strong>@aristotll's answer gives you what you want!</strong></p>\n\n<p>If you want to convert an existing file:<br>\n- Menu: <code>Code &gt; Convert Java File to Kotlin File</code><br>\n- Win: <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>K</kbd><br>\n- Mac: <kbd>\u2318</kbd>+<kbd>\u2325</kbd>+<kbd>Shift</kbd>+<kbd>K</kbd></p>\n"}, {"tags": [], "owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "is_accepted": true, "score": 3, "last_activity_date": 1503322272, "last_edit_date": 1503322272, "creation_date": 1503321937, "answer_id": 45798328, "question_id": 45798170, "link": "https://stackoverflow.com/questions/45798170/shortcut-for-convert-java-code-not-file-to-kotline/45798328#45798328", "title": "Shortcut for &quot;Convert java code ( not file) to kotline&quot;", "body": "<p><kbd>command</kbd> <kbd>shift</kbd> <kbd>A</kbd> (Mac) or <kbd>ctrl</kbd> <kbd>shift</kbd> <kbd>A</kbd> in Windows and Linux to invoke find action dialogue.</p>\n\n<p>Type <strong>convert pasted java code</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/AmxRJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AmxRJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>If it is <em>off</em>, press <kbd>enter</kbd>.</p>\n"}], "owner": {"reputation": 3428, "user_id": 1004505, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dd6b619a1280e3f1a3830076faa1d2b2?s=128&d=identicon&r=PG", "display_name": "Connecting life with Android", "link": "https://stackoverflow.com/users/1004505/connecting-life-with-android"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 45798328, "answer_count": 2, "score": 3, "last_activity_date": 1503322297, "creation_date": 1503321465, "last_edit_date": 1503321775, "question_id": 45798170, "link": "https://stackoverflow.com/questions/45798170/shortcut-for-convert-java-code-not-file-to-kotline", "title": "Shortcut for &quot;Convert java code ( not file) to kotline&quot;", "body": "<p>In Android studio, When you copy java code to Kotlin file, you see a dialog</p>\n\n<p><a href=\"https://i.stack.imgur.com/0yRqd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0yRqd.png\" alt=\"enter image description here\"></a></p>\n\n<p>I need help to know if I select \"Don't show dialog\" how can i re-enabled it. I can't find settings in studio unfortunately :( </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1503319539, "post_id": 45797406, "comment_id": 78552525, "body": "If you want to forcing the animation is played when <code>fab2</code> is clicked, you should use <code>fab2!!.onClickListener</code> or make the <code>fab2</code> non-nullable. safe-call operator <code>?</code> will ignoring to register any listeners if the left side expression is <code>null</code>. which means your <code>fab2</code> maybe is <code>null</code>."}, {"owner": {"reputation": 295, "user_id": 7995174, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0711ab262f2df3aee59cee3f9efbb754?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Dhanuka", "link": "https://stackoverflow.com/users/7995174/prateek-dhanuka"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1503319917, "post_id": 45797406, "comment_id": 78552799, "body": "As I just edited, the problem isn&#39;t fab2 being null, the roate function works fine, but handler doesn&#39;t."}], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 1, "last_activity_date": 1503320156, "creation_date": 1503320156, "answer_id": 45797728, "question_id": 45797406, "link": "https://stackoverflow.com/questions/45797406/runnable-not-running-on-floating-action-bar-on-android/45797728#45797728", "title": "Runnable not running on floating action bar on Android", "body": "<p>You are declaring your <code>Runnable</code> in a wrong way. The lambda expression you declare is actually the <code>run()</code> function and you declare another <code>run()</code> function inside.</p>\n\n<p>Correct way to declare your object should be:</p>\n\n<pre><code>private val r: Runnable = object: Runnable {\n    override fun run() {\n        if (isRotate) {\n            fab2.setImageDrawable(ResourcesCompat.getDrawable(resources, R.drawable.ic_menu_camera, null))\n            isRotate = false\n        } else {\n            fab2.setImageDrawable(ResourcesCompat.getDrawable(resources, R.drawable.ic_menu_gallery, null))\n            isRotate = true\n        }\n    }\n}\n</code></pre>\n\n<p>Or(lambda expression):</p>\n\n<pre><code>private val r: Runnable = Runnable {\n    if (isRotate) {\n        fab2.setImageDrawable(ResourcesCompat.getDrawable(resources, R.drawable.ic_menu_camera, null))\n        isRotate = false\n    } else {\n        fab2.setImageDrawable(ResourcesCompat.getDrawable(resources, R.drawable.ic_menu_gallery, null))\n        isRotate = true\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 295, "user_id": 7995174, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0711ab262f2df3aee59cee3f9efbb754?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Dhanuka", "link": "https://stackoverflow.com/users/7995174/prateek-dhanuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 45797728, "answer_count": 1, "score": 3, "last_activity_date": 1503320156, "creation_date": 1503319226, "last_edit_date": 1503319747, "question_id": 45797406, "link": "https://stackoverflow.com/questions/45797406/runnable-not-running-on-floating-action-bar-on-android", "title": "Runnable not running on floating action bar on Android", "body": "<p>I have been trying to get the fab to rotate and change its icon but for some reason the <code>Runnable</code> doesn't work at all.</p>\n\n<p><strong>Here is the code :</strong></p>\n\n<pre><code>private val handler: Handler = Handler()\nprivate var isRotate: Boolean = false\nprivate val rotate: Animation =   RotateAnimation(0.toFloat(),90.toFloat(),0.toFloat(),0.toFloat())\n\nprivate val r: Runnable = Runnable {\n    fun run() {\n            if (isRotate) {\n                fab2.setImageDrawable(ResourcesCompat.getDrawable(resources, R.drawable.ic_menu_camera, null))\n                isRotate = false\n            } else {\n                fab2.setImageDrawable(ResourcesCompat.getDrawable(resources, R.drawable.ic_menu_gallery, null))\n                isRotate = true\n            }\n        }\n    }\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n\n    ...\n\n    rotate.duration = 1000\n    rotate.repeatCount = 0\n    rotate.repeatMode = Animation.REVERSE\n    rotate.fillAfter = true\n\n    fab2?.setOnClickListener { view -&gt;\n               ObjectAnimator.ofFloat(view,\"rotation\",0.toFloat(),90.toFloat()).setDuration(800).start()\n    view.handler.postDelayed(r,400)\n    }\n}\n</code></pre>\n\n<p>The Button rotates but icon does not change implying that the <code>OnClickListener</code> is working but the <code>Runnable</code> isn't.</p>\n\n<p>How do I make this happen?</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 1, "creation_date": 1503318563, "post_id": 45797140, "comment_id": 78551845, "body": "I read that <code>Application.launch()</code> in the docs can only be run once... and it also won&#39;t execute the next line after it. For example, put a <code>println(&quot;something)</code> and you won&#39;t see that text printed - I guess I wasn&#39;t being specific enough in my title.. I meant from an existing Kotlin program. thanks for the explanation though"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 1, "creation_date": 1503319627, "post_id": 45797140, "comment_id": 78552596, "body": "Yes, that&#39;s how it works - you&#39;re only supposed to call it once, but you can do that from anywhere, at any time. You can wrap the call in a Thread if you need to."}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 4, "last_activity_date": 1503318442, "creation_date": 1503318442, "answer_id": 45797140, "question_id": 45796908, "link": "https://stackoverflow.com/questions/45796908/launching-a-tornadofx-app-from-an-existing-kotlin-program/45797140#45797140", "title": "Launching a TornadoFX App from (an existing) Kotlin program", "body": "<p>The JVM already knows how to start JavaFX applications, and since your App class extends <code>tornadofx.App</code> which again extends <code>javafx.application.Application</code>, you can simply point your JVM to that main class and it will run just fine. If you want to explicitly launch your TornadoFX application, JavaFX provides a static <code>launch</code> method you should use.</p>\n\n<p>A typical main function that starts a JavaFX or TornadoFX application would be:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    Application.launch(HelloWorldApp::class.java, *args)\n}\n</code></pre>\n\n<p>JavaFX only allows the <code>Application.launch</code> function to be called one time in the life of a JVM, so you can't really start more than one anyways. However, TornadoFX provides special OSGi support allowing you to actually stop and relaunch other TornadoFX apps in the same JVM by utilizing an application proxy instance.</p>\n\n<p>TornadoFX also supports JPro by using Scopes, which allows multiple application instance, though without actually calling <code>Application.launch</code> several times.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1518478011, "creation_date": 1518478011, "answer_id": 48757244, "question_id": 45796908, "link": "https://stackoverflow.com/questions/45796908/launching-a-tornadofx-app-from-an-existing-kotlin-program/48757244#48757244", "title": "Launching a TornadoFX App from (an existing) Kotlin program", "body": "<p>You can start it like this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    launch&lt;HelloWorldApp&gt;(args)\n}\n</code></pre>\n\n<p>The <code>launch</code> function is defined in <code>tornadofx</code> package as a top-level function, <code>HelloWorldApp</code> is a random <code>Application</code> class.</p>\n"}], "owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1337, "favorite_count": 0, "accepted_answer_id": 45797140, "answer_count": 2, "score": 1, "last_activity_date": 1518478011, "creation_date": 1503317729, "last_edit_date": 1503318578, "question_id": 45796908, "link": "https://stackoverflow.com/questions/45796908/launching-a-tornadofx-app-from-an-existing-kotlin-program", "title": "Launching a TornadoFX App from (an existing) Kotlin program", "body": "<pre><code>fun main(args: Array&lt;String&gt;) {\n\n    HelloWorldApp().launch()\n}\n\nfun App.launch() {\n    JFXPanel()\n    Platform.runLater({\n        start(Stage())\n    })\n}\n</code></pre>\n\n<p>This is what I do right now. Is there a better? more succinct way?</p>\n\n<p>Is it safe to run multiple different TornadoFX apps from within the same kotlin program this way? I read something somewhere about a global variable so I'm wondering if only 1 is allowed/recommended.</p>\n"}, {"tags": ["gson", "kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503307793, "post_id": 45793451, "comment_id": 78544881, "body": "Please see if this helps: <a href=\"https://stackoverflow.com/a/39963353/2196460\">stackoverflow.com/a/39963353/2196460</a>"}, {"owner": {"reputation": 1479, "user_id": 5417224, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rGNpb.jpg?s=128&g=1", "display_name": "bitvale", "link": "https://stackoverflow.com/users/5417224/bitvale"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503309108, "post_id": 45793451, "comment_id": 78545806, "body": "Its explain situation with def value in constructor. But in my situation I don have def value."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1503309459, "post_id": 45793451, "comment_id": 78546015, "body": "the <code>notNullableValue</code> was changed by gson after created. because it is <code>var</code> not <code>val</code>."}, {"owner": {"reputation": 1479, "user_id": 5417224, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rGNpb.jpg?s=128&g=1", "display_name": "bitvale", "link": "https://stackoverflow.com/users/5417224/bitvale"}, "edited": false, "score": 0, "creation_date": 1503309546, "post_id": 45793451, "comment_id": 78546069, "body": "With val it&#39;s all the same. I try val too."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1503309876, "post_id": 45793451, "comment_id": 78546293, "body": ":), are you sure?"}, {"owner": {"reputation": 1479, "user_id": 5417224, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rGNpb.jpg?s=128&g=1", "display_name": "bitvale", "link": "https://stackoverflow.com/users/5417224/bitvale"}, "edited": false, "score": 0, "creation_date": 1503310002, "post_id": 45793451, "comment_id": 78546377, "body": "Yes, I&#39;ll find this with val, than change val to var and get the same behavior."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1503310075, "post_id": 45793451, "comment_id": 78546423, "body": "interesting. I&#39;ll try it later."}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1503317440, "post_id": 45793451, "comment_id": 78551101, "body": "Can you please provide a minimum verifiable example of the problem and post it somewhere on github?"}], "answers": [{"comments": [{"owner": {"reputation": 1479, "user_id": 5417224, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rGNpb.jpg?s=128&g=1", "display_name": "bitvale", "link": "https://stackoverflow.com/users/5417224/bitvale"}, "edited": false, "score": 0, "creation_date": 1503308885, "post_id": 45793703, "comment_id": 78545657, "body": "No, as You read correct all works fine without  =&quot;&quot;. And notNullableValue == null"}, {"owner": {"reputation": 1479, "user_id": 5417224, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rGNpb.jpg?s=128&g=1", "display_name": "bitvale", "link": "https://stackoverflow.com/users/5417224/bitvale"}, "edited": false, "score": 0, "creation_date": 1503309262, "post_id": 45793703, "comment_id": 78545889, "body": "I am sorry for misunderstanding, I am edit question."}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "reply_to_user": {"reputation": 1479, "user_id": 5417224, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rGNpb.jpg?s=128&g=1", "display_name": "bitvale", "link": "https://stackoverflow.com/users/5417224/bitvale"}, "edited": false, "score": 0, "creation_date": 1503319304, "post_id": 45793703, "comment_id": 78552369, "body": "@jQuick I updated my answer. TLDR: Gson is using unsafe java magic classes."}, {"owner": {"reputation": 1290, "user_id": 1367987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/348b56e63737577da13b8cacded1ce2e?s=128&d=identicon&r=PG", "display_name": "ChinLoong", "link": "https://stackoverflow.com/users/1367987/chinloong"}, "edited": false, "score": 1, "creation_date": 1525080806, "post_id": 45793703, "comment_id": 87211718, "body": "If you&#39;re unhappy with Gson behaviour of a non-nullable having a null value and prefer default value instead, you can use Jackson-kotlin-module. Refer: <a href=\"https://stackoverflow.com/questions/38426579/in-kotlin-jackson-deserialization-error-with-data-class\" title=\"in kotlin jackson deserialization error with data class\">stackoverflow.com/questions/38426579/&hellip;</a>"}, {"owner": {"reputation": 168, "user_id": 3047359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f32824b4fa005a73b3eca1d566e7b92?s=128&d=identicon&r=PG&f=1", "display_name": "katie", "link": "https://stackoverflow.com/users/3047359/katie"}, "edited": false, "score": 0, "creation_date": 1534371913, "post_id": 45793703, "comment_id": 90686453, "body": "This is not only affecting the non-nullable type, but also, all of the properties that are initiated in the class body instead of primary constructor will not be initialized, aka null."}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 17, "last_activity_date": 1503319258, "last_edit_date": 1503319258, "creation_date": 1503307849, "answer_id": 45793703, "question_id": 45793451, "link": "https://stackoverflow.com/questions/45793451/kotlin-not-nullable-value-can-be-null/45793703#45793703", "title": "Kotlin not nullable value can be null?", "body": "<p>Yes, that is because you're giving it a default value. Ofcourse it will never be null. That's the whole point of a default value.  </p>\n\n<p>Remove <code>=\"\"</code> from constructor and you will get an error. </p>\n\n<p>Edit: Found the issue. GSON uses the magic <code>sun.misc.Unsafe</code> class which has an <code>allocateInstance</code> method which is obviously considered very <code>unsafe</code> because what it does is skip initialization (constructors/field initializers and the like) and security checks. So there is your answer why a Kotlin non-nullable field can be null. Offending code is in <code>com/google/gson/internal/ConstructorConstructor.java:223</code></p>\n\n<p>Some interesting details about the <code>Unsafe</code> class: <a href=\"http://mishadoff.com/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/\" rel=\"noreferrer\">http://mishadoff.com/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/</a></p>\n"}, {"comments": [{"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1550465715, "post_id": 47476422, "comment_id": 96263623, "body": "This method not only solves the problem but also let you set the default value for the parameters."}], "tags": [], "owner": {"reputation": 61, "user_id": 3815660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb17ccb679f1f1aa50b3f7a4c654805?s=128&d=identicon&r=PG&f=1", "display_name": "Yuriy", "link": "https://stackoverflow.com/users/3815660/yuriy"}, "is_accepted": false, "score": 3, "last_activity_date": 1511538014, "creation_date": 1511538014, "answer_id": 47476422, "question_id": 45793451, "link": "https://stackoverflow.com/questions/45793451/kotlin-not-nullable-value-can-be-null/47476422#47476422", "title": "Kotlin not nullable value can be null?", "body": "<p>Try to override constructor like this:</p>\n\n<pre><code>class SomeData(\n        @SerializedName(\"user_name\") val name: String,\n        @SerializedName(\"user_city\") val city: String,\n        var notNullableValue: String = \"\") {\n    constructor() : this(\"\",\"\",\"\")\n}\n</code></pre>\n\n<p>Now after server response you can check the <strong>notNullableValue</strong> is not null - its empty</p>\n"}], "owner": {"reputation": 1479, "user_id": 5417224, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rGNpb.jpg?s=128&g=1", "display_name": "bitvale", "link": "https://stackoverflow.com/users/5417224/bitvale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4265, "favorite_count": 4, "accepted_answer_id": 45793703, "answer_count": 2, "score": 12, "last_activity_date": 1511538014, "creation_date": 1503307138, "last_edit_date": 1503311309, "question_id": 45793451, "link": "https://stackoverflow.com/questions/45793451/kotlin-not-nullable-value-can-be-null", "title": "Kotlin not nullable value can be null?", "body": "<p>I have backend that return me some json.</p>\n\n<p>I parse it to my class:</p>\n\n<pre><code>class SomeData(\n  @SerializedName(\"user_name\") val name: String,\n  @SerializedName(\"user_city\") val city: String,\n  var notNullableValue: String)\n</code></pre>\n\n<p>Use gson converter factory:</p>\n\n<pre><code>Retrofit retrofit = new Retrofit.Builder()\n  .baseUrl(ENDPOINT)\n  .client(okHttpClient)\n  .addConverterFactory(GsonConverterFactory.create(gson))\n  .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n  .build();\n</code></pre>\n\n<p>And in my interface:</p>\n\n<pre><code>interface MyAPI {\n    @GET(\"get_data\")\n    Observable&lt;List&lt;SomeData&gt;&gt; getSomeData();\n}\n</code></pre>\n\n<p>Then I retrieve data from the server (with rxJava) without any error. But I expected an error because I thought I should do something like this (to prevent GSON converter error, because <code>notNullableValue</code> is not present in my JSON response):</p>\n\n<pre><code>class SomeData @JvmOverloads constructor(\n  @SerializedName(\"user_name\") val name: String,\n  @SerializedName(\"user_city\") val city: String,\n var notNullableValue: String = \"\")\n</code></pre>\n\n<p>After the data is received from backend and parsed to my SomeData class with constructor without def value, the value of the <strong>notNullableValue == null</strong>. </p>\n\n<p>As I understand not nullable value can be null in Kotlin?</p>\n"}, {"tags": ["kotlin", "datetime-format", "spring-restcontroller"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 6044858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614b4c174365eeb8d37b68a943a966a4?s=128&d=identicon&r=PG", "display_name": "Jun Bach", "link": "https://stackoverflow.com/users/6044858/jun-bach"}, "edited": false, "score": 0, "creation_date": 1503311728, "post_id": 45793789, "comment_id": 78547470, "body": "Sorry, my mistake. I have not checked correctly. Thanks so much"}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 2, "last_activity_date": 1503308111, "creation_date": 1503308111, "answer_id": 45793789, "question_id": 45793353, "link": "https://stackoverflow.com/questions/45793353/how-to-parsing-localdatetime-from-restcontroller-in-kotlin/45793789#45793789", "title": "How to parsing LocalDateTime from RestController in Kotlin", "body": "<p>This is because you provide a value with a format not compatible with the defined <code>ISO</code>-date.</p>\n\n<p>Here your value (maybe just a \"typo\" from your side) and a working value</p>\n\n<pre><code>2017-08-21T00:00:000.00   (yours)\n2017-08-21T00:00:00.000   (working)\n</code></pre>\n\n<p>Ensure that you provide a valid second and millisecond value.</p>\n"}], "owner": {"reputation": 101, "user_id": 6044858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614b4c174365eeb8d37b68a943a966a4?s=128&d=identicon&r=PG", "display_name": "Jun Bach", "link": "https://stackoverflow.com/users/6044858/jun-bach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 45793789, "answer_count": 1, "score": -2, "last_activity_date": 1503308111, "creation_date": 1503306819, "question_id": 45793353, "link": "https://stackoverflow.com/questions/45793353/how-to-parsing-localdatetime-from-restcontroller-in-kotlin", "title": "How to parsing LocalDateTime from RestController in Kotlin", "body": "<p>I'm trying to implement a controller for my application using kotlin. But there are an error when parsing the datetime format when I make a get request.  </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/records\")\nclass RecordController(val recordService: RecordService) {\n\n  @GetMapping(\"details\")\n  fun getRecordDetail(\n    @RequestParam recordId: Int,\n    @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) dateTime: LocalDateTime): RecordDto {\n    return recordService.getRecordDetails(recordId, dateTime)\n  }\n}\n</code></pre>\n\n<p>The error is </p>\n\n<pre><code>Failed to convert value of type 'java.lang.String' to required type 'java.time.LocalDateTime'; nested exception is org.springframework.core.convert.ConversionFailedException: \nFailed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam @org.springframework.format.annotation.DateTimeFormat java.time.LocalDateTime] for value '2017-08-21T00:00:000.00'; nested exception is java.lang.IllegalArgumentException: \nParse attempt failed for value [2017-08-21T00:00:000.00]\"\n</code></pre>\n\n<p>The rest api works fine without the dateTime parameter. </p>\n"}, {"tags": ["java", "kotlin", "rx-java", "observable", "reactivex"], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 3900210, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c2ea656f87f465289d7fb2e3abd952f?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/3900210/sagar"}, "edited": false, "score": 0, "creation_date": 1503762334, "post_id": 45812864, "comment_id": 78753036, "body": "Thanks it helps in arriving at the solution desired in my case"}], "tags": [], "owner": {"reputation": 1802, "user_id": 2814877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35675fe55ce061fb6594c53afc01de47?s=128&d=identicon&r=PG&f=1", "display_name": "m.ostroverkhov", "link": "https://stackoverflow.com/users/2814877/m-ostroverkhov"}, "is_accepted": true, "score": 1, "last_activity_date": 1503391336, "creation_date": 1503391336, "answer_id": 45812864, "question_id": 45792998, "link": "https://stackoverflow.com/questions/45792998/rxjava-sliding-window/45812864#45812864", "title": "RxJava Sliding Window", "body": "<p>I think it can be solved with builtin operators. Code below demonstrates one of the approaches, though things can get tricky when used for hot or non-lightweight cold sources - I encourage you to use it for educational/ get-an-idea purposes, and not production use</p>\n\n<pre><code> @Test\nfun slidingWindow() {\n    val events = Flowable.just(\n            Data(5, 1.0),\n            Data(10, 1.5),\n            Data(30, 2.8),\n            Data(40, 3.2),\n            Data(60, 3.8),\n            Data(90, 4.2))\n            .observeOn(Schedulers.io())\n    val windows = window(windowSize = 3, slideSize = 1, data = events).toList().blockingGet()\n    Assert.assertNotNull(windows)\n    Assert.assertFalse(windows.isEmpty())\n}\n\nfun window(windowSize: Int, slideSize: Int, data: Flowable&lt;Data&gt;): Flowable&lt;List&lt;Int&gt;&gt; = window(\n        from = 0,\n        to = windowSize,\n        slideSize = slideSize,\n        data = data)\n\nfun window(from: Int, to: Int, slideSize: Int, data: Flowable&lt;Data&gt;): Flowable&lt;List&lt;Int&gt;&gt; {\n    val window = data.takeWhile { it.time &lt;= to }.skipWhile { it.time &lt; from }.map { it.data }\n    val tail = data.skipWhile { it.time &lt;= from + slideSize }\n    val nonEmptyWindow = window.toList().filter { !it.isEmpty() }\n    val nextWindow = nonEmptyWindow.flatMapPublisher {\n        window(from + slideSize, to + slideSize, slideSize, tail).observeOn(Schedulers.io())\n    }\n    return nonEmptyWindow.toFlowable().concatWith(nextWindow)\n}\n\ndata class Data(val data: Int, val time: Double)\n</code></pre>\n\n<p>The test above yields<br>\n <code>[[5, 10, 30],\n  [10, 30, 40, 60],\n  [30, 40, 60, 90], \n  [40, 60, 90], \n  [90]]</code></p>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 3334012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23a798f1261464d227c1243dee4f2de2?s=128&d=identicon&r=PG&f=1", "display_name": "Vouskopes", "link": "https://stackoverflow.com/users/3334012/vouskopes"}, "is_accepted": false, "score": 0, "last_activity_date": 1580393206, "creation_date": 1580393206, "answer_id": 59987830, "question_id": 45792998, "link": "https://stackoverflow.com/questions/45792998/rxjava-sliding-window/59987830#59987830", "title": "RxJava Sliding Window", "body": "<p>It can be done by operators <code>timestamp()</code> and <code>scan()</code>, buffer elements inside scan and ispect them. \nExample for the idea (it does not buffer initial 3 seconds), with <code>compose()</code> operator.</p>\n\n<pre><code>/**\n * Sliding overlapping window. If exactCount of elements are within timespan\n * then groups elements into List otherwise filtered out\n */\nfun &lt;T&gt; slidingWindow(\n    timespan: Long,\n    timespanUnit: TimeUnit,\n    exactCount: Int\n): (Observable&lt;T&gt;) -&gt; Observable&lt;List&lt;T&gt;&gt; {\n    return { from -&gt;\n        from.timestamp(timespanUnit)\n            .scan(\n                ArrayDeque&lt;Timed&lt;T&gt;&gt;(exactCount + 1),\n                { queue: ArrayDeque&lt;Timed&lt;T&gt;&gt;, t: Timed&lt;T&gt;\n                    -&gt;\n                    queue.addLast(t)\n                    if (queue.size &gt; exactCount) queue.removeFirst()\n                    queue.removeAll { timed -&gt; queue.last().time() - timed.time() &gt; timespan }\n                    queue\n                }\n            )\n            .filter { it.size == exactCount }\n            .map { it.toTypedArray() }\n            .map { it.map { timed -&gt; timed.value() } }\n    }\n}\n\n    @Test\n    fun slidingWindow() {\n        val testSequence = \"asXZYe\".asIterable()\n        val timespan = 5000L\n\n\n        Observable.fromIterable(testSequence)\n            .compose(slidingWindow(timespan, TimeUnit.MILLISECONDS, 3))\n            .test()\n            .assertValues(\n                arrayListOf('a', 's', 'X'),\n                arrayListOf('s', 'X', 'Z'),\n                arrayListOf('X', 'Z', 'Y'),\n                arrayListOf('Z', 'Y', 'e')\n            )\n    }\n</code></pre>\n\n<p>My github: <a href=\"https://github.com/OndrejMalek/RxSlidingWindow\" rel=\"nofollow noreferrer\">github.com/OndrejMalek/RxSlidingWindow</a></p>\n"}], "owner": {"reputation": 365, "user_id": 3900210, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c2ea656f87f465289d7fb2e3abd952f?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/3900210/sagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 0, "accepted_answer_id": 45812864, "answer_count": 2, "score": 2, "last_activity_date": 1580393206, "creation_date": 1503305767, "last_edit_date": 1503306161, "question_id": 45792998, "link": "https://stackoverflow.com/questions/45792998/rxjava-sliding-window", "title": "RxJava Sliding Window", "body": "<p>I have an observable which emits data and I want to initially buffer it for three seconds and then there must be a sliding of one second after initial buffer. This is more like <code>buffer(timespan,unit,skip)</code> where the skip is on the timespan.</p>\n\n<p>Sample:</p>\n\n<pre><code>ObservableData,TimeStamp : (5,1),(10,1.5),(30,2.8),(40,3.2),(60,3.8),(90,4.2)\n\nExpectedList : {5,10,30},{10,30,40,60},{30,40,60,90}\n</code></pre>\n\n<p>I can achieve this by creating a custom operator. I just want to know is there any way to do it without relying on the custom operator.</p>\n"}, {"tags": ["java", "kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 665, "user_id": 4681266, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8ef2ab63487dfd1c37a0301195843a3d?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Huff", "link": "https://stackoverflow.com/users/4681266/gabriel-huff"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1503302710, "post_id": 45791933, "comment_id": 78541789, "body": "You are right. I&#39;ll edit the question"}], "answers": [{"comments": [{"owner": {"reputation": 665, "user_id": 4681266, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8ef2ab63487dfd1c37a0301195843a3d?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Huff", "link": "https://stackoverflow.com/users/4681266/gabriel-huff"}, "edited": false, "score": 0, "creation_date": 1503309637, "post_id": 45793535, "comment_id": 78546131, "body": "This makes sense, although I confess I&#39;d expect subscriptions and emissions to be synchronised internally. In my particular case, I don&#39;t have control over <b>1</b> and <b>2</b>. I&#39;m just consuming a hot observable provided by an external library which happens to be emitting on IO scheduler threads. Before I mark your answer as accepted, do you think there would be a better way to accomplish this without the weird <code>while</code> loop?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 665, "user_id": 4681266, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8ef2ab63487dfd1c37a0301195843a3d?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Huff", "link": "https://stackoverflow.com/users/4681266/gabriel-huff"}, "edited": false, "score": 0, "creation_date": 1503314755, "post_id": 45793535, "comment_id": 78549310, "body": "By having 2, the API provider has explicitly opted out of any sychnronized behavior, thus you have to make him/her not do <code>subscribeOn</code>."}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 1, "last_activity_date": 1503307395, "creation_date": 1503307395, "answer_id": 45793535, "question_id": 45791933, "link": "https://stackoverflow.com/questions/45791933/odd-testobserver-behaviour-when-subscribing-to-a-subject/45793535#45793535", "title": "Odd TestObserver behaviour when subscribing to a Subject", "body": "<p>By unsing <code>subscribeOn</code>, you put the actual subscription to the <code>Subject</code> on another thread which then may take a bit longer so that <code>subject.onNext(42)</code> still finds an unsubscribed <code>Subject</code>.</p>\n\n<p>Apart from the fact that using <code>subscribeOn</code> on a <code>PublishSubject</code> has no practical use, you could await the subscription by looping a bit:</p>\n\n<pre><code>while (!subject.hasObservers()) { Thread.sleep(1); }\n</code></pre>\n"}], "owner": {"reputation": 665, "user_id": 4681266, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8ef2ab63487dfd1c37a0301195843a3d?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Huff", "link": "https://stackoverflow.com/users/4681266/gabriel-huff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 45793535, "answer_count": 1, "score": 0, "last_activity_date": 1503307395, "creation_date": 1503302275, "last_edit_date": 1503302729, "question_id": 45791933, "link": "https://stackoverflow.com/questions/45791933/odd-testobserver-behaviour-when-subscribing-to-a-subject", "title": "Odd TestObserver behaviour when subscribing to a Subject", "body": "<p>Consider the following <em>RxJava 2</em> snippet in <em>Kotlin</em>:</p>\n\n<pre><code>// 1. Create subject\nval subject = PublishSubject.create&lt;Int&gt;()\n\n// 2. Get observable\nval observable = subject.subscribeOn(Schedulers.io())\n\n// 3. Subscribe\nval observer = observable.test()\n\n// 4. Trigger next\nsubject.onNext(42)\n\n// 5. Await\nobserver.awaitCount(1)\n\n// 6. Assert value\nobserver.assertValue(42)\n</code></pre>\n\n<p>From my understanding, <code>observer</code> should be able to receive <code>42</code> after waiting on statement <strong>5</strong> and the assertion on statement <strong>6</strong> should succeed.</p>\n\n<p>However, what actually happens is: <strong>5</strong> blocks until it times out because no value is received and the assertion on <strong>6</strong> fails.</p>\n\n<p>Also, if I put a breakpoint on <strong>3</strong> and just resume the execution after it pauses, everything will work. Looks like a threading problem.</p>\n\n<p>I'm clearly missing something here. What would be the correct way to consume a hot observable?</p>\n"}, {"tags": ["kotlin", "rx-java"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1503386125, "post_id": 45790941, "comment_id": 78579713, "body": "what do you finally convert into?"}], "answers": [{"tags": [], "owner": {"reputation": 9320, "user_id": 7045114, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9OfXY.jpg?s=128&g=1", "display_name": "Maksim Ostrovidov", "link": "https://stackoverflow.com/users/7045114/maksim-ostrovidov"}, "is_accepted": true, "score": 2, "last_activity_date": 1503536546, "creation_date": 1503536546, "answer_id": 45851390, "question_id": 45790941, "link": "https://stackoverflow.com/questions/45790941/rxjava-how-to-group-items-of-one-list-to-mapkey-listvalue/45851390#45851390", "title": "RxJava how to group items of one list to Map&lt;Key, List&lt;Value&gt;&gt;", "body": "<p>To put your cabinets into a <code>Map</code> you could utilize <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Observable.html#collectInto-U-io.reactivex.functions.BiConsumer-\" rel=\"nofollow noreferrer\"><code>collectInto</code></a> operator:</p>\n\n<pre><code>getCabs()\n    .filter { it.title != null }\n    .collectInto(mutableMapOf&lt;Int, MutableList&lt;Cabinet&gt;&gt;()) { map, cabinet -&gt;\n        if(map.contains(cabinet.floor)) map[cabinet.floor]?.add(cabinet)\n        else map.put(cabinet.floor, mutableListOf(cabinet))\n     }\n     // here is your Map&lt;Int, List&lt;Cabinet&gt;&gt;\n</code></pre>\n\n<p>Going further, you could map your <code>Map</code> to <code>List&lt;Tab&gt;</code> using <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Observable.html#flatMapIterable-io.reactivex.functions.Function-\" rel=\"nofollow noreferrer\"><code>flatMapIterable</code></a> and <code>Set</code> of <code>Map</code> entries:</p>\n\n<pre><code>    .toObservable() // because collectInto returns Single\n    .flatMapIterable { it.entries }\n    .map { Tab(floor = it.key, cabinetList = it.value) }\n    // here is your Observable&lt;List&lt;Tabs&gt;&gt;\n</code></pre>\n\n<p>P.S. I assume that you use <code>RxJava2</code>.</p>\n"}], "owner": {"reputation": 787, "user_id": 3352926, "user_type": "registered", "accept_rate": 26, "profile_image": "https://graph.facebook.com/100006707890365/picture?type=large", "display_name": "user3352926", "link": "https://stackoverflow.com/users/3352926/user3352926"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 0, "accepted_answer_id": 45851390, "answer_count": 1, "score": 1, "last_activity_date": 1503536587, "creation_date": 1503298498, "last_edit_date": 1503536587, "question_id": 45790941, "link": "https://stackoverflow.com/questions/45790941/rxjava-how-to-group-items-of-one-list-to-mapkey-listvalue", "title": "RxJava how to group items of one list to Map&lt;Key, List&lt;Value&gt;&gt;", "body": "<p>I have a class \"Cabinet\" with such structure:</p>\n\n<pre><code>class Cabinet {\n   var title: String\n   var floor: Int\n   var cabinetNumber: Int\n}\n</code></pre>\n\n<p>And another class \"Tabs\"</p>\n\n<pre><code>class Tabs {\n   var floor: Int\n   var cabinetList: List&lt;Cabinet&gt;\n}\n</code></pre>\n\n<p>So with help of RxJava I'm trying to create <code>Observable&lt;List&lt;Tabs&gt;&gt;</code>.\nFirstly I get a List of Cabinet, so I have to get all \"cabinets\" to \"Tabs\" structure.</p>\n\n<pre><code>fun getCabinets(): Observable&lt;List&lt;Tabs&gt;&gt; {\n   return getCabs()      //This metod returns List&lt;Cabinet&gt;\n          .observeOn(Schedulers.io))\n          .filter { it.title != null }\n          ... ???  //There I don't get what to do next\n</code></pre>\n\n<p>I thought to use \"toMap\" to create collection <code>Map&lt;floor: Int, cabinetList: List&lt;Cabinet&gt;&gt;</code> but don't know how to make it reqursively. \nPlease help</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 1, "creation_date": 1503298693, "post_id": 45790709, "comment_id": 78539568, "body": "I know about the &#39;?&#39; nullable thing, but how did you make the &#39;callback&#39; parameter optional in the second line of code ?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 0, "creation_date": 1503298810, "post_id": 45790709, "comment_id": 78539634, "body": "You mean here: &quot;callback: Callback&lt;List&lt;GitHubRepo&gt;&gt;? = null&quot; ? the callback is nullable and null by default, so you can call the method by just leaving out the second param"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1503298769, "last_edit_date": 1503298769, "creation_date": 1503297618, "answer_id": 45790709, "question_id": 45790554, "link": "https://stackoverflow.com/questions/45790554/retrofit-implementation-in-kotlin-method-default-parameter/45790709#45790709", "title": "Retrofit implementation in Kotlin - Method Default Parameter", "body": "<p>The <code>reposForUser</code> method is expecting two arguments: a <code>String</code> and a <code>Callback</code>, but you're only providing the <code>String</code>:</p>\n\n<pre><code> client.reposForUser(\"fs-opensource\")\n</code></pre>\n\n<p>You can make your callback \"optional\" by doing this:</p>\n\n<pre><code>fun reposForUser(@Path(\"user\") user: String, callback: Callback&lt;List&lt;GitHubRepo&gt;&gt;? )\n</code></pre>\n\n<p>I've added a question mark behind your callback's type in order to say: It's a <strong>nullable</strong> parameter. If you even want to say, that <strong>no</strong> callback is the <strong>default</strong>, also making the client call more convenient, I'd suggest you provide a default value for <code>callback</code>, like so:</p>\n\n<pre><code>fun reposForUser(@Path(\"user\") user: String, callback: Callback&lt;List&lt;GitHubRepo&gt;&gt;? = null)\n</code></pre>\n\n<p>Be aware that you need to access <code>callback</code> in a safe way now, because it could be null. Read <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1687, "favorite_count": 0, "accepted_answer_id": 45790709, "answer_count": 1, "score": 3, "last_activity_date": 1503299958, "creation_date": 1503296987, "last_edit_date": 1503299958, "question_id": 45790554, "link": "https://stackoverflow.com/questions/45790554/retrofit-implementation-in-kotlin-method-default-parameter", "title": "Retrofit implementation in Kotlin - Method Default Parameter", "body": "<p>I am trying to implement this <a href=\"https://futurestud.io/tutorials/retrofit-getting-started-and-android-client\" rel=\"nofollow noreferrer\">getting started with Retrofit for Android</a> in <strong>Kotlin</strong>. I have made it as far as creating an instance of the <code>Retrofit</code> class but Kotlin dosen't seem to like it when I try to call the endpoint method in the interface <strong>without</strong> the callback parameter. Here is all the relevant code.    </p>\n\n<p>The Data Class: </p>\n\n<pre><code>data class GitHubRepo(val id:Int,val name:String)\n</code></pre>\n\n<p>The interface: </p>\n\n<pre><code>interface GitHubClient {\n@GET(\"/users/{user}/repos\")\nfun reposForUser(@Path(\"user\") user: String,callback: Callback&lt;List&lt;GitHubRepo&gt;&gt; )\n}\n</code></pre>\n\n<p>Retrofit implementation:</p>\n\n<pre><code>    val httpClient = OkHttpClient.Builder()\n\n    val builder = Retrofit.Builder().baseUrl(API_BASE_URL)\n                                    .addConverterFactory(GsonConverterFactory.create())\n\n    val retrofit = builder.client(httpClient.build()).build()\n\n    val client = retrofit.create(GitHubClient::class.java)\n\n    val call =  client.reposForUser(\"fs-opensource\") &lt;-- Error - No value passed for parameter 'callback'\n</code></pre>\n\n<p>From the tutorial: </p>\n\n<blockquote>\n  <p>You don\u2019t pass your callback as the last parameter. You use the\n  client to get a call object. Once you\u2019ve invoked .enqueue on the\n  created call object the request will be made by Retrofit</p>\n</blockquote>\n\n<p>How do I implement this in Kotlin? </p>\n"}, {"tags": ["for-loop", "kotlin", "android-graphview"], "answers": [{"tags": [], "owner": {"reputation": 439, "user_id": 4549478, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-4Hu6p-clYU4/AAAAAAAAAAI/AAAAAAAAAHo/JxzHlBX7MPE/photo.jpg?sz=128", "display_name": "SARATH V", "link": "https://stackoverflow.com/users/4549478/sarath-v"}, "is_accepted": true, "score": 1, "last_activity_date": 1503296924, "creation_date": 1503296924, "answer_id": 45790538, "question_id": 45789953, "link": "https://stackoverflow.com/questions/45789953/how-to-add-graph-view-in-android-using-kotlin/45790538#45790538", "title": "How to add graph view in android using Kotlin?", "body": "<p>Math.sinh(x) method was the problem. I was prepared it for sin(x), spell mistake. Above code works fine with slight change in y value. Change y=Math.sinh(x) to <strong>y=Math.sin(x)</strong> . Here i'am using Graphview library which is available <a href=\"http://www.android-graphview.org/download-getting-started/\" rel=\"nofollow noreferrer\">here</a>. Hope this will help someone.\nThanks</p>\n"}], "owner": {"reputation": 439, "user_id": 4549478, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-4Hu6p-clYU4/AAAAAAAAAAI/AAAAAAAAAHo/JxzHlBX7MPE/photo.jpg?sz=128", "display_name": "SARATH V", "link": "https://stackoverflow.com/users/4549478/sarath-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3229, "favorite_count": 2, "accepted_answer_id": 45790538, "answer_count": 1, "score": 0, "last_activity_date": 1503296924, "creation_date": 1503293920, "question_id": 45789953, "link": "https://stackoverflow.com/questions/45789953/how-to-add-graph-view-in-android-using-kotlin", "title": "How to add graph view in android using Kotlin?", "body": "<p>Following is a simple graph view code that i tried in Kotlin. But it doesn't work properly. App crashes while running .</p>\n\n<pre><code> `lateinit var series: LineGraphSeries&lt;DataPoint&gt;\n var x : Double = 0.0;  var y : Double = 0.0`\n</code></pre>\n\n<p>oncreate</p>\n\n<pre><code>var graphview : GraphView = findViewById(R.id.graphview) as GraphView\n\n        series = LineGraphSeries&lt;DataPoint&gt;()\n\n\n        x = -0.5\n\n        for (i in 0..500)\n        {\n            x += 0.1\n            y = Math.sinh(x)\n            series.appendData(DataPoint(x,y), true, 500)\n        }\n\n\n        graphview.addSeries(series)\n</code></pre>\n\n<p>Error Log</p>\n\n<pre><code> FATAL EXCEPTION: main\n                                                                                   Process: com.example.sarath.mykotinapplication, PID: 18986\n                                                                                   java.lang.OutOfMemoryError: Failed to allocate a 1073741836 byte allocation with 13311040 free bytes and 172MB until OOM\n                                                                                       at java.util.HashMap.inflateTable(HashMap.java:287)\n                                                                                       at java.util.HashMap.put(HashMap.java:419)\n                                                                                       at com.jjoe64.graphview.GridLabelRenderer.adjustVertical(GridLabelRenderer.java:791)\n                                                                                       at com.jjoe64.graphview.GridLabelRenderer.adjustSteps(GridLabelRenderer.java:932)\n                                                                                       at com.jjoe64.graphview.GridLabelRenderer.draw(GridLabelRenderer.java:1067)\n                                                                                       at com.jjoe64.graphview.GraphView.drawGraphElements(GraphView.java:299)\n                                                                                       at com.jjoe64.graphview.GridLabelRenderer.draw(GridLabelRenderer.java:1062)\n                                                                                       at com.jjoe64.graphview.GraphView.drawGraphElements(GraphView.java:299)\n                                                                                       at com.jjoe64.graphview.GraphView.onDraw(GraphView.java:323)\n                                                                                       at android.view.View.draw(View.java:17077)\n                                                                                       at android.view.View.updateDisplayListIfDirty(View.java:16059)\n                                                                                       at android.view.View.draw(View.java:16843)\n                                                                                       at android.view.ViewGroup.drawChild(ViewGroup.java:3764)\n                                                                                       at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3550)\n                                                                                       at android.view.View.updateDisplayListIfDirty(View.java:16054)\n                                                                                       at android.view.View.draw(View.java:16843)\n                                                                                       at android.view.ViewGroup.drawChild(ViewGroup.java:3764)\n                                                                                       at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3550)\n                                                                                       at android.view.View.updateDisplayListIfDirty(View.java:16054)\n                                                                                       at android.view.View.draw(View.java:16843)\n                                                                                       at android.view.ViewGroup.drawChild(ViewGroup.java:3764)\n                                                                                       at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3550)\n                                                                                       at android.view.View.updateDisplayListIfDirty(View.java:16054)\n                                                                                       at android.view.View.draw(View.java:16843)\n                                                                                       at android.view.ViewGroup.drawChild(ViewGroup.java:3764)\n                                                                                       at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3550)\n                                                                                       at android.view.View.updateDisplayListIfDirty(View.java:16054)\n                                                                                       at android.view.View.draw(View.java:16843)\n                                                                                       at android.view.ViewGroup.drawChild(ViewGroup.java:3764)\n                                                                                       at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3550)\n                                                                                       at android.view.View.updateDisplayListIfDirty(View.java:16054)\n                                                                                       at android.view.View.draw(View.java:16843)\n                                                                                       at android.view.ViewGroup.drawChild(ViewGroup.java:3764)\n                                                                                       at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3550)\n                                                                                       at android.view.View.draw(View.java:17080)\n                                                                                       at com.android.internal.policy.DecorView.draw(DecorView.java:751)\n                                                                                       at android.view.View.updateDisplayListIfDirty(View.java:16059)\n                                                                                       at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:656)\n                                                                                       at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:662)\n                                                                                       at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:770)\n                                                                                       at android.view.ViewRootImpl.draw(ViewRootImpl.java:2841)\n                                                                                       at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2649)\n                                                                                       at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2256)\n                                                                                       at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1291)\n                                                                                       at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6357)\n                                                                                       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:873)\n                                                                                       at android.view.Choreographer.doCallbacks(Choreographer.java:685)\n                                                                                       at android.view.Choreographer.doFrame(Choreographer.java:621)\n                                                                                       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:859)\n                                                                                       at android.os.Handler.handleCallback(Handler.java:751)\n                                                                                       at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                                       at android.os.Looper.loop(Looper.java:154)\n                                                                                       at android.app.ActivityThread.main(ActivityThread.java:6195)\n                                                                                       at java.lang.reflect.Method.invoke(Native Method)\n                                                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:874)\n                                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:764)\n</code></pre>\n\n<p>08-21 10:56:32.022 18986-18986/com.example.sarath.mykotinapplication E/MQSEventManagerDelegate: failed to get MQSService.</p>\n\n<p>Is there any code error? Its a part of study, Expecting suggestions about kotlin  from experts </p>\n"}, {"tags": ["generics", "kotlin", "erasure"], "comments": [{"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 1, "creation_date": 1503291552, "post_id": 45789446, "comment_id": 78536769, "body": "<code>bars[2]!!</code> is retrieving a <code>Bar&lt;*&gt;</code>, which makes <code>bar.bazes</code> a <code>MutableList&lt;*&gt;</code>, so you shouldn&#39;t be able to add/set that list at all since you do not know the actual type parameter. Remember that the functions&#39; generic type parameter is unrelated and may be anything. As to why the error message is so cryptic, no idea...but that definitely shouldn&#39;t compile."}], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 1, "last_activity_date": 1503293307, "creation_date": 1503293307, "answer_id": 45789845, "question_id": 45789446, "link": "https://stackoverflow.com/questions/45789446/setter-for-field-is-removed-by-type-projection/45789845#45789845", "title": "Setter for field is removed by type projection", "body": "<p>There's a couple little issues. Temporarily using <code>bars[2]!! as Bar&lt;Baz&gt;</code>,</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>w: (4, 20): Unchecked cast: Foo.Bar&lt;Any?&gt; to Foo.Bar&lt;Baz&gt;\ne: (5, 20): Assignment operators ambiguity: \npublic operator fun &lt;T&gt; Collection&lt;Baz&gt;.plus(element: Baz): List&lt;Baz&gt; defined in kotlin.collections\n@InlineOnly public operator inline fun &lt;T&gt; MutableCollection&lt;in Baz&gt;.plusAssign(element: Baz): Unit defined in kotlin.collections\n</code></pre>\n\n<p>Kotlin doesn't know whether to handle it as <code>bar2.bazes = bar2.bazes.plus(baz)</code> or <code>bar2.bazes.plusAssign(baz)</code>. If you change it to <code>var2.bazes.add(baz)</code> or <code>val bazes</code> the ambiguity goes away.</p>\n\n<p>Fixing that and removing the unsafe cast brings up</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>e: (5, 20): Out-projected type 'MutableList&lt;out Any?&gt;' prohibits the use of 'public abstract fun add(element: E): Boolean defined in kotlin.collections.MutableList'\n</code></pre>\n\n<p>the question of what can safely be done with the type projection. It gets treated like <code>out Any?</code>, so you can read from the list, but <code>in Nothing</code>, which means you can't add anything to the list.</p>\n\n<p>It's unclear from this example why you're using <code>*</code>. If it doesn't cause any other issues, perhaps you could lift out the <code>&lt;Baz&gt;</code> parameter, e.g.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Foo&lt;Baz&gt;(val bars: Map&lt;Int, Bar&lt;Baz&gt;&gt;)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1503415707, "post_id": 45790327, "comment_id": 78601202, "body": "As I mentioned, using the declaration <code>val bazes</code> instead of <code>var bazes</code>, there is no ambiguity and the compiler always resolves to <code>.plusAssign()</code>."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1503415757, "post_id": 45790327, "comment_id": 78601233, "body": "Then you should rather use add imho"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1503415792, "post_id": 45790327, "comment_id": 78601253, "body": "I did. &quot;If you change it to <code>var2.bazes.add(baz)</code> or <code>val bazes</code> the ambiguity goes away.&quot;"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1503296510, "last_edit_date": 1503296510, "creation_date": 1503295930, "answer_id": 45790327, "question_id": 45789446, "link": "https://stackoverflow.com/questions/45789446/setter-for-field-is-removed-by-type-projection/45790327#45790327", "title": "Setter for field is removed by type projection", "body": "<p><strong>The issue:</strong> Your <code>bars</code> property is using \"star projection\", which, put simply, just means: \"I don't know the generic type of <code>Bar</code>\". This in turn leads to a problem: You'll only be able to <em>get</em> something from the <code>MutableList</code>, <em>adding</em> is prohibited (Thus the error message: No <strong>Setter</strong> for <code>bazes</code>!).</p>\n\n<p><strong>A possible solution:</strong></p>\n\n<pre><code> class Foo&lt;in Baz&gt;(private val bars: Map&lt;Int, Bar&lt;in Baz&gt;&gt;) {\n\n    fun qux(baz: Baz) {\n        val bar2 = bars[2]!!\n        bar2.bazes.add(baz)\n    }\n\n    interface Bar&lt;Baz&gt; {\n        var bazes: MutableList&lt;Baz&gt;\n    }\n}\n</code></pre>\n\n<p>What I changed here, is that I made <code>Foo</code> typed with <code>in Baz</code>, which means <code>Foo</code> is made <em>contravariant</em> in its type parameter, thus <code>Baz</code>s can only be consumed. The same type is then used for the input parameter <code>bars</code>. As a result, you're now able to <em>add</em> values into <code>bars.bazes</code>, because the associated <code>MutableList</code> is said to be a \"Consumer\" of <code>Bar</code>s.</p>\n\n<p>btw: Using <code>Baz</code> as a name for the generic type isn't <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">recommended</a> - You should rather use <code>T</code> which is more obvious to be a generic type. </p>\n\n<p>I know, it's a complex topic and I really advise to consult the good <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">documentation</a> as a further step :) </p>\n\n<p><strong>The plusAssign issue</strong></p>\n\n<p>The usage of <code>+=</code> (<code>plusAssign</code> operator) on the other hand is a bit weird:\nThe compiler complains not to be able to choose the correct operator:</p>\n\n<blockquote>\n  <p>Assignment operators ambiguity:<br>\n  public operator fun  Collection.plus(element: Any?): List >defined in kotlin.collections </p>\n  \n  <p>@InlineOnly public operator inline fun \n  MutableCollection.plusAssign(element: Baz): Unit \n  defined in kotlin.collections</p>\n</blockquote>\n\n<p>I tried to explicitly cast <code>bazes</code> to <code>MutableList</code> which in fact solves the issue. The compiler then complains about an <strong>unecessary</strong> cast though. I don't know how to handle this properly to be honest except using <code>add</code> instead ;-)</p>\n"}], "owner": {"reputation": 25726, "user_id": 453435, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/SjPwA.jpg?s=128&g=1", "display_name": "Ben Leggiero", "link": "https://stackoverflow.com/users/453435/ben-leggiero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1554, "favorite_count": 0, "accepted_answer_id": 45789845, "answer_count": 2, "score": 1, "last_activity_date": 1503296510, "creation_date": 1503290728, "question_id": 45789446, "link": "https://stackoverflow.com/questions/45789446/setter-for-field-is-removed-by-type-projection", "title": "Setter for field is removed by type projection", "body": "<p>I have the following SSCCE:</p>\n\n<pre><code>class Foo(val bars: Map&lt;Int, Bar&lt;*&gt;&gt;) {\n\n    fun &lt;Baz&gt; qux(baz: Baz) {\n        val bar2 = bars[2]!!\n        bar2.bazes += baz\n    }\n\n    interface Bar&lt;Baz&gt; {\n        var bazes: MutableList&lt;Baz&gt;\n    }\n}\n</code></pre>\n\n<p>This seems fine to me, but the compiler complains that:</p>\n\n<pre><code>Error:(5, 9) Kotlin: Setter for 'bazes' is removed by type projection\n</code></pre>\n\n<p>I have no idea what this even means, much less how to correct it. What's going on here and how do I get around it?</p>\n"}, {"tags": ["android", "firebase", "firebase-authentication", "kotlin", "rx-java"], "answers": [{"tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 1, "last_activity_date": 1503300336, "last_edit_date": 1503300336, "creation_date": 1503298033, "answer_id": 45790808, "question_id": 45788800, "link": "https://stackoverflow.com/questions/45788800/rxjava-how-to-return-the-correct-type-of-null/45790808#45790808", "title": "RxJava: how to return the correct type of null", "body": "<p>Have a look at following construct:</p>\n\n<pre><code>        val temp = null\n        Observable.just(\"some value\")\n                .flatMap {\n                    // Throw exception if temp is null\n                    if (temp != null) Observable.just(it) else Observable.error(Exception(\"\")) \n                }\n                .onErrorReturnItem(\"\") // return blank string if exception is thrown\n                .flatMap { v -&gt;\n                    Single.create&lt;String&gt;{\n                        // do something\n                        it.onSuccess(\"Yepeee $v\");\n                    }.toObservable()\n                }\n                .subscribe({\n                    System.out.println(\"Yes it worked: $it\");\n                },{\n                    System.out.println(\"Sorry: $it\");\n                })\n</code></pre>\n\n<p>You should throw an error if you encounter a null, and then use <code>onErrorReturn{}</code> or <code>onErrorReturnItem()</code> operator to return a default value that will be passed to next operator chain without jumping to <code>onError</code> in <code>Observer</code>.</p>\n\n<p>So your code should look like this:</p>\n\n<pre><code>RxFirebaseAuth.createUserWithEmailAndPassword(auth, email, password)\n                .map { authResult -&gt;\n                    user.uid = authResult.user.uid\n                    authResult.user.uid\n                }\n                .flatMap&lt;UploadTask.TaskSnapshot&gt;(\n                        { uid -&gt;\n                            if (imageUri != null)\n                                RxFirebaseStorage.putFile(mFirebaseStorage\n                                        .getReference(STORAGE_IMAGE_REFERENCE)\n                                        .child(uid), imageUri)\n                            else\n                                Observable.error&lt;Exception&gt;(Exception(\"null value\")) // Throw exception if imageUri is null\n                        }\n                )\n                .map { taskSnapshot -&gt; user.photoUrl = taskSnapshot.downloadUrl!!.toString() }\n                .onErrorReturn {\n                    user.photoUrl = \"\" // assign blank url string if exception is thrown\n                }\n                .map {\n                    RxFirebaseDatabase\n                            .setValue(mFirebaseDatabase.getReference(\"user\")\n                                    .child(user.uid), user).subscribe()\n                }\n                .doOnComplete { appLocalDataStore.saveUser(user) }\n                .toObservable()\n</code></pre>\n\n<p>But there is a problem with this code that any exception occurred before <code>onErrorReturn</code> would yield a blank uri and result in further chain execution that we do not want. If any other exception occurs onError should be invoked.</p>\n\n<p>For that we need to create a custom Exception class and catch this thrown exception in <code>onErrorReturn</code>. Have a look at following snippet:</p>\n\n<pre><code>...\n...\n\n.flatMap&lt;UploadTask.TaskSnapshot&gt;(\n                        { uid -&gt;\n                            if (imageUri != null)\n                                RxFirebaseStorage.putFile(mFirebaseStorage\n                                        .getReference(STORAGE_IMAGE_REFERENCE)\n                                        .child(uid), imageUri)\n                            else\n                                Observable.error&lt;MyCustomException&gt;(MyCustomException(\"null value\")) // Throw exception if imageUri is null\n                        }\n                )\n                .map { taskSnapshot -&gt; user.photoUrl = taskSnapshot.downloadUrl!!.toString() }\n                .onErrorReturn {\n                    if(it !is MyCustomException)\n                        throw it\n                    else\n                        user.photoUrl = \"\" // assign blank url string if exception is thrown\n\n                }\n...\n...\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 628, "user_id": 3549273, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001773936669/picture?type=large", "display_name": "jackcar", "link": "https://stackoverflow.com/users/3549273/jackcar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7006, "favorite_count": 0, "accepted_answer_id": 45790808, "answer_count": 1, "score": 4, "last_activity_date": 1503317042, "creation_date": 1503284802, "last_edit_date": 1503317042, "question_id": 45788800, "link": "https://stackoverflow.com/questions/45788800/rxjava-how-to-return-the-correct-type-of-null", "title": "RxJava: how to return the correct type of null", "body": "<p>I'm developing an app using Firebase, Kotlin and RxJava.</p>\n\n<p>Basically, what I need to do is register an user using Auth from Firebase, if the user selected a photo, upload the photo and then save the user in the database from Firebase. </p>\n\n<p>Until now I have this</p>\n\n<pre><code>RxFirebaseAuth.createUserWithEmailAndPassword(auth, email, password)\n            .map { authResult -&gt;\n                user.uid = authResult.user.uid\n                authResult.user.uid\n            }\n            .flatMap&lt;UploadTask.TaskSnapshot&gt;(\n                    { uid -&gt;\n                        if (imageUri != null)\n                            RxFirebaseStorage.putFile(mFirebaseStorage\n                                    .getReference(STORAGE_IMAGE_REFERENCE)\n                                    .child(uid), imageUri)\n                        else\n                            Maybe.empty&lt;UploadTask.TaskSnapshot&gt;()\n                    }\n            )\n            .map { taskSnapshot -&gt; user.photoUrl = taskSnapshot.downloadUrl!!.toString() }\n            .map {\n                RxFirebaseDatabase\n                        .setValue(mFirebaseDatabase.getReference(\"user\")\n                                .child(user.uid), user).subscribe()\n            }\n            .doOnComplete { appLocalDataStore.saveUser(user) }\n            .toObservable()\n</code></pre>\n\n<p>It's working correctly when the user selects a photo, but when it's not selected, the other maps are ignored, because I returned Maybe.empty().</p>\n\n<p>How should I implement this to work with or without a user photo?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 6, "last_activity_date": 1503274582, "creation_date": 1503274582, "answer_id": 45787951, "question_id": 45787898, "link": "https://stackoverflow.com/questions/45787898/kotlin-setter-infinite-recursion/45787951#45787951", "title": "kotlin setter infinite recursion", "body": "<p>For this example, you could only compute one of the properties, e.g.</p>\n\n<pre><code>var a: Int = 0\n\nvar b: Int\n    get() = 10 - a\n    set(value) { a = 10 - value }\n</code></pre>\n\n<p>In general, though, Kotlin doesn't provide access to the backing fields of other properties. You'll have to write it manually, e.g.</p>\n\n<pre><code>private var _a: Int = 0\nvar a: Int\n    get() = _a\n    set(value) {\n        _a = value\n        _b = 10 - value\n    }\n\nprivate var _b: Int = 10\nvar b: Int\n    get() = _b\n    set(value) {\n        _b = value\n        _a = 10 - value\n    }\n</code></pre>\n\n<p>Kotlin won't generate its own backing fields for these properties because they are never used.</p>\n"}], "owner": {"reputation": 53, "user_id": 2566903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f1ee722a7371aae0a7954eefd0bd2e2?s=128&d=identicon&r=PG", "display_name": "Mantaseus", "link": "https://stackoverflow.com/users/2566903/mantaseus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 823, "favorite_count": 0, "accepted_answer_id": 45787951, "answer_count": 1, "score": 5, "last_activity_date": 1522156702, "creation_date": 1503274071, "last_edit_date": 1522156702, "question_id": 45787898, "link": "https://stackoverflow.com/questions/45787898/kotlin-setter-infinite-recursion", "title": "kotlin setter infinite recursion", "body": "<p>I am testing out kotlin on Android and ran into a problem where the setters of two variables get called in an infinite recursion because they try to change each other when they are originally set.</p>\n\n<p>Here is a sample code</p>\n\n<pre><code>class Example {\n    var a: Int = 0\n        set(value) {\n            b = a+10\n        }\n\n    var b:Int = 0\n        set(value) {\n            a = b-10\n        }\n}\n</code></pre>\n\n<p>And say I then use the following code:</p>\n\n<pre><code>val example = Example()\nexample.a = 10\n</code></pre>\n\n<p>It ends up causing an infinte recursions and eventually a stackoverflow. The setter for <code>b</code> calls the setter for <code>a</code> which in turn calls the setter for <code>b</code> again. And it goes on for ever.</p>\n\n<p>I want to be able to update the value for <code>b</code> whenever <code>a</code> is set, but also update the value of <code>a</code> whenever <code>b</code> is set. </p>\n\n<p>Any thoughts from the Kotlin experts out there? Would I need to make Java like setters in this case so that my setter code doesn't get called whenever I assign a value to <code>a</code> or <code>b</code>. Or is there some nifty Kotlin goodness that I can use?</p>\n"}, {"tags": ["java", "json", "serialization", "jackson", "kotlin"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1503266026, "post_id": 45787066, "comment_id": 78531954, "body": "In this context, what do you mean by &quot;metadata&quot;? Could it be implemented as simple computed properties that Jackson maps in the normal way?"}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1503266249, "post_id": 45787066, "comment_id": 78532005, "body": "@PaulHicks By metadata I mean additional fields, because this object is the root one and remote API requires to have, for example, the JSON version specified, so I&#39;d like to add field <code>&quot;jsonrpc&quot;:&quot;2.0&quot;</code>. Yes, I can add it as a field to the class, but I think that it does not belong there as that information is not the part of the entity&#39;s state.  I don&#39;t know what you mean by computed properties"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1503267095, "post_id": 45787066, "comment_id": 78532192, "body": "Computed properties are simply ones with no setter (or where the setter does nothing); for example, <code>val jsonrpc = &quot;2.0&quot;</code> or <code>var time = Date().getTime()</code>.  Some properties would be suitable for an envelope class. If you don&#39;t to modify <code>JSONEnvelope</code>, then JsonAppend does seem like the best option. If you can&#39;t modify the ObjectWriter after calling <code>ObjectMapper.writerFor</code> then you&#39;ll have to do it beforehand, by overriding the <code>writerFor</code> method in an ObjectMapper that you provide using <code>@Provider</code>."}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1503299892, "post_id": 45787066, "comment_id": 78540258, "body": "@PaulHicks Thank you for clearance! If you convert a comment to an answer, I&#39;d be glad to accept it. I didn&#39;t even think about overriding <code>writeFor</code>, Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": true, "score": 1, "last_activity_date": 1503350530, "creation_date": 1503350530, "answer_id": 45805717, "question_id": 45787066, "link": "https://stackoverflow.com/questions/45787066/jacksons-jsonappend-with-default-value/45805717#45805717", "title": "Jackson&#39;s @JsonAppend with default value", "body": "<p>The solution in <a href=\"https://stackoverflow.com/a/42455398/3195526\">the answer you cited</a>, which adds a mixIn to a the ObjectMapper then uses the ObjectWriter to configure it, is a good solution.</p>\n\n<p>For Jersey, which calls <code>ObjectMapper.writerFor</code> and therefore prevents you from calling withAttribute in order to configure the ObjectWriter, one alternative is to add the attribute to the ObjectWriter <em>before</em> returning it from writerFor. I suggest subclassing ObjectMapper and overriding the various writerFor methods, adding the necessary attribute at that point. You can then get Jersey to use that ObjectMapper by registering it as a JAX-RS Provider: see the various annotations in <code>javax.ws.rs</code> to get started on this. <a href=\"https://stackoverflow.com/a/30082203/3195526\">This answer</a> gives an example of what to do.</p>\n"}], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1737, "favorite_count": 0, "accepted_answer_id": 45805717, "answer_count": 1, "score": 3, "last_activity_date": 1503350530, "creation_date": 1503265558, "question_id": 45787066, "link": "https://stackoverflow.com/questions/45787066/jacksons-jsonappend-with-default-value", "title": "Jackson&#39;s @JsonAppend with default value", "body": "<p>guys! I am developing a web application and I decided to use Jackson as my JSON processing framework. </p>\n\n<p>In request data that I am willing to send; let's say the POJO looks like this:</p>\n\n<pre><code>data class JSONEnvelope(\n        @JsonProperty(\"obj1\")\n        val obj1: Obj1,\n\n        @JsonProperty(\"obj2\")\n        val obj2: Obj2)\n</code></pre>\n\n<p>which get serialized like this:</p>\n\n<pre><code>{\n    \"obj1\":{...},\n    \"obj2\":{...}\n}\n</code></pre>\n\n<p>but I need to add some metadata to that object, let's say fields <code>meta1</code> and <code>meta</code>. I thought that <code>@JsonAppend</code> would solve my problem, but I am using Jackson together with Jersey, so I am not serializing objects manually, so I cannot use <code>writer.withAttribute(\"...\", ...)</code>.</p>\n\n<p>I am aware of <a href=\"https://stackoverflow.com/questions/14714328/jackson-how-to-add-custom-property-to-the-json-without-modifying-the-pojo\">this thread</a>, but there is no answer that kinda satisfy my needs, because I think, that writing a custom serializer is a bit overkill for this, moreover if I do not have a mechanism to \"serialize the rest of the original object\". I'd be glad for any ideas</p>\n"}, {"tags": ["kotlin", "default-value", "default-parameters"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 6, "creation_date": 1503260646, "post_id": 45786399, "comment_id": 78530529, "body": "No, it cannot. Since a default value of a parameter can be aribtrary expression with possible side effects, it would not be quite clear and intuitive to use it anywhere explicitly: what should be the semantics, should it be evaluated on each use or not?"}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1503261461, "post_id": 45786399, "comment_id": 78530758, "body": "What about just storing the min and max values as constants? That would make access visibility better too."}], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 3, "last_activity_date": 1535354691, "last_edit_date": 1535354691, "creation_date": 1503320900, "answer_id": 45797968, "question_id": 45786399, "link": "https://stackoverflow.com/questions/45786399/accessing-a-functions-default-parameter-value-in-kotlin/45797968#45797968", "title": "Accessing a function&#39;s default parameter value in Kotlin", "body": "<p>No, this is not possible. The default values are not accessible. They are just contained in a <code>bridge-method</code> in the bytecode:</p>\n\n<pre><code>fun test(a: Int = 123) {\n}\n\nfun test2() {\n    test()\n    test(100)\n}\n</code></pre>\n\n<p>Results in the bytecode:</p>\n\n<pre><code>public final test(int arg0) { //(I)V\n     &lt;localVar:index=0 , name=this , desc=Lorg/guenhter/springboot/kt/Fun;, sig=null, start=L1, end=L2&gt;\n     &lt;localVar:index=1 , name=a , desc=I, sig=null, start=L1, end=L2&gt;\n\n     L1 {\n         return\n     }\n     L2 {\n     }\n }\n\n public static bridge test$default(org.guenhter.springboot.kt.Fun arg0, int arg1, int arg2, java.lang.Object arg3) { //(Lorg/guenhter/springboot/kt/Fun;IILjava/lang/Object;)V\n         iload2 // reference to arg2\n         iconst_1\n         iand\n         ifeq L1\n     L2 {\n         bipush 123  // &lt;-- THIS IS YOUR DEFAULT VALUE\n         istore1 // reference to arg1\n     }\n     L1 {\n         aload0 // reference to arg0\n         iload1 // reference to arg1\n         invokevirtual org/guenhter/springboot/kt/Fun test((I)V);\n         return\n     }\n }\n\n public final test2() { //()V\n     &lt;localVar:index=0 , name=this , desc=Lorg/guenhter/springboot/kt/Fun;, sig=null, start=L1, end=L2&gt;\n\n     L1 {\n         aload0 // reference to self\n         iconst_0\n         iconst_1\n         aconst_null\n         invokestatic org/guenhter/springboot/kt/Fun test$default((Lorg/guenhter/springboot/kt/Fun;IILjava/lang/Object;)V);\n     }\n     L3 {\n         aload0 // reference to self\n         bipush 100\n         invokevirtual org/guenhter/springboot/kt/Fun test((I)V);\n     }\n     L4 {\n         return\n     }\n     L2 {\n     }\n }\n</code></pre>\n\n<p>which in Java syntax would look like</p>\n\n<pre><code>final public class AKt {\n    final public static void test(int i) {\n    }\n\n    public static void test$default(int i, int i0, Object a) {\n        if ((i0 &amp; 1) != 0) {\n            i = 123;\n        }\n        AKt.test(i);\n    }\n\n    final public static void test2() {\n        AKt.test$default(0, 1, (Object)null);\n        AKt.test(100);\n    }\n}\n</code></pre>\n\n<p>So the best alternative for you would be to extract the default value into a constant: </p>\n\n<pre><code>private val DEFAULT_MIN = 1\nprivate val DEFAULT_MAX = 1\n\nfun DieRoll.cheatRoll():Int = roll(min = DEFAULT_MAX-1)\n\nfun roll(min: Int = DEFAULT_MIN, max: Int = DEFAULT_MAX): Int = (min..max).rand()\n</code></pre>\n"}], "owner": {"reputation": 1953, "user_id": 2713242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/deb19bb8408191bc86c90b4ade6ffacd?s=128&d=identicon&r=PG", "display_name": "ersin-ertan", "link": "https://stackoverflow.com/users/2713242/ersin-ertan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1860, "favorite_count": 0, "accepted_answer_id": 45797968, "answer_count": 1, "score": 4, "last_activity_date": 1535354691, "creation_date": 1503260183, "question_id": 45786399, "link": "https://stackoverflow.com/questions/45786399/accessing-a-functions-default-parameter-value-in-kotlin", "title": "Accessing a function&#39;s default parameter value in Kotlin", "body": "<p>Can a function's default parameter value be accessed from a function extension, or anywhere else?</p>\n\n<pre><code>fun DieRoll.cheatRoll():Int = roll(min = max -1)\n\nfun roll(min: Int = 1, max: Int = 6): Int = (min..max).rand()\n</code></pre>\n"}, {"tags": ["android", "kotlin", "infix-notation"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 2, "last_activity_date": 1503257970, "creation_date": 1503257970, "answer_id": 45786129, "question_id": 45786071, "link": "https://stackoverflow.com/questions/45786071/android-kotlin-infix-issue/45786129#45786129", "title": "Android kotlin infix issue", "body": "<p>To be sure about what is going on, you should print <code>it</code> inside of the lambda. But what is probably happening is:</p>\n\n<pre><code>isResColorId.then(this.let({...})) ?: colorId\n</code></pre>\n\n<p>This means the block inside <code>let</code> is always evaluated.</p>\n"}, {"tags": [], "owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "is_accepted": false, "score": 1, "last_activity_date": 1503259677, "creation_date": 1503259677, "answer_id": 45786337, "question_id": 45786071, "link": "https://stackoverflow.com/questions/45786071/android-kotlin-infix-issue/45786337#45786337", "title": "Android kotlin infix issue", "body": "<p>If you don't want to evaluate the second argument of the infix function if the first one is false, you should pass a <strong>lambda</strong> and not a value:</p>\n\n<pre><code>inline infix fun &lt;T&gt; Boolean.then(block: () -&gt; T): T? = if (this) block() else null\n</code></pre>\n\n<p>But in this case I would rather write <code>if (condition) A else B</code> directly, rather than returning a nullable value which introduces boxing and forces you to check for <code>null</code> afterwards using the elvis operator.</p>\n"}], "owner": {"reputation": 800, "user_id": 1429570, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/g7uai.jpg?s=128&g=1", "display_name": "kibar", "link": "https://stackoverflow.com/users/1429570/kibar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 45786129, "answer_count": 2, "score": 0, "last_activity_date": 1503280033, "creation_date": 1503257574, "last_edit_date": 1503280033, "question_id": 45786071, "link": "https://stackoverflow.com/questions/45786071/android-kotlin-infix-issue", "title": "Android kotlin infix issue", "body": "<p>I am getting an interesting problem. When I debug my application <code>isResColorId</code> is <code>false</code>. Unfortunately, <code>let</code> function is triggered, and I see <code>qwe</code> on logcat.</p>\n\n<pre><code>fun drawableTint(context: Context, view: View, colorID: Int, isResColorId: Boolean = true) {\n    try {\n        val wrap = DrawableCompat.wrap(view.background)\n        DrawableCompat.setTint(wrap, isResColorId then let { Timber.d(\"qwe\"); ContextCompat.getColor(context, colorID) } ?: colorID)\n        view.setBackgroundDrawable(wrap)\n    }catch (e: Resources.NotFoundException){\n        Timber.e(e, \"c_id: $colorID coz: $isResColorId\")\n    }\n}\n\ninfix fun &lt;T&gt; Boolean.then(param: T): T? = if (this) param else null\n</code></pre>\n\n<p>Logcat:</p>\n\n<pre><code>qwe\n</code></pre>\n"}, {"tags": ["android", "generics", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503257631, "post_id": 45785999, "comment_id": 78529731, "body": "I don&#39;t see why your approach with <code>inline fun &lt;reified VH&gt; create(): VH</code> didn&#39;t work,  for me it works, please <a href=\"https://try.kotlinlang.org/#/UserProjects/9h36f6pnj3js65flvumfancg5d/3eh1f132dgfe10natltilotmfk\" rel=\"nofollow noreferrer\">see the demo</a>."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503258005, "post_id": 45785999, "comment_id": 78529841, "body": "UPD: <code>inline fun &lt;reified VH&gt; create(): VH</code> will work only if you call it with a real type or a reified type parameter of an inline function. You can&#39;t call it with a non-reified type parameter."}, {"owner": {"reputation": 1918, "user_id": 4443470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5eef812f32c0a9e8ee33aea6c0b51ab?s=128&d=identicon&r=PG&f=1", "display_name": "Micah Simmons", "link": "https://stackoverflow.com/users/4443470/micah-simmons"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503258114, "post_id": 45785999, "comment_id": 78529866, "body": "Thanks for your response. In your example you call the function like this: <code>create&lt;MyClass&gt;</code> and pass in <code>MyClass</code> as a concrete type. Whereas I need it work like this: <code>create&lt;VH&gt;</code> where VH is a generic type not an actual class."}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1503265501, "post_id": 45785999, "comment_id": 78531811, "body": "A generic type has no type information to it, which you actually need to create an instance. You will have to manually supply that information. There are different solutions based on how you get <code>VH</code>."}, {"owner": {"reputation": 1918, "user_id": 4443470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5eef812f32c0a9e8ee33aea6c0b51ab?s=128&d=identicon&r=PG&f=1", "display_name": "Micah Simmons", "link": "https://stackoverflow.com/users/4443470/micah-simmons"}, "edited": false, "score": 0, "creation_date": 1503265888, "post_id": 45785999, "comment_id": 78531926, "body": "Thanks for your response. I just posted an answer on how to instantiate a reified generic type using reflection"}], "answers": [{"comments": [{"owner": {"reputation": 1918, "user_id": 4443470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5eef812f32c0a9e8ee33aea6c0b51ab?s=128&d=identicon&r=PG&f=1", "display_name": "Micah Simmons", "link": "https://stackoverflow.com/users/4443470/micah-simmons"}, "edited": false, "score": 0, "creation_date": 1503258437, "post_id": 45786095, "comment_id": 78529951, "body": "Thanks for your response. How would I make it reified? I am trying to make it so that a method can be given a particular type so it can then make that type available later. An example of this would be the <code>RecyleView.Adapter&lt;RecylerView.ViewHolder&gt;</code> class as it allows you to implement it like this: <code>RecylerView.Adapter&lt;CustomViewHolder&gt;</code> which in turn then generates methods that use the MyCustomViewHolder type."}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 1918, "user_id": 4443470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5eef812f32c0a9e8ee33aea6c0b51ab?s=128&d=identicon&r=PG&f=1", "display_name": "Micah Simmons", "link": "https://stackoverflow.com/users/4443470/micah-simmons"}, "edited": false, "score": 0, "creation_date": 1503258759, "post_id": 45786095, "comment_id": 78530022, "body": "Added how you can &quot;generate&quot; classes using reified generics. If you need to specialize behavior for a given class you need to either use an interface instead of <code>Any</code> or provide extension functions that can be used to implement the operation."}, {"owner": {"reputation": 1918, "user_id": 4443470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5eef812f32c0a9e8ee33aea6c0b51ab?s=128&d=identicon&r=PG&f=1", "display_name": "Micah Simmons", "link": "https://stackoverflow.com/users/4443470/micah-simmons"}, "edited": false, "score": 0, "creation_date": 1503259433, "post_id": 45786095, "comment_id": 78530207, "body": "Your solution doesn&#39;t seem to be compiling at the moment. Do you think think that there might be a cleaner solution using reflection though?"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 0, "last_activity_date": 1503258699, "last_edit_date": 1503258699, "creation_date": 1503257717, "answer_id": 45786095, "question_id": 45785999, "link": "https://stackoverflow.com/questions/45785999/how-do-i-create-an-instance-of-a-generic-type/45786095#45786095", "title": "How do I create an instance of a generic type?", "body": "<p>You can't. Unless the generic type is reified it disappears during runtime, making you unable to create an instance.</p>\n\n<p>Your example of the reified function <code>create()</code> works, but a reified type must be resolved during compilation, so standard generic types cannot be entered as a reified type.</p>\n\n<p>Example of reified \"class generating\":</p>\n\n<pre><code>inline fun &lt;reified VH : Any&gt; generateClass(): RecyclerView.Adapter {\n    return object : RecyclerView.Adapter&lt;VH&gt;() {\n        override fun onBindViewHolder(VH holder, int position) {\n            // Do implementation...\n        }\n        ...\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1503266367, "post_id": 45787065, "comment_id": 78532034, "body": "How is this different from your <code>create</code> method? You still can&#39;t call this with a generic type."}, {"owner": {"reputation": 1918, "user_id": 4443470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5eef812f32c0a9e8ee33aea6c0b51ab?s=128&d=identicon&r=PG&f=1", "display_name": "Micah Simmons", "link": "https://stackoverflow.com/users/4443470/micah-simmons"}, "reply_to_user": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1503267327, "post_id": 45787065, "comment_id": 78532251, "body": "Class constructors can&#39;t be declared inline like a function so you would have to pass the reified parameter it using a separate method or some other method(s) if it&#39;s possible to do so. However, constructors can have strings as parameters. This means that a class can have a generic bound  that it can instantiate if it was given the generic type&#39;s class name as a constructor parameter"}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1503267458, "post_id": 45787065, "comment_id": 78532288, "body": "In that case, it seems simpler to just pass in the constructor of the generic type, instead of it&#39;s name."}, {"owner": {"reputation": 1918, "user_id": 4443470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5eef812f32c0a9e8ee33aea6c0b51ab?s=128&d=identicon&r=PG&f=1", "display_name": "Micah Simmons", "link": "https://stackoverflow.com/users/4443470/micah-simmons"}, "reply_to_user": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1503267754, "post_id": 45787065, "comment_id": 78532349, "body": "That does seem like it could be a better solution. I&#39;ll update my answer"}], "tags": [], "owner": {"reputation": 1918, "user_id": 4443470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5eef812f32c0a9e8ee33aea6c0b51ab?s=128&d=identicon&r=PG&f=1", "display_name": "Micah Simmons", "link": "https://stackoverflow.com/users/4443470/micah-simmons"}, "is_accepted": true, "score": 1, "last_activity_date": 1503268097, "last_edit_date": 1503268097, "creation_date": 1503265543, "answer_id": 45787065, "question_id": 45785999, "link": "https://stackoverflow.com/questions/45785999/how-do-i-create-an-instance-of-a-generic-type/45787065#45787065", "title": "How do I create an instance of a generic type?", "body": "<p>The answer is using reflection and a reified generic type.</p>\n\n<p>Firstly, make sure that the method that takes takes VH as a parameter is an inline function. Once you have a reified version of the generic type you can get its class name.</p>\n\n<p>Once you have its class name you can instantiate it using reflection.</p>\n\n<p>Here's how you get the class's name: </p>\n\n<pre><code>inline fun &lt;reified VH: CustomClass&gt; myMethod()  {\n\n     //Make sure you use the qualifiedName otherwise the reflective call won't find the class\n     val className VH::class.qualifiedName!!\n }\n</code></pre>\n\n<p>Here's how you instantiate the class: </p>\n\n<p><code>Class.forName(className).newInstance(constructorData) as VH</code></p>\n\n<p><strong>Note</strong>: If the class is an inner class then you will get a classnotfoundexception unless you replace the dot before the inner class's name with a <code>$</code> symbol.</p>\n\n<p>Here's an example: </p>\n\n<p><code>com.example.package.outerClass.innnerClass</code> - This will throw the classnotfoundexception</p>\n\n<p><code>com.example.package.outerClass$innnerClass</code> - This will successfully find the class</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Another solution that you can use that avoids reflection is using the reified generic type's constructor.</p>\n\n<p>Here's how you get its constructor:</p>\n\n<pre><code>inline fun &lt;reified VH: CustomClass&gt; myMethod()  {\n\n      val customClassConstructor =  VH::class.constructors.first()\n }\n</code></pre>\n\n<p>This is how you instantiate the reified generic type using its constructor:</p>\n\n<pre><code>customClassConstructor.call(constructorData)\n</code></pre>\n"}], "owner": {"reputation": 1918, "user_id": 4443470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5eef812f32c0a9e8ee33aea6c0b51ab?s=128&d=identicon&r=PG&f=1", "display_name": "Micah Simmons", "link": "https://stackoverflow.com/users/4443470/micah-simmons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 0, "accepted_answer_id": 45787065, "answer_count": 2, "score": 0, "last_activity_date": 1503268097, "creation_date": 1503257025, "question_id": 45785999, "link": "https://stackoverflow.com/questions/45785999/how-do-i-create-an-instance-of-a-generic-type", "title": "How do I create an instance of a generic type?", "body": "<p>I know this question has been asked before but  I haven't been able to solve it yet.</p>\n\n<p>I am trying to create an instance of a class through a generic type.</p>\n\n<p>I've tried this: </p>\n\n<pre><code>Class&lt;VH&gt;::getConstructor.call(parameter).newInstance()\n</code></pre>\n\n<p>But, I get this error: <code>I get this error for this method: Callable expects 2 arguments, but 1 were provided.</code></p>\n\n<p>I've also tried this method: </p>\n\n<pre><code>inline fun &lt;reified VH&gt; create(): VH {\n         return  VH::class.java.newInstance()\n     }\n</code></pre>\n\n<p>However, I haven't been able to call it because I can't use a generic type as a reified type.</p>\n\n<p>This approach also doesn't work:</p>\n\n<pre><code>fun &lt;VH&gt; generateClass(type: Class&lt;VH&gt;): VH {\n        return type.newInstance()\n     }\n</code></pre>\n\n<p>As when I call it like this: <code>generateClass&lt;VH&gt;(Class&lt;VH&gt;::class.java)</code> I get this error: <code>Only classes are allowed on the left handside of a class literal</code>.</p>\n\n<p><strong>My question in a nutshell</strong>: How do I create an instance of a class from a generic type? </p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "multipart", "android-studio-3.0"], "comments": [{"owner": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "edited": false, "score": 1, "creation_date": 1503256581, "post_id": 45785874, "comment_id": 78529475, "body": "use <code>fun updateCustomerDetail(@PartMap map: Map&lt;String, @JvmSuppressWildcards  RequestBody &gt;): Call&lt;UpdateCustomer&gt;</code>"}, {"owner": {"reputation": 734, "user_id": 4284023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y7BsM.jpg?s=128&g=1", "display_name": "Jagnesh Chawla", "link": "https://stackoverflow.com/users/4284023/jagnesh-chawla"}, "reply_to_user": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "edited": false, "score": 0, "creation_date": 1503379360, "post_id": 45785874, "comment_id": 78576365, "body": "It&#39;s working for me.Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 11, "creation_date": 1503383469, "post_id": 45809485, "comment_id": 78578148, "body": "Would you like to improve your code-only answer by augmenting it with some explanation?"}, {"owner": {"reputation": 1504, "user_id": 5490970, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ItSMG.jpg?s=128&g=1", "display_name": "MashukKhan", "link": "https://stackoverflow.com/users/5490970/mashukkhan"}, "edited": false, "score": 0, "creation_date": 1579687587, "post_id": 45809485, "comment_id": 105846181, "body": "@JagneshChawla Thanksss!!!!!! a lot buddy... just resolved my issue with your answer."}, {"owner": {"reputation": 358, "user_id": 9902818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa63969810e1760ea3f42192c72091c?s=128&d=identicon&r=PG&f=1", "display_name": "P Vartak", "link": "https://stackoverflow.com/users/9902818/p-vartak"}, "edited": false, "score": 0, "creation_date": 1592990858, "post_id": 45809485, "comment_id": 110620362, "body": "@JagneshChawla Can you please explain this, how and why?"}, {"owner": {"reputation": 734, "user_id": 4284023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y7BsM.jpg?s=128&g=1", "display_name": "Jagnesh Chawla", "link": "https://stackoverflow.com/users/4284023/jagnesh-chawla"}, "reply_to_user": {"reputation": 358, "user_id": 9902818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa63969810e1760ea3f42192c72091c?s=128&d=identicon&r=PG&f=1", "display_name": "P Vartak", "link": "https://stackoverflow.com/users/9902818/p-vartak"}, "edited": false, "score": 1, "creation_date": 1593163057, "post_id": 45809485, "comment_id": 110689347, "body": "@PVartak <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#variant-generics\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 734, "user_id": 4284023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y7BsM.jpg?s=128&g=1", "display_name": "Jagnesh Chawla", "link": "https://stackoverflow.com/users/4284023/jagnesh-chawla"}, "is_accepted": true, "score": 52, "last_activity_date": 1503419807, "last_edit_date": 1503419807, "creation_date": 1503379532, "answer_id": 45809485, "question_id": 45785874, "link": "https://stackoverflow.com/questions/45785874/multipart-request-with-retrofit-partmap-error-in-kotlin-android/45809485#45809485", "title": "Multipart request with Retrofit @PartMap Error in Kotlin (Android)", "body": "<p>Add <code>@JvmSuppressWildcards</code> before <code>RequestBody</code></p>\n\n<pre><code>fun updateCustomerDetail(@PartMap map: Map&lt;String, @JvmSuppressWildcards RequestBody &gt;): Call&lt;UpdateCustomer&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 372, "user_id": 10078629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HmuqZ.png?s=128&g=1", "display_name": "Master Zzzing", "link": "https://stackoverflow.com/users/10078629/master-zzzing"}, "is_accepted": false, "score": 13, "last_activity_date": 1608018207, "last_edit_date": 1608018207, "creation_date": 1562920518, "answer_id": 57003185, "question_id": 45785874, "link": "https://stackoverflow.com/questions/45785874/multipart-request-with-retrofit-partmap-error-in-kotlin-android/57003185#57003185", "title": "Multipart request with Retrofit @PartMap Error in Kotlin (Android)", "body": "<p>Use <strong>HashMap</strong> or <strong>MutableMap</strong> instead of <strong>Map&lt; K, out V&gt;</strong> for the PartMap</p>\n<p>Alternative way that works fine for me. Mentioned by <strong>tpom6oh</strong> in <a href=\"https://github.com/square/retrofit/issues/1805#issuecomment-291563717\" rel=\"nofollow noreferrer\">Retrofi Kotlin Issue</a></p>\n<blockquote>\n<p>I think it's happening because the Map declaration is public interface <strong>Map&lt; K, out V&gt;</strong> and the out word makes the value type generic. You can try to use <strong>MutableMap</strong> or <strong>HashMap</strong> instead.</p>\n</blockquote>\n<pre><code>@Multipart\n@POST(&quot;customer&quot;)\nfun updateCustomerDetail(@PartMap map: HashMap&lt;String, RequestBody&gt;): Call&lt;UpdateCustomer&gt;\n</code></pre>\n"}], "owner": {"reputation": 734, "user_id": 4284023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y7BsM.jpg?s=128&g=1", "display_name": "Jagnesh Chawla", "link": "https://stackoverflow.com/users/4284023/jagnesh-chawla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7013, "favorite_count": 8, "accepted_answer_id": 45809485, "answer_count": 2, "score": 20, "last_activity_date": 1608018207, "creation_date": 1503256212, "question_id": 45785874, "link": "https://stackoverflow.com/questions/45785874/multipart-request-with-retrofit-partmap-error-in-kotlin-android", "title": "Multipart request with Retrofit @PartMap Error in Kotlin (Android)", "body": "<p>If I am using this code in Java then its working fine. When I convert that code in kotlin then I got Error.</p>\n\n<h2>Logcat</h2>\n\n<blockquote>\n  <p>08-20 23:46:51.003 3782-3782/com.qkangaroo.app W/System.err: java.lang.IllegalArgumentException: Parameter type must not include a type variable or wildcard: java.util.Map (parameter #1)\n  08-20 23:46:51.003 3782-3782/com.qkangaroo.app W/System.err:     for method ApiInterface.updateCustomerDetail\n  08-20 23:46:51.003 3782-3782/com.qkangaroo.app W/System.err:     at retrofit2.ServiceMethod$Builder.methodError(ServiceMethod.java:752)\n  08-20 23:46:51.004 3782-3782/com.qkangaroo.app W/System.err:     at retrofit2.ServiceMethod$Builder.methodError(ServiceMethod.java:743)\n  08-20 23:46:51.004 3782-3782/com.qkangaroo.app W/System.err:     at retrofit2.ServiceMethod$Builder.parameterError(ServiceMethod.java:761)\n  08-20 23:46:51.004 3782-3782/com.qkangaroo.app W/System.err:     at retrofit2.ServiceMethod$Builder.build(ServiceMethod.java:195)\n  08-20 23:46:51.004 3782-3782/com.qkangaroo.app W/System.err:     at retrofit2.Retrofit.loadServiceMethod(Retrofit.java:170)\n  08-20 23:46:51.005 3782-3782/com.qkangaroo.app W/System.err:     at retrofit2.Retrofit$1.invoke(Retrofit.java:147)\n  08-20 23:46:51.005 3782-3782/com.qkangaroo.app W/System.err:     at $Proxy0.updateCustomerDetail(Native Method)\n  08-20 23:46:51.005 3782-3782/com.qkangaroo.app W/System.err:     at com.qkangaroo.app.Fragments.MoreScreen.MoreFragment.updateProfile(MoreFragment.kt:261)\n  08-20 23:46:51.006 3782-3782/com.qkangaroo.app W/System.err:     at com.qkangaroo.app.Fragments.MoreScreen.MoreFragment$clickListener$1.onClick(MoreFragment.kt:191)\n  08-20 23:46:51.006 3782-3782/com.qkangaroo.app W/System.err:     at android.view.View.performClick(View.java:3517)\n  08-20 23:46:51.006 3782-3782/com.qkangaroo.app W/System.err:     at android.view.View$PerformClick.run(View.java:14155)\n  08-20 23:46:51.006 3782-3782/com.qkangaroo.app W/System.err:     at android.os.Handler.handleCallback(Handler.java:605)\n  08-20 23:46:51.007 3782-3782/com.qkangaroo.app W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:92)\n  08-20 23:46:51.007 3782-3782/com.qkangaroo.app W/System.err:     at android.os.Looper.loop(Looper.java:154)\n  08-20 23:46:51.007 3782-3782/com.qkangaroo.app W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:4624)\n  08-20 23:46:51.008 3782-3782/com.qkangaroo.app W/System.err:     at java.lang.reflect.Method.invokeNative(Native Method)\n  08-20 23:46:51.009 3782-3782/com.qkangaroo.app W/System.err:     at java.lang.reflect.Method.invoke(Method.java:511)\n  08-20 23:46:51.009 3782-3782/com.qkangaroo.app W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:809)\n  08-20 23:46:51.010 3782-3782/com.qkangaroo.app W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:576)\n  08-20 23:46:51.011 3782-3782/com.qkangaroo.app W/System.err:     at dalvik.system.NativeStart.main(Native Method)</p>\n</blockquote>\n\n<h2>fragment.kt</h2>\n\n<pre><code>    var map:HashMap&lt;String,RequestBody&gt; = HashMap&lt;String, RequestBody&gt;()\n    map.put(\"version\",ApiClient.createRequestBody(AppConstants.API_VERSION))\n    map.put(\"auth_token\", ApiClient.createRequestBody(customer.authToken!!))\n    map.put(\"customer_name\",ApiClient.createRequestBody(profileName))\n    map.put(\"email\", ApiClient.createRequestBody(profileEmail))\n\n    val apiInterface = ApiClient.client.create(ApiInterface::class.java)\n\n    val updateCustomerCall: Call&lt;UpdateCustomer&gt; = apiInterface.updateCustomerDetail(map)\n    updateCustomerCall.enqueue(object : Callback&lt;UpdateCustomer&gt; {\n        override fun onResponse(call: Call&lt;UpdateCustomer&gt;?, response: Response&lt;UpdateCustomer&gt;?) {\n\n        }\n\n        override fun onFailure(call: Call&lt;UpdateCustomer&gt;?, t: Throwable?) {\n            utilities!!.hideProgress(progress)\n        }\n    })\n</code></pre>\n\n<h2>ApiClient.kt</h2>\n\n<pre><code>val MULTIPART_FORM_DATA = \"multipart/form-data\"\n\nfun createRequestBody(s: String): RequestBody {\n    return RequestBody.create(\n            MediaType.parse(MULTIPART_FORM_DATA), s)\n}\n</code></pre>\n\n<h2>ApiInterface,.kt</h2>\n\n<pre><code>@Multipart\n@POST(\"customer\")\nfun updateCustomerDetail(@PartMap map: Map&lt;String,RequestBody &gt;): Call&lt;UpdateCustomer&gt;\n</code></pre>\n\n<h2>Gradle file</h2>\n\n<pre><code>implementation \"com.squareup.okhttp3:okhttp:3.8.1\"\nimplementation \"com.squareup.okhttp3:logging-interceptor:3.8.1\"\nimplementation (\"com.squareup.retrofit2:retrofit:2.3.0\"){\n     exclude module: 'okhttp'\n}\nimplementation \"com.squareup.retrofit2:converter-gson:2.3.0\"\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 1, "creation_date": 1503250611, "post_id": 45784933, "comment_id": 78527529, "body": "Since you are declaring <code>T</code> as any subclass of <code>Any</code> and you just use the <code>T</code> to check for the class, why don&#39;t you just accept the value as <code>Any</code> type rather than a generic type and check for the class using <code>is</code>?"}, {"owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "edited": false, "score": 0, "creation_date": 1503252818, "post_id": 45784933, "comment_id": 78528289, "body": "I would rather split this function into multiple functions since not much of the code is shared between types anyway (even default values are different), and this would add compile-time safety as a bonus."}, {"owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "edited": false, "score": 0, "creation_date": 1503254032, "post_id": 45784933, "comment_id": 78528732, "body": "Another problem is that this function is inline, so for every place in your code where you&#39;ll read a value from preferences using it, the compiler will replace the array access with the full function body including the switch case, which is not efficient at all."}, {"owner": {"reputation": 800, "user_id": 1429570, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/g7uai.jpg?s=128&g=1", "display_name": "kibar", "link": "https://stackoverflow.com/users/1429570/kibar"}, "edited": false, "score": 0, "creation_date": 1503257733, "post_id": 45784933, "comment_id": 78529761, "body": "yes but reified type need inline keywords otherwise ide given an error"}], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 3, "last_activity_date": 1503251702, "creation_date": 1503251702, "answer_id": 45785199, "question_id": 45784933, "link": "https://stackoverflow.com/questions/45784933/android-kotlin-class-reified-issue/45785199#45785199", "title": "Android Kotlin class reified issue", "body": "<p>This is failing because <code>Int::class</code> is the primitive <code>int</code> while <code>T::class</code> is the boxed type <code>java.lang.Integer</code>. The <code>KClass</code> for both of them looks like <code>kotlin.Int</code> so it's hard to tell the difference.</p>\n\n<p>This works despite looking a bit odd:</p>\n\n<pre><code>when (T::class) {\n    Int::class, Integer::class -&gt;\n}\n</code></pre>\n\n<p>(I left <code>Int</code> in there for clarity, even though it will never trigger.)</p>\n"}], "owner": {"reputation": 800, "user_id": 1429570, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/g7uai.jpg?s=128&g=1", "display_name": "kibar", "link": "https://stackoverflow.com/users/1429570/kibar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 45785199, "answer_count": 1, "score": 1, "last_activity_date": 1503251702, "creation_date": 1503250105, "question_id": 45784933, "link": "https://stackoverflow.com/questions/45784933/android-kotlin-class-reified-issue", "title": "Android Kotlin class reified issue", "body": "<p>When I want to get int value from sharedpreferences I was getting the <code>UnsupportedOperationException</code> But I show from logcat, this class is <code>Int</code>. What's wrong?</p>\n\n<pre><code>operator inline fun &lt;reified T : Any&gt; get(@XMLS xml: String, @KEYS key: String, defaultValue: T? = null): T {\n    Timber.d(\"${T::class} + $xml + $key + $defaultValue\")\n    return when (T::class) {\n        String::class -&gt; getShared(xml)?.getString(key, defaultValue as? String ?: \"\") as? T ?: \"\" as T\n        Int::class -&gt; {\n            Timber.d(\"not triggered\") //&lt;&lt;\n            getShared(xml)?.getInt(key, defaultValue as? Int ?: -1) as? T ?: -1 as T\n        }\n        Boolean::class -&gt; getShared(xml)?.getBoolean(key, defaultValue as? Boolean == true) as? T ?: true as T\n        Float::class -&gt; getShared(xml)?.getFloat(key, defaultValue as? Float ?: -1f) as? T ?: -1f as T\n        Long::class -&gt; getShared(xml)?.getLong(key, defaultValue as? Long ?: -1) as? T ?: -1 as T\n        else -&gt; throw UnsupportedOperationException(\"unknown class!\")\n    }\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>class kotlin.Int + application_data + Ver + null\n</code></pre>\n"}, {"tags": ["java", "android", "sql", "sqlite", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": true, "score": 1, "last_activity_date": 1503290823, "last_edit_date": 1503290823, "creation_date": 1503249290, "answer_id": 45784819, "question_id": 45784788, "link": "https://stackoverflow.com/questions/45784788/kotlin-database-error-cursorindexoutofboundsexception/45784819#45784819", "title": "Kotlin Database Error CursorIndexOutOfBoundsException", "body": "<p>Change your while loop to look like this:</p>\n\n<pre><code>    while (cursor.moveToNext()){\n\n        studentsArray.add(cursor.getString(nameIx))\n        ...\n\n\n    }\n</code></pre>\n\n<p>(Remove all the other <code>cursor.moveToNext()</code> from your code)</p>\n\n<p>You are checking for <code>cursor != null</code> in your while loop condition, but it won't become null after you read all the rows from cursor. </p>\n\n<p>In the above code, <code>cursor.moveToNext</code> returns true if there is a row next. Otherwise returns false and the loop terminates.</p>\n\n<p>And, just noticed, you should change this from,</p>\n\n<pre><code>while (cursor!=null){\n      cursor!!.close()\n}\n</code></pre>\n\n<p>to an if check:</p>\n\n<pre><code>if (cursor!=null){\n      cursor.close()\n}\n</code></pre>\n\n<p>Or, as <a href=\"https://stackoverflow.com/users/49746/todd\">Todd</a> suggested in the comments, you can use the Higher order function <code>use</code> which automatically closes the cursor, which is simlar to Java 7 try-with-resources.</p>\n\n<pre><code>cursor.use {\n    while (cursor.moveToNext()){\n\n            studentsArray.add(cursor.getString(nameIx))\n            ...\n\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": false, "score": 1, "last_activity_date": 1503292084, "last_edit_date": 1503292084, "creation_date": 1503249673, "answer_id": 45784872, "question_id": 45784788, "link": "https://stackoverflow.com/questions/45784788/kotlin-database-error-cursorindexoutofboundsexception/45784872#45784872", "title": "Kotlin Database Error CursorIndexOutOfBoundsException", "body": "<p>You are getting this error because your cursor size is 1. There is only one record in your database. But you are querying database more than 1 time. That is the reason of your Error.</p>\n\n<p>First of all your complete code of execution is wrong.</p>\n\n<p>You are creating a database in your activity. If you do you can't manage your database properly and efficiently.</p>\n\n<p>First, you have to create a SqliteOpenHelper database in a separate class. Then you have to create a table there. Then write helper methods there to get and insert values from it.</p>\n\n<p>Your database class should be like the below example.</p>\n\n<pre><code>class DbHelper(context: Context) : SQLiteOpenHelper(context, \"example.db\", null, 4) {\n    val TAG = javaClass&lt;DbHelper&gt;().getSimpleName()\n    val TABLE = \"logs\"\n\n    companion object {\n        public val ID: String = \"_id\"\n        public val TIMESTAMP: String = \"TIMESTAMP\"\n        public val TEXT: String = \"TEXT\"\n    }\n\n    val DATABASE_CREATE =\n        \"CREATE TABLE if not exists \" + TABLE + \" (\" +\n        \"${ID} integer PRIMARY KEY autoincrement,\" +\n        \"${TIMESTAMP} integer,\" +\n        \"${TEXT} text\"+\n        \")\"\n\n    fun log(text: String) {\n        val values = ContentValues()\n        values.put(TEXT, text)\n        values.put(TIMESTAMP, System.currentTimeMillis())\n        getWritableDatabase().insert(TABLE, null, values);\n    }\n\n    fun getLogs() : Cursor {\n        return getReadableDatabase()\n                .query(TABLE, arrayOf(ID, TIMESTAMP, TEXT), null, null, null, null, null);\n    }\n\n    override fun onCreate(db: SQLiteDatabase) {\n        Log.d(TAG, \"Creating: \" + DATABASE_CREATE);\n        db.execSQL(DATABASE_CREATE)\n    }\n\n    override fun onUpgrade(p0: SQLiteDatabase, p1: Int, p2: Int) {\n    }\n\n}\n</code></pre>\n\n<p>Since you are using Kotin database is very easy with <strong>Anko-Sqlite</strong>. By this library storing and retrieving data from the database is so easy. You can check it here.\n<a href=\"https://github.com/Kotlin/anko/wiki/Anko-SQLite#using-anko-sqlite-in-your-project\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/anko/wiki/Anko-SQLite#using-anko-sqlite-in-your-project</a></p>\n"}], "owner": {"reputation": 33, "user_id": 7335939, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7f3fd4b792a9dfff0d8bcc36b4a00187?s=128&d=identicon&r=PG&f=1", "display_name": "B. Ozen", "link": "https://stackoverflow.com/users/7335939/b-ozen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 45784819, "answer_count": 2, "score": 2, "last_activity_date": 1503292084, "creation_date": 1503249084, "last_edit_date": 1503249911, "question_id": 45784788, "link": "https://stackoverflow.com/questions/45784788/kotlin-database-error-cursorindexoutofboundsexception", "title": "Kotlin Database Error CursorIndexOutOfBoundsException", "body": "<p>This is error, it says index out of bounds, but i couldn't how can i solve it, there are some Turkish words but they aren't important, i think:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.burhanozen.nothesaplama, PID: 26919\njava.lang.RuntimeException: Unable to start activity \nComponentInfo{com.example.burhanozen.nothesaplama/com.example.burhanozen.nothesaplama.MainActivity}: android.database.CursorIndexOutOfBoundsException: Index 1 requested, with a size of 1\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2665)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\nat ........\n</code></pre>\n\n<p>I was trying to store some kind of student information. I have these errors, and I share codes below.\nThis is my MainActivity:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val toolbar = findViewById(R.id.toolbar) as Toolbar\n    setSupportActionBar(toolbar)\n    val fab = findViewById(R.id.fab) as FloatingActionButton\n    fab.setOnClickListener {\n        val intent = Intent(this@MainActivity,NotEkrani::class.java)\n        startActivity(intent) }\n\n\n    val studentsArray = ArrayList&lt;String&gt;()\n\n    val arrayAdapter = ArrayAdapter(this,android.R.layout.simple_list_item_1,studentsArray)\n    listView.adapter= arrayAdapter\n\n    try{\n\n        val myDatabase = this.openOrCreateDatabase(\"student\", Context.MODE_PRIVATE,null)\n        myDatabase.execSQL(\"CREATE TABLE IF NOT EXISTS students (isim TEXT,\" +\n                \" dersbir TEXT, dersbirkredi TEXT, dersbirort TEXT,\" +\n                \" dersiki TEXT, dersikikredi TEXT, dersikiort TEXT) \")\n\n        val cursor = myDatabase.rawQuery(\"select * from students\",null)\n\n        val nameIx = cursor.getColumnIndex(\"isim\")\n        val dersbirIx = cursor.getColumnIndex(\"dersbir\")\n        val dersbirkrediIx = cursor.getColumnIndex(\"dersbirkredi\")\n        val dersbirortIx = cursor.getColumnIndex(\"dersbirort\")\n        val dersikiIx = cursor.getColumnIndex(\"dersiki\")\n        val dersikikrediIx = cursor.getColumnIndex(\"dersikikredi\")\n        val dersikiortIx = cursor.getColumnIndex(\"dersikiort\")\n\n        cursor.moveToNext()\n\n        while (cursor != null){\n\n            studentsArray.add(cursor.getString(nameIx))\n            studentsArray.add(cursor.getString(dersbirIx))\n            studentsArray.add(cursor.getString(dersbirkrediIx))\n            studentsArray.add(cursor.getString(dersbirortIx))\n            studentsArray.add(cursor.getString(dersikiIx))\n            studentsArray.add(cursor.getString(dersikikrediIx))\n            studentsArray.add(cursor.getString(dersikiortIx))\n\n            cursor.moveToNext()\n\n            arrayAdapter.notifyDataSetChanged()\n\n\n        }\n        while (cursor!=null){\n            cursor!!.close()\n        }\n\n\n\n    }catch (e:SQLException){\n\n    }\n</code></pre>\n\n<p>And this is my second Activity Page, i couldn't any error here, but may be this can help. I wrote database codes here.</p>\n\n<pre><code>fun kaydet(view:View){\n    val isim = isim.text.toString()\n    val dersbir = dersbir.text.toString()\n    val dersbirkredi = dersbirkredi.text.toString()\n    val dersbirort = dersbirort.text.toString()\n    val dersiki = dersiki.text.toString()\n    val dersikikredi = dersikikredi.text.toString()\n    val dersikiort = dersikiort.text.toString()\n\n    try {\n        val myDatabase = openOrCreateDatabase(\"student\", Context.MODE_PRIVATE,null)\n\n        myDatabase.execSQL(\"CREATE TABLE IF NOT EXISTS students (isim TEXT,\" +\n                \" dersbir TEXT, dersbirkredi TEXT, dersbirort TEXT,\" +\n                \" dersiki TEXT, dersikikredi TEXT, dersikiort TEXT) \")\n\n        val sqlString = \"INSERT INTO students (isim,dersbir,dersbirkredi,dersbirort,dersiki,dersikikredi,dersikiort) VALUES(?,?,?,?,?,?,?)\"\n        val statement = myDatabase.compileStatement(sqlString)\n\n        statement.bindString(1,isim)\n        statement.bindString(2,dersbir)\n        statement.bindString(3,dersbirkredi)\n        statement.bindString(4,dersbirort)\n        statement.bindString(5,dersiki)\n        statement.bindString(6,dersikikredi)\n        statement.bindString(7,dersikiort)\n        statement.execute()\n\n\n    }catch (e:SQLException){\n\n    }\n    val intent = Intent(this,MainActivity::class.java)\n    startActivity(intent)\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 10753, "user_id": 3159267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qXQnC.jpg?s=128&g=1", "display_name": "rajan.kali", "link": "https://stackoverflow.com/users/3159267/rajan-kali"}, "is_accepted": false, "score": 0, "last_activity_date": 1503245224, "creation_date": 1503245224, "answer_id": 45784177, "question_id": 45784096, "link": "https://stackoverflow.com/questions/45784096/how-to-set-maxlength-in-anko/45784177#45784177", "title": "How to set maxLength in Anko", "body": "<p>you can use <code>maxLength</code> property  </p>\n\n<pre><code> editText()\n            {\n                id = R.id.et2\n                hint = \"age\"\n                inputType = android.text.InputType.TYPE_CLASS_NUMBER\n                maxLines= 1\n                maxLength = 10\n            }.lparams {\n                below(R.id.et1)\n                alignParentLeft()\n                leftOf(R.id.bt1)\n            }\n</code></pre>\n\n<p>Refer documentation : <a href=\"https://github.com/Kotlin/anko/blob/master/anko/idea-plugin/attrs.json\" rel=\"nofollow noreferrer\">Anko Attributes</a></p>\n"}, {"tags": [], "owner": {"reputation": 122, "user_id": 7462753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vRvyc.jpg?s=128&g=1", "display_name": "henrikenblom", "link": "https://stackoverflow.com/users/7462753/henrikenblom"}, "is_accepted": false, "score": 0, "last_activity_date": 1503305727, "creation_date": 1503305727, "answer_id": 45792984, "question_id": 45784096, "link": "https://stackoverflow.com/questions/45784096/how-to-set-maxlength-in-anko/45792984#45792984", "title": "How to set maxLength in Anko", "body": "<p>The problem is that the maxLength attribute isn't available for numeric input types. However, this can be solved quite easily by adding an input filter.</p>\n\n<p>Like this:</p>\n\n<pre><code>val inputFilters = arrayOfNulls&lt;InputFilter&gt;(1)\ninputFilters[0] = InputFilter.LengthFilter(10)\neditText.filters = inputFilters\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 7380461, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-9PuDzrOO9E8/AAAAAAAAAAI/AAAAAAAABV4/mK7XdhldCbA/photo.jpg?sz=128", "display_name": "jithendra sai", "link": "https://stackoverflow.com/users/7380461/jithendra-sai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1503363118, "creation_date": 1503244786, "last_edit_date": 1503363118, "question_id": 45784096, "link": "https://stackoverflow.com/questions/45784096/how-to-set-maxlength-in-anko", "title": "How to set maxLength in Anko", "body": "<p>I have been trying to set <code>maxLength</code> for <code>editText</code> in Anko but I am unable to find the right function.</p>\n\n<pre><code> editText()\n        {\n            id = R.id.et2\n            hint = \"age\"\n            inputType = android.text.InputType.TYPE_CLASS_NUMBER\n            maxLines = 1\n        }.lparams {\n            below(R.id.et1)\n            alignParentLeft()\n            leftOf(R.id.bt1)\n        }\n</code></pre>\n"}, {"tags": ["java", "generics", "casting", "kotlin", "erasure"], "comments": [{"owner": {"reputation": 251, "user_id": 1930238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EJBZM.jpg?s=128&g=1", "display_name": "Midgard", "link": "https://stackoverflow.com/users/1930238/midgard"}, "edited": false, "score": 0, "creation_date": 1503244311, "post_id": 45783938, "comment_id": 78525413, "body": "Hm, this works in both OpenJDK and Java SE, so doesn&#39;t seem to be an implementation issue in either of those."}, {"owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "edited": false, "score": 3, "creation_date": 1503244416, "post_id": 45783938, "comment_id": 78525450, "body": "I think  you will get unchecked warning when compiling."}, {"owner": {"reputation": 2581, "user_id": 6790326, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--0W1SyomlMg/AAAAAAAAAAI/AAAAAAAAAGY/w5Ja9a3U4zE/photo.jpg?sz=128", "display_name": "Dorian Gray", "link": "https://stackoverflow.com/users/6790326/dorian-gray"}, "edited": false, "score": 0, "creation_date": 1503244468, "post_id": 45783938, "comment_id": 78525465, "body": "It compiles fine, but throws a ClassCastException at runtime:"}, {"owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "edited": false, "score": 1, "creation_date": 1503244647, "post_id": 45783938, "comment_id": 78525528, "body": "The generic is only compile time safety because of type erasure.  If you just ignore the warning, than a runtime ClassCastException is understandable."}, {"owner": {"reputation": 251, "user_id": 1930238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EJBZM.jpg?s=128&g=1", "display_name": "Midgard", "link": "https://stackoverflow.com/users/1930238/midgard"}, "edited": false, "score": 0, "creation_date": 1503245239, "post_id": 45783938, "comment_id": 78525729, "body": "Actually the <code>test()</code> and <code>test3()</code> cases run fine without runtime errors. I think that&#39;s the point of OP."}, {"owner": {"reputation": 35205, "user_id": 2891664, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9df9d7af70d46f8db2ecd4392bb76087?s=128&d=identicon&r=PG&f=1", "display_name": "Radiodef", "link": "https://stackoverflow.com/users/2891664/radiodef"}, "edited": false, "score": 2, "creation_date": 1503245418, "post_id": 45783938, "comment_id": 78525796, "body": "See also <a href=\"https://stackoverflow.com/q/313584/2891664\">stackoverflow.com/q/313584/2891664</a> and <a href=\"https://stackoverflow.com/q/339699/2891664\">stackoverflow.com/q/339699/2891664</a>."}], "answers": [{"tags": [], "owner": {"reputation": 3685, "user_id": 2439721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0b6mo.png?s=128&g=1", "display_name": "Vladimir Petrakovich", "link": "https://stackoverflow.com/users/2439721/vladimir-petrakovich"}, "is_accepted": false, "score": 5, "last_activity_date": 1503244500, "creation_date": 1503244500, "answer_id": 45784048, "question_id": 45783938, "link": "https://stackoverflow.com/questions/45783938/java-kotlin-casting-with-generics-losing-typesafety/45784048#45784048", "title": "Java &amp; Kotlin casting with generics. Losing typesafety", "body": "<p>Compiler issues a warning when unchecked cast to T is performed.\nWhen there is a such warning in your program type safety is not guaranteed. So the behavior you see is expected.</p>\n"}, {"tags": [], "owner": {"reputation": 2581, "user_id": 6790326, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--0W1SyomlMg/AAAAAAAAAAI/AAAAAAAAAGY/w5Ja9a3U4zE/photo.jpg?sz=128", "display_name": "Dorian Gray", "link": "https://stackoverflow.com/users/6790326/dorian-gray"}, "is_accepted": false, "score": -3, "last_activity_date": 1503244649, "creation_date": 1503244649, "answer_id": 45784076, "question_id": 45783938, "link": "https://stackoverflow.com/questions/45783938/java-kotlin-casting-with-generics-losing-typesafety/45784076#45784076", "title": "Java &amp; Kotlin casting with generics. Losing typesafety", "body": "<p>Try changing the second test like that:</p>\n\n<pre><code>    Double y = test2(1.0);\n    System.out.println(y);\n</code></pre>\n\n<p>In your code <code>test2(1)</code>, the argument <code>1</code> is autoboxed into an <code>Integer</code>, which cannot be cast into a <code>Double</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 6681681, "user_type": "registered", "profile_image": "https://graph.facebook.com/1128289237204673/picture?type=large", "display_name": "Tobiah Lissens", "link": "https://stackoverflow.com/users/6681681/tobiah-lissens"}, "edited": false, "score": 0, "creation_date": 1503245998, "post_id": 45784187, "comment_id": 78525995, "body": "Thank you for your answer. Adding <code>reified</code> in Kotlin to the generic type seems to make it typesafe again. In Java there is no way of doing this typesafe."}], "tags": [], "owner": {"reputation": 22091, "user_id": 5684257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea5090cde8ea066a1fda67ed52dd5084?s=128&d=identicon&r=PG&f=1", "display_name": "HTNW", "link": "https://stackoverflow.com/users/5684257/htnw"}, "is_accepted": true, "score": 11, "last_activity_date": 1503253859, "last_edit_date": 1503253859, "creation_date": 1503245273, "answer_id": 45784187, "question_id": 45783938, "link": "https://stackoverflow.com/questions/45783938/java-kotlin-casting-with-generics-losing-typesafety/45784187#45784187", "title": "Java &amp; Kotlin casting with generics. Losing typesafety", "body": "<p>Java doesn't have reified generics. That is, generic information does not exist at runtime, and all generic code is \"simplified\" by a process called erasure. The compiler throws in casts when generic types are known to ensure correctness. You can't cast to a generic type, then, as generic types don't exist enough for the runtime to know whether a value is one or not, and this is why <code>javac</code> yells at you for doing this, because it knows you are asking the JVM to do something it cannot possibly do, introducing runtime unsafety.</p>\n\n<pre><code>public class Test {\n    public static List test(Object obj) { // generic types =&gt; erasure = raw types\n        ArrayList ts = new ArrayList();\n        ts.add(obj); // No cast: List.add has erasure (Ljava.lang.Object;)V\n        return ts;\n    }\n\n    public static Object test2(Object obj) { // T is unbounded =&gt; erasure = Object\n        return obj; // No cast: all types &lt;: Object\n    }\n\n    public static List test3(Object obj) {\n        ArrayList ts = new ArrayList();\n        ts.add(test2(obj)); // Note: we don't know what T is, so we can't cast to it and ensure test2 returned one.\n        return ts;\n    }\n\n\n    public static void main(String[] args) {\n        List x = test(1); // Returns a list and doesn't error\n        System.out.println(x);\n\n        Double y = (Double) test2(1); // Errors in java as an Integer cannot be converted into a Double\n        // This is because the compiler needs to insert casts to make generics work\n        System.out.println(y);\n\n        List z = test3(1);\n        // Unlike y, there isn't a cast in test3 because test3 doesn't know what T is, so the Integer passes through, uncast, into a List&lt;Double&gt;.\n        // The JVM can't detect this, because it doesn't even know what a List&lt;Double&gt; is.\n        System.out.println(z);\n    }\n}\n</code></pre>\n\n<p>Note how <code>test2</code> erases to a glorified identity function, causing <code>test3</code> to do exactly the same thing as <code>test1</code>, but with a level of indirection.</p>\n"}], "owner": {"reputation": 135, "user_id": 6681681, "user_type": "registered", "profile_image": "https://graph.facebook.com/1128289237204673/picture?type=large", "display_name": "Tobiah Lissens", "link": "https://stackoverflow.com/users/6681681/tobiah-lissens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 804, "favorite_count": 3, "accepted_answer_id": 45784187, "answer_count": 3, "score": 9, "last_activity_date": 1503253859, "creation_date": 1503243717, "last_edit_date": 1503245641, "question_id": 45783938, "link": "https://stackoverflow.com/questions/45783938/java-kotlin-casting-with-generics-losing-typesafety", "title": "Java &amp; Kotlin casting with generics. Losing typesafety", "body": "<p>When coding in Kotlin/Java, I stumbled onto something rather odd while using casting and generics.\nIt seems to be possible to have the type system believe a list is of the type <code>List&lt;Foo&gt;</code>, while it is actually a <code>List&lt;Object&gt;</code>.</p>\n\n<p>Can anyone explain to me why this is possible?</p>\n\n<p>Here is an example in both Kotlin and Java of the issue:</p>\n\n<p>Example in Kotlin</p>\n\n<pre><code>fun &lt;T&gt; test(obj: Any): List&lt;T&gt; {\n    val ts = ArrayList&lt;T&gt;()\n    ts.add(obj as T)\n    return ts\n}\n\nfun &lt;T&gt; test2(obj: Any): T {\n    return obj as T\n}\n\nfun &lt;T&gt; test3(obj: Any): List&lt;T&gt; {\n    val ts = ArrayList&lt;T&gt;()\n    ts.add(test2(obj))\n    return ts\n}\n\n\nfun main(args: Array&lt;String&gt;) {\n    val x = test&lt;Double&gt;(1) // Returns a list of Integers and doesn't error\n    println(x)\n\n    val y = test2&lt;Double&gt;(1) // Casts the Int object to a Double.\n    println(y)\n\n    val z = test3&lt;Double&gt;(1) // Returns a list of Integers and doesn't error.\n    println(z)\n}\n</code></pre>\n\n<p>Example in Java</p>\n\n<pre><code>public class Test {\n    public static &lt;T&gt; List&lt;T&gt; test(Object obj){\n        ArrayList&lt;T&gt; ts = new ArrayList&lt;&gt;();\n        ts.add((T) obj);\n        return ts;\n    }\n\n    public static &lt;T&gt; T test2(Object obj){\n        return (T) obj;\n    }\n\n    public static &lt;T&gt; List&lt;T&gt; test3(Object obj){\n        ArrayList&lt;T&gt; ts = new ArrayList&lt;&gt;();\n        ts.add(test2(obj));\n        return ts;\n    }\n\n\n    public static void main(String[] args) {\n        List&lt;Double&gt; x = test(1); // Returns a list of Integers and doesn't error\n        System.out.println(x);\n\n        // Double y = test2(1); // Errors in java an Integers cannot be converted into a Double.\n        // System.out.println(y);\n\n        List&lt;Double&gt; z = test3(1); // Returns a list of Integers and doesn't error.\n        System.out.println(z);\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-gradle-plugin", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 1, "last_activity_date": 1503242423, "last_edit_date": 1503242423, "creation_date": 1503242039, "answer_id": 45783653, "question_id": 45783601, "link": "https://stackoverflow.com/questions/45783601/android-studio-kotlin-gradle-error-cannot-find-compile-method-for-argument/45783653#45783653", "title": "Android Studio/Kotlin : Gradle error - cannot find compile() method for arguments [com.android.support:recyclerview-v7:$support_version]", "body": "<p>Remove the <code>compile</code> dependencies from the top level <code>build.gradle</code> and put it in your app level <code>build.gradle</code> <code>dependencies</code>, which would be available under <code>app/src</code> in Project view.</p>\n\n<pre><code>dependencies {\n    compile \"com.android.support:appcompat-v7:26.0.1\"\n    compile \"com.android.support:recyclerview-v7:26.0.1\"\n}\n</code></pre>\n\n<p>The app level dependencies (which mostly starts with compile) should be put under app level <code>build.gradle</code> file, and not under top level <code>build.gradle</code>.</p>\n\n<p>Actually, the <code>build.gradle</code> file is written using Groovy language and <code>compile</code> is a method invocation. In Groovy, we can <a href=\"http://www.groovy-lang.org/style-guide.html#_omitting_parentheses\" rel=\"nofollow noreferrer\">leave the parenthesis for top-level expressions</a>. And that's why you are getting an error like:</p>\n\n<blockquote>\n  <p>Could not find method complie()</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 1, "last_activity_date": 1503243078, "creation_date": 1503243078, "answer_id": 45783832, "question_id": 45783601, "link": "https://stackoverflow.com/questions/45783601/android-studio-kotlin-gradle-error-cannot-find-compile-method-for-argument/45783832#45783832", "title": "Android Studio/Kotlin : Gradle error - cannot find compile() method for arguments [com.android.support:recyclerview-v7:$support_version]", "body": "<p>You <strong>can't use these lines</strong> in your <strong>top level</strong> file:</p>\n\n<pre><code> compile \"com.android.support:appcompat-v7:$support_version\"\n compile \"com.android.support:recyclerview-v7:$support_version\"\n</code></pre>\n\n<p>Remove them and use them in the <strong>module file</strong>.</p>\n"}], "owner": {"reputation": 59, "user_id": 8491283, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b35bea4a48ad1b2e613f937b44fa1d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Jimil Shah", "link": "https://stackoverflow.com/users/8491283/jimil-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 875, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1503243186, "creation_date": 1503241755, "last_edit_date": 1503243186, "question_id": 45783601, "link": "https://stackoverflow.com/questions/45783601/android-studio-kotlin-gradle-error-cannot-find-compile-method-for-argument", "title": "Android Studio/Kotlin : Gradle error - cannot find compile() method for arguments [com.android.support:recyclerview-v7:$support_version]", "body": "<p>I am using Android Studio 3.0 Canary 6. I've been having some trouble with the <code>build.gradle</code> (Project) file. </p>\n\n<p>The <code>build.gradle</code> file is as follows : </p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\n    buildscript {\n        ext.kotlin_version = '1.1.3-2'\n        ext.support_version = '26.0.1'\n        repositories {\n            google()\n            jcenter()\n        }\n        dependencies {\n            classpath 'com.android.tools.build:gradle:3.0.0-alpha6'\n            classpath \"org.jetbrains.kotlin:kotlin-gradle-\n                plugin:$kotlin_version\"\n            compile \"com.android.support:appcompat-v7:$support_version\"\n            compile \"com.android.support:recyclerview-v7:$support_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        }\n    }\n\n    allprojects {\n        repositories {\n            google()\n            jcenter()\n            mavenCentral()\n        }\n    }\n\n    task clean(type: Delete) {\n        delete rootProject.buildDir\n    } \n</code></pre>\n\n<p>The error that I get is : </p>\n\n<blockquote>\n  <p>Error:Error:line (13)Could not find method compile() for arguments [com.android.support:appcompat-v7:26.0.1] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n  Please install the Android Support Repository from the Android SDK Manager.\n  Open Android SDK Manager.</p>\n</blockquote>\n\n<p>Please help me solve the error. </p>\n"}, {"tags": ["android", "listview", "kotlin", "listviewitem", "onlongclicklistener"], "answers": [{"comments": [{"owner": {"reputation": 2030, "user_id": 6576875, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/82829bdc248f0ae251b8fac049bf81b7?s=128&d=identicon&r=PG&f=1", "display_name": "Martin De Simone", "link": "https://stackoverflow.com/users/6576875/martin-de-simone"}, "edited": false, "score": 0, "creation_date": 1503246936, "post_id": 45784342, "comment_id": 78526329, "body": "He asked for each item"}, {"owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503301753, "post_id": 45784342, "comment_id": 78541329, "body": "i want for each item"}, {"owner": {"reputation": 1023, "user_id": 5995152, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/56b76f80a32db6d0043477769da896ef?s=128&d=identicon&r=PG&f=1", "display_name": "Dreamers Org", "link": "https://stackoverflow.com/users/5995152/dreamers-org"}, "edited": false, "score": 0, "creation_date": 1503376694, "post_id": 45784342, "comment_id": 78575570, "body": "The onItemClickListener is for each item. The variable &#39;i&#39; in the method is the position of each item. You simply use yourItemList.get(i) to retrieve the item to work with. This is the recommended way to do it. You could also use an OnClickListener in your adapter but that increases memory usage."}, {"owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503390039, "post_id": 45784342, "comment_id": 78582251, "body": "when i used this method in adapter , it&#39;s not working. where can i use it if it doesn&#39;t work in adapter ??"}, {"owner": {"reputation": 579, "user_id": 3273801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qP8A9.png?s=128&g=1", "display_name": "Altaf Shaikh", "link": "https://stackoverflow.com/users/3273801/altaf-shaikh"}, "edited": false, "score": 0, "creation_date": 1503394737, "post_id": 45784342, "comment_id": 78585559, "body": "You have to use it in the activity where you have reference to listview. In simple words where you are using <code>ListView listView=(ListView)findviewById(R.id.tv1) </code>"}, {"owner": {"reputation": 1023, "user_id": 5995152, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/56b76f80a32db6d0043477769da896ef?s=128&d=identicon&r=PG&f=1", "display_name": "Dreamers Org", "link": "https://stackoverflow.com/users/5995152/dreamers-org"}, "edited": false, "score": 0, "creation_date": 1503419529, "post_id": 45784342, "comment_id": 78603703, "body": "i edited to make it more clear for you. If you are still not comprehending then you need to post your activity code where you initialize the listview so i can make it more obvious"}], "tags": [], "owner": {"reputation": 1023, "user_id": 5995152, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/56b76f80a32db6d0043477769da896ef?s=128&d=identicon&r=PG&f=1", "display_name": "Dreamers Org", "link": "https://stackoverflow.com/users/5995152/dreamers-org"}, "is_accepted": false, "score": 2, "last_activity_date": 1503419478, "last_edit_date": 1503419478, "creation_date": 1503246208, "answer_id": 45784342, "question_id": 45783452, "link": "https://stackoverflow.com/questions/45783452/setonlongclicklistener-in-kotlin-android/45784342#45784342", "title": "setOnLongClickListener in kotlin android", "body": "<p>in your kotlin activity:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n  val listView: ListView = findViewById(R.id.yourListViewId)\n  listView.onItemClickListener = AdapterView.OnItemClickListener { adapterView, view, i, l -&gt; \n    //YOUR CODE HERE\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "is_accepted": false, "score": 0, "last_activity_date": 1537420871, "creation_date": 1537420871, "answer_id": 52418100, "question_id": 45783452, "link": "https://stackoverflow.com/questions/45783452/setonlongclicklistener-in-kotlin-android/52418100#52418100", "title": "setOnLongClickListener in kotlin android", "body": "<p>Nothing like getting to the party late. We are posting this answer because we struggled with setting a OnLongClickListener in our RecyclerAdapter Why because as you enter the code if the RETURN value is not included before adding the lines of code between the opening statement and the return the compiler complains and one would think they are just wrong here is a little code hope it helps anyone new to OnLongClickListener </p>\n\n<pre><code>class PersonRecyclerAdapter(contactList: List&lt;Contact&gt;, internal var context: Context) : RecyclerView.Adapter&lt;PersonRecyclerAdapter.ViewHolder&gt;() {\n\nprivate var contactList: List&lt;Contact&gt; = ArrayList()\ninit { this.contactList = contactList }\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val view = LayoutInflater.from(context).inflate(R.layout.new_single_card,parent,false)\n    return ViewHolder(view)\n}\n\noverride fun getItemCount(): Int {\n    return contactList.size\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    val items = contactList[position]\n    holder.item.text = items.name\n\n    holder.bindCheckBox()\n    // This code calls the function below in the inner class\n    // too much code manipulation\n\n    holder.list_new_card.setOnLongClickListener { view -&gt;\n        holder.ckBox.isChecked = false\n        holder.ckBox.isEnabled = true\n        holder.item.text = items.name\n        true\n\n    }\n    /*holder.list_new_card.setOnClickListener {\n\n        holder.ckBox.isChecked = false\n        holder.ckBox.isEnabled = true\n        holder.item.text = items.name\n\n        //val i = Intent(context, MainActivity::class.java)\n        //i.putExtra(\"Mode\", \"E\")\n        //i.putExtra(\"Id\", items.id)\n        //i.putExtra(\"ET\",items.name)\n        //i.flags = Intent.FLAG_ACTIVITY_NEW_TASK\n        //context.startActivity(i)\n        // This code attaches a listener to the tvName in the new_single_card.xml\n    }*/\n\n    holder.editCLICK.setOnClickListener {\n        val i = Intent(context, MainActivity::class.java)\n        i.putExtra(\"FROM\", \"U\")\n        i.putExtra(\"MainActId\",items.id)\n        i.putExtra(\"ET\",items.name)\n        i.flags = Intent.FLAG_ACTIVITY_NEW_TASK\n        context.startActivity(i)\n    }\n\n}\n\ninner class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n\n    var item: TextView = view.findViewById(R.id.tvName) as TextView\n    var list_new_card: CardView = view.findViewById(R.id.list_new_card) as CardView\n    var editCLICK: RelativeLayout = view.findViewById(R.id.editCLICK) as RelativeLayout\n    var ckBox:CheckBox = view.findViewById(R.id.ckBox)as CheckBox\n    // This is how you declare a instance of the Widiget you want to work with\n\n    fun bindCheckBox(){// Create function and BIND it in the onBindViewHolder function\n\n        ckBox.setOnCheckedChangeListener { view,isChecked -&gt;\n            if(ckBox.isChecked){\n                item.visibility = View.VISIBLE\n                item.setTextColor(Color.parseColor(\"#FF0000\"))\n                item.text = \"Click &amp; HOLD Me to View Item\"\n                ckBox.isEnabled = false\n\n            }else\n            item.setTextColor(Color.parseColor(\"#000000\"))\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Note different ways to include listeners in RecyclerAdapter</p>\n"}], "owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2974, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1537420871, "creation_date": 1503240871, "last_edit_date": 1503243297, "question_id": 45783452, "link": "https://stackoverflow.com/questions/45783452/setonlongclicklistener-in-kotlin-android", "title": "setOnLongClickListener in kotlin android", "body": "<p>How can I use <code>setOnClickListener</code> in each item in my <code>ListView</code>?</p>\n\n<p>my xml :</p>\n\n<pre><code>&lt;ListView\n    android:id=\"@+id/tv1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n&lt;/ListView&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-reflect"], "answers": [{"comments": [{"owner": {"reputation": 1997, "user_id": 1517483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/43389f5e86230f9c8ab6046079a0e670?s=128&d=identicon&r=PG", "display_name": "devrocca", "link": "https://stackoverflow.com/users/1517483/devrocca"}, "edited": false, "score": 0, "creation_date": 1503238810, "post_id": 45782580, "comment_id": 78523549, "body": "I understand what you say. But my point is that if I use someBase().javaClass.kotlin, I still have the correct subtype (Derived) at runtime but also have no variance at compile time, because those extension functions use generics. It seems to me that the ::class syntax could be improved to work like javaClass.kotlin, which is also idiomatically less immediate. It seems to me that they do the same thing, returning a kotlin class, but the latter does a better job while being more verbose"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 1997, "user_id": 1517483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/43389f5e86230f9c8ab6046079a0e670?s=128&d=identicon&r=PG", "display_name": "devrocca", "link": "https://stackoverflow.com/users/1517483/devrocca"}, "edited": false, "score": 0, "creation_date": 1503239719, "post_id": 45782580, "comment_id": 78523816, "body": "It&#39;s the other way around: <code>.javaClass</code> was introduced earlier, and the absence of variance in it was considered a misdesign; <code>.javaClass</code> even got deprecated <a href=\"https://blog.jetbrains.com/kotlin/2017/02/kotlin-1-1-release-candidate-is-here/\" rel=\"nofollow noreferrer\">(in 1.1 RC)</a>, but then, in the 1.1 final release, the deprecation was removed."}, {"owner": {"reputation": 1997, "user_id": 1517483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/43389f5e86230f9c8ab6046079a0e670?s=128&d=identicon&r=PG", "display_name": "devrocca", "link": "https://stackoverflow.com/users/1517483/devrocca"}, "edited": false, "score": 0, "creation_date": 1503240038, "post_id": 45782580, "comment_id": 78523933, "body": "Interesting thing. Yet, if I have to call properties fetched via reflection, I need a receiver and the covariant type won&#39;t let me use the bound one. How would you do that in the hypotethic case that <code>.javaClass</code> was not available?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 1997, "user_id": 1517483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/43389f5e86230f9c8ab6046079a0e670?s=128&d=identicon&r=PG", "display_name": "devrocca", "link": "https://stackoverflow.com/users/1517483/devrocca"}, "edited": false, "score": 0, "creation_date": 1503240627, "post_id": 45782580, "comment_id": 78524115, "body": "I believe, you would have to make an unchecked cast to do that: <code>entry::class as KClass&lt;T&gt;</code> (or cast a reflected function/property you get from it). This looks just as unsafe as it is, because, hypothetically, a <code>KClass&lt;Derived&gt;</code> can give you a member that <code>Base</code> does not have, and calling that member function/property on an instance of <code>Base</code> leads to an <code>IllegalArgumentException</code>."}, {"owner": {"reputation": 1997, "user_id": 1517483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/43389f5e86230f9c8ab6046079a0e670?s=128&d=identicon&r=PG", "display_name": "devrocca", "link": "https://stackoverflow.com/users/1517483/devrocca"}, "edited": false, "score": 0, "creation_date": 1503300896, "post_id": 45782580, "comment_id": 78540894, "body": "In fact what <code>.javaClass</code>does is doing an unchecked cast. It doesn&#39;t seem so unsafe in practice, because when using reflection methods or properties like <code>memberProperties</code>, what I get is what the instance has, so I feel safe to use the same receiver instance to obtain its own property&#39;s values. That&#39;s why I would allow by design a cast on the bound class reference type, because it comes from an instance which is of a definite type at runtime."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1503235439, "last_edit_date": 1503235439, "creation_date": 1503235071, "answer_id": 45782580, "question_id": 45782409, "link": "https://stackoverflow.com/questions/45782409/what-is-the-purpose-of-having-bound-class-reference-return-a-covariant-type/45782580#45782580", "title": "What is the purpose of having bound class reference return a covariant type?", "body": "<p>The reason for covariance in bound <code>::class</code> references is, the actual runtime type of an object the expression is evaluated to might differ from the declared or inferred type of the expression.</p>\n\n<p>Example:</p>\n\n<pre><code>open class Base\nclass Derived : Base()\n\nfun someBase(): Base = Derived()\n\nval kClass = someBase()::class\n</code></pre>\n\n<p>The expression <code>someBase()</code> is typed as <code>Base</code>, but at runtime it's a <code>Derived</code> object that it gets evaluated to.</p>\n\n<p>Typing <code>someBase()::class</code> as invariant <code>KClass&lt;Base&gt;</code> is simply incorrect, in fact, the actuall result of evaluating this expression is <code>KClass&lt;Derived&gt;</code>.</p>\n\n<p>To solve this possible inconsistency (that would lead to broken type-safety), all bound class references are covariant: <code>someBase()::class</code> is <code>KClass&lt;out Base&gt;</code>, meaning that at runtime <code>someBase()</code> might be a subtype of <code>Base</code>, and therefore this might be a class token of a subtype of <code>Base</code>.</p>\n\n<p>This is, of course, not the case with unbound class references: when you take <code>Base::class</code>, you know for sure that it's the class token of <code>Base</code> and not of some of its subtypes, so it's invariant <code>KClass&lt;Base&gt;</code>.</p>\n"}], "owner": {"reputation": 1997, "user_id": 1517483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/43389f5e86230f9c8ab6046079a0e670?s=128&d=identicon&r=PG", "display_name": "devrocca", "link": "https://stackoverflow.com/users/1517483/devrocca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 1, "accepted_answer_id": 45782580, "answer_count": 1, "score": 5, "last_activity_date": 1503235439, "creation_date": 1503233800, "question_id": 45782409, "link": "https://stackoverflow.com/questions/45782409/what-is-the-purpose-of-having-bound-class-reference-return-a-covariant-type", "title": "What is the purpose of having bound class reference return a covariant type?", "body": "<p>I'm playing with reflection and I came out with this problem. When using bound class reference via the <code>::class</code> syntax, I get a covariant KClass type:</p>\n\n<pre><code>fun &lt;T&gt; foo(entry: T) {\n    with(entry::class) {\n       this // is instance of KClass&lt;out T&gt;\n    }\n}\n</code></pre>\n\n<p>As I could learn from the docs, this will return the exact type of the object, in case it is instance of a subtype of <code>T</code>, hence the variance modifier.\nHowever this prevents retrieving properties declared in the <code>T</code> class and getting their value (which is what I'm trying to do)</p>\n\n<pre><code>fun &lt;T&gt; foo(entry: T) {\n    with(entry::class) {\n       for (prop in memberProperties) {\n           val v = prop.get(entry) //compile error: I can't consume T\n       }\n    }\n}\n</code></pre>\n\n<p>I found that a solution is using <code>javaClass.kotlin</code> extension function on the object reference, to get instead the invariant type:</p>\n\n<pre><code>fun &lt;T&gt; foo(entry: T) {\n    with(entry.javaClass.kotlin) {\n       this // is instance of KClass&lt;T&gt;\n    }\n}\n</code></pre>\n\n<p>This way, I get both the exact type at runtime and the possibility to consume the type. </p>\n\n<p>Interestingly, if I use a supertype instead of a generic, with the latter method I still get access to the correct type, without the need of variance:</p>\n\n<pre><code>class Derived: Base()\n\nfun foo(entry: Base) {\n    with(entry.javaClass.kotlin) {\n       println(this == Derived::class)\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val derived = Derived()\n    foo(derived) // prints 'true'\n}\n</code></pre>\n\n<p>If I got it correct, <code>::class</code> is equal to calling the java <code>getClass</code>, which returns a variant type with a wildcard, while <code>javaClass</code> is a <code>getClass</code> with a cast to the specific type.\nStill, I don't get why would I ever need a covariant KClass, when it limits me to only produce the type, given that there are other ways to access the exact class at runtime and use it freely, and I wonder if the more immediate <code>::class</code> should return an invariant type by design.</p>\n"}, {"tags": ["java", "kotlin", "twitter4j"], "answers": [{"comments": [{"owner": {"reputation": 1174, "user_id": 3307037, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BvSpD.jpg?s=128&g=1", "display_name": "Enoobong", "link": "https://stackoverflow.com/users/3307037/enoobong"}, "edited": false, "score": 0, "creation_date": 1503232115, "post_id": 45782074, "comment_id": 78521516, "body": "Thanks for your response @Kiskae. I&#39;d try this out. Actually it works perfectly in Java so no need for a fixer"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 2, "last_activity_date": 1503231739, "creation_date": 1503231739, "answer_id": 45782074, "question_id": 45781964, "link": "https://stackoverflow.com/questions/45781964/how-to-make-kotlin-stop-casting-argument-to-wrong-classinterface/45782074#45782074", "title": "How to make Kotlin stop casting argument to wrong class(Interface)", "body": "<p>Kotlin adds these casts to ensure the correct method is called when dealing with overloaded methods. The problem occurs because a public api <code>addListener</code> expects a package-private interface <code>StreamListener</code>. Trying to create such an api actually causes a warning exactly because of this problem and should be fixed on Twitter4j's side.</p>\n\n<p>There is no direct way to fix this in Kotlin, you can work around the issue using a Java helper class and perhaps an extension method:</p>\n\n<pre><code>class Twitter4jFixer {\n    public static void addListener(TwitterStream stream, StatusListener listener) {\n        stream.addListener(listener);\n    }\n}\n\n\nfun TwitterStream.addListenerFixed(listener: StatusListener) {\n    Twitter4jFixer.addListener(this, listener)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1174, "user_id": 3307037, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BvSpD.jpg?s=128&g=1", "display_name": "Enoobong", "link": "https://stackoverflow.com/users/3307037/enoobong"}, "edited": false, "score": 0, "creation_date": 1503233264, "post_id": 45782178, "comment_id": 78521890, "body": "Thanks for your response @aristottl! How do I put my class into <code>package twitter4j</code> it&#39;s an external library. Just added the dependency to my pom.xml"}, {"owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "reply_to_user": {"reputation": 1174, "user_id": 3307037, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BvSpD.jpg?s=128&g=1", "display_name": "Enoobong", "link": "https://stackoverflow.com/users/3307037/enoobong"}, "edited": false, "score": 0, "creation_date": 1503233471, "post_id": 45782178, "comment_id": 78521964, "body": "@Enoobong  You just need to create a new package with name <code>twitter4j</code>."}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 0, "creation_date": 1503245792, "post_id": 45782178, "comment_id": 78525916, "body": "Twitter4j has a lot of weird cases like this, even in Java. For example if the Json object cache is enabled you can&#39;t clear the cache from outside of the <code>twitter4j</code> package, eventually causing OutOfMemory errors."}], "tags": [], "owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "is_accepted": false, "score": 0, "last_activity_date": 1503232418, "creation_date": 1503232418, "answer_id": 45782178, "question_id": 45781964, "link": "https://stackoverflow.com/questions/45781964/how-to-make-kotlin-stop-casting-argument-to-wrong-classinterface/45782178#45782178", "title": "How to make Kotlin stop casting argument to wrong class(Interface)", "body": "<p>Kiskae put a good point, Maybe author of twitter4j does not take interactions with other jvm languages into account.</p>\n\n<p>I don't think the fix is necessary. </p>\n\n<p>You can just put your class into <code>package twitter4j</code> if you must use the package private interface <code>twitter4j.StreamListener</code> because of the unwanted casting.</p>\n"}], "owner": {"reputation": 1174, "user_id": 3307037, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BvSpD.jpg?s=128&g=1", "display_name": "Enoobong", "link": "https://stackoverflow.com/users/3307037/enoobong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1503233378, "creation_date": 1503230947, "last_edit_date": 1503233378, "question_id": 45781964, "link": "https://stackoverflow.com/questions/45781964/how-to-make-kotlin-stop-casting-argument-to-wrong-classinterface", "title": "How to make Kotlin stop casting argument to wrong class(Interface)", "body": "<p>I've been goofing around with Kotlin of recent, and it's been Awesome! </p>\n\n<p>I was working with Twitter4j library to tryout some stuff with the Twitter API. I wrote this code in Kotlin </p>\n\n<pre><code>object Demo {\n\n    private val twitterStream = TwitterStreamFactory().instance\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n\n        val listener = object : StatusListener {\n\n            override fun onStallWarning(warning: StallWarning?) {\n                println(\"Got stall warning:\" + warning)\n            }\n\n            override fun onScrubGeo(userId: Long, upToStatusId: Long) {\n                println(\"Got scrub_geo event userId:$userId upToStatusId:$upToStatusId\")\n            }\n\n            override fun onStatus(status: Status) {\n                println(\"@\" + status.user.screenName + \" - \" + status.text)\n            }\n\n            override fun onDeletionNotice(statusDeletionNotice: StatusDeletionNotice) {\n                println(\"Got a status deletion notice id:\" + statusDeletionNotice.statusId)\n            }\n            override fun onTrackLimitationNotice(numberOfLimitedStatuses: Int) {\n                println(\"Got track limitation notice:\" + numberOfLimitedStatuses)\n            }\n            override fun onException(ex: Exception) {\n                ex.printStackTrace()\n            }\n        }\n\n        twitterStream.addListener(listener)\n        twitterStream.sample()\n\n    }\n}\n</code></pre>\n\n<p>but each time I ran it, I got <code>exception in thread \"main\" java.lang.IllegalAccessError: tried to access class twitter4j.StreamListener from class co.enoobong.eno.twitter.bot.Demo\n    at co.enoobong.eno.twitter.bot.Demo.main(Demo.kt:63)</code></p>\n\n<p>Upon further investigation, Tools->Kotlin->Show Kotlin Bytecode. I decompiled to Java, only to discover that this is what was being generated.</p>\n\n<pre><code> @JvmStatic\n public static final void main(@NotNull String[] args) {\n  Intrinsics.checkParameterIsNotNull(args, \"args\");\n  &lt;undefinedtype&gt; listener = new StatusListener() {\n     public void onStallWarning(@Nullable StallWarning warning) {\n        String var2 = \"Got stall warning:\" + warning;\n        System.out.println(var2);\n     }\n\n     public void onScrubGeo(long userId, long upToStatusId) {\n        String var5 = \"Got scrub_geo event userId:\" + userId + \" upToStatusId:\" + upToStatusId;\n        System.out.println(var5);\n     }\n\n     public void onStatus(@NotNull Status status) {\n        Intrinsics.checkParameterIsNotNull(status, \"status\");\n        String var2 = \"@\" + status.getUser().getScreenName() + \" - \" + status.getText();\n        System.out.println(var2);\n     }\n\n     public void onDeletionNotice(@NotNull StatusDeletionNotice statusDeletionNotice) {\n        Intrinsics.checkParameterIsNotNull(statusDeletionNotice, \"statusDeletionNotice\");\n        String var2 = \"Got a status deletion notice id:\" + statusDeletionNotice.getStatusId();\n        System.out.println(var2);\n     }\n\n     public void onTrackLimitationNotice(int numberOfLimitedStatuses) {\n        String var2 = \"Got track limitation notice:\" + numberOfLimitedStatuses;\n        System.out.println(var2);\n     }\n\n     public void onException(@NotNull Exception ex) {\n        Intrinsics.checkParameterIsNotNull(ex, \"ex\");\n        ex.printStackTrace();\n     }\n  };\n  twitterStream.addListener((StreamListener)listener);\n  twitterStream.sample();\n</code></pre>\n\n<p>}</p>\n\n<p>Kotlin was trying to cast listener to <code>StreamListener</code> which is private in the Library (StatusListener extends it) hence the <code>IllegalAccessError</code></p>\n\n<p>Any ideas how to resolve please?</p>\n\n<p>PS: Here's a working Java version of the code - <a href=\"https://github.com/yusuke/twitter4j/blob/master/twitter4j-examples/src/main/java/twitter4j/examples/stream/PrintSampleStream.java\" rel=\"nofollow noreferrer\">https://github.com/yusuke/twitter4j/blob/master/twitter4j-examples/src/main/java/twitter4j/examples/stream/PrintSampleStream.java</a></p>\n\n<p>PPS: I'm using Kotlin 1.1.4, on IntelliJ IDEA 2017.2.2</p>\n"}, {"tags": ["android", "kotlin", "anko"], "comments": [{"owner": {"reputation": 55, "user_id": 7380461, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-9PuDzrOO9E8/AAAAAAAAAAI/AAAAAAAABV4/mK7XdhldCbA/photo.jpg?sz=128", "display_name": "jithendra sai", "link": "https://stackoverflow.com/users/7380461/jithendra-sai"}, "edited": false, "score": 0, "creation_date": 1503235606, "post_id": 45781869, "comment_id": 78522607, "body": "[youtube.com/watch?v=a0lxfdoOhSE&amp;t=219s] can someone please tell me how he add id to edittext and I am trying to do same but getting an error. You can forward video to 8:00 minutes"}], "answers": [{"comments": [{"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 0, "creation_date": 1503232727, "post_id": 45781945, "comment_id": 78521719, "body": "Create an ids.xml file to generate the ids you require: <a href=\"https://developer.android.com/samples/BatchStepSensor/res/values/ids.html\" rel=\"nofollow noreferrer\">developer.android.com/samples/BatchStepSensor/res/values/&hellip;</a>"}, {"owner": {"reputation": 55, "user_id": 7380461, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-9PuDzrOO9E8/AAAAAAAAAAI/AAAAAAAABV4/mK7XdhldCbA/photo.jpg?sz=128", "display_name": "jithendra sai", "link": "https://stackoverflow.com/users/7380461/jithendra-sai"}, "edited": false, "score": 0, "creation_date": 1503233663, "post_id": 45781945, "comment_id": 78522030, "body": "[<a href=\"https://www.youtube.com/watch?v=a0lxfdoOhSE&amp;t=219s]\" rel=\"nofollow noreferrer\">youtube.com/watch?v=a0lxfdoOhSE&amp;t=219s]</a>   can someone please tell me how he add id to edittext and I am trying to do same but getting an error"}], "tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": false, "score": 1, "last_activity_date": 1503230824, "creation_date": 1503230824, "answer_id": 45781945, "question_id": 45781869, "link": "https://stackoverflow.com/questions/45781869/expected-resource-of-type-id/45781945#45781945", "title": "Expected resource of type ID", "body": "<p>You should pass an id as <code>R.id.some_name</code></p>\n\n<p>you can't pass <strong>integers</strong> on it.</p>\n\n<p><strong>Example</strong>:</p>\n\n<pre><code>editText {\n        id = R.id.userNameEditText\n        hintResource = R.string.create_user_hint_username\n        textSize = 24f\n      }\n</code></pre>\n\n<p>Hope it helps:)</p>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 7380461, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-9PuDzrOO9E8/AAAAAAAAAAI/AAAAAAAABV4/mK7XdhldCbA/photo.jpg?sz=128", "display_name": "jithendra sai", "link": "https://stackoverflow.com/users/7380461/jithendra-sai"}, "edited": false, "score": 0, "creation_date": 1503236523, "post_id": 45782621, "comment_id": 78522860, "body": "[youtube.com/watch?v=a0lxfdoOhSE&amp;t=219s] can someone please tell me how he add id to edittext and I am trying to do same but getting an error. You can forward video to 8:00 minutes"}, {"owner": {"reputation": 55, "user_id": 7380461, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-9PuDzrOO9E8/AAAAAAAAAAI/AAAAAAAABV4/mK7XdhldCbA/photo.jpg?sz=128", "display_name": "jithendra sai", "link": "https://stackoverflow.com/users/7380461/jithendra-sai"}, "edited": false, "score": 0, "creation_date": 1503236944, "post_id": 45782621, "comment_id": 78522990, "body": "I am sure your method will work all I wonder is how he did in this video   [youtube.com/watch?v=a0lxfdoOhSE&amp;t=219s]    can you please tell me how he adds an ID to <code>edittext</code> and I am trying to do same but getting an error. You can skip 8:00 minutes video."}], "tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 1, "last_activity_date": 1503235378, "creation_date": 1503235378, "answer_id": 45782621, "question_id": 45781869, "link": "https://stackoverflow.com/questions/45781869/expected-resource-of-type-id/45782621#45782621", "title": "Expected resource of type ID", "body": "<p>You should pass a proper unique resource id for view's id and not just any int value.</p>\n\n<p>First create a file <a href=\"https://developer.android.com/samples/BatchStepSensor/res/values/ids.html\" rel=\"nofollow noreferrer\"><code>ids.xml</code></a> under <code>res/values/</code> and add an <code>id</code> for your <code>EditText</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;item name=\"edit_text\" type=\"id\"/&gt;\n\n&lt;/resources&gt;\n</code></pre>\n\n<p>Now use that as <code>EditText</code> <code>id</code>:</p>\n\n<pre><code>relativeLayout {\n        editText{\n            id = R.id.edit_text\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": true, "score": 1, "last_activity_date": 1503238265, "creation_date": 1503238265, "answer_id": 45783029, "question_id": 45781869, "link": "https://stackoverflow.com/questions/45781869/expected-resource-of-type-id/45783029#45783029", "title": "Expected resource of type ID", "body": "<p>You can either use id references (<code>R.id.something</code>) or negative integers from <code>-16777215</code> to <code>-1</code> (and ignore the warning).</p>\n\n<p>Suitable negative integers can also be generated for you by using <a href=\"https://developer.android.com/reference/android/view/View.html#generateViewId()\" rel=\"nofollow noreferrer\"><code>View.generateViewId()</code></a> method available since API 17. Source code is available <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/view/View.java#View.generateViewId%28%29\" rel=\"nofollow noreferrer\">here</a>. You'll have to remember the generated values yourself.</p>\n\n<p>Generating an <code>R.id</code> is covered in other answers.</p>\n\n<blockquote>\n  <p>I am trying to do same but getting an error</p>\n</blockquote>\n\n<p>The video was published over a year ago and lint didn't warn you about Kotlin code back then. </p>\n"}], "owner": {"reputation": 55, "user_id": 7380461, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-9PuDzrOO9E8/AAAAAAAAAAI/AAAAAAAABV4/mK7XdhldCbA/photo.jpg?sz=128", "display_name": "jithendra sai", "link": "https://stackoverflow.com/users/7380461/jithendra-sai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2886, "favorite_count": 0, "accepted_answer_id": 45783029, "answer_count": 3, "score": 0, "last_activity_date": 1503238315, "creation_date": 1503230257, "last_edit_date": 1503238315, "question_id": 45781869, "link": "https://stackoverflow.com/questions/45781869/expected-resource-of-type-id", "title": "Expected resource of type ID", "body": "<p>I am using <code>ANKO</code> to build simple project. When I try to set id for an <code>EditText</code> I am getting following error.</p>\n\n<blockquote>\n  <p>Ensures that resource id's passed to APIs are of the right type; for example, calling <code>Resources.getColor(R.string.name)</code> is wrong.</p>\n</blockquote>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport org.jetbrains.anko.*\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    relativeLayout {\n        editText{\n            id = 1\n        }\n    }\n}\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Rey1F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rey1F.png\" alt=\"click here to view an error image format\"></a></p>\n"}, {"tags": ["android", "listview", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1503226566, "post_id": 45780492, "comment_id": 78519789, "body": "You have to mention about Android Extensions if you are using it."}], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 4258214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa7fc96f2b6ced8213f66988fcfc771?s=128&d=identicon&r=PG&f=1", "display_name": "Oyzuu", "link": "https://stackoverflow.com/users/4258214/oyzuu"}, "edited": false, "score": 0, "creation_date": 1503221699, "post_id": 45780541, "comment_id": 78518495, "body": "Explicit unwrapping is not necessary. Double bangs <code>!!</code> should be considered as an error."}, {"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "reply_to_user": {"reputation": 289, "user_id": 4258214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa7fc96f2b6ced8213f66988fcfc771?s=128&d=identicon&r=PG&f=1", "display_name": "Oyzuu", "link": "https://stackoverflow.com/users/4258214/oyzuu"}, "edited": false, "score": 0, "creation_date": 1503221810, "post_id": 45780541, "comment_id": 78518520, "body": "Explain, please @Xalamadrax"}, {"owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503223531, "post_id": 45780541, "comment_id": 78518963, "body": "it&#39;s crashed now when i open the fragment on my app"}, {"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1503224184, "post_id": 45780541, "comment_id": 78519139, "body": "wait, let me check.@NourMedhat"}, {"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "reply_to_user": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503224691, "post_id": 45780541, "comment_id": 78519266, "body": "Post your crash report @NourMedhat"}, {"owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503225828, "post_id": 45780541, "comment_id": 78519570, "body": "FATAL EXCEPTION: main                                                                                       Process: com.agenda.nourmedhat.smartgate.agenda, PID: 3005                                                                                       java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ListView.setAdapter(android.widget.ListAdapte&zwnj;&#8203;r)&#39; on a null object reference"}, {"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1503225902, "post_id": 45780541, "comment_id": 78519597, "body": "your listview is null... Can your post your complete code."}, {"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1503227130, "post_id": 45780541, "comment_id": 78519977, "body": "I tried your code. I found a problem, I will update my answer now"}, {"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1503228055, "post_id": 45780541, "comment_id": 78520267, "body": "Check my updated answer. Tell me if not fixed@NourMedhat"}, {"owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503228457, "post_id": 45780541, "comment_id": 78520393, "body": "again when i open my fragment , my app stopped."}, {"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "reply_to_user": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503229374, "post_id": 45780541, "comment_id": 78520683, "body": "You used the same layout for adapter too. check updated answer. @NourMedhat"}, {"owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503233151, "post_id": 45780541, "comment_id": 78521847, "body": "The final answer make it solved , Thank you for helping :)                         var myView = inflator.inflate(R.layout.fragment_test, null)"}, {"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1503233506, "post_id": 45780541, "comment_id": 78521976, "body": "If it is resolved mark it as correct answer. It may help others"}, {"owner": {"reputation": 838, "user_id": 8618875, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2b22b449bde41ff43cda11ecb7bf737b?s=128&d=identicon&r=PG&f=1", "display_name": "clauub", "link": "https://stackoverflow.com/users/8618875/clauub"}, "edited": false, "score": 0, "creation_date": 1528966742, "post_id": 45780541, "comment_id": 88709748, "body": "Yes it helped me, all thing that you should do is moving adapter delcaration into <b>onViewCreated</b>"}], "tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": true, "score": 2, "last_activity_date": 1503229336, "last_edit_date": 1503229336, "creation_date": 1503221129, "answer_id": 45780541, "question_id": 45780492, "link": "https://stackoverflow.com/questions/45780492/listview-can-appear-in-activity-but-cant-appear-in-fragment/45780541#45780541", "title": "ListView can appear in Activity but can&#39;t appear in Fragment", "body": "<p>You should make a return statement after your initialization in your \n <code>onCreateView()</code>.</p>\n\n<p>You are using <code>kotlin-android-extensions</code> to get your view directly. If you use that way, you can get your <code>LisView</code> only after view created.</p>\n\n<p>Your code should be like this.</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n return inflater!!.inflate(R.layout.fragment_test, container, false)\n}\n\noverride fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n    listOfMkabala .add ( MeetingDetails(\" nour1\", \"ahmed1\" , \"aya1\"))\n    listOfMkabala .add ( MeetingDetails(\" nour2\", \"ahmed2\" , \"aya2\"))\n    listOfMkabala .add ( MeetingDetails(\" nour3\", \"ahmed3\" , \"aya3\"))\n    listOfMkabala .add ( MeetingDetails(\" nour4\", \"ahmed4\" , \"aya4\"))\n    listOfMkabala .add ( MeetingDetails(\" nour5\", \"ahmed5\" , \"aya5\"))\n    listOfMkabala .add ( MeetingDetails(\" nour6\", \"ahmed6\" , \"aya6\"))\n    adapter = mo3dAdapter (context  ,listOfMkabala)\n    tv1.adapter = adapter\n}\n</code></pre>\n\n<p><code>onViewCreated()</code> runs after the View has been created. So it ensures your view already created.</p>\n\n<p>You have passed the same layout for your adapter too.</p>\n\n<p>In your adapter code change the  <code>R.layout.fragment_test</code> to your model layout.</p>\n\n<pre><code>var myView = inflator.inflate(R.layout.fragment_test, null)\n</code></pre>\n\n<p>Hope it helps:)</p>\n"}, {"comments": [{"owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503226682, "post_id": 45781274, "comment_id": 78519833, "body": "i have error in this line         tv1 = (ListView)view?.findViewById(R.id.tv1);"}, {"owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "reply_to_user": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503226746, "post_id": 45781274, "comment_id": 78519853, "body": "What error? What is this tv1? Please show your imports, are you using kotlin-android-extensions for UI mapping"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1503226853, "post_id": 45781274, "comment_id": 78519886, "body": "You are casting in Java way. Should be <code>view?.findViewById(R.id.your_listview_id) as ListView</code>"}, {"owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "reply_to_user": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1503227570, "post_id": 45781274, "comment_id": 78520120, "body": "@NourMedhat Please use view?.findViewById(R.id.your_listview_id) instead of  (ListView)view?.findViewById(R.id.tv1)"}], "tags": [], "owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "is_accepted": false, "score": 1, "last_activity_date": 1503227125, "last_edit_date": 1503227125, "creation_date": 1503225946, "answer_id": 45781274, "question_id": 45780492, "link": "https://stackoverflow.com/questions/45780492/listview-can-appear-in-activity-but-cant-appear-in-fragment/45781274#45781274", "title": "ListView can appear in Activity but can&#39;t appear in Fragment", "body": "<p>You written code in <code>onCreateView</code> after <code>return</code> statement which we called dead code(code which is unreachable). In that manner you never set your adapter in <code>ListView</code>.</p>\n\n<p>Follow 3 steps as a general approach - </p>\n\n<ol>\n<li>Init all data in <code>onCreate</code> method. In your case addition of data in <code>ArrayList</code> will go there.</li>\n</ol>\n\n<p>so that will look like - </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    listOfMkabala .add ( MeetingDetails(\" nour1\", \"ahmed1\" , \"aya1\"))\n    listOfMkabala .add ( MeetingDetails(\" nour2\", \"ahmed2\" , \"aya2\"))\n    listOfMkabala .add ( MeetingDetails(\" nour3\", \"ahmed3\" , \"aya3\"))\n    listOfMkabala .add ( MeetingDetails(\" nour4\", \"ahmed4\" , \"aya4\"))\n    listOfMkabala .add ( MeetingDetails(\" nour5\", \"ahmed5\" , \"aya5\"))\n    listOfMkabala .add ( MeetingDetails(\" nour6\", \"ahmed6\" , \"aya6\"))\n}\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Only init your layout resource in <code>onCreateView</code>. Like this - </p>\n\n<pre><code> override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, \n                      savedInstanceState: Bundle?): View? {\n\n    return inflater!!.inflate(R.layout.fragment_test, container, false)\n}\n</code></pre></li>\n<li><p>Which is related to rendering data on UI, that should be done in <code>onViewCreated</code> method. In your case, it should like - </p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n     super.onViewCreated(view, savedInstanceState)\n     adapter = mo3dAdapter (context  ,listOfMkabala)\n     // Init your listview\n     tv1 = view?.findViewById(R.id.your_listview_id);\n     tv1.adapter = adapter\n}\n</code></pre></li>\n</ol>\n\n<p>Make sure you init <code>tv1</code> and it should be <code>ListView</code> reference.</p>\n"}], "owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 845, "favorite_count": 0, "accepted_answer_id": 45780541, "answer_count": 2, "score": 1, "last_activity_date": 1503229336, "creation_date": 1503220768, "last_edit_date": 1503226495, "question_id": 45780492, "link": "https://stackoverflow.com/questions/45780492/listview-can-appear-in-activity-but-cant-appear-in-fragment", "title": "ListView can appear in Activity but can&#39;t appear in Fragment", "body": "<p>ListView can appear in <code>Activity</code> but can't appear in <code>Fragment</code> However I use the same code in Kotlin with Android Studio 3.0?</p>\n\n<p>And this is my fragment code: </p>\n\n<pre><code>class testFrag : Fragment() {\nvar adapter : mo3dAdapter?=null\nvar listOfMkabala = ArrayList&lt;MeetingDetails&gt;()\n\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    return inflater!!.inflate(R.layout.fragment_test, container, false)\n\n\n    listOfMkabala .add ( MeetingDetails(\" nour1\", \"ahmed1\" , \"aya1\"))\n    listOfMkabala .add ( MeetingDetails(\" nour2\", \"ahmed2\" , \"aya2\"))\n    listOfMkabala .add ( MeetingDetails(\" nour3\", \"ahmed3\" , \"aya3\"))\n    listOfMkabala .add ( MeetingDetails(\" nour4\", \"ahmed4\" , \"aya4\"))\n    listOfMkabala .add ( MeetingDetails(\" nour5\", \"ahmed5\" , \"aya5\"))\n    listOfMkabala .add ( MeetingDetails(\" nour6\", \"ahmed6\" , \"aya6\"))\n\n\n    adapter = mo3dAdapter (context  ,listOfMkabala)\n    tv1.adapter = adapter\n\n}\n\n\nfun test ( view: View){\n\n}\n</code></pre>\n\n<p>this my adapter:</p>\n\n<pre><code>inner class mo3dAdapter: BaseAdapter {\n    var  listOfMkabaln= ArrayList&lt;MeetingDetails&gt;()\n    var context:Context?=null\n    constructor(context:Context, listOfMkabaln: ArrayList&lt;MeetingDetails&gt;):super(){\n        this.listOfMkabaln=listOfMkabaln\n        this.context=context\n    }\n\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val mo3d =  listOfMkabaln[p0]\n\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        var myView = inflator.inflate(R.layout.fragment_test, null)\n        myView.text1.text = mo3d.name1!!\n        myView.text2.text = mo3d.name2!!\n        myView.text3.text = mo3d.name3!!\n\n        return myView\n\n    }\n\n    override fun getItem(p0: Int): Any {\n        return listOfMkabaln[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n\n        return  listOfMkabaln.size\n    }\n\n}\n</code></pre>\n"}, {"tags": ["field", "kotlin", "readonly", "kotlin-lateinit"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1503229648, "post_id": 45777304, "comment_id": 78520769, "body": "It&#39;s not true that a caller of a method can reassign the value of this method. <code>application.getNetwork() = myNewNetworkReference</code> would not compile."}], "answers": [{"comments": [{"owner": {"reputation": 9976, "user_id": 1369016, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DkJLX.png?s=128&g=1", "display_name": "Bitcoin Cash - ADA enthusiast", "link": "https://stackoverflow.com/users/1369016/bitcoin-cash-ada-enthusiast"}, "edited": false, "score": 0, "creation_date": 1503189028, "post_id": 45777376, "comment_id": 78512478, "body": "This will work for this particular case since the Network class does not take any parameters. Thank you. However, I&#39;ve simplified the example a bit. I need a way to rely on onCreate since some instances I will be creating need a Context object already initialized. For instance, I might instantiate a SQLDatabase(this) and it needs to be inside onCreate because I am passing &quot;this&quot; (Context) to it."}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 2, "last_activity_date": 1503190102, "last_edit_date": 1503190102, "creation_date": 1503188150, "answer_id": 45777376, "question_id": 45777304, "link": "https://stackoverflow.com/questions/45777304/kotlin-how-to-make-field-read-only-for-external-classes/45777376#45777376", "title": "Kotlin - How to make field read-only for external classes", "body": "<p>Would <code>val network: INetwork by lazy { ... }</code> work for your scenario?</p>\n\n<p>The lambda expression gets called with the first reference to the field <code>network</code>.  Obviously, this isn't the same as deferring initialization to the <code>OnCreate</code> method, but it is a way to make it <code>val</code> without having to initialize it in the constructor.</p>\n\n<p>There are other delegation choices as well.  <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#property-delegate-requirements\" rel=\"nofollow noreferrer\">The Kotlin documentation</a> is worth checking out.</p>\n"}, {"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 12, "last_activity_date": 1503190101, "creation_date": 1503190101, "answer_id": 45777526, "question_id": 45777304, "link": "https://stackoverflow.com/questions/45777304/kotlin-how-to-make-field-read-only-for-external-classes/45777526#45777526", "title": "Kotlin - How to make field read-only for external classes", "body": "<p>You can modify the visibility of the getters/setters independantly from the actual variable:</p>\n\n<pre><code>lateinit var network: INetwork\n    private set\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 36, "last_activity_date": 1503200116, "creation_date": 1503200116, "answer_id": 45778216, "question_id": 45777304, "link": "https://stackoverflow.com/questions/45777304/kotlin-how-to-make-field-read-only-for-external-classes/45778216#45778216", "title": "Kotlin - How to make field read-only for external classes", "body": "<p>To restrict the access from the external classes, you can change the visibility of accessors. For your case, you need <code>private</code> setter and <code>public</code> getter with <code>lateinit</code> modifier:</p>\n\n<pre><code>lateinit var network: INetwork\n    private set\n</code></pre>\n\n<p>Or a read-only lazy property:</p>\n\n<pre><code>val network: INetwork by lazy { Network() }  //you can access private property here, eg. applicationContext\n</code></pre>\n\n<p>There are some misunderstanding from you about this code:</p>\n\n<pre><code>private lateinit var network: INetwork\nfun getNetwork() = network\n</code></pre>\n\n<p>Kotlin is <strong>pass-by-value</strong> as what <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Java does</a>. So, <code>application.getNetwork() = myNewNetworkReference</code> is not a valid statement. We cannot assign value to the return value of a function.</p>\n"}], "owner": {"reputation": 9976, "user_id": 1369016, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DkJLX.png?s=128&g=1", "display_name": "Bitcoin Cash - ADA enthusiast", "link": "https://stackoverflow.com/users/1369016/bitcoin-cash-ada-enthusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7177, "favorite_count": 0, "accepted_answer_id": 45778216, "answer_count": 3, "score": 19, "last_activity_date": 1503200116, "creation_date": 1503187332, "last_edit_date": 1503187713, "question_id": 45777304, "link": "https://stackoverflow.com/questions/45777304/kotlin-how-to-make-field-read-only-for-external-classes", "title": "Kotlin - How to make field read-only for external classes", "body": "<p>I have the following Kotlin class on Android:</p>\n\n<pre><code>class ThisApplication: Application() {\n\n    lateinit var network: INetwork\n\n    override fun onCreate() {\n\n        super.onCreate()\n\n        network = Network()\n    }\n}\n</code></pre>\n\n<p>Now, any external class can get the INetwork reference by simply doing:</p>\n\n<pre><code>application.network\n</code></pre>\n\n<p>However, that also makes it possible for an external class to overwrite that value:</p>\n\n<pre><code>application.network = myNewNetworkReference\n</code></pre>\n\n<p>I want to avoid the second option. Unfortunately, I can't make the field <code>val</code> because its initialization needs to happen inside the <code>onCreate</code> callback.</p>\n\n<p>I also thought about making the field private and exposing it through a function, like this:</p>\n\n<pre><code>private lateinit var network: INetwork\nfun getNetwork() = network\n</code></pre>\n\n<p>However, whoever calls getNetwork() can still assign a new value to it, like so:</p>\n\n<pre><code>application.getNetwork() = myNewNetworkReference\n</code></pre>\n\n<p>How can I make the network field to be read-only by external classes? Or even better, is there a way to make it <code>val</code> even though I can't initialize it inside a constructor?</p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "is_accepted": false, "score": 5, "last_activity_date": 1503185303, "creation_date": 1503185303, "answer_id": 45777156, "question_id": 45777155, "link": "https://stackoverflow.com/questions/45777155/how-do-i-attach-sources-for-kotlin-in-android-studio/45777156#45777156", "title": "How do I attach sources for Kotlin in Android Studio?", "body": "<p>In the decompiled class file you need to click on <code>Choose Sources</code>: </p>\n\n<p><a href=\"https://i.stack.imgur.com/VFdpA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VFdpA.png\" alt=\"the bytecode file\"></a></p>\n\n<p>You will then get a dialog that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GcD53.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GcD53.png\" alt=\"runtime jar doesn&#39;t have sources\"></a></p>\n\n<p>You will not find the sources in the <code>kotlin-stdlib</code> directory. Instead you need to scroll down to <code>kotlin-stdlib-common</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/at9l5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/at9l5.png\" alt=\"sources are in kotlin-stdlib-common\"></a></p>\n\n<p>Where you can choose the sources. The <code>jump to declaration</code> command now works as expected:</p>\n\n<pre><code>/** Returns a new read-only list of given elements.  The returned list is serializable (JVM). */\npublic fun &lt;T&gt; listOf(vararg elements: T): List&lt;T&gt; = if (elements.size &gt; 0) elements.asList() else emptyList()\n\n/** Returns an empty read-only list.  The returned list is serializable (JVM). */\n@kotlin.internal.InlineOnly\npublic inline fun &lt;T&gt; listOf(): List&lt;T&gt; = emptyList()\n</code></pre>\n"}], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1167, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1503185303, "creation_date": 1503185303, "question_id": 45777155, "link": "https://stackoverflow.com/questions/45777155/how-do-i-attach-sources-for-kotlin-in-android-studio", "title": "How do I attach sources for Kotlin in Android Studio?", "body": "<p>I started using Kotlin in Android Studio but I would like to inspect the Kotlin sources the same way I can press <kbd>Ctr-B</kbd> or <kbd>Cmd-B</kbd> for \"jump to the declaration\" to see the source for any standard Java class.</p>\n\n<p>For instance, if I take the default Android Studio Kotlin project and add one line calling the standard Kotlin <code>listOf()</code>:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    listOf(\"hello\", \"goodbye\");\n}\n</code></pre>\n\n<p>and press <kbd>Ctr-B</kbd> on <code>listOf()</code> I only get the following:</p>\n\n<pre><code>public fun &lt;T&gt; listOf(vararg elements: T): kotlin.collections.List&lt;T&gt; { /* compiled code */ }\n</code></pre>\n\n<p>If I click on <code>Choose Sources</code> I cannot find the source file in the directory that comes up. How do I set up Android Studio to see the source for these standard Kotlin classes?</p>\n"}, {"tags": ["java", "annotations", "kotlin", "annotation-processing", "kapt"], "answers": [{"comments": [{"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1503213814, "post_id": 45779464, "comment_id": 78516522, "body": "Thanks for the well described answer I came up with some sort of solution/hack: Basically create a generic class named NullableOf&lt;T&gt; so then I could always know when it&#39;s null . Is there a less hacky way to do that or just create a new class"}, {"owner": {"reputation": 3604, "user_id": 1643723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e16eeec789c8b7281a9d7dd56b8030?s=128&d=identicon&r=PG", "display_name": "user1643723", "link": "https://stackoverflow.com/users/1643723/user1643723"}, "reply_to_user": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1503214707, "post_id": 45779464, "comment_id": 78516696, "body": "There is a class for that in Java 8, it is called &quot;Optional&quot;. But it kind or sucks: lots of boilerplate, lots of unnecessary objects getting created, when using <code>Collection&lt;Optional&lt;*&gt;&gt;</code>. If you are mainly concerned about collections (90% of use cases for generics), you can communicate nullability via specialized collection types, that do not support <code>null</code> (there are already multiple such collections in the wild). Also, if you <i>really</i> care about that use case, you can hack support for type mirror introspection yourself via the Tree API. It IS possible (but requires parsing source code tree)."}, {"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1503214861, "post_id": 45779464, "comment_id": 78516728, "body": "Ok thanks I&#39;ll probably try the tree API first and if it will not work I&#39;ll check what I&#39;ll use because optional is Java 8 and I need support for Java 7"}, {"owner": {"reputation": 3604, "user_id": 1643723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e16eeec789c8b7281a9d7dd56b8030?s=128&d=identicon&r=PG", "display_name": "user1643723", "link": "https://stackoverflow.com/users/1643723/user1643723"}, "reply_to_user": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1503215191, "post_id": 45779464, "comment_id": 78516805, "body": "@GilGoldzweig  note, that your users will have to build the project with Java 8 javac, if you go that route (since type annotations are not supported by the older versions of compiler)."}], "tags": [], "owner": {"reputation": 3604, "user_id": 1643723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e16eeec789c8b7281a9d7dd56b8030?s=128&d=identicon&r=PG", "display_name": "user1643723", "link": "https://stackoverflow.com/users/1643723/user1643723"}, "is_accepted": true, "score": 4, "last_activity_date": 1503239126, "last_edit_date": 1503239126, "creation_date": 1503213253, "answer_id": 45779464, "question_id": 45775825, "link": "https://stackoverflow.com/questions/45775825/nullable-types-in-kotlin-annotation-processor/45779464#45779464", "title": "Nullable types in kotlin annotation processor", "body": "<p>A bit of necessary history: as of Java 6 (when the Mirror API was made public) Java annotations could not be used on anything, but the same kinds of top-level elements, accessible via reflection. You could annotate classes, methods and fields, but could not annotate type arguments (<code>List&lt;String&gt;</code>) or local variables (<code>String value = ...</code>). Sun/Oracle engineers have acknowledged that limitation, and in Java 8 the so-called \"type annotations\" were born.</p>\n\n<p>Type annotations can target <em>type</em> of anything: <em>type</em> of local variable, <em>array component type</em>, type variable <em>type</em> and even <em>return type</em> (later annotation is placed similarly, but is distinct from the old-school annotations on the method!). Type annotations are created via new <code>@Target</code> value: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html#TYPE_USE\" rel=\"nofollow noreferrer\">ElementType#TYPE_USE</a>.</p>\n\n<p>When Kotlin people write</p>\n\n<pre><code>List&lt;String?&gt;\n</code></pre>\n\n<p>That really means</p>\n\n<pre><code>List&lt;@Nullable String&gt;\n</code></pre>\n\n<p>which can be read as: \"the list of nullable String elements\".</p>\n\n<p>Since the <em>type</em> itself is being targeted, you are expected to obtain annotations by examining it's original <code>TypeMirror</code> (don't bother with erased or captured TypeMirrors, they don't have enough connection to source code to retain the annotations). Coincidentally, the Mirror API was refactored, resulting in the new interface <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/lang/model/AnnotatedConstruct.html\" rel=\"nofollow noreferrer\">AnnotatedConstruct</a>, and conveniently making TypeMirror it's descendant.</p>\n\n<hr>\n\n<p>Now the bad news: by the time of Java 8 release the support for inspecting type annotations apparently wasn't production-ready, so it got butchered. The JSR has been rewritten to imply, that \"TypeMirror#getAnnotationMirrors\" is supposed to return nothing.</p>\n\n<p>The bits of support, that were removed from public API, are still available via Oracle's vendor-specific <a href=\"https://docs.oracle.com/javase/8/docs/jdk/api/javac/tree/\" rel=\"nofollow noreferrer\">Tree API</a> (supported in javac only). The TypeMirror, returned by Tree#getTypeMirror <em>may</em> contain the annotation the way you are expecting it to. But since it is buggy, you will only be able to get annotations via series of hacks, and ultimately, this won't work at all times (such as in case of nested type arguments). See <a href=\"https://stackoverflow.com/q/31842774/1643723\">this question</a> for some research in that direction.</p>\n\n<p><a href=\"http://mail.openjdk.java.net/pipermail/anno-pipeline-dev/2015-April.txt\" rel=\"nofollow noreferrer\">The fix</a> for that mess was merged in Java 9. I haven't tested it yet, but it looks like TypeMirror#getAnnotationMirrors might finally work. There are no plans to backport the fix to the older Java version.</p>\n"}], "owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1027, "favorite_count": 1, "accepted_answer_id": 45779464, "answer_count": 1, "score": 8, "last_activity_date": 1503239126, "creation_date": 1503172965, "last_edit_date": 1503186716, "question_id": 45775825, "link": "https://stackoverflow.com/questions/45775825/nullable-types-in-kotlin-annotation-processor", "title": "Nullable types in kotlin annotation processor", "body": "<p>I'm working on annotation processor for Kotlin and because the processed elements are in Java I don't receive nullables as <code>?</code> instead with a <code>@Nullable</code> annotation  and that's fine, but I'm facing a problem with receiving null parameters in types and in higher order functions, for normal parameters.</p>\n\n<pre><code>var someNullField: String? = \"\" \n</code></pre>\n\n<p>I will receive <code>java.lang.String</code> at process with <code>@org.jetbrains.annotations.Nullable</code> in its annotations.</p>\n\n<p>But <code>List&lt;String?&gt;</code> for example will return me <code>java.util.List&lt;java.lang.String&gt;</code> without any annotations not in the main element not in the type arguments which results in a unknown nullability state</p>\n\n<p>I tried using <code>javax.lang.model.util.Types</code> to find some sort of result but nothing. </p>\n\n<p>Some of the code that i'm using now:</p>\n\n<pre><code>val utils = processingEnvironment.typeUtils\nval type = fieldElement.asType()\nif (type is DeclaredType) {\n    val typeElement = utils.asElement(type)\n    type.typeArguments\n            .forEach {\n                //Trying different ways and just printing for possible results\n                val capture = utils.capture(it)\n                val erasure = utils.erasure(it)\n                val element = utils.asElement(it)\n                printMessage(\"element: $element isNullable: ${element.isNullable()} isNotNull: ${element.isNotNull()}\\ncapture: $capture isNullable: ${capture.isNullable()} isNotNull: ${capture.isNotNull()}\\nerasure: $erasure isNullable: ${erasure.isNullable()} isNotNull: ${erasure.isNotNull()}\")\n            }\n}\n</code></pre>\n\n<p>All help will be appreciated.</p>\n"}, {"tags": ["libgdx", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": true, "score": 1, "last_activity_date": 1503211100, "last_edit_date": 1503211100, "creation_date": 1503210545, "answer_id": 45779144, "question_id": 45775477, "link": "https://stackoverflow.com/questions/45775477/libgdx-unable-to-perform-action/45779144#45779144", "title": "libGDX unable to perform action", "body": "<p>Labels don't directly support scaling. </p>\n\n<p>The easy way to solve this is put the label in a <a href=\"https://github.com/libgdx/libgdx/wiki/Scene2d.ui#container\" rel=\"nofollow noreferrer\">Container</a>, <code>setTransform(true)</code> on the Container, and add your scale action to the <code>Container</code>.</p>\n\n<pre><code>val container= Container&lt;Label&gt;().apply {\n     isTransform=true\n     actor=label          // Set your Label to container \n}\n\ncontainer.addAction(Actions.scaleTo(3.0f, 3.0f, 0.5f))\n</code></pre>\n"}], "owner": {"reputation": 3587, "user_id": 767653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/228194f4c46d00e3de94b2f6efcc7b23?s=128&d=identicon&r=PG", "display_name": "OMGPOP", "link": "https://stackoverflow.com/users/767653/omgpop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 45779144, "answer_count": 1, "score": 1, "last_activity_date": 1503211189, "creation_date": 1503170251, "last_edit_date": 1503211189, "question_id": 45775477, "link": "https://stackoverflow.com/questions/45775477/libgdx-unable-to-perform-action", "title": "libGDX unable to perform action", "body": "<p>I have a Letter class like this: </p>\n\n<pre><code>class Letter : Label {\n    val char: Char\n    var interactable = true\n    constructor(char: Char) : super(\"\"+char, H.letterStyle()) {\n        this.char = char\n    }\n\n    fun animateSelect() {\n        addAction(Actions.scaleTo(3.0f, 3.0f, 0.5f))\n    }\n    fun animateUnselect() {\n        addAction(Actions.scaleTo(3.0f, 3.0f, 0.5f))\n    }\n}\n</code></pre>\n\n<p>In my touch listener, I have this: </p>\n\n<pre><code>override fun touchDown(event: InputEvent?, x: Float, y: Float, pointer: Int, button: Int): Boolean {\n\n        var currentInteractingLetter: Letter? = null\n        for (letter in letterList) {\n            if (letter.bound.contains(x, y)) {\n                currentInteractingLetter = letter\n                break\n            }\n        }\n\n        if (currentInteractingLetter == null) {\n\n        } else {\n            selectedLetters.add(currentInteractingLetter)\n            currentInteractingLetter.animateSelect()\n            currentInteractingLetter.interactable = false\n        }\n\n        return true\n    }\n</code></pre>\n\n<p>The logic is quite straightforward. When user touch any one of the <code>letter</code>s, I will invoke <code>animateSelect()</code> function. \nWhen I run it, <code>animateSelect</code> did get called, but there is no <code>scaleUp</code> effect. I have tried to clear all actions before <code>addAction</code> but still the same. </p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1503172804, "post_id": 45775284, "comment_id": 78509446, "body": "But as long as this annotation is only used for your test classes, this isn&#39;t a problem, right? Anyway, I&#39;m interested why you&#39;d need that for tests?"}, {"owner": {"reputation": 5417, "user_id": 842697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8616a682a42637b1327b765c6618fd63?s=128&d=identicon&r=PG", "display_name": "Brais Gabin", "link": "https://stackoverflow.com/users/842697/brais-gabin"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 2, "creation_date": 1503176531, "post_id": 45775284, "comment_id": 78510355, "body": "The annotations are used to allow Mockito to mock my production code, so the annotations are in my production code :(. Why I need this? Because there&#39;re <a href=\"http://hadihariri.com/2016/10/04/Mocking-Kotlin-With-Mockito/\" rel=\"nofollow noreferrer\">some other ways</a> to mock closed classes but <a href=\"https://github.com/mockito/mockito/issues/1142\" rel=\"nofollow noreferrer\">they are really slow</a>."}], "answers": [{"comments": [{"owner": {"reputation": 9560, "user_id": 1016462, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/67be1b058c66ed002ff45a1f9a22c0ff?s=128&d=identicon&r=PG", "display_name": "tasomaniac", "link": "https://stackoverflow.com/users/1016462/tasomaniac"}, "edited": false, "score": 0, "creation_date": 1522133300, "post_id": 45793214, "comment_id": 86016099, "body": "That&#39;s a good solution. :+1: Another might be to reverse this condition. It will always be open by default and in your release scripts you can put the CLI argument to disable that make them final again."}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1559654451, "post_id": 45793214, "comment_id": 99483070, "body": "I&#39;m curious how can I add a property in Android Studio configuration."}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 13, "last_activity_date": 1503306393, "creation_date": 1503306393, "answer_id": 45793214, "question_id": 45775284, "link": "https://stackoverflow.com/questions/45775284/how-to-execute-some-code-when-gradle-is-building-the-tests/45793214#45793214", "title": "How to execute some code when gradle is building the tests", "body": "<p>It happens because the plugin is applied in the root of the <code>build.gradle</code> file.</p>\n\n<p>A solution that will 100% work is to not apply the plugin unless some project property is set.</p>\n\n<pre><code>if (project.hasProperty(\"allopen\")) {\n\n  apply plugin: \"kotlin-allopen\"\n\n  allOpen {\n    annotation('com.my.Annotation')\n  }\n\n}\n</code></pre>\n\n<p>and run test with the property: <code>gradle -Pallopen test</code>.</p>\n\n<p>Maybe some Gradle gurus can chime in with a better solution.</p>\n"}, {"comments": [{"owner": {"reputation": 3490, "user_id": 1847960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qqPq.jpg?s=128&g=1", "display_name": "mlykotom", "link": "https://stackoverflow.com/users/1847960/mlykotom"}, "reply_to_user": {"reputation": 407, "user_id": 6407499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7s4l6zo1H3U/AAAAAAAAAAI/AAAAAAAAAck/x0z4rjubJUk/photo.jpg?sz=128", "display_name": "Arsala Bangash", "link": "https://stackoverflow.com/users/6407499/arsala-bangash"}, "edited": false, "score": 0, "creation_date": 1543403689, "post_id": 53121015, "comment_id": 93904906, "body": "any specific why it&#39;s not working? Do you have the annotation properly set?"}, {"owner": {"reputation": 407, "user_id": 6407499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7s4l6zo1H3U/AAAAAAAAAAI/AAAAAAAAAck/x0z4rjubJUk/photo.jpg?sz=128", "display_name": "Arsala Bangash", "link": "https://stackoverflow.com/users/6407499/arsala-bangash"}, "edited": false, "score": 0, "creation_date": 1543426517, "post_id": 53121015, "comment_id": 93919097, "body": "Maybe it was the syntax. I tried using the syntax from p.alexey&#39;s answer and it worked :)"}], "tags": [], "owner": {"reputation": 3490, "user_id": 1847960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qqPq.jpg?s=128&g=1", "display_name": "mlykotom", "link": "https://stackoverflow.com/users/1847960/mlykotom"}, "is_accepted": false, "score": 0, "last_activity_date": 1541170863, "creation_date": 1541170863, "answer_id": 53121015, "question_id": 45775284, "link": "https://stackoverflow.com/questions/45775284/how-to-execute-some-code-when-gradle-is-building-the-tests/53121015#53121015", "title": "How to execute some code when gradle is building the tests", "body": "<p>I had exactly same issue - wanted to have opened classes only for tests because of mocking. I didn't want to use custom parameter, because the code is running locally, on CI and therefore would need to be setup everywhere.</p>\n\n<p>Found solution for it - checking whether task name contains <code>test</code>:</p>\n\n<pre><code>def isTestTask = getGradle().getStartParameter().getTaskNames().any {name -&gt; name.contains(\"test\")}\n\nif (isTestTask) {\n    apply plugin: 'kotlin-allopen'\n    allOpen {\n        annotation('com.my.Annotation')\n    }\n}\n</code></pre>\n\n<p>You may try if it would suit you better :)</p>\n"}, {"comments": [{"owner": {"reputation": 5962, "user_id": 3394973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7aaabf28dacd3741c5fdb359b2c413ed?s=128&d=identicon&r=PG&f=1", "display_name": "yuval", "link": "https://stackoverflow.com/users/3394973/yuval"}, "edited": false, "score": 0, "creation_date": 1551742681, "post_id": 53290488, "comment_id": 96743662, "body": "You don&#39;t need <code>ApplicationVariant</code> but otherwise I find this to be the best solution. Thanks!"}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "reply_to_user": {"reputation": 5962, "user_id": 3394973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7aaabf28dacd3741c5fdb359b2c413ed?s=128&d=identicon&r=PG&f=1", "display_name": "yuval", "link": "https://stackoverflow.com/users/3394973/yuval"}, "edited": false, "score": 0, "creation_date": 1551748519, "post_id": 53290488, "comment_id": 96744893, "body": "I added <code>ApplicationvVariant</code> for IDE to prompt all properties of variant. You are welcome!"}], "tags": [], "owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "is_accepted": false, "score": 7, "last_activity_date": 1542148224, "creation_date": 1542148224, "answer_id": 53290488, "question_id": 45775284, "link": "https://stackoverflow.com/questions/45775284/how-to-execute-some-code-when-gradle-is-building-the-tests/53290488#53290488", "title": "How to execute some code when gradle is building the tests", "body": "<p>I think, that you can do so:</p>\n\n<pre><code>android.applicationVariants.all { ApplicationVariant variant -&gt;\n    boolean hasTest = gradle.startParameter.taskNames.find {it.contains(\"test\") || it.contains(\"Test\")} != null\n    if (hasTest) {\n        apply plugin: 'kotlin-allopen'\n        allOpen {\n            annotation('com.my.Annotation')\n        }\n    }\n}\n</code></pre>\n\n<p>Then you will not need to pass a property when running the test.</p>\n"}], "owner": {"reputation": 5417, "user_id": 842697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8616a682a42637b1327b765c6618fd63?s=128&d=identicon&r=PG", "display_name": "Brais Gabin", "link": "https://stackoverflow.com/users/842697/brais-gabin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1681, "favorite_count": 5, "accepted_answer_id": 45793214, "answer_count": 3, "score": 10, "last_activity_date": 1542148224, "creation_date": 1503169001, "question_id": 45775284, "link": "https://stackoverflow.com/questions/45775284/how-to-execute-some-code-when-gradle-is-building-the-tests", "title": "How to execute some code when gradle is building the tests", "body": "<p>Kotlin have a compiler plugin called <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#all-open-compiler-plugin\" rel=\"noreferrer\">all open</a>. It forces that all the classes with some annotations are open.</p>\n\n<p>I want to use this feature for my tests but I don't want it in my production code (I want my classes closed). How can I do this?</p>\n\n<p>I tried something like:</p>\n\n<pre><code>test {\n  allOpen {\n    annotation('com.my.Annotation')\n  }\n}\n</code></pre>\n\n<p>But the code is execute always.</p>\n"}, {"tags": ["android", "kotlin", "android-fileprovider"], "owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 581, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1503167445, "creation_date": 1503167445, "question_id": 45775053, "link": "https://stackoverflow.com/questions/45775053/getexternalfilesdir-returns-inconsistent-directories", "title": "getExternalFilesDir returns inconsistent directories", "body": "<p>I have an action that allows users to download images, and I save them to my app's data directory.</p>\n\n<p>I create the temp file like so:</p>\n\n<pre><code>@Throws(IOException::class)\nfun Context.createPrivateMediaFile(prefix: String, extension: String): File {\n    val timeStamp = SimpleDateFormat(\"yyyyMMdd_HHmmss\", Locale.getDefault()).format(Date())\n    val imageFileName = \"${prefix}_${timeStamp}_\"\n    val storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES)\n    return File.createTempFile(imageFileName, extension, storageDir)\n}\n</code></pre>\n\n<p>and I use it like so:</p>\n\n<pre><code>try {\n    photoFile = createPrivateMediaFile(\".png\")\n} catch (e: IOException) {\n    errorRef = e\n} finally {\n    if (photoFile == null) {\n        callback(null)\n    } else {\n        tempFilePath = photoFile.absolutePath\n        L.d(\"Temp image path $tempFilePath\")\n        // File created; proceed with request\n        val photoURI = FileProvider.getUriForFile(this,\n                BuildConfig.APPLICATION_ID + \".provider\",\n                photoFile)\n        photoFile.outputStream().use { resource.compress(Bitmap.CompressFormat.PNG, 100, it) }\n        callback(photoURI)\n    }\n}\n</code></pre>\n\n<p>The purpose is to create a new file in my data dir, save the file, and then emit the uri through a callback.</p>\n\n<p>This method works most of the time, but I've gotten reports where the uri cannot be resolved. In those cases, the printed error is:</p>\n\n<p><code>Failed to find configured root that contains /storage/emulated/0/Android/data/com.pitchedapps.frost/files/Fotos/Frost_20170819_111929_1351301627.png</code></p>\n\n<p>My file provider contains the folowing path:</p>\n\n<pre><code>&lt;external-path\n    name=\"Frost_images\"\n    path=\"Android/data/com.pitchedapps.frost/files/Pictures\" /&gt;\n</code></pre>\n\n<p>so it's weird to me where the <code>Fotos</code> folder is coming from. This error has also occurred to me once, so it shouldn't be a locale issue.</p>\n\n<p>So why does <code>getExternalFilesDir</code> seem to return varying paths? Is there a way of getting a base data directory that is ensured to stay consistent?</p>\n\n<p>Yet another example is the following path error:</p>\n\n<p><code>Failed to find configured root that contains /data/data/com.pitchedapps.frost/cache/Frost_20170819_115054_2013474631.png</code>.</p>\n\n<p>Attached below are my</p>\n\n<p><a href=\"https://github.com/AllanWang/Frost-for-Facebook/blob/dev/app/src/main/kotlin/com/pitchedapps/frost/activities/ImageActivity.kt\" rel=\"nofollow noreferrer\">full activity source code</a></p>\n\n<p>and my</p>\n\n<p><a href=\"https://github.com/AllanWang/KAU/blob/dev/mediapicker/src/main/kotlin/ca/allanwang/kau/mediapicker/MediaUtils.kt\" rel=\"nofollow noreferrer\">media utils</a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3587, "user_id": 767653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/228194f4c46d00e3de94b2f6efcc7b23?s=128&d=identicon&r=PG", "display_name": "OMGPOP", "link": "https://stackoverflow.com/users/767653/omgpop"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1503163479, "post_id": 45774365, "comment_id": 78506796, "body": "@creativecreatorormaybenot it&#39;s a very common approach in objective-c/swift. There should be something similar for kotlin"}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1503164184, "post_id": 45774365, "comment_id": 78506990, "body": "I was mistaking. You can see my full explanation as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 3, "last_activity_date": 1503164148, "last_edit_date": 1503164148, "creation_date": 1503163761, "answer_id": 45774433, "question_id": 45774365, "link": "https://stackoverflow.com/questions/45774365/kotlin-any-type-that-implements-an-interface/45774433#45774433", "title": "Kotlin &quot;Any type that implements an interface&quot;", "body": "<p>The solution is pretty easy</p>\n\n<pre><code>val delegate: Delegate\n</code></pre>\n\n<p>Now something like this works</p>\n\n<pre><code>interface Delegate\n\nclass Test: Delegate {\n    fun yourMethod() = \"Your Method\" \n}\n\nfun test() {\n    val delegate: Delegate\n\n    delegate = Test()\n\n    println(delegate)\n}\n</code></pre>\n\n<p>If you want to use a function that is only present in <code>Test</code>, but not in <code>Delegate</code>, you have to cast it</p>\n\n<pre><code>(delegate as Test).yourMethod()\n</code></pre>\n\n<p>Otherwise only functions that are present in <code>Delegate</code> will work</p>\n\n<p><code>delegate.yourMethod()</code> will not work.</p>\n"}, {"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 0, "last_activity_date": 1503166021, "last_edit_date": 1503166021, "creation_date": 1503165685, "answer_id": 45774776, "question_id": 45774365, "link": "https://stackoverflow.com/questions/45774365/kotlin-any-type-that-implements-an-interface/45774776#45774776", "title": "Kotlin &quot;Any type that implements an interface&quot;", "body": "<p>You can do like this:</p>\n\n<pre><code>class SomeClass&lt;T : Delegate&gt; {\n\n     val delegate: T = // initialize delegate ...\n}\n</code></pre>\n\n<p>Make the <code>class</code> a generic type that declares the type parameter <code>T</code>. And you can create properties of type <code>T</code>. </p>\n"}], "owner": {"reputation": 3587, "user_id": 767653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/228194f4c46d00e3de94b2f6efcc7b23?s=128&d=identicon&r=PG", "display_name": "OMGPOP", "link": "https://stackoverflow.com/users/767653/omgpop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "accepted_answer_id": 45774433, "answer_count": 2, "score": 2, "last_activity_date": 1503180717, "creation_date": 1503163277, "last_edit_date": 1503180717, "question_id": 45774365, "link": "https://stackoverflow.com/questions/45774365/kotlin-any-type-that-implements-an-interface", "title": "Kotlin &quot;Any type that implements an interface&quot;", "body": "<p>I have a delegate interface: </p>\n\n<pre><code>interface Delegate {\n    fun didSelectWord(word: String)\n}\n</code></pre>\n\n<p>And I would like to have a property called <code>delegate</code></p>\n\n<pre><code>val delegate: &lt;T&gt; where T : Delegate\n</code></pre>\n\n<p>the <code>delegate</code> can be anything that implements Delegate</p>\n\n<p>I have also tried </p>\n\n<pre><code>val delegate: Any : Delegate\n</code></pre>\n\n<p>But both give compile error</p>\n"}, {"tags": ["java", "operator-overloading", "kotlin", "operators", "equality"], "answers": [{"comments": [{"owner": {"reputation": 1853, "user_id": 1388943, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/26584dd4a526d6f441abef793bfb0dcc?s=128&d=identicon&r=PG", "display_name": "stdout", "link": "https://stackoverflow.com/users/1388943/stdout"}, "edited": false, "score": 6, "creation_date": 1554474592, "post_id": 45773165, "comment_id": 97778774, "body": "So, if equals is not overridden for a regular class, it&#39;s essentially the same as calling ===."}, {"owner": {"reputation": 2243, "user_id": 3466808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pr9RU.jpg?s=128&g=1", "display_name": "Sam Chen", "link": "https://stackoverflow.com/users/3466808/sam-chen"}, "reply_to_user": {"reputation": 1853, "user_id": 1388943, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/26584dd4a526d6f441abef793bfb0dcc?s=128&d=identicon&r=PG", "display_name": "stdout", "link": "https://stackoverflow.com/users/1388943/stdout"}, "edited": false, "score": 1, "creation_date": 1606580957, "post_id": 45773165, "comment_id": 115005742, "body": "@stdout Exactly the answer I&#39;m looking for."}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 18, "last_activity_date": 1596654240, "last_edit_date": 1596654240, "creation_date": 1503155740, "answer_id": 45773165, "question_id": 45772946, "link": "https://stackoverflow.com/questions/45772946/equality-in-kotlin/45773165#45773165", "title": "Equality in Kotlin", "body": "<p>The default <code>equals</code> implementation you're describing exists only for data classes. Not for regular classes where the implementation is inherited from <code>Any</code>, and just make the object equal to itself.</p>\n"}, {"comments": [{"owner": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 1, "creation_date": 1556163733, "post_id": 45775038, "comment_id": 98346000, "body": "In kotlin you can <b>ctrl + click</b> the <code>==</code> operator and you will see that is the same as  <code>equals</code> as this answer tells, if you <b>ctrl + click</b> on the <code>equals</code> method you will also see that links to the same implementation."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 43, "last_activity_date": 1541680436, "last_edit_date": 1541680436, "creation_date": 1503167376, "answer_id": 45775038, "question_id": 45772946, "link": "https://stackoverflow.com/questions/45772946/equality-in-kotlin/45775038#45775038", "title": "Equality in Kotlin", "body": "<h3>Referential Equality</h3>\n\n<p><strong>Java</strong></p>\n\n<p>In Java, the default implementation of <code>equals</code> compares the variable's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html\" rel=\"noreferrer\">reference</a>, which is what <code>==</code> <strong>always</strong> does:</p>\n\n<blockquote>\n  <p>The <code>equals</code> method for class <code>Object</code> implements the most discriminating\n  possible equivalence relation on objects; that is, for any non-null\n  reference values x and y, this method returns <code>true</code> <strong>if and only if x</strong>\n  <strong>and y refer to the same object</strong> (<code>x == y</code> has the value <code>true</code>).</p>\n</blockquote>\n\n<p>We call this \"<strong>referential</strong> equality\".  </p>\n\n<p><strong>Kotlin</strong></p>\n\n<p>In Kotlin <code>==</code> is compiled to <code>equals</code>, whereas <code>===</code> is the equivalent of Java's <code>==</code>.</p>\n\n<h3>Structural Equality</h3>\n\n<p>Whenever we want rather <em>structural</em> than <em>referential</em> equality, we can override <code>equals</code>, which is <em>never</em> done by default for <em>normal</em> classes, as you suggested. In Kotlin, we can use <code>data class</code>, for which the compiler automatically creates an implementation based on the constructor properties (read <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"noreferrer\">here</a>).</p>\n\n<p>Please remember to always override <code>hashCode</code> if you override <code>equals</code> (and vice versa) <strong>manually</strong> and stick to the very strict <a href=\"https://stackoverflow.com/questions/17027777/relationship-between-hashcode-and-equals-method-in-java\">contracts</a> of both methods. Kotlin's compiler-generated implementations do satisfy the contract.</p>\n"}, {"tags": [], "owner": {"reputation": 9938, "user_id": 3672184, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/dzbA6.jpg?s=128&g=1", "display_name": "Cool", "link": "https://stackoverflow.com/users/3672184/cool"}, "is_accepted": false, "score": 10, "last_activity_date": 1503177272, "last_edit_date": 1592644375, "creation_date": 1503176924, "answer_id": 45776297, "question_id": 45772946, "link": "https://stackoverflow.com/questions/45772946/equality-in-kotlin/45776297#45776297", "title": "Equality in Kotlin", "body": "<blockquote>\n<p><strong>== for equality</strong></p>\n<p>In Java, you can use == to compare primitive and reference types. If applied to primitive types, Java\u2019s == compares values, whereas == on reference types compares references. Thus, in Java, there\u2019s the well-known practice of always calling equals, and there\u2019s the well-known problem of forgetting to do so.</p>\n<p>In Kotlin, == is the default way to compare two objects: it compares their values by calling equals under the hood. Thus, if equals is overridden in your class, you can safely compare its instances using ==. For reference comparison, you can use the === operator, which works exactly the same as == in Java.</p>\n</blockquote>\n<pre><code>class MyPerson(val firstName: String, val lastName: String){\n    override fun equals(other: Any?): Boolean {\n        if (other == null || other !is MyPerson) return false\n        return firstName == other.firstName &amp;&amp; lastName == other.lastName\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(MyPerson(&quot;Charlie&quot;, &quot;Parker&quot;) == MyPerson(&quot;Charlie&quot;, &quot;Parker&quot;)) // print &quot;true&quot;\n}\n</code></pre>\n<p>In your case <code>MyPerson</code> is used to be a <code>data class</code> which autogenerate implementations of universal methods (<code>toString</code>, <code>equals</code>, and <code>hashCode</code>).</p>\n"}], "owner": {"reputation": 9211, "user_id": 695246, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f26b07b35ea0202401bec9dff5f1fb50?s=128&d=identicon&r=PG&f=1", "display_name": "Dabbler", "link": "https://stackoverflow.com/users/695246/dabbler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14129, "favorite_count": 1, "accepted_answer_id": 45773165, "answer_count": 3, "score": 22, "last_activity_date": 1596654240, "creation_date": 1503154486, "last_edit_date": 1508675306, "question_id": 45772946, "link": "https://stackoverflow.com/questions/45772946/equality-in-kotlin", "title": "Equality in Kotlin", "body": "<p>I'm learning Kotlin, with a C++ and Java background. I was expecting the following to print <code>true</code>, not <code>false</code>. I know that <code>==</code> maps to <code>equals</code>. Does the default implementation of <code>equals</code> not compare each member, i.e. <code>firstName</code> and <code>lastName</code>? If so, wouldn't it see the string values as equal (since <code>==</code> maps to <code>equal</code> again)? Apparently there's something related to equality versus identity that I haven't got right in Kotlin yet.</p>\n\n<pre><code>class MyPerson(val firstName: String, val lastName: String)\n\nfun main(args: Array&lt;String&gt;) {\n   println(MyPerson(\"Charlie\", \"Parker\") == MyPerson(\"Charlie\", \"Parker\"))\n}\n</code></pre>\n"}, {"tags": ["android", "sockets", "web", "kotlin"], "comments": [{"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1503154022, "post_id": 45772485, "comment_id": 78503750, "body": "Welcome to StackOverflow. Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer. See the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> page for help clarifying this question."}], "answers": [{"tags": [], "owner": {"reputation": 4815, "user_id": 2418224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zSFiW.png?s=128&g=1", "display_name": "juzraai", "link": "https://stackoverflow.com/users/2418224/juzraai"}, "is_accepted": true, "score": 4, "last_activity_date": 1503162343, "creation_date": 1503162343, "answer_id": 45774200, "question_id": 45772485, "link": "https://stackoverflow.com/questions/45772485/how-to-get-webpage-content-on-kotlin/45774200#45774200", "title": "How to get webpage content on Kotlin", "body": "<p>You can use <code>HttpUrlConnection</code> (<a href=\"https://stackoverflow.com/questions/31462/how-to-fetch-html-in-java\">Java example</a>) but I recommend using higher level libraries like <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup</a>. You can then use CSS selectors to get specific elements from the document (so you may not actually need the HTML code in your app).</p>\n\n<p>You can fetch Google's index page this way:</p>\n\n<pre><code>val doc = Jsoup.connect(\"http://google.com/\").get()\nval html = doc.outerHtml()\n</code></pre>\n\n<p>If you need the raw HTML which is sent by Google, you can use this code:</p>\n\n<pre><code>val conn = Jsoup.connect(\"http://google.com/\").method(Method.GET)\nval resp = conn.execute()\nval html = resp.body()\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8461773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839a47d410406e9aa7a4ad2a3f6096cc?s=128&d=identicon&r=PG&f=1", "display_name": "Salman Daryanavard", "link": "https://stackoverflow.com/users/8461773/salman-daryanavard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4097, "favorite_count": 0, "closed_date": 1503325245, "accepted_answer_id": 45774200, "answer_count": 1, "score": -3, "last_activity_date": 1503162343, "creation_date": 1503151400, "question_id": 45772485, "link": "https://stackoverflow.com/questions/45772485/how-to-get-webpage-content-on-kotlin", "closed_reason": "Needs more focus", "title": "How to get webpage content on Kotlin", "body": "<p>I am new in Kotlin Programming and I want to get <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">Google</a> html content<br>\nBut i don't know how can I do this</p>\n"}, {"tags": ["java", "android", "kotlin", "lifecycle"], "comments": [{"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1503177146, "post_id": 45772133, "comment_id": 78510519, "body": "Did you try clean and rebuild"}, {"owner": {"reputation": 82, "user_id": 5717118, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HdUcyDxr2dg/AAAAAAAAAAI/AAAAAAAAACo/6F3jO00RHMc/photo.jpg?sz=128", "display_name": "hossein abdi", "link": "https://stackoverflow.com/users/5717118/hossein-abdi"}, "reply_to_user": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1503228182, "post_id": 45772133, "comment_id": 78520307, "body": "yes i do clean and rebuild but not fixed."}, {"owner": {"reputation": 253, "user_id": 1847367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yW6Zl.jpg?s=128&g=1", "display_name": "Karo", "link": "https://stackoverflow.com/users/1847367/karo"}, "edited": false, "score": 2, "creation_date": 1505037171, "post_id": 45772133, "comment_id": 79240536, "body": "Just change your Lifecycle version to alpha 9 like room ORM."}, {"owner": {"reputation": 82, "user_id": 5717118, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HdUcyDxr2dg/AAAAAAAAAAI/AAAAAAAAACo/6F3jO00RHMc/photo.jpg?sz=128", "display_name": "hossein abdi", "link": "https://stackoverflow.com/users/5717118/hossein-abdi"}, "reply_to_user": {"reputation": 253, "user_id": 1847367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yW6Zl.jpg?s=128&g=1", "display_name": "Karo", "link": "https://stackoverflow.com/users/1847367/karo"}, "edited": false, "score": 0, "creation_date": 1505126627, "post_id": 45772133, "comment_id": 79269055, "body": "@Karo thanks , i already update that and every things is OK ."}], "answers": [{"tags": [], "owner": {"reputation": 82, "user_id": 5717118, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HdUcyDxr2dg/AAAAAAAAAAI/AAAAAAAAACo/6F3jO00RHMc/photo.jpg?sz=128", "display_name": "hossein abdi", "link": "https://stackoverflow.com/users/5717118/hossein-abdi"}, "is_accepted": true, "score": 1, "last_activity_date": 1505126876, "creation_date": 1505126876, "answer_id": 46153867, "question_id": 45772133, "link": "https://stackoverflow.com/questions/45772133/android-fatal-exception-at-android-arch-lifecycle-on-kotlin-lang/46153867#46153867", "title": "Android FATAL EXCEPTION at android.arch.lifecycle on Kotlin lang", "body": "<p>By Updating LifeCycle Libs to Alpha 9 Problem Solved.</p>\n"}], "owner": {"reputation": 82, "user_id": 5717118, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HdUcyDxr2dg/AAAAAAAAAAI/AAAAAAAAACo/6F3jO00RHMc/photo.jpg?sz=128", "display_name": "hossein abdi", "link": "https://stackoverflow.com/users/5717118/hossein-abdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 945, "favorite_count": 0, "accepted_answer_id": 46153867, "answer_count": 1, "score": 0, "last_activity_date": 1595090740, "creation_date": 1503149434, "question_id": 45772133, "link": "https://stackoverflow.com/questions/45772133/android-fatal-exception-at-android-arch-lifecycle-on-kotlin-lang", "title": "Android FATAL EXCEPTION at android.arch.lifecycle on Kotlin lang", "body": "<p>i just try to convert my old android project in java to Kotlin and also add google Android Architecture Components to my project :</p>\n\n<pre><code>// LifeCycle Google Lib\ncompile \"android.arch.lifecycle:runtime:1.0.0-alpha5\"\ncompile \"android.arch.lifecycle:extensions:1.0.0-alpha5\"\nannotationProcessor \"android.arch.lifecycle:compiler:1.0.0-alpha5\"\n// Room Google Lib\ncompile \"android.arch.persistence.room:runtime:1.0.0-alpha9\"\nannotationProcessor \"android.arch.persistence.room:compiler:1.0.0-alpha9\"\ntestCompile \"android.arch.persistence.room:testing:1.0.0-alpha9\"\n</code></pre>\n\n<p>and then when i run app faced with this errors :</p>\n\n<pre><code>E/dex2oat: Failed to create oat file: /data/dalvik-cache/arm/data@app@ir.adrapanadevs.aya-2@split_lib_dependencies_apk.apk@classes.dex: Permission denied\n08-19 17:26:11.043 26169-26169/? E/dex2oat: Failed to create oat file: /data/dalvik-cache/arm/data@app@ir.adrapanadevs.aya-2@split_lib_slice_0_apk.apk@classes.dex: Permission denied\n08-19 17:26:11.122 26174-26174/? E/dex2oat: Failed to create oat file: /data/dalvik-cache/arm/data@app@ir.adrapanadevs.aya-2@split_lib_slice_1_apk.apk@classes.dex: Permission denied\n08-19 17:26:11.200 26180-26180/? E/dex2oat: Failed to create oat file: /data/dalvik-cache/arm/data@app@ir.adrapanadevs.aya-2@split_lib_slice_2_apk.apk@classes.dex: Permission denied\n08-19 17:26:11.284 26187-26187/? E/dex2oat: Failed to create oat file: /data/dalvik-cache/arm/data@app@ir.adrapanadevs.aya-2@split_lib_slice_3_apk.apk@classes.dex: Permission denied\n08-19 17:26:11.366 26193-26193/? E/dex2oat: Failed to create oat file: /data/dalvik-cache/arm/data@app@ir.adrapanadevs.aya-2@split_lib_slice_4_apk.apk@classes.dex: Permission denied\n08-19 17:26:11.450 26197-26197/? E/dex2oat: Failed to create oat file: /data/dalvik-cache/arm/data@app@ir.adrapanadevs.aya-2@split_lib_slice_5_apk.apk@classes.dex: Permission denied\n08-19 17:26:11.530 26206-26206/? E/dex2oat: Failed to create oat file: /data/dalvik-cache/arm/data@app@ir.adrapanadevs.aya-2@split_lib_slice_6_apk.apk@classes.dex: Permission denied\n08-19 17:26:11.605 26210-26210/? E/dex2oat: Failed to create oat file: /data/dalvik-cache/arm/data@app@ir.adrapanadevs.aya-2@split_lib_slice_7_apk.apk@classes.dex: Permission denied\n08-19 17:26:11.696 26214-26214/? E/dex2oat: Failed to create oat file: /data/dalvik-cache/arm/data@app@ir.adrapanadevs.aya-2@split_lib_slice_8_apk.apk@classes.dex: Permission denied\n08-19 17:26:11.775 26221-26221/? E/dex2oat: Failed to create oat file: /data/dalvik-cache/arm/data@app@ir.adrapanadevs.aya-2@split_lib_slice_9_apk.apk@classes.dex: Permission denied\n</code></pre>\n\n<p>and this :</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                 Process: ir.adrapanadevs.aya, PID: 26090\n                                                                 java.lang.NoSuchMethodError: No virtual method iterator()Landroid/arch/core/internal/SafeIterableMap$ListIterator; in class Landroid/arch/core/internal/SafeIterableMap; or its super classes (declaration of 'android.arch.core.internal.SafeIterableMap' appears in /data/app/ir.adrapanadevs.aya-2/split_lib_dependencies_apk.apk)\n                                                                     at android.arch.lifecycle.LifecycleRegistry.handleLifecycleEvent(LifecycleRegistry.java:101)\n                                                                     at android.arch.lifecycle.ProcessLifecycleOwner.attach(ProcessLifecycleOwner.java:154)\n                                                                     at android.arch.lifecycle.ProcessLifecycleOwner.init(ProcessLifecycleOwner.java:100)\n                                                                     at android.arch.lifecycle.LifecycleRuntimeTrojanProvider.onCreate(LifecycleRuntimeTrojanProvider.java:36)\n                                                                     at android.content.ContentProvider.attachInfo(ContentProvider.java:1748)\n                                                                     at android.content.ContentProvider.attachInfo(ContentProvider.java:1723)\n                                                                     at android.app.ActivityThread.installProvider(ActivityThread.java:5217)\n                                                                     at android.app.ActivityThread.installContentProviders(ActivityThread.java:4812)\n                                                                     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4752)\n                                                                     at android.app.ActivityThread.-wrap1(ActivityThread.java)\n                                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1424)\n                                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                     at android.os.Looper.loop(Looper.java:148)\n                                                                     at android.app.ActivityThread.main(ActivityThread.java:5485)\n                                                                     at java.lang.reflect.Method.invoke(Native Method)\n                                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n</code></pre>\n\n<p>how to fix that?\n<strong>thanks</strong></p>\n"}, {"tags": ["android", "realm", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1479, "user_id": 3671978, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41e5cd2b99a8e7c84f91a8137c8be3ed?s=128&d=identicon&r=PG", "display_name": "ko2ic", "link": "https://stackoverflow.com/users/3671978/ko2ic"}, "edited": false, "score": 2, "creation_date": 1503140218, "post_id": 45770049, "comment_id": 78499499, "body": "Than you. I overlooked that.   The following code work. <code>val entity = SampleEntity::class.java.newInstance()</code>"}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "reply_to_user": {"reputation": 1479, "user_id": 3671978, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41e5cd2b99a8e7c84f91a8137c8be3ed?s=128&d=identicon&r=PG", "display_name": "ko2ic", "link": "https://stackoverflow.com/users/3671978/ko2ic"}, "edited": false, "score": 1, "creation_date": 1503141323, "post_id": 45770049, "comment_id": 78499807, "body": "You should annotate SampleEntity with <code>@NoArg</code>, or add <code>@RealmClass</code> to the noArg config"}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "reply_to_user": {"reputation": 1479, "user_id": 3671978, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41e5cd2b99a8e7c84f91a8137c8be3ed?s=128&d=identicon&r=PG", "display_name": "ko2ic", "link": "https://stackoverflow.com/users/3671978/ko2ic"}, "edited": false, "score": 0, "creation_date": 1503144180, "post_id": 45770049, "comment_id": 78500692, "body": "It looks like Realm specifically needs a <code>public</code> no-args constructor when it checks via this class <a href=\"https://github.com/realm/realm-java/blob/9bef1333d160ac1dbc441a12f6dd2704bbe7a774/realm/realm-annotations-processor/src/main/java/io/realm/processor/Utils.java\" rel=\"nofollow noreferrer\">github.com/realm/realm-java/blob/&hellip;</a> (see <code>isDefaultConstructor</code>), which would mean the synthetic constructor wouldn&#39;t work. Note, Kotlin will generate a public no-arg constructor if every parameter in the constructor has a default value."}, {"owner": {"reputation": 1479, "user_id": 3671978, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41e5cd2b99a8e7c84f91a8137c8be3ed?s=128&d=identicon&r=PG", "display_name": "ko2ic", "link": "https://stackoverflow.com/users/3671978/ko2ic"}, "edited": false, "score": 0, "creation_date": 1503161630, "post_id": 45770049, "comment_id": 78506140, "body": "Is it possible to run no-arg before realm-annotations-processor is called? Since <code>isDefaultConstructor</code> determines whether it is <code>Public</code> by reflection, it seems possible if the order changes"}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "reply_to_user": {"reputation": 1479, "user_id": 3671978, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41e5cd2b99a8e7c84f91a8137c8be3ed?s=128&d=identicon&r=PG", "display_name": "ko2ic", "link": "https://stackoverflow.com/users/3671978/ko2ic"}, "edited": false, "score": 0, "creation_date": 1503163531, "post_id": 45770049, "comment_id": 78506811, "body": "It won&#39;t be possible - the reason the no-args constructor created by kotlin-noargs can only be called via reflection is because it&#39;s effectively private, so changing the order the annotation processors run will not make a difference."}], "tags": [], "owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "is_accepted": false, "score": 6, "last_activity_date": 1503135941, "creation_date": 1503135941, "answer_id": 45770049, "question_id": 45768906, "link": "https://stackoverflow.com/questions/45768906/kotlin-noarg-plugin-dont-work-in-realm/45770049#45770049", "title": "&quot;kotlin-noarg&quot; plugin don&#39;t work in Realm", "body": "<p>This is intended behaviour. From the documentation: <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin</a></p>\n\n<blockquote>\n  <p>The generated constructor is synthetic so it can\u2019t be directly called\n  from Java or Kotlin, but it can be called using reflection</p>\n</blockquote>\n"}], "owner": {"reputation": 1479, "user_id": 3671978, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41e5cd2b99a8e7c84f91a8137c8be3ed?s=128&d=identicon&r=PG", "display_name": "ko2ic", "link": "https://stackoverflow.com/users/3671978/ko2ic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1652, "favorite_count": 3, "answer_count": 1, "score": 2, "last_activity_date": 1503141211, "creation_date": 1503127569, "last_edit_date": 1503141211, "question_id": 45768906, "link": "https://stackoverflow.com/questions/45768906/kotlin-noarg-plugin-dont-work-in-realm", "title": "&quot;kotlin-noarg&quot; plugin don&#39;t work in Realm", "body": "<p>\"kotlin-allopen\" plugin work but \"kotlin-noarg\" plugin don't work.\nHow can I do?</p>\n\n<p>Below is the code.</p>\n\n<p>build.gradle</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.3-2'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-beta2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-allopen:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-noarg:$kotlin_version\"\n        classpath \"io.realm:realm-gradle-plugin:3.5.0\"\n    }\n}\napply plugin: \"kotlin-allopen\"\napply plugin: \"kotlin-noarg\"\n\nallOpen {\n    annotation(\"sample.AllOpen\")\n}\nnoArg {\n    annotation(\"sample.NoArg\")\n    invokeInitializers = true\n}\n</code></pre>\n\n<p>app/build.gradle</p>\n\n<pre><code>apply plugin: 'realm-android'\n</code></pre>\n\n<p>NoArg.kt</p>\n\n<pre><code>@Target(AnnotationTarget.CLASS)\n@Retention(AnnotationRetention.SOURCE)\nannotation class NoArg\n</code></pre>\n\n<p>MyApplication.kt</p>\n\n<pre><code>class MyApplication : Application() {\n    override fun onCreate() {\n        super.onCreate()\n        Realm.init(this)\n    }\n}\n</code></pre>\n\n<p>AndroidManifest.xml</p>\n\n<pre><code>&lt;application\n    android:name=\".MyApplication\"\n</code></pre>\n\n<p>SampleEntity.kt</p>\n\n<pre><code>@NoArg\n@AllOpen\n@RealmClass\ndata class SampleEntity(var sample: String?) : RealmModel\n</code></pre>\n\n<p>when build, the following error was displayed.<code>Class \"SampleEntity\" must declare a public constructor with no arguments if it contains custom constructors.</code></p>\n\n<p>Does it work with realm?</p>\n"}, {"tags": ["libgdx", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": true, "score": 0, "last_activity_date": 1503125502, "last_edit_date": 1503125502, "creation_date": 1503124652, "answer_id": 45768507, "question_id": 45767752, "link": "https://stackoverflow.com/questions/45767752/libgdx-assetmanager-preload-ttf-font-not-working/45768507#45768507", "title": "libgdx AssetManager preload ttf font not working", "body": "<pre><code>const val FONT_FN = \"others/font.ttf\"    // Make sure your `font.ttf` file is inside `others` folder\n</code></pre>\n\n<p>Add <code>.ttf</code> extension to fileName that you're using to load and retrieve.</p>\n\n<p>so change </p>\n\n<pre><code>const val FONT_MENU = \"FONT_MENU\"\nconst val FONT_GAME = \"FONT_GAME\"\n</code></pre>\n\n<p>to </p>\n\n<pre><code>const val FONT_MENU = \"FONT_MENU.ttf\"\nconst val FONT_GAME = \"FONT_GAME.ttf\"\n</code></pre>\n"}], "owner": {"reputation": 3587, "user_id": 767653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/228194f4c46d00e3de94b2f6efcc7b23?s=128&d=identicon&r=PG", "display_name": "OMGPOP", "link": "https://stackoverflow.com/users/767653/omgpop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 45768507, "answer_count": 1, "score": 2, "last_activity_date": 1503125502, "creation_date": 1503117877, "last_edit_date": 1503124966, "question_id": 45767752, "link": "https://stackoverflow.com/questions/45767752/libgdx-assetmanager-preload-ttf-font-not-working", "title": "libgdx AssetManager preload ttf font not working", "body": "<p>I have this code executed when application starts</p>\n\n<pre><code>val resolver = InternalFileHandleResolver()\nasset.setLoader(FreeTypeFontGenerator::class.java, FreeTypeFontGeneratorLoader(resolver))\nasset.setLoader(BitmapFont::class.java, \".ttf\", FreetypeFontLoader(resolver))\n\nval menuFont = FreeTypeFontLoaderParameter()\nmenuFont.fontFileName = FONT_FN\nmenuFont.fontParameters.size = 10\nasset.load(FONT_MENU, BitmapFont::class.java, menuFont)\n\nval gameFont = FreeTypeFontLoaderParameter()\ngameFont.fontFileName = FONT_FN\ngameFont.fontParameters.size = 15\nasset.load(FONT_GAME, BitmapFont::class.java, gameFont)\n\nasset.finishLoading()\n</code></pre>\n\n<p>the <code>asset</code> is my <code>AssetManager</code>, and the constants are: </p>\n\n<pre><code>const val FONT_FN = \"others/font.ttf\"\nconst val FONT_MENU = \"FONT_MENU\"\nconst val FONT_GAME = \"FONT_GAME\"\n</code></pre>\n\n<p>Now I have these helper functions: </p>\n\n<pre><code>private fun addLabel(text: String, x: Float, y: Float, font: BitmapFont, color: Color, stage: Stage): Label {\n    val label = Label(text, Label.LabelStyle(font, color))\n    label.setPosition(x, y)\n    stage.addActor(label)\n    return label\n}\n\nfun addLabelForMenu(text: String, x: Float, y: Float, stage: Stage): Label {\n     val font = asset.get(FONT_MENU, BitmapFont::class.java)\n     val color = Color.WHITE\n     return addLabel(text, x, y, font, color, stage)\n}\n\nfun addLabelForGame(text: String, x: Float, y: Float, stage: Stage): Label {\n     val font = asset.get(FONT_GAME, BitmapFont::class.java)\n     val color = Color.WHITE\n     return addLabel(text, x, y, font, color, stage)\n}\n</code></pre>\n\n<p>The game crashes when calling <code>addLabelForMenu</code>: </p>\n\n<pre><code>com.badlogic.gdx.utils.GdxRuntimeException: Asset not loaded: others/font.ttf\n</code></pre>\n\n<p>I am following the wiki page here: <a href=\"https://github.com/libgdx/libgdx/wiki/Managing-your-assets\" rel=\"nofollow noreferrer\">https://github.com/libgdx/libgdx/wiki/Managing-your-assets</a></p>\n\n<p>What can be the problem? </p>\n"}]