[{"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6746, "user_id": 1690078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/34cd353216b1a04b89853c96ab22eab2?s=128&d=identicon&r=PG", "display_name": "Clyde", "link": "https://stackoverflow.com/users/1690078/clyde"}, "edited": false, "score": 0, "creation_date": 1572472203, "post_id": 58634078, "comment_id": 103575162, "body": "Well, nothing is going to happen unless you call <code>TokenUtils#getToken()</code> and since it&#39;s private and therefore can&#39;t be called from another class, and is apparently never called from inside <code>TokenUtils</code>, nothing can ever invoke the callback."}, {"owner": {"reputation": 651, "user_id": 9996859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a96acd8b90c93283345107873c06d1?s=128&d=identicon&r=PG&f=1", "display_name": "andrewedgar", "link": "https://stackoverflow.com/users/9996859/andrewedgar"}, "reply_to_user": {"reputation": 6746, "user_id": 1690078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/34cd353216b1a04b89853c96ab22eab2?s=128&d=identicon&r=PG", "display_name": "Clyde", "link": "https://stackoverflow.com/users/1690078/clyde"}, "edited": false, "score": 0, "creation_date": 1572472353, "post_id": 58634078, "comment_id": 103575209, "body": "Apologies, I cut out the actual method call when I was deleting superfluous code. Edited back in"}, {"owner": {"reputation": 374, "user_id": 12201062, "user_type": "registered", "profile_image": "https://graph.facebook.com/376646586550474/picture?type=large", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/12201062/jarvis"}, "edited": false, "score": 0, "creation_date": 1572474952, "post_id": 58634078, "comment_id": 103575976, "body": "Put a breakpoint in onResponse() to verify if it&#39;s even hitting that success branch."}, {"owner": {"reputation": 374, "user_id": 12201062, "user_type": "registered", "profile_image": "https://graph.facebook.com/376646586550474/picture?type=large", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/12201062/jarvis"}, "edited": false, "score": 0, "creation_date": 1572475022, "post_id": 58634078, "comment_id": 103576000, "body": "Is it even getting here? <code>override fun onResponse(call: Call&lt;Token&gt;, response: Response&lt;Token&gt;) {             if (response.isSuccessful) {                  callback?.onTokenRetrieved(true)              }</code>"}, {"owner": {"reputation": 6746, "user_id": 1690078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/34cd353216b1a04b89853c96ab22eab2?s=128&d=identicon&r=PG", "display_name": "Clyde", "link": "https://stackoverflow.com/users/1690078/clyde"}, "edited": false, "score": 0, "creation_date": 1572482931, "post_id": 58634078, "comment_id": 103577812, "body": "Well, there&#39;s still a lot you left out. What are <code>apiClass</code> and <code>Call</code>? And you are apparently calling a private method of <code>TokenUtils</code> from a different class - that isn&#39;t possible. If you want help debugging you will need to provide complete information. Best to include imports in the code snippets, and the source for any classes that are not standard library stuff."}, {"owner": {"reputation": 651, "user_id": 9996859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a96acd8b90c93283345107873c06d1?s=128&d=identicon&r=PG&f=1", "display_name": "andrewedgar", "link": "https://stackoverflow.com/users/9996859/andrewedgar"}, "edited": false, "score": 0, "creation_date": 1572526165, "post_id": 58634078, "comment_id": 103592696, "body": "Apologies, I did not make it clear that I am using Retrofit 2. I have added the class I used to store my api calls. I am hitting the code block for response.isSuccessful, it&#39;s just that the callback is not firing."}], "answers": [{"tags": [], "owner": {"reputation": 651, "user_id": 9996859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a96acd8b90c93283345107873c06d1?s=128&d=identicon&r=PG&f=1", "display_name": "andrewedgar", "link": "https://stackoverflow.com/users/9996859/andrewedgar"}, "is_accepted": false, "score": 0, "last_activity_date": 1572639179, "creation_date": 1572639179, "answer_id": 58665354, "question_id": 58634078, "link": "https://stackoverflow.com/questions/58634078/how-to-pass-data-from-an-object-to-its-containing-activity/58665354#58665354", "title": "How to pass data from an object to its containing activity?", "body": "<p>I ended up turning the class into a Singleton and passing it context like this:</p>\n\n<pre><code> companion object {\n\n    private var instance: TokenUtils? = null\n\n    fun getInstance(context: Context): TokenUtils {\n        if (instance == null) {\n            synchronized(TokenUtils::class.java) {\n                if (instance == null)\n                    instance = TokenUtils(context)\n            }\n        }\n        return instance!!\n    }\n}\n</code></pre>\n\n<p>I don't understand why this works and a lint warning over initialization of the instance variable tells me that passing context like this causes memory leaks, but it works.</p>\n"}], "owner": {"reputation": 651, "user_id": 9996859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a96acd8b90c93283345107873c06d1?s=128&d=identicon&r=PG&f=1", "display_name": "andrewedgar", "link": "https://stackoverflow.com/users/9996859/andrewedgar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572639179, "creation_date": 1572471911, "last_edit_date": 1572526085, "question_id": 58634078, "link": "https://stackoverflow.com/questions/58634078/how-to-pass-data-from-an-object-to-its-containing-activity", "title": "How to pass data from an object to its containing activity?", "body": "<p>I have a utility class used to fetch a token with a Retrofit call. I am attempting to listen for callback's on this class's methods in its containing activity. </p>\n\n<p>In class: </p>\n\n<pre><code>class TokenUtils() {\n\ninterface IGetTokenListener {\n\n    fun onTokenRetreived(response: Boolean)\n}\n\ninternal var callback: IGetTokenListener? = null\n\n\nfun registerIGetTokenListener(callback: IGetTokenListener) {\n    this.callback = callback\n}\n\n private fun getToken() {\n\n\n\n    val requestCall: Call&lt;Token&gt; = apiClass.getToken()\n\n\n    requestCall.enqueue(object : Callback&lt;Token&gt; {\n        override fun onFailure(call: Call&lt;Token&gt;, t: Throwable) {\n\n        }\n\n        override fun onResponse(call: Call&lt;Token&gt;, response: Response&lt;Token&gt;) {\n            if (response.isSuccessful) {\n\n                callback?.onTokenRetrieved(true)\n\n            } \n\n        }\n\n    })\n}\n</code></pre>\n\n<p>I am attempting to listen for the callback with an instance of this class in an activity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n var tokenUtils = TokenUtils()\n\n\n private fun getToken(requestBody) {\n\n        tokenUtils.registerIGetTokenListener(object:TokenUtils.IGetTokenListener{\n            override fun onTokenRetrieved(response: Boolean) {\n\n                if (response){\n                    AppLog.i(TAG, \"onTokenRetrieved() - Token retrieved successfully\")\n\n\n                } else{\n                    AppLog.i(TAG, \"onTokenRetrieved() - Token retrieval failed\")\n\n                }\n            }\n\n        })\n\n         tokenUtils.getToken()\n\n}\n</code></pre>\n\n<p>And here is the class making the call:</p>\n\n<pre><code>interface ApiClass {\n\n@POST(\"url\")\nfun getToken(\n    @Body body: TokenRequest\n): Call&lt;Token&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>As I have it written, the callbacks for the IGetTokenListener are not firing. Where do I need to set them so that they fire when the API call in the TokenUtils object returns?</p>\n"}, {"tags": ["android", "user-interface", "kotlin", "android-jetpack", "android-jetpack-compose"], "answers": [{"tags": [], "owner": {"reputation": 201, "user_id": 3333423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0062c192491a472b573b83c62f4e6f12?s=128&d=identicon&r=PG&f=1", "display_name": "Gopi S", "link": "https://stackoverflow.com/users/3333423/gopi-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1572507521, "creation_date": 1572507521, "answer_id": 58638745, "question_id": 58633678, "link": "https://stackoverflow.com/questions/58633678/how-to-implement-horizontal-scroller-in-android-jetpack-compose-ui/58638745#58638745", "title": "How to implement horizontal scroller in android jetpack compose ui?", "body": "<p>The key is resources.displayMetrics.widthPixels, this will do the magic. replace your populateListItem function with below, it will work</p>\n\n<pre><code>@Composable\nfun populateListItem(index: Int) {\n    val padding = 16\n    val dm = resources.displayMetrics\n    val cardWidth = dm.widthPixels/dm.density - 16 * 2 // 2 is multiplied for left and right padding\n    Column(crossAxisSize = LayoutSize.Wrap, modifier = Spacing(padding.dp)) {\n        Card(elevation = 0.dp, shape = RoundedCornerShape(8.dp, 8.dp, 8.dp, 8.dp)) {\n            val im: Image = +imageList[index.rem(3)]\n            Container(width = cardWidth.dp, height = 180.dp)\n            {\n                DrawImage(image = im)\n            }\n        }\n        HeightSpacer(height = 16.dp)\n        Text(\"Maldive $index\",\n            style = +themeTextStyle { h6 })\n        Text(\"Enjoy Our $index Resort!\",\n            style = +themeTextStyle { body2 })\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 130, "user_id": 5424329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWUr.jpg?s=128&g=1", "display_name": "Victor Ude", "link": "https://stackoverflow.com/users/5424329/victor-ude"}, "is_accepted": false, "score": 0, "last_activity_date": 1614363407, "creation_date": 1614363407, "answer_id": 66390900, "question_id": 58633678, "link": "https://stackoverflow.com/questions/58633678/how-to-implement-horizontal-scroller-in-android-jetpack-compose-ui/66390900#66390900", "title": "How to implement horizontal scroller in android jetpack compose ui?", "body": "<p>From JetPack Compose 1.0.0-beta01 use <code>BoxWithConstraints</code> to get the screen's maximum width and height and pass that along to <code>@Composable</code> annotated functions and Modifiers as needed.</p>\n<pre><code>@Composable\nfun WithConstraintsComposable() {\n    BoxWithConstraints {\n        Text(&quot;My minHeight is $minHeight while my maxWidth is $maxWidth)\n    }\n}\n</code></pre>\n<p>docs: <a href=\"https://developer.android.com/jetpack/compose/layout#constraints\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/compose/layout#constraints</a></p>\n"}], "owner": {"reputation": 449, "user_id": 7775673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcff1f0f3fe7ed5fc8beddeee6c91fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Badran", "link": "https://stackoverflow.com/users/7775673/badran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1395, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1614363407, "creation_date": 1572469686, "last_edit_date": 1572959897, "question_id": 58633678, "link": "https://stackoverflow.com/questions/58633678/how-to-implement-horizontal-scroller-in-android-jetpack-compose-ui", "title": "How to implement horizontal scroller in android jetpack compose ui?", "body": "<p>I'm trying to achieve a horizontal scroll view using jetpack compose like below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UJUmr.png\" rel=\"nofollow noreferrer\">Pic Of what I want</a></p>\n\n<p>But I couldn't find any solution to set the width of cell to take width of screen with 16dp margin, and that's what I'm getting:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wIB1z.png\" rel=\"nofollow noreferrer\">Pic Of what I'm getting</a></p>\n\n<p>This the my code:</p>\n\n<pre><code>private val imageList : Array&lt;Effect&lt;Image&gt;&gt; =arrayOf(\n        imageResource(R.drawable.maldive),\n        imageResource(R.drawable.maldiveone),\n        imageResource(R.drawable.maldivetwo))\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContent {\n            createList()\n        }\n\n\n    }\n\n    @Composable\n    fun createList(){\n        MaterialTheme() {\n            HorizontalScroller(){\n                Row(crossAxisSize = LayoutSize.Expand) {\n                    (0..3).forEachIndexed { _, i -&gt;\n                            populateListItem(i)\n                    }\n                }\n            }\n        }\n    }\n    @Composable\n    fun populateListItem(index: Int){\n                Column(crossAxisSize = LayoutSize.Wrap, modifier = Spacing(16.dp)) {\n                    Card(elevation = 0.dp, shape = RoundedCornerShape(8.dp, 8.dp, 8.dp, 8.dp)) {\n                        val im: Image = +imageList[index.rem(3)]\n                        Container(expanded = true,height = 180.dp)\n                         {\n                            DrawImage(image = im)\n                        }\n                    }\n                    HeightSpacer(height = 16.dp)\n                    Text(\"Maldive $index\",\n                        style = +themeTextStyle { h6 })\n                    Text(\"Enjoy Our $index Resort!\",\n                        style = +themeTextStyle { body2 })\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "facebook", "kotlin", "deep-linking", "facebook-android-sdk"], "owner": {"reputation": 21, "user_id": 5166531, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-n0xIz8MJ64k/AAAAAAAAAAI/AAAAAAAAABI/Ipc9coXyIGw/photo.jpg?sz=128", "display_name": "Iryna Satsiuk", "link": "https://stackoverflow.com/users/5166531/iryna-satsiuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1572493852, "creation_date": 1572467077, "last_edit_date": 1572493852, "question_id": 58633131, "link": "https://stackoverflow.com/questions/58633131/sometimes-ondeferredapplinkdatafetched-returns-empty-applinkdata", "title": "Sometimes onDeferredAppLinkDataFetched() returns empty AppLinkData", "body": "<p>I'm trying to get Deferred Deep Link after app install from Facebook Ads. Sometimes I get <code>empty AppLinkData</code>.\nDeep link is setup correctly in Manifest and some <code>AppLinkData</code> returned in <code>onDeferredAppLinkDataFetched()</code> contains URI, but not regularly.</p>\n\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?) {\n    setTheme(R.style.splashScreenTheme)\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    firebaseAnalytics = FirebaseAnalytics.getInstance(this)\n\n    AppLinkData.fetchDeferredAppLinkData(\n        this\n    ) {\n        var deepLinkPath = \"\"\n        val parameters = Bundle()\n        it?.let {\n            parameters.putString(\n                getString(R.string.facebook_applinkdata_uri),\n                it.targetUri.toString()\n            )\n            deepLinkPath = \"&amp;attr3=\" + it.targetUri.path\n        }\n        firebaseAnalytics.logEvent(\"DeepLinkUriEvent\", parameters)\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 870, "user_id": 11351392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33b7a69ff8d14960b71442fb76a469a2?s=128&d=identicon&r=PG&f=1", "display_name": "lotor", "link": "https://stackoverflow.com/users/11351392/lotor"}, "edited": false, "score": 0, "creation_date": 1572467310, "post_id": 58633102, "comment_id": 103573305, "body": "scope functions cannot help you here. Kotlin encourages us to prefer concise forms first:, thus <code>isNullOrEmpty</code> is the best choice."}], "answers": [{"comments": [{"owner": {"reputation": 2241, "user_id": 9055634, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ad71851f7cd273e1ef70597c4231c92b?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/9055634/jim"}, "edited": false, "score": 0, "creation_date": 1572467574, "post_id": 58633202, "comment_id": 103573401, "body": "But if the check was only for <code>null</code> I could have used the <code>let</code> directly right?"}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "reply_to_user": {"reputation": 2241, "user_id": 9055634, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ad71851f7cd273e1ef70597c4231c92b?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/9055634/jim"}, "edited": false, "score": 0, "creation_date": 1572467666, "post_id": 58633202, "comment_id": 103573447, "body": "You would still have to chain 2 lets, with biLet it&#39;s a single call."}, {"owner": {"reputation": 2241, "user_id": 9055634, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ad71851f7cd273e1ef70597c4231c92b?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/9055634/jim"}, "edited": false, "score": 0, "creation_date": 1572467814, "post_id": 58633202, "comment_id": 103573519, "body": "But in the <code>biLet</code> implementation because it is generic I can&#39;t check for emptyness. So in the <code>block</code> I would need to add that."}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "reply_to_user": {"reputation": 2241, "user_id": 9055634, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ad71851f7cd273e1ef70597c4231c92b?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/9055634/jim"}, "edited": false, "score": 0, "creation_date": 1572468249, "post_id": 58633202, "comment_id": 103573706, "body": "Yes, this is a null safety function. You could create a variant that checks for empty string instead, I&#39;ll update the response."}], "tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": false, "score": 3, "last_activity_date": 1573574952, "last_edit_date": 1573574952, "creation_date": 1572467360, "answer_id": 58633202, "question_id": 58633102, "link": "https://stackoverflow.com/questions/58633102/how-can-i-check-2-conditions-using-let-or-apply-etc/58633202#58633202", "title": "How can I check 2 conditions using let (or apply etc)", "body": "<p>Use this</p>\n\n<pre><code>fun &lt;T, R, S&gt; biLet(lhs: T, rhs: R, block: (T, R) -&gt; S): S? = if (lhs != null &amp;&amp; rhs != null) block(lhs, rhs) else null\n</code></pre>\n\n<p>Use as</p>\n\n<pre><code>biLet(foo, bar) { safeFoo, safeBar -&gt;\n}\n</code></pre>\n\n<p>Edit: variant for strings</p>\n\n<pre><code>fun &lt;T: CharSequence?, S&gt; biLet(lhs: T, rhs: T, block: (T, T) -&gt; S): S? =\n    if (lhs.isNotNullOrBlank() &amp;&amp; rhs.isNotNullOrBlank()) block(lhs, rhs) else null\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 608, "user_id": 3542143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sc1DZ.jpg?s=128&g=1", "display_name": "Julio Lemus", "link": "https://stackoverflow.com/users/3542143/julio-lemus"}, "is_accepted": false, "score": 1, "last_activity_date": 1572468122, "creation_date": 1572468122, "answer_id": 58633345, "question_id": 58633102, "link": "https://stackoverflow.com/questions/58633102/how-can-i-check-2-conditions-using-let-or-apply-etc/58633345#58633345", "title": "How can I check 2 conditions using let (or apply etc)", "body": "<p>Declare somewhere an extension function using lambdas like:</p>\n\n<pre><code>inline fun String.ifNotEmpty(bar: String, function: () -&gt; Unit) {\n    if (this.isNotEmpty() &amp;&amp; bar.isNotEmpty()) {\n        function.invoke()\n    }\n}\n</code></pre>\n\n<p>And use it as:</p>\n\n<pre><code>val foo = \"foo-value\"\nval bar = \"bar-value\"\n\nfoo.ifNotEmpty(bar) {\n    println(\"foo and bar both valid strings\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2241, "user_id": 9055634, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ad71851f7cd273e1ef70597c4231c92b?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/9055634/jim"}, "edited": false, "score": 0, "creation_date": 1572470040, "post_id": 58633575, "comment_id": 103574436, "body": "Nice! I was wondering if that could work if <code>bar</code> was something other than <code>String</code>"}, {"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "reply_to_user": {"reputation": 2241, "user_id": 9055634, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ad71851f7cd273e1ef70597c4231c92b?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/9055634/jim"}, "edited": false, "score": 0, "creation_date": 1572471773, "post_id": 58633575, "comment_id": 103575031, "body": "It will work if <code>bar</code> is a subtype of <code>CharSequence?</code>. Otherwise, you won&#39;t be able to call <code>isNullOrBlank()</code> on <code>it</code>."}], "tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": false, "score": 2, "last_activity_date": 1572469223, "creation_date": 1572469223, "answer_id": 58633575, "question_id": 58633102, "link": "https://stackoverflow.com/questions/58633102/how-can-i-check-2-conditions-using-let-or-apply-etc/58633575#58633575", "title": "How can I check 2 conditions using let (or apply etc)", "body": "<p>You can use <code>sequenceOf</code> and <code>none</code>:</p>\n\n<pre><code>if (sequenceOf(foo, bar).none { it.isNullOrBlank() }) {\n    println(\"foo and bar both valid strings\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2241, "user_id": 9055634, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ad71851f7cd273e1ef70597c4231c92b?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/9055634/jim"}, "edited": false, "score": 0, "creation_date": 1572470109, "post_id": 58633602, "comment_id": 103574463, "body": "This does not compile. It complaints on <code>isNullOrBlank</code>"}], "tags": [], "owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "is_accepted": false, "score": 1, "last_activity_date": 1572470544, "last_edit_date": 1572470544, "creation_date": 1572469339, "answer_id": 58633602, "question_id": 58633102, "link": "https://stackoverflow.com/questions/58633102/how-can-i-check-2-conditions-using-let-or-apply-etc/58633602#58633602", "title": "How can I check 2 conditions using let (or apply etc)", "body": "<p>Improving @Francesc answer, I created a nLet version</p>\n\n<pre><code>fun &lt;S&gt; nLet(vararg ts: Any?, block: (Array&lt;out Any?&gt;) -&gt; S): S? = \n    if (ts.none { when (it) { is String -&gt; it.isNullOrEmpty() else -&gt; it == null } }) block(ts) else null\n</code></pre>\n\n<p>You can use it like that</p>\n\n<pre><code>nLet (1, 2 , 3, \"a\", \"B\", true) { ts -&gt;\n    ts.forEach { println(it) }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14731, "user_id": 13365, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c2c5b0152d840d838de072a4ef32453b?s=128&d=identicon&r=PG", "display_name": "neu242", "link": "https://stackoverflow.com/users/13365/neu242"}, "is_accepted": false, "score": 0, "last_activity_date": 1573478593, "last_edit_date": 1573478593, "creation_date": 1573474028, "answer_id": 58801046, "question_id": 58633102, "link": "https://stackoverflow.com/questions/58633102/how-can-i-check-2-conditions-using-let-or-apply-etc/58801046#58801046", "title": "How can I check 2 conditions using let (or apply etc)", "body": "<p>This is what I use:</p>\n\n<pre><code>fun &lt;P1, P2, R&gt; nLet(p1: P1?, p2: P2?, block: (P1, P2) -&gt; R?): R? = \n    p1?.let { p2?.let { block(p1, p2) } }\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>nLet(foo, bar) { f, b -&gt; doStuff(f, b) }\n</code></pre>\n\n<p>Add more nLet functions with more <code>P</code>'s if more arguments are needed.</p>\n"}, {"tags": [], "owner": {"reputation": 14731, "user_id": 13365, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c2c5b0152d840d838de072a4ef32453b?s=128&d=identicon&r=PG", "display_name": "neu242", "link": "https://stackoverflow.com/users/13365/neu242"}, "is_accepted": false, "score": 0, "last_activity_date": 1573565202, "last_edit_date": 1573565202, "creation_date": 1573561444, "answer_id": 58818700, "question_id": 58633102, "link": "https://stackoverflow.com/questions/58633102/how-can-i-check-2-conditions-using-let-or-apply-etc/58818700#58818700", "title": "How can I check 2 conditions using let (or apply etc)", "body": "<p>You can also use this for an arbitary number of arguments:</p>\n\n<pre><code>fun &lt;P, R&gt; nLet(vararg ts: P?, block: (Array&lt;out P?&gt;) -&gt; R): R? = \n    ts.takeIf { it.none { it == null } }?.let { block(it) }\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>nLet(foo, bar, dog) { (f, b, d) -&gt; doStuff(f, b, d) }\n</code></pre>\n\n<p>This works, but <code>f</code>, <code>b</code> and <code>d</code> will have nullable types even though they cannot be null.</p>\n\n<p>(There might be a clever way to solve that...)</p>\n"}], "owner": {"reputation": 2241, "user_id": 9055634, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ad71851f7cd273e1ef70597c4231c92b?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/9055634/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 1, "answer_count": 6, "score": 2, "last_activity_date": 1573574952, "creation_date": 1572466917, "question_id": 58633102, "link": "https://stackoverflow.com/questions/58633102/how-can-i-check-2-conditions-using-let-or-apply-etc", "title": "How can I check 2 conditions using let (or apply etc)", "body": "<p>Is there a more idiomatic way to write the following?  </p>\n\n<pre><code>foo?.let{\n        if(!foo.isBlank()) {\n            bar?.let { \n                if(!bar.isBlank()) {\n                    println(\"foo and bar both valid strings\")\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>basically this the idea is that both strings should be nonNull and nonEmpty and I was wondering if there is a more Kotlin way than doing <code>if(foo.isNullOrEmpty &amp;&amp; !bar.isNullOrEmpty)</code></p>\n"}, {"tags": ["java", "json", "kotlin", "jackson", "jsonpointer"], "comments": [{"owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "edited": false, "score": 2, "creation_date": 1572468058, "post_id": 58633009, "comment_id": 103573616, "body": "I don&#39;t know the answer for your question. But it was a bit difficult to understand the code. I think it is better to extract the lambda to a new function and use a simple if (jsonPointer != null) block or something like jsonPointer?let {} instead of when. I"}, {"owner": {"reputation": 18378, "user_id": 409279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6mDB9.png?s=128&g=1", "display_name": "Dan Lugg", "link": "https://stackoverflow.com/users/409279/dan-lugg"}, "reply_to_user": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "edited": false, "score": 0, "creation_date": 1572469017, "post_id": 58633009, "comment_id": 103574040, "body": "Fair enough, I&#39;ll fold it down to something simpler."}], "answers": [{"comments": [{"owner": {"reputation": 18378, "user_id": 409279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6mDB9.png?s=128&g=1", "display_name": "Dan Lugg", "link": "https://stackoverflow.com/users/409279/dan-lugg"}, "edited": false, "score": 0, "creation_date": 1573222539, "post_id": 58758134, "comment_id": 103822186, "body": "Awesome find, thank you \u2014 where can I find snapshot releases for the FasterXML packages? (I\u2019m still relatively new to the Java scene)"}, {"owner": {"reputation": 102417, "user_id": 59501, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9a657f7990c2dafca9885dee9c647d4e?s=128&d=identicon&r=PG", "display_name": "StaxMan", "link": "https://stackoverflow.com/users/59501/staxman"}, "reply_to_user": {"reputation": 18378, "user_id": 409279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6mDB9.png?s=128&g=1", "display_name": "Dan Lugg", "link": "https://stackoverflow.com/users/409279/dan-lugg"}, "edited": false, "score": 1, "creation_date": 1573322873, "post_id": 58758134, "comment_id": 103847936, "body": "Sonatype OSS repo, <code>pom.xml</code> for Jackson packages includes it: <code>https:&#47;&#47;oss.sonatype.org&#47;content&#47;repositories&#47;snapshots</code>"}, {"owner": {"reputation": 18378, "user_id": 409279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6mDB9.png?s=128&g=1", "display_name": "Dan Lugg", "link": "https://stackoverflow.com/users/409279/dan-lugg"}, "edited": false, "score": 0, "creation_date": 1573353202, "post_id": 58758134, "comment_id": 103853649, "body": "Thank you! I\u2019ll create an isolated case and report back :-)"}], "tags": [], "owner": {"reputation": 102417, "user_id": 59501, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9a657f7990c2dafca9885dee9c647d4e?s=128&d=identicon&r=PG", "display_name": "StaxMan", "link": "https://stackoverflow.com/users/59501/staxman"}, "is_accepted": true, "score": 1, "last_activity_date": 1573168040, "creation_date": 1573168040, "answer_id": 58758134, "question_id": 58633009, "link": "https://stackoverflow.com/questions/58633009/is-this-a-bug-in-the-jackson-jsonparser-or-am-i-doing-something-wrong/58758134#58758134", "title": "Is this a bug in the Jackson JsonParser, or am I doing something wrong?", "body": "<p>It is possible you are experiencing this issue:</p>\n\n<p><a href=\"https://github.com/FasterXML/jackson-databind/issues/2525\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/2525</a></p>\n\n<p>which specifically affects case of \"reading\" contents of a <code>JsonNode</code>.\nHandling is fixed for 2.11 (to be released by end of 2019 or early 2020), although not patched for 2.10 yet.</p>\n"}], "owner": {"reputation": 18378, "user_id": 409279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6mDB9.png?s=128&g=1", "display_name": "Dan Lugg", "link": "https://stackoverflow.com/users/409279/dan-lugg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 58758134, "answer_count": 1, "score": 2, "last_activity_date": 1573168040, "creation_date": 1572466517, "last_edit_date": 1572469151, "question_id": 58633009, "link": "https://stackoverflow.com/questions/58633009/is-this-a-bug-in-the-jackson-jsonparser-or-am-i-doing-something-wrong", "title": "Is this a bug in the Jackson JsonParser, or am I doing something wrong?", "body": "<p>I'm observing what appears to be some wierd behavior with the Jackson <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.8/com/fasterxml/jackson/core/JsonParser.html\" rel=\"nofollow noreferrer\"><code>JsonParser</code></a>, specifically, capturing a correct <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.8/com/fasterxml/jackson/core/JsonPointer.html\" rel=\"nofollow noreferrer\"><code>JsonPointer</code></a> while in an array.</p>\n\n<p>Given the following JSON snippet:</p>\n\n<pre><code>[\n    {\n        \"name\": \"a\",\n        \"children\": [\n            {\n                \"name\": \"b\"\n            },\n            {\n                \"name\": \"c\"\n            },\n            {\n                \"name\": \"d\"\n            }\n        ]\n    },\n    {\n        \"name\": \"e\",\n        \"children\": [\n            {\n                \"name\": \"f\"\n            },\n            {\n                \"name\": \"g\",\n                \"children\": [\n                    {\n                        \"name\": \"h\"\n                    },\n                    {\n                        \"name\": \"i\"\n                    }\n                ]\n            }\n        ]\n    },\n    {\n        \"name\": \"j\"\n    }\n]\n</code></pre>\n\n<p>I have a simple Kotlin function that attempts to iterate on <code>nextToken()</code> as follows:</p>\n\n<pre><code>fun main()\n{\n    val jsonParser = jacksonObjectMapper().readTree(JSON).traverse()\n\n    while (jsonParser.nextToken() != null)\n    {\n        val jsonPointer = jsonParser.parsingContext?.pathAsPointer(true) ?: continue\n        val tokenName = jsonParser.currentToken.name\n        println(\"${jsonPointer.toString().padEnd(40)} $tokenName\")\n    }\n}\n</code></pre>\n\n<p>Now, <em>here's</em> what's strange; the <code>jsonPointer</code> isn't distinguishing array indices as indicated in the output:</p>\n\n<pre><code>                                         START_ARRAY\n                                         START_OBJECT\n/0/name                                  FIELD_NAME\n/0/name                                  VALUE_STRING\n/0/children                              FIELD_NAME\n/0/children                              START_ARRAY\n/0/children                              START_OBJECT\n/0/children/0/name                       FIELD_NAME\n/0/children/0/name                       VALUE_STRING\n/0/children                              END_OBJECT\n/0/children                              START_OBJECT\n/0/children/0/name                       FIELD_NAME\n/0/children/0/name                       VALUE_STRING\n/0/children                              END_OBJECT\n/0/children                              START_OBJECT\n/0/children/0/name                       FIELD_NAME\n/0/children/0/name                       VALUE_STRING\n/0/children                              END_OBJECT\n/0/children                              END_ARRAY\n                                         END_OBJECT\n                                         START_OBJECT\n/0/name                                  FIELD_NAME\n/0/name                                  VALUE_STRING\n/0/children                              FIELD_NAME\n/0/children                              START_ARRAY\n/0/children                              START_OBJECT\n/0/children/0/name                       FIELD_NAME\n/0/children/0/name                       VALUE_STRING\n/0/children                              END_OBJECT\n/0/children                              START_OBJECT\n/0/children/0/name                       FIELD_NAME\n/0/children/0/name                       VALUE_STRING\n/0/children/0/children                   FIELD_NAME\n/0/children/0/children                   START_ARRAY\n/0/children/0/children                   START_OBJECT\n/0/children/0/children/0/name            FIELD_NAME\n/0/children/0/children/0/name            VALUE_STRING\n/0/children/0/children                   END_OBJECT\n/0/children/0/children                   START_OBJECT\n/0/children/0/children/0/name            FIELD_NAME\n/0/children/0/children/0/name            VALUE_STRING\n/0/children/0/children                   END_OBJECT\n/0/children/0/children                   END_ARRAY\n/0/children                              END_OBJECT\n/0/children                              END_ARRAY\n                                         END_OBJECT\n                                         START_OBJECT\n/0/name                                  FIELD_NAME\n/0/name                                  VALUE_STRING\n                                         END_OBJECT\n</code></pre>\n\n<p>The paths are always giving back an index of <code>0</code>, whether in the first or n-th element.</p>\n\n<p>Is this a bug? Or have I somehow managed to introduce one?</p>\n"}, {"tags": ["spring", "kotlin", "reactive-programming", "prometheus", "spring-webclient"], "answers": [{"comments": [{"owner": {"reputation": 56, "user_id": 8494950, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rkBu703mIFg/AAAAAAAAAAI/AAAAAAAAAII/k1S-TXIjGP0/photo.jpg?sz=128", "display_name": "Loveneesh Singh", "link": "https://stackoverflow.com/users/8494950/loveneesh-singh"}, "edited": false, "score": 3, "creation_date": 1572639853, "post_id": 58632953, "comment_id": 103634067, "body": "You can also autowire default WebClient.Builder which can give you metrics by default."}], "tags": [], "owner": {"reputation": 56, "user_id": 8494950, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rkBu703mIFg/AAAAAAAAAAI/AAAAAAAAAII/k1S-TXIjGP0/photo.jpg?sz=128", "display_name": "Loveneesh Singh", "link": "https://stackoverflow.com/users/8494950/loveneesh-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1572466296, "creation_date": 1572466296, "answer_id": 58632953, "question_id": 58632801, "link": "https://stackoverflow.com/questions/58632801/how-to-expose-webclient-metrics-in-prometheus/58632953#58632953", "title": "How to expose webClient metrics in prometheus?", "body": "<p>If you want to get the metrics of the WebClient call you can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"nofollow noreferrer\">ExchangeFilterFunction</a> which is used as an interceptor. By default, there is one implementation of ExchangeFilterFunction i.e <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/web/reactive/client/MetricsWebClientFilterFunction.java\" rel=\"nofollow noreferrer\">MetricsWebClientFilterFunction</a> which can be added as a filter with your WebClient to give metrics like Number of request count, response time and total response time.</p>\n\n<pre><code>  val metricsWebClientFilterFunction = MetricsWebClientFilterFunction(meterRegistry, DefaultWebClientExchangeTagsProvider(), \"webClientMetrics\")\n  WebClient.builder()\n           .baseUrl(\"http://localhost:8080/test\")\n           .filter(metricsWebClientFilterFunction)\n           .build()\n</code></pre>\n\n<p>This will expose all the metrics of this WebClient Call in prometheus.\nSample Prometheus Output:</p>\n\n<pre><code>webClientMetrics_seconds_count{clientName=\"localhost\",method=\"GET\",status=\"200\",uri=\"/test\",} 2.0\nwebClientMetrics_seconds_sum{clientName=\"localhost\",method=\"GET\",status=\"200\",uri=\"/test\",} 2.05474855\nwebClientMetrics_seconds_max{clientName=\"localhost\",method=\"GET\",status=\"200\",uri=\"/test\",} 1.048698171\n</code></pre>\n\n<p>To write custom metrics you can implement ExchangeFilterFunction and write your custom implementation for getting the metrics and add it in the WebClient Filter.</p>\n"}], "owner": {"reputation": 392, "user_id": 5860608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jam4D.png?s=128&g=1", "display_name": "pPanda_beta", "link": "https://stackoverflow.com/users/5860608/ppanda-beta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1232, "favorite_count": 0, "accepted_answer_id": 58632953, "answer_count": 1, "score": 1, "last_activity_date": 1572639778, "creation_date": 1572465551, "last_edit_date": 1572639778, "question_id": 58632801, "link": "https://stackoverflow.com/questions/58632801/how-to-expose-webclient-metrics-in-prometheus", "title": "How to expose webClient metrics in prometheus?", "body": "<p>I want to expose the metrics of a WebClient call to a downstream system from the service, metrics like count of request, min, max time for the response is needed.</p>\n\n<p>I want to know how I can write a gauge for a reactive webclient.</p>\n\n<p>Here is a sample MeterBinder that I'm interested to use with webclient.</p>\n\n<pre><code>class Metrics : MeterBinder {\n    override fun bindTo(registry: MeterRegistry) {\n        Gauge.builder(\"metrics\", Supplier { Math.random() })\n                .baseUnit(\"status\")\n                .register(registry)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "edited": false, "score": 0, "creation_date": 1572460752, "post_id": 58630943, "comment_id": 103570667, "body": "log <code>idImageButton.tag.toString()</code> and see what it logs."}], "answers": [{"tags": [], "owner": {"reputation": 609, "user_id": 7530555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d34e763043565e0a86614faecd4a530b?s=128&d=identicon&r=PG&f=1", "display_name": "H.Taras", "link": "https://stackoverflow.com/users/7530555/h-taras"}, "is_accepted": false, "score": 1, "last_activity_date": 1572457326, "creation_date": 1572457326, "answer_id": 58631003, "question_id": 58630943, "link": "https://stackoverflow.com/questions/58630943/how-to-get-the-id-of-an-imagebutton/58631003#58631003", "title": "How to get the id of an ImageButton?", "body": "<p>You can get view id with casting to ImageButton </p>\n\n<pre><code>when(view.id) {\n            R.id.btnFirst -&gt; {}\n            R.id.btnSecond -&gt; {}\n            //so on\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 374, "user_id": 12201062, "user_type": "registered", "profile_image": "https://graph.facebook.com/376646586550474/picture?type=large", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/12201062/jarvis"}, "is_accepted": false, "score": 1, "last_activity_date": 1572457362, "creation_date": 1572457362, "answer_id": 58631011, "question_id": 58630943, "link": "https://stackoverflow.com/questions/58630943/how-to-get-the-id-of-an-imagebutton/58631011#58631011", "title": "How to get the id of an ImageButton?", "body": "<pre><code> val button:ImageButton\n       val id =  button.id\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": true, "score": 0, "last_activity_date": 1572460008, "last_edit_date": 1572460008, "creation_date": 1572458914, "answer_id": 58631384, "question_id": 58630943, "link": "https://stackoverflow.com/questions/58630943/how-to-get-the-id-of-an-imagebutton/58631384#58631384", "title": "How to get the id of an ImageButton?", "body": "<p>You have to checked the <code>id</code> of the view to distinguish them. For Example if the <code>id</code> of the <code>ImageButton</code> for which you want to move to the second <code>activity</code> is <strong>pokemon</strong>, then try like this.</p>\n\n<pre><code>fun onclickImage(view: View) {\n\n    if(view.id == R.id.pokemon) {\n        val myIntent = Intent(this, Details::class.java)\n        myIntent.putExtra(\"pokemon\", \"Pokemon\")\n        startActivity(myIntent)\n    }\n}\n</code></pre>\n\n<p>If you also want to do it by <code>tag</code> you have to set <code>tag</code> in either xml or code. Then you can check it with <code>tag</code></p>\n\n<pre><code>&lt;ImageButton\n    android:id=\"@+id/pokemon\"\n    android:tag=\"Pokemon\"\n    android:onClick=\"onclickImage\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"/&gt;\n</code></pre>\n\n<p>Then check <code>tag</code> and take decision.</p>\n\n<pre><code>fun onclickImage(view: View) {\n    val pokemonName = view.tag.toString()\n\n    if(pokemonName.equals(\"Pokemon\", true)) {\n        val myIntent = Intent(this, Details::class.java)\n        myIntent.putExtra(\"pokemon\", pokemonName)\n        startActivity(myIntent)\n    }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11240805"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 58631384, "answer_count": 3, "score": 0, "last_activity_date": 1572493497, "creation_date": 1572457113, "last_edit_date": 1572493497, "question_id": 58630943, "link": "https://stackoverflow.com/questions/58630943/how-to-get-the-id-of-an-imagebutton", "title": "How to get the id of an ImageButton?", "body": "<p>I'm developing a solution that passes the one activity for other activity after the user clicks in an <code>ImageButton</code>. I have 6 images and all images \n are having the same <code>onClick</code> event and I need to distinguish different <code>ImageButton</code>'s clicks which is which for passing for the second activity.\nI tried the solution below, but the line with <code>idImageButton.tag.toString()</code> doesn't work.</p>\n\n<p><strong>file.kt</strong>    </p>\n\n<pre><code>fun onclickImage(view: View){\n    val idImageButton:ImageButton = view as ImageButton\n    val pokemonName:String = idImageButton.tag.toString()\n\n    val myIntent = Intent(this, Details::class.java)\n    myIntent.putExtra(\"pokemon\", pokemonName)\n    startActivity(myIntent)\n}\n</code></pre>\n"}, {"tags": ["android-studio", "intellij-idea", "kotlin", "lint"], "comments": [{"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1572501068, "post_id": 58630673, "comment_id": 103581327, "body": "Since the default <code>it</code> parameter is a fundamental part of the language design, you are much better off getting used to it than fighting against it. However, I suspect you might be using it or see it be used when there are better options."}, {"owner": {"reputation": 681, "user_id": 5487258, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vhUElrMO-cU/AAAAAAAAAAI/AAAAAAAALq0/E-gt8MjEfZ4/photo.jpg?sz=128", "display_name": "Vasili Fedotov", "link": "https://stackoverflow.com/users/5487258/vasili-fedotov"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1572511552, "post_id": 58630673, "comment_id": 103584917, "body": "Oh I&#39;m used to it alright, I&#39;m too used to it. I am using it even when it makes my code worse, I want to limit my own use of it. And my team&#39;s."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1572533300, "post_id": 58630673, "comment_id": 103596797, "body": "There are more cases where it improves readability than where it hinders it. And you can still choose not to use it when it would. This would be like banning if/else because when is sometimes more readable."}, {"owner": {"reputation": 681, "user_id": 5487258, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vhUElrMO-cU/AAAAAAAAAAI/AAAAAAAALq0/E-gt8MjEfZ4/photo.jpg?sz=128", "display_name": "Vasili Fedotov", "link": "https://stackoverflow.com/users/5487258/vasili-fedotov"}, "reply_to_user": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1572567804, "post_id": 58630673, "comment_id": 103610093, "body": "@Tenfour04   Do you have any example where using the ambiguous &quot;it&quot; would be more clear than a well-named variable?"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1572570810, "post_id": 58630673, "comment_id": 103610623, "body": "Any filter on a collection or sequence. A specific name doesn\u2019t add any meaning, but it adds more complexity to what you\u2019re reading."}], "owner": {"reputation": 681, "user_id": 5487258, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vhUElrMO-cU/AAAAAAAAAAI/AAAAAAAALq0/E-gt8MjEfZ4/photo.jpg?sz=128", "display_name": "Vasili Fedotov", "link": "https://stackoverflow.com/users/5487258/vasili-fedotov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1572455969, "creation_date": 1572455969, "question_id": 58630673, "link": "https://stackoverflow.com/questions/58630673/how-do-i-create-a-lint-rule-that-detects-the-usage-of-an-it-in-lambda-function", "title": "How do I create a Lint rule that detects the usage of an &quot;it&quot; in lambda functions. in Intellij/Android Studio", "body": "<p>I am trying to add a lint rule that will not allow me to use the word \"it\" inside a lambda function.</p>\n\n<p>I believe it is bad practise and makes the code unreadable.</p>\n\n<p>I have tried to change the Local Variable naming convention in Editor -> Inspection to be </p>\n\n<pre><code>^(?!it)[a-z][A-Za-z\\d].*\n</code></pre>\n\n<p>but this does not catch the \"it\" operator. </p>\n\n<p>is this possible?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 374, "user_id": 12201062, "user_type": "registered", "profile_image": "https://graph.facebook.com/376646586550474/picture?type=large", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/12201062/jarvis"}, "edited": false, "score": 0, "creation_date": 1572454948, "post_id": 58630295, "comment_id": 103567979, "body": "Must be static or non-static but registered inside parent class: <a href=\"https://stackoverflow.com/questions/29947038/java-lang-instantiationexception-class-has-no-zero-argument-constructor\" title=\"java lang instantiationexception class has no zero argument constructor\">stackoverflow.com/questions/29947038/&hellip;</a>"}, {"owner": {"reputation": 374, "user_id": 12201062, "user_type": "registered", "profile_image": "https://graph.facebook.com/376646586550474/picture?type=large", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/12201062/jarvis"}, "edited": false, "score": 0, "creation_date": 1572455091, "post_id": 58630295, "comment_id": 103568063, "body": "Remove inner and it should be static by default."}, {"owner": {"reputation": 1145, "user_id": 10192418, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-arPOT1jpVcs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pOEr5lASFQ7ti1Jd8bR7V4H7GtOw/mo/photo.jpg?sz=128", "display_name": "Ehsan Nokandi", "link": "https://stackoverflow.com/users/10192418/ehsan-nokandi"}, "reply_to_user": {"reputation": 374, "user_id": 12201062, "user_type": "registered", "profile_image": "https://graph.facebook.com/376646586550474/picture?type=large", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/12201062/jarvis"}, "edited": false, "score": 0, "creation_date": 1572455493, "post_id": 58630295, "comment_id": 103568252, "body": "@Jarvis yes but how can I do than in Kotlin."}, {"owner": {"reputation": 374, "user_id": 12201062, "user_type": "registered", "profile_image": "https://graph.facebook.com/376646586550474/picture?type=large", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/12201062/jarvis"}, "edited": false, "score": 0, "creation_date": 1572455604, "post_id": 58630295, "comment_id": 103568298, "body": "Remove the inner keyword from class MediaReceiver."}, {"owner": {"reputation": 1145, "user_id": 10192418, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-arPOT1jpVcs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pOEr5lASFQ7ti1Jd8bR7V4H7GtOw/mo/photo.jpg?sz=128", "display_name": "Ehsan Nokandi", "link": "https://stackoverflow.com/users/10192418/ehsan-nokandi"}, "reply_to_user": {"reputation": 374, "user_id": 12201062, "user_type": "registered", "profile_image": "https://graph.facebook.com/376646586550474/picture?type=large", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/12201062/jarvis"}, "edited": false, "score": 0, "creation_date": 1572455893, "post_id": 58630295, "comment_id": 103568443, "body": "@Jarvis Then I can&#39;t use my mediaSession object inside my MediaReceiver class. I define my mediaSession inside MainActivity and I need to use it here. I&#39;m really confused."}, {"owner": {"reputation": 1004, "user_id": 2912553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1fecfc1d6a86c9be20722e1c6e0d427a?s=128&d=identicon&r=PG&f=1", "display_name": "momt99", "link": "https://stackoverflow.com/users/2912553/momt99"}, "edited": false, "score": 0, "creation_date": 1572461800, "post_id": 58630295, "comment_id": 103571101, "body": "@EhsanNokandi you should not add any dependency from your activity to your receiver, because the receiver will be instantiated by the system. So if you want your <code>mediaSession</code> you should have some mechanism to create it inside your receiver."}, {"owner": {"reputation": 1145, "user_id": 10192418, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-arPOT1jpVcs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pOEr5lASFQ7ti1Jd8bR7V4H7GtOw/mo/photo.jpg?sz=128", "display_name": "Ehsan Nokandi", "link": "https://stackoverflow.com/users/10192418/ehsan-nokandi"}, "reply_to_user": {"reputation": 1004, "user_id": 2912553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1fecfc1d6a86c9be20722e1c6e0d427a?s=128&d=identicon&r=PG&f=1", "display_name": "momt99", "link": "https://stackoverflow.com/users/2912553/momt99"}, "edited": false, "score": 0, "creation_date": 1572468118, "post_id": 58630295, "comment_id": 103573643, "body": "@MohammadOmidvar Thanks dear Mohammad. I think you are right. Can you do me a favor and give me your email address? I have a question about MediaService and I have no one to ask. I would appreciate if you helped me with this."}], "answers": [{"comments": [{"owner": {"reputation": 1145, "user_id": 10192418, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-arPOT1jpVcs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pOEr5lASFQ7ti1Jd8bR7V4H7GtOw/mo/photo.jpg?sz=128", "display_name": "Ehsan Nokandi", "link": "https://stackoverflow.com/users/10192418/ehsan-nokandi"}, "edited": false, "score": 0, "creation_date": 1572467447, "post_id": 58632712, "comment_id": 103573361, "body": "Thanks. it really helped."}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": true, "score": 2, "last_activity_date": 1572465110, "creation_date": 1572465110, "answer_id": 58632712, "question_id": 58630295, "link": "https://stackoverflow.com/questions/58630295/error-unable-to-instantiate-receiver-has-no-zero-argument-constructor/58632712#58632712", "title": "Error: Unable to instantiate receiver... has no zero argument constructor", "body": "<p><strong>Problem - 1:</strong> Your <code>MediaReceiver</code> should be <code>Nested</code> only not <code>inner</code>. In Kotlin Nested class is static by default. So remove inner keyword. </p>\n\n<pre><code>class MediaReceiver : BroadcastReceiver() {\n}\n</code></pre>\n\n<p><strong>Problem - 2:</strong> You want to access outer class property from BroadcastReceiver which is not good practice. You should avoid it. But if you still want to do so you should make that property static and use it inside Receiver. Check my below sample implementation.</p>\n\n<pre><code>class MainActivity {\n    companion object {\n        var mediaSession: MediaSessionCompat? = null\n    }\n\n    class MediaReceiver : BroadcastReceiver() {\n        override fun onReceive(context: Context, intent: Intent) {\n            MediaButtonReceiver.handleIntent(mediaSession, intent)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1145, "user_id": 10192418, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-arPOT1jpVcs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pOEr5lASFQ7ti1Jd8bR7V4H7GtOw/mo/photo.jpg?sz=128", "display_name": "Ehsan Nokandi", "link": "https://stackoverflow.com/users/10192418/ehsan-nokandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1518, "favorite_count": 0, "accepted_answer_id": 58632712, "answer_count": 1, "score": 0, "last_activity_date": 1572465110, "creation_date": 1572454464, "question_id": 58630295, "link": "https://stackoverflow.com/questions/58630295/error-unable-to-instantiate-receiver-has-no-zero-argument-constructor", "title": "Error: Unable to instantiate receiver... has no zero argument constructor", "body": "<p>I have a problem with my BroadcastReceiver class that it is inside my MainActivity as a inner class.\nEvery time that I click on a button in my app's notification, I get this error:</p>\n\n<pre><code>java.lang.RuntimeException: Unable to instantiate receiver com.oniktech.testmediaservice.MainActivity$MediaReceiver: java.lang.InstantiationException: java.lang.Class&lt;com.oniktech.testmediaservice.MainActivity$MediaReceiver&gt; has no zero argument constructor\n</code></pre>\n\n<p>here is my code:</p>\n\n<pre><code>val playPauseAction = NotificationCompat.Action(\n            icon, play_pause,\n            MediaButtonReceiver.buildMediaButtonPendingIntent(\n                this,\n                PlaybackStateCompat.ACTION_PLAY_PAUSE\n            )\n        )\n\n    builder.setContentTitle(\"my test\")\n                .addAction(playPauseAction)\n                .setStyle(\n                    androidx.media.app.NotificationCompat.MediaStyle()\n                        .setMediaSession(mediaSession.getSessionToken())\n                        .setShowActionsInCompactView(0)\n                )\n\n            notificatioManager = getSystemService(NOTIFICATION_SERVICE) as NotificationManager\n            notificatioManager.notify(0, builder.build())\n</code></pre>\n\n<p>and here is my inner class:</p>\n\n<pre><code>inner class MediaReceiver : BroadcastReceiver() {\n        override fun onReceive(context: Context, intent: Intent) {\n            MediaButtonReceiver.handleIntent(mediaSession, intent)\n        }\n    }\n</code></pre>\n\n<p>I know that I should not use inner class in this case. But I have to use my 'mediaSession' object in it.\nWhat should I do?\nthanks for your help.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 1004, "user_id": 2912553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1fecfc1d6a86c9be20722e1c6e0d427a?s=128&d=identicon&r=PG&f=1", "display_name": "momt99", "link": "https://stackoverflow.com/users/2912553/momt99"}, "edited": false, "score": 0, "creation_date": 1572460808, "post_id": 58629856, "comment_id": 103570694, "body": "You are creating a <code>PalFussFragment</code> in remove function!"}], "answers": [{"tags": [], "owner": {"reputation": 608, "user_id": 3542143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sc1DZ.jpg?s=128&g=1", "display_name": "Julio Lemus", "link": "https://stackoverflow.com/users/3542143/julio-lemus"}, "is_accepted": true, "score": 1, "last_activity_date": 1572456836, "last_edit_date": 1572456836, "creation_date": 1572455677, "answer_id": 58630598, "question_id": 58629856, "link": "https://stackoverflow.com/questions/58629856/close-fragment-onkeylistener-in-edittext/58630598#58630598", "title": "Close Fragment onKeyListener in EditText", "body": "<p>You should remove <code>this@PalFussFragment</code> instead of try to remove a new instance of <code>PalFussFragment()</code></p>\n\n<pre><code>requireActivity().supportFragmentManager.beginTransaction()\n    .remove(this@PalFussFragment)\n    .commit()\n</code></pre>\n\n<p>Prefer use <code>requireActivity()</code> instead of <code>activity?</code> directly to make sure fragment is always attached to activity.</p>\n"}], "owner": {"reputation": 314, "user_id": 12083845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ATpdC.jpg?s=128&g=1", "display_name": "BWappsandmore", "link": "https://stackoverflow.com/users/12083845/bwappsandmore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 58630598, "answer_count": 1, "score": -1, "last_activity_date": 1572456836, "creation_date": 1572452729, "question_id": 58629856, "link": "https://stackoverflow.com/questions/58629856/close-fragment-onkeylistener-in-edittext", "title": "Close Fragment onKeyListener in EditText", "body": "<p>Maybe this is a small issue for someone more experienced than me (I work with Android since two months), but I really can't figure it out why the same line of code inside a OnKeyListener doesn't work.</p>\n\n<p>For example, I'm able to close my Fragment by clicking the Quit button of the Fragment and I can go back to my Activity. </p>\n\n<pre><code>btnAbbrechen.setOnClickListener {\n            activity?.supportFragmentManager?.beginTransaction()?.remove(this)?.commit() // works\n        }\n</code></pre>\n\n<p>Anyway, if I use the same code into a EditText field from the same Fragment, the Fragment won't close.</p>\n\n<pre><code>        eTPalFussNr.apply {\n            requestFocus()\n            setOnKeyListener(View.OnKeyListener { _, keyCode, event -&gt;\n                if (keyCode == KeyEvent.KEYCODE_ENTER &amp;&amp; event.action == KeyEvent.ACTION_DOWN) {\n//                    activity?.supportFragmentManager?.popBackStack() // nothing happens\n                    activity?.supportFragmentManager?.beginTransaction()?.remove(PalFussFragment())?.commit() // nothing happens\n                    return@OnKeyListener true\n                }\n                false\n            })\n        }\n</code></pre>\n\n<p>I followed all the posts with similar issues on SO, but couldn't find the right answer. So, please tell me what am I missing. </p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["android", "generics", "kotlin"], "comments": [{"owner": {"reputation": 402, "user_id": 11370078, "user_type": "registered", "profile_image": "https://graph.facebook.com/2345565765508240/picture?type=large", "display_name": "Dominik Wuttke", "link": "https://stackoverflow.com/users/11370078/dominik-wuttke"}, "edited": false, "score": 0, "creation_date": 1572449834, "post_id": 58628736, "comment_id": 103565108, "body": "did you try  : this.somevalue = param2 as String"}], "answers": [{"comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1572454819, "post_id": 58629636, "comment_id": 103567912, "body": "@u84six, Did you try this?"}, {"owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1572454957, "post_id": 58629636, "comment_id": 103567984, "body": "When I do that, I get an &#39;unchecked cast&#39; warning. Seems like no matter what I try, there&#39;s a different warning or error. It&#39;s like whack-a-mole. Seems to work smoothly with non generics. It&#39;s generics where I&#39;m whacking moles as I code."}, {"owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1572455044, "post_id": 58629636, "comment_id": 103568038, "body": "I&#39;m new to Kotlin and has been a bit of a pain working with Java libs so far."}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "reply_to_user": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1572455909, "post_id": 58629636, "comment_id": 103568454, "body": "It&#39;s not a problem since it&#39;s a nullable value. Kotlin handle this. Check this: <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/typecasts.html</a>"}, {"owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1572458249, "post_id": 58629636, "comment_id": 103569515, "body": "So it&#39;s just a warning that we&#39;re supposed to ignore?"}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "reply_to_user": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1572458484, "post_id": 58629636, "comment_id": 103569616, "body": "Yes, It&#39;s a warning"}, {"owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1572458510, "post_id": 58629636, "comment_id": 103569631, "body": "After reading the docs, I suppose I can put @Suppress(&quot;UNCHECKED_CAST&quot;) to suppress the warning since I can&#39;t edit the java lib. Seems like a kludgy solution. But I&#39;ll give you the answer for the cast."}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "reply_to_user": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1572458595, "post_id": 58629636, "comment_id": 103569669, "body": "If you don&#39;t want to bother about the warning then Suppress it. :)"}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": true, "score": 1, "last_activity_date": 1572451981, "creation_date": 1572451981, "answer_id": 58629636, "question_id": 58628736, "link": "https://stackoverflow.com/questions/58628736/how-to-override-a-method-in-java-from-kotlin-where-a-param-is-of-type-sometype/58629636#58629636", "title": "How to override a method in java from kotlin where a param is of type SomeType&lt;*&gt;? but need to assign to SomeType&lt;String&gt;?", "body": "<p>You have to use type cast to achieve this. Try:</p>\n\n<pre><code>override fun initialize(param1: AType?, param2: AnotherType&lt;*&gt;?) {\n    this.someValue = param2 as AnotherType&lt;String&gt;?\n}\n</code></pre>\n"}], "owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58629636, "answer_count": 1, "score": 2, "last_activity_date": 1572451981, "creation_date": 1572449193, "last_edit_date": 1572451647, "question_id": 58628736, "link": "https://stackoverflow.com/questions/58628736/how-to-override-a-method-in-java-from-kotlin-where-a-param-is-of-type-sometype", "title": "How to override a method in java from kotlin where a param is of type SomeType&lt;*&gt;? but need to assign to SomeType&lt;String&gt;?", "body": "<p>\n\n<pre><code>class SomeClass: ThirdPartyBaseClass {\n    private var someValue: AnotherType&lt;String&gt;? = null\n\n    override fun initialize(param1: AType?, param2: AnotherType&lt;*&gt;?) {\n        this.someValue = param2\n    }\n}\n</code></pre>\n\n<p>When I <code>override</code> initialize method from <code>ThirdPartyBaseClass</code>, Android Studio autocomplete adds the signature above. <code>AnotherType</code> is basically a generic type (from the 3rd part lib) and 'T' needs to be 'String' for me to use it. The problem is that I can't assign <code>param2</code> to <code>someValue</code> because I get the error: </p>\n\n<blockquote>\n  <p><code>type mismatch: required AnotherType&lt;String&gt;? found: AnotherType&lt;*&gt;?.</code></p>\n</blockquote>\n\n<p>What is the proper way to fix this?</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-glide", "android-dialog"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 5668480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25abd1d65309603b529798baf36f1476?s=128&d=identicon&r=PG&f=1", "display_name": "whack", "link": "https://stackoverflow.com/users/5668480/whack"}, "edited": false, "score": 0, "creation_date": 1572516660, "post_id": 58629202, "comment_id": 103587482, "body": "I tried your way with the GlidedrawableImageviewTarget it didnt work that well.  I even tryed out Glide on a fresh project and it worked with this  line of code  Glide.with(applicationContext).asGif().load(R.drawable.redbu&zwnj;&#8203;ll).into(imageView), which is very strange in my mind"}, {"owner": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "reply_to_user": {"reputation": 29, "user_id": 5668480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25abd1d65309603b529798baf36f1476?s=128&d=identicon&r=PG&f=1", "display_name": "whack", "link": "https://stackoverflow.com/users/5668480/whack"}, "edited": false, "score": 0, "creation_date": 1572523229, "post_id": 58629202, "comment_id": 103591088, "body": "try loading a normal image into your Dialog using Glide, to see if the problem is with a gif. Also try loading a static image to see if the problem is with Glide."}, {"owner": {"reputation": 29, "user_id": 5668480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25abd1d65309603b529798baf36f1476?s=128&d=identicon&r=PG&f=1", "display_name": "whack", "link": "https://stackoverflow.com/users/5668480/whack"}, "edited": false, "score": 0, "creation_date": 1572528370, "post_id": 58629202, "comment_id": 103593981, "body": "I did what you said still no image is showing up, i can get a image showing when i put android:src in the xml layout but that is not necessary here"}, {"owner": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "reply_to_user": {"reputation": 29, "user_id": 5668480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25abd1d65309603b529798baf36f1476?s=128&d=identicon&r=PG&f=1", "display_name": "whack", "link": "https://stackoverflow.com/users/5668480/whack"}, "edited": false, "score": 0, "creation_date": 1572528663, "post_id": 58629202, "comment_id": 103594138, "body": "ok is <code>R.id.glideImage</code> inside of <code>R.layout.progress_layout</code>? i.e. instead of finding the imageView inside <code>init</code> find it in <code>showDialog</code> with <code>dialogView.findViewById(R.id.glideImage)</code>"}, {"owner": {"reputation": 29, "user_id": 5668480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25abd1d65309603b529798baf36f1476?s=128&d=identicon&r=PG&f=1", "display_name": "whack", "link": "https://stackoverflow.com/users/5668480/whack"}, "edited": false, "score": 0, "creation_date": 1572529976, "post_id": 58629202, "comment_id": 103594864, "body": "Yes i tryed this aswell and it didnt work. im Abit lost now how to solve this its very strange"}, {"owner": {"reputation": 29, "user_id": 5668480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25abd1d65309603b529798baf36f1476?s=128&d=identicon&r=PG&f=1", "display_name": "whack", "link": "https://stackoverflow.com/users/5668480/whack"}, "edited": false, "score": 0, "creation_date": 1572530183, "post_id": 58629202, "comment_id": 103594975, "body": "hey man its fixed now i did a refresh gradle build and it works now. superduper thanks for your help and time Blundell much thanks again!"}], "tags": [], "owner": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "is_accepted": true, "score": 0, "last_activity_date": 1572450965, "last_edit_date": 1572450965, "creation_date": 1572450619, "answer_id": 58629202, "question_id": 58628363, "link": "https://stackoverflow.com/questions/58628363/how-to-show-gif-inside-a-dialog-with-help-of-glide-lib/58629202#58629202", "title": "How to Show GIF inside a Dialog with help of glide lib", "body": "<p>Someone can correct me if I am wrong, but out of the box <code>ImageView</code> does not support the Gif format.</p>\n\n<p>You need to look at alternative formats, like hosting it in a <code>WebView</code> or using a library like this: <a href=\"https://github.com/koral--/android-gif-drawable\" rel=\"nofollow noreferrer\">https://github.com/koral--/android-gif-drawable</a></p>\n\n<p>From 2013 ImageView not supporting Gifs: <a href=\"https://stackoverflow.com/a/16486771/413127\">https://stackoverflow.com/a/16486771/413127</a></p>\n\n<p>Android P way to do Gifs: <a href=\"https://medium.com/appnroll-publication/what-is-new-in-android-p-imagedecoder-animatedimagedrawable-a65744bec7c1\" rel=\"nofollow noreferrer\">https://medium.com/appnroll-publication/what-is-new-in-android-p-imagedecoder-animatedimagedrawable-a65744bec7c1</a></p>\n\n<hr>\n\n<p>I will correct myself (yes its not supported, BUT):</p>\n\n<p>Looks like <code>Glide</code> does some magic itself to make a Gif Drawable, see here: <a href=\"https://stackoverflow.com/a/34870817/413127\">https://stackoverflow.com/a/34870817/413127</a></p>\n\n<p>So for your example:</p>\n\n<pre><code>    GlideDrawableImageViewTarget imageViewTarget = new GlideDrawableImageViewTarget(imageView);\n    imageView?.let { Glide.with(context).asGif().placeholder(R.drawable.redbull).into(imageViewTarget) }\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5668480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25abd1d65309603b529798baf36f1476?s=128&d=identicon&r=PG&f=1", "display_name": "whack", "link": "https://stackoverflow.com/users/5668480/whack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 58629202, "answer_count": 1, "score": 0, "last_activity_date": 1572450965, "creation_date": 1572447975, "question_id": 58628363, "link": "https://stackoverflow.com/questions/58628363/how-to-show-gif-inside-a-dialog-with-help-of-glide-lib", "title": "How to Show GIF inside a Dialog with help of glide lib", "body": "<p>im trying to show a GIF inside a loading dialog in my app, im using the glide image lib since of its support for GIFS. When im trying to show the GIF in the dialog it doesnt present the GIF and only shows the dialog background. I have been searching around but i havent found a good solution.</p>\n\n<p>My dialog code below</p>\n\n<pre><code>class ShowProgress(context: Context) : Dialog(context) {\n\nvar dialog: Dialog? = null\nvar imageView: ImageView? = null\n\ninit {\n    dialog = Dialog(context)\n    imageView = findViewById(R.id.glideImage)\n}\n\nfun showDialog(context: Context) {\n    val dialogView = LayoutInflater.from(context).inflate(R.layout.progress_layout, null, false)\n    imageView?.let { Glide.with(context).asGif().placeholder(R.drawable.redbull).into(it) }\n    dialog?.setCancelable(false)\n    dialog?.setContentView(dialogView)\n    dialog?.show()\n\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1427, "user_id": 3424746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09ba41aee19d01cf5070f7f5e47a3ba?s=128&d=identicon&r=PG&f=1", "display_name": "PiRocks", "link": "https://stackoverflow.com/users/3424746/pirocks"}, "edited": false, "score": 0, "creation_date": 1572447981, "post_id": 58628263, "comment_id": 103564086, "body": "You could make testNull take a lambda, which gets executed if <code>possibleNull</code> is not null, and the not-null version of <code>possibleNull</code> is passed as a parameter. But in general the kotlin compiler can&#39;t infer across multiple functions like this."}, {"owner": {"reputation": 1427, "user_id": 3424746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09ba41aee19d01cf5070f7f5e47a3ba?s=128&d=identicon&r=PG&f=1", "display_name": "PiRocks", "link": "https://stackoverflow.com/users/3424746/pirocks"}, "edited": false, "score": 0, "creation_date": 1572448025, "post_id": 58628263, "comment_id": 103564114, "body": "You can also do stuff like <code>possibleNull?.let { notNull -&gt; TODO() }</code>"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1572448401, "post_id": 58628263, "comment_id": 103564335, "body": "Yes, ?.let{} is a very common Kotlin idiom for this."}, {"owner": {"reputation": 6685, "user_id": 704836, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ea883e4243387730cfbfd69740fac647?s=128&d=identicon&r=PG", "display_name": "casolorz", "link": "https://stackoverflow.com/users/704836/casolorz"}, "edited": false, "score": 1, "creation_date": 1572448517, "post_id": 58628263, "comment_id": 103564399, "body": "The example isn&#39;t very good I guess, inside <code>testNull</code> in my real code I&#39;m doing more than checking for <code>null</code> but the example still applies since the thing the compiler complains about is the <code>null</code> check. I can just check again I guess."}, {"owner": {"reputation": 6685, "user_id": 704836, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ea883e4243387730cfbfd69740fac647?s=128&d=identicon&r=PG", "display_name": "casolorz", "link": "https://stackoverflow.com/users/704836/casolorz"}, "reply_to_user": {"reputation": 1427, "user_id": 3424746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09ba41aee19d01cf5070f7f5e47a3ba?s=128&d=identicon&r=PG&f=1", "display_name": "PiRocks", "link": "https://stackoverflow.com/users/3424746/pirocks"}, "edited": false, "score": 1, "creation_date": 1572448576, "post_id": 58628263, "comment_id": 103564430, "body": "@PiRocks the lambda idea is interesting, I&#39;ll see if I can modify my code that way."}, {"owner": {"reputation": 771, "user_id": 11268550, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-evYZvlqxjGg/AAAAAAAAAAI/AAAAAAAAAS8/2GAma8xFqDE/photo.jpg?sz=128", "display_name": "JCamacho", "link": "https://stackoverflow.com/users/11268550/jcamacho"}, "edited": false, "score": 0, "creation_date": 1572453850, "post_id": 58628263, "comment_id": 103567440, "body": "It&#39;d help if you gave more information on just what checks you&#39;re trying to do besides null. The beauty of <code>?.let{}</code> is that it captures the variable you&#39;re questioning so even if some other part of the program asynchronously changes the variable, it doesn&#39;t matter because what&#39;s captured won&#39;t change. Maybe that&#39;s good enough for your purposes but we really can&#39;t help without more information."}, {"owner": {"reputation": 6685, "user_id": 704836, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ea883e4243387730cfbfd69740fac647?s=128&d=identicon&r=PG", "display_name": "casolorz", "link": "https://stackoverflow.com/users/704836/casolorz"}, "edited": false, "score": 0, "creation_date": 1572456356, "post_id": 58628263, "comment_id": 103568648, "body": "It isn&#39;t just that it does more stuff inside the method but also that the method gets called from a couple of other places and I want to make sure that logic is always the same from all those places. I probably need to rework what it is doing to do it that way."}], "answers": [{"comments": [{"owner": {"reputation": 5335, "user_id": 6920962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e62cd73355fc90d37429f9443df38da?s=128&d=identicon&r=PG&f=1", "display_name": "user28434", "link": "https://stackoverflow.com/users/6920962/user28434"}, "edited": false, "score": 0, "creation_date": 1572450294, "post_id": 58628919, "comment_id": 103565409, "body": "While it would definitely work, it worth noting that those are experimental features and may be changed or removed in the future (and warning will remind you about it). Also <code>contract</code> doesn&#39;t have double checks from the compiler, and will trust you even if you will declare invalid &quot;implications&quot;."}, {"owner": {"reputation": 5335, "user_id": 6920962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e62cd73355fc90d37429f9443df38da?s=128&d=identicon&r=PG&f=1", "display_name": "user28434", "link": "https://stackoverflow.com/users/6920962/user28434"}, "edited": false, "score": 1, "creation_date": 1572450377, "post_id": 58628919, "comment_id": 103565463, "body": "Also, <code>possibleNull is String</code> maybe should be replaced with <code>possibleNull != null</code> to remove &quot;hard link&quot; to the type, in case if this function will be used for different type of as a generic. <code>!= null</code> will still work, <code>is String</code> will require refactoring."}, {"owner": {"reputation": 6685, "user_id": 704836, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ea883e4243387730cfbfd69740fac647?s=128&d=identicon&r=PG", "display_name": "casolorz", "link": "https://stackoverflow.com/users/704836/casolorz"}, "edited": false, "score": 0, "creation_date": 1572456145, "post_id": 58628919, "comment_id": 103568561, "body": "Worked perfect but I&#39;ll have to wait until it isn&#39;t experimental since I need it on production. Thank you!"}], "tags": [], "owner": {"reputation": 111, "user_id": 8881488, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uC0O1WDXblg/AAAAAAAAAAI/AAAAAAAAABQ/hPNTF3jALQY/photo.jpg?sz=128", "display_name": "Matthew Jarvis", "link": "https://stackoverflow.com/users/8881488/matthew-jarvis"}, "is_accepted": true, "score": 4, "last_activity_date": 1572452104, "last_edit_date": 1572452104, "creation_date": 1572449778, "answer_id": 58628919, "question_id": 58628263, "link": "https://stackoverflow.com/questions/58628263/how-can-i-let-the-kotlin-compiler-know-i-already-checked-for-null-inside-a-funct/58628919#58628919", "title": "How can I let the Kotlin compiler know I already checked for null inside a function?", "body": "<p>It is possible with the use of <em>contracts</em>. Currently in experimental in Kotlin 1.3.</p>\n\n<blockquote>\n  <p>It is possible to declare contracts for your own functions, but this feature is experimental, as the current syntax is in a state of early prototype and will most probably be changed. Also, please note, that currently the Kotlin compiler does not verify contracts, so it's a programmer's responsibility to write correct and sound contracts. -kotlinlang.org</p>\n</blockquote>\n\n<pre><code>@ExperimentalContracts\nfun stuff() {\n   var possibleNull: String? = \"test\"\n   if (testNull(possibleNull)) {\n      mustPassNonNull(possibleNull)\n   }\n}\n\nfun mustPassNonNull(possibleNull: String) {\n   //use value that isn't null\n}\n\n@ExperimentalContracts\nfun testNull(possibleNull: String?): Boolean {\n   contract{\n      returns(true) implies (possibleNull is String)\n   }\n\n   return possibleNull != null\n}\n</code></pre>\n\n<p>Articles I referenced: </p>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/docs/reference/whatsnew13.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/whatsnew13.html</a></li>\n<li><a href=\"https://blog.kotlin-academy.com/understanding-kotlin-contracts-f255ded41ef2\" rel=\"nofollow noreferrer\">https://blog.kotlin-academy.com/understanding-kotlin-contracts-f255ded41ef2</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 0, "last_activity_date": 1572506571, "creation_date": 1572506571, "answer_id": 58638535, "question_id": 58628263, "link": "https://stackoverflow.com/questions/58628263/how-can-i-let-the-kotlin-compiler-know-i-already-checked-for-null-inside-a-funct/58638535#58638535", "title": "How can I let the Kotlin compiler know I already checked for null inside a function?", "body": "<p>It seems like a simple <code>let</code> situation </p>\n\n<pre><code>private fun stuff() {\n    var possibleNull: String? = \"test\"\n    possibleNull?.let { mustPassNonNull(it) }\n}\n</code></pre>\n\n<p>This way mustPassNonNull will know that it isn't null :)</p>\n\n<p>Also, if you need to do more than just check for nullability you could do:</p>\n\n<pre><code>possibleNull\n    ?.takeIf { /* it's not null here anymore, add any checks you need */}\n    ?.let { /* both non-null and checked for whatever you need */}\n</code></pre>\n"}], "owner": {"reputation": 6685, "user_id": 704836, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ea883e4243387730cfbfd69740fac647?s=128&d=identicon&r=PG", "display_name": "casolorz", "link": "https://stackoverflow.com/users/704836/casolorz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 58628919, "answer_count": 2, "score": 2, "last_activity_date": 1572506571, "creation_date": 1572447707, "question_id": 58628263, "link": "https://stackoverflow.com/questions/58628263/how-can-i-let-the-kotlin-compiler-know-i-already-checked-for-null-inside-a-funct", "title": "How can I let the Kotlin compiler know I already checked for null inside a function?", "body": "<p>Basically I have a function that does some stuff but specifically it checks if two values I'm passing are null. This function is called from various places to make sure those two values are not null. Kotlin is complaining later that I'm not checking for null. Is there a way I can do this so that Kotlin already knows that I am checking for <code>null</code> without using <code>!!</code>? </p>\n\n<p>Here is a simple example:</p>\n\n<pre><code>private fun stuff() {\n    var possibleNull: String? = \"test\"\n    if (testNull(possibleNull)) {\n        mustPassNonNull(possibleNull)\n    }\n}\n\nprivate fun mustPassNonNull(possibleNull: String) {\n    //use value that isn't null\n}\n\nprivate fun testNull(possibleNull: String?): Boolean {\n    return possibleNull != null\n}\n</code></pre>\n\n<p>Basically <code>testNull</code> is only <code>true</code> if <code>possibleNull</code> is not <code>null</code> and that check is on an <code>if</code> right before calling <code>mustPassNonNull</code> so can I let Kotlin know I'm already checking that? without using <code>!!</code> of course. </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["android", "kotlin", "android-drawable", "android-resources"], "answers": [{"comments": [{"owner": {"reputation": 1129, "user_id": 1191678, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/733e90c64bd48ebc0eb2e3e7c1d13592?s=128&d=identicon&r=PG&f=1", "display_name": "Navid Abutorab", "link": "https://stackoverflow.com/users/1191678/navid-abutorab"}, "edited": false, "score": 0, "creation_date": 1572448591, "post_id": 58628253, "comment_id": 103564437, "body": "thanks for reply , I&#39;ve made the changes now I&#39;ve some other problems, could you check my edited post"}, {"owner": {"reputation": 3061, "user_id": 10159898, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mqHUyc2x6w/AAAAAAAAAAI/AAAAAAAAD1g/QPOjkkQJ8Qw/photo.jpg?sz=128", "display_name": "Bruno", "link": "https://stackoverflow.com/users/10159898/bruno"}, "reply_to_user": {"reputation": 1129, "user_id": 1191678, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/733e90c64bd48ebc0eb2e3e7c1d13592?s=128&d=identicon&r=PG&f=1", "display_name": "Navid Abutorab", "link": "https://stackoverflow.com/users/1191678/navid-abutorab"}, "edited": false, "score": 0, "creation_date": 1572448972, "post_id": 58628253, "comment_id": 103564628, "body": "answer edited: you have to use Drawable for example"}], "tags": [], "owner": {"reputation": 3061, "user_id": 10159898, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mqHUyc2x6w/AAAAAAAAAAI/AAAAAAAAD1g/QPOjkkQJ8Qw/photo.jpg?sz=128", "display_name": "Bruno", "link": "https://stackoverflow.com/users/10159898/bruno"}, "is_accepted": false, "score": 1, "last_activity_date": 1572448948, "last_edit_date": 1572448948, "creation_date": 1572447679, "answer_id": 58628253, "question_id": 58628096, "link": "https://stackoverflow.com/questions/58628096/kotlin-get-image-from-image-array-in-drawable-folder/58628253#58628253", "title": "kotlin - get image from image array in drawable folder", "body": "<p>You have to use <a href=\"http://developer.android.com/guide/topics/resources/more-resources.html#TypedArray\" rel=\"nofollow noreferrer\">TypedArray</a></p>\n\n<blockquote>\n  <p>A TypedArray defined in XML. You can use this to create an array of\n  other resources, such as drawables.</p>\n</blockquote>\n\n<p>Example :</p>\n\n<p>XML</p>\n\n<pre><code>&lt;integer-array name=\"drawer_icons\"&gt;\n    &lt;item&gt;@drawable/drawer_home&lt;/item&gt;\n&lt;/integer-array&gt;\n</code></pre>\n\n<p>Kotlin</p>\n\n<pre><code>val imageArray = resources.obtainTypedArray(R.array.drawer_icons)\nval drawable: Drawable = imageArray.getDrawable(0)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1129, "user_id": 1191678, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/733e90c64bd48ebc0eb2e3e7c1d13592?s=128&d=identicon&r=PG&f=1", "display_name": "Navid Abutorab", "link": "https://stackoverflow.com/users/1191678/navid-abutorab"}, "edited": false, "score": 0, "creation_date": 1572448578, "post_id": 58628276, "comment_id": 103564432, "body": "thanks for reply , I&#39;ve made the changes now I&#39;ve some other problems, could you check my edited post ?"}, {"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "reply_to_user": {"reputation": 1129, "user_id": 1191678, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/733e90c64bd48ebc0eb2e3e7c1d13592?s=128&d=identicon&r=PG&f=1", "display_name": "Navid Abutorab", "link": "https://stackoverflow.com/users/1191678/navid-abutorab"}, "edited": false, "score": 0, "creation_date": 1572449107, "post_id": 58628276, "comment_id": 103564712, "body": "@NavidAbutorab this is <code>@DrawableRes imgage: Int</code>"}], "tags": [], "owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "is_accepted": false, "score": 1, "last_activity_date": 1572447737, "creation_date": 1572447737, "answer_id": 58628276, "question_id": 58628096, "link": "https://stackoverflow.com/questions/58628096/kotlin-get-image-from-image-array-in-drawable-folder/58628276#58628276", "title": "kotlin - get image from image array in drawable folder", "body": "<p>This is not just an int array. You should use</p>\n\n<p><code>val imagesArray = resources.obtainTypedArray(R.array.drawer_icons)</code> </p>\n\n<p><code>val icon = imagesArray.getResourceId(position, -1)</code></p>\n\n<p>And don't forget to call <code>imagesArray.recycle()</code> after using it.</p>\n"}, {"tags": [], "owner": {"reputation": 1196, "user_id": 6720648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMFhK.jpg?s=128&g=1", "display_name": "Alok Mishra", "link": "https://stackoverflow.com/users/6720648/alok-mishra"}, "is_accepted": true, "score": 1, "last_activity_date": 1572451595, "last_edit_date": 1572451595, "creation_date": 1572449044, "answer_id": 58628696, "question_id": 58628096, "link": "https://stackoverflow.com/questions/58628096/kotlin-get-image-from-image-array-in-drawable-folder/58628696#58628696", "title": "kotlin - get image from image array in drawable folder", "body": "<p>In Kotlin , you can do as :- </p>\n\n<pre><code> &lt;integer-array name=\"drawer_icons\"&gt;\n    &lt;item&gt;@drawable/drawer_home&lt;/item&gt;\n&lt;/integer-array&gt;\n</code></pre>\n\n<p>// You will get array of Image from resource as TypedArray</p>\n\n<pre><code> val imageArray = resources.obtainTypedArray(R.array.drawer_icons)\n</code></pre>\n\n<p>// get resource ID by the index</p>\n\n<pre><code>imageArray.getResourceId(imageArray.getIndex(0),-1)\n</code></pre>\n\n<p>// OR you can set imageView's resource to the id</p>\n\n<pre><code>imageView.setImageResource(imageArray.getResourceId(imageArray.getIndex(0),-1))\n</code></pre>\n\n<p>// and in last recycle the array</p>\n\n<pre><code>imageArray.recycle()\n</code></pre>\n\n<p>For your extending of question , solution would be :-</p>\n\n<pre><code> data class DrawerModel(var title:String, var img: Int)\n\n val titlesArray=resources.getStringArray(R.array. drawer_titles)\n val imagesArray =resources.obtainTypedArray(R.array. drawer_icons)\n\n val list= ArrayList&lt;DrawerModel&gt;()\n for (i in titlesArray.indices){\n      val model=DrawerModel(titlesArray[i],imagesArray.getResourceId(imagesArray.getIndex(i),-1))\n      list.add(model)\n }\n</code></pre>\n"}], "owner": {"reputation": 1129, "user_id": 1191678, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/733e90c64bd48ebc0eb2e3e7c1d13592?s=128&d=identicon&r=PG&f=1", "display_name": "Navid Abutorab", "link": "https://stackoverflow.com/users/1191678/navid-abutorab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2698, "favorite_count": 0, "accepted_answer_id": 58628696, "answer_count": 3, "score": 0, "last_activity_date": 1572451595, "creation_date": 1572447183, "last_edit_date": 1572448534, "question_id": 58628096, "link": "https://stackoverflow.com/questions/58628096/kotlin-get-image-from-image-array-in-drawable-folder", "title": "kotlin - get image from image array in drawable folder", "body": "<p>I want to return my array of images from resource , this is my array for example : </p>\n\n<pre><code> &lt;integer-array name=\"drawer_icons\"&gt;\n    &lt;item&gt;@drawable/drawer_home&lt;/item&gt;\n&lt;/integer-array&gt;\n</code></pre>\n\n<p>I get the array by this code: </p>\n\n<pre><code>val imagesArray =resources.getIntArray(R.array.drawer_icons)\n</code></pre>\n\n<p>the problem is , after the above code ,imagesArray has a value of 0 </p>\n\n<p>how can I return drawable array from resources ?</p>\n\n<hr>\n\n<p>EDIT:\nI've made some changes in my codes, I've got another problem , I need to make a data class from these arrays , this is my code: </p>\n\n<pre><code>data class DrawerModel(var title:String, var img: Any)\n\nval titlesArray=resources.getStringArray(R.array.drawer_titles)\n    val imagesArray =resources.obtainTypedArray(R.array.drawer_icons)\n\n    val list= ArrayList&lt;DrawerModel&gt;()\n    for (i in titlesArray.indices){\n        val model=DrawerModel(titlesArray[i],imagesArray[i])\n        list.add(model)\n    }\n</code></pre>\n\n<p>I've an error on imagesArray[i] , what should be the type of img in DrawerModel class? I've tried any , Int , String but non of them works </p>\n"}, {"tags": ["kotlin", "kotlin-reified-type-parameters"], "answers": [{"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 3, "last_activity_date": 1572462241, "last_edit_date": 1572462241, "creation_date": 1572449750, "answer_id": 58628905, "question_id": 58627671, "link": "https://stackoverflow.com/questions/58627671/kotlin-trying-to-use-reified-types-to-parse-lists-and-arrays/58628905#58628905", "title": "Kotlin. Trying to use reified types to parse Lists and Arrays", "body": "<p>In this case, <code>reified</code> helps to propagate the type's class, but there's still type erasure.<br>\nTo avoid that, you can use something like <code>JavaType</code>:</p>\n\n<pre><code>inline fun &lt;reified V&gt; String.parseList(): List&lt;V&gt; {\n    return objectMapper.readValue(this, objectMapper.getTypeFactory()\n        .constructCollectionType(List::class.java, V::class.java))\n}\n</code></pre>\n\n<p>Note that without <code>reified</code> we wouldn't be able to use <code>V::class.java</code></p>\n\n<p>Now to answer your second question, how come that although <code>val actual</code> is <code>List&lt;User&gt;</code>, you get <code>ClassCastException</code> - the answer is again type erasure, with some obfuscation of platform types.</p>\n\n<p>If you look at what this function returns (it's your function without <code>asList()</code> call:</p>\n\n<pre><code>inline fun &lt;reified V&gt; String.parseList() = \n        objectMapper.readValue(this, Array&lt;V&gt;::class.java)\n</code></pre>\n\n<p>You'll notice it returns <code>Array&lt;???&gt;!</code>, which is Kotlin's way of saying \"it's something from Java, I hope it will work, but I can't promise\". Now by calling <code>toList()</code> this relaxes the compiler, saying \"yeah, in the end we return a Kotlin type, it will be alright\". But that's a false promise, actually. </p>\n\n<p>What you get is <code>Array&lt;Any&gt;</code> filled with <code>LinkedHashMap</code>, which of course fail when they're being cast to <code>User</code> based on a false promise we've given the compiler.</p>\n"}, {"comments": [{"owner": {"reputation": 596, "user_id": 4515050, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/88TBE.jpg?s=128&g=1", "display_name": "StephanS", "link": "https://stackoverflow.com/users/4515050/stephans"}, "edited": false, "score": 1, "creation_date": 1572520250, "post_id": 58628915, "comment_id": 103589510, "body": "This is Kotlin so you should probably use Spring Templates when constructing the name: <code>Class.forName( &quot;[L${V::class.java.name};&quot;)</code>"}, {"owner": {"reputation": 986, "user_id": 1073584, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/6prLg.jpg?s=128&g=1", "display_name": "ludenus", "link": "https://stackoverflow.com/users/1073584/ludenus"}, "edited": false, "score": 0, "creation_date": 1572617390, "post_id": 58628915, "comment_id": 103624480, "body": "Interesting trick. So I have to  use string concatenation in statically typed language to correctly resolve types... WIll keep that in mind."}], "tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": false, "score": 1, "last_activity_date": 1572641731, "last_edit_date": 1572641731, "creation_date": 1572449774, "answer_id": 58628915, "question_id": 58627671, "link": "https://stackoverflow.com/questions/58627671/kotlin-trying-to-use-reified-types-to-parse-lists-and-arrays/58628915#58628915", "title": "Kotlin. Trying to use reified types to parse Lists and Arrays", "body": "<p>It fails because of <code>Array&lt;V&gt;::class.java</code> always returning class of <code>Array&lt;Any&gt;</code>. You can see it by executing the following code:</p>\n\n<pre><code>printReifiedArr&lt;String&gt;() // prints `class [Ljava.lang.Object;`\n\ninline fun &lt;reified V&gt; printReifiedArr() {\n    println(Array&lt;V&gt;::class.java)\n}\n</code></pre>\n\n<p>Your function can be fixed by replacing <code>Array&lt;V&gt;::class.java</code> with a <a href=\"https://stackoverflow.com/questions/4901128/obtaining-the-array-class-of-a-component-type\">manual array class obtaining</a>:</p>\n\n<pre><code>inline fun &lt;reified V&gt; String.parseList(): List&lt;V&gt; = objectMapper\n                .readValue(this, Class.forName(\"[L${V::class.java.name};\") as Class&lt;Array&lt;V&gt;&gt;).toList()\n</code></pre>\n\n<p><em>Note: this approach uses boxed version of primitives array, other approaches can be found <a href=\"https://stackoverflow.com/questions/4901128/obtaining-the-array-class-of-a-component-type\">here</a>.</em></p>\n"}, {"tags": [], "owner": {"reputation": 986, "user_id": 1073584, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/6prLg.jpg?s=128&g=1", "display_name": "ludenus", "link": "https://stackoverflow.com/users/1073584/ludenus"}, "is_accepted": false, "score": 1, "last_activity_date": 1572618127, "creation_date": 1572618127, "answer_id": 58660817, "question_id": 58627671, "link": "https://stackoverflow.com/questions/58627671/kotlin-trying-to-use-reified-types-to-parse-lists-and-arrays/58660817#58660817", "title": "Kotlin. Trying to use reified types to parse Lists and Arrays", "body": "<p>i finally end up with yet another solution, that seems to handle both single entities and lists</p>\n\n<pre><code>    inline fun &lt;reified V&gt; String.parse(): V = objectMapper.readValue(this, object : TypeReference&lt;V&gt;() {})\n\n@Test\nfun checkParseSingle() {\n    val jsonSingle: String = \"\"\"{\"name\":\"Carol\",\"age\":3}\"\"\"\n    val expectedSingle: String = \"User(name=Carol, age=3)\"\n\n    val actual: User = jsonSingle.parse&lt;User&gt;()\n    Assert.assertEquals(actual.toString(), expectedSingle)\n}\n\n@Test\nfun checkParseList() {\n    val jsonList: String = \"\"\"[{\"name\":\"Alice\",\"age\":1},{\"name\":\"Bob\",\"age\":2}]\"\"\"\n    val expectedList: String = \"[User(name=Alice, age=1), User(name=Bob, age=2)]\"\n\n    val actual: List&lt;User&gt; = jsonList.parse&lt;List&lt;User&gt;&gt;()\n    Assert.assertEquals(actual.toString(), expectedList)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26755, "user_id": 226895, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/c2EjL.jpg?s=128&g=1", "display_name": "expert", "link": "https://stackoverflow.com/users/226895/expert"}, "is_accepted": false, "score": 0, "last_activity_date": 1573401062, "creation_date": 1573401062, "answer_id": 58790301, "question_id": 58627671, "link": "https://stackoverflow.com/questions/58627671/kotlin-trying-to-use-reified-types-to-parse-lists-and-arrays/58790301#58790301", "title": "Kotlin. Trying to use reified types to parse Lists and Arrays", "body": "<p>You need to capture generic type which <code>T:class.java</code> won't give. But following will work for any generic type</p>\n\n<pre><code>inline fun &lt;reified T&gt; jacksonTypeRef(): TypeReference&lt;T&gt; = object: TypeReference&lt;T&gt;() {}\n\ninline fun &lt;reified T : Any&gt; String.parseJson(): T {\n    return objectMapper.readValue(this, jacksonTypeRef&lt;T&gt;())\n}\n</code></pre>\n"}], "owner": {"reputation": 986, "user_id": 1073584, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/6prLg.jpg?s=128&g=1", "display_name": "ludenus", "link": "https://stackoverflow.com/users/1073584/ludenus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1573401062, "creation_date": 1572445876, "last_edit_date": 1572446779, "question_id": 58627671, "link": "https://stackoverflow.com/questions/58627671/kotlin-trying-to-use-reified-types-to-parse-lists-and-arrays", "title": "Kotlin. Trying to use reified types to parse Lists and Arrays", "body": "<p>I am trying to use reified type when parsing json.\nIt works perfectly with single json entry, but fails with list.</p>\n\n<p>QUESTIONS:</p>\n\n<ol>\n<li>What am I missing in String.parseList() method?</li>\n<li>How come ClassCastException upon .first() despite assignment passed one line earlier?</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>    package qa\n\n    import com.fasterxml.jackson.databind.ObjectMapper\n    import org.slf4j.LoggerFactory\n    import org.testng.Assert\n    import org.testng.annotations.Test\n\n    class ReifiedParseListTest {\n\n        data class User(var name: String = \"userName\", var age: Int = 0)\n\n        val log = LoggerFactory.getLogger(this.javaClass.name)\n        val objectMapper = ObjectMapper()\n        val json: String = \"\"\"[{\"name\":\"Alice\",\"age\":1},{\"name\":\"Bob\",\"age\":2}]\"\"\"\n        val expected: String = \"[User(name=Alice, age=1), User(name=Bob, age=2)]\"\n\n\n        inline fun &lt;reified V&gt; String.parseList(): List&lt;V&gt; = objectMapper\n                .readValue(this, Array&lt;V&gt;::class.java).toList()\n\n\n        @Test\n        fun checkParseList_OK() {\n            val actual: List&lt;User&gt; = objectMapper\n                    .readValue(json, Array&lt;User&gt;::class.java).toList()\n\n            log.info(\"actual.first() is of type: {}\", actual.first().javaClass)\n            Assert.assertEquals(actual.toString(), expected)\n        }\n\n        @Test\n        fun checkParseListReified_FAILS() {\n            val actual: List&lt;User&gt; = json.parseList&lt;User&gt;()\n            Assert.assertEquals(actual.toString(), expected)\n            // java.lang.AssertionError:\n            // Expected :[User(name=Alice, age=1), User(name=Bob, age=2)]\n            // Actual   :[{name=Alice, age=1}, {name=Bob, age=2}]\n        }\n\n        @Test\n        fun checkParseListReifiedClassCast_FAILS() {\n            val actual: List&lt;User&gt; = json.parseList&lt;User&gt;()\n            log.info(\"actual.first() is of type: {}\", actual.first().javaClass)\n            // java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to qa.ReifiedParseListTest$User\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "service", "phone-call", "android-dialer"], "answers": [{"tags": [], "owner": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "is_accepted": true, "score": 1, "last_activity_date": 1572443877, "creation_date": 1572443877, "answer_id": 58627028, "question_id": 58626898, "link": "https://stackoverflow.com/questions/58626898/how-to-intent-dialer-call-from-service/58627028#58627028", "title": "How to intent dialer call from service?", "body": "<p><code>\"SOMENUMBER\".toUri()</code></p>\n\n<p>should be </p>\n\n<p><code>\"tel:SOMENUMBER\".toUri()</code></p>\n\n<p><a href=\"https://developer.android.com/reference/android/content/Intent.html#ACTION_CALL\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/content/Intent.html#ACTION_CALL</a></p>\n\n<blockquote>\n  <p>Input: If nothing, an empty dialer is started; else getData() is URI of a phone number to be dialed or a tel: URI of an explicit phone number.</p>\n</blockquote>\n\n<p>Other related questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/10510395/call-intent-in-android\">Call intent in Android</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/15842328/android-intent-action-call-uri\">Android Intent.ACTION_CALL, Uri</a></p>\n"}], "owner": {"reputation": 33, "user_id": 11984073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1157d0cf525aa72c0b78c4606d887ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Cacarilo", "link": "https://stackoverflow.com/users/11984073/cacarilo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 58627028, "answer_count": 1, "score": 0, "last_activity_date": 1572443877, "creation_date": 1572443407, "question_id": 58626898, "link": "https://stackoverflow.com/questions/58626898/how-to-intent-dialer-call-from-service", "title": "How to intent dialer call from service?", "body": "<p>I am using this <a href=\"https://github.com/arekolek/simple-phone\" rel=\"nofollow noreferrer\">this dialer example</a> as basement.\nI have added some service(foreground) from where i should dial a call.\nHow can i make it?</p>\n\n<p>I have this in Service(onStartCommand) </p>\n\n<pre><code>    if (checkSelfPermission(this, CALL_PHONE) == PERMISSION_GRANTED) {\n        val uri = \"SOMENUMBER\".toUri()\n        startActivity(Intent(Intent.ACTION_CALL, uri).addFlags(Intent.FLAG_ACTIVITY_NEW_TASK))\n    }\n</code></pre>\n\n<p>But i does not work in service.\nError log:</p>\n\n<pre><code>Process: *.*.*, PID: 2789\njava.lang.RuntimeException: Unable to start service *.*.*.*.Service@ab2ea53 with Intent { cmp=*.*.*/.*.Service (has extras) }: android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.CALL dat=PHONENUMBER flg=0x10000000 }\n</code></pre>\n\n<p>What should i do to make it work? And which ways are more right(if mays>1)?</p>\n"}, {"tags": ["spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "edited": false, "score": 0, "creation_date": 1572442278, "post_id": 58626440, "comment_id": 103560572, "body": "could you post your build.gradle file please."}, {"owner": {"reputation": 1007, "user_id": 1979953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/IpSny.png?s=128&g=1", "display_name": "shingo.nakanishi", "link": "https://stackoverflow.com/users/1979953/shingo-nakanishi"}, "reply_to_user": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "edited": false, "score": 0, "creation_date": 1572443404, "post_id": 58626440, "comment_id": 103561214, "body": "@Dean I can not found <code>build.gradle</code>. only found <code>build.gradle.kts</code>. you mean this? I add <code>build.gradle.kts</code> to the question. where is <code>build.gradle</code>?"}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 2, "creation_date": 1572443553, "post_id": 58626440, "comment_id": 103561289, "body": "You must include <code>spring-boot-starter-web</code> which includes the web dependencies. You haven&#39;t so there is nothing providing the needed dependencies, hence you get these errors. Judging by the content of the tutorial you haven&#39;t followed it as it clearly states you should add the dependency to <code>Spring Web</code> (others mentioned in the tutorial are missing as well)."}, {"owner": {"reputation": 1007, "user_id": 1979953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/IpSny.png?s=128&g=1", "display_name": "shingo.nakanishi", "link": "https://stackoverflow.com/users/1979953/shingo-nakanishi"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1572444421, "post_id": 58626440, "comment_id": 103561847, "body": "@M.Deinum Ah. That was true. Since it was folded, I missed it. thank you."}], "answers": [{"tags": [], "owner": {"reputation": 1007, "user_id": 1979953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/IpSny.png?s=128&g=1", "display_name": "shingo.nakanishi", "link": "https://stackoverflow.com/users/1979953/shingo-nakanishi"}, "is_accepted": true, "score": 0, "last_activity_date": 1590975019, "last_edit_date": 1590975019, "creation_date": 1572445043, "answer_id": 58627395, "question_id": 58626440, "link": "https://stackoverflow.com/questions/58626440/task-compilekotlin-failed-unresolved-reference-web-unresolved-reference-get/58627395#58627395", "title": "Task :compileKotlin FAILED. Unresolved reference: web, Unresolved reference: GetMapping", "body": "<p><a href=\"https://spring.io/guides/tutorials/spring-boot-kotlin/\" rel=\"nofollow noreferrer\">Tutorial \u00b7 Building web applications with Spring Boot and Kotlin</a></p>\n\n<p>As you can see in the Gradle Build section of the tutorial:</p>\n\n<blockquote>\n  <p>Dependencies 3 Kotlin specific libraries are required for such Spring\n  Boot web application and configured by default:</p>\n</blockquote>\n\n<p>You will need to add the following code to <code>build.gradle.kts</code>.</p>\n\n<pre><code>dependencies {\n  implementation(\"org.springframework.boot:spring-boot-starter-data-jpa\")\n  implementation(\"org.springframework.boot:spring-boot-starter-mustache\")\n  implementation(\"org.springframework.boot:spring-boot-starter-web\")\n  implementation(\"com.fasterxml.jackson.module:jackson-module-kotlin\")\n  implementation(\"org.jetbrains.kotlin:kotlin-reflect\")\n  implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n  runtimeOnly(\"com.h2database:h2:1.4.200\") // See https://github.com/spring-projects/spring-boot/issues/18593 and https://github.com/h2database/h2database/issues/1841\n  runtimeOnly(\"org.springframework.boot:spring-boot-devtools\")\n  testImplementation(\"org.springframework.boot:spring-boot-starter-test\")\n}\n</code></pre>\n\n<p>I didn't do what @M.Deinum had said.</p>\n"}, {"tags": [], "owner": {"reputation": 379, "user_id": 8033562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d75ce61d36f838e3fca5e12ad5b8678?s=128&d=identicon&r=PG", "display_name": "Geoff Langenderfer", "link": "https://stackoverflow.com/users/8033562/geoff-langenderfer"}, "is_accepted": false, "score": 0, "last_activity_date": 1584679853, "last_edit_date": 1584679853, "creation_date": 1584661571, "answer_id": 60766651, "question_id": 58626440, "link": "https://stackoverflow.com/questions/58626440/task-compilekotlin-failed-unresolved-reference-web-unresolved-reference-get/60766651#60766651", "title": "Task :compileKotlin FAILED. Unresolved reference: web, Unresolved reference: GetMapping", "body": "<h2>Similar Error</h2>\n\n<pre><code>geoff@DESKTOP-DSQFUUU:~/work/springProjects/blog$ ./gradlew bootRun\n\n&gt; Task :compileKotlin FAILED\ne: /home/geoff/work/springProjects/blog/src/main/kotlin/com/example/blog/IntegrationTests.kt: (3, 12): Unresolved reference: assertj\n</code></pre>\n\n<h2>Solution</h2>\n\n<ul>\n<li>move the test file to the test folder</li>\n</ul>\n\n<h3>Directory Before</h3>\n\n<pre><code>src/\n\u251c\u2500\u2500 main\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 kotlin\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 com\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 example\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 blog\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0             \u251c\u2500\u2500 BlogApplication.kt\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0             \u251c\u2500\u2500 HtmlController.kt\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0             \u2514\u2500\u2500 IntegrationTests.kt\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 resources\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 application.properties\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 junit-platform-properties\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 static\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 templates\n\u2502\u00a0\u00a0         \u251c\u2500\u2500 blog.mustache\n\u2502\u00a0\u00a0         \u251c\u2500\u2500 footer.mustache\n\u2502\u00a0\u00a0         \u2514\u2500\u2500 header.mustache\n\u2514\u2500\u2500 test\n    \u2514\u2500\u2500 kotlin\n        \u2514\u2500\u2500 com\n            \u2514\u2500\u2500 example\n                \u2514\u2500\u2500 blog\n                    \u2514\u2500\u2500 BlogApplicationTests.kt\n\n13 directories, 9 files\n</code></pre>\n\n<h3>Directory After</h3>\n\n<pre><code>src/\n\u251c\u2500\u2500 main\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 kotlin\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 com\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 example\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 blog\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0             \u251c\u2500\u2500 BlogApplication.kt\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0             \u2514\u2500\u2500 HtmlController.kt\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 resources\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 application.properties\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 junit-platform-properties\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 static\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 templates\n\u2502\u00a0\u00a0         \u251c\u2500\u2500 blog.mustache\n\u2502\u00a0\u00a0         \u251c\u2500\u2500 footer.mustache\n\u2502\u00a0\u00a0         \u2514\u2500\u2500 header.mustache\n\u2514\u2500\u2500 test\n    \u2514\u2500\u2500 kotlin\n        \u2514\u2500\u2500 com\n            \u2514\u2500\u2500 example\n                \u2514\u2500\u2500 blog\n                    \u251c\u2500\u2500 BlogApplicationTests.kt\n                    \u2514\u2500\u2500 IntegrationTests.kt\n\n13 directories, 9 files\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>geoff@DESKTOP-DSQFUUU:~/work/springProjects/blog$ ./gradlew bootRun\n&gt; Task :compileKotlin UP-TO-DATE\n&gt; Task :compileJava NO-SOURCE\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes UP-TO-DATE\n\n&gt; Task :bootRun\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.5.RELEASE)\n\n</code></pre>\n"}], "owner": {"reputation": 1007, "user_id": 1979953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/IpSny.png?s=128&g=1", "display_name": "shingo.nakanishi", "link": "https://stackoverflow.com/users/1979953/shingo-nakanishi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3274, "favorite_count": 0, "accepted_answer_id": 58627395, "answer_count": 2, "score": 1, "last_activity_date": 1590975019, "creation_date": 1572442032, "last_edit_date": 1590974669, "question_id": 58626440, "link": "https://stackoverflow.com/questions/58626440/task-compilekotlin-failed-unresolved-reference-web-unresolved-reference-get", "title": "Task :compileKotlin FAILED. Unresolved reference: web, Unresolved reference: GetMapping", "body": "<p>I asked this question.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/58579752/how-to-start-the-web-application-with-spring-boot-and-kotlin\">gradle - How to start the web application with Spring Boot and Kotlin - Stack Overflow</a></p>\n\n<p>I got an error:</p>\n\n<pre><code>% ./gradlew bootRun --stacktrace\n\n&gt; Task :compileKotlin FAILED\ne: /Users/shingonakanishi/Documents/src/spring/blog/blog/src/main/kotlin/com/example/blog/HtmlController.kt: (6, 28): Unresolved reference: web\ne: /Users/shingonakanishi/Documents/src/spring/blog/blog/src/main/kotlin/com/example/blog/HtmlController.kt: (11, 4): Unresolved reference: GetMapping\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileKotlin'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.accept(ExecuteActionsTaskExecuter.java:166)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.accept(ExecuteActionsTaskExecuter.java:163)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:191)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:156)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:62)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:108)\n        at org.gradle.api.internal.tasks.execution.ResolveBeforeExecutionOutputsTaskExecuter.execute(ResolveBeforeExecutionOutputsTaskExecuter.java:67)\n        at org.gradle.api.internal.tasks.execution.ResolveAfterPreviousExecutionStateTaskExecuter.execute(ResolveAfterPreviousExecutionStateTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:94)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:95)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.api.GradleException: Compilation error. See log for more details\n        at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:16)\n        at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.processCompilerExitCode(Tasks.kt:441)\n        at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:403)\n        at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:297)\n        at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:259)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:103)\n        at org.gradle.api.internal.project.taskfactory.IncrementalTaskInputsTaskAction.doExecute(IncrementalTaskInputsTaskAction.java:47)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:42)\n        at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$5.run(ExecuteActionsTaskExecuter.java:476)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:461)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:444)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$200(ExecuteActionsTaskExecuter.java:93)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:237)\n        at org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$0(ExecuteStep.java:32)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:32)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\n        at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:58)\n        at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:35)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:33)\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:39)\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:73)\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:54)\n        at org.gradle.internal.execution.steps.CatchExceptionStep.execute(CatchExceptionStep.java:35)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n        at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:45)\n        at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:31)\n        at org.gradle.internal.execution.steps.CacheStep.executeWithoutCache(CacheStep.java:208)\n        at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:70)\n        at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:45)\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:49)\n        at org.gradle.internal.execution.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:43)\n        at org.gradle.internal.execution.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:32)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:38)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:24)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:96)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:89)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:54)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:76)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:37)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:36)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:26)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:90)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:48)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:69)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:47)\n        at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:33)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:140)\n        ... 34 more\n\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\n</code></pre>\n\n<p>My <code>HtmlController.kt</code> same as <a href=\"https://spring.io/guides/tutorials/spring-boot-kotlin/\" rel=\"nofollow noreferrer\">Tutorial \u00b7 Building web applications with Spring Boot and Kotlin</a>. Why does this error occur? I'm writing the controller as the tutorial.</p>\n\n<p>Is the import target different?\nOr is the gradle version different?</p>\n\n<p>HtmlController:</p>\n\n<pre><code>package com.example.blog\n\nimport org.springframework.stereotype.Controller\nimport org.springframework.ui.Model\nimport org.springframework.ui.set\nimport org.springframework.web.bind.annotation.GetMapping\n\n@Controller\nclass HtmlController {\n\n  @GetMapping(\"/\")\n  fun blog(model: Model): String {\n    model[\"title\"] = \"Blog\"\n    return \"blog\"\n  }\n\n}\n</code></pre>\n\n<p>build.gradle.kts:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(\"org.springframework.boot\") version \"2.1.9.RELEASE\"\n    id(\"io.spring.dependency-management\") version \"1.0.8.RELEASE\"\n    kotlin(\"jvm\") version \"1.2.71\"\n    kotlin(\"plugin.spring\") version \"1.2.71\"\n}\n\ngroup = \"com.example\"\nversion = \"0.0.1-SNAPSHOT\"\njava.sourceCompatibility = JavaVersion.VERSION_1_8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(\"org.springframework.boot:spring-boot-starter\")\n    implementation(\"org.jetbrains.kotlin:kotlin-reflect\")\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    testImplementation(\"org.springframework.boot:spring-boot-starter-test\")\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(\"-Xjsr305=strict\")\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1572442181, "post_id": 58626432, "comment_id": 103560519, "body": "Show your response on Postman and why you put call back void ?"}, {"owner": {"reputation": 2394, "user_id": 5974659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ab982a491d36319cbcde99792f0123?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Mehar", "link": "https://stackoverflow.com/users/5974659/anas-mehar"}, "edited": false, "score": 0, "creation_date": 1572442363, "post_id": 58626432, "comment_id": 103560622, "body": "Pass @body for raw json"}, {"owner": {"reputation": 69, "user_id": 9796661, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zv3sgDnHKm0/AAAAAAAAAAI/AAAAAAAAAA4/BDY70b-EEnU/photo.jpg?sz=128", "display_name": "Mark", "link": "https://stackoverflow.com/users/9796661/mark"}, "reply_to_user": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1572442479, "post_id": 58626432, "comment_id": 103560691, "body": "@Ashish I use call back void because response body is empty. Postman shows empty body and Status: 200"}], "answers": [{"comments": [{"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "reply_to_user": {"reputation": 69, "user_id": 9796661, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zv3sgDnHKm0/AAAAAAAAAAI/AAAAAAAAAA4/BDY70b-EEnU/photo.jpg?sz=128", "display_name": "Mark", "link": "https://stackoverflow.com/users/9796661/mark"}, "edited": false, "score": 0, "creation_date": 1572442788, "post_id": 58626577, "comment_id": 103560868, "body": "could you paste the throwable&#39;s stacktrace?"}, {"owner": {"reputation": 69, "user_id": 9796661, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zv3sgDnHKm0/AAAAAAAAAAI/AAAAAAAAAA4/BDY70b-EEnU/photo.jpg?sz=128", "display_name": "Mark", "link": "https://stackoverflow.com/users/9796661/mark"}, "edited": false, "score": 0, "creation_date": 1572443496, "post_id": 58626577, "comment_id": 103561268, "body": "I&#39;ve got this error <code>CLEARTEXT communication to &#39;myUrl&#39; not permitted by network security policy</code>"}, {"owner": {"reputation": 69, "user_id": 9796661, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zv3sgDnHKm0/AAAAAAAAAAI/AAAAAAAAAA4/BDY70b-EEnU/photo.jpg?sz=128", "display_name": "Mark", "link": "https://stackoverflow.com/users/9796661/mark"}, "edited": false, "score": 0, "creation_date": 1572445238, "post_id": 58626577, "comment_id": 103562333, "body": "Working perfectly. Thank you!"}], "tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": true, "score": 1, "last_activity_date": 1572444063, "last_edit_date": 1572444063, "creation_date": 1572442469, "answer_id": 58626577, "question_id": 58626432, "link": "https://stackoverflow.com/questions/58626432/retrofit-post-with-request-body-without-response-body/58626577#58626577", "title": "Retrofit. POST with request body without response body", "body": "<p>Using POST you'll probably not use @Query, but rather a @Body. E.g.</p>\n\n<pre><code>data class LoginRequest(\nval userLogin: String,\nval userPassword: String\n)\n</code></pre>\n\n<p>and in your interface :</p>\n\n<pre><code> @POST(\"login\")\n    fun userLogin(@Body request: LoginRequest):Call&lt;Void&gt;\n</code></pre>\n\n<p>EDIT:\nSince it's an issue with ClearText:\nYou need to add <code>android:usesCleartextTraffic=\"true\"</code> to your AndroidManifest.\nRefer to \n<a href=\"https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted\">Android 8: Cleartext HTTP traffic not permitted</a>\nOption 2 for more info.</p>\n"}, {"tags": [], "owner": {"reputation": 232, "user_id": 9955312, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7V_DfehqGM8/AAAAAAAAAAI/AAAAAAAAABs/mQptZGzVplc/photo.jpg?sz=128", "display_name": "Aditya Jaitly", "link": "https://stackoverflow.com/users/9955312/aditya-jaitly"}, "is_accepted": false, "score": 1, "last_activity_date": 1572443914, "last_edit_date": 1572443914, "creation_date": 1572443448, "answer_id": 58626904, "question_id": 58626432, "link": "https://stackoverflow.com/questions/58626432/retrofit-post-with-request-body-without-response-body/58626904#58626904", "title": "Retrofit. POST with request body without response body", "body": "<p>Use @Body instead of @Query</p>\n\n<pre><code>  @Headers(\"Content-Type: application/json\")\n  @POST(\"login\")\n  fun userLogin(@Body rawParams: String):Call&lt;Void&gt;\n</code></pre>\n\n<p>Then you can create parameter like this</p>\n\n<pre><code>  val params= JSONObject()\n  params.put(\"userLogin\",\"Mark\")\n  params.put(\"userPassword\",\"Pencil\")\n</code></pre>\n\n<p>Last change in </p>\n\n<pre><code> val call = service.userLogin(params.toString())\n</code></pre>\n\n<p>Error Solution for cleartext is \nCreate file </p>\n\n<pre><code>   res/xml/network_security_config.xml\n\n   &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"true\"&gt;\n    &lt;trust-anchors&gt;\n        &lt;certificates src=\"system\" /&gt;\n    &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n    &lt;/network-security-config&gt;\n</code></pre>\n\n<p>And Then Add in Manifest</p>\n\n<pre><code> &lt;application \n      android:networkSecurityConfig=\"@xml/network_security_config\"\n    ...&gt;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 9796661, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zv3sgDnHKm0/AAAAAAAAAAI/AAAAAAAAAA4/BDY70b-EEnU/photo.jpg?sz=128", "display_name": "Mark", "link": "https://stackoverflow.com/users/9796661/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 58626577, "answer_count": 2, "score": 0, "last_activity_date": 1572444063, "creation_date": 1572442020, "question_id": 58626432, "link": "https://stackoverflow.com/questions/58626432/retrofit-post-with-request-body-without-response-body", "title": "Retrofit. POST with request body without response body", "body": "<p>I try to POST these login and password</p>\n\n<pre><code>{\n    \"userLogin\": \"Mark\",\n    \"userPassword\": \"Pencil\"\n}\n</code></pre>\n\n<p>According to POSTMAN, where I put above JSON as a raw code, I got an empty response body and response code: 200 (Logging is succesful). But I can't achieve it in Android Studio. Here is an API interface</p>\n\n<pre><code>interface LoginService {\n    @POST(\"login\")\n    fun userLogin(\n        @Query(\"userLogin\") userLogin: String,\n        @Query(\"userPassword\") userPassword: String\n    ):Call&lt;Void&gt;\n}\n</code></pre>\n\n<p>And here is Retrofit:</p>\n\n<pre><code>fun checkLoginData() {\n        val retrofit = Retrofit.Builder()\n            .baseUrl(\"myurl...\")\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n        val service = retrofit.create(LoginService::class.java)\n        val call = service.userLogin(\"Mark\", \"Pencil\")\n\n        call.enqueue(object : Callback&lt;Void&gt;{\n            override fun onResponse(call: Call&lt;Void&gt;, response: Response&lt;Void&gt;) {\n            if(response.code() == 200){\n                Toast.makeText(applicationContext,\"Logged in\", Toast.LENGTH_SHORT).show()\n\n            }\n        }\n\n            override fun onFailure(call: Call&lt;Void&gt;, t: Throwable) {\n            Toast.makeText(applicationContext,\"Error\", Toast.LENGTH_SHORT).show()\n        }\n\n    })\n}\n</code></pre>\n\n<p>I suppose that my <code>LoginService</code> is created incorrectly because there is always onFailure response. How should I do it rightly?</p>\n"}, {"tags": ["kotlin", "kotlin-flow"], "comments": [{"owner": {"reputation": 1135, "user_id": 6167844, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ngLbDdXE968/AAAAAAAAAAI/AAAAAAAAAC8/u-537tKvkvY/photo.jpg?sz=128", "display_name": "Dominic Fischer", "link": "https://stackoverflow.com/users/6167844/dominic-fischer"}, "edited": false, "score": 0, "creation_date": 1572439242, "post_id": 58625271, "comment_id": 103558766, "body": "There isn&#39;t one right now, so you&#39;ll have to write one."}, {"owner": {"reputation": 1135, "user_id": 6167844, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ngLbDdXE968/AAAAAAAAAAI/AAAAAAAAAC8/u-537tKvkvY/photo.jpg?sz=128", "display_name": "Dominic Fischer", "link": "https://stackoverflow.com/users/6167844/dominic-fischer"}, "edited": false, "score": 0, "creation_date": 1572445705, "post_id": 58625271, "comment_id": 103562653, "body": "I just attempted writing one and it seems counter-intuitive. Keeping in mind that Flows are cold and sequential, what do you want this <code>groupBy</code> function to return? How do you want back-pressure to be handled between the groups?"}], "answers": [{"tags": [], "owner": {"reputation": 1135, "user_id": 6167844, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ngLbDdXE968/AAAAAAAAAAI/AAAAAAAAAC8/u-537tKvkvY/photo.jpg?sz=128", "display_name": "Dominic Fischer", "link": "https://stackoverflow.com/users/6167844/dominic-fischer"}, "is_accepted": false, "score": 0, "last_activity_date": 1572478204, "creation_date": 1572478204, "answer_id": 58634991, "question_id": 58625271, "link": "https://stackoverflow.com/questions/58625271/groupby-operator-for-kotlin-flow/58634991#58634991", "title": "GroupBy operator for Kotlin Flow", "body": "<p>Not yet but you can have a look at this library <a href=\"https://github.com/akarnokd/kotlin-flow-extensions\" rel=\"nofollow noreferrer\">https://github.com/akarnokd/kotlin-flow-extensions</a> .</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 10, "last_activity_date": 1573040388, "last_edit_date": 1573040388, "creation_date": 1572764150, "answer_id": 58678049, "question_id": 58625271, "link": "https://stackoverflow.com/questions/58625271/groupby-operator-for-kotlin-flow/58678049#58678049", "title": "GroupBy operator for Kotlin Flow", "body": "<p>As of Kotlin Coroutines 1.3, the standard library doesn't seem to provide this operator. However, since the design of <code>Flow</code> is such that all operators are extension functions, there is no fundamental distinction between the standard library providing it and you writing your own.</p>\n\n<p>With that in mind, here are some of my ideas on how to approach it.</p>\n\n<h3>1. Collect Each Group to a List</h3>\n\n<p>If you just need a list of all items for each key, use this simple implementation that emits pairs of <code>(K, List&lt;T&gt;)</code>:</p>\n\n<pre><code>fun &lt;T, K&gt; Flow&lt;T&gt;.groupToList(getKey: (T) -&gt; K): Flow&lt;Pair&lt;K, List&lt;T&gt;&gt;&gt; = flow {\n    val storage = mutableMapOf&lt;K, MutableList&lt;T&gt;&gt;()\n    collect { t -&gt; storage.getOrPut(getKey(t)) { mutableListOf() } += t }\n    storage.forEach { (k, ts) -&gt; emit(k to ts) }\n}\n</code></pre>\n\n<p>For this example:</p>\n\n<pre><code>suspend fun main() {\n    val input = 1..10\n    input.asFlow()\n            .groupToList { it % 2 }\n            .collect { println(it) }\n}\n</code></pre>\n\n<p>it prints</p>\n\n<pre><code>(1, [1, 3, 5, 7, 9])\n(0, [2, 4, 6, 8, 10])\n</code></pre>\n\n<h3>2.a Emit a Flow for Each Group</h3>\n\n<p>If you need the full RxJava semantics where you transform the input flow into many output flows (one per distinct key), things get more involved. </p>\n\n<p>Whenever you see a new key in the input, you must emit a new inner flow to the downstream and then, asynchronously, keep pushing more data into it whenever you encounter the same key again.</p>\n\n<p>Here's an implementation that does this:</p>\n\n<pre><code>fun &lt;T, K&gt; Flow&lt;T&gt;.groupBy(getKey: (T) -&gt; K): Flow&lt;Pair&lt;K, Flow&lt;T&gt;&gt;&gt; = flow {\n    val storage = mutableMapOf&lt;K, SendChannel&lt;T&gt;&gt;()\n    try {\n        collect { t -&gt;\n            val key = getKey(t)\n            storage.getOrPut(key) {\n                Channel&lt;T&gt;(32).also { emit(key to it.consumeAsFlow()) }\n            }.send(t)\n        }\n    } finally {\n        storage.values.forEach { chan -&gt; chan.close() }\n    }\n}\n</code></pre>\n\n<p>It sets up a <code>Channel</code> for each key and exposes the channel to the downstream as a flow.</p>\n\n<h3>2.b Concurrently Collect and Reduce Grouped Flows</h3>\n\n<p>Since <code>groupBy</code> keeps emitting the data to the inner flows after emitting the flows themselves to the downstream, you have to be very careful with how you collect them. </p>\n\n<p>You must collect all the inner flows concurrently, with no upper limit on the level of concurrency. Otherwise the channels of the flows that are queued for later collection will eventually block the sender and you'll end up with a deadlock.</p>\n\n<p>Here is a function that does this properly:</p>\n\n<pre><code>fun &lt;T, K, R&gt; Flow&lt;Pair&lt;K, Flow&lt;T&gt;&gt;&gt;.reducePerKey(\n        reduce: suspend Flow&lt;T&gt;.() -&gt; R\n): Flow&lt;Pair&lt;K, R&gt;&gt; = flow {\n    coroutineScope {\n        this@reducePerKey\n                .map { (key, flow) -&gt; key to async { flow.reduce() } }\n                .toList()\n                .forEach { (key, deferred) -&gt; emit(key to deferred.await()) }\n    }\n}\n</code></pre>\n\n<p>The <code>map</code> stage launches a coroutine for each inner flow it receives. The coroutine reduces it to the final result. </p>\n\n<p><code>toList()</code> is a terminal operation that collects the entire upstream flow, launching all the <code>async</code> coroutines in the process. The coroutines start consuming the inner flows even while we're still collecting the main flow. This is essential to prevent a deadlock.</p>\n\n<p>Finally, after all the coroutines have been launched, we start a <code>forEach</code> loop that waits for and emits the final results as they become available.</p>\n\n<p>You can implement almost the same behavior in terms of <code>flatMapMerge</code>:</p>\n\n<pre><code>fun &lt;T, K, R&gt; Flow&lt;Pair&lt;K, Flow&lt;T&gt;&gt;&gt;.reducePerKey(\n        reduce: suspend Flow&lt;T&gt;.() -&gt; R\n): Flow&lt;Pair&lt;K, R&gt;&gt; = flatMapMerge(Int.MAX_VALUE) { (key, flow) -&gt;\n    flow { emit(key to flow.reduce()) }\n}\n</code></pre>\n\n<p>The difference is in the ordering: whereas the first implementation respects the order of appearance of keys in the input, this one doesn't. Both perform similarly.</p>\n\n<h3>3. Example</h3>\n\n<p>This example groups and sums 40 million integers:</p>\n\n<pre><code>suspend fun main() {\n    val input = 1..40_000_000\n    input.asFlow()\n            .groupBy { it % 100 }\n            .reducePerKey { sum { it.toLong() } }\n            .collect { println(it) }\n}\n\nsuspend fun &lt;T&gt; Flow&lt;T&gt;.sum(toLong: suspend (T) -&gt; Long): Long {\n    var sum = 0L\n    collect { sum += toLong(it) }\n    return sum\n}\n</code></pre>\n\n<p>I can successfully run this with <code>-Xmx64m</code>. On my 4-core laptop I'm getting about 4 million items per second.</p>\n\n<p>It is simple to redefine the first solution in terms of the new one like this:</p>\n\n<pre><code>fun &lt;T, K&gt; Flow&lt;T&gt;.groupToList(getKey: (T) -&gt; K): Flow&lt;Pair&lt;K, List&lt;T&gt;&gt;&gt; =\n        groupBy(getKey).reducePerKey { toList() }\n</code></pre>\n"}], "owner": {"reputation": 273, "user_id": 8867401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fd913fd715eb37a6ec6dccad39deb7f?s=128&d=identicon&r=PG&f=1", "display_name": "Sundaravel", "link": "https://stackoverflow.com/users/8867401/sundaravel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1614648803, "creation_date": 1572438109, "last_edit_date": 1614648803, "question_id": 58625271, "link": "https://stackoverflow.com/questions/58625271/groupby-operator-for-kotlin-flow", "title": "GroupBy operator for Kotlin Flow", "body": "<p>I am trying to switch from RxJava to Kotlin Flow. Flow is really impressive. But Is there any operator similar to RxJava's \"GroupBy\" in kotlin Flow right now?</p>\n"}, {"tags": ["kotlin", "mvvm", "viewmodel", "android-room", "android-viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "is_accepted": false, "score": 0, "last_activity_date": 1572471214, "last_edit_date": 1572471214, "creation_date": 1572467300, "answer_id": 58633180, "question_id": 58625028, "link": "https://stackoverflow.com/questions/58625028/get-updated-id-from-entity-autogenerate-primary-key/58633180#58633180", "title": "Get updated id from entity autogenerate primary key", "body": "<blockquote>\n  <p>Is there any way to return the id value after Entity update the value/\n  successfully insert it into table</p>\n</blockquote>\n\n<ol>\n<li>Change to use (optional)</li>\n</ol>\n\n<p>:-</p>\n\n<pre><code>@PrimaryKey(autoGenerate = true)\nvar id: Long = 0 /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; var not val + Long instead of Int */\n</code></pre>\n\n<ul>\n<li>you should really use Long for id columns as \n\n<ul>\n<li>a) the SQliteDatabase <strong>insert</strong> method that is ultimately used, returns a long and </li>\n<li>b) (which is why a is as it is)) a rowid (which is effectively what autogenerate uses ) can be a value larger then an Int can hold (i.e. a 64 bit signed integer).</li>\n</ul></li>\n<li>If you wanted to use Int for <strong>id</strong> then you could use <code>myAlarm.id = (alarmDao.insertAlarm(myAlarm)).toInt()</code> instead of <code>myAlarm.id = alarmDao.insertAlarm(myAlarm)</code></li>\n</ul>\n\n<p>And use a Dao</p>\n\n<pre><code>@Insert\nfun insertAlarm(alarm :Alarm) :Long\n</code></pre>\n\n<ul>\n<li>i.e. set it so that it returns :Long</li>\n</ul>\n\n<p>The insert now returns the id (or -1 if the insert didn't insert the row). If you still use the Alarm object after the insert then you could use something like :-</p>\n\n<pre><code>    myAlarm.id = alarmDao.insertAlarm(myAlarm) /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; SET THE id according to the inserted id */\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 11625230, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IjrPIKHVmVg/AAAAAAAAAAI/AAAAAAAAA28/iIwdIk8bHCc/photo.jpg?sz=128", "display_name": "Andrea Liu", "link": "https://stackoverflow.com/users/11625230/andrea-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572471214, "creation_date": 1572437153, "last_edit_date": 1572437510, "question_id": 58625028, "link": "https://stackoverflow.com/questions/58625028/get-updated-id-from-entity-autogenerate-primary-key", "title": "Get updated id from entity autogenerate primary key", "body": "<p>I created Alarm class and annotate it as Entity on Android Studio.\nIn this class I have put id variable as Entity Primary Key and it is auto generate.</p>\n\n<pre><code>@Entity(tableName = \"alarm_data_table\")\nclass Alarm(\n\n    @ColumnInfo(name = \"alarm_hour\")\n    var alarmHour: Int,\n\n    @ColumnInfo(name = \"alarm_min\")\n    var alarmMin: Int,\n\n    @ColumnInfo(name = \"is_am\")\n    var isAM: Boolean,\n\n    var days: ArrayList&lt;Int&gt;?,\n\n    @ColumnInfo(name = \"is_on\")\n    var isOn: Boolean,\n\n    var label: String,\n\n    @PrimaryKey(autoGenerate = true)\n    val id: Int = 0\n) {\n\n    fun setAlarmSchOnOff(isOn: Boolean, activity: Activity){\n        if (isOn){setAlarmScheduleOn(activity)}\n        if (!isOn){setAlarmScheduleOff(activity)}\n    }\n\n\n    fun setAlarmScheduleOn (activity: Activity) {\n        val alarmManager = activity.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n        Log.d(\"ALARM ON\", Integer.toString(id))\n        val alarmIntent = Intent(activity, AlarmReceiver::class.java).let { intent -&gt;\n            intent.putExtra(Constants().ALARM_LABEL_KEY,label)\n            PendingIntent.getBroadcast(\n                activity,\n                id,\n                intent,\n                PendingIntent.FLAG_UPDATE_CURRENT\n            )\n        }\n\n        val calendar: Calendar = Calendar.getInstance().apply {\n            timeInMillis = System.currentTimeMillis()\n            set(Calendar.HOUR_OF_DAY, alarmHour)\n            set(Calendar.MINUTE, alarmMin)\n        }\n\n        days?.let {\n            it.forEach {\n                calendar.set(Calendar.DAY_OF_WEEK, it) }\n            alarmManager.setInexactRepeating(\n                AlarmManager.RTC_WAKEUP,\n                calendar.timeInMillis,\n                AlarmManager.INTERVAL_HOUR,\n                alarmIntent\n            )\n        } ?:run{\n            alarmManager.set(\n                AlarmManager.RTC_WAKEUP,\n                calendar.timeInMillis,\n                alarmIntent)\n        }\n    }\n\n    fun setAlarmScheduleOff(activity: Activity) {\n        val alarmManager = activity.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n        Log.d(\"ALARM OFF\", Integer.toString(alarmId))\n        val alarmIntent = Intent(activity, AlarmReceiver::class.java).let { intent -&gt;\n            PendingIntent.getBroadcast(\n                activity,\n                id,\n                intent,\n                PendingIntent.FLAG_UPDATE_CURRENT\n            )}\n        alarmManager.cancel(alarmIntent)\n    }\n}\n</code></pre>\n\n<p>The problem is every time I tried to retrieve id for setAlarm method it will always return 0.</p>\n\n<pre><code>2019-10-30 15:38:07.441 11066-11066/com.andreasgift.myclock D/ALARM\u00a0ON: 0\n</code></pre>\n\n<p>Is there any way to return the id value after Entity update the value/ successfully insert it into table.</p>\n"}, {"tags": ["android", "kotlin", "android-activity", "service", "location"], "comments": [{"owner": {"reputation": 250, "user_id": 9876410, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Aqua Freshka", "link": "https://stackoverflow.com/users/9876410/aqua-freshka"}, "edited": false, "score": 0, "creation_date": 1595414738, "post_id": 58624961, "comment_id": 111464321, "body": "Did you manage to do it ?"}], "owner": {"reputation": 2743, "user_id": 5282127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/951b27605f21a74299bad28ddc456aa1?s=128&d=identicon&r=PG&f=1", "display_name": "Anice Jahanjoo", "link": "https://stackoverflow.com/users/5282127/anice-jahanjoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 940, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1572438480, "creation_date": 1572436944, "question_id": 58624961, "link": "https://stackoverflow.com/questions/58624961/how-to-set-a-callback-from-service-to-activity-in-kotlin", "title": "How to set a callback from service to activity in Kotlin?", "body": "<p>I am new in Kotlin and I try to pass location data from my service to my activity by calling a method from service everytime the fn_update called.</p>\n\n<p>Here is my service</p>\n\n<pre><code>class LocationService : Service(), LocationListener {\nprivate var context: Context? = null\ninternal var isGPSEnable = false\ninternal var isNetworkEnable = false\ninternal var latitude: Double = 0.toDouble()\ninternal var longitude: Double = 0.toDouble()\ninternal var locationManager: LocationManager? = null\ninternal var location: Location? = null\nprivate val mHandler = Handler()\nprivate var mTimer: Timer? = null\ninternal var notify_interval: Long = 3000\nvar track_lat = 0.0\nvar track_lng = 0.0\ninternal lateinit var intent: Intent\noverride fun onBind(intent: Intent): IBinder? {\n    return null\n}\noverride fun onCreate() {\n    super.onCreate()\n    mTimer = Timer()\n    mTimer!!.schedule(TimerTaskToGetLocation(), 5, notify_interval)\n    intent = Intent(str_receiver)\n}\noverride fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {\n    this.context = this\n    return Service.START_NOT_STICKY\n}\n\noverride fun onDestroy() {\n    super.onDestroy()\n    Log.e(TAG, \"onDestroy &lt;&lt;\")\n    if (mTimer != null) {\n        mTimer!!.cancel()\n    }\n}\nprivate fun trackLocation() {\n    Log.e(TAG, \"trackLocation\")\n    val TAG_TRACK_LOCATION = \"trackLocation\"\n    val params = HashMap&lt;String, String&gt;()\n    params[\"latitude\"] = \"\" + track_lat\n    params[\"longitude\"] = \"\" + track_lng\n}\n\noverride fun onLocationChanged(location: Location) {\n\n}\n\noverride fun onStatusChanged(provider: String, status: Int, extras: Bundle) {\n\n}\n\noverride fun onProviderEnabled(provider: String) {\n\n}\n\noverride fun onProviderDisabled(provider: String) {\n\n}\n\nprivate fun fn_getlocation() {\n    locationManager = applicationContext.getSystemService(Context.LOCATION_SERVICE) as LocationManager\n    isGPSEnable = locationManager!!.isProviderEnabled(LocationManager.GPS_PROVIDER)\n    isNetworkEnable = locationManager!!.isProviderEnabled(LocationManager.NETWORK_PROVIDER)\n    if (!isGPSEnable &amp;&amp; !isNetworkEnable) {\n        Log.e(TAG, \"CAN'T GET LOCATION\")\n        stopSelf()\n    } else {\n        if (isNetworkEnable) {\n            location = null\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                if (checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; \n                        checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                }\n            }\n            locationManager!!.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 1, 0f, this)\n            if (locationManager != null) {\n                location = locationManager!!.getLastKnownLocation(LocationManager.NETWORK_PROVIDER)\n                if (location != null) {\n                    Log.e(TAG, \"isNetworkEnable latitude\" + location!!.latitude + \"\\nlongitude\" + location!!.longitude + \"\")\n                    latitude = location!!.latitude\n                    longitude = location!!.longitude\n                    track_lat = latitude\n                    track_lng = longitude\n                    fn_update(location!!);\n                }\n            }\n        } else if (isGPSEnable) {\n            location = null\n            locationManager!!.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1000, 0f, this)\n            if (locationManager != null) {\n                location = locationManager!!.getLastKnownLocation(LocationManager.GPS_PROVIDER)\n                if (location != null) {\n                    Log.e(TAG, \"isGPSEnable latitude\" + location!!.latitude + \"\\nlongitude\" + location!!.longitude + \"\")\n                    latitude = location!!.latitude\n                    longitude = location!!.longitude\n                    track_lat = latitude\n                    track_lng = longitude\n                    fn_update(location!!);\n                }\n            }\n        }\n        trackLocation()\n    }\n}\n\nprivate inner class TimerTaskToGetLocation : TimerTask() {\n    override fun run() {\n        mHandler.post { fn_getlocation() }\n    }\n}}\n</code></pre>\n\n<p>and this is my activity</p>\n\n<pre><code>  @RequiresApi(api = Build.VERSION_CODES.M)\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val background = Intent(this, LocationService::class.java)\n\n    this.startService(background)\n</code></pre>\n\n<p>Please help me How can I callback from service and pass data to the activity..</p>\n\n<p>Thanks in Advance</p>\n"}, {"tags": ["kotlin", "ktor"], "answers": [{"tags": [], "owner": {"reputation": 756, "user_id": 951043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99ade053bc3d4fc2d36eea7830c17d3a?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/951043/stefan"}, "is_accepted": true, "score": 1, "last_activity_date": 1606773837, "creation_date": 1606773837, "answer_id": 65081812, "question_id": 58624842, "link": "https://stackoverflow.com/questions/58624842/ktor-http-client-request-progress/65081812#65081812", "title": "Ktor http client - request progress", "body": "<p>In <strong>Ktor&lt;1.3.2</strong>, you can monitor your download progress by requesting a ByteReadChannel instead of a String.</p>\n<p>The downside is, that this way you won't get the content size of your file, but it can be easily obtained with a separate HEAD request (which should not add too much overhead if you are downloading file that is large enough to require progress monitoring)</p>\n<pre><code>val contentLength = // need to get via HEAD reqeuest \n\nsuspend fun download() {\n   val url = &quot;https://stackoverflow.com/&quot;\n   val client = HttpClient()\n   val channel = client.get&lt;ByteReadChannel&gt;(url)\n   var total = 0\n   var readBytes:Int\n  \n   var buffer = ByteArray(contentLength)\n   do {\n      readBytes = channel.readAvailable(buffer, total, 4096 )\n      total+=readBytes\n      progress(total, contentLength)\n   } while (readBytes&gt;0)\n   val response = String(buffer)\n}\n</code></pre>\n<p>For <strong>Ktor&gt;1.3.2</strong> the <a href=\"https://ktor.io/docs/streaming.html\" rel=\"nofollow noreferrer\">recommended</a> way of monitoring the request progress is to use <a href=\"https://api.ktor.io/1.3.2/io.ktor.client.statement/-http-statement/\" rel=\"nofollow noreferrer\">HttpStatement</a>, e.g.:</p>\n<pre><code>suspend fun download() {\n  val client = HttpClient()\n  val builder = HttpRequestBuilder().apply {\n    url(&quot;https://stackoverflow.com&quot;)\n  }\n  val httpStatement = HttpStatement(builder,  client)\n  httpStatement.execute { response: HttpResponse -&gt;\n    // Response is not downloaded here\n    val channel = response.receive&lt;ByteReadChannel&gt;()\n    val contentLength = response.contentLength()\n    requireNotNull(contentLength) {&quot;Header needs to be set by server&quot;}\n\n    var total = 0\n    var readBytes:Int\n    var buffer = ByteArray(contentLength)  \n    do {\n      readBytes = channel.readAvailable(buffer, total, 4096 )\n      total+=readBytes\n      progress(total, contentLength)\n    } while (readBytes&gt;0)\n      \n    val response = String(buffer) \n  }\n}\n</code></pre>\n<p>Of course, if downloading a large file it would be more sensible use a smaller buffer, and directly write it to some file, e.g.:</p>\n<pre><code>...\nvar buffer = ByteArray(4096) \ndo {\n   readBytes = channel.readAvailable(buffer, 0, 4096 )\n   total+=readBytes\n   writeToFile(buffer, readBytes) // do something sensible with the read bytes\n   progress(total, response.contentLength())\n} while (readBytes&gt;0)\n...\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 12296156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a777b780b0f6f4cdd8129e90eadfd9c?s=128&d=identicon&r=PG&f=1", "display_name": "Mirt", "link": "https://stackoverflow.com/users/12296156/mirt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 65081812, "answer_count": 1, "score": 3, "last_activity_date": 1606773837, "creation_date": 1572436566, "last_edit_date": 1572438342, "question_id": 58624842, "link": "https://stackoverflow.com/questions/58624842/ktor-http-client-request-progress", "title": "Ktor http client - request progress", "body": "<p>How do I monitor request progress in Ktor http client?</p>\n\n<p>For example: I have request like this:</p>\n\n<pre><code>val response = HttpClient().get&lt;String&gt;(\"https://stackoverflow.com/\")\n</code></pre>\n\n<p>and I want to monitor request progress with progress bar like this:</p>\n\n<pre><code>fun progress(downloaded: Long, contentLength: Long) {\n    // Update progress bar or whatever\n}\n</code></pre>\n\n<p>How do I set <code>progress()</code> to be called by HttpClient?</p>\n\n<p>edit: This is Kotlin Multiplatform project. Relevant dependencies are:</p>\n\n<pre><code>implementation 'io.ktor:ktor-client-core:1.2.5'\nimplementation 'io.ktor:ktor-client-cio:1.2.5'\n</code></pre>\n"}, {"tags": ["java", "sql", "kotlin", "flyway"], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 8796988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/moPgA.gif?s=128&g=1", "display_name": "LittleBigUllah", "link": "https://stackoverflow.com/users/8796988/littlebigullah"}, "edited": false, "score": 0, "creation_date": 1572538895, "post_id": 58625018, "comment_id": 103599943, "body": "just checked its h2"}, {"owner": {"reputation": 124613, "user_id": 3522312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c5b53060bf7f71994265a9ef7c17cc5?s=128&d=identicon&r=PG", "display_name": "scaisEdge", "link": "https://stackoverflow.com/users/3522312/scaisedge"}, "reply_to_user": {"reputation": 213, "user_id": 8796988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/moPgA.gif?s=128&g=1", "display_name": "LittleBigUllah", "link": "https://stackoverflow.com/users/8796988/littlebigullah"}, "edited": false, "score": 0, "creation_date": 1572542799, "post_id": 58625018, "comment_id": 103601799, "body": "in h2 insert ignore  into is not allowed"}], "tags": [], "owner": {"reputation": 124613, "user_id": 3522312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c5b53060bf7f71994265a9ef7c17cc5?s=128&d=identicon&r=PG", "display_name": "scaisEdge", "link": "https://stackoverflow.com/users/3522312/scaisedge"}, "is_accepted": false, "score": 0, "last_activity_date": 1572437127, "creation_date": 1572437127, "answer_id": 58625018, "question_id": 58624712, "link": "https://stackoverflow.com/questions/58624712/flyway-migration-fails-with-kotlin/58625018#58625018", "title": "Flyway migration fails with Kotlin", "body": "<p>could be you have not proper column  matching try use eplicit column clause </p>\n\n<pre><code>INSERT IGNORE INTO types (col1_for_some_id, col2_for_xx , col3_for_xxxx) \nVALUES ('some-id', 'xx', 'xxxxx');\n</code></pre>\n"}], "owner": {"reputation": 213, "user_id": 8796988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/moPgA.gif?s=128&g=1", "display_name": "LittleBigUllah", "link": "https://stackoverflow.com/users/8796988/littlebigullah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572437127, "creation_date": 1572436114, "question_id": 58624712, "link": "https://stackoverflow.com/questions/58624712/flyway-migration-fails-with-kotlin", "title": "Flyway migration fails with Kotlin", "body": "<p>Im playing with moving our spring boot app from java to kotlin. \nThe issue i have is when the app starts, it runs the flyway migration script which fails:</p>\n\n<pre><code>INSERT IGNORE INTO types VALUES ('some-id', 'xx', 'xxxxx');\n</code></pre>\n\n<p>However, the Java spring boot app works fine?</p>\n\n<p>Removing the IGNORE fixes the issue. But I'm not sure why it fails with kotlin but works with java.</p>\n\n<p>error:</p>\n\n<pre><code>-------------------------------------------------\nSQL State  : 42001\nError Code : 42001\nMessage    : Syntax error in SQL statement \"INSERT IGNORE[*] INTO TYPES VALUES ('some-id', 'xx', 'xxxxx') \"; expected \"INTO\"; SQL statement:\nINSERT IGNORE INTO attribute_types VALUES ('some-id', 'xx', 'xxxx') [42001-199]\n</code></pre>\n"}, {"tags": ["android", "exception", "kotlin", "error-handling", "try-catch"], "comments": [{"owner": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "edited": false, "score": 0, "creation_date": 1572439866, "post_id": 58624312, "comment_id": 103559110, "body": "I will suggest you to have a read through <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">Sealed Classes</a>, they are perfect for such scenarios."}], "owner": {"reputation": 1398, "user_id": 891114, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6d2ef474df0edfc9de9f07d2a292d14c?s=128&d=identicon&r=PG", "display_name": "Anjula", "link": "https://stackoverflow.com/users/891114/anjula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1572490722, "creation_date": 1572434623, "last_edit_date": 1572490722, "question_id": 58624312, "link": "https://stackoverflow.com/questions/58624312/what-is-the-best-way-of-passing-results-and-errors-in-android", "title": "What is the best way of passing results and errors in Android?", "body": "<p>I have a DOMAIN class which is going to handle all the business logic and validations of the app. Also, the domain should communicate with the VIEW MODEL.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XxvSV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XxvSV.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Let's say the domain class has a function called <strong>validate_login</strong> which is going to get called by the VM. It will do some simple validations and make the API call and returned the result. </p>\n\n<h2>1. Using TRY CATCH</h2>\n\n<pre><code>class Domain{\n\n    fun validateLogin(email:String?,password:String?):LoginModel{\n        if(email.isNullOrBlank()){\n            throw CustomException(\"Please provide the email address.\",TAG_EMPTY_EMAIL)\n        }else if(!email.isValidEmail()){\n            throw CustomException(\"Invalid email address.\",TAG_INVALID_EMAIL)\n        }else if(password.isNullOrBlank()){\n            throw CustomException(\"Please provide the password.\",TAG_EMPTY_PASSWORD)\n        }else{\n            var loginModel = makeTheAPICall()\n            return loginModel\n        }\n    }\n\n}\n</code></pre>\n\n<p>In VM we will be able to handle the exceptions using a try-catch.</p>\n\n<pre><code>class ViewModel{\n    var domain = Domain()\n\n    fun calling_validate_login(){\n        try {\n            var returnedLoginModel = domain.validateLogin(\"test@hmail.com\",\"Password\")\n        }catch (exception:CustomException){\n            when(exception.code){\n                TAG_EMPTY_EMAIL-&gt;{}\n                TAG_INVALID_EMAIL-&gt;{}\n                TAG_EMPTY_PASSWORD-&gt;{}\n                else -&gt; {}\n            }\n        }\n    }\n}\n</code></pre>\n\n<h2>2. Using a MODEL</h2>\n\n<p>Here we will create a model to do the communication between the domain and the VM.</p>\n\n<pre><code>class DomainStatusModel(\n  var status: Int = -1,\n  var resultObject:Any?=null\n)\n</code></pre>\n\n<p>Now instead of throwing exceptions, we are going to use above model class inside the domain. We will just assign a status for validation failures. Also after the API call, the returned object is assigning to the same model class. </p>\n\n<pre><code>class Domain{\n\n    fun validateLogin(email:String?,password:String?):DomainStatusModel{\n        val domainStatusModel = DomainStatusModel()\n        if(email.isNullOrBlank()){\n            domainStatusModel.status = DomainStatus.Validation.General.EMAIL_NULL\n        }else if(!email.isValidEmail()){\n            domainStatusModel.status = DomainStatus.Validation.General.EMAIL_INVALID\n        }else if(password.isNullOrBlank()){\n            domainStatusModel.status = DomainStatus.Validation.General.PASSWORD_NULL\n        }else{\n            var loginModel = makeTheAPICall()\n            domainStatusModel.status = DomainStatus.API.Success\n            domainStatusModel.resultObject = loginModel\n        }\n        return domainStatusModel\n    }\n\n}\n</code></pre>\n\n<p>Inside the VM, now we do not want to use the try-catch. </p>\n\n<pre><code>class ViewModel{\n    var domain = Domain()\n\n    fun calling_validate_login(){\n            var returnedDomainStatusModel = domain.validateLogin(\"test@hmail.com\",\"Password\")\n            when(returnedDomainStatusModel.status){\n                DomainStatus.Validation.General.EMAIL_NULL-&gt;{}\n                DomainStatus.Validation.General.EMAIL_INVALID-&gt;{}\n                DomainStatus.Validation.General.PASSWORD_NULL-&gt;{}\n                DomainStatus.API.Success-&gt;{}\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>So the question is what is the best way to handle such a situation? Using try-catch, a model or any other way of doing this?</strong></p>\n"}, {"tags": ["loops", "generics", "kotlin", "iterator"], "comments": [{"owner": {"reputation": 1068, "user_id": 11713280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18efffc9c39e8f1b866b9a70d2179c4d?s=128&d=identicon&r=PG&f=1", "display_name": "pappbence96", "link": "https://stackoverflow.com/users/11713280/pappbence96"}, "edited": false, "score": 0, "creation_date": 1572431369, "post_id": 58623228, "comment_id": 103554515, "body": "Have you tried using the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"nofollow noreferrer\">map</a> function? You could map each element to its cast form and iterate through the mapped collection. I can not try it right now but something like this: <code>for(y in xs.map{it as Y})</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "edited": false, "score": 0, "creation_date": 1572435598, "post_id": 58623412, "comment_id": 103556755, "body": "Using <code>Iterable&lt;T&gt;#map</code> leads to the creation of a new collection. So it can adversely affect performance if <code>xs</code> consists of a large number of elements."}], "tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 1, "last_activity_date": 1572431670, "creation_date": 1572431670, "answer_id": 58623412, "question_id": 58623228, "link": "https://stackoverflow.com/questions/58623228/type-cast-in-for-each-loop/58623412#58623412", "title": "Type cast in for-each loop", "body": "<p>You might want to do something like this:</p>\n\n<pre><code>xs.map {it as Y}.forEach { \n            //do your stuff\n        }\n</code></pre>\n\n<p>I'd say it's quite a nice syntax, without the need for any additional variables</p>\n"}, {"tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": false, "score": 0, "last_activity_date": 1572435239, "creation_date": 1572435239, "answer_id": 58624480, "question_id": 58623228, "link": "https://stackoverflow.com/questions/58623228/type-cast-in-for-each-loop/58624480#58624480", "title": "Type cast in for-each loop", "body": "<p>You can extract <code>forEach</code> with casting to a higher-order function:</p>\n\n<pre><code>inline fun &lt;reified T&gt; forEachCasted(iterable: Iterable&lt;*&gt;, action: (T) -&gt; Unit) =\n    iterable.forEach { action(it as T) }\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>forEachCasted&lt;Y&gt;(xs) { ... }\n</code></pre>\n\n<hr>\n\n<p>Alternatively, you can make <code>forEachCasted</code> to be an extension function:</p>\n\n<pre><code>inline fun &lt;reified T&gt; Iterable&lt;*&gt;.forEachCasted(action: (T) -&gt; Unit) =\n    forEach { action(it as T) }\n</code></pre>\n\n<p>And use it this way:</p>\n\n<pre><code>xs.forEachCasted&lt;Y&gt; { ... }\n</code></pre>\n"}], "owner": {"reputation": 1660, "user_id": 3341241, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IO1PO.jpg?s=128&g=1", "display_name": "Little Helper", "link": "https://stackoverflow.com/users/3341241/little-helper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572435239, "creation_date": 1572431080, "question_id": 58623228, "link": "https://stackoverflow.com/questions/58623228/type-cast-in-for-each-loop", "title": "Type cast in for-each loop", "body": "<p>I'm refactoring some code and as an intermediate step I want to iterate over a list of <code>X</code> and type cast each element to <code>Y</code>. \nThe following works:</p>\n\n<pre><code>val xs: List&lt;X&gt;\nfor (x in xs) {\n    val y = x as Y\n}\n</code></pre>\n\n<p>But I'd like to know how to combine the iteration and type casting so that \n1) I don't have to introduce the variable <code>x</code> and \n2) I can combine the two lines into one line.</p>\n\n<p>I have tried the following </p>\n\n<pre><code>val xs: List&lt;X&gt;\nfor ((y as Y) in xs) {\n}\n\nval xs: List&lt;X&gt;\nfor ((y in xs) as Y) {\n}\n</code></pre>\n\n<p>without any success. \nIs it even possible to combine the type cast and iteration? How?</p>\n"}, {"tags": ["kotlin", "lambda"], "comments": [{"owner": {"reputation": 26445, "user_id": 608820, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/aGmg7.jpg?s=128&g=1", "display_name": "Augusto", "link": "https://stackoverflow.com/users/608820/augusto"}, "edited": false, "score": 0, "creation_date": 1572431496, "post_id": 58623156, "comment_id": 103554584, "body": "Could you add the version of the JDK, Kotlin, and any extensions  you are using. A <code>VerifyError</code> is quite a bad thing, so this could be a incompatibility or a compiler bug."}, {"owner": {"reputation": 2757, "user_id": 6237026, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/844pQ.jpg?s=128&g=1", "display_name": "Dina Bogdan", "link": "https://stackoverflow.com/users/6237026/dina-bogdan"}, "reply_to_user": {"reputation": 26445, "user_id": 608820, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/aGmg7.jpg?s=128&g=1", "display_name": "Augusto", "link": "https://stackoverflow.com/users/608820/augusto"}, "edited": false, "score": 0, "creation_date": 1572432436, "post_id": 58623156, "comment_id": 103555076, "body": "I&#39;m using JDK 1.8.0_192, Kotlin 1.3.41 and Spring Boot 2.1.6.RELEASE"}, {"owner": {"reputation": 26445, "user_id": 608820, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/aGmg7.jpg?s=128&g=1", "display_name": "Augusto", "link": "https://stackoverflow.com/users/608820/augusto"}, "edited": false, "score": 0, "creation_date": 1572433223, "post_id": 58623156, "comment_id": 103555522, "body": "I would recommend using the lastest and greatest Kotlin (1.3.50) and if that doesn&#39;t work, report a bug <a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a> ."}, {"owner": {"reputation": 2757, "user_id": 6237026, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/844pQ.jpg?s=128&g=1", "display_name": "Dina Bogdan", "link": "https://stackoverflow.com/users/6237026/dina-bogdan"}, "reply_to_user": {"reputation": 26445, "user_id": 608820, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/aGmg7.jpg?s=128&g=1", "display_name": "Augusto", "link": "https://stackoverflow.com/users/608820/augusto"}, "edited": false, "score": 0, "creation_date": 1572434223, "post_id": 58623156, "comment_id": 103556074, "body": "I&#39;ve switched to latest version of Kotlin, but still facing the issue."}, {"owner": {"reputation": 340, "user_id": 8244977, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007678740593/picture?type=large", "display_name": "BingLi224", "link": "https://stackoverflow.com/users/8244977/bingli224"}, "edited": false, "score": 0, "creation_date": 1593709573, "post_id": 58623156, "comment_id": 110882185, "body": "A solution of mine is to create the subclass instead."}], "owner": {"reputation": 2757, "user_id": 6237026, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/844pQ.jpg?s=128&g=1", "display_name": "Dina Bogdan", "link": "https://stackoverflow.com/users/6237026/dina-bogdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1572430822, "creation_date": 1572430822, "question_id": 58623156, "link": "https://stackoverflow.com/questions/58623156/bad-type-on-operand-stack-in-kotlin", "title": "Bad type on operand stack in Kotlin", "body": "<p>I have the following piece of code:</p>\n\n<pre><code>    fun getPriceVariants(request: PriceVariantsRequest): List&lt;PriceVariant&gt; {\n        val calculateVariables = Option.Some(request) map { mapPVRequestToPRVariables(it) }\n\n        InstallmentType.values()\n                .asSequence()\n                .map { installmentType  -&gt; addInstallmentTypeToPRVariables(installmentType, calculateVariables) }\n\nreturn listOf()\n}\n</code></pre>\n\n<p>and <code>Option</code> class which is a Functor:</p>\n\n<pre><code>sealed class Option&lt;out T&gt; {\nobject None : Option&lt;Nothing&gt;()\ndata class Some&lt;out T&gt;(val value: T) : Option&lt;T&gt;()\n\ninline infix fun &lt;R&gt; map(f: (T) -&gt; R): Option&lt;R&gt; = when (this) {\n    is None -&gt; this\n    is Some -&gt; Some(f(value))\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and the function <code>addInstallmentTypeToPRVariables</code>:</p>\n\n<pre><code>fun addInstallmentTypeToPRVariables(\n        installmentType: InstallmentType,\n        prVariables: Option&lt;PriceRequestVariables&gt;\n): Option&lt;PriceRequestVariables&gt; =\n        prVariables map { prVar -&gt; prVar withInstallmentType { installmentType } }\n</code></pre>\n\n<p>When I want to run this code into a test, I receive:</p>\n\n<pre><code>    java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    ro/orange/eshop/personalisationengineapiimpl/domain/service/ProductSalePriceService.getPriceVariants(Lro/orange/eshop/personalisationengineapiimpl/domain/model/PriceVariantsRequest;)Ljava/util/List; @83: invokespecial\n  Reason:\n    Type 'java/lang/Object' (current frame, stack[4]) is not assignable to 'ro/orange/eshop/personalisationengineapiimpl/domain/service/Option'\n  Current Frame:\n    bci: @83\n    flags: { }\n    locals: { 'ro/orange/eshop/personalisationengineapiimpl/domain/service/ProductSalePriceService', 'ro/orange/eshop/personalisationengineapiimpl/domain/model/PriceVariantsRequest', 'java/lang/Object', 'ro/orange/eshop/personalisationengineapiimpl/domain/service/Option$Some', integer, 'ro/orange/eshop/personalisationengineapiimpl/domain/service/Option$Some' }\n    stack: { 'kotlin/sequences/Sequence', uninitialized 77, uninitialized 77, 'ro/orange/eshop/personalisationengineapiimpl/domain/service/ProductSalePriceService', 'java/lang/Object' }\n  Bytecode:\n    0x0000000: 2b12 0bb8 0011 bb00 1359 2bb7 0017 4e03\n    0x0000010: 3604 2d3a 0519 05c1 0019 9900 072d a700\n    0x0000020: 272d b600 1dc0 001f 3a06 0336 072a 1906\n    0x0000030: b600 233a 0a19 0a3a 0bbb 0013 5919 0bb7\n    0x0000040: 0017 c000 2500 4db8 002b b800 31bb 0033\n    0x0000050: 592a 2cb7 0036 c000 38b8 003e 5703 3eb8\n    0x0000060: 0044 b0                                \n  Stackmap Table:\n    full_frame(@33,{Object[#2],Object[#31],Top,Object[#19],Integer,Object[#19]},{})\n    same_locals_1_stack_item_frame(@69,Object[#4])\n</code></pre>\n\n<p>Any ideas about this?</p>\n"}, {"tags": ["gradle", "intellij-idea", "kotlin", "build.gradle", "jooq"], "comments": [{"owner": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "edited": false, "score": 0, "creation_date": 1572439392, "post_id": 58622940, "comment_id": 103558847, "body": "Can you build by Gradle from terminal?"}, {"owner": {"reputation": 341, "user_id": 3719961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H0Nwv.jpg?s=128&g=1", "display_name": "epi.log", "link": "https://stackoverflow.com/users/3719961/epi-log"}, "reply_to_user": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "edited": false, "score": 0, "creation_date": 1572444424, "post_id": 58622940, "comment_id": 103561849, "body": "@Andrey Building from the terminal returns the same error"}], "answers": [{"comments": [{"owner": {"reputation": 341, "user_id": 3719961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H0Nwv.jpg?s=128&g=1", "display_name": "epi.log", "link": "https://stackoverflow.com/users/3719961/epi-log"}, "edited": false, "score": 0, "creation_date": 1572600456, "post_id": 58656221, "comment_id": 103617025, "body": "Thanks! There was another problem as well: I use a gradle multi projects build and was calling the plugin in the wrong place."}], "tags": [], "owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "is_accepted": true, "score": 1, "last_activity_date": 1572597169, "creation_date": 1572597169, "answer_id": 58656221, "question_id": 58622940, "link": "https://stackoverflow.com/questions/58622940/how-to-fix-unresolved-reference-jdbc-when-configuring-jooq-with-gradle-kotlin/58656221#58656221", "title": "How to fix &#39;Unresolved reference: jdbc&#39; when configuring Jooq with Gradle Kotlin DSL", "body": "<p>As documented in the <a href=\"https://github.com/etiennestuder/gradle-jooq-plugin\" rel=\"nofollow noreferrer\">third-party plugin's readme</a>, which you're using, you've placed the jOOQ configuration elements on the wrong level. The example given in the readme reads:</p>\n\n<pre><code>jooq {\n  version = '3.11.11'\n  edition = 'OSS'\n  sample(sourceSets.main) { // This is relevant here\n    jdbc {\n      driver = 'org.postgresql.Driver'\n      url = 'jdbc:postgresql://localhost:5432/sample'\n      ...\n    }\n    ...\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 341, "user_id": 3719961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H0Nwv.jpg?s=128&g=1", "display_name": "epi.log", "link": "https://stackoverflow.com/users/3719961/epi-log"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "accepted_answer_id": 58656221, "answer_count": 1, "score": 1, "last_activity_date": 1572597169, "creation_date": 1572430107, "question_id": 58622940, "link": "https://stackoverflow.com/questions/58622940/how-to-fix-unresolved-reference-jdbc-when-configuring-jooq-with-gradle-kotlin", "title": "How to fix &#39;Unresolved reference: jdbc&#39; when configuring Jooq with Gradle Kotlin DSL", "body": "<p>IntelliJ IDEA 2019.2.4 (Ultimate Edition) raises an <code>Unresolved reference: jdbc</code> when I try to configure the jdbc driver for code generation with Jooq using the gradle jooq plugin (<a href=\"https://github.com/etiennestuder/gradle-jooq-plugin\" rel=\"nofollow noreferrer\">https://github.com/etiennestuder/gradle-jooq-plugin</a>)</p>\n\n<p>I have followed the configuration steps documented here: <a href=\"https://github.com/etiennestuder/gradle-jooq-plugin#configuration\" rel=\"nofollow noreferrer\">https://github.com/etiennestuder/gradle-jooq-plugin#configuration</a></p>\n\n<p>Content of my <code>build.gradle.kts</code>: (compiles when the jdbc block is commented-out)</p>\n\n<pre><code>import nu.studer.gradle.jooq.JooqEdition\n\nplugins {\n    kotlin(\"jvm\")\n    id(\"nu.studer.jooq\") version \"3.0.3\" apply true\n    id(\"java-library\")\n}\n\ndependencies {\n    compile(kotlin(\"stdlib\"))\n    compile(\"org.postgresql:postgresql:42.2.7\")\n    compile(\"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.2\")\n    compile(\"org.slf4j:slf4j-api:1.7.28\")\n    compile(\"ch.qos.logback:logback-classic:1.2.3\")\n    compile(\"ch.qos.logback:logback-core:1.2.3\")\n    compile(\"org.jooq:jooq\")\n    jooqRuntime(\"postgresql:postgresql:9.1-901.jdbc\")\n\n}\n\njooq {\n    version = \"3.11.11\"\n    edition = JooqEdition.OSS\n    jdbc {\n        driver = \"org.postgresql.Driver\"\n        url = \"jdbc:postgresql://localhost:5432/postgres\"\n        user = \"postgres\"\n        password = \"postgres\"\n    }\n}\n</code></pre>\n\n<p>Errors return by Gradle when importing the changes are:</p>\n\n<pre><code>core/build.gradle.kts\nUnresolved reference: jdbc\nUnresolved reference: driver\nUnresolved reference: url\nUnresolved reference: user\nUnresolved reference: password\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mvvm"], "comments": [{"owner": {"reputation": 700, "user_id": 5216062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fkesh.jpg?s=128&g=1", "display_name": "Amit Tiwary", "link": "https://stackoverflow.com/users/5216062/amit-tiwary"}, "edited": false, "score": 0, "creation_date": 1572439031, "post_id": 58622406, "comment_id": 103558640, "body": "have you posted correct code because you have defined pendingIntent named PendingIntent and using notificationPendingIntent in notification build."}, {"owner": {"reputation": 1, "user_id": 12056762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/025af46ba2efaa69cdec801b8c7e7cc5?s=128&d=identicon&r=PG&f=1", "display_name": "georgeomalley", "link": "https://stackoverflow.com/users/12056762/georgeomalley"}, "reply_to_user": {"reputation": 700, "user_id": 5216062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fkesh.jpg?s=128&g=1", "display_name": "Amit Tiwary", "link": "https://stackoverflow.com/users/5216062/amit-tiwary"}, "edited": false, "score": 0, "creation_date": 1572445609, "post_id": 58622406, "comment_id": 103562584, "body": "thanks for the correction, just fixed it now. though it is not the problem because it was correct in my code. @AmitTiwary"}], "owner": {"reputation": 1, "user_id": 12056762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/025af46ba2efaa69cdec801b8c7e7cc5?s=128&d=identicon&r=PG&f=1", "display_name": "georgeomalley", "link": "https://stackoverflow.com/users/12056762/georgeomalley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1572445549, "creation_date": 1572428340, "last_edit_date": 1572445549, "question_id": 58622406, "link": "https://stackoverflow.com/questions/58622406/how-to-observe-a-broadcastreceivers-mutablelivedata-variable", "title": "How to observe a broadcastReceiver&#39;s mutableLiveData variable?", "body": "<p>I'm trying to observe a MutableLiveData from a broadcastReceiver class, but it doesn't work.</p>\n\n<p>I send a notification, and I add an action on it that starts a pendingIntent. The pendingIntent send a broadcast to my NotificationReceiver class that extends BroadcastReceiver. It gets to the onReceive function, and changes a MutableLiveData.\nIn a different class I'm trying to observe this MutableLiveData but it works only for the first time, in the initialization part. However when the MutableLiveData changes in the NotificationReceiver \"onRecieve\" function, the observer doesn't work.</p>\n\n<p>Creating the notification with an action</p>\n\n<pre><code>val intent = Intent(context, NotificationReceiver::class.java).apply {\n    action = \"ZOOM\"\n}\n\nval pendingIntent: PendingIntent =\n        PendingIntent.getBroadcast(context, 0, intent, 0)\n\nval notifyBuilder = NotificationCompat.Builder(context, Constants.PRIMARY_CHANNEL_ID)\n        .setContentTitle(notificationTitle)\n        .setContentText(notificationText)\n        .setSmallIcon(notificationIcon)\n        .setContentIntent(pendingIntent)\n        .setAutoCancel(true)\n        .addAction(\n                R.drawable.icon,\n                \"zoom\",\n                pendingIntent\n        )\n\nmNotifyManager?.notify(notificationID, notifyBuilder.build())\n</code></pre>\n\n<p>my NotificationReceiver class:</p>\n\n<pre><code>class NotificationReceiver: BroadcastReceiver() {\n    var shouldZoom = MutableLiveData&lt;Boolean&gt;()\n\n    init {\n        shouldZoom.value = false\n    }\n\n    override fun onReceive(context: Context?, intent: Intent?) {\n        when (intent?.action) {\n            \"ZOOM\" -&gt; zoomLoaction()\n        }\n    }\n\n    private fun zoomLoaction() {\n        shouldZoom.value = true\n    }\n}\n</code></pre>\n\n<p>Observing in a fragment:</p>\n\n<pre><code>var notificationReceiver = NotificationReceiver()\nnotificationReceiver.shouldZoom.observe(this, Observer {\n    if (it) {\n        // Log\n    }\n})\n</code></pre>\n\n<p>Manifest:</p>\n\n<pre><code>&lt;receiver android:name=\".NotificationReceiver\"&gt;\n    &lt;intent-filter&gt;\n       &lt;action android:name=\"ZOOM\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "junit", "dependency-injection", "kodein"], "comments": [{"owner": {"reputation": 484, "user_id": 8107664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fluUj.jpg?s=128&g=1", "display_name": "romainbsl", "link": "https://stackoverflow.com/users/8107664/romainbsl"}, "edited": false, "score": 1, "creation_date": 1572852402, "post_id": 58621759, "comment_id": 103675678, "body": "Does your <code>instrumentationContext</code> already instantiate at the time Kodein try to access it. Otherwise, you could use <code>Kodein.lazy { ... }</code>, thus kodein will be evaluate at retrieval."}], "owner": {"reputation": 205, "user_id": 11441594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bffdd1fc04040a40266c589e3fa48960?s=128&d=identicon&r=PG&f=1", "display_name": "mamenejr", "link": "https://stackoverflow.com/users/11441594/mamenejr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 457, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1572437089, "creation_date": 1572426204, "last_edit_date": 1572437089, "question_id": 58621759, "link": "https://stackoverflow.com/questions/58621759/unit-test-with-kodein", "title": "Unit Test with Kodein", "body": "<p>I am trying to test my Retrofit class in unit tests and I am facing the problem of injecting dependencies into my test class.\nI have 3 classes: </p>\n\n<ul>\n<li>Service class : Retrofit interface</li>\n<li>Database class using Room (which requires an application Context)</li>\n<li>Repository which is built with Service AND Database</li>\n</ul>\n\n<p>Here is the repository code :</p>\n\n<pre><code>class Repository(\n    private val database: Database,\n    private val service: Service\n)\n{\n\n\n    fun login(credentials: String): LiveData&lt;String&gt; {\n        val loginResponse = MutableLiveData&lt;String&gt;()\n\n        service.login(credentials)\n            .enqueue(object: Callback&lt;ResponseBody&gt;{\n\n                // Login SUCCESS\n                override fun onResponse(call: Call&lt;ResponseBody&gt;, response: Response&lt;ResponseBody&gt;) {\n                    if (response.isSuccessful)\n                        loginResponse.value = response.body()?.string()\n                    else\n                        loginResponse.value = response.errorBody()?.string()\n                }\n\n                // Login FAILED\n                override fun onFailure(call: Call&lt;ResponseBody&gt;, t: Throwable) {\n                    loginResponse.value = t.message\n                }\n            })\n\n        return loginResponse\n    }\n}\n\n</code></pre>\n\n<p>Here is my test class :</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass ApiTest: KodeinAware {\n\n    private val instrumentationContext = InstrumentationRegistry.getInstrumentation().context\n\n    override val kodein = Kodein {\n        // Define injections\n        bind() from singleton { Service() }\n        bind() from singleton { Database(instrumentationContext) }\n        bind() from singleton { Repository(instance(), instance()) }\n    }\n\n    private val repository: Repository by instance()\n\n    @Test\n    fun login_isSuccessful() {\n        val loginResponse = repository.login(\"xxxxxxxxx\")\n        val response = \"{................}\"\n\n        assertEquals(loginResponse, response)\n    }\n</code></pre>\n\n<p>I get the following error :</p>\n\n<pre><code>E/TestRunner: java.lang.IllegalArgumentException: Cannot provide null context for the database.\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 1, "creation_date": 1572424598, "post_id": 58621216, "comment_id": 103550913, "body": "How do you &quot;go in to this view&quot;? What does that mechanism look like?"}, {"owner": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "reply_to_user": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 0, "creation_date": 1572425441, "post_id": 58621216, "comment_id": 103551262, "body": "I use the Jetpack Navigation Component. I go into the Fragment a first time where everything works normally, then a back to previous fragment by backbutton, then finally a go into the Fragment again like the first time but there the recycler doesn&#39;t appear."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 1, "creation_date": 1572426488, "post_id": 58621216, "comment_id": 103551832, "body": "Are you sure at the moment of <code>adapter = itemAdapter</code> the adapter contains nonempty data? I also usually add <code>setHasFixedSize(true)</code>. You can try to set background and width, height to ensure that <code>RecyclerView</code> is empty."}, {"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1572426899, "post_id": 58621216, "comment_id": 103552046, "body": "have you tried moving your <code>populateItemArray</code> logic to onResume? Maybe for some reason view isn&#39;t recreated."}, {"owner": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "reply_to_user": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1572428585, "post_id": 58621216, "comment_id": 103552970, "body": "@r2rek Yes I&#39;ve tried this but it doesn&#39;t work either"}, {"owner": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1572428713, "post_id": 58621216, "comment_id": 103553045, "body": "@CoolMind Yes I set <code>adpater = itemAdapter</code>after have filled my itemArray. With a background, it seems the Recycler is empty the second time"}, {"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 1, "creation_date": 1572430341, "post_id": 58621216, "comment_id": 103553975, "body": "show us the .xml layout, maybe we can figure it out since the problem is with wrap_content :)"}], "answers": [{"tags": [], "owner": {"reputation": 2539, "user_id": 4542217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96uVy.png?s=128&g=1", "display_name": "Shahab Rauf", "link": "https://stackoverflow.com/users/4542217/shahab-rauf"}, "is_accepted": false, "score": 0, "last_activity_date": 1574073248, "creation_date": 1574073248, "answer_id": 58912589, "question_id": 58621216, "link": "https://stackoverflow.com/questions/58621216/recyclerview-doesnt-appear-when-go-into-fragment-for-second-time-with-jetpack-n/58912589#58912589", "title": "RecyclerView doesn&#39;t appear when go into fragment for second time with Jetpack Navigation Component", "body": "<p>I resolved this issue by setting adapter again after fetching results from server</p>\n\n<pre><code>contactsAdapter = ContactsAdapter(this, readContactsArray)\ncontactsRecyclerView.adapter = contactsAdapter\n</code></pre>\n"}], "owner": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574073248, "creation_date": 1572424055, "last_edit_date": 1572431165, "question_id": 58621216, "link": "https://stackoverflow.com/questions/58621216/recyclerview-doesnt-appear-when-go-into-fragment-for-second-time-with-jetpack-n", "title": "RecyclerView doesn&#39;t appear when go into fragment for second time with Jetpack Navigation Component", "body": "<p>I have a Fragment with inside a RecyclerView. I obtain the data for the <code>RecyclerView</code> with a SQL Request that I call in <code>OnViewCreated</code>.</p>\n\n<p>When I go into this fragment for the first time, the <code>RecyclerView</code> appears normally, but if I leave this <code>Fragment</code> (by back button), and go again into this <code>Fragment</code>, the <code>RecyclerView</code> doesn't appear. So the RecyclerView appears only one time.</p>\n\n<p>Below is some codes :</p>\n\n<pre><code>private var itemArray = arrayListOf&lt;Item&gt;()\nprivate lateinit var itemRecycler: RecyclerView\nprivate lateinit var itemAdapter: ItemAdapter\n</code></pre>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view = inflater.inflate(R.layout.item_fragment, container, false)\n\n        itemRecycler = view.findViewById(R.id.item_recycler)\n\n        return  view\n    }\n</code></pre>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    populateItemArray {\n\n        // Init Adapter\n        itemAdapter = ItemAdapter(itemArray)\n\n        // Set adapter to recycler\n        itemRecycler.apply {\n            layoutManager = LinearLayoutManager(context!!, LinearLayoutManager.HORIZONTAL, false)\n            adapter = itemAdapter\n        }\n\n    }\n}\n</code></pre>\n\n<pre><code>private fun populateItemArray(completion: () -&gt; Unit) {\n\n    SQLiteManager(context!!).getItems() { defaultItemArray -&gt;\n\n        itemArray.addAll(defaultItemArray.filter { it.itemId == 67 })\n\n        completion()\n    }\n}\n</code></pre>\n\n<p>Note: Each time I go into this fragment, I get a list with nearly 6 items.</p>\n\n<p>I use <code>Jetpack Navigation Component</code>. I go into the <code>Fragment</code> first time where everything works normally, then go back to previous fragment by <code>BackButton</code>, then finally a go into the <code>Fragment</code> again like the first time, but the <code>RecyclerView</code> doesn't appear (other views appear normally).</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>It seems the problem is that the RecyclerView has <code>android:layout_width=\"wrap_content\"</code>. When I use <code>match_parent</code>the RecyclerView appears. I've used <code>wrap_content</code>because I wanted to center the RecyclerView. Below the XML :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;androidx.recyclerview.widget.RecyclerView\n                android:id=\"@+id/item_recycler\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                app:layout_constraintTop_toBottomOf=\"@id/item_image\"\n                app:layout_constraintBottom_toTopOf=\"@id/item_button\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                android:overScrollMode=\"never\"/&gt;\n</code></pre>\n\n<p>Note that when I set new LayoutParams like this</p>\n\n<pre><code>itemRecycler.layoutParams = ConstraintLayout.LayoutParams(ConstraintLayout.LayoutParams.WRAP_CONTENT, ConstraintLayout.LayoutParams.WRAP_CONTENT)\n</code></pre>\n\n<p>The RecyclerView appear (but badly placed)</p>\n\n<p><strong>SOLUTION:</strong></p>\n\n<p>I've found the solution of this problem : I set again width of RecyclerView as wrap_content after set the Adapter :</p>\n\n<pre><code>val params = itemRecycler.layoutParams\n        params.width = ConstraintLayout.LayoutParams.WRAP_CONTENT\n        itemRecycler.layoutParams = params\n        itemRecycler.requestLayout()\n</code></pre>\n\n<p>This solved the problem for me. Thank you for your help, I hope it can be useful for someone.</p>\n\n<p>Sorry for my poor english, and thank you for your help</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1572423524, "post_id": 58620989, "comment_id": 103550437, "body": "<code>and allowed the app to access memory</code> you mean you have implemented runtime permissions?"}, {"owner": {"reputation": 305, "user_id": 11890737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/drGMX.jpg?s=128&g=1", "display_name": "Askani", "link": "https://stackoverflow.com/users/11890737/askani"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1572423762, "post_id": 58620989, "comment_id": 103550544, "body": "yes, and image are appearing from memory into gridview"}, {"owner": {"reputation": 305, "user_id": 11890737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/drGMX.jpg?s=128&g=1", "display_name": "Askani", "link": "https://stackoverflow.com/users/11890737/askani"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1572425993, "post_id": 58620989, "comment_id": 103551536, "body": "@blackapps thanks, its working -&gt; <code>getBitmap(&quot;storage&#47;emulated&#47;0&#47;DCIM&#47;camera&#47;IMG_20191029_10162&zwnj;&#8203;6.jpg&quot;)</code>"}, {"owner": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1572426207, "post_id": 58620989, "comment_id": 103551650, "body": "<code>getBitmap(&quot;storage&#47;emulated&#47;0&#47;DCIM&#47;camera&#47;IMG_20191029_10162&zwnj;&#8203;6.jpg&quot;)</code> No. If you remove <code>file:&#47;&#47;</code> you keep a leading slash: <code>getBitmap(&quot;&#47;storage&#47;emulated&#47;0&#47;DCIM&#47;camera&#47;IMG_20191029_1016&zwnj;&#8203;26.jpg&quot;)</code>"}, {"owner": {"reputation": 305, "user_id": 11890737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/drGMX.jpg?s=128&g=1", "display_name": "Askani", "link": "https://stackoverflow.com/users/11890737/askani"}, "reply_to_user": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1572426377, "post_id": 58620989, "comment_id": 103551767, "body": "@blackapps it is working with both, slash and without slash"}], "answers": [{"tags": [], "owner": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "is_accepted": true, "score": 1, "last_activity_date": 1572425932, "creation_date": 1572425932, "answer_id": 58621684, "question_id": 58620989, "link": "https://stackoverflow.com/questions/58620989/getbitmap-filenotfoundexception-file-storage-emulated-0-dcim-camera-img-20191/58621684#58621684", "title": "getBitmap: FileNotFoundException: file:/storage/emulated/0/DCIM/camera/IMG_20191029_101624.jpg (No such file or directory) (Android)", "body": "<p>Your <code>imgUrl</code> in <code>val imageFile = File(imgUrl)</code> starts with <code>file://</code>. </p>\n\n<p>Remove it as <code>File()</code> does not expect a path starting with <code>file://</code>. </p>\n"}], "owner": {"reputation": 305, "user_id": 11890737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/drGMX.jpg?s=128&g=1", "display_name": "Askani", "link": "https://stackoverflow.com/users/11890737/askani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3039, "favorite_count": 1, "accepted_answer_id": 58621684, "answer_count": 1, "score": 0, "last_activity_date": 1572429099, "creation_date": 1572423118, "last_edit_date": 1572429099, "question_id": 58620989, "link": "https://stackoverflow.com/questions/58620989/getbitmap-filenotfoundexception-file-storage-emulated-0-dcim-camera-img-20191", "title": "getBitmap: FileNotFoundException: file:/storage/emulated/0/DCIM/camera/IMG_20191029_101624.jpg (No such file or directory) (Android)", "body": "<p>The app is crashing when I click on a gridview image and press the upload button to upload an image on firebase. The crash is happening because of converting the file to Bitmap before uploading. I have also given the permissions and allowed the app to access memory(read and write).</p>\n\n<p>Manifest:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.CAMERA\"/&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>fun getBitmap(imgUrl: String): Bitmap?\n{\n    Log.d(\"check location\", \"Parameter: $imgUrl\")\n    val imageFile = File(imgUrl)\n    Log.d(\"check lcoation\", \"File: ${imageFile.toString()}\")\n    var fis: FileInputStream? = null\n    var bitmap: Bitmap? = null\n\n    try\n    {\n        fis = FileInputStream(imageFile)\n        bitmap = BitmapFactory.decodeStream(fis)\n    }\n    catch (e: FileNotFoundException)\n    {\n        Log.e(TAG, \"getBitmap: FileNotFoundException: ${e.message}\")\n    }\n    finally\n    {\n        try\n        {\n            fis!!.close()\n        }\n        catch (e: IOException)\n        {\n            Log.e(TAG, \"getBitmap: FileNotFoundException: ${e.message}\")\n        }\n\n    }\n\n    return bitmap\n}\n</code></pre>\n\n<p>Log:</p>\n\n<pre><code>2019-10-30 /com.example.__ D/check\u00a0location: Parameter: file:///storage/emulated/0/DCIM/camera/IMG_20191029_101626.jpg\n2019-10-30 /com.example.__ D/check\u00a0lcoation: File: file:/storage/emulated/0/DCIM/camera/IMG_20191029_101626.jpg\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>E/ImageManager: getBitmap: FileNotFoundException: file:/storage/emulated/0/DCIM/camera/IMG_20191029_101626.jpg (No such file or directory)\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.__, PID: 15275\n    kotlin.KotlinNullPointerException\n        at com.example.__.utils.ImageManagerKt.getBitmap(ImageManager.kt:32)\n        at com.example.__.data.FirebaseUserPhoto.uploadNewPhoto(FirebaseUserPhoto.kt:35)\n        at com.example.__.viewModel.NextViewModel.uploadNewPhoto(NextViewModel.kt:48)\n        at com.example.__.ui.share.NextFragment$onCreateView$2.onClick(NextFragment.kt:59)\n        at android.view.View.performClick(View.java:5610)\n        at android.view.View$PerformClick.run(View.java:22265)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "aws-appsync"], "answers": [{"tags": [], "owner": {"reputation": 310, "user_id": 4723568, "user_type": "registered", "profile_image": "https://graph.facebook.com/800920393330097/picture?type=large", "display_name": "Subham Naik", "link": "https://stackoverflow.com/users/4723568/subham-naik"}, "is_accepted": false, "score": 1, "last_activity_date": 1572524267, "creation_date": 1572524267, "answer_id": 58643209, "question_id": 58620898, "link": "https://stackoverflow.com/questions/58620898/remove-clear-cache-policy-from-awsappsyncclient-in-android/58643209#58643209", "title": "Remove/Clear cache policy from AWSAppSyncClient in android", "body": "<p>i have remove clearCaches from AWSAppSyncClient.builder()</p>\n\n<p>and added responseFetcher in query </p>\n\n<pre><code> override fun getMedication(date: String): Single&lt;SampleAdministration&gt; {\nreturn Single.create&lt;SampleAdministration&gt; { emitter -&gt;\n    client.query(\n        GetSampleQuery.builder().date(date).build()\n    ).responseFetcher(AppSyncResponseFetchers.NETWORK_ONLY).enqueue(object : GraphQLCall.Callback&lt;GetSampleQuery.Data&gt;() {\n        override fun onFailure(e: ApolloException) {\n            emitter.onError(e)\n        }override fun onResponse(response: Response&lt;GetSampleQuery.Data&gt;) {\n            val data = response.data()?.sample\n            val sampleAdministration = object : SampleAdministration {\n                override var date: String? =\n                    data?.date()\n            }\n            emitter.onSuccess(sampleAdministration)\n        }\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 310, "user_id": 4723568, "user_type": "registered", "profile_image": "https://graph.facebook.com/800920393330097/picture?type=large", "display_name": "Subham Naik", "link": "https://stackoverflow.com/users/4723568/subham-naik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1572524267, "creation_date": 1572422685, "last_edit_date": 1572523872, "question_id": 58620898, "link": "https://stackoverflow.com/questions/58620898/remove-clear-cache-policy-from-awsappsyncclient-in-android", "title": "Remove/Clear cache policy from AWSAppSyncClient in android", "body": "<p>I am trying to remove/clear the cache mechanism from AWSAppSyncClient.</p>\n\n<p>Now the problem is i am getting the value which is store or request early (it is cacheing the value and returning that value)</p>\n\n<p>what i want is, it should return the value from the api.(should not cache the value).</p>\n\n<p>i have tried this :</p>\n\n<pre><code>AWSAppSyncClient.builder()\n            .context(syncPort.androidContext())\n            .awsConfiguration(AWSConfiguration(syncPort.androidContext()))\n            .build()\n            .clearCaches(ClearCacheOptions.builder().clearSubscriptions().build())\n</code></pre>\n\n<p>Query code :</p>\n\n<pre><code>override fun getMedication(date: String): Single&lt;SampleAdministration&gt; {\nreturn Single.create&lt;SampleAdministration&gt; { emitter -&gt;\n    client.query(\n        GetSampleQuery.builder().date(date).build()\n    ).enqueue(object : GraphQLCall.Callback&lt;GetSampleQuery.Data&gt;() {\n        override fun onFailure(e: ApolloException) {\n            emitter.onError(e)\n        }\n\n        override fun onResponse(response: Response&lt;GetSampleQuery.Data&gt;) {\n            val data = response.data()?.sample\n            val sampleAdministration = object : SampleAdministration {\n                override var date: String? =\n                    data?.date()\n            }\n            emitter.onSuccess(sampleAdministration)\n        }\n    })\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["swift", "exception", "kotlin", "multiplatform"], "comments": [{"owner": {"reputation": 4435, "user_id": 812598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad6c769fb4cb6525f4ea6c6e7bf8983a?s=128&d=identicon&r=PG", "display_name": "GoRoS", "link": "https://stackoverflow.com/users/812598/goros"}, "edited": false, "score": 0, "creation_date": 1574778515, "post_id": 58620688, "comment_id": 104346047, "body": "Any progress on this issue? I&#39;m facing the same behavior."}], "answers": [{"tags": [], "owner": {"reputation": 312, "user_id": 4759333, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh5.googleusercontent.com/-8fBY5T1QkSY/AAAAAAAAAAI/AAAAAAAABrI/_RalM-wMIOU/photo.jpg?sz=128", "display_name": "James Fu", "link": "https://stackoverflow.com/users/4759333/james-fu"}, "is_accepted": false, "score": 0, "last_activity_date": 1575355948, "creation_date": 1575355948, "answer_id": 59151576, "question_id": 58620688, "link": "https://stackoverflow.com/questions/58620688/nsinvalidargumentexception-reason-getvalue-only-defined-for-abstract/59151576#59151576", "title": "&#39;NSInvalidArgumentException&#39;, reason: &#39;*** -getValue: only defined for abstract class. Define -[KotlinInt getValue:]!&#39;", "body": "<p>I thought there is no structure type \"Map\" in Kotlin corresponding to \"Dictionary\" in iOS Swift. Try to replace the Map with MutableMap and solve this issue. </p>\n\n<pre><code>fun example(): MutableMap &lt;Int, Double&gt; {\n        val result = mutableMapOf&lt;Int, Double&gt;()\n        result[1] = 9.99\n        return result\n}\n</code></pre>\n\n<p>However, you can also cast the type in Swift for another using. For example,</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>let example = example() as! [Int64 : Double]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 312, "user_id": 4759333, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh5.googleusercontent.com/-8fBY5T1QkSY/AAAAAAAAAAI/AAAAAAAABrI/_RalM-wMIOU/photo.jpg?sz=128", "display_name": "James Fu", "link": "https://stackoverflow.com/users/4759333/james-fu"}, "edited": false, "score": 0, "creation_date": 1575527140, "post_id": 59152689, "comment_id": 104598279, "body": "Yes, you are right. But we&#39;re discussing the Kotlin-Multiplatform between kotlin and swift. If you&#39;d like to using Map(Dictionary) in the swift, you should use MutableMap in the kotlin. Otherwise, you would face this issue as in the original post."}], "tags": [], "owner": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "is_accepted": false, "score": 0, "last_activity_date": 1575360895, "creation_date": 1575360895, "answer_id": 59152689, "question_id": 58620688, "link": "https://stackoverflow.com/questions/58620688/nsinvalidargumentexception-reason-getvalue-only-defined-for-abstract/59152689#59152689", "title": "&#39;NSInvalidArgumentException&#39;, reason: &#39;*** -getValue: only defined for abstract class. Define -[KotlinInt getValue:]!&#39;", "body": "<p>Map exist in kotlin, here an example:</p>\n\n<pre><code>val map = mutableMapOf(1 to 1.2, 2 to 1.2, 3 to 1.5)\nprintln(map)\nmap[4] = 3.4\nprintln(map)\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>{1=1.2, 2=1.2, 3=1.5}\n{1=1.2, 2=1.2, 3=1.5, 4=3.4}\n</code></pre>\n"}], "owner": {"reputation": 312, "user_id": 4759333, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh5.googleusercontent.com/-8fBY5T1QkSY/AAAAAAAAAAI/AAAAAAAABrI/_RalM-wMIOU/photo.jpg?sz=128", "display_name": "James Fu", "link": "https://stackoverflow.com/users/4759333/james-fu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1575360895, "creation_date": 1572421772, "question_id": 58620688, "link": "https://stackoverflow.com/questions/58620688/nsinvalidargumentexception-reason-getvalue-only-defined-for-abstract", "title": "&#39;NSInvalidArgumentException&#39;, reason: &#39;*** -getValue: only defined for abstract class. Define -[KotlinInt getValue:]!&#39;", "body": "<p>I am using Kotlin multiplatform to build framework for iOS, and everything works well except the strange issue.</p>\n\n<p>The code from Kotlin:</p>\n\n<pre><code>fun example(): Map&lt;Int, Double&gt; {\n        val result = mutableMapOf&lt;Int, Double&gt;()\n        result[1] = 9.99\n        return result\n}\n</code></pre>\n\n<p>Using framework is Swift:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>let example = example()\n</code></pre>\n\n<p>The app will crash and display the trace as following</p>\n\n<pre><code>2019-10-30 15:37:19.096474+0800 Test[73756:3057881] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** -getValue: only defined for abstract class.  Define -[KotlinInt getValue:]!'\n*** First throw call stack:\n(\n    0   CoreFoundation                      0x00007fff23baa1ee __exceptionPreprocess + 350\n    1   libobjc.A.dylib                     0x00007fff50864b20 objc_exception_throw + 48\n    2   Foundation                          0x00007fff2584a6b3 _NSRequestConcreteObject + 0\n    3   Foundation                          0x00007fff256bea7e -[NSNumber copyWithZone:] + 129\n    4   CoreFoundation                      0x00007fff23add550 __NSSingleEntryDictionaryI_new + 128\n    5   CoreFoundation                      0x00007fff23ba56f3 -[NSDictionary initWithDictionary:copyItems:] + 403\n    6   CoreFoundation                      0x00007fff23c07fc7 -[__NSPlaceholderDictionary initWithDictionary:copyItems:] + 135\n    7   libswiftFoundation.dylib            0x00007fff511ef3a0 $sSD10FoundationE26_forceBridgeFromObjectiveC_6resultySo12NSDictionaryC_SDyxq_GSgztFZ + 192\n    8   libswiftFoundation.dylib            0x00007fff511e3593 $sSD10FoundationE36_unconditionallyBridgeFromObjectiveCySDyxq_GSo12NSDictionaryCSgFZ + 67\n    9   Test                                0x0000000102f54320 $s4Test11ContentViewV3calSSyF + 1104\n    10  Test                                0x0000000102f53e3b $s4Test11ContentViewV4bodyQrvg + 91\n    11  Test                                0x0000000102f549c1 $s4Test11ContentViewV7SwiftUI0C0AadEP4body4BodyQzvgTW + 17\n    12  SwiftUI                             0x00007fff2bfb1c49 $s7SwiftUI8ViewBody33_9F92ACD17B554E8AB7D29ABB1E796415LLV5applyy0D0QzxF + 585\n    13  SwiftUI                             0x00007fff2bfb2df9 $s7SwiftUI8ViewBody33_9F92ACD17B554E8AB7D29ABB1E796415LLVyxG14AttributeGraph07UntypedM0AafGP7_update_5graph9attributeySv_So10AGGraphRefaSo11AGAttributeatFZTW + 137\n    14  AttributeGraph                      0x00007fff2f8f1849 $sTA + 25\n    15  AttributeGraph                      0x00007fff2f8d9255 _ZN2AG5Graph11UpdateStack6updateEv + 1111\n    16  AttributeGraph                      0x00007fff2f8d9513 _ZN2AG5Graph16update_attributeEjb + 377\n    17  AttributeGraph                      0x00007fff2f8de131 _ZN2AG8Subgraph6updateEj + 929\n    18  SwiftUI                             0x00007fff2c10d100 $s7SwiftUI9ViewGraphC14runTransaction33_D63C4EB7F2B205694B6515509E76E98BLL2inySo10AGGraphRefa_tF + 224\n    19  SwiftUI                             0x00007fff2c10d517 $s7SwiftUI9ViewGraphC13updateOutputs2atyAA4TimeV_tFSb5prefs_Sb9idealSizeAC0F0V7outputstSo10AGGraphRefaXEfU_ + 103\n    20  SwiftUI                             0x00007fff2c10d1d1 $s7SwiftUI9ViewGraphC13updateOutputs2atyAA4TimeV_tF + 145\n    21  SwiftUI                             0x00007fff2c4af579 $s7SwiftUI16ViewRendererHostPAAE6render8interval17updateDisplayListySd_SbtFyyXEfU_yyXEfU_ + 1001\n    22  SwiftUI                             0x00007fff2c4aef8a $s7SwiftUI16ViewRendererHostPAAE6render8interval17updateDisplayListySd_SbtFyyXEfU_ + 634\n    23  SwiftUI                             0x00007fff2c4a4274 $s7SwiftUI16ViewRendererHostPAAE6render8interval17updateDisplayListySd_SbtF + 436\n    24  SwiftUI                             0x00007fff2c65a182 $s7SwiftUI14_UIHostingViewC14layoutSubviewsyyF + 226\n    25  SwiftUI                             0x00007fff2c65a1a5 $s7SwiftUI14_UIHostingViewC14layoutSubviewsyyFTo + 21\n    26  UIKitCore                           0x00007fff47a52ad5 -[UIView(CALayerDelegate) layoutSublayersOfLayer:] + 2478\n    27  QuartzCore                          0x00007fff2b06e91d -[CALayer layoutSublayers] + 255\n    28  QuartzCore                          0x00007fff2b073323 _ZN2CA5Layer16layout_if_neededEPNS_11TransactionE + 517\n    29  QuartzCore                          0x00007fff2b07fa7c _ZN2CA5Layer28layout_and_display_if_neededEPNS_11TransactionE + 80\n    30  QuartzCore                          0x00007fff2afc6e54 _ZN2CA7Context18commit_transactionEPNS_11TransactionEd + 324\n    31  QuartzCore                          0x00007fff2affc32f _ZN2CA11Transaction6commitEv + 643\n    32  UIKitCore                           0x00007fff475906cd __34-[UIApplication _firstCommitBlock]_block_invoke_2 + 81\n    33  CoreFoundation                      0x00007fff23b0d09c __CFRUNLOOP_IS_CALLING_OUT_TO_A_BLOCK__ + 12\n    34  CoreFoundation                      0x00007fff23b0c808 __CFRunLoopDoBlocks + 312\n    35  CoreFoundation                      0x00007fff23b07694 __CFRunLoopRun + 1284\n    36  CoreFoundation                      0x00007fff23b06e66 CFRunLoopRunSpecific + 438\n    37  GraphicsServices                    0x00007fff38346bb0 GSEventRunModal + 65\n    38  UIKitCore                           0x00007fff47578dd0 UIApplicationMain + 1621\n    39  Test                                0x0000000102f526fb main + 75\n    40  libdyld.dylib                       0x00007fff516ecd29 start + 1\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n</code></pre>\n\n<p>Actually, I want to implement the function to return the Map, but I inspect the type of <strong>example()</strong> in the Xocde's IDE is [KotlinInt : KotlinDouble]. I don't know how to fix this to use this function in the Xcode normally without the exception.</p>\n"}, {"tags": ["reactjs", "spring", "kotlin", "netty", "javabeans"], "comments": [{"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1572419186, "post_id": 58619859, "comment_id": 103548781, "body": "The <code>@Component</code> is so that component-scanning can pickup the <code>CustomRouter</code> class and create a bean out of it. The <code>@Bean</code> is on the <code>customerRoutes</code> method, indicating that this method is a factory method for a <code>RouterFunction</code>. In the end you have 2 beans in your context, 1 for the <code>CustomRouter</code> (Which is probably better of as an <code>@Configuration</code>) and a <code>RouterFunction</code> one. Both are needed and hence yo need both annotations."}, {"owner": {"reputation": 147, "user_id": 2038502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2867202c351b51cd378833f8f8f0153f?s=128&d=identicon&r=PG", "display_name": "Daltrey Waters", "link": "https://stackoverflow.com/users/2038502/daltrey-waters"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1572818970, "post_id": 58619859, "comment_id": 103669292, "body": "Yes, but why are both needed? That&#39;s what I don&#39;t get."}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1572849171, "post_id": 58619859, "comment_id": 103674694, "body": "Because without <code>@Component</code> it will not be detected and thus the <code>@Bean</code> won&#39;t be parsed. Without the <code>@Bean</code> it is just a method of a class which won&#39;t produce a bean."}], "owner": {"reputation": 147, "user_id": 2038502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2867202c351b51cd378833f8f8f0153f?s=128&d=identicon&r=PG", "display_name": "Daltrey Waters", "link": "https://stackoverflow.com/users/2038502/daltrey-waters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572421132, "creation_date": 1572417702, "last_edit_date": 1572421132, "question_id": 58619859, "link": "https://stackoverflow.com/questions/58619859/why-netty-spring-react-class-requires-to-be-component-and-define-router-with-as", "title": "Why Netty Spring react class requires to be component AND define router with as bean", "body": "<p>I'm ramping up on Kotlin with Spring Netty and don't understand when specifying a router bean the class it pertains to ALSO has to have the <code>@Component</code> tag.</p>\n\n<p>The example I'm reading states that when creating a router class I need to define it as - </p>\n\n<pre><code>@Component\nclass CustomerRouter {\n\n@Bean\nfun customerRoutes():RouterFunction&lt;*&gt; = {\n.....\n</code></pre>\n\n<p>I was expecting that a class defined as @Component gets picked up by the class analyzer and have an instance of it created, therefore NOT requiring to specify the <code>@Bean</code> aspect as well.</p>\n\n<p>But in this aspect, using React - if I remove <code>@Bean</code>, then it ceases to work. </p>\n\n<p>Can someone explain the logic behind that? This doesn't make sense to me.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-glide"], "comments": [{"owner": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "edited": false, "score": 0, "creation_date": 1572409445, "post_id": 58618712, "comment_id": 103546372, "body": "Why did u need to focus on that?"}, {"owner": {"reputation": 1, "user_id": 12294979, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VnSPy1_nlYg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcho0ZQkvc78EUGdF4LhUYB8nZJ2Q/photo.jpg?sz=128", "display_name": "salad buah", "link": "https://stackoverflow.com/users/12294979/salad-buah"}, "reply_to_user": {"reputation": 191, "user_id": 10314536, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874478459313620/picture?type=large", "display_name": "Archu Mohan", "link": "https://stackoverflow.com/users/10314536/archu-mohan"}, "edited": false, "score": 0, "creation_date": 1572410247, "post_id": 58618712, "comment_id": 103546539, "body": "i actually want to clear the focus"}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 11196516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75e8c49407e33790f413f91294f3a498?s=128&d=identicon&r=PG", "display_name": "Faisal Russel", "link": "https://stackoverflow.com/users/11196516/faisal-russel"}, "is_accepted": false, "score": 0, "last_activity_date": 1572410843, "creation_date": 1572410843, "answer_id": 58618910, "question_id": 58618712, "link": "https://stackoverflow.com/questions/58618712/how-to-clear-focus-from-imageview-in-recyclerview-when-loading-image-with-glide/58618910#58618910", "title": "How to clear focus from imageview in Recyclerview when loading image with glide?", "body": "<p>Try this : </p>\n\n<p>recyclerview.setFocusable(false);</p>\n"}, {"tags": [], "owner": {"reputation": 217, "user_id": 6096922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzKVE.jpg?s=128&g=1", "display_name": "Kuldeep Rathee", "link": "https://stackoverflow.com/users/6096922/kuldeep-rathee"}, "is_accepted": false, "score": 0, "last_activity_date": 1572410865, "creation_date": 1572410865, "answer_id": 58618911, "question_id": 58618712, "link": "https://stackoverflow.com/questions/58618712/how-to-clear-focus-from-imageview-in-recyclerview-when-loading-image-with-glide/58618911#58618911", "title": "How to clear focus from imageview in Recyclerview when loading image with glide?", "body": "<p>try setting the <strong>isFocusable</strong> to false forcefully while loading the image using Glide.\nit's just a try maybe it works for you.</p>\n"}, {"tags": [], "owner": {"reputation": 576, "user_id": 9223264, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hd8CHstY9js/AAAAAAAAAAI/AAAAAAAAAOk/pJ463aKM9HY/photo.jpg?sz=128", "display_name": "Jaspalsinh Gohil", "link": "https://stackoverflow.com/users/9223264/jaspalsinh-gohil"}, "is_accepted": false, "score": -1, "last_activity_date": 1572412737, "creation_date": 1572412737, "answer_id": 58619170, "question_id": 58618712, "link": "https://stackoverflow.com/questions/58618712/how-to-clear-focus-from-imageview-in-recyclerview-when-loading-image-with-glide/58619170#58619170", "title": "How to clear focus from imageview in Recyclerview when loading image with glide?", "body": "<p>That is because RecyclerView ALWAYS set:</p>\n\n<pre><code>setFocusableInTouchMode(true);\n</code></pre>\n\n<p>so if you apply those attribute in your XML for a RecyclerView</p>\n\n<pre><code>android:focusable=\"false\"\nandroid:focudeableInTouchMode=\"false\"\n</code></pre>\n\n<p>yo can also use <strong>descendantFocusability</strong> here is link for better understanding of\n<a href=\"https://stackoverflow.com/questions/39626337/can-someone-explain-descendantfocusability-afterdescendants\">Can someone explain descendantFocusability = afterDescendants?</a></p>\n\n<p>and also add <strong>android:focusable=\"true\" android:focusableInTouchMode=\"true\"</strong> to your recyclerView and try again</p>\n"}], "owner": {"reputation": 1, "user_id": 12294979, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VnSPy1_nlYg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcho0ZQkvc78EUGdF4LhUYB8nZJ2Q/photo.jpg?sz=128", "display_name": "salad buah", "link": "https://stackoverflow.com/users/12294979/salad-buah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1594038026, "creation_date": 1572409249, "last_edit_date": 1594038026, "question_id": 58618712, "link": "https://stackoverflow.com/questions/58618712/how-to-clear-focus-from-imageview-in-recyclerview-when-loading-image-with-glide", "title": "How to clear focus from imageview in Recyclerview when loading image with glide?", "body": "<p>I found an error (more likely bug) when load image with glide on Recyclerview. The problem is that when I load image from URL into an <code>imageview</code> on <code>recyclerview</code> item, <code>imageview</code> seem to have focus on it. Here is how it looks like : <a href=\"https://i.stack.imgur.com/EGOzf.png\" rel=\"nofollow noreferrer\">imageview gained focus after load image with glide</a></p>\n\n<p>This causes <code>recyclerview</code> scrolls by itself (I cant post a video). Is there any idea how to solve this? Thank you and sorry for my English.</p>\n"}, {"tags": ["android-studio", "kotlin", "kotlin-experimental"], "answers": [{"comments": [{"owner": {"reputation": 18850, "user_id": 999530, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGip7.png?s=128&g=1", "display_name": "Travis Griggs", "link": "https://stackoverflow.com/users/999530/travis-griggs"}, "edited": false, "score": 0, "creation_date": 1572441994, "post_id": 58619832, "comment_id": 103560413, "body": "So I do. Confusing, since being that long, I could have sworn I copy-pasted directly from the documentation. Even after fixing that, it still does not work unfortunately."}, {"owner": {"reputation": 18850, "user_id": 999530, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGip7.png?s=128&g=1", "display_name": "Travis Griggs", "link": "https://stackoverflow.com/users/999530/travis-griggs"}, "edited": false, "score": 0, "creation_date": 1572442013, "post_id": 58619832, "comment_id": 103560421, "body": "However, putting something in the gradle file does seem to work."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1572417524, "creation_date": 1572417524, "answer_id": 58619832, "question_id": 58618261, "link": "https://stackoverflow.com/questions/58618261/how-to-use-kotlin-experimentalunsignedtypes-project-wide-androidstudio/58619832#58619832", "title": "How to use Kotlin ExperimentalUnsignedTypes project wide (AndroidStudio)", "body": "<p>In the screenshot you have <code>-Xexperimental=...</code>, not the required <code>-Xuse-experimental=...</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 18850, "user_id": 999530, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGip7.png?s=128&g=1", "display_name": "Travis Griggs", "link": "https://stackoverflow.com/users/999530/travis-griggs"}, "is_accepted": true, "score": 4, "last_activity_date": 1572447432, "creation_date": 1572447432, "answer_id": 58628176, "question_id": 58618261, "link": "https://stackoverflow.com/questions/58618261/how-to-use-kotlin-experimentalunsignedtypes-project-wide-androidstudio/58628176#58628176", "title": "How to use Kotlin ExperimentalUnsignedTypes project wide (AndroidStudio)", "body": "<p>Even with the spelling correction fixed, it still did not compile correctly. I suspect the \"...override project settings...\" indeed was problematic. However, placing the following in my (project) gradle file did work:</p>\n\n<pre><code>allprojects {\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n        kotlinOptions {\n            freeCompilerArgs += [\n                    \"-Xuse-experimental=kotlin.ExperimentalUnsignedTypes\",\n                    \"-XXLanguage:+InlineClasses\"\n            ]\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 18850, "user_id": 999530, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGip7.png?s=128&g=1", "display_name": "Travis Griggs", "link": "https://stackoverflow.com/users/999530/travis-griggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "accepted_answer_id": 58628176, "answer_count": 2, "score": 2, "last_activity_date": 1572447432, "creation_date": 1572405318, "question_id": 58618261, "link": "https://stackoverflow.com/questions/58618261/how-to-use-kotlin-experimentalunsignedtypes-project-wide-androidstudio", "title": "How to use Kotlin ExperimentalUnsignedTypes project wide (AndroidStudio)", "body": "<p>I'm trying to use the <code>@ExperimentalUnsignedTypes</code> in my AndroidStudio project. It seems I have to put that just about everywhere, so I'd rather set it once project wide.</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-experimental-unsigned-types/index.html\" rel=\"nofollow noreferrer\">The documentation</a> says</p>\n\n<blockquote>\n  <p>Usages of such API will be reported as warnings unless an explicit\n  opt-in with the UseExperimental annotation, e.g.\n  @UseExperimental(ExperimentalUnsignedTypes::class), or with the\n  -Xuse-experimental=kotlin.ExperimentalUnsignedTypes compiler option is given.</p>\n</blockquote>\n\n<p>Dutifully, I have adjusted my <code>Preferences&gt;&gt;Other Settings&gt;&gt;Kotlin Compiler</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ukqxF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ukqxF.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I still get (lots of) warnings after a clean/make. It was suggested that I also add <code>-XXLanguage:+InlineClasses</code> to the same line. But the result is the same. Then I noticed at the top of same preferences pane it says:</p>\n\n<p><a href=\"https://i.stack.imgur.com/q42Z4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q42Z4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is this my problem? And if so, where can I adjust my app settings so that these compiler settings are effective?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 0, "creation_date": 1572398733, "post_id": 58617485, "comment_id": 103544350, "body": "Please minimize the code: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Too much irrelevant stuff."}, {"owner": {"reputation": 454, "user_id": 9278071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b3aac8fd234d4b49e9083b653056a8?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Franklin", "link": "https://stackoverflow.com/users/9278071/jacob-franklin"}, "edited": false, "score": 0, "creation_date": 1572399427, "post_id": 58617485, "comment_id": 103544466, "body": "Sorry about that, thanks for the tip."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 3, "creation_date": 1572400079, "post_id": 58617485, "comment_id": 103544605, "body": "I guess your OS is Windows. It means that your lines end with <code>\\r\\n</code>, not <code>\\n</code>. In result, <code>\\r</code> goes into strings (all except the last one), and messes the things up. Use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/read-lines.html\" rel=\"nofollow noreferrer\">readLines</a> instead of <code>readText</code>+<code>split</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 2, "creation_date": 1572400323, "post_id": 58617485, "comment_id": 103544648, "body": "BTW, instead of <code>shuffle</code>+<code>first</code> you want to use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/random.html\" rel=\"nofollow noreferrer\">random</a>."}, {"owner": {"reputation": 454, "user_id": 9278071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b3aac8fd234d4b49e9083b653056a8?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Franklin", "link": "https://stackoverflow.com/users/9278071/jacob-franklin"}, "edited": false, "score": 0, "creation_date": 1572403196, "post_id": 58617485, "comment_id": 103545209, "body": "I switched to readLines and it works now. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 503, "user_id": 3913893, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000463448708/picture?type=large", "display_name": "Felix Novovic", "link": "https://stackoverflow.com/users/3913893/felix-novovic"}, "is_accepted": false, "score": 2, "last_activity_date": 1572758243, "last_edit_date": 1572758243, "creation_date": 1572406911, "answer_id": 58618429, "question_id": 58617485, "link": "https://stackoverflow.com/questions/58617485/why-wont-kotlin-print-the-string-i-select-from-a-txt-file-unless-its-the-last/58618429#58618429", "title": "Why won&#39;t Kotlin print the string I select from a .txt file unless it&#39;s the last line?", "body": "<p>As suggested by dyukha in the comment section it is indeed a platform specific issue. I prefer the solution (s)he provided using <code>readLines()</code> since you can condense two function calls into one.</p>\n\n<p>However, should you ever need to check for the line delimiter in a platform independent manner you should use the built-in <code>System.lineSeparator()</code> property (Since Java 7).</p>\n\n<pre><code>\nimport java.io.File\n\nfun main() {\n    var string = File(\"data/towns.txt\")\n        .readText()\n        .split(System.lineSeparator())\n        .shuffled()\n        .first()\n    println(\"$string has printed\")\n}\n...\n</code></pre>\n\n<p>Still, I do recommend that you use <code>readLines()</code> since it packages the functionality of both <code>.readText()</code> and <code>.split(System.lineSeparator())</code>.</p>\n"}], "owner": {"reputation": 454, "user_id": 9278071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b3aac8fd234d4b49e9083b653056a8?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Franklin", "link": "https://stackoverflow.com/users/9278071/jacob-franklin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572758243, "creation_date": 1572397992, "last_edit_date": 1572425001, "question_id": 58617485, "link": "https://stackoverflow.com/questions/58617485/why-wont-kotlin-print-the-string-i-select-from-a-txt-file-unless-its-the-last", "title": "Why won&#39;t Kotlin print the string I select from a .txt file unless it&#39;s the last line?", "body": "<p>I'm using to open a text file, randomly select a line, and format a string that includes the randomly selected line. The string is then printed to the console, but for some reason it won't work unless the last line of the file gets randomly selected.</p>\n\n<p>Text file:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Neversummer\nAbelhaven\nPhandoril\nTampa\nSanortih\nTrell\nZan'tro\nHermi Hermi\nCurlthistle Forest\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>import java.io.File\n\nfun main() {\n    var string = File(\"data/towns.txt\")\n        .readText()\n        .split(\"\\n\")\n        .shuffled()\n        .first()\n    println(\"$string has printed\")\n}\n</code></pre>\n\n<p>Output when last line is selected:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Curlthistle Forest has printed\n</code></pre>\n\n<p>Output when any other line is selected:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> has printed\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "types"], "answers": [{"tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": false, "score": 1, "last_activity_date": 1572392971, "creation_date": 1572392971, "answer_id": 58616904, "question_id": 58616712, "link": "https://stackoverflow.com/questions/58616712/kotlin-cannot-infer-type-of-function-with-method-reference/58616904#58616904", "title": "Kotlin cannot infer type of Function with method reference", "body": "<p>Type inference is not the cause of a compilation error. <code>mapTwo&lt;List&lt;Int&gt;&gt;(::mapper)</code> will not compile either because of <code>::mapper</code> having the type <code>(T) -&gt; List&lt;T&gt;</code> (<code>KFunction1&lt;T, List&lt;T&gt;&gt;</code>), which is not assignable to <code>Function&lt;Int, U&gt;</code>.</p>\n"}], "owner": {"reputation": 1484, "user_id": 6662739, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b3ead54cd5f2928c0e9a65a29c7ce3a4?s=128&d=identicon&r=PG&f=1", "display_name": "Ollaw", "link": "https://stackoverflow.com/users/6662739/ollaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572392971, "creation_date": 1572391302, "question_id": 58616712, "link": "https://stackoverflow.com/questions/58616712/kotlin-cannot-infer-type-of-function-with-method-reference", "title": "Kotlin cannot infer type of Function with method reference", "body": "<p>why in the example below, with <code>mapTwo</code> Kotlin can't infer the type of <code>a</code> ?</p>\n\n<pre><code>fun &lt;U&gt; mapOne(f: (Int) -&gt; U): U = TODO()\nfun &lt;U&gt; mapTwo(f: Function&lt;Int, U&gt;): U = TODO()\n\nfun &lt;T&gt; mapper(a: T): List&lt;T&gt; = TODO()\n\nfun main() {\n    mapOne(::mapper)\n    mapTwo(::mapper) //won 't compile\n}\n</code></pre>\n"}, {"tags": ["kotlin", "aws-lambda", "cors", "serverless"], "answers": [{"comments": [{"owner": {"reputation": 27862, "user_id": 144833, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GHAT8.jpg?s=128&g=1", "display_name": "Oscar Godson", "link": "https://stackoverflow.com/users/144833/oscar-godson"}, "edited": false, "score": 0, "creation_date": 1572457045, "post_id": 58621489, "comment_id": 103568968, "body": "Will give this a try but I dont see this in my Node service that works fine. Why is that needed here (if this works)"}, {"owner": {"reputation": 2379, "user_id": 11890264, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SXtQk-gEdk4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re59-8V4VJNT_1V9XoftvQAnn3mOw/photo.jpg?sz=128", "display_name": "Assael Azran", "link": "https://stackoverflow.com/users/11890264/assael-azran"}, "reply_to_user": {"reputation": 27862, "user_id": 144833, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GHAT8.jpg?s=128&g=1", "display_name": "Oscar Godson", "link": "https://stackoverflow.com/users/144833/oscar-godson"}, "edited": false, "score": 0, "creation_date": 1572458615, "post_id": 58621489, "comment_id": 103569681, "body": "Try it and let me know"}], "tags": [], "owner": {"reputation": 2379, "user_id": 11890264, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SXtQk-gEdk4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re59-8V4VJNT_1V9XoftvQAnn3mOw/photo.jpg?sz=128", "display_name": "Assael Azran", "link": "https://stackoverflow.com/users/11890264/assael-azran"}, "is_accepted": false, "score": 1, "last_activity_date": 1572425211, "creation_date": 1572425211, "answer_id": 58621489, "question_id": 58616598, "link": "https://stackoverflow.com/questions/58616598/cors-blocking-requests-in-kotlin-lambda-but-not-in-identically-setup-node-lambda/58621489#58621489", "title": "CORS blocking requests in Kotlin lambda but not in identically setup Node lambda", "body": "<p>From this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xm5id.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xm5id.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can see that you haven't created <strong>Integration Response</strong> in your <strong>post</strong> method.\n<br></p>\n\n<p>Try these configurations:</p>\n\n<p><a href=\"https://i.stack.imgur.com/m81vL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m81vL.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 27862, "user_id": 144833, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GHAT8.jpg?s=128&g=1", "display_name": "Oscar Godson", "link": "https://stackoverflow.com/users/144833/oscar-godson"}, "is_accepted": false, "score": 0, "last_activity_date": 1572473785, "creation_date": 1572473785, "answer_id": 58634373, "question_id": 58616598, "link": "https://stackoverflow.com/questions/58616598/cors-blocking-requests-in-kotlin-lambda-but-not-in-identically-setup-node-lambda/58634373#58634373", "title": "CORS blocking requests in Kotlin lambda but not in identically setup Node lambda", "body": "<p>I discovered my CORS issue was because of server errors. If your server has an error and the API Gateway can't get a response then you get a CORS error because the Gateway itself doesn't have the CORS headers.</p>\n\n<p>While the fix is easy (just handle that server error) it was hard to uncover. I wish this was documented better somewhere so hopefully this is found for others :)</p>\n\n<p>For my case specifically, and why it didn't show up in Node but showed up in Kotlin, was because of types. the browser was sending a type Node automatically corrected the type (number to string) but Kotlin was expecting the type and threw a type error.</p>\n"}], "owner": {"reputation": 27862, "user_id": 144833, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GHAT8.jpg?s=128&g=1", "display_name": "Oscar Godson", "link": "https://stackoverflow.com/users/144833/oscar-godson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1572473785, "creation_date": 1572390457, "question_id": 58616598, "link": "https://stackoverflow.com/questions/58616598/cors-blocking-requests-in-kotlin-lambda-but-not-in-identically-setup-node-lambda", "title": "CORS blocking requests in Kotlin lambda but not in identically setup Node lambda", "body": "<p>I have a lambda, written in Kotlin with Serverless and CORS just is not working. I feel like I've tried everything. I deployed a Node Lambda with identical <code>sls.sh</code> command and yaml files. The function looks like this</p>\n\n<pre><code>hello:\n  handler: handler.hello\n  events:\n    - http:\n        path: hello\n        method: post\n        cors: true\n</code></pre>\n\n<p>My responses look like this in both Node and Kotlin:</p>\n\n<pre><code>{\n  \"statusCode\": 200,\n  \"headers\": {\n    \"Access-Control-Allow-Origin\": \"*\"\n  },\n  \"body\": \"{\\\"id\\\": \\\"f9f76590-xxxx-xxxx-xxxx-9c8e99238f40\\\"}\"\n}\n</code></pre>\n\n<p>In the Node case this all works great. I make a <code>fetch</code> call like this and it works (omitted the Promise resolutions for brevity):</p>\n\n<pre><code>  var makeRequest = function (data) {\n    fetch('https://{lambda URL}/hello', {\n      'headers': {\n        'content-type': 'application/json'\n      },\n      'body': JSON.stringify({ data }),\n      'method': 'POST'\n      })\n  }\n</code></pre>\n\n<p>In the Kotlin case I get this CORS error back</p>\n\n<blockquote>\n  <p>Access to fetch at 'https://{lambda URL}/hello' from origin\n  '<a href=\"http://127.0.0.1:8080\" rel=\"nofollow noreferrer\">http://127.0.0.1:8080</a>' has been blocked by CORS policy: No\n  'Access-Control-Allow-Origin' header is present on the requested\n  resource. If an opaque response serves your needs, set the request's\n  mode to 'no-cors' to fetch the resource with CORS disabled.</p>\n</blockquote>\n\n<p>I try to \"enable CORS\" in the API Gateway panel but I get that it's already enabled:</p>\n\n<p><a href=\"https://i.stack.imgur.com/71gbc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/71gbc.png\" alt=\"enter image description here\"></a></p>\n\n<p>And hit submit I get the error (invalid response status code)</p>\n\n<p><a href=\"https://i.stack.imgur.com/KjEBH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KjEBH.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I hover over the error icon it says \"Invalid Response status code specified\".</p>\n\n<p>Under Gateway Responses, under every sub item (Default 4XX, Default 5XXX, etc) there are response headers set. This is the same across my Node and Kotlin lambdas.</p>\n\n<p>I'm completely out of ideas at this point.</p>\n\n<p>The only potentially odd thing is I am noticing that in my Node request I see <code>access-control-allow-origin: *</code> in response headers in the browser network panel but in the Kotlin one I don't see it.</p>\n"}, {"tags": ["kotlin", "intellij-plugin", "kotlintest"], "comments": [{"owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "edited": false, "score": 2, "creation_date": 1572390900, "post_id": 58616234, "comment_id": 103542745, "body": "That&#39;s a bug. Please raise a ticket."}], "owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1572486269, "creation_date": 1572387952, "last_edit_date": 1572486269, "question_id": 58616234, "link": "https://stackoverflow.com/questions/58616234/why-does-kotlintest-idea-plugin-only-nest-the-first-leaf-when-using-isolationmod", "title": "Why does KotlinTest IDEA plugin only nest the first leaf when using IsolationMode.InstancePerLeaf?", "body": "<p>When I do this:</p>\n\n<pre><code>class KotlinTestNestingWithAndTests8 : BehaviorSpec() {\n\n    override fun isolationMode() = IsolationMode.InstancePerLeaf\n\n    init {\n        given(\" Some given\") {\n            and(\"Some and\") {\n                `when`(\"Some when\") {\n                    then(\"First then\") {\n                        (1).shouldBe(1)\n                    }\n                    then(\"Second then\") {\n                        (2).shouldBe(2)\n                    }\n                    then(\"Third then\") {\n                        (3).shouldBe(3)\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>IntelliJ shows this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3oCJk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3oCJk.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Why are the last two leaf tests not nested as siblings of the first leaf test?</p>\n\n<p>Am I not understanding the use case for the <code>InstancePerLeaf</code> setting and tests are not supposed to be nested in this way when using it?</p>\n\n<p>UPDATE: \nI created a bug <a href=\"https://github.com/kotlintest/kotlintest-intellij-plugin/issues/26\" rel=\"nofollow noreferrer\">ticket</a>.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1572395693, "post_id": 58616248, "comment_id": 103543794, "body": "I&#39;ve seen it before, but I think that It&#39;s a clumsy solution. I had to repeat  it in each sealed class that I&#39;ve create in my conde."}, {"owner": {"reputation": 608, "user_id": 3542143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sc1DZ.jpg?s=128&g=1", "display_name": "Julio Lemus", "link": "https://stackoverflow.com/users/3542143/julio-lemus"}, "reply_to_user": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 1, "creation_date": 1572447741, "post_id": 58616248, "comment_id": 103563925, "body": "You are right, it is repeatedly, to avoid it, I have updated the code, removing <code>abstract fun copy(name: String): Person</code> method since that  <code>when(p)</code> block infers the <code>Doctor</code> or <code>Fireman</code> type, so now we can use the default <code>copy</code> method. This works since I&#39;m overriding name attribute and the own specific attributes of inherited classes."}], "tags": [], "owner": {"reputation": 608, "user_id": 3542143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sc1DZ.jpg?s=128&g=1", "display_name": "Julio Lemus", "link": "https://stackoverflow.com/users/3542143/julio-lemus"}, "is_accepted": false, "score": 1, "last_activity_date": 1572448334, "last_edit_date": 1572448334, "creation_date": 1572388084, "answer_id": 58616248, "question_id": 58616019, "link": "https://stackoverflow.com/questions/58616019/how-use-all-subclasses-of-a-sealed-class-to-handle-a-subclass-instance/58616248#58616248", "title": "How use all subclasses of a sealed class to handle a subclass instance?", "body": "<p>One solution to your problem would be to create your own implementation of the abstract <code>copy()</code> method:</p>\n\n<pre><code>sealed class Person {\n    abstract val name: String\n}\n\ndata class Doctor(\n    override val name: String,\n    val license: String,\n    val extraProperty: Any\n) : Person()\n\ndata class Fireman(\n    override var name: String,\n    val medals: Int\n) : Person()\n\nval p: Person = Doctor(\"123\", \"Louis\", \"extra\")\nvar q: Person = when (p) {\n    is Doctor -&gt; p.copy(name = \"New name\", license = \"Other license\", extraProperty = \"extra2\")\n    is Fireman -&gt; p.copy(name = \"New Name\", medals = 15)\n    // And so on...\n}\n</code></pre>\n\n<p>Someone had a problem similar to yours in this post <a href=\"https://stackoverflow.com/a/47624138/3542143\">https://stackoverflow.com/a/47624138/3542143</a></p>\n"}, {"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1572443257, "post_id": 58620092, "comment_id": 103561133, "body": "Sincerily, Instead of getting into that kind of complexity, I&#39;m almost preferring the bad solution to having to manually write all subclasses in my code, and putting a comment on the sealed class definition to never forget it."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1572443446, "post_id": 58620092, "comment_id": 103561239, "body": "In the kind of application I&#39;m doing, which involves trees and graphs, sealed class helps me a lot. I couldn&#39;t give that up without my code getting messy. I use to make  generic nodes that can assume many analogous but not equal types. It&#39;s a kind of union type."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1572418890, "creation_date": 1572418890, "answer_id": 58620092, "question_id": 58616019, "link": "https://stackoverflow.com/questions/58616019/how-use-all-subclasses-of-a-sealed-class-to-handle-a-subclass-instance/58620092#58620092", "title": "How use all subclasses of a sealed class to handle a subclass instance?", "body": "<p>If you want, you <em>can</em> do it by reflection, but I don't think <code>sealedSubclasses</code> will be useful. Approximately (untested):</p>\n\n<pre><code>fun copy(p: Person, name: String) {\n   val copyMethod = p::class.memberFunctions().find { it.name == \"copy\" }!!\n   val params = copyMethod.parameters\n   val receiverParam = params[0]\n   val nameParam = params.find { it.name == \"name\" }!!\n   return copyMethod.callBy(mapOf(receiverParam to p, nameParam to name))\n}\n</code></pre>\n\n<p>Of course, the normal caveats with reflection unsafety and performance apply.</p>\n"}, {"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1572500069, "post_id": 58635124, "comment_id": 103581104, "body": "In the abstract class, I&#39;ve tried to add  <code>abstract fun &lt;T&gt;uCopy(p:T): T</code>  And this code in a subclass <code>override fun &lt;Doctor&gt;uCopy(p:Doctor ):Doctor = p.copy()</code> But if gives a weird error in <code>copy</code> call, even is normally allowed in a data class."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1572500521, "post_id": 58635124, "comment_id": 103581203, "body": "If you use just   <code>fun uCopy(p:Doctor ):Doctor = p.copy()</code>, there is no error, but don&#39;t override nothing."}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 0, "last_activity_date": 1572479294, "creation_date": 1572479294, "answer_id": 58635124, "question_id": 58616019, "link": "https://stackoverflow.com/questions/58616019/how-use-all-subclasses-of-a-sealed-class-to-handle-a-subclass-instance/58635124#58635124", "title": "How use all subclasses of a sealed class to handle a subclass instance?", "body": "<p>You can use generics, I think, if you are using empty arguments for calling <code>copy()</code>. (On my phone, so please excuse any syntax issues here.)</p>\n\n<pre><code>class Person &lt;out T: Person&gt; {\n    abstract var name: String\n    abstract fun unchangedCopy(): T\n}\n\ndata class Unemployed (\n    override var name: String\n): Person&lt;Unemployed&gt;() {\n    override fun unchangedCopy() = copy()\n}\n\nvar p:Person = Unemployed(\u201cJohn\u201d)\nvar q:Person = p.unchangedCopy()\n</code></pre>\n\n<p>This would force you to override <code>unchangedCopy</code> in each new subclass so there\u2019s nothing to forget. </p>\n"}], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1572479294, "creation_date": 1572386589, "last_edit_date": 1572395898, "question_id": 58616019, "link": "https://stackoverflow.com/questions/58616019/how-use-all-subclasses-of-a-sealed-class-to-handle-a-subclass-instance", "title": "How use all subclasses of a sealed class to handle a subclass instance?", "body": "<p>I'm trying to use the new <code>sealedSubclasses</code> feature in <em>Kotlin</em> in practice. I need to process a instance of some subclasses from a sealed class, but I don't kwow previously which subclass is, so the normal procedure is to try all subclasses. </p>\n\n<p>Suppose that there are 20 or more subclasses. </p>\n\n<p>Below, I simplified it a lot to make it easy to follow. I've used just 2 subclasses with  scalar internal types. In real world can be complex object types. </p>\n\n<pre><code>sealed class Person {\n  abstract var name:String\n     // ...\n}\n\ndata class Doctor(      \n  var license: String = \"\",   \n    // ....\n  override var name:String = \"\"\n) : Person()\n\n// ....\ndata class Fireman ( \n  var medals: Int=0, \n  // ....   \n  override var name:String = \"\"\n) : Person()\n</code></pre>\n\n<p>Now I need to clone that structure: First try:</p>\n\n<pre><code>var p:Person = Doctor(\"123\",\"Louis\")\nvar q:Person\n  // ...\nPerson.copy  // it is forbidden\n</code></pre>\n\n<p>So I need to do</p>\n\n<pre><code>var p:Person = Doctor(\"123\",\"Louis\")\nvar q:Person\nwhen (p) {\nis Doctor -&gt; q = p.copy()   \n   // ...\nis Fireman -&gt; q = p.copy()\n}   \n</code></pre>\n\n<p>Notice that it is bad code, because always that I add a new subclass, I  have to add manually in clone process, repeating the sub block. </p>\n\n<p>So I try to use <code>sealedSubclasses</code>, but I didn't get connect the subclass with a type in order to simulate the previous code</p>\n\n<p>for (subClass in Token::class.sealedSubclasses) {\n      if (ele::class.simpleName as String== derived.qualifiedName){\n            // ??????\n      }\n  }</p>\n\n<p>What can I do? </p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-livedata"], "comments": [{"owner": {"reputation": 700, "user_id": 5216062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fkesh.jpg?s=128&g=1", "display_name": "Amit Tiwary", "link": "https://stackoverflow.com/users/5216062/amit-tiwary"}, "edited": false, "score": 0, "creation_date": 1572413762, "post_id": 58615428, "comment_id": 103547301, "body": "why do you wants LiveData return type in db.rDao().getR()? You can return only REntity."}, {"owner": {"reputation": 5795, "user_id": 3253896, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fa6d2f73d0c32ee94e11661d94857fc8?s=128&d=identicon&r=PG", "display_name": "\u0428\u0430\u0445", "link": "https://stackoverflow.com/users/3253896/%d0%a8%d0%b0%d1%85"}, "reply_to_user": {"reputation": 700, "user_id": 5216062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fkesh.jpg?s=128&g=1", "display_name": "Amit Tiwary", "link": "https://stackoverflow.com/users/5216062/amit-tiwary"}, "edited": false, "score": 0, "creation_date": 1572413896, "post_id": 58615428, "comment_id": 103547321, "body": "@AmitTiwary I just want to get few linked entities by foreign keys. But I didn&#39;t find in official doc how to make it."}, {"owner": {"reputation": 700, "user_id": 5216062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fkesh.jpg?s=128&g=1", "display_name": "Amit Tiwary", "link": "https://stackoverflow.com/users/5216062/amit-tiwary"}, "edited": false, "score": 1, "creation_date": 1572414935, "post_id": 58615428, "comment_id": 103547563, "body": "can you add your entities and also describe what you want to do exactly so that we can help you easily."}, {"owner": {"reputation": 5795, "user_id": 3253896, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fa6d2f73d0c32ee94e11661d94857fc8?s=128&d=identicon&r=PG", "display_name": "\u0428\u0430\u0445", "link": "https://stackoverflow.com/users/3253896/%d0%a8%d0%b0%d1%85"}, "reply_to_user": {"reputation": 700, "user_id": 5216062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fkesh.jpg?s=128&g=1", "display_name": "Amit Tiwary", "link": "https://stackoverflow.com/users/5216062/amit-tiwary"}, "edited": false, "score": 0, "creation_date": 1572416267, "post_id": 58615428, "comment_id": 103547896, "body": "@AmitTiwary, I have updated my question"}], "owner": {"reputation": 5795, "user_id": 3253896, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fa6d2f73d0c32ee94e11661d94857fc8?s=128&d=identicon&r=PG", "display_name": "\u0428\u0430\u0445", "link": "https://stackoverflow.com/users/3253896/%d0%a8%d0%b0%d1%85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572416246, "creation_date": 1572383151, "last_edit_date": 1572416246, "question_id": 58615428, "link": "https://stackoverflow.com/questions/58615428/how-to-fetch-linked-livedata-in-room-livedata", "title": "How to fetch linked LiveData in Room LiveData?", "body": "<p>I have few linked tables (entities):</p>\n\n<pre><code>@Entity(\n        tableName = L.TABLE_NAME,\n        foreignKeys = [\n            ForeignKey(\n                    entity = S::class,\n                    parentColumns = [KeyEntity.K_ID],\n                    childColumns = [L.K_S_ID],\n                    onUpdate = ForeignKey.CASCADE,\n                    onDelete = ForeignKey.CASCADE),\n            ForeignKey(entity = T::class,\n                    parentColumns = [KeyEntity.K_ID],\n                    childColumns = [L.K_T_ID],\n                    onUpdate = ForeignKey.CASCADE,\n                    onDelete = ForeignKey.SET_NULL\n            )\n        ]\n)\nclass L(\n        id: Int = INVALID_ID,\n\n        @ColumnInfo(name = K_S_ID, index = true)\n        var sId: Int = INVALID_ID,\n\n        @ColumnInfo(name = K_T_ID, index = true)\n        var tId: Int? = null\n) : KeyEntity(id)\n\n@Entity(tableName = S.TABLE_NAME)\nclass S(\n        id: Int = INVALID_ID,\n        /* Other fields */\n) : KeyEntity(id)\n\n@Entity(tableName = T.TABLE_NAME)\nclass T(\n        id: Int = INVALID_ID,\n        /* Other fields */\n) : KeyEntity(id)\n</code></pre>\n\n<p>I need to get all L-entites and their linked (by foreign key) S- and T-entities to build items for my adapter. Now, I have the next function:  </p>\n\n<pre><code>fun fetch(): LiveData&lt;MutableList&lt;LAdapter.LItem&gt;&gt; {\n    return Transformations.map(db.lDao().getLs()) {\n        val lItems = mutableListOf&lt;LAdapter.LItem&gt;()\n        it.forEach { l -&gt;\n            lItems.add(LAdapter.LItem(\n                    s = \"S text\", // db.sDao().getS(l.sId)/../.name\n                    t = \"T text\" // db.tDao().getT(l.tId)/../.name\n            ))\n        }\n        lItems\n    }\n}\n</code></pre>\n\n<p>The problem is that <code>getS()</code> and <code>getT()</code> return <code>LiveData&lt;S&gt;</code> and <code>LiveData&lt;T&gt;</code> and I can't get how to combine all these three <code>LiveData</code>s together. And it also looks stupidly to write for each DAO-method two variant with <code>LiveData</code> and not-<code>LiveData</code>.  </p>\n\n<p>What's right way to get few linked entities in Room when you are using <code>LiveData</code>?</p>\n"}, {"tags": ["android", "inheritance", "kotlin", "android-room", "data-class"], "answers": [{"comments": [{"owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "edited": false, "score": 0, "creation_date": 1572381895, "post_id": 58614933, "comment_id": 103540126, "body": "Thank you very much for your answer. I will try this out. My use case is, that I want get all user from the database. Premium and FreeUser. How can I do that?"}], "tags": [], "owner": {"reputation": 299, "user_id": 12285897, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZUuvoOhgfJs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5Qxnd5G30qS4ZyPSbNHcjzAc0AQ/photo.jpg?sz=128", "display_name": "Milan Kundacina", "link": "https://stackoverflow.com/users/12285897/milan-kundacina"}, "is_accepted": false, "score": 0, "last_activity_date": 1572382544, "last_edit_date": 1572382544, "creation_date": 1572380845, "answer_id": 58614933, "question_id": 58614623, "link": "https://stackoverflow.com/questions/58614623/room-database-inheritance-data-class/58614933#58614933", "title": "Room Database inheritance data class", "body": "<p>You can try this way</p>\n\n<pre><code>open class User {\n       open var name: String = \"\"\n       open var id: Int = 0\n}\n\ndata class PremiumUser(\n    override var name: String,\n    override var id: Int,\n     var premiumUserAttirbute: String\n) : User()\n\ndata class FreeUser(\n     override var name: String,\n     override var id: Int,\n     var freeUserAttirbute: String\n) : User ()\n\n</code></pre>\n\n<ul>\n<li>You can't have every entity with same table name.</li>\n<li>If you retrieve User object from database you won't have additional fields from Premium or Free user.</li>\n<li>If this is your reals use case than you should be fine with one entity that has name, id and flag that is boolean and if true than it is premium if is false than is free user.</li>\n</ul>\n\n<p>There is not really much sense in using inheritence with data classes because it cancels out their purpose.</p>\n\n<p><strong>Edit answer to question in comments</strong></p>\n\n<p>Create one entity</p>\n\n<pre><code>@Entity(tablename = \"users\")\ndata class User(\n    var id: Int,\n    var name: String,\n    var isPremium: Boolean\n)\n</code></pre>\n\n<p>and DAO should look like this</p>\n\n<pre><code>interface UserDao {\n   @Query(\"SELECT * FROM users\")\n   fun getAllUsers(): List&lt;User&gt;\n}\n</code></pre>\n\n<p>This whay you get all users. If you want to see who is premium then just check if field <code>isPremium</code> is true. If user is free user, then <code>isPremium</code> should be false.</p>\n"}], "owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 410, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572382544, "creation_date": 1572379518, "last_edit_date": 1572380019, "question_id": 58614623, "link": "https://stackoverflow.com/questions/58614623/room-database-inheritance-data-class", "title": "Room Database inheritance data class", "body": "<p>I'm wondering how to inhire to a data class in Room database.\nAs example a have something like this</p>\n\n<pre><code>@Entity(tablename = \"user\")\nabstract class User {\n       var name: String,\n       var id: Int\n}\n</code></pre>\n\n<p>Now I want to create a specific user, that has all the attributes of the User class as an entity to store and load them from database</p>\n\n<pre><code>@Entity(tablename = \"user\")\ndata class FreeUser {\n     override var name: String,\n     override var id: Int,\n     var freeUserAttirbute: String\n} : User ()\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Entity(tablename = \"user\")\ndata class PremiumUser {\n     override var name: String,\n     override var id: Int,\n     var premiumUserAttirbute: String\n} : User ()\n</code></pre>\n\n<p>as a DAO I would write something like this</p>\n\n<pre><code>interface UserDao {\n   @Query(\"SELECT * FROM 'user'\")\n   fun getAllUser(): List&lt;User&gt;\n</code></pre>\n\n<p>Now when I build my application room is telling me, that the <code>User</code> class can't be abstract. How can I solve this inheritance issue in data class and Room? </p>\n"}, {"tags": ["kotlin", "hashmap", "kotlin-null-safety"], "answers": [{"comments": [{"owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "edited": false, "score": 0, "creation_date": 1572380110, "post_id": 58614704, "comment_id": 103539339, "body": "Thanks for your answer. I would like to use only the bracket notation. Isn&#39;t it possible?"}, {"owner": {"reputation": 723, "user_id": 797108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0456f790248fed936e6ced48654a91aa?s=128&d=identicon&r=PG", "display_name": "C-Shark", "link": "https://stackoverflow.com/users/797108/c-shark"}, "reply_to_user": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "edited": false, "score": 0, "creation_date": 1572380624, "post_id": 58614704, "comment_id": 103539583, "body": "I think not this way. You can use this kind of aberration: <code>println((mapOfMap[&quot;Key1&quot;] ?: mapOf())[&quot;Subkey1&quot;])</code> but it&#39;s not exactly what you want. Perhaps you could experiment with a special kind of map (like EnumMap or something) where you can be sure there is a value for every key you can pass, but i&#39;m not sure about it, it&#39;s only an idea :)"}], "tags": [], "owner": {"reputation": 723, "user_id": 797108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0456f790248fed936e6ced48654a91aa?s=128&d=identicon&r=PG", "display_name": "C-Shark", "link": "https://stackoverflow.com/users/797108/c-shark"}, "is_accepted": false, "score": 3, "last_activity_date": 1572379850, "creation_date": 1572379850, "answer_id": 58614704, "question_id": 58614566, "link": "https://stackoverflow.com/questions/58614566/bracket-notation-in-a-map-of-map-in-kotlin/58614704#58614704", "title": "Bracket notation in a Map of Map in Kotlin", "body": "<p>Because <code>mapOfMap[\"Key1\"]</code> could return null, since it cannot guess if the desired key is in the map or not. It's the same as calling <code>mapOfMap.get(\"Key1\")</code>. The second map can be null, thus it cannot call another <code>.get()</code> on it. You can do this instead: <code>mapOfMap[\"Key1\"]?.get(\"Subkey1\")</code></p>\n"}, {"comments": [{"owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "edited": false, "score": 0, "creation_date": 1572410003, "post_id": 58615574, "comment_id": 103546489, "body": "I wonder why this extension get operator function with nullable Map receiver isn&#39;t defined in the standard library."}], "tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": true, "score": 3, "last_activity_date": 1572384005, "creation_date": 1572384005, "answer_id": 58615574, "question_id": 58614566, "link": "https://stackoverflow.com/questions/58614566/bracket-notation-in-a-map-of-map-in-kotlin/58615574#58615574", "title": "Bracket notation in a Map of Map in Kotlin", "body": "<p><code>mapOfMap[\"Key1\"]</code> returns <code>Map&lt;String, String&gt;?</code>, and <code>get</code> operator isn't specified for nullable <code>Map</code>. Therefore, the following code does not compile:</p>\n\n<pre><code>mapOfMap[\"Key1\"][\"Subkey1\"]\n</code></pre>\n\n<p>You can make it compile by creating extension <code>get</code> <code>operator</code> function with nullable <code>Map</code> receiver:</p>\n\n<pre><code>operator fun &lt;K, V&gt; Map&lt;K, V&gt;?.get(key: K): V? = this?.get(key)\n</code></pre>\n\n<hr>\n\n<p>You can also create an extension <code>get</code> <code>operator</code> function for maps of maps:</p>\n\n<pre><code>operator fun &lt;K1, K2, V&gt; Map&lt;K1, Map&lt;K2, V&gt;&gt;.get(key1: K1, key2: K2): V? = get(key1)?.get(key2)\n</code></pre>\n\n<p>And use it this way:</p>\n\n<pre><code>mapOfMap[\"Key1\", \"Subkey1\"]\n</code></pre>\n"}], "owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 58615574, "answer_count": 2, "score": 0, "last_activity_date": 1572384005, "creation_date": 1572379225, "question_id": 58614566, "link": "https://stackoverflow.com/questions/58614566/bracket-notation-in-a-map-of-map-in-kotlin", "title": "Bracket notation in a Map of Map in Kotlin", "body": "<p>In Kotlin it is possible to use bracket notation with a Map, so the following code: </p>\n\n<pre><code>  val mapOfMap: Map&lt;String, Map&lt;String, String&gt;&gt; = mapOf(\"Key1\" to mapOf(\"Subkey1\" to \"Value1\", \"Subkey2\" to \"Value2\"))\n  println(mapOfMap[\"Key1\"])\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>{Subkey1=Value1, Subkey2=Value2}\n</code></pre>\n\n<p>That's great. But why can't I do the following </p>\n\n<pre><code>println(mapOfMap[\"Key1\"][\"Subkey1\"])\n</code></pre>\n\n<p>It causes a compilation error: <strong><em>Only safe (?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type Map?</em></strong></p>\n\n<p>What is the proper way to handle this?</p>\n"}, {"tags": ["java", "spring-boot", "kotlin", "spring-webflux"], "comments": [{"owner": {"reputation": 4571, "user_id": 227294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38f26ef217abf3bb6263f7b01c164a22?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/227294/andreas"}, "edited": false, "score": 0, "creation_date": 1572382903, "post_id": 58614328, "comment_id": 103540507, "body": "Does this help? <a href=\"https://github.com/spring-projects/spring-framework/blob/7d02ba0694b7b20f3af0ecb739851a008aff5b95/spring-webflux/src/test/java/org/springframework/web/reactive/result/method/annotation/MultipartIntegrationTests.java#L265\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/blob/&hellip;</a>"}, {"owner": {"reputation": 6419, "user_id": 1840146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/846e219cba64c80b7b0398b239cd4db9?s=128&d=identicon&r=PG", "display_name": "Toerktumlare", "link": "https://stackoverflow.com/users/1840146/toerktumlare"}, "edited": false, "score": 0, "creation_date": 1572383039, "post_id": 58614328, "comment_id": 103540562, "body": "look into sending multipart bodys with rest and then read this <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-multipart\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 7200236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-l-8BwGpRqso/AAAAAAAAAAI/AAAAAAAAAgY/xWb4wGHPluE/photo.jpg?sz=128", "display_name": "Israel Rodrigues", "link": "https://stackoverflow.com/users/7200236/israel-rodrigues"}, "reply_to_user": {"reputation": 616, "user_id": 2138602, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c2e34e12d177f05813f020074df52778?s=128&d=identicon&r=PG", "display_name": "Jesse Nelson", "link": "https://stackoverflow.com/users/2138602/jesse-nelson"}, "edited": false, "score": 0, "creation_date": 1576242788, "post_id": 58615956, "comment_id": 104846163, "body": "@JesseNelson why?"}], "tags": [], "owner": {"reputation": 145, "user_id": 7200236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-l-8BwGpRqso/AAAAAAAAAAI/AAAAAAAAAgY/xWb4wGHPluE/photo.jpg?sz=128", "display_name": "Israel Rodrigues", "link": "https://stackoverflow.com/users/7200236/israel-rodrigues"}, "is_accepted": false, "score": 0, "last_activity_date": 1572386205, "creation_date": 1572386205, "answer_id": 58615956, "question_id": 58614328, "link": "https://stackoverflow.com/questions/58614328/how-can-i-upload-and-read-a-text-file-with-spring-webflux/58615956#58615956", "title": "How can i upload and read a text file with spring webflux?", "body": "<p>I made it work using the following code:</p>\n\n<pre><code>    @PostMapping(\"/upload\")\nfun readFile(@RequestPart(\"file\", required = true) file: Mono&lt;FilePart&gt;): Mono&lt;ResponseEntity&lt;String&gt;&gt; {\n\n    return file.flatMap {\n        it.content().map { dataBuffer -&gt;\n            IOUtils.inputStreamAsString(dataBuffer.asInputStream(), \"UTF-8\")\n        }.toMono()\n    }.map {\n        ResponseEntity.ok()\n                .body(it)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 7200236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-l-8BwGpRqso/AAAAAAAAAAI/AAAAAAAAAgY/xWb4wGHPluE/photo.jpg?sz=128", "display_name": "Israel Rodrigues", "link": "https://stackoverflow.com/users/7200236/israel-rodrigues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 991, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572386205, "creation_date": 1572378090, "question_id": 58614328, "link": "https://stackoverflow.com/questions/58614328/how-can-i-upload-and-read-a-text-file-with-spring-webflux", "title": "How can i upload and read a text file with spring webflux?", "body": "<p>I need to upload a file and read the content, with spring mvc that is easy, but with spring webflux I have no idea how to deal with a FilePart and a Flux of DataBuffer</p>\n\n<p>I'm expecting something like this return:</p>\n\n<pre><code>    @PostMapping(\"/upload\")\n    fun readFile(@RequestPart(\"file\", required = true) file: Mono&lt;FilePart&gt;): Mono&lt;ResponseEntity&lt;String&gt;&gt; {\n        return Mono.just(\"my text content\")\n                .map {\n                    ResponseEntity.ok()\n                            .body(it)\n                }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 6803263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57fae0bdebcf13ba3ef8f5b7df3a7e5a?s=128&d=identicon&r=PG&f=1", "display_name": "Ekta Dushanj", "link": "https://stackoverflow.com/users/6803263/ekta-dushanj"}, "edited": false, "score": 0, "creation_date": 1572409414, "post_id": 58614408, "comment_id": 103546366, "body": "Parcelable {     constructor(source: Parcel) : this(             source.readString(),             source.readString(),             source.readString(),             source.readString(),             ArrayList&lt;ChartValue&gt;().apply { source.readList(this, ChartValue::class.java.classLoader) }     )  I tried that then getting error in readstring so i resolve like this"}], "tags": [], "owner": {"reputation": 299, "user_id": 12285897, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZUuvoOhgfJs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5Qxnd5G30qS4ZyPSbNHcjzAc0AQ/photo.jpg?sz=128", "display_name": "Milan Kundacina", "link": "https://stackoverflow.com/users/12285897/milan-kundacina"}, "is_accepted": false, "score": 0, "last_activity_date": 1572378505, "creation_date": 1572378505, "answer_id": 58614408, "question_id": 58614312, "link": "https://stackoverflow.com/questions/58614312/data-class-contructor-in-kotlin/58614408#58614408", "title": "data class contructor in kotlin", "body": "<p>You are missing one field in second constructor, that is why this can't be resolved.</p>\n\n<pre><code>constructor(source: Parcel) : this(\n    source.readString(),\n    source.readString(),\n    source.readString(),\n    source.readString(),\n    ArrayList&lt;ChartValues&gt;().apply {\n        source.readList(\n            this,\n            ChartValues::class.java.classLoader\n        )\n    }\n\n)\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 6803263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57fae0bdebcf13ba3ef8f5b7df3a7e5a?s=128&d=identicon&r=PG&f=1", "display_name": "Ekta Dushanj", "link": "https://stackoverflow.com/users/6803263/ekta-dushanj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1572378505, "creation_date": 1572378005, "question_id": 58614312, "link": "https://stackoverflow.com/questions/58614312/data-class-contructor-in-kotlin", "title": "data class contructor in kotlin", "body": "<p>data class itemsInfo(\n    @SerializedName(\"name\")\n    val name: String,</p>\n\n<pre><code>@SerializedName(\"unit\")\nval unit: String,\n\n@SerializedName(\"period\")\nval period: String,\n\n@SerializedName(\"description\")\nval description: String,\n\n@SerializedName(\"values\")\nval values: List&lt;ChartValues&gt;\n</code></pre>\n\n<p>) : Parcelable {</p>\n\n<pre><code>constructor(source: Parcel) : this(\n    source.readString(),\n    source.readString(),\n    source.readString(),\n    ArrayList&lt;ChartValues&gt;().apply {\n        source.readList(\n            this,\n            ChartValues::class.java.classLoader\n        )\n    }\n\n)\n</code></pre>\n\n<p>this is my data clas while making contructor unable to resolve \"this\" keyword. Please suggest</p>\n"}, {"tags": ["android", "laravel", "kotlin", "websocket", "pusher"], "comments": [{"owner": {"reputation": 97, "user_id": 8177126, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/49c9189deeb9c3998557638afa6f07e6?s=128&d=identicon&r=PG&f=1", "display_name": "Vander Ig", "link": "https://stackoverflow.com/users/8177126/vander-ig"}, "edited": false, "score": 0, "creation_date": 1572373828, "post_id": 58612856, "comment_id": 103536968, "body": "Digging deeper into the pusher client library: <a href=\"https://github.com/pusher/pusher-websocket-java\" rel=\"nofollow noreferrer\">github.com/pusher/pusher-websocket-java</a> I managed to log what happens between connecting and reconnecting. The code I get is -1 the reason field is empty and the remote flag is set to true."}], "owner": {"reputation": 97, "user_id": 8177126, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/49c9189deeb9c3998557638afa6f07e6?s=128&d=identicon&r=PG&f=1", "display_name": "Vander Ig", "link": "https://stackoverflow.com/users/8177126/vander-ig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1572375293, "creation_date": 1572371087, "last_edit_date": 1572375293, "question_id": 58612856, "link": "https://stackoverflow.com/questions/58612856/pusher-client-stuck-on-reconnecting-mode", "title": "Pusher client stuck on reconnecting mode", "body": "<p>I've been trying to connect to my laravel server using a pusher client for a while now and without success. When I try to connect to pusher's servers the connection is successful. With my server on the other hand the results are mixed.</p>\n\n<p>When I leave encryption set to true I get the following exception: \n<code>javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.</code>\nWhich I'm assuming is due to the server's certificate not being signed by a trusted authority.\nso, I set encryption to false what I get are the following logs:</p>\n\n<pre><code>10-29 10:37:23.991 23048-23658/xxx connection state changed CONNECTING\n10-29 10:37:24.041 23048-23658/xxx connection state changed RECONNECTING\n10-29 10:37:25.041 23048-23658/xxx E/teste: connection state changed CONNECTING\n10-29 10:37:25.081 23048-23658/xxx E/teste: connection state changed RECONNECTING\n10-29 10:37:29.081 23048-23658/xxx E/teste: connection state changed CONNECTING\n10-29 10:37:29.141 23048-23658/xxx E/teste: connection state changed RECONNECTING\n10-29 10:37:38.151 23048-23658/xxx E/teste: connection state changed CONNECTING\n10-29 10:37:38.221 23048-23658/xxx E/teste: connection state changed RECONNECTING\n10-29 10:37:54.231 23048-23658/xxxx E/teste: connection state changed CONNECTING\n10-29 10:37:54.301 23048-23658/xxx E/teste: connection state changed RECONNECTING\n10-29 10:38:19.301 23048-23658/xxx E/teste: connection state changed CONNECTING\n10-29 10:38:19.371 23048-23658/xxx E/teste: connection state changed RECONNECTING\n10-29 10:38:49.371 23048-23658/xxx E/teste: connection state changed CONNECTING\n10-29 10:38:49.441 23048-23658/xxx E/teste: connection state changed DISCONNECTING\n10-29 10:38:49.441 23048-23658/xxx E/teste: connection state changed DISCONNECTED\n</code></pre>\n\n<p>It never connects.</p>\n\n<pre><code>        val pusherOptions = PusherOptions()\n        pusherOptions.setHost(\"aaa.bbb.ccc\")\n        pusherOptions.setWssPort(xxx)\n        pusherOptions.setWsPort(xxx)\n        pusherOptions.isEncrypted = false\n        pusherOptions.pongTimeout = 300000\n\n        pusher = Pusher(\"appkey\", pusherOptions)\n\n        pusher?.connect(object : com.pusher.client.connection.ConnectionEventListener{\n            override fun onConnectionStateChange(change: ConnectionStateChange?) {\n                Log.e(\"teste\",\"connection state changed ${change?.currentState}\")\n\n            }\n\n            override fun onError(message: String?, code: String?, e: Exception?) {\n                Log.e(\"teste\",\"error : $message\")\n                Log.e(\"teste\",\"exception: ${e.toString()}\")\n            }\n\n        },ConnectionState.ALL)\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "plugins"], "comments": [{"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1572793734, "post_id": 58612343, "comment_id": 103662548, "body": "Please refrain from adding salutations (&quot;Hi&quot;) and sign-offs (&quot;thanks&quot;) to your posts. Technical writing is preferred here."}], "answers": [{"comments": [{"owner": {"reputation": 2319, "user_id": 5532616, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-x4ZpMuBY4Jw/AAAAAAAAAAI/AAAAAAAAE1I/PQsLGl11CL4/photo.jpg?sz=128", "display_name": "L&#234; Kh&#225;nh Vinh", "link": "https://stackoverflow.com/users/5532616/l%c3%aa-kh%c3%a1nh-vinh"}, "edited": false, "score": 0, "creation_date": 1572377495, "post_id": 58614036, "comment_id": 103538339, "body": "thanks use plugins {} in buildSrc work but is this the only option? can we use custom plugin or precompile script to configure extension? (some thing like put detekt {} inside these file?"}, {"owner": {"reputation": 51, "user_id": 6591865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kZ3mK.jpg?s=128&g=1", "display_name": "PurpleBugDroid", "link": "https://stackoverflow.com/users/6591865/purplebugdroid"}, "reply_to_user": {"reputation": 2319, "user_id": 5532616, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-x4ZpMuBY4Jw/AAAAAAAAAAI/AAAAAAAAE1I/PQsLGl11CL4/photo.jpg?sz=128", "display_name": "L&#234; Kh&#225;nh Vinh", "link": "https://stackoverflow.com/users/5532616/l%c3%aa-kh%c3%a1nh-vinh"}, "edited": false, "score": 0, "creation_date": 1572382075, "post_id": 58614036, "comment_id": 103540198, "body": "@L&#234;Kh&#225;nhVinh yes I believe if you follow the pattern in the docs here: <a href=\"https://docs.gradle.org/current/userguide/custom_plugins.html#sec:writing_a_simple_plugin\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"}, {"owner": {"reputation": 2638, "user_id": 2243178, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/6vqYV.jpg?s=128&g=1", "display_name": "Phan Dinh Thai", "link": "https://stackoverflow.com/users/2243178/phan-dinh-thai"}, "edited": false, "score": 0, "creation_date": 1616674298, "post_id": 58614036, "comment_id": 118079933, "body": "Thanks for the answer. For those who came here and looking for an answer, please notice that the format need to be  plugins {    &quot; io.gitlab.arturbosch.detekt&quot; }"}, {"owner": {"reputation": 51, "user_id": 6591865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kZ3mK.jpg?s=128&g=1", "display_name": "PurpleBugDroid", "link": "https://stackoverflow.com/users/6591865/purplebugdroid"}, "edited": false, "score": 0, "creation_date": 1616774969, "post_id": 58614036, "comment_id": 118117183, "body": "Usually back ticks work. I edited my answer to add the missing back tick"}], "tags": [], "owner": {"reputation": 51, "user_id": 6591865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kZ3mK.jpg?s=128&g=1", "display_name": "PurpleBugDroid", "link": "https://stackoverflow.com/users/6591865/purplebugdroid"}, "is_accepted": false, "score": 3, "last_activity_date": 1616774899, "last_edit_date": 1616774899, "creation_date": 1572376639, "answer_id": 58614036, "question_id": 58612343, "link": "https://stackoverflow.com/questions/58612343/apply-plugin-in-precompile-script-with-gradle-and-kotlin/58614036#58614036", "title": "Apply plugin in precompile script with Gradle and Kotlin", "body": "<p>Without being able to see your build structure and file tree I can only answer based on how I'm understanding your question. Based on the error message you are receiving, you should be declaring the plugin dependency in the project level build.gradle.kts:</p>\n<pre><code>plugins {\n    id(&quot;io.gitlab.arturbosch.detekt&quot;) version &quot;1.1.1&quot;\n}\n</code></pre>\n<p>Then in your buildSrc/build.gradle implement it like so:</p>\n<pre><code>plugins {\n    `io.gitlab.arturbosch.detekt`\n}\n</code></pre>\n<p>Gradle has samples on GitHub, from which I drew this example, here:\n<a href=\"https://github.com/gradle/kotlin-dsl-samples/tree/master/samples/multi-kotlin-project-with-buildSrc\" rel=\"nofollow noreferrer\">https://github.com/gradle/kotlin-dsl-samples/tree/master/samples/multi-kotlin-project-with-buildSrc</a></p>\n"}], "owner": {"reputation": 2319, "user_id": 5532616, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-x4ZpMuBY4Jw/AAAAAAAAAAI/AAAAAAAAE1I/PQsLGl11CL4/photo.jpg?sz=128", "display_name": "L&#234; Kh&#225;nh Vinh", "link": "https://stackoverflow.com/users/5532616/l%c3%aa-kh%c3%a1nh-vinh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1276, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1616774899, "creation_date": 1572369049, "last_edit_date": 1572793704, "question_id": 58612343, "link": "https://stackoverflow.com/questions/58612343/apply-plugin-in-precompile-script-with-gradle-and-kotlin", "title": "Apply plugin in precompile script with Gradle and Kotlin", "body": "<p>I'm trying to apply <code>precompile</code> script <code>gradle.kts</code> file (<code>gradle.kts</code> script is put in <code>buildSrc/main/java</code>. everything work normally except that i can not add a plugin with version. for example my <code>test.gradle.kts</code> </p>\n\n<pre><code>plugins {\n  id(\"io.gitlab.arturbosch.detekt\") version \"1.1.1\"\n}\n</code></pre>\n\n<p>but always got the error </p>\n\n<pre><code>Invalid plugin request [id: 'io.gitlab.arturbosch.detekt', version: '1.1.1']. Plugin requests from precompiled scripts must not include a version number. Please remove the version from the offending request and make sure the module containing the requested plugin 'io.gitlab.arturbosch.detekt' is an implementation dependency of project ':buildSrc'.\n</code></pre>\n\n<p>And also I cannot the class to configure extension</p>\n\n<p>For example, this normally configuration is not working</p>\n\n<pre><code>configure&lt;DetektExtension&gt;\n</code></pre>\n\n<p>How can we specify plugin version in <code>precompile</code> <code>script</code>? and how can we configure the plugin?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 783, "user_id": 4081756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c70b015c558d62b32386325129cad0?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Stillitano", "link": "https://stackoverflow.com/users/4081756/brandon-stillitano"}, "edited": false, "score": 0, "creation_date": 1572369845, "post_id": 58612200, "comment_id": 103535275, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/3841317/how-do-i-see-if-wi-fi-is-connected-on-android\">How do I see if Wi-Fi is connected on Android?</a>"}, {"owner": {"reputation": 13, "user_id": 12292713, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hXnUHko280A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reiQ_UoQSzIDZdsU0R8ojz_NQbJGg/photo.jpg?sz=128", "display_name": "Matheus Hofstede", "link": "https://stackoverflow.com/users/12292713/matheus-hofstede"}, "reply_to_user": {"reputation": 783, "user_id": 4081756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c70b015c558d62b32386325129cad0?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Stillitano", "link": "https://stackoverflow.com/users/4081756/brandon-stillitano"}, "edited": false, "score": 0, "creation_date": 1572374586, "post_id": 58612200, "comment_id": 103537258, "body": "TYPE_WIFI is deprecated"}, {"owner": {"reputation": 13, "user_id": 12292713, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hXnUHko280A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reiQ_UoQSzIDZdsU0R8ojz_NQbJGg/photo.jpg?sz=128", "display_name": "Matheus Hofstede", "link": "https://stackoverflow.com/users/12292713/matheus-hofstede"}, "reply_to_user": {"reputation": 783, "user_id": 4081756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c70b015c558d62b32386325129cad0?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Stillitano", "link": "https://stackoverflow.com/users/4081756/brandon-stillitano"}, "edited": false, "score": 0, "creation_date": 1572374814, "post_id": 58612200, "comment_id": 103537346, "body": "Found this solution: <a href=\"https://stackoverflow.com/questions/6593858/checking-wi-fi-enabled-or-not-on-android\" title=\"checking wi fi enabled or not on android\">stackoverflow.com/questions/6593858/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1572375223, "post_id": 58613678, "comment_id": 103537498, "body": "A link only answer is not an answer. Best to include the link as comment or mark this question as duplicate"}], "tags": [], "owner": {"reputation": 13, "user_id": 12292713, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hXnUHko280A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reiQ_UoQSzIDZdsU0R8ojz_NQbJGg/photo.jpg?sz=128", "display_name": "Matheus Hofstede", "link": "https://stackoverflow.com/users/12292713/matheus-hofstede"}, "is_accepted": false, "score": 0, "last_activity_date": 1572374979, "creation_date": 1572374979, "answer_id": 58613678, "question_id": 58612200, "link": "https://stackoverflow.com/questions/58612200/how-to-get-wi-fi-state-on-off-on-sdk-28/58613678#58613678", "title": "How to get Wi-FI state (ON/OFF) on sdk 28", "body": "<p>The first answer does exactly what i need without deprecation warning:\n<a href=\"https://stackoverflow.com/questions/6593858/checking-wi-fi-enabled-or-not-on-android\">Checking Wi-Fi enabled or not on Android</a></p>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 4350523, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-91vUDMVxCjA/AAAAAAAAAAI/AAAAAAAAEBE/yX0RwjVf4K8/photo.jpg?sz=128", "display_name": "Vivek Vinodh", "link": "https://stackoverflow.com/users/4350523/vivek-vinodh"}, "is_accepted": true, "score": 0, "last_activity_date": 1572375632, "creation_date": 1572375632, "answer_id": 58613820, "question_id": 58612200, "link": "https://stackoverflow.com/questions/58612200/how-to-get-wi-fi-state-on-off-on-sdk-28/58613820#58613820", "title": "How to get Wi-FI state (ON/OFF) on sdk 28", "body": "<pre><code>WifiManager.isWifiEnabled()\n</code></pre>\n\n<p>returns true if Wifi is enabled. <a href=\"https://developer.android.com/reference/android/net/wifi/WifiManager.html#isWifiEnabled()\" rel=\"nofollow noreferrer\">link to doc</a></p>\n\n<hr>\n\n<p>Another a good option is:</p>\n\n<pre><code>WifiManager.getWifiState()\n</code></pre>\n\n<p>returns an int: One of <code>WIFI_STATE_DISABLED, WIFI_STATE_DISABLING, WIFI_STATE_ENABLED, WIFI_STATE_ENABLING, WIFI_STATE_UNKNOWN</code></p>\n\n<p><a href=\"https://developer.android.com/reference/android/net/wifi/WifiManager.html#getWifiState()\" rel=\"nofollow noreferrer\">link to doc</a></p>\n"}], "owner": {"reputation": 13, "user_id": 12292713, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hXnUHko280A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reiQ_UoQSzIDZdsU0R8ojz_NQbJGg/photo.jpg?sz=128", "display_name": "Matheus Hofstede", "link": "https://stackoverflow.com/users/12292713/matheus-hofstede"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 58613820, "answer_count": 2, "score": 1, "last_activity_date": 1572375632, "creation_date": 1572368480, "question_id": 58612200, "link": "https://stackoverflow.com/questions/58612200/how-to-get-wi-fi-state-on-off-on-sdk-28", "title": "How to get Wi-FI state (ON/OFF) on sdk 28", "body": "<p>There are a lot of answers about how to check if the device is connected on wifi or Data, using:</p>\n\n<pre><code>hasTransport(NetworkCapabilities.TRANSPORT_WIFI/TRANSPORT_CELLULAR) \n</code></pre>\n\n<p>What is the current non-deprecated way to see if Wifi is enabled (not connected), like:</p>\n\n<pre><code>BluetoothAdapter.getDefaultAdapter().isEnabled\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 10947, "user_id": 4094260, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/A5fz9.jpg?s=128&g=1", "display_name": "Nongthonbam Tonthoi", "link": "https://stackoverflow.com/users/4094260/nongthonbam-tonthoi"}, "edited": false, "score": 0, "creation_date": 1572367399, "post_id": 58611875, "comment_id": 103534077, "body": "Have you tried <code>R.id.listView</code> ?"}, {"owner": {"reputation": 446, "user_id": 5580210, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTczQ5V-qHA/AAAAAAAAAAI/AAAAAAAABdw/zjiyopDTVD0/photo.jpg?sz=128", "display_name": "Aytek S&#246;kmen", "link": "https://stackoverflow.com/users/5580210/aytek-s%c3%b6kmen"}, "edited": false, "score": 1, "creation_date": 1572367479, "post_id": 58611875, "comment_id": 103534111, "body": "You are using androidX library inside Java code, but  in Xml you are using support library. Can you try changing <code>android.support.constraint.ConstraintLayout</code> with <code>androidx.constraintlayout.widget.ConstraintLayout</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3061, "user_id": 10159898, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mqHUyc2x6w/AAAAAAAAAAI/AAAAAAAAD1g/QPOjkkQJ8Qw/photo.jpg?sz=128", "display_name": "Bruno", "link": "https://stackoverflow.com/users/10159898/bruno"}, "is_accepted": false, "score": 2, "last_activity_date": 1572367744, "creation_date": 1572367744, "answer_id": 58611986, "question_id": 58611875, "link": "https://stackoverflow.com/questions/58611875/unresolved-reference-in-kotlin-with-id-and-activity-main/58611986#58611986", "title": "Unresolved reference in kotlin with id and activity_main", "body": "<p>Using Kotlin Android Extensions, you don't need to call <code>findViewById()</code> anymore.\nJust like that :</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        var employees: List&lt;Employee&gt;? = null\n        try {\n            val parser = XmlPullParserHandler()\n            val istream = assets.open(\"employees.xml\")\n            employees = parser.parse(istream)\n\n            val adapter = ArrayAdapter(this, R.layout.simple_list_item_1, employees)\n            listView.adapter = adapter  // here, the listView variable name refers to the id given in the xml file\n\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 394, "user_id": 4228488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7fad7743e03eaf3bfdcaa7cd584c5290?s=128&d=identicon&r=PG&f=1", "display_name": "Nacho Ramos S&#225;nchez", "link": "https://stackoverflow.com/users/4228488/nacho-ramos-s%c3%a1nchez"}, "is_accepted": false, "score": 1, "last_activity_date": 1572376825, "creation_date": 1572376825, "answer_id": 58614076, "question_id": 58611875, "link": "https://stackoverflow.com/questions/58611875/unresolved-reference-in-kotlin-with-id-and-activity-main/58614076#58614076", "title": "Unresolved reference in kotlin with id and activity_main", "body": "<p>Change this line</p>\n\n<pre><code>val listView = findViewById&lt;ListView&gt;(id.listView)\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>val listView = findViewById&lt;ListView&gt;(R.id.listView)\n</code></pre>\n\n<p>you are missing R reference.</p>\n"}, {"comments": [{"owner": {"reputation": 168, "user_id": 6382586, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jV_2PPuSYR8/AAAAAAAAAAI/AAAAAAAAH6U/PyPO2mredZo/photo.jpg?sz=128", "display_name": "Arpan Srivastava", "link": "https://stackoverflow.com/users/6382586/arpan-srivastava"}, "edited": false, "score": 3, "creation_date": 1588675412, "post_id": 60205538, "comment_id": 108983065, "body": "Worked like a charm. Any reason for this?"}, {"owner": {"reputation": 357, "user_id": 10787285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uv6w0.jpg?s=128&g=1", "display_name": "Pooja", "link": "https://stackoverflow.com/users/10787285/pooja"}, "edited": false, "score": 1, "creation_date": 1601972385, "post_id": 60205538, "comment_id": 113564823, "body": "Same here. Removing <code>import android.R</code> solved this problem."}], "tags": [], "owner": {"reputation": 1277, "user_id": 1331578, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/g4k9c.png?s=128&g=1", "display_name": "SkorpEN", "link": "https://stackoverflow.com/users/1331578/skorpen"}, "is_accepted": false, "score": 54, "last_activity_date": 1581589386, "creation_date": 1581589386, "answer_id": 60205538, "question_id": 58611875, "link": "https://stackoverflow.com/questions/58611875/unresolved-reference-in-kotlin-with-id-and-activity-main/60205538#60205538", "title": "Unresolved reference in kotlin with id and activity_main", "body": "<p>In my case removing <code>import android.R</code> solved the issue.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 8516131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oWeeyQUTM4I/AAAAAAAAAAI/AAAAAAAAAGY/2yfIzh03-jE/photo.jpg?sz=128", "display_name": "nuwancy", "link": "https://stackoverflow.com/users/8516131/nuwancy"}, "is_accepted": false, "score": 2, "last_activity_date": 1592286433, "creation_date": 1592286433, "answer_id": 62401716, "question_id": 58611875, "link": "https://stackoverflow.com/questions/58611875/unresolved-reference-in-kotlin-with-id-and-activity-main/62401716#62401716", "title": "Unresolved reference in kotlin with id and activity_main", "body": "<p>Same as @SkorpEN has mentioned,\nFor me also removing <strong>import android.R</strong> solved the issue.</p>\n\n<p>The reason why <strong>import android.R</strong> added from nowhere is, if you paste a java code into Kotlin it will convert to Kotlin automatically and some times this <strong>import android.R</strong> will also be added automatically.</p>\n"}, {"tags": [], "owner": {"reputation": 503, "user_id": 9682735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lz8sf.jpg?s=128&g=1", "display_name": "Daniel Castro Fern&#225;ndez", "link": "https://stackoverflow.com/users/9682735/daniel-castro-fern%c3%a1ndez"}, "is_accepted": false, "score": 3, "last_activity_date": 1597829252, "creation_date": 1597829252, "answer_id": 63483945, "question_id": 58611875, "link": "https://stackoverflow.com/questions/58611875/unresolved-reference-in-kotlin-with-id-and-activity-main/63483945#63483945", "title": "Unresolved reference in kotlin with id and activity_main", "body": "<p>In my case, I accidentally deleted the package declaration, so adding <code>package your.package.name</code> fixed it for me.</p>\n"}, {"tags": [], "owner": {"reputation": 153, "user_id": 8609473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37A3n.jpg?s=128&g=1", "display_name": "Pravin Desai", "link": "https://stackoverflow.com/users/8609473/pravin-desai"}, "is_accepted": false, "score": 9, "last_activity_date": 1607961360, "creation_date": 1607961360, "answer_id": 65292122, "question_id": 58611875, "link": "https://stackoverflow.com/questions/58611875/unresolved-reference-in-kotlin-with-id-and-activity-main/65292122#65292122", "title": "Unresolved reference in kotlin with id and activity_main", "body": "<p>remove <code>import android.R</code> from imports which might be imported automatically.</p>\n"}, {"tags": [], "owner": {"reputation": 5407, "user_id": 5264367, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/VgoyF.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/5264367/sam"}, "is_accepted": false, "score": 3, "last_activity_date": 1609584231, "creation_date": 1609584231, "answer_id": 65538227, "question_id": 58611875, "link": "https://stackoverflow.com/questions/58611875/unresolved-reference-in-kotlin-with-id-and-activity-main/65538227#65538227", "title": "Unresolved reference in kotlin with id and activity_main", "body": "<p>On newest verison <code>kotlin-android-extensions</code> needed to apply inside <code>build.gradle</code> (Module..)</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-android-extensions'\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1733, "user_id": 1613961, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eX2AL.jpg?s=128&g=1", "display_name": "Jeff T.", "link": "https://stackoverflow.com/users/1613961/jeff-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1619018778, "creation_date": 1619018778, "answer_id": 67198818, "question_id": 58611875, "link": "https://stackoverflow.com/questions/58611875/unresolved-reference-in-kotlin-with-id-and-activity-main/67198818#67198818", "title": "Unresolved reference in kotlin with id and activity_main", "body": "<p>After failing on Rebuild Project and Make Project, finally Clean Project works for me. (Remember to add the plugin, <code>kotlin-android-extensions</code> beforehand.)</p>\n"}], "owner": {"reputation": 1376, "user_id": 9885430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gmo8g.jpg?s=128&g=1", "display_name": "Hugo Sohm", "link": "https://stackoverflow.com/users/9885430/hugo-sohm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14288, "favorite_count": 1, "answer_count": 8, "score": 14, "last_activity_date": 1619018778, "creation_date": 1572367300, "question_id": 58611875, "link": "https://stackoverflow.com/questions/58611875/unresolved-reference-in-kotlin-with-id-and-activity-main", "title": "Unresolved reference in kotlin with id and activity_main", "body": "<p>I'm actually creating a new app in kotlin to display an xml file in boxes with the informations formatted</p>\n\n<p>To problem is that when I'm building the app, there is the activity_main, the id that return \"Unresolved reference\"</p>\n\n<pre><code>Unresolved reference: id\nUnresolved reference: id\n</code></pre>\n\n<p>Here the MainActivity.kt</p>\n\n<pre><code>package com.example.instantsystem\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.ArrayAdapter\nimport android.widget.ListView\nimport java.io.IOException\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val listView = findViewById&lt;ListView&gt;(id.listView)\n        var employees: List&lt;Employee&gt;? = null\n        try {\n            val parser = XmlPullParserHandler()\n            val istream = assets.open(\"employees.xml\")\n            employees = parser.parse(istream)\n\n            val adapter = ArrayAdapter(this, R.layout.simple_list_item_1, employees)\n            listView.adapter = adapter\n\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n    }\n}\n</code></pre>\n\n<p>Here the activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.example.instantsystem.MainActivity\"&gt;\n\n    &lt;ListView\n        android:id=\"@+id/listView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" &gt;\n\n    &lt;/ListView&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>I don't understand the error, I imported the package and defined it in xml. What is wrong in my code ?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 299, "user_id": 12285897, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZUuvoOhgfJs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5Qxnd5G30qS4ZyPSbNHcjzAc0AQ/photo.jpg?sz=128", "display_name": "Milan Kundacina", "link": "https://stackoverflow.com/users/12285897/milan-kundacina"}, "edited": false, "score": 0, "creation_date": 1572365750, "post_id": 58611115, "comment_id": 103533171, "body": "Is it even properly called? Had basic use of corutines, but shouldn&#39;t you call suspended fun by scope.launch { getUsers() } to be properly called?"}, {"owner": {"reputation": 1286, "user_id": 1311008, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/8PhPH.jpg?s=128&g=1", "display_name": "Zeyad Gasser", "link": "https://stackoverflow.com/users/1311008/zeyad-gasser"}, "reply_to_user": {"reputation": 299, "user_id": 12285897, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZUuvoOhgfJs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5Qxnd5G30qS4ZyPSbNHcjzAc0AQ/photo.jpg?sz=128", "display_name": "Milan Kundacina", "link": "https://stackoverflow.com/users/12285897/milan-kundacina"}, "edited": false, "score": 0, "creation_date": 1572367129, "post_id": 58611115, "comment_id": 103533916, "body": "I am still trying to wrap my head around flows and channels. So how do you suggest calling it properly ?"}, {"owner": {"reputation": 299, "user_id": 12285897, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZUuvoOhgfJs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5Qxnd5G30qS4ZyPSbNHcjzAc0AQ/photo.jpg?sz=128", "display_name": "Milan Kundacina", "link": "https://stackoverflow.com/users/12285897/milan-kundacina"}, "edited": false, "score": 0, "creation_date": 1572367736, "post_id": 58611115, "comment_id": 103534256, "body": "<i>Suspend function &#39;callGetApi&#39; should be called only from a coroutine or another suspend function</i> I was wrong about call. Maybe try to change   return flow {             emit(UsersResult(listOf(User(&quot;user1&quot;, 1), User(&quot;user2&quot;, 2), User(&quot;user3&quot;, 3))))         }.flowOn(Dispatchers.IO)  with   return flowOf(UsersResult(listOf(User(&quot;user1&quot;, 1), User(&quot;user2&quot;, 2), User(&quot;user3&quot;, 3))).flowOn(Dispatchers.IO)"}, {"owner": {"reputation": 675, "user_id": 5600256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dacf13e2ad0d8fd7217dca5b1ee9e2a?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Sianaki", "link": "https://stackoverflow.com/users/5600256/mohammad-sianaki"}, "edited": false, "score": 0, "creation_date": 1572368798, "post_id": 58611115, "comment_id": 103534783, "body": "I think that&#39;s because you are not calling a terminal operator on <code>getUsers()</code> since flows are cold observables."}, {"owner": {"reputation": 1286, "user_id": 1311008, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/8PhPH.jpg?s=128&g=1", "display_name": "Zeyad Gasser", "link": "https://stackoverflow.com/users/1311008/zeyad-gasser"}, "reply_to_user": {"reputation": 299, "user_id": 12285897, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZUuvoOhgfJs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5Qxnd5G30qS4ZyPSbNHcjzAc0AQ/photo.jpg?sz=128", "display_name": "Milan Kundacina", "link": "https://stackoverflow.com/users/12285897/milan-kundacina"}, "edited": false, "score": 0, "creation_date": 1572373187, "post_id": 58611115, "comment_id": 103536694, "body": "@MilanKundacina I applied your suggestion but still nothing"}], "answers": [{"tags": [], "owner": {"reputation": 1135, "user_id": 6167844, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ngLbDdXE968/AAAAAAAAAAI/AAAAAAAAAC8/u-537tKvkvY/photo.jpg?sz=128", "display_name": "Dominic Fischer", "link": "https://stackoverflow.com/users/6167844/dominic-fischer"}, "is_accepted": true, "score": 1, "last_activity_date": 1572399854, "creation_date": 1572399854, "answer_id": 58617661, "question_id": 58611115, "link": "https://stackoverflow.com/questions/58611115/flow-not-emitting-items/58617661#58617661", "title": "Flow not emitting items", "body": "<p>I think the problem here is <code>intents.consumeEach</code> is waiting for <code>intents</code> to be closed but it is never closed. Which means <code>resultFlows.consumeEach</code> is never reached, so it might look like <code>getUsers</code> is not emitting anything but it's actually not being consumed.</p>\n\n<p>Quick fix would be to wrap each <code>consumeEach</code> in a <code>launch</code>, but I recommend a refactor/re-design.</p>\n\n<p>Side note: Functions that return <code>Flow</code> shouldn't suspend.</p>\n"}], "owner": {"reputation": 1286, "user_id": 1311008, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/8PhPH.jpg?s=128&g=1", "display_name": "Zeyad Gasser", "link": "https://stackoverflow.com/users/1311008/zeyad-gasser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "accepted_answer_id": 58617661, "answer_count": 1, "score": 1, "last_activity_date": 1572399854, "creation_date": 1572364742, "question_id": 58611115, "link": "https://stackoverflow.com/questions/58611115/flow-not-emitting-items", "title": "Flow not emitting items", "body": "<p>The code below implements a simple screen that shows a list of users using the MVI pattern with kotlin coroutines. The code runs but does not produce any results. After alot debugging, i found out that the <strong>getUsers</strong> function in the <strong>UserListVM</strong> does not emit anything. Would appreciate some help here. thanks alot.</p>\n\n<pre><code>    class UserListVM : ViewModel() {\n\n    val resultFlows: Channel&lt;Flow&lt;*&gt;&gt; = Channel(Channel.UNLIMITED)\n    val liveState = MutableLiveData&lt;PModel&lt;*, UserListIntents&gt;&gt;()\n    val intents: Channel&lt;UserListIntents&gt; = Channel()\n\n    lateinit var job: Job\n    lateinit var currentState: UserListState\n\n    fun offer(event: UserListIntents) = intents.offer(event)\n\n    suspend fun store(initialState: UserListState): LiveData&lt;PModel&lt;*, UserListIntents&gt;&gt; {\n        job = viewModelScope.launch {\n            currentState = initialState\n            intents.consumeEach { intent -&gt;\n                resultFlows.send(reduceIntentsToResults(intent, currentState)\n                        .flowOn(Executors.newFixedThreadPool(4).asCoroutineDispatcher())\n                        .map { SuccessResult(it, intent) }\n                        .catch { ErrorEffectResult(it, intent) }\n                        .onStart { emit(LoadingEffectResult(intent)) }\n                        .distinctUntilChanged()\n                )\n            }\n            resultFlows.consumeEach { results -&gt;\n                results.flatMapMerge {\n                    val states = stateStream(this as Flow&lt;Result&lt;UserListResult, UserListIntents&gt;&gt;, currentState)\n                    val effects = effectStream(this as Flow&lt;Result&lt;UserListEffect, UserListIntents&gt;&gt;)\n                    flowOf(states, effects)\n                }\n                        .flattenMerge()\n                        .collect { pModel -&gt; liveState.value = pModel }\n            }\n        }\n        job.start()\n        return liveState\n    }\n\n    private suspend fun reduceIntentsToResults(intent: UserListIntents, currentState: Any): Flow&lt;*&gt; {\n        Log.d(\"UserListVM\", \"currentStateBundle: $currentState\")\n        return when (intent) {\n            is GetPaginatedUsersIntent -&gt; when (currentState) {\n                is EmptyState, is GetState -&gt; getUsers()\n                else -&gt; throwIllegalStateException(intent)\n            }\n            is UserClickedIntent -&gt; when (currentState) {\n                is GetState -&gt; flowOf((SuccessEffectResult(NavigateTo(intent.user), intent)))\n                else -&gt; throwIllegalStateException(intent)\n            }\n        }\n    }\n\n    private suspend fun getUsers(): Flow&lt;UsersResult&gt; {\n        return flow {\n            emit(UsersResult(listOf(User(\"user1\", 1), User(\"user2\", 2), User(\"user3\", 3))))\n        }.flowOn(Dispatchers.IO)\n    }\n\n    override fun onCleared() {\n        super.onCleared()\n        job.cancel()\n    }\n    }\n\n    class UserListActivity : AppCompatActivity() {\n\n    var intentStream: Flow&lt;UserListIntents&gt; = flowOf()\n    lateinit var viewModel: UserListVM\n    lateinit var viewState: UserListState\n    private lateinit var usersAdapter: GenericRecyclerViewAdapter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        initialize()\n        setupUI(savedInstanceState == null)\n        viewModel.store(viewState).observe(this, Observer {\n            it?.apply {\n                when (this) {\n                    is ErrorEffect -&gt; bindError(errorMessage, error, intent)\n                    is SuccessEffect -&gt; bindEffect(bundle as UserListEffect)\n                    is SuccessState -&gt; {\n                        (bundle as UserListState).also { state -&gt;\n                            viewState = state\n                            bindState(state)\n                        }\n                    }\n                }\n                toggleLoadingViews(intent)\n            }\n        })\n    }\n\n    fun initialize() {\n        viewModel = getViewModel()\n        viewState = EmptyState()\n    }\n\n    fun setupUI(isNew: Boolean) {\n        setContentView(R.layout.activity_user_list)\n        setSupportActionBar(toolbar)\n        toolbar.title = title\n        setupRecyclerView()\n    }\n\n    override fun onResume() {\n        super.onResume()\n        if (viewState is EmptyState) {\n            GlobalScope.launch {\n                viewModel.offer(GetPaginatedUsersIntent(0))\n            }\n        }\n    }\n\n    private fun bindState(successState: UserListState) {\n        usersAdapter.setDataList(successState.list, successState.callback)\n    }\n\n    private fun bindEffect(effectBundle: UserListEffect) {\n        when (effectBundle) {\n            is NavigateTo -&gt; {\n               // ..\n            }\n        }\n    }\n\n    fun bindError(errorMessage: String, cause: Throwable, intent: UserListIntents) {\n        //..\n    }\n\n    private fun setupRecyclerView() {\n        usersAdapter = object : GenericRecyclerViewAdapter() {\n            override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): GenericViewHolder&lt;*&gt; {\n                return when (viewType) {\n                    R.layout.empty_view -&gt; EmptyViewHolder(layoutInflater\n                            .inflate(R.layout.empty_view, parent, false))\n                    R.layout.user_item_layout -&gt; UserViewHolder(layoutInflater\n                            .inflate(R.layout.user_item_layout, parent, false))\n                    else -&gt; throw IllegalArgumentException(\"Could not find view of type $viewType\")\n                }\n            }\n        }\n        usersAdapter.setAreItemsClickable(true)\n        user_list.layoutManager = androidx.recyclerview.widget.LinearLayoutManager(this)\n        user_list.adapter = usersAdapter\n        usersAdapter.setAllowSelection(true)\n        intentStream = flowOf(intentStream, user_list.scrollEvents()\n                .map { recyclerViewScrollEvent -&gt;\n                    GetPaginatedUsersIntent(\n                            if (ScrollEventCalculator.isAtScrollEnd(recyclerViewScrollEvent))\n                                viewState.lastId\n                            else -1)\n                }\n                .filter { it.lastId != -1L }\n                .conflate()\n                .onEach { Log.d(\"NextPageIntent\", \"fired!\") })\n                .flattenMerge()\n    }\n\n    fun toggleLoadingViews(isLoading: Boolean, intent: UserListIntents?) {\n        linear_layout_loader.bringToFront()\n        linear_layout_loader.visibility = if (isLoading) View.VISIBLE else View.GONE\n    }\n    }\n</code></pre>\n"}, {"tags": ["json", "kotlin", "gson", "data-class"], "comments": [{"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 1, "creation_date": 1572364726, "post_id": 58611070, "comment_id": 103532638, "body": "Please show the code that fails."}, {"owner": {"reputation": 2481, "user_id": 421467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wkFyw.jpg?s=128&g=1", "display_name": "Dr.jacky", "link": "https://stackoverflow.com/users/421467/dr-jacky"}, "edited": false, "score": 0, "creation_date": 1617276117, "post_id": 58611070, "comment_id": 118262431, "body": "So, what is the correct model?"}], "answers": [{"tags": [], "owner": {"reputation": 1128, "user_id": 6071721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5bb70397db1fa69f5b94bdac774a36d?s=128&d=identicon&r=PG&f=1", "display_name": "Gremi64", "link": "https://stackoverflow.com/users/6071721/gremi64"}, "is_accepted": true, "score": 1, "last_activity_date": 1572366116, "last_edit_date": 1592644375, "creation_date": 1572366116, "answer_id": 58611545, "question_id": 58611070, "link": "https://stackoverflow.com/questions/58611070/kotlin-gson-with-data-classes/58611545#58611545", "title": "Kotlin Gson with Data Classes", "body": "<p>Sealed types classes cannot be instantiated : <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">see here</a></p>\n<blockquote>\n<p>A sealed class is abstract by itself, it cannot be instantiated directly and can have abstract members.</p>\n<p>Sealed classes are not allowed to have non-private constructors (their constructors are private by default).</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1572373863, "creation_date": 1572373863, "answer_id": 58613449, "question_id": 58611070, "link": "https://stackoverflow.com/questions/58611070/kotlin-gson-with-data-classes/58613449#58613449", "title": "Kotlin Gson with Data Classes", "body": "<p>It should work the same as in Java. Adapting the example from <a href=\"https://stackoverflow.com/a/21641225/9204\">https://stackoverflow.com/a/21641225/9204</a>: </p>\n\n<pre><code>val rta = RuntimeTypeAdapterFactory.of(Student::class.java)\n    .registerSubtype(Student.BusinessMajor::class.java)\n    .registerSubtype(Student.ArtsMajor::class.java)\nval gson = new GsonBuilder()\n    .registerTypeAdapterFactory(rta)\n    .create()\n</code></pre>\n\n<p>But: </p>\n\n<ol>\n<li><p>This way you need to write a factory for every sealed class. Maybe there is a helper library to avoid this problem, but if so I haven't found it.</p></li>\n<li><p>See also <a href=\"https://stackoverflow.com/questions/52837665/why-kotlin-data-classes-can-have-nulls-in-non-nullable-fields-with-gson\">Why Kotlin data classes can have nulls in non-nullable fields with Gson?</a></p></li>\n</ol>\n\n<p>On the whole, I'd strongly consider using Moshi or another Kotlin-aware JSON library.</p>\n"}], "owner": {"reputation": 17901, "user_id": 1024973, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e9a46874cd35d5753507f10188ec83a8?s=128&d=identicon&r=PG", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/1024973/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 0, "accepted_answer_id": 58611545, "answer_count": 2, "score": 0, "last_activity_date": 1572373863, "creation_date": 1572364592, "question_id": 58611070, "link": "https://stackoverflow.com/questions/58611070/kotlin-gson-with-data-classes", "title": "Kotlin Gson with Data Classes", "body": "<p>Trying to parse a complex json object using Gson. Here are the data classes that are failing:</p>\n\n<pre><code>data class Advisor(\n    val students: List&lt;Student&gt;?,\n)\n\nsealed class Student {\n    data class BusinessMajor(val name: String, val items: List&lt;Courses&gt;) : Student()\n    data class ArtsMajor(val name: String, val items: List&lt;Courses&gt;) : Student()\n}\n</code></pre>\n\n<p>At runtime, I get this exception:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Failed to invoke private\n  com.mysite.myapp.ApiResponse$Student() with no args</p>\n</blockquote>\n\n<p>I've read that this can be created by trying to parse abstract classes, but all the posts I've read are for Java. I don't see anything that helps with Kotlin data classes, particularly wrapped with a <code>sealed</code> class.</p>\n\n<p>Any help is appreciated. Thanks.</p>\n"}, {"tags": ["java", "kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 11762, "user_id": 802116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0962deadfcf889df21d85b102138487?s=128&d=identicon&r=PG", "display_name": "Asti", "link": "https://stackoverflow.com/users/802116/asti"}, "edited": false, "score": 0, "creation_date": 1572362271, "post_id": 58610325, "comment_id": 103531271, "body": "Using <code>map</code> with side-effects isn&#39;t advised."}, {"owner": {"reputation": 2103, "user_id": 2822178, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b005b2fba855ceaf611e1b83b24ad4a1?s=128&d=identicon&r=PG&f=1", "display_name": "User3", "link": "https://stackoverflow.com/users/2822178/user3"}, "reply_to_user": {"reputation": 11762, "user_id": 802116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0962deadfcf889df21d85b102138487?s=128&d=identicon&r=PG", "display_name": "Asti", "link": "https://stackoverflow.com/users/802116/asti"}, "edited": false, "score": 0, "creation_date": 1572362296, "post_id": 58610325, "comment_id": 103531286, "body": "Any hints for a better implementation?"}], "answers": [{"tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 1, "last_activity_date": 1572363453, "creation_date": 1572363453, "answer_id": 58610731, "question_id": 58610325, "link": "https://stackoverflow.com/questions/58610325/rx-java-sleep-before-onnext-sleep-before-emitting-from-observable/58610731#58610731", "title": "Rx Java: Sleep before OnNext (Sleep before emitting from Observable)", "body": "<p>You can use <code>concatMap</code> to turn the sleep into a non-blocking delay:</p>\n\n<pre><code>Observable.fromIterable(list.filter { it != null })\n.concatMap {\n    if (it!! % 2 == 0) {\n        return@concatMap Observable.error(IllegalArgumentException(\"Mod is true\"))\n                         .delay(3, TimeUnit.SECONDS, true)\n    }\n    Observable.just(it)\n}\n.take(1)\n</code></pre>\n"}], "owner": {"reputation": 2103, "user_id": 2822178, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b005b2fba855ceaf611e1b83b24ad4a1?s=128&d=identicon&r=PG&f=1", "display_name": "User3", "link": "https://stackoverflow.com/users/2822178/user3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 58610731, "answer_count": 1, "score": 1, "last_activity_date": 1572363453, "creation_date": 1572362111, "last_edit_date": 1572362996, "question_id": 58610325, "link": "https://stackoverflow.com/questions/58610325/rx-java-sleep-before-onnext-sleep-before-emitting-from-observable", "title": "Rx Java: Sleep before OnNext (Sleep before emitting from Observable)", "body": "<p>Basis a condition in my Observable, I want to delay onNext / onError. My code is as follows: </p>\n\n<pre><code> fun check3(){\n        val list = arrayListOf(1,2,3,4,5,6,7, null)\n        val obs = Observable.create&lt;Int&gt; { subscriber -&gt;\n           list.filter {\n                it != null\n            }.map {\n                if (it!! %2 == 0 ) {\n                    Thread.sleep(3000)\n                    subscriber.onError(IllegalArgumentException(\"Mod is true\"))\n                } else {\n                    subscriber.onNext(it)\n                    subscriber.onComplete()\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>A sore here being Thread.sleep(3000)</p>\n\n<p>Is there a better way of doing this? Basically I want to delay the onError notification to my subscriber if the if(it %2) condition is met</p>\n"}, {"tags": ["arrays", "list", "kotlin", "arraylist"], "comments": [{"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1572365507, "post_id": 58610256, "comment_id": 103533021, "body": "Can you add more information showing how you call this function and where the exception occurs along with the exception message you got. As it stands now, I can&#39;t reproduce the error you are getting"}, {"owner": {"reputation": 65, "user_id": 11888547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fdf2f75aff35ff67c9c53be8aeeb54?s=128&d=identicon&r=PG&f=1", "display_name": "ronnieotieno", "link": "https://stackoverflow.com/users/11888547/ronnieotieno"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1572365869, "post_id": 58610256, "comment_id": 103533247, "body": "val list = list()          if (list.isNullOrEmpty()) {             Log.d(&quot;CashActivity&quot;, &quot;List Null&quot;)         } else {             Log.d(&quot;CashActivity&quot;, &quot;List ${list[0].bank_account}&quot;)         } The log is printing null"}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1572366026, "post_id": 58610256, "comment_id": 103533334, "body": "That makes sense. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/is-null-or-empty.html\" rel=\"nofollow noreferrer\"><code>isNullOrEmpty()</code></a> works with null lists and will return true if the list is either null or empty (just like the name says). So your list is indeed null as the current answer suggests and this is because it was never reached to be returned in the function call. When I say &quot;it is null&quot;, I mean outside the function i.e. the receiver object that expects to get a list from this function is null"}, {"owner": {"reputation": 65, "user_id": 11888547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fdf2f75aff35ff67c9c53be8aeeb54?s=128&d=identicon&r=PG&f=1", "display_name": "ronnieotieno", "link": "https://stackoverflow.com/users/11888547/ronnieotieno"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1572366750, "post_id": 58610256, "comment_id": 103533696, "body": "@smac89 thank you, so there is no solution?"}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1572366960, "post_id": 58610256, "comment_id": 103533816, "body": "The solution is simple: Check if your <code>banklist</code> (inside the function) has any data before attempting to log its first element (<code>Log.d(&quot;Data&quot;, &quot;banksList1 ${banklist[0].bank_account} &quot;)</code>)"}, {"owner": {"reputation": 65, "user_id": 11888547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fdf2f75aff35ff67c9c53be8aeeb54?s=128&d=identicon&r=PG&f=1", "display_name": "ronnieotieno", "link": "https://stackoverflow.com/users/11888547/ronnieotieno"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1572367331, "post_id": 58610256, "comment_id": 103534040, "body": "@smac89 it has please read the first comment in this function, I have two logs the first is printing the value."}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1572371201, "post_id": 58610256, "comment_id": 103535885, "body": "I can&#39;t reproduce what you are claiming. If you provide a <a href=\"https://shorturl.at/DIOR0\" rel=\"nofollow noreferrer\">minimal reproducible example</a>, then I can look into this further. The line you are saying doesn&#39;t cause any problems has a higher chance of success because the for-loop before it has possibly populated the list, so there is a chance it is not empty and therefore will not cause any exceptions to occur. However the last log is not at all guaranteed to run after the list has possibly been populated, so its chance of failure is higher. This is all speculation though until you provide more evidence"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 11888547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fdf2f75aff35ff67c9c53be8aeeb54?s=128&d=identicon&r=PG&f=1", "display_name": "ronnieotieno", "link": "https://stackoverflow.com/users/11888547/ronnieotieno"}, "edited": false, "score": 0, "creation_date": 1572363734, "post_id": 58610610, "comment_id": 103532095, "body": "Just confirmed its null. I just called it and checked if it&#39;s empty and yes it&#39;s empty. I don&#39;t understand your comment since the list is in the same section as the log."}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "reply_to_user": {"reputation": 65, "user_id": 11888547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fdf2f75aff35ff67c9c53be8aeeb54?s=128&d=identicon&r=PG&f=1", "display_name": "ronnieotieno", "link": "https://stackoverflow.com/users/11888547/ronnieotieno"}, "edited": false, "score": 1, "creation_date": 1572365146, "post_id": 58610610, "comment_id": 103532848, "body": "@coder254 You have to check if it is null outside the function, not from inside the function. It is null because the part was never reached as this answer states. So it wasn&#39;t returned."}, {"owner": {"reputation": 65, "user_id": 11888547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fdf2f75aff35ff67c9c53be8aeeb54?s=128&d=identicon&r=PG&f=1", "display_name": "ronnieotieno", "link": "https://stackoverflow.com/users/11888547/ronnieotieno"}, "edited": false, "score": 0, "creation_date": 1572365384, "post_id": 58610610, "comment_id": 103532953, "body": "I did so outside the function. I called the function from another function"}, {"owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "reply_to_user": {"reputation": 65, "user_id": 11888547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fdf2f75aff35ff67c9c53be8aeeb54?s=128&d=identicon&r=PG&f=1", "display_name": "ronnieotieno", "link": "https://stackoverflow.com/users/11888547/ronnieotieno"}, "edited": false, "score": 0, "creation_date": 1572366139, "post_id": 58610610, "comment_id": 103533400, "body": "@coder254 When the ValueEventListener is invoked, it has an old value/reference of <code>banklist</code> at the time you created it with <code>fun List()</code>. Outside the (listener) scope during this invocation, the <code>banklist</code> doesn&#39;t exist - so <code>null</code>."}, {"owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "reply_to_user": {"reputation": 65, "user_id": 11888547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fdf2f75aff35ff67c9c53be8aeeb54?s=128&d=identicon&r=PG&f=1", "display_name": "ronnieotieno", "link": "https://stackoverflow.com/users/11888547/ronnieotieno"}, "edited": false, "score": 0, "creation_date": 1572419099, "post_id": 58610610, "comment_id": 103548759, "body": "@coder254 What do you want to return in your <code>fun List()</code>? As far as I can see, the <code>banklist</code> will always be empty. If you want to collect the values from every event, store the <code>banklist</code> as a field in a companion object. If you simply want to avoid NPEs, use @smac89 answer <code>firstOrNull</code>"}], "tags": [], "owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "is_accepted": false, "score": 2, "last_activity_date": 1572363070, "creation_date": 1572363070, "answer_id": 58610610, "question_id": 58610256, "link": "https://stackoverflow.com/questions/58610256/why-is-the-following-function-returning-null-arraylist/58610610#58610610", "title": "Why is the following function returning null ArrayList?", "body": "<p>The NPE thrown in your logging is because <code>banklist</code> is modified in a change listener. </p>\n\n<pre><code>Log.d(\n        \"Data\", \"banksList2 ${banklist[0].bank_account} \" //This is throwing null pointer exception\n\n    )\n</code></pre>\n\n<p>When no change was done, or inside the listener the iterable <code>dataSnapshot.children</code> is empty - <code>banklist</code> stays empty. So when you call <em>list[index]</em> it will return <code>null</code> since nothing was found and it will throw a NPE because you call <code>.bank_account</code> on <code>null</code>.</p>\n\n<hr>\n\n<pre><code>return banklist //this is null\n</code></pre>\n\n<p>I'm pretty sure that <code>banklist</code> at the end of your method is <strong>not</strong> null. The part is just never reached because the code before throws an Exception.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 11888547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fdf2f75aff35ff67c9c53be8aeeb54?s=128&d=identicon&r=PG&f=1", "display_name": "ronnieotieno", "link": "https://stackoverflow.com/users/11888547/ronnieotieno"}, "edited": false, "score": 0, "creation_date": 1572367441, "post_id": 58611821, "comment_id": 103534091, "body": "Also if I use livedata I am getting the live data of the list. It returns it perfectly."}], "tags": [], "owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "is_accepted": false, "score": 0, "last_activity_date": 1572367125, "creation_date": 1572367125, "answer_id": 58611821, "question_id": 58610256, "link": "https://stackoverflow.com/questions/58610256/why-is-the-following-function-returning-null-arraylist/58611821#58611821", "title": "Why is the following function returning null ArrayList?", "body": "<p>The solution is to make sure that you are checking if the list is empty before attempting to log, or better yet use one of Kotlin's utility methods (like <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/first-or-null.html\" rel=\"nofollow noreferrer\"><strong><code>firstOrNull()</code></strong></a>) to retrieve the first element of the list:</p>\n\n<pre><code>Log.d(\"Data\", \"banksList2 ${banklist.firstOrNull()?.bank_account} \")\n</code></pre>\n\n<p>I'd also suggest doing the same for the logging inside the listener:</p>\n\n<pre><code>Log.d(\"Data\", \"banksList1 ${banklist.firstOrNull()?.bank_account} \")\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 11888547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fdf2f75aff35ff67c9c53be8aeeb54?s=128&d=identicon&r=PG&f=1", "display_name": "ronnieotieno", "link": "https://stackoverflow.com/users/11888547/ronnieotieno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572367125, "creation_date": 1572361921, "question_id": 58610256, "link": "https://stackoverflow.com/questions/58610256/why-is-the-following-function-returning-null-arraylist", "title": "Why is the following function returning null ArrayList?", "body": "<p>I have even used List but still, I get null pointer but if I use livedata it updates successfully inside the for a loop. It doesn't return null. Why is it only list or Arraylist which returns null</p>\n\n<pre><code>  fun List(): ArrayList&lt;Bank&gt; {\n    val banklist = ArrayList&lt;Bank&gt;()\n    val reference = FirebaseDatabase.getInstance().reference\n        .child(\"groups\")\n        .child(group.group_id)\n        .child(\"financials\")\n        .child(\"cash\")\n        .child(\"bank\")\n    reference.addValueEventListener(object : ValueEventListener {\n\n        override fun onCancelled(p0: DatabaseError) {\n\n        }\n\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n\n            for (singleSnapshot in dataSnapshot.children) {\n                Log.d(\n                    \"Data\", \"banks found: \"\n                            + singleSnapshot.value\n                )\n                val bank = singleSnapshot.getValue(Bank::class.java)\n                banklist.add(bank!!)\n\n               bankListLivedata.value = banklist //updates perfectly\n\n            }\n\n\n            Log.d(\n                \"Data\", \"banksList1 ${banklist[0].bank_account} \"//This is printing in the log\n\n            )\n\n        }\n    }\n    )\n    Log.d(\n        \"Data\", \"banksList2 ${banklist[0].bank_account} \" //This is throwing null pointer exception\n\n    )\n\n    return banklist //this is null\n\n  //if I return banklistLivedata it works perfectly and doesn't throw null\n}\n</code></pre>\n"}, {"tags": ["android", "google-maps", "kotlin", "google-maps-markers"], "comments": [{"owner": {"reputation": 1987, "user_id": 7540393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yVoRD.jpg?s=128&g=1", "display_name": "Arthur Attout", "link": "https://stackoverflow.com/users/7540393/arthur-attout"}, "edited": false, "score": 2, "creation_date": 1572361841, "post_id": 58610125, "comment_id": 103531008, "body": "There are a lot of missing information here. What&#39;s the context ? Where do you want this indication to be shown ? What is a <i>Nearby Marker</i> ? What&#39;s the reference point (GPS location, arbitrary coordinate) ? .."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 6945611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa817d7cf3f131177cff15715fa1465b?s=128&d=identicon&r=PG&f=1", "display_name": "jeiboi", "link": "https://stackoverflow.com/users/6945611/jeiboi"}, "edited": false, "score": 0, "creation_date": 1572450238, "post_id": 58610766, "comment_id": 103565368, "body": "<code>private fun displayEnteredLocation(location: LatLng) {         val markerOptions = MarkerOptions().position(location)             .icon(BitmapDescriptorFactory.fromResource(R.drawable.ic_ent&zwnj;&#8203;ered_location))         mMap.addMarker(markerOptions)         mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(locatio&zwnj;&#8203;n, 12f))      }</code>"}, {"owner": {"reputation": 67, "user_id": 6945611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa817d7cf3f131177cff15715fa1465b?s=128&d=identicon&r=PG&f=1", "display_name": "jeiboi", "link": "https://stackoverflow.com/users/6945611/jeiboi"}, "edited": false, "score": 0, "creation_date": 1572450332, "post_id": 58610766, "comment_id": 103565439, "body": "this is the location that user entered. from a search activity"}, {"owner": {"reputation": 608, "user_id": 3542143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sc1DZ.jpg?s=128&g=1", "display_name": "Julio Lemus", "link": "https://stackoverflow.com/users/3542143/julio-lemus"}, "reply_to_user": {"reputation": 67, "user_id": 6945611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa817d7cf3f131177cff15715fa1465b?s=128&d=identicon&r=PG&f=1", "display_name": "jeiboi", "link": "https://stackoverflow.com/users/6945611/jeiboi"}, "edited": false, "score": 1, "creation_date": 1572450427, "post_id": 58610766, "comment_id": 103565494, "body": "I have updated the code with the a simple idea to store markers in a <code>List&lt;Marker&gt;</code>"}, {"owner": {"reputation": 67, "user_id": 6945611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa817d7cf3f131177cff15715fa1465b?s=128&d=identicon&r=PG&f=1", "display_name": "jeiboi", "link": "https://stackoverflow.com/users/6945611/jeiboi"}, "edited": false, "score": 0, "creation_date": 1572796016, "post_id": 58610766, "comment_id": 103663209, "body": "Thank you very much this solves my problem. But i got one last question. Is it possible  or how to store the LatLng value into the Location?"}, {"owner": {"reputation": 608, "user_id": 3542143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sc1DZ.jpg?s=128&g=1", "display_name": "Julio Lemus", "link": "https://stackoverflow.com/users/3542143/julio-lemus"}, "reply_to_user": {"reputation": 67, "user_id": 6945611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa817d7cf3f131177cff15715fa1465b?s=128&d=identicon&r=PG&f=1", "display_name": "jeiboi", "link": "https://stackoverflow.com/users/6945611/jeiboi"}, "edited": false, "score": 1, "creation_date": 1572882418, "post_id": 58610766, "comment_id": 103689966, "body": "It&#39;s nothing @jeiboi. Now, I&#39;m not sure I have catch your idea about store LatLng into the Location, could you explain a little bit more?"}, {"owner": {"reputation": 67, "user_id": 6945611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa817d7cf3f131177cff15715fa1465b?s=128&d=identicon&r=PG&f=1", "display_name": "jeiboi", "link": "https://stackoverflow.com/users/6945611/jeiboi"}, "edited": false, "score": 0, "creation_date": 1572963139, "post_id": 58610766, "comment_id": 103719517, "body": "for example <code>val enteredLocation:Location</code> how can i put this <code>LatLng(14.669100, 121.108140)</code> on enteredLocation is it posible?"}], "tags": [], "owner": {"reputation": 608, "user_id": 3542143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sc1DZ.jpg?s=128&g=1", "display_name": "Julio Lemus", "link": "https://stackoverflow.com/users/3542143/julio-lemus"}, "is_accepted": true, "score": 1, "last_activity_date": 1572450350, "last_edit_date": 1572450350, "creation_date": 1572363598, "answer_id": 58610766, "question_id": 58610125, "link": "https://stackoverflow.com/questions/58610125/showing-nearby-markers/58610766#58610766", "title": "Showing nearby markers", "body": "<p>You can use <a href=\"https://developer.android.com/reference/android/location/Location.html#distanceBetween(double,%20double,%20double,%20double,%20float%5B%5D)\" rel=\"nofollow noreferrer\"><code>Location::distanceBetween</code></a> to get the distance from a point A (user location) and point B (other location)</p>\n\n<p>You should add all markers to Google Map and keep the instance on each marker, then, compare the distance from the user location with each marker and change the visibility state</p>\n\n<pre><code>    val result = FloatArray(1) // First element will contains the distance between the locations\n    val currentUserLocation: Location = getCurrentUserLocation()\n    aMarkerList.forEach {\n        val currentLatLng = it.getPosition()\n        // Calculates the distance between two points\n        Location.distanceBetween(\n            currentUserLocation.latitude,\n            currentUserLocation.longitude,\n            currentLatLng.latitude,\n            currentLatLng.longitude,\n            result\n        )\n        val distance = result[0] // You could use result[0] directly\n        it.isVisible = distance &lt;= YOUR_DISTANCE\n    }\n</code></pre>\n\n<p><em>Update</em></p>\n\n<p>Once Google Maps is ready, you could store the markers to manipulate them after:</p>\n\n<pre><code>val nangka = LatLng(14.669100, 121.108140)\nval northEdsa = LatLng(14.596530, 121.059441)\n\nMarker nangkaMarker = mMap.addMarker(MarkerOptions().position(nangka));\nMarker northEdsaMarker = mMap.addMarker(MarkerOptions().position(northEdsa));\n\naMarkerList.add(nangkaMarker)\naMarkerList.add(northEdsaMarker)\n// And son on...\n</code></pre>\n\n<p>I'm pretty sure, next link will be helpful <a href=\"https://developers.google.com/maps/documentation/android-sdk/marker#customize_a_marker\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/android-sdk/marker#customize_a_marker</a></p>\n"}], "owner": {"reputation": 67, "user_id": 6945611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa817d7cf3f131177cff15715fa1465b?s=128&d=identicon&r=PG&f=1", "display_name": "jeiboi", "link": "https://stackoverflow.com/users/6945611/jeiboi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 58610766, "answer_count": 1, "score": -2, "last_activity_date": 1572450350, "creation_date": 1572361497, "question_id": 58610125, "link": "https://stackoverflow.com/questions/58610125/showing-nearby-markers", "title": "Showing nearby markers", "body": "<p>I have defined markers of a place on the map and i want to show only a nearby marker on my entered location</p>\n\n<pre><code>    val nangka = LatLng(14.669100, 121.108140)\n    val north_edsa = LatLng(14.596530, 121.059441)\n    val mandaluyong = LatLng(14.590030, 121.034700)\n    val payatas = LatLng(14.628710, 121.063900)\n    val bay_area = LatLng(14.537208, 120.990720)\n    val paranaque = LatLng(14.447820, 121.023040)\n    val muntinlupa = LatLng(14.590030, 121.034700)\n    val feliz = LatLng(14.628710, 121.063900)\n    val manila = LatLng(14.577701, 120.983741)\n    val makati = LatLng(14.551714, 121.027288)\n    val las_pinas = LatLng(14.453614, 120.975966)\n    val katipunan = LatLng(14.639077, 121.074214)\n    val raymundo = LatLng(14.572139, 121.083775)\n    val commonwealth = LatLng(14.663149, 121.068543)\n    val alabang = LatLng(14.428302, 121.027184)\n    val antipolo = LatLng(14.5884681, 121.1574247)\n    val main = LatLng(14.5890657, 121.07890606)\n    val fairview = LatLng(14.7363483, 121.06002163)\n    val low_antipolo = LatLng(14.62467319, 121.12265825)\n    val gateway = LatLng(14.6219187, 121.05293074)\n    val angono = LatLng(14.53093443, 121.15457696)\n    val tandang_sora = LatLng(14.67962335, 121.01988032)\n    val valenzuela = LatLng(14.68605018, 120.97691678)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-viewmodel"], "comments": [{"owner": {"reputation": 737, "user_id": 11056187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b075c723db9fa591528565cdc3c955?s=128&d=identicon&r=PG&f=1", "display_name": "UrosKekovic", "link": "https://stackoverflow.com/users/11056187/uroskekovic"}, "edited": false, "score": 1, "creation_date": 1572360715, "post_id": 58609556, "comment_id": 103530329, "body": "If you want to post new value you can do it like: waitressCallContainerHeights.postValue(Pair(100,200))"}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": true, "score": 7, "last_activity_date": 1572359981, "creation_date": 1572359981, "answer_id": 58609673, "question_id": 58609556, "link": "https://stackoverflow.com/questions/58609556/mutablelivedatapairfloat-float-val-cannot-be-reassigned/58609673#58609673", "title": "MutableLiveData&lt;Pair&lt;Float, Float&gt;&gt;() -&gt; Val cannot be reassigned", "body": "<p>Although your liveData is mutable, the Pair itself isn't. You need to do:\n<code>waitressCallContainerHeights.value = Pair(200,300/* for example */)</code></p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 3223645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kfqz5.jpg?s=128&g=1", "display_name": "JaviHerAr", "link": "https://stackoverflow.com/users/3223645/javiherar"}, "is_accepted": false, "score": 1, "last_activity_date": 1572360678, "creation_date": 1572360678, "answer_id": 58609876, "question_id": 58609556, "link": "https://stackoverflow.com/questions/58609556/mutablelivedatapairfloat-float-val-cannot-be-reassigned/58609876#58609876", "title": "MutableLiveData&lt;Pair&lt;Float, Float&gt;&gt;() -&gt; Val cannot be reassigned", "body": "<p>You can also initialise the variable on the declaration itself with <code>apply</code>, something like this:</p>\n\n<pre><code>private var waitressCallContainerHeights = MutableLiveData&lt;Pair&lt;Int, Int&gt;&gt;().apply { value = Pair(200, 300) }\n\n</code></pre>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 607, "favorite_count": 0, "accepted_answer_id": 58609673, "answer_count": 2, "score": 1, "last_activity_date": 1572360678, "creation_date": 1572359576, "question_id": 58609556, "link": "https://stackoverflow.com/questions/58609556/mutablelivedatapairfloat-float-val-cannot-be-reassigned", "title": "MutableLiveData&lt;Pair&lt;Float, Float&gt;&gt;() -&gt; Val cannot be reassigned", "body": "<p>In my ViewModel in Android project:</p>\n\n<pre><code>import android.app.Application\nimport androidx.lifecycle.AndroidViewModel\nimport androidx.lifecycle.LiveData\nimport androidx.lifecycle.MutableLiveData\n\nclass MainViewModel(application: Application) : AndroidViewModel(application) {\n    private var waitressCallContainerHeights = MutableLiveData&lt;Pair&lt;Int, Int&gt;&gt;()\n\n    fun init() {\n           waitressCallContainerHeights.value.first = 200\n    }\n}\n</code></pre>\n\n<p>But I get compile error in this line:</p>\n\n<pre><code>       waitressCallContainerHeights.value.first = 200\n\nVal cannot be reassigned\n</code></pre>\n\n<p>I want to set <strong>first</strong> and <strong>second</strong> values in fun <code>init</code></p>\n"}, {"tags": ["maven", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 143, "user_id": 452632, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2bafa867e09b647948a240be223c87a0?s=128&d=identicon&r=PG", "display_name": "Neikius", "link": "https://stackoverflow.com/users/452632/neikius"}, "is_accepted": true, "score": 0, "last_activity_date": 1574252339, "creation_date": 1574252339, "answer_id": 58954204, "question_id": 58609185, "link": "https://stackoverflow.com/questions/58609185/maven-build-error-missing-kotlin-reflect-full-kclasses/58954204#58954204", "title": "Maven build error &quot;Missing ... kotlin/reflect/full/KClasses&quot;", "body": "<p>You have a missing class problem. Something is using it during the build so hence the error. That class should be in kotlin-reflect jar. It is in mine. I would try clearing m2 cache or just deleting the kotlin-reflect 1.3.50 jar. It sometimes happen that you get a damaged jar and maven can't seem to figure that out.</p>\n\n<p>Funnily enough I got the exact same problem with kotlin 1.3.60 and this was the cause.</p>\n"}], "owner": {"reputation": 1854, "user_id": 545353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o0daF.png?s=128&g=1", "display_name": "Pavel Molchanov", "link": "https://stackoverflow.com/users/545353/pavel-molchanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "accepted_answer_id": 58954204, "answer_count": 1, "score": 0, "last_activity_date": 1574252339, "creation_date": 1572358410, "question_id": 58609185, "link": "https://stackoverflow.com/questions/58609185/maven-build-error-missing-kotlin-reflect-full-kclasses", "title": "Maven build error &quot;Missing ... kotlin/reflect/full/KClasses&quot;", "body": "<p>I have created a simple application with Spring Boot Initializr to try REST controllers.</p>\n\n<p>Kotlin version was specified as 1.3.50 automatically.</p>\n\n<p>Maven pom.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.infodesk&lt;/groupId&gt;\n    &lt;artifactId&gt;shopper&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;shopper&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.3.50&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n\n<p>I got Maven Plugin error after building the project:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.3.50:compile (compile) on project shopper: Execution compile of goal org.jetbrains.kotlin:kotlin-maven-plugin:1.3.50:compile failed: A required class was missing while executing org.jetbrains.kotlin:kotlin-maven-plugin:1.3.50:compile: kotlin/reflect/full/KClasses\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.jetbrains.kotlin:kotlin-maven-plugin:1.3.50\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/kotlin/kotlin-maven-plugin/1.3.50/kotlin-maven-plugin-1.3.50.jar\n[ERROR] urls[1] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/kotlin/kotlin-maven-allopen/1.3.50/kotlin-maven-allopen-1.3.50.jar\n[ERROR] urls[2] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib/1.3.50/kotlin-stdlib-1.3.50.jar\n[ERROR] urls[3] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-common/1.3.50/kotlin-stdlib-common-1.3.50.jar\n[ERROR] urls[4] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/annotations/13.0/annotations-13.0.jar\n[ERROR] urls[5] = file:/C:/Users/pavel.molchanov/.m2/repository/org/sonatype/aether/aether-util/1.13.1/aether-util-1.13.1.jar\n[ERROR] urls[6] = file:/C:/Users/pavel.molchanov/.m2/repository/org/sonatype/sisu/sisu-inject-bean/2.3.0/sisu-inject-bean-2.3.0.jar\n[ERROR] urls[7] = file:/C:/Users/pavel.molchanov/.m2/repository/org/sonatype/sisu/sisu-guice/3.1.0/sisu-guice-3.1.0-no_aop.jar\n[ERROR] urls[8] = file:/C:/Users/pavel.molchanov/.m2/repository/org/sonatype/sisu/sisu-guava/0.9.9/sisu-guava-0.9.9.jar\n[ERROR] urls[9] = file:/C:/Users/pavel.molchanov/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.14/plexus-interpolation-1.14.jar\n[ERROR] urls[10] = file:/C:/Users/pavel.molchanov/.m2/repository/org/codehaus/plexus/plexus-utils/2.0.6/plexus-utils-2.0.6.jar\n[ERROR] urls[11] = file:/C:/Users/pavel.molchanov/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.5.5/plexus-component-annotations-1.5.5.jar\n[ERROR] urls[12] = file:/C:/Users/pavel.molchanov/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar\n[ERROR] urls[13] = file:/C:/Users/pavel.molchanov/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar\n[ERROR] urls[14] = file:/C:/Users/pavel.molchanov/.m2/repository/org/apache/maven/plugin-tools/maven-plugin-annotations/3.4/maven-plugin-annotations-3.4.jar\n[ERROR] urls[15] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/kotlin/kotlin-compiler/1.3.50/kotlin-compiler-1.3.50.jar\n[ERROR] urls[16] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/kotlin/kotlin-script-runtime/1.3.50/kotlin-script-runtime-1.3.50.jar\n[ERROR] urls[17] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/kotlin/kotlin-reflect/1.3.50/kotlin-reflect-1.3.50.jar\n[ERROR] urls[18] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/intellij/deps/trove4j/1.0.20181211/trove4j-1.0.20181211.jar\n[ERROR] urls[19] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/kotlin/kotlin-scripting-compiler/1.3.50/kotlin-scripting-compiler-1.3.50.jar\n[ERROR] urls[20] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/kotlin/kotlin-scripting-common/1.3.50/kotlin-scripting-common-1.3.50.jar\n[ERROR] urls[21] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/kotlinx/kotlinx-coroutines-core/1.1.1/kotlinx-coroutines-core-1.1.1.jar\n[ERROR] urls[22] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/kotlin/kotlin-scripting-jvm/1.3.50/kotlin-scripting-jvm-1.3.50.jar\n[ERROR] urls[23] = file:/C:/Users/pavel.molchanov/.m2/repository/org/jetbrains/kotlin/kotlin-scripting-compiler-impl/1.3.50/kotlin-scripting-compiler-impl-1.3.50.jar\n[ERROR] urls[24] = file:/C:/Users/pavel.molchanov/.m2/repository/org/apache/maven/plugins/maven-compiler-plugin/3.5.1/maven-compiler-plugin-3.5.1.jar\n[ERROR] urls[25] = file:/C:/Users/pavel.molchanov/.m2/repository/org/apache/maven/shared/maven-shared-utils/3.0.0/maven-shared-utils-3.0.0.jar\n[ERROR] urls[26] = file:/C:/Users/pavel.molchanov/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar\n[ERROR] urls[27] = file:/C:/Users/pavel.molchanov/.m2/repository/com/google/code/findbugs/jsr305/2.0.1/jsr305-2.0.1.jar\n[ERROR] urls[28] = file:/C:/Users/pavel.molchanov/.m2/repository/org/apache/maven/shared/maven-shared-incremental/1.1/maven-shared-incremental-1.1.jar\n[ERROR] urls[29] = file:/C:/Users/pavel.molchanov/.m2/repository/org/codehaus/plexus/plexus-compiler-api/2.7/plexus-compiler-api-2.7.jar\n[ERROR] urls[30] = file:/C:/Users/pavel.molchanov/.m2/repository/org/codehaus/plexus/plexus-compiler-manager/2.7/plexus-compiler-manager-2.7.jar\n[ERROR] urls[31] = file:/C:/Users/pavel.molchanov/.m2/repository/org/codehaus/plexus/plexus-compiler-javac/2.7/plexus-compiler-javac-2.7.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR] \n[ERROR] -----------------------------------------------------: kotlin.reflect.full.KClasses\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\n</code></pre>\n\n<p>If I downgrade Kotlin to 1.3.41, the error goes away and project builds successfully.</p>\n\n<p>What is the problem with 1.3.50?</p>\n"}, {"tags": ["java", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 2606, "user_id": 311122, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cf6dffa4b2c7113c0ca3278465f2443b?s=128&d=identicon&r=PG", "display_name": "Robb", "link": "https://stackoverflow.com/users/311122/robb"}, "edited": false, "score": 0, "creation_date": 1572357790, "post_id": 58608911, "comment_id": 103528719, "body": "possible duplicate: <a href=\"https://stackoverflow.com/questions/39265432/could-not-get-unknown-property-compile-for-object-of-type-org-gradle-api-inter\" title=\"could not get unknown property compile for object of type org gradle api inter\">stackoverflow.com/questions/39265432/&hellip;</a>"}, {"owner": {"reputation": 688, "user_id": 11763786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ukes8.jpg?s=128&g=1", "display_name": "tobsob", "link": "https://stackoverflow.com/users/11763786/tobsob"}, "edited": false, "score": 1, "creation_date": 1572357995, "post_id": 58608911, "comment_id": 103528807, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39265432/could-not-get-unknown-property-compile-for-object-of-type-org-gradle-api-inter\">Could not get unknown property &#39;compile&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDe&zwnj;&#8203;pendencyHandler</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4343, "user_id": 1703730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4so1.jpg?s=128&g=1", "display_name": "Bj&#248;rn Vester", "link": "https://stackoverflow.com/users/1703730/bj%c3%b8rn-vester"}, "is_accepted": false, "score": 0, "last_activity_date": 1572363719, "creation_date": 1572363719, "answer_id": 58610803, "question_id": 58608911, "link": "https://stackoverflow.com/questions/58608911/could-not-get-unknown-property-implementation-for-object-of-type-org-gradle-ap/58610803#58610803", "title": "Could not get unknown property &#39;implementation&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler", "body": "<p>Remove all those weird plus signs (+) you have after many of your dependency declerations. So, for instance, instead of:</p>\n\n<pre><code>implementation 'com.android.support:appcompat-v7:28.0.0'+\n</code></pre>\n\n<p>Write:</p>\n\n<pre><code>implementation 'com.android.support:appcompat-v7:28.0.0'\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 12291764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4bb56230f8af897ba207ccbc3b6203a?s=128&d=identicon&r=PG&f=1", "display_name": "lebaneseblonde252", "link": "https://stackoverflow.com/users/12291764/lebaneseblonde252"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5212, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1572363719, "creation_date": 1572357539, "question_id": 58608911, "link": "https://stackoverflow.com/questions/58608911/could-not-get-unknown-property-implementation-for-object-of-type-org-gradle-ap", "title": "Could not get unknown property &#39;implementation&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler", "body": "<p>I've searched through previous post and can't find the answer to my question here is my code from my build.gradle file.</p>\n\n<p>Error: A problem occurred evaluating project ':app'.</p>\n\n<blockquote>\n  <p>Could not get unknown property 'implementation' for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.</p>\n</blockquote>\n\n<pre><code>    apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\nandroid {\n    compileSdkVersion 29\n    defaultConfig {\n        applicationId \"com.loganwiley.findmyphone\"\n        minSdkVersion 17\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        compileKotlin {\n            kotlinOptions.suppressWarnings = true\n        }\n\n        compileKotlin {\n            kotlinOptions {\n                suppressWarnings = true\n            }\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:28.0.0'+\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'+\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'+\n    implementation 'com.google.firebase:firebase-auth:10.2.4'+\n    implementation 'com.google.firebase:firebase-database:10.2.4'+\n    implementation 'com.google.android.gms:play-services-maps:10.2.4'+\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.2'+\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'+\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\nrepositories {\n    mavenCentral()\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["kotlin"], "owner": {"reputation": 13, "user_id": 6890318, "user_type": "registered", "profile_image": "https://graph.facebook.com/947017782093034/picture?type=large", "display_name": "Enio Biondic", "link": "https://stackoverflow.com/users/6890318/enio-biondic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1572357311, "creation_date": 1572357311, "question_id": 58608851, "link": "https://stackoverflow.com/questions/58608851/how-to-use-lottieanimationview-in-sharedelementtransition", "title": "How to use LottieAnimationView in SharedElementTransition?", "body": "<p>I decided to use Lottie animation to switch from activity to activity.\nMy animation covers the entire screen, and I would like to have half the animation time played on the first activity and the rest on the second activity</p>\n\n<p>I tried using Shared Element Transition but it doesn't work properly because when new activity starts first what i see is new activity and then after few miliseconds Lottie animation resumes. I would like to avoid showing new activity before Lottie animation is over </p>\n\n<p>First Activity XML file</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RelativeLayout android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;com.airbnb.lottie.LottieAnimationView android:layout_width=\"match_parent\"\n                                           android:layout_height=\"match_parent\"\n                                           android:id=\"@+id/newActivityAnimation\"\n                                           app:lottie_fileName=\"transitionAnimation.json\"\n                                           android:scaleType=\"centerCrop\"\n                                           android:elevation=\"5dp\"\n                                           android:transitionName=\"sharedNewActivityTransition\"\n\n    /&gt;\n</code></pre>\n\n<p>Second Activity XML file</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RelativeLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".ui.MenuActivity\"&gt;\n\n    &lt;com.airbnb.lottie.LottieAnimationView android:layout_width=\"match_parent\"\n                                           android:layout_height=\"match_parent\"\n                                           app:lottie_fileName=\"transitionAnimation.json\"\n                                           android:scaleType=\"centerCrop\"\n                                           android:id=\"@+id/changeActivityAnimationMenu\"\n                                           android:elevation=\"5dp\"\n                                           android:transitionName=\"sharedNewActivityTransition\"\n\n    /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Here is function which start changing activite</p>\n\n<pre><code>   override fun onLanguageClickListener(position: Int) {\n        animateCollapseMenuSlide(isMenuCollapsed)\n        newActivityAnimation.setMaxFrame(19)\n        delay.delayedFunction({newActivityAnimation.playAnimation()},200)\n        delay.delayedFunction({changeActivity()},1000)\n\n\n    }\n\n\n.\n.\n.\n\n\n private fun changeActivity() {\n        val intent = Intent(this,MenuActivity::class.java)\n        intent.flags = Intent.FLAG_ACTIVITY_NO_ANIMATION\n        val options = ActivityOptionsCompat.makeSceneTransitionAnimation(this,activityTransitionAnimation,\n            \"sharedNewActivityTransition\")\n        startActivity(intent,options.toBundle())\n    }\n\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 1, "creation_date": 1572356437, "post_id": 58607960, "comment_id": 103527930, "body": "The fact that navigating from a dialog to another dialog automatically dismisses the previous one is the &quot;correct&quot; behaviour to me.  Stacking dialogs on top of each other is not a good UX design in my opinion"}], "answers": [{"comments": [{"owner": {"reputation": 324, "user_id": 2202802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/668e144bc4b4c882954d3121bf155509?s=128&d=identicon&r=PG", "display_name": "Smalls", "link": "https://stackoverflow.com/users/2202802/smalls"}, "edited": false, "score": 0, "creation_date": 1607028991, "post_id": 58612330, "comment_id": 115151749, "body": "Is there any way around this? I&#39;m using a <code>BottomSheetDialogFragment</code> and would like to be able to navigate back to it via the back button, or navigating up."}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "reply_to_user": {"reputation": 324, "user_id": 2202802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/668e144bc4b4c882954d3121bf155509?s=128&d=identicon&r=PG", "display_name": "Smalls", "link": "https://stackoverflow.com/users/2202802/smalls"}, "edited": false, "score": 0, "creation_date": 1607029647, "post_id": 58612330, "comment_id": 115152012, "body": "@Smalls - no, this underlying limitation applies to all dialogs, bottom sheet or not."}, {"owner": {"reputation": 324, "user_id": 2202802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/668e144bc4b4c882954d3121bf155509?s=128&d=identicon&r=PG", "display_name": "Smalls", "link": "https://stackoverflow.com/users/2202802/smalls"}, "edited": false, "score": 0, "creation_date": 1607451283, "post_id": 58612330, "comment_id": 115274906, "body": "Darn. We ended up needing to create a new <code>Activity</code> that has no <code>ActionBar</code>/<code>AppBar</code> and having a full flow inside of said <code>Activity</code> to solve this. We ditched the <code>BottomSheetDialogFragment</code> for a custom layout inside of a <code>Fragment</code>. The use case we were looking for is a <code>BottomSheetDialogFragment</code> pops up and clicking on something in it starts a flow of screens with no ActionBar. Users can go back to the BottomSheet. Upon completion (or backing out) of said flow we needed to take users back to where they came from initially"}], "tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 7, "last_activity_date": 1572368981, "last_edit_date": 1592644375, "creation_date": 1572368981, "answer_id": 58612330, "question_id": 58607960, "link": "https://stackoverflow.com/questions/58607960/dialogfragment-closes-when-navigating-from-it-to-another-fragment/58612330#58612330", "title": "DialogFragment closes when navigating from it to another fragment", "body": "<p>As per <a href=\"https://issuetracker.google.com/issues/134089818#comment7\" rel=\"noreferrer\">this issue</a>, this is working as intended:</p>\n<blockquote>\n<p>There's a couple of problems here relating to how Dialogs and Fragments work:</p>\n<ol>\n<li><p>Dialogs are separate windows that always sit above your activity's window. This means that the dialog will continue to intercept the system back button no matter what state the underlying FragmentManager is in or what FragmentTransactions you do.</p>\n</li>\n<li><p>Operations on the fragment container (i.e., your normal <code>&lt;fragment&gt;</code> destinations) don't affect dialog fragments. Same if you do FragmentTransactions on a nested FragmentManager.</p>\n</li>\n</ol>\n<p>The initial release of Navigation's <code>&lt;dialog&gt;</code> support did not take these limitations into account and would treat dialog destinations just like any other in that, from Navigation's point of view, they could be put on the back stack and treated like any other <code>&lt;fragment&gt;</code> destination.</p>\n<p>As that's not actually the case, we've made a few changes for Navigation 2.1.0-alpha06 to ensure that Navigation's state of the world matches what you actually see on the screen and prevent crashes like that in comment#5.</p>\n<p><strong>The summary of this is that <code>&lt;dialog&gt;</code> destinations are now automatically popped when navigate to a non-dialog and non-activity destination, such as a  destination.</strong> For reference, this was done in <a href=\"https://android-review.googlesource.com/996359\" rel=\"noreferrer\">https://android-review.googlesource.com/996359</a> and <a href=\"https://android-review.googlesource.com/1007662\" rel=\"noreferrer\">https://android-review.googlesource.com/1007662</a></p>\n</blockquote>\n<p>So it is expected when you navigate to a non-dialog destination that any dialog destination is popped off the back stack.</p>\n"}], "owner": {"reputation": 303, "user_id": 9343011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cXaIJ.jpg?s=128&g=1", "display_name": "Areyana", "link": "https://stackoverflow.com/users/9343011/areyana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 721, "favorite_count": 0, "accepted_answer_id": 58612330, "answer_count": 1, "score": 7, "last_activity_date": 1572368981, "creation_date": 1572353981, "question_id": 58607960, "link": "https://stackoverflow.com/questions/58607960/dialogfragment-closes-when-navigating-from-it-to-another-fragment", "title": "DialogFragment closes when navigating from it to another fragment", "body": "<p>Currently in my navgraph i have dialog fragment destination ( Fragment(dialog) type). When i'm navigating to this dialog and then try to navigate to another fragment from this dialog destination, dialog is closing which in my opinion is upredictable behaviour.</p>\n\n<p>Now i'm only navigating to the next fragment like this.</p>\n\n<p><code>findNavController().popBackStack(R.id.testFragment, true)</code></p>\n\n<p>I want to dialog not closing and only navigate to another dialog like a default fragment. How can i achieve this ?</p>\n"}, {"tags": ["android", "kotlin", "junit", "robolectric"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 5, "creation_date": 1572352696, "post_id": 58607600, "comment_id": 103525968, "body": "<a href=\"https://androidx.tech/artifacts/test/core/1.2.0/\" rel=\"nofollow noreferrer\"><code>androidx.test:core:1.2.0</code> has <code>ActivityScenario</code></a>. However, you are including that dependency for instrumented tests (<code>androidTestImplementation</code>), not unit tests (<code>testImplementation</code>)."}, {"owner": {"reputation": 1244, "user_id": 9715339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3gpf.jpg?s=128&g=1", "display_name": "Mayur Gajra", "link": "https://stackoverflow.com/users/9715339/mayur-gajra"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 2, "creation_date": 1572352822, "post_id": 58607600, "comment_id": 103526030, "body": "@CommonsWare Oh my god. How silly mistake it was. Thanks for saving my day."}], "owner": {"reputation": 1244, "user_id": 9715339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3gpf.jpg?s=128&g=1", "display_name": "Mayur Gajra", "link": "https://stackoverflow.com/users/9715339/mayur-gajra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 764, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1572352513, "creation_date": 1572352513, "question_id": 58607600, "link": "https://stackoverflow.com/questions/58607600/unresolved-reference-activityscenario", "title": "Unresolved reference : ActivityScenario", "body": "<p>I was just learning how to create tests using <strong>Robolectric</strong>. I was just writing my first Test as following:</p>\n\n<pre><code>@RunWith(RobolectricTestRunner::class)\nclass MainActivityTest {\n\n    lateinit var mainActivity: MainActivity\n\n    @Before\n    fun setUp() {\n        mainActivity = setupActivity(MainActivity::class.java)\n    }\n}\n</code></pre>\n\n<p>But here it shows that <code>setupActivity</code> is deprecated and i should use something called <strong>ActivityScenario</strong>. So i tried adding dependencies for it as following:</p>\n\n<p><strong>Module level build.gradle:</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"com.example.unittesting\"\n        minSdkVersion 15\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    testOptions {\n        unitTests {\n            includeAndroidResources = true\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.core:core-ktx:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    testImplementation 'org.robolectric:robolectric:4.3.1'\n    // Core library\n    androidTestImplementation 'androidx.test:core:1.2.0'\n\n    // AndroidJUnitRunner and JUnit Rules\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test:rules:1.2.0'\n\n    // Assertions\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.ext:truth:1.2.0'\n    androidTestImplementation 'com.google.truth:truth:0.42'\n\n    // Espresso dependencies\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-contrib:3.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-intents:3.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-accessibility:3.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-web:3.2.0'\n    androidTestImplementation 'androidx.test.espresso.idling:idling-concurrent:3.2.0'\n\n    // The following Espresso dependency can be either \"implementation\"\n    // or \"androidTestImplementation\", depending on whether you want the\n    // dependency to appear on your APK's compile classpath or the test APK\n    // classpath.\n    androidTestImplementation 'androidx.test.espresso:espresso-idling-resource:3.2.0'\n}\n</code></pre>\n\n<p>Still i am unable to resolve the class <strong>ActivityScenario</strong>. I don't know what i am missing.</p>\n"}, {"tags": ["java", "android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1572351177, "post_id": 58607202, "comment_id": 103525240, "body": "Try using <code>&lt;T : RecyclerView.Adapter&lt;*&gt;&gt;</code> although actually isn&#39;t that supposed to be a subclass of <code>ViewHolder</code>?"}, {"owner": {"reputation": 5323, "user_id": 807110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e4311934b00d7a37980696839577f07?s=128&d=identicon&r=PG", "display_name": "Gunhan", "link": "https://stackoverflow.com/users/807110/gunhan"}, "edited": false, "score": 0, "creation_date": 1572351881, "post_id": 58607202, "comment_id": 103525612, "body": "Both versions compiles on my side. What is your kotlin version?"}, {"owner": {"reputation": 2628, "user_id": 6295668, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zInPi.jpg?s=128&g=1", "display_name": "Jinesh Francis", "link": "https://stackoverflow.com/users/6295668/jinesh-francis"}, "edited": false, "score": 0, "creation_date": 1572352350, "post_id": 58607202, "comment_id": 103525809, "body": "Method will compile.Try to call the method by passing an adapter instance.Then it won&#39;t compile"}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 1, "last_activity_date": 1572354572, "creation_date": 1572354572, "answer_id": 58608101, "question_id": 58607202, "link": "https://stackoverflow.com/questions/58607202/do-every-class-in-kotlin-extends-any-class/58608101#58608101", "title": "Do every class in Kotlin extends Any class", "body": "<p>As per the documentation: \n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html</a></p>\n\n<p><code>Every Kotlin class has Any as a superclass.</code></p>\n\n<p>That being said - the class that adapter takes needs to extend from ViewHolder.</p>\n"}, {"tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 0, "last_activity_date": 1572356554, "creation_date": 1572356554, "answer_id": 58608624, "question_id": 58607202, "link": "https://stackoverflow.com/questions/58607202/do-every-class-in-kotlin-extends-any-class/58608624#58608624", "title": "Do every class in Kotlin extends Any class", "body": "<p>The type of RecyclerView.Adapter has to be a ViewHolder or ViewHolder subclass. This is defined in the class and you can\u2019t expand its scope to Any or Object. That would defeat the purpose of generics. By using the star projection it automatically uses the largest bounds defined by the class <code>&lt;out ViewHolder&gt;/&lt;in Nothing&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1572366593, "last_edit_date": 1572366593, "creation_date": 1572366195, "answer_id": 58611572, "question_id": 58607202, "link": "https://stackoverflow.com/questions/58607202/do-every-class-in-kotlin-extends-any-class/58611572#58611572", "title": "Do every class in Kotlin extends Any class", "body": "<p><code>RecyclerView.Adapter&lt;Any&gt;</code> is equivalent to Java <code>RecyclerView.Adapter&lt;Object&gt;</code> which is not at all the same as <code>RecyclerView.Adapter&lt;?&gt;</code>. In particular, if you have something like</p>\n\n<pre><code>class AnAdapter extends RecyclerView.Adapter&lt;SomeType&gt;\n</code></pre>\n\n<p>then <code>AnAdapter</code> is a subtype of <code>RecyclerView.Adapter&lt;*&gt;</code> (<code>?</code> in Java) and <em>not</em> a subtype of <code>RecyclerView.Adapter&lt;Any&gt;</code> (<code>Object</code>). So you can't pass an instance of <code>AnAdapter</code> to a method expecting a subtype of <code>RecyclerView.Adapter&lt;Any&gt;</code>.</p>\n\n<p>Please see <a href=\"https://kotlinlang.org/docs/reference/generics.html#variance\" rel=\"nofollow noreferrer\">Variance</a> in Kotlin documentation.</p>\n"}], "owner": {"reputation": 2628, "user_id": 6295668, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zInPi.jpg?s=128&g=1", "display_name": "Jinesh Francis", "link": "https://stackoverflow.com/users/6295668/jinesh-francis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1572366593, "creation_date": 1572350974, "last_edit_date": 1572351283, "question_id": 58607202, "link": "https://stackoverflow.com/questions/58607202/do-every-class-in-kotlin-extends-any-class", "title": "Do every class in Kotlin extends Any class", "body": "<p>I am writing an extension function for <code>RecyclerView</code> to set <code>LayoutManager</code> and <code>Adapter</code> to the <code>RecyclerView</code>.The function should accept any Adapter class which is Extending from <code>RecyclerView.Adapter&lt;Any&gt;</code> as like in Java we use <code>RecyclerView.Adapter&lt;?&gt;</code>.How can we acheive this in Kotlin?.</p>\n\n<pre><code>internal fun &lt;T : RecyclerView.Adapter&lt;Any&gt;&gt; RecyclerView.initAndSetAdapter(context: Context, adapter: T) {\n    this.layoutManager = LinearLayoutManager(context)\n    this.setHasFixedSize(true)\n    this.adapter = adapter\n}\n</code></pre>\n\n<p>The function call to this method is not compiling due to Invalid Type.But if i change <code>Any</code> to <code>*</code> then it is working properly.</p>\n\n<pre><code>internal fun &lt;T : RecyclerView.Adapter&lt;*&gt;&gt; RecyclerView.initAndSetAdapter(context: Context, adapter: T) {\n    this.layoutManager = LinearLayoutManager(context)\n    this.setHasFixedSize(true)\n    this.adapter = adapter\n}\n</code></pre>\n\n<p>Why method call is not compiling with <code>Any</code> class?.Do every class in Kotlin extends <code>Any</code> class like Java <code>Object</code> class?.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1572349039, "post_id": 58606651, "comment_id": 103524212, "body": "This should help: <a href=\"https://cdn-images-1.medium.com/max/800/1%2ApLNnrvgvmG6Mdi0Yw3mdPQ.png\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1572350668, "post_id": 58606651, "comment_id": 103525001, "body": "1. <code>str</code> should be a <code>val</code> and 2. there is no benefit to using <code>let</code> in this example"}], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1572349269, "post_id": 58606718, "comment_id": 103524319, "body": "Shame that <code>?.let {} ?: </code> is not equivalent to <code>if(!=null) else {}</code> so you might want to use the <code>let</code> only in actual assignments and not all over the code"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1572351442, "post_id": 58606718, "comment_id": 103525377, "body": "@EpicPandaForce but <code>if(!=null) else {}</code> could also be written as something like <code>?.let { &#47;* if != null content *&#47; } ?: run { &#47;* else content *&#47; }</code>... or did you mean something else?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1572354487, "post_id": 58606718, "comment_id": 103526855, "body": "@Roland Exactly, but the two statements are actually not equivalent. So people should generally not use this <code>?: run {</code> stuff at all unless they are 100% sure they know what they are doing. Otherwise, use <code>if else</code>."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1572355750, "post_id": 58606718, "comment_id": 103527559, "body": "@EpicPandaForce depends on how you use it, right? if we skip &quot;equivalent&quot; for a moment (because under the hood they are really more different) at least we can say that the following will lead to the same result: <code>val x = if (y != null) y+1 else z</code> is similar to <code>val x = y?.let { it + 1 } ?: run { z }</code> ... with the latter being a bit safer in case that <code>y</code> is mutable and altered in another thread..."}], "tags": [], "owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "is_accepted": false, "score": 8, "last_activity_date": 1572349108, "creation_date": 1572349108, "answer_id": 58606718, "question_id": 58606651, "link": "https://stackoverflow.com/questions/58606651/what-is-the-purpose-of-let-keyword-in-kotlin/58606718#58606718", "title": "What is the purpose of &#39;let&#39; keyword in Kotlin", "body": "<p>One of usages you can check nullable types</p>\n\n<pre><code>var str: String? = null\nstr?.let { println(\"$it!!\") }\n</code></pre>\n\n<p>it's equal </p>\n\n<pre><code>if (str != null) {\n   System.out.println(str);\n}\n</code></pre>\n\n<p>in Java, but shorter and more useful</p>\n"}, {"tags": [], "owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "is_accepted": true, "score": 20, "last_activity_date": 1605089698, "last_edit_date": 1605089698, "creation_date": 1572350598, "answer_id": 58607101, "question_id": 58606651, "link": "https://stackoverflow.com/questions/58606651/what-is-the-purpose-of-let-keyword-in-kotlin/58607101#58607101", "title": "What is the purpose of &#39;let&#39; keyword in Kotlin", "body": "<p><code>let</code> is one of Kotlin's <a href=\"https://kotlinlang.org/docs/reference/scope-functions.html\" rel=\"noreferrer\">Scope</a> functions which allow you to execute a code block within the context of an object. In this case the context object is <code>str</code>. There are five of them: <code>let</code>, <code>run</code>, <code>with</code>, <code>apply</code>, and <code>also</code>. Their usages range from but are not exclusive to initialization and mapping.</p>\n<p>They are all very similar but they differ in terms of how the context object is referenced and the value that is returned. In the case of <code>let</code> the context object is referenced by the <code>it</code> keyword as opposed to the <code>this</code> keyword. The return value is whatever is returned from the lambda code block. Other scope functions like <code>apply</code> will return the context object instead.</p>\n<p>Because <code>let</code> returns whatever the lambda block evaluates to, it is most suited to performing a mapping of some kind:</p>\n<pre><code>var upperStr = str.let { it.toUpperCase()}\n</code></pre>\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"noreferrer\">apply</a> is a more suited function for what you are doing.</p>\n<p>To answer your question as to which code is more preferable, it really depends on what you are using the scope function for. In the above case there is no reason to use <code>let</code>. If you are using IntelliJ it will give a warning saying the call to <code>let</code> is redundant. Readability here is a matter of preference, and may be preferred.</p>\n<p>The <code>let</code> function is useful when you wish to perform a null safe operation on an Object by using the the <code>safe call</code> operator <code>?.</code> When doing this the <code>let</code> code block will only be executed if the object is not null. Another reason to use let is if you need to introduce new variables for the operation but you want to confine them to the scope of the let block. This is true for all scope functions, so I reiterate that <code>let</code> is best used for a mapping operation.</p>\n<p>Edit: The <code>let</code> function should incur no additional cost. Normally we would expect the lambda/Code-block to be compiled to a <code>Function</code> object but this is not the case for an <code>inline</code> function in Kotlin for which the compiler will emit code not dissimilar to the second code example you have given. See the <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"noreferrer\">documentation</a> for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 685, "user_id": 4842242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mEeYX.jpg?s=128&g=1", "display_name": "Omkar C.", "link": "https://stackoverflow.com/users/4842242/omkar-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1572356546, "creation_date": 1572356546, "answer_id": 58608623, "question_id": 58606651, "link": "https://stackoverflow.com/questions/58606651/what-is-the-purpose-of-let-keyword-in-kotlin/58608623#58608623", "title": "What is the purpose of &#39;let&#39; keyword in Kotlin", "body": "<p>let takes the object it is invoked upon as the parameter and returns the result of the lambda expression.\nKotlin let is a scoping function wherein the variables declared inside the expression cannot be used outside.</p>\n\n<p>One of the examples would be here : </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var str = \"Hello World\"\n    str.let { println(\"$it!!\") }\n    println(str)\n\n}\n\n</code></pre>\n\n<p>You can find more information on Kotlin let function <a href=\"https://www.journaldev.com/19467/kotlin-let-run-also-apply-with#kotlin-let\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 2628, "user_id": 6295668, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zInPi.jpg?s=128&g=1", "display_name": "Jinesh Francis", "link": "https://stackoverflow.com/users/6295668/jinesh-francis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12596, "favorite_count": 2, "closed_date": 1572422639, "accepted_answer_id": 58607101, "answer_count": 3, "score": 14, "last_activity_date": 1605089698, "creation_date": 1572348810, "last_edit_date": 1572349176, "question_id": 58606651, "link": "https://stackoverflow.com/questions/58606651/what-is-the-purpose-of-let-keyword-in-kotlin", "closed_reason": "Duplicate", "title": "What is the purpose of &#39;let&#39; keyword in Kotlin", "body": "<p>We can write the code with or without <code>let</code> as follows.</p>\n\n<pre><code>var str = \"Hello World\"\nstr.let { println(\"$it!!\") }\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>var str = \"Hello World\"\nprintln(\"$str!!\")\n</code></pre>\n\n<p>What is the Actual use of <code>let</code>?.Is that more memory efficient or more readable?</p>\n"}, {"tags": ["java", "android", "kotlin", "arraylist"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 1, "creation_date": 1572346952, "post_id": 58606129, "comment_id": 103523174, "body": "I removed the question mark from your title, as <code>ArrayList&lt;ArrayList&lt;Double&gt;&gt;?</code> can be a data type (to indicate that it is nullable) and that is a bit confusing to people reading :)"}, {"owner": {"reputation": 1744, "user_id": 8842694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1s4AN1_hjqE/AAAAAAAAAAI/AAAAAAAAAfI/3zXyhP8eIEs/photo.jpg=k-s128", "display_name": "Rishabh Sahrawat", "link": "https://stackoverflow.com/users/8842694/rishabh-sahrawat"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1572346992, "post_id": 58606129, "comment_id": 103523207, "body": "Thanks, I didn&#39;t notice that. :)"}], "answers": [{"comments": [{"owner": {"reputation": 1744, "user_id": 8842694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1s4AN1_hjqE/AAAAAAAAAAI/AAAAAAAAAfI/3zXyhP8eIEs/photo.jpg=k-s128", "display_name": "Rishabh Sahrawat", "link": "https://stackoverflow.com/users/8842694/rishabh-sahrawat"}, "edited": false, "score": 0, "creation_date": 1572347578, "post_id": 58606202, "comment_id": 103523479, "body": "At the end in your answer, if I understood it correctly, <code>arrayListOf</code> is creating another ArrayList which gets the first element value?. If so, can&#39;t I modify the existing ArrayList <code>temp_storage</code>?"}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 3, "last_activity_date": 1572347025, "creation_date": 1572347025, "answer_id": 58606202, "question_id": 58606129, "link": "https://stackoverflow.com/questions/58606129/why-extension-functions-are-not-working-on-arraylistarraylistdouble/58606202#58606202", "title": "Why Extension Functions are not working on ArrayList&lt;ArrayList&lt;Double&gt;&gt;", "body": "<pre><code>temp_storage.take(1)\n</code></pre>\n\n<p>This returns a revised <code>List</code>. It does not modify the <code>List</code> on which you call it. You are ignoring the returned value.</p>\n\n<pre><code>temp_storage.dropLast(1)\n</code></pre>\n\n<p>Same &mdash; you are ignoring the work that the function is doing.</p>\n\n<pre><code>println(\"FInal size: \"+ temp_storage.size) //still size 2. Why not 1!?\n</code></pre>\n\n<p>It is the same size because nothing that you did modified it. </p>\n\n<blockquote>\n  <p>What is the way of achieving this?</p>\n</blockquote>\n\n<p>If I am understanding what you want, use:</p>\n\n<pre><code>fun padding(tokenizedinput : ArrayList&lt;ArrayList&lt;Double&gt;&gt;) = arrayListOf(tokenizedinput[0])\n</code></pre>\n\n<p>Here, we:</p>\n\n<ul>\n<li><p>Get the first element of tokenizedinput</p></li>\n<li><p>Wrap that in an <code>ArrayList</code>, since you wanted an <code>ArrayList&lt;ArrayList&lt;Double&gt;&gt;</code> response</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1744, "user_id": 8842694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1s4AN1_hjqE/AAAAAAAAAAI/AAAAAAAAAfI/3zXyhP8eIEs/photo.jpg=k-s128", "display_name": "Rishabh Sahrawat", "link": "https://stackoverflow.com/users/8842694/rishabh-sahrawat"}, "edited": false, "score": 0, "creation_date": 1572347347, "post_id": 58606229, "comment_id": 103523375, "body": "So, can I do <code>temp_storage = temp_storage.dropLast(1)</code>? Will this modify the existing list?"}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "reply_to_user": {"reputation": 1744, "user_id": 8842694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1s4AN1_hjqE/AAAAAAAAAAI/AAAAAAAAAfI/3zXyhP8eIEs/photo.jpg=k-s128", "display_name": "Rishabh Sahrawat", "link": "https://stackoverflow.com/users/8842694/rishabh-sahrawat"}, "edited": false, "score": 0, "creation_date": 1572347478, "post_id": 58606229, "comment_id": 103523438, "body": "@RishabhSahrawat yes it should"}, {"owner": {"reputation": 1744, "user_id": 8842694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1s4AN1_hjqE/AAAAAAAAAAI/AAAAAAAAAfI/3zXyhP8eIEs/photo.jpg=k-s128", "display_name": "Rishabh Sahrawat", "link": "https://stackoverflow.com/users/8842694/rishabh-sahrawat"}, "edited": false, "score": 0, "creation_date": 1572347834, "post_id": 58606229, "comment_id": 103523604, "body": "If I do that, I am seeing the error: <code>Type inference failed. Required: ArrayList&lt;ArrayList&lt;Double&gt;&gt;. Found: List&lt;ArryList&lt;Double&gt;&gt;</code>, when I did <code>temp_storage = temp_storage.dropLast(1 )</code>"}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "reply_to_user": {"reputation": 1744, "user_id": 8842694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1s4AN1_hjqE/AAAAAAAAAAI/AAAAAAAAAfI/3zXyhP8eIEs/photo.jpg=k-s128", "display_name": "Rishabh Sahrawat", "link": "https://stackoverflow.com/users/8842694/rishabh-sahrawat"}, "edited": false, "score": 0, "creation_date": 1572348025, "post_id": 58606229, "comment_id": 103523694, "body": "@RishabhSahrawat I have edited the answer please check !"}, {"owner": {"reputation": 1744, "user_id": 8842694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1s4AN1_hjqE/AAAAAAAAAAI/AAAAAAAAAfI/3zXyhP8eIEs/photo.jpg=k-s128", "display_name": "Rishabh Sahrawat", "link": "https://stackoverflow.com/users/8842694/rishabh-sahrawat"}, "edited": false, "score": 1, "creation_date": 1572348336, "post_id": 58606229, "comment_id": 103523866, "body": "Ah yes, now I get it. The returned <code>List</code> from the function has to be wrapped into <code>ArrayList</code>. It worked. Thank you. Have a nice day!"}], "tags": [], "owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "is_accepted": true, "score": 2, "last_activity_date": 1572348002, "last_edit_date": 1572348002, "creation_date": 1572347102, "answer_id": 58606229, "question_id": 58606129, "link": "https://stackoverflow.com/questions/58606129/why-extension-functions-are-not-working-on-arraylistarraylistdouble/58606229#58606229", "title": "Why Extension Functions are not working on ArrayList&lt;ArrayList&lt;Double&gt;&gt;", "body": "<p><code>List.take(n)</code> or <code>List.dropLast(n)</code> would <code>return</code> a new list with the operation. It would <strong>NOT MODIFY</strong> the existing list. Try logging or printing this way :-</p>\n\n<pre><code>println(temp_storage.take(1).size) // would be 1\nprintln(temp_storage.dropLast(1).size) // would be 1\n</code></pre>\n\n<blockquote>\n  <p>The above outputs would be <code>1</code>, iff the size of the List is <code>2</code> </p>\n</blockquote>\n\n<p>To convert to the existing list use :-</p>\n\n<pre><code>temp_storage = ArrayList(temp_storage.dropLast(1)) // need to cast it to ArrayList&lt;T&gt; before assigning\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1744, "user_id": 8842694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1s4AN1_hjqE/AAAAAAAAAAI/AAAAAAAAAfI/3zXyhP8eIEs/photo.jpg=k-s128", "display_name": "Rishabh Sahrawat", "link": "https://stackoverflow.com/users/8842694/rishabh-sahrawat"}, "edited": false, "score": 0, "creation_date": 1572347940, "post_id": 58606235, "comment_id": 103523654, "body": "I understand, but then how to modify the ArrayList?. Should I create another ArrayList and save everything there or Can I make changes to the existing one?"}, {"owner": {"reputation": 1744, "user_id": 8842694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1s4AN1_hjqE/AAAAAAAAAAI/AAAAAAAAAfI/3zXyhP8eIEs/photo.jpg=k-s128", "display_name": "Rishabh Sahrawat", "link": "https://stackoverflow.com/users/8842694/rishabh-sahrawat"}, "edited": false, "score": 0, "creation_date": 1572348435, "post_id": 58606235, "comment_id": 103523916, "body": "I was just missing the wrapping part for the resulted List. Thank you for your help and time."}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "reply_to_user": {"reputation": 1744, "user_id": 8842694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1s4AN1_hjqE/AAAAAAAAAAI/AAAAAAAAAfI/3zXyhP8eIEs/photo.jpg=k-s128", "display_name": "Rishabh Sahrawat", "link": "https://stackoverflow.com/users/8842694/rishabh-sahrawat"}, "edited": false, "score": 1, "creation_date": 1572348475, "post_id": 58606235, "comment_id": 103523937, "body": "no problem, sorry for the delayed reply there I didn&#39;t see your comment, you can assign the result to another arraylist as you have probably figured out :)"}], "tags": [], "owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "is_accepted": false, "score": 1, "last_activity_date": 1572347115, "creation_date": 1572347115, "answer_id": 58606235, "question_id": 58606129, "link": "https://stackoverflow.com/questions/58606129/why-extension-functions-are-not-working-on-arraylistarraylistdouble/58606235#58606235", "title": "Why Extension Functions are not working on ArrayList&lt;ArrayList&lt;Double&gt;&gt;", "body": "<p>To add to what the other answers have already said, from the actual class which contains this method: </p>\n\n<p>The <strong>take</strong> method: </p>\n\n<pre><code>/**\n * Returns a list containing first [n] elements.\n * \n * @throws IllegalArgumentException if [n] is negative.\n * \n * @sample samples.collections.Collections.Transformations.take\n */\npublic fun &lt;T&gt; Iterable&lt;T&gt;.take(n: Int): List&lt;T&gt; {\n    require(n &gt;= 0) { \"Requested element count $n is less than zero.\" }\n    if (n == 0) return emptyList()\n    if (this is Collection&lt;T&gt;) {\n        if (n &gt;= size) return toList()\n        if (n == 1) return listOf(first())\n    }\n    var count = 0\n    val list = ArrayList&lt;T&gt;(n)\n    for (item in this) {\n        if (count++ == n)\n            break\n        list.add(item)\n    }\n    return list.optimizeReadOnlyList()\n} \n</code></pre>\n\n<p>and also the <strong>dropLast</strong>:</p>\n\n<pre><code>/**\n * Returns a list containing all elements except last [n] elements.\n * \n * @throws IllegalArgumentException if [n] is negative.\n * \n * @sample samples.collections.Collections.Transformations.drop\n */\npublic fun &lt;T&gt; List&lt;T&gt;.dropLast(n: Int): List&lt;T&gt; {\n    require(n &gt;= 0) { \"Requested element count $n is less than zero.\" }\n    return take((size - n).coerceAtLeast(0))\n}\n</code></pre>\n\n<p>which can be found in <code>_Collections.kt</code></p>\n\n<p>This means that it returns a list, it doesn't modify the original collection</p>\n"}], "owner": {"reputation": 1744, "user_id": 8842694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1s4AN1_hjqE/AAAAAAAAAAI/AAAAAAAAAfI/3zXyhP8eIEs/photo.jpg=k-s128", "display_name": "Rishabh Sahrawat", "link": "https://stackoverflow.com/users/8842694/rishabh-sahrawat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 58606229, "answer_count": 3, "score": 0, "last_activity_date": 1572348002, "creation_date": 1572346722, "last_edit_date": 1572346913, "question_id": 58606129, "link": "https://stackoverflow.com/questions/58606129/why-extension-functions-are-not-working-on-arraylistarraylistdouble", "title": "Why Extension Functions are not working on ArrayList&lt;ArrayList&lt;Double&gt;&gt;", "body": "<p>I am very new to Android development in Kotlin. I have an ArrayList consisting two ArrayLists of Double type. I want to discard/ slice everything after the first element inside the Big ArrayList. On coming across the properties described <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/index.html\" rel=\"nofollow noreferrer\">here</a> on Kotlin's page, I found some functions like <code>dropLast</code>, <code>take</code> etc. However, they don't perform on implementation also there is no error. I am still getting the same output as input having the same length. Although the functions like <code>add</code>, <code>get</code> under <code>Functions</code> column are working fine. I am surely missing something here. What would be the way for achieving this?</p>\n\n<p>Below is a dummy code:-</p>\n\n<pre><code>fun padding(tokenizedinput : ArrayList&lt;ArrayList&lt;Double&gt;&gt;) : ArrayList&lt;ArrayList&lt;Double&gt;&gt; {\n    var temp_storage = tokenizedinput // of size 2\n    temp_storage.take(1) // OPTION 1. Only want to have first element in this ArrayList\n    temp_storage.dropLast(1) // OPTION 2. Only want to drop 1 element from the end\n    println(\"FInal size: \"+ temp_storage.size) //still size 2. Why not 1!?\n    return temp_storage\n}\n</code></pre>\n"}, {"tags": ["kotlin", "xsd"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1572352078, "post_id": 58605981, "comment_id": 103525686, "body": "Maybe <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/schemagen.html\" rel=\"nofollow noreferrer\">schemagen</a> is what you are looking for... Alternatively you can also generate the schema using <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/JAXBContext.html#generateSchema-javax.xml.bind.SchemaOutputResolver-\" rel=\"nofollow noreferrer\"><code>JAXBContext#generateSchema</code></a>..."}, {"owner": {"reputation": 596, "user_id": 5089120, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-6EUHKovNvzg/AAAAAAAAAAI/AAAAAAAAABA/cD0AiDfqNLY/photo.jpg?sz=128", "display_name": "Ruthi Ruth", "link": "https://stackoverflow.com/users/5089120/ruthi-ruth"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1572362449, "post_id": 58605981, "comment_id": 103531376, "body": "@Roland thank you for your message. I had a look and tried that already. with java classes it works exactly as expected. but the kotlin data classes seem to be ignored.  Any idea what I could do? Cannot find anythin in the internet unfortunately :("}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1572364140, "post_id": 58605981, "comment_id": 103532324, "body": "ah, I see... missed that <code>schemagen</code> takes <code>java</code>-files as input... do you use <code>JAXB</code>-annotations or do you only want the <code>data class</code>(es) to transform into a schema file?"}, {"owner": {"reputation": 596, "user_id": 5089120, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-6EUHKovNvzg/AAAAAAAAAAI/AAAAAAAAABA/cD0AiDfqNLY/photo.jpg?sz=128", "display_name": "Ruthi Ruth", "link": "https://stackoverflow.com/users/5089120/ruthi-ruth"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1572532839, "post_id": 58605981, "comment_id": 103596524, "body": "I did add the annotations that were generated on the java classes as a trial. you can see my data from the sample project <a href=\"https://github.com/huehnerlady/gs-producing-web-service/blob/kotlin/complete/src/main/kotlin/hello/api/Api.kt\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1572535622, "post_id": 58605981, "comment_id": 103598243, "body": "just wondering... did you also try to write out the schema ~manually using <code>JAXBContext.generateSchema</code>? <a href=\"https://stackoverflow.com/a/24041280/6202869\">This answer contains some sample code</a>"}], "owner": {"reputation": 596, "user_id": 5089120, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-6EUHKovNvzg/AAAAAAAAAAI/AAAAAAAAABA/cD0AiDfqNLY/photo.jpg?sz=128", "display_name": "Ruthi Ruth", "link": "https://stackoverflow.com/users/5089120/ruthi-ruth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572346241, "creation_date": 1572346241, "question_id": 58605981, "link": "https://stackoverflow.com/questions/58605981/create-a-xsd-from-kotlin-classes", "title": "Create a XSD from kotlin classes", "body": "<p>I want to create a soap endpoint but have my kotlin data classes as single point of truth (I do not have an XSD to hand and I want to use spring which just supports contract-first)</p>\n\n<p>I hardly found anything about generating an xsd from java classes, just the other way around.</p>\n\n<p>Does someone have experience with how to generate an XSD from kotlin data classes in gradle?</p>\n\n<p>Many thanks</p>\n"}, {"tags": ["kotlin", "optimization"], "comments": [{"owner": {"reputation": 3180, "user_id": 923441, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Cwbw0.png?s=128&g=1", "display_name": "A. Steenbergen", "link": "https://stackoverflow.com/users/923441/a-steenbergen"}, "edited": false, "score": 1, "creation_date": 1572340863, "post_id": 58604395, "comment_id": 103519986, "body": "Why should it get called twice? It will get called once, and if it returns null then &quot;default&quot; will be stored in result."}, {"owner": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "edited": false, "score": 3, "creation_date": 1572340889, "post_id": 58604395, "comment_id": 103519998, "body": "If you add  print statement to costlyGetter you will be able to see"}, {"owner": {"reputation": 3180, "user_id": 923441, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Cwbw0.png?s=128&g=1", "display_name": "A. Steenbergen", "link": "https://stackoverflow.com/users/923441/a-steenbergen"}, "edited": false, "score": 0, "creation_date": 1572341013, "post_id": 58604395, "comment_id": 103520069, "body": "There is almost certainly something else in your code not in the example that is causing the issues that you are seeing. The first and second code you posted work in the same way, the only difference is, that in the second case you are storing the exact result of costlyGetter() separately."}, {"owner": {"reputation": 2720, "user_id": 3399416, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FgDD7.png?s=128&g=1", "display_name": "JoseHdez_2", "link": "https://stackoverflow.com/users/3399416/josehdez-2"}, "edited": false, "score": 0, "creation_date": 1572341139, "post_id": 58604395, "comment_id": 103520125, "body": "A.Steenbergen, I haven&#39;t had any issues. I just wanted to know if the first format was optimized. I will check with a print, as matt freake has said."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1572341282, "post_id": 58604395, "comment_id": 103520207, "body": "It&#39;s less &quot;optimized&quot; than &quot;not pessimized&quot;."}, {"owner": {"reputation": 2720, "user_id": 3399416, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FgDD7.png?s=128&g=1", "display_name": "JoseHdez_2", "link": "https://stackoverflow.com/users/3399416/josehdez-2"}, "edited": false, "score": 0, "creation_date": 1572342255, "post_id": 58604395, "comment_id": 103520722, "body": "I had my doubts since with a ternary operator (which this replaces) you would have to call the method twice or store the subresult. In a naive implementation of Elvis, the method would be called twice."}], "answers": [{"tags": [], "owner": {"reputation": 2720, "user_id": 3399416, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FgDD7.png?s=128&g=1", "display_name": "JoseHdez_2", "link": "https://stackoverflow.com/users/3399416/josehdez-2"}, "is_accepted": false, "score": 0, "last_activity_date": 1572344375, "last_edit_date": 1572344375, "creation_date": 1572342086, "answer_id": 58604778, "question_id": 58604395, "link": "https://stackoverflow.com/questions/58604395/is-it-optimal-to-use-evaluation-expressions-within-the-elvis-operator/58604778#58604778", "title": "Is it optimal to use evaluation expressions within the Elvis operator?", "body": "<p>(<a href=\"https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/\">It's OK to Ask and Answer Your Own Questions</a>)</p>\n\n<p>As matt freake suggested, I <a href=\"https://pl.kotl.in/C3B8Ibe6r\" rel=\"nofollow noreferrer\">checked with a print statement</a> and it's only called once. So it's optimized (or, \"not pessimized\") and we can call <code>val result = costlyGetter() ?: \"default\"</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2584, "user_id": 4886794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8106391458834f4e54a03c4d70add880?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Pakie\u0142a", "link": "https://stackoverflow.com/users/4886794/sebastian-pakie%c5%82a"}, "is_accepted": false, "score": 1, "last_activity_date": 1572342667, "creation_date": 1572342667, "answer_id": 58604951, "question_id": 58604395, "link": "https://stackoverflow.com/questions/58604395/is-it-optimal-to-use-evaluation-expressions-within-the-elvis-operator/58604951#58604951", "title": "Is it optimal to use evaluation expressions within the Elvis operator?", "body": "<p>Answer is not. It is gonna be called single time. Basically both examples are doing same stuff, but second one is creating one more not needed val.</p>\n\n<p>Conclusion is you can stay with the first option. It is fine.</p>\n"}], "owner": {"reputation": 2720, "user_id": 3399416, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FgDD7.png?s=128&g=1", "display_name": "JoseHdez_2", "link": "https://stackoverflow.com/users/3399416/josehdez-2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1573142162, "creation_date": 1572340673, "last_edit_date": 1573142162, "question_id": 58604395, "link": "https://stackoverflow.com/questions/58604395/is-it-optimal-to-use-evaluation-expressions-within-the-elvis-operator", "title": "Is it optimal to use evaluation expressions within the Elvis operator?", "body": "<p>In Kotlin, if I write:</p>\n\n<pre><code>val result = costlyGetter() ?: \"default\"\n</code></pre>\n\n<p>will <code>costlyGetter</code> be called twice?</p>\n\n<p>Otherwise, I will write this:</p>\n\n<pre><code>val subresult = costlyGetter()\nval result = subresult ?: \"default\"\n</code></pre>\n\n<p>but this is more verbose.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1572340087, "post_id": 58604118, "comment_id": 103519578, "body": "Look into substrings of regex. You can match and extract substrings using <code>(</code> and <code>)</code>."}, {"owner": {"reputation": 222, "user_id": 6361275, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/35d43eb1aef82a0cf14ce6210a08b62b?s=128&d=identicon&r=PG&f=1", "display_name": "Ragini", "link": "https://stackoverflow.com/users/6361275/ragini"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1572340400, "post_id": 58604118, "comment_id": 103519743, "body": "Hi @shkschneider, I didn&#39;t get. Can you please elaborate?"}, {"owner": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "edited": false, "score": 0, "creation_date": 1572341034, "post_id": 58604118, "comment_id": 103520078, "body": "Is there a reason you want to use a regex? They are great if you have a unique pattern match problem to solve, but if it&#39;s a standard thing (like URLs) there is almost certainly a library that can do it for you more easily"}], "answers": [{"tags": [], "owner": {"reputation": 2336, "user_id": 751482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCcyX.jpg?s=128&g=1", "display_name": "pshegger", "link": "https://stackoverflow.com/users/751482/pshegger"}, "is_accepted": true, "score": 3, "last_activity_date": 1572341508, "creation_date": 1572341508, "answer_id": 58604626, "question_id": 58604118, "link": "https://stackoverflow.com/questions/58604118/kotlin-how-to-map-url-with-regex/58604626#58604626", "title": "Kotlin: How to map URL with Regex", "body": "<p>You should look into matching groups in Regex. They can be used to get specific parts of a regular expression after matching. For more info you can read <a href=\"https://www.regular-expressions.info/refcapture.html\" rel=\"nofollow noreferrer\">this</a>. For your use-case you can use the following Regex:</p>\n\n<pre><code>\\/openPage\\/([^\\/]+)\\/([^\\/]+)\n</code></pre>\n\n<p><img src=\"https://www.debuggex.com/i/5iPAmrY-g8PaxWXP.png\" alt=\"Regular expression visualization\"></p>\n\n<p><a href=\"https://www.debuggex.com/r/5iPAmrY-g8PaxWXP\" rel=\"nofollow noreferrer\">Debuggex Demo</a></p>\n\n<p>And here's how you can do that in Kotlin:</p>\n\n<pre><code>val regex = \"\\\\/openPage\\\\/([^\\\\/]+)\\\\/([^\\\\/]+)\".toRegex()\nval match = regex.matchEntire(\"/openPage/ABC/XYZ\")\nval category = match?.groups?.get(1)?.value\nval subCategory = match?.groups?.get(2)?.value\n</code></pre>\n\n<p>This way you will have your category and subCategory as <code>String?</code>.</p>\n"}], "owner": {"reputation": 222, "user_id": 6361275, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/35d43eb1aef82a0cf14ce6210a08b62b?s=128&d=identicon&r=PG&f=1", "display_name": "Ragini", "link": "https://stackoverflow.com/users/6361275/ragini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 0, "accepted_answer_id": 58604626, "answer_count": 1, "score": 0, "last_activity_date": 1572341508, "creation_date": 1572339581, "question_id": 58604118, "link": "https://stackoverflow.com/questions/58604118/kotlin-how-to-map-url-with-regex", "title": "Kotlin: How to map URL with Regex", "body": "<p>I want to map Slug URL with Regex URL mentioned below.</p>\n\n<pre><code>Regex URL - /openPage/*/*\nSlug URL -/openPage/{category}/{subCategory}\nURL - /openPage/ABC/XYZ\n</code></pre>\n\n<p>where after pattern matching, I should get like,\ncategory = ABC\nsubCategory = XYZ</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "edited": false, "score": 5, "creation_date": 1572338715, "post_id": 58603890, "comment_id": 103519044, "body": "your kotlin class seems to be MyClass and not MyObject ?!!"}, {"owner": {"reputation": 163, "user_id": 5310155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qrwhw.png?s=128&g=1", "display_name": "acdsee", "link": "https://stackoverflow.com/users/5310155/acdsee"}, "edited": false, "score": 1, "creation_date": 1572338759, "post_id": 58603890, "comment_id": 103519066, "body": "Did you apply Kotlin plugin? The <code>apply plugin: &#39;kotlin-android&#39;</code> on the top of your <code>app</code> module."}, {"owner": {"reputation": 2584, "user_id": 4886794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8106391458834f4e54a03c4d70add880?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Pakie\u0142a", "link": "https://stackoverflow.com/users/4886794/sebastian-pakie%c5%82a"}, "edited": false, "score": 1, "creation_date": 1572344734, "post_id": 58603890, "comment_id": 103522123, "body": "Could you add how you are invoking it from Java?"}, {"owner": {"reputation": 1009, "user_id": 2456568, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f77dbf2bf75c32c17cdd7a58fb9d174?s=128&d=identicon&r=PG", "display_name": "netcyrax", "link": "https://stackoverflow.com/users/2456568/netcyrax"}, "edited": false, "score": 0, "creation_date": 1572390942, "post_id": 58603890, "comment_id": 103542751, "body": "Thanks all! Updated the question, added the invocation, fixed the typos."}], "answers": [{"tags": [], "owner": {"reputation": 720, "user_id": 6093189, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-3h5UNmEYWgM/AAAAAAAAAAI/AAAAAAAAACk/n-_td21irr0/photo.jpg?sz=128", "display_name": "Harish Reddy", "link": "https://stackoverflow.com/users/6093189/harish-reddy"}, "is_accepted": false, "score": 1, "last_activity_date": 1572339981, "last_edit_date": 1572339981, "creation_date": 1572339447, "answer_id": 58604079, "question_id": 58603890, "link": "https://stackoverflow.com/questions/58603890/cannot-create-kotlin-object-in-java-android/58604079#58604079", "title": "Cannot create Kotlin object in Java (Android)", "body": "<p>Make sure you have these plugin on top in the app gradle file </p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>And inside dependencies, should be like</p>\n\n<pre><code>dependencies {\ndef kotlin_version= \"2.2.1\"\nimplementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"       \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1572344365, "post_id": 58605028, "comment_id": 103521934, "body": "Brackets just says to add constructor without parameters, so it couldn&#39;t be a reason."}, {"owner": {"reputation": 2584, "user_id": 4886794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8106391458834f4e54a03c4d70add880?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Pakie\u0142a", "link": "https://stackoverflow.com/users/4886794/sebastian-pakie%c5%82a"}, "reply_to_user": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1572344541, "post_id": 58605028, "comment_id": 103522017, "body": "No argument constructor is created by default if no other constructor defined, so you do not need them."}, {"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1572347988, "post_id": 58605028, "comment_id": 103523680, "body": "Of course it is. And for example Android Studio will highlight it if you mention empty primary constructor, because it&#39;s useless to print that. I&#39;m just trying to say it can&#39;t lead any error - it is just useless."}], "tags": [], "owner": {"reputation": 2584, "user_id": 4886794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8106391458834f4e54a03c4d70add880?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Pakie\u0142a", "link": "https://stackoverflow.com/users/4886794/sebastian-pakie%c5%82a"}, "is_accepted": false, "score": 0, "last_activity_date": 1572342942, "creation_date": 1572342942, "answer_id": 58605028, "question_id": 58603890, "link": "https://stackoverflow.com/questions/58603890/cannot-create-kotlin-object-in-java-android/58605028#58605028", "title": "Cannot create Kotlin object in Java (Android)", "body": "<p>Remove brackets from kotlin class definition.</p>\n\n<pre><code>class MyClassXD {\n    fun hello(view: View) {\n    }\n}\n</code></pre>\n\n<p>Probably Java got wild when it saw brackets in classname.</p>\n"}, {"tags": [], "owner": {"reputation": 1009, "user_id": 2456568, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f77dbf2bf75c32c17cdd7a58fb9d174?s=128&d=identicon&r=PG", "display_name": "netcyrax", "link": "https://stackoverflow.com/users/2456568/netcyrax"}, "is_accepted": true, "score": 0, "last_activity_date": 1572391252, "creation_date": 1572391252, "answer_id": 58616705, "question_id": 58603890, "link": "https://stackoverflow.com/questions/58603890/cannot-create-kotlin-object-in-java-android/58616705#58616705", "title": "Cannot create Kotlin object in Java (Android)", "body": "<p>The problem was that Kotlin was creating a <code>MyClassKt</code> for the <strong>file</strong> (i.e. for accessing the SCREEN variable). </p>\n\n<p>I just needed to use the normal class name and do <code>new MyClass()</code> (no <code>Kt</code> postfix).</p>\n\n<p>Thanks all!</p>\n"}], "owner": {"reputation": 1009, "user_id": 2456568, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f77dbf2bf75c32c17cdd7a58fb9d174?s=128&d=identicon&r=PG", "display_name": "netcyrax", "link": "https://stackoverflow.com/users/2456568/netcyrax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 58616705, "answer_count": 3, "score": 0, "last_activity_date": 1572391279, "creation_date": 1572338569, "last_edit_date": 1572391279, "question_id": 58603890, "link": "https://stackoverflow.com/questions/58603890/cannot-create-kotlin-object-in-java-android", "title": "Cannot create Kotlin object in Java (Android)", "body": "<p>I have an Android app written in Java and I am trying to write a new feature in Kotlin. So I added a new Kotlin file and IntelliJ offered to setup the project for Kotlin.</p>\n\n<p>The issue is that when trying to create a Kotlin object in Java, compilation fails with</p>\n\n<blockquote>\n  <p>error: cannot find symbol constructor MyClassKt()</p>\n</blockquote>\n\n<p>My Kotlin file (<code>MyClass.kt</code>):</p>\n\n<pre><code> val SCREEN = 1;\n\n class MyClass() {\n     fun hello(view: View) {\n     } \n }\n</code></pre>\n\n<p>In my app module:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n</code></pre>\n\n<p>In my project module:</p>\n\n<pre><code> classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n</code></pre>\n\n<p>Invocation in Java:</p>\n\n<pre><code> new MyClassKt();\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 1, "creation_date": 1572333629, "post_id": 58602774, "comment_id": 103517217, "body": "There is no official coding standard, it is up to you. My personal preference is Android XML Data Binding syntax: <code>binding.buttonView.setOnClickListener{...}</code>. I use it even if I don&#39;t use Data Binding itself, since I like the syntax so much."}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 1, "creation_date": 1572336004, "post_id": 58602774, "comment_id": 103518044, "body": "You can use the synthetic version too , you dont need to use the findViewById(..)"}], "answers": [{"comments": [{"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1572339816, "post_id": 58603089, "comment_id": 103519455, "body": "If it would be the standard way of doing it, the Android team would surely use it in new sample code they write. But they don&#39;t, see e.g. <a href=\"https://github.com/android/camera-samples/blob/master/CameraXBasic/app/src/main/java/com/android/example/cameraxbasic/fragments/CameraFragment.kt#L168\" rel=\"nofollow noreferrer\">github.com/android/camera-samples/blob/master/CameraXBasic/a&zwnj;&#8203;pp/&hellip;</a>"}, {"owner": {"reputation": 6739, "user_id": 1379292, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CXuSg.jpg?s=128&g=1", "display_name": "Harikrishnan", "link": "https://stackoverflow.com/users/1379292/harikrishnan"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1572341766, "post_id": 58603089, "comment_id": 103520449, "body": "@Enselic Android architecture components are the new way of android development google has introduced. They have seperate samples for same. Google provides sample codes for distictive purposes, in case of the example provided, for getting a better idea for Camera APIs. Hence they use the old school methods for easier understanding of most of existing developers. Of course they have samples explicitly meant to demonstrate new architecture components. Like this repository: <a href=\"https://github.com/android/architecture-components-samples\" rel=\"nofollow noreferrer\">github.com/android/architecture-components-samples</a>"}], "tags": [], "owner": {"reputation": 6739, "user_id": 1379292, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CXuSg.jpg?s=128&g=1", "display_name": "Harikrishnan", "link": "https://stackoverflow.com/users/1379292/harikrishnan"}, "is_accepted": true, "score": 2, "last_activity_date": 1572334744, "creation_date": 1572334744, "answer_id": 58603089, "question_id": 58602774, "link": "https://stackoverflow.com/questions/58602774/coding-standards-for-initializing-views-in-android-using-kotlin/58603089#58603089", "title": "Coding standards for initializing views in android using Kotlin", "body": "<p>You should try <a href=\"https://developer.android.com/topic/libraries/data-binding/architecture\" rel=\"nofollow noreferrer\">Android Data Binding</a>. That is the standard way of doing it. As per the new architecture components, you don't need to access the instance of a view from code, but instead bind the data directly in the XML. The new architecture standard follows MVVM architecture.</p>\n\n<p>With respect o your question, the best of the three options would be to use Kotlin Extensions, considering the readability and length of code. That is, the following would be the best approach(Though I would give the view an ID that would match with kotlin naming standards):</p>\n\n<pre><code>btnXmlTag.setOnClickListener {\n        ...\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 7751464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3998ccbf8eb26cc6285a7ea41332d67f?s=128&d=identicon&r=PG&f=1", "display_name": "venu46", "link": "https://stackoverflow.com/users/7751464/venu46"}, "is_accepted": false, "score": 0, "last_activity_date": 1572521486, "creation_date": 1572521486, "answer_id": 58642442, "question_id": 58602774, "link": "https://stackoverflow.com/questions/58602774/coding-standards-for-initializing-views-in-android-using-kotlin/58642442#58642442", "title": "Coding standards for initializing views in android using Kotlin", "body": "<p>You can use android <strong>DataBinding</strong> and inflating those views directly in your Activity without intialization.</p>\n\n<p>just you need to add these syntax in your gradle file.</p>\n\n<blockquote>\n  <p>dataBinding{ enabled=true }</p>\n</blockquote>\n\n<p>and in your layout file parent should be in <strong>layout</strong> tag</p>\n"}], "owner": {"reputation": 13, "user_id": 2484728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2fda5f0023303f01847f9e08f52e66d?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/2484728/jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 58603089, "answer_count": 2, "score": 0, "last_activity_date": 1572521486, "creation_date": 1572333097, "question_id": 58602774, "link": "https://stackoverflow.com/questions/58602774/coding-standards-for-initializing-views-in-android-using-kotlin", "title": "Coding standards for initializing views in android using Kotlin", "body": "<p>What is the official coding standard for declaring and initializing views in Android using Kotlin? If it is case by case bases what cases would you use what? </p>\n\n<p>I've seen these ways:</p>\n\n<pre><code>//Kotlin extensions\nonCreate\n...\nbtn_xml_tag.setOnClickListener {\n        ...\n} \n\n//More like java\nprivate lateinit var button : Button \n...\nonCreate\n...\nbutton = findViewById(R.id.button)\nbutton?.setOnClickListener{...}\n\n//Lazy\nprivate val button : Button by lazy {\n    findViewById(R.id.button_view) as Button\n}\n...\nonCreate\n...\nbutton.setOnClickListener{...}\n</code></pre>\n"}, {"tags": ["android", "class", "kotlin", "constructor"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8625898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ba5e2fa423cdfb244e8322d8d46ed6?s=128&d=identicon&r=PG&f=1", "display_name": "VNprk", "link": "https://stackoverflow.com/users/8625898/vnprk"}, "edited": false, "score": 0, "creation_date": 1572333607, "post_id": 58602482, "comment_id": 103517210, "body": "I need Long type variables, but lateinit modifier is not allowed on primitive types"}, {"owner": {"reputation": 720, "user_id": 6093189, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-3h5UNmEYWgM/AAAAAAAAAAI/AAAAAAAAACk/n-_td21irr0/photo.jpg?sz=128", "display_name": "Harish Reddy", "link": "https://stackoverflow.com/users/6093189/harish-reddy"}, "reply_to_user": {"reputation": 13, "user_id": 8625898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ba5e2fa423cdfb244e8322d8d46ed6?s=128&d=identicon&r=PG&f=1", "display_name": "VNprk", "link": "https://stackoverflow.com/users/8625898/vnprk"}, "edited": false, "score": 0, "creation_date": 1572339018, "post_id": 58602482, "comment_id": 103519139, "body": "Yes, I forgot that only non-nullable non-primitive types may need lateinit to work around the type safety system."}], "tags": [], "owner": {"reputation": 720, "user_id": 6093189, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-3h5UNmEYWgM/AAAAAAAAAAI/AAAAAAAAACk/n-_td21irr0/photo.jpg?sz=128", "display_name": "Harish Reddy", "link": "https://stackoverflow.com/users/6093189/harish-reddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1572331270, "creation_date": 1572331270, "answer_id": 58602482, "question_id": 58602368, "link": "https://stackoverflow.com/questions/58602368/how-to-initialize-fields-outside-the-constructor/58602482#58602482", "title": "How to initialize fields outside the constructor", "body": "<p>use lateinit to the variables like below</p>\n\n<pre><code>lateinit var subject: TestSubject\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8625898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ba5e2fa423cdfb244e8322d8d46ed6?s=128&d=identicon&r=PG&f=1", "display_name": "VNprk", "link": "https://stackoverflow.com/users/8625898/vnprk"}, "edited": false, "score": 0, "creation_date": 1572340645, "post_id": 58603418, "comment_id": 103519866, "body": "In principle, everything is correct, but now if I do init{..} and remove the setter, when i get query from the Room, the dateControl is not initialized,it&#39;s initialized only then i do: var detailNum = DetailNum(...). Same thing with the first option(  1) .. set default value immediately )"}, {"owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "reply_to_user": {"reputation": 13, "user_id": 8625898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ba5e2fa423cdfb244e8322d8d46ed6?s=128&d=identicon&r=PG&f=1", "display_name": "VNprk", "link": "https://stackoverflow.com/users/8625898/vnprk"}, "edited": false, "score": 0, "creation_date": 1572341870, "post_id": 58603418, "comment_id": 103520508, "body": "I&#39;m not familiar with Android and Room, but I guess that those fields outside of the constructor are also set by the library and override the default values. If this is the case, one solution would be to annotate those fields with <code>@Ignore</code> and make them initialized lazily with <code>val dateControl : Int by lazy { ... }</code>."}, {"owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "reply_to_user": {"reputation": 13, "user_id": 8625898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ba5e2fa423cdfb244e8322d8d46ed6?s=128&d=identicon&r=PG&f=1", "display_name": "VNprk", "link": "https://stackoverflow.com/users/8625898/vnprk"}, "edited": false, "score": 0, "creation_date": 1572342478, "post_id": 58603418, "comment_id": 103520855, "body": "@VNprk You could also override the getters <code>get() = ...</code> which would always generate new and up-to-date values"}, {"owner": {"reputation": 13, "user_id": 8625898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ba5e2fa423cdfb244e8322d8d46ed6?s=128&d=identicon&r=PG&f=1", "display_name": "VNprk", "link": "https://stackoverflow.com/users/8625898/vnprk"}, "edited": false, "score": 0, "creation_date": 1572343621, "post_id": 58603418, "comment_id": 103521504, "body": "I need var propertie, but lazy can only be used for val properties"}, {"owner": {"reputation": 13, "user_id": 8625898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ba5e2fa423cdfb244e8322d8d46ed6?s=128&d=identicon&r=PG&f=1", "display_name": "VNprk", "link": "https://stackoverflow.com/users/8625898/vnprk"}, "edited": false, "score": 0, "creation_date": 1572344709, "post_id": 58603418, "comment_id": 103522110, "body": "Thanks for the clarification, I realized my mistake, eventually made a complex getter and setter, without an init block"}], "tags": [], "owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "is_accepted": true, "score": 0, "last_activity_date": 1572336570, "creation_date": 1572336570, "answer_id": 58603418, "question_id": 58602368, "link": "https://stackoverflow.com/questions/58602368/how-to-initialize-fields-outside-the-constructor/58603418#58603418", "title": "How to initialize fields outside the constructor", "body": "<p>Your fields like <code>dateControl</code> and <code>timeCreate</code> are not initialised in the constructor! Their setter don't get called automatically if not by some framework.</p>\n\n<p>If you want them to be set right after the constructor initialisation, you can either:</p>\n\n<p>1) .. set default value immediately</p>\n\n<pre><code>val dateControl: Long = SimpleDateFormat(\"dd.MM.yyyy\").parse(_dateControl).time\n</code></pre>\n\n<p>2) .. or use <code>init</code> if the operation needs more code or you want to gather inner field initialisations together</p>\n\n<pre><code>class DetailNum(...) {\n\n   var dateControl: Long = 0\n\n   init {\n      dateControl = SimpleDateFormat(\"dd.MM.yyyy\").parse(_dateControl).time\n      ...\n   }\n\n}\n</code></pre>\n\n<p>More infoirmation about constructors and <code>init</code> you can find <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>BTW: your setters don't use the provided value at all, so actually they are useless.</p>\n"}], "owner": {"reputation": 13, "user_id": 8625898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ba5e2fa423cdfb244e8322d8d46ed6?s=128&d=identicon&r=PG&f=1", "display_name": "VNprk", "link": "https://stackoverflow.com/users/8625898/vnprk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "accepted_answer_id": 58603418, "answer_count": 2, "score": 0, "last_activity_date": 1572336570, "creation_date": 1572330614, "last_edit_date": 1572330722, "question_id": 58602368, "link": "https://stackoverflow.com/questions/58602368/how-to-initialize-fields-outside-the-constructor", "title": "How to initialize fields outside the constructor", "body": "<p>I have a data class that is used in Room. At the head of the class there are date fields in the form of a string _dateControl and _timeCreate. There are dateControl and timeCreate fields of type Long in the body of the class. When requesting data via Retrofit, the dateControl and timeCreate fields are initialized independently. But if I try to declare an instance of a class, then these fields(dateControl and timeCreate) are not initialized and equal to 0.</p>\n\n<p>Class</p>\n\n<pre><code>@Entity\nclass DetailNum(\n    @SerializedName(\"id_ndt_res\")\n    @PrimaryKey val id: Int,\n    @SerializedName(\"id_pr\")\n    val idEntUser: Int,\n    @SerializedName(\"id_parts\")\n    val type: Int,\n    @SerializedName(\"dt_controlya\")\n    var _dateControl: String,\n    @SerializedName(\"number_part\")\n    var numDetail: String?,\n    @SerializedName(\"god_izg\")\n    var yearCreate: Int,\n    @SerializedName(\"id_zavods\")\n    var idFactory: Int,\n    @SerializedName(\"time_create\")\n    var _timeCreate: String,\n    @SerializedName(\"id_result\")\n    var resultControl: Int,\n    @SerializedName(\"familiya_i_o_speca\")\n    var fioSpec: String?,\n    @SerializedName(\"is_new_part\")\n    var isNew: Int,\n    @SerializedName(\"is_from_pto\")\n    var isFromPto: Int,\n    @SerializedName(\"is_not_kriterii_01_08_2013\")\n    var isNotKrit01082013: Int,\n    @SerializedName(\"isLoaded\")\n    var isLoaded: Int = 0\n\n) {\n    public fun getSimpleDateStr() = SimpleDateFormat(\"dd.MM.yyyy\").format(Date(dateControl))\n\n    val strResultControl: String\n        get() = resultControl.toString()\n\n    var dateControl: Long = 0\n        set(value) {\n            val date = SimpleDateFormat(\"dd.MM.yyyy\").parse(_dateControl)\n            field = date.time\n        }\n\n    var timeCreate: Long = 0\n        set(value) {\n            val date = SimpleDateFormat(\"dd.MM.yyyy HH:mm:ss\").parse(_timeCreate)\n            field = date.time\n        }\n    var nameResult:String?=\"\"\n\n    fun getFirstCharNameResult() = if(!nameResult.isNullOrEmpty()) nameResult?.get(0)?.toUpperCase() else \"\"\n}\n</code></pre>\n\n<p>Try inicialize like this</p>\n\n<pre><code>var detailNum = DetailNum(0, 0, 0, DateUtils.getSimpleDateStr(Date()), \"\", 0, 0, DateUtils.getSimpleDateStr(Date()), 0,\"\", 0, 0, 0 )\n</code></pre>\n\n<p>Why are long date fields not initialized in the second case and how to initialize them? I am new in Kotlin, please explain, thanks in advance</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1572329969, "post_id": 58602194, "comment_id": 103516190, "body": "post your <code>nav_graph.xml</code> and your fragment code."}, {"owner": {"reputation": 2795, "user_id": 6128708, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/11f72cab3fd196b09c66334c8f552089?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan Leshchenko", "link": "https://stackoverflow.com/users/6128708/ruslan-leshchenko"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1572335031, "post_id": 58602194, "comment_id": 103517699, "body": "@JohnJoe updated info"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1572341409, "post_id": 58602194, "comment_id": 103520265, "body": "from <code>purchasesListFragment</code> to <code>purchaseDetailsFragment</code> , it works fine. Then you back from <code>purchaseDetailsFragment</code> to <code>purchasesListFragment</code>, it works fine too. But again from <code>purchasesListFragment</code> to <code>purchaseDetailsFragment</code>, it crashed?"}, {"owner": {"reputation": 2795, "user_id": 6128708, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/11f72cab3fd196b09c66334c8f552089?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan Leshchenko", "link": "https://stackoverflow.com/users/6128708/ruslan-leshchenko"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1572341583, "post_id": 58602194, "comment_id": 103520356, "body": "@JohnJoe Yes, it is because <code>findNavController().setGraph(R.navigation.nav_graph, bundle)</code>"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1572342101, "post_id": 58602194, "comment_id": 103520635, "body": "maybe you can use <code>startActivityForResult</code>?"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1572342518, "post_id": 58602194, "comment_id": 103520875, "body": "this helped <a href=\"https://medium.com/@Alex.v/android-navigation-architecture-component-25b5a7aab8aa\" rel=\"nofollow noreferrer\">medium.com/@Alex.v/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2795, "user_id": 6128708, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/11f72cab3fd196b09c66334c8f552089?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan Leshchenko", "link": "https://stackoverflow.com/users/6128708/ruslan-leshchenko"}, "edited": false, "score": 0, "creation_date": 1572336001, "post_id": 58603181, "comment_id": 103518042, "body": "It&#39;s not an option for me as fragments have different view models."}], "tags": [], "owner": {"reputation": 1196, "user_id": 6720648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMFhK.jpg?s=128&g=1", "display_name": "Alok Mishra", "link": "https://stackoverflow.com/users/6720648/alok-mishra"}, "is_accepted": false, "score": 0, "last_activity_date": 1572335306, "creation_date": 1572335306, "answer_id": 58603181, "question_id": 58602194, "link": "https://stackoverflow.com/questions/58602194/android-navigation-library-crash-after-sending-data-back/58603181#58603181", "title": "Android Navigation library crash after sending data back", "body": "<p>I think you can just pass your data through viewModel and for fragment finish \njust use :</p>\n\n<pre><code>findNavController().popBackStack()\n</code></pre>\n\n<p>eg: </p>\n\n<pre><code> view.setOnClickListener {\n                // pass Data through ViewModel\n                // viewModel.sendData(data)\n                 Navigation.findNavController(it).popBackStack()\n            }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14373987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f77d6372a04ed2fad8976189f9b628d?s=128&d=identicon&r=PG&f=1", "display_name": "Hayk Melikyan", "link": "https://stackoverflow.com/users/14373987/hayk-melikyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1601556549, "creation_date": 1601556549, "answer_id": 64155760, "question_id": 58602194, "link": "https://stackoverflow.com/questions/58602194/android-navigation-library-crash-after-sending-data-back/64155760#64155760", "title": "Android Navigation library crash after sending data back", "body": "<p>use <strong>findNavController().navigateUp()</strong> instead of <strong>findNavController().popBackStack()</strong></p>\n"}], "owner": {"reputation": 2795, "user_id": 6128708, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/11f72cab3fd196b09c66334c8f552089?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan Leshchenko", "link": "https://stackoverflow.com/users/6128708/ruslan-leshchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1601556549, "creation_date": 1572329489, "last_edit_date": 1572335007, "question_id": 58602194, "link": "https://stackoverflow.com/questions/58602194/android-navigation-library-crash-after-sending-data-back", "title": "Android Navigation library crash after sending data back", "body": "<p>I use Android Navigation library for fragment navigation and try pass data back from second fragment to first. Do it with the next code: </p>\n\n<pre><code>findNavController().setGraph(R.navigation.nav_graph, bundle)\nfindNavController().popBackStack()\n</code></pre>\n\n<p>It works fine, but when I try to open the same screen after it, the next error occurred: </p>\n\n<pre><code>java.lang.IllegalArgumentException: navigation destination com.leshchenko.test:id/openPurchaseDetailsAction is unknown to this NavController\n</code></pre>\n\n<p>Thanks.</p>\n\n<p>UPDATE: \nMy nav_graph.xml</p>\n\n<pre><code>&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/nav_graph\"\n    app:startDestination=\"@id/purchasesListFragment\"&gt;\n&lt;fragment\n    android:id=\"@+id/purchasesListFragment\"\n    android:name=\"com.leshchenko.finance.presentation.purchases.PurchasesListFragment\"\n    android:label=\"fragment_purchases_list\"\n    tools:layout=\"@layout/fragment_purchases_list\"&gt;\n    &lt;action\n        android:id=\"@+id/openPurchaseDetailsAction\"\n        app:destination=\"@+id/purchaseDetailsFragment\"&gt;\n        &lt;argument\n            android:name=\"purchaseId\"\n            android:defaultValue=\"-1L\"\n            app:argType=\"long\" /&gt;\n    &lt;/action&gt;\n&lt;/fragment&gt;\n&lt;fragment  \n    android:id=\"@+id/purchaseDetailsFragment\"\n    android:name=\"com.leshchenko.finance.presentation.purchase_details.PurchaseDetailsFragment\"\n    android:label=\"fragment_purchase_details\"\n    tools:layout=\"@layout/fragment_purchase_details\"&gt;\n    &lt;argument\n        android:name=\"purchaseId\"\n        android:defaultValue=\"-1L\"\n        app:argType=\"long\" /&gt;\n&lt;/fragment&gt;\n</code></pre>\n\n<p></p>\n\n<p>Details opens via:</p>\n\n<pre><code>findNavController().navigate(PurchasesListFragmentDirections.openPurchaseDetailsAction())\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-chips"], "comments": [{"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1572384897, "post_id": 58601373, "comment_id": 103541209, "body": "try to debug and check the values of it.date.getTripState() and chip.text"}, {"owner": {"reputation": 921, "user_id": 9662401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jk9UU.jpg?s=128&g=1", "display_name": "Dr4ke the b4dass", "link": "https://stackoverflow.com/users/9662401/dr4ke-the-b4dass"}, "reply_to_user": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1572396981, "post_id": 58601373, "comment_id": 103544050, "body": "I did that, they are the same."}], "answers": [{"comments": [{"owner": {"reputation": 921, "user_id": 9662401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jk9UU.jpg?s=128&g=1", "display_name": "Dr4ke the b4dass", "link": "https://stackoverflow.com/users/9662401/dr4ke-the-b4dass"}, "edited": false, "score": 0, "creation_date": 1572324992, "post_id": 58601592, "comment_id": 103515148, "body": "The string are exactly the same. But still failed. thanks"}], "tags": [], "owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "is_accepted": false, "score": 0, "last_activity_date": 1572324864, "creation_date": 1572324864, "answer_id": 58601592, "question_id": 58601373, "link": "https://stackoverflow.com/questions/58601373/chip-setoncheckedchangelistener-string-comparison-return-false/58601592#58601592", "title": "Chip setoncheckedchangelistener String comparison return false", "body": "<p>It may be because of <code>case-sensitive comparison</code>. see my below example</p>\n\n<pre><code>val first = \"kotlin\"\nval second = \"kotlin\"\nval firstCapitalized = \"KOTLIN\"\n\nprintln(first == second) // output: True\nprint(first == firstCapitalized) // output: False [becuase uppercase and lowercase]\n</code></pre>\n\n<p>So you can compare string by converting your string to <code>lowercase</code> like below.</p>\n\n<pre><code>val first = \"kotlin\"\nval second = \"kotlin\"\nval firstCapitalized = \"KOTLIN\"\n\nprintln(first == second) // output: True\nprint(first.toLowerCase() == firstCapitalized.toLowerCase()) // output: True\n</code></pre>\n\n<p>Another way, you can use the <code>equals method</code> and <code>pass true</code> for the <code>second optional parameter</code> ignoreCase:</p>\n\n<pre><code>val first = \"kotlin\"\nval second = \"kotlin\"\nval firstCapitalized = \"KOTLIN\"\n\nprintln(first.equals(second)) // output: True\nprint(first.equals(firstCapitalized, true)) // output: True\n</code></pre>\n"}], "owner": {"reputation": 921, "user_id": 9662401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jk9UU.jpg?s=128&g=1", "display_name": "Dr4ke the b4dass", "link": "https://stackoverflow.com/users/9662401/dr4ke-the-b4dass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572324864, "creation_date": 1572322619, "question_id": 58601373, "link": "https://stackoverflow.com/questions/58601373/chip-setoncheckedchangelistener-string-comparison-return-false", "title": "Chip setoncheckedchangelistener String comparison return false", "body": "<p><a href=\"https://i.stack.imgur.com/13FUw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/13FUw.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Some Context :</strong> I'm filtering trip according to their date, those trips are on firebase, I have a method(<strong>getTripState</strong>) that compare the current date to the trip date and either return \"Upcoming\" or \"Old Trips\" depending on the case. The chips play the role as switch button with single selection enabled. I filter tripArray based on the chip text is equal to the date in the trip. Even if the String are exactly the same, the comparison return false.</p>\n\n<pre><code>chipGroup.setOnCheckedChangeListener { chipGroup, i -&gt;\n        val chip: Chip = chipGroup.findViewById(i)\n\n        rvHome.adapter = TripHistoryAdaptor(context, tripsArray.filter {\n            Toast.makeText(context, (it.date.getTripState() == chip.text).toString(), Toast.LENGTH_SHORT).show()\n            Toast.makeText(context, \"${it.date.getTripState()} == ${chip.text} \", Toast.LENGTH_SHORT).show()\n\n            it.startAt.getTripState() === chip.text\n\n        } as ArrayList&lt;Trip&gt;)\n\n        (rvHome.adapter as TripHistoryAdaptor).notifyDataSetChanged()\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "owner": {"reputation": 1443, "user_id": 3742750, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/15f53fbbfc39fbfcbec14bf8693dff5c?s=128&d=identicon&r=PG&f=1", "display_name": "KMC", "link": "https://stackoverflow.com/users/3742750/kmc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1572432240, "creation_date": 1572319504, "last_edit_date": 1572432240, "question_id": 58601072, "link": "https://stackoverflow.com/questions/58601072/device-administrator-add-screen-not-appear", "title": "Device Administrator Add screen not appear", "body": "<p>I'm following <a href=\"https://developer.android.com/work/device-management-policy#kotlin\" rel=\"nofollow noreferrer\">this kotlin example</a> from google website to prompt user to grant Admin access right to my app, but for some reason, the screen does not appear. In OnActivityResult, the result is registered as cancelled. I don't know what I'm doing wrong but I appreciate if anyone could point me to the right direction :</p>\n\n<pre><code>    //this code resides in OnCreate method of current activity\n    val compName = ComponentName(this, CurrentActivity::class.java)\n    val adminActive = devicePolicyManager!!.isAdminActive(compName)\n\n    if (!adminActive) {\n        val intent = Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN)\n\n        intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, compName)\n        intent.putExtra(\n            DevicePolicyManager.EXTRA_ADD_EXPLANATION,\n            \".......\"\n        )\n        startActivityForResult(intent, PERMISSION_ADMIN_RIGHT)\n    }\n\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        when (requestCode) {\n        PERMISSION_ADMIN_RIGHT -&gt; if (resultCode == Activity.RESULT_CANCELED) { // \n            Toast.makeText(\n                this@CurrentActivity,\n                R.string.WARNING_ADMIN_REQUEST_REFUSE,\n                Toast.LENGTH_LONG\n            ).show()\n        }\n    }\n\n    super.onActivityResult(requestCode, resultCode, data)\n}\n</code></pre>\n\n<p>API 28\nTesting Device : Galaxy S6</p>\n"}, {"tags": ["android-studio", "kotlin", "key", "android-sqlite"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1572367480, "post_id": 58601658, "comment_id": 103534113, "body": "Oh wow, honestly, thank you so much. It always ends up being those things you wouldn&#39;t normally think are a big deal. Here was me thinking it&#39;d be an issue with my add function"}], "tags": [], "owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "is_accepted": false, "score": 1, "last_activity_date": 1572325341, "creation_date": 1572325341, "answer_id": 58601658, "question_id": 58600930, "link": "https://stackoverflow.com/questions/58600930/android-studio-kotlin-sqlite-database-isnt-changing-the-id-for-one-of-the-c/58601658#58601658", "title": "Android Studio - Kotlin - SQLite Database isn&#39;t changing the ID for one of the corresponding tables", "body": "<p>I believe that you have an issue with the name of the column due to using </p>\n\n<pre><code>private val LOC_NAME = \"LOC NAME\"\n</code></pre>\n\n<p>A column name cannot have a space unless it is enclosed in special characters as per <a href=\"https://www.sqlite.org/lang_keywords.html\" rel=\"nofollow noreferrer\">SQL As Understood By SQLite - SQLite Keywords</a>.</p>\n\n<p>This isn't an issue when the table is create (the column name will be LOC). However, when you attempt to insert you will get a syntax error, the row will not be inserted but as you are using the SQLiteDatabase <strong>insert</strong> method, the error is trapped and processing continues.</p>\n\n<p>However, in the log you would see something similar to :-</p>\n\n<pre><code>2019-10-29 15:47:35.119 12189-12189/aso.so58600930insert E/SQLiteLog: (1) near \"NAME\": syntax error\n2019-10-29 15:47:35.121 12189-12189/aso.so58600930insert E/SQLiteDatabase: Error inserting LOC NAME=MyLoc LAT=100 CLAT=120 LONG=110 SLAT=140 CLONG=130 SLONG=150\n    android.database.sqlite.SQLiteException: near \"NAME\": syntax error (code 1 SQLITE_ERROR): , while compiling: INSERT INTO LOCATIONS(LOC NAME,LAT,CLAT,LONG,SLAT,CLONG,SLONG) VALUES (?,?,?,?,?,?,?)\n</code></pre>\n\n<p>You could circumvent the above by using :-</p>\n\n<pre><code>        val db1 = this.writableDatabase\n        val values = ContentValues()\n        values.put(\"LOC\", Entry.Name)\n        values.put(LAT, Entry.Lat)\n        values.put(LONG, Entry.Long)\n        values.put(CLAT, Entry.cLat)\n        values.put(SLAT, Entry.sLat)\n        values.put(CLONG, Entry.cLong)\n        values.put(SLONG, Entry.sLong)\n        Entry.Id = db1.insert(LOCATIONS, null, values)\n</code></pre>\n\n<p>However, it is not suggested that you use the above BUT that instead you correct the name, e.g. using :-</p>\n\n<pre><code>private val LOC_NAME = \"LOC_NAME\" \n</code></pre>\n\n<p>then clear the App's data or uninstall the App and then rerun the App.</p>\n\n<p>This fix assumes that you are developing the App and can afford to lose any existing data. You could retain data but this is a little more complicated as you basically have to create a new table with the appropriate column name, copy the data from the original table, rename or drop the original table and then rename the new table to be the original name.</p>\n"}], "owner": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572325341, "creation_date": 1572318219, "last_edit_date": 1572321202, "question_id": 58600930, "link": "https://stackoverflow.com/questions/58600930/android-studio-kotlin-sqlite-database-isnt-changing-the-id-for-one-of-the-c", "title": "Android Studio - Kotlin - SQLite Database isn&#39;t changing the ID for one of the corresponding tables", "body": "<p>I'm trying to implement my first SQLite Database in an Android App regarding obtaining location coordinates to keep track of where the user has been. </p>\n\n<p>I'm trying to add information from my entry into two tables: </p>\n\n<ul>\n<li><p>a Location table that contains information of the places name, id, latitude, and longitude information &amp; </p></li>\n<li><p>a CheckIn table that contains information of the places address, corresponding location_id to know which location it corresponds to, latitude, longitude, and time of check in. </p></li>\n</ul>\n\n<p>Whenever I try to do this, my entry is never updated for the Locations table, solely the CheckIn table, despite using the insert() function to insert into the Locations table as well the id is not updating for the Location table. </p>\n\n<p>I've went through my app in a debugger and I can't figure out what's causing the problem here, as there's no error and the program proceeds just fine to add in the necessary info for the CheckIn table. </p>\n\n<p>I've tried checking StackOverFlow but I can't quite find anything that has been able to help fix my problem. If there's anyone who could help me, it'd be greatly appreciated</p>\n\n<p>My add function:</p>\n\n<pre><code>    fun addLoc_CheckIn(Entry: Locations)\n    {\n    val selectQuery = \"SELECT * FROM $LOCATIONS ORDER BY ID\"\n    val db = this.readableDatabase\n    val cursor = db.rawQuery(selectQuery, null)\n\n    var con = 0\n\n    if (cursor.moveToFirst())\n    {\n        while (cursor.moveToNext())\n        {\n            val pSLong = cursor.getDouble(cursor.getColumnIndex(SLONG))\n            val pCLong = cursor.getDouble(cursor.getColumnIndex(CLONG))\n            val pSLat = cursor.getDouble(cursor.getColumnIndex(SLAT))\n            val pCLat = cursor.getDouble(cursor.getColumnIndex(CLAT))\n            val Theta = (pCLong * Entry.cLong) + (pSLong * Entry.sLong)\n\n            var dist = (pSLat * Entry.sLat) + (pCLat * Entry.cLat * Theta)\n            // dist = (Math.acos(dist) * 180.00 / Math.PI) * (60 * 1.1516 * 1.609344) / 1000\n            dist = Math.acos(dist) * 6380000\n\n            if (dist &lt;= 30)\n            {\n                con = 1\n\n                val db1 = this.writableDatabase\n                val values = ContentValues()\n                values.put(LOC_ID, cursor.getInt(cursor.getColumnIndex(ID)))\n                values.put(ADDRESS, Entry.Checks[0].Address)\n                values.put(LATI, Entry.Lat)\n                values.put(LONGI, Entry.Long)\n                values.put(TIME, Entry.Checks[0].Date_Time)\n                db1.insert(CHECKINS, null, values)\n\n                break\n            }\n        }\n    }\n\n    if (con == 0)\n    {\n        val db1 = this.writableDatabase\n        val values = ContentValues()\n        values.put(LOC_NAME, Entry.Name)\n        values.put(LAT, Entry.Lat)\n        values.put(LONG, Entry.Long)\n        values.put(CLAT, Entry.cLat)\n        values.put(SLAT, Entry.sLat)\n        values.put(CLONG, Entry.cLong)\n        values.put(SLONG, Entry.sLong)\n        Entry.Id = db1.insert(LOCATIONS, null, values)\n\n        val cvalues = ContentValues()\n        cvalues.put(LOC_ID, Entry.Id)\n        cvalues.put(ADDRESS, Entry.Checks[0].Address)\n        cvalues.put(LATI, Entry.Lat)\n        cvalues.put(LONGI, Entry.Long)\n        cvalues.put(TIME, Entry.Checks[0].Date_Time)\n        db1.insert(CHECKINS, null, cvalues)\n    }\n}\n</code></pre>\n\n<p>My OnCreate function with the corresponding companion object:</p>\n\n<pre><code>    companion object {\n    private val DATABASE_NAME = \"LocationsDB\"\n    private val DATABASE_VERSION = 1\n\n    // 1st Table - Unique Check Ins\n    private val LOCATIONS = \"LOCATIONS\"\n    private val ID = \"ID\"\n    private val LOC_NAME = \"LOC NAME\"\n    private val LAT = \"LAT\"\n    private val LONG = \"LONG\"\n    private val CLAT = \"CLAT\"\n    private val SLAT = \"SLAT\"\n    private val CLONG = \"CLONG\"\n    private val SLONG = \"SLONG\"\n\n    // 2nd Table - Repeated Check Ins\n    private val CHECKINS = \"CHECKINS\"\n    private val CHECKIN_ID = \"CHECKIN_ID\"\n    private val LOC_ID = \"LOC_ID\"\n    private val ADDRESS = \"ADDRESS\"\n    private val TIME = \"TIME\"\n    private val LATI = \"LAT\"\n    private val LONGI = \"LONG\"\n}\n\noverride fun onCreate(p0: SQLiteDatabase?) {\n    val LOCATION_QUERY = \"CREATE TABLE \" + LOCATIONS + \"(\" + ID +\n            \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + LOC_NAME +\n            \" TEXT, \" + LAT + \" INTEGER, \" + LONG + \" INTEGER, \" +\n            CLAT + \" INTEGER, \"+ SLAT + \" INTEGER, \" + CLONG + \" INTEGER, \"+ SLONG + \" INTEGER \" + \")\"\n\n    val CHECKIN_QUERY = \"CREATE TABLE \" + CHECKINS + \"(\" +\n            LOC_ID + \" INTEGER, \" + CHECKIN_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + LATI + \" INTEGER, \" + LONGI + \" INTEGER, \" + ADDRESS +\n            \" TEXT, \" + TIME + \" TEXT \" + \")\"\n\n    p0!!.execSQL(LOCATION_QUERY)\n    p0.execSQL(CHECKIN_QUERY)\n}\n</code></pre>\n\n<p>Now, in my constructor for the Location class and the CheckIns class, I have the id's set to -1, which is what the id for the location remains, even after using the insert() function. Now, this doesn't cause me any issues with regards to adding in my CheckIns as well incrementing the ids in my CheckIns table and I doubt it's causing an issue but I figured it'd be best to include the information, just in case.</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "edited": false, "score": 1, "creation_date": 1572323056, "post_id": 58600711, "comment_id": 103514832, "body": "Finally figured it out. Basically <code>heavyMethod</code> is being called by me rather than by Spring. So what I did was create a new component, placed <code>heavyMethod</code> into that, then Autowired that new component and used the <code>heavyMethod</code>. It worked."}, {"owner": {"reputation": 1653, "user_id": 3154883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DBgHN.png?s=128&g=1", "display_name": "Brother", "link": "https://stackoverflow.com/users/3154883/brother"}, "edited": false, "score": 0, "creation_date": 1572339874, "post_id": 58600711, "comment_id": 103519482, "body": "Yes @userMod2, this is the case, local calls doesnt work with annotations. But you can also direct inject CacheManager and manually get/put from the cache inside the method, so you don&#39;t need to create a new component for it."}], "owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572315901, "creation_date": 1572315901, "question_id": 58600711, "link": "https://stackoverflow.com/questions/58600711/spring-boot-cacheable-appears-to-be-going-into-the-method-every-time", "title": "Spring Boot - Cacheable appears to be going into the method every time", "body": "<p>I'm using GraphQL and Spring Boot (along with data-mongodb).</p>\n\n<p>There's a specific query I make to Mongo that I would like to be cached so it isn't actually executed every time.</p>\n\n<p>I came across the <code>cacheable</code> feature of Spring and feel I have implemented as per the docs but it doesn't seem to work. I've added a breakpoint in the cacheable method - the first time I make the query I'd expect it to go in, but the second time I wouldn't.</p>\n\n<p>Is my understanding above correct, or is my configuration wrong:</p>\n\n<p>In my Gradle dependencies I have:</p>\n\n<pre><code>dependencies {\n    implementation(group = \"org.springframework.boot\", name = \"spring-boot-starter-cache\")\n...\n}\n</code></pre>\n\n<p>I've enabled caching like so:</p>\n\n<pre><code>@EnableCaching\n@SpringBootApplication\nclass DashboardGraphQLService\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;DashboardGraphQLService&gt;(*args)\n}\n</code></pre>\n\n<p>And then the function I want cached:</p>\n\n<pre><code>@Component\nclass SGQueryResolver : GraphQLQueryResolver {\n   fun sg(options: Options): List&lt;Sg&gt; {\n\n        ....\n\n        val results = mongoTemplate.find(query, Sg::class.java)\n\n        results.forEach {\n            heavyMethod(\"abc\")\n        }\n\n        return results\n    }\n}\n\n@Cacheable(\"test\")\n    fun heavyMethod(id: String): String {\n\n        println(\"SOMETHING\")\n\n        return \"Again\"\n}\n</code></pre>\n\n<p>So I was expecting that the <code>println(\"SOMETHING\")</code> would only appear the first time, however it appears each time - leading me to think something is wrong.</p>\n\n<p>Any ideas appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["kotlin", "foreach"], "comments": [{"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 3, "creation_date": 1572312033, "post_id": 58600294, "comment_id": 103512872, "body": "What type is <code>it</code>? Is <code>subGenres</code> a <code>val</code>?"}, {"owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1572312342, "post_id": 58600294, "comment_id": 103512925, "body": "<code>it</code> is of my own type - <code>Song</code> - ahh, and yes, within that <code>subGenres</code> was set a val. I updated it to be a var and it worked."}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1572312395, "post_id": 58600294, "comment_id": 103512942, "body": "Awesome, you&#39;re good to go then!"}], "answers": [{"tags": [], "owner": {"reputation": 1062, "user_id": 4028009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52d9e87ce304217b5b34a44059e5fd77?s=128&d=identicon&r=PG&f=1", "display_name": "Evgeny  Bovykin", "link": "https://stackoverflow.com/users/4028009/evgeny-bovykin"}, "is_accepted": false, "score": 0, "last_activity_date": 1572333918, "creation_date": 1572333918, "answer_id": 58602935, "question_id": 58600294, "link": "https://stackoverflow.com/questions/58600294/kotlin-making-it-mutable-in-foreach/58602935#58602935", "title": "Kotlin - Making it mutable in foreach", "body": "<p>Are you sure you want to mutate <code>subGenres</code> rather than create new list with updated values? The more Kotlin way would be </p>\n\n<pre><code>val withSubGenreNames = results.map {\n            it.copy(subGenres = subGenreNames(it.subGenres))\n}\n</code></pre>\n\n<p>where <code>copy</code> is magical method if your <code>it</code> is <code>data class</code>.</p>\n\n<p>This way you'd keep old list unchanged. You can read <a href=\"https://stackoverflow.com/questions/34385243/why-is-immutability-so-important-or-needed-in-javascript\">here</a> why immutability is generally a good practice.</p>\n"}, {"tags": [], "owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "is_accepted": false, "score": 0, "last_activity_date": 1572337120, "creation_date": 1572337120, "answer_id": 58603518, "question_id": 58600294, "link": "https://stackoverflow.com/questions/58600294/kotlin-making-it-mutable-in-foreach/58603518#58603518", "title": "Kotlin - Making it mutable in foreach", "body": "<p>Your quation was answered in the comments by <a href=\"https://stackoverflow.com/users/543539/egor\">@Egor</a>, so I will just post the answer for you to resolve:</p>\n\n<p>The <code>it</code> in the labda is immutable but the actual setter accesses inner field <code>subGenres</code>, which I guess is a <code>val</code>. Change <code>subGenres</code> to a <code>var</code>.</p>\n"}], "owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572337971, "creation_date": 1572311713, "last_edit_date": 1572337971, "question_id": 58600294, "link": "https://stackoverflow.com/questions/58600294/kotlin-making-it-mutable-in-foreach", "title": "Kotlin - Making it mutable in foreach", "body": "<p>So I've come to learn that the <code>it</code> in my foreach loop is immutable - namely I get the error <code>val cannot be reassigned</code>.</p>\n\n<pre><code>results.forEach{\n            val subGenreNames = subGenreNames(it.subGenres)\n            it.subGenres = subGenreNames\n}\n</code></pre>\n\n<p>However I want to be able to update its value after I pass it into my <code>subGenreNames</code> function.</p>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 4857249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d067025daf4d3d70a19bcae9f92d7db9?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Harris", "link": "https://stackoverflow.com/users/4857249/douglas-harris"}, "edited": false, "score": 0, "creation_date": 1572313650, "post_id": 58600072, "comment_id": 103513205, "body": "I got it working like this:      override fun toString() = buildString{         append(&quot;Person(name=\\&quot;${name ?: &quot;&quot;}\\&quot;, age=${age ?: 99999}, isMarried=$isMarried) \\n&quot;)                 //&quot;${_attributes?.get(&quot;name&quot;)} &quot; + &quot;$name &quot; +        // this._attributes!!.forEach ( (attrName, value) -&gt; append(&quot;$attrName = $value&quot;)         for ((attrName, value) in _attributes!!) {             append(&quot;attribute $attrName = ${_attributes!![attrName]}\\n&quot;)                  }     }  Thanks, so much, for your help and explanation.  I couldn&#39;t have done it without you."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 0, "last_activity_date": 1572310667, "last_edit_date": 1572310667, "creation_date": 1572309279, "answer_id": 58600072, "question_id": 58600021, "link": "https://stackoverflow.com/questions/58600021/how-to-print-multiple-attrributes-from-a-hashmap-that-is-a-property-inside-a-tos/58600072#58600072", "title": "How to print multiple attrributes from a hashMap that is a property inside a toString override", "body": "<p>You should not use <code>print()</code> or <code>println()</code> functions inside <code>toString()</code> because they output their arguments to the standard output <strong>immediately</strong> instead of appending them to the string returned to the caller.</p>\n\n<p>Let's examine the output <code>kotlin.Unit() -&gt; kotlin.Unit</code> you're getting. It consists of two parts:</p>\n\n<ul>\n<li><code>kotlin.Unit</code> is the string representation of <code>attributes!!.forEach { ... }</code> expression. <code>forEach</code> function returns without value, and in Kotlin it's expressed by returning the <a href=\"https://kotlinlang.org/docs/reference/functions.html#unit-returning-functions\" rel=\"nofollow noreferrer\"><code>Unit</code></a> object value. Its string representation is appended to the string you're returning.</li>\n<li>the second part, <code>() -&gt; kotlin.Unit</code>, is also the string representation of the <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions\" rel=\"nofollow noreferrer\">lambda function</a> expression <code>{ for((attrName, value) in ...) }</code>. This function takes no parameters, and returns without value, which means that its type is <code>() -&gt; Unit</code>. Note that in Kotlin the block <code>{ ... }</code> declares a local lambda function. If you instead want to run the code inside of that block, use the <code>run</code> function: <code>run { ... }</code></li>\n</ul>\n\n<p>The goal of <code>toString</code> function is to <em>build the string representation</em> of an object. And for that you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/build-string.html\" rel=\"nofollow noreferrer\"><code>buildString</code></a> function:</p>\n\n<pre><code>  override fun toString() = buildString {\n    append(\"Person(name=\\\"${name?:\"\"}\\\", age=${age?:99999}, isMarried=$isMarried) \")\n    append(\"${_attributes?.get(\"name\")} \").append(\"$name \")\n    this._attributes!!.forEach { (attrName, value) -&gt; append(\"$attrName = $value\") }\n    for ((attrName, value) in this._attributes!!) {\n      append(\"attribute $attrName = ${this._attributes!![attrName]}\")\n    }\n  }\n</code></pre>\n\n<p>This function creates a <code>StringBuilder</code> and passes it as <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"nofollow noreferrer\">a receiver to its functional argument</a>, where you call <code>append</code> or <code>appendln</code> on that receiver. Then <code>buildString</code> converts that string builder to a string and returns it.</p>\n"}], "owner": {"reputation": 5, "user_id": 4857249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d067025daf4d3d70a19bcae9f92d7db9?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Harris", "link": "https://stackoverflow.com/users/4857249/douglas-harris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 58600072, "answer_count": 1, "score": 0, "last_activity_date": 1572310667, "creation_date": 1572308775, "question_id": 58600021, "link": "https://stackoverflow.com/questions/58600021/how-to-print-multiple-attrributes-from-a-hashmap-that-is-a-property-inside-a-tos", "title": "How to print multiple attrributes from a hashMap that is a property inside a toString override", "body": "<p>I am learning Kotlin and writing code to check my understanding.  I'm trying to use a toString override to print the values of a hashMap that is a  property of a class.  I can't get it to work.  Instead I get output like \"kotlin.Unit() -> kotlin.Unit\".  Also, I don't understand why the values of the hashMap ARE printing out before the toString output.  I don't know where that output is coming from.  Please help me. Thanks.  Below is my code and the output I'm getting.\nCode:</p>\n\n<pre><code>package ch07.ExpandoObject\n\nimport java.beans.PropertyChangeListener\nimport java.beans.PropertyChangeSupport\nimport kotlin.properties.Delegates\nimport kotlin.reflect.KProperty\n\n\nclass Person(\n\n    val name: String = \"\",\n    age: Int? = null,\n    var isMarried: Boolean? = null  ,_attributes: kotlin.collections.HashMap&lt;String,String&gt;? = hashMapOf&lt;String, String&gt;()\n)\n    :PropertyChangeAware()\n{\n    var _attributes : kotlin.collections.HashMap&lt;String,String&gt;? = hashMapOf&lt;String, String&gt;()\n    fun setAttribute(attrName: String, value: String) {\n        _attributes!!.set(attrName, value)\n        _attributes!!.set(\"name\", this.name)\n    }\n\n\n    override fun toString() = \"Person(name=\\\"${name?:\"\"}\\\", age=${age?:99999}, isMarried=$isMarried) \" +\n            \"${_attributes?.get(\"name\")} \" + \"$name \" +\n            this._attributes!!.forEach { (attrName, value) -&gt; println(\"$attrName = $value\") } +\n            {\n                for ((attrName, value) in this._attributes!!) {\n                    println(\"attribute $attrName = ${this._attributes!![attrName]}\")\n                }\n\n            }\n\n    val _age = ObservableProperty(propName = \"age\", propValue = age, changeSupport = changeSupport)\n\n    private val observer = {\n            prop: KProperty&lt;*&gt;, oldValue: Int, newValue: Int -&gt;\n        changeSupport.firePropertyChange(prop.name, oldValue, newValue)\n    }\n\n    var age: Int by Delegates.observable(initialValue = age?:99999,onChange = observer)\n\n\n\n}\n\nclass ObservableProperty(val propName: String,\n                         var propValue: Int?, val changeSupport: PropertyChangeSupport\n) {\n    fun getValue(): Int? = propValue\n\n    fun setValue( newValue: Int) {\n        val oldValue = propValue\n        propValue = newValue\n        changeSupport.firePropertyChange(propName, oldValue, newValue)\n    }\n}\n\nopen class PropertyChangeAware {\n    val changeSupport = PropertyChangeSupport(this)\n\n    fun addPropertyChangeListener(listener: PropertyChangeListener) {\n        changeSupport.addPropertyChangeListener(listener)\n    }\n\n    fun removePropertyChangeListener(listener: PropertyChangeListener) {\n        changeSupport.removePropertyChangeListener(listener)\n    }\n}\n\n\nfun main(args: Array&lt;String&gt;) {\n    val p = Person(\"Bob\", 89, isMarried = false)\n    val data = mapOf(\"lastname\" to \"Jones\", \"company\" to \"JetBrains\")\n    for ((attrName, value) in data)\n        p.setAttribute(attrName, value)\n    println(p)\n\n}\n</code></pre>\n\n<p>Here is the current output:</p>\n\n<pre><code>name = Bob\ncompany = JetBrains\nlastname = Jones\nPerson(name=\"Bob\", age=89, isMarried=false) Bob Bob kotlin.Unit() -&gt; kotlin.Unit\n</code></pre>\n\n<p>Thanks, again, for any help.</p>\n"}, {"tags": ["kotlin", "google-cloud-firestore", "android-recyclerview"], "comments": [{"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1572307630, "post_id": 58599789, "comment_id": 103512140, "body": "Remove the query in your ViewHolder. The FirestoreRecyclerAdapter is already running your query."}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1572307786, "post_id": 58599789, "comment_id": 103512168, "body": "You can also replace <code>pView.findViewById(...)</code> with <code>pView.usernameTextView</code> (Kotlin Synthetic)"}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "reply_to_user": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1572308143, "post_id": 58599789, "comment_id": 103512226, "body": "Okay, I replaced it to pView.usernameTextView but where am I running the query in my UserViewHolder?"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1572308232, "post_id": 58599789, "comment_id": 103512241, "body": "You should not run any Firebase query in the ViewHolder. You can delete 99% of the code you have there. I will type up a solution... 1 sec!"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572310740, "post_id": 58600077, "comment_id": 103512644, "body": "I am getting a compilation error on <code>itemView.userNameTextView</code> and <code>itemView.userProfileImage</code> says Overload resolution ambiguity. Also if my Booleans have values already in the Firestore will it change depending on what value is given?"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572311474, "post_id": 58600077, "comment_id": 103512774, "body": "Make sure your synthetic import is for <code>xxx.yyy.view.*</code> (and that you don&#39;t have a 2nd synthetic import). If you have data in Firestore, the default is ignored; the defaults in your model class are only used if the data is absent."}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572311670, "post_id": 58600077, "comment_id": 103512806, "body": "Import should be something like this: <code>import kotlinx.android.synthetic.main.display_users_profile.view.*</code> (the view at the end is important!)"}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572312605, "post_id": 58600077, "comment_id": 103512984, "body": "I updated my question and those are what I have imported. I added the one you showed me but it says unused"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572312893, "post_id": 58600077, "comment_id": 103513039, "body": "Can you share your activity &amp; item layouts please?"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572313103, "post_id": 58600077, "comment_id": 103513098, "body": "I just spotted that you inverted the variable naming for your image view... your val is <code>userProfileImage</code> but the id is <code>profileUserImage</code>. Synthetic vals match the ids in the layout. I have fixed my ViewHolder code to use profileUserImage :)"}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572313417, "post_id": 58600077, "comment_id": 103513157, "body": "Ignore the change in the userProfileTextView. I was testing something that maybe I had used the same id earlier with another layout"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572313615, "post_id": 58600077, "comment_id": 103513199, "body": "I updated the ViewHolder code; please check :) You could try deleting all synthetic imports and re-importing with <code>Alt+Enter</code>, being careful to select the <code>xxx.view.*</code> import for your RV item layout. If that doesn&#39;t resolve the issue, you might have 2 views that share the same id; you have 3 options: (a) move Adapter/ViewHolder to their own file (also good for readability &amp; reusability); (b) rename view ids to be unique across all layouts; or (c) just use findViewById to find the view explicitly."}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572313642, "post_id": 58600077, "comment_id": 103513202, "body": "I think I&#39;ve missed the original intent of your question... you said you have an exception due to a missing getter/setter? Please share your Firestore schema (this sounds like your Firestore keys don&#39;t match your model fields)."}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572314812, "post_id": 58600077, "comment_id": 103513390, "body": "Okay I added an image of my Firestore, the view id I am using is unique and has no other uses so don&#39;t know why it still says that. I did findViewById but no luck. I am hoping that with these changes I would not have that issue anymore but can&#39;t run the emulator yet with that overload ambiguity error"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572314891, "post_id": 58600077, "comment_id": 103513409, "body": "You did <code>val usernameTextView = itemView.findViewById(R.id.usernameTextView)</code> ?"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572314947, "post_id": 58600077, "comment_id": 103513419, "body": "@TimothyHanmann - As suspected!! Your Firestore keys don&#39;t match your model. Your model fields are nicely named, so I suggest you update your Firestore keys. They must be <i>exactly</i> these: <code>fullname</code>, <code>profileImage</code>, <code>waxing</code>, etc. (not &quot;Full Name&quot;, etc)"}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572315488, "post_id": 58600077, "comment_id": 103513513, "body": "Okay I made them all lowercase and created them exactly like my model fields. Then for the itemView that is what I did and still giving me the same error. Maybe I should put it into a separate file and try that"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572315614, "post_id": 58600077, "comment_id": 103513538, "body": "I definitely encourage splitting out the Adapter &amp; ViewHolder. It gets a bunch of boilerplate code out of your way. You will never look at the Adapter again!! Perhaps you can paste the specific error message you&#39;re getting (here in the comments)? Maybe I will notice something."}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572315689, "post_id": 58600077, "comment_id": 103513555, "body": "C:\\Users\\TJM\\AndroidStudioProjects\\Stylez2U\\app\\src\\main\\jav&zwnj;&#8203;a\\com\\ia\\stylez2u\\Ho&zwnj;&#8203;meActivity.kt: (117, 40): Overload resolution ambiguity: private final val itemView: View defined in com.ia.stylez2u.HomeActivity.UserViewHolder @NonNull public final val itemView: View defined in com.ia.stylez2u.HomeActivity.UserViewHolder"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572315746, "post_id": 58600077, "comment_id": 103513566, "body": "Stupid me! It shouldn&#39;t be private val; it&#39;s already declared in the parent class. I have fixed it in my ViewHolder constructor :) (sorry, I thought the error was on the fields, not the param)"}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572315773, "post_id": 58600077, "comment_id": 103513571, "body": "How would I go about a swift transition? Do I just create it as a new Adapter Class? Sorry I used most of this code from what I had before as Java and kept it all in the same activity"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572315847, "post_id": 58600077, "comment_id": 103513591, "body": "If you still want to extract, <code>right-click on the class</code> &gt; <code>refactor</code> &gt; <code>move</code> (or just press <code>F6</code>). Android Studio should do all the work :)"}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572316263, "post_id": 58600077, "comment_id": 103513672, "body": "Should I add the ViewHolder as well"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572317106, "post_id": 58600077, "comment_id": 103513809, "body": "Most people have 1 file for the Activity and 1 file for Adapter &amp; ViewHolder together (since you rarely use the same ViewHolder with multiple Adapters). I personally put all 3 in separate files (because I rarely need to re-read the Adapter code; so I keep it out of my way). I have had the odd occasion where I reused 1 ViewHolder with 2 different Adapters (1x for local data; 1x for Firestore data)."}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 1, "creation_date": 1572318672, "post_id": 58600077, "comment_id": 103514068, "body": "Omg! Thank you so much, finally working perfectly. I had to fix a few syntax errors after changing the way the data was displayed in my Firestore keys. I upvoted your answer"}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572809576, "post_id": 58600077, "comment_id": 103667065, "body": "Hi again, I am having an issue with my boolean values not being retrieved. I used the same values as my model class but still not working"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572822830, "post_id": 58600077, "comment_id": 103670002, "body": "I have to admit, I don&#39;t think I&#39;ve even stored a Boolean in Firestore. After doing a little reading, I think perhaps the issue is that Kotlin might be wrapping your Boolean properties in a slightly unique way: <code>waxing</code> =&gt; <code>isWaxing</code> &amp; <code>setWaxing</code>. Maybe this answer helps? <a href=\"https://stackoverflow.com/questions/52284861/firebase-firestore-toobject-fails-on-boolean-property-mapping\" title=\"firebase firestore toobject fails on boolean property mapping\">stackoverflow.com/questions/52284861/&hellip;</a>"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572826672, "post_id": 58600077, "comment_id": 103670531, "body": "BTW, it might be more scalable to store services as an Array and use <code>services.contains(&quot;someService&quot;)</code> (in Kotlin) or <code>whereArrayContains(&quot;services&quot;, &quot;someService&quot;)</code> (for queries)"}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572831497, "post_id": 58600077, "comment_id": 103671308, "body": "So I should not use a Hashmap and switch to an ArrayMap?"}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572831898, "post_id": 58600077, "comment_id": 103671364, "body": "Also, the way I am trying to use my boolean is depending on its value will change an ImageView to a different Image. Something like available and not available, or Black to Grey"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1572842215, "post_id": 58600077, "comment_id": 103673074, "body": "No, I mean inside your Map (which represents the entire object), replace all your booleans with a single Array: <code>val user = mutableMapOf(&quot;uid&quot; to uid, &quot;fullName&quot; to name, &quot;services&quot; to listOf(&quot;haircut&quot;, &quot;waxing&quot;), ...more fields...)</code>"}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 1, "creation_date": 1573080575, "post_id": 58600077, "comment_id": 103769057, "body": "Should I change my <code>val userRef</code> from a Document Reference to a Collection reference? I got it to list as an array and it looks better now but still having issues with the Boolean value. Might open a new question for this"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1573087403, "post_id": 58600077, "comment_id": 103770682, "body": "@Timothy Hanmann - honestly it might be quicker; someone who&#39;s used booleans in Firestore can just give you the answer! Try to post a minimal reproducible example though (skip anything irrelevant to your current issue)."}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1574021179, "post_id": 58600077, "comment_id": 104072048, "body": "Hello again, sorry to bother but how do I add a setOnClickListener with &quot;Intent&quot; to my bindViewHolder now that it is an internal class? Keeps requiring me to add more parameters but I am confused about it."}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 1, "creation_date": 1574039243, "post_id": 58600077, "comment_id": 104076235, "body": "The cheat way is <code>itemView.context.startActivity(Intent(itemView.context, OtherActivity::class.java))</code>. The more decoupled way would be to pass a handler from Activity to Adapter to ViewHolder."}, {"owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 0, "creation_date": 1574128575, "post_id": 58600077, "comment_id": 104112304, "body": "Well I want to be able to click the views and open the activity that corresponds to that uid. Last time with Realtime Database I used0 <code>clickProfileActivity,putExtra(&quot;profileKey&quot;, profileKey)</code> . I&#39;m not sure if I need to use <code>adapterPosition</code>"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "edited": false, "score": 1, "creation_date": 1574140773, "post_id": 58600077, "comment_id": 104114946, "body": "We already added the id to the model (see the lambda for options setQuery). Just use <code>intent.putExtra(&quot;EXTRA_ID&quot;, model.uid)</code>. All this intent stuff should be in your VH&#39;s <code>bind</code> method."}], "tags": [], "owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "is_accepted": true, "score": 2, "last_activity_date": 1572315740, "last_edit_date": 1572315740, "creation_date": 1572309332, "answer_id": 58600077, "question_id": 58599789, "link": "https://stackoverflow.com/questions/58599789/retrieve-display-profiles-using-uid-on-a-firestorerecycler-adapter-using-kotlin/58600077#58600077", "title": "Retrieve display profiles using UID on a FirestoreRecycler Adapter using Kotlin?", "body": "<p>This is how I would write your RecyclerView. Key points:</p>\n\n<ul>\n<li>Don't make a 2nd FireStore query inside the ViewHolder</li>\n<li>Your Firestore schema must <strong><em>exactly</em></strong> match your model</li>\n<li>Use lifecycle owner instead of onStart/onStop</li>\n<li>Firebase UI doesn't capture the uid; so do this manually (see <code>apply</code>)</li>\n<li>ViewHolder must \"hold\" the views as fields (to avoid calling find every time)</li>\n<li>Model represents 1 object, so I name it \"User\" not \"Users\"</li>\n<li>Set layoutManager in XML to reduce boilerplate in onCreate</li>\n</ul>\n\n<p><em>Layout XML</em></p>\n\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    ...\n    app:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"\n    tools:itemCount=\"5\"\n    tools:listitem=\"@layout/display_users_profile\"\n    ... /&gt;\n</code></pre>\n\n<p><em>Activity onCreate</em></p>\n\n<pre><code>val query = FirebaseFirestore.getInstance()\n    .collection(\"sUsers\") // Why not \"users\" ?\n    .orderBy(\"fullname\", Query.Direction.DESCENDING)\n    .limit(10)\n\nval options = FirestoreRecyclerOptions.Builder&lt;User&gt;()\n    .setLifeCycleOwner(this)\n    .setQuery(query) { it.toObject(User::class.java)!!.apply { uid = it.id } }\n    .build()\n\nall_users_nearby_list.adapter = UserFirestoreRecyclerAdapter(options)\n</code></pre>\n\n<p><em>Adapter</em></p>\n\n<pre><code>internal class UserFirestoreRecyclerAdapter(options: FirestoreRecyclerOptions&lt;User&gt;) : \n    FirestoreRecyclerAdapter&lt;User, UserViewHolder&gt;(options) {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int) = \n        LayoutInflater.from(parent.context)\n            .inflate(R.layout.display_users_profile, parent, false)\n            .let { UserViewHolder(it) }\n\n    override fun onBindViewHolder(holder: UserViewHolder, position: Int, model: Users) = \n        holder.bind(model)\n\n}\n</code></pre>\n\n<p><em>ViewHolder</em></p>\n\n<pre><code>internal class UserViewHolder(itemView: View) : \n    RecyclerView.ViewHolder(itemView) {\n\n    // Hold view refs\n    private val usernameTextView: TextView = itemView.userNameTextView\n    private val profileUserImage: ImageView = itemView.profileUserImage\n\n    internal fun bind(model: User) {\n        model.apply {\n            usernameTextView.text = fullname\n            Picasso.get().load(profileImage).into(profileUserImage)\n        }\n    }\n}\n</code></pre>\n\n<p><em>Model</em></p>\n\n<pre><code>// Set sensible defaults here (or null if no sensible default)\ndata class User(\n    var uid: String = \"\",\n    var fullname: String= \"\",\n    var profileImage: String= \"\",\n    var haircut: Boolean = false,\n    var waxing: Boolean = false,\n    var nails: Boolean = false,\n    var profileRatingBar: Float? = null\n)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12173195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4cEFAu_deC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOZgZfB52BcfqIweqr0s5ezZ5EyA/photo.jpg?sz=128", "display_name": "Timothy Hanmann", "link": "https://stackoverflow.com/users/12173195/timothy-hanmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "accepted_answer_id": 58600077, "answer_count": 1, "score": 2, "last_activity_date": 1572319581, "creation_date": 1572306467, "last_edit_date": 1572319581, "question_id": 58599789, "link": "https://stackoverflow.com/questions/58599789/retrieve-display-profiles-using-uid-on-a-firestorerecycler-adapter-using-kotlin", "title": "Retrieve display profiles using UID on a FirestoreRecycler Adapter using Kotlin?", "body": "<p>I am having difficulties retrieving the information correctly from Firebase Firestore for my Recycler Adapter. I am not sure what I might be doing wrong but I used a Document Reference to get the required field but now it seems to just copy the same thing over and over, I want it to display each created users profile and display it on my RecyclerAdapter but am not sure what I should do and have tried different methods but get a</p>\n\n<blockquote>\n  <p>\"No setter/field error\" on my Model Class \"Users\". </p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/CLsna.png\" rel=\"nofollow noreferrer\">This is my Firebase Schema</a>\n<a href=\"https://i.stack.imgur.com/QJQan.png\" rel=\"nofollow noreferrer\">This is what it is outputting</a></p>\n\n<p>This is what I have my code as so far</p>\n\n<p>[Update]\nThis is what I have imported</p>\n\n<pre><code>import Models.User\nimport android.content.Intent\nimport android.content.res.Configuration\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.MenuItem\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\nimport android.widget.Toast\nimport androidx.appcompat.app.ActionBarDrawerToggle\nimport androidx.appcompat.widget.Toolbar\nimport androidx.core.view.GravityCompat\nimport androidx.drawerlayout.widget.DrawerLayout\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.firebase.ui.firestore.FirestoreRecyclerAdapter\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions\nimport com.google.android.material.navigation.NavigationView\nimport com.google.firebase.auth.FirebaseAuth\nimport com.google.firebase.firestore.*\nimport com.squareup.picasso.Picasso\nimport de.hdodenhof.circleimageview.CircleImageView\nimport kotlinx.android.synthetic.main.all_nearby_users.*\nimport kotlinx.android.synthetic.main.toolbar_layout.*\n\n</code></pre>\n\n<p>Oncreate</p>\n\n<pre><code>       auth = FirebaseAuth.getInstance()\n        val customUserId = auth.currentUser!!.uid\n        val db = FirebaseFirestore.getInstance()\n        val userRef = db.collection(\"sUsers\").document(customUserId)\n        val userQuery = db.collection(\"sUsers\").orderBy(\"Full Name\", Query.Direction.DESCENDING).limit(10)\n\n//User List Layout\n        all_users_nearby_list.layoutManager = LinearLayoutManager(this)\n\n        //Firestore\n        val firestoreRecyclerOptions: FirestoreRecyclerOptions&lt;Users&gt; = FirestoreRecyclerOptions.Builder&lt;Users&gt;()\n            .setQuery(userQuery, Users::class.java)\n            .build()\n        adapter = UserFirestoreRecyclerAdapter(firestoreRecyclerOptions)\n        all_users_nearby_list.adapter = adapter\n\n</code></pre>\n\n<p>Firestore Recycler Adapter</p>\n\n<pre><code>private inner class UserFirestoreRecyclerAdapter internal constructor\n        (firestoreRecyclerOptions: FirestoreRecyclerOptions&lt;Users&gt;): FirestoreRecyclerAdapter&lt;Users, UserViewHolder&gt;(firestoreRecyclerOptions) {\n\n            override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): UserViewHolder {\n                val userView = LayoutInflater.from(parent.context)\n                    .inflate(R.layout.display_users_profile, parent, false)\n\n                return UserViewHolder(userView)\n            }\n\n            override fun onBindViewHolder(holder: UserViewHolder, position: Int, model: Users) {\n\n                holder.setFullname(model.fullname)\n                holder.setProfileimage(model.profileImage)\n\n            }\n\n        }\n</code></pre>\n\n<p>UserViewHolder </p>\n\n<pre><code>\n   private inner class UserViewHolder internal constructor (private val pView: View) : RecyclerView.ViewHolder(pView) {\n\n\n        internal fun setFullname(fullname: String) {\n            val username = pView.findViewById&lt;TextView&gt;(R.id.usernameTextView)\n            val db = FirebaseFirestore.getInstance()\n            val docRef = db.collection(\"sUsers\").document(auth.currentUser!!.uid)\n            docRef.get()\n                .addOnSuccessListener { document -&gt;\n                    if (document != null) {\n                        Log.d(\"HomeActivity\", \"DocumentSnapshot data: ${document.data}\")\n                        username.text = document.getString(\"Full Name\")\n\n                    } else {\n                        Log.d(\"HomeActivity\", \"No such document\")\n                    }\n                }\n                .addOnFailureListener { exception -&gt;\n                    Log.d(\"HomeActivity\", \"get failed with \", exception)\n                }\n\n\n            username.text = fullname\n            Log.d(\"HomeActivity\", \"Current Data: \" + fullname)\n        }\n\n        internal fun setProfileimage(profileImage: String) {\n            val userProfileImage = pView.findViewById&lt;CircleImageView&gt;(R.id.profileUserImage)\n            Picasso.get().load(profileImage).into(userProfileImage)\n        }\n\n    }\n\n</code></pre>\n\n<p>Model Class</p>\n\n<pre><code>package Models\n\n    class Users(\n    var fullname: String= \"\",\n    var profileImage: String= \"\",\n    var uid: String? = \"\",\n    var haircut: Boolean? = null,\n    var waxing: Boolean? = null,\n    var nails: Boolean? = null,\n    var profileRatingBar: Float? = 1.0f\n)\n\n</code></pre>\n\n<p>My onStart and onStop</p>\n\n<pre><code>\n   override fun onStart() {\n        super.onStart()\n        adapter!!.startListening()\n    }\n\n    override fun onStop() {\n        super.onStop()\n\n        if (adapter != null) {\n            adapter!!.stopListening()\n        }\n    }\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "serialization", "jvm"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1572305934, "post_id": 58599594, "comment_id": 103511873, "body": "Android does not &quot;kill&quot; fragments due to low memory conditions. Android terminates processes due to low memory conditions. Regarding your <code>Serializable</code> problem, I would not expect attempting to write a lambda expression to disk to work, and I would not expect attempting to save a lambda expression in the saved instance state <code>Bundle</code> to work."}, {"owner": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1572307169, "post_id": 58599594, "comment_id": 103512071, "body": "but functional interfaces saved into Bundle works"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1572334815, "post_id": 58599594, "comment_id": 103517610, "body": "The most likely problem is that your lambda contains a reference to a non-serializable object."}], "answers": [{"tags": [], "owner": {"reputation": 2584, "user_id": 4886794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8106391458834f4e54a03c4d70add880?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Pakie\u0142a", "link": "https://stackoverflow.com/users/4886794/sebastian-pakie%c5%82a"}, "is_accepted": false, "score": 0, "last_activity_date": 1572345313, "creation_date": 1572345313, "answer_id": 58605708, "question_id": 58599594, "link": "https://stackoverflow.com/questions/58599594/android-cant-serialize-kotlin-lambda/58605708#58605708", "title": "Android can&#39;t serialize Kotlin lambda", "body": "<p>If you want to serialize or parcel something you need to ensure every field is serializable or parcelable.\nIn your case you are trying to serialize <code>val function: ()-&gt; Unit</code> which is not serializable. Unfortunately, you can't make function serializable. You should rethink this argument class and pass something different. Probably you can get some parameter which leads to making a decision and then invoking a function in your fragment.</p>\n"}, {"tags": [], "owner": {"reputation": 2243, "user_id": 3466808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pr9RU.jpg?s=128&g=1", "display_name": "Sam Chen", "link": "https://stackoverflow.com/users/3466808/sam-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1615578604, "creation_date": 1615578604, "answer_id": 66606325, "question_id": 58599594, "link": "https://stackoverflow.com/questions/58599594/android-cant-serialize-kotlin-lambda/66606325#66606325", "title": "Android can&#39;t serialize Kotlin lambda", "body": "<p>Use <code>Parcelalbe</code> instead of <code>Serilizable</code> nowadays.</p>\n<p><strong>1. Add <code>id 'kotlin-parcelize'</code> in your build.gradle file (app):</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-kapt'\n    id 'kotlin-parcelize'    //here\n}\n</code></pre>\n<p><strong>2. Parcelize your Lambda wrapper Class:</strong></p>\n<pre><code>@Parcelize\nclass Listener(val clickAction: () -&gt; Unit) : Parcelable {\n    fun onClick() = clickAction()\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 407, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1615578604, "creation_date": 1572304935, "question_id": 58599594, "link": "https://stackoverflow.com/questions/58599594/android-cant-serialize-kotlin-lambda", "title": "Android can&#39;t serialize Kotlin lambda", "body": "<p>we can read lambda function are serialize by default (<a href=\"https://discuss.kotlinlang.org/t/are-closures-serializable/1620\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/are-closures-serializable/1620</a>),<br>\nbut I getting error: </p>\n\n<pre><code>java.lang.RuntimeException: Parcelable encountered IOException writing serializable object (name = com.example.dialogfragment.Arguments)\n</code></pre>\n\n<p>my class Arguments:</p>\n\n<pre><code>class Arguments(val function: ()-&gt; Unit) : Serializable\n</code></pre>\n\n<p>What is wrong with my lambda ?<br>\n(I got this error when Android need to kill my fragment because low of memory :) )</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": false, "score": 4, "last_activity_date": 1572305356, "last_edit_date": 1572305356, "creation_date": 1572305054, "answer_id": 58599611, "question_id": 58599297, "link": "https://stackoverflow.com/questions/58599297/type-inference-only-works-for-extension-function/58599611#58599611", "title": "Type inference only works for extension function", "body": "<p>The extension function returns the result of the <code>Foo</code> type parameter. So the result type can be inferred from the receiver type.</p>\n\n<p>And the member function result type has nothing in common with <code>Foo</code> type parameter except the name, which means nothing for a compiler. You can see that <code>T</code> in method and <code>T</code> in class are different types by writing and compiling the following code:</p>\n\n<pre><code>Foo&lt;BarImpl&gt;().get&lt;BarImpl2&gt;()\n</code></pre>\n\n<p>If you want to make <code>get</code> to be a member function which returns the result of <code>Foo</code> type parameter, you should remove type parameter from function and inject class instance via the constructor:</p>\n\n<pre><code>class Foo&lt;T : Bar&gt;(private val clazz: KClass&lt;T&gt;) {\n    fun get(): T {\n        return SomeMap(this).get(clazz)\n    }\n\n    companion object {\n        inline operator fun &lt;reified T : Bar&gt; invoke() = Foo(T::class)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13935, "user_id": 11015, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zKg6n.jpg?s=128&g=1", "display_name": "miguel", "link": "https://stackoverflow.com/users/11015/miguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572305356, "creation_date": 1572302530, "last_edit_date": 1572303294, "question_id": 58599297, "link": "https://stackoverflow.com/questions/58599297/type-inference-only-works-for-extension-function", "title": "Type inference only works for extension function", "body": "<p>The following code works fine and the call to the <code>foo.get()</code> extension function returns the correct type BarImpl.</p>\n\n<pre><code>open class Bar\nclass BarImpl: Bar()\n\nclass Foo&lt;T : Bar&gt; \n\ninline fun &lt;reified T : Bar&gt; Foo&lt;T&gt;.get(): T {\n    return SomeMap(this).get(T::class)\n}\n\nclass Activity {\n    lateinit var foo: Foo&lt;BarImpl&gt;\n    val barImpl = foo.get()\n}\n</code></pre>\n\n<p>But when I try to move <code>Foo&lt;T&gt;.get()</code> into the class the type inference fails</p>\n\n<pre><code>class Foo&lt;T : Bar&gt; {\n    inline fun &lt;reified T : Bar&gt; get(): T {\n        return SomeMap(this).get(T::class)\n    }\n}\n\nclass Activity {\n    lateinit var foo: Foo&lt;BarImpl&gt;\n    val barImpl = foo.get()\n}\n</code></pre>\n\n<blockquote>\n  <p>error: type inference failed: Not enough information to infer parameter T in inline fun  get(): T\n  Please specify it explicitly.</p>\n\n<pre><code>   val vm = foo.get()\n                ^\n</code></pre>\n</blockquote>\n\n<p>How can I move the function into the class?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1505, "user_id": 8903497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebdf3cc66b70436f31fd867ec4c1e7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Shaw", "link": "https://stackoverflow.com/users/8903497/chris-shaw"}, "edited": false, "score": 1, "creation_date": 1572299774, "post_id": 58598867, "comment_id": 103510340, "body": "You&#39;ll need to provide more info on what you have so far, what exactly you&#39;re trying to accomplish and what you&#39;ve tried. <code>onAttach</code> could be a solution, depending on your specific scenario."}, {"owner": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "reply_to_user": {"reputation": 1505, "user_id": 8903497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebdf3cc66b70436f31fd867ec4c1e7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Shaw", "link": "https://stackoverflow.com/users/8903497/chris-shaw"}, "edited": false, "score": 0, "creation_date": 1572300169, "post_id": 58598867, "comment_id": 103510486, "body": "onAttach u mean callback (autogenerated by android studio when u create a fragment), I want something new :)"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1572304514, "post_id": 58598867, "comment_id": 103511562, "body": "Use a shared <code>ViewModel</code>. Have the <code>DialogFragment</code> update that <code>ViewModel</code>. That <code>ViewModel</code> can then inform the activity or other fragments about those changes via <code>LiveData</code>."}], "answers": [{"tags": [], "owner": {"reputation": 60, "user_id": 6274116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf93a3956a5a49097cb97543e8000000?s=128&d=identicon&r=PG&f=1", "display_name": "Zahra Sdg", "link": "https://stackoverflow.com/users/6274116/zahra-sdg"}, "is_accepted": false, "score": 1, "last_activity_date": 1572339534, "creation_date": 1572339534, "answer_id": 58604107, "question_id": 58598867, "link": "https://stackoverflow.com/questions/58598867/pass-the-function-to-the-dialogfragment/58604107#58604107", "title": "Pass the function to the dialogFragment", "body": "<p>not sure what you want but you can create a function as public var in your fragment like this:\n<br/></p>\n\n<pre><code>    class MyFragment : Fragment(){\n    ...\n\n    var myFunction: (() -&gt; Unit)? = null\n    ...\n    }\n</code></pre>\n\n<p><br/>\nif you want to pass variables or return something change your function to:</p>\n\n<pre><code>    var myFunction: ((text: String, b: Boolean) -&gt; String)? = null\n</code></pre>\n\n<p>you can call this function by calling: <br/>\n<code>myFunction.invoke()</code> <br/>\n<br/>\nand pass parameters like:<br/>\n <code>myFunction.invoke(\"title\", true)</code> </p>\n\n<p>implement <code>myFunction</code> when creating the fragment instance:</p>\n\n<pre><code>    val fragment = MyFragment .newInstance().apply {\n        myFunction = {\n             //do something\n        }\n\n        //with parametrs\n        myFunction = { s: String, b: Boolean\n             //do something\n             return \"text\"\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572339534, "creation_date": 1572299523, "question_id": 58598867, "link": "https://stackoverflow.com/questions/58598867/pass-the-function-to-the-dialogfragment", "title": "Pass the function to the dialogFragment", "body": "<p>someone know a different approach to pass the function to the DialogFragment than using callback ?   This approach need to respect Android OS (killing components by system).</p>\n"}, {"tags": ["java", "android", "kotlin", "gstreamer", "java-gstreamer"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 10753240, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eQsYi74vTHE/AAAAAAAAAAI/AAAAAAAAADQ/X5YqZs1KcZA/photo.jpg?sz=128", "display_name": "Alexander Malishev", "link": "https://stackoverflow.com/users/10753240/alexander-malishev"}, "is_accepted": false, "score": 0, "last_activity_date": 1584107514, "creation_date": 1584107514, "answer_id": 60671704, "question_id": 58598674, "link": "https://stackoverflow.com/questions/58598674/error-undefined-reference-to-libiconv-close-in-ndk-android-studio/60671704#60671704", "title": "error: undefined reference to &#39;libiconv_close&#39; in Ndk Android Studio", "body": "<p>Try to add libiconv to your Android.mk file</p>\n\n<pre><code>GSTREAMER_NDK_BUILD_PATH  := $(GSTREAMER_ROOT)/share/gst-android/ndk-build\ninclude $(GSTREAMER_NDK_BUILD_PATH)/plugins.mk\nGSTREAMER_PLUGINS         := $(GSTREAMER_PLUGINS_CORE) $(GSTREAMER_PLUGINS_NET) x264 openh264 videoparsersbad mulaw\nG_IO_MODULES              := gnutls\nGSTREAMER_EXTRA_LIBS      := -liconv #This is what you need\ninclude $(GSTREAMER_NDK_BUILD_PATH)/gstreamer-1.0.mk\n</code></pre>\n"}], "owner": {"reputation": 559, "user_id": 4243473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969afa0e7ad16d16917afaa304e854e6?s=128&d=identicon&r=PG&f=1", "display_name": "Dheeraj", "link": "https://stackoverflow.com/users/4243473/dheeraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1584107514, "creation_date": 1572298384, "question_id": 58598674, "link": "https://stackoverflow.com/questions/58598674/error-undefined-reference-to-libiconv-close-in-ndk-android-studio", "title": "error: undefined reference to &#39;libiconv_close&#39; in Ndk Android Studio", "body": "<p>Iam getting error on setting up my ndk for gstreamer library in android studio.</p>\n\n<p>Below is the error which iam getting-:</p>\n\n<p><strong>cerbero.git/1.16/build/sources/android_universal/armv7/glib-2.56.1/_builddir/../glib/gconvert.c:308: error: undefined reference to 'libiconv_close'</strong></p>\n\n<p>My project level gradle is -:</p>\n\n<pre><code>&gt; buildscript {\n&gt;     repositories {\n&gt;         jcenter()\n&gt;         google()\n&gt;     }\n&gt;     dependencies {\n&gt;         classpath 'com.android.tools.build:gradle:3.5.0'\n&gt;     } }\n&gt; \n&gt; allprojects {\n&gt;     repositories {\n&gt;         jcenter()\n&gt;         google()\n&gt;     } }\n</code></pre>\n\n<p>and my app.gradle is -:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.0\"\n\n    defaultConfig {\n        applicationId \"org.freedesktop.gstreamer.tutorials.tutorial_2\"\n        minSdkVersion 9\n        targetSdkVersion 26\n\n        ndk {\n            moduleName \"tutorial-2\"\n            abiFilters 'x86', 'armeabi-v7a', 'arm64-v8a'\n        }\n    }\n\n    buildTypes {\n        release {\n\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n    externalNativeBuild {\n        ndkBuild {\n            path '../../gstreamer-tutorial2/app/src/main/jni/Android.mk'\n        }\n    }\n}\n</code></pre>\n\n<p>Refrences which iam using is from-:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/45044210/gstreamer-examples-in-android-studio\">Gstreamer examples in Android Studio</a></p>\n\n<p>Also can anybody help with good references for implemeting gstream library in android studio</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "android", "kotlin", "android-mediaplayer"], "comments": [{"owner": {"reputation": 9984, "user_id": 1361506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5527d6bb829d75befe914163f5e8cf60?s=128&d=identicon&r=PG", "display_name": "azurefrog", "link": "https://stackoverflow.com/users/1361506/azurefrog"}, "edited": false, "score": 1, "creation_date": 1572293019, "post_id": 58597504, "comment_id": 103507939, "body": "We can&#39;t help you fix code that you haven&#39;t shared with us.  Please <a href=\"https://stackoverflow.com/posts/58597504/edit\">edit</a> your question to include the code that you&#39;re having trouble with (<b>not</b> the whole program, just enough to demonstrate the problem), a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be ideal."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12251594, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jQGrxPkEPyk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA_a4kSQ_sR6_dqgXVxbmYQoP2Vw/photo.jpg?sz=128", "display_name": "Syed Arslan", "link": "https://stackoverflow.com/users/12251594/syed-arslan"}, "is_accepted": false, "score": 0, "last_activity_date": 1572297336, "last_edit_date": 1572297336, "creation_date": 1572295022, "answer_id": 58598053, "question_id": 58597504, "link": "https://stackoverflow.com/questions/58597504/i-have-a-problem-with-media-player-android/58598053#58598053", "title": "i have a problem with media player (android)", "body": "<p>I also face this problem but now my problem is solved you need to do something like that</p>\n\n<p>write this code outside your button <code>OnClickListener</code>.</p>\n\n<pre><code>MediaPlayer mediaplayer = MediaPlayer.create(your_Activty.this , R.raw.your_sound);\n</code></pre>\n\n<p>then in your <code>OnClickListener</code> just write this</p>\n\n<pre><code>mediaplayer.start () ;\n</code></pre>\n\n<p>I hope this work for you.</p>\n"}], "owner": {"reputation": 1, "user_id": 12287826, "user_type": "registered", "profile_image": "https://graph.facebook.com/3305049682875581/picture?type=large", "display_name": "Ahmad Alotaibi", "link": "https://stackoverflow.com/users/12287826/ahmad-alotaibi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1572297336, "creation_date": 1572292196, "question_id": 58597504, "link": "https://stackoverflow.com/questions/58597504/i-have-a-problem-with-media-player-android", "title": "i have a problem with media player (android)", "body": "<p>iam doing an education app for kids </p>\n\n<p>i have a activity with all the alphabet and when you press any alphabet it make the sound of it\nusing media player</p>\n\n<p>the problem is after a number of touches on the alphabet , it depends on the device , non of the alphabet make sound and all the buttons stop making sound </p>\n\n<p>at the begining i had one variable , and i would re assign it each time</p>\n\n<p>i tired declaring 28 variable , one for each letter and it didnt work</p>\n\n<p>please help :( please</p>\n"}, {"tags": ["android", "kotlin", "exoplayer2.x"], "answers": [{"comments": [{"owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "edited": false, "score": 0, "creation_date": 1572294224, "post_id": 58597708, "comment_id": 103508365, "body": "Freeing up resources in <code>onStop</code> would mean stopping the player and hence the music but the music has to be played when the app goes into the background."}, {"owner": {"reputation": 675, "user_id": 5600256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dacf13e2ad0d8fd7217dca5b1ee9e2a?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Sianaki", "link": "https://stackoverflow.com/users/5600256/mohammad-sianaki"}, "reply_to_user": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "edited": false, "score": 0, "creation_date": 1572296502, "post_id": 58597708, "comment_id": 103509244, "body": "@neer17 to do something while app is in background you should use <code>Service</code> component not <code>Activity</code>"}, {"owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "edited": false, "score": 0, "creation_date": 1572329810, "post_id": 58597708, "comment_id": 103516136, "body": "PlayerNotificationManager is taking care of the foreground service. Anyway, my concern is releasing the player and insert the last played song into the db when the app is destroyed."}], "tags": [], "owner": {"reputation": 675, "user_id": 5600256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dacf13e2ad0d8fd7217dca5b1ee9e2a?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Sianaki", "link": "https://stackoverflow.com/users/5600256/mohammad-sianaki"}, "is_accepted": false, "score": 0, "last_activity_date": 1572293305, "creation_date": 1572293305, "answer_id": 58597708, "question_id": 58597212, "link": "https://stackoverflow.com/questions/58597212/what-is-the-best-way-to-clear-up-resources-in-android/58597708#58597708", "title": "What is the best way to clear up resources in Android?", "body": "<p>You should free your resource in <code>onStop()</code>, when activity goes into background it is stopped but not destroyed(unless the system kills the activity's hosting process).If you release resources in <code>onDestroy()</code>, which is not called by default when Activity goes to background, the Activity will hold to these resources while in stopped state, thus causing higher amount of resources to be consumed by your app in background state.</p>\n"}], "owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572293305, "creation_date": 1572290738, "question_id": 58597212, "link": "https://stackoverflow.com/questions/58597212/what-is-the-best-way-to-clear-up-resources-in-android", "title": "What is the best way to clear up resources in Android?", "body": "<p>I am building an application just like Spotify using ExoPlayer. I am starting a player notification when the song starts playing and it should be getting played even when the app is put into the background. Therefore, I need to <em>release</em> the player and save the last played song when the user deliberately clears the app off from the Ram but <code>onDestory()</code> is not reliable as <a href=\"https://developer.android.com/reference/android/app/Activity.html#onDestroy()\" rel=\"nofollow noreferrer\">stated here</a>. So, I thought doing resource cleaning in <code>onActivityDestroyed()</code> in a custom <em>Application</em> but that failed too.  </p>\n\n<pre><code>override fun onActivityDestroyed(activity: Activity?) {\n                val activityName = activity!!.localClassName\n                Log.d(TAG, \"onActivityDestroyed: activity name ==&gt; $activityName\")\n\n                val musicPlayerDAO =\n                    MusicPlayerDatabase.getDatabase(applicationContext).musicPlayerDao()\n                val repository = Repository(musicPlayerDAO)\n\n                val job = Job()\n                CoroutineScope(Dispatchers.IO + job).launch {\n                    repository.insertLastPlayedSong(LastPlayedSongEntity(\"Dummy title\", 3000))                    \n                }\n\n                Log.d(TAG, \"onActivityDestroyed: Just after the co-routine\")\n            }\n</code></pre>\n\n<p>Only the first log is getting executed here. What is the best possible way of freeing up resources in this case? </p>\n"}, {"tags": ["kotlin", "mockito", "tdd"], "comments": [{"owner": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 0, "creation_date": 1572289189, "post_id": 58596847, "comment_id": 103506444, "body": "What is your question?"}, {"owner": {"reputation": 190, "user_id": 7377234, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10207297040896733/picture?type=large", "display_name": "Wellington Yogui", "link": "https://stackoverflow.com/users/7377234/wellington-yogui"}, "reply_to_user": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 0, "creation_date": 1572289529, "post_id": 58596847, "comment_id": 103506565, "body": "@takendarkk I&#39;m don&#39;t know how to pass <code>(fetchUserIdentity_showOptions_failed$2) Function0&lt;kotlin.Unit&gt;</code> as a matcher"}, {"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1572295097, "post_id": 58596847, "comment_id": 103508714, "body": "Looking at your code you have to pass what you put inside <code>it.callback </code>"}, {"owner": {"reputation": 190, "user_id": 7377234, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10207297040896733/picture?type=large", "display_name": "Wellington Yogui", "link": "https://stackoverflow.com/users/7377234/wellington-yogui"}, "edited": false, "score": 0, "creation_date": 1572374162, "post_id": 58596847, "comment_id": 103537115, "body": "I fix it using argumentCaptors from mockito-kotlin"}], "owner": {"reputation": 190, "user_id": 7377234, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10207297040896733/picture?type=large", "display_name": "Wellington Yogui", "link": "https://stackoverflow.com/users/7377234/wellington-yogui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1572289204, "creation_date": 1572289054, "last_edit_date": 1572289204, "question_id": 58596847, "link": "https://stackoverflow.com/questions/58596847/how-do-i-test-methods-with-high-order-function-parameter", "title": "How do I test methods with high order function parameter?", "body": "<p>I'm trying to test a method with a high order function as parameter.\nAnd facing this error: </p>\n\n<pre><code>Argument(s) are different! Wanted:\nviewContractMock.showError(\n    (fetchUserIdentity_showOptions_failed$2) Function0&lt;kotlin.Unit&gt;\n);\n-&gt; at br.com.fastshop.ecommerce.ui.resetpassword.controller.RecoveryOptionsControllerTest.fetchUserIdentity_showOptions_failed(RecoveryOptionsControllerTest.kt:65)\nActual invocation has different arguments:\nviewContractMock.showError(\n    () Function0&lt;kotlin.Unit&gt;\n);\n-&gt; at br.com.fastshop.ecommerce.ui.resetpassword.controller.RecoveryOptionsController$observeLive$2.onChanged(RecoveryOptionsController.kt:29)\n</code></pre>\n\n<p>Apparently I'm not passing the right parameter when I call the <code>showError</code> method</p>\n\n<p>This is my fun test:</p>\n\n<pre><code>    @Test\nfun fetchUserIdentity_showOptions_failed() {\n    //Arrange\n    `when`(guestIdentityDataSourceMock.userInfo()).thenReturn(Completable.error { RuntimeException(\"\") })\n    //Act\n    SUT.onStart()\n    //Assert\n    verify(viewContractMock).showLoading()\n    verify(viewContractMock).hideLoading()\n    verify(viewContractMock).showError { fetchUserIdentity_showOptions_failed() }\n}\n</code></pre>\n\n<p>And here is where my methods are called from application:</p>\n\n<pre><code>        recoveryOptionsUseCase.userIdentityLive.observe({ lifecycle }) {\n        when (it.status) {\n            ResourceState.LOADING -&gt; {\n                if (it.loading) {\n                    viewContract.showLoading()\n                } else {\n                    viewContract.hideLoading()\n                }\n            }\n            ResourceState.SUCCESS -&gt; {\n                viewContract.bindOptions()\n            }\n            ResourceState.ERROR -&gt; viewContract.showError(it.callback!!)\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-volley"], "comments": [{"owner": {"reputation": 2670, "user_id": 3286614, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/684521485/picture?type=large", "display_name": "Rachit", "link": "https://stackoverflow.com/users/3286614/rachit"}, "edited": false, "score": 0, "creation_date": 1572288990, "post_id": 58596749, "comment_id": 103506361, "body": "Can you share the crash logs? If it&#39;s crashing, I don&#39;t think it&#39;s anything to do with the file size. There is probably some other RuntimeException."}, {"owner": {"reputation": 63, "user_id": 6271852, "user_type": "registered", "profile_image": "https://graph.facebook.com/533524360153327/picture?type=large", "display_name": "Michele Coluccelli", "link": "https://stackoverflow.com/users/6271852/michele-coluccelli"}, "reply_to_user": {"reputation": 2670, "user_id": 3286614, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/684521485/picture?type=large", "display_name": "Rachit", "link": "https://stackoverflow.com/users/3286614/rachit"}, "edited": false, "score": 0, "creation_date": 1572289563, "post_id": 58596749, "comment_id": 103506576, "body": "@Rachit I run it on my smartphone and when I press the button to get the response, application stops and appears : &quot;application_name has stopped  Open app again&quot;"}, {"owner": {"reputation": 2670, "user_id": 3286614, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/684521485/picture?type=large", "display_name": "Rachit", "link": "https://stackoverflow.com/users/3286614/rachit"}, "edited": false, "score": 0, "creation_date": 1572351725, "post_id": 58596749, "comment_id": 103525533, "body": "you can check for the crash logs by running the app on the phone, and going to the Logcat tab on Android Studio. When the crash occurs, you&#39;ll see the reason for the crash."}], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 7162200, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NoCuM.jpg?s=128&g=1", "display_name": "Maksym S.", "link": "https://stackoverflow.com/users/7162200/maksym-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1572291502, "last_edit_date": 1572291502, "creation_date": 1572289885, "answer_id": 58597031, "question_id": 58596749, "link": "https://stackoverflow.com/questions/58596749/how-can-i-read-a-huge-file-json-with-kotlin/58597031#58597031", "title": "How can I read a huge file JSON with kotlin?", "body": "<p>The reason why it does not work is that you are receiving a JSON array but you are trying to parse it as a JSON object.</p>\n\n<p>In order to simplify deserialization, you can check <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Google's Gson Library</a>.\nHere's an example of Gson implementation:</p>\n\n<ol>\n<li><p>Add the following dependency to your <code>build.gradle</code> file and sync your project with Gradle:</p>\n\n<pre><code>implementation 'com.google.code.gson:gson:2.8.6'\n</code></pre></li>\n<li><p>Create a model that represents your JSON objects:</p>\n\n<pre><code>import com.google.gson.annotations.SerializedName\n\ndata class DataObject(\n    @SerializedName(\"data\")\n    val data: String,\n    @SerializedName(\"Descrizione\")\n    val descrizione: String,\n    @SerializedName(\"Id\")\n    val id: String,\n    @SerializedName(\"id_aula\")\n    val idAula: String,\n    @SerializedName(\"minuti_fine\")\n    val minutiFine: String,\n    @SerializedName(\"minuti_inizio\")\n    val minutiInizio: String,\n    @SerializedName(\"nome_aula\")\n    val nomeAula: String,\n    @SerializedName(\"ora_fine\")\n    val oraFine: String,\n    @SerializedName(\"ora_inizio\")\n    val oraInizio: String\n)\n</code></pre></li>\n<li><p>Now you can modify your function to deserialize JSON:</p>\n\n<pre><code>fun factors(x: String) {\n\n    val queue = Volley.newRequestQueue(this)\n    //val url = \"https://helloacm.com/api/factor/?cached&amp;n=\"+x\n\n    val url = \"http://diag.uniroma1.it/pannello/?q=export_json\"\n\n    var reply: List&lt;DataObject&gt; = listOf()\n\n    // Request a string response from the provided URL.\n    val stringRequest = StringRequest(\n            Request.Method.GET, url,\n            Response.Listener&lt;String&gt; { response -&gt;\n                // Display the first 500 characters of the response string.\n                reply = Gson().fromJson(response, object : TypeToken&lt;List&lt;DataObject&gt;&gt;() {}.type)\n                output.text = reply\n            },\n            Response.ErrorListener { error: VolleyError? -&gt; output.text = error.toString() })\n\n    // Add the request to the RequestQueue.\n    queue.add(stringRequest)\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 63, "user_id": 6271852, "user_type": "registered", "profile_image": "https://graph.facebook.com/533524360153327/picture?type=large", "display_name": "Michele Coluccelli", "link": "https://stackoverflow.com/users/6271852/michele-coluccelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1013, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572291502, "creation_date": 1572288514, "question_id": 58596749, "link": "https://stackoverflow.com/questions/58596749/how-can-i-read-a-huge-file-json-with-kotlin", "title": "How can I read a huge file JSON with kotlin?", "body": "<p>I'm trying to read a json file regarding my scheduling lessons at university, getting it from this link : <a href=\"http://diag.uniroma1.it/pannello/?q=export_json\" rel=\"nofollow noreferrer\">http://diag.uniroma1.it/pannello/?q=export_json</a></p>\n\n<p>I tried to do it using <a href=\"https://developer.android.com/training/volley/simple\" rel=\"nofollow noreferrer\">https://developer.android.com/training/volley/simple</a> which works for very simple json file as in <a href=\"https://helloacm.com/api/factor/?cached&amp;n=10\" rel=\"nofollow noreferrer\">https://helloacm.com/api/factor/?cached&amp;n=10</a> ( where given a number it returns the factorization of itself).</p>\n\n<p>But applying same reasoning doesn't works. Actually the application that first that previously worked well, now crashes.</p>\n\n<pre><code> fun factors (x: String){\n\n        val queue = Volley.newRequestQueue(this)\n        //val url = \"https://helloacm.com/api/factor/?cached&amp;n=\"+x\n\n        val url = \"http://diag.uniroma1.it/pannello/?q=export_json\"\n\n        var reply : String = \"\"\n\n        // Request a string response from the provided URL.\n        val stringRequest = StringRequest(\n            Request.Method.GET, url,\n            Response.Listener&lt;String&gt; { response -&gt;\n                // Display the first 500 characters of the response string.\n                reply = JSONObject(response.toString()).toString()\n                output.text=reply\n            },\n            Response.ErrorListener { error: VolleyError? -&gt;  output.text = error.toString() })\n\n        // Add the request to the RequestQueue.\n        queue.add(stringRequest)\n\n    }\n</code></pre>\n\n<p>What is the problem? Is the file too big respect the previous one? I'm really new in this stuff</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 4857249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d067025daf4d3d70a19bcae9f92d7db9?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Harris", "link": "https://stackoverflow.com/users/4857249/douglas-harris"}, "edited": false, "score": 0, "creation_date": 1572305401, "post_id": 58596270, "comment_id": 103511750, "body": "You are a genius.  That worked perfectly.  I created the new person and added the listener to it all while inside the plus function and then returned the new person with the listener already attached."}], "tags": [], "owner": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "is_accepted": true, "score": 0, "last_activity_date": 1572286340, "creation_date": 1572286340, "answer_id": 58596270, "question_id": 58595496, "link": "https://stackoverflow.com/questions/58595496/listener-not-reacting-to-second-call/58596270#58596270", "title": "Listener not reacting to second call", "body": "<p>The problem is that, at the end of your <code>plus</code> function, you create a brand new <code>Person</code> object (which copies the <code>name</code> and <code>salary</code> and increases the <code>age</code>) but importantly, it has a new <code>changeSupport</code> object which you haven't run    <code>addPropertyChangeListener</code> on.</p>\n\n<p>It looks like <code>PropertyChangeSupport</code> allows you to have no listeners defined, so won't error or give you a clue that there is not listener</p>\n"}], "owner": {"reputation": 5, "user_id": 4857249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d067025daf4d3d70a19bcae9f92d7db9?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Harris", "link": "https://stackoverflow.com/users/4857249/douglas-harris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58596270, "answer_count": 1, "score": 0, "last_activity_date": 1572286340, "creation_date": 1572282947, "last_edit_date": 1572283455, "question_id": 58595496, "link": "https://stackoverflow.com/questions/58595496/listener-not-reacting-to-second-call", "title": "Listener not reacting to second call", "body": "<p>I'm trying to learn Kotlin and I'm writing code to test and confirm my understanding.  In the result of the following code, I expect to see \"Property age changed from 37 to 38\" near the end.  Why am I not seeing that.</p>\n\n<p>I tried writing the increment to age as age.plus initially, but that made the same result.</p>\n\n<pre><code>package ch07.ImplementingDelegatedProperties\n\nimport java.beans.PropertyChangeSupport\nimport java.beans.PropertyChangeListener\n\nopen class PropertyChangeAware {\n    protected val changeSupport = PropertyChangeSupport(this)\n\n    fun addPropertyChangeListener(listener: PropertyChangeListener) {\n        changeSupport.addPropertyChangeListener(listener)\n    }\n\n    fun removePropertyChangeListener(listener: PropertyChangeListener) {\n        changeSupport.removePropertyChangeListener(listener)\n    }\n}\n\nclass Person(\n    val name: String, age: Int?, salary: Int\n)\n    : PropertyChangeAware()\n{\n\n    var age: Int? = age\n        set(newValue) {\n            println(\"age changed\")\n\n            val oldValue = field\n            field = newValue\n            changeSupport.firePropertyChange(\n                \"age\", oldValue, newValue)\n        }\n\n    var salary: Int = salary\n        set(newValue) {\n            val oldValue = field\n            field = newValue\n            changeSupport.firePropertyChange(\n                \"salary\", oldValue, newValue)\n        }\n\n    operator fun plus (older: Int) :Person {\n        println(\"age changed by operator\")\n        val oldValue = age\n        val newValue = (oldValue?: 0) + older\n        changeSupport.firePropertyChange( // don't know why this dosn't fire repeatedly\n            \"age\", oldValue, newValue)\n        println(\"age chg by operator, $oldValue -&gt; $newValue\")\n        this.age = (oldValue?: 0) + older\n        // this._attributes = _attributes\n        return Person(name, age = age, salary = salary)\n    }\n\n}\n\n\n\nfun main(args: Array&lt;String&gt;) {\n    var p = Person(\"Dmitry\", 34, 2000)\n    p.addPropertyChangeListener(\n        PropertyChangeListener { event -&gt;\n            println(\"Property ${event.propertyName} changed \" +\n                    \"from ${event.oldValue} to ${event.newValue}\")\n        }\n    )\n    println(p.age)\n    p.age = 35\n    println(p.age.toString())\n    p.age = 36\n    println(p.age.toString())\n    p = p + 1\n    println(p.age.toString())\n    p = p + 1\n    println(p.age.toString())\n    p.salary = 2100\n}\n</code></pre>\n\n<p>Actual results:</p>\n\n<pre><code>34\nage changed\nProperty age changed from 34 to 35\n35\nage changed\nProperty age changed from 35 to 36\n36\nage changed by operator\nProperty age changed from 36 to 37\nage chg by operator, 36 -&gt; 37\nage changed\nProperty age changed from 36 to 37\n37\nage changed by operator\nage chg by operator, 37 -&gt; 38\nage changed\n38\n</code></pre>\n\n<p>Expected results:</p>\n\n<pre><code>34\nage changed\nProperty age changed from 34 to 35\n35\nage changed\nProperty age changed from 35 to 36\n36\nage changed by operator\nProperty age changed from 36 to 37\nage chg by operator, 36 -&gt; 37\nage changed\nProperty age changed from 36 to 37\n37\nage changed by operator\nage chg by operator, 37 -&gt; 38\nage changed\nProperty age changed from 37 to 38  &lt;&lt; This line expected but not appearing\n38\n</code></pre>\n"}, {"tags": ["android", "google-chrome", "kotlin", "webview"], "comments": [{"owner": {"reputation": 1659, "user_id": 2200711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ulo4v.jpg?s=128&g=1", "display_name": "Saadat Sayem", "link": "https://stackoverflow.com/users/2200711/saadat-sayem"}, "edited": false, "score": 0, "creation_date": 1572284192, "post_id": 58595469, "comment_id": 103504350, "body": "Use <b>Android Browser</b> (previously known as chrome custom tabs). Here is a blog illustrates the implementation in kotlin. link:- <a href=\"https://blog.mindorks.com/android-browser-lets-launch-chrome-custom-tabs-with-kotlin\" rel=\"nofollow noreferrer\">blog.mindorks.com/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 11595996, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eU7azzu3OSE/AAAAAAAAAAI/AAAAAAAAA0E/kfpGCbTzhv8/photo.jpg?sz=128", "display_name": "Marko Simonovic", "link": "https://stackoverflow.com/users/11595996/marko-simonovic"}, "reply_to_user": {"reputation": 1659, "user_id": 2200711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ulo4v.jpg?s=128&g=1", "display_name": "Saadat Sayem", "link": "https://stackoverflow.com/users/2200711/saadat-sayem"}, "edited": false, "score": 0, "creation_date": 1572286595, "post_id": 58595469, "comment_id": 103505398, "body": "I&#39;m going to try that thanks!"}], "owner": {"reputation": 1, "user_id": 11595996, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eU7azzu3OSE/AAAAAAAAAAI/AAAAAAAAA0E/kfpGCbTzhv8/photo.jpg?sz=128", "display_name": "Marko Simonovic", "link": "https://stackoverflow.com/users/11595996/marko-simonovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572282836, "creation_date": 1572282836, "question_id": 58595469, "link": "https://stackoverflow.com/questions/58595469/problem-with-my-webview-in-android-kotlin", "title": "Problem with my WebView in Android (Kotlin)", "body": "<p>since a few days ago Google change Webview from Chrome to \"Trichrome\" My app is unresponsive in several Android Phones, Can I do something to use Chrome again a WebView? or there is any alternative to WebView?</p>\n\n<p>Thanks for your time guys!</p>\n"}, {"tags": ["android", "kotlin", "mapbox", "mapbox-android"], "owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1572281738, "creation_date": 1572281738, "question_id": 58595191, "link": "https://stackoverflow.com/questions/58595191/adding-multiple-waypoints-to-mapbox-is-not-working-in-android-kotlin", "title": "Adding multiple Waypoints to mapbox is not working in android kotlin", "body": "<p>Trying to add more than 1 waypoint to the route but it just doesn't even build the route :</p>\n\n<pre><code>        val builder = NavigationRoute.builder(this@MainActivity) //1\n            .accessToken(Mapbox.getAccessToken()!!) //2\n            .origin(originPoint) //3\n            .destination(endPoint) //4\n        for (wayPoint in wayPoints) {\n            builder.addWaypoint(wayPoint)\n        }\n        builder.build()\n</code></pre>\n\n<p>in my app.gradle I have added al the dependencies needed : </p>\n\n<pre><code>    implementation 'com.mapbox.mapboxsdk:mapbox-android-sdk:8.4.0'\n    implementation 'com.mapbox.mapboxsdk:mapbox-android-navigation-ui:0.42.0'\n    implementation 'com.mapbox.mapboxsdk:mapbox-android-navigation:0.42.1'\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>When I add a single waypoint in the route this way : </p>\n\n<pre><code>        val builder = NavigationRoute.builder(this@MainActivity) //1\n            .accessToken(Mapbox.getAccessToken()!!) //2\n            .origin(originPoint) //3\n            .destination(endPoint) //4\n            .addWaypoint(wayPoint)\n            .build()\n</code></pre>\n\n<p>it works normally .</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "coroutine"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 11568557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ViRbe.jpg?s=128&g=1", "display_name": "nimondo", "link": "https://stackoverflow.com/users/11568557/nimondo"}, "edited": false, "score": 0, "creation_date": 1572429092, "post_id": 58603100, "comment_id": 103553254, "body": "Thanks! @pritam for getproperties () it&#39;s an error i just wanted to write getUsersProperties."}, {"owner": {"reputation": 57, "user_id": 11568557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ViRbe.jpg?s=128&g=1", "display_name": "nimondo", "link": "https://stackoverflow.com/users/11568557/nimondo"}, "edited": false, "score": 0, "creation_date": 1598224511, "post_id": 58603100, "comment_id": 112380197, "body": "Thank you for your answer it was very helpful."}], "tags": [], "owner": {"reputation": 2070, "user_id": 5644120, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1XCDt5CBSC0/AAAAAAAAAAI/AAAAAAAAAE8/_T4rHRf8OIA/photo.jpg?sz=128", "display_name": "Pritam Kadam", "link": "https://stackoverflow.com/users/5644120/pritam-kadam"}, "is_accepted": true, "score": 1, "last_activity_date": 1572334809, "creation_date": 1572334809, "answer_id": 58603100, "question_id": 58595154, "link": "https://stackoverflow.com/questions/58595154/get-the-value-not-the-unit-in-try-catch-block-in-kotlin-using-android/58603100#58603100", "title": "Get the value not the unit in try catch block in Kotlin using Android", "body": "<p>You are using <code>launch</code>,</p>\n\n<blockquote>\n  <p>Launch is used to perform asynchronous fire and forget type of\n  operations where you are not interested in the result of operation.</p>\n</blockquote>\n\n<p>Instead, you can use <code>async</code>,</p>\n\n<blockquote>\n  <p>Async is used to perform asynchronous computation where you expect a\n  result of the computation in the future</p>\n</blockquote>\n\n<pre><code>private fun getUsersProperties() =\n            coroutineScope.async {\n                var getPropertiesDeferred =\n                        UsersApi.retrofitService.getProperties()\n                try {\n                    var listResult = getPropertiesDeferred.await()\n                    //database.insertUser(listResult)\n                    _response.value =\n                            \"Success: ${listResult} Mars properties retrieved\"\n\n                } catch (e: Exception) {\n                    _response.value = \"Failure: ${e.message}\"\n                }\n              // =================================================\n              // ========= Return whatever result you want =======\n              // =================================================\n            }\n\n</code></pre>\n\n<p>can you also show what is the type signature of <code>getProperties</code>?</p>\n"}], "owner": {"reputation": 57, "user_id": 11568557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ViRbe.jpg?s=128&g=1", "display_name": "nimondo", "link": "https://stackoverflow.com/users/11568557/nimondo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 58603100, "answer_count": 1, "score": 0, "last_activity_date": 1572334809, "creation_date": 1572281572, "last_edit_date": 1572291868, "question_id": 58595154, "link": "https://stackoverflow.com/questions/58595154/get-the-value-not-the-unit-in-try-catch-block-in-kotlin-using-android", "title": "Get the value not the unit in try catch block in Kotlin using Android", "body": "<p>Android kotlin coroutine retrofit.</p>\n\n<p>I want to get the value from the getPropeties to insert it in database. I Need a help for this? I need the value to be an instance of User not the unit value. My viewModel class is given below.</p>\n\n<pre><code>    import android.app.Application\n    import android.content.Context\n    import android.util.Log\n    import androidx.lifecycle.LiveData\n    import androidx.lifecycle.MutableLiveData\n    import androidx.lifecycle.ViewModel\n    import com.example.android.marsrealestate.database.AppDatabase\n    import com.example.android.marsrealestate.database.User\n    import com.example.android.marsrealestate.database.UserDao\n    import com.example.android.marsrealestate.network.UsersApi\n    import com.example.android.marsrealestate.network.UsersProperty\n    import kotlinx.coroutines.*\n    import retrofit2.Call\n    import retrofit2.Callback\n    import retrofit2.Response\n\n\n    class OverviewViewModel(val database: UserDao,\n                            application: Application): ViewModel() {\n        private var viewModelJob = Job()\n        private val coroutineScope = CoroutineScope(\n                viewModelJob + Dispatchers.Main )\n        private var user = MutableLiveData&lt;User?&gt;()\n        // The internal MutableLiveData String that stores the most recent response\n        private val _response = MutableLiveData&lt;String&gt;()\n\n        // The external immutable LiveData for the response String\n        val response: LiveData&lt;String&gt;\n            get() = _response\n\n        init {\n            getUsersProperties()\n\n        }\n\n        private fun getUsersProperties(){\n            coroutineScope.launch {\n                var getPropertiesDeferred =\n                        UsersApi.retrofitService.getProperties()\n                try {\n                    var listResult = getPropertiesDeferred.await()\n                    //database.insertUser(listResult)\n                    _response.value =\n                            \"Success: ${listResult} Mars properties retrieved\"\n\n                } catch (e: Exception) {\n                    _response.value = \"Failure: ${e.message}\"\n                }\n            }\n        }\n\n        override fun onCleared() {\n            super.onCleared()\n            viewModelJob.cancel()\n        }\n    }\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "fragment"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1572281093, "post_id": 58594982, "comment_id": 103502874, "body": "Since you&#39;re using <code>childFragmentManager</code>, it seems like you&#39;re adding a fragment to your fragment. This method must be in some Fragment class, but you say you&#39;re calling it from <code>MainActivity</code>... what happens if you move that method to <code>MainActivity</code> and use <code>supportFragmentManager</code> instead of <code>childFragmentManager</code>?"}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1572281368, "post_id": 58594982, "comment_id": 103502997, "body": "Each HostFragment is a stack of fragment. So i need to use <code>childFragmentManager</code>"}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 1, "creation_date": 1572281661, "post_id": 58594982, "comment_id": 103503126, "body": "So probably your HostFragment is not yet added to your activity, and so it cannot have child fragments. Remember that fragment transactions are asynchronous."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 2, "creation_date": 1572281840, "post_id": 58594982, "comment_id": 103503227, "body": "Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1572282031, "post_id": 58594982, "comment_id": 103503320, "body": "Ben P. thanks. I wiil check this state with the <code>isAdded</code>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1572282169, "post_id": 58594982, "comment_id": 103503386, "body": "<code>I always call addFragment from my MainActivity with a new fragment instance (I don&#39;t reuse the instance of the old fragments.)</code> sounds like you might want to add some code from MainActivity so that we know what you are actually doing"}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1572338385, "post_id": 58594982, "comment_id": 103518897, "body": "@EpicPandaForce i have added the activty code"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1572343310, "post_id": 58594982, "comment_id": 103521325, "body": "You need to post <code>pagerAdapter.getItem</code>"}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1572343807, "post_id": 58594982, "comment_id": 103521620, "body": "@EpicPandaForce ok it&#39;s done ! sorry.."}], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 1, "creation_date": 1572348599, "post_id": 58605339, "comment_id": 103523992, "body": "thank you ! I&#39;m able to reproduce the crash with the terminate button. I will try your solution and read the others post !"}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1572435364, "post_id": 58605339, "comment_id": 103556639, "body": "I have trouble solving the problem.. Have you done a sample project ?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1572438923, "post_id": 58605339, "comment_id": 103558578, "body": "You need to use FragmentPagerAdapter and return a new instance of Fragment in getItem."}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 1, "creation_date": 1572446285, "post_id": 58605339, "comment_id": 103563004, "body": "Okay! I finally made it ^^ thank you very much... it would have been very complicated to find on my own."}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1574156358, "post_id": 58605339, "comment_id": 104121263, "body": "Do you know exactly what the terminate logcat button does?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1574156600, "post_id": 58605339, "comment_id": 104121393, "body": "Kill the process, but not force stop. Not sure which command it is from a terminal, though."}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1574180070, "post_id": 58605339, "comment_id": 104135298, "body": "Do you think that it is the entry in doze mode can produce the same effect as the terminate button?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 1, "creation_date": 1574180631, "post_id": 58605339, "comment_id": 104135677, "body": "@ZachBvy I found the command, it&#39;s <code>am kill</code>, as says in <code>adb shell am kill com.example.android.codelabs.lifecycle</code> in <a href=\"https://codelabs.developers.google.com/codelabs/android-lifecycles/#6\" rel=\"nofollow noreferrer\">codelabs.developers.google.com/codelabs/android-lifecycles/#&zwnj;&#8203;6</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1574182119, "post_id": 58605339, "comment_id": 104136662, "body": "It does it all the time tbh :D"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 1, "last_activity_date": 1572344034, "creation_date": 1572344034, "answer_id": 58605339, "question_id": 58594982, "link": "https://stackoverflow.com/questions/58594982/fragment-has-not-been-attached-yet/58605339#58605339", "title": "Fragment has not been attached yet", "body": "<p>Your app crashes because the implementation of <code>FragmentStatePagerAdapter</code> is incorrect.</p>\n\n<blockquote>\n<pre><code>// private var fragments: MutableList&lt;Fragment&gt; = mutableListOf() // &lt;-- remove this line entirely\n</code></pre>\n</blockquote>\n\n<p>You mustn't keep a list of fragments in your <code>Fragment*PagerAdapter</code>, because the system recreates the Fragments, and the one <em>you'll</em> be invoking in that list will never actually be added to the FragmentManager.</p>\n\n<p>Something you can do is switch <code>FragmentStatePagerAdapter</code> to <code>FragmentPagerAdapter</code>, then you can apply <a href=\"https://stackoverflow.com/questions/55753099/app-crash-after-activity-has-been-killed-in-background/55754360#55754360\">App crash after activity has been killed in background</a> and <a href=\"https://stackoverflow.com/questions/54279509/how-to-get-elements-of-fragments-created-by-viewpager-in-mainactivity/54280113#54280113\">How to get elements of fragments created by ViewPager in MainActivity?</a> .</p>\n\n<p>To reproduce your crash, refer to <a href=\"https://stackoverflow.com/questions/49046773/singleton-object-becomes-null-after-app-is-resumed/49107399#49107399\">Singleton object becomes null after app is resumed</a> .</p>\n"}], "owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3615, "favorite_count": 0, "accepted_answer_id": 58605339, "answer_count": 1, "score": 2, "last_activity_date": 1572344034, "creation_date": 1572280958, "last_edit_date": 1572343788, "question_id": 58594982, "link": "https://stackoverflow.com/questions/58594982/fragment-has-not-been-attached-yet", "title": "Fragment has not been attached yet", "body": "<p>After reading posts on this exception, I can't understand what I need to do to correct this error. Besides, I can't even reproduce it... This happens sometimes on some devices but I don't understand how...</p>\n\n<p>my logs : </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Fatal Exception: java.lang.IllegalStateException\nFragment a has not been attached yet my.app.HostFragment.addFragment\n</code></pre>\n\n<p>HostFragment class :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>fun addFragment(fragment: Fragment) {\n        childFragmentManager.beginTransaction()\n          .add(R.id.fragment_root_container, fragment)\n          .addToBackStack(null)\n          .commit()\n}\n</code></pre>\n\n<p>MainActivity class :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>fun openNewChampionFragment() {\n        val hostFragment = pagerAdapter.getItem(viewpager.currentItem) as HostFragment\n        hostFragment.addFragment(ChampionFragment.newInstance())\n}\n</code></pre>\n\n<p>ViewPager Adapter :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class ViewPagerAdapter(manager: FragmentManager) : FragmentStatePagerAdapter(manager, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT) {\n\n    private var fragments: MutableList&lt;Fragment&gt; = mutableListOf()\n\n    fun addFragments(fragments: List&lt;Fragment&gt;) {\n        this.fragments = fragments.toMutableList()\n    }\n\n    override fun getItem(position: Int): Fragment {\n        return fragments[position]\n    }\n\n    override fun getCount(): Int {\n        return fragments.size\n    }\n\n    fun clearStack(index: Int){\n        (fragments[index] as HostFragment).clearAllStack()\n    }\n}\n</code></pre>\n\n<p>I always call <code>addFragment</code> from my <code>MainActivity</code> with a new fragment instance (I don't reuse the instance of the old fragments.)</p>\n\n<p>Which fragment has not been attached ? My HostFragment or the new one that i'm trying to add.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 771, "user_id": 11268550, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-evYZvlqxjGg/AAAAAAAAAAI/AAAAAAAAAS8/2GAma8xFqDE/photo.jpg?sz=128", "display_name": "JCamacho", "link": "https://stackoverflow.com/users/11268550/jcamacho"}, "edited": false, "score": 0, "creation_date": 1572281133, "post_id": 58594858, "comment_id": 103502897, "body": "I suspected this was the case, otherwise I this sort of question would&#39;ve been asked and answered in some other post already. I must admit though, I&#39;ve gotten so used to Kotlin seemingly being able to do whatever I want I&#39;m a little surprised that it couldn&#39;t do this! That&#39;s fine though, I&#39;m only writing a few more lines of code anyways."}], "tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1572280418, "creation_date": 1572280418, "answer_id": 58594858, "question_id": 58594453, "link": "https://stackoverflow.com/questions/58594453/can-abstract-class-do-work-after-child-class-init/58594858#58594858", "title": "Can Abstract Class Do Work After Child Class Init?", "body": "<p>I believe that the answer is no, this is not possible.</p>\n\n<p>The Kotlin language <a href=\"https://kotlinlang.org/docs/reference/classes.html#derived-class-initialization-order\" rel=\"nofollow noreferrer\">documentation for class initialization</a> says this:</p>\n\n<blockquote>\n  <p>[B]y the time of the base class constructor execution, the properties declared or overridden in the derived class are not yet initialized. If any of those properties are used in the base class initialization logic (either directly or indirectly, through another overridden open member implementation), it may lead to incorrect behavior or a runtime failure. When designing a base class, you should therefore avoid using open members in the constructors, property initializers, and init blocks.</p>\n</blockquote>\n\n<p>An <code>abstract</code> property is inherently <code>open</code>, so the recommendation here applies to your case as well: design your classes to avoid this.</p>\n\n<p>Additionally, I can't find any callback-style method or any other way to \"hook in\" to the class initialization logic/flow and say \"do <code>foo()</code> after initialization is complete\".</p>\n"}, {"comments": [{"owner": {"reputation": 771, "user_id": 11268550, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-evYZvlqxjGg/AAAAAAAAAAI/AAAAAAAAAS8/2GAma8xFqDE/photo.jpg?sz=128", "display_name": "JCamacho", "link": "https://stackoverflow.com/users/11268550/jcamacho"}, "edited": false, "score": 0, "creation_date": 1572282042, "post_id": 58595044, "comment_id": 103503324, "body": "Haha I appreciate the cleverness! But there&#39;s two problems with this answer in my opinion: 1. The getter approach still seems like a hack that would have inconsistent behavior depending on the implementation (unless there&#39;s something that you can point to that would say otherwise) and 2. A getter method works for simple/small classes and types, like the Int member in my example, but this approach wouldn&#39;t work with non-static members that I need a consistent reference to. For example, if instead foo was a <code>MutableList&lt;Int&gt;</code> that was subject to changes, this method would fall apart."}, {"owner": {"reputation": 1129, "user_id": 5946253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23593068bbeea74b6aa9fda55c30468b?s=128&d=identicon&r=PG&f=1", "display_name": "sound", "link": "https://stackoverflow.com/users/5946253/sound"}, "reply_to_user": {"reputation": 771, "user_id": 11268550, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-evYZvlqxjGg/AAAAAAAAAAI/AAAAAAAAAS8/2GAma8xFqDE/photo.jpg?sz=128", "display_name": "JCamacho", "link": "https://stackoverflow.com/users/11268550/jcamacho"}, "edited": false, "score": 1, "creation_date": 1572285202, "post_id": 58595044, "comment_id": 103504821, "body": "Still possible, if you create another mutable variable that you get with foo. But that variable need to be nullable and your getter must give a default value. In that case, bettter for your getter to send a list instead of a mutable. I agree that&#39;s still an hack."}, {"owner": {"reputation": 771, "user_id": 11268550, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-evYZvlqxjGg/AAAAAAAAAAI/AAAAAAAAAS8/2GAma8xFqDE/photo.jpg?sz=128", "display_name": "JCamacho", "link": "https://stackoverflow.com/users/11268550/jcamacho"}, "edited": false, "score": 0, "creation_date": 1572288085, "post_id": 58595044, "comment_id": 103506038, "body": "Oh okay, that&#39;s pretty clever. I wish I could say I recommend it."}], "tags": [], "owner": {"reputation": 1129, "user_id": 5946253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23593068bbeea74b6aa9fda55c30468b?s=128&d=identicon&r=PG&f=1", "display_name": "sound", "link": "https://stackoverflow.com/users/5946253/sound"}, "is_accepted": false, "score": 0, "last_activity_date": 1572285273, "last_edit_date": 1572285273, "creation_date": 1572281164, "answer_id": 58595044, "question_id": 58594453, "link": "https://stackoverflow.com/questions/58594453/can-abstract-class-do-work-after-child-class-init/58595044#58595044", "title": "Can Abstract Class Do Work After Child Class Init?", "body": "<p>It's actually possible, if you use a getter in your child class.</p>\n\n<pre><code>abstract class ExampleClass {\n    abstract val foo: Int\n    init {\n        println(\"Here is foo times 2!: ${foo * 2}\")\n    }\n}\n\nclass ChildClass : ExampleClass() {\n    override val foo\n    get() = 5\n}\n\nfun main() {\n    val test = ChildClass()\n}\n</code></pre>\n\n<p>Have a try <a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjUwIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsImpzQ29kZSI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiLyoqXG4gKiBZb3UgY2FuIGVkaXQsIHJ1biwgYW5kIHNoYXJlIHRoaXMgY29kZS4gXG4gKiBwbGF5LmtvdGxpbmxhbmcub3JnIFxuICovXG5cbmFic3RyYWN0IGNsYXNzIEV4YW1wbGVDbGFzcyB7XG4gICAgYWJzdHJhY3QgdmFsIGZvbzogSW50XG4gICAgaW5pdCB7XG4gICAgICAgIHByaW50bG4oXCJIZXJlIGlzIGZvbyB0aW1lcyAyITogJHtmb28gKiAyfVwiKVxuICAgIH1cbn1cblxuY2xhc3MgQ2hpbGRDbGFzcyA6IEV4YW1wbGVDbGFzcygpIHtcbiAgICBvdmVycmlkZSB2YWwgZm9vXG4gICAgZ2V0KCkgPSA1XG59XG5cbmZ1biBtYWluKCkge1xuICAgIHZhbCB0ZXN0ID0gQ2hpbGRDbGFzcygpXG59In0=\" rel=\"nofollow noreferrer\">here</a> and with a mutable <a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjUwIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsImpzQ29kZSI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiYWJzdHJhY3QgY2xhc3MgRXhhbXBsZUNsYXNzIHtcbiAgICBhYnN0cmFjdCB2YWwgZm9vOiBMaXN0PEludD5cbiAgICBpbml0IHtcbiAgICAgICAgZm9vLmZvckVhY2gge1xuICAgICAgICAgICAgcHJpbnRsbihcIkhlcmUgaXMgZm9vIHRpbWVzIDIhOiAke2l0ICogMn1cIilcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQ2hpbGRDbGFzcyA6IEV4YW1wbGVDbGFzcygpIHtcbiAgICBwcml2YXRlIHZhbCBteU11dGFibGVMaXN0OiBNdXRhYmxlTGlzdDxJbnQ+PyA9IG11dGFibGVMaXN0T2YoNSwgNCwgMywgMiwgMSlcbiAgICBvdmVycmlkZSB2YWwgZm9vXG4gICAgICAgIGdldCgpID0gbXlNdXRhYmxlTGlzdD86bGlzdE9mKDUsIDQsIDMsIDIsIDEpXG59XG5cbmZ1biBtYWluKCkge1xuICAgIHZhbCB0ZXN0ID0gQ2hpbGRDbGFzcygpXG59In0=\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 771, "user_id": 11268550, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-evYZvlqxjGg/AAAAAAAAAAI/AAAAAAAAAS8/2GAma8xFqDE/photo.jpg?sz=128", "display_name": "JCamacho", "link": "https://stackoverflow.com/users/11268550/jcamacho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 58594858, "answer_count": 2, "score": 0, "last_activity_date": 1572285273, "creation_date": 1572279009, "last_edit_date": 1572282333, "question_id": 58594453, "link": "https://stackoverflow.com/questions/58594453/can-abstract-class-do-work-after-child-class-init", "title": "Can Abstract Class Do Work After Child Class Init?", "body": "<p>The classes I'm using are more complicated than this but I think this arbitrary example would work just as well. Let's say I have a base abstract class that always wants to multiply one of its Int members, foo, by 2. It doesn't really care what the value is, as long as it's an Int. Also, let's say we don't care when this multiplication happens, as long as it happens around constructor time. Lastly, foo isn't allowed to be passed in as a constructor parameter. It needs to be a class member overridden by a child class.</p>\n\n<pre><code>abstract class ExampleClass {\n    abstract val foo: Int\n    init {\n        println(\"Here is foo times 2!: ${foo * 2}\")\n    }\n}\n\nclass ChildClass : ExampleClass() {\n    override val foo = 5\n}\n</code></pre>\n\n<p>This won't work, obviously. Parent classes get constructed first so an error would be thrown at runtime because the member wouldn't be instantiated yet. But with my conditions, I don't mind if the work with foo happens after the child class gets instantiated. <strong>Is there a way for the parent class to say \"do this once my child is done instantiating\"?</strong> Or do I just need to concede to the compromise:</p>\n\n<pre><code>abstract class ExampleClass {\n    abstract val foo: Int\n    fun bar() {\n        println(\"Here is foo times 2!: ${foo * 2}\")\n    }\n}\n\nclass ChildClass : ExampleClass() {\n    override val foo = 5\n    init {\n       bar()\n    }\n}\n</code></pre>\n\n<p>And have all my child classes call <code>bar()</code> on init? It feels wrong to do it this way since the work done with foo would only happen once.</p>\n"}, {"tags": ["android", "image-processing", "kotlin", "drawimage", "android-jetpack-compose"], "comments": [{"owner": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "edited": false, "score": 0, "creation_date": 1572279386, "post_id": 58594262, "comment_id": 103502026, "body": "I don&#39;t think this is supported yet. Do not forget that Compose is still in dev preview."}, {"owner": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "edited": false, "score": 0, "creation_date": 1572444212, "post_id": 58594262, "comment_id": 103561721, "body": "You have to go old school and load the image yourself, take a look at: <a href=\"https://developer.android.com/reference/android/graphics/drawable/Drawable#createFromStream(java.io.InputStream,%2520java.lang.String)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/graphics/drawable/&hellip;</a> :-)"}, {"owner": {"reputation": 199, "user_id": 3243734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7df136037b82f8623a97424e3c466c?s=128&d=identicon&r=PG&f=1", "display_name": "Anh Vu", "link": "https://stackoverflow.com/users/3243734/anh-vu"}, "edited": false, "score": 0, "creation_date": 1611215538, "post_id": 58594262, "comment_id": 116379884, "body": "You can check out the gist: <a href=\"https://gist.github.com/anhvt52/bf9ee4a953f3421cbdbdd863650f10e8\" rel=\"nofollow noreferrer\">gist.github.com/anhvt52/bf9ee4a953f3421cbdbdd863650f10e8</a>"}], "answers": [{"tags": [], "owner": {"reputation": 372, "user_id": 2344248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b11c8cdf4dd23e6212bb33941477dae?s=128&d=identicon&r=PG", "display_name": "Ranjeet", "link": "https://stackoverflow.com/users/2344248/ranjeet"}, "is_accepted": false, "score": 0, "last_activity_date": 1578480842, "last_edit_date": 1578480842, "creation_date": 1578477626, "answer_id": 59643420, "question_id": 58594262, "link": "https://stackoverflow.com/questions/58594262/how-do-i-load-url-into-image-into-drawimage-in-compose-ui-android-jetpack/59643420#59643420", "title": "How do I load url into Image into DrawImage in Compose UI Android Jetpack?", "body": "<p>Its support is still not added in Jetpack compose for some reason. But for the time being, you can use, this class </p>\n\n<p><a href=\"https://gist.github.com/nglauber/8a3c39db47813483d788fb2914f0f21f#file-image-kt\" rel=\"nofollow noreferrer\">https://gist.github.com/nglauber/8a3c39db47813483d788fb2914f0f21f#file-image-kt</a></p>\n\n<p>To use it, you need to invoke it this way :</p>\n\n<pre><code>Image(\n  &lt;your image url&gt;,\n  144.dp,\n  96.dp\n  )\n}\n</code></pre>\n\n<p>You can check here to see how I used it.\n<a href=\"https://github.com/ranjeetsinha13/gobble/blob/f8d9bca4b010adf5b4aa59cc6e56f8612ee1de09/app/src/main/java/com/rs/gobble/ui/fragments/SearchFragment.kt#L120\" rel=\"nofollow noreferrer\">https://github.com/ranjeetsinha13/gobble/blob/f8d9bca4b010adf5b4aa59cc6e56f8612ee1de09/app/src/main/java/com/rs/gobble/ui/fragments/SearchFragment.kt#L120</a></p>\n"}, {"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1614506494, "post_id": 61412018, "comment_id": 117401415, "body": "This is outdated and can no longer be used."}], "tags": [], "owner": {"reputation": 4825, "user_id": 1517335, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/933dda1e1b4051f3968f7b458af9a28d?s=128&d=identicon&r=PG", "display_name": "bviale", "link": "https://stackoverflow.com/users/1517335/bviale"}, "is_accepted": false, "score": 6, "last_activity_date": 1587742454, "creation_date": 1587742454, "answer_id": 61412018, "question_id": 58594262, "link": "https://stackoverflow.com/questions/58594262/how-do-i-load-url-into-image-into-drawimage-in-compose-ui-android-jetpack/61412018#61412018", "title": "How do I load url into Image into DrawImage in Compose UI Android Jetpack?", "body": "<p>A solution loading a Bitmap from the url and using the <a href=\"https://developer.android.com/reference/kotlin/androidx/ui/graphics/package-summary#asimageasset\" rel=\"noreferrer\">asImageAsset()</a> Bitmap extension method :</p>\n\n<pre><code>@Composable\nfun loadPicture(url: String): UiState&lt;Bitmap&gt; {\n    var bitmapState: UiState&lt;Bitmap&gt; by state&lt;UiState&lt;Bitmap&gt;&gt; { UiState.Loading }\n\n    Glide.with(ContextAmbient.current)\n        .asBitmap()\n        .load(url)\n        .into(object : CustomTarget&lt;Bitmap&gt;() {\n            override fun onResourceReady(resource: Bitmap, transition: Transition&lt;in Bitmap&gt;?) {\n                bitmapState = UiState.Success(resource)\n            }\n\n            override fun onLoadCleared(placeholder: Drawable?) { }\n        })\n\n    return bitmapState\n}\n</code></pre>\n\n<p>Use the function with your Image() like this :</p>\n\n<pre><code>val loadPictureState = loadPicture(url)\nif (loadPictureState is UiState.Success&lt;Bitmap&gt;)\n    Image(loadPictureState.data.asImageAsset())\nelse\n    Text(\"Loading...\")\n</code></pre>\n\n<p>This snippet is using the <a href=\"https://github.com/bumptech/glide\" rel=\"noreferrer\">Glide</a> library and the <a href=\"https://github.com/android/compose-samples/blob/master/JetNews/app/src/main/java/com/example/jetnews/ui/state/UiState.kt\" rel=\"noreferrer\">UiState</a> helper function from the <a href=\"https://github.com/android/compose-samples/tree/master/JetNews\" rel=\"noreferrer\">JetNews</a> official Google sample for Jetpack Compose</p>\n"}, {"tags": [], "owner": {"reputation": 394, "user_id": 3502856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4XLYZ.jpg?s=128&g=1", "display_name": "Kaaveh Mohamedi", "link": "https://stackoverflow.com/users/3502856/kaaveh-mohamedi"}, "is_accepted": false, "score": 0, "last_activity_date": 1603729166, "creation_date": 1603729166, "answer_id": 64541015, "question_id": 58594262, "link": "https://stackoverflow.com/questions/58594262/how-do-i-load-url-into-image-into-drawimage-in-compose-ui-android-jetpack/64541015#64541015", "title": "How do I load url into Image into DrawImage in Compose UI Android Jetpack?", "body": "<p>You can use <a href=\"https://github.com/mvarnagiris/compose-glide-image\" rel=\"nofollow noreferrer\">this repo</a> that wraps around Glide and can easily use in Composable <code>fun</code>s</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4886485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89c9aeacc3410ad865c91b094bbc2e1b?s=128&d=identicon&r=PG&f=1", "display_name": "thedjdoorn", "link": "https://stackoverflow.com/users/4886485/thedjdoorn"}, "is_accepted": false, "score": 1, "last_activity_date": 1604074875, "creation_date": 1604074875, "answer_id": 64612128, "question_id": 58594262, "link": "https://stackoverflow.com/questions/58594262/how-do-i-load-url-into-image-into-drawimage-in-compose-ui-android-jetpack/64612128#64612128", "title": "How do I load url into Image into DrawImage in Compose UI Android Jetpack?", "body": "<p>You can use <code>remember</code> to watch a bitmap, then fetch it using Glide and update it as soon as you got it.</p>\n<pre><code>var bitmap by remember { mutableStateOf&lt;Bitmap?&gt;(null)}\n\nGlide.with(ContextAmbient.current).asBitmap()\n    .load(&quot;https://picsum.photos/200/300&quot;)\n    .into(object : CustomTarget&lt;Bitmap&gt;() {\n        override fun onResourceReady(resource: Bitmap, transition: Transition&lt;in Bitmap&gt;?) {\n             bitmap = resource\n          }\n\n          override fun onLoadCleared(placeholder: Drawable?) {}\n      })\n</code></pre>\n<p>You can then use it like this:</p>\n<pre><code>\nif (bitmap != null )\n    Image(bitmap!!.asImageAsset(), Modifier.fillMaxWidth())\nelse\n    Text(&quot;Loading Image...&quot;)\n</code></pre>\n<p>(This is a modern version of <a href=\"https://stackoverflow.com/a/61412018/4886485\">bviale's answer</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 4962, "user_id": 4098495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YC55Q.jpg?s=128&g=1", "display_name": "Alt-Cat", "link": "https://stackoverflow.com/users/4098495/alt-cat"}, "is_accepted": false, "score": 1, "last_activity_date": 1611071429, "last_edit_date": 1611071429, "creation_date": 1611070824, "answer_id": 65794719, "question_id": 58594262, "link": "https://stackoverflow.com/questions/58594262/how-do-i-load-url-into-image-into-drawimage-in-compose-ui-android-jetpack/65794719#65794719", "title": "How do I load url into Image into DrawImage in Compose UI Android Jetpack?", "body": "<p>Check out <a href=\"https://chrisbanes.github.io/accompanist/glide/\" rel=\"nofollow noreferrer\">https://chrisbanes.github.io/accompanist/glide/</a> or the Coil equivalent, which is used in the Crane sample Compose project, available through Android Studio -&gt; Import an Android Code Sample</p>\n<p>It provides GlideImage for a composable Glide image.</p>\n<pre><code>GlideImage(data = &quot;https://picsum.photos/300/300&quot;)\n</code></pre>\n<p>(Dependancy for Coil in Crane project\n<a href=\"https://github.com/android/compose-samples/blob/master/Crane/buildSrc/src/main/java/com/example/crane/buildsrc/Dependencies.kt\" rel=\"nofollow noreferrer\">https://github.com/android/compose-samples/blob/master/Crane/buildSrc/src/main/java/com/example/crane/buildsrc/Dependencies.kt</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 562, "user_id": 688450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a91f508e8624378643de670594e1ec5?s=128&d=identicon&r=PG&f=1", "display_name": "araut", "link": "https://stackoverflow.com/users/688450/araut"}, "is_accepted": false, "score": 2, "last_activity_date": 1614760879, "creation_date": 1614760879, "answer_id": 66453476, "question_id": 58594262, "link": "https://stackoverflow.com/questions/58594262/how-do-i-load-url-into-image-into-drawimage-in-compose-ui-android-jetpack/66453476#66453476", "title": "How do I load url into Image into DrawImage in Compose UI Android Jetpack?", "body": "<p>After Jetpack's beta release, using <a href=\"https://github.com/chrisbanes/accompanist\" rel=\"nofollow noreferrer\">accompanist</a> - Utils library for Jetpack Compose is the cleanest way for the above-mentioned use case.</p>\n"}, {"tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 1, "last_activity_date": 1616055815, "creation_date": 1616055815, "answer_id": 66687230, "question_id": 58594262, "link": "https://stackoverflow.com/questions/58594262/how-do-i-load-url-into-image-into-drawimage-in-compose-ui-android-jetpack/66687230#66687230", "title": "How do I load url into Image into DrawImage in Compose UI Android Jetpack?", "body": "<p>With <code>1.0.0-beta02</code> the best way to achieve it is to use the <a href=\"https://github.com/google/accompanist/tree/main/glide\" rel=\"nofollow noreferrer\">Accompanist</a> library available on the google repo on github.</p>\n<blockquote>\n<p>Accompanist is a group of libraries which aim to supplement Jetpack Compose with features which are commonly required by developers, but not yet available.</p>\n</blockquote>\n<p><a href=\"https://github.com/google/accompanist/tree/main/glide\" rel=\"nofollow noreferrer\"><strong>Accompanist-glide</strong></a> is currently the best solution for Glide for Jetpack Compose.</p>\n<p>Add in your <code>build.gradle</code> the dependency</p>\n<pre><code>repositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation &quot;com.google.accompanist:accompanist-glide:&lt;version&gt;&quot;\n}\n</code></pre>\n<p>Then just use:</p>\n<pre><code>GlideImage(\n    data = &quot;your url&quot;,\n    contentDescription = &quot;My content description&quot;,\n)\n</code></pre>\n<p>This loads the <code>data</code> passed in with <code>Glide</code>, and then displays the resulting image using the standard <code>Image</code> composable.</p>\n"}], "owner": {"reputation": 129, "user_id": 11355158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a1b6d8263a70b52dbe461af1b12f506?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Hartanto", "link": "https://stackoverflow.com/users/11355158/adrian-hartanto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4981, "favorite_count": 5, "answer_count": 7, "score": 10, "last_activity_date": 1616055815, "creation_date": 1572278355, "last_edit_date": 1572281026, "question_id": 58594262, "link": "https://stackoverflow.com/questions/58594262/how-do-i-load-url-into-image-into-drawimage-in-compose-ui-android-jetpack", "title": "How do I load url into Image into DrawImage in Compose UI Android Jetpack?", "body": "<p>I can use \n<code>val image = +imageResource(R.drawable.header)</code>\nand use <code>DrawImage(image)</code> to load image from Drawable Resource, </p>\n\n<p>But how do I load a string url into the <code>DrawImage(image)</code>?. I've tried using Glide, but it needs to load into imageView. meanwhile <code>DrawImage(image)</code> doesn't take input from imageView.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["kotlin", "jvm", "coroutine", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 0, "creation_date": 1572280723, "post_id": 58594568, "comment_id": 103502693, "body": "Accepted because it answers the basic question.  Now, I imagined to keep processing events instead of just once.  I could put this in a <code>do { ...} while (result != null)</code> loop, but is that the way to go?  It launches a new coroutine after each event is processed, so not sure if there&#39;s no unnecessary overhead there."}, {"owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 0, "creation_date": 1572281094, "post_id": 58594568, "comment_id": 103502876, "body": "Also, <code>getKeyboardEvent</code> would be a suspending function in this case, right?"}, {"owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 0, "creation_date": 1572281813, "post_id": 58594568, "comment_id": 103503208, "body": "Actually, if that would be the case, the inner <code>while</code> loop wouldn&#39;t be necessary.  Did you have busy polling in mind when you gave that example?"}, {"owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 0, "creation_date": 1572282318, "post_id": 58594568, "comment_id": 103503448, "body": "To answer my first comment above myself: it seems coroutines are lightweight enough to launch a lot, accoring to <a href=\"https://kotlinlang.org/docs/reference/coroutines/basics.html#coroutines-are-light-weight\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/coroutines/&hellip;</a>"}, {"owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "reply_to_user": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 0, "creation_date": 1572335607, "post_id": 58594568, "comment_id": 103517896, "body": "@herman 1) Launching coroutines is free lunch, as you found out yourself. 2) You have several possibilities to restart this timer, like: do/while, another coroutine which sends events into a channel: <a href=\"https://kotlinlang.org/docs/reference/coroutines/channels.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/coroutines/channels.html</a>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1572337019, "post_id": 58594568, "comment_id": 103518375, "body": "I would definitely recommend against busy-spinning like this. There&#39;s surely a way to get a keyboard event that uses callbacks and doesn&#39;t have to poll."}, {"owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1572470295, "post_id": 58594568, "comment_id": 103574520, "body": "@MarkoTopolnik indeed, I&#39;ll probably send events into the coroutine through a channel."}], "tags": [], "owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "is_accepted": true, "score": 0, "last_activity_date": 1572279335, "creation_date": 1572279335, "answer_id": 58594568, "question_id": 58593973, "link": "https://stackoverflow.com/questions/58593973/coroutine-that-waits-for-input-with-timeout/58594568#58594568", "title": "Coroutine that waits for input with timeout", "body": "<p>You can use <a href=\"https://kotlinlang.org/docs/reference/coroutines/cancellation-and-timeouts.html#timeout\" rel=\"nofollow noreferrer\">Kotlin' own timeout functionality</a>.</p>\n\n<pre><code>val result = withTimeoutOrNull(timeoutInMillis) {\n    var event = getKeybouardEvent()\n    while(event == null) {\n        event = getKeybouardEvent()\n     }\n    return event\n}\nif(result == null) doThis() else doThat()\n</code></pre>\n"}], "owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 58594568, "answer_count": 1, "score": 0, "last_activity_date": 1572279335, "creation_date": 1572277267, "question_id": 58593973, "link": "https://stackoverflow.com/questions/58593973/coroutine-that-waits-for-input-with-timeout", "title": "Coroutine that waits for input with timeout", "body": "<p>I'm new to coroutines, and I'm trying to understand if/how I can leverage them to do something like the following:</p>\n\n<ol>\n<li>start listening for events (for example, keyboard input)</li>\n<li>if an event arrives, react to it (do something)</li>\n<li>if no event arrives within n seconds, do something else</li>\n</ol>\n\n<p>I was thinking that I might need to make the timeout an event itself.  But I have a hard time wrapping my head around this stuff.  A simple example that performs the above would be very enlightening.</p>\n"}, {"tags": ["android", "kotlin", "android-activity"], "comments": [{"owner": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "edited": false, "score": 0, "creation_date": 1572275455, "post_id": 58593418, "comment_id": 103499909, "body": "Although your current way is not bad rather than using classes i always prefer to use extension functions if a piece code is to be used multiple times in my application"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1572275489, "post_id": 58593418, "comment_id": 103499926, "body": "Why not just pass <code>DrawerLayout</code> and <code>NavigationView</code> as constructor parameters directly?"}, {"owner": {"reputation": 1129, "user_id": 1191678, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/733e90c64bd48ebc0eb2e3e7c1d13592?s=128&d=identicon&r=PG&f=1", "display_name": "Navid Abutorab", "link": "https://stackoverflow.com/users/1191678/navid-abutorab"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1572276482, "post_id": 58593418, "comment_id": 103500487, "body": "@EpicPandaForce thansk for reply ,  I can do this , but is this a better way ?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1572276774, "post_id": 58593418, "comment_id": 103500643, "body": "Clearly a better way, because you can&#39;t really know if the Activity has those views or not."}], "answers": [{"tags": [], "owner": {"reputation": 299, "user_id": 12285897, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZUuvoOhgfJs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd5Qxnd5G30qS4ZyPSbNHcjzAc0AQ/photo.jpg?sz=128", "display_name": "Milan Kundacina", "link": "https://stackoverflow.com/users/12285897/milan-kundacina"}, "is_accepted": true, "score": 1, "last_activity_date": 1572276990, "creation_date": 1572276990, "answer_id": 58593897, "question_id": 58593418, "link": "https://stackoverflow.com/questions/58593418/kotlin-what-is-the-better-way-than-passing-activity-to-non-activity-classes/58593897#58593897", "title": "kotlin - what is the better way than passing activity to non_activity classes", "body": "<p>Passing reference of activity leads to possible crashes.\nThere is a better way. You can create <code>DrawerActivity</code> that extends <code>AppCompatActivity</code> and put most of this logic into it.\nThen when you have activity that uses drawer, you just extend <code>DrawerActivity</code> instead of <code>AppCompatActivity</code>.</p>\n\n<p>Make few abstract functions like</p>\n\n<pre><code>abstract fun getDrawerLayout(): DrawerLayout\nabstract fun getNavView(): NavView\n</code></pre>\n\n<p>That you will implement this methods in activity that extends your <code>DrawerActivity</code>.\nThis way you will have available all things that you need in you <code>DrawerActivity</code> to connect logic for drawer.</p>\n\n<p>Your function</p>\n\n<pre><code>fun makeDrawer() {\n    drawerLayout.openDrawer(Gravity.RIGHT)\n    nav_view.setNavigationItemSelectedListener(this)\n}\n</code></pre>\n\n<p>would now be</p>\n\n<pre><code>fun makeDrawer() {\n    getDrawer().openDrawer(Gravity.RIGHT)\n    getNavView().setNavigationItemSelectedListener(this)\n}\n</code></pre>\n\n<p>Other parts of class you can also replace.</p>\n"}], "owner": {"reputation": 1129, "user_id": 1191678, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/733e90c64bd48ebc0eb2e3e7c1d13592?s=128&d=identicon&r=PG&f=1", "display_name": "Navid Abutorab", "link": "https://stackoverflow.com/users/1191678/navid-abutorab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 58593897, "answer_count": 1, "score": 0, "last_activity_date": 1572276990, "creation_date": 1572275172, "question_id": 58593418, "link": "https://stackoverflow.com/questions/58593418/kotlin-what-is-the-better-way-than-passing-activity-to-non-activity-classes", "title": "kotlin - what is the better way than passing activity to non_activity classes", "body": "<p>I've written some classes for making and using some tools in my app , for example I've written a class for making drawer navigation and I use it in some of my activities . for preventing over using the same code, I've used a custom class and I just call it in my activity and pass the activity to it </p>\n\n<p>this is my code :</p>\n\n<pre><code>class Drawer(_activity: Activity) :NavigationView.OnNavigationItemSelectedListener  {\nprivate val activity:Activity\nprivate val drawerLayout: DrawerLayout\nprivate val nav_view:NavigationView\n\ninit{\n    activity=_activity\n    drawerLayout=activity.findViewById(R.id.drawer_layout)\n    nav_view=activity.findViewById(R.id.drawer_nav_view)\n}\n\nfun makeDrawer() {\n    drawerLayout.openDrawer(Gravity.RIGHT)\n    nav_view.setNavigationItemSelectedListener(this)\n}\n\noverride fun onNavigationItemSelected(item: MenuItem): Boolean {\n    when (item.itemId) {\n        R.id.drawer_home -&gt; {\n            Log.v(Constants.TAG,\"home clicked\")\n        }\n    }\n    closeDrawer()\n    return true\n}\n\nfun closeDrawer()=drawerLayout.closeDrawer(Gravity.RIGHT)\n</code></pre>\n\n<p>is it a good way to pass activity to non-activity classes to prevent over using some codes ? is there any alternative for that ? </p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 525, "user_id": 2731962, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d5043c11d6dc0160d4ab9632f704f48?s=128&d=identicon&r=PG&f=1", "display_name": "smdufb", "link": "https://stackoverflow.com/users/2731962/smdufb"}, "edited": false, "score": 0, "creation_date": 1572275613, "post_id": 58593306, "comment_id": 103500002, "body": "I&#39;m not waiting for any data. It is just a fire-and-forget database save. But when the user fires them in rapid succession, sometimes an old value gets saved after a new one and overwrites it (if I don&#39;t wait)."}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 1, "last_activity_date": 1572274798, "creation_date": 1572274798, "answer_id": 58593306, "question_id": 58593236, "link": "https://stackoverflow.com/questions/58593236/having-coroutine-wait-for-previous-calls/58593306#58593306", "title": "Having coroutine wait for previous calls", "body": "<p>Basically it's not wrong. Although I would recommend just to go imperatively just as you program outside of a coroutine. Saving the response in the variable would ensure that the next line won't execute until the response of the first:</p>\n\n<pre><code>scope.launch(someDispatcher){\n  val dataFromDelayingCode = getDelayingData()\n  if(delayingData.isFinished){\n\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 525, "user_id": 2731962, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d5043c11d6dc0160d4ab9632f704f48?s=128&d=identicon&r=PG&f=1", "display_name": "smdufb", "link": "https://stackoverflow.com/users/2731962/smdufb"}, "edited": false, "score": 0, "creation_date": 1572297019, "post_id": 58593860, "comment_id": 103509416, "body": "I will try and figure out actors and see if I can use them. Learned a lot from your answer already though, thanks. But one thing I do find curious is not using Dispatchers.IO for this, using it for suspending functions is all over googles android docs (for example for database and network calls)."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 525, "user_id": 2731962, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d5043c11d6dc0160d4ab9632f704f48?s=128&d=identicon&r=PG&f=1", "display_name": "smdufb", "link": "https://stackoverflow.com/users/2731962/smdufb"}, "edited": false, "score": 0, "creation_date": 1572336605, "post_id": 58593860, "comment_id": 103518228, "body": "Can you please point me to a link? There could be some detail there that I can notice and explain it. I hope the docs aren&#39;t flat-out wrong :)"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 525, "user_id": 2731962, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d5043c11d6dc0160d4ab9632f704f48?s=128&d=identicon&r=PG&f=1", "display_name": "smdufb", "link": "https://stackoverflow.com/users/2731962/smdufb"}, "edited": false, "score": 0, "creation_date": 1572340748, "post_id": 58593860, "comment_id": 103519927, "body": "I found <a href=\"https://medium.com/androiddevelopers/room-coroutines-422b786dc4c5\" rel=\"nofollow noreferrer\">this article</a>, for example. It says <code>Start using Room and coroutines in your app, the database work is guaranteed to be run on a non-UI Dispatcher.</code> That sounds like a) the database impl is still blocking code, but b) they automatically transfer it to a background thread, so no need to explicitly switch to <code>Dispatchers.IO</code>. I saw the usage of <code>Dispatchers.IO</code> in the docs as well, and honestly i think the examples are wrong (maybe they made sense before but it changed in the meantime)."}, {"owner": {"reputation": 525, "user_id": 2731962, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d5043c11d6dc0160d4ab9632f704f48?s=128&d=identicon&r=PG&f=1", "display_name": "smdufb", "link": "https://stackoverflow.com/users/2731962/smdufb"}, "edited": false, "score": 0, "creation_date": 1572364854, "post_id": 58593860, "comment_id": 103532704, "body": "That article is wrong though. If you start a blocking room call on the UI thread the app crashes with this error: <code>java.lang.IllegalStateException: Cannot access database on the main thread since it may potentially lock the UI for a long period of time.</code> This is mentioned <a href=\"https://developer.android.com/training/data-storage/room/accessing-data\" rel=\"nofollow noreferrer\">here in the docs</a> (at the top in the second highlighted box). But isn&#39;t <code>Dispatchers.IO</code> exactly made for this kind of thing?That is, waiting for disk/network responses?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 525, "user_id": 2731962, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d5043c11d6dc0160d4ab9632f704f48?s=128&d=identicon&r=PG&f=1", "display_name": "smdufb", "link": "https://stackoverflow.com/users/2731962/smdufb"}, "edited": false, "score": 0, "creation_date": 1572365127, "post_id": 58593860, "comment_id": 103532839, "body": "The article isn&#39;t wrong, it describes this scenario: <code>Asynchronous queries\u2014queries that return instances of LiveData or Flowable\u2014are exempt from this rule because they asynchronously run the query on a background thread when needed.</code>. As of version 2.1 Room added a <code>suspend fun</code> layer on top of these async calls. Yes, <code>Dispatchers.IO</code> is made for blocking calls, however Room already has its own dispatchers and will automatically use them when you use its coroutine support."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 3, "last_activity_date": 1572276868, "creation_date": 1572276868, "answer_id": 58593860, "question_id": 58593236, "link": "https://stackoverflow.com/questions/58593236/having-coroutine-wait-for-previous-calls/58593860#58593860", "title": "Having coroutine wait for previous calls", "body": "<p>Keep in mind that the <code>launch</code>ed code is concurrent to the code outside it. That means that what you wrote has a race condition: the outside code may have already assigned the new job to <code>saveJob</code> when you try to <code>join()</code> it, resulting in a deadlock.</p>\n\n<p>I guess what you want is to trigger a <code>save</code> operation in the background, and the operation itself will pull all the data to save from somewhere else. You probably don't want a queue of <code>save</code> jobs, just ensure that everything is saved at the point you call <code>save()</code>. If you called <code>save</code> a bit earlier and a new save job hasn't yet started, those two calls can be coalesced into a single <code>save</code> operation.</p>\n\n<p>Furthermore, you say that you have a <em>suspending</em> database operation. Suspending code doesn't belong in the <code>IO</code> dispatcher, which is there only if you have to perform many <em>blocking</em> operations concurrently.</p>\n\n<p>All told I'd suggest using an actor:</p>\n\n<pre><code>val actor = someScope.actor&lt;Unit&gt;(capacity = CONFLATED) {\n    // suspending database operation\n}\n\nfun save() = someScope.launch {\n    actor.send(Unit)\n}\n</code></pre>\n"}], "owner": {"reputation": 525, "user_id": 2731962, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d5043c11d6dc0160d4ab9632f704f48?s=128&d=identicon&r=PG&f=1", "display_name": "smdufb", "link": "https://stackoverflow.com/users/2731962/smdufb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 58593860, "answer_count": 2, "score": 3, "last_activity_date": 1572276868, "creation_date": 1572274588, "question_id": 58593236, "link": "https://stackoverflow.com/questions/58593236/having-coroutine-wait-for-previous-calls", "title": "Having coroutine wait for previous calls", "body": "<p>I still haven't fully grasped Kotlin coroutines yet.</p>\n\n<p>Basically I want a coroutine to wait for any previous calls to finish before executing. The following code seems to work. But is it doing what I think it's doing?</p>\n\n<pre><code>private var saveJob: Job? = null\n\nfun save() {\n    saveJob = someScope.launch {\n        saveJob?.join()\n        withContext(Dispatchers.IO) {\n            // suspending database operation\n        }\n    }\n}\n</code></pre>\n\n<p>As far as I can tell, the code is doing what I want. But is it?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 10002776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aznCc.jpg?s=128&g=1", "display_name": "Bonestack", "link": "https://stackoverflow.com/users/10002776/bonestack"}, "is_accepted": false, "score": 0, "last_activity_date": 1572375832, "creation_date": 1572375832, "answer_id": 58613871, "question_id": 58593064, "link": "https://stackoverflow.com/questions/58593064/not-able-to-inject-a-class-using-subcomponent-in-dagger-2/58613871#58613871", "title": "Not able to inject a class using SubComponent in Dagger 2", "body": "<p>The Injection is working, but you are injecting nothing inside SingleClickDialog class, remember than the method inject(class : Class) is for let it to know dagger that class will be injected, but you need to put the elements you need inject inside that class with the annotation @Inject, and those elements you need to add its provider in ControllerModule as well</p>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 1, "last_activity_date": 1572534319, "creation_date": 1572534319, "answer_id": 58646250, "question_id": 58593064, "link": "https://stackoverflow.com/questions/58593064/not-able-to-inject-a-class-using-subcomponent-in-dagger-2/58646250#58646250", "title": "Not able to inject a class using SubComponent in Dagger 2", "body": "<p>To use field injection on a given class, you need to specify the concrete type rather than its superclass.</p>\n\n<pre><code>@UIScope\n@Subcomponent(modules = [ControllerModule::class])\ninterface ControllerComponent {\n\n    //fun injectActivity(activity: BaseActivity)\n\n    //fun injectDialog(dialog: BaseDialog)\n\n    fun inject(activity: SomeSpecificActivity)\n\n    fun inject(activity: SomeOtherActivity)\n\n    fun inject(dialog: SomeSpecificDialog)\n\n    fun inject(dialog: SomeOtherDialog)\n}\n</code></pre>\n"}], "owner": {"reputation": 1243, "user_id": 2244137, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/ce648cbb037edf0eeeb5e169ff5e9771?s=128&d=identicon&r=PG&f=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/2244137/ari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572534319, "creation_date": 1572273986, "question_id": 58593064, "link": "https://stackoverflow.com/questions/58593064/not-able-to-inject-a-class-using-subcomponent-in-dagger-2", "title": "Not able to inject a class using SubComponent in Dagger 2", "body": "<p>I'm trying to add Dagger 2 in one project. I have created 3 components</p>\n\n<pre><code>AppComponent (the primary one)\nRetrofitComponent (Dependent component works fine)\nControllerComponent (Subcomponent, not injecting properly)\n</code></pre>\n\n<p>this is my AppComponent</p>\n\n<pre><code>@ApplicationScope\n@Component(modules = [ApplicationModule::class, PrefModule::class])\ninterface AppComponent {\n\nfun inject(instance: AppInstance)\n\nfun getAppPref(): AppPreference\n\nfun newControllerComponent(controllerModule: ControllerModule): ControllerComponent\n}\n</code></pre>\n\n<p>this is my ControllerComponent</p>\n\n<pre><code>@UIScope\n@Subcomponent(modules = [ControllerModule::class])\ninterface ControllerComponent {\n\nfun injectActivity(activity: BaseActivity)\n\nfun injectDialog(dialog: BaseDialog)\n}\n</code></pre>\n\n<p>ControllerModule</p>\n\n<pre><code>@Module\nclass ControllerModule(activity: FragmentActivity) {\nvar mActivity: FragmentActivity\n\ninit {\n    mActivity = activity\n}\n\n@Provides\nfun getContext(): Context {\n    return mActivity\n}\n\n@Provides\nfun getActivity(): Activity {\n    return mActivity\n}\n\n@Provides\nfun getFragmentManager(): FragmentManager {\n    return mActivity.supportFragmentManager\n}\n\n@Provides\nfun getDialogManager(fragmentManager: FragmentManager): DialogsManager \n{\n    return DialogsManager(fragmentManager)\n}\n\n@Provides\nfun getDialogsFactory(): DialogsFactory {\n    return DialogsFactory()\n}\n\n}\n</code></pre>\n\n<p>Injecting the activity is working fine, but when I try to inject the Dialog its never injecting</p>\n\n<pre><code> controller.injectDialog(singleDialog)\n</code></pre>\n\n<p>My entire code is here <a href=\"https://github.com/Aritra1704/SurveyX2\" rel=\"nofollow noreferrer\">Github link</a>. Need some help. What am I not doing or doing wrong that I can't inject from subcomponent.</p>\n"}, {"tags": ["android", "kotlin", "realm", "realm-list", "kotlinx.serialization"], "comments": [{"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 1, "creation_date": 1572275056, "post_id": 58593010, "comment_id": 103499683, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39249785/realmlist-serialization-issues-realm-gson-intent\">RealmList serialization issues (Realm/Gson/Intent)</a>"}, {"owner": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "edited": false, "score": 0, "creation_date": 1572275069, "post_id": 58593010, "comment_id": 103499691, "body": "You should take a look a this link: <a href=\"https://github.com/Kotlin/kotlinx.serialization/issues/337\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.serialization/issues/337</a>"}, {"owner": {"reputation": 1408, "user_id": 3922262, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18f21a65cadb11d56a44f6d54a176a8d?s=128&d=identicon&r=PG&f=1", "display_name": "saintjab", "link": "https://stackoverflow.com/users/3922262/saintjab"}, "reply_to_user": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 0, "creation_date": 1572277934, "post_id": 58593010, "comment_id": 103501263, "body": "@StanislavBondar that was on using Gson, am using Kotlin Serialization, I don&#39;t think its duplicate."}], "answers": [{"tags": [], "owner": {"reputation": 438, "user_id": 10456628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d20306bfd70476c031de0ae599e2c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Shorxy", "link": "https://stackoverflow.com/users/10456628/shorxy"}, "is_accepted": false, "score": 1, "last_activity_date": 1605540383, "last_edit_date": 1605540383, "creation_date": 1605539945, "answer_id": 64860658, "question_id": 58593010, "link": "https://stackoverflow.com/questions/58593010/kotlin-serialization-serializer-for-reamlist-and-list/64860658#64860658", "title": "Kotlin serialization serializer for ReamList and List", "body": "<p>You have to build a custom RealmListSerializer in order to make it work.</p>\n<p>Under the current version 1.0.1 of kotlinx.serialization there is no ListSerializer you might extend from.\nThis means you have to build your own one from scratch.</p>\n<p>Luckily some sort of ListSerializer exists in the library, but it is marked as internal and thus not accessible to you in code.\nNevertheless I was able to write a serializer based on the ones found in the library. Everything is based off of <code>ArrayListSerializer</code> and its parent classes.</p>\n<p>CAUTION! These classes are marked as experimental. It is very likely that their implementation may change, which will break all behaviour. Errors are to be expected.</p>\n<p>The classes copied from are <code>ArrayListSerializer</code>, <code>ListLikeSerializer</code>, <code>AbstractCollectionSerializer</code> in package <code>kotlinx.serialization.internal.CollectionSerializer.kt</code> and <code>ArrayClassDesc</code>, <code>ListLikeDescriptor</code> in package <code>kotlinx.serialization.internal.CollectionDescriptors.kt</code>.</p>\n<p>Here is the code: <code>RealmListSerializer.kt</code></p>\n<pre><code>    import io.realm.RealmList\nimport kotlinx.serialization.KSerializer\nimport kotlinx.serialization.Serializer\nimport kotlinx.serialization.descriptors.SerialDescriptor\nimport kotlinx.serialization.descriptors.SerialKind\nimport kotlinx.serialization.descriptors.StructureKind\nimport kotlinx.serialization.encoding.CompositeDecoder\nimport kotlinx.serialization.encoding.Decoder\nimport kotlinx.serialization.encoding.Encoder\n\n@Serializer(forClass = RealmList::class)\nclass RealmListSerializer&lt;E&gt;(private val dataSerializer : KSerializer&lt;E&gt;) : KSerializer&lt;RealmList&lt;E&gt;&gt; {\n    fun builder(): ArrayList&lt;E&gt; = arrayListOf()\n    private fun ArrayList&lt;E&gt;.toResult() : RealmList&lt;E&gt; {\n        val realmList = RealmList&lt;E&gt;()\n        for (i in this) {\n            realmList.add(i)\n        }\n        return realmList\n    }\n\n    private fun merge(decoder: Decoder): RealmList&lt;E&gt; {\n        val builder = builder()\n        val startIndex = builder.size\n        val compositeDecoder = decoder.beginStructure(descriptor)\n        if (compositeDecoder.decodeSequentially()) {\n            readAll(compositeDecoder, builder, startIndex, readSize(compositeDecoder, builder))\n        } else {\n            while (true) {\n                val index = compositeDecoder.decodeElementIndex(descriptor)\n                if (index == CompositeDecoder.DECODE_DONE) break\n                readElement(compositeDecoder, startIndex + index, builder)\n            }\n        }\n        compositeDecoder.endStructure(descriptor)\n        return builder.toResult()\n    }\n\n    override val descriptor : SerialDescriptor = RealmListDescriptor(dataSerializer.descriptor)\n\n    override fun serialize(encoder : Encoder, value : RealmList&lt;E&gt;) {\n        val size = value.size\n        val composite = encoder.beginCollection(descriptor, size)\n        val iterator = value.iterator()\n        for (index in 0 until size)\n            composite.encodeSerializableElement(descriptor, index, dataSerializer, iterator.next())\n        composite.endStructure(descriptor)\n    }\n\n    override fun deserialize(decoder : Decoder) : RealmList&lt;E&gt; = merge(decoder)\n\n    private fun readSize(decoder: CompositeDecoder, builder: ArrayList&lt;E&gt;): Int {\n        val size = decoder.decodeCollectionSize(descriptor)\n        builder.ensureCapacity(size)\n        return size\n    }\n\n    private fun readElement(decoder: CompositeDecoder, index: Int, builder: ArrayList&lt;E&gt;, checkIndex: Boolean = true) {\n        builder.add(index, decoder.decodeSerializableElement(descriptor, index, dataSerializer))\n    }\n    private fun readAll(decoder: CompositeDecoder, builder: ArrayList&lt;E&gt;, startIndex: Int, size: Int) {\n        require(size &gt;= 0) { &quot;Size must be known in advance when using READ_ALL&quot; }\n        for (index in 0 until size)\n            readElement(decoder, startIndex + index, builder, checkIndex = false)\n    }\n}\n\nclass RealmListDescriptor(private val elementDescriptor : SerialDescriptor) : SerialDescriptor {\n    override val kind: SerialKind get() = StructureKind.LIST\n    override val elementsCount: Int = 1\n\n    override fun getElementName(index: Int): String = index.toString()\n    override fun getElementIndex(name: String): Int =\n        name.toIntOrNull() ?: throw IllegalArgumentException(&quot;$name is not a valid list index&quot;)\n\n    override fun isElementOptional(index: Int): Boolean {\n        require(index &gt;= 0) { &quot;Illegal index $index, $serialName expects only non-negative indices&quot;}\n        return false\n    }\n\n    override fun getElementAnnotations(index: Int): List&lt;Annotation&gt; {\n        require(index &gt;= 0) { &quot;Illegal index $index, $serialName expects only non-negative indices&quot;}\n        return emptyList()\n    }\n\n    override fun getElementDescriptor(index: Int): SerialDescriptor {\n        require(index &gt;= 0) { &quot;Illegal index $index, $serialName expects only non-negative indices&quot;}\n        return elementDescriptor\n    }\n\n    override val serialName : String\n        get() = &quot;RealmListSerializer&quot;\n\n}\n</code></pre>\n<p>Afterwards you can use this class inside your <code>RealmObject</code> classes like this:</p>\n<pre><code>@Serializable\nopen class Person(\n   \n    @PrimaryKey var id: Long = 0,\n    var name: String = &quot;&quot;,\n    var age: Int = 0,\n@Serializable(with = RealmListSerializer::class)\n    var dogs: RealmList&lt;Dog&gt; = RealmList()\n): RealmObject()\n</code></pre>\n<p>Alternatively if you use a lot of <code>RealmList</code>s inside one of your <code>RealmObejct</code>s you can apply this (and other serializers) to the whole file.</p>\n<pre><code>@file:UseSerializers(RealmListSerializer::class)\n</code></pre>\n<p>Again, please use with caution. The classes this is created from are still experimental and may change at any time without notice.</p>\n"}], "owner": {"reputation": 1408, "user_id": 3922262, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18f21a65cadb11d56a44f6d54a176a8d?s=128&d=identicon&r=PG&f=1", "display_name": "saintjab", "link": "https://stackoverflow.com/users/3922262/saintjab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1605540383, "creation_date": 1572273822, "last_edit_date": 1605539570, "question_id": 58593010, "link": "https://stackoverflow.com/questions/58593010/kotlin-serialization-serializer-for-reamlist-and-list", "title": "Kotlin serialization serializer for ReamList and List", "body": "<p>I just tried to use Kotlin serialization library to replace Gson however I am having issues using it for RealmList in my model. Any help will be appreciated. Am getting error \n<code>kotlinx.serialization.SerializationException: Can't locate argument-less serializer for class io.realm.RealmList</code></p>\n\n<p>I have my data class like this</p>\n\n<pre><code>data class Person(\nvar name: String = \"\", \nvar social : RealmList&lt;Social&gt; = null, \nvar id: String = \"\") \n</code></pre>\n\n<p>and my social data class is </p>\n\n<pre><code>data class Social(\nvar name: String = \"\", \nvar category : String = \"\", \nvar id: String = \"\")\n</code></pre>\n\n<p>and this is my retrofit builder</p>\n\n<pre><code>fun provideRetrofit(okHttpClient: OkHttpClient, urlProvider :\n    URLProvider): Retrofit {\n    val contentType = MediaType.get(\"application/json\")\n    return Retrofit.Builder()\n        .baseUrl(urlProvider.getApiBaseUrl()!!)\n        .addConverterFactory(Json.asConverterFactory(contentType))\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        .client(okHttpClient)\n        .build()\n}\n</code></pre>\n\n<p>am using Retrofit adapter specific for Kotlin serialisation\nand my retrofit call</p>\n\n<pre><code>override fun loadPersons(): Single&lt;Person&gt; {\n    return communicationContext.personApi\n        .getPersonsObservable()\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .doOnError {\n            Log.e(TAG, \"Load error $it\")\n        }\n        .doOnSuccess {\n            Log.e(TAG, \"Success size ${it.size}\")\n        }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding", "android-mvvm"], "comments": [{"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 1, "creation_date": 1572274818, "post_id": 58592708, "comment_id": 103499568, "body": "Use <code>binding.lifecycleOwner = viewLifecycleOwner</code> to let view handle runtime changes of <code>LiveData</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1596, "user_id": 7014629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NhOwb.jpg?s=128&g=1", "display_name": "Networks", "link": "https://stackoverflow.com/users/7014629/networks"}, "is_accepted": false, "score": 1, "last_activity_date": 1572285647, "creation_date": 1572285647, "answer_id": 58596120, "question_id": 58592708, "link": "https://stackoverflow.com/questions/58592708/databinding-showing-null-value-on-first-remote-call/58596120#58596120", "title": "DataBinding showing null value on first remote call", "body": "<p>Set binding.lifecycleOwner in your fragment class in order for updates in LiveData objects to be reflected in corresponding views. Your fragment class should look like this:</p>\n\n<pre><code>class ProfileFragment : Fragment() {\n\n    private lateinit var binding: FragmentProfileBinding\n    private lateinit var viewModel: ProfileViewModel\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        binding = DataBindingUtil.inflate(\n            inflater,\n            R.layout.fragment_profile,\n            container,\n            false\n        )\n\n        viewModel = activity?.run {\n            ViewModelProviders.of(this)[ProfileViewModel::class.java]\n        } ?: throw Exception(\"Invalid Activity\")\n\n        binding.viewModel = viewModel \n\n        //add lifecycleOwner\n        binding.lifecycleOwner = this\n\n        return binding.root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        viewModel.getProfile(\n            \"aToken\"\n        )\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 8708, "user_id": 1246746, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/2a76d4174d0f059eed245367dd1ca097?s=128&d=identicon&r=PG", "display_name": "giozh", "link": "https://stackoverflow.com/users/1246746/giozh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572285647, "creation_date": 1572272697, "question_id": 58592708, "link": "https://stackoverflow.com/questions/58592708/databinding-showing-null-value-on-first-remote-call", "title": "DataBinding showing null value on first remote call", "body": "<p>In my app, i have a fragment that call a remote service for get user profile information and show it, and I've used DataBinding for show data.</p>\n\n<p>This is my layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=\"viewModel\"\n            type=\"com.myapp.ProfileViewModel\" /&gt;\n    &lt;/data&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/name\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@{viewModel.profile.firstName+ ' '+ viewModel.profile.lastName}\" /&gt;\n\n            &lt;!-- Other textviews --&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n\n<p>this is ProfileViewModel class</p>\n\n<pre><code>class ProfileViewModel : ViewModel() {\n\n    @Inject\n    lateinit var profileRepository: ProfileRepository\n\n    private var _profile = MutableLiveData&lt;Profile&gt;()\n    val profile: LiveData&lt;Profile&gt;\n        get() = _profile\n\n    fun getProfile(token: String) {\n        profileRepository.profile(\n            token,\n            {\n                // success\n                _profile.value = it.value\n            },\n            {\n               //error\n            }\n        )\n    }\n}\n\ndata class Profile(\n    firstName : String,\n    lastName : String,\n    // other fields\n)\n</code></pre>\n\n<p>And this is fragment where profile should be showed:</p>\n\n<pre><code>class ProfileFragment : Fragment() {\n\n    private lateinit var binding: FragmentProfileBinding\n    private lateinit var viewModel: ProfileViewModel\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        binding = DataBindingUtil.inflate(\n            inflater,\n            R.layout.fragment_profile,\n            container,\n            false\n        )\n\n        viewModel = activity?.run {\n            ViewModelProviders.of(this)[ProfileViewModel::class.java]\n        } ?: throw Exception(\"Invalid Activity\")\n\n        binding.viewModel = viewModel\n\n        return binding.root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        viewModel.getProfile(\n            \"aToken\"\n        )\n    }\n}\n</code></pre>\n\n<p>Now it happen that first time i open fragment, repository call service and get data correctly, but \"null\" is showed inside textviews. If i close fragment and i reopen it, edittext are populate correctly. What's wrong with my code? </p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore", "snapshot"], "answers": [{"comments": [{"owner": {"reputation": 222, "user_id": 11362457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f66d2265e1bd4a5b6a62b2521f72b0?s=128&d=identicon&r=PG&f=1", "display_name": "Jorn", "link": "https://stackoverflow.com/users/11362457/jorn"}, "edited": false, "score": 0, "creation_date": 1572271779, "post_id": 58592367, "comment_id": 103497861, "body": "I see now. I recognize you, you&#39;re the one in that video. Thanks for answering my question. Just voted-up. I cannot mark this answer as accepted. I&#39;ll make it after 8 minutes."}, {"owner": {"reputation": 222, "user_id": 11362457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f66d2265e1bd4a5b6a62b2521f72b0?s=128&d=identicon&r=PG&f=1", "display_name": "Jorn", "link": "https://stackoverflow.com/users/11362457/jorn"}, "edited": false, "score": 0, "creation_date": 1572271839, "post_id": 58592367, "comment_id": 103497901, "body": "One more small question, so if we check the exception for nullity the snapshot is not necessary to be checked, right?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 222, "user_id": 11362457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f66d2265e1bd4a5b6a62b2521f72b0?s=128&d=identicon&r=PG&f=1", "display_name": "Jorn", "link": "https://stackoverflow.com/users/11362457/jorn"}, "edited": false, "score": 0, "creation_date": 1572272194, "post_id": 58592367, "comment_id": 103498085, "body": "As I said, at least one of the two.  You choose which one."}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1572271463, "creation_date": 1572271463, "answer_id": 58592367, "question_id": 58592329, "link": "https://stackoverflow.com/questions/58592329/is-checking-for-nullity-required-in-case-of-a-firestore-snapshot/58592367#58592367", "title": "Is checking for nullity required in case of a Firestore snapshot?", "body": "<p>You will need to check at least one of the two parameters for null.  If you blindly use one or the other without first checking, you could run into an exception, because you don't know ahead of time which will be non-null.</p>\n"}], "owner": {"reputation": 222, "user_id": 11362457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f66d2265e1bd4a5b6a62b2521f72b0?s=128&d=identicon&r=PG&f=1", "display_name": "Jorn", "link": "https://stackoverflow.com/users/11362457/jorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 58592367, "answer_count": 1, "score": 0, "last_activity_date": 1572271463, "creation_date": 1572271306, "question_id": 58592329, "link": "https://stackoverflow.com/questions/58592329/is-checking-for-nullity-required-in-case-of-a-firestore-snapshot", "title": "Is checking for nullity required in case of a Firestore snapshot?", "body": "<p>I started to rewrite my app using Architecture Components using the instructions in this video:</p>\n\n<blockquote>\n  <p><a href=\"https://www.youtube.com/watch?v=fu2K3lOU3N0#t=6m50s\" rel=\"nofollow noreferrer\">Firebase and Android Jetpack: fit like a glove (Doug Stevenson)</a>:</p>\n</blockquote>\n\n<pre><code>ref.addSnapshotListener { snapshot, exception -&gt;\n    if(snapshot != null) {\n        //Do stuff\n    }\n}\n</code></pre>\n\n<p>I see we can get a <code>snapshot</code> or an <code>exception</code> and never both. So in this case, is this nullity check really needed?</p>\n"}]